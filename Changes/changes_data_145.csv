id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fglance~stable%2Fxena~I4a1d23a1e563493f2ace8e6b4b3f5a812fad5b52,openstack/glance,stable/xena,I4a1d23a1e563493f2ace8e6b4b3f5a812fad5b52,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-16 11:07:20.000000000,2021-09-16 12:52:07.000000000,2021-09-16 12:27:14.000000000,"[{'_account_id': 5202}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-16 11:07:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/9e2aaf1d3c902f26fcfbcbbd7e0464a39204508d', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I4a1d23a1e563493f2ace8e6b4b3f5a812fad5b52\n'}]",0,809403,9e2aaf1d3c902f26fcfbcbbd7e0464a39204508d,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I4a1d23a1e563493f2ace8e6b4b3f5a812fad5b52
",git fetch https://review.opendev.org/openstack/glance refs/changes/03/809403/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9e2aaf1d3c902f26fcfbcbbd7e0464a39204508d,create-xena,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
openstack%2Fos-brick~master~Ic2853641c50afb1456222ea2eb9fcb3766678331,openstack/os-brick,master,Ic2853641c50afb1456222ea2eb9fcb3766678331,Fix instance hard reboot error,NEW,2021-03-15 09:14:27.000000000,2021-09-16 12:50:54.000000000,,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 23729}, {'_account_id': 26458}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-03-15 09:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9b26f52c7ed392a758b8297132bfdab75893dd5f', 'message': 'Fix instance hard reboot error\n\nWhen multipath has failed path,\nthen we reboot the instance, the instance will be error\nbecause when hard reboot the instance, the disconnect_volume\nflow will get the paths wwn,when loop the failed path,get wwn\ncommand will be failed and raise exception,this will cause\nthe instance failed.\n\nCloses-Bug: #1919132\nChange-Id: Ic2853641c50afb1456222ea2eb9fcb3766678331\n'}, {'number': 2, 'created': '2021-03-15 09:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/ddf89b78988097c618e7a21afcd7d0d16b8fccdc', 'message': 'Fix instance hard reboot error\n\nWhen multipath has failed path,\nthen we reboot the instance, the instance will be error\nbecause when hard reboot the instance, the disconnect_volume\nflow will get the paths wwn,when loop the failed path,get wwn\ncommand will be failed and raise exception,this will cause\nthe instance failed.\n\nCloses-Bug: #1919132\nChange-Id: Ic2853641c50afb1456222ea2eb9fcb3766678331\n'}, {'number': 3, 'created': '2021-03-18 03:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e324543077cb2c79ef41f36d09ed3d4212bb0d58', 'message': 'Fix instance hard reboot error\n\nWhen multipath has failed path,\nthen we reboot the instance, the instance will be error\nbecause when hard reboot the instance, the disconnect_volume\nflow will get the paths wwn,when loop the failed path,get wwn\ncommand will be failed and raise exception,this will cause\nthe instance failed.\n\nCloses-Bug: #1919132\nChange-Id: Ic2853641c50afb1456222ea2eb9fcb3766678331\n'}, {'number': 4, 'created': '2021-05-01 07:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/94ee89abde78faf56bd394f5b4f7625c2b66a73f', 'message': 'Fix instance hard reboot error\n\nWhen multipath has failed path,\nthen we reboot the instance, the instance will be error\nbecause when hard reboot the instance, the disconnect_volume\nflow will get the paths wwn,when loop the failed path,get wwn\ncommand will be failed and raise exception,this will cause\nthe instance failed.\n\nCloses-Bug: #1919132\nChange-Id: Ic2853641c50afb1456222ea2eb9fcb3766678331\n'}, {'number': 5, 'created': '2021-05-01 09:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/286181f052488a3340848457c0168e021f30271e', 'message': 'Fix instance hard reboot error\n\nWhen multipath has failed path,\nthen we reboot the instance, the instance will be error\nbecause when hard reboot the instance, the disconnect_volume\nflow will get the paths wwn,when loop the failed path,get wwn\ncommand will be failed and raise exception,this will cause\nthe instance failed.\n\nCloses-Bug: #1919132\nChange-Id: Ic2853641c50afb1456222ea2eb9fcb3766678331\n'}, {'number': 6, 'created': '2021-05-02 00:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/13ad0aaf172af2edd13ac2631ce3328600932823', 'message': 'Fix instance hard reboot error\n\nWhen multipath has failed path,\nthen we reboot the instance, the instance will be error\nbecause when hard reboot the instance, the disconnect_volume\nflow will get the paths wwn,when loop the failed path,get wwn\ncommand will be failed and raise exception,this will cause\nthe instance failed.\n\nCloses-Bug: #1919132\nChange-Id: Ic2853641c50afb1456222ea2eb9fcb3766678331\n'}, {'number': 7, 'created': '2021-05-02 02:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/c7b2cf4046f72b87734296dbe1b0e6387154b45f', 'message': 'Fix instance hard reboot error\n\nWhen multipath has failed path,\nthen we reboot the instance, the instance will be error\nbecause when hard reboot the instance, the disconnect_volume\nflow will get the paths wwn,when loop the failed path,get wwn\ncommand will be failed and raise exception,this will cause\nthe instance failed.\n\nCloses-Bug: #1919132\nChange-Id: Ic2853641c50afb1456222ea2eb9fcb3766678331\n'}, {'number': 8, 'created': '2021-05-02 06:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d457972f72b7693a0b2b755b346de1c7dc7c623b', 'message': 'Fix instance hard reboot error\n\nWhen multipath has failed path,\nthen we reboot the instance, the instance will be error\nbecause when hard reboot the instance, the disconnect_volume\nflow will get the paths wwn,when loop the failed path,get wwn\ncommand will be failed and raise exception,this will cause\nthe instance failed.\n\nCloses-Bug: #1919132\nChange-Id: Ic2853641c50afb1456222ea2eb9fcb3766678331\n'}, {'number': 9, 'created': '2021-05-02 07:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/6b6e6482147c6f960af1067ae0260ab3d5bb52df', 'message': 'Fix instance hard reboot error\n\nWhen multipath has failed path,\nthen we reboot the instance, the instance will be error\nbecause when hard reboot the instance, the disconnect_volume\nflow will get the paths wwn,when loop the failed path,get wwn\ncommand will be failed and raise exception,this will cause\nthe instance failed.\n\nCloses-Bug: #1919132\nChange-Id: Ic2853641c50afb1456222ea2eb9fcb3766678331\n'}, {'number': 10, 'created': '2021-05-08 00:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9d4ce8f9a9f13b7a65f6c1b288dc2d8fc5cf5d36', 'message': 'Fix instance hard reboot error\n\nWhen multipath has failed path,\nthen we reboot the instance, the instance will be error\nbecause when hard reboot the instance, the disconnect_volume\nflow will get the paths wwn,when loop the failed path,get wwn\ncommand will be failed and raise exception,this will cause\nthe instance failed.\n\nCloses-Bug: #1919132\nChange-Id: Ic2853641c50afb1456222ea2eb9fcb3766678331\n'}, {'number': 11, 'created': '2021-05-08 05:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/451aee0222b6b8a9d60d471915ecb232428230ae', 'message': 'Fix instance hard reboot error\n\nWhen multipath has failed path,\nthen we reboot the instance, the instance will be error\nbecause when hard reboot the instance, the disconnect_volume\nflow will get the paths wwn,when loop the failed path,get wwn\ncommand will be failed and raise exception,this will cause\nthe instance failed.\n\nCloses-Bug: #1919132\nChange-Id: Ic2853641c50afb1456222ea2eb9fcb3766678331\n'}, {'number': 12, 'created': '2021-05-08 07:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e97b860c941367441cd11ca44cc087ada95da2ae', 'message': 'Fix instance hard reboot error\n\nWhen multipath has failed path,\nthen we reboot the instance, the instance will be error\nbecause when hard reboot the instance, the disconnect_volume\nflow will get the paths wwn,when loop the failed path,get wwn\ncommand will be failed and raise exception,this will cause\nthe instance failed.\n\nCloses-Bug: #1919132\nChange-Id: Ic2853641c50afb1456222ea2eb9fcb3766678331\n'}, {'number': 13, 'created': '2021-06-04 02:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/192052c4d6aa078ce4f517c2cc33f5d4ebe17030', 'message': 'Fix instance hard reboot error\n\nif there have failed path, we continue the process.\n\nWhen multipath has failed path,\nthen we reboot the instance, the instance will be error\nbecause when hard reboot the instance, the disconnect_volume\nflow will get the paths wwn,when loop the failed path,get wwn\ncommand will be failed and raise exception,this will cause\nthe instance failed.\n\nCloses-Bug: #1919132\nChange-Id: Ic2853641c50afb1456222ea2eb9fcb3766678331\n'}, {'number': 14, 'created': '2021-06-28 07:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a0b307919451cd25bb743072d627b28b87677163', 'message': 'Fix instance hard reboot error\n\nif there have failed path, we continue the process.\n\nWhen multipath has failed path,\nthen we reboot the instance, the instance will be error\nbecause when hard reboot the instance, the disconnect_volume\nflow will get the paths wwn,when loop the failed path,get wwn\ncommand will be failed and raise exception,this will cause\nthe instance failed.\n\nCloses-Bug: #1919132\nChange-Id: Ic2853641c50afb1456222ea2eb9fcb3766678331\n'}, {'number': 15, 'created': '2021-08-19 01:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e244d020ba40b1ec9ff60f62f368db5443a61931', 'message': 'Fix instance hard reboot error\n\nif there have failed path, we continue the process.\n\nWhen multipath has failed path,\nthen we reboot the instance, the instance will be error\nbecause when hard reboot the instance, the disconnect_volume\nflow will get the paths wwn,when loop the failed path,get wwn\ncommand will be failed and raise exception,this will cause\nthe instance failed.\n\nCloses-Bug: #1919132\nChange-Id: Ic2853641c50afb1456222ea2eb9fcb3766678331\n'}, {'number': 16, 'created': '2021-08-30 00:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d768c6ee76216031c8cc68b022a1208ad3ebb12c', 'message': 'Fix instance hard reboot error\n\nif there have failed path, we continue the process.\n\nWhen multipath has failed path,\nthen we reboot the instance, the instance will be error\nbecause when hard reboot the instance, the disconnect_volume\nflow will get the paths wwn,when loop the failed path,get wwn\ncommand will be failed and raise exception,this will cause\nthe instance failed.\n\nCloses-Bug: #1919132\nChange-Id: Ic2853641c50afb1456222ea2eb9fcb3766678331\n'}, {'number': 17, 'created': '2021-09-15 02:54:31.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/initiator/connectors/fibre_channel.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e63d9249beca91928a88e89172d196e4cca889a4', 'message': 'Fix instance hard reboot error\n\nif there have failed path, we continue the process.\n\nWhen multipath has failed path,\nthen we reboot the instance, the instance will be error\nbecause when hard reboot the instance, the disconnect_volume\nflow will get the paths wwn,when loop the failed path,get wwn\ncommand will be failed and raise exception,this will cause\nthe instance failed.\n\nCloses-Bug: #1919132\nChange-Id: Ic2853641c50afb1456222ea2eb9fcb3766678331\n'}]",45,780511,e63d9249beca91928a88e89172d196e4cca889a4,196,7,17,30092,,,0,"Fix instance hard reboot error

if there have failed path, we continue the process.

When multipath has failed path,
then we reboot the instance, the instance will be error
because when hard reboot the instance, the disconnect_volume
flow will get the paths wwn,when loop the failed path,get wwn
command will be failed and raise exception,this will cause
the instance failed.

Closes-Bug: #1919132
Change-Id: Ic2853641c50afb1456222ea2eb9fcb3766678331
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/11/780511/5 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connectors/fibre_channel.py'],1,9b26f52c7ed392a758b8297132bfdab75893dd5f,bug/1919132," try: wwn = self._linuxscsi.get_scsi_wwn(path) except Exception: LOG.warning(""Get wwn of device: %s failed."" % real_path) continue", wwn = self._linuxscsi.get_scsi_wwn(path),5,1
openstack%2Fironic~master~Ifde4656b4edd387ce2db2dbfc4c5ede261fafc70,openstack/ironic,master,Ifde4656b4edd387ce2db2dbfc4c5ede261fafc70,Fix clear foreign config in idrac-redfish RAID,MERGED,2021-08-17 11:55:51.000000000,2021-09-16 12:47:36.000000000,2021-09-16 12:27:17.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-08-17 11:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bcc3dbf3f94c601d2a3c7a8d1fc75caf3b5f58e3', 'message': 'Add clear foreign config to idrac-redfish\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/800071\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/800269\nChange-Id: Ifde4656b4edd387ce2db2dbfc4c5ede261fafc70\n'}, {'number': 2, 'created': '2021-08-26 15:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/75af0788050f8bbae20978a10feb82dd8a1331b1', 'message': 'Add clear foreign config to idrac-redfish RAID\n\nAfter volumes are deleted in Redfish RAID also\nclear foreign config if there is any.\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/800071\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/800269\nChange-Id: Ifde4656b4edd387ce2db2dbfc4c5ede261fafc70\n'}, {'number': 3, 'created': '2021-08-30 10:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/db956528a787d843d737a4d5d754d03706046137', 'message': 'Add clear foreign config to idrac-redfish RAID\n\nAfter volumes are deleted in Redfish RAID also\nclear foreign config if there is any.\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/800071\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/800269\nChange-Id: Ifde4656b4edd387ce2db2dbfc4c5ede261fafc70\n'}, {'number': 4, 'created': '2021-08-31 11:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9cc696cc795b1aa1989ffbdeb34125459ee89ef6', 'message': 'Add clear foreign config to idrac-redfish RAID\n\nAfter volumes are deleted in Redfish RAID also\nclear foreign config if there is any.\n\nStory: 2009160\nTask: 43145\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/800071\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/800269\nChange-Id: Ifde4656b4edd387ce2db2dbfc4c5ede261fafc70\n'}, {'number': 5, 'created': '2021-09-01 12:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2b10e1c476850b12e7de44b2199d5807f6d0f5f4', 'message': 'Add clear foreign config to idrac-redfish RAID\n\nAfter volumes are deleted in Redfish RAID also\nclear foreign config if there is any.\n\nStory: 2009160\nTask: 43145\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/806888\nChange-Id: Ifde4656b4edd387ce2db2dbfc4c5ede261fafc70\n'}, {'number': 6, 'created': '2021-09-06 08:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/79e3110997eb0aab1c0c4b012e4d85fe1b87c11f', 'message': 'Fix clear foreign config in idrac-redfish RAID\n\nAfter volumes are deleted in Redfish RAID also\nclear foreign config if there is any.\n\nStory: 2009160\nTask: 43145\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/806888\nChange-Id: Ifde4656b4edd387ce2db2dbfc4c5ede261fafc70\n'}, {'number': 7, 'created': '2021-09-07 16:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e401a9670d3bfebd5047a3ee594d04c0cd9d7de0', 'message': 'Fix clear foreign config in idrac-redfish RAID\n\nAfter volumes are deleted in Redfish RAID also\nclear foreign config if there is any.\n\nStory: 2009160\nTask: 43145\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/806888\nChange-Id: Ifde4656b4edd387ce2db2dbfc4c5ede261fafc70\n'}, {'number': 8, 'created': '2021-09-13 09:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bffd7a7f2d3d768d4613654592c4f38180088602', 'message': 'Fix clear foreign config in idrac-redfish RAID\n\nAfter volumes are deleted in Redfish RAID also\nclear foreign config if there is any.\n\nStory: 2009160\nTask: 43145\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/806888\nChange-Id: Ifde4656b4edd387ce2db2dbfc4c5ede261fafc70\n'}, {'number': 9, 'created': '2021-09-14 07:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1a97c9325d9ea451e11c798c5b588ee59c47c7f8', 'message': 'Fix clear foreign config in idrac-redfish RAID\n\nAfter volumes are deleted in Redfish RAID also\nclear foreign config if there is any.\n\nStory: 2009160\nTask: 43145\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/806888\nChange-Id: Ifde4656b4edd387ce2db2dbfc4c5ede261fafc70\n'}, {'number': 10, 'created': '2021-09-14 13:44:50.000000000', 'files': ['releasenotes/notes/idrac-redfish-raid-clear-foreign-config-9ce4ec35cf6d7225.yaml', 'ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'driver-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/50c87cf63300dfd33bcf752acac06559ceb857b3', 'message': 'Fix clear foreign config in idrac-redfish RAID\n\nAfter volumes are deleted in Redfish RAID also\nclear foreign config if there is any.\n\nStory: 2009160\nTask: 43145\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/806888\nChange-Id: Ifde4656b4edd387ce2db2dbfc4c5ede261fafc70\n'}]",30,804848,50c87cf63300dfd33bcf752acac06559ceb857b3,81,5,10,27909,,,0,"Fix clear foreign config in idrac-redfish RAID

After volumes are deleted in Redfish RAID also
clear foreign config if there is any.

Story: 2009160
Task: 43145

Depends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/806888
Change-Id: Ifde4656b4edd387ce2db2dbfc4c5ede261fafc70
",git fetch https://review.opendev.org/openstack/ironic refs/changes/48/804848/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py']",4,bcc3dbf3f94c601d2a3c7a8d1fc75caf3b5f58e3,idrac-redfish-raid," PHYSICAL_DISK_STATE_MODE_NONRAID=nonraidmode, JOB_TYPE_RT_NO_REBOOT_CONF=mock.sentinel.JOB_TYPE_RT_NO_REBOOT_CONF, JOB_TYPE_RAID_CONF=mock.sentinel.JOB_TYPE_RAID_CONF", PHYSICAL_DISK_STATE_MODE_NONRAID=nonraidmode,579,10
openstack%2Fcinder~master~Id14ca7ac4432090dfbf8f5671cdf90a38dc88033,openstack/cinder,master,Id14ca7ac4432090dfbf8f5671cdf90a38dc88033,Nimble: Add Alletra 6k related information,MERGED,2021-08-31 10:53:01.000000000,2021-09-16 12:47:34.000000000,2021-09-16 12:26:55.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 12670}, {'_account_id': 16373}, {'_account_id': 22348}, {'_account_id': 32266}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-08-31 10:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/50c027047db93166b3b7db27b1254c27f5236c3f', 'message': 'Nimble: Add Alletra 6k related information\n\nIn documentation, added information about HPE Alletra 6k\nstorage system. Alletra 6k is newer version of existing\nNimble storage system.\n\nChange-Id: Id14ca7ac4432090dfbf8f5671cdf90a38dc88033\n'}, {'number': 2, 'created': '2021-09-06 11:44:37.000000000', 'files': ['releasenotes/notes/nimble-add-alletra-6k-info-8d242a809e6044a5.yaml', 'doc/source/configuration/block-storage/drivers/nimble-volume-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/40374deace761736b898519e4e4360158217d8e6', 'message': 'Nimble: Add Alletra 6k related information\n\nIn documentation, added information about HPE Alletra 6k\nstorage system. Alletra 6k is newer version of existing\nNimble storage system.\n\nChange-Id: Id14ca7ac4432090dfbf8f5671cdf90a38dc88033\n'}]",0,806725,40374deace761736b898519e4e4360158217d8e6,71,7,2,29122,,,0,"Nimble: Add Alletra 6k related information

In documentation, added information about HPE Alletra 6k
storage system. Alletra 6k is newer version of existing
Nimble storage system.

Change-Id: Id14ca7ac4432090dfbf8f5671cdf90a38dc88033
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/806725/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/nimble-volume-driver.rst'],1,50c027047db93166b3b7db27b1254c27f5236c3f,,"========================================= Nimble & Alletra 6k Storage volume driver =========================================and Alletra 6k Storage array features through Block Storage interfaces.For Xena release, Nimble OS 5.3 or later is used and Alletra OS 6.0 or later is used. Nimble and Alletra 6k Storage Cinder driver does not support port binding with multiple interfaces on the same subnet due to existing limitation in os-brick. This is partially referenced in the bugNimble and Alletra 6k Storage driver configuration ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Note: These parameters apply to Alletra 6k Storage as well. Management IP address of Nimble/Alletra 6k Storage array/group. Nimble/Alletra 6k Storage account login with minimum ``power user`` (admin) privilege if RBAC is used. Password of the admin account for Nimble/Alletra 6k array. Nimble/Alletra 6k array and should be enabled for every volume in a volume type. FOLDER_NAME is the name of the folder which exists on the Nimble/Alletra 6k array and should be enabled for every volume in a volume typeThe Nimble/Alletra 6k storage driver supports these configuration options:",============================ Nimble Storage volume driver ============================Storage array features through Block Storage interfaces.Nimble Storage Cinder driver does not support port binding with multiple interfaces on the same subnet due to existing limitation in os-brick. This is partially referenced in the bugNimble Storage driver configuration ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Management IP address of Nimble Storage array/group. Nimble Storage account login with minimum ``power user`` (admin) privilege if RBAC is used. Password of the admin account for nimble array. Nimble array and should be enabled for every volume in a volume type. FOLDER_NAME is the name of the folder which exists on the Nimble array and should be enabled for every volume in a volume typeThe Nimble storage driver supports these configuration options:,22,17
openstack%2Fglance~master~I68a09c10d9975cf0a72e6b82f7bd9c79318dc826,openstack/glance,master,I68a09c10d9975cf0a72e6b82f7bd9c79318dc826,Update master for stable/xena,MERGED,2021-09-16 11:07:22.000000000,2021-09-16 12:47:32.000000000,2021-09-16 12:27:10.000000000,"[{'_account_id': 5202}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-16 11:07:22.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/d7b667436c81bd64db49f4755d59d0cb32ff8f55', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: I68a09c10d9975cf0a72e6b82f7bd9c79318dc826\n'}]",0,809404,d7b667436c81bd64db49f4755d59d0cb32ff8f55,7,2,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: I68a09c10d9975cf0a72e6b82f7bd9c79318dc826
",git fetch https://review.opendev.org/openstack/glance refs/changes/04/809404/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,d7b667436c81bd64db49f4755d59d0cb32ff8f55,reno-xena, xena,,7,0
openstack%2Fglance~stable%2Fxena~I839b47af88ff4d67e9b671803f2a279291c6a142,openstack/glance,stable/xena,I839b47af88ff4d67e9b671803f2a279291c6a142,Update .gitreview for stable/xena,MERGED,2021-09-16 11:07:18.000000000,2021-09-16 12:47:31.000000000,2021-09-16 12:27:07.000000000,"[{'_account_id': 5202}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-16 11:07:18.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/glance/commit/289c7d1670e954f028f85af71037bf868b161115', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I839b47af88ff4d67e9b671803f2a279291c6a142\n'}]",0,809402,289c7d1670e954f028f85af71037bf868b161115,7,2,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I839b47af88ff4d67e9b671803f2a279291c6a142
",git fetch https://review.opendev.org/openstack/glance refs/changes/02/809402/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,289c7d1670e954f028f85af71037bf868b161115,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fneutron~stable%2Fussuri~I78af15970a86923fb810e903d38634b6e60a8fe4,openstack/neutron,stable/ussuri,I78af15970a86923fb810e903d38634b6e60a8fe4,Fix neutron_pg_drop-related startup issues,MERGED,2021-09-14 13:49:28.000000000,2021-09-16 12:47:30.000000000,2021-09-16 12:26:48.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 13:49:28.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1327a543370abcedcbee75d4653987fa27f34c83', 'message': ""Fix neutron_pg_drop-related startup issues\n\nThere is a python-ovs bug that allows transactions to be executed\nbefore it has started monitoring the db for changes. This breaks\novsdbapp's AddCommand behavior, which looks up a row in memory\npost-commit to return it to the caller, because we process the\nreply from ovsdb-server that has the UUID in it, but when we try to\nlook it up in memory, it isn't there since that is handled via the\nmonitor notifications.\n\nSince we don't care about the return value, we can just ignore the\nKeyError. In addition, the request to Idl.cond_change() to monitor\nonly the neutron_pg_drop table was failing for a similar reason--\nit is called before the initial monitor request is sent, so\ndirectly setting table.condition will allow the condition to be\nadded to the initial monitor request.\n\nConflicts:\n  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n\nCloses-Bug: #1938766\nChange-Id: I78af15970a86923fb810e903d38634b6e60a8fe4\n(cherry picked from commit 76ee64f4a8095ba207872d5de9613f93f208fdd4)\n""}]",0,808865,1327a543370abcedcbee75d4653987fa27f34c83,10,3,1,5756,,,0,"Fix neutron_pg_drop-related startup issues

There is a python-ovs bug that allows transactions to be executed
before it has started monitoring the db for changes. This breaks
ovsdbapp's AddCommand behavior, which looks up a row in memory
post-commit to return it to the caller, because we process the
reply from ovsdb-server that has the UUID in it, but when we try to
look it up in memory, it isn't there since that is handled via the
monitor notifications.

Since we don't care about the return value, we can just ignore the
KeyError. In addition, the request to Idl.cond_change() to monitor
only the neutron_pg_drop table was failing for a similar reason--
it is called before the initial monitor request is sent, so
directly setting table.condition will allow the condition to be
added to the initial monitor request.

Conflicts:
  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py

Closes-Bug: #1938766
Change-Id: I78af15970a86923fb810e903d38634b6e60a8fe4
(cherry picked from commit 76ee64f4a8095ba207872d5de9613f93f208fdd4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/808865/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",2,1327a543370abcedcbee75d4653987fa27f34c83,," except KeyError: # Due to a bug in python-ovs, we can send transactions before # the initial OVSDB is populated in memory. This can break # the AddCommand post_commit method which tries to return a # row looked up by the newly commited row's uuid. Since we # don't care about the return value from the PgAddCommand, we # can just catch the KeyError and continue. This can be # removed when the python-ovs bug is resolved. pass",,14,3
openstack%2Fmonasca-agent~master~I2931acfa82af41b63d2e9a0e7a257a983cbeb707,openstack/monasca-agent,master,I2931acfa82af41b63d2e9a0e7a257a983cbeb707,Add Python3 yoga unit tests,MERGED,2021-09-16 07:59:15.000000000,2021-09-16 12:27:29.000000000,2021-09-16 12:27:29.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-09-16 07:59:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/d30e12fde8a6d0923b44a015fd83a5c8060404e8', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I2931acfa82af41b63d2e9a0e7a257a983cbeb707\n'}]",0,809342,d30e12fde8a6d0923b44a015fd83a5c8060404e8,6,2,1,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I2931acfa82af41b63d2e9a0e7a257a983cbeb707
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/42/809342/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d30e12fde8a6d0923b44a015fd83a5c8060404e8,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Fneutron-dynamic-routing~master~I986a56b2082aa7e8999f4c19baa3fea5fabe978a,openstack/neutron-dynamic-routing,master,I986a56b2082aa7e8999f4c19baa3fea5fabe978a,Add Python3 yoga unit tests,MERGED,2021-09-15 02:16:39.000000000,2021-09-16 12:19:25.000000000,2021-09-16 12:12:24.000000000,"[{'_account_id': 8313}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:16:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/9913a08bde7e93a83e3a7f5663f89effbe87f565', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I986a56b2082aa7e8999f4c19baa3fea5fabe978a\n'}]",0,809091,9913a08bde7e93a83e3a7f5663f89effbe87f565,8,3,1,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I986a56b2082aa7e8999f4c19baa3fea5fabe978a
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/91/809091/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9913a08bde7e93a83e3a7f5663f89effbe87f565,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs-neutron, - openstack-python3-xena-jobs-neutron,1,1
openstack%2Fkolla-ansible~master~I3d023f6a7d6cf402d8afa908ed344c1f37db8617,openstack/kolla-ansible,master,I3d023f6a7d6cf402d8afa908ed344c1f37db8617,Trivial fix neutron's agent configuration,ABANDONED,2021-08-19 08:46:14.000000000,2021-09-16 12:03:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-19 08:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/106074656762165d305dd275fdf10d80ee5619c0', 'message': ""Trivial fix neutron's agent configuration\n\nThis patch replacing hardcoded value with\novsdb_port variable from kolla_ansible.\n\nChange-Id: I3d023f6a7d6cf402d8afa908ed344c1f37db8617\n""}, {'number': 2, 'created': '2021-08-19 20:10:25.000000000', 'files': ['ansible/roles/neutron/templates/neutron_ovn_metadata_agent.ini.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/60b979bc2fe0aaec6ac23110a470c8e62d795a09', 'message': ""Trivial fix neutron's agent configuration\n\nThis patch replacing hardcoded value with\novsdb_port variable from groups_vars/all.yml.\n\nChange-Id: I3d023f6a7d6cf402d8afa908ed344c1f37db8617\n""}]",0,805166,60b979bc2fe0aaec6ac23110a470c8e62d795a09,7,1,2,27339,,,0,"Trivial fix neutron's agent configuration

This patch replacing hardcoded value with
ovsdb_port variable from groups_vars/all.yml.

Change-Id: I3d023f6a7d6cf402d8afa908ed344c1f37db8617
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/805166/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/templates/neutron_ovn_metadata_agent.ini.j2'],1,106074656762165d305dd275fdf10d80ee5619c0,,ovsdb_connection = tcp:127.0.0.1:{{ ovsdb_port }},ovsdb_connection = tcp:127.0.0.1:6640,1,1
openstack%2Fmonasca-common~master~Iac0dcd0f3c1623e4aa65e36b4ae7bf9f90aff470,openstack/monasca-common,master,Iac0dcd0f3c1623e4aa65e36b4ae7bf9f90aff470,Add Python3 yoga unit tests,MERGED,2021-09-10 14:32:03.000000000,2021-09-16 11:57:50.000000000,2021-09-16 11:57:50.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-09-10 14:32:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/c3a3f23005fc6032a923b6b08c5023b2aa48553a', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Iac0dcd0f3c1623e4aa65e36b4ae7bf9f90aff470\n'}]",0,808249,c3a3f23005fc6032a923b6b08c5023b2aa48553a,6,2,1,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Iac0dcd0f3c1623e4aa65e36b4ae7bf9f90aff470
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/49/808249/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c3a3f23005fc6032a923b6b08c5023b2aa48553a,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Fmistral~stable%2Fstein~Icabf2bfcda8cecf3fe4e5d19b7376af92a2ab7d3,openstack/mistral,stable/stein,Icabf2bfcda8cecf3fe4e5d19b7376af92a2ab7d3,Remove jobs corresponds to obselete featuresets,NEW,2021-09-16 11:01:07.000000000,2021-09-16 11:54:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-16 11:01:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/c5d2bdc7c4a75db1571fe1ed4e1d921358c86a7d', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts.\nAnd this branch is also EOL for TripleO.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: Icabf2bfcda8cecf3fe4e5d19b7376af92a2ab7d3\n'}]",0,809397,c5d2bdc7c4a75db1571fe1ed4e1d921358c86a7d,2,1,1,20182,,,0,"Remove jobs corresponds to obselete featuresets

As we are removing the jobs which are using the obselete featuresets [1]
so removing those jobs from templates/layouts.
And this branch is also EOL for TripleO.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: Icabf2bfcda8cecf3fe4e5d19b7376af92a2ab7d3
",git fetch https://review.opendev.org/openstack/mistral refs/changes/97/809397/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c5d2bdc7c4a75db1571fe1ed4e1d921358c86a7d,cleanup-featuresets-from-old-branches,," # TripleO jobs that deploy Mistral. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - tripleo-ci-centos-7-scenario003-standalone: voting: false - tripleo-ci-centos-7-containers-multinode: voting: false # - tripleo-ci-centos-7-scenario003-standalone # - tripleo-ci-centos-7-undercloud-containers",0,11
openstack%2Fec2-api~stable%2Frocky~I0cdc9144b37335c1e4d5fc62c2093335b8a5453d,openstack/ec2-api,stable/rocky,I0cdc9144b37335c1e4d5fc62c2093335b8a5453d,Remove jobs corresponds to obselete featuresets,MERGED,2021-09-14 13:51:22.000000000,2021-09-16 11:43:05.000000000,2021-09-16 11:43:05.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 13:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/7608b5873a0d933467aaa7169bbdbb81d3a926e9', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0cdc9144b37335c1e4d5fc62c2093335b8a5453d\n'}, {'number': 2, 'created': '2021-09-14 13:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/6964eeb7380682d91395116822ada59f0c031cb8', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0cdc9144b37335c1e4d5fc62c2093335b8a5453d\n'}, {'number': 3, 'created': '2021-09-15 12:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/be25363baf4276861d6af24bec9025bfea3b0e11', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0cdc9144b37335c1e4d5fc62c2093335b8a5453d\n'}, {'number': 4, 'created': '2021-09-15 13:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/7caf507f22a3a239cb6164ec0ac1bc6ea50c5848', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0cdc9144b37335c1e4d5fc62c2093335b8a5453d\n'}, {'number': 5, 'created': '2021-09-16 06:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/ced5b9e288fff81178405af02fc188c7540e9c4c', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0cdc9144b37335c1e4d5fc62c2093335b8a5453d\n'}, {'number': 6, 'created': '2021-09-16 08:35:59.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/97e9e63b61f7a846d5eed262bd3b570ad97e5d82', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0cdc9144b37335c1e4d5fc62c2093335b8a5453d\n'}]",0,808866,97e9e63b61f7a846d5eed262bd3b570ad97e5d82,17,2,6,20182,,,0,"Remove jobs corresponds to obselete featuresets

As we are removing the jobs which are using the obselete featuresets [1]
so removing those jobs from templates/layouts

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: I0cdc9144b37335c1e4d5fc62c2093335b8a5453d
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/66/808866/6 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7608b5873a0d933467aaa7169bbdbb81d3a926e9,cleanup-featuresets-from-old-branches-stable/rocky,<<<<<<< HEAD (d72c57 OpenDev Migration Patch)======= >>>>>>> CHANGE (477e68 Remove jobs corresponds to obselete featuresets),,3,0
openstack%2Fneutron-dynamic-routing~master~I4d57af49be77828435cc528cf206918677e4736d,openstack/neutron-dynamic-routing,master,I4d57af49be77828435cc528cf206918677e4736d,Update master for stable/xena,MERGED,2021-09-15 02:16:36.000000000,2021-09-16 11:39:03.000000000,2021-09-16 11:36:50.000000000,"[{'_account_id': 8313}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:16:36.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/f8c853fc994cc8fe7d06e0032c73c4141d83d388', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: I4d57af49be77828435cc528cf206918677e4736d\n'}]",0,809090,f8c853fc994cc8fe7d06e0032c73c4141d83d388,8,3,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: I4d57af49be77828435cc528cf206918677e4736d
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/90/809090/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,f8c853fc994cc8fe7d06e0032c73c4141d83d388,reno-xena, xena,,7,0
openstack%2Fstorlets~master~Ib73ccb76791873a434b9ba51f56912399dd9a7df,openstack/storlets,master,Ib73ccb76791873a434b9ba51f56912399dd9a7df,Fix wrong project name in release note index,MERGED,2021-09-15 23:20:27.000000000,2021-09-16 11:35:35.000000000,2021-09-16 11:31:33.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 23:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/2c8ef546123f1f18a3de60bcaf42aa8cbf365518', 'message': 'Fix wrong project name in release note index\n\nIt seems the file was created based on the one in Swift but project\nname in the file was not updated.\n\nChange-Id: Ib73ccb76791873a434b9ba51f56912399dd9a7df\n'}, {'number': 2, 'created': '2021-09-16 02:07:26.000000000', 'files': ['releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/storlets/commit/95df061fd831f23afa0d8cb0aa23234c36fec7c2', 'message': 'Fix wrong project name in release note index\n\nIt seems the file was created based on the one in Swift but project\nname in the file was not updated.\n\nChange-Id: Ib73ccb76791873a434b9ba51f56912399dd9a7df\n'}]",0,809298,95df061fd831f23afa0d8cb0aa23234c36fec7c2,9,2,2,9816,,,0,"Fix wrong project name in release note index

It seems the file was created based on the one in Swift but project
name in the file was not updated.

Change-Id: Ib73ccb76791873a434b9ba51f56912399dd9a7df
",git fetch https://review.opendev.org/openstack/storlets refs/changes/98/809298/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/index.rst'],1,2c8ef546123f1f18a3de60bcaf42aa8cbf365518,reno-proj-name, Storlets Release Notes, Swift Release Notes,1,1
openstack%2Fironic~master~I60a9bc3997740f2c0e6e003a260a213020d3dded,openstack/ironic,master,I60a9bc3997740f2c0e6e003a260a213020d3dded,Fix RAID steps for non-RAID in idrac-redfish,MERGED,2021-08-10 16:23:58.000000000,2021-09-16 11:35:30.000000000,2021-09-16 11:31:15.000000000,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-08-10 16:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a43052602ea1b84ed19ddccc2764f4f744e57f9b', 'message': 'Add RAID mode conversion for idrac-redfish\n\nWhen creating configuration convert eligible non-RAID drives\nto RAID mode.\nWhen deleting configuration convert eligible RAID drives to\nnon-RAID mode.\n\nThis is to have same behaviour as idrac-wsman RAID interface.\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/799506\nChange-Id: I60a9bc3997740f2c0e6e003a260a213020d3dded\n'}, {'number': 2, 'created': '2021-08-23 16:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/16888252f42606bb63801786abb2c5c048bb5384', 'message': 'Add RAID mode conversion for idrac-redfish\n\nWhen creating configuration convert eligible non-RAID drives\nto RAID mode.\nWhen deleting configuration convert eligible RAID drives to\nnon-RAID mode.\n\nThis is to have same behaviour as idrac-wsman RAID interface.\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/805655\nChange-Id: I60a9bc3997740f2c0e6e003a260a213020d3dded\n'}, {'number': 3, 'created': '2021-08-25 15:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ea0f7f0cb5cf06c15ecc62c4f00fee2505ad0449', 'message': 'Add RAID mode conversion for idrac-redfish\n\nWhen creating configuration convert eligible non-RAID drives\nto RAID mode and recalculates volume sizes when necessary\nafter conversion changes available disk size.\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/805655\nChange-Id: I60a9bc3997740f2c0e6e003a260a213020d3dded\n'}, {'number': 4, 'created': '2021-08-26 08:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1bc43455a8e164eac75226c5427b4719e61c3247', 'message': 'Add RAID mode conversion for idrac-redfish\n\nWhen creating configuration convert eligible non-RAID drives\nto RAID mode and recalculates volume sizes when necessary\nafter conversion changes available disk size.\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/805655\nChange-Id: I60a9bc3997740f2c0e6e003a260a213020d3dded\n'}, {'number': 5, 'created': '2021-08-30 09:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ddf433cfc97b0702851dbb39a12003001915f402', 'message': 'Add RAID mode conversion for idrac-redfish\n\nWhen creating configuration convert eligible non-RAID drives\nto RAID mode and recalculate volume sizes when necessary\nafter conversion changes available disk size.\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/805655\nChange-Id: I60a9bc3997740f2c0e6e003a260a213020d3dded\n'}, {'number': 6, 'created': '2021-08-31 11:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2fd60c48dbad5d21c27369f9839d44f0fabe428e', 'message': 'Add RAID mode conversion for idrac-redfish\n\nWhen creating configuration convert eligible non-RAID drives\nto RAID mode and recalculate volume sizes when necessary\nafter conversion changes available disk size.\n\nStory: 2009160\nTask: 43144\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/805655\nChange-Id: I60a9bc3997740f2c0e6e003a260a213020d3dded\n'}, {'number': 7, 'created': '2021-08-31 14:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f83afd5f81809a5bd95efd4d054cd5a0df431d1f', 'message': 'Add RAID mode conversion for idrac-redfish\n\nWhen creating configuration convert eligible non-RAID drives\nto RAID mode and recalculate volume sizes when necessary\nafter conversion changes available disk size.\n\nStory: 2009160\nTask: 43144\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/805655\nChange-Id: I60a9bc3997740f2c0e6e003a260a213020d3dded\n'}, {'number': 8, 'created': '2021-09-03 14:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/08f2f6246ba55ce433a59c12e973ae6785b24d0d', 'message': 'Fix RAID steps for non-RAID in idrac-redfish\n\nWhen creating configuration convert eligible non-RAID drives\nto RAID mode and recalculate volume sizes when necessary\nafter conversion changes available disk size.\n\nStory: 2009160\nTask: 43144\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/805655\nChange-Id: I60a9bc3997740f2c0e6e003a260a213020d3dded\n'}, {'number': 9, 'created': '2021-09-07 15:29:32.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/drivers/modules/redfish/raid.py', 'releasenotes/notes/idrac-redfish-raid-convert-from-nonraid-e9b5bbac89c71537.yaml', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/conf/drac.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f0b3695b3070d492f829b7ec5b84df1c8ace549c', 'message': 'Fix RAID steps for non-RAID in idrac-redfish\n\nWhen creating configuration convert eligible non-RAID drives\nto RAID mode and recalculate volume sizes when necessary\nafter conversion changes available disk size.\n\nStory: 2009160\nTask: 43144\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/805655\nChange-Id: I60a9bc3997740f2c0e6e003a260a213020d3dded\n'}]",32,804112,f0b3695b3070d492f829b7ec5b84df1c8ace549c,65,5,9,27909,,,0,"Fix RAID steps for non-RAID in idrac-redfish

When creating configuration convert eligible non-RAID drives
to RAID mode and recalculate volume sizes when necessary
after conversion changes available disk size.

Story: 2009160
Task: 43144

Depends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/805655
Change-Id: I60a9bc3997740f2c0e6e003a260a213020d3dded
",git fetch https://review.opendev.org/openstack/ironic refs/changes/12/804112/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/conf/drac.py', 'driver-requirements.txt', 'ironic/tests/unit/drivers/third_party_driver_mocks.py']",6,a43052602ea1b84ed19ddccc2764f4f744e57f9b,idrac-redfish-raid,"- sushy_oem_idracsushy_oem_idrac = importutils.try_import('sushy_oem_idrac') if not sushy_oem_idrac: raidmode = mock.sentinel.PHYSICAL_DISK_STATE_MODE_RAID nonraidmode = mock.sentinel.PHYSICAL_DISK_STATE_MODE_NONRAID sushy_oem_idrac = mock.MagicMock( spec_set=mock_specs.SUSHY_OEM_IDRAC_MOD_SPEC, PHYSICAL_DISK_STATE_MODE_RAID=raidmode, PHYSICAL_DISK_STATE_MODE_NONRAID=nonraidmode ) sys.modules['sushy_oem_idrac'] = sushy_oem_idrac",,180,2
openstack%2Fmonasca-statsd~master~I25e6a9cbedac8b1362aedb5cc46f9def341202c2,openstack/monasca-statsd,master,I25e6a9cbedac8b1362aedb5cc46f9def341202c2,Add Python3 yoga unit tests,MERGED,2021-09-10 14:32:17.000000000,2021-09-16 11:32:17.000000000,2021-09-16 11:32:17.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-09-10 14:32:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/116019af619acb172c7b584895ca86a6efadf825', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I25e6a9cbedac8b1362aedb5cc46f9def341202c2\n'}]",0,808264,116019af619acb172c7b584895ca86a6efadf825,6,2,1,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I25e6a9cbedac8b1362aedb5cc46f9def341202c2
",git fetch https://review.opendev.org/openstack/monasca-statsd refs/changes/64/808264/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,116019af619acb172c7b584895ca86a6efadf825,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Ftripleo-heat-templates~master~I058486dda2d77d2456fd55b5823cb9684de8549b,openstack/tripleo-heat-templates,master,I058486dda2d77d2456fd55b5823cb9684de8549b,Add oidc options,MERGED,2021-08-09 02:42:21.000000000,2021-09-16 11:30:35.000000000,2021-09-16 11:30:35.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-08-09 02:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c22a1463d29c342d10da233273b9403fc0e17d78', 'message': 'Add oidc options\n\nAdd additional OIDC Options to allow for\nuser defined configuration.\n\nThis change adds:\nKeystoneOpenIdcPassUserInfoAs\nKeystoneOpenIdcPassClaimsAs\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-keystone/+/803868\nChange-Id: I058486dda2d77d2456fd55b5823cb9684de8549b\n'}, {'number': 2, 'created': '2021-08-09 02:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/06694b38c64c7ed261ad0a982d0670577d0e15d4', 'message': 'Add oidc options\n\nAdd additional OIDC Options to allow for\nuser defined configuration.\n\nThis change adds:\nKeystoneOpenIdcClaimDelimiter\nKeystoneOpenIdcPassUserInfoAs\nKeystoneOpenIdcPassClaimsAs\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-keystone/+/803868\nChange-Id: I058486dda2d77d2456fd55b5823cb9684de8549b\n'}, {'number': 3, 'created': '2021-09-01 04:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/89fe59f2da66dcdb1f25a5b423bf39761fb22b8a', 'message': 'Add oidc options\n\nAdd additional OIDC Options to allow for\nuser defined configuration.\n\nThis change adds:\nKeystoneOpenIdcClaimDelimiter\nKeystoneOpenIdcPassUserInfoAs\nKeystoneOpenIdcPassClaimsAs\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-keystone/+/803868\nChange-Id: I058486dda2d77d2456fd55b5823cb9684de8549b\n'}, {'number': 4, 'created': '2021-09-01 04:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bea98da9a40d506eb9953a9ec6ab2dbb21ca4b1a', 'message': 'Add oidc options\n\nAdd additional OIDC Options to allow for\nuser defined configuration.\n\nThis change adds:\nKeystoneOpenIdcClaimDelimiter\nKeystoneOpenIdcPassUserInfoAs\nKeystoneOpenIdcPassClaimsAs\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-keystone/+/803868\nChange-Id: I058486dda2d77d2456fd55b5823cb9684de8549b\n'}, {'number': 5, 'created': '2021-09-09 10:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7344c630c5989148bc5dbc0205264af9f5e25a96', 'message': 'Add oidc options\n\nAdd additional OIDC Options to allow for\nuser defined configuration.\n\nThis change adds:\nKeystoneOpenIdcClaimDelimiter\nKeystoneOpenIdcPassUserInfoAs\nKeystoneOpenIdcPassClaimsAs\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-keystone/+/803868\nChange-Id: I058486dda2d77d2456fd55b5823cb9684de8549b\n'}, {'number': 6, 'created': '2021-09-09 13:21:39.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f91911314681743497c18afad833f229a9f7924', 'message': 'Add oidc options\n\nAdd additional OIDC Options to allow for\nuser defined configuration.\n\nThis change adds:\nKeystoneOpenIdcClaimDelimiter\nKeystoneOpenIdcPassUserInfoAs\nKeystoneOpenIdcPassClaimsAs\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-keystone/+/803868\nChange-Id: I058486dda2d77d2456fd55b5823cb9684de8549b\n'}]",4,803869,3f91911314681743497c18afad833f229a9f7924,35,7,6,30073,,,0,"Add oidc options

Add additional OIDC Options to allow for
user defined configuration.

This change adds:
KeystoneOpenIdcClaimDelimiter
KeystoneOpenIdcPassUserInfoAs
KeystoneOpenIdcPassClaimsAs

Depends-On: https://review.opendev.org/c/openstack/puppet-keystone/+/803868
Change-Id: I058486dda2d77d2456fd55b5823cb9684de8549b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/803869/6 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,c22a1463d29c342d10da233273b9403fc0e17d78,add_oidc_options," KeystoneOpenIdcPassUserInfoAs: type: string default: 'claims' description: >- Define the way(s) in which the claims resolved from the userinfo endpoint are passed to the application according to OIDCPassClaimsAs. KeystoneOpenIdcPassClaimsAs: type: string default: 'both' description: >- Define the way in which the claims and tokens are passed to the application environment: ""none"": no claims/tokens are passed ""environment"": claims/tokens are passed as environment variables ""headers"": claims/tokens are passed in headers (also useful in reverse proxy scenario's) ""both"": claims/tokens are passed as both headers as well as environment variables (default) keystone::federation::openidc::openidc_pass_userinfo_as: get_param: KeystoneOpenIdcPassUserInfoAs keystone::federation::openidc::openidc_pass_claim_as: get_param: KeystoneOpenIdcPassClaimsAs",,19,0
openstack%2Ftripleo-ci~master~Ifceb6a4c48a1adf223d307d69819b88d1be5e199,openstack/tripleo-ci,master,Ifceb6a4c48a1adf223d307d69819b88d1be5e199,Add missing standalone-psi.yml,MERGED,2021-07-29 16:42:12.000000000,2021-09-16 11:30:32.000000000,2021-09-16 11:30:32.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-07-29 16:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a3e54941077de2c2119ac2129ea301051f7c9730', 'message': 'Add missing standalone-psi.yml\n\nNeeded for standalone jobs running in psi cloud.\n\nChange-Id: Ifceb6a4c48a1adf223d307d69819b88d1be5e199\n'}, {'number': 2, 'created': '2021-08-02 05:02:05.000000000', 'files': ['toci-quickstart/config/testenv/standalone-psi.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b2d8bb4dbab1d18c8b45108fd0d66eb81d25f6ee', 'message': 'Add missing standalone-psi.yml\n\nNeeded for standalone jobs running in psi cloud.\n\nChange-Id: Ifceb6a4c48a1adf223d307d69819b88d1be5e199\n'}]",2,802915,b2d8bb4dbab1d18c8b45108fd0d66eb81d25f6ee,20,7,2,13861,,,0,"Add missing standalone-psi.yml

Needed for standalone jobs running in psi cloud.

Change-Id: Ifceb6a4c48a1adf223d307d69819b88d1be5e199
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/15/802915/2 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/testenv/standalone-psi.yml'],1,a3e54941077de2c2119ac2129ea301051f7c9730,,multinode-psi.yml,,1,0
openstack%2Ftripleo-ansible~master~I74749762ca050affc8d384f7e716bfd9b6eb4486,openstack/tripleo-ansible,master,I74749762ca050affc8d384f7e716bfd9b6eb4486,Validating againsts stdout instead of stdout_lines,MERGED,2021-09-15 17:24:24.000000000,2021-09-16 11:30:30.000000000,2021-09-16 11:30:30.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-09-15 17:24:24.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/69baf00124f584d6545ae3b67359824b2312c162', 'message': 'Validating againsts stdout instead of stdout_lines\n\nIf /proc/cmdline is empty, like we see sometimes during CI, this will\nfail molecule testing.\n\nChange-Id: I74749762ca050affc8d384f7e716bfd9b6eb4486\n'}]",1,809260,69baf00124f584d6545ae3b67359824b2312c162,9,7,1,27419,,,0,"Validating againsts stdout instead of stdout_lines

If /proc/cmdline is empty, like we see sometimes during CI, this will
fail molecule testing.

Change-Id: I74749762ca050affc8d384f7e716bfd9b6eb4486
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/60/809260/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'],1,69baf00124f584d6545ae3b67359824b2312c162,, - tripleo_kernel_args not in cmdline.stdout, - tripleo_kernel_args not in cmdline.stdout_lines[0],1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I9b73a5833276fac080615d6f01d5b813631a662f,openstack/tripleo-heat-templates,stable/train,I9b73a5833276fac080615d6f01d5b813631a662f,[TRAIN-ONLY] Ensure OVN directory content is podman-compatible,MERGED,2021-09-14 14:33:33.000000000,2021-09-16 11:30:28.000000000,2021-09-16 11:30:28.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-09-14 14:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b716f480f2985738c959a4d03ea0dc434b70048', 'message': 'Ensure OVN directory content is podman-compatible\n\nWhen running an FFU from an OVN enabled Queens (osp-13) environment, it\nmay happen some files in the /var/lib/openvswitch/ovn locations are\ntagged with openvswitch_var_lib_t instead of container_file_t.\n\nWhile most of the other mounts are mounted from other containers, mostly\nmanaged via tripleo-heat-templates, that specific location seems to be\nused only by pacemaker managed services. Those services are missing the\n""z"" flag allowing to relabel the content.\n\nWhile https://review.opendev.org/c/openstack/puppet-tripleo/+/808774 is\nadding this missing flag for master and stable/wallaby, we can\'t do this\nfor stable/train since the modification of pacemaker resources will\ncreate a complete outage.\nIn order to avoid such an issue, we\'d rather silently relabel things.\n\nThis is possible for OVN since the recursion depth is only 1 level, and\nthe amount of files located there is really, really low (less than a\ndozen).\n\nChange-Id: I9b73a5833276fac080615d6f01d5b813631a662f\nResolve-Bug: #1943459\n'}, {'number': 2, 'created': '2021-09-14 14:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67794d0560fff79159157871189a4673dc1399e3', 'message': '[TRAIN-ONLY] Ensure OVN directory content is podman-compatible\n\nWhen running an FFU from an OVN enabled Queens (osp-13) environment, it\nmay happen some files in the /var/lib/openvswitch/ovn locations are\ntagged with openvswitch_var_lib_t instead of container_file_t.\n\nWhile most of the other mounts are mounted from other containers, mostly\nmanaged via tripleo-heat-templates, that specific location seems to be\nused only by pacemaker managed services. Those services are missing the\n""z"" flag allowing to relabel the content.\n\nWhile https://review.opendev.org/c/openstack/puppet-tripleo/+/808774 is\nadding this missing flag for master and stable/wallaby, we can\'t do this\nfor stable/train since the modification of pacemaker resources will\ncreate a complete outage.\nIn order to avoid such an issue, we\'d rather silently relabel things.\n\nThis is possible for OVN since the recursion depth is only 1 level, and\nthe amount of files located there is really, really low (less than a\ndozen).\n\nChange-Id: I9b73a5833276fac080615d6f01d5b813631a662f\nResolve-Bug: #1943459\n'}, {'number': 3, 'created': '2021-09-14 14:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6014d02b2a15085c4f0713de1ca307f03befad8a', 'message': '[TRAIN-ONLY] Ensure OVN directory content is podman-compatible\n\nWhen running an FFU from an OVN enabled Queens (osp-13) environment, it\nmay happen some files in the /var/lib/openvswitch/ovn locations are\ntagged with openvswitch_var_lib_t instead of container_file_t.\n\nWhile most of the other mounts are mounted from other containers, mostly\nmanaged via tripleo-heat-templates, that specific location seems to be\nused only by pacemaker managed services. Those services are missing the\n""z"" flag allowing to relabel the content.\n\nWhile https://review.opendev.org/c/openstack/puppet-tripleo/+/808774 is\nadding this missing flag for master and stable/wallaby, we can\'t do this\nfor stable/train since the modification of pacemaker resources will\ncreate a complete outage.\nIn order to avoid such an issue, we\'d rather silently relabel things.\n\nThis is possible for OVN since the recursion depth is only 1 level, and\nthe amount of files located there is really, really low (less than a\ndozen).\n\nAlso, doing this during step_2 should ensure we don\'t prevent any host\npreparation, and should ensure all is ready on time for the actual data\nusage.\n\nChange-Id: I9b73a5833276fac080615d6f01d5b813631a662f\nResolve-Bug: #1943459\n'}, {'number': 4, 'created': '2021-09-15 11:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da1d0493494dfa8de63058777afe3cecd878b56b', 'message': '[TRAIN-ONLY] Ensure OVN directory content is podman-compatible\n\nWhen running an FFU from an OVN enabled Queens (osp-13) environment, it\nmay happen some files in the /var/lib/openvswitch/ovn locations are\ntagged with openvswitch_var_lib_t instead of container_file_t.\n\nWhile most of the other mounts are mounted from other containers, mostly\nmanaged via tripleo-heat-templates, that specific location seems to be\nused only by pacemaker managed services. Those services are missing the\n""z"" flag allowing to relabel the content.\n\nWhile https://review.opendev.org/c/openstack/puppet-tripleo/+/808774 is\nadding this missing flag for master and stable/wallaby, we can\'t do this\nfor stable/train since the modification of pacemaker resources will\ncreate a complete outage.\nIn order to avoid such an issue, we\'d rather silently relabel things.\n\nThis is possible for OVN since the recursion depth is only 1 level, and\nthe amount of files located there is really, really low (less than a\ndozen).\n\nAlso, doing this during step_2 should ensure we don\'t prevent any host\npreparation, and should ensure all is ready on time for the actual data\nusage.\n\nChange-Id: I9b73a5833276fac080615d6f01d5b813631a662f\nResolve-Bug: #1943459\n'}, {'number': 5, 'created': '2021-09-15 15:05:11.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/ovn/ovn-dbs-cluster-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb3e0234a4588325455705f23f33c66883618564', 'message': '[TRAIN-ONLY] Ensure OVN directory content is podman-compatible\n\nWhen running an FFU from an OVN enabled Queens (osp-13) environment, it\nmay happen some files in the /var/lib/openvswitch/ovn locations are\ntagged with openvswitch_var_lib_t instead of container_file_t.\n\nWhile most of the other mounts are mounted from other containers, mostly\nmanaged via tripleo-heat-templates, that specific location seems to be\nused only by pacemaker managed services. Those services are missing the\n""z"" flag allowing to relabel the content.\n\nWhile https://review.opendev.org/c/openstack/puppet-tripleo/+/808774 is\nadding this missing flag for master and stable/wallaby, we can\'t do this\nfor stable/train since the modification of pacemaker resources will\ncreate a complete outage.\nIn order to avoid such an issue, we\'d rather silently relabel things.\n\nThis is possible for OVN since the recursion depth is only 1 level, and\nthe amount of files located there is really, really low (less than a\ndozen).\n\nAlso, doing this during step_2 should ensure we don\'t prevent any host\npreparation, and should ensure all is ready on time for the actual data\nusage.\n\nChange-Id: I9b73a5833276fac080615d6f01d5b813631a662f\nResolve-Bug: #1943459\n'}]",2,808964,bb3e0234a4588325455705f23f33c66883618564,26,13,5,28223,,,0,"[TRAIN-ONLY] Ensure OVN directory content is podman-compatible

When running an FFU from an OVN enabled Queens (osp-13) environment, it
may happen some files in the /var/lib/openvswitch/ovn locations are
tagged with openvswitch_var_lib_t instead of container_file_t.

While most of the other mounts are mounted from other containers, mostly
managed via tripleo-heat-templates, that specific location seems to be
used only by pacemaker managed services. Those services are missing the
""z"" flag allowing to relabel the content.

While https://review.opendev.org/c/openstack/puppet-tripleo/+/808774 is
adding this missing flag for master and stable/wallaby, we can't do this
for stable/train since the modification of pacemaker resources will
create a complete outage.
In order to avoid such an issue, we'd rather silently relabel things.

This is possible for OVN since the recursion depth is only 1 level, and
the amount of files located there is really, really low (less than a
dozen).

Also, doing this during step_2 should ensure we don't prevent any host
preparation, and should ensure all is ready on time for the actual data
usage.

Change-Id: I9b73a5833276fac080615d6f01d5b813631a662f
Resolve-Bug: #1943459
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/808964/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/ovn/ovn-dbs-cluster-ansible.yaml']",5,6b716f480f2985738c959a4d03ea0dc434b70048,lp1943459," upgrade_tasks: - name: Ensure correct label recursively on ovn directory when: - step|int == 3 file: path: ""/var/lib/openvswitch/ovn"" recursive: true setype: ""container_file_t"" state: directory", upgrade_tasks: [],42,2
openstack%2Fneutron~stable%2Fwallaby~I78af15970a86923fb810e903d38634b6e60a8fe4,openstack/neutron,stable/wallaby,I78af15970a86923fb810e903d38634b6e60a8fe4,Fix neutron_pg_drop-related startup issues,MERGED,2021-09-14 13:47:44.000000000,2021-09-16 11:29:29.000000000,2021-09-16 11:26:43.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 13:47:44.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/651fce3fba083c8c5000221104bacd5747044b94', 'message': ""Fix neutron_pg_drop-related startup issues\n\nThere is a python-ovs bug that allows transactions to be executed\nbefore it has started monitoring the db for changes. This breaks\novsdbapp's AddCommand behavior, which looks up a row in memory\npost-commit to return it to the caller, because we process the\nreply from ovsdb-server that has the UUID in it, but when we try to\nlook it up in memory, it isn't there since that is handled via the\nmonitor notifications.\n\nSince we don't care about the return value, we can just ignore the\nKeyError. In addition, the request to Idl.cond_change() to monitor\nonly the neutron_pg_drop table was failing for a similar reason--\nit is called before the initial monitor request is sent, so\ndirectly setting table.condition will allow the condition to be\nadded to the initial monitor request.\n\nConflicts:\n  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n\nCloses-Bug: #1938766\nChange-Id: I78af15970a86923fb810e903d38634b6e60a8fe4\n(cherry picked from commit 76ee64f4a8095ba207872d5de9613f93f208fdd4)\n""}]",0,808958,651fce3fba083c8c5000221104bacd5747044b94,11,3,1,5756,,,0,"Fix neutron_pg_drop-related startup issues

There is a python-ovs bug that allows transactions to be executed
before it has started monitoring the db for changes. This breaks
ovsdbapp's AddCommand behavior, which looks up a row in memory
post-commit to return it to the caller, because we process the
reply from ovsdb-server that has the UUID in it, but when we try to
look it up in memory, it isn't there since that is handled via the
monitor notifications.

Since we don't care about the return value, we can just ignore the
KeyError. In addition, the request to Idl.cond_change() to monitor
only the neutron_pg_drop table was failing for a similar reason--
it is called before the initial monitor request is sent, so
directly setting table.condition will allow the condition to be
added to the initial monitor request.

Conflicts:
  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py

Closes-Bug: #1938766
Change-Id: I78af15970a86923fb810e903d38634b6e60a8fe4
(cherry picked from commit 76ee64f4a8095ba207872d5de9613f93f208fdd4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/808958/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",2,651fce3fba083c8c5000221104bacd5747044b94,," except KeyError: # Due to a bug in python-ovs, we can send transactions before # the initial OVSDB is populated in memory. This can break # the AddCommand post_commit method which tries to return a # row looked up by the newly commited row's uuid. Since we # don't care about the return value from the PgAddCommand, we # can just catch the KeyError and continue. This can be # removed when the python-ovs bug is resolved. pass",,14,3
openstack%2Fheat-dashboard~master~I848d7dd868309a87efd432c8d458abf10c8794ae,openstack/heat-dashboard,master,I848d7dd868309a87efd432c8d458abf10c8794ae,Use volume v3 API instead of v2 API,MERGED,2021-07-27 01:55:29.000000000,2021-09-16 11:29:20.000000000,2021-09-16 11:26:51.000000000,"[{'_account_id': 841}, {'_account_id': 5314}, {'_account_id': 9542}, {'_account_id': 11805}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-07-27 01:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/c8dd2c540202d6bca917ca272384994f300b6ac3', 'message': 'Use volume v3 API instead of v2 API\n\nThe volume v3 API was deprecated during Pike cycle and is being removed\nin Xena cycle.\n\nChange-Id: I848d7dd868309a87efd432c8d458abf10c8794ae\n'}, {'number': 2, 'created': '2021-07-27 02:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/f0402227628826cd702c87628f3b0f0617347650', 'message': 'Use volume v3 API instead of v2 API\n\nThe volume v3 API was deprecated during Pike cycle and is being removed\nin Xena cycle.\n\nChange-Id: I848d7dd868309a87efd432c8d458abf10c8794ae\n'}, {'number': 3, 'created': '2021-07-28 08:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/faed40cbbd8d40ce1e91d1bf851ed7bd1f3b9cc6', 'message': 'Use volume v3 API instead of v2 API\n\nThe volume v3 API was deprecated during Pike cycle and is being removed\nin Xena cycle.\n\nChange-Id: I848d7dd868309a87efd432c8d458abf10c8794ae\n'}, {'number': 4, 'created': '2021-07-28 08:30:42.000000000', 'files': ['heat_dashboard/test/test_data/cinder_data.py'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/1f52db08edf78f642c059d94b3abb32e014c4876', 'message': 'Use volume v3 API instead of v2 API\n\nThe volume v3 API was deprecated during Pike cycle and is being removed\nin Xena cycle.\n\nChange-Id: I848d7dd868309a87efd432c8d458abf10c8794ae\n'}]",8,802414,1f52db08edf78f642c059d94b3abb32e014c4876,20,7,4,9816,,,0,"Use volume v3 API instead of v2 API

The volume v3 API was deprecated during Pike cycle and is being removed
in Xena cycle.

Change-Id: I848d7dd868309a87efd432c8d458abf10c8794ae
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/14/802414/4 && git format-patch -1 --stdout FETCH_HEAD,['heat_dashboard/test/test_data/cinder_data.py'],1,c8dd2c540202d6bca917ca272384994f300b6ac3,volumev2-removal,from cinderclient.v3 import volume_backups as vol_backups from cinderclient.v3 import volume_snapshots as vol_snaps from cinderclient.v3 import volume_types from cinderclient.v3 import volumes,from cinderclient.v2 import volume_backups as vol_backups from cinderclient.v2 import volume_snapshots as vol_snaps from cinderclient.v2 import volume_types from cinderclient.v2 import volumes,4,4
openstack%2Fpython-monascaclient~master~Idf4e7ea7d97716df6fd7f3cfe8e43b6dfb0d278b,openstack/python-monascaclient,master,Idf4e7ea7d97716df6fd7f3cfe8e43b6dfb0d278b,Add Python3 yoga unit tests,MERGED,2021-09-10 14:32:45.000000000,2021-09-16 11:28:29.000000000,2021-09-16 11:19:25.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-09-10 14:32:45.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/7c9a22bd0d408f4cd068863224ef434d7b17086d', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Idf4e7ea7d97716df6fd7f3cfe8e43b6dfb0d278b\n'}]",0,808287,7c9a22bd0d408f4cd068863224ef434d7b17086d,7,2,1,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Idf4e7ea7d97716df6fd7f3cfe8e43b6dfb0d278b
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/87/808287/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7c9a22bd0d408f4cd068863224ef434d7b17086d,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Freleases~master~I9889d89f66d1b949eee4191620d9c335f6d7614f,openstack/releases,master,I9889d89f66d1b949eee4191620d9c335f6d7614f,Proposing Xena RC1 for tacker-horizon,MERGED,2021-09-13 10:26:44.000000000,2021-09-16 11:12:45.000000000,2021-09-16 11:12:45.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 28522}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-09-13 10:26:44.000000000', 'files': ['deliverables/xena/tacker-horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f1ef80104a2849456cb141729be4bc8eeb8baf1e', 'message': 'Proposing Xena RC1 for tacker-horizon\n\nThis proposed a RC1 release for tacker-horizon to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 3.0.0..69a6eb4\nb952869 Add tacker-horizon integration test framework\n6e80631 Fix retrieval of VNF details in NFV dashboard\n3618f21 Drop block storage v2 API\nc4f27e2 Remove broken link from tacker horizon guide\n028ca19 setup.cfg: Replace dashes with underscores\n9a85cce Update min version of tox\nffcb8c4 Add Python3 xena unit tests\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I9889d89f66d1b949eee4191620d9c335f6d7614f\n'}]",0,808732,f1ef80104a2849456cb141729be4bc8eeb8baf1e,13,5,1,28522,,,0,"Proposing Xena RC1 for tacker-horizon

This proposed a RC1 release for tacker-horizon to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 3.0.0..69a6eb4
b952869 Add tacker-horizon integration test framework
6e80631 Fix retrieval of VNF details in NFV dashboard
3618f21 Drop block storage v2 API
c4f27e2 Remove broken link from tacker horizon guide
028ca19 setup.cfg: Replace dashes with underscores
9a85cce Update min version of tox
ffcb8c4 Add Python3 xena unit tests

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I9889d89f66d1b949eee4191620d9c335f6d7614f
",git fetch https://review.opendev.org/openstack/releases refs/changes/32/808732/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/tacker-horizon.yaml'],1,f1ef80104a2849456cb141729be4bc8eeb8baf1e,xena-rc1-deadline,releases: - version: 4.0.0.0rc1 projects: - repo: openstack/tacker-horizon hash: 69a6eb481f7322cc69ae40f39630b81db6571a74 branches: - name: stable/xena location: 4.0.0.0rc1,,8,0
openstack%2Fpuppet-octavia~master~I1545d1e02c0b5290303a2399c881be032f02fbc2,openstack/puppet-octavia,master,I1545d1e02c0b5290303a2399c881be032f02fbc2,Remove broken TripleO job,ABANDONED,2021-08-04 09:20:29.000000000,2021-09-16 11:10:21.000000000,,"[{'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-04 09:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/810cc52e51858a86ec6bb5a714f143b8534fc56a', 'message': 'Remove broken TripleO job\n\nThe puppet-octavia-tripleo-standalone job (or a similar tripleo job)\nwas added to this repo a while ago but this job has been broken and\nnot maintained. The job is continuously failing and consuming a lot\nof resource and time (usually more than 3 hours)[1].\n\n[1] https://zuul.opendev.org/t/openstack/builds?job_name=puppet-octavia-tripleo-standalone\nChange-Id: I1545d1e02c0b5290303a2399c881be032f02fbc2\n'}, {'number': 2, 'created': '2021-08-04 09:26:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/7db8176990e00da576dcf85d445c9fac50f683d5', 'message': ""Remove broken TripleO job\n\nThe puppet-octavia-tripleo-standalone job (or a similar tripleo job)\nwas added to this repo a while ago but this job has been broken and\nnot maintained. The job is continuously failing, wasting resource and,\nwhat is worse, consuming very long time time (usually 3+ hours)[1].\nBecause we've seen no effort to fix that job, let's remove the job\nto speed up CI jobs.\n\n[1] https://zuul.opendev.org/t/openstack/builds?job_name=puppet-octavia-tripleo-standalone\nChange-Id: I1545d1e02c0b5290303a2399c881be032f02fbc2\n""}]",0,803451,7db8176990e00da576dcf85d445c9fac50f683d5,10,4,2,9816,,,0,"Remove broken TripleO job

The puppet-octavia-tripleo-standalone job (or a similar tripleo job)
was added to this repo a while ago but this job has been broken and
not maintained. The job is continuously failing, wasting resource and,
what is worse, consuming very long time time (usually 3+ hours)[1].
Because we've seen no effort to fix that job, let's remove the job
to speed up CI jobs.

[1] https://zuul.opendev.org/t/openstack/builds?job_name=puppet-octavia-tripleo-standalone
Change-Id: I1545d1e02c0b5290303a2399c881be032f02fbc2
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/51/803451/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,810cc52e51858a86ec6bb5a714f143b8534fc56a,remove-tripleo,, check: jobs: - puppet-octavia-tripleo-standalone: voting: false # redefine tripleo-ci-centos-8-scenario010-standalone with tripleo-puppet-ci # job as its base. - job: name: puppet-octavia-tripleo-standalone parent: tripleo-puppet-ci-centos-8-standalone description: | TripleO standalone Job running Octavia specific Tempest tests. vars: build_container_images: true tags: - build - standalone - octavia featureset: '062' standalone_ceph: true featureset_override: validate_services: false standalone_environment_files: - 'environments/low-memory-usage.yaml' - 'ci/environments/scenario010-standalone.yaml',0,25
openstack%2Freleases~master~I4ced03fab729cffc3b30e90f0a8e7816386b9bfd,openstack/releases,master,I4ced03fab729cffc3b30e90f0a8e7816386b9bfd,Proposing Xena RC1 for glance,MERGED,2021-09-13 08:26:37.000000000,2021-09-16 10:58:44.000000000,2021-09-16 10:58:44.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 08:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6fa334a2e39353ae7001bb66bee3a3ded5075d8a', 'message': ""Proposing Xena RC1 for glance\n\nThis proposed a RC1 release for glance to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 23.0.0.0b3..d49eaa04c\n07eaf532c Remove duplicate _header() implementations in metadef tests\n4e68e5da6 Remove duplicate _url() methods from functional test classes\n82a894588 Move global constants to test module setUp\na8dda8c03 Remove duplicate namespace utilities in functional tests\nda0eb87e8 Fixed image_format typo in doc\n4ee400acc Make signature verification go back to 'queued'\nd155c3769 Add missing [oslo_reports] options\n2c2a1317a Add missing parameters for the healthcheck middleware\n7259eca91 Replace deprecated assertDictContainsSubset\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I4ced03fab729cffc3b30e90f0a8e7816386b9bfd\n""}, {'number': 2, 'created': '2021-09-15 17:42:43.000000000', 'files': ['deliverables/xena/glance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d5055c9fd1dfd221e6b1e30581e2b7709a8e7346', 'message': ""Proposing Xena RC1 for glance\n\nThis proposed a RC1 release for glance to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\ngit log --oneline --no-merges 23.0.0.0b3..a43f6b4c5\na43f6b4c5 (HEAD -> master, origin/master, origin/HEAD) Xena RC-1 release notes\n07eaf532c Remove duplicate _header() implementations in metadef tests\n4e68e5da6 Remove duplicate _url() methods from functional test classes\n82a894588 Move global constants to test module setUp\na8dda8c03 Remove duplicate namespace utilities in functional tests\nda0eb87e8 Fixed image_format typo in doc\nee1849714 Fix failed cinder store migration for non-owners\nb55dbb28c Reproduce bug #1932337\n4ee400acc Make signature verification go back to 'queued'\n9b385f7b6 [uwsgi] Add missing pefetch periodic job\nd155c3769 Add missing [oslo_reports] options\n2c2a1317a Add missing parameters for the healthcheck middleware\n7259eca91 Replace deprecated assertDictContainsSubset\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I4ced03fab729cffc3b30e90f0a8e7816386b9bfd\n""}]",0,808625,d5055c9fd1dfd221e6b1e30581e2b7709a8e7346,12,6,2,28522,,,0,"Proposing Xena RC1 for glance

This proposed a RC1 release for glance to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

git log --oneline --no-merges 23.0.0.0b3..a43f6b4c5
a43f6b4c5 (HEAD -> master, origin/master, origin/HEAD) Xena RC-1 release notes
07eaf532c Remove duplicate _header() implementations in metadef tests
4e68e5da6 Remove duplicate _url() methods from functional test classes
82a894588 Move global constants to test module setUp
a8dda8c03 Remove duplicate namespace utilities in functional tests
da0eb87e8 Fixed image_format typo in doc
ee1849714 Fix failed cinder store migration for non-owners
b55dbb28c Reproduce bug #1932337
4ee400acc Make signature verification go back to 'queued'
9b385f7b6 [uwsgi] Add missing pefetch periodic job
d155c3769 Add missing [oslo_reports] options
2c2a1317a Add missing parameters for the healthcheck middleware
7259eca91 Replace deprecated assertDictContainsSubset

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I4ced03fab729cffc3b30e90f0a8e7816386b9bfd
",git fetch https://review.opendev.org/openstack/releases refs/changes/25/808625/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/glance.yaml'],1,6fa334a2e39353ae7001bb66bee3a3ded5075d8a,xena-rc1-deadline, - version: 23.0.0.0rc1 projects: - repo: openstack/glance hash: d49eaa04cc54d07ef9fe1ac19550ef17e00a195f branches: - name: stable/xena location: 23.0.0.0rc1,,7,0
openstack%2Freleases~master~I16f87d6442dc21c308c3241806f19a5f1d4e6398,openstack/releases,master,I16f87d6442dc21c308c3241806f19a5f1d4e6398,Release Xena RC1 for barbican,MERGED,2021-09-13 08:04:45.000000000,2021-09-16 10:54:19.000000000,2021-09-16 10:54:19.000000000,"[{'_account_id': 7973}, {'_account_id': 11561}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 08:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/63bb6cd5d480c4a20dcf4ca38c847e619ecd06ff', 'message': 'Proposing Xena RC1 for barbican\n\nThis proposed a RC1 release for barbican to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 12.0.0.0rc1..200bff89\n200bff89 Return 403 instead of 500 when policy check fails\naa7bf886 Replace oslo_utils.fnmatch with fnmatch\n3a76ced8 Fix alembic migrations\n1ae4badb Fix unit tests and migration to unblock gate\n94a45c1e Add FIPS gate job\nb5d10b3c docs: Update Freenode to OFTC\nc59f2a6b Raise maximum allowed secret size\n6d0df114 Imported Translations from Zanata\n6662fc9e setup.cfg: Replace dashes with underscores\n21661beb Fix Vault functional test\nced3e5c0 Add secure-rbac gate\n922c68ba Fix RBAC and ACL access for managing secret containers\n57f334e0 Fix transport key policies\n2e8d7dec Add Python3 xena unit tests\na567702c Update master for stable/wallaby\n672dc0b5 Add ACL default to allow project read\n14e3ab97 Monkey patch original current_thread _active\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I16f87d6442dc21c308c3241806f19a5f1d4e6398\n'}, {'number': 2, 'created': '2021-09-15 18:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b7e664d1faec5b448494254e38bae48149dbb291', 'message': 'Release Xena RC1 for barbican\n\n$ git log --oneline --no-merges 12.0.0.0rc1..b9daa100\nb9daa100 Fix Castellan Secret Store inconsistent encoding\n200bff89 Return 403 instead of 500 when policy check fails\naa7bf886 Replace oslo_utils.fnmatch with fnmatch\n3a76ced8 Fix alembic migrations\n1ae4badb Fix unit tests and migration to unblock gate\n94a45c1e Add FIPS gate job\nb5d10b3c docs: Update Freenode to OFTC\nc59f2a6b Raise maximum allowed secret size\n6d0df114 Imported Translations from Zanata\n6662fc9e setup.cfg: Replace dashes with underscores\n21661beb Fix Vault functional test\nced3e5c0 Add secure-rbac gate\n922c68ba Fix RBAC and ACL access for managing secret containers\n57f334e0 Fix transport key policies\n2e8d7dec Add Python3 xena unit tests\na567702c Update master for stable/wallaby\n672dc0b5 Add ACL default to allow project read\n14e3ab97 Monkey patch original current_thread _active\n\nChange-Id: I16f87d6442dc21c308c3241806f19a5f1d4e6398\n'}, {'number': 3, 'created': '2021-09-15 19:04:43.000000000', 'files': ['deliverables/xena/barbican.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8762e3911fd43f6ecaae8a7d3784bdc6907c19c3', 'message': 'Release Xena RC1 for barbican\n\n$ git log --oneline --no-merges 12.0.0.0rc1..b9daa100\nb9daa100 Fix Castellan Secret Store inconsistent encoding\n200bff89 Return 403 instead of 500 when policy check fails\naa7bf886 Replace oslo_utils.fnmatch with fnmatch\n3a76ced8 Fix alembic migrations\n1ae4badb Fix unit tests and migration to unblock gate\n94a45c1e Add FIPS gate job\nb5d10b3c docs: Update Freenode to OFTC\nc59f2a6b Raise maximum allowed secret size\n6d0df114 Imported Translations from Zanata\n6662fc9e setup.cfg: Replace dashes with underscores\n21661beb Fix Vault functional test\nced3e5c0 Add secure-rbac gate\n922c68ba Fix RBAC and ACL access for managing secret containers\n57f334e0 Fix transport key policies\n2e8d7dec Add Python3 xena unit tests\na567702c Update master for stable/wallaby\n672dc0b5 Add ACL default to allow project read\n14e3ab97 Monkey patch original current_thread _active\n\nChange-Id: I16f87d6442dc21c308c3241806f19a5f1d4e6398\n'}]",0,808600,8762e3911fd43f6ecaae8a7d3784bdc6907c19c3,13,5,3,28522,,,0,"Release Xena RC1 for barbican

$ git log --oneline --no-merges 12.0.0.0rc1..b9daa100
b9daa100 Fix Castellan Secret Store inconsistent encoding
200bff89 Return 403 instead of 500 when policy check fails
aa7bf886 Replace oslo_utils.fnmatch with fnmatch
3a76ced8 Fix alembic migrations
1ae4badb Fix unit tests and migration to unblock gate
94a45c1e Add FIPS gate job
b5d10b3c docs: Update Freenode to OFTC
c59f2a6b Raise maximum allowed secret size
6d0df114 Imported Translations from Zanata
6662fc9e setup.cfg: Replace dashes with underscores
21661beb Fix Vault functional test
ced3e5c0 Add secure-rbac gate
922c68ba Fix RBAC and ACL access for managing secret containers
57f334e0 Fix transport key policies
2e8d7dec Add Python3 xena unit tests
a567702c Update master for stable/wallaby
672dc0b5 Add ACL default to allow project read
14e3ab97 Monkey patch original current_thread _active

Change-Id: I16f87d6442dc21c308c3241806f19a5f1d4e6398
",git fetch https://review.opendev.org/openstack/releases refs/changes/00/808600/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/barbican.yaml'],1,63bb6cd5d480c4a20dcf4ca38c847e619ecd06ff,xena-rc1-deadline,releases: - version: 13.0.0.0rc1 projects: - repo: openstack/barbican hash: 200bff896cb9f8b7c057ef22be317895a27ea8dc branches: - name: stable/xena location: 13.0.0.0rc1,,8,0
openstack%2Freleases~master~Ie6845bcb915acfaf11bbe990fa61b1138d74b1ce,openstack/releases,master,Ie6845bcb915acfaf11bbe990fa61b1138d74b1ce,Proposing Xena RC1 for octavia-dashboard,MERGED,2021-09-13 09:51:22.000000000,2021-09-16 10:52:13.000000000,2021-09-16 10:52:13.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-09-13 09:51:22.000000000', 'files': ['deliverables/xena/octavia-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4afb13aeaa9dd82f479b8bceb37de830eb86d7e3', 'message': 'Proposing Xena RC1 for octavia-dashboard\n\nThis proposed a RC1 release for octavia-dashboard to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 7.0.0..33c308d\n7e39031 Change the Octavia Barbican namespace\n91042f2 Drop horizon-nodejs10-jobs template\n27f5295 Imported Translations from Zanata\ncd1f06a Add example logging setting\nff3addc Add horizon-nodejs14-job template.\n4421ff8 Fix deleting multiple resources\n7fb4bac Add Python3 xena unit tests\n17ffab7 Update master for stable/wallaby\nf469a22 Remove unicode to adapt to python3\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ie6845bcb915acfaf11bbe990fa61b1138d74b1ce\n'}]",0,808709,4afb13aeaa9dd82f479b8bceb37de830eb86d7e3,10,6,1,28522,,,0,"Proposing Xena RC1 for octavia-dashboard

This proposed a RC1 release for octavia-dashboard to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 7.0.0..33c308d
7e39031 Change the Octavia Barbican namespace
91042f2 Drop horizon-nodejs10-jobs template
27f5295 Imported Translations from Zanata
cd1f06a Add example logging setting
ff3addc Add horizon-nodejs14-job template.
4421ff8 Fix deleting multiple resources
7fb4bac Add Python3 xena unit tests
17ffab7 Update master for stable/wallaby
f469a22 Remove unicode to adapt to python3

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ie6845bcb915acfaf11bbe990fa61b1138d74b1ce
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/808709/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/octavia-dashboard.yaml'],1,4afb13aeaa9dd82f479b8bceb37de830eb86d7e3,xena-rc1-deadline,releases: - version: 8.0.0.0rc1 projects: - repo: openstack/octavia-dashboard hash: 33c308d3aa7ca32f52b7c2c345479d47fded0659 branches: - name: stable/xena location: 8.0.0.0rc1,,8,0
openstack%2Fcharm-glance-simplestreams-sync~master~Ic9f54a5b120caa5fc3e88b24d3eaf5eb271b639c,openstack/charm-glance-simplestreams-sync,master,Ic9f54a5b120caa5fc3e88b24d3eaf5eb271b639c,WIP: support converting qcow2 to raw,ABANDONED,2020-10-05 11:40:49.000000000,2021-09-16 10:51:00.000000000,,"[{'_account_id': 11582}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-05 11:40:49.000000000', 'files': ['hooks/hooks.py', 'files/glance_simplestreams_sync.py', 'config.yaml', 'templates/mirrors.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/879988e263939c216d972e5e9f70fab9ad3d0f28', 'message': 'WIP: support converting qcow2 to raw\n\nChange-Id: Ic9f54a5b120caa5fc3e88b24d3eaf5eb271b639c\n'}]",0,756047,879988e263939c216d972e5e9f70fab9ad3d0f28,5,3,1,11582,,,0,"WIP: support converting qcow2 to raw

Change-Id: Ic9f54a5b120caa5fc3e88b24d3eaf5eb271b639c
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/47/756047/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'files/glance_simplestreams_sync.py', 'config.yaml', 'templates/mirrors.yaml']",4,879988e263939c216d972e5e9f70fab9ad3d0f28,convert-to-raw,raw_conversion: {{ raw_conversion }},,13,1
openstack%2Freleases~master~I1924cbffdd6c0ab30d66c62a5a2d9728f0f016a9,openstack/releases,master,I1924cbffdd6c0ab30d66c62a5a2d9728f0f016a9,Proposing Xena RC2 for neutron-dynamic-routing,MERGED,2021-09-16 06:14:47.000000000,2021-09-16 10:49:19.000000000,2021-09-16 10:49:19.000000000,"[{'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-16 06:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d39f730378adea9cdbb786c3d076e2bf1faf59b6', 'message': 'Proposing Xena RC2 for neutron-dynamic-routing\n\n$ git log --oneline --no-merges 19.0.0.0rc1..bec4c15\nbec4c15 Update TOX_CONSTRAINTS_FILE for stable/xena\n1174a01 Update .gitreview for stable/xena\nf226215 Payload changes for FLOATING_IP events\n\nChange-Id: I1924cbffdd6c0ab30d66c62a5a2d9728f0f016a9\n'}, {'number': 2, 'created': '2021-09-16 07:22:18.000000000', 'files': ['deliverables/xena/neutron-dynamic-routing.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ca5db894d9dd42138777ef9e4793223c58673204', 'message': 'Proposing Xena RC2 for neutron-dynamic-routing\n\n$ git log --oneline --no-merges 19.0.0.0rc1..bec4c15\nbec4c15 Update TOX_CONSTRAINTS_FILE for stable/xena\n1174a01 Update .gitreview for stable/xena\nf226215 Payload changes for FLOATING_IP events\n\nChange-Id: I1924cbffdd6c0ab30d66c62a5a2d9728f0f016a9\n'}]",0,809312,ca5db894d9dd42138777ef9e4793223c58673204,14,6,2,8313,,,0,"Proposing Xena RC2 for neutron-dynamic-routing

$ git log --oneline --no-merges 19.0.0.0rc1..bec4c15
bec4c15 Update TOX_CONSTRAINTS_FILE for stable/xena
1174a01 Update .gitreview for stable/xena
f226215 Payload changes for FLOATING_IP events

Change-Id: I1924cbffdd6c0ab30d66c62a5a2d9728f0f016a9
",git fetch https://review.opendev.org/openstack/releases refs/changes/12/809312/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/neutron-dynamic-routing.yaml'],1,d39f730378adea9cdbb786c3d076e2bf1faf59b6,xena-rc1-deadline, - version: 19.0.0.0rc2 projects: - repo: openstack/neutron-dynamic-routing hash: bec4c152c697abb487e59a0639278c1a098c8f60 location: 19.0.0.0rc2, location: 19.0.0.0rc1,5,1
openstack%2Fpuppet-tripleo~master~Ieb36f90c6709934aa3aa6668d3929bff872c30f5,openstack/puppet-tripleo,master,Ieb36f90c6709934aa3aa6668d3929bff872c30f5,haproxy: frontend/backend syntax in config,MERGED,2021-07-16 14:55:29.000000000,2021-09-16 10:37:47.000000000,2021-09-03 11:27:01.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-16 14:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a043ab7bc2de8151669e3e9dbdce0b42dcd545e2', 'message': 'WIP haproxy: use frontend/backend syntax in config\n\nReplace the listen token with frontend/backend pairs for\nproxied services.\n\nThis is necessary to generate complex configs that give\npriority to local backends when routing traffic.\n\nChange-Id: Ieb36f90c6709934aa3aa6668d3929bff872c30f5\n'}, {'number': 2, 'created': '2021-08-19 13:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/beef93b85c28e3eea1a21d35f8c1bfea9baf4fbf', 'message': 'WIP haproxy: use frontend/backend syntax in config\n\nReplace the listen token with frontend/backend pairs for\nproxied services.\n\nThis is necessary to generate complex configs that give\npriority to local backends when routing traffic.\n\nChange-Id: Ieb36f90c6709934aa3aa6668d3929bff872c30f5\n'}, {'number': 3, 'created': '2021-08-24 15:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d5e8eb6eb8d586c7adf0c40c7fb22b413cf05d2f', 'message': ""WIP haproxy: frontend/backend syntax in config\n\nAbility to generate haproxy config with the frontend/backend\nstatements rather than the old listen statement. This allows\nthe generation of complex configs, such as for example giving\npriority to local backends when routing traffic.\n\nMake the new syntax configurable via a hiera key. By default,\nkeep the current 'listen' syntax.\n\nChange-Id: Ieb36f90c6709934aa3aa6668d3929bff872c30f5\n""}, {'number': 4, 'created': '2021-08-24 16:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e03f671365f547998b2f9dd437f98f60c7803361', 'message': ""WIP haproxy: frontend/backend syntax in config\n\nAbility to generate haproxy config with the frontend/backend\nsections rather than the old listen section. This allows\nthe generation of complex configs, such as for example giving\npriority to local backends when routing traffic.\n\nMake the new syntax configurable via a hiera key. By default,\nkeep the current 'listen' syntax.\n\nChange-Id: Ieb36f90c6709934aa3aa6668d3929bff872c30f5\n""}, {'number': 5, 'created': '2021-08-25 15:58:54.000000000', 'files': ['spec/defines/tripleo_haproxy_endpoint_spec.rb', 'lib/puppet/functions/merge_hash_values.rb', 'manifests/haproxy.pp', 'manifests/haproxy/horizon_endpoint.pp', 'manifests/haproxy/endpoint.pp', 'manifests/haproxy/stats.pp', 'spec/fixtures/hieradata/default.yaml', 'releasenotes/notes/haproxy-frontend-backend-e3719b323e84fd2c.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7a6c5281e0d75c54e298ce68b2a8b54eefc5f0f9', 'message': ""haproxy: frontend/backend syntax in config\n\nAbility to generate haproxy config with the frontend/backend\nsections rather than the old listen section. This allows\nthe generation of complex configs, such as for example giving\npriority to local backends when routing traffic.\n\nMake the new syntax configurable via a new hiera key\n`haproxy_backend_syntax`. The frontend and backend config of\neach service can be further tweaked via additional keys\ntripleo::haproxy::<service>::frontend_options and\ntripleo::haproxy::<service>::backend_options\n\nBy default, keep the current 'listen' syntax.\n\nTested with capability disabled, the haproxy config generated\nfor undercloud and ha overcloud doesn't change.\nTested with capability enabled, tempest smoke test passed.\n\nCloses-Bug: #1941617\n\nChange-Id: Ieb36f90c6709934aa3aa6668d3929bff872c30f5\n""}]",3,801075,7a6c5281e0d75c54e298ce68b2a8b54eefc5f0f9,29,5,5,20778,,,0,"haproxy: frontend/backend syntax in config

Ability to generate haproxy config with the frontend/backend
sections rather than the old listen section. This allows
the generation of complex configs, such as for example giving
priority to local backends when routing traffic.

Make the new syntax configurable via a new hiera key
`haproxy_backend_syntax`. The frontend and backend config of
each service can be further tweaked via additional keys
tripleo::haproxy::<service>::frontend_options and
tripleo::haproxy::<service>::backend_options

By default, keep the current 'listen' syntax.

Tested with capability disabled, the haproxy config generated
for undercloud and ha overcloud doesn't change.
Tested with capability enabled, tempest smoke test passed.

Closes-Bug: #1941617

Change-Id: Ieb36f90c6709934aa3aa6668d3929bff872c30f5
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/75/801075/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/haproxy.pp', 'manifests/haproxy/horizon_endpoint.pp', 'manifests/haproxy/endpoint.pp', 'manifests/haproxy/stats.pp']",4,a043ab7bc2de8151669e3e9dbdce0b42dcd545e2,," haproxy::frontend { 'haproxy.stats': haproxy::backend { 'haproxy.stats': mode => 'http', options => { 'stats' => $stats_config, }, }", haproxy::listen { 'haproxy.stats':,158,43
openstack%2Freleases~master~Ic71fae59105314f1a70fba9d1169460e0b87b164,openstack/releases,master,Ic71fae59105314f1a70fba9d1169460e0b87b164,Proposing Xena RC1 for senlin,MERGED,2021-09-13 10:22:27.000000000,2021-09-16 10:32:22.000000000,2021-09-16 10:32:22.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 10:22:27.000000000', 'files': ['deliverables/xena/senlin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/301420511d8ed52d73186fdd675fdd234e2ae649', 'message': 'Proposing Xena RC1 for senlin\n\nThis proposed a RC1 release for senlin to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 11.0.0..2216af78\n2216af78 Replace deprecated inspect.getargspec\n3e02c0c8 Moving IRC network reference to OFTC\ncd33c125 senlin.policy.loadbalance module fix key error\n5922e74a Fix LB creation failure with cluster name\n412197ad setup.cfg: Replace dashes with underscores\n7404f76a add senlin cluster_name for lb/pool/listener name for creation\n755421a6 When session_persistence type NONE set option None\n3b121536 Remove lower constraints\n64658fef Add Python3 xena unit tests\n69f1824b Update master for stable/wallaby\nb262314b Adding PERSISTENCE_TYPES option NONE\n40830c88 Fix health policy attach/detach action when messaging.MessagingTimeout occurred\n1bace464 Update error in install-rdo.rst and update default port\n7f7f5d65 Correct a typo in the document\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ic71fae59105314f1a70fba9d1169460e0b87b164\n'}]",0,808728,301420511d8ed52d73186fdd675fdd234e2ae649,10,4,1,28522,,,0,"Proposing Xena RC1 for senlin

This proposed a RC1 release for senlin to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 11.0.0..2216af78
2216af78 Replace deprecated inspect.getargspec
3e02c0c8 Moving IRC network reference to OFTC
cd33c125 senlin.policy.loadbalance module fix key error
5922e74a Fix LB creation failure with cluster name
412197ad setup.cfg: Replace dashes with underscores
7404f76a add senlin cluster_name for lb/pool/listener name for creation
755421a6 When session_persistence type NONE set option None
3b121536 Remove lower constraints
64658fef Add Python3 xena unit tests
69f1824b Update master for stable/wallaby
b262314b Adding PERSISTENCE_TYPES option NONE
40830c88 Fix health policy attach/detach action when messaging.MessagingTimeout occurred
1bace464 Update error in install-rdo.rst and update default port
7f7f5d65 Correct a typo in the document

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ic71fae59105314f1a70fba9d1169460e0b87b164
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/808728/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/senlin.yaml'],1,301420511d8ed52d73186fdd675fdd234e2ae649,xena-rc1-deadline,releases: - version: 12.0.0.0rc1 projects: - repo: openstack/senlin hash: 2216af7834c76fbaef49fc28d2febc8468589272 branches: - name: stable/xena location: 12.0.0.0rc1,,8,0
openstack%2Freleases~master~I67860696eaa6f54e84fc9e1d37f912380664e257,openstack/releases,master,I67860696eaa6f54e84fc9e1d37f912380664e257,Proposing Xena RC1 for placement,MERGED,2021-09-13 09:55:20.000000000,2021-09-16 10:29:18.000000000,2021-09-16 10:29:18.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 09:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8cd771fbfb1718b9f4a96207a7d6cc47ed0f1e7e', 'message': ""Proposing Xena RC1 for placement\n\nThis proposed a RC1 release for placement to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 5.0.0..d90f1672\nd90f1672 Narrow scope of set allocations database transaction\n7d903412 Call Engine.execute() in func tests for oslo.db 11.0.0\n8b000867 Add reproducer for Project creation race bug\n419dcc7c Refactor consumer type methods for readability\ncd1202ea Bump os-traits to latest 2.6.0\nedb09c5f Switch ConsumerType to use an AttributeCache\n37721325 Microversion 1.38: API support for consumer types\nb1f3dd39 Add consumer_types migration, database and object changes\n3253e2ef placement-status: check only consumers in allocation table\n61620891 Fix SQL query counting the number of individual consumers having allocations by only selecting the aggregated consumer_id column.\n36616700 Bump os-resource-classes requirements\n00795f31 Add support for RP re-parenting and orphaning\n4fa74c24 Move placement specs from nova\n5a3bc370 Fix oslo policy DeprecatedRule warnings\nf77a7f99 Bump os-resource-classes deps to 1.0.0\n024133eb [doc] Redirect people to #openstack-nova\n5fd570d6 Fix webchat link in the doc\n0e970d71 Update doc after freenode -> OFTC move\na0749aec Add periodic-stable-jobs template\n680182dd Adapt to SQLAlchemy 1.4\n2150dbf6 Add weekly jobs\n992dd6a7 Make sure the policy upgrade check get a valid config\n2316f95a Add 'cryptography' package to test-requirements.txt\n9ea3d9b2 Add a reproduction test for bug story/2008831\n6f00ba5f Add Python3 xena unit tests\n48b9d6f2 Update master for stable/wallaby\nba8228eb Correctly handle integrity errors on MySQL 8.x\nfcb76137 Move policy deprecation to base rules\n8c01d336 Remove unused test helper\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I67860696eaa6f54e84fc9e1d37f912380664e257\n""}, {'number': 2, 'created': '2021-09-14 14:14:55.000000000', 'files': ['deliverables/xena/placement.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/12b5e8453d1360985b528657c1ab8f27559ec909', 'message': ""Proposing Xena RC1 for placement\n\nThis proposed a RC1 release for placement to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 5.0.0..e7355066fc60c2944b9eef5f35c5c90499d51763\nd90f1672 Narrow scope of set allocations database transaction\n7d903412 Call Engine.execute() in func tests for oslo.db 11.0.0\n8b000867 Add reproducer for Project creation race bug\ne9b6a2ec Fix adding 'unknown' to the ConsumerTypeCache\n40a756c7 Reproduce 404 when allocation queried with 1.38\n419dcc7c Refactor consumer type methods for readability\ncd1202ea Bump os-traits to latest 2.6.0\nedb09c5f Switch ConsumerType to use an AttributeCache\n37721325 Microversion 1.38: API support for consumer types\nb1f3dd39 Add consumer_types migration, database and object changes\n3253e2ef placement-status: check only consumers in allocation table\n61620891 Fix SQL query counting the number of individual consumers having allocations by only selecting the aggregated consumer_id column.\n36616700 Bump os-resource-classes requirements\n00795f31 Add support for RP re-parenting and orphaning\n4fa74c24 Move placement specs from nova\n5a3bc370 Fix oslo policy DeprecatedRule warnings\nf77a7f99 Bump os-resource-classes deps to 1.0.0\n024133eb [doc] Redirect people to #openstack-nova\n5fd570d6 Fix webchat link in the doc\n0e970d71 Update doc after freenode -> OFTC move\na0749aec Add periodic-stable-jobs template\n680182dd Adapt to SQLAlchemy 1.4\n2150dbf6 Add weekly jobs\n992dd6a7 Make sure the policy upgrade check get a valid config\n2316f95a Add 'cryptography' package to test-requirements.txt\n9ea3d9b2 Add a reproduction test for bug story/2008831\n6f00ba5f Add Python3 xena unit tests\n48b9d6f2 Update master for stable/wallaby\nba8228eb Correctly handle integrity errors on MySQL 8.x\nfcb76137 Move policy deprecation to base rules\n8c01d336 Remove unused test helper\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I67860696eaa6f54e84fc9e1d37f912380664e257\n""}]",0,808713,12b5e8453d1360985b528657c1ab8f27559ec909,17,5,2,28522,,,0,"Proposing Xena RC1 for placement

This proposed a RC1 release for placement to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 5.0.0..e7355066fc60c2944b9eef5f35c5c90499d51763
d90f1672 Narrow scope of set allocations database transaction
7d903412 Call Engine.execute() in func tests for oslo.db 11.0.0
8b000867 Add reproducer for Project creation race bug
e9b6a2ec Fix adding 'unknown' to the ConsumerTypeCache
40a756c7 Reproduce 404 when allocation queried with 1.38
419dcc7c Refactor consumer type methods for readability
cd1202ea Bump os-traits to latest 2.6.0
edb09c5f Switch ConsumerType to use an AttributeCache
37721325 Microversion 1.38: API support for consumer types
b1f3dd39 Add consumer_types migration, database and object changes
3253e2ef placement-status: check only consumers in allocation table
61620891 Fix SQL query counting the number of individual consumers having allocations by only selecting the aggregated consumer_id column.
36616700 Bump os-resource-classes requirements
00795f31 Add support for RP re-parenting and orphaning
4fa74c24 Move placement specs from nova
5a3bc370 Fix oslo policy DeprecatedRule warnings
f77a7f99 Bump os-resource-classes deps to 1.0.0
024133eb [doc] Redirect people to #openstack-nova
5fd570d6 Fix webchat link in the doc
0e970d71 Update doc after freenode -> OFTC move
a0749aec Add periodic-stable-jobs template
680182dd Adapt to SQLAlchemy 1.4
2150dbf6 Add weekly jobs
992dd6a7 Make sure the policy upgrade check get a valid config
2316f95a Add 'cryptography' package to test-requirements.txt
9ea3d9b2 Add a reproduction test for bug story/2008831
6f00ba5f Add Python3 xena unit tests
48b9d6f2 Update master for stable/wallaby
ba8228eb Correctly handle integrity errors on MySQL 8.x
fcb76137 Move policy deprecation to base rules
8c01d336 Remove unused test helper

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I67860696eaa6f54e84fc9e1d37f912380664e257
",git fetch https://review.opendev.org/openstack/releases refs/changes/13/808713/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/placement.yaml'],1,8cd771fbfb1718b9f4a96207a7d6cc47ed0f1e7e,xena-rc1-deadline,releases: - version: 6.0.0.0rc1 projects: - repo: openstack/placement hash: d90f16720b79a9479bc9a369e6c1f88aa2481cc1 branches: - name: stable/xena location: 6.0.0.0rc1,,8,0
openstack%2Fovn-bgp-agent~master~Icdabc4f511ca5d08cd70b0249685751ee4492a9f,openstack/ovn-bgp-agent,master,Icdabc4f511ca5d08cd70b0249685751ee4492a9f,Ensure permanent nei entry is added for cr-lrp ports,MERGED,2021-09-16 08:38:37.000000000,2021-09-16 10:27:27.000000000,2021-09-16 10:27:27.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-09-16 08:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/209e6f35f0618f33d5e57238fbf00d762f389a12', 'message': 'Ensure permanent nei entry is added for cr-lrp ports\n\nThis is needed to ensure we can redirect traffic from outside\nto tenant networks through the cr-lrp, when the router has the\nsnat disabled.\n\nChange-Id: Icdabc4f511ca5d08cd70b0249685751ee4492a9f\n'}, {'number': 2, 'created': '2021-09-16 10:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/e777bdfd5a1ca2fb669ed410511c8a7af60e7918', 'message': 'Ensure permanent nei entry is added for cr-lrp ports\n\nThis is needed to ensure we can redirect traffic from outside\nto tenant networks through the cr-lrp, when the router has the\nsnat disabled.\n\nChange-Id: Icdabc4f511ca5d08cd70b0249685751ee4492a9f\n'}, {'number': 3, 'created': '2021-09-16 10:06:21.000000000', 'files': ['ovn_bgp_agent/utils/linux_net.py', 'ovn_bgp_agent/drivers/openstack/ovn_evpn_driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/8289705e250ad6acbd8f0825e522e597a14b15c9', 'message': 'Ensure permanent nei entry is added for cr-lrp ports\n\nThis is needed to ensure we can redirect traffic from outside\nto tenant networks through the cr-lrp, when the router has the\nsnat disabled.\n\nChange-Id: Icdabc4f511ca5d08cd70b0249685751ee4492a9f\n'}]",3,809353,8289705e250ad6acbd8f0825e522e597a14b15c9,12,3,3,23567,,,0,"Ensure permanent nei entry is added for cr-lrp ports

This is needed to ensure we can redirect traffic from outside
to tenant networks through the cr-lrp, when the router has the
snat disabled.

Change-Id: Icdabc4f511ca5d08cd70b0249685751ee4492a9f
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/53/809353/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/utils/linux_net.py', 'ovn_bgp_agent/drivers/openstack/ovn_evpn_driver.py']",2,209e6f35f0618f33d5e57238fbf00d762f389a12,," nei_bridge = datapath_bridge if vlan_tag: nei_bridge = '{}.{}'.format(datapath_bridge, vlan_tag) for ip in ips_without_mask: linux_net.add_ip_nei( ip, self.ovn_local_cr_lrps[cr_lrp_port_name]['mac'], nei_bridge) nei_bridge = datapath_bridge if vlan_tag: nei_bridge = '{}.{}'.format(datapath_bridge, vlan_tag) for ip in ips: linux_net.del_ip_nei( ip, self.ovn_local_cr_lrps[cr_lrp_port_name]['mac'], nei_bridge) ",,65,41
openstack%2Fskyline-console~master~I22b3655cf879b280a1a30a5516daed1c26a44b32,openstack/skyline-console,master,I22b3655cf879b280a1a30a5516daed1c26a44b32,refactor: Refactor QoS Policy code,MERGED,2021-09-15 10:07:34.000000000,2021-09-16 10:20:25.000000000,2021-09-16 10:20:25.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-09-15 10:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/48b724b41acf35fac78a333ad5d2a7bbbaca8841', 'message': 'refactor: Refactor QoS Policy code\n\nrefactor qos policy code\n\nChange-Id: I22b3655cf879b280a1a30a5516daed1c26a44b32\n'}, {'number': 2, 'created': '2021-09-16 02:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b8fc99022c545fa8b6d55695701adcaa2bd4539f', 'message': 'refactor: Refactor QoS Policy code\n\nrefactor qos policy code\n\nChange-Id: I22b3655cf879b280a1a30a5516daed1c26a44b32\n'}, {'number': 3, 'created': '2021-09-16 03:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/bd1b30a6aadf6c0c257de0b86c70a28c48cf4d7f', 'message': 'refactor: Refactor QoS Policy code\n\nrefactor qos policy code\n\nChange-Id: I22b3655cf879b280a1a30a5516daed1c26a44b32\n'}, {'number': 4, 'created': '2021-09-16 03:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/954cfba397518b3bc6674f5d71f265ae310e9b0e', 'message': 'refactor: Refactor QoS Policy code\n\nrefactor qos policy code\n\nChange-Id: I22b3655cf879b280a1a30a5516daed1c26a44b32\n'}, {'number': 5, 'created': '2021-09-16 03:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/7da5782c6324e5a8ba03b23287f62e2c912a87a7', 'message': 'refactor: Refactor QoS Policy code\n\nrefactor qos policy code\n\nChange-Id: I22b3655cf879b280a1a30a5516daed1c26a44b32\n'}, {'number': 6, 'created': '2021-09-16 06:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0d2d3722c5a7afbe6fc10794b7d54c6aa0d84b0c', 'message': 'refactor: Refactor QoS Policy code\n\nrefactor qos policy code\n\nChange-Id: I22b3655cf879b280a1a30a5516daed1c26a44b32\n'}, {'number': 7, 'created': '2021-09-16 09:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b35788892b582c1554e62c89d8b763e12035ed5c', 'message': 'refactor: Refactor QoS Policy code\n\nrefactor qos policy code\n\nChange-Id: I22b3655cf879b280a1a30a5516daed1c26a44b32\n'}, {'number': 8, 'created': '2021-09-16 09:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/108333eab2c82cdd8bdb72a3795ffa142d3363f4', 'message': 'refactor: Refactor QoS Policy code\n\nrefactor qos policy code\n\nChange-Id: I22b3655cf879b280a1a30a5516daed1c26a44b32\n'}, {'number': 9, 'created': '2021-09-16 09:49:38.000000000', 'files': ['src/pages/network/containers/QoSPolicy/ProjectQoSPolicy.js', 'src/pages/network/containers/VirtualAdapter/actions/ModifyQoS.jsx', 'src/pages/network/routes/index.js', 'src/pages/network/containers/FloatingIp/actions/Edit.jsx', 'src/resources/qos-policy.jsx', 'src/pages/network/containers/VirtualAdapter/actions/Create.jsx', 'src/pages/network/containers/QoSPolicy/AdminQoSPolicy.js', 'src/pages/network/containers/QoSPolicy/QoSPolicy.js', 'src/pages/network/containers/QoSPolicy/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/6e96e188098d18583413d1777a4dc40ecb254003', 'message': 'refactor: Refactor QoS Policy code\n\nrefactor qos policy code\n\nChange-Id: I22b3655cf879b280a1a30a5516daed1c26a44b32\n'}]",0,809166,6e96e188098d18583413d1777a4dc40ecb254003,19,2,9,33636,,,0,"refactor: Refactor QoS Policy code

refactor qos policy code

Change-Id: I22b3655cf879b280a1a30a5516daed1c26a44b32
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/66/809166/8 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/network/containers/QoSPolicy/ProjectQoSPolicy.js', 'src/pages/network/containers/VirtualAdapter/actions/ModifyQoS.jsx', 'src/pages/network/containers/QoSPolicy/SharedQoSPolicy.js', 'src/resources/qos-policy.jsx', 'src/pages/network/containers/VirtualAdapter/actions/Create.jsx', 'src/pages/network/containers/QoSPolicy/AdminQoSPolicy.js']",6,48b724b41acf35fac78a333ad5d2a7bbbaca8841,,"import { getQosPolicyColumns, getQosPolicyFilters } from 'resources/qos-policy'; updateFetchParamsByPage = (params) => ({ ...params, all_projects: true }); getColumns() { return getQosPolicyColumns({ ...this, all: true, getUrl: this.getUrl, hasAdminRole: this.hasAdminRole }); } return getQosPolicyFilters(this)","import { qosPolicyColumns, qosPolicyFilters } from 'resources/qos-policy'; getColumns = () => { const ret = [...qosPolicyColumns]; ret[0].linkPrefix = `/network/${this.getUrl('qos-policy')}/detail`; ret.splice(2, 0, { title: t('Project ID/Name'), dataIndex: 'project_name', sortKey: 'project_id', }); return ret; }; const filters = [ ...qosPolicyFilters, { label: t('Project ID'), name: 'tenant_id', }, ]; return filters;",143,183
openstack%2Ftacker~master~If76f315d8b3856e0eef9b8808b90f0b15d80d488,openstack/tacker,master,If76f315d8b3856e0eef9b8808b90f0b15d80d488,Multi version API support,MERGED,2021-08-06 03:40:03.000000000,2021-09-16 10:01:48.000000000,2021-09-16 09:56:39.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31072}, {'_account_id': 31668}, {'_account_id': 31857}, {'_account_id': 32581}, {'_account_id': 33455}, {'_account_id': 33458}]","[{'number': 1, 'created': '2021-08-06 03:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ab22a527b6f36cb6ea18c9313b61eeba26c8a873', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 2, 'created': '2021-08-06 04:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/41e4ec9fb8af5f43f0f7e73d38a28a9b9433356e', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 3, 'created': '2021-08-07 00:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0f5435044e8b6e42d62b40fafc95e103b50b8ee1', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 4, 'created': '2021-08-07 23:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/45c9e068238ca265fb4aaa31b9aef4f637b46e9e', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 5, 'created': '2021-08-08 03:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f2dba3fd76cf3608d586e4caacf9572c0c922134', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 6, 'created': '2021-08-08 04:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/fee5b4ff52390a5603f15a111dfebf28b7b00304', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 7, 'created': '2021-08-09 00:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/813ca69c1489bcd1f9c5d4c90274589e856b6564', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 8, 'created': '2021-08-09 02:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/56051bd9df7e79dbe0f01023eb766dc0a6b3d506', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 9, 'created': '2021-08-09 22:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3d2ee343ae7d87c4af49c220086206c4806116bf', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 10, 'created': '2021-08-10 00:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d64cc7ea8059c8adeffb4c3aa7938283a02ad6b7', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 11, 'created': '2021-08-10 01:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/bb5d1afca131d13173111c5fa592aee0a53bdb29', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 12, 'created': '2021-08-11 02:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ba8e8796074404d56670497c472dbfdf162da739', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 13, 'created': '2021-08-11 03:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/52b1410562cadc19b989f115a40c318b0fa794bd', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 14, 'created': '2021-08-17 01:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2dc2f610113fedd37b981c06da1608f946955015', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 15, 'created': '2021-08-17 23:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5d49a1542e17aeaaf51e2134f0a4232049e8184b', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 16, 'created': '2021-08-19 04:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/77c2093d35e93d221842e7b5d7d5dac708e40cef', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 17, 'created': '2021-08-19 05:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/85a91b86ce4972c07b7c1cfcf3fea0d054b2af5b', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 18, 'created': '2021-08-24 04:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a130388bcb7bbd050dde42915597acafb4eec7a0', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 19, 'created': '2021-08-26 00:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1f20446da82dedc765cdfb7bd25ab37a644fe24e', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 20, 'created': '2021-08-27 01:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/cd04ce4c1c5d9f763cfc1ee366ca3b99b3c86633', 'message': '[WIP] Multi version API support\n\nTODO:\n* enhance this commit message\n* some cleanups\n* add UT/FT\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 21, 'created': '2021-08-30 02:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/cc0f6c5bbdccd3f3326929fdf1d468a187f3da33', 'message': '[WIP] Multi version API support\n\nThis patch provides a base to support multi version API.\n\nThe existing code of functions for SOL specification was hard to\nunderstand and enhance since it is based on the code of legacy tacker\nAPI and they are connected with each other complicatedly.\n\nTherefore the code for SOL specification is newly created which\nis independent to the legacy tacker API so that it will be easy to\nmaintain and enhance.\n\nThis patch supports vnflcm v2 API (api_version 2.0.0) as a starting\npoint. It supports less functions than the exsisting v1 API at the\nmoment(Xena) but it will catch up with by the next release (Y).\n\nThis patch makes supporting another API version easy when it will\nbe supported in the future. Possibly it may thought to add v1 API to\nthis code base.\n\nTODO:\n* enhance UT/FT\n([WIP] will be removed when there are some amount of UT/FT.\nPlease review the code even if [WIP] remains.)\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 22, 'created': '2021-08-31 05:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8a87de0bba983b1c31378faf155071cca7e01cfc', 'message': '[WIP] Multi version API support\n\nThis patch provides a base to support multi version API.\n\nThe existing code of functions for SOL specification was hard to\nunderstand and enhance since it is based on the code of legacy tacker\nAPI and they are connected with each other complicatedly.\n\nTherefore the code for SOL specification is newly created which\nis independent to the legacy tacker API so that it will be easy to\nmaintain and enhance.\n\nThis patch supports vnflcm v2 API (api_version 2.0.0) as a starting\npoint. It supports less functions than the exsisting v1 API at the\nmoment(Xena) but it will catch up with by the next release (Y).\n\nThis patch makes supporting another API version easy when it will\nbe supported in the future. Possibly it may thought to add v1 API to\nthis code base.\n\nTODO:\n* enhance UT/FT\n([WIP] will be removed when there are some amount of UT/FT.\nPlease review the code even if [WIP] remains.)\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 23, 'created': '2021-09-03 00:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9f4f0567e6544deb1667650d8f6955800513be73', 'message': '[WIP] Multi version API support\n\nThis patch provides a base to support multi version API.\n\nThe existing code of functions for SOL specification was hard to\nunderstand and enhance since it is based on the code of legacy tacker\nAPI and they are connected with each other complicatedly.\n\nTherefore the code for SOL specification is newly created which\nis independent to the legacy tacker API so that it will be easy to\nmaintain and enhance.\n\nThis patch supports vnflcm v2 API (api_version 2.0.0) as a starting\npoint. It supports less functions than the exsisting v1 API at the\nmoment(Xena) but it will catch up with by the next release (Y).\n\nThis patch makes supporting another API version easy when it will\nbe supported in the future. Possibly it may thought to add v1 API to\nthis code base.\n\nTODO:\n* enhance UT/FT\n([WIP] will be removed when there are some amount of UT/FT.\nPlease review the code even if [WIP] remains.)\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 24, 'created': '2021-09-05 23:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ac6aba9bbb6b721ca6c590c232cbe821e6879dc2', 'message': '[WIP] Multi version API support\n\nThis patch provides a base to support multi version API.\n\nThe existing code of functions for SOL specification was hard to\nunderstand and enhance since it is based on the code of legacy tacker\nAPI and they are connected with each other complicatedly.\n\nTherefore the code for SOL specification is newly created which\nis independent to the legacy tacker API so that it will be easy to\nmaintain and enhance.\n\nThis patch supports vnflcm v2 API (api_version 2.0.0) as a starting\npoint. It supports less functions than the exsisting v1 API at the\nmoment(Xena) but it will catch up with by the next release (Y).\n\nThis patch makes supporting another API version easy when it will\nbe supported in the future. Possibly it may thought to add v1 API to\nthis code base.\n\nTODO:\n* enhance UT/FT\n([WIP] will be removed when there are some amount of UT/FT.\nPlease review the code even if [WIP] remains.)\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 25, 'created': '2021-09-07 22:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d5c50050aad3459f64be3b997e5021dc5e21307b', 'message': '[WIP] Multi version API support\n\nThis patch provides a base to support multi version API.\n\nThe existing code of functions for SOL specification was hard to\nunderstand and enhance since it is based on the code of legacy tacker\nAPI and they are connected with each other complicatedly.\n\nTherefore the code for SOL specification is newly created which\nis independent to the legacy tacker API so that it will be easy to\nmaintain and enhance.\n\nThis patch supports vnflcm v2 API (api_version 2.0.0) as a starting\npoint. It supports less functions than the exsisting v1 API at the\nmoment(Xena) but it will catch up with by the next release (Y).\n\nThis patch makes supporting another API version easy when it will\nbe supported in the future. Possibly it may thought to add v1 API to\nthis code base.\n\nTODO:\n* enhance UT/FT\n([WIP] will be removed when there are some amount of UT/FT.\nPlease review the code even if [WIP] remains.)\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 26, 'created': '2021-09-08 00:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2e90788cdb433a71ca9ea4dca6877accf6ee5ad0', 'message': '[WIP] Multi version API support\n\nThis patch provides a base to support multi version API.\n\nThe existing code of functions for SOL specification was hard to\nunderstand and enhance since it is based on the code of legacy tacker\nAPI and they are connected with each other complicatedly.\n\nTherefore the code for SOL specification is newly created which\nis independent to the legacy tacker API so that it will be easy to\nmaintain and enhance.\n\nThis patch supports vnflcm v2 API (api_version 2.0.0) as a starting\npoint. It supports less functions than the exsisting v1 API at the\nmoment(Xena) but it will catch up with by the next release (Y).\n\nThis patch makes supporting another API version easy when it will\nbe supported in the future. Possibly it may thought to add v1 API to\nthis code base.\n\nTODO:\n* enhance UT/FT\n([WIP] will be removed when there are some amount of UT/FT.\nPlease review the code even if [WIP] remains.)\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 27, 'created': '2021-09-08 23:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/be1e1d179fc049d4a880743a85484a8b0a181af0', 'message': '[WIP] Multi version API support\n\nThis patch provides a base to support multi version API.\n\nThe existing code of functions for SOL specification was hard to\nunderstand and enhance since it is based on the code of legacy tacker\nAPI and they are connected with each other complicatedly.\n\nTherefore the code for SOL specification is newly created which\nis independent to the legacy tacker API so that it will be easy to\nmaintain and enhance.\n\nThis patch supports vnflcm v2 API (api_version 2.0.0) as a starting\npoint. It supports less functions than the exsisting v1 API at the\nmoment(Xena) but it will catch up with by the next release (Y).\n\nThis patch makes supporting another API version easy when it will\nbe supported in the future. Possibly it may thought to add v1 API to\nthis code base.\n\nTODO:\n* enhance UT/FT\n([WIP] will be removed when there are some amount of UT/FT.\nPlease review the code even if [WIP] remains.)\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplements: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 28, 'created': '2021-09-09 05:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/591c4ffb38c23b1a726baf11e97ae305fc99e6a8', 'message': 'Multi version API support\n\nThis patch provides a base to support multi version API.\n\nThe existing code of functions for SOL specification was hard to\nunderstand and enhance since it is based on the code of legacy tacker\nAPI and they are connected with each other complicatedly.\n\nTherefore the code for SOL specification is newly created which\nis independent to the legacy tacker API so that it will be easy to\nmaintain and enhance.\n\nThis patch supports vnflcm v2 API (api_version 2.0.0) as a starting\npoint. It supports less functions than the exsisting v1 API at the\nmoment(Xena) but it will catch up with by the next release (Y).\n\nThis patch makes supporting another API version easy when it will\nbe supported in the future. Possibly it may thought to add v1 API to\nthis code base.\n\nTODO: enhance UT/FT\nUT/FT is not sufficient at the moment. Additional UTs and FTs will\nbe provided with another patches.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplements: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 29, 'created': '2021-09-09 23:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a9c99c861a16d53b9f9e9e7cd518254d58e0c2d3', 'message': 'Multi version API support\n\nThis patch provides a base to support multi version API.\n\nThe existing code of functions for SOL specification was hard to\nunderstand and enhance since it is based on the code of legacy tacker\nAPI and they are connected with each other complicatedly.\n\nTherefore the code for SOL specification is newly created which\nis independent to the legacy tacker API so that it will be easy to\nmaintain and enhance.\n\nThis patch supports vnflcm v2 API (api_version 2.0.0) as a starting\npoint. It supports less functions than the exsisting v1 API at the\nmoment(Xena) but it will catch up with by the next release (Y).\n\nThis patch makes supporting another API version easy when it will\nbe supported in the future. Possibly it may thought to add v1 API to\nthis code base.\n\nTODO: enhance UT/FT\nUT/FT is not sufficient at the moment. Additional UTs and FTs will\nbe provided with another patches.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplements: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 30, 'created': '2021-09-10 02:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7635a61080b8c566c3042ef61080d6bc6b85781a', 'message': 'Multi version API support\n\nThis patch provides a base to support multi version API.\n\nThe existing code of functions for SOL specification was hard to\nunderstand and enhance since it is based on the code of legacy tacker\nAPI and they are connected with each other complicatedly.\n\nTherefore the code for SOL specification is newly created which\nis independent to the legacy tacker API so that it will be easy to\nmaintain and enhance.\n\nThis patch supports vnflcm v2 API (api_version 2.0.0) as a starting\npoint. It supports less functions than the exsisting v1 API at the\nmoment(Xena) but it will catch up with by the next release (Y).\n\nThis patch makes supporting another API version easy when it will\nbe supported in the future. Possibly it may thought to add v1 API to\nthis code base.\n\nTODO: enhance UT/FT\nUT/FT is not sufficient at the moment. Additional UTs and FTs will\nbe provided with another patches.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplements: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 31, 'created': '2021-09-10 05:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/97c3351dfa36d5d58022ddd969cf0a6b923cdd27', 'message': 'Multi version API support\n\nThis patch provides a base to support multi version API.\n\nThe existing code of functions for SOL specification was hard to\nunderstand and enhance since it is based on the code of legacy tacker\nAPI and they are connected with each other complicatedly.\n\nTherefore the code for SOL specification is newly created which\nis independent to the legacy tacker API so that it will be easy to\nmaintain and enhance.\n\nThis patch supports vnflcm v2 API (api_version 2.0.0) as a starting\npoint. It supports less functions than the exsisting v1 API at the\nmoment(Xena) but it will catch up with by the next release (Y).\n\nThis patch makes supporting another API version easy when it will\nbe supported in the future. Possibly it may thought to add v1 API to\nthis code base.\n\nTODO: enhance UT/FT\nUT/FT is not sufficient at the moment. Additional UTs and FTs will\nbe provided with another patches.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplements: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 32, 'created': '2021-09-10 09:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/84f75ff35de5061f9653fbb32e64ca3f2743cdcb', 'message': 'Multi version API support\n\nThis patch provides a base to support multi version API.\n\nThe existing code of functions for SOL specification was hard to\nunderstand and enhance since it is based on the code of legacy tacker\nAPI and they are connected with each other complicatedly.\n\nTherefore the code for SOL specification is newly created which\nis independent to the legacy tacker API so that it will be easy to\nmaintain and enhance.\n\nThis patch supports vnflcm v2 API (api_version 2.0.0) as a starting\npoint. It supports less functions than the exsisting v1 API at the\nmoment(Xena) but it will catch up with by the next release (Y).\n\nThis patch makes supporting another API version easy when it will\nbe supported in the future. Possibly it may thought to add v1 API to\nthis code base.\n\nTODO: enhance UT/FT\nUT/FT is not sufficient at the moment. Additional UTs and FTs will\nbe provided with another patches.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplements: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 33, 'created': '2021-09-12 23:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9980543824b5e0fcca20a381bcd82346986fd53c', 'message': 'Multi version API support\n\nThis patch provides a base to support multi version API.\n\nThe existing code of functions for SOL specification was hard to\nunderstand and enhance since it is based on the code of legacy tacker\nAPI and they are connected with each other complicatedly.\n\nTherefore the code for SOL specification is newly created which\nis independent to the legacy tacker API so that it will be easy to\nmaintain and enhance.\n\nThis patch supports vnflcm v2 API (api_version 2.0.0) as a starting\npoint. It supports less functions than the exsisting v1 API at the\nmoment(Xena) but it will catch up with by the next release (Y).\n\nThis patch makes supporting another API version easy when it will\nbe supported in the future. Possibly it may thought to add v1 API to\nthis code base.\n\nTODO: enhance UT/FT\nUT/FT is not sufficient at the moment. Additional UTs and FTs will\nbe provided with another patches.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplements: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 34, 'created': '2021-09-13 02:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/bdb497ee397c7d76c268c7d2df78461fc81bb82c', 'message': 'Multi version API support\n\nThis patch provides a base to support multi version API.\n\nThe existing code of functions for SOL specification was hard to\nunderstand and enhance since it is based on the code of legacy tacker\nAPI and they are connected with each other complicatedly.\n\nTherefore the code for SOL specification is newly created which\nis independent to the legacy tacker API so that it will be easy to\nmaintain and enhance.\n\nThis patch supports vnflcm v2 API (api_version 2.0.0) as a starting\npoint. It supports less functions than the exsisting v1 API at the\nmoment(Xena) but it will catch up with by the next release (Y).\n\nThis patch makes supporting another API version easy when it will\nbe supported in the future. Possibly it may thought to add v1 API to\nthis code base.\n\nTODO: enhance UT/FT\nUT/FT is not sufficient at the moment. Additional UTs and FTs will\nbe provided with another patches.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplements: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 35, 'created': '2021-09-13 23:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a5b0a106b68481dab3b44076988aecc564ac3261', 'message': 'Multi version API support\n\nThis patch provides a base to support multi version API.\n\nThe existing code of functions for SOL specification was hard to\nunderstand and enhance since it is based on the code of legacy tacker\nAPI and they are connected with each other complicatedly.\n\nTherefore the code for SOL specification is newly created which\nis independent to the legacy tacker API so that it will be easy to\nmaintain and enhance.\n\nThis patch supports vnflcm v2 API (api_version 2.0.0) as a starting\npoint. It supports less functions than the exsisting v1 API at the\nmoment(Xena) but it will catch up with by the next release (Y).\n\nThis patch makes supporting another API version easy when it will\nbe supported in the future. Possibly it may thought to add v1 API to\nthis code base.\n\nTODO: enhance UT/FT\nUT/FT is not sufficient at the moment. Additional UTs and FTs will\nbe provided with another patches.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplements: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 36, 'created': '2021-09-14 23:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5a6f919ff5cafbde8a4367f4ddda32b136368638', 'message': 'Multi version API support\n\nThis patch provides a base to support multi version API.\n\nThe existing code of functions for SOL specification was hard to\nunderstand and enhance since it is based on the code of legacy tacker\nAPI and they are connected with each other complicatedly.\n\nTherefore the code for SOL specification is newly created which\nis independent to the legacy tacker API so that it will be easy to\nmaintain and enhance.\n\nThis patch supports vnflcm v2 API (api_version 2.0.0) as a starting\npoint. It supports less functions than the exsisting v1 API at the\nmoment(Xena) but it will catch up with by the next release (Y).\n\nThis patch makes supporting another API version easy when it will\nbe supported in the future. Possibly it may thought to add v1 API to\nthis code base.\n\nTODO: enhance UT/FT\nUT/FT is not sufficient at the moment. Additional UTs and FTs will\nbe provided with another patches.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplements: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 37, 'created': '2021-09-15 03:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/983fcf2893d414d4b169d293f6cbc501e48e6e3c', 'message': 'Multi version API support\n\nThis patch provides a base to support multi version API.\n\nThe existing code of functions for SOL specification was hard to\nunderstand and enhance since it is based on the code of legacy tacker\nAPI and they are connected with each other complicatedly.\n\nTherefore the code for SOL specification is newly created which\nis independent to the legacy tacker API so that it will be easy to\nmaintain and enhance.\n\nThis patch supports vnflcm v2 API (api_version 2.0.0) as a starting\npoint. It supports less functions than the exsisting v1 API at the\nmoment(Xena) but it will catch up with by the next release (Y).\n\nThis patch makes supporting another API version easy when it will\nbe supported in the future. Possibly it may thought to add v1 API to\nthis code base.\n\nTODO: enhance UT/FT\nUT/FT is not sufficient at the moment. Additional UTs and FTs will\nbe provided with another patches.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplements: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 38, 'created': '2021-09-15 04:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c49fb43bcbefe07570dc68e7bdd4c6a3e0581aaa', 'message': 'Multi version API support\n\nThis patch provides a base to support multi version API.\n\nThe existing code of functions for SOL specification was hard to\nunderstand and enhance since it is based on the code of legacy tacker\nAPI and they are connected with each other complicatedly.\n\nTherefore the code for SOL specification is newly created which\nis independent to the legacy tacker API so that it will be easy to\nmaintain and enhance.\n\nThis patch supports vnflcm v2 API (api_version 2.0.0) as a starting\npoint. It supports less functions than the exsisting v1 API at the\nmoment(Xena) but it will catch up with by the next release (Y).\n\nThis patch makes supporting another API version easy when it will\nbe supported in the future. Possibly it may thought to add v1 API to\nthis code base.\n\nTODO: enhance UT/FT\nUT/FT is not sufficient at the moment. Additional UTs and FTs will\nbe provided with another patches.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplements: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}, {'number': 39, 'created': '2021-09-16 01:20:09.000000000', 'files': ['tacker/api/vnflcm/v1/controller.py', 'tacker/sol_refactored/common/vnf_instance_utils.py', 'tacker/sol_refactored/test-tools/cli.py', 'tacker/policies/__init__.py', 'tacker/tests/unit/sol_refactored/infra_drivers/__init__.py', 'tacker/sol_refactored/api/schemas/__init__.py', 'tacker/tests/functional/sol_v2/samples/sample2/contents/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/functional/sol_v2/paramgen.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/Definitions/v2_sample1_df_simple.yaml', 'tacker/api/validation/validators.py', 'tacker/tests/unit/sol_refactored/infra_drivers/openstack/__init__.py', 'tacker/sol_refactored/controller/vnflcm_versions.py', 'tacker/sol_refactored/objects/base.py', 'tacker/tests/unit/sol_refactored/samples/sample1/Scripts/sample_script.py', 'tacker/tests/functional/sol_v2/base_v2.py', 'tacker/db/migration/alembic_migrations/versions/HEAD', 'tacker/tests/functional/sol_v2/utils.py', 'tacker/tests/unit/sol_refactored/common/test_coordinate.py', 'tacker/tests/functional/sol_v2/__init__.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/Definitions/etsi_nfv_sol001_common_types.yaml', 'tacker/tests/unit/sol_refactored/__init__.py', 'tacker/tests/unit/sol_refactored/objects/__init__.py', 'tacker/sol_refactored/infra_drivers/openstack/openstack.py', 'tacker/sol_refactored/conductor/conductor_v2.py', 'tacker/tests/unit/sol_refactored/common/test_vnfd_utils.py', 'tacker/context.py', 'tacker/tests/unit/sol_refactored/infra_drivers/openstack/test_userdata_utils.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/functional/sol_v2/samples/sample2/contents/Definitions/etsi_nfv_sol001_vnfd_types.yaml', 'tacker/tests/unit/sol_refactored/controller/test_vnflcm_v2.py', 'tacker/common/rpc.py', 'tacker/sol_refactored/db/__init__.py', 'tacker/sol_refactored/infra_drivers/openstack/heat_utils.py', 'tacker/tests/functional/sol_v2/test_vnflcm_basic.py', 'tacker/sol_refactored/common/vim_utils.py', 'tacker/tests/functional/sol_v2/samples/sample2/contents/UserData/userdata_default.py', 'tacker/tests/unit/sol_refactored/samples/sample1/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/functional/sol_v2/samples/sample2/contents/Scripts/sample_script.py', 'tacker/sol_refactored/common/coordinate.py', 'tacker/tests/unit/sol_refactored/api/__init__.py', 'tacker/sol_refactored/infra_drivers/openstack/userdata_default.py', 'tacker/db/migration/models/head.py', 'tacker/tests/functional/sol_v2/samples/sample2/contents/BaseHOT/simple/sample2.yaml', 'tacker/sol_refactored/nfvo/glance_utils.py', 'tacker/tests/unit/sol_refactored/api/test_api_version.py', 'tacker/tests/functional/sol_v2/samples/sample2/contents/BaseHOT/simple/nested/VDU1.yaml', 'tacker/sol_refactored/api/validator.py', 'tacker/sol_refactored/api/router.py', 'tacker/sol_refactored/db/sqlalchemy/models.py', 'tacker/sol_refactored/test-tools/notif_endpoint_app.py', '.zuul.yaml', 'tacker/sol_refactored/nfvo/local_nfvo.py', 'tacker/tests/functional/sol_v2/samples/sample2/contents/Definitions/v2_sample2_types.yaml', 'tacker/sol_refactored/api/wsgi.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/Definitions/etsi_nfv_sol001_vnfd_types.yaml', 'tacker/sol_refactored/objects/__init__.py', 'tacker/sol_refactored/nfvo/nfvo_client.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/BaseHOT/simple/sample1.yaml', 'tacker/sol_refactored/common/lcm_op_occ_utils.py', 'tacker/sol_refactored/common/exceptions.py', 'tacker/tests/unit/sol_refactored/common/__init__.py', 'tacker/tests/unit/sol_refactored/common/test_vnf_instance_utils.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/Definitions/v2_sample1_types.yaml', 'tacker/tests/unit/sol_refactored/objects/test_base.py', 'tacker/tests/functional/sol_v2/samples/sample2/pkggen.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/unit/sol_refactored/api/test_validator.py', 'tacker/tests/unit/sol_refactored/samples/sample1/BaseHOT/simple/ut_sample1.yaml', 'tacker/sol_refactored/controller/__init__.py', 'tacker/sol_refactored/common/http_client.py', 'tacker/sol_refactored/conductor/v2_hook.py', 'tacker/tests/unit/sol_refactored/samples/sample1/TOSCA-Metadata/TOSCA.meta', 'tacker/sol_refactored/controller/vnflcm_view.py', 'tacker/tests/functional/sol_v2/samples/sample2/contents/Definitions/etsi_nfv_sol001_common_types.yaml', 'tacker/tests/unit/sol_refactored/samples/sample1/Definitions/ut_sample1_df_simple.yaml', 'tacker/sol_refactored/conductor/conductor_rpc_v2.py', 'tacker/sol_refactored/infra_drivers/openstack/userdata_utils.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/Definitions/v2_sample1_top.vnfd.yaml', 'tacker/tests/functional/sol_v2/samples/sample1/pkggen.py', 'tox.ini', 'tacker/tests/unit/sol_refactored/controller/test_vnflcm_view.py', 'tacker/sol_refactored/api/schemas/common_types.py', 'tacker/sol_refactored/controller/vnflcm_v2.py', 'tacker/policies/vnf_lcm.py', 'releasenotes/notes/add-multi-version-api-support-0653df1edb67162e.yaml', 'tacker/tests/unit/sol_refactored/api/test_wsgi.py', 'tacker/sol_refactored/conductor/vnflcm_driver_v2.py', 'tacker/sol_refactored/common/vnfd_utils.py', 'tacker/sol_refactored/mgmt_drivers/sample_script.py', 'tacker/sol_refactored/common/config.py', 'tacker/sol_refactored/api/api_version.py', 'tacker/sol_refactored/db/api.py', 'tacker/sol_refactored/db/sqlalchemy/__init__.py', 'tacker/sol_refactored/conductor/__init__.py', 'tacker/tests/unit/sol_refactored/controller/__init__.py', 'tacker/tests/unit/sol_refactored/samples/sample1/UserData/userdata_default.py', 'tacker/sol_refactored/infra_drivers/openstack/userdata_main.py', 'tacker/tests/functional/sol_v2/samples/sample2/contents/Definitions/v2_sample2_top.vnfd.yaml', 'etc/tacker/api-paste.ini', 'tacker/cmd/eventlet/tacker_server.py', 'tacker/sol_refactored/api/schemas/vnflcm_v2.py', 'tacker/sol_refactored/common/subscription_utils.py', 'tacker/db/migration/alembic_migrations/versions/a23ebee909a8_introduce_sol_refactored_models.py', 'tacker/tests/functional/sol_v2/samples/sample2/contents/Definitions/v2_sample2_df_simple.yaml', 'tacker/sol_refactored/api/policies/vnflcm_v2.py', 'tacker/conductor/conductor_server.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/5f35b695bffa96f0ec0725f04798570b1b3efe08', 'message': 'Multi version API support\n\nThis patch provides a base to support multi version API.\n\nThe existing code of functions for SOL specification was hard to\nunderstand and enhance since it is based on the code of legacy tacker\nAPI and they are connected with each other complicatedly.\n\nTherefore the code for SOL specification is newly created which\nis independent to the legacy tacker API so that it will be easy to\nmaintain and enhance.\n\nThis patch supports vnflcm v2 API (api_version 2.0.0) as a starting\npoint. It supports less functions than the exsisting v1 API at the\nmoment(Xena) but it will catch up with by the next release (Y).\n\nThis patch makes supporting another API version easy when it will\nbe supported in the future. Possibly it may thought to add v1 API to\nthis code base.\n\nTODO: enhance UT/FT\nUT/FT is not sufficient at the moment. Additional UTs and FTs will\nbe provided with another patches.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplements: blueprint support-nfv-solv3-subscriptions\nChange-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488\n'}]",382,803693,5f35b695bffa96f0ec0725f04798570b1b3efe08,166,9,39,4149,,,0,"Multi version API support

This patch provides a base to support multi version API.

The existing code of functions for SOL specification was hard to
understand and enhance since it is based on the code of legacy tacker
API and they are connected with each other complicatedly.

Therefore the code for SOL specification is newly created which
is independent to the legacy tacker API so that it will be easy to
maintain and enhance.

This patch supports vnflcm v2 API (api_version 2.0.0) as a starting
point. It supports less functions than the exsisting v1 API at the
moment(Xena) but it will catch up with by the next release (Y).

This patch makes supporting another API version easy when it will
be supported in the future. Possibly it may thought to add v1 API to
this code base.

TODO: enhance UT/FT
UT/FT is not sufficient at the moment. Additional UTs and FTs will
be provided with another patches.

Implements: blueprint multi-version-api
Implements: blueprint support-nfv-solv3-start-and-terminate-vnf
Implements: blueprint support-nfv-solv3-query-vnf-instances
Implements: blueprint support-nfv-solv3-query-operation-occurrences
Implements: blueprint support-nfv-solv3-subscriptions
Change-Id: If76f315d8b3856e0eef9b8808b90f0b15d80d488
",git fetch https://review.opendev.org/openstack/tacker refs/changes/93/803693/37 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/sol_refactored/common/vnf_instance_utils.py', 'tacker/sol_refactored/test-tools/cli.py', 'tacker/policies/__init__.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/BaseHOT/simple/sample1.yaml', 'tacker/sol_refactored/common/lcm_op_occ_utils.py', 'tacker/sol_refactored/common/exceptions.py', 'tacker/sol_refactored/api/schemas/__init__.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/Definitions/v2_sample1_types.yaml', 'tacker/sol_refactored/db/sqlalchemy/api.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/Definitions/v2_sample1_df_simple.yaml', 'tacker/tests/functional/sol_v2/samples/sample1/contents/BaseHOT/simple/nested/VDU1.yaml', 'tacker/sol_refactored/controller/vnflcm_versions.py', 'tacker/sol_refactored/objects/base.py', 'tacker/sol_refactored/controller/__init__.py', 'tacker/tests/functional/sol_v2/base_v2.py', 'tacker/db/migration/alembic_migrations/versions/HEAD', 'tacker/sol_refactored/common/http_client.py', 'tacker/tests/functional/sol_v2/utils.py', 'tacker/tests/functional/sol_v2/__init__.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/Definitions/etsi_nfv_sol001_common_types.yaml', 'tacker/sol_refactored/infra_drivers/openstack/openstack.py', 'tacker/sol_refactored/conductor/conductor_v2.py', 'tacker/sol_refactored/conductor/v2_hook.py', 'tacker/context.py', 'tacker/sol_refactored/controller/vnflcm_view.py', 'tacker/sol_refactored/conductor/conductor_rpc_v2.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/TOSCA-Metadata/TOSCA.meta', 'tacker/sol_refactored/infra_drivers/openstack/userdata_utils.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/Definitions/v2_sample1_top.vnfd.yaml', 'tacker/tests/functional/sol_v2/samples/sample1/pkggen.py', 'tacker/common/rpc.py', 'tox.ini', 'tacker/sol_refactored/api/schemas/common_types.py', 'tacker/sol_refactored/controller/vnflcm_v2.py', 'tacker/sol_refactored/db/__init__.py', 'tacker/sol_refactored/infra_drivers/openstack/heat_utils.py', 'tacker/tests/functional/sol_v2/test_vnflcm_basic.py', 'tacker/sol_refactored/common/vim_utils.py', 'tacker/sol_refactored/test-tools/fake_nfvo.py', 'tacker/policies/vnf_lcm.py', 'tacker/sol_refactored/conductor/vnflcm_driver_v2.py', 'tacker/sol_refactored/common/vnfd_utils.py', 'tacker/sol_refactored/common/coordinate.py', 'tacker/sol_refactored/mgmt_drivers/sample_script.py', 'tacker/sol_refactored/common/config.py', 'tacker/sol_refactored/api/api_version.py', 'tacker/sol_refactored/infra_drivers/openstack/userdata_default.py', 'tacker/db/migration/models/head.py', 'tacker/sol_refactored/db/api.py', 'tacker/sol_refactored/db/sqlalchemy/__init__.py', 'tacker/sol_refactored/conductor/__init__.py', 'tacker/sol_refactored/nfvo/glance_utils.py', 'tacker/sol_refactored/infra_drivers/openstack/userdata_main.py', 'etc/tacker/api-paste.ini', 'tacker/sol_refactored/api/validator.py', 'tacker/sol_refactored/api/router.py', 'tacker/sol_refactored/db/sqlalchemy/models.py', '.zuul.yaml', 'tacker/cmd/eventlet/tacker_server.py', 'tacker/sol_refactored/nfvo/local_nfvo.py', 'tacker/sol_refactored/api/wsgi.py', 'tacker/sol_refactored/common/subscription_utils.py', 'tacker/db/migration/alembic_migrations/versions/a23ebee909a8_introduce_sol_refactored_models.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/Definitions/etsi_nfv_sol001_vnfd_types.yaml', 'tacker/sol_refactored/api/schemas/vnf_instances.py', 'tacker/sol_refactored/objects/__init__.py', 'tacker/sol_refactored/api/policies/vnflcm_v2.py', 'tacker/conductor/conductor_server.py', 'tacker/sol_refactored/nfvo/nfvo_client.py']",71,ab22a527b6f36cb6ea18c9313b61eeba26c8a873,bp/multi-version-api,"# Copyright (C) 2021 Nippon Telegraph and Telephone Corporation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging from tacker.sol_refactored.common import config from tacker.sol_refactored.common import http_client from tacker.sol_refactored.common import lcm_op_occ_utils as lcmocc_utils from tacker.sol_refactored.common import subscription_utils as subsc_utils from tacker.sol_refactored.common import vnfd_utils from tacker.sol_refactored.nfvo import local_nfvo from tacker.sol_refactored import objects LOG = logging.getLogger(__name__) CONF = config.CONF class NfvoClient(object): def __init__(self): self.is_local = True self.nfvo = local_nfvo.LocalNfvo() if CONF.v2_nfvo.use_external_nfvo: self.is_local = False auth_handle = http_client.OAuth2AuthHandle( CONF.v2_nfvo.endpoint, CONF.v2_nfvo.token_endpoint, CONF.v2_nfvo.client_id, CONF.v2_nfvo.client_password) self.client = http_client.HttpClient(auth_handle, version=CONF.v2_nfvo.api_version) def get_vnf_package_info_vnfd(self, context, vnfd_id): if self.is_local: return self.nfvo.onboarded_show(context, vnfd_id) url = ""/vnfpkgm/v2/onboarded_vnf_packages/{}"".format(vnfd_id) resp, body = self.client.do_request(context, url, ""GET"", [200]) LOG.debug(""vnfpkg_info_vnfd: %s"" % body) return objects.VnfPkgInfoV2.from_dict(body) def onboarded_show_vnfd(self, context, vnfd_id): if self.is_local: # this is not happen. will raise internal server error. LOG.error(""onboarded_show_vnfd is called."") return url = ""/vnfpkgm/v2/onboarded_vnf_packages/{}/vnfd"".format(vnfd_id) resp, body = self.client.do_request(context, url, ""GET"", [200]) return body def onboarded_package_content(self, context, vnfd_id): if self.is_local: # this is not happen. will raise internal server error. LOG.error(""onboarded_package_content is called."") return url = ""/vnfpkgm/v2/onboarded_vnf_packages/{}/package_content"" url = url.format(vnfd_id) resp, body = self.client.do_request(context, url, ""GET"", [200]) return body def grant(self, context, grant_req): LOG.debug(""grant request: %s"", grant_req.to_dict()) if self.is_local: grant_res = self.nfvo.grant(context, grant_req) else: url = ""/grant/v2/grants"" resp, body = self.client.do_request(context, url, ""POST"", [201], body=grant_req) grant_res = objects.GrantV1.from_dict(body) LOG.debug(""grant response: %s"", grant_res.to_dict()) return grant_res def get_vnfd(self, context, vnfd_id, all_contents=False): if self.is_local: return self.nfvo.get_vnfd(context, vnfd_id) if all_contents: zip_file = self.onboarded_package_content(context, vnfd_id) else: zip_file = self.onboarded_show_vnfd(context, vnfd_id) vnfd = vnfd_utils.Vnfd(vnfd_id) vnfd.init_from_zip_file(zip_file) return vnfd def send_inst_create_notification(self, context, inst, endpoint): subscs = subsc_utils.get_inst_create_subscs(context, inst) for subsc in subscs: notif_data = subsc_utils.make_create_inst_notif_data( subsc, inst, endpoint) subsc_utils.send_notification(context, subsc, notif_data) if self.is_local: self.nfvo.recv_inst_create_notification(context, inst) def send_inst_delete_notification(self, context, inst, endpoint): subscs = subsc_utils.get_inst_delete_subscs(context, inst) for subsc in subscs: notif_data = subsc_utils.make_delete_inst_notif_data( subsc, inst, endpoint) subsc_utils.send_notification(context, subsc, notif_data) if self.is_local: self.nfvo.recv_inst_delete_notification(context, inst) def send_lcmocc_notification(self, context, lcmocc, inst, endpoint): subscs = subsc_utils.get_lcmocc_subscs(context, lcmocc, inst) for subsc in subscs: notif_data = lcmocc_utils.make_lcmocc_notif_data( subsc, lcmocc, endpoint) subsc_utils.send_notification(context, subsc, notif_data) if self.is_local: self.nfvo.recv_lcmocc_notification(context, lcmocc, inst) ",,9110,14
openstack%2Ftripleo-ci~master~I21a4a5714de32e080d6c94369b8e0f26a15f1be9,openstack/tripleo-ci,master,I21a4a5714de32e080d6c94369b8e0f26a15f1be9,Test,ABANDONED,2021-04-26 10:43:23.000000000,2021-09-16 09:56:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-26 10:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8689a544ed6732c3c2b2eb4b36ea6b4f3efd259e', 'message': 'Test\n\nEnable memcached TLS testing in tripleo-standalone-multinode-ipa\n\nChange-Id: I21a4a5714de32e080d6c94369b8e0f26a15f1be9\n'}, {'number': 2, 'created': '2021-05-19 11:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5ad6c3c67e5838d37089e4b6bba3b29a57119923', 'message': 'Test\n\nEnable memcached TLS testing in tripleo-standalone-multinode-ipa\n\nDepends-On: https://review.opendev.org/792131\nChange-Id: I21a4a5714de32e080d6c94369b8e0f26a15f1be9\n'}, {'number': 3, 'created': '2021-06-30 12:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/99da8d7418851a317e158b853793f8b69ab439c3', 'message': 'Test\n\nEnable memcached TLS testing in tripleo-standalone-multinode-ipa\n\nDepends-On: https://review.opendev.org/796832\nChange-Id: I21a4a5714de32e080d6c94369b8e0f26a15f1be9\n'}, {'number': 4, 'created': '2021-07-26 07:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/37b899636d3558b45be10114e3850f31368120ea', 'message': 'Test\n\nEnable memcached TLS testing in tripleo-standalone-multinode-ipa\n\nDepends-On: https://review.opendev.org/796832\nChange-Id: I21a4a5714de32e080d6c94369b8e0f26a15f1be9\n'}, {'number': 5, 'created': '2021-07-26 07:50:21.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2086d0813aa233c252c483eadd76a2414754272f', 'message': 'Test\n\nEnable memcached TLS testing in tripleo-standalone-multinode-ipa\n\nDepends-On: https://review.opendev.org/796832\nChange-Id: I21a4a5714de32e080d6c94369b8e0f26a15f1be9\n'}]",0,787955,2086d0813aa233c252c483eadd76a2414754272f,33,2,5,14250,,,0,"Test

Enable memcached TLS testing in tripleo-standalone-multinode-ipa

Depends-On: https://review.opendev.org/796832
Change-Id: I21a4a5714de32e080d6c94369b8e0f26a15f1be9
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/55/787955/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,8689a544ed6732c3c2b2eb4b36ea6b4f3efd259e,, - tripleo-ci-centos-8-standalone-on-multinode-ipa, templates: - tripleo-ci-build-containers-jobs - tripleo-ci-buildimage-jobs - tripleo-multinode-branchful - tripleo-multinode-container-full-pipeline - tripleo-standalone-scenarios-pipeline - tripleo-undercloud-jobs-pipeline - tripleo-periodic,1,8
openstack%2Fneutron~stable%2Fxena~I7fc8a787d9ddc9fe3dfec71ebba9e263d799c1a9,openstack/neutron,stable/xena,I7fc8a787d9ddc9fe3dfec71ebba9e263d799c1a9,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-15 17:39:13.000000000,2021-09-16 09:38:56.000000000,2021-09-16 09:34:14.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 17:39:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b1847ae96e737359578c260bed0bd40f8e8dc30', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I7fc8a787d9ddc9fe3dfec71ebba9e263d799c1a9\n'}]",0,809266,1b1847ae96e737359578c260bed0bd40f8e8dc30,9,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I7fc8a787d9ddc9fe3dfec71ebba9e263d799c1a9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/809266/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1b1847ae96e737359578c260bed0bd40f8e8dc30,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fnova~master~Ib3d680654fe0809c9e8341dffd3a63ab02945a38,openstack/nova,master,Ib3d680654fe0809c9e8341dffd3a63ab02945a38,docs: Add nova-volume volume_attachment refresh admin workflow,MERGED,2021-09-15 09:27:24.000000000,2021-09-16 09:37:19.000000000,2021-09-16 09:34:20.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 09:27:24.000000000', 'files': ['doc/source/admin/manage-volumes.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/70040856aaff069fabab84b64fb0c2858bdb1b7d', 'message': 'docs: Add nova-volume volume_attachment refresh admin workflow\n\nThis adds some basic documentation for the above command and also\nincludes some very generic osc commands to use when checking volume\nattachments.\n\nBlueprint: nova-manage-refresh-connection-info\nChange-Id: Ib3d680654fe0809c9e8341dffd3a63ab02945a38\n'}]",0,809161,70040856aaff069fabab84b64fb0c2858bdb1b7d,10,3,1,10135,,,0,"docs: Add nova-volume volume_attachment refresh admin workflow

This adds some basic documentation for the above command and also
includes some very generic osc commands to use when checking volume
attachments.

Blueprint: nova-manage-refresh-connection-info
Change-Id: Ib3d680654fe0809c9e8341dffd3a63ab02945a38
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/809161/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/manage-volumes.rst'],1,70040856aaff069fabab84b64fb0c2858bdb1b7d,bp/nova-manage-commands-to-manage-connection_info," Managing volume attachments --------------------------- During the lifecycle of an instance admins may need to check various aspects of how a given volume is mapped both to an instance and the underlying compute hosting the instance. This could even include refreshing different elements of the attachment to ensure the latest configuration changes within the environment have been applied. Checking an existing attachment ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Existing volume attachments can be checked using the following :python-openstackclient-doc:`OpenStack Client commands <cli/command-objects>`: List all volume attachments for a given instance: .. code-block:: shell $ openstack server volume list 216f9481-4c9d-4530-b865-51cedfa4b8e7 +--------------------------------------+----------+--------------------------------------+--------------------------------------+ | ID | Device | Server ID | Volume ID | +--------------------------------------+----------+--------------------------------------+--------------------------------------+ | 8b9b3491-f083-4485-8374-258372f3db35 | /dev/vdb | 216f9481-4c9d-4530-b865-51cedfa4b8e7 | 8b9b3491-f083-4485-8374-258372f3db35 | +--------------------------------------+----------+--------------------------------------+--------------------------------------+ List all volume attachments for a given instance with the Cinder volume attachment and Block Device Mapping UUIDs also listed with microversion >=2.89: .. code-block:: shell $ openstack --os-compute-api-version 2.89 server volume list 216f9481-4c9d-4530-b865-51cedfa4b8e7 +----------+--------------------------------------+--------------------------------------+------+------------------------+--------------------------------------+--------------------------------------+ | Device | Server ID | Volume ID | Tag | Delete On Termination? | Attachment ID | BlockDeviceMapping UUID | +----------+--------------------------------------+--------------------------------------+------+------------------------+--------------------------------------+--------------------------------------+ | /dev/vdb | 216f9481-4c9d-4530-b865-51cedfa4b8e7 | 8b9b3491-f083-4485-8374-258372f3db35 | None | False | d338fb38-cfd5-461f-8753-145dcbdb6c78 | 4e957e6d-52f2-44da-8cf8-3f1ab755e26d | +----------+--------------------------------------+--------------------------------------+------+------------------------+--------------------------------------+--------------------------------------+ List all Cinder volume attachments for a given volume from microversion >= 3.27: .. code-block:: shell $ openstack --os-volume-api-version 3.27 volume attachment list --volume-id 8b9b3491-f083-4485-8374-258372f3db35 +--------------------------------------+--------------------------------------+--------------------------------------+----------+ | ID | Volume ID | Server ID | Status | +--------------------------------------+--------------------------------------+--------------------------------------+----------+ | d338fb38-cfd5-461f-8753-145dcbdb6c78 | 8b9b3491-f083-4485-8374-258372f3db35 | 216f9481-4c9d-4530-b865-51cedfa4b8e7 | attached | +--------------------------------------+--------------------------------------+--------------------------------------+----------+ Show the details of a Cinder volume attachment from microversion >= 3.27: .. code-block:: shell $ openstack --os-volume-api-version 3.27 volume attachment show d338fb38-cfd5-461f-8753-145dcbdb6c78 +-------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ | Field | Value | +-------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ | ID | d338fb38-cfd5-461f-8753-145dcbdb6c78 | | Volume ID | 8b9b3491-f083-4485-8374-258372f3db35 | | Instance ID | 216f9481-4c9d-4530-b865-51cedfa4b8e7 | | Status | attached | | Attach Mode | rw | | Attached At | 2021-09-14T13:03:38.000000 | | Detached At | | | Properties | access_mode='rw', attachment_id='d338fb38-cfd5-461f-8753-145dcbdb6c78', auth_method='CHAP', auth_password='4XyNNFV2TLPhKXoP', auth_username='jsBMQhWZJXupA4eWHLQG', cacheable='False', driver_volume_type='iscsi', encrypted='False', qos_specs=, target_discovered='False', target_iqn='iqn.2010-10.org.openstack:volume-8b9b3491-f083-4485-8374-258372f3db35', target_lun='0', target_portal='192.168.122.99:3260', volume_id='8b9b3491-f083-4485-8374-258372f3db35' | +-------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ Refresh a volume attachment with nova-manage ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ .. versionadded:: 24.0.0 (Xena) Admins may also refresh an existing volume attachment using the following :program:`nova-manage` commands. .. note:: Users can also refresh volume attachments by shelving and later unshelving their instances. The following is an alternative to that workflow and useful for admins when having to mass refresh attachments across an environment. .. note:: Future work will look into introducing an os-refresh admin API that will include orchestrating the shutdown of an instance and refreshing volume attachments among other things. To begin the admin can use the `volume_attachment show` subcommand to dump existing details of the attachment directly from the Nova database. This includes the stashed `connection_info` not shared by the API. .. code-block:: shell $ nova-manage volume_attachment show 216f9481-4c9d-4530-b865-51cedfa4b8e7 8b9b3491-f083-4485-8374-258372f3db35 --json | jq .attachment_id ""d338fb38-cfd5-461f-8753-145dcbdb6c78"" If the stored `connection_info` or `attachment_id` are incorrect then the admin may want to refresh the attachment to the compute host entirely by recreating the Cinder volume attachment record(s) and pulling down fresh `connection_info`. To do this we first need to ensure the instance is stopped: .. code-block:: shell $ openstack server stop 216f9481-4c9d-4530-b865-51cedfa4b8e7 Once stopped the host connector of the compute hosting the instance has to be fetched using the `volume_attachment get_connector` subcommand: .. code-block:: shell root@compute $ nova-manage volume_attachment get_connector --json > connector.json .. note:: Future work will remove this requirement and incorperate the gathering of the host connector into the main refresh command. Unfortunatley until then it must remain a seperate manual step. We can then provide this connector to the `volume_attachment refresh` subcommand. This command will connect to the compute, disconnect any host volume connections, delete the existing Cinder volume attachment, recreate the volume attachment and finally update Nova's database. .. code-block:: shell $ nova-manage volume_attachment refresh 216f9481-4c9d-4530-b865-51cedfa4b8e7 8b9b3491-f083-4485-8374-258372f3db35 connector.json The Cinder volume attachment and connection_info stored in the Nova database should now be updated: .. code-block:: shell $ nova-manage volume_attachment show 216f9481-4c9d-4530-b865-51cedfa4b8e7 8b9b3491-f083-4485-8374-258372f3db35 --json | jq .attachment_id ""9ce46f49-5cfc-4c6c-b2f0-0287540d3246"" The instance can then be restarted and the event list checked .. code-block:: shell $ openstack server start $instance",,143,0
openstack%2Ftacker~master~I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2,openstack/tacker,master,I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2,Support Helm chart as interface for Kubernetes VIM,MERGED,2021-08-20 14:23:21.000000000,2021-09-16 09:37:13.000000000,2021-09-16 09:34:26.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 31730}, {'_account_id': 32102}, {'_account_id': 33292}]","[{'number': 1, 'created': '2021-08-20 14:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d9b6af8aa731411c1811f0d0d4ad2ef9c10ad1b3', 'message': '[WIP] Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 2, 'created': '2021-08-20 14:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/375cb4dd7aa0cd51ab4455c7eb4b382b89fbf669', 'message': '[WIP] Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 3, 'created': '2021-08-20 14:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/75651b1e36e7936ba5f9100e3cc68f5aa801614a', 'message': '[WIP] Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 4, 'created': '2021-08-20 14:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1a5a92ecd96ab45cbd1937db60787aa1de9be106', 'message': '[WIP] Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 5, 'created': '2021-08-24 01:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d55d22f6b263deecd38aea79ce12b7e208e78da6', 'message': '[WIP] Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 6, 'created': '2021-08-24 07:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b337967ef88b398d018065d295095d125b0a183b', 'message': '[WIP] Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 7, 'created': '2021-08-25 12:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/dc25f8ddbbf85b61221135e0a3fd52c8cb20f193', 'message': '[WIP] Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 8, 'created': '2021-08-25 15:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a8b62c9eec3c6f3275f6aa24881e54e6c0df19d4', 'message': '[WIP] Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 9, 'created': '2021-08-27 02:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/20167ba135eb6c5ec877d097bb4fcb24af215ab8', 'message': '[WIP] Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 10, 'created': '2021-08-27 02:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/560f9cf81ad7aad08c95c71f2ca665445b07a8a2', 'message': '[WIP] Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 11, 'created': '2021-08-27 09:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/80562cea0398f33ec8b6f1146eff1e4c7494458a', 'message': 'Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 12, 'created': '2021-08-31 00:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d8d5245711d6244ce3958f0a1feb0c3107a878cc', 'message': 'Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 13, 'created': '2021-08-31 13:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/14a4841f9654b539ff161fe7753c1b9a1700065c', 'message': 'Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 14, 'created': '2021-08-31 15:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d2e0ecad01b3041e9023c28e38723b29dd85bdd1', 'message': 'Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 15, 'created': '2021-09-02 01:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d090ca4014e3aa21677f847ce82dd6008b668199', 'message': 'Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 16, 'created': '2021-09-06 14:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e14569f3449addc1d450fb92a3af7feea9ed507b', 'message': 'Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 17, 'created': '2021-09-06 14:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1cf39e3fd060a1a93a660ac82dbe9cc6a78b66aa', 'message': 'Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 18, 'created': '2021-09-06 23:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/596f5aa613be3bffd82a65093b9428f38b3e31fb', 'message': 'Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 19, 'created': '2021-09-10 00:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4222d8282a96f8fd098cf60398222c54fe5cd299', 'message': 'Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 20, 'created': '2021-09-13 13:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b572a1db18046442adada01e92cd2405a3e59137', 'message': 'Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 21, 'created': '2021-09-14 00:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5b6e8da21d02ee2aff0a76276d2408c401abfbee', 'message': 'Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 22, 'created': '2021-09-14 09:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4e2750bed48fcb94b72f2b300af362f043fe4670', 'message': 'Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}, {'number': 23, 'created': '2021-09-15 11:46:46.000000000', 'files': ['tacker/tests/unit/vnfm/infra_drivers/kubernetes/fakes.py', 'tacker/extensions/vnfm.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/tests/etc/samples/etsi/nfv/test_cnf_helmchart/Files/kubernetes/localhelm-0.1.0.tgz', 'releasenotes/notes/support-helmchart-k8s-vim-3604f0070cca6b63.yaml', 'tacker/vnfm/infra_drivers/kubernetes/helm/helm_client.py', 'tacker/tests/etc/samples/etsi/nfv/test_cnf_helmchart/Definitions/sample_vnfd_top.yaml', 'tacker/tests/unit/vnflcm/fakes.py', 'samples/mgmt_driver/kubernetes_mgmt.py', 'tacker/tests/etc/samples/etsi/nfv/test_cnf_helmchart/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/unit/vnfm/test_vim_client.py', 'tacker/vnfm/infra_drivers/kubernetes/helm/__init__.py', 'tacker/tests/etc/samples/etsi/nfv/test_cnf_helmchart/Definitions/sample_vnfd_df_helmchart.yaml', 'tacker/tests/functional/sol_kubernetes/vnflcm/test_kubernetes_helm.py', 'samples/mgmt_driver/kubernetes_vnf_package/TOSCA-Metadata/TOSCA.meta', 'tacker/vnflcm/utils.py', 'tacker/vnfm/vim_client.py', 'tacker/tests/etc/samples/etsi/nfv/test_cnf_helmchart/Definitions/sample_vnfd_types.yaml', 'samples/mgmt_driver/install_helm.sh', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/test_kubernetes_driver_helm.py', 'tacker/db/nfvo/nfvo_db.py', 'tacker/vnfm/infra_drivers/kubernetes/k8s/translate_outputs.py', 'tacker/objects/vim_connection.py', 'tacker/db/nfvo/nfvo_db_plugin.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/08ae05a27ab5b12bb6f728fc3e808e7e18f1f19c', 'message': 'Support Helm chart as interface for Kubernetes VIM\n\nImplements new interface for Kubernetes VIM to handle Helm chart.\nIt enables Users to include Helm chart files as MCIOP in their VNF\nPackages, to instantiate and to terminate CNF with them.\nAnd update sample of MgmtDriver to install and configure Helm package\nfor using Helm cli command in the deployed Kubernetes cluster VNF, and\nto restore the registered helm repositories and charts after the master\nnode is healed.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2\n'}]",43,805392,08ae05a27ab5b12bb6f728fc3e808e7e18f1f19c,67,7,23,31857,,,0,"Support Helm chart as interface for Kubernetes VIM

Implements new interface for Kubernetes VIM to handle Helm chart.
It enables Users to include Helm chart files as MCIOP in their VNF
Packages, to instantiate and to terminate CNF with them.
And update sample of MgmtDriver to install and configure Helm package
for using Helm cli command in the deployed Kubernetes cluster VNF, and
to restore the registered helm repositories and charts after the master
node is healed.

Implements: blueprint helmchart-k8s-vim
Change-Id: I8511b103841d5aba7edcf9ec5bb974bfa3a74bb2
",git fetch https://review.opendev.org/openstack/tacker refs/changes/92/805392/15 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/unit/vnfm/infra_drivers/kubernetes/fakes.py', 'tacker/extensions/vnfm.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'releasenotes/notes/support-helmchart-k8s-vim-3604f0070cca6b63.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_cnf_helmchart/sample_cnf/Files/kubernetes/localhelm-0.1.0.tgz', 'tacker/vnfm/infra_drivers/kubernetes/helm/helm_client.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/tests/etc/samples/etsi/nfv/test_cnf_helmchart/sample_cnf/Definitions/sample_vnfd_df_helmchart.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_cnf_helmchart/sample_cnf/Definitions/sample_vnfd_top.yaml', 'samples/mgmt_driver/kubernetes_mgmt.py', 'tacker/tests/unit/vnfm/test_vim_client.py', 'tacker/vnfm/infra_drivers/kubernetes/helm/__init__.py', 'tacker/tests/functional/sol_kubernetes/vnflcm/test_kubernetes_helm.py', 'samples/mgmt_driver/kubernetes_vnf_package/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/etc/samples/etsi/nfv/test_cnf_helmchart/sample_cnf/Definitions/sample_vnfd_types.yaml', 'tacker/vnflcm/utils.py', 'tacker/tests/etc/samples/etsi/nfv/test_cnf_helmchart/sample_cnf/TOSCA-Metadata/TOSCA.meta', 'tacker/vnfm/vim_client.py', 'samples/mgmt_driver/install_helm.sh', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/test_kubernetes_driver_helm.py', 'tacker/tests/etc/samples/etsi/nfv/test_cnf_helmchart/sample_cnf/Definitions/etsi_nfv_sol001_common_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/test_cnf_helmchart/sample_cnf/Definitions/etsi_nfv_sol001_vnfd_types.yaml', 'tacker/db/nfvo/nfvo_db.py', 'tacker/vnfm/infra_drivers/kubernetes/k8s/translate_outputs.py', 'tacker/objects/vim_connection.py', 'tacker/db/nfvo/nfvo_db_plugin.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py']",27,d9b6af8aa731411c1811f0d0d4ad2ef9c10ad1b3,bp/helmchart-k8s-vim,"from tacker.extensions import common_services as csfrom tacker.vnfm.infra_drivers.kubernetes.helm import helm_clientHELM_CHART_DIR_BASE = ""/var/tacker/helm"" def _get_helm_info(self, vim_connection_info): # replace single quote to double quote helm_info = vim_connection_info.extra.get('helm_info') helm_info_dq = helm_info.replace(""'"", '""') helm_info_dict = jsonutils.loads(helm_info_dq) return helm_info_dict def _helm_uninstall(self, context, vnf_instance): inst_vnf_info = vnf_instance.instantiated_vnf_info additional_params = inst_vnf_info.additional_params namespace = additional_params.get('namespace', '') helm_inst_param_list = additional_params.get( 'using_helm_install_param') vim_info = vnflcm_utils._get_vim(context, vnf_instance.vim_connection_info) vim_connection_info = objects.VimConnectionInfo.obj_from_primitive( vim_info, context) helm_info = self._get_helm_info(vim_connection_info) ip_list = helm_info.get('masternode_ip') username = helm_info.get('masternode_username') password = helm_info.get('masternode_password') k8s_objs = list() # initialize HelmClient helmclient = helm_client.HelmClient(ip_list[0], username, password) try: for helm_inst_params in helm_inst_param_list: release_name = helm_inst_params.get('helmreleasename') # execute `helm uninstall` command helmclient.uninstall(release_name, namespace) finally: helmclient.close_session() return k8s_objs # check use_helm flag inst_vnf_info = vnf_instance.instantiated_vnf_info if self._is_use_helm_flag(inst_vnf_info.additional_params): self._helm_uninstall(context, vnf_instance) return def _post_helm_uninstall(self, context, vnf_instance): inst_vnf_info = vnf_instance.instantiated_vnf_info additional_params = inst_vnf_info.additional_params helm_inst_param_list = additional_params.get( 'using_helm_install_param') vim_info = vnflcm_utils._get_vim(context, vnf_instance.vim_connection_info) vim_connection_info = objects.VimConnectionInfo.obj_from_primitive( vim_info, context) helm_info = self._get_helm_info(vim_connection_info) ip_list = helm_info.get('masternode_ip') username = helm_info.get('masternode_username') password = helm_info.get('masternode_password') del_dir = os.path.join(HELM_CHART_DIR_BASE, vnf_instance.id) for ip in ip_list: local_helm_del_flag = False # initialize HelmClient helmclient = helm_client.HelmClient(ip, username, password) try: for inst_params in helm_inst_param_list: if self._is_exthelmchart(inst_params): repo_name = inst_params.get('helmrepositoryname') # execute `helm repo add` command helmclient.remove_repository(repo_name) else: local_helm_del_flag = True if local_helm_del_flag: helmclient.delete_helmchart(del_dir) finally: helmclient.close_session() if not k8s_client_dict.get(api_version): continue # check use_helm flag inst_vnf_info = vnf_instance.instantiated_vnf_info if self._is_use_helm_flag(inst_vnf_info.additional_params): self._post_helm_uninstall(context, vnf_instance) target_kinds = [""Deployment"", ""ReplicaSet"", ""StatefulSet""] if kind in target_kinds: is_found = True break target_kinds = [""Deployment"", ""ReplicaSet"", ""StatefulSet""] if kind in target_kinds: is_found = True break def _is_use_helm_flag(self, additional_params): if not additional_params: return False use_helm = additional_params.get('use_helm') if type(use_helm) == str: return use_helm.lower() == 'true' return bool(use_helm) def _is_exthelmchart(self, helm_install_params): exthelmchart = helm_install_params.get('exthelmchart') if type(exthelmchart) == str: return exthelmchart.lower() == 'true' return bool(exthelmchart) def _pre_helm_install(self, vim_connection_info, instantiate_vnf_req, vnf_package_path): def _check_param_exists(params_dict, check_param): if check_param not in params_dict.keys(): LOG.error(""{check_param} is not found"".format( check_param=check_param)) raise cs.InputValuesMissing(key=check_param) # check helm info in vim_connection_info if 'helm_info' not in vim_connection_info.extra.keys(): reason = ""helm_info is missing in vim_connection_info.extra."" LOG.error(reason) raise vnfm.InvalidVimConnectionInfo(reason=reason) helm_info = self._get_helm_info(vim_connection_info) ip_list = helm_info.get('masternode_ip', '') username = helm_info.get('masternode_username', '') password = helm_info.get('masternode_username', '') if not (ip_list and username and password): reason = ""content of helm_info is invalid."" LOG.error(reason) raise vnfm.InvalidVimConnectionInfo(reason=reason) # check helm install params additional_params = instantiate_vnf_req.additional_params _check_param_exists(additional_params, 'using_helm_install_param') helm_install_param_list = additional_params.get( 'using_helm_install_param', []) if not helm_install_param_list: LOG.error(""using_helm_install_param is empty."") raise cs.InputValuesMissing(key='using_helm_install_param') for helm_install_params in helm_install_param_list: # common parameter check _check_param_exists(helm_install_params, 'exthelmchart') _check_param_exists(helm_install_params, 'helmreleasename') if self._is_exthelmchart(helm_install_params): # parameter check (case: external helm chart) _check_param_exists(helm_install_params, 'helmchartname') _check_param_exists(helm_install_params, 'exthelmrepo_url') _check_param_exists(helm_install_params, 'helmrepositoryname') else: # parameter check (case: local helm chart) _check_param_exists(helm_install_params, 'helmchartfile_path') chartfile_path = helm_install_params.get('helmchartfile_path') abs_helm_chart_path = os.path.join( vnf_package_path, chartfile_path) if not os.path.exists(abs_helm_chart_path): LOG.error('Helm chart file {path} is not found.'.format( path=chartfile_path)) raise vnfm.CnfDefinitionNotFound(path=chartfile_path) def _create_vnf_resource(self, context, vnf_instance, file_content_dict, namespace=None): vnf_resource = vnf_resource_obj.VnfResource( context=context) vnf_resource.vnf_instance_id = vnf_instance.id metadata = file_content_dict.get('metadata', {}) if metadata and metadata.get('namespace', ''): namespace = metadata.get('namespace', '') elif namespace: namespace = namespace else: namespace = '' vnf_resource.resource_name = ','.join([ namespace, metadata.get('name', '')]) vnf_resource.resource_type = ','.join([ file_content_dict.get('apiVersion', ''), file_content_dict.get('kind', '')]) vnf_resource.resource_identifier = '' vnf_resource.resource_status = '' return vnf_resource # check use_helm flag if self._is_use_helm_flag(instantiate_vnf_req.additional_params): # parameter check self._pre_helm_install( vim_connection_info, instantiate_vnf_req, vnf_package_path) # NOTE: In case of using helm, vnf_resources is created # after `helm install` command is executed. return dict() vnf_resource = self._create_vnf_resource( context, vnf_instance, file_content_dict) def _helm_install(self, context, vnf_instance, vim_connection_info, instantiate_vnf_req, vnf_package_path, transformer): additional_params = instantiate_vnf_req.additional_params namespace = additional_params.get('namespace', '') helm_inst_param_list = additional_params.get( 'using_helm_install_param') helm_info = self._get_helm_info(vim_connection_info) ip_list = helm_info.get('masternode_ip') username = helm_info.get('masternode_username') password = helm_info.get('masternode_password') vnf_resources = list() k8s_objs = list() for ip_idx, ip in enumerate(ip_list): # initialize HelmClient helmclient = helm_client.HelmClient(ip, username, password) try: for param_idx, inst_params in enumerate(helm_inst_param_list): release_name = inst_params.get('helmreleasename') parameters = inst_params.get('helmparameter') if self._is_exthelmchart(inst_params): # prepare using external helm chart chart_name = inst_params.get('helmchartname') repo_url = inst_params.get('exthelmrepo_url') repo_name = inst_params.get('helmrepositoryname') # execute `helm repo add` command helmclient.add_repository(repo_name, repo_url) install_chart_name = '/'.join([repo_name, chart_name]) else: # prepare using local helm chart chartfile_path = inst_params.get('helmchartfile_path') src_path = os.path.join( vnf_package_path, chartfile_path) dst_dir = os.path.join( HELM_CHART_DIR_BASE, vnf_instance.id) # put helm chart file to Kubernetes controller node helmclient.put_helmchart(src_path, dst_dir) chart_file_name = src_path[src_path.rfind(os.sep) + 1:] chart_name = ""-"".join(chart_file_name.split(""-"")[:-1]) install_chart_name = os.path.join(dst_dir, chart_name) if ip_idx == 0: # execute `helm install` command helmclient.install(release_name, install_chart_name, namespace, parameters) # get manifest by using `helm get manifest` command mf_content = helmclient.get_manifest( release_name, namespace) k8s_objs_tmp = transformer.get_k8s_objs_from_manifest( mf_content, namespace) for k8s_obj in k8s_objs_tmp: # set status in k8s_obj to 'Creating' k8s_obj['status'] = 'Creating' k8s_objs.extend(k8s_objs_tmp) mf_content_dicts = list(yaml.safe_load_all(mf_content)) for mf_content_dict in mf_content_dicts: vnf_resource = self._create_vnf_resource(context, vnf_instance, mf_content_dict, namespace) vnf_resources.append(vnf_resource) finally: helmclient.close_session() # save the vnf resources in the db for vnf_resource in vnf_resources: vnf_resource.create() return k8s_objs use_helm_flag = self._is_use_helm_flag( instantiate_vnf_req.additional_params) if not target_k8s_files and not use_helm_flag: if use_helm_flag: k8s_objs = self._helm_install( context, vnf_instance, vim_connection_info, instantiate_vnf_req, vnf_package_path, transformer) else: k8s_objs = transformer.\ get_k8s_objs_from_yaml(target_k8s_files, vnf_package_path) k8s_objs = transformer.deploy_k8s(k8s_objs) def _post_helm_install(self, context, vim_connection_info, instantiate_vnf_req, transformer): additional_params = instantiate_vnf_req.additional_params namespace = additional_params.get('namespace', '') helm_inst_param_list = additional_params.get( 'using_helm_install_param') helm_info = self._get_helm_info(vim_connection_info) ip_list = helm_info.get('masternode_ip') username = helm_info.get('masternode_username') password = helm_info.get('masternode_password') k8s_objs = list() # initialize HelmClient helmclient = helm_client.HelmClient(ip_list[0], username, password) try: for helm_inst_params in helm_inst_param_list: release_name = helm_inst_params.get('helmreleasename') # get manifest by using `helm get manifest` command mf_content = helmclient.get_manifest(release_name, namespace) k8s_objs_tmp = transformer.get_k8s_objs_from_manifest( mf_content, namespace) k8s_objs.extend(k8s_objs_tmp) finally: helmclient.close_session() return k8s_objs if self._is_use_helm_flag(instantiate_vnf_req.additional_params): k8s_objs = self._post_helm_install(context, vim_connection_info, instantiate_vnf_req, transformer) else: # get Kubernetes object k8s_objs = transformer.get_k8s_objs_from_yaml( target_k8s_files, vnf_package_path)"," is_found = True break target_kinds = [""Deployment"", ""ReplicaSet"", ""StatefulSet""] if kind not in target_kinds: error_reason = _( ""Target kind {kind} is out of scale target"").\ format(kind=kind) raise vnfm.CNFScaleFailed(reason=error_reason) is_found = True break vnf_resource = vnf_resource_obj.VnfResource( context=context) vnf_resource.vnf_instance_id = vnf_instance.id vnf_resource.resource_name = ','.join([ file_content_dict.get('metadata', {}).get( 'namespace', ''), file_content_dict.get('metadata', {}).get( 'name', '')]) vnf_resource.resource_type = ','.join([ file_content_dict.get('apiVersion', ''), file_content_dict.get('kind', '')]) vnf_resource.resource_identifier = '' vnf_resource.resource_status = '' if not target_k8s_files: k8s_objs = transformer.\ get_k8s_objs_from_yaml(target_k8s_files, vnf_package_path) k8s_objs = transformer.deploy_k8s(k8s_objs) # get Kubernetes object k8s_objs = transformer.get_k8s_objs_from_yaml( target_k8s_files, vnf_package_path)",3701,82
openstack%2Fneutron~stable%2Fxena~I610811b73e5bd9050ae5ffd003694fba21979767,openstack/neutron,stable/xena,I610811b73e5bd9050ae5ffd003694fba21979767,Update .gitreview for stable/xena,MERGED,2021-09-15 17:39:10.000000000,2021-09-16 09:37:12.000000000,2021-09-16 09:34:10.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 17:39:10.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3f6e694af413e99ac52ca146e4c903676dae93e', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I610811b73e5bd9050ae5ffd003694fba21979767\n'}]",0,809265,e3f6e694af413e99ac52ca146e4c903676dae93e,10,4,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I610811b73e5bd9050ae5ffd003694fba21979767
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/809265/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,e3f6e694af413e99ac52ca146e4c903676dae93e,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fec2-api~stable%2Fxena~I3c057504eb8423c0873c5ca00e6d5d79deb7d8d3,openstack/ec2-api,stable/xena,I3c057504eb8423c0873c5ca00e6d5d79deb7d8d3,remove lower-constraints job. it's buggy,MERGED,2021-09-16 08:43:35.000000000,2021-09-16 09:22:58.000000000,2021-09-16 09:18:22.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-16 08:43:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/183397ab052ae1673b4afc671ba1e0608100d20a', 'message': ""remove lower-constraints job. it's buggy\n\nChange-Id: I3c057504eb8423c0873c5ca00e6d5d79deb7d8d3\n""}]",0,809222,183397ab052ae1673b4afc671ba1e0608100d20a,9,2,1,10234,,,0,"remove lower-constraints job. it's buggy

Change-Id: I3c057504eb8423c0873c5ca00e6d5d79deb7d8d3
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/22/809222/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,183397ab052ae1673b4afc671ba1e0608100d20a,,, - openstack-lower-constraints-jobs,0,1
openstack%2Fcharm-glance~master~I39929fbe3626c83e985d6fb9b21422a1b17e81d1,openstack/charm-glance,master,I39929fbe3626c83e985d6fb9b21422a1b17e81d1,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-04 11:19:56.000000000,2021-09-16 09:05:30.000000000,2021-09-16 09:05:30.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-04 11:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/ea81536c78f9d24a34e6ae64b336de9ee1b5a5b4', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I39929fbe3626c83e985d6fb9b21422a1b17e81d1\n'}, {'number': 2, 'created': '2021-03-30 11:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/e881ae45877dc98bf121222c9b8e9334e1888da1', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries.\n\nChange-Id: I39929fbe3626c83e985d6fb9b21422a1b17e81d1\n'}, {'number': 3, 'created': '2021-04-07 12:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/ae65ea977c97fb0c866837e336d0868af960d873', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries.\n\nChange-Id: I39929fbe3626c83e985d6fb9b21422a1b17e81d1\n'}, {'number': 4, 'created': '2021-04-16 09:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/9db75af4e3a516906060b8ac9f386c5690fd5c93', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I39929fbe3626c83e985d6fb9b21422a1b17e81d1\n'}, {'number': 5, 'created': '2021-05-06 10:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/c3cbe9bc735ae68d2158137cac3c8589be511b9b', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I39929fbe3626c83e985d6fb9b21422a1b17e81d1\n'}, {'number': 6, 'created': '2021-06-15 12:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/d56f8a169764f229d29e5c78d9a1fbe8cbdd52a3', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I39929fbe3626c83e985d6fb9b21422a1b17e81d1\n'}, {'number': 7, 'created': '2021-09-15 22:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/61276cbe23da5e1ce67b297a03af20cc95e3192c', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I39929fbe3626c83e985d6fb9b21422a1b17e81d1\n'}, {'number': 8, 'created': '2021-09-15 22:49:27.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/febc35ea360723684d74792f4c3475bbbddbe4f9', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I39929fbe3626c83e985d6fb9b21422a1b17e81d1\n'}]",0,778642,febc35ea360723684d74792f4c3475bbbddbe4f9,49,4,8,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Sync libraries.

hisute-wallaby test is disabled (moved to dev) due to [1] as bundle may
reference a reactive charm.

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I39929fbe3626c83e985d6fb9b21422a1b17e81d1
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/42/778642/7 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml']",4,ea81536c78f9d24a34e6ae64b336de9ee1b5a5b4,wallaby-bundles,variables: openstack-origin: &openstack-origin cloud:focal-wallaby series: focal comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': '9': '10': '11': '12': '13': '14': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 6 storage: osd-devices: '10G' options: source: *openstack-origin to: - '3' - '4' - '5' - '6' - '7' - '8' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: source: *openstack-origin monitor-count: '3' to: - '9' - '10' - '11' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '12' keystone: expose: True charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '13' glance: expose: True charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin pool-type: erasure-coded ec-profile-k: 4 ec-profile-m: 2 ec-profile-plugin: jerasure to: - '14' relations: - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'glance:ceph' - 'ceph-mon:client' - - 'ceph-osd:mon' - 'ceph-mon:osd' ,,262,2
openstack%2Fironic~master~I4af4e811104088d28d7be6df53c26e72db039e08,openstack/ironic,master,I4af4e811104088d28d7be6df53c26e72db039e08,Set postgresql password encryption for FIPS compliance,MERGED,2021-08-01 23:47:54.000000000,2021-09-16 09:04:21.000000000,2021-09-15 07:33:57.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-01 23:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3729682ce640fa325466a64e059dcf413720af30', 'message': 'Set postgress password encryption for FIPs compliance\n\nThis is part of the work to add jobs which confirm ironic works with\nFIPS enabled, but this change will also be run by non-FIPS jobs.\n\nChange-Id: I4af4e811104088d28d7be6df53c26e72db039e08\n'}, {'number': 2, 'created': '2021-08-03 01:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7b0c90cb5b80e7d3f04347db322fb65088de9914', 'message': 'Set postgress password encryption for FIPS compliance\n\nThis is part of the work to add jobs which confirm ironic works with\nFIPS enabled, but this change will also be run by non-FIPS jobs.\n\nChange-Id: I4af4e811104088d28d7be6df53c26e72db039e08\n'}, {'number': 3, 'created': '2021-08-03 04:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/729660b6a3c46d521d236e5d05224eecf1c07320', 'message': 'Set postgress password encryption for FIPS compliance\n\nThis is part of the work to add jobs which confirm ironic works with\nFIPS enabled, but this change will also be run by non-FIPS jobs.\n\nChange-Id: I4af4e811104088d28d7be6df53c26e72db039e08\n'}, {'number': 4, 'created': '2021-08-03 22:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d5c27fc2ad30207ed3c2d4b1e50ddfd9a154f1f1', 'message': 'Set postgress password encryption for FIPS compliance\n\nThis is part of the work to add jobs which confirm ironic works with\nFIPS enabled, but this change will also be run by non-FIPS jobs.\n\nChange-Id: I4af4e811104088d28d7be6df53c26e72db039e08\n'}, {'number': 5, 'created': '2021-08-04 01:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/95ae1c5259024019a97198afdab97fc5d28f257c', 'message': 'Set postgress password encryption for FIPS compliance\n\nThis is part of the work to add jobs which confirm ironic works with\nFIPS enabled, but this change will also be run by non-FIPS jobs.\n\nChange-Id: I4af4e811104088d28d7be6df53c26e72db039e08\n'}, {'number': 6, 'created': '2021-08-04 20:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bf88e7377d924707fb8b45e96090780d8e81da2a', 'message': 'Set postgress password encryption for FIPS compliance\n\nThis is part of the work to add jobs which confirm ironic works with\nFIPS enabled, but this change will also be run by non-FIPS jobs.\n\nChange-Id: I4af4e811104088d28d7be6df53c26e72db039e08\n'}, {'number': 7, 'created': '2021-08-04 21:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/844edec42c5889e9e66bc8a002af8ba72c2fe586', 'message': 'Set postgress password encryption for FIPS compliance\n\nThis is part of the work to add jobs which confirm ironic works with\nFIPS enabled, but this change will also be run by non-FIPS jobs.\n\nChange-Id: I4af4e811104088d28d7be6df53c26e72db039e08\n'}, {'number': 8, 'created': '2021-08-04 23:47:53.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6af0eb374e5565520937e5b3d8fda086d336fe9d', 'message': 'Set postgresql password encryption for FIPS compliance\n\nThis is part of the work to add jobs which confirm ironic works with\nFIPS enabled, but this change is also appropriate non-FIPS jobs.\n\nChange-Id: I4af4e811104088d28d7be6df53c26e72db039e08\n'}]",6,803128,6af0eb374e5565520937e5b3d8fda086d336fe9d,53,3,8,4571,,,0,"Set postgresql password encryption for FIPS compliance

This is part of the work to add jobs which confirm ironic works with
FIPS enabled, but this change is also appropriate non-FIPS jobs.

Change-Id: I4af4e811104088d28d7be6df53c26e72db039e08
",git fetch https://review.opendev.org/openstack/ironic refs/changes/28/803128/5 && git format-patch -1 --stdout FETCH_HEAD,['tools/test-setup.sh'],1,3729682ce640fa325466a64e059dcf413720af30,add_fips_job,"function is_rh7 { [ -f /usr/bin/yum ] && \ cat /etc/*release | grep -q -e ""Red Hat"" -e ""CentOS"" -e ""CloudLinux"" && \ cat /etc/*release | grep -q 'release 7' } function is_rh8 { [ -f /usr/bin/dnf ] && \ cat /etc/*release | grep -q -e ""Red Hat"" -e ""CentOS"" -e ""CloudLinux"" && \ cat /etc/*release | grep -q 'release 8' } function set_conf_line { # file regex value sudo sh -c ""grep -q -e '$2' $1 && \ sed -i 's|$2|$3|g' $1 || \ echo '$3' >> $1"" } # setup postgres encryption algorithm and authentication if is_rh7 || is_rh8; then PG_CONF=/var/lib/pgsql/data/postgresql.conf set_conf_line $PG_CONF '^password_encryption =.*' 'password_encryption = scram-sha-256' PG_HBA=/var/lib/pgsql/data/pg_hba.conf set_conf_line $PG_HBA '^local[ \t]*all[ \t]*all.*' 'local all all peer' set_conf_line $PG_HBA '^host[ \t]*all[ \t]*all[ \t]*127.0.0.1\/32.*' 'host all all 127.0.0.1/32 scram-sha-256' set_conf_line $PG_HBA '^host[ \t]*all[ \t]*all[ \t]*::1\/128.*' 'host all all ::1/128 scram-sha-256' fi ",,27,0
openstack%2Ftacker~master~I1008472f5a7104324b61a413052dc44bc84c7ade,openstack/tacker,master,I1008472f5a7104324b61a413052dc44bc84c7ade,Modify processing of _heal_grant and _scale_grant,MERGED,2021-06-07 03:36:47.000000000,2021-09-16 09:00:23.000000000,2021-09-16 08:58:12.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 31072}, {'_account_id': 31730}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 33292}, {'_account_id': 33455}, {'_account_id': 33558}]","[{'number': 1, 'created': '2021-06-07 03:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8e53a159fd86a623c8e89b85737782193f550e57', 'message': ""Modify processing of _heal_grant and _scale_grant\n\nIn NFV-SOL003 V2.6.1, the add_resources'id in grant should be\nsame as the vnfc_resource_info'id. However, at present, if\nyou execute heal_grant and scale_grant request, the add_resources's\nresource_definition_id in grantResponse cannot match the\nvnfc_resource_info.id.\n\nIn _scale_grant, to fix this bug, we changed the processing\nof _scale_grant in openstack._get_grant_resource_scale_out method.\nFirstly initialize the data of vnfc_resource_info according\nto the input parameters and the vnfd file, then initialize\nthe add_resources data of grant according to the\nvnfc_resource_info data. After scaling out, store the data\nin the stack into vnfc_resource_info in the\nopenstack.scale_resource_update method.\n\nIn _heal_grant, if heal entire vnf_instance, we initialize\nremove_resources used old vnf_instance's info, and then\nreinitialize vnf_instance's info and use them to initialize\nadd_resources. If heal partial vnf_instance, we just use\nupdate_resources in grant.\n\nCloses-Bug: #1930782\nCloses-Bug: #1924956\nChange-Id: I1008472f5a7104324b61a413052dc44bc84c7ade\n""}, {'number': 2, 'created': '2021-06-07 06:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e7e1a4a7f6deb29bcb28f68d17ee41dfb6ba2856', 'message': ""Modify processing of _heal_grant and _scale_grant\n\nIn NFV-SOL003 V2.6.1, the add_resources'id in grant should be\nsame as the vnfc_resource_info'id. However, at present, if\nyou execute heal_grant and scale_grant request, the add_resources's\nresource_definition_id in grantResponse cannot match the\nvnfc_resource_info.id.\n\nIn _scale_grant, to fix this bug, we changed the processing\nof _scale_grant in openstack._get_grant_resource_scale_out method.\nFirstly initialize the data of vnfc_resource_info according\nto the input parameters and the vnfd file, then initialize\nthe add_resources data of grant according to the\nvnfc_resource_info data. After scaling out, store the data\nin the stack into vnfc_resource_info in the\nopenstack.scale_resource_update method.\n\nIn _heal_grant, if heal entire vnf_instance, we initialize\nremove_resources used old vnf_instance's info, and then\nreinitialize vnf_instance's info and use them to initialize\nadd_resources. If heal partial vnf_instance, we just use\nupdate_resources in grant.\n\nCloses-Bug: #1930782\nCloses-Bug: #1924956\nChange-Id: I1008472f5a7104324b61a413052dc44bc84c7ade\n""}, {'number': 3, 'created': '2021-06-08 08:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/dc72e2d3d62137dc464332d817eaeae3e3753147', 'message': ""Modify processing of _heal_grant and _scale_grant\n\nIn NFV-SOL003 V2.6.1, the add_resources'id in grant should be\nsame as the vnfc_resource_info'id. However, at present, if\nyou execute heal_grant and scale_grant request, the add_resources's\nresource_definition_id in grantResponse cannot match the\nvnfc_resource_info.id.\n\nIn _scale_grant, to fix this bug, we changed the processing\nof _scale_grant in openstack._get_grant_resource_scale_out method.\nFirstly initialize the data of vnfc_resource_info according\nto the input parameters and the vnfd file, then initialize\nthe add_resources data of grant according to the\nvnfc_resource_info data. After scaling out, store the data\nin the stack into vnfc_resource_info in the\nopenstack.scale_resource_update method.\n\nIn _heal_grant, if heal entire vnf_instance, we initialize\nremove_resources used old vnf_instance's info, and then\nreinitialize vnf_instance's info and use them to initialize\nadd_resources. If heal partial vnf_instance, we just use\nupdate_resources in grant.\n\nCloses-Bug: #1930782\nCloses-Bug: #1924956\nChange-Id: I1008472f5a7104324b61a413052dc44bc84c7ade\n""}, {'number': 4, 'created': '2021-06-08 08:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b22944e0e639c457eddfad3a33153b5e93a02218', 'message': ""Modify processing of _heal_grant and _scale_grant\n\nIn NFV-SOL003 V2.6.1, the add_resources'id in grant should be\nsame as the vnfc_resource_info'id. However, at present, if\nyou execute heal_grant and scale_grant request, the add_resources's\nresource_definition_id in grantResponse cannot match the\nvnfc_resource_info.id.\n\nIn _scale_grant, to fix this bug, we changed the processing\nof _scale_grant in openstack._get_grant_resource_scale_out method.\nFirstly initialize the data of vnfc_resource_info according\nto the input parameters and the vnfd file, then initialize\nthe add_resources data of grant according to the\nvnfc_resource_info data. After scaling out, store the data\nin the stack into vnfc_resource_info in the\nopenstack.scale_resource_update method.\n\nIn _heal_grant, if heal entire vnf_instance, we initialize\nremove_resources used old vnf_instance's info, and then\nreinitialize vnf_instance's info and use them to initialize\nadd_resources. If heal partial vnf_instance, we just use\nupdate_resources in grant.\n\nCloses-Bug: #1930782\nChange-Id: I1008472f5a7104324b61a413052dc44bc84c7ade\n""}, {'number': 5, 'created': '2021-06-09 00:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d7578a1bb20df18d8d85d7baea8be628f3a8fc86', 'message': ""Modify processing of _heal_grant and _scale_grant\n\nIn NFV-SOL003 V2.6.1, the add_resources'id in grant should be\nsame as the vnfc_resource_info'id. However, at present, if\nyou execute heal_grant and scale_grant request, the add_resources's\nresource_definition_id in grantResponse cannot match the\nvnfc_resource_info.id.\n\nIn _scale_grant, to fix this bug, we changed the processing\nof _scale_grant in openstack._get_grant_resource_scale_out method.\nFirstly initialize the data of vnfc_resource_info according\nto the input parameters and the vnfd file, then initialize\nthe add_resources data of grant according to the\nvnfc_resource_info data. After scaling out, store the data\nin the stack into vnfc_resource_info in the\nopenstack.scale_resource_update method.\n\nIn _heal_grant, if heal entire vnf_instance, we initialize\nremove_resources used old vnf_instance's info, and then\nreinitialize vnf_instance's info and use them to initialize\nadd_resources. If heal partial vnf_instance, we just use\nupdate_resources in grant.\n\nCloses-Bug: #1930782\nChange-Id: I1008472f5a7104324b61a413052dc44bc84c7ade\n""}, {'number': 6, 'created': '2021-06-29 06:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/61c167005d6c66d4614a30a709d232f464cccff2', 'message': ""Modify processing of _heal_grant and _scale_grant\n\nIn NFV-SOL003 V2.6.1, the add_resources'id in grant should be\nsame as the vnfc_resource_info'id. However, at present, if\nyou execute heal_grant and scale_grant request, the add_resources's\nresource_definition_id in grantResponse cannot match the\nvnfc_resource_info.id.\n\nIn _scale_grant, to fix this bug, we changed the processing\nof _scale_grant in openstack._get_grant_resource_scale_out method.\nFirstly initialize the data of vnfc_resource_info according\nto the input parameters and the vnfd file, then initialize\nthe add_resources data of grant according to the\nvnfc_resource_info data. After scaling out, store the data\nin the stack into vnfc_resource_info in the\nopenstack.scale_resource_update method.\n\nIn addition, in openstack._get_grant_resource_scale_out, there is\nalso a problem with the placement_constraint rule setting, which\nis also corrected in this patch.\n\nIn _heal_grant, if heal entire vnf_instance, we initialize\nremove_resources used old vnf_instance's info, and then\nreinitialize vnf_instance's info and use them to initialize\nadd_resources. If heal partial vnf_instance, we just use\nupdate_resources in grant.\n\nFor instantiate, if you need to use the data obtained by\ninstantiate_grant in instantiate_end, the process should\nexecute the post_instantiate_vnf method before instantiate_end,\nso the vnflcm_driver._instantiate_vnf method has also been\nmodified.\n\nCloses-Bug: #1930782\nChange-Id: I1008472f5a7104324b61a413052dc44bc84c7ade\n""}, {'number': 7, 'created': '2021-07-13 06:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/dea3d48d1eef2f5bbe12461892ebc25b7c3cee06', 'message': ""Modify processing of _heal_grant and _scale_grant\n\nIn NFV-SOL003 V2.6.1, the add_resources'id in grant should be\nsame as the vnfc_resource_info'id. However, at present, if\nyou execute heal_grant and scale_grant request, the add_resources's\nresource_definition_id in grantResponse cannot match the\nvnfc_resource_info.id.\n\nIn _scale_grant, to fix this bug, we changed the processing\nof _scale_grant in openstack._get_grant_resource_scale_out method.\nFirstly initialize the data of vnfc_resource_info according\nto the input parameters and the vnfd file, then initialize\nthe add_resources data of grant according to the\nvnfc_resource_info data. After scaling out, store the data\nin the stack into vnfc_resource_info in the\nopenstack.scale_resource_update method.\n\nIn addition, in openstack._get_grant_resource_scale_out, there is\nalso a problem with the placement_constraint rule setting, which\nis also corrected in this patch.\n\nIn _heal_grant, if heal entire vnf_instance, we initialize\nremove_resources used old vnf_instance's info, and then\nreinitialize vnf_instance's info and use them to initialize\nadd_resources. If heal partial vnf_instance, we just use\nupdate_resources in grant.\n\nFor instantiate, if you need to use the data obtained by\ninstantiate_grant in instantiate_end, the process should\nexecute the post_instantiate_vnf method before instantiate_end,\nso the vnflcm_driver._instantiate_vnf method has also been\nmodified.\n\nCloses-Bug: #1930782\nChange-Id: I1008472f5a7104324b61a413052dc44bc84c7ade\n""}, {'number': 8, 'created': '2021-07-15 08:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/30baaef9d04243d16c548ea81503d7a1402563c1', 'message': ""Modify processing of _heal_grant and _scale_grant\n\nIn NFV-SOL003 V2.6.1, the add_resources'id in grant should be\nsame as the vnfc_resource_info'id. However, at present, if\nyou execute heal_grant and scale_grant request, the add_resources's\nresource_definition_id in grantResponse cannot match the\nvnfc_resource_info.id.\n\nIn _scale_grant, to fix this bug, we changed the processing\nof _scale_grant in openstack._get_grant_resource_scale_out method.\nFirstly initialize the data of vnfc_resource_info according\nto the input parameters and the vnfd file, then initialize\nthe add_resources data of grant according to the\nvnfc_resource_info data. After scaling out, store the data\nin the stack into vnfc_resource_info in the\nopenstack.scale_resource_update method.\n\nIn addition, in openstack._get_grant_resource_scale_out, there is\nalso a problem with the placement_constraint rule setting, which\nis also corrected in this patch.\n\nIn _heal_grant, if heal entire vnf_instance, we initialize\nremove_resources used old vnf_instance's info, and then\nreinitialize vnf_instance's info and use them to initialize\nadd_resources. If heal partial vnf_instance, we just use\nupdate_resources in grant.\n\nFor instantiate, if you need to use the data obtained by\ninstantiate_grant in instantiate_end, the process should\nexecute the post_instantiate_vnf method before instantiate_end,\nso the vnflcm_driver._instantiate_vnf method has also been\nmodified.\n\nCloses-Bug: #1930782\nChange-Id: I1008472f5a7104324b61a413052dc44bc84c7ade\n""}, {'number': 9, 'created': '2021-07-28 02:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1d8e905f030bb1cf1d41b67261523256dd1b75b2', 'message': ""Modify processing of _heal_grant and _scale_grant\n\nIn NFV-SOL003 V2.6.1, the add_resources'id in grant should be\nsame as the vnfc_resource_info'id. However, at present, if\nyou execute heal_grant and scale_grant request, the add_resources's\nresource_definition_id in grantResponse cannot match the\nvnfc_resource_info.id.\n\nIn _scale_grant, to fix this bug, we changed the processing\nof _scale_grant in openstack._get_grant_resource_scale_out method.\nFirstly initialize the data of vnfc_resource_info according\nto the input parameters and the vnfd file, then initialize\nthe add_resources data of grant according to the\nvnfc_resource_info data. After scaling out, store the data\nin the stack into vnfc_resource_info in the\nopenstack.scale_resource_update method.\n\nIn addition, in openstack._get_grant_resource_scale_out, there is\nalso a problem with the placement_constraint rule setting, which\nis also corrected in this patch.\n\nIn _heal_grant, if heal entire vnf_instance, we initialize\nremove_resources used old vnf_instance's info, and then\nreinitialize vnf_instance's info and use them to initialize\nadd_resources. If heal partial vnf_instance, we just use\nupdate_resources in grant.\n\nFor instantiate, if you need to use the data obtained by\ninstantiate_grant in instantiate_end, the process should\nexecute the post_instantiate_vnf method before instantiate_end,\nso the vnflcm_driver._instantiate_vnf method has also been\nmodified.\n\nCloses-Bug: #1930782\nChange-Id: I1008472f5a7104324b61a413052dc44bc84c7ade\n""}, {'number': 10, 'created': '2021-07-29 07:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5e000aabad372009af770fc9c3c7dbcd6c6dd941', 'message': ""Modify processing of _heal_grant and _scale_grant\n\nIn NFV-SOL003 V2.6.1, the add_resources'id in grant should be\nsame as the vnfc_resource_info'id. However, at present, if\nyou execute heal_grant and scale_grant request, the add_resources's\nresource_definition_id in grantResponse cannot match the\nvnfc_resource_info.id.\n\nIn _scale_grant, to fix this bug, we changed the processing\nof _scale_grant in openstack._get_grant_resource_scale_out method.\nFirstly initialize the data of vnfc_resource_info according\nto the input parameters and the vnfd file, then initialize\nthe add_resources data of grant according to the\nvnfc_resource_info data. After scaling out, store the data\nin the stack into vnfc_resource_info in the\nopenstack.scale_resource_update method.\n\nIn addition, in openstack._get_grant_resource_scale_out, there is\nalso a problem with the placement_constraint rule setting, which\nis also corrected in this patch.\n\nIn _heal_grant, if heal entire vnf_instance, we initialize\nremove_resources used old vnf_instance's info, and then\nreinitialize vnf_instance's info and use them to initialize\nadd_resources. If heal partial vnf_instance, we just use\nupdate_resources in grant.\n\nFor instantiate, if you need to use the data obtained by\ninstantiate_grant in instantiate_end, the process should\nexecute the post_instantiate_vnf method before instantiate_end,\nso the vnflcm_driver._instantiate_vnf method has also been\nmodified.\n\nCloses-Bug: #1930782\nChange-Id: I1008472f5a7104324b61a413052dc44bc84c7ade\n""}, {'number': 11, 'created': '2021-08-25 04:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/41c6ce9918ca6302b7559f62d2f2f5adee47497d', 'message': ""Modify processing of _heal_grant and _scale_grant\n\nIn NFV-SOL003 V2.6.1, the add_resources'id in grant should be\nsame as the vnfc_resource_info'id. However, at present, if\nyou execute heal_grant and scale_grant request, the add_resources's\nresource_definition_id in grantResponse cannot match the\nvnfc_resource_info.id.\n\nIn _scale_grant, to fix this bug, we changed the processing\nof _scale_grant in openstack._get_grant_resource_scale_out method.\nFirstly initialize the data of vnfc_resource_info according\nto the input parameters and the vnfd file, then initialize\nthe add_resources data of grant according to the\nvnfc_resource_info data. After scaling out, store the data\nin the stack into vnfc_resource_info in the\nopenstack.scale_resource_update method.\n\nIn addition, in openstack._get_grant_resource_scale_out, there is\nalso a problem with the placement_constraint rule setting, which\nis also corrected in this patch.\n\nIn _heal_grant, if heal entire vnf_instance, we initialize\nremove_resources used old vnf_instance's info, and then\nreinitialize vnf_instance's info and use them to initialize\nadd_resources. If heal partial vnf_instance, we just use\nupdate_resources in grant.\n\nFor instantiate, if you need to use the data obtained by\ninstantiate_grant in instantiate_end, the process should\nexecute the post_instantiate_vnf method before instantiate_end,\nso the vnflcm_driver._instantiate_vnf method has also been\nmodified.\n\nCloses-Bug: #1930782\nChange-Id: I1008472f5a7104324b61a413052dc44bc84c7ade\n""}, {'number': 12, 'created': '2021-09-01 05:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/de4b0429025d53a7ba410a9ae783616b89c9027a', 'message': ""Modify processing of _heal_grant and _scale_grant\n\nIn NFV-SOL003 V2.6.1, the add_resources'id in grant should be\nsame as the vnfc_resource_info'id. However, at present, if\nyou execute heal_grant and scale_grant request, the add_resources's\nresource_definition_id in grantResponse cannot match the\nvnfc_resource_info.id.\n\nIn _scale_grant, to fix this bug, we changed the processing\nof _scale_grant in openstack._get_grant_resource_scale_out method.\nFirstly initialize the data of vnfc_resource_info according\nto the input parameters and the vnfd file, then initialize\nthe add_resources data of grant according to the\nvnfc_resource_info data. After scaling out, store the data\nin the stack into vnfc_resource_info in the\nopenstack.scale_resource_update method.\n\nIn addition, in openstack._get_grant_resource_scale_out, there is\nalso a problem with the placement_constraint rule setting, which\nis also corrected in this patch.\n\nIn _heal_grant, if heal entire vnf_instance, we initialize\nremove_resources used old vnf_instance's info, and then\nreinitialize vnf_instance's info and use them to initialize\nadd_resources. If heal partial vnf_instance, we just use\nupdate_resources in grant.\n\nFor instantiate, if you need to use the data obtained by\ninstantiate_grant in instantiate_end, the process should\nexecute the post_instantiate_vnf method before instantiate_end,\nso the vnflcm_driver._instantiate_vnf method has also been\nmodified.\n\nCloses-Bug: #1930782\nChange-Id: I1008472f5a7104324b61a413052dc44bc84c7ade\n""}, {'number': 13, 'created': '2021-09-07 00:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/bba76df4307bc893c8e457452b710f8170a1c236', 'message': ""Modify processing of _heal_grant and _scale_grant\n\nIn NFV-SOL003 V2.6.1, the add_resources'id in grant should be\nsame as the vnfc_resource_info'id. However, at present, if\nyou execute heal_grant and scale_grant request, the add_resources's\nresource_definition_id in grantResponse cannot match the\nvnfc_resource_info.id.\n\nIn _scale_grant, to fix this bug, we changed the processing\nof _scale_grant in openstack._get_grant_resource_scale_out method.\nFirstly initialize the data of vnfc_resource_info according\nto the input parameters and the vnfd file, then initialize\nthe add_resources data of grant according to the\nvnfc_resource_info data. After scaling out, store the data\nin the stack into vnfc_resource_info in the\nopenstack.scale_resource_update method.\n\nIn addition, in openstack._get_grant_resource_scale_out, there is\nalso a problem with the placement_constraint rule setting, which\nis also corrected in this patch.\n\nIn _heal_grant, if heal entire vnf_instance, we initialize\nremove_resources used old vnf_instance's info, and then\nreinitialize vnf_instance's info and use them to initialize\nadd_resources. If heal partial vnf_instance, we just use\nupdate_resources in grant.\n\nFor instantiate, if you need to use the data obtained by\ninstantiate_grant in instantiate_end, the process should\nexecute the post_instantiate_vnf method before instantiate_end,\nso the vnflcm_driver._instantiate_vnf method has also been\nmodified.\n\nCloses-Bug: #1930782\nChange-Id: I1008472f5a7104324b61a413052dc44bc84c7ade\n""}, {'number': 14, 'created': '2021-09-07 04:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7d1430195b18900076420579346bb676c76f929a', 'message': ""Modify processing of _heal_grant and _scale_grant\n\nIn NFV-SOL003 V2.6.1, the add_resources'id in grant should be\nsame as the vnfc_resource_info'id. However, at present, if\nyou execute heal_grant and scale_grant request, the add_resources's\nresource_definition_id in grantResponse cannot match the\nvnfc_resource_info.id.\n\nIn _scale_grant, to fix this bug, we changed the processing\nof _scale_grant in openstack._get_grant_resource_scale_out method.\nFirstly initialize the data of vnfc_resource_info according\nto the input parameters and the vnfd file, then initialize\nthe add_resources data of grant according to the\nvnfc_resource_info data. After scaling out, store the data\nin the stack into vnfc_resource_info in the\nopenstack.scale_resource_update method.\n\nIn addition, in openstack._get_grant_resource_scale_out, there is\nalso a problem with the placement_constraint rule setting, which\nis also corrected in this patch.\n\nIn _heal_grant, if heal entire vnf_instance, we initialize\nremove_resources used old vnf_instance's info, and then\nreinitialize vnf_instance's info and use them to initialize\nadd_resources. If heal partial vnf_instance, we just use\nupdate_resources in grant.\n\nFor instantiate, if you need to use the data obtained by\ninstantiate_grant in instantiate_end, the process should\nexecute the post_instantiate_vnf method before instantiate_end,\nso the vnflcm_driver._instantiate_vnf method has also been\nmodified.\n\nCloses-Bug: #1930782\nChange-Id: I1008472f5a7104324b61a413052dc44bc84c7ade\n""}, {'number': 15, 'created': '2021-09-13 03:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e7d77b96506c20e39f82c3f87804e9d40aa71b89', 'message': ""Modify processing of _heal_grant and _scale_grant\n\nIn NFV-SOL003 V2.6.1, the add_resources'id in grant should be\nsame as the vnfc_resource_info'id. However, at present, if\nyou execute heal_grant and scale_grant request, the add_resources's\nresource_definition_id in grantResponse cannot match the\nvnfc_resource_info.id.\n\nIn _scale_grant, to fix this bug, we changed the processing\nof _scale_grant in openstack._get_grant_resource_scale_out method.\nFirstly initialize the data of vnfc_resource_info according\nto the input parameters and the vnfd file, then initialize\nthe add_resources data of grant according to the\nvnfc_resource_info data. After scaling out, store the data\nin the stack into vnfc_resource_info in the\nopenstack.scale_resource_update method.\n\nIn addition, in openstack._get_grant_resource_scale_out, there is\nalso a problem with the placement_constraint rule setting, which\nis also corrected in this patch.\n\nIn _heal_grant, if heal entire vnf_instance, we initialize\nremove_resources used old vnf_instance's info, and then\nreinitialize vnf_instance's info and use them to initialize\nadd_resources. If heal partial vnf_instance, we just use\nupdate_resources in grant.\n\nFor instantiate, if you need to use the data obtained by\ninstantiate_grant in instantiate_end, the process should\nexecute the post_instantiate_vnf method before instantiate_end,\nso the vnflcm_driver._instantiate_vnf method has also been\nmodified.\n\nCloses-Bug: #1930782\nChange-Id: I1008472f5a7104324b61a413052dc44bc84c7ade\n""}, {'number': 16, 'created': '2021-09-13 04:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a22c2f71e4766345f31ea15fd7c75135fb094cd4', 'message': ""Modify processing of _heal_grant and _scale_grant\n\nIn NFV-SOL003 V2.6.1, the add_resources'id in grant should be\nsame as the vnfc_resource_info'id. However, at present, if\nyou execute heal_grant and scale_grant request, the add_resources's\nresource_definition_id in grantResponse cannot match the\nvnfc_resource_info.id.\n\nIn _scale_grant, to fix this bug, we changed the processing\nof _scale_grant in openstack._get_grant_resource_scale_out method.\nFirstly initialize the data of vnfc_resource_info according\nto the input parameters and the vnfd file, then initialize\nthe add_resources data of grant according to the\nvnfc_resource_info data. After scaling out, store the data\nin the stack into vnfc_resource_info in the\nopenstack.scale_resource_update method.\n\nIn addition, in openstack._get_grant_resource_scale_out, there is\nalso a problem with the placement_constraint rule setting, which\nis also corrected in this patch.\n\nIn _heal_grant, if heal entire vnf_instance, we initialize\nremove_resources used old vnf_instance's info, and then\nreinitialize vnf_instance's info and use them to initialize\nadd_resources. If heal partial vnf_instance, we just use\nupdate_resources in grant.\n\nFor instantiate, if you need to use the data obtained by\ninstantiate_grant in instantiate_end, the process should\nexecute the post_instantiate_vnf method before instantiate_end,\nso the vnflcm_driver._instantiate_vnf method has also been\nmodified.\n\nCloses-Bug: #1930782\nChange-Id: I1008472f5a7104324b61a413052dc44bc84c7ade\n""}, {'number': 17, 'created': '2021-09-13 09:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/88ef9a5ea4eb76bd99634602ac922d731ae0b19d', 'message': ""Modify processing of _heal_grant and _scale_grant\n\nIn NFV-SOL003 V2.6.1, the add_resources'id in grant should be\nsame as the vnfc_resource_info'id. However, at present, if\nyou execute heal_grant and scale_grant request, the add_resources's\nresource_definition_id in grantResponse cannot match the\nvnfc_resource_info.id.\n\nIn _scale_grant, to fix this bug, we changed the processing\nof _scale_grant in openstack._get_grant_resource_scale_out method.\nFirstly initialize the data of vnfc_resource_info according\nto the input parameters and the vnfd file, then initialize\nthe add_resources data of grant according to the\nvnfc_resource_info data. After scaling out, store the data\nin the stack into vnfc_resource_info in the\nopenstack.scale_resource_update method.\n\nIn addition, in openstack._get_grant_resource_scale_out, there is\nalso a problem with the placement_constraint rule setting, which\nis also corrected in this patch.\n\nIn _heal_grant, if heal entire vnf_instance, we initialize\nremove_resources used old vnf_instance's info, and then\nreinitialize vnf_instance's info and use them to initialize\nadd_resources. If heal partial vnf_instance, we just use\nupdate_resources in grant.\n\nFor instantiate, if you need to use the data obtained by\ninstantiate_grant in instantiate_end, the process should\nexecute the post_instantiate_vnf method before instantiate_end,\nso the vnflcm_driver._instantiate_vnf method has also been\nmodified.\n\nCloses-Bug: #1930782\nChange-Id: I1008472f5a7104324b61a413052dc44bc84c7ade\n""}, {'number': 18, 'created': '2021-09-15 02:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e031b192a5229f11e889cdbf29f06a4fe17d448d', 'message': ""Modify processing of _heal_grant and _scale_grant\n\nIn NFV-SOL003 V2.6.1, the add_resources'id in grant should be\nsame as the vnfc_resource_info'id. However, at present, if\nyou execute heal_grant and scale_grant request, the add_resources's\nresource_definition_id in grantResponse cannot match the\nvnfc_resource_info.id.\n\nIn _scale_grant, to fix this bug, we changed the processing\nof _scale_grant in openstack._get_grant_resource_scale_out method.\nFirstly initialize the data of vnfc_resource_info according\nto the input parameters and the vnfd file, then initialize\nthe add_resources data of grant according to the\nvnfc_resource_info data. After scaling out, store the data\nin the stack into vnfc_resource_info in the\nopenstack.scale_resource_update method.\n\nIn addition, in openstack._get_grant_resource_scale_out, there is\nalso a problem with the placement_constraint rule setting, which\nis also corrected in this patch.\n\nIn _heal_grant, if heal entire vnf_instance, we initialize\nremove_resources used old vnf_instance's info, and then\nreinitialize vnf_instance's info and use them to initialize\nadd_resources. If heal partial vnf_instance, we just use\nupdate_resources in grant.\n\nFor instantiate, if you need to use the data obtained by\ninstantiate_grant in instantiate_end, the process should\nexecute the post_instantiate_vnf method before instantiate_end,\nso the vnflcm_driver._instantiate_vnf method has also been\nmodified.\n\nCloses-Bug: #1930782\nChange-Id: I1008472f5a7104324b61a413052dc44bc84c7ade\n""}, {'number': 19, 'created': '2021-09-16 04:57:47.000000000', 'files': ['tacker/tests/unit/vnflcm/test_load_vnf_interfaces.py', 'tacker/tests/etc/samples/etsi/nfv/functional7/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/test_kubernetes_driver.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/tests/etc/samples/etsi/nfv/functional7/BaseHOT/simple/helloworld3.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional7/BaseHOT/simple/nested/VDU2.yaml', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/tests/etc/samples/etsi/nfv/test_heal_grant_unit/sample_vnfd.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional7/Definitions/helloworld3_types.yaml', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/tests/etc/samples/etsi/nfv/functional7/UserData/__init__.py', 'tacker/vnfm/infra_drivers/scale_driver.py', 'tacker/tests/etc/samples/etsi/nfv/functional7/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/functional/sol_separated_nfvo/vnflcm/fake_grant.py', 'tacker/tests/unit/vnflcm/test_vnflcm_driver.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/hot_scale_grant.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional7/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional7/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/etc/samples/etsi/nfv/functional7/UserData/lcm_user_data.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/fixture_data/fixture_data_utils.py', 'tacker/tests/etc/samples/etsi/nfv/test_heal_grant_unit/helloworld3_types.yaml', 'tacker/tests/functional/sol_separated_nfvo/vnflcm/test_vnf_instance_with_user_data_nfvo_separate.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'tacker/conductor/conductor_server.py', 'tacker/vnflcm/vnflcm_driver.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/9e13a55aba31c47702d5aa835735aca6706e5a09', 'message': ""Modify processing of _heal_grant and _scale_grant\n\nIn NFV-SOL003 V2.6.1, the add_resources'id in grant should be\nsame as the vnfc_resource_info'id. However, at present, if\nyou execute heal_grant and scale_grant request, the add_resources's\nresource_definition_id in grantResponse cannot match the\nvnfc_resource_info.id.\n\nIn _scale_grant, to fix this bug, we changed the processing\nof _scale_grant in openstack._get_grant_resource_scale_out method.\nFirstly initialize the data of vnfc_resource_info according\nto the input parameters and the vnfd file, then initialize\nthe add_resources data of grant according to the\nvnfc_resource_info data. After scaling out, store the data\nin the stack into vnfc_resource_info in the\nopenstack.scale_resource_update method.\n\nIn addition, in openstack._get_grant_resource_scale_out, there is\nalso a problem with the placement_constraint rule setting, which\nis also corrected in this patch.\n\nIn _heal_grant, if heal entire vnf_instance, we initialize\nremove_resources used old vnf_instance's info, and then\nreinitialize vnf_instance's info and use them to initialize\nadd_resources. If heal partial vnf_instance, we just use\nupdate_resources in grant.\n\nFor instantiate, if you need to use the data obtained by\ninstantiate_grant in instantiate_end, the process should\nexecute the post_instantiate_vnf method before instantiate_end,\nso the vnflcm_driver._instantiate_vnf method has also been\nmodified.\n\nCloses-Bug: #1930782\nChange-Id: I1008472f5a7104324b61a413052dc44bc84c7ade\n""}]",59,795016,9e13a55aba31c47702d5aa835735aca6706e5a09,82,11,19,33492,,,0,"Modify processing of _heal_grant and _scale_grant

In NFV-SOL003 V2.6.1, the add_resources'id in grant should be
same as the vnfc_resource_info'id. However, at present, if
you execute heal_grant and scale_grant request, the add_resources's
resource_definition_id in grantResponse cannot match the
vnfc_resource_info.id.

In _scale_grant, to fix this bug, we changed the processing
of _scale_grant in openstack._get_grant_resource_scale_out method.
Firstly initialize the data of vnfc_resource_info according
to the input parameters and the vnfd file, then initialize
the add_resources data of grant according to the
vnfc_resource_info data. After scaling out, store the data
in the stack into vnfc_resource_info in the
openstack.scale_resource_update method.

In addition, in openstack._get_grant_resource_scale_out, there is
also a problem with the placement_constraint rule setting, which
is also corrected in this patch.

In _heal_grant, if heal entire vnf_instance, we initialize
remove_resources used old vnf_instance's info, and then
reinitialize vnf_instance's info and use them to initialize
add_resources. If heal partial vnf_instance, we just use
update_resources in grant.

For instantiate, if you need to use the data obtained by
instantiate_grant in instantiate_end, the process should
execute the post_instantiate_vnf method before instantiate_end,
so the vnflcm_driver._instantiate_vnf method has also been
modified.

Closes-Bug: #1930782
Change-Id: I1008472f5a7104324b61a413052dc44bc84c7ade
",git fetch https://review.opendev.org/openstack/tacker refs/changes/16/795016/17 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/unit/vnflcm/test_load_vnf_interfaces.py', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/test_kubernetes_driver.py', 'tacker/vnfm/infra_drivers/scale_driver.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/tests/unit/vnflcm/test_vnflcm_driver.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/tests/unit/conductor/sample_vnfd.yaml', 'tacker/tests/unit/vnfm/infra_drivers/openstack/fixture_data/fixture_data_utils.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'tacker/conductor/conductor_server.py', 'tacker/tests/unit/conductor/helloworld3_types.yaml', 'tacker/vnflcm/vnflcm_driver.py']",15,8e53a159fd86a623c8e89b85737782193f550e57,bug/1930782," if vnf_instance.instantiated_vnf_info.instance_id: self._vnf_manager.invoke(vim_connection_info.vim_type, 'post_vnf_instantiation', context=context, vnf_instance=vnf_instance, vim_connection_info=vim_connection_info, instantiate_vnf_req=instantiate_vnf_req) if vnf_dict.get('vnf_instance_after'): vnf_instance.instantiated_vnf_info = \ vnf_dict.get('vnf_instance_after').instantiated_vnf_info else: vnflcm_utils._build_instantiated_vnf_info( vnfd_dict, instantiate_vnf_request, vnf_instance, vim_connection_info.vim_id) vnf_info=vnf_info,"," vnflcm_utils._build_instantiated_vnf_info( vnfd_dict, instantiate_vnf_request, vnf_instance, vim_connection_info.vim_id)",875,113
openstack%2Fcharm-nova-compute~master~Ibf51e4904de6dcecd31fc323d035bc0434c16b34,openstack/charm-nova-compute,master,Ibf51e4904de6dcecd31fc323d035bc0434c16b34,Prevent nova-compute starting if mount failed,ABANDONED,2020-05-18 21:19:15.000000000,2021-09-16 08:47:28.000000000,,"[{'_account_id': 935}, {'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 14567}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-18 21:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/969ddd2e8835533e547491b7086243c248735726', 'message': 'Prevent nova-compute starting if mount failed\n\nWhenever the instances ephemeral storage is set up\nas a mount dependency (currently hardcoded as\n""/var/lib/nova/instances""), it has the risk of not\nmounting successfully. In such case, nova-compute\nstarts and the user may create instances in the\nhost\'s ""/var/lib/nova/instances"" path as defined\nin nova.conf, and those instances will not be\nencrypted (if encryption is set).\n\nUpon a later successful mount, it will cause\nproblems mounting on top of those new instances.\nThis patch prevents nova-compute service from\nrunning to purposefully require admin\nintervention for the resolution of the root problem.\n\nCloses-bug: #1863358\nChange-Id: Ibf51e4904de6dcecd31fc323d035bc0434c16b34\n'}, {'number': 2, 'created': '2020-07-14 17:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/7f8477492973fe03138a0d901a08995d3a9fa184', 'message': 'Prevent nova-compute starting if mount failed\n\nWhenever the instances ephemeral storage is set up\nas a mount dependency (currently hardcoded as\n""/var/lib/nova/instances""), it has the risk of not\nmounting successfully. In such case, nova-compute\nstarts and the user may create instances in the\nhost\'s ""/var/lib/nova/instances"" path as defined\nin nova.conf, and those instances will not be\nencrypted (if encryption is set).\n\nUpon a later successful mount, it will cause\nproblems mounting on top of those new instances.\nThis patch prevents nova-compute service from\nrunning to purposefully require admin\nintervention for the resolution of the root problem.\n\nCloses-bug: #1863358\nChange-Id: Ibf51e4904de6dcecd31fc323d035bc0434c16b34\n'}, {'number': 3, 'created': '2020-08-02 19:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/3a883a2bad26989e9c8e3a9d45ef2378d0fd4c3e', 'message': 'Prevent nova-compute starting if mount failed\n\nWhenever the instances ephemeral storage is set up\nas a mount dependency (currently hardcoded as\n""/var/lib/nova/instances""), it has the risk of not\nmounting successfully. In such case, nova-compute\nstarts and the user may create instances in the\nhost\'s ""/var/lib/nova/instances"" path as defined\nin nova.conf, and those instances will not be\nencrypted (if encryption is set).\n\nUpon a later successful mount, it will cause\nproblems mounting on top of those new instances.\nThis patch prevents nova-compute service from\nrunning to purposefully require admin\nintervention for the resolution of the root problem.\n\nCloses-bug: #1863358\nChange-Id: Ibf51e4904de6dcecd31fc323d035bc0434c16b34\n'}, {'number': 4, 'created': '2021-09-16 08:45:14.000000000', 'files': ['hooks/nova_compute_utils.py', 'unit_tests/test_nova_compute_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/f0b2d8e2d16c921002aceefee95c0250a08c3455', 'message': 'Prevent nova-compute starting if mount failed\n\nWhenever the instances ephemeral storage is set up\nas a mount dependency (currently hardcoded as\n""/var/lib/nova/instances""), it has the risk of not\nmounting successfully. In such case, nova-compute\nstarts and the user may create instances in the\nhost\'s ""/var/lib/nova/instances"" path as defined\nin nova.conf, and those instances will not be\nencrypted (if encryption is set).\n\nUpon a later successful mount, it will cause\nproblems mounting on top of those new instances.\nThis patch prevents nova-compute service from\nrunning to purposefully require admin\nintervention for the resolution of the root problem.\n\nCloses-bug: #1863358\nChange-Id: Ibf51e4904de6dcecd31fc323d035bc0434c16b34\n'}]",0,729043,f0b2d8e2d16c921002aceefee95c0250a08c3455,26,7,4,14567,,,0,"Prevent nova-compute starting if mount failed

Whenever the instances ephemeral storage is set up
as a mount dependency (currently hardcoded as
""/var/lib/nova/instances""), it has the risk of not
mounting successfully. In such case, nova-compute
starts and the user may create instances in the
host's ""/var/lib/nova/instances"" path as defined
in nova.conf, and those instances will not be
encrypted (if encryption is set).

Upon a later successful mount, it will cause
problems mounting on top of those new instances.
This patch prevents nova-compute service from
running to purposefully require admin
intervention for the resolution of the root problem.

Closes-bug: #1863358
Change-Id: Ibf51e4904de6dcecd31fc323d035bc0434c16b34
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/43/729043/3 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_utils.py', 'unit_tests/test_nova_compute_utils.py']",2,969ddd2e8835533e547491b7086243c248735726,bug/1863358," @patch.object(utils, 'write_file') @patch.object(utils, 'mkdir') def test_configure_local_ephemeral_storage_done( self, filter_installed_packages, mkdir, write_file): systemd_override = (""[Unit]\n"" ""Requires=var-lib-nova-instances.mount\n"" ""After=var-lib-nova-instances.mount\n"") mkdir.assert_called_once_with( utils.NOVA_COMPUTE_OVERRIDE_DIR, perms=0o755) write_file.assert_called_once_with( utils.MOUNT_DEPENDENCY_OVERRIDE, systemd_override, perms=0o644) "," def test_configure_local_ephemeral_storage_done(self, filter_installed_packages):",26,2
openstack%2Freleases~master~I90ba4b33690e6f6569c993ba1d542b76fc4bb63a,openstack/releases,master,I90ba4b33690e6f6569c993ba1d542b76fc4bb63a,Proposing Xena RC1 for ansible-role-thales-hsm,MERGED,2021-09-14 20:35:22.000000000,2021-09-16 08:33:05.000000000,2021-09-16 08:33:05.000000000,"[{'_account_id': 11561}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-14 20:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/413a2c4214217b59244ebada1b09b7895c174b35', 'message': 'Proposing Xena RC1 for ansible-role-thales-hsm\n\nChange-Id: I90ba4b33690e6f6569c993ba1d542b76fc4bb63a\n'}, {'number': 2, 'created': '2021-09-14 22:20:54.000000000', 'files': ['deliverables/xena/ansible-role-thales-hsm.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/04705e98294926acbf9bb0957373098cf8dae63a', 'message': 'Proposing Xena RC1 for ansible-role-thales-hsm\n\nChange-Id: I90ba4b33690e6f6569c993ba1d542b76fc4bb63a\n'}]",1,809010,04705e98294926acbf9bb0957373098cf8dae63a,10,4,2,7973,,,0,"Proposing Xena RC1 for ansible-role-thales-hsm

Change-Id: I90ba4b33690e6f6569c993ba1d542b76fc4bb63a
",git fetch https://review.opendev.org/openstack/releases refs/changes/10/809010/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/ansible-role-thales-hsm.yaml'],1,413a2c4214217b59244ebada1b09b7895c174b35,,releases: - version 2.0.0.0rc1 projects: - repo: openstack/ansible-role-thales-hsm hash: e82db3b3fc5088c393eb810bf52329444a91b4eb branches: - name: stable/xena location: 2.0.0.0rc1,,8,0
openstack%2Fec2-api~stable%2Ftrain~I0c5b95d84dfed68fac59b0dc305dec39ecf5fa8a,openstack/ec2-api,stable/train,I0c5b95d84dfed68fac59b0dc305dec39ecf5fa8a,Run TripleO jobs on CentOS8 instead of CentOS7,MERGED,2021-09-14 13:22:19.000000000,2021-09-16 08:32:29.000000000,2021-09-16 08:22:43.000000000,"[{'_account_id': 10234}, {'_account_id': 12039}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 13:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/f51a0fdc695a891c55431020d6cbb9a31ddf568b', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0c5b95d84dfed68fac59b0dc305dec39ecf5fa8a\n'}, {'number': 2, 'created': '2021-09-15 12:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/199df34ef2e15624937dea0dae94bf0080d748ef', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0c5b95d84dfed68fac59b0dc305dec39ecf5fa8a\n'}, {'number': 3, 'created': '2021-09-15 12:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/0287168ed0f263b8da7f6b964f151d177e3e08bc', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0c5b95d84dfed68fac59b0dc305dec39ecf5fa8a\n'}, {'number': 4, 'created': '2021-09-16 06:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/ff94ef257077ad3e4fa0443402256f16d8417169', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0c5b95d84dfed68fac59b0dc305dec39ecf5fa8a\n'}, {'number': 5, 'created': '2021-09-16 07:28:59.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/8776ff585beb144d31b4c3c247b328ec7cf88e7b', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0c5b95d84dfed68fac59b0dc305dec39ecf5fa8a\n'}]",0,808861,8776ff585beb144d31b4c3c247b328ec7cf88e7b,18,3,5,20182,,,0,"Run TripleO jobs on CentOS8 instead of CentOS7

As we are cleaning up the c7 jobs and obselete featuresets [1].
This change replaces usage of CentOS7 in TripleO jobs by CentOS8.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: I0c5b95d84dfed68fac59b0dc305dec39ecf5fa8a
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/61/808861/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f51a0fdc695a891c55431020d6cbb9a31ddf568b,c7-to-c8-stable/train, - tripleo-ci-centos-8-scenario002-standalone, # tripleo-ci-centos-7-scenario002-multinode-oooq-container will # run in Pike and beyond. - tripleo-ci-centos-7-scenario002-standalone,1,3
openstack%2Fec2-api~stable%2Fstein~I0cdc9144b37335c1e4d5fc62c2093335b8a5453d,openstack/ec2-api,stable/stein,I0cdc9144b37335c1e4d5fc62c2093335b8a5453d,Remove jobs corresponds to obselete featuresets,MERGED,2021-09-14 13:50:36.000000000,2021-09-16 08:31:52.000000000,2021-09-16 08:22:42.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 13:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/477e68c9b9f148340c1604c935042e59aa175877', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0cdc9144b37335c1e4d5fc62c2093335b8a5453d\n'}, {'number': 2, 'created': '2021-09-15 12:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/949e67003f4a4ae66f6c182f169a44523a77a919', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0cdc9144b37335c1e4d5fc62c2093335b8a5453d\n'}, {'number': 3, 'created': '2021-09-15 12:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/5d31fa3ea47a442bd24e23a1fba351ae7bb4cb48', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0cdc9144b37335c1e4d5fc62c2093335b8a5453d\n'}, {'number': 4, 'created': '2021-09-16 06:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/e922901870a772615aa9901cbce9173ab858353c', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0cdc9144b37335c1e4d5fc62c2093335b8a5453d\n'}, {'number': 5, 'created': '2021-09-16 07:30:36.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/821492b8ce7a8a85622f2b4be4d2f81018c92d5a', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0cdc9144b37335c1e4d5fc62c2093335b8a5453d\n'}]",0,808960,821492b8ce7a8a85622f2b4be4d2f81018c92d5a,18,2,5,20182,,,0,"Remove jobs corresponds to obselete featuresets

As we are removing the jobs which are using the obselete featuresets [1]
so removing those jobs from templates/layouts

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: I0cdc9144b37335c1e4d5fc62c2093335b8a5453d
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/60/808960/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,477e68c9b9f148340c1604c935042e59aa175877,cleanup-featuresets-from-old-branches,," # TripleO jobs that deploy ec2-api. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # tripleo-ci-centos-7-scenario002-multinode-oooq-container will # run in Pike and beyond. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - tripleo-ci-centos-7-scenario002-standalone",0,8
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I7f8b2636f65aa0c018d192102cc48c81def954b3,openstack/puppet-openstack-integration,stable/train,I7f8b2636f65aa0c018d192102cc48c81def954b3,[Train only] Remove TripleO job on CentOS7,MERGED,2021-09-03 14:03:24.000000000,2021-09-16 08:26:21.000000000,2021-09-16 08:26:21.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-03 14:03:24.000000000', 'files': ['zuul.d/tripleo.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7ca4d6788a4b8041f384edb265c9fe72796a12b3', 'message': '[Train only] Remove TripleO job on CentOS7\n\nNow all TripleO jobs are ported to CentOS8, so we no longer need that\nbase job.\n\nDepneds-on: https://review.opendev.org/c/openstack/puppet-cinder/+/807325\nDepends-on: https://review.opendev.org/c/openstack/puppet-glance/+/807322\nDepneds-on: https://review.opendev.org/c/openstack/puppet-horizon/+/807327\nDepneds-on: https://review.opendev.org/c/openstack/puppet-keystone/+/807329\nDepneds-on: https://review.opendev.org/c/openstack/puppet-neutron/+/807324\nDepends-on: https://review.opendev.org/c/openstack/puppet-nova/+/807323\nDepneds-on: https://review.opendev.org/c/openstack/puppet-swift/+/807331\nChange-Id: I7f8b2636f65aa0c018d192102cc48c81def954b3\n'}]",0,807333,7ca4d6788a4b8041f384edb265c9fe72796a12b3,13,3,1,9816,,,0,"[Train only] Remove TripleO job on CentOS7

Now all TripleO jobs are ported to CentOS8, so we no longer need that
base job.

Depneds-on: https://review.opendev.org/c/openstack/puppet-cinder/+/807325
Depends-on: https://review.opendev.org/c/openstack/puppet-glance/+/807322
Depneds-on: https://review.opendev.org/c/openstack/puppet-horizon/+/807327
Depneds-on: https://review.opendev.org/c/openstack/puppet-keystone/+/807329
Depneds-on: https://review.opendev.org/c/openstack/puppet-neutron/+/807324
Depends-on: https://review.opendev.org/c/openstack/puppet-nova/+/807323
Depneds-on: https://review.opendev.org/c/openstack/puppet-swift/+/807331
Change-Id: I7f8b2636f65aa0c018d192102cc48c81def954b3
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/33/807333/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tripleo.yaml'],1,7ca4d6788a4b8041f384edb265c9fe72796a12b3,tripleo-c7-to-c8-train,, - job: name: tripleo-puppet-ci-centos-7-standalone parent: tripleo-ci-centos-7-standalone irrelevant-files: *irrelevant_files vars: featureset_override: standalone_environment_files: - 'environments/low-memory-usage.yaml',0,9
openstack%2Fkuryr~stable%2Fxena~I11d6e28c7d11b198e887c5997ea6675445aba0b9,openstack/kuryr,stable/xena,I11d6e28c7d11b198e887c5997ea6675445aba0b9,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-10 15:13:59.000000000,2021-09-16 08:17:56.000000000,2021-09-16 08:04:43.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-09-10 15:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/a9ebad4dcbaf93397921fc6d61bf9322ad6314b5', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I11d6e28c7d11b198e887c5997ea6675445aba0b9\n'}, {'number': 2, 'created': '2021-09-15 11:13:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/aa74f46f9af23d8b52055d3a8d2dc0cf9b38ce1e', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I11d6e28c7d11b198e887c5997ea6675445aba0b9\n'}]",0,808417,aa74f46f9af23d8b52055d3a8d2dc0cf9b38ce1e,10,4,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I11d6e28c7d11b198e887c5997ea6675445aba0b9
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/17/808417/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a9ebad4dcbaf93397921fc6d61bf9322ad6314b5,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fcharm-guide~master~I276588585a05fa7fe7971fa4b3243320a6036e9c,openstack/charm-guide,master,I276588585a05fa7fe7971fa4b3243320a6036e9c,Remove Amulet and charm-recheck-full,MERGED,2021-09-14 08:00:33.000000000,2021-09-16 08:17:16.000000000,2021-09-16 08:13:26.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-09-14 08:00:33.000000000', 'files': ['doc/source/release-policy.rst', 'doc/source/testing.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/2afcb9a13628125f7bb3fbaa1a42e32ba8c3b250', 'message': 'Remove Amulet and charm-recheck-full\n\nChange-Id: I276588585a05fa7fe7971fa4b3243320a6036e9c\n'}]",3,808879,2afcb9a13628125f7bb3fbaa1a42e32ba8c3b250,11,4,1,31289,,,0,"Remove Amulet and charm-recheck-full

Change-Id: I276588585a05fa7fe7971fa4b3243320a6036e9c
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/79/808879/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/release-policy.rst', 'doc/source/testing.rst']",2,2afcb9a13628125f7bb3fbaa1a42e32ba8c3b250,rm-amulet-and-charm-recheck-full," charm is under test, this will typically take 30 to 120 minutes.* ",".. note:: Most of the OpenStack Charms have been converted to use the Zaza_ (Py3) functional test framework, though some may still use the legacy Amulet_ (Py2) framework. Naturally, with the sunset of Py2 overall, newly authored tests should be in the Zaza_ framework. charm is under test, this will typically take 30 to 60 minutes.* ``charm-recheck-full`` Triggers a full set of OpenStack Charms third-party-ci tests, but not the OpenStack Infra tests. *This will take several hours.* .. _Amulet: https://jujucharms.com/docs/devel/tools-amulet",2,12
openstack%2Freleases~master~I92e56613d3d126e0a5c32eadb3e35d47635c304c,openstack/releases,master,I92e56613d3d126e0a5c32eadb3e35d47635c304c,Release Tempest 29.0.0 as Xena final release,MERGED,2021-09-09 09:44:53.000000000,2021-09-16 08:17:14.000000000,2021-09-16 08:17:14.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-09 09:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/26a9e877ffd8d7e1640d4a716e2bf4d22fe46da2', 'message': 'Release Tempest 29.0.0 as Xena final release\n\nChange-Id: I92e56613d3d126e0a5c32eadb3e35d47635c304c\n'}, {'number': 2, 'created': '2021-09-09 21:21:54.000000000', 'files': ['deliverables/xena/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/212d095352cf83e18347716214a54877f49695ce', 'message': 'Release Tempest 29.0.0 as Xena final release\n\nChange-Id: I92e56613d3d126e0a5c32eadb3e35d47635c304c\n'}]",2,808035,212d095352cf83e18347716214a54877f49695ce,21,4,2,22873,,,0,"Release Tempest 29.0.0 as Xena final release

Change-Id: I92e56613d3d126e0a5c32eadb3e35d47635c304c
",git fetch https://review.opendev.org/openstack/releases refs/changes/35/808035/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/tempest.yaml'],1,26a9e877ffd8d7e1640d4a716e2bf4d22fe46da2,, - projects: - repo: openstack/tempest hash: 709d6e1c815c4b351efa2214ea0eb740936f6aa6 version: 29.0.0,,4,0
openstack%2Fkuryr~stable%2Fxena~I013f2750ca1371d3b4d5e2f618067cd9b70e76e4,openstack/kuryr,stable/xena,I013f2750ca1371d3b4d5e2f618067cd9b70e76e4,Fix unit tests,MERGED,2021-09-15 11:12:07.000000000,2021-09-16 08:15:12.000000000,2021-09-16 08:00:59.000000000,"[{'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-09-15 11:12:07.000000000', 'files': ['kuryr/tests/unit/binding/drivers/test_ipvlan.py', 'kuryr/tests/unit/binding/drivers/test_macvlan.py', 'kuryr/tests/unit/binding/drivers/test_veth.py', 'kuryr/tests/unit/binding/drivers/test_vlan.py'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/def242040193df50014d5fb2094450ed73efbee0', 'message': 'Fix unit tests\n\npyroute2 changed structure of the modules a bit and the unit tests were\nassuming it. This commit makes sure tests work with new pyroute2.\n\nChange-Id: I013f2750ca1371d3b4d5e2f618067cd9b70e76e4\n'}]",0,809140,def242040193df50014d5fb2094450ed73efbee0,9,5,1,11600,,,0,"Fix unit tests

pyroute2 changed structure of the modules a bit and the unit tests were
assuming it. This commit makes sure tests work with new pyroute2.

Change-Id: I013f2750ca1371d3b4d5e2f618067cd9b70e76e4
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/40/809140/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr/tests/unit/binding/drivers/test_ipvlan.py', 'kuryr/tests/unit/binding/drivers/test_macvlan.py', 'kuryr/tests/unit/binding/drivers/test_veth.py', 'kuryr/tests/unit/binding/drivers/test_vlan.py']",4,def242040193df50014d5fb2094450ed73efbee0,fix-ut-stable/xena," @mock.patch('kuryr.lib.binding.drivers.utils.get_ipdb', mock.MagicMock()) def test_port_bind(self, mock_configure_container_iface):","mock_create = mock.MagicMock() mock_interface = mock.MagicMock() @mock.patch('pyroute2.ipdb.interfaces.InterfacesDict.__getattribute__', return_value=mock_create) @mock.patch('pyroute2.ipdb.interfaces.InterfacesDict.__getitem__', return_value=mock_interface) def test_port_bind(self, mock_getitem, mock_getattribute, mock_configure_container_iface):",15,41
openstack%2Fbarbican~master~Id6c0a89fa1c17dd9caf958d13054e1f3e23e83f2,openstack/barbican,master,Id6c0a89fa1c17dd9caf958d13054e1f3e23e83f2,Vault: ensure that secrets are normalized,ABANDONED,2020-11-23 19:31:56.000000000,2021-09-16 08:15:11.000000000,,"[{'_account_id': 7973}, {'_account_id': 9542}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28619}, {'_account_id': 32834}]","[{'number': 1, 'created': '2020-11-23 19:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/032e4a992d324e5f8eea6adc97646af6f38bee15', 'message': ""Vault: ensure that secrets are normalized\n\nBarbican normalizes secrets before passing them to the plugin layer.\nThis involves utf-8 encoding (if plain text) then Base64 encoding.\n\nWhen creating symmetric or asymmetric keys, Castellan stores secrets\ninternally which are not encoded in this manner. In that case, when that\nsecret is requested via the Barbican API, Barbican will try to\ndenormalize the value returned by the plugin. This can lead to an error\nsuch as this:\n\n    UnicodeDecodeError: 'ascii' codec can't decode byte 0xec in position\n    0: ordinal not in range(128)\n\nThis happens because the binary key data is not in ASCII format - it may\nuse the full 256 range of a byte.\n\nThis change fixes the issue by ensuring that all secrets that are keys\nare normalized when returned by the Vault plugin.\n\nWe need to consider the possibility that an unnormalized secret is valid\nbase64. In that case, it would not be normalized by the plugin, and it\nwould be unexpectedly base64 decoded before being returned to the API\ncaller.  The chances of a random byte being valid base64 is 64/256=1/4.\nFor reasonable length keys, this becomes vanishingly small. e.g. for 256\nbyte keys this would be 1 in 2^512.\n\nStory: 2008335\nTask: 41236\nChange-Id: Id6c0a89fa1c17dd9caf958d13054e1f3e23e83f2\n""}, {'number': 2, 'created': '2020-11-24 11:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/76ecf2654cbba0f42da136d0e97df05fb95b07f8', 'message': ""Vault: ensure that secrets are normalized\n\nBarbican normalizes secrets before passing them to the plugin layer.\nThis involves utf-8 encoding (if plain text) then Base64 encoding.\n\nWhen creating symmetric or asymmetric keys, Castellan stores secrets\ninternally which are not encoded in this manner. In that case, when that\nsecret is requested via the Barbican API, Barbican will try to\ndenormalize the value returned by the plugin. This can lead to an error\nsuch as this:\n\n    UnicodeDecodeError: 'ascii' codec can't decode byte 0xec in position\n    0: ordinal not in range(128)\n\nThis happens because the binary key data is not in ASCII format - it may\nuse the full 256 range of a byte.\n\nThis change fixes the issue by ensuring that all secrets that are keys\nare normalized when returned by the Vault plugin.\n\nWe need to consider the possibility that an unnormalized secret is valid\nbase64. In that case, it would not be normalized by the plugin, and it\nwould be unexpectedly base64 decoded before being returned to the API\ncaller.  The chances of a random byte being valid base64 is 64/256=1/4.\nFor reasonable length keys, this is quite infrequent. e.g. for 256\nbit keys this would be 1 in 65536.\n\nStory: 2008335\nTask: 41236\nChange-Id: Id6c0a89fa1c17dd9caf958d13054e1f3e23e83f2\n""}, {'number': 3, 'created': '2020-11-25 14:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/534f22f90fe9c17d8cfda7c425619ccbfe368a87', 'message': ""Vault: ensure that secrets are normalized\n\nBarbican normalizes secrets before passing them to the plugin layer.\nThis involves utf-8 encoding (if plain text) then Base64 encoding.\n\nWhen creating symmetric or asymmetric keys, Castellan stores secrets\ninternally which are not encoded in this manner. In that case, when that\nsecret is requested via the Barbican API, Barbican will try to\ndenormalize the value returned by the plugin. This can lead to an error\nsuch as this:\n\n    UnicodeDecodeError: 'ascii' codec can't decode byte 0xec in position\n    0: ordinal not in range(128)\n\nThis happens because the binary key data is not in ASCII format - it may\nuse the full 256 range of a byte.\n\nThis change fixes the issue by ensuring that all secrets that are keys\nare normalized when returned by the Vault plugin.\n\nWe need to consider the possibility that an unnormalized secret is valid\nbase64. In that case, it would not be normalized by the plugin, and it\nwould be unexpectedly base64 decoded before being returned to the API\ncaller.  The chances of a random byte being valid base64 is 64/256=1/4.\nFor reasonable length keys, this is quite infrequent. e.g. for 256\nbit keys this would be 1 in 65536.\n\nA functional test has been added that queries the payload of an order\nsecret.\n\nStory: 2008335\nTask: 41236\nChange-Id: Id6c0a89fa1c17dd9caf958d13054e1f3e23e83f2\n""}, {'number': 4, 'created': '2020-11-26 14:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/111bc1e058b98709ca3922d755905107592a45c5', 'message': ""Vault: ensure that secrets are normalized\n\nBarbican normalizes secrets before passing them to the plugin layer.\nThis involves utf-8 encoding (if plain text) then Base64 encoding.\n\nWhen creating symmetric or asymmetric keys, Castellan stores secrets\ninternally which are not encoded in this manner. In that case, when that\nsecret is requested via the Barbican API, Barbican will try to\ndenormalize the value returned by the plugin. This can lead to an error\nsuch as this:\n\n    UnicodeDecodeError: 'ascii' codec can't decode byte 0xec in position\n    0: ordinal not in range(128)\n\nThis happens because the binary key data is not in ASCII format - it may\nuse the full 256 range of a byte.\n\nThis change fixes the issue by ensuring that all secrets that are keys\nare normalized when returned by the Vault plugin.\n\nWe need to consider the possibility that an unnormalized secret is valid\nbase64. In that case, it would not be normalized by the plugin, and it\nwould be unexpectedly base64 decoded before being returned to the API\ncaller.  The chances of a random byte being valid base64 is 64/256=1/4.\nFor reasonable length keys, this is quite infrequent. e.g. for 256\nbit keys this would be 1 in 65536.\n\nA functional test has been added that queries the payload of an order\nsecret.\n\nDepends-On: https://review.opendev.org/764202\n\nStory: 2008335\nTask: 41236\nChange-Id: Id6c0a89fa1c17dd9caf958d13054e1f3e23e83f2\n""}, {'number': 5, 'created': '2020-11-26 14:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/f0520a92a9aef8cca4b5cc3d47699d22d96ca8f1', 'message': ""Vault: ensure that secrets are normalized\n\nBarbican normalizes secrets before passing them to the plugin layer.\nThis involves utf-8 encoding (if plain text) then Base64 encoding.\n\nWhen creating symmetric or asymmetric keys, Castellan stores secrets\ninternally which are not encoded in this manner. In that case, when that\nsecret is requested via the Barbican API, Barbican will try to\ndenormalize the value returned by the plugin. This can lead to an error\nsuch as this:\n\n    UnicodeDecodeError: 'ascii' codec can't decode byte 0xec in position\n    0: ordinal not in range(128)\n\nThis happens because the binary key data is not in ASCII format - it may\nuse the full 256 range of a byte.\n\nThis change fixes the issue by ensuring that all secrets that are keys\nare normalized when returned by the Vault plugin.\n\nWe need to consider the possibility that an unnormalized secret is valid\nbase64. In that case, it would not be normalized by the plugin, and it\nwould be unexpectedly base64 decoded before being returned to the API\ncaller.  The chances of a random byte being valid base64 is 64/256=1/4.\nFor reasonable length keys, this is quite infrequent. e.g. for 256\nbit keys this would be 1 in 65536.\n\nA functional test has been added that queries the payload of an order\nsecret.\n\nDepends-On: https://review.opendev.org/764202\n\nStory: 2008335\nTask: 41236\nChange-Id: Id6c0a89fa1c17dd9caf958d13054e1f3e23e83f2\n""}, {'number': 6, 'created': '2021-06-21 16:00:02.000000000', 'files': ['releasenotes/notes/fix-story-2008335-d25454e4f6b24f2c.yaml', 'barbican/tests/plugin/test_castellan_secret_store.py', 'functionaltests/api/v1/functional/test_orders.py', 'barbican/plugin/castellan_secret_store.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/f09736ac10cbeae29e6bbcf0baf1622006d65d55', 'message': ""Vault: ensure that secrets are normalized\n\nBarbican normalizes secrets before passing them to the plugin layer.\nThis involves utf-8 encoding (if plain text) then Base64 encoding.\n\nWhen creating symmetric or asymmetric keys, Castellan stores secrets\ninternally which are not encoded in this manner. In that case, when that\nsecret is requested via the Barbican API, Barbican will try to\ndenormalize the value returned by the plugin. This can lead to an error\nsuch as this:\n\n    UnicodeDecodeError: 'ascii' codec can't decode byte 0xec in position\n    0: ordinal not in range(128)\n\nThis happens because the binary key data is not in ASCII format - it may\nuse the full 256 range of a byte.\n\nThis change fixes the issue by ensuring that all secrets that are keys\nare normalized when returned by the Vault plugin. We do this when the\nlength of the secret is not as expected, based on the bit length of the\nkey.\n\nA functional test has been added that queries the payload of an order\nsecret.\n\nDepends-On: https://review.opendev.org/764202\n\nStory: 2008335\nTask: 41236\nChange-Id: Id6c0a89fa1c17dd9caf958d13054e1f3e23e83f2\n""}]",5,763835,f09736ac10cbeae29e6bbcf0baf1622006d65d55,37,6,6,14826,,,0,"Vault: ensure that secrets are normalized

Barbican normalizes secrets before passing them to the plugin layer.
This involves utf-8 encoding (if plain text) then Base64 encoding.

When creating symmetric or asymmetric keys, Castellan stores secrets
internally which are not encoded in this manner. In that case, when that
secret is requested via the Barbican API, Barbican will try to
denormalize the value returned by the plugin. This can lead to an error
such as this:

    UnicodeDecodeError: 'ascii' codec can't decode byte 0xec in position
    0: ordinal not in range(128)

This happens because the binary key data is not in ASCII format - it may
use the full 256 range of a byte.

This change fixes the issue by ensuring that all secrets that are keys
are normalized when returned by the Vault plugin. We do this when the
length of the secret is not as expected, based on the bit length of the
key.

A functional test has been added that queries the payload of an order
secret.

Depends-On: https://review.opendev.org/764202

Story: 2008335
Task: 41236
Change-Id: Id6c0a89fa1c17dd9caf958d13054e1f3e23e83f2
",git fetch https://review.opendev.org/openstack/barbican refs/changes/35/763835/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-story-2008335-d25454e4f6b24f2c.yaml', 'barbican/tests/plugin/test_castellan_secret_store.py', 'barbican/plugin/castellan_secret_store.py']",3,032e4a992d324e5f8eea6adc97646af6f38bee15,,"from barbican.plugin.util import translations as trdef _ensure_secret_normalized(secret_value, content_type, secret_type): """"""Ensure that a secret is normalized. Barbican expects secrets to be normalized, i.e. encoded using utf-8 (if plain text) then Base64 encoded. When creating symmetric or asymmetric keys, Castellan may store secrets internally which are not encoded in this manner. In that case, normalize them. We need to consider the possibility that an unnormalized secret is valid base64. In that case, we would not encode it here, and it would be unexpectedly decoded before being returned to the API caller. The chances of a random byte being valid base64 is 64/256=1/4. For reasonable length keys, this becomes vanishingly small. e.g. for 256 byte keys this would be 1 in 2^512. :param str secret_value: Raw payload :param str content_type: The media type for the payload :param str secret_type: The type of secret :returns: Normalized (base64 encoded) payload. """""" unnormalized_types = [ss.SecretType.PRIVATE, ss.SecretType.PUBLIC, ss.SecretType.SYMMETRIC] if secret_type not in unnormalized_types: return try: tr.denormalize_after_decryption(secret_value, content_type) except (UnicodeDecodeError, TypeError): secret_value, _ = tr.normalize_before_encryption(secret_value, content_type, None, secret_type) return secret_value secret_value = secret.get_encoded() content_type = secret_metadata['content_type'] secret_value = _ensure_secret_normalized(secret_value, content_type, secret_type) return ss.SecretDTO(secret_type, secret_value, ss.KeySpec(), content_type)"," return ss.SecretDTO(secret_type, secret.get_encoded(), ss.KeySpec(), secret_metadata['content_type'])",83,3
openstack%2Fbarbican~master~I46fe77a471bf7927a24ca4d64dfccb385cd6402e,openstack/barbican,master,I46fe77a471bf7927a24ca4d64dfccb385cd6402e,Fix Castellan Secret Store inconsistent encoding,MERGED,2021-06-11 21:35:36.000000000,2021-09-16 08:14:39.000000000,2021-09-15 16:56:58.000000000,"[{'_account_id': 9914}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 21:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/842173b609174500fbd8bd6601c3e4bf6f937eb4', 'message': 'WIP: Fix Castellan Secret Store\n\nThis patch fixes the Castellan secret store use of SecretDTO objects,\nwhich require that the ""secret"" member be base64 encoded. [1]\n\n[1]\nhttps://opendev.org/openstack/barbican/src/tag/12.0.0/barbican/plugin/interface/secret_store.py#L356\n\nChange-Id: I46fe77a471bf7927a24ca4d64dfccb385cd6402e\n'}, {'number': 2, 'created': '2021-06-18 18:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/511091404824cf9585c266ab2daf08787ea0f50a', 'message': 'WIP: Fix Castellan Secret Store\n\nThis patch fixes the Castellan secret store use of SecretDTO objects,\nwhich require that the ""secret"" member be base64 encoded. [1]\n\n[1]\nhttps://opendev.org/openstack/barbican/src/tag/12.0.0/barbican/plugin/interface/secret_store.py#L356\n\nChange-Id: I46fe77a471bf7927a24ca4d64dfccb385cd6402e\n'}, {'number': 3, 'created': '2021-06-18 20:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/c49903b27c081196b90e9a4c493bddf2fc4514ea', 'message': 'WIP: Fix Castellan Secret Store\n\nThis patch fixes the Castellan secret store use of SecretDTO objects,\nwhich require that the ""secret"" member be base64 encoded. [1]\n\n[1]\nhttps://opendev.org/openstack/barbican/src/tag/12.0.0/barbican/plugin/interface/secret_store.py#L356\n\nChange-Id: I46fe77a471bf7927a24ca4d64dfccb385cd6402e\n'}, {'number': 4, 'created': '2021-07-16 22:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/4f9d826b8a2525320d67571108a2b8f7c801500e', 'message': 'Fix Castellan Secret Store inconsistend encoding\n\nThis patch fixes the Castellan secret store use of SecretDTO objects,\nwhich require that the ""secret"" member be base64 encoded. [1]\n\nPrior to this fix all secrets that wre generated were stored in\nplaintext, but secrets coming in through the API were base64 encoded\nbefore beign stored in the backend.\n\nOn secret retreival the Castellan plugin wrongly assumed everything in\nthe backend was encoded, so attempts to retrieve generated keys failed.\n\nThis patch fixes this inconsistency by always storing data un-encoded in\nthe backend.\n\nA helper method was added to sort out the inconsistent data stored prior\nto this fix.\n\nA ""version"" property was added to the Castellan plugin metadata that is\nstored in barbican to help differentiate secrets stored prior to this\nfix vs secrets stored after this fix.\n\nStory: 2008335\nTask: 41236\n\n[1]\nhttps://opendev.org/openstack/barbican/src/tag/12.0.0/barbican/plugin/interface/secret_store.py#L356\n\nChange-Id: I46fe77a471bf7927a24ca4d64dfccb385cd6402e\n'}, {'number': 5, 'created': '2021-07-16 22:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/8a3250545e411442f1eaac4e04daa2971ee4f021', 'message': 'Fix Castellan Secret Store inconsistend encoding\n\nThis patch fixes the Castellan secret store use of SecretDTO objects,\nwhich require that the ""secret"" member be base64 encoded. [1]\n\nPrior to this fix all secrets that wre generated were stored in\nplaintext, but secrets coming in through the API were base64 encoded\nbefore beign stored in the backend.\n\nOn secret retreival the Castellan plugin wrongly assumed everything in\nthe backend was encoded, so attempts to retrieve generated keys failed.\n\nThis patch fixes this inconsistency by always storing data un-encoded in\nthe backend.\n\nA helper method was added to sort out the inconsistent data stored prior\nto this fix.\n\nA ""version"" property was added to the Castellan plugin metadata that is\nstored in barbican to help differentiate secrets stored prior to this\nfix vs secrets stored after this fix.\n\nStory: 2008335\nTask: 41236\n\n[1]\nhttps://opendev.org/openstack/barbican/src/tag/12.0.0/barbican/plugin/interface/secret_store.py#L356\n\nChange-Id: I46fe77a471bf7927a24ca4d64dfccb385cd6402e\n'}, {'number': 6, 'created': '2021-07-17 02:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/53d0f90dbaf5d56737f200d9a3fc1188bcd3d90a', 'message': 'Fix Castellan Secret Store inconsistend encoding\n\nThis patch fixes the Castellan secret store use of SecretDTO objects,\nwhich require that the ""secret"" member be base64 encoded. [1]\n\nPrior to this fix all secrets that wre generated were stored in\nplaintext, but secrets coming in through the API were base64 encoded\nbefore beign stored in the backend.\n\nOn secret retreival the Castellan plugin wrongly assumed everything in\nthe backend was encoded, so attempts to retrieve generated keys failed.\n\nThis patch fixes this inconsistency by always storing data un-encoded in\nthe backend.\n\nA helper method was added to sort out the inconsistent data stored prior\nto this fix.\n\nA ""version"" property was added to the Castellan plugin metadata that is\nstored in barbican to help differentiate secrets stored prior to this\nfix vs secrets stored after this fix.\n\nStory: 2008335\nTask: 41236\n\n[1]\nhttps://opendev.org/openstack/barbican/src/tag/12.0.0/barbican/plugin/interface/secret_store.py#L356\n\nChange-Id: I46fe77a471bf7927a24ca4d64dfccb385cd6402e\n'}, {'number': 7, 'created': '2021-07-17 02:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/b144a45968681865913603bdd6105daffaed3014', 'message': 'Fix Castellan Secret Store inconsistent encoding\n\nThis patch fixes the Castellan secret store use of SecretDTO objects,\nwhich require that the ""secret"" member be base64 encoded. [1]\n\nPrior to this fix all secrets that wre generated were stored in\nplaintext, but secrets coming in through the API were base64 encoded\nbefore beign stored in the backend.\n\nOn secret retreival the Castellan plugin wrongly assumed everything in\nthe backend was encoded, so attempts to retrieve generated keys failed.\n\nThis patch fixes this inconsistency by always storing data un-encoded in\nthe backend.\n\nA helper method was added to sort out the inconsistent data stored prior\nto this fix.\n\nA ""version"" property was added to the Castellan plugin metadata that is\nstored in barbican to help differentiate secrets stored prior to this\nfix vs secrets stored after this fix.\n\nStory: 2008335\nTask: 41236\n\n[1]\nhttps://opendev.org/openstack/barbican/src/tag/12.0.0/barbican/plugin/interface/secret_store.py#L356\n\nChange-Id: I46fe77a471bf7927a24ca4d64dfccb385cd6402e\n'}, {'number': 8, 'created': '2021-07-17 02:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/4ac9defd6149b3cc11bf48d819585ea3e8cbe671', 'message': 'Fix Castellan Secret Store inconsistent encoding\n\nThis patch fixes the Castellan secret store use of SecretDTO objects,\nwhich require that the ""secret"" member be base64 encoded. [1]\n\nPrior to this fix all secrets that wre generated were stored in\nplaintext, but secrets coming in through the API were base64 encoded\nbefore beign stored in the backend.\n\nOn secret retreival the Castellan plugin wrongly assumed everything in\nthe backend was encoded, so attempts to retrieve generated keys failed.\n\nThis patch fixes this inconsistency by always storing data un-encoded in\nthe backend.\n\nA helper method was added to sort out the inconsistent data stored prior\nto this fix.\n\nA ""version"" property was added to the Castellan plugin metadata that is\nstored in barbican to help differentiate secrets stored prior to this\nfix vs secrets stored after this fix.\n\nStory: 2008335\nTask: 41236\n\n[1]\nhttps://opendev.org/openstack/barbican/src/tag/12.0.0/barbican/plugin/interface/secret_store.py#L356\n\nChange-Id: I46fe77a471bf7927a24ca4d64dfccb385cd6402e\n'}, {'number': 9, 'created': '2021-07-19 16:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/04ad3b859fb64ee4389e7e84c99bd133e3ae81e0', 'message': 'Fix Castellan Secret Store inconsistent encoding\n\nThis patch fixes the Castellan secret store use of SecretDTO objects,\nwhich require that the ""secret"" member be base64 encoded. [1]\n\nPrior to this fix all secrets that wre generated were stored in\nplaintext, but secrets coming in through the API were base64 encoded\nbefore beign stored in the backend.\n\nOn secret retreival the Castellan plugin wrongly assumed everything in\nthe backend was encoded, so attempts to retrieve generated keys failed.\n\nThis patch fixes this inconsistency by always storing data un-encoded in\nthe backend.\n\nA helper method was added to sort out the inconsistent data stored prior\nto this fix.\n\nA ""version"" property was added to the Castellan plugin metadata that is\nstored in barbican to help differentiate secrets stored prior to this\nfix vs secrets stored after this fix.\n\nStory: 2008335\nTask: 41236\n\n[1]\nhttps://opendev.org/openstack/barbican/src/tag/12.0.0/barbican/plugin/interface/secret_store.py#L356\n\nChange-Id: I46fe77a471bf7927a24ca4d64dfccb385cd6402e\n'}, {'number': 10, 'created': '2021-07-19 20:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/1f27f9ba7c933ff19dce35522d2efd4e282f8140', 'message': 'Fix Castellan Secret Store inconsistent encoding\n\nThis patch fixes the Castellan secret store use of SecretDTO objects,\nwhich require that the ""secret"" member be base64 encoded. [1]\n\nPrior to this fix all secrets that wre generated were stored in\nplaintext, but secrets coming in through the API were base64 encoded\nbefore beign stored in the backend.\n\nOn secret retreival the Castellan plugin wrongly assumed everything in\nthe backend was encoded, so attempts to retrieve generated keys failed.\n\nThis patch fixes this inconsistency by always storing data un-encoded in\nthe backend.\n\nA helper method was added to sort out the inconsistent data stored prior\nto this fix.\n\nA ""version"" property was added to the Castellan plugin metadata that is\nstored in barbican to help differentiate secrets stored prior to this\nfix vs secrets stored after this fix.\n\nStory: 2008335\nTask: 41236\n\n[1]\nhttps://opendev.org/openstack/barbican/src/tag/12.0.0/barbican/plugin/interface/secret_store.py#L356\n\nChange-Id: I46fe77a471bf7927a24ca4d64dfccb385cd6402e\n'}, {'number': 11, 'created': '2021-07-21 20:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0405e10ea5f17da732e83d5f55b1ea53c923a810', 'message': 'Fix Castellan Secret Store inconsistent encoding\n\nThis patch fixes the Castellan secret store use of SecretDTO objects,\nwhich require that the ""secret"" member be base64 encoded. [1]\n\nPrior to this fix all secrets that wre generated were stored in\nplaintext, but secrets coming in through the API were base64 encoded\nbefore beign stored in the backend.\n\nOn secret retreival the Castellan plugin wrongly assumed everything in\nthe backend was encoded, so attempts to retrieve generated keys failed.\n\nThis patch fixes this inconsistency by always storing data un-encoded in\nthe backend.\n\nA helper method was added to sort out the inconsistent data stored prior\nto this fix.\n\nA ""version"" property was added to the Castellan plugin metadata that is\nstored in barbican to help differentiate secrets stored prior to this\nfix vs secrets stored after this fix.\n\nStory: 2008335\nTask: 41236\n\n[1]\nhttps://opendev.org/openstack/barbican/src/tag/12.0.0/barbican/plugin/interface/secret_store.py#L356\n\nChange-Id: I46fe77a471bf7927a24ca4d64dfccb385cd6402e\n'}, {'number': 12, 'created': '2021-09-13 20:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/b49520930fabc868d8e9cc831586d35f05e96592', 'message': 'Fix Castellan Secret Store inconsistent encoding\n\nThis patch fixes the Castellan secret store use of SecretDTO objects,\nwhich require that the ""secret"" member be base64 encoded. [1]\n\nPrior to this fix all secrets that were generated were stored in\nplaintext, but secrets coming in through the API were base64 encoded\nbefore being stored in the backend.\n\nOn secret retreival the Castellan plugin wrongly assumed everything in\nthe backend was encoded, so attempts to retrieve generated keys failed.\n\nThis patch fixes this inconsistency by always storing data un-encoded in\nthe backend.\n\nA helper method was added to sort out the inconsistent data stored prior\nto this fix.\n\nA ""version"" property was added to the Castellan plugin metadata that is\nstored in barbican to help differentiate secrets stored prior to this\nfix vs secrets stored after this fix.\n\nStory: 2008335\nTask: 41236\n\n[1]\nhttps://opendev.org/openstack/barbican/src/tag/12.0.0/barbican/plugin/interface/secret_store.py#L356\n\nChange-Id: I46fe77a471bf7927a24ca4d64dfccb385cd6402e\n'}, {'number': 13, 'created': '2021-09-15 13:43:23.000000000', 'files': ['barbican/tests/plugin/test_castellan_secret_store.py', 'releasenotes/notes/fix-story-2008335-a253190d0fa799a0.yaml', 'functionaltests/api/v1/functional/test_orders.py', 'barbican/plugin/castellan_secret_store.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/b9daa100d03afda70e2ed9bfa91d0895fd385229', 'message': 'Fix Castellan Secret Store inconsistent encoding\n\nThis patch fixes the Castellan secret store use of SecretDTO objects,\nwhich require that the ""secret"" member be base64 encoded. [1]\n\nPrior to this fix all secrets that were generated were stored in\nplaintext, but secrets coming in through the API were base64 encoded\nbefore being stored in the backend.\n\nOn secret retreival the Castellan plugin wrongly assumed everything in\nthe backend was encoded, so attempts to retrieve generated keys failed.\n\nThis patch fixes this inconsistency by always storing data un-encoded in\nthe backend.\n\nA helper method was added to sort out the inconsistent data stored prior\nto this fix.\n\nA ""version"" property was added to the Castellan plugin metadata that is\nstored in barbican to help differentiate secrets stored prior to this\nfix vs secrets stored after this fix.\n\nStory: 2008335\nTask: 41236\n\n[1]\nhttps://opendev.org/openstack/barbican/src/tag/12.0.0/barbican/plugin/interface/secret_store.py#L356\n\nChange-Id: I46fe77a471bf7927a24ca4d64dfccb385cd6402e\n'}]",17,796065,b9daa100d03afda70e2ed9bfa91d0895fd385229,42,3,13,7973,,,0,"Fix Castellan Secret Store inconsistent encoding

This patch fixes the Castellan secret store use of SecretDTO objects,
which require that the ""secret"" member be base64 encoded. [1]

Prior to this fix all secrets that were generated were stored in
plaintext, but secrets coming in through the API were base64 encoded
before being stored in the backend.

On secret retreival the Castellan plugin wrongly assumed everything in
the backend was encoded, so attempts to retrieve generated keys failed.

This patch fixes this inconsistency by always storing data un-encoded in
the backend.

A helper method was added to sort out the inconsistent data stored prior
to this fix.

A ""version"" property was added to the Castellan plugin metadata that is
stored in barbican to help differentiate secrets stored prior to this
fix vs secrets stored after this fix.

Story: 2008335
Task: 41236

[1]
https://opendev.org/openstack/barbican/src/tag/12.0.0/barbican/plugin/interface/secret_store.py#L356

Change-Id: I46fe77a471bf7927a24ca4d64dfccb385cd6402e
",git fetch https://review.opendev.org/openstack/barbican refs/changes/65/796065/3 && git format-patch -1 --stdout FETCH_HEAD,['barbican/plugin/castellan_secret_store.py'],1,842173b609174500fbd8bd6601c3e4bf6f937eb4,story/2008335,"import base64 METADATA_VERSION = ""version"" CURRENT_VERSION = 1 def _meta_dict(self, key_id, bit_length=None, algorithm=None): """"""Return the current version of the metadata dict Builds the metadata dict to be stored in the database. """""" meta = { self.KEY_ID: key_id, self.METADATA_VERSION: self.CURRENT_VERSION, } if bit_length is not None: meta[self.BIT_LENGTH] = bit_length if algorithm is not None: meta[self.ALG] = algorithm return meta # TODO(dmendiza): We need to check secret_meta version # here to handle secrets that were stored before this # fix. b64_secret = base64.b64encode(secret.get_encoded()) return ss.SecretDTO(secret_type, b64_secret, plaintext = base64.b64decode(secret_dto.secret) try: secret_id = self.key_manager.store( opaque_data.OpaqueData(plaintext) return self._meta_dict(secret_id) secret_id = self.key_manager.create_key( return self._meta_dict(secret_id) private_id, public_id = self.key_manager.create_key_pair( private_key_metadata = self._meta_dict( private_id, key_spec.bit_length, key_spec.alg ) public_key_metadata = self._meta_dict( public_id, key_spec.bit_length, key_spec.alg )"," return ss.SecretDTO(secret_type, secret.get_encoded(), try: secret_ref = self.key_manager.store( opaque_data.OpaqueData(secret_dto.secret) return {CastellanSecretStore.KEY_ID: secret_ref} secret_ref = self.key_manager.create_key( return {CastellanSecretStore.KEY_ID: secret_ref} private_ref, public_ref = self.key_manager.create_key_pair( private_key_metadata = { CastellanSecretStore.ALG: key_spec.alg, CastellanSecretStore.BIT_LENGTH: key_spec.bit_length, CastellanSecretStore.KEY_ID: private_ref } public_key_metadata = { CastellanSecretStore.ALG: key_spec.alg, CastellanSecretStore.BIT_LENGTH: key_spec.bit_length, CastellanSecretStore.KEY_ID: public_ref }",37,19
openstack%2Fskyline-apiserver~master~I7f4b549bec6573661e62dd2bd9a3355253afd47d,openstack/skyline-apiserver,master,I7f4b549bec6573661e62dd2bd9a3355253afd47d,feat: Support devstack integrated functional test,MERGED,2021-09-14 06:24:06.000000000,2021-09-16 08:08:50.000000000,2021-09-16 08:08:50.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30906}]","[{'number': 1, 'created': '2021-09-14 06:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/7a488b7ae37eeb75c71b43d0d73f931969faed60', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-tox-functional which inherits from devstack-tox-functional\n2. add skyline-tox-lint-py38 into check job\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 2, 'created': '2021-09-14 06:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/78b17d744352d08513362c43feb2f4b7799a53d2', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-tox-functional which inherits from devstack-tox-functional\n2. add skyline-tox-lint-py38 into check job\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 3, 'created': '2021-09-14 06:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/168cc9310aa0a9b8415a445aecba506225d018da', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-tox-functional which inherits from devstack-tox-functional\n2. add skyline-tox-lint-py38 into check job\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 4, 'created': '2021-09-14 07:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/e166b87d11bc238967f5dc793a991cacac59378d', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-tox-functional which inherits from devstack-tox-functional\n2. add skyline-tox-lint-py38 into check job\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 5, 'created': '2021-09-14 07:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/e90b5ac3eada24e713938ef8ae3ee2db503ed824', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-tox-functional which inherits from devstack-tox-functional\n2. add skyline-tox-lint-py38 into check job\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 6, 'created': '2021-09-14 07:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/2c6930a6ef6a68b8fe5df0ca048b1c8324c6cccf', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-tox-functional which inherits from devstack-tox-functional\n2. add skyline-tox-lint-py38 into check job\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 7, 'created': '2021-09-14 07:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/ef9de0b3b8045d3f6d543a381434698bf072e94c', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-tox-functional which inherits from devstack-tox-functional\n2. add skyline-tox-lint-py38 into check job\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 8, 'created': '2021-09-14 09:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/086969a21fde7cd1434a417b9098ac59fa007b7a', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-tox-functional which inherits from devstack-tox-functional\n2. add skyline-tox-lint-py38 into check job\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 9, 'created': '2021-09-14 09:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/6f677a1f6d559f9f1cd5d474436de6f59409f3a0', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-tox-functional which inherits from devstack-tox-functional\n2. add skyline-tox-lint-py38 into check job\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 10, 'created': '2021-09-14 10:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/b1c51d233e0a9947384676893805b61ea6fe42e1', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-tox-functional which inherits from devstack-tox-functional\n2. add skyline-tox-lint-py38 into check job\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 11, 'created': '2021-09-14 10:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/0300d61f08bc36a77eeebf98cde61629f430d218', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-tox-functional which inherits from devstack-tox-functional\n2. add skyline-tox-lint-py38 into check job\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 12, 'created': '2021-09-15 02:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/3dbc7146b2e8dc8ccdb45ae7b4ed5543c265d0be', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-tox-functional which inherits from devstack-tox-functional\n2. add skyline-tox-lint-py38 into check job\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 13, 'created': '2021-09-15 02:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/3b8e135ffe2d7f68ba3e38ed51ee1f96167740e4', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-tox-functional which inherits from devstack-tox-functional\n2. add skyline-tox-lint-py38 into check job\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 14, 'created': '2021-09-15 02:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/3877decaac6fb0848bcbaee4ec6b30d6a8e448bc', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-tox-functional which inherits from devstack-tox-functional\n2. add skyline-tox-lint-py38 into check job\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 15, 'created': '2021-09-15 03:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/ee7980e600124a4dfd16cde748ae474c6edce3c6', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-tox-functional which inherits from devstack-tox-functional\n2. add skyline-tox-lint-py38 into check job\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 16, 'created': '2021-09-15 05:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/04779e0aa15d160b13b2914007c0a446298d0f64', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-tox-functional which inherits from devstack-tox-functional\n2. add skyline-tox-lint-py38 into check job\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 17, 'created': '2021-09-15 05:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/4ee7073d18d65190a70fba486f6922954c1c9f93', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-tox-functional which inherits from devstack-tox-functional\n2. add skyline-tox-lint-py38 into check job\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 18, 'created': '2021-09-15 06:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/bbf5375ede0e9f2d8c19e3585d59b3a68e7816b3', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-tox-functional which inherits from devstack-tox-functional\n2. add skyline-tox-lint-py38 into check job\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 19, 'created': '2021-09-15 07:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/9b7a1afd2719bde28578fbce53fd9c341c2ec4bb', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-tox-functional which inherits from devstack-tox-functional\n2. add skyline-tox-lint-py38 into check job\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 20, 'created': '2021-09-15 08:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/2be35a05f56540b7f98e70a135afd5eb2b5842c5', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-tox-functional which inherits from devstack-tox-functional\n2. add skyline-tox-lint-py38 into check job\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 21, 'created': '2021-09-15 09:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/aa246aef0133b2b59f37d341747d106cd48739c9', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-functional-devstack which inherits from devstack\n2. add skyline-functional-devstack into check job\n3. add playbook to integrate with devstack for zuul\n4. change the port from 8080 to 18080 because the 8080 is used for s3api\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 22, 'created': '2021-09-16 03:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/2553da807e9ab83bdbbaa062fbd781315387cba6', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-functional-devstack which inherits from devstack\n2. add skyline-functional-devstack into check and gate job\n3. add playbook to integrate with devstack for zuul\n4. change the port from 8080 to 9999 because the 8080 is used for s3api\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 23, 'created': '2021-09-16 03:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/56e5cb84822fb95d7d70daa723571ed95b976a80', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-functional-devstack which inherits from devstack\n2. add skyline-functional-devstack into check and gate job\n3. add playbook to integrate with devstack for zuul\n4. change the port from 8080 to 9999 because the 8080 is used for s3api\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 24, 'created': '2021-09-16 04:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/7e60b9fca9424e410e154d73f8ff78b3569caa92', 'message': 'feat: Support devstack integrated functional test\n\n1. add skyline-functional-devstack which inherits from devstack\n2. add skyline-functional-devstack into check and gate job\n3. add playbook to integrate with devstack for zuul\n4. change the port from 8080 to 9999 because the 8080 is used for s3api\n5. rename functional-py38 as unittest-py38\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n'}, {'number': 25, 'created': '2021-09-16 05:32:39.000000000', 'files': ['README-zh_CN.md', '.zuul.yaml', 'devstack/plugin.sh', 'playbooks/devstack/run-devstack.yaml', 'playbooks/devstack/run-tox.yaml', 'devstack/README.rst', 'README.md', 'devstack/settings', 'libs/skyline-nginx/skyline_nginx/templates/nginx.conf.j2', 'playbooks/devstack/post.yaml', 'playbooks/devstack/pre.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/de4adde69e5dc7dddc305bf888429d10ea348e6e', 'message': ""feat: Support devstack integrated functional test\n\n1. add skyline-functional-devstack which inherits from devstack\n2. add skyline-functional-devstack into check and gate job\n3. add playbook to integrate with devstack for zuul\n4. change the port from 8080 to 9999 because the 8080 is used for s3api\n5. rename functional-py38 as unittest-py38\n6. add install extra tools ready for skyline-console's e2e test\n\nChange-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d\n""}]",6,808871,de4adde69e5dc7dddc305bf888429d10ea348e6e,52,4,25,28706,,,0,"feat: Support devstack integrated functional test

1. add skyline-functional-devstack which inherits from devstack
2. add skyline-functional-devstack into check and gate job
3. add playbook to integrate with devstack for zuul
4. change the port from 8080 to 9999 because the 8080 is used for s3api
5. rename functional-py38 as unittest-py38
6. add install extra tools ready for skyline-console's e2e test

Change-Id: I7f4b549bec6573661e62dd2bd9a3355253afd47d
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/71/808871/9 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,7a488b7ae37eeb75c71b43d0d73f931969faed60,,"envlist = functional-py38,lint,functional [testenv:functional] commands = make install make test","envlist = functional-py38,lint",20,1
openstack%2Fskyline-console~master~Ia3aa005fc1dbafc7f87b415cccd59aa34d30ee1a,openstack/skyline-console,master,Ia3aa005fc1dbafc7f87b415cccd59aa34d30ee1a,fix: remove port_security_enabled in edit port,MERGED,2021-09-16 07:31:32.000000000,2021-09-16 08:08:49.000000000,2021-09-16 08:08:49.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-09-16 07:31:32.000000000', 'files': ['src/pages/network/containers/VirtualAdapter/actions/Edit.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0177308add9349a6a3093f0035cfecd8e3c64f58', 'message': 'fix: remove port_security_enabled in edit port\n\nremove port_security_enabled in edit port\n\nChange-Id: Ia3aa005fc1dbafc7f87b415cccd59aa34d30ee1a\n'}]",0,809328,0177308add9349a6a3093f0035cfecd8e3c64f58,6,2,1,33636,,,0,"fix: remove port_security_enabled in edit port

remove port_security_enabled in edit port

Change-Id: Ia3aa005fc1dbafc7f87b415cccd59aa34d30ee1a
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/28/809328/1 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/network/containers/VirtualAdapter/actions/Edit.jsx'],1,0177308add9349a6a3093f0035cfecd8e3c64f58,,," name: 'port_security_enabled', label: t('Port Security'), type: 'switch', required: true, hidden: !more, }, {",0,7
openstack%2Fec2-api~stable%2Fxena~I0c5b95d84dfed68fac59b0dc305dec39ecf5fa8a,openstack/ec2-api,stable/xena,I0c5b95d84dfed68fac59b0dc305dec39ecf5fa8a,Run TripleO jobs on CentOS8 instead of CentOS7,MERGED,2021-09-16 06:35:48.000000000,2021-09-16 08:04:47.000000000,2021-09-16 07:52:34.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-16 06:35:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/b281f311209c1399e9919485ea2b9fd694606b63', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0c5b95d84dfed68fac59b0dc305dec39ecf5fa8a\n'}]",0,809218,b281f311209c1399e9919485ea2b9fd694606b63,9,2,1,20182,,,0,"Run TripleO jobs on CentOS8 instead of CentOS7

As we are cleaning up the c7 jobs and obselete featuresets [1].
This change replaces usage of CentOS7 in TripleO jobs by CentOS8.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: I0c5b95d84dfed68fac59b0dc305dec39ecf5fa8a
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/18/809218/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b281f311209c1399e9919485ea2b9fd694606b63,c7-to-c8-stable/xena, - tripleo-ci-centos-8-scenario002-standalone, # tripleo-ci-centos-7-scenario002-multinode-oooq-container will # run in Pike and beyond. - tripleo-ci-centos-7-scenario002-standalone,1,3
openstack%2Fkuryr~stable%2Fxena~Iff39a77d9961e65b6a02e5b047356251ed0af36a,openstack/kuryr,stable/xena,Iff39a77d9961e65b6a02e5b047356251ed0af36a,Update .gitreview for stable/xena,MERGED,2021-09-10 15:13:57.000000000,2021-09-16 08:01:00.000000000,2021-09-16 08:01:00.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-09-10 15:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/1bae90818bbf33af4d155d20e5842f037fa79c81', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: Iff39a77d9961e65b6a02e5b047356251ed0af36a\n'}, {'number': 2, 'created': '2021-09-15 11:13:05.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/3be614ac650180ccba491a412d76b534c88bef5e', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: Iff39a77d9961e65b6a02e5b047356251ed0af36a\n'}]",0,808416,3be614ac650180ccba491a412d76b534c88bef5e,9,4,2,22816,,,0,"Update .gitreview for stable/xena

Change-Id: Iff39a77d9961e65b6a02e5b047356251ed0af36a
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/16/808416/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,1bae90818bbf33af4d155d20e5842f037fa79c81,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Ftripleo-ci~master~Iccba82b775754a44acef0f5a118c01d63904c92f,openstack/tripleo-ci,master,Iccba82b775754a44acef0f5a118c01d63904c92f,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 08:16:53.000000000,2021-09-16 07:59:57.000000000,2021-09-16 07:59:57.000000000,"[{'_account_id': 7144}, {'_account_id': 8367}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 08:16:53.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fbb8f63f565841932b390d8308b1400b453674ca', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Iccba82b775754a44acef0f5a118c01d63904c92f\n""}]",0,788201,fbb8f63f565841932b390d8308b1400b453674ca,12,5,1,31027,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Iccba82b775754a44acef0f5a118c01d63904c92f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/01/788201/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,fbb8f63f565841932b390d8308b1400b453674ca,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://opendev.org/openstack/tripleo-ci,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://opendev.org/openstack/tripleo-ci,3,3
openstack%2Fceilometer~stable%2Fstein~I5fe0364553ccb0904f6fb8cb2aae84a20abdd998,openstack/ceilometer,stable/stein,I5fe0364553ccb0904f6fb8cb2aae84a20abdd998,Remove jobs corresponds to obselete featuresets,NEW,2021-09-13 12:44:23.000000000,2021-09-16 07:56:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-13 12:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f2302d65cc960fdf45bfb1a47140cd9f7f3139d6', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\nChange-Id: I5fe0364553ccb0904f6fb8cb2aae84a20abdd998\n'}, {'number': 2, 'created': '2021-09-13 12:46:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b1c4cfc4cd4b271a84aa71d7e9011e6c894ebdc9', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\nChange-Id: I5fe0364553ccb0904f6fb8cb2aae84a20abdd998\n'}]",0,808661,b1c4cfc4cd4b271a84aa71d7e9011e6c894ebdc9,8,1,2,20182,,,0,"Remove jobs corresponds to obselete featuresets

As we are removing the jobs which are using the obselete featuresets [1]
so removing those jobs from templates/layouts

Change-Id: I5fe0364553ccb0904f6fb8cb2aae84a20abdd998
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/61/808661/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f2302d65cc960fdf45bfb1a47140cd9f7f3139d6,cleanup_featuresets_from_old_branches-stable/stein,"<<<<<<< HEAD (6787bf Revert ""Make greande jobs n-v for EM and oldest stable"")======= - grenade-ceilometer - telemetry-dsvm-integration: irrelevant-files: *ceilometer-irrelevant-files - telemetry-dsvm-integration-ipv6-only: irrelevant-files: *ceilometer-irrelevant-files >>>>>>> CHANGE (e33a1f Remove jobs corresponds to obselete featuresets)",,8,0
openstack%2Freleases~master~I16d78e0d555f485ebc9fc293af174774a4a77020,openstack/releases,master,I16d78e0d555f485ebc9fc293af174774a4a77020,Proposing Xena RC1 for monasca-agent,MERGED,2021-09-13 08:50:13.000000000,2021-09-16 07:51:54.000000000,2021-09-16 07:51:54.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 08:50:13.000000000', 'files': ['deliverables/xena/monasca-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/92028e0f47cade9c0d3b4a4238c5b60f0ad280ff', 'message': 'Proposing Xena RC1 for monasca-agent\n\nThis proposed a RC1 release for monasca-agent to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 5.0.0..170afab\nad45a1b Revert ""Replace fnmatch with oslo.utils.fnmatch""\nf6d1170 vmware: Use oslo.vmware\'s get_moref_value()\nead3e8d Fix Monasca-Setup Keystone detection\n679f09a Fix PY3 issue\n478a438 Fix typo in log message\n7d21e50 Fix Docker builds\ncefab7f Add Python3 xena unit tests\nd702f9c Remove incorrect plugins configuration for docker image.\n4047310  Fix small issue in dokcer plugin.\n9fd6d1f Fix zuul publish docker image job\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I16d78e0d555f485ebc9fc293af174774a4a77020\n'}]",0,808646,92028e0f47cade9c0d3b4a4238c5b60f0ad280ff,8,3,1,28522,,,0,"Proposing Xena RC1 for monasca-agent

This proposed a RC1 release for monasca-agent to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 5.0.0..170afab
ad45a1b Revert ""Replace fnmatch with oslo.utils.fnmatch""
f6d1170 vmware: Use oslo.vmware's get_moref_value()
ead3e8d Fix Monasca-Setup Keystone detection
679f09a Fix PY3 issue
478a438 Fix typo in log message
7d21e50 Fix Docker builds
cefab7f Add Python3 xena unit tests
d702f9c Remove incorrect plugins configuration for docker image.
4047310  Fix small issue in dokcer plugin.
9fd6d1f Fix zuul publish docker image job

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I16d78e0d555f485ebc9fc293af174774a4a77020
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/808646/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/monasca-agent.yaml'],1,92028e0f47cade9c0d3b4a4238c5b60f0ad280ff,xena-rc1-deadline,releases: - version: 6.0.0.0rc1 projects: - repo: openstack/monasca-agent hash: 170afab95203989e3e3247275d71e56be7966800 branches: - name: stable/xena location: 6.0.0.0rc1,,8,0
openstack%2Freleases~master~Ibd0fc4b7ce6aa3109f7d14957fd5010fb22f5dcb,openstack/releases,master,Ibd0fc4b7ce6aa3109f7d14957fd5010fb22f5dcb,Proposing Xena RC1 for monasca-notification,MERGED,2021-09-13 08:52:49.000000000,2021-09-16 07:51:52.000000000,2021-09-16 07:51:52.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 08:52:49.000000000', 'files': ['deliverables/xena/monasca-notification.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c594a051279fce7e008b31499c3a1981f6273698', 'message': 'Proposing Xena RC1 for monasca-notification\n\nThis proposed a RC1 release for monasca-notification to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 4.0.0..fa2454a\nfa2454a Fix Grafana URL in email notification\n54f66e9 Add Python3 xena unit tests\nff1872d Update master for stable/wallaby\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ibd0fc4b7ce6aa3109f7d14957fd5010fb22f5dcb\n'}]",0,808648,c594a051279fce7e008b31499c3a1981f6273698,8,3,1,28522,,,0,"Proposing Xena RC1 for monasca-notification

This proposed a RC1 release for monasca-notification to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 4.0.0..fa2454a
fa2454a Fix Grafana URL in email notification
54f66e9 Add Python3 xena unit tests
ff1872d Update master for stable/wallaby

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ibd0fc4b7ce6aa3109f7d14957fd5010fb22f5dcb
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/808648/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/monasca-notification.yaml'],1,c594a051279fce7e008b31499c3a1981f6273698,xena-rc1-deadline,releases: - version: 5.0.0.0rc1 projects: - repo: openstack/monasca-notification hash: fa2454a3c9c524773891e53d2d61f9227a9a2d46 branches: - name: stable/xena location: 5.0.0.0rc1,,8,0
openstack%2Freleases~master~Ia79fcc48354b5838705b70720ac5f179d20a8eae,openstack/releases,master,Ia79fcc48354b5838705b70720ac5f179d20a8eae,Proposing Xena RC1 for monasca-api,MERGED,2021-09-13 08:52:03.000000000,2021-09-16 07:51:50.000000000,2021-09-16 07:51:50.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 08:52:03.000000000', 'files': ['deliverables/xena/monasca-api.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9229e30a0b9b3370790f6d2887c3e93df89d35b9', 'message': 'Proposing Xena RC1 for monasca-api\n\nThis proposed a RC1 release for monasca-api to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 6.0.0.0rc1..7466a2f9\n7466a2f9 Replace removed DB methods with current ones\n3d43cbec setup.cfg: Replace dashes with underscores\n5b2af7db Fix Docker build\na6e56ab6 Add Support for Falcon 3.0.0, 3.0.1\nae5dffc9 [Doc] Update Freenode to OFTC as our IRC server\n1b5cd302 Fix log-metric configuration\n545c7a08 Add Python3 xena unit tests\n4f12b214 Update master for stable/wallaby\na93e1cc9 Workaround for new pip 20.3 behavior\n64d62a54 Fix warnings in documentation\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ia79fcc48354b5838705b70720ac5f179d20a8eae\n'}]",0,808647,9229e30a0b9b3370790f6d2887c3e93df89d35b9,8,3,1,28522,,,0,"Proposing Xena RC1 for monasca-api

This proposed a RC1 release for monasca-api to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 6.0.0.0rc1..7466a2f9
7466a2f9 Replace removed DB methods with current ones
3d43cbec setup.cfg: Replace dashes with underscores
5b2af7db Fix Docker build
a6e56ab6 Add Support for Falcon 3.0.0, 3.0.1
ae5dffc9 [Doc] Update Freenode to OFTC as our IRC server
1b5cd302 Fix log-metric configuration
545c7a08 Add Python3 xena unit tests
4f12b214 Update master for stable/wallaby
a93e1cc9 Workaround for new pip 20.3 behavior
64d62a54 Fix warnings in documentation

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ia79fcc48354b5838705b70720ac5f179d20a8eae
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/808647/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/monasca-api.yaml'],1,9229e30a0b9b3370790f6d2887c3e93df89d35b9,xena-rc1-deadline,releases: - version: 7.0.0.0rc1 projects: - repo: openstack/monasca-api hash: 7466a2f962ec5e14651ad9d5597753b3c05c3c25 branches: - name: stable/xena location: 7.0.0.0rc1,,8,0
openstack%2Freleases~master~I2a6a6b1ae641f0ca2067af55b6e27b79caad56a2,openstack/releases,master,I2a6a6b1ae641f0ca2067af55b6e27b79caad56a2,Proposing Xena RC1 for monasca-persister,MERGED,2021-09-13 08:53:21.000000000,2021-09-16 07:51:42.000000000,2021-09-16 07:51:42.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 08:53:21.000000000', 'files': ['deliverables/xena/monasca-persister.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a05f8d3c02d5c2c4f8950258c87238b01e81e7db', 'message': 'Proposing Xena RC1 for monasca-persister\n\nThis proposed a RC1 release for monasca-persister to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 4.0.0..cbc6541\n31152e1 Fix Docker build\n72c0b69 Fix zuul publish docker image job\ndc589ae Add Python3 xena unit tests\n5d25622 Update master for stable/wallaby\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I2a6a6b1ae641f0ca2067af55b6e27b79caad56a2\n'}]",0,808649,a05f8d3c02d5c2c4f8950258c87238b01e81e7db,8,3,1,28522,,,0,"Proposing Xena RC1 for monasca-persister

This proposed a RC1 release for monasca-persister to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 4.0.0..cbc6541
31152e1 Fix Docker build
72c0b69 Fix zuul publish docker image job
dc589ae Add Python3 xena unit tests
5d25622 Update master for stable/wallaby

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I2a6a6b1ae641f0ca2067af55b6e27b79caad56a2
",git fetch https://review.opendev.org/openstack/releases refs/changes/49/808649/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/monasca-persister.yaml'],1,a05f8d3c02d5c2c4f8950258c87238b01e81e7db,xena-rc1-deadline,releases: - version: 5.0.0.0rc1 projects: - repo: openstack/monasca-persister hash: cbc65411fee3b229c8c6d90eed83a1ca3ba090b7 branches: - name: stable/xena location: 5.0.0.0rc1,,8,0
openstack%2Freleases~master~I436835a0c7a32bc656fbbbeee6ed333ccdd1393d,openstack/releases,master,I436835a0c7a32bc656fbbbeee6ed333ccdd1393d,Proposing Xena RC1 for monasca-thresh,MERGED,2021-09-13 08:54:10.000000000,2021-09-16 07:49:17.000000000,2021-09-16 07:49:17.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 08:54:10.000000000', 'files': ['deliverables/xena/monasca-thresh.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/21b9dbe4a5eb2f30d5eeb19ba4493aeffec287a3', 'message': 'Proposing Xena RC1 for monasca-thresh\n\nThis proposed a RC1 release for monasca-thresh to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 4.0.0..d256f05\n37ccf62 Revert ""Use external Zookeeper in Local mode""\nd54904e Fix Docker build\nd156980 Use external Zookeeper in Local mode\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I436835a0c7a32bc656fbbbeee6ed333ccdd1393d\n'}]",0,808670,21b9dbe4a5eb2f30d5eeb19ba4493aeffec287a3,8,3,1,28522,,,0,"Proposing Xena RC1 for monasca-thresh

This proposed a RC1 release for monasca-thresh to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 4.0.0..d256f05
37ccf62 Revert ""Use external Zookeeper in Local mode""
d54904e Fix Docker build
d156980 Use external Zookeeper in Local mode

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I436835a0c7a32bc656fbbbeee6ed333ccdd1393d
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/808670/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/monasca-thresh.yaml'],1,21b9dbe4a5eb2f30d5eeb19ba4493aeffec287a3,xena-rc1-deadline,releases: - version: 5.0.0.0rc1 projects: - repo: openstack/monasca-thresh hash: d256f05be6235dbaaff8ba738e6196b9c6241911 branches: - name: stable/xena location: 5.0.0.0rc1,,8,0
openstack%2Freleases~master~I555c9a8482e90c5b5ba9e6474153a785e66baf0a,openstack/releases,master,I555c9a8482e90c5b5ba9e6474153a785e66baf0a,Proposing Xena RC1 for monasca-ui,MERGED,2021-09-13 08:54:41.000000000,2021-09-16 07:48:22.000000000,2021-09-16 07:48:22.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 08:54:41.000000000', 'files': ['deliverables/xena/monasca-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/705e637f2ddc61f5a81ed31d77d70be2df46d94a', 'message': ""Proposing Xena RC1 for monasca-ui\n\nThis proposed a RC1 release for monasca-ui to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 4.0.0..9014bce\n9014bce Add Python3 xena unit tests\ne90fb18 Remove prefix 'dim_' from dimensions in Drilldown Dashboard\n36cc4be Add missing PY3 support in overview views\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I555c9a8482e90c5b5ba9e6474153a785e66baf0a\n""}]",0,808671,705e637f2ddc61f5a81ed31d77d70be2df46d94a,8,3,1,28522,,,0,"Proposing Xena RC1 for monasca-ui

This proposed a RC1 release for monasca-ui to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 4.0.0..9014bce
9014bce Add Python3 xena unit tests
e90fb18 Remove prefix 'dim_' from dimensions in Drilldown Dashboard
36cc4be Add missing PY3 support in overview views

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I555c9a8482e90c5b5ba9e6474153a785e66baf0a
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/808671/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/monasca-ui.yaml'],1,705e637f2ddc61f5a81ed31d77d70be2df46d94a,xena-rc1-deadline,releases: - version: 5.0.0.0rc1 projects: - repo: openstack/monasca-ui hash: 9014bce3de6fed79f85b79ecf30031e6af7b7356 branches: - name: stable/xena location: 5.0.0.0rc1,,8,0
openstack%2Fcharm-cinder~master~If96dbb9c0974bfa1f6d67405bb430a7cd251f821,openstack/charm-cinder,master,If96dbb9c0974bfa1f6d67405bb430a7cd251f821,Add support for configuring image volume cache,MERGED,2021-09-13 05:07:17.000000000,2021-09-16 07:46:45.000000000,2021-09-16 07:46:45.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-09-13 05:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/03ee2bc95428d1cd113762a4e34bdbf565be6c7f', 'message': 'Add support for configuring image cache and\ninternal tenant project/user ID\n\nCloses-Bug: #1869903\nChange-Id: If96dbb9c0974bfa1f6d67405bb430a7cd251f821\n'}, {'number': 2, 'created': '2021-09-14 05:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/0492f306ab2183d85965738860e6459dde487cc6', 'message': 'Add support for configuring image volume cache and internal tenant\n\nSupport new configuration to turn on image volume cache in Cinder\nservice. User can control the maximum size and count by new added configuration too.\n\nUser must provide the internal tenant project and user ID\nbefore turn on the image cache. Juju will do the dependency\ncheck and let the status become ""blocked"" when user forget\nto provide the information of internal tenant.\n\nCloses-Bug: #1869903\nChange-Id: If96dbb9c0974bfa1f6d67405bb430a7cd251f821\n'}, {'number': 3, 'created': '2021-09-14 05:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/281a869215d80f82a1873744b141437819b8c7e0', 'message': 'Support new configuration to turn on image volume cache in Cinder\nservice. User can control the maximum size and count by new added configuration too.\n\nUser must provide the internal tenant project and user ID\nbefore turn on the image cache. Juju will do the dependency\ncheck and let the status become ""blocked"" when user forget\nto provide the information of internal tenant.\n\nCloses-Bug: #1869903\nChange-Id: If96dbb9c0974bfa1f6d67405bb430a7cd251f821\n'}, {'number': 4, 'created': '2021-09-14 05:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/7c01890f998a76af4e6fb0c90ab3ab23e95f7ca7', 'message': 'Add support for configuring image volume cache and internal tenant\n\nSupport new configuration to turn on image volume cache in Cinder\nservice. User can control the maximum size and count by new added configuration too.\n\nUser must provide the internal tenant project and user ID\nbefore turn on the image cache. Juju will do the dependency\ncheck and let the status become ""blocked"" when user forget\nto provide the information of internal tenant.\n\nCloses-Bug: #1869903\nChange-Id: If96dbb9c0974bfa1f6d67405bb430a7cd251f821\n'}, {'number': 5, 'created': '2021-09-14 09:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/57d9a37d3f68b38f506dfada0ac9878e776de6ca', 'message': 'Add support for configuring image volume cache\n\nSupport new configuration to turn on image volume cache in Cinder\nservice. User can control the maximum size and count from\nconfiguration too.\n\nCinder charm will setup the internal tenant project and user ID after\nthe identity service relation joining. It is a mandatory configuration\nto enable image volume cache.\n\nCloses-Bug: #1869903\nChange-Id: If96dbb9c0974bfa1f6d67405bb430a7cd251f821\n'}, {'number': 6, 'created': '2021-09-16 02:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/e0b1c013b1e7b205753568137d997c3c6c785407', 'message': 'Add support for configuring image volume cache\n\nSupport new configuration to turn on image volume cache in Cinder\nservice. User can control the maximum size and count from\nconfiguration too.\n\nCloses-Bug: #1869903\nChange-Id: If96dbb9c0974bfa1f6d67405bb430a7cd251f821\n'}, {'number': 7, 'created': '2021-09-16 07:25:32.000000000', 'files': ['templates/parts/backends', 'hooks/cinder_contexts.py', 'config.yaml', 'unit_tests/test_cinder_contexts.py', 'templates/ocata/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/dd5137c2e77da52a27f7aceb47370f0b371029b3', 'message': 'Add support for configuring image volume cache\n\nSupport new configuration to turn on image volume cache in Cinder\nservice. User can control the maximum size and count from\nconfiguration too.\n\nCloses-Bug: #1869903\nChange-Id: If96dbb9c0974bfa1f6d67405bb430a7cd251f821\n'}]",17,808576,dd5137c2e77da52a27f7aceb47370f0b371029b3,34,4,7,33780,,,0,"Add support for configuring image volume cache

Support new configuration to turn on image volume cache in Cinder
service. User can control the maximum size and count from
configuration too.

Closes-Bug: #1869903
Change-Id: If96dbb9c0974bfa1f6d67405bb430a7cd251f821
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/76/808576/7 && git format-patch -1 --stdout FETCH_HEAD,"['templates/parts/backends', 'hooks/cinder_contexts.py', 'config.yaml', 'unit_tests/test_cinder_contexts.py', 'hooks/cinder_utils.py', 'templates/ocata/cinder.conf']",6,03ee2bc95428d1cd113762a4e34bdbf565be6c7f,bug/1869903,{% if internal_tenant_project_id -%} cinder_internal_tenant_project_id = {{ internal_tenant_project_id }} {% endif -%} {% if internal_tenant_user_id -%} cinder_internal_tenant_user_id = {{ internal_tenant_user_id }} {% endif -%} ,,118,12
openstack%2Fpython-ironicclient~master~Ic732c2e6c77474e0d5b701c47758959c3511743b,openstack/python-ironicclient,master,Ic732c2e6c77474e0d5b701c47758959c3511743b,Fix distribution compatability for configdrive build,MERGED,2021-09-15 17:15:27.000000000,2021-09-16 07:43:19.000000000,2021-09-16 07:41:34.000000000,"[{'_account_id': 4571}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 17:15:27.000000000', 'files': ['ironicclient/tests/unit/common/test_utils.py', 'releasenotes/notes/address-cross-distro-iso-tools-006711c9f150037a.yaml', 'ironicclient/common/utils.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/0555b6ba728cc6a30f89d252eaf429ce5a0c987e', 'message': 'Fix distribution compatability for configdrive build\n\nPreviously, the configuration drive generation code made\nuse of ``genisoimage``, however ``genisoimage`` is not shipped\nuniversally on all linux distributions, and largely has been\nreplaced in distributions with other forks, as the tooling has\nevolved, forked, and changed over the past quarter century.\n\nWe now attempt to utilize multiple different commands, including\nthe original ``mkisofs`` command and the newer ``xorrisofs``\ncommand when attempting to generate the ISO image, falling back\nuntil one works.\n\nCredit goes to I720f25921f8e52f20a631f238a528dedf65a91c6 for\nthe base pattern in OpenstackSDK.\n\nStory: 2009230\nTask: 43328\nChange-Id: Ic732c2e6c77474e0d5b701c47758959c3511743b\n'}]",0,809258,0555b6ba728cc6a30f89d252eaf429ce5a0c987e,8,3,1,11655,,,0,"Fix distribution compatability for configdrive build

Previously, the configuration drive generation code made
use of ``genisoimage``, however ``genisoimage`` is not shipped
universally on all linux distributions, and largely has been
replaced in distributions with other forks, as the tooling has
evolved, forked, and changed over the past quarter century.

We now attempt to utilize multiple different commands, including
the original ``mkisofs`` command and the newer ``xorrisofs``
command when attempting to generate the ISO image, falling back
until one works.

Credit goes to I720f25921f8e52f20a631f238a528dedf65a91c6 for
the base pattern in OpenstackSDK.

Story: 2009230
Task: 43328
Change-Id: Ic732c2e6c77474e0d5b701c47758959c3511743b
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/58/809258/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/tests/unit/common/test_utils.py', 'releasenotes/notes/address-cross-distro-iso-tools-006711c9f150037a.yaml', 'ironicclient/common/utils.py']",3,0555b6ba728cc6a30f89d252eaf429ce5a0c987e,," # NOTE(toabctl): Luckily, genisoimage, mkisofs and xorrisofs # understand the same parameters which are currently used. cmds = ['genisoimage', 'mkisofs', 'xorrisofs'] for c in cmds: try: p = subprocess.Popen([c, '-o', tmpfile.name, '-ldots', '-allow-lowercase', '-allow-multidot', '-l', '-publisher', publisher, '-quiet', '-J', '-r', '-V', 'config-2', path], stdout=subprocess.PIPE, stderr=subprocess.PIPE) except OSError as e: error = e else: error = None break if error: '""genisoimage"", ""mkisofs"", or ""xorriso"" tool is ' 'installed. Error: %s') % error)"," try: p = subprocess.Popen(['genisoimage', '-o', tmpfile.name, '-ldots', '-allow-lowercase', '-allow-multidot', '-l', '-publisher', publisher, '-quiet', '-J', '-r', '-V', 'config-2', path], stdout=subprocess.PIPE, stderr=subprocess.PIPE) except OSError as e: '""genisoimage"" tool is installed. Error: %s') % e)",69,15
openstack%2Fec2-api~stable%2Fwallaby~I0c5b95d84dfed68fac59b0dc305dec39ecf5fa8a,openstack/ec2-api,stable/wallaby,I0c5b95d84dfed68fac59b0dc305dec39ecf5fa8a,Run TripleO jobs on CentOS8 instead of CentOS7,MERGED,2021-09-14 13:19:49.000000000,2021-09-16 07:37:08.000000000,2021-09-16 07:28:47.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 13:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/f84a8350490028839c5dd6346108e52f943af10f', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0c5b95d84dfed68fac59b0dc305dec39ecf5fa8a\n'}, {'number': 2, 'created': '2021-09-14 13:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/ecba68493e78505daf2a346b08f5685868c29ef5', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0c5b95d84dfed68fac59b0dc305dec39ecf5fa8a\n'}, {'number': 3, 'created': '2021-09-15 15:17:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/7746b15c6b1b1229179a88aaac965d3a98c8de78', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0c5b95d84dfed68fac59b0dc305dec39ecf5fa8a\n'}]",0,808858,7746b15c6b1b1229179a88aaac965d3a98c8de78,20,2,3,20182,,,0,"Run TripleO jobs on CentOS8 instead of CentOS7

As we are cleaning up the c7 jobs and obselete featuresets [1].
This change replaces usage of CentOS7 in TripleO jobs by CentOS8.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: I0c5b95d84dfed68fac59b0dc305dec39ecf5fa8a
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/58/808858/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f84a8350490028839c5dd6346108e52f943af10f,c7-to-c8-stable/wallaby, - tripleo-ci-centos-8-scenario002-standalone, - tripleo-ci-centos-7-scenario002-standalone,1,1
openstack%2Fskyline-console~master~I06e42222ef33add2af294a8b9c03852958d48429,openstack/skyline-console,master,I06e42222ef33add2af294a8b9c03852958d48429,fix: Fix volume restore tip,MERGED,2021-09-16 06:38:32.000000000,2021-09-16 07:34:47.000000000,2021-09-16 07:34:47.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-09-16 06:38:32.000000000', 'files': ['src/locales/en.json', 'src/locales/zh.json', 'src/pages/storage/containers/Volume/actions/Restore.jsx', 'src/resources/snapshot.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e1b0db57055aa14c83e77264c0e66d8501ac6a3a', 'message': 'fix: Fix volume restore tip\n\nFix volume restore tip\n\nChange-Id: I06e42222ef33add2af294a8b9c03852958d48429\n'}]",0,809314,e1b0db57055aa14c83e77264c0e66d8501ac6a3a,6,2,1,30434,,,0,"fix: Fix volume restore tip

Fix volume restore tip

Change-Id: I06e42222ef33add2af294a8b9c03852958d48429
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/14/809314/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/locales/zh.json', 'src/pages/storage/containers/Volume/actions/Restore.jsx', 'src/resources/snapshot.jsx']",4,e1b0db57055aa14c83e77264c0e66d8501ac6a3a,master2,,"import React from 'react'; export const revertTip = ( <span> <span style={{ fontWeight: 600 }}> {t( 'When you restore a snapshot, one of the following conditions must be met:' )} </span> <p style={{ paddingLeft: 20 }} className=""tip""> {t('1. The cloud disk associated with the snapshot is available.')} </p> <p style={{ paddingLeft: 20 }} className=""tip""> {t( '2. The cloud hard disk associated with the snapshot has been mounted, and the cloud host is shut down.' )} </p> </span> ); ",3,39
openstack%2Faodh~stable%2Fstein~I7d7f41421d6c8f9e8e07567c683fb113f163fcc2,openstack/aodh,stable/stein,I7d7f41421d6c8f9e8e07567c683fb113f163fcc2,Remove jobs corresponds to obselete featuresets,NEW,2021-09-13 08:02:16.000000000,2021-09-16 07:32:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-13 08:02:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/aodh/commit/8cd19e2a4564b1465adf9f94863e3a55a399421e', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I7d7f41421d6c8f9e8e07567c683fb113f163fcc2\n'}]",0,808595,8cd19e2a4564b1465adf9f94863e3a55a399421e,6,1,1,20182,,,0,"Remove jobs corresponds to obselete featuresets

As we are removing the jobs which are using the obselete featuresets [1]
so removing those jobs from templates/layouts

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: I7d7f41421d6c8f9e8e07567c683fb113f163fcc2
",git fetch https://review.opendev.org/openstack/aodh refs/changes/95/808595/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8cd19e2a4564b1465adf9f94863e3a55a399421e,cleanup_featuresets_old_branches,," experimental: jobs: # TripleO jobs that deploy Telemetry. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. # NOTE(sileht): These job takes 3 hours and fail most of the times. # While other jobs take 20-30 minutes # We can reenable it when they take less times. - tripleo-ci-centos-7-scenario001-multinode-oooq - tripleo-ci-centos-7-scenario001-standalone - tripleo-ci-centos-7-scenario002-multinode-oooq - tripleo-ci-centos-7-scenario002-standalone",0,17
openstack%2Fec2-api~stable%2Fqueens~I0cdc9144b37335c1e4d5fc62c2093335b8a5453d,openstack/ec2-api,stable/queens,I0cdc9144b37335c1e4d5fc62c2093335b8a5453d,Remove jobs corresponds to obselete featuresets,MERGED,2021-09-14 13:54:20.000000000,2021-09-16 07:28:48.000000000,2021-09-16 07:28:48.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 13:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/62dd5405c0b8774f5385de03d02e551ae8789c04', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0cdc9144b37335c1e4d5fc62c2093335b8a5453d\n'}, {'number': 2, 'created': '2021-09-14 13:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/ebd391b7ee95acc5b9b682b62bd6b218ac7c93a5', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0cdc9144b37335c1e4d5fc62c2093335b8a5453d\n'}, {'number': 3, 'created': '2021-09-15 12:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/1ac44f767f5b2ca7113627d10649bff09362c262', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0cdc9144b37335c1e4d5fc62c2093335b8a5453d\n'}, {'number': 4, 'created': '2021-09-15 13:20:48.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/cdbad48f9fe634a693f61eab2a5a996ecaffe6b0', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I0cdc9144b37335c1e4d5fc62c2093335b8a5453d\n'}]",0,808867,cdbad48f9fe634a693f61eab2a5a996ecaffe6b0,12,2,4,20182,,,0,"Remove jobs corresponds to obselete featuresets

As we are removing the jobs which are using the obselete featuresets [1]
so removing those jobs from templates/layouts

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: I0cdc9144b37335c1e4d5fc62c2093335b8a5453d
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/67/808867/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,62dd5405c0b8774f5385de03d02e551ae8789c04,cleanup-featuresets-from-old-branches-stable/queens,<<<<<<< HEAD (256dce OpenDev Migration Patch)======= >>>>>>> CHANGE (477e68 Remove jobs corresponds to obselete featuresets),,3,0
openstack%2Freleases~master~Iacb8f8be21187c3773dd0c23a4bced3fd1edbdb3,openstack/releases,master,Iacb8f8be21187c3773dd0c23a4bced3fd1edbdb3,Release OpenStack-Ansible Wallaby,MERGED,2021-09-13 14:57:59.000000000,2021-09-16 07:27:53.000000000,2021-09-16 07:27:53.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-09-13 14:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8178eb426b0652b20150620bd7de47c4eddb96f8', 'message': 'Release OpenStack-Ansible Wallaby\n\nChange-Id: Iacb8f8be21187c3773dd0c23a4bced3fd1edbdb3\n'}, {'number': 2, 'created': '2021-09-15 16:01:31.000000000', 'files': ['deliverables/wallaby/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c2fae836d44105cea5ebaec380e5933bc1eff05a', 'message': 'Release OpenStack-Ansible Wallaby\n\nChange-Id: Iacb8f8be21187c3773dd0c23a4bced3fd1edbdb3\n'}]",0,808790,c2fae836d44105cea5ebaec380e5933bc1eff05a,13,4,2,28619,,,0,"Release OpenStack-Ansible Wallaby

Change-Id: Iacb8f8be21187c3773dd0c23a4bced3fd1edbdb3
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/808790/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/openstack-ansible.yaml'],1,8178eb426b0652b20150620bd7de47c4eddb96f8,release_osa, - version: 23.1.1 projects: - repo: openstack/openstack-ansible hash: ff714691277409da758eee628f81de86c5b81b4f,,4,0
openstack%2Frpm-packaging~master~I6df6f11aecc3616c0fb28838c93018d9801d6455,openstack/rpm-packaging,master,I6df6f11aecc3616c0fb28838c93018d9801d6455,pyghmi: Update to 1.5.29,MERGED,2021-09-14 08:43:49.000000000,2021-09-16 07:06:28.000000000,2021-09-16 07:06:28.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-14 08:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d771031fd8d84fe083fbfe1fc31e986b8784ffc0', 'message': 'pyghmi: Update to 1.5.29\n\nChange-Id: I6df6f11aecc3616c0fb28838c93018d9801d6455\n'}, {'number': 2, 'created': '2021-09-14 14:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/43b97f6070ccd99be88c813a6df16173ce5b4993', 'message': 'pyghmi: Update to 1.5.29\n\nChange-Id: I6df6f11aecc3616c0fb28838c93018d9801d6455\n'}, {'number': 3, 'created': '2021-09-15 19:40:37.000000000', 'files': ['openstack/pyghmi/pyghmi.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f9f08ff64e7549e7be06678554002e3f60ceee3c', 'message': 'pyghmi: Update to 1.5.29\n\nChange-Id: I6df6f11aecc3616c0fb28838c93018d9801d6455\n'}]",0,808913,f9f08ff64e7549e7be06678554002e3f60ceee3c,17,5,3,6593,,,0,"pyghmi: Update to 1.5.29

Change-Id: I6df6f11aecc3616c0fb28838c93018d9801d6455
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/13/808913/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/pyghmi/pyghmi.spec.j2'],1,d771031fd8d84fe083fbfe1fc31e986b8784ffc0,,{% set upstream_version = upstream_version('1.5.29') %},{% set upstream_version = upstream_version('1.5.23') %},1,1
openstack%2Fglance~master~Idb2ab1f4ac6a2c3e09cba4ca966b7faff30d34b1,openstack/glance,master,Idb2ab1f4ac6a2c3e09cba4ca966b7faff30d34b1,DNM: Run glance ceph jobs with 'pacific' version,ABANDONED,2021-08-31 16:19:36.000000000,2021-09-16 06:01:44.000000000,,"[{'_account_id': 6413}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-31 16:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e330f817013c998182b3adf96332676bb2ca7151', 'message': ""DNM: Run glance ceph jobs with 'pacific' version\n\nChange-Id: Idb2ab1f4ac6a2c3e09cba4ca966b7faff30d34b1\n""}, {'number': 2, 'created': '2021-08-31 16:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1041334bfad16b236505ac61ba042c9fb830cb7e', 'message': ""DNM: Run glance ceph jobs with 'pacific' version\n\nChange-Id: Idb2ab1f4ac6a2c3e09cba4ca966b7faff30d34b1\n""}, {'number': 3, 'created': '2021-08-31 18:42:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/8a8ac8d7a34c02de40e833b5155c823148a4dc22', 'message': ""DNM: Run glance ceph jobs with 'pacific' version\n\nChange-Id: Idb2ab1f4ac6a2c3e09cba4ca966b7faff30d34b1\n""}]",3,806774,8a8ac8d7a34c02de40e833b5155c823148a4dc22,11,2,3,9303,,,0,"DNM: Run glance ceph jobs with 'pacific' version

Change-Id: Idb2ab1f4ac6a2c3e09cba4ca966b7faff30d34b1
",git fetch https://review.opendev.org/openstack/glance refs/changes/74/806774/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e330f817013c998182b3adf96332676bb2ca7151,dnm/ceph-pacific," name: glance-nova-ceph-multistore parent: nova-ceph-multistore description: | Just like devstack-plugin-ceph-tempest-py3, but with multistore enabled vars: devstack_local_conf: CEPH_RELEASE: ""pacific"" - job: CEPH_RELEASE: ""pacific"" - glance-nova-ceph-multistore: - glance-nova-ceph-multistore:", - nova-ceph-multistore: - nova-ceph-multistore:,12,2
openstack%2Ftripleo-heat-templates~master~I928b03f06c702a13f4bd957eaa79153aa711cee4,openstack/tripleo-heat-templates,master,I928b03f06c702a13f4bd957eaa79153aa711cee4,Simplify mysql users creation,MERGED,2021-09-13 11:28:07.000000000,2021-09-16 05:43:36.000000000,2021-09-15 19:52:35.000000000,"[{'_account_id': 6926}, {'_account_id': 11816}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-13 11:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e6e77c22b3b8f89a17072c1f2c4162c7fe14cfe', 'message': ""Ensure mysql users' host part is always an IP\n\nFor performance reason we skip name resolution checks during\nDB connection, and we create users as <service>@<ip> accordingly.\nMake sure that what we use for the host part of the DB name is\nalways an IP address and not a FQDN.\n\nChange-Id: I928b03f06c702a13f4bd957eaa79153aa711cee4\nCloses-Bug: #1943440\n""}, {'number': 2, 'created': '2021-09-13 11:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64af832fdec3845e92029813f4192715925d1051', 'message': ""Ensure mysql users' host part is always an IP\n\nFor performance reason we skip name resolution checks during\nDB connection, and we create users as <service>@<ip> accordingly.\nMake sure that what we use for the host part of the DB name is\nalways an IP address and not a FQDN.\n\nAlso fix the host grants, as it only configures the bootstrap\nnode instead of all the overcloud nodes, and it's never enforced\ndue to a wildcard being configured on purpose.\n\nChange-Id: I928b03f06c702a13f4bd957eaa79153aa711cee4\nCloses-Bug: #1943440\nCloses-Bug: #1943330\n""}, {'number': 3, 'created': '2021-09-14 10:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b79c207593ccf2f502f4d0b12a891260ab212d5', 'message': ""Ensure mysql users' host part is always an IP\n\nFor performance reason we skip name resolution checks during\nDB connection, and we create users as <service>@<ip> accordingly.\nMake sure that what we use for the host part of the DB name is\nalways an IP address and not a FQDN.\n\nAlso fix the host grants, as it only configures the bootstrap\nnode instead of all the overcloud nodes, and it's never enforced\ndue to a wildcard being configured on purpose.\n\nChange-Id: I928b03f06c702a13f4bd957eaa79153aa711cee4\nCloses-Bug: #1943440\nCloses-Bug: #1943330\n""}, {'number': 4, 'created': '2021-09-14 16:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b11e9bcf615269b972f91d9c509736172fe0c76e', 'message': ""Ensure mysql users' host part is always an IP\n\nFor performance reason we skip name resolution checks during\nDB connection, and we create users as <service>@<ip> accordingly.\nMake sure that what we use for the host part of the DB name is\nalways an IP address and not a FQDN.\n\nAlso fix the host grants, as it only configures the bootstrap\nnode instead of all the overcloud nodes, and it's never enforced\ndue to a wildcard being configured on purpose.\n\nChange-Id: I928b03f06c702a13f4bd957eaa79153aa711cee4\nCloses-Bug: #1943440\nCloses-Bug: #1943330\n""}, {'number': 5, 'created': '2021-09-15 08:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b188c43c0fe78f8d78761de33ffe6c178db8fe2', 'message': ""Simplify mysql users creation\n\nOpenstack users are configured with openstacklib, which in turns\ndrive puppet-mysql to create several DB user for each db service:\n<service>@'%' <service>@<ip> and <service>@<mysql_vip>.\n\nWe create several users because we use two different parameters\nhost and allowed_hosts in openstacklib, which only has the effect\nof creating a list of users per openstack service.\n\nHowever since we always create a user '%', this wildcard host\nwill always allow connection to the DB, so the other users are\ncurrently not useful as they don't get any additional grants or\nrestrictions.\n\nSimplify the entire mysql user creation to only generate one\nuser per service, with a wildcard host.\n\nChange-Id: I928b03f06c702a13f4bd957eaa79153aa711cee4\nCloses-Bug: #1943440\nCloses-Bug: #1943330\n""}, {'number': 6, 'created': '2021-09-15 10:23:41.000000000', 'files': ['deployment/deprecated/mistral/mistral-base.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/designate/designate-mdns-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/nova/nova-apidb-client-puppet.yaml', 'deployment/designate/designate-central-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/manila/manila-base.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/deprecated/zaqar/zaqar-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/nova/nova-db-client-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f2015da4b50345359a9a14e403361ce7b0c7fcb1', 'message': ""Simplify mysql users creation\n\nOpenstack users are configured with openstacklib, which in turns\ndrive puppet-mysql to create several DB user for each db service:\n<service>@'%' <service>@<ip> and <service>@<mysql_vip>.\n\nWe create several users because we use two different parameters\nhost and allowed_hosts in openstacklib, which only has the effect\nof creating a list of users per openstack service.\n\nHowever since we always create a user '%', this wildcard host\nwill always allow connection to the DB, so the other users are\ncurrently not useful as they don't get any additional grants or\nrestrictions.\n\nSimplify the entire mysql user creation to only generate one\nuser per service, with a wildcard host.\n\nChange-Id: I928b03f06c702a13f4bd957eaa79153aa711cee4\nCloses-Bug: #1943440\nCloses-Bug: #1943330\n""}]",4,808745,f2015da4b50345359a9a14e403361ce7b0c7fcb1,36,6,6,20778,,,0,"Simplify mysql users creation

Openstack users are configured with openstacklib, which in turns
drive puppet-mysql to create several DB user for each db service:
<service>@'%' <service>@<ip> and <service>@<mysql_vip>.

We create several users because we use two different parameters
host and allowed_hosts in openstacklib, which only has the effect
of creating a list of users per openstack service.

However since we always create a user '%', this wildcard host
will always allow connection to the DB, so the other users are
currently not useful as they don't get any additional grants or
restrictions.

Simplify the entire mysql user creation to only generate one
user per service, with a wildcard host.

Change-Id: I928b03f06c702a13f4bd957eaa79153aa711cee4
Closes-Bug: #1943440
Closes-Bug: #1943330
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/808745/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/deprecated/mistral/mistral-base.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/designate/designate-mdns-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/designate/designate-central-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/manila/manila-base.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/deprecated/zaqar/zaqar-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/nova/nova-db-client-puppet.yaml']",18,2e6e77c22b3b8f89a17072c1f2c4162c7fe14cfe,bug/1943440," nova::db::mysql::host: ""%{hiera('mysql_vip')}"""," nova::db::mysql::host: {get_param: [EndpointMap, MysqlCellInternal, host_nobrackets]} - ""%{hiera('mysql_bind_host')}""",18,36
openstack%2Fkuryr~master~Iee16ef748ba15d7cb1d2bf3642fad57de30c8134,openstack/kuryr,master,Iee16ef748ba15d7cb1d2bf3642fad57de30c8134,Changed minversion in tox to 3.18.0,MERGED,2021-05-31 01:50:16.000000000,2021-09-16 04:52:23.000000000,2021-09-16 04:47:31.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-05-31 01:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/0ace38f6badb86b56c2162e8902ddd84b918b265', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Iee16ef748ba15d7cb1d2bf3642fad57de30c8134\n""}, {'number': 2, 'created': '2021-09-15 11:16:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/37f97503a57d9851c9b95effae8f13a8339d4eb5', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Iee16ef748ba15d7cb1d2bf3642fad57de30c8134\n""}]",0,793708,37f97503a57d9851c9b95effae8f13a8339d4eb5,23,5,2,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Iee16ef748ba15d7cb1d2bf3642fad57de30c8134
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/08/793708/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0ace38f6badb86b56c2162e8902ddd84b918b265,update-min-tox,minversion = 3.18.0allowlist_externals = sh,minversion = 2.3.1whitelist_externals = sh,2,2
openstack%2Fkuryr~master~I013f2750ca1371d3b4d5e2f618067cd9b70e76e4,openstack/kuryr,master,I013f2750ca1371d3b4d5e2f618067cd9b70e76e4,Fix unit tests,MERGED,2021-09-15 10:16:22.000000000,2021-09-16 04:51:20.000000000,2021-09-16 04:47:29.000000000,"[{'_account_id': 11536}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-09-15 10:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/87172fa5964b263a62db21690ea3a9e6e268bd2f', 'message': 'Fix unit tests\n\npyroute2 changed structure of the modules a bit and the unit tests were\nassuming it. This commit makes sure tests work with new pyroute2.\n\nChange-Id: I013f2750ca1371d3b4d5e2f618067cd9b70e76e4\n'}, {'number': 2, 'created': '2021-09-15 10:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/713f347f278c382b78aa5578186263c43efaa566', 'message': 'Fix unit tests\n\npyroute2 changed structure of the modules a bit and the unit tests were\nassuming it. This commit makes sure tests work with new pyroute2.\n\nChange-Id: I013f2750ca1371d3b4d5e2f618067cd9b70e76e4\n'}, {'number': 3, 'created': '2021-09-15 10:32:54.000000000', 'files': ['kuryr/tests/unit/binding/drivers/test_ipvlan.py', 'kuryr/tests/unit/binding/drivers/test_macvlan.py', 'kuryr/tests/unit/binding/drivers/test_veth.py', 'kuryr/tests/unit/binding/drivers/test_vlan.py'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/66d31e7d65638cd7c04af43c719140d0199576e1', 'message': 'Fix unit tests\n\npyroute2 changed structure of the modules a bit and the unit tests were\nassuming it. This commit makes sure tests work with new pyroute2.\n\nChange-Id: I013f2750ca1371d3b4d5e2f618067cd9b70e76e4\n'}]",0,809169,66d31e7d65638cd7c04af43c719140d0199576e1,13,5,3,11600,,,0,"Fix unit tests

pyroute2 changed structure of the modules a bit and the unit tests were
assuming it. This commit makes sure tests work with new pyroute2.

Change-Id: I013f2750ca1371d3b4d5e2f618067cd9b70e76e4
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/69/809169/3 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr/tests/unit/binding/drivers/test_ipvlan.py', 'kuryr/tests/unit/binding/drivers/test_macvlan.py', 'kuryr/tests/unit/binding/drivers/test_veth.py', 'kuryr/tests/unit/binding/drivers/test_vlan.py']",4,87172fa5964b263a62db21690ea3a9e6e268bd2f,fix-ut," @mock.patch('kuryr.lib.binding.drivers.utils.get_ipdb', mock.MagicMock()) def test_port_bind(self, mock_configure_container_iface):","mock_create = mock.MagicMock() mock_interface = mock.MagicMock() @mock.patch('pyroute2.ipdb.interfaces.InterfacesDict.__getattribute__', return_value=mock_create) @mock.patch('pyroute2.ipdb.interfaces.InterfacesDict.__getitem__', return_value=mock_interface) def test_port_bind(self, mock_getitem, mock_getattribute, mock_configure_container_iface):",17,41
openstack%2Fkuryr~master~I0a223a0e70593f39346e6703ed1a0fbb6374243b,openstack/kuryr,master,I0a223a0e70593f39346e6703ed1a0fbb6374243b,Add Python3 yoga unit tests,MERGED,2021-09-10 15:14:05.000000000,2021-09-16 04:47:30.000000000,2021-09-16 04:47:30.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-09-10 15:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/d2ad7abefb7bd03a327edfd51b31895c613484d6', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I0a223a0e70593f39346e6703ed1a0fbb6374243b\n'}, {'number': 2, 'created': '2021-09-15 11:15:45.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/24b0b1fde8abdf864b9265daa6ee0d804abee6a8', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I0a223a0e70593f39346e6703ed1a0fbb6374243b\n'}]",0,808421,24b0b1fde8abdf864b9265daa6ee0d804abee6a8,9,4,2,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I0a223a0e70593f39346e6703ed1a0fbb6374243b
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/21/808421/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d2ad7abefb7bd03a327edfd51b31895c613484d6,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Ftacker~master~I93711971906132b8dcf794864d22e2c1b326bc3a,openstack/tacker,master,I93711971906132b8dcf794864d22e2c1b326bc3a,Object definitions of multi version API support,MERGED,2021-08-06 03:40:03.000000000,2021-09-16 04:26:03.000000000,2021-09-16 04:24:36.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31072}, {'_account_id': 31668}, {'_account_id': 31857}, {'_account_id': 32581}, {'_account_id': 33458}]","[{'number': 1, 'created': '2021-08-06 03:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ad28b17b25726fe3649b6356c184e4454e6d1c61', 'message': 'Object definitions of multi version API support\n\nThis patch includes only object definitions used by multi version\nAPI support. There is no logic in this patch.\n\nThe logic part of multi version API support is provided with a\nfollowing patch.\n\nBecause the definition of the object had much number of the files,\nthe patch of logic part is separated to make code review easy.\n\nImplementation note:\nObjects are defined as is according to ETSI NFV-SOL specifications.\nThis means attributes of objects are not converted to snake case\nbut camel case as is because the conversion is meaningless\nobviously.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: I93711971906132b8dcf794864d22e2c1b326bc3a\n'}, {'number': 2, 'created': '2021-08-19 04:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/fcd578fd2a240c812342723f13de13bcd24caeb5', 'message': 'Object definitions of multi version API support\n\nThis patch includes only object definitions used by multi version\nAPI support. There is no logic in this patch.\n\nThe logic part of multi version API support is provided with a\nfollowing patch.\n\nBecause the definition of the object had much number of the files,\nthe patch of logic part is separated to make code review easy.\n\nImplementation note:\nObjects are defined as is according to ETSI NFV-SOL specifications.\nThis means attributes of objects are not converted to snake case\nbut camel case as is because the conversion is meaningless\nobviously.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: I93711971906132b8dcf794864d22e2c1b326bc3a\n'}, {'number': 3, 'created': '2021-08-19 05:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/26d01a9cf696dc8800eca82f8f24cc8fd20f3199', 'message': 'Object definitions of multi version API support\n\nThis patch includes only object definitions used by multi version\nAPI support. There is no logic in this patch.\n\nThe logic part of multi version API support is provided with a\nfollowing patch.\n\nBecause the definition of the object had much number of the files,\nthe patch of logic part is separated to make code review easy.\n\nImplementation note:\nObjects are defined as is according to ETSI NFV-SOL specifications.\nThis means attributes of objects are not converted to snake case\nbut camel case as is because the conversion is meaningless\nobviously.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: I93711971906132b8dcf794864d22e2c1b326bc3a\n'}, {'number': 4, 'created': '2021-08-24 04:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0642f9e3983b33a0f1b5c3c0fa0234c301c82947', 'message': 'Object definitions of multi version API support\n\nThis patch includes only object definitions used by multi version\nAPI support. There is no logic in this patch.\n\nThe logic part of multi version API support is provided with a\nfollowing patch.\n\nBecause the definition of the object had much number of the files,\nthe patch of logic part is separated to make code review easy.\n\nImplementation note:\nObjects are defined as is according to ETSI NFV-SOL specifications.\nThis means attributes of objects are not converted to snake case\nbut camel case as is because the conversion is meaningless\nobviously.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: I93711971906132b8dcf794864d22e2c1b326bc3a\n'}, {'number': 5, 'created': '2021-08-26 00:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/bfb189219c1199a6cbc2438c839684e4535d561d', 'message': 'Object definitions of multi version API support\n\nThis patch includes only object definitions used by multi version\nAPI support. There is no logic in this patch.\n\nThe logic part of multi version API support is provided with a\nfollowing patch.\n\nBecause the definition of the object had much number of the files,\nthe patch of logic part is separated to make code review easy.\n\nImplementation note:\nObjects are defined as is according to ETSI NFV-SOL specifications.\nThis means attributes of objects are not converted to snake case\nbut camel case as is because the conversion is meaningless\nobviously.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: I93711971906132b8dcf794864d22e2c1b326bc3a\n'}, {'number': 6, 'created': '2021-09-03 00:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/61e486687a367ad324438984feff9f6caa7f955e', 'message': ""Object definitions of multi version API support\n\nThis patch includes only object definitions used by multi version\nAPI support. There is no logic in this patch.\n\nThe logic part of multi version API support is provided with a\nfollowing patch.\n\nBecause the definition of the object had much number of the files,\nthe patch of logic part is separated to make code review easy.\n\nImplementation note:\nObjects are defined as is according to ETSI NFV-SOL specifications.\nThis means attributes of objects are not converted to snake case\nbut camel case as is because the conversion is meaningless\nobviously.\nNaming convention of class is as follows:\n* for a object represents a type with the definition in a section\n  of the specication, as is and may be followed by V2 (or V1) to\n  distinguish it from another version in the future.\n  ex. 'SOL003 5.5.2.2 Type: VnfInstance' => VnfInstanceV2\n* for a object representing an inlined struct, 'class name which\n  the member belongs to' + '_' + 'member name which changed the\n  first letter to the capital letter'.\n  ex. the object representing instantiatedVnfInfo in VnfInstance\n  => VnfInstanceV2_InstantiatedVnfInfo.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: I93711971906132b8dcf794864d22e2c1b326bc3a\n""}, {'number': 7, 'created': '2021-09-05 23:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/964e9cb239e3d69d2dfb7277a3a21e388f7ad77f', 'message': ""Object definitions of multi version API support\n\nThis patch includes only object definitions used by multi version\nAPI support. There is no logic in this patch.\n\nThe logic part of multi version API support is provided with a\nfollowing patch.\n\nBecause the definition of the object had much number of the files,\nthe patch of logic part is separated to make code review easy.\n\nImplementation notes:\nObjects are defined as is according to ETSI NFV-SOL specifications.\nThis means attributes of objects are not converted to snake case\nbut camel case as is because the conversion is meaningless\nobviously.\nNaming convention of class is as follows:\n* for a object represents a type with the definition in a section\n  of the specication, as is and may be followed by V2 (or V1) to\n  distinguish it from another version in the future.\n  ex. 'SOL003 5.5.2.2 Type: VnfInstance' => VnfInstanceV2\n* for a object representing an inlined struct, 'class name which\n  the member belongs to' + '_' + 'member name which changed the\n  first letter to the capital letter'.\n  ex. the object representing instantiatedVnfInfo in VnfInstance\n  => VnfInstanceV2_InstantiatedVnfInfo.\nNote that 'nullable=True' means cardinality may be zero in this\nobject definitions while it means null is OK in the persistent\nobject originally.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: I93711971906132b8dcf794864d22e2c1b326bc3a\n""}, {'number': 8, 'created': '2021-09-10 02:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d3100ae485938ae658936fa62fce11c8a7a84347', 'message': ""Object definitions of multi version API support\n\nThis patch includes only object definitions used by multi version\nAPI support. There is no logic in this patch.\n\nThe logic part of multi version API support is provided with a\nfollowing patch.\n\nBecause the definition of the object had much number of the files,\nthe patch of logic part is separated to make code review easy.\n\nImplementation notes:\nObjects are defined as is according to ETSI NFV-SOL specifications.\nThis means attributes of objects are not converted to snake case\nbut camel case as is because the conversion is meaningless\nobviously.\nNaming convention of class is as follows:\n* for a object represents a type with the definition in a section\n  of the specication, as is and may be followed by V2 (or V1) to\n  distinguish it from another version in the future.\n  ex. 'SOL003 5.5.2.2 Type: VnfInstance' => VnfInstanceV2\n* for a object representing an inlined struct, 'class name which\n  the member belongs to' + '_' + 'member name which changed the\n  first letter to the capital letter'.\n  ex. the object representing instantiatedVnfInfo in VnfInstance\n  => VnfInstanceV2_InstantiatedVnfInfo.\nNote that 'nullable=True' means cardinality may be zero in this\nobject definitions while it means null is OK in the persistent\nobject originally.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: I93711971906132b8dcf794864d22e2c1b326bc3a\n""}, {'number': 9, 'created': '2021-09-13 23:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b7d65cc7191111f980b5381b9b548360f85b5119', 'message': ""Object definitions of multi version API support\n\nThis patch includes only object definitions used by multi version\nAPI support. There is no logic in this patch.\n\nThe logic part of multi version API support is provided with a\nfollowing patch.\n\nBecause the definition of the object had much number of the files,\nthe patch of logic part is separated to make code review easy.\n\nImplementation notes:\nObjects are defined as is according to ETSI NFV-SOL specifications.\nThis means attributes of objects are not converted to snake case\nbut camel case as is because the conversion is meaningless\nobviously.\nNaming convention of class is as follows:\n* for a object represents a type with the definition in a section\n  of the specication, as is and may be followed by V2 (or V1) to\n  distinguish it from another version in the future.\n  ex. 'SOL003 5.5.2.2 Type: VnfInstance' => VnfInstanceV2\n* for a object representing an inlined struct, 'class name which\n  the member belongs to' + '_' + 'member name which changed the\n  first letter to the capital letter'.\n  ex. the object representing instantiatedVnfInfo in VnfInstance\n  => VnfInstanceV2_InstantiatedVnfInfo.\nNote that 'nullable=True' means cardinality may be zero in this\nobject definitions while it means null is OK in the persistent\nobject originally.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: I93711971906132b8dcf794864d22e2c1b326bc3a\n""}, {'number': 10, 'created': '2021-09-14 23:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/eeb88813d9a523fac4fe6e72145fdaf7026dc2a6', 'message': ""Object definitions of multi version API support\n\nThis patch includes only object definitions used by multi version\nAPI support. There is no logic in this patch.\n\nThe logic part of multi version API support is provided with a\nfollowing patch.\n\nBecause the definition of the object had much number of the files,\nthe patch of logic part is separated to make code review easy.\n\nImplementation notes:\nObjects are defined as is according to ETSI NFV-SOL specifications.\nThis means attributes of objects are not converted to snake case\nbut camel case as is because the conversion is meaningless\nobviously.\nNaming convention of class is as follows:\n* for a object represents a type with the definition in a section\n  of the specication, as is and may be followed by V2 (or V1) to\n  distinguish it from another version in the future.\n  ex. 'SOL003 5.5.2.2 Type: VnfInstance' => VnfInstanceV2\n* for a object representing an inlined struct, 'class name which\n  the member belongs to' + '_' + 'member name which changed the\n  first letter to the capital letter'.\n  ex. the object representing instantiatedVnfInfo in VnfInstance\n  => VnfInstanceV2_InstantiatedVnfInfo.\nNote that 'nullable=True' means cardinality may be zero in this\nobject definitions while it means null is OK in the persistent\nobject originally.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: I93711971906132b8dcf794864d22e2c1b326bc3a\n""}, {'number': 11, 'created': '2021-09-16 01:20:09.000000000', 'files': ['tacker/sol_refactored/objects/common/ip_over_ethernet_address_data.py', 'tacker/sol_refactored/objects/v2/pkgm_notification_filter.py', 'tacker/sol_refactored/objects/common/notification_link.py', 'tacker/sol_refactored/objects/v2/vnf_lcm_operation_occurrence_notification.py', 'tacker/sol_refactored/objects/common/fields.py', 'tacker/sol_refactored/objects/common/resource_handle.py', 'tacker/sol_refactored/objects/v2/vnf_ext_cp_info.py', 'tacker/sol_refactored/objects/common/vim_connection_info.py', 'tacker/sol_refactored/objects/v2/lccn_subscription_request.py', 'tacker/sol_refactored/objects/v2/modifications_triggered_by_vnf_pkg_change.py', 'tacker/sol_refactored/objects/v2/vnf_snapshot_info.py', 'tacker/sol_refactored/objects/v2/pkgm_subscription_request.py', 'tacker/sol_refactored/objects/v2/change_vnf_flavour_request.py', 'tacker/sol_refactored/objects/v2/ext_link_port_info.py', 'tacker/sol_refactored/objects/v2/vnfc_info.py', 'tacker/sol_refactored/objects/v2/vnf_package_onboarding_notification.py', 'tacker/sol_refactored/objects/v2/external_artifacts_access_config.py', 'tacker/sol_refactored/objects/v2/vnf_snapshot_info_modifications.py', 'tacker/sol_refactored/objects/v2/lifecycle_change_notifications_filter.py', 'tacker/sol_refactored/objects/v2/vnf_package_software_image_info.py', 'tacker/sol_refactored/objects/v2/vnfc_snapshot_info.py', 'tacker/sol_refactored/objects/common/vnf_instance_subscription_filter.py', 'tacker/sol_refactored/objects/v2/lccn_links.py', 'tacker/sol_refactored/objects/common/ext_virtual_link_data.py', 'tacker/sol_refactored/objects/v2/ip_over_ethernet_address_info.py', 'tacker/sol_refactored/objects/v2/vnf_virtual_link_resource_info.py', 'tacker/sol_refactored/objects/v2/ext_virtual_link_info.py', 'tacker/sol_refactored/objects/v1/fields.py', 'tacker/sol_refactored/objects/v2/affected_virtual_link.py', 'tacker/sol_refactored/objects/v2/scale_vnf_to_level_request.py', 'tacker/sol_refactored/objects/v2/vnf_identifier_deletion_notification.py', 'tacker/sol_refactored/objects/v2/vnf_snapshot.py', 'tacker/sol_refactored/objects/v1/vim_software_image.py', 'tacker/sol_refactored/objects/v2/vnf_snapshot_info_modification_request.py', 'tacker/sol_refactored/objects/v2/vnfc_resource_info.py', 'tacker/sol_refactored/objects/v2/cancel_mode.py', 'tacker/sol_refactored/objects/common/vnf_ext_cp_data.py', 'tacker/sol_refactored/objects/v2/change_ext_vnf_connectivity_request.py', 'tacker/sol_refactored/objects/v2/instantiate_vnf_request.py', 'tacker/sol_refactored/objects/v2/scale_info.py', 'tacker/sol_refactored/objects/v1/snapshot_resource_definition.py', 'tacker/sol_refactored/objects/v2/virtual_storage_resource_info.py', 'tacker/sol_refactored/objects/common/subscription_authentication.py', 'tacker/sol_refactored/objects/v2/vnf_link_port_info.py', 'tacker/sol_refactored/objects/v1/vim_constraint.py', 'tacker/sol_refactored/objects/v2/operate_vnf_request.py', 'tacker/sol_refactored/objects/v2/ext_managed_virtual_link_info.py', 'tacker/sol_refactored/objects/v2/vnfc_info_modifications.py', 'tacker/sol_refactored/objects/v2/affected_ext_link_port.py', 'tacker/sol_refactored/objects/v2/vnf_pkg_info_modifications.py', 'tacker/sol_refactored/objects/v1/grant_request.py', 'tacker/sol_refactored/objects/v2/vnf_instance.py', 'tacker/sol_refactored/objects/v2/revert_to_vnf_snapshot_request.py', 'tacker/sol_refactored/objects/v2/vnf_identifier_creation_notification.py', 'tacker/sol_refactored/objects/common/problem_details.py', 'tacker/sol_refactored/objects/v2/create_vnf_snapshot_info_request.py', 'tacker/sol_refactored/objects/v1/constraint_resource_ref.py', 'tacker/sol_refactored/objects/v2/vnf_lcm_op_occ.py', 'tacker/sol_refactored/objects/v1/grant_info.py', 'tacker/sol_refactored/objects/common/ext_link_port_data.py', 'tacker/sol_refactored/objects/common/link.py', 'tacker/sol_refactored/objects/v2/lccn_subscription.py', 'tacker/sol_refactored/objects/v1/zone_info.py', 'tacker/sol_refactored/objects/v2/terminate_vnf_request.py', 'tacker/sol_refactored/objects/v2/vnf_info_modification_request.py', 'tacker/sol_refactored/objects/v1/placement_constraint.py', 'tacker/sol_refactored/objects/v2/fields.py', 'tacker/sol_refactored/objects/v1/vim_snapshot_resource.py', 'tacker/sol_refactored/objects/v2/vnf_package_change_notification.py', 'tacker/sol_refactored/objects/common/cp_protocol_data.py', 'tacker/sol_refactored/objects/v2/cp_protocol_info.py', 'tacker/sol_refactored/objects/v2/heal_vnf_request.py', 'tacker/sol_refactored/objects/v2/pkgm_links.py', 'tacker/sol_refactored/objects/v2/vnf_info_modifications.py', 'tacker/sol_refactored/objects/v2/scale_vnf_request.py', 'tacker/sol_refactored/objects/common/ext_managed_virtual_link_data.py', 'tacker/sol_refactored/objects/v2/monitoring_parameter.py', 'tacker/sol_refactored/objects/v2/vnf_state_snapshot_info.py', 'tacker/sol_refactored/objects/v1/zone_group_info.py', 'tacker/sol_refactored/objects/v2/affected_vnfc.py', 'tacker/sol_refactored/objects/v2/create_vnf_snapshot_request.py', 'tacker/sol_refactored/objects/v2/create_vnf_pkg_info_request.py', 'tacker/sol_refactored/objects/v1/resource_definition.py', 'tacker/sol_refactored/objects/v2/create_vnf_request.py', 'tacker/sol_refactored/objects/v2/change_current_vnf_pkg_request.py', 'tacker/sol_refactored/objects/v2/vnf_link_port_data.py', 'tacker/sol_refactored/objects/v2/vnf_package_artifact_info.py', 'tacker/sol_refactored/objects/v2/upload_vnf_package_from_uri_request.py', 'tacker/sol_refactored/objects/v2/vnf_pkg_info.py', 'tacker/sol_refactored/objects/common/vnf_ext_cp_config.py', 'tacker/sol_refactored/objects/v2/affected_virtual_storage.py', 'tacker/sol_refactored/objects/v1/grant.py', 'tacker/sol_refactored/objects/v1/vim_compute_resource_flavour.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/49ab5f9a157a008841bc8c611c2ae294054d2076', 'message': ""Object definitions of multi version API support\n\nThis patch includes only object definitions used by multi version\nAPI support. There is no logic in this patch.\n\nThe logic part of multi version API support is provided with a\nfollowing patch.\n\nBecause the definition of the object had much number of the files,\nthe patch of logic part is separated to make code review easy.\n\nImplementation notes:\nObjects are defined as is according to ETSI NFV-SOL specifications.\nThis means attributes of objects are not converted to snake case\nbut camel case as is because the conversion is meaningless\nobviously.\nNaming convention of class is as follows:\n* for a object represents a type with the definition in a section\n  of the specication, as is and may be followed by V2 (or V1) to\n  distinguish it from another version in the future.\n  ex. 'SOL003 5.5.2.2 Type: VnfInstance' => VnfInstanceV2\n* for a object representing an inlined struct, 'class name which\n  the member belongs to' + '_' + 'member name which changed the\n  first letter to the capital letter'.\n  ex. the object representing instantiatedVnfInfo in VnfInstance\n  => VnfInstanceV2_InstantiatedVnfInfo.\nNote that 'nullable=True' means cardinality may be zero in this\nobject definitions while it means null is OK in the persistent\nobject originally.\n\nImplements: blueprint multi-version-api\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nImplemetes: blueprint support-nfv-solv3-subscriptions\nChange-Id: I93711971906132b8dcf794864d22e2c1b326bc3a\n""}]",193,803692,49ab5f9a157a008841bc8c611c2ae294054d2076,62,8,11,4149,,,0,"Object definitions of multi version API support

This patch includes only object definitions used by multi version
API support. There is no logic in this patch.

The logic part of multi version API support is provided with a
following patch.

Because the definition of the object had much number of the files,
the patch of logic part is separated to make code review easy.

Implementation notes:
Objects are defined as is according to ETSI NFV-SOL specifications.
This means attributes of objects are not converted to snake case
but camel case as is because the conversion is meaningless
obviously.
Naming convention of class is as follows:
* for a object represents a type with the definition in a section
  of the specication, as is and may be followed by V2 (or V1) to
  distinguish it from another version in the future.
  ex. 'SOL003 5.5.2.2 Type: VnfInstance' => VnfInstanceV2
* for a object representing an inlined struct, 'class name which
  the member belongs to' + '_' + 'member name which changed the
  first letter to the capital letter'.
  ex. the object representing instantiatedVnfInfo in VnfInstance
  => VnfInstanceV2_InstantiatedVnfInfo.
Note that 'nullable=True' means cardinality may be zero in this
object definitions while it means null is OK in the persistent
object originally.

Implements: blueprint multi-version-api
Implements: blueprint support-nfv-solv3-start-and-terminate-vnf
Implements: blueprint support-nfv-solv3-query-vnf-instances
Implements: blueprint support-nfv-solv3-query-operation-occurrences
Implemetes: blueprint support-nfv-solv3-subscriptions
Change-Id: I93711971906132b8dcf794864d22e2c1b326bc3a
",git fetch https://review.opendev.org/openstack/tacker refs/changes/92/803692/11 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/sol_refactored/objects/common/ip_over_ethernet_address_data.py', 'tacker/sol_refactored/objects/v2/pkgm_notification_filter.py', 'tacker/sol_refactored/objects/common/notification_link.py', 'tacker/sol_refactored/objects/v2/vnf_lcm_operation_occurrence_notification.py', 'tacker/sol_refactored/objects/common/fields.py', 'tacker/sol_refactored/objects/common/resource_handle.py', 'tacker/sol_refactored/objects/v2/vnf_ext_cp_info.py', 'tacker/sol_refactored/objects/common/vim_connection_info.py', 'tacker/sol_refactored/objects/v2/lccn_subscription_request.py', 'tacker/sol_refactored/objects/v2/modifications_triggered_by_vnf_pkg_change.py', 'tacker/sol_refactored/objects/v2/vnf_snapshot_info.py', 'tacker/sol_refactored/objects/v2/pkgm_subscription_request.py', 'tacker/sol_refactored/objects/v2/change_vnf_flavour_request.py', 'tacker/sol_refactored/objects/v2/ext_link_port_info.py', 'tacker/sol_refactored/objects/v2/vnfc_info.py', 'tacker/sol_refactored/objects/v2/vnf_package_onboarding_notification.py', 'tacker/sol_refactored/objects/v2/external_artifacts_access_config.py', 'tacker/sol_refactored/objects/v2/vnf_snapshot_info_modifications.py', 'tacker/sol_refactored/objects/v2/lifecycle_change_notifications_filter.py', 'tacker/sol_refactored/objects/v2/vnf_package_software_image_info.py', 'tacker/sol_refactored/objects/v2/vnfc_snapshot_info.py', 'tacker/sol_refactored/objects/common/vnf_instance_subscription_filter.py', 'tacker/sol_refactored/objects/v2/lccn_links.py', 'tacker/sol_refactored/objects/common/ext_virtual_link_data.py', 'tacker/sol_refactored/objects/v2/ip_over_ethernet_address_info.py', 'tacker/sol_refactored/objects/v2/vnf_virtual_link_resource_info.py', 'tacker/sol_refactored/objects/v2/ext_virtual_link_info.py', 'tacker/sol_refactored/objects/v1/fields.py', 'tacker/sol_refactored/objects/v2/affected_virtual_link.py', 'tacker/sol_refactored/objects/v2/scale_vnf_to_level_request.py', 'tacker/sol_refactored/objects/v2/vnf_identifier_deletion_notification.py', 'tacker/sol_refactored/objects/v2/vnf_snapshot.py', 'tacker/sol_refactored/objects/v1/vim_software_image.py', 'tacker/sol_refactored/objects/v2/vnf_snapshot_info_modification_request.py', 'tacker/sol_refactored/objects/v2/vnfc_resource_info.py', 'tacker/sol_refactored/objects/v2/cancel_mode.py', 'tacker/sol_refactored/objects/common/vnf_ext_cp_data.py', 'tacker/sol_refactored/objects/v2/change_ext_vnf_connectivity_request.py', 'tacker/sol_refactored/objects/v2/instantiate_vnf_request.py', 'tacker/sol_refactored/objects/v2/scale_info.py', 'tacker/sol_refactored/objects/v1/snapshot_resource_definition.py', 'tacker/sol_refactored/objects/v2/virtual_storage_resource_info.py', 'tacker/sol_refactored/objects/common/subscription_authentication.py', 'tacker/sol_refactored/objects/v2/vnf_link_port_info.py', 'tacker/sol_refactored/objects/v1/vim_constraint.py', 'tacker/sol_refactored/objects/v2/operate_vnf_request.py', 'tacker/sol_refactored/objects/v2/ext_managed_virtual_link_info.py', 'tacker/sol_refactored/objects/v2/affected_ext_link_port.py', 'tacker/sol_refactored/objects/v2/vnf_pkg_info_modifications.py', 'tacker/sol_refactored/objects/v1/grant_request.py', 'tacker/sol_refactored/objects/v2/vnf_instance.py', 'tacker/sol_refactored/objects/v2/revert_to_vnf_snapshot_request.py', 'tacker/sol_refactored/objects/v2/vnf_identifier_creation_notification.py', 'tacker/sol_refactored/objects/common/problem_details.py', 'tacker/sol_refactored/objects/v2/create_vnf_snapshot_info_request.py', 'tacker/sol_refactored/objects/v1/constraint_resource_ref.py', 'tacker/sol_refactored/objects/v2/vnf_lcm_op_occ.py', 'tacker/sol_refactored/objects/v1/grant_info.py', 'tacker/sol_refactored/objects/common/ext_link_port_data.py', 'tacker/sol_refactored/objects/common/link.py', 'tacker/sol_refactored/objects/v2/lccn_subscription.py', 'tacker/sol_refactored/objects/v1/zone_info.py', 'tacker/sol_refactored/objects/v2/terminate_vnf_request.py', 'tacker/sol_refactored/objects/v2/vnf_info_modification_request.py', 'tacker/sol_refactored/objects/v1/placement_constraint.py', 'tacker/sol_refactored/objects/v2/fields.py', 'tacker/sol_refactored/objects/v1/vim_snapshot_resource.py', 'tacker/sol_refactored/objects/v2/vnf_package_change_notification.py', 'tacker/sol_refactored/objects/common/cp_protocol_data.py', 'tacker/sol_refactored/objects/v2/cp_protocol_info.py', 'tacker/sol_refactored/objects/v2/heal_vnf_request.py', 'tacker/sol_refactored/objects/v2/pkgm_links.py', 'tacker/sol_refactored/objects/v2/vnf_info_modifications.py', 'tacker/sol_refactored/objects/v2/scale_vnf_request.py', 'tacker/sol_refactored/objects/common/ext_managed_virtual_link_data.py', 'tacker/sol_refactored/objects/v2/monitoring_parameter.py', 'tacker/sol_refactored/objects/v2/vnf_state_snapshot_info.py', 'tacker/sol_refactored/objects/v1/zone_group_info.py', 'tacker/sol_refactored/objects/v2/affected_vnfc.py', 'tacker/sol_refactored/objects/v2/create_vnf_snapshot_request.py', 'tacker/sol_refactored/objects/v2/create_vnf_pkg_info_request.py', 'tacker/sol_refactored/objects/v1/resource_definition.py', 'tacker/sol_refactored/objects/v2/create_vnf_request.py', 'tacker/sol_refactored/objects/v2/change_current_vnf_pkg_request.py', 'tacker/sol_refactored/objects/v2/vnf_link_port_data.py', 'tacker/sol_refactored/objects/v2/vnf_package_artifact_info.py', 'tacker/sol_refactored/objects/v2/upload_vnf_package_from_uri_request.py', 'tacker/sol_refactored/objects/v2/vnf_pkg_info.py', 'tacker/sol_refactored/objects/common/vnf_ext_cp_config.py', 'tacker/sol_refactored/objects/v2/affected_virtual_storage.py', 'tacker/sol_refactored/objects/v1/grant.py', 'tacker/sol_refactored/objects/v1/vim_compute_resource_flavour.py']",92,ad28b17b25726fe3649b6356c184e4454e6d1c61,bp/multi-version-api,"# Copyright (C) 2021 Nippon Telegraph and Telephone Corporation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tacker.sol_refactored.objects import base from tacker.sol_refactored.objects import fields # NFV-SOL 003 # - v2.6.1 9.5.3.9 (API version: 1.3.0) # - v2.7.1 9.5.3.9 (API version: 1.3.0) # - v2.8.1 9.5.3.9 (API version: 1.3.0) # - v3.3.1 9.5.3.9 (API version: 1.4.0) @base.TackerObjectRegistry.register class VimComputeResourceFlavourV1(base.TackerObject, base.TackerObjectDictCompat): # Version 1.0: Initial version VERSION = '1.0' fields = { 'vimConnectionId': fields.StringField(nullable=True), 'resourceProviderId': fields.StringField(nullable=True), 'vnfdVirtualComputeDescId': fields.StringField(nullable=False), 'vimFlavourId': fields.StringField(nullable=False), } ",,4243,0
openstack%2Fskyline-console~master~Ie6396b2b9c42d424d0396f9c840fb6182ebd45e5,openstack/skyline-console,master,Ie6396b2b9c42d424d0396f9c840fb6182ebd45e5,fix: Update instance check for attach/detach volume,MERGED,2021-09-16 03:20:46.000000000,2021-09-16 04:14:13.000000000,2021-09-16 04:14:13.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-09-16 03:20:46.000000000', 'files': ['src/pages/storage/containers/Volume/actions/Detach.jsx', 'src/pages/storage/containers/Volume/actions/Attach.jsx', 'src/pages/compute/containers/Instance/actions/AttachVolume.jsx', 'src/resources/instance.jsx', 'src/pages/compute/containers/Instance/actions/DetachVolume.jsx', 'src/stores/skyline/server-group-instance.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/6f5816efe9ebc3d71713769e07c7ae3f7b48194a', 'message': 'fix: Update instance check for attach/detach volume\n\nUpdate instance check for attach/detach volume\n\nChange-Id: Ie6396b2b9c42d424d0396f9c840fb6182ebd45e5\n'}]",0,809309,6f5816efe9ebc3d71713769e07c7ae3f7b48194a,6,2,1,30434,,,0,"fix: Update instance check for attach/detach volume

Update instance check for attach/detach volume

Change-Id: Ie6396b2b9c42d424d0396f9c840fb6182ebd45e5
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/09/809309/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/storage/containers/Volume/actions/Detach.jsx', 'src/pages/storage/containers/Volume/actions/Attach.jsx', 'src/pages/compute/containers/Instance/actions/AttachVolume.jsx', 'src/resources/instance.jsx', 'src/pages/compute/containers/Instance/actions/DetachVolume.jsx', 'src/stores/skyline/server-group-instance.js']",6,6f5816efe9ebc3d71713769e07c7ae3f7b48194a,master2," get groupArraySize() { return 1; } const memberArrs = groupArray(members, this.groupArraySize);"," const memberArrs = groupArray(members, 10);",68,63
openstack%2Ftripleo-ci~master~Id70fdbac20426e1b0dea64c85e3fd8fa1acb2ed4,openstack/tripleo-ci,master,Id70fdbac20426e1b0dea64c85e3fd8fa1acb2ed4,remove browbeat from toci,NEW,2020-11-30 16:20:03.000000000,2021-09-16 04:11:39.000000000,,"[{'_account_id': 7144}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-30 16:20:03.000000000', 'files': ['roles/run-test/templates/toci_gate_test.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2f9367c89c1b11a54a5e880dbded50129e11711d', 'message': 'remove browbeat from toci\n\nRelated-Bug: #1906265\nChange-Id: Id70fdbac20426e1b0dea64c85e3fd8fa1acb2ed4\n'}]",0,764783,2f9367c89c1b11a54a5e880dbded50129e11711d,5,4,1,9592,,,0,"remove browbeat from toci

Related-Bug: #1906265
Change-Id: Id70fdbac20426e1b0dea64c85e3fd8fa1acb2ed4
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/83/764783/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/templates/toci_gate_test.sh.j2'],1,2f9367c89c1b11a54a5e880dbded50129e11711d,,"# Import gated external repo in oooq - starting with tripleo-ha-utils, openstack-ansible-os_tempest,EXTERNAL_REPOS=""openstack/tripleo-ha-utils openstack/tripleo-ci openstack/tripleo-quickstart-extras openstack/openstack-ansible-os_tempest \","# Import gated external repo in oooq - starting with browbeat, tripleo-ha-utils, openstack-ansible-os_tempest,EXTERNAL_REPOS=""x/browbeat openstack/tripleo-ha-utils openstack/tripleo-ci openstack/tripleo-quickstart-extras openstack/openstack-ansible-os_tempest \",2,2
openstack%2Fhorizon~master~Ia13212fd231215e17f4bba2039e79874b676e634,openstack/horizon,master,Ia13212fd231215e17f4bba2039e79874b676e634,Support Django 3.2 support (1),MERGED,2021-02-24 14:58:47.000000000,2021-09-16 03:47:38.000000000,2021-09-15 21:04:51.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-24 14:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/031192452347abb74064000ef49337be5d3d9244', 'message': 'Support Django 3.2 support (1)\n\nDjango 3.2 defines the new header API for the response object [1].\nThis change dropped ""_headers"" attribute from the response object.\nInstead of accesing a private attribute, we need to use the public APIs\nfor response headers [2].\n\n[1] https://docs.djangoproject.com/en/3.2/releases/3.2/#requests-and-responses\n[2] https://docs.djangoproject.com/en/3.2/ref/request-response/#httpresponse-objects\n\nChange-Id: Ia13212fd231215e17f4bba2039e79874b676e634\n'}, {'number': 2, 'created': '2021-02-25 18:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b50cabeff137bfad8712e365d435a1254e6f885b', 'message': 'Support Django 3.2 support (1)\n\nDjango 3.2 defines the new header API for the response object [1].\nThis change dropped ""_headers"" attribute from the response object.\nInstead of accesing a private attribute, we need to use the public APIs\nfor response headers [2].\n\n[1] https://docs.djangoproject.com/en/3.2/releases/3.2/#requests-and-responses\n[2] https://docs.djangoproject.com/en/3.2/ref/request-response/#httpresponse-objects\n\nChange-Id: Ia13212fd231215e17f4bba2039e79874b676e634\n'}, {'number': 3, 'created': '2021-09-15 18:15:04.000000000', 'files': ['openstack_dashboard/test/helpers.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/e77633c56a0bcc196f5ccaf28693cef14a6d980a', 'message': 'Support Django 3.2 support (1)\n\nDjango 3.2 defines the new header API for the response object [1].\nThis change dropped ""_headers"" attribute from the response object.\nInstead of accesing a private attribute, we need to use the public APIs\nfor response headers [2].\n\n[1] https://docs.djangoproject.com/en/3.2/releases/3.2/#requests-and-responses\n[2] https://docs.djangoproject.com/en/3.2/ref/request-response/#httpresponse-objects\n\nChange-Id: Ia13212fd231215e17f4bba2039e79874b676e634\n'}]",3,777397,e77633c56a0bcc196f5ccaf28693cef14a6d980a,14,3,3,841,,,0,"Support Django 3.2 support (1)

Django 3.2 defines the new header API for the response object [1].
This change dropped ""_headers"" attribute from the response object.
Instead of accesing a private attribute, we need to use the public APIs
for response headers [2].

[1] https://docs.djangoproject.com/en/3.2/releases/3.2/#requests-and-responses
[2] https://docs.djangoproject.com/en/3.2/ref/request-response/#httpresponse-objects

Change-Id: Ia13212fd231215e17f4bba2039e79874b676e634
",git fetch https://review.opendev.org/openstack/horizon refs/changes/97/777397/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/helpers.py'],1,031192452347abb74064000ef49337be5d3d9244,django3-support, if response.has_header('location'): loc = response['location'] else: loc = ''," loc = str(response._headers.get('location', None)[1])",4,1
openstack%2Fpython-tripleoclient~stable%2Fussuri~I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f,openstack/python-tripleoclient,stable/ussuri,I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f,Fix network environment validation,MERGED,2021-08-18 12:15:19.000000000,2021-09-16 03:43:59.000000000,2021-09-16 03:42:32.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 32240}]","[{'number': 1, 'created': '2021-08-18 12:15:19.000000000', 'files': ['tripleoclient/v1/overcloud_netenv_validate.py', 'tripleoclient/tests/v1/overcloud_netenv_validate/test_overcloud_netenv_validate.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/392464f1b689edc7f66600dc8ff4f8c49f67922e', 'message': ""Fix network environment validation\n\nNetwork environment validation fails when accessing value\nwith the key 'os_net_config' from the nic-config files.\nFix the dictionary keys needed to fetch the network\nconfig from nic_data.\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f\n(cherry picked from commit 930abb12b355fa6fcf2dded780e2031be24c2964)\n""}]",0,804996,392464f1b689edc7f66600dc8ff4f8c49f67922e,20,4,1,24245,,,0,"Fix network environment validation

Network environment validation fails when accessing value
with the key 'os_net_config' from the nic-config files.
Fix the dictionary keys needed to fetch the network
config from nic_data.

Signed-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>
Change-Id: I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f
(cherry picked from commit 930abb12b355fa6fcf2dded780e2031be24c2964)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/96/804996/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_netenv_validate/test_overcloud_netenv_validate.py', 'tripleoclient/v1/overcloud_netenv_validate.py']",2,392464f1b689edc7f66600dc8ff4f8c49f67922e,bug/1923612-stable/ussuri, 'str_replace']['params']['$network_config']['network_config'], 'os_net_config']['network_config'],7,3
openstack%2Fironic~master~Ida6edf819dbb3d1a51c465b4e109eafd977fd66c,openstack/ironic,master,Ida6edf819dbb3d1a51c465b4e109eafd977fd66c,Move ramdisk deploy to its own module,MERGED,2021-09-06 14:31:53.000000000,2021-09-16 03:17:36.000000000,2021-09-15 05:53:36.000000000,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-06 14:31:53.000000000', 'files': ['ironic/drivers/modules/pxe.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'ironic/tests/unit/drivers/modules/test_ramdisk.py', 'ironic/drivers/modules/ramdisk.py', 'setup.cfg', 'ironic/drivers/generic.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/88d6b99cc71020fd33f039b61a4070a43501666a', 'message': 'Move ramdisk deploy to its own module\n\nIt does not depend on PXE and is actually often used with virtual media.\n\nChange-Id: Ida6edf819dbb3d1a51c465b4e109eafd977fd66c\n'}]",0,807590,88d6b99cc71020fd33f039b61a4070a43501666a,29,3,1,10239,,,0,"Move ramdisk deploy to its own module

It does not depend on PXE and is actually often used with virtual media.

Change-Id: Ida6edf819dbb3d1a51c465b4e109eafd977fd66c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/90/807590/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/pxe.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'ironic/tests/unit/drivers/modules/test_ramdisk.py', 'ironic/drivers/modules/ramdisk.py', 'setup.cfg', 'ironic/drivers/generic.py']",6,88d6b99cc71020fd33f039b61a4070a43501666a,ramdisk-deploy,"from ironic.drivers.modules import ramdisk ramdisk.RamdiskDeploy, pxe.PXEAnacondaDeploy,"," pxe.PXERamdiskDeploy, pxe.PXEAnacondaDeploy,",404,334
openstack%2Ftacker~master~I5635f1b430f0b2f6e8b4c4ef50ca0864a8dd6230,openstack/tacker,master,I5635f1b430f0b2f6e8b4c4ef50ca0864a8dd6230,Modify Placement Processing to Aspect definition,MERGED,2021-04-23 11:24:59.000000000,2021-09-16 03:13:46.000000000,2021-09-16 03:12:17.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31072}, {'_account_id': 31857}, {'_account_id': 31902}, {'_account_id': 32826}, {'_account_id': 33492}, {'_account_id': 33558}]","[{'number': 1, 'created': '2021-04-23 11:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a1f5acd290b23a7365ea332e59d6efef6b052059', 'message': 'Modify Placement Processing to Aspect definition\n\nThis patch will change the proccessing of Placement Constraints\nfrom VDU name to Aspect Definition. There is also an error in the\njudgment logic when setting Availavility_zone information from\nthe Zone information of GrantRes, so the judgment logic is also\nfixed.\n\nCloses-Bug: #1924216\nChange-Id: I5635f1b430f0b2f6e8b4c4ef50ca0864a8dd6230\n'}, {'number': 2, 'created': '2021-05-06 08:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/34fda42133c52975d441780af0f8186347bb72e9', 'message': 'Modify Placement Processing to Aspect definition\n\nThis patch will change the proccessing of Placement Constraints\nfrom VDU name to Aspect Definition. There is also an error in the\njudgment logic when setting Availability_zone information from\nthe Zone information of GrantRes, so the judgment logic is also\nfixed.\n\nCloses-Bug: #1924216\nChange-Id: I5635f1b430f0b2f6e8b4c4ef50ca0864a8dd6230\n'}, {'number': 3, 'created': '2021-05-11 03:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/71d9718449ffd5d5bc954b957ee8dafa70ddc156', 'message': 'Modify Placement Processing to Aspect definition\n\nThis patch will change the proccessing of Placement Constraints\nfrom VDU name to Aspect Definition. There is also an error in the\njudgment logic when setting Availavility_zone information from\nthe Zone information of GrantRes, so the judgment logic is also\nfixed.\n\nCloses-Bug: #1924216\nChange-Id: I5635f1b430f0b2f6e8b4c4ef50ca0864a8dd6230\n'}, {'number': 4, 'created': '2021-05-11 10:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1896e0058b0e39184ff5258ecfc5c09577a17ed0', 'message': 'Modify Placement Processing to Aspect definition\n\nThis patch will change the proccessing of Placement Constraints\nfrom VDU name to Aspect Definition. There is also an error in the\njudgment logic when setting Availavility_zone information from\nthe Zone information of GrantRes, so the judgment logic is also\nfixed.\n\nCloses-Bug: #1924216\nChange-Id: I5635f1b430f0b2f6e8b4c4ef50ca0864a8dd6230\n'}, {'number': 5, 'created': '2021-06-15 05:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/58aea60e07aa8812863b36954637b350e037f3b4', 'message': 'Modify Placement Processing to Aspect definition\n\nThis patch will change the proccessing of Placement Constraints\nfrom VDU name to Aspect Definition. There is also an error in the\njudgment logic when setting Availavility_zone information from\nthe Zone information of GrantRes, so the judgment logic is also\nfixed.\n\nCloses-Bug: #1924216\nChange-Id: I5635f1b430f0b2f6e8b4c4ef50ca0864a8dd6230\n'}, {'number': 6, 'created': '2021-06-15 12:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/223e853c3a142ece02d9bdf0b6eb3ab8245ab145', 'message': 'Modify Placement Processing to Aspect definition\n\nThis patch will change the proccessing of Placement Constraints\nfrom VDU name to Aspect Definition. There is also an error in the\njudgment logic when setting Availavility_zone information from\nthe Zone information of GrantRes, so the judgment logic is also\nfixed.\n\nCloses-Bug: #1924216\nChange-Id: I5635f1b430f0b2f6e8b4c4ef50ca0864a8dd6230\n'}, {'number': 7, 'created': '2021-08-25 04:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2b2752caa56be2775faf9c18bf389a58cb109fe8', 'message': 'Modify Placement Processing to Aspect definition\n\nThis patch will change the proccessing of Placement Constraints\nfrom VDU name to Aspect Definition. There is also an error in the\njudgment logic when setting Availavility_zone information from\nthe Zone information of GrantRes, so the judgment logic is also\nfixed.\n\nCloses-Bug: #1924216\nChange-Id: I5635f1b430f0b2f6e8b4c4ef50ca0864a8dd6230\n'}, {'number': 8, 'created': '2021-09-07 04:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0b157b31641ef02de36c938b728c16b8235d5bb6', 'message': 'Modify Placement Processing to Aspect definition\n\nThis patch will change the proccessing of Placement Constraints\nfrom VDU name to Aspect Definition. There is also an error in the\njudgment logic when setting Availavility_zone information from\nthe Zone information of GrantRes, so the judgment logic is also\nfixed.\n\nCloses-Bug: #1924216\nChange-Id: I5635f1b430f0b2f6e8b4c4ef50ca0864a8dd6230\n'}, {'number': 9, 'created': '2021-09-13 03:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/96213b2767f360fe2bbd682a813f49f1b1be1a3a', 'message': 'Modify Placement Processing to Aspect definition\n\nThis patch will change the proccessing of Placement Constraints\nfrom VDU name to Aspect Definition. There is also an error in the\njudgment logic when setting Availavility_zone information from\nthe Zone information of GrantRes, so the judgment logic is also\nfixed.\n\nCloses-Bug: #1924216\nChange-Id: I5635f1b430f0b2f6e8b4c4ef50ca0864a8dd6230\n'}, {'number': 10, 'created': '2021-09-13 06:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/31729a9848b92f019d9c106a72bb10138c4671a7', 'message': 'Modify Placement Processing to Aspect definition\n\nThis patch will change the proccessing of Placement Constraints\nfrom VDU name to Aspect Definition. There is also an error in the\njudgment logic when setting Availavility_zone information from\nthe Zone information of GrantRes, so the judgment logic is also\nfixed.\n\nCloses-Bug: #1924216\nChange-Id: I5635f1b430f0b2f6e8b4c4ef50ca0864a8dd6230\n'}, {'number': 11, 'created': '2021-09-13 06:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/36dee0c40ab7a3cf4c33c16ec5ec6160704168a8', 'message': 'Modify Placement Processing to Aspect definition\n\nThis patch will change the proccessing of Placement Constraints\nfrom VDU name to Aspect Definition. There is also an error in the\njudgment logic when setting Availavility_zone information from\nthe Zone information of GrantRes, so the judgment logic is also\nfixed.\n\nCloses-Bug: #1924216\nChange-Id: I5635f1b430f0b2f6e8b4c4ef50ca0864a8dd6230\n'}, {'number': 12, 'created': '2021-09-13 10:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/bff225a554aa6a641c47a307775ff8c94841bae9', 'message': 'Modify Placement Processing to Aspect definition\n\nThis patch will change the proccessing of Placement Constraints\nfrom VDU name to Aspect Definition. There is also an error in the\njudgment logic when setting Availavility_zone information from\nthe Zone information of GrantRes, so the judgment logic is also\nfixed.\n\nCloses-Bug: #1924216\nChange-Id: I5635f1b430f0b2f6e8b4c4ef50ca0864a8dd6230\n'}, {'number': 13, 'created': '2021-09-13 11:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5d715bee070b1c3662882f30a7bc6ae045fb73f9', 'message': 'Modify Placement Processing to Aspect definition\n\nThis patch will change the proccessing of Placement Constraints\nfrom VDU name to Aspect Definition. There is also an error in the\njudgment logic when setting Availavility_zone information from\nthe Zone information of GrantRes, so the judgment logic is also\nfixed.\n\nCloses-Bug: #1924216\nChange-Id: I5635f1b430f0b2f6e8b4c4ef50ca0864a8dd6230\n'}, {'number': 14, 'created': '2021-09-15 07:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/68f042cf2cc44e4e81237a63143d8407c2711635', 'message': 'Modify Placement Processing to Aspect definition\n\nThis patch will change the proccessing of Placement Constraints\nfrom VDU name to Aspect Definition. There is also an error in the\njudgment logic when setting Availavility_zone information from\nthe Zone information of GrantRes, so the judgment logic is also\nfixed.\n\nCloses-Bug: #1924216\nChange-Id: I5635f1b430f0b2f6e8b4c4ef50ca0864a8dd6230\n'}, {'number': 15, 'created': '2021-09-15 07:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c24951de1b244675fa36b2cc46cda8f806f6e1f1', 'message': 'Modify Placement Processing to Aspect definition\n\nThis patch will change the proccessing of Placement Constraints\nfrom VDU name to Aspect Definition. There is also an error in the\njudgment logic when setting Availavility_zone information from\nthe Zone information of GrantRes, so the judgment logic is also\nfixed.\n\nCloses-Bug: #1924216\nChange-Id: I5635f1b430f0b2f6e8b4c4ef50ca0864a8dd6230\n'}, {'number': 16, 'created': '2021-09-15 11:28:17.000000000', 'files': ['tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/tests/etc/samples/etsi/nfv/functional6/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/nested_hot_data.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/helloworld3.yaml', 'tacker/vnfm/infra_drivers/openstack/openstack.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/c7d75a3c8a897d7f69f6bcb7c2c0dcd9a471c176', 'message': 'Modify Placement Processing to Aspect definition\n\nThis patch will change the proccessing of Placement Constraints\nfrom VDU name to Aspect Definition. There is also an error in the\njudgment logic when setting Availavility_zone information from\nthe Zone information of GrantRes, so the judgment logic is also\nfixed.\n\nCloses-Bug: #1924216\nChange-Id: I5635f1b430f0b2f6e8b4c4ef50ca0864a8dd6230\n'}]",86,787711,c7d75a3c8a897d7f69f6bcb7c2c0dcd9a471c176,83,11,16,32219,,,0,"Modify Placement Processing to Aspect definition

This patch will change the proccessing of Placement Constraints
from VDU name to Aspect Definition. There is also an error in the
judgment logic when setting Availavility_zone information from
the Zone information of GrantRes, so the judgment logic is also
fixed.

Closes-Bug: #1924216
Change-Id: I5635f1b430f0b2f6e8b4c4ef50ca0864a8dd6230
",git fetch https://review.opendev.org/openstack/tacker refs/changes/11/787711/16 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/tests/etc/samples/etsi/nfv/functional6/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/nested_hot_data.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/helloworld3.yaml', 'tacker/vnfm/infra_drivers/openstack/openstack.py']",5,a1f5acd290b23a7365ea332e59d6efef6b052059,bug/1924216," scale_group_dict = """" base_hot_dict, nested_hot_dict, hot_param_dict, scale_group_dict) base_hot_dict, nested_hot_dict, hot_param_dict, scale_group_dict=None): vdu_name = None bh, nh, hparam = self._setup_hot_for_zone( ins_inf, addrsc, bh, nh, hparam, scale_group_dict, vdu_name, zone) def _setup_hot_for_zone(self, ins_inf, addrsc, base_hot_dict, nested_hot_dict, hot_param_dict, scale_group_dict, vdu_name, zone): if zone.id == addrsc.zone_id: vdu_name = None for rsc in ins_inf: if addrsc.resource_definition_id == rsc.id: vdu_name = rsc.vdu_id if not vdu_name: continue if scale_group_dict: base_hot_dict, nested_hot_dict, vdu_none_flg = \ self._update_hot_available_scale( base_hot_dict, nested_hot_dict, scale_group_dict, vdu_name) if vdu_none_flg: base_hot_dict = self._update_hot_not_available_scale( base_hot_dict, vdu_name) else: base_hot_dict = self._update_hot_not_available_scale( base_hot_dict, vdu_name) h_vdu = hot_param_dict['nfv']['VDU'][vdu_name] if not h_vdu.get('zone') and zone.zone_id: (hot_param_dict['nfv']['VDU'] [vdu_name]['zone']) = zone.zone_id if h_vdu.get('zone') and not zone.zone_id: del hot_param_dict['nfv']['VDU'][vdu_name]['zone'] return base_hot_dict, nested_hot_dict, hot_param_dict @log.log def _update_hot_available_scale(self, base_hot_dict, nested_hot_dict, scale_group_dict, vdu_name): vdu_none_flg = True for aspect in scale_group_dict['scaleGroupDict']: aspect_id = aspect + ""_group"" # vdu_list check if vdu_name not in (scale_group_dict['scaleGroupDict'] [aspect]['vdu']): continue vdu_none_flg = False if base_hot_dict['resources'].get(aspect_id): # base_hot add vdu_prop = base_hot_dict['resources'][aspect_id]['properties'] if not vdu_prop.get('resource'): vdu_prop['resource'] = {'properties': {}} vdu_rsrc_prop = vdu_prop['resource']['properties'] if not vdu_rsrc_prop.get('zone'): vdu_rsrc_prop['zone'] = {'get_param': ['nfv', 'vdu', vdu_name, 'zone']} # nested_hot add yaml_name = vdu_prop['resource']['type'] if not nested_hot_dict[yaml_name]['parameters'].get('zone'): nested_hot_dict[yaml_name]['parameters']['zone'] = { 'type': 'string'} vdu_props = nested_hot_dict[yaml_name]['resources'][vdu_name][ 'properties'] if not (vdu_props.get('availability_zone')): vdu_props['availability_zone'] = { 'get_param': 'zone'} return base_hot_dict, nested_hot_dict, vdu_none_flg @log.log def _update_hot_not_available_scale(self, base_hot_dict, vdu_name): # base_hot add if base_hot_dict['resources'].get(vdu_name): vdu_prop = (base_hot_dict['resources'][vdu_name] ['properties']) if not vdu_prop.get('resource'): vdu_prop['resource'] = {'properties': {}} vdu_rsrc_prop = vdu_prop['resource']['properties'] if not vdu_rsrc_prop.get('zone'): vdu_rsrc_prop['zone'] = {'get_param': ['nfv', 'vdu', vdu_name, 'zone']} return base_hot_dict @log.log"," base_hot_dict, nested_hot_dict, hot_param_dict) base_hot_dict, nested_hot_dict, hot_param_dict): if zone.id == addrsc.zone_id: vdu_name = None for rsc in ins_inf: if addrsc.resource_definition_id == rsc.id: vdu_name = rsc.vdu_id break if not vdu_name: continue vdu_prop = bh['resources'][vdu_name]['properties'] if not vdu_prop.get('resource'): vdu_prop['resource'] = {'properties': {}} vdu_rsrc_prop = vdu_prop['resource']['properties'] if not vdu_rsrc_prop.get('zone'): vdu_rsrc_prop['zone'] = {'get_param': ['nfv', 'vdu', vdu_name, 'zone']} if nh: for yaml_name in nh: if not (vdu_name in yaml_name): continue if not nh[yaml_name]['parameters'].get('zone'): nh[yaml_name]['parameters']['zone'] = { 'type': 'string'} vdu_props = nh[yaml_name]['resources'][vdu_name][ 'properties'] if not (vdu_props.get('availability_zone')): vdu_props['availability_zone'] = { 'get_param': 'zone'} h_vdu = hparam['nfv']['VDU'][vdu_name] if not h_vdu.get('zone') and zone.zone_id: hparam['nfv']['VDU'][vdu_name]['zone'] = zone.zone_id if h_vdu.get('zone') and not zone.zone_id: del hparam['nfv']['VDU'][vdu_name]['zone']",608,126
openstack%2Ftacker~master~If1cd703bf06c76fa23c567e61434ef703c24daa0,openstack/tacker,master,If1cd703bf06c76fa23c567e61434ef703c24daa0,Add missing [oslo_reports] options,MERGED,2021-08-22 05:03:47.000000000,2021-09-16 03:09:44.000000000,2021-09-16 03:07:04.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-08-22 05:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f5782c8e7623618b686998c4df2289ad85fa6004', 'message': 'Add missing [oslo_reports] options\n\nThe oslo.reports library provides some options under the [oslo_reports]\nsection. This change ensures these parameters are rendered by\nthe oslo-config-generator command.\n\nChange-Id: If1cd703bf06c76fa23c567e61434ef703c24daa0\n'}, {'number': 2, 'created': '2021-08-31 14:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3b57815059a7f25754f88a5c9bb4840abe003b50', 'message': 'Add missing [oslo_reports] options\n\nThe oslo.reports library provides some options under the [oslo_reports]\nsection. This change ensures these parameters are rendered by\nthe oslo-config-generator command.\n\nChange-Id: If1cd703bf06c76fa23c567e61434ef703c24daa0\n'}, {'number': 3, 'created': '2021-09-06 08:01:34.000000000', 'files': ['etc/config-generator.conf'], 'web_link': 'https://opendev.org/openstack/tacker/commit/055defd702b0656363f71e4d01d0ecab87ee0532', 'message': 'Add missing [oslo_reports] options\n\nThe oslo.reports library provides some options under the [oslo_reports]\nsection. This change ensures these parameters are rendered by\nthe oslo-config-generator command.\n\nChange-Id: If1cd703bf06c76fa23c567e61434ef703c24daa0\n'}]",0,805497,055defd702b0656363f71e4d01d0ecab87ee0532,28,5,3,9816,,,0,"Add missing [oslo_reports] options

The oslo.reports library provides some options under the [oslo_reports]
section. This change ensures these parameters are rendered by
the oslo-config-generator command.

Change-Id: If1cd703bf06c76fa23c567e61434ef703c24daa0
",git fetch https://review.opendev.org/openstack/tacker refs/changes/97/805497/2 && git format-patch -1 --stdout FETCH_HEAD,['etc/config-generator.conf'],1,f5782c8e7623618b686998c4df2289ad85fa6004,missing-opts,namespace = oslo.reports,,1,0
openstack%2Ftacker~master~Ic6de82be9d1bed1c557c53216caabcbf9e944e3f,openstack/tacker,master,Ic6de82be9d1bed1c557c53216caabcbf9e944e3f,Add missing options about periodic tasks,MERGED,2021-08-22 05:02:10.000000000,2021-09-16 03:08:30.000000000,2021-09-16 03:07:02.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-08-22 05:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/74e827117a657fc307918daba36eeba0278038ee', 'message': 'Add missing options about periodic tasks\n\nThe oslo.service library provides a separate entrypoint to load options\nfor periodic tasks. Because Tacker imports periodic tasks mechanism\nfrom the library, the related options should be loaded as well.\n\nChange-Id: Ic6de82be9d1bed1c557c53216caabcbf9e944e3f\n'}, {'number': 2, 'created': '2021-08-31 14:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/bd6fd51a9f0b5260f42d4ac6422b35664c58ead7', 'message': 'Add missing options about periodic tasks\n\nThe oslo.service library provides a separate entrypoint to load options\nfor periodic tasks. Because Tacker imports periodic tasks mechanism\nfrom the library, the related options should be loaded as well.\n\nChange-Id: Ic6de82be9d1bed1c557c53216caabcbf9e944e3f\n'}, {'number': 3, 'created': '2021-09-06 05:41:38.000000000', 'files': ['etc/config-generator.conf'], 'web_link': 'https://opendev.org/openstack/tacker/commit/4cdd2fbc940764947d7d11c3b128baac248cc89e', 'message': 'Add missing options about periodic tasks\n\nThe oslo.service library provides a separate entrypoint to load options\nfor periodic tasks. Because Tacker imports periodic tasks mechanism\nfrom the library, the related options should be loaded as well.\n\nChange-Id: Ic6de82be9d1bed1c557c53216caabcbf9e944e3f\n'}]",0,805496,4cdd2fbc940764947d7d11c3b128baac248cc89e,19,5,3,9816,,,0,"Add missing options about periodic tasks

The oslo.service library provides a separate entrypoint to load options
for periodic tasks. Because Tacker imports periodic tasks mechanism
from the library, the related options should be loaded as well.

Change-Id: Ic6de82be9d1bed1c557c53216caabcbf9e944e3f
",git fetch https://review.opendev.org/openstack/tacker refs/changes/96/805496/2 && git format-patch -1 --stdout FETCH_HEAD,['etc/config-generator.conf'],1,74e827117a657fc307918daba36eeba0278038ee,missing-opts,namespace = oslo.service.periodic_tasks,,1,0
openstack%2Fstorlets~stable%2Fxena~I2d618dc5c87f22c714257bde9b87e6ccd6a5abe7,openstack/storlets,stable/xena,I2d618dc5c87f22c714257bde9b87e6ccd6a5abe7,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-15 17:39:07.000000000,2021-09-16 02:45:45.000000000,2021-09-16 02:41:32.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 17:39:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/storlets/commit/2bf85896f6bbd8d48535b250aefd0bd04ac3b941', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I2d618dc5c87f22c714257bde9b87e6ccd6a5abe7\n'}]",0,809262,2bf85896f6bbd8d48535b250aefd0bd04ac3b941,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I2d618dc5c87f22c714257bde9b87e6ccd6a5abe7
",git fetch https://review.opendev.org/openstack/storlets refs/changes/62/809262/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2bf85896f6bbd8d48535b250aefd0bd04ac3b941,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fstorlets~master~I4e2447a7f70ec761ef4d1767fba38bd32a1f26ce,openstack/storlets,master,I4e2447a7f70ec761ef4d1767fba38bd32a1f26ce,Add Python3 yoga unit tests,MERGED,2021-09-15 17:39:10.000000000,2021-09-16 02:45:42.000000000,2021-09-16 02:41:33.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 17:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/e9bcf687b666e4f47e1196657e376bb21324c62a', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I4e2447a7f70ec761ef4d1767fba38bd32a1f26ce\n'}, {'number': 2, 'created': '2021-09-15 23:19:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/storlets/commit/c371375eb2df81445e5320f0532442cb58f61bcc', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I4e2447a7f70ec761ef4d1767fba38bd32a1f26ce\n'}]",0,809264,c371375eb2df81445e5320f0532442cb58f61bcc,9,2,2,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I4e2447a7f70ec761ef4d1767fba38bd32a1f26ce
",git fetch https://review.opendev.org/openstack/storlets refs/changes/64/809264/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e9bcf687b666e4f47e1196657e376bb21324c62a,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Fstorlets~stable%2Fxena~Ica2e184db54a34f6ed394300f6148afa4feb42b5,openstack/storlets,stable/xena,Ica2e184db54a34f6ed394300f6148afa4feb42b5,Update .gitreview for stable/xena,MERGED,2021-09-15 17:39:06.000000000,2021-09-16 02:15:04.000000000,2021-09-16 02:13:48.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 17:39:06.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/storlets/commit/e6a86a04c81873978c18eb67519cc60e435a6134', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: Ica2e184db54a34f6ed394300f6148afa4feb42b5\n'}]",0,809261,e6a86a04c81873978c18eb67519cc60e435a6134,7,2,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: Ica2e184db54a34f6ed394300f6148afa4feb42b5
",git fetch https://review.opendev.org/openstack/storlets refs/changes/61/809261/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,e6a86a04c81873978c18eb67519cc60e435a6134,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~If8b15fd206a32dbd5b2edb1cd500f4e2151313d9,openstack/python-tripleoclient,stable/train,If8b15fd206a32dbd5b2edb1cd500f4e2151313d9,Remove name parameter from cell export,MERGED,2021-09-03 07:11:22.000000000,2021-09-16 02:06:00.000000000,2021-09-16 02:04:34.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-09-03 07:11:22.000000000', 'files': ['tripleoclient/v1/overcloud_cell.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/00a17eb9bd177a4a7b994bfdd2da1de9acbdb919', 'message': 'Remove name parameter from cell export\n\nInitially the idea was to have for each cell export information\nfor the additional cell to deploy. The name of the new cell\nis provided to the export command to create the export file\nname, if not specified via --output-file.\nSince the exported information is not in all cases specific to\nthe new cell and can be shared with multiple cells, it does\nnot make sense to have the new cell name as a required parameter.\nLets remove the name parameter is it is right now that the\nexport information file name is generic to be used for multiple\ncells.\n\nChange-Id: If8b15fd206a32dbd5b2edb1cd500f4e2151313d9\n(cherry picked from commit f10842848b03aa652a50d04ce4732356300736f4)\n(cherry picked from commit 035f9b6a29240cc9a6c17a5b4f09618199724f92)\n(cherry picked from commit 456dc483ff03452983fd2b4fcc0585d5ed701aca)\n(cherry picked from commit a769ed7af082a91bf50ac637358a20ee6968bd8d)\n'}]",0,807252,00a17eb9bd177a4a7b994bfdd2da1de9acbdb919,9,4,1,17216,,,0,"Remove name parameter from cell export

Initially the idea was to have for each cell export information
for the additional cell to deploy. The name of the new cell
is provided to the export command to create the export file
name, if not specified via --output-file.
Since the exported information is not in all cases specific to
the new cell and can be shared with multiple cells, it does
not make sense to have the new cell name as a required parameter.
Lets remove the name parameter is it is right now that the
export information file name is generic to be used for multiple
cells.

Change-Id: If8b15fd206a32dbd5b2edb1cd500f4e2151313d9
(cherry picked from commit f10842848b03aa652a50d04ce4732356300736f4)
(cherry picked from commit 035f9b6a29240cc9a6c17a5b4f09618199724f92)
(cherry picked from commit 456dc483ff03452983fd2b4fcc0585d5ed701aca)
(cherry picked from commit a769ed7af082a91bf50ac637358a20ee6968bd8d)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/52/807252/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_cell.py'],1,00a17eb9bd177a4a7b994bfdd2da1de9acbdb919,remove_cell_name_param-stable/wallaby-stable/victoria-stable/ussuri-stable/train," cell_name = control_plane_stack if cell_stack: cell_name = cell_stack '%s-cell-export.yaml' % cell_name print(""Cell information exported to %s."" % output_file) - the exported cell information file {output_file}"," parser.add_argument('name', metavar='<cell name>', help=_('Name of the stack used for the additional ' 'cell.')) cell_name = parsed_args.name '%s-cell-input.yaml' % cell_name print(""Cell input information exported to %s."" % output_file) - the exported cell input information file {output_file}",6,7
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ie531ea68a3d8e98e40a58d9c5ee484eb134abb96,openstack/tripleo-heat-templates,stable/wallaby,Ie531ea68a3d8e98e40a58d9c5ee484eb134abb96,Configure api_base_uri to DesignateEndpoint URI,MERGED,2021-09-15 12:44:21.000000000,2021-09-16 02:04:36.000000000,2021-09-16 02:04:36.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-15 12:44:21.000000000', 'files': ['deployment/designate/designate-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c361ed43b12a6a27d9c264c1f87a4a0e8357c58e', 'message': ""Configure api_base_uri to DesignateEndpoint URI\n\nConfigure api_base_uri to DesignateEndpoint URI because default\n127.0.0.1:9001 is returned instead of a valid endpoint URI.   This\nbehavior breaks openstacksdk starting with 0.31.2 but wasn't seen\nwith previous version.\n\nChange-Id: Ie531ea68a3d8e98e40a58d9c5ee484eb134abb96\n(cherry picked from commit 33d9d19a498e3d4e75204f892a065a559787bfed)\n""}]",0,809141,c361ed43b12a6a27d9c264c1f87a4a0e8357c58e,7,3,1,7130,,,0,"Configure api_base_uri to DesignateEndpoint URI

Configure api_base_uri to DesignateEndpoint URI because default
127.0.0.1:9001 is returned instead of a valid endpoint URI.   This
behavior breaks openstacksdk starting with 0.31.2 but wasn't seen
with previous version.

Change-Id: Ie531ea68a3d8e98e40a58d9c5ee484eb134abb96
(cherry picked from commit 33d9d19a498e3d4e75204f892a065a559787bfed)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/809141/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/designate/designate-api-container-puppet.yaml'],1,c361ed43b12a6a27d9c264c1f87a4a0e8357c58e,designate_base_uri-stable/wallaby," designate::api::api_base_uri: { get_param: [EndpointMap, DesignatePublic, uri_no_suffix] }",,1,0
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I7ff51d22eda5b2ee91001a4b4d8ab9387416dc23,openstack/puppet-tripleo,stable/wallaby,I7ff51d22eda5b2ee91001a4b4d8ab9387416dc23,[c9] wrappers should start containers with host's cgroupns,MERGED,2021-09-15 15:18:10.000000000,2021-09-16 01:41:08.000000000,2021-09-16 01:41:08.000000000,"[{'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-15 15:18:10.000000000', 'files': ['templates/neutron/dnsmasq.epp', 'templates/neutron/keepalived.epp', 'templates/neutron/dibbler-client.epp', 'templates/neutron/haproxy.epp', 'templates/neutron/radvd.epp', 'templates/nova/virtlogd.epp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b67596f1b58ed6bd07ba36739ad2e223b4434a16', 'message': ""[c9] wrappers should start containers with host's cgroupns\n\nBased on related bz, wrapper container should start containers with\ncgroupns set to host in Centos 9\n\nRelated-Bug: #1936005\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1985377\nChange-Id: I7ff51d22eda5b2ee91001a4b4d8ab9387416dc23\n(cherry picked from commit 4b0410a356edfc0ecfff50f216025ebf8f69a9ca)\n""}]",0,809210,b67596f1b58ed6bd07ba36739ad2e223b4434a16,9,5,1,27419,,,0,"[c9] wrappers should start containers with host's cgroupns

Based on related bz, wrapper container should start containers with
cgroupns set to host in Centos 9

Related-Bug: #1936005
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1985377
Change-Id: I7ff51d22eda5b2ee91001a4b4d8ab9387416dc23
(cherry picked from commit 4b0410a356edfc0ecfff50f216025ebf8f69a9ca)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/10/809210/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/neutron/dnsmasq.epp', 'templates/neutron/keepalived.epp', 'templates/neutron/dibbler-client.epp', 'templates/neutron/haproxy.epp', 'templates/neutron/radvd.epp', 'templates/nova/virtlogd.epp']",6,b67596f1b58ed6bd07ba36739ad2e223b4434a16,centos9/cgroups-stable/wallaby, --cgroupns host \,,6,0
openstack%2Fneutron~stable%2Fvictoria~I9f753be0ce5ae7870afb9b3cb74f89be8482356e,openstack/neutron,stable/victoria,I9f753be0ce5ae7870afb9b3cb74f89be8482356e,Ensure net dict has provider info on precommit delete,MERGED,2021-09-08 11:37:48.000000000,2021-09-16 01:28:45.000000000,2021-09-15 21:31:55.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-08 11:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c55eeab22503fc4bdb01a9d6bddc7fc6ea017c2', 'message': 'Ensure net dict has provider info on precommit delete\n\nCommit 80eddc40390e63c9c1102b827997054708f2618b optimized\nnet delete by including net info into notification payload,\nhowever ML2 plugin needs provider info as well.\n\nCloses-Bug: #1942469\nChange-Id: I9f753be0ce5ae7870afb9b3cb74f89be8482356e\n(cherry picked from commit 27edf6b6d311d7d334090c89c4cee54d63162a55)\n'}, {'number': 2, 'created': '2021-09-08 14:26:04.000000000', 'files': ['neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/33d489cb78f3c8255a8cd19580e4fe17351a61d0', 'message': 'Ensure net dict has provider info on precommit delete\n\nCommit 80eddc40390e63c9c1102b827997054708f2618b optimized\nnet delete by including net info into notification payload,\nhowever ML2 plugin needs provider info as well.\n\nConflicts:\n    neutron/plugins/ml2/plugin.py\n\nCloses-Bug: #1942469\nChange-Id: I9f753be0ce5ae7870afb9b3cb74f89be8482356e\n(cherry picked from commit 27edf6b6d311d7d334090c89c4cee54d63162a55)\n'}]",0,807764,33d489cb78f3c8255a8cd19580e4fe17351a61d0,22,4,2,5948,,,0,"Ensure net dict has provider info on precommit delete

Commit 80eddc40390e63c9c1102b827997054708f2618b optimized
net delete by including net info into notification payload,
however ML2 plugin needs provider info as well.

Conflicts:
    neutron/plugins/ml2/plugin.py

Closes-Bug: #1942469
Change-Id: I9f753be0ce5ae7870afb9b3cb74f89be8482356e
(cherry picked from commit 27edf6b6d311d7d334090c89c4cee54d63162a55)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/807764/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,4c55eeab22503fc4bdb01a9d6bddc7fc6ea017c2,bug/1942469-stable/victoria," if 'network' in kwargs: network = kwargs['network'] self.type_manager.extend_network_dict_provider(context, network) else: network = self.get_network(context, network_id) "," network = (kwargs.get('network') or self.get_network(context, network_id))",6,2
openstack%2Fneutron~stable%2Fussuri~Ibd0aea5b4e6bf44803d5d0100cacc17d401b03cc,openstack/neutron,stable/ussuri,Ibd0aea5b4e6bf44803d5d0100cacc17d401b03cc,Skip FIP check if VALIDATE_MIGRATION is not True,MERGED,2021-09-07 14:38:35.000000000,2021-09-16 01:14:37.000000000,2021-09-16 01:12:38.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 29350}]","[{'number': 1, 'created': '2021-09-07 14:38:35.000000000', 'files': ['tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ebe727ae32aac87b4a54f0d2ed09d0429cb06fb', 'message': 'Skip FIP check if VALIDATE_MIGRATION is not True\n\nOVN migration script fails when VALIDATE_MIGRATION is not set to\nTrue. oc_check_public_network should return successfully in case\nVALIDATE_MIGRATION is set to False.\n\nCloses bug: #1942344\n\nChange-Id: Ibd0aea5b4e6bf44803d5d0100cacc17d401b03cc\n(cherry picked from commit 3c305bf6ae37bd26cda8545bb1a76302dc830dee)\n'}]",0,807737,3ebe727ae32aac87b4a54f0d2ed09d0429cb06fb,19,4,1,6773,,,0,"Skip FIP check if VALIDATE_MIGRATION is not True

OVN migration script fails when VALIDATE_MIGRATION is not set to
True. oc_check_public_network should return successfully in case
VALIDATE_MIGRATION is set to False.

Closes bug: #1942344

Change-Id: Ibd0aea5b4e6bf44803d5d0100cacc17d401b03cc
(cherry picked from commit 3c305bf6ae37bd26cda8545bb1a76302dc830dee)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/807737/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/ovn_migration.sh'],1,3ebe727ae32aac87b4a54f0d2ed09d0429cb06fb,," [ ""$VALIDATE_MIGRATION"" != ""True"" ] && return 0",,1,0
openstack%2Fnova~stable%2Fvictoria~I95f68be76330ff09e5eabb5ef8dd9a18f5547866,openstack/nova,stable/victoria,I95f68be76330ff09e5eabb5ef8dd9a18f5547866,address open redirect with 3 forward slashes,MERGED,2021-08-30 17:38:01.000000000,2021-09-16 00:22:41.000000000,2021-09-16 00:20:58.000000000,"[{'_account_id': 4690}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-30 17:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d369c1febf5e4c4a26a037f5eedecf1651bfa78', 'message': 'address open redirect with 3 forward slashes\n\nIe36401c782f023d1d5f2623732619105dc2cfa24 was intended\nto address OSSA-2021-002 (CVE-2021-3654) however after its\nrelease it was discovered that the fix only worked\nfor urls with 2 leading slashes or more then 4.\n\nThis change adresses the missing edgecase for 3 leading slashes\nand also maintian support for rejecting 2+.\n\nChange-Id: I95f68be76330ff09e5eabb5ef8dd9a18f5547866\nco-authored-by: Matteo Pozza\nCloses-Bug: #1927677\n(cherry picked from commit 6fbd0b758dcac71323f3be179b1a9d1c17a4acc5)\n(cherry picked from commit 47dad4836a26292e9d34e516e1525ecf00be127c)\n'}, {'number': 2, 'created': '2021-09-08 19:03:35.000000000', 'files': ['nova/console/websocketproxy.py', 'nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9588cdbfd4649ea53d60303f2d10c5d62a070a07', 'message': 'address open redirect with 3 forward slashes\n\nIe36401c782f023d1d5f2623732619105dc2cfa24 was intended\nto address OSSA-2021-002 (CVE-2021-3654) however after its\nrelease it was discovered that the fix only worked\nfor urls with 2 leading slashes or more then 4.\n\nThis change adresses the missing edgecase for 3 leading slashes\nand also maintian support for rejecting 2+.\n\nConflicts:\n  nova/tests/unit/console/test_websocketproxy.py\n\nNOTE: conflict is due to I58b0382c86d4ef798572edb63d311e0e3e6937bb\nis missing in Victoria and Ie36401c782f023d1d5f2623732619105dc2cfa24\nbackport contained conflicts and methods order was swapped.\n\nChange-Id: I95f68be76330ff09e5eabb5ef8dd9a18f5547866\nco-authored-by: Matteo Pozza\nCloses-Bug: #1927677\n(cherry picked from commit 6fbd0b758dcac71323f3be179b1a9d1c17a4acc5)\n(cherry picked from commit 47dad4836a26292e9d34e516e1525ecf00be127c)\n'}]",3,806626,9588cdbfd4649ea53d60303f2d10c5d62a070a07,46,4,2,11604,,,0,"address open redirect with 3 forward slashes

Ie36401c782f023d1d5f2623732619105dc2cfa24 was intended
to address OSSA-2021-002 (CVE-2021-3654) however after its
release it was discovered that the fix only worked
for urls with 2 leading slashes or more then 4.

This change adresses the missing edgecase for 3 leading slashes
and also maintian support for rejecting 2+.

Conflicts:
  nova/tests/unit/console/test_websocketproxy.py

NOTE: conflict is due to I58b0382c86d4ef798572edb63d311e0e3e6937bb
is missing in Victoria and Ie36401c782f023d1d5f2623732619105dc2cfa24
backport contained conflicts and methods order was swapped.

Change-Id: I95f68be76330ff09e5eabb5ef8dd9a18f5547866
co-authored-by: Matteo Pozza
Closes-Bug: #1927677
(cherry picked from commit 6fbd0b758dcac71323f3be179b1a9d1c17a4acc5)
(cherry picked from commit 47dad4836a26292e9d34e516e1525ecf00be127c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/806626/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/console/websocketproxy.py', 'nova/tests/unit/console/test_websocketproxy.py']",2,3d369c1febf5e4c4a26a037f5eedecf1651bfa78,bug/1927677," def test_reject_open_redirect_3_slashes(self): # This will test the behavior when an attempt is made to cause an open # redirect. It should be rejected. mock_req = mock.MagicMock() mock_req.makefile().readline.side_effect = [ b'GET ///example.com/%2F.. HTTP/1.1\r\n', b'' ] # Collect the response data to verify at the end. The # SimpleHTTPRequestHandler writes the response data by calling the # request socket sendall() method. self.data = b'' def fake_sendall(data): self.data += data mock_req.sendall.side_effect = fake_sendall client_addr = ('8.8.8.8', 54321) mock_server = mock.MagicMock() # This specifies that the server will be able to handle requests other # than only websockets. mock_server.only_upgrade = False # Constructing a handler will process the mock_req request passed in. websocketproxy.NovaProxyRequestHandler( mock_req, client_addr, mock_server) # Verify no redirect happens and instead a 400 Bad Request is returned. self.data = self.data.decode() self.assertIn('Error code: 400', self.data) self.assertIn('Message: URI must not start with //', self.data) ",,35,6
openstack%2Fheat~stable%2Fvictoria~I6a2b5afa13480791971bbd8bba1f43b9f2db8294,openstack/heat,stable/victoria,I6a2b5afa13480791971bbd8bba1f43b9f2db8294,Use Block Storage API v3 instead of API v2,ABANDONED,2021-08-25 22:34:10.000000000,2021-09-16 00:12:12.000000000,,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-25 22:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ff3658e47e81e10f50580c45e578cc6dc3488bc4', 'message': 'Use Block Storage API v3 instead of API v2\n\nBlock Storage API v2 was deprecated during Pike cycle and is being\nremoved during Xena cycle, and current v3 API should be used instead.\nUnused volume_client and network_client in integration test code are\nalso removed by this change.\n\nNote:\ngranade tests is made non-voting temporally until the same issue is\nfixed in stable/victoria.\n\nDepends-on: https://review.opendev.org/802150/\nChange-Id: I6a2b5afa13480791971bbd8bba1f43b9f2db8294\n(cherry picked from commit 1828df32fa946d49d8449ff1d8a26c05b3990a65)\n(cherry picked from commit 8fbd4476c00565c38ff341e639cee5cbdf83f0f9)\n'}, {'number': 2, 'created': '2021-08-25 23:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0c9a38514bdbadfb46850b76ddeb0ae2471eb82a', 'message': 'Use Block Storage API v3 instead of API v2\n\nBlock Storage API v2 was deprecated during Pike cycle and is being\nremoved during Xena cycle, and current v3 API should be used instead.\nUnused volume_client and network_client in integration test code are\nalso removed by this change.\n\nNote:\ngranade tests is made non-voting temporally until the same issue is\nfixed in stable/victoria.\n\nDepends-on: https://review.opendev.org/802150/\nChange-Id: I6a2b5afa13480791971bbd8bba1f43b9f2db8294\n(cherry picked from commit 1828df32fa946d49d8449ff1d8a26c05b3990a65)\n(cherry picked from commit 8fbd4476c00565c38ff341e639cee5cbdf83f0f9)\n'}, {'number': 3, 'created': '2021-08-25 23:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/924246e22f83b19fc0a1379d5fb9878aa30dddc0', 'message': 'Use Block Storage API v3 instead of API v2\n\nBlock Storage API v2 was deprecated during Pike cycle and is being\nremoved during Xena cycle, and current v3 API should be used instead.\nUnused volume_client and network_client in integration test code are\nalso removed by this change.\n\nNote:\ngranade tests is made non-voting temporally until the same issue is\nfixed in stable/victoria.\n\nMove test image to Fedora 33 as well.\n\nDepends-on: https://review.opendev.org/802150/\nChange-Id: I6a2b5afa13480791971bbd8bba1f43b9f2db8294\n(cherry picked from commit 1828df32fa946d49d8449ff1d8a26c05b3990a65)\n(cherry picked from commit 8fbd4476c00565c38ff341e639cee5cbdf83f0f9)\n'}, {'number': 4, 'created': '2021-08-26 03:29:45.000000000', 'files': ['doc/source/getting_started/on_devstack.rst', 'heat/tests/openstack/cinder/test_volume.py', 'heat_integrationtests/common/test.py', '.zuul.yaml', 'heat/tests/openstack/cinder/test_volume_type.py', 'heat/tests/openstack/cinder/test_volume_utils.py', 'devstack/lib/heat', 'heat_integrationtests/common/clients.py', 'heat_integrationtests/cleanup_test_env.sh', 'heat/tests/clients/test_cinder_client.py', 'heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/eae71ca08b8410f989ac34d4c32554cbd3a3cd91', 'message': 'Use Block Storage API v3 instead of API v2\n\nBlock Storage API v2 was deprecated during Pike cycle and is being\nremoved during Xena cycle, and current v3 API should be used instead.\nUnused volume_client and network_client in integration test code are\nalso removed by this change.\n\nNote:\ngranade tests is made non-voting temporally until the same issue is\nfixed in stable/victoria.\n\nMove test image to Fedora 33 as well.\n\nDepends-on: https://review.opendev.org/802150/\nChange-Id: I6a2b5afa13480791971bbd8bba1f43b9f2db8294\n(cherry picked from commit 1828df32fa946d49d8449ff1d8a26c05b3990a65)\n(cherry picked from commit 8fbd4476c00565c38ff341e639cee5cbdf83f0f9)\n'}]",1,806075,eae71ca08b8410f989ac34d4c32554cbd3a3cd91,12,3,4,30073,,,0,"Use Block Storage API v3 instead of API v2

Block Storage API v2 was deprecated during Pike cycle and is being
removed during Xena cycle, and current v3 API should be used instead.
Unused volume_client and network_client in integration test code are
also removed by this change.

Note:
granade tests is made non-voting temporally until the same issue is
fixed in stable/victoria.

Move test image to Fedora 33 as well.

Depends-on: https://review.opendev.org/802150/
Change-Id: I6a2b5afa13480791971bbd8bba1f43b9f2db8294
(cherry picked from commit 1828df32fa946d49d8449ff1d8a26c05b3990a65)
(cherry picked from commit 8fbd4476c00565c38ff341e639cee5cbdf83f0f9)
",git fetch https://review.opendev.org/openstack/heat refs/changes/75/806075/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/cinder/test_volume.py', 'heat_integrationtests/common/test.py', '.zuul.yaml', 'heat/tests/openstack/cinder/test_volume_type.py', 'heat/tests/openstack/cinder/test_volume_utils.py', 'heat_integrationtests/common/clients.py', 'heat/tests/clients/test_cinder_client.py']",7,ff3658e47e81e10f50580c45e578cc6dc3488bc4,volumev2-removal-stable/wallaby-stable/victoria,," def test_cinder_api_v2(self): ctx = utils.dummy_context() self.patchobject(ctx.keystone_session, 'get_endpoint', side_effect=[ks_exceptions.EndpointNotFound, None]) client = ctx.clients.client('cinder') self.assertEqual('2.0', client.version) ",16,44
openstack%2Fstorlets~master~I02f6fe9366a665189ffe3ab1b56e0b0980aaabc5,openstack/storlets,master,I02f6fe9366a665189ffe3ab1b56e0b0980aaabc5,Update master for stable/xena,MERGED,2021-09-15 17:39:08.000000000,2021-09-15 23:51:03.000000000,2021-09-15 23:49:32.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 17:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/a64395fac9c3f69cf199f38c9ce8a2b8192f11c8', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: I02f6fe9366a665189ffe3ab1b56e0b0980aaabc5\n'}, {'number': 2, 'created': '2021-09-15 23:18:56.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/storlets/commit/a54e69f7f77f739fb2e571f66a95184787f5bbf2', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: I02f6fe9366a665189ffe3ab1b56e0b0980aaabc5\n'}]",0,809263,a54e69f7f77f739fb2e571f66a95184787f5bbf2,9,2,2,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: I02f6fe9366a665189ffe3ab1b56e0b0980aaabc5
",git fetch https://review.opendev.org/openstack/storlets refs/changes/63/809263/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/xena.rst'],1,a64395fac9c3f69cf199f38c9ce8a2b8192f11c8,reno-xena,========================= Xena Series Release Notes ========================= .. release-notes:: :branch: stable/xena ,,6,0
openstack%2Fdiskimage-builder~master~Id17cee15a6f80b8388087f5167a398a363758f68,openstack/diskimage-builder,master,Id17cee15a6f80b8388087f5167a398a363758f68,Allowing use local image,ABANDONED,2021-09-15 23:43:39.000000000,2021-09-15 23:44:43.000000000,,[],"[{'number': 1, 'created': '2021-09-15 23:43:39.000000000', 'files': ['diskimage_builder/elements/ubuntu/root.d/10-cache-ubuntu-tarball', 'diskimage_builder/elements/ubuntu/README.rst', 'diskimage_builder/elements/ubuntu/environment.d/99-cloud-init-datasources.bash'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/feedba3f234e30791ac9571cb60b9cdbf823c75a', 'message': 'Allowing use local image\n\nPatch allow to set path for local image source,\ninstead download latest or use the cached image file.\nThis permit to build image also in environment without internet access.\n\nAdded quotation mark on string to string comparision for DIB_RELEASE variable\n\nRenamed DIB_IMAGE_LOCAL_FILE in DIB_LOCAL_IMAGE to follow the standard of other distros elements\nChange-Id: I9422e21c5d0445e31d5a7258aa7310b20e39b929\n\nChange-Id: Id17cee15a6f80b8388087f5167a398a363758f68\n'}]",0,809301,feedba3f234e30791ac9571cb60b9cdbf823c75a,2,0,1,33576,,,0,"Allowing use local image

Patch allow to set path for local image source,
instead download latest or use the cached image file.
This permit to build image also in environment without internet access.

Added quotation mark on string to string comparision for DIB_RELEASE variable

Renamed DIB_IMAGE_LOCAL_FILE in DIB_LOCAL_IMAGE to follow the standard of other distros elements
Change-Id: I9422e21c5d0445e31d5a7258aa7310b20e39b929

Change-Id: Id17cee15a6f80b8388087f5167a398a363758f68
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/01/809301/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/ubuntu/root.d/10-cache-ubuntu-tarball', 'diskimage_builder/elements/ubuntu/README.rst', 'diskimage_builder/elements/ubuntu/environment.d/99-cloud-init-datasources.bash']",3,feedba3f234e30791ac9571cb60b9cdbf823c75a,offline-ubuntu-tarball,export DIB_IMAGE_LOCAL_FILE=${DIB_IMAGE_LOCAL_FILE:-},,43,23
openstack%2Fzun-ui~master~Id6871b692490abc6e4d66d02e95f6e65eb41cd7f,openstack/zun-ui,master,Id6871b692490abc6e4d66d02e95f6e65eb41cd7f,Add Python3 yoga unit tests,MERGED,2021-09-15 02:11:14.000000000,2021-09-15 23:32:34.000000000,2021-09-15 23:28:21.000000000,"[{'_account_id': 11536}, {'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:11:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/267cf063332a338f97c490a9def76946c88dd194', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Id6871b692490abc6e4d66d02e95f6e65eb41cd7f\n'}]",0,809076,267cf063332a338f97c490a9def76946c88dd194,9,3,1,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Id6871b692490abc6e4d66d02e95f6e65eb41cd7f
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/76/809076/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,267cf063332a338f97c490a9def76946c88dd194,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs-horizon, - openstack-python3-xena-jobs-horizon,1,1
openstack%2Fneutron~master~Ide7e9771d08eb623dd75941e425813d9b857b4c6,openstack/neutron,master,Ide7e9771d08eb623dd75941e425813d9b857b4c6,"Revert ""[L3][HA] Retry when setting HA router GW status.""",MERGED,2021-08-20 11:28:22.000000000,2021-09-15 23:12:53.000000000,2021-09-15 09:49:32.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11805}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 11:28:22.000000000', 'files': ['neutron/agent/linux/interface.py', 'neutron/agent/l3/ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/344fc0c8d2ce7d942606c834a54cb81f0b47aa37', 'message': 'Revert ""[L3][HA] Retry when setting HA router GW status.""\n\nIn short this patch can cause the privsep reader thread to\ndie resulting in the l3 agent getting stuck and e.g. not\nprocessing any router updates. See related LP bug for full\nexplanation.\n\nCloses-Bug: #1927868\n\nThis reverts commit 662f483120972a373e19bde52f16392e2ccb9c82.\n\nChange-Id: Ide7e9771d08eb623dd75941e425813d9b857b4c6\n'}]",0,805366,344fc0c8d2ce7d942606c834a54cb81f0b47aa37,54,8,1,6737,,,0,"Revert ""[L3][HA] Retry when setting HA router GW status.""

In short this patch can cause the privsep reader thread to
die resulting in the l3 agent getting stuck and e.g. not
processing any router updates. See related LP bug for full
explanation.

Closes-Bug: #1927868

This reverts commit 662f483120972a373e19bde52f16392e2ccb9c82.

Change-Id: Ide7e9771d08eb623dd75941e425813d9b857b4c6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/805366/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/agent/linux/interface.py']",2,344fc0c8d2ce7d942606c834a54cb81f0b47aa37,bug/1927868," if not ns_dev.exists(): LOG.debug(""Device %s may concurrently be deleted."", device_name) return"," try: utils.wait_until_true(ns_dev.exists, timeout=3) except utils.WaitTimeout: LOG.debug('Device %s may have been deleted concurrently', device_name) return False return True ",5,14
openstack%2Fcinder~master~Idb1492012487625772528d957ff65e2070e7248d,openstack/cinder,master,Idb1492012487625772528d957ff65e2070e7248d,db: Remove 'db' argument from various managers,MERGED,2021-07-13 17:32:17.000000000,2021-09-15 22:55:24.000000000,2021-09-15 22:53:02.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-13 17:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/03298b8733cebfabfea1fb3cef8e3731ee71952f', 'message': ""db: Remove 'db' argument from various managers\n\nThis is no longer used for anything.\n\nChange-Id: Idb1492012487625772528d957ff65e2070e7248d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-14 10:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f657bbf17910494e4bce8e31f01eb7bdd984e62', 'message': ""db: Remove 'db' argument from various managers\n\nThis is no longer used for anything.\n\nChange-Id: Idb1492012487625772528d957ff65e2070e7248d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-16 17:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d18d33dc8627623113d2f81b39d23542c624b86b', 'message': ""db: Remove 'db' argument from various managers\n\nThis is no longer used for anything.\n\nChange-Id: Idb1492012487625772528d957ff65e2070e7248d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-19 16:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9344ad95f79fe87c1c3ced9fd2339c61ac722ad3', 'message': ""db: Remove 'db' argument from various managers\n\nThis is no longer used for anything.\n\nChange-Id: Idb1492012487625772528d957ff65e2070e7248d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-08-27 14:13:38.000000000', 'files': ['cinder/tests/unit/volume/drivers/vmware/test_vmware_vmdk.py', 'cinder/volume/manager.py', 'cinder/backup/api.py', 'cinder/backup/manager.py', 'cinder/volume/targets/driver.py', 'cinder/volume/drivers/linstordrv.py', 'cinder/backup/drivers/s3.py', 'cinder/tests/unit/test_volume_utils.py', 'cinder/backup/drivers/glusterfs.py', 'cinder/compute/nova.py', 'cinder/backup/drivers/ceph.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_fc.py', 'cinder/volume/drivers/lvm.py', 'cinder/tests/unit/backup/fake_service.py', 'cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_lvm_driver.py', 'cinder/backup/driver.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_iscsi.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/volume/driver.py', 'cinder/volume/volume_utils.py', 'cinder/backup/drivers/swift.py', 'cinder/backup/drivers/gcs.py', 'cinder/volume/drivers/spdk.py', 'cinder/tests/unit/volume/drivers/test_quobyte.py', 'cinder/backup/drivers/nfs.py', 'cinder/backup/drivers/posix.py', 'cinder/volume/drivers/remotefs.py', 'cinder/backup/chunkeddriver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b246564ac3b6d6d85a7639e82b6c940527573b2', 'message': ""db: Remove 'db' argument from various managers\n\nThis is no longer used for anything.\n\nChange-Id: Idb1492012487625772528d957ff65e2070e7248d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,800696,4b246564ac3b6d6d85a7639e82b6c940527573b2,121,3,5,15334,,,0,"db: Remove 'db' argument from various managers

This is no longer used for anything.

Change-Id: Idb1492012487625772528d957ff65e2070e7248d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/800696/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/vmware/test_vmware_vmdk.py', 'cinder/volume/manager.py', 'cinder/backup/api.py', 'cinder/backup/manager.py', 'cinder/volume/targets/driver.py', 'cinder/volume/drivers/linstordrv.py', 'cinder/opts.py', 'cinder/backup/drivers/s3.py', 'cinder/tests/unit/test_volume_utils.py', 'cinder/backup/drivers/glusterfs.py', 'cinder/compute/nova.py', 'cinder/backup/drivers/ceph.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_fc.py', 'cinder/volume/drivers/lvm.py', 'cinder/tests/unit/backup/fake_service.py', 'cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_lvm_driver.py', 'cinder/backup/driver.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_iscsi.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_replication.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/volume/driver.py', 'cinder/volume/volume_utils.py', 'cinder/backup/drivers/swift.py', 'cinder/backup/drivers/gcs.py', 'cinder/volume/drivers/spdk.py', 'cinder/tests/unit/volume/drivers/test_quobyte.py', 'cinder/backup/drivers/nfs.py', 'cinder/backup/drivers/posix.py', 'cinder/volume/drivers/remotefs.py', 'cinder/backup/chunkeddriver.py']",31,03298b8733cebfabfea1fb3cef8e3731ee71952f,bp/remove-sqlalchemy-migrate," def __init__( self, context, chunk_size_bytes, sha_block_size_bytes, backup_default_container, enable_progress_timer, ): super(ChunkedBackupDriver, self).__init__(context)"," def __init__(self, context, chunk_size_bytes, sha_block_size_bytes, backup_default_container, enable_progress_timer, db=None): super(ChunkedBackupDriver, self).__init__(context, db)",95,115
openstack%2Fcinder~stable%2Fvictoria~Ia2337bd69821497f42d4f99d09df87780394d4d5,openstack/cinder,stable/victoria,Ia2337bd69821497f42d4f99d09df87780394d4d5,LVM: Use --readonly for lvdisplay in lv_has_snapshot,MERGED,2021-08-25 14:56:20.000000000,2021-09-15 22:44:29.000000000,2021-09-15 17:18:21.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-08-25 14:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7745f1d801198f8f27ed4e6c27adbea56e6d0dfb', 'message': 'LVM: Use --readonly for lvdisplay in lv_has_snapshot\n\nFollow-on to Ib2a6dac8d074decf, we only need readonly\nmode for lvdisplay.\n\nChange-Id: Ia2337bd69821497f42d4f99d09df87780394d4d5\n(cherry picked from commit 02f609c714ac1d7f87a2277eaa11fd7be2f57995)\n'}, {'number': 2, 'created': '2021-09-15 07:50:44.000000000', 'files': ['cinder/brick/local_dev/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/769ceb88adf82000b12110ea9eb4c06ca6231941', 'message': 'LVM: Use --readonly for lvdisplay in lv_has_snapshot\n\nFollow-on to Ib2a6dac8d074decf, we only need readonly\nmode for lvdisplay.\n\nChange-Id: Ia2337bd69821497f42d4f99d09df87780394d4d5\n(cherry picked from commit 02f609c714ac1d7f87a2277eaa11fd7be2f57995)\n(cherry picked from commit a282bc8f7b2305a6772cf056a727a0f83c508e4e)\n'}]",1,806007,769ceb88adf82000b12110ea9eb4c06ca6231941,38,4,2,4523,,,0,"LVM: Use --readonly for lvdisplay in lv_has_snapshot

Follow-on to Ib2a6dac8d074decf, we only need readonly
mode for lvdisplay.

Change-Id: Ia2337bd69821497f42d4f99d09df87780394d4d5
(cherry picked from commit 02f609c714ac1d7f87a2277eaa11fd7be2f57995)
(cherry picked from commit a282bc8f7b2305a6772cf056a727a0f83c508e4e)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/806007/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/brick/local_dev/lvm.py'],1,7745f1d801198f8f27ed4e6c27adbea56e6d0dfb,," 'Attr', '--readonly', '%s/%s' % (self.vg_name, name)]"," 'Attr', '%s/%s' % (self.vg_name, name)]",2,1
openstack%2Fhorizon~master~If0a9d17c30de73a9870d0ebf3b3a82a14179c23d,openstack/horizon,master,If0a9d17c30de73a9870d0ebf3b3a82a14179c23d,Support Django 3.2 support (3),MERGED,2021-02-24 14:58:47.000000000,2021-09-15 22:18:18.000000000,2021-09-15 22:16:37.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-24 14:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/82071e8b608ea0d12918547053cba5ada1b65aff', 'message': 'Support Django 3.2 support (3)\n\nIn Django 3.2, assertQuerysetEqual started to compare querystes directly.\nAs the migration check it checks the first element of the compared items\nhave a same type. ""values()"" method of OrderedDict does not return an object\nwhich allows the index access in Python3, so this change breaks our UT.\nWe need to ensure to pass a list to assertQuerysetEqual.\nThe commit changes the related codes to ensure a list for such cases.\n\n[1] https://github.com/django/django/pull/13557/commits/3f7b3275627385f8f7531fca01cdda50d4ec6b6e\n\nChange-Id: If0a9d17c30de73a9870d0ebf3b3a82a14179c23d\n'}, {'number': 2, 'created': '2021-02-25 18:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/dee80f2cb684adcce161595f511a7122361e6056', 'message': 'Support Django 3.2 support (3)\n\nIn Django 3.2, assertQuerysetEqual started to compare querystes directly.\nAs the migration check it checks the first element of the compared items\nhave a same type. ""values()"" method of OrderedDict does not return an object\nwhich allows the index access in Python3, so this change breaks our UT.\nWe need to ensure to pass a list to assertQuerysetEqual.\nThe commit changes the related codes to ensure a list for such cases.\n\n[1] https://github.com/django/django/pull/13557/commits/3f7b3275627385f8f7531fca01cdda50d4ec6b6e\n\nChange-Id: If0a9d17c30de73a9870d0ebf3b3a82a14179c23d\n'}, {'number': 3, 'created': '2021-09-15 19:38:13.000000000', 'files': ['horizon/test/unit/test_base.py', 'horizon/tables/base.py', 'horizon/test/unit/tables/test_tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/7d894e44eb7c89e577e5988b855f39cf961e353f', 'message': 'Support Django 3.2 support (3)\n\nIn Django 3.2, assertQuerysetEqual started to compare querystes directly.\nAs the migration check it checks the first element of the compared items\nhave a same type. ""values()"" method of OrderedDict does not return an object\nwhich allows the index access in Python3, so this change breaks our UT.\nWe need to ensure to pass a list to assertQuerysetEqual.\nThe commit changes the related codes to ensure a list for such cases.\n\n[1] https://github.com/django/django/pull/13557/commits/3f7b3275627385f8f7531fca01cdda50d4ec6b6e\n\nChange-Id: If0a9d17c30de73a9870d0ebf3b3a82a14179c23d\n'}]",0,777399,7d894e44eb7c89e577e5988b855f39cf961e353f,12,3,3,841,,,0,"Support Django 3.2 support (3)

In Django 3.2, assertQuerysetEqual started to compare querystes directly.
As the migration check it checks the first element of the compared items
have a same type. ""values()"" method of OrderedDict does not return an object
which allows the index access in Python3, so this change breaks our UT.
We need to ensure to pass a list to assertQuerysetEqual.
The commit changes the related codes to ensure a list for such cases.

[1] https://github.com/django/django/pull/13557/commits/3f7b3275627385f8f7531fca01cdda50d4ec6b6e

Change-Id: If0a9d17c30de73a9870d0ebf3b3a82a14179c23d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/99/777399/3 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/test/unit/test_base.py', 'horizon/tables/base.py', 'horizon/test/unit/tables/test_tables.py']",3,82071e8b608ea0d12918547053cba5ada1b65aff,django3-support," self.assertQuerysetEqual(self.table.get_columns(), self.assertQuerysetEqual(list(self.table.base_actions.values()), self.assertQuerysetEqual(self.table.get_columns(), expected_columns) self.assertQuerysetEqual(self.table.get_columns(), expected_columns) self.assertQuerysetEqual(self.table.get_columns(), self.assertQuerysetEqual(self.table.get_columns(), self.assertQuerysetEqual(self.table.get_columns(), self.assertQuerysetEqual(self.table.get_columns(), self.assertQuerysetEqual(self.table.get_columns(),"," self.assertQuerysetEqual(self.table.columns.values(), self.assertQuerysetEqual(self.table.base_actions.values(), self.assertQuerysetEqual(self.table.columns.values(), expected_columns) self.assertQuerysetEqual(self.table.columns.values(), expected_columns) self.assertQuerysetEqual(self.table.columns.values(), self.assertQuerysetEqual(self.table.columns.values(), self.assertQuerysetEqual(self.table.columns.values(), self.assertQuerysetEqual(self.table.columns.values(), self.assertQuerysetEqual(self.table.columns.values(),",12,12
openstack%2Fcinder~master~Ica3b2e8fcb079beca652e81d2230bcca82fb49d7,openstack/cinder,master,Ica3b2e8fcb079beca652e81d2230bcca82fb49d7,db: Remove 'db_driver' option,MERGED,2021-07-13 17:32:17.000000000,2021-09-15 21:35:55.000000000,2021-09-15 21:32:03.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 30092}]","[{'number': 1, 'created': '2021-07-13 17:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/15d3d3a90b6769829b71cfa6b3ff9d0556f5094a', 'message': ""db: Remove 'db_driver' option\n\nThis is a silly config option. We only have one database driver in-tree\nand no plans to add more (SQLAlchemy is best in class). There's also no\nway we'd be able to support out-of-tree drivers. Remove it entirely.\n\nChange-Id: Ica3b2e8fcb079beca652e81d2230bcca82fb49d7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-14 10:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a88cd069566296c1cbe67baf74f9fa5054ab09a', 'message': ""db: Remove 'db_driver' option\n\nThis is a silly config option. We only have one database driver in-tree\nand no plans to add more (SQLAlchemy is best in class). There's also no\nway we'd be able to support out-of-tree drivers. Remove it entirely.\n\nChange-Id: Ica3b2e8fcb079beca652e81d2230bcca82fb49d7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-16 17:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/577a27dab9662e8f29fa94c279caf48cb0993afe', 'message': ""db: Remove 'db_driver' option\n\nThis is a silly config option. We only have one database driver in-tree\nand no plans to add more (SQLAlchemy is best in class). There's also no\nway we'd be able to support out-of-tree drivers. Remove it entirely.\n\nChange-Id: Ica3b2e8fcb079beca652e81d2230bcca82fb49d7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-19 16:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/89ac2d45212bf6d6351e888c013f91055f2453e7', 'message': ""db: Remove 'db_driver' option\n\nThis is a silly config option. We only have one database driver in-tree\nand no plans to add more (SQLAlchemy is best in class). There's also no\nway we'd be able to support out-of-tree drivers. Remove it entirely.\n\nChange-Id: Ica3b2e8fcb079beca652e81d2230bcca82fb49d7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-08-27 14:13:38.000000000', 'files': ['cinder/manager.py', 'cinder/tests/unit/volume/test_image.py', 'cinder/backup/api.py', 'cinder/db/base.py', 'cinder/transfer/api.py', 'cinder/backup/driver.py', 'cinder/tests/unit/volume/drivers/toyou/test_acs5000.py', 'cinder/opts.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_replication.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_common.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_iscsi_driver.py', 'cinder/tests/unit/test_image_utils.py', 'cinder/tests/unit/test_service.py', 'cinder/group/api.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_fc_driver.py', 'cinder/volume/api.py', 'releasenotes/notes/drop-db_driver-opt-b644963bf3b6aced.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8353d6e204ea0b3162bc484ad87cce4c80e14c6c', 'message': ""db: Remove 'db_driver' option\n\nThis is a silly config option. We only have one database driver in-tree\nand no plans to add more (SQLAlchemy is best in class). There's also no\nway we'd be able to support out-of-tree drivers. Remove it entirely.\n\nChange-Id: Ica3b2e8fcb079beca652e81d2230bcca82fb49d7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",7,800695,8353d6e204ea0b3162bc484ad87cce4c80e14c6c,88,5,5,15334,,,0,"db: Remove 'db_driver' option

This is a silly config option. We only have one database driver in-tree
and no plans to add more (SQLAlchemy is best in class). There's also no
way we'd be able to support out-of-tree drivers. Remove it entirely.

Change-Id: Ica3b2e8fcb079beca652e81d2230bcca82fb49d7
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/800695/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/manager.py', 'cinder/tests/unit/volume/test_image.py', 'cinder/backup/api.py', 'cinder/db/base.py', 'cinder/transfer/api.py', 'cinder/backup/driver.py', 'cinder/tests/unit/volume/drivers/toyou/test_acs5000.py', 'cinder/opts.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_replication.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_common.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_iscsi_driver.py', 'cinder/tests/unit/test_image_utils.py', 'cinder/tests/unit/test_service.py', 'cinder/group/api.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_fc_driver.py', 'cinder/volume/api.py', 'releasenotes/notes/drop-db_driver-opt-b644963bf3b6aced.yaml']",18,15d3d3a90b6769829b71cfa6b3ff9d0556f5094a,bp/remove-sqlalchemy-migrate,"--- upgrade: - | The ``[DEFAULT] db_driver`` config option has been removed. This was intended to allow configuration of the database driver, however, there is only one database driver present in-tree and out-of-tree database drivers are not supported. ",,64,85
openstack%2Fbarbican~stable%2Fwallaby~Id399d2220118efe1033426c658d1834cbff02f94,openstack/barbican,stable/wallaby,Id399d2220118efe1033426c658d1834cbff02f94,Return 403 instead of 500 when policy check fails,MERGED,2021-09-10 19:49:47.000000000,2021-09-15 20:12:46.000000000,2021-09-15 20:11:19.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-10 19:49:47.000000000', 'files': ['barbican/api/__init__.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/2f058e493103861d7167976163669e249dc3bc10', 'message': 'Return 403 instead of 500 when policy check fails\n\nThis patch fixes an issue where a 500 response is sent instead of a 403\nwhen a request is made using the wrong scope.  e.g.  Using project\nscope instead of system scope.\n\nStory: 2009170\nTask: 43201\n\nChange-Id: Id399d2220118efe1033426c658d1834cbff02f94\n(cherry picked from commit 200bff896cb9f8b7c057ef22be317895a27ea8dc)\n'}]",0,808511,2f058e493103861d7167976163669e249dc3bc10,11,2,1,7973,,,0,"Return 403 instead of 500 when policy check fails

This patch fixes an issue where a 500 response is sent instead of a 403
when a request is made using the wrong scope.  e.g.  Using project
scope instead of system scope.

Story: 2009170
Task: 43201

Change-Id: Id399d2220118efe1033426c658d1834cbff02f94
(cherry picked from commit 200bff896cb9f8b7c057ef22be317895a27ea8dc)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/11/808511/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/api/__init__.py'],1,2f058e493103861d7167976163669e249dc3bc10,," except (policy.PolicyNotAuthorized, policy.InvalidScope):", except policy.PolicyNotAuthorized:,1,1
openstack%2Fec2-api~stable%2Fxena~Ie3e5a5930d5a8159050ecc0900239935558dddd7,openstack/ec2-api,stable/xena,Ie3e5a5930d5a8159050ecc0900239935558dddd7,update aws ec2 interface,MERGED,2021-09-15 19:31:51.000000000,2021-09-15 19:55:15.000000000,2021-09-15 19:53:46.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 19:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/5f5f560632d3a204cafe3c8e45a08dfdda7f84c7', 'message': 'various fixes\n\n- bump version from 2 to 3 for cinderclient\n- update aws ec2 interface for create_colume and\n  create_network_interface. add cilent_token param\n\nChange-Id: Ie3e5a5930d5a8159050ecc0900239935558dddd7\n(cherry picked from commit 5cfddf2a734e3186f111b17f7439f3963f7d6a35)\n'}, {'number': 2, 'created': '2021-09-15 19:32:40.000000000', 'files': ['ec2api/api/image.py', 'ec2api/api/network_interface.py', 'ec2api/api/volume.py', 'ec2api/api/cloud.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/e6e1ab3a62ad7dc41bf2d46adf47d981771f770d', 'message': 'update aws ec2 interface\n\nfor create_colume and create_network_interface:\nadd client_token param\n\nChange-Id: Ie3e5a5930d5a8159050ecc0900239935558dddd7\n(cherry picked from commit 5cfddf2a734e3186f111b17f7439f3963f7d6a35)\n'}]",0,809212,e6e1ab3a62ad7dc41bf2d46adf47d981771f770d,8,2,2,10234,,,0,"update aws ec2 interface

for create_colume and create_network_interface:
add client_token param

Change-Id: Ie3e5a5930d5a8159050ecc0900239935558dddd7
(cherry picked from commit 5cfddf2a734e3186f111b17f7439f3963f7d6a35)
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/12/809212/1 && git format-patch -1 --stdout FETCH_HEAD,"['ec2api/api/image.py', 'ec2api/api/network_interface.py', 'ec2api/api/volume.py', 'ec2api/api/cloud.py']",4,5f5f560632d3a204cafe3c8e45a08dfdda7f84c7,," 'bool', 'str', 'str') encrypted=None, kms_key_id=None, client_token=None): client_token (str): Unique, case-sensitive identifier that you provide to ensure the idempotency of the request. 'sg_ids', 'str') security_group_id=None, client_token=None): client_token (str): Unique, case-sensitive identifier that you provide to ensure the idempotency of the request."," 'bool', 'str') encrypted=None, kms_key_id=None): 'sg_ids') security_group_id=None):",45,8
openstack%2Frpm-packaging~master~I72520e09e56e497bcdd75f3d9cbe7347d7f78cf8,openstack/rpm-packaging,master,I72520e09e56e497bcdd75f3d9cbe7347d7f78cf8,python-cinderclient: update to 8.1.0,MERGED,2021-09-10 06:58:21.000000000,2021-09-15 19:49:38.000000000,2021-09-15 19:49:38.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-10 06:58:21.000000000', 'files': ['openstack/python-cinderclient/python-cinderclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9d0283486e0c7b0e4d92fe4994a8bcd5e0c51bf8', 'message': 'python-cinderclient: update to 8.1.0\n\nChange-Id: I72520e09e56e497bcdd75f3d9cbe7347d7f78cf8\n'}]",0,808173,9d0283486e0c7b0e4d92fe4994a8bcd5e0c51bf8,13,5,1,13294,,,0,"python-cinderclient: update to 8.1.0

Change-Id: I72520e09e56e497bcdd75f3d9cbe7347d7f78cf8
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/73/808173/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-cinderclient/python-cinderclient.spec.j2'],1,9d0283486e0c7b0e4d92fe4994a8bcd5e0c51bf8,,{% set upstream_version = upstream_version('8.1.0') %},{% set upstream_version = upstream_version('7.4.0') %},1,1
openstack%2Frpm-packaging~master~I2847cd95e489a9d06e7e354d628d2573e0958a7f,openstack/rpm-packaging,master,I2847cd95e489a9d06e7e354d628d2573e0958a7f,mistral-lib: update to 2.5.0,MERGED,2021-09-15 08:58:29.000000000,2021-09-15 19:48:30.000000000,2021-09-15 19:48:30.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-15 08:58:29.000000000', 'files': ['openstack/mistral-lib/mistral-lib.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/486221d8e508684ef13c2ef6c28e24ea83d15cae', 'message': 'mistral-lib: update to 2.5.0\n\nChange-Id: I2847cd95e489a9d06e7e354d628d2573e0958a7f\n'}]",0,809157,486221d8e508684ef13c2ef6c28e24ea83d15cae,9,5,1,6593,,,0,"mistral-lib: update to 2.5.0

Change-Id: I2847cd95e489a9d06e7e354d628d2573e0958a7f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/57/809157/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/mistral-lib/mistral-lib.spec.j2'],1,486221d8e508684ef13c2ef6c28e24ea83d15cae,,{% set upstream_version = upstream_version('2.5.0') %},{% set upstream_version = upstream_version('2.4.0') %},1,1
openstack%2Ftripleo-common~stable%2Fvictoria~I2a23f33868ad71f6385403dbcb7353d1158d9e5a,openstack/tripleo-common,stable/victoria,I2a23f33868ad71f6385403dbcb7353d1158d9e5a,Add a retry to the instropection waiting workbook,MERGED,2021-09-03 08:18:49.000000000,2021-09-15 19:43:37.000000000,2021-09-15 19:42:00.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-03 08:18:49.000000000', 'files': ['workbooks/baremetal.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b02ad2618639ef39bd03c58d845ac8091d9bb90a', 'message': 'Add a retry to the instropection waiting workbook\n\nThe workbook wait_for_introspection_to_finish needs a retry and a delay\nto avoid issues in some deployments\n\nrelated bug https://bugzilla.redhat.com/show_bug.cgi?id=1999539\n\nChange-Id: I2a23f33868ad71f6385403dbcb7353d1158d9e5a\n'}]",0,807249,b02ad2618639ef39bd03c58d845ac8091d9bb90a,12,4,1,15895,,,0,"Add a retry to the instropection waiting workbook

The workbook wait_for_introspection_to_finish needs a retry and a delay
to avoid issues in some deployments

related bug https://bugzilla.redhat.com/show_bug.cgi?id=1999539

Change-Id: I2a23f33868ad71f6385403dbcb7353d1158d9e5a
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/49/807249/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/baremetal.yaml'],1,b02ad2618639ef39bd03c58d845ac8091d9bb90a,, retry: delay: 10 count: 10,,3,0
openstack%2Fmasakari~stable%2Fwallaby~Ib64f2c0a0fe46de9a9f3afa56079da0afbcad40b,openstack/masakari,stable/wallaby,Ib64f2c0a0fe46de9a9f3afa56079da0afbcad40b,[DevStack] Use xtrace,MERGED,2021-09-15 18:08:38.000000000,2021-09-15 19:34:53.000000000,2021-09-15 19:33:20.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-15 18:08:38.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/masakari/commit/05124e1576e15885d2a7c3b409a3ea3a33a62a98', 'message': '[DevStack] Use xtrace\n\nxtrace is useful to see the progress of DevStack deployment.\nIt is normally enabled in DevStack but was disabled in Masakari\nplugin.\n\nChange-Id: Ib64f2c0a0fe46de9a9f3afa56079da0afbcad40b\n(cherry picked from commit 01fa27cb98c1be69c340ca2b29d8a24eea26ce6d)\n'}]",0,809211,05124e1576e15885d2a7c3b409a3ea3a33a62a98,7,2,1,30491,,,0,"[DevStack] Use xtrace

xtrace is useful to see the progress of DevStack deployment.
It is normally enabled in DevStack but was disabled in Masakari
plugin.

Change-Id: Ib64f2c0a0fe46de9a9f3afa56079da0afbcad40b
(cherry picked from commit 01fa27cb98c1be69c340ca2b29d8a24eea26ce6d)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/11/809211/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,05124e1576e15885d2a7c3b409a3ea3a33a62a98,devstack-xtrace-stable/wallaby,set -o xtrace,set +o xtrace,1,1
openstack%2Ftacker~master~If0d02d1cab40b0bf9be9bc6825d96cdfaa5ea495,openstack/tacker,master,If0d02d1cab40b0bf9be9bc6825d96cdfaa5ea495,Fix for Anti Affinity verification Exception,MERGED,2021-04-09 10:28:05.000000000,2021-09-15 19:09:03.000000000,2021-09-15 19:07:01.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31072}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-04-09 10:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/93a6d47843f8975713ecd7ccf96e01d5b8598cd7', 'message': 'Provide fix for Anti Affinity verification Exception\n\nThis will fix the exception that occurs when editing Grant transmission\ndata during Anti Affinity verification.\n\nCloses-Bug: #1923136\nChange-Id: If0d02d1cab40b0bf9be9bc6825d96cdfaa5ea495\n'}, {'number': 2, 'created': '2021-04-26 11:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/de6f50f8fae12a7b5926b79d94ff8b5d7d1cc92d', 'message': 'Provide fix for Anti Affinity verification Exception\n\nThis will fix the exception that occurs when editing Grant transmission\ndata during Anti Affinity verification.\n\nCloses-Bug: #1923136\nChange-Id: If0d02d1cab40b0bf9be9bc6825d96cdfaa5ea495\n'}, {'number': 3, 'created': '2021-05-07 02:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0cd17282ab91c30b924549310283db06bb59a8c6', 'message': 'Provide fix for Anti Affinity verification Exception\n\nThis will fix the exception that occurs when editing Grant transmission\ndata during Anti Affinity verification.\n\nCloses-Bug: #1923136\nChange-Id: If0d02d1cab40b0bf9be9bc6825d96cdfaa5ea495\n'}, {'number': 4, 'created': '2021-06-30 02:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/19f10efe09e8e4fa51beb1c6480b69ae827b8a00', 'message': 'Provide fix for Anti Affinity verification Exception\n\nThis will fix the exception that occurs when editing Grant transmission\ndata during Anti Affinity verification.\n\nCo-authored-By: Hiroo Kitamura <hiroo.kitamura@ntt-at.co.jp>\nCloses-Bug: #1923136\nChange-Id: If0d02d1cab40b0bf9be9bc6825d96cdfaa5ea495\n'}, {'number': 5, 'created': '2021-06-30 03:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7873c3c28283d84e287a3fe3b8523f38e997893c', 'message': 'Provide fix for Anti Affinity verification Exception\n\nThis will fix the exception that occurs when editing Grant transmission\ndata during Anti Affinity verification.\n\nCo-authored-By: Hiroo Kitamura <hiroo.kitamura@ntt-at.co.jp>\nCloses-Bug: #1923136\nChange-Id: If0d02d1cab40b0bf9be9bc6825d96cdfaa5ea495\n'}, {'number': 6, 'created': '2021-07-14 01:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0dce27d76162ba8632d5391b5602468f3719829f', 'message': 'Provide fix for Anti Affinity verification Exception\n\nThis will fix the exception that occurs when editing Grant transmission\ndata during Anti Affinity verification.\n\nCo-authored-By: Hiroo Kitamura <hiroo.kitamura@ntt-at.co.jp>\nCloses-Bug: #1923136\nChange-Id: If0d02d1cab40b0bf9be9bc6825d96cdfaa5ea495\n'}, {'number': 7, 'created': '2021-08-10 01:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7e9de3a6cc3619f7b58d0c8c07ebc062913aeee4', 'message': 'Provide fix for Anti Affinity verification Exception\n\nThis will fix the exception that occurs when editing Grant transmission\ndata during Anti Affinity verification.\n\nCo-authored-By: Hiroo Kitamura <hiroo.kitamura@ntt-at.co.jp>\nCloses-Bug: #1923136\nChange-Id: If0d02d1cab40b0bf9be9bc6825d96cdfaa5ea495\n'}, {'number': 8, 'created': '2021-08-10 01:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ce418327c018c654403d53bebf238526d28b842e', 'message': 'Provide fix for Anti Affinity verification Exception\n\nThis will fix the exception that occurs when editing Grant transmission\ndata during Anti Affinity verification.\n\nCo-authored-By: Hiroo Kitamura <hiroo.kitamura@ntt-at.co.jp>\nCloses-Bug: #1923136\nChange-Id: If0d02d1cab40b0bf9be9bc6825d96cdfaa5ea495\n'}, {'number': 9, 'created': '2021-09-13 09:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4bee115a0e25fb974914d11c091f7dfb5d5f693f', 'message': 'Fix for Anti Affinity verification Exception\n\nThis will fix the exception that occurs when editing Grant transmission\ndata during Anti Affinity verification.\n\nCo-authored-By: Hiroo Kitamura <hiroo.kitamura@ntt-at.co.jp>\nCloses-Bug: #1923136\nChange-Id: If0d02d1cab40b0bf9be9bc6825d96cdfaa5ea495\n'}, {'number': 10, 'created': '2021-09-14 09:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/59c80b5afb30bd43faaeefb7d347223da4c8bc95', 'message': 'Fix for Anti Affinity verification Exception\n\nThis will fix the exception that occurs when editing Grant transmission\ndata during Anti Affinity verification.\n\nCo-authored-By: Hiroo Kitamura <hiroo.kitamura@ntt-at.co.jp>\nCloses-Bug: #1923136\nChange-Id: If0d02d1cab40b0bf9be9bc6825d96cdfaa5ea495\n'}, {'number': 11, 'created': '2021-09-15 04:34:38.000000000', 'files': ['tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/data/etsi_nfv/tosca_vnfd_group_member.yaml', 'tacker/tests/unit/db/utils.py', 'tacker/conductor/conductor_server.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/1ce0d93410ef44d5daedd4507eab2800a49a3a2c', 'message': 'Fix for Anti Affinity verification Exception\n\nThis will fix the exception that occurs when editing Grant transmission\ndata during Anti Affinity verification.\n\nCo-authored-By: Hiroo Kitamura <hiroo.kitamura@ntt-at.co.jp>\nCloses-Bug: #1923136\nChange-Id: If0d02d1cab40b0bf9be9bc6825d96cdfaa5ea495\n'}]",27,785592,1ce0d93410ef44d5daedd4507eab2800a49a3a2c,56,6,11,32219,,,0,"Fix for Anti Affinity verification Exception

This will fix the exception that occurs when editing Grant transmission
data during Anti Affinity verification.

Co-authored-By: Hiroo Kitamura <hiroo.kitamura@ntt-at.co.jp>
Closes-Bug: #1923136
Change-Id: If0d02d1cab40b0bf9be9bc6825d96cdfaa5ea495
",git fetch https://review.opendev.org/openstack/tacker refs/changes/92/785592/10 && git format-patch -1 --stdout FETCH_HEAD,['tacker/conductor/conductor_server.py'],1,93a6d47843f8975713ecd7ccf96e01d5b8598cd7,bug/1923136, for member in (topo_temp['groups'][target] ['members']):, for member in topo_temp['groups']['members']:,2,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I19f457a99dedfd781bd56987e3fea6626737500d,openstack/tripleo-heat-templates,stable/wallaby,I19f457a99dedfd781bd56987e3fea6626737500d,Remove setting ACLs during Upgrade,MERGED,2021-09-13 22:05:39.000000000,2021-09-15 18:27:52.000000000,2021-09-15 18:27:52.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16347}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-09-13 22:05:39.000000000', 'files': ['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b9fe05d56c4aa7645b900fc92bfac2f45da91c20', 'message': ""Remove setting ACLs during Upgrade\n\nCurrently, we are setting file ACLs on /var/lib/neutron as part of\nupgrade tasks if there is a neutron user in the system. Since moving to\ncontainerized deployment, we don't have neutron user on the system\nanymore. This code was added to resolve issues arising with existing\nneutron resources when moving from system services to containerized\nservices.\n\nThis patch is to remove the stale upgrade tasks to remove file ACLs.\n\nCloses-Bug: #1943034\n\nSigned-off-by: Purandhar Sairam Mannidi <pmannidi@redhat.com>\nChange-Id: I19f457a99dedfd781bd56987e3fea6626737500d\n(cherry picked from commit a522941695e07d943c4908b4f403edf9d24f0108)\n""}]",0,808669,b9fe05d56c4aa7645b900fc92bfac2f45da91c20,19,9,1,11090,,,0,"Remove setting ACLs during Upgrade

Currently, we are setting file ACLs on /var/lib/neutron as part of
upgrade tasks if there is a neutron user in the system. Since moving to
containerized deployment, we don't have neutron user on the system
anymore. This code was added to resolve issues arising with existing
neutron resources when moving from system services to containerized
services.

This patch is to remove the stale upgrade tasks to remove file ACLs.

Closes-Bug: #1943034

Signed-off-by: Purandhar Sairam Mannidi <pmannidi@redhat.com>
Change-Id: I19f457a99dedfd781bd56987e3fea6626737500d
(cherry picked from commit a522941695e07d943c4908b4f403edf9d24f0108)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/808669/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml']",3,b9fe05d56c4aa7645b900fc92bfac2f45da91c20,remove_stale_ACL_setup-stable/wallaby,," post_upgrade_tasks: - name: Check for neutron user getent: database: passwd key: neutron fail_key: false - name: Set neutron_user_avail set_fact: neutron_user_avail: ""{{ getent_passwd is defined }}"" - when: - step|int == 2 - neutron_user_avail|bool block: - name: Ensure r/w access for existing files after upgrade become: true shell: | umask 0002 setfacl -d -R -m u:neutron:rwx /var/lib/neutron setfacl -R -m u:neutron:rw /var/lib/neutron find /var/lib/neutron -type d -exec setfacl -m u:neutron:rwx '{}' \; - name: Provide access to domain sockets become: true shell: | umask 0002 setfacl -m u:neutron:rwx ""{{ item }}"" with_items: - /var/lib/neutron/metadata_proxy - /var/lib/neutron/keepalived-state-change - /var/lib/neutron # These files are not necessarily present failed_when: false",0,92
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia892ccb629b7ef7cb80d549fbe1c684e9b93c0fc,openstack/tripleo-heat-templates,stable/train,Ia892ccb629b7ef7cb80d549fbe1c684e9b93c0fc,Install python3-openstackclient after the leapp upgrade,MERGED,2021-09-14 17:36:44.000000000,2021-09-15 18:27:49.000000000,2021-09-15 18:27:49.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-14 17:36:44.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/539f44594b1bc5ef5737c61a71dbd5a65df4df09', 'message': 'Install python3-openstackclient after the leapp upgrade\n\nThe package is part of the base image, but when doing a leapp\nupgrade it is removed because it is not part of the standard\nRHEL repositories.\n\nResolves: rhbz#1994919\n\nChange-Id: Ia892ccb629b7ef7cb80d549fbe1c684e9b93c0fc\n(cherry picked from commit c463d2068e256cb2baca8b5af329c1866b1f673e)\n'}]",0,808975,539f44594b1bc5ef5737c61a71dbd5a65df4df09,11,4,1,11090,,,0,"Install python3-openstackclient after the leapp upgrade

The package is part of the base image, but when doing a leapp
upgrade it is removed because it is not part of the standard
RHEL repositories.

Resolves: rhbz#1994919

Change-Id: Ia892ccb629b7ef7cb80d549fbe1c684e9b93c0fc
(cherry picked from commit c463d2068e256cb2baca8b5af329c1866b1f673e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/808975/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,539f44594b1bc5ef5737c61a71dbd5a65df4df09,rhbz_1994919-stable/wallaby-stable/victoria-stable/ussuri-stable/train, - python3-openstackclient,,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib34130c15324f197eca275f97c18f24f17d8ced2,openstack/tripleo-heat-templates,stable/train,Ib34130c15324f197eca275f97c18f24f17d8ced2,Example configurable cap add,MERGED,2021-09-15 09:24:26.000000000,2021-09-15 18:27:45.000000000,2021-09-15 18:27:45.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-15 09:24:26.000000000', 'files': ['deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6a459b2bc1800db26788761155db72d1785bfaa9', 'message': 'Example configurable cap add\n\nChange-Id: Ib34130c15324f197eca275f97c18f24f17d8ced2\n(cherry picked from commit a94ff466c860549cd5fa7aa6f77a94cc4b0e67e3)\n(cherry picked from commit 65e827e5bf60d72d3c7f9b35d21fbe9e65a38988)\n(cherry picked from commit cf53dbf19bdaffebbf255dcec66476dfaf84307d)\n(cherry picked from commit b2524af685fce49773d37a9085aae924db95d60e)\n'}]",0,809138,6a459b2bc1800db26788761155db72d1785bfaa9,7,3,1,4264,,,0,"Example configurable cap add

Change-Id: Ib34130c15324f197eca275f97c18f24f17d8ced2
(cherry picked from commit a94ff466c860549cd5fa7aa6f77a94cc4b0e67e3)
(cherry picked from commit 65e827e5bf60d72d3c7f9b35d21fbe9e65a38988)
(cherry picked from commit cf53dbf19bdaffebbf255dcec66476dfaf84307d)
(cherry picked from commit b2524af685fce49773d37a9085aae924db95d60e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/809138/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/collectd-container-puppet.yaml'],1,6a459b2bc1800db26788761155db72d1785bfaa9,cap_add_v-stable/ussuri-stable/train, CollectdContainerAdditionalCapAdd: type: comma_delimited_list description: Additional container capabilities to add to the collectd container. By default is appended to IPC_LOCK. default: [] list_concat: - {get_param: CollectdContainerAdditionalCapAdd} - [IPC_LOCK], - IPC_LOCK,9,1
openstack%2Fmasakari-monitors~stable%2Fussuri~I0b1ca8a011ee4da162a2c3a986c1dab9a3d38190,openstack/masakari-monitors,stable/ussuri,I0b1ca8a011ee4da162a2c3a986c1dab9a3d38190,Fix hostmonitor to respect quorum,MERGED,2021-09-14 14:59:18.000000000,2021-09-15 18:23:05.000000000,2021-09-15 18:18:56.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-14 14:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/2941c3fc7437382c921cef9ae28eeaa1a50c3713', 'message': 'Fix hostmonitor to respect quorum\n\nBoth cibadmin-based and crm_mon-based host status queryings were\naffected, allowing partitioned cluster to tell Masakari to\nevacuate hosts from the other partition (which nota bene include\nall remotes if applicable).\n\nCloses-Bug: #1878548\nChange-Id: I0b1ca8a011ee4da162a2c3a986c1dab9a3d38190\n(cherry picked from commit c2d9a4f9cb050faf5b863acb0b5225195a8c6fe8)\n'}, {'number': 2, 'created': '2021-09-14 16:42:36.000000000', 'files': ['masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hostmonitor/host_handler/handle_host.py', 'masakarimonitors/tests/unit/hostmonitor/host_handler/test_parse_crmmon_xml.py', 'masakarimonitors/hostmonitor/host_handler/parse_crmmon_xml.py', 'releasenotes/notes/bug-1878548-5fab31aec6ba5407.yaml'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/c599293b39d29835811ff3e3c202ade3fe2c128e', 'message': 'Fix hostmonitor to respect quorum\n\nBoth cibadmin-based and crm_mon-based host status queryings were\naffected, allowing partitioned cluster to tell Masakari to\nevacuate hosts from the other partition (which nota bene include\nall remotes if applicable).\n\nCloses-Bug: #1878548\nChange-Id: I0b1ca8a011ee4da162a2c3a986c1dab9a3d38190\n(cherry picked from commit c2d9a4f9cb050faf5b863acb0b5225195a8c6fe8)\n'}]",14,808970,c599293b39d29835811ff3e3c202ade3fe2c128e,10,2,2,30491,,,0,"Fix hostmonitor to respect quorum

Both cibadmin-based and crm_mon-based host status queryings were
affected, allowing partitioned cluster to tell Masakari to
evacuate hosts from the other partition (which nota bene include
all remotes if applicable).

Closes-Bug: #1878548
Change-Id: I0b1ca8a011ee4da162a2c3a986c1dab9a3d38190
(cherry picked from commit c2d9a4f9cb050faf5b863acb0b5225195a8c6fe8)
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/70/808970/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hostmonitor/host_handler/handle_host.py', 'masakarimonitors/tests/unit/hostmonitor/host_handler/test_parse_crmmon_xml.py', 'masakarimonitors/hostmonitor/host_handler/parse_crmmon_xml.py', 'releasenotes/notes/bug-1878548-5fab31aec6ba5407.yaml']",5,2941c3fc7437382c921cef9ae28eeaa1a50c3713,bug/1878548-stable/wallaby-stable/victoria-stable/ussuri,--- fixes: - | Fixes hostmonitor reporting hosts down because of Pacemaker cluster partitioning. Now hostmonitor properly respects the status of Pacemaker cluster quorum. `LP#1878548 <https://launchpad.net/bugs/1878548>`__ ,,93,9
openstack%2Fmasakari-monitors~stable%2Fvictoria~I0b1ca8a011ee4da162a2c3a986c1dab9a3d38190,openstack/masakari-monitors,stable/victoria,I0b1ca8a011ee4da162a2c3a986c1dab9a3d38190,Fix hostmonitor to respect quorum,MERGED,2021-09-14 14:59:10.000000000,2021-09-15 18:21:07.000000000,2021-09-15 18:18:55.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-14 14:59:10.000000000', 'files': ['masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hostmonitor/host_handler/handle_host.py', 'masakarimonitors/tests/unit/hostmonitor/host_handler/test_parse_crmmon_xml.py', 'masakarimonitors/hostmonitor/host_handler/parse_crmmon_xml.py', 'releasenotes/notes/bug-1878548-5fab31aec6ba5407.yaml'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/d47629f4171637bdcdfe85efe857b6aa85f839f6', 'message': 'Fix hostmonitor to respect quorum\n\nBoth cibadmin-based and crm_mon-based host status queryings were\naffected, allowing partitioned cluster to tell Masakari to\nevacuate hosts from the other partition (which nota bene include\nall remotes if applicable).\n\nCloses-Bug: #1878548\nChange-Id: I0b1ca8a011ee4da162a2c3a986c1dab9a3d38190\n(cherry picked from commit c2d9a4f9cb050faf5b863acb0b5225195a8c6fe8)\n'}]",0,808869,d47629f4171637bdcdfe85efe857b6aa85f839f6,7,2,1,30491,,,0,"Fix hostmonitor to respect quorum

Both cibadmin-based and crm_mon-based host status queryings were
affected, allowing partitioned cluster to tell Masakari to
evacuate hosts from the other partition (which nota bene include
all remotes if applicable).

Closes-Bug: #1878548
Change-Id: I0b1ca8a011ee4da162a2c3a986c1dab9a3d38190
(cherry picked from commit c2d9a4f9cb050faf5b863acb0b5225195a8c6fe8)
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/69/808869/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hostmonitor/host_handler/handle_host.py', 'masakarimonitors/tests/unit/hostmonitor/host_handler/test_parse_crmmon_xml.py', 'masakarimonitors/hostmonitor/host_handler/parse_crmmon_xml.py', 'releasenotes/notes/bug-1878548-5fab31aec6ba5407.yaml']",5,d47629f4171637bdcdfe85efe857b6aa85f839f6,bug/1878548-stable/wallaby-stable/victoria,--- fixes: - | Fixes hostmonitor reporting hosts down because of Pacemaker cluster partitioning. Now hostmonitor properly respects the status of Pacemaker cluster quorum. `LP#1878548 <https://launchpad.net/bugs/1878548>`__ ,,90,13
openstack%2Fmasakari-monitors~stable%2Fwallaby~I0b1ca8a011ee4da162a2c3a986c1dab9a3d38190,openstack/masakari-monitors,stable/wallaby,I0b1ca8a011ee4da162a2c3a986c1dab9a3d38190,Fix hostmonitor to respect quorum,MERGED,2021-09-14 14:33:25.000000000,2021-09-15 18:17:37.000000000,2021-09-15 18:16:00.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-14 14:33:25.000000000', 'files': ['masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hostmonitor/host_handler/handle_host.py', 'masakarimonitors/tests/unit/hostmonitor/host_handler/test_parse_crmmon_xml.py', 'masakarimonitors/hostmonitor/host_handler/parse_crmmon_xml.py', 'releasenotes/notes/bug-1878548-5fab31aec6ba5407.yaml'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/d090789f1247772cc37b0b7238d67f20ab644540', 'message': 'Fix hostmonitor to respect quorum\n\nBoth cibadmin-based and crm_mon-based host status queryings were\naffected, allowing partitioned cluster to tell Masakari to\nevacuate hosts from the other partition (which nota bene include\nall remotes if applicable).\n\nCloses-Bug: #1878548\nChange-Id: I0b1ca8a011ee4da162a2c3a986c1dab9a3d38190\n(cherry picked from commit c2d9a4f9cb050faf5b863acb0b5225195a8c6fe8)\n'}]",0,808868,d090789f1247772cc37b0b7238d67f20ab644540,7,2,1,30491,,,0,"Fix hostmonitor to respect quorum

Both cibadmin-based and crm_mon-based host status queryings were
affected, allowing partitioned cluster to tell Masakari to
evacuate hosts from the other partition (which nota bene include
all remotes if applicable).

Closes-Bug: #1878548
Change-Id: I0b1ca8a011ee4da162a2c3a986c1dab9a3d38190
(cherry picked from commit c2d9a4f9cb050faf5b863acb0b5225195a8c6fe8)
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/68/808868/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hostmonitor/host_handler/handle_host.py', 'masakarimonitors/tests/unit/hostmonitor/host_handler/test_parse_crmmon_xml.py', 'masakarimonitors/hostmonitor/host_handler/parse_crmmon_xml.py', 'releasenotes/notes/bug-1878548-5fab31aec6ba5407.yaml']",5,d090789f1247772cc37b0b7238d67f20ab644540,bug/1878548-stable/wallaby,--- fixes: - | Fixes hostmonitor reporting hosts down because of Pacemaker cluster partitioning. Now hostmonitor properly respects the status of Pacemaker cluster quorum. `LP#1878548 <https://launchpad.net/bugs/1878548>`__ ,,90,13
openstack%2Fmasakari-monitors~master~I0b5d49bd974d1dc8d78ff8f2ad87314e2b2e067f,openstack/masakari-monitors,master,I0b5d49bd974d1dc8d78ff8f2ad87314e2b2e067f,Fix home_page in setup.cfg,MERGED,2021-09-15 16:42:44.000000000,2021-09-15 18:16:10.000000000,2021-09-15 18:14:30.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-15 16:42:44.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/8af96ce367940583773f20bbcc9ec0f5e932a2fa', 'message': 'Fix home_page in setup.cfg\n\nChange-Id: I0b5d49bd974d1dc8d78ff8f2ad87314e2b2e067f\n'}]",0,809237,8af96ce367940583773f20bbcc9ec0f5e932a2fa,7,2,1,30491,,,0,"Fix home_page in setup.cfg

Change-Id: I0b5d49bd974d1dc8d78ff8f2ad87314e2b2e067f
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/37/809237/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8af96ce367940583773f20bbcc9ec0f5e932a2fa,fix-setup-cfg-home-page,home_page = https://docs.openstack.org/masakari-monitors/latest/,home_page = http://www.openstack.org/,1,1
openstack%2Fhorizon~master~I4ff89cdcb27a2671c7d79fb2caec30585696a30f,openstack/horizon,master,I4ff89cdcb27a2671c7d79fb2caec30585696a30f,Support Django 3.0 and 3.1 support (4),MERGED,2021-02-24 14:58:47.000000000,2021-09-15 18:02:23.000000000,2021-09-15 17:59:47.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-24 14:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8236096f78cdd0206e6d01b4e55d50b7458c13eb', 'message': 'Support Django 3.0 and 3.1 support (4)\n\nassertFormErrors() now compares actual and expected messages\nafter parsing them as HTML. Similar to the previous commit,\nafter Django 3.0 escaped characters are handled differently\n(decimal representation, hexdecimal representation and\nunescaped representation) so we need an uniform way to compare\ntexts. Instead of comparing texts literally, this commit changes\nassertFormErrors to compare texts after parsing them as HTML.\n\nChange-Id: I4ff89cdcb27a2671c7d79fb2caec30585696a30f\n'}, {'number': 2, 'created': '2021-02-25 18:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5b17adb428f3677ace44b3b9232ff0773d9d9b73', 'message': 'Support Django 3.0 and 3.1 support (4)\n\nassertFormErrors() now compares actual and expected messages\nafter parsing them as HTML. Similar to the previous commit,\nafter Django 3.0 escaped characters are handled differently\n(decimal representation, hexdecimal representation and\nunescaped representation) so we need an uniform way to compare\ntexts. Instead of comparing texts literally, this commit changes\nassertFormErrors to compare texts after parsing them as HTML.\n\nChange-Id: I4ff89cdcb27a2671c7d79fb2caec30585696a30f\n'}, {'number': 3, 'created': '2021-09-14 19:36:27.000000000', 'files': ['openstack_dashboard/test/helpers.py', 'openstack_dashboard/dashboards/admin/aggregates/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/44b7c03fbab93cab768f03e0ea8a517a34bf6053', 'message': 'Support Django 3.0 and 3.1 support (4)\n\nassertFormErrors() now compares actual and expected messages\nafter parsing them as HTML. Similar to the previous commit,\nafter Django 3.0 escaped characters are handled differently\n(decimal representation, hexdecimal representation and\nunescaped representation) so we need an uniform way to compare\ntexts. Instead of comparing texts literally, this commit changes\nassertFormErrors to compare texts after parsing them as HTML.\n\nChange-Id: I4ff89cdcb27a2671c7d79fb2caec30585696a30f\n'}]",0,777395,44b7c03fbab93cab768f03e0ea8a517a34bf6053,23,3,3,841,,,0,"Support Django 3.0 and 3.1 support (4)

assertFormErrors() now compares actual and expected messages
after parsing them as HTML. Similar to the previous commit,
after Django 3.0 escaped characters are handled differently
(decimal representation, hexdecimal representation and
unescaped representation) so we need an uniform way to compare
texts. Instead of comparing texts literally, this commit changes
assertFormErrors to compare texts after parsing them as HTML.

Change-Id: I4ff89cdcb27a2671c7d79fb2caec30585696a30f
",git fetch https://review.opendev.org/openstack/horizon refs/changes/95/777395/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/helpers.py', 'openstack_dashboard/dashboards/admin/aggregates/tests.py']",2,8236096f78cdd0206e6d01b4e55d50b7458c13eb,django3-support, 'This field is required.') 'This field is required.') 'This field is required.'), 'This field is required') 'This field is required') 'This field is required'),12,7
openstack%2Fwhitebox-tempest-plugin~master~I0d17b41e6468ff589ed44996f112b125c29892ca,openstack/whitebox-tempest-plugin,master,I0d17b41e6468ff589ed44996f112b125c29892ca,Address subset of vgpu nits,NEW,2021-08-27 13:39:17.000000000,2021-09-15 17:58:06.000000000,,"[{'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 27478}, {'_account_id': 30788}]","[{'number': 1, 'created': '2021-08-27 13:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/dc077a9ec34953b8723b07976a87687d7361fec2', 'message': 'Address subset of vgpu nits\n\nAddress several of the nits discussed in [1]. A second follow up commit\nwill address breaking up revert action into its own function, adding\nadditional usage checks, and potentially moving the migrate action to a\ncommon module.\n\n[1] https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/790304\n\nChange-Id: I0d17b41e6468ff589ed44996f112b125c29892ca\n'}, {'number': 2, 'created': '2021-09-15 16:12:08.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_vgpu.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/b9684dd10662e6f6f7607a3df3ab4d13e79ad382', 'message': 'Address subset of vgpu nits\n\nAddress several of the nits discussed in [1]. A second follow up commit\nwill address breaking up revert action into its own function, adding\nadditional usage checks, and potentially moving the migrate action to a\ncommon module.\n\n[1] https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/790304\n\nChange-Id: I0d17b41e6468ff589ed44996f112b125c29892ca\n'}]",1,806405,b9684dd10662e6f6f7607a3df3ab4d13e79ad382,6,5,2,31033,,,0,"Address subset of vgpu nits

Address several of the nits discussed in [1]. A second follow up commit
will address breaking up revert action into its own function, adding
additional usage checks, and potentially moving the migrate action to a
common module.

[1] https://review.opendev.org/c/openstack/whitebox-tempest-plugin/+/790304

Change-Id: I0d17b41e6468ff589ed44996f112b125c29892ca
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/05/806405/2 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/api/compute/test_vgpu.py'],1,dc077a9ec34953b8723b07976a87687d7361fec2,vgpu_follow_up,"class VGPUSmoke(VGPUTest): self._validate_vgpu_instance(server, linux_client, self.vgpu_amount_per_instance) self._cold_migrate_server(server['id'], dest_host, False) self._validate_vgpu_instance(server, linux_client, self.vgpu_amount_per_instance) self._cold_migrate_server(server['id'], dest_host, True) self._validate_vgpu_instance(server, linux_client, self.vgpu_amount_per_instance) self._validate_vgpu_instance(server, linux_client, self.vgpu_amount_per_instance) msg = (""vGPU Cold Migration support needed in order to run "" ""resize tests"") self._validate_vgpu_instance(server, linux_client, self.vgpu_amount_per_instance)","class VGPUSanity(VGPUTest): self._validate_vgpu_instance( server, linux_client=linux_client, expected_device_count=self.vgpu_amount_per_instance) self._cold_migrate_server(server['id'], target_host=dest_host, revert=False) self._validate_vgpu_instance( server, linux_client=linux_client, expected_device_count=self.vgpu_amount_per_instance) self._cold_migrate_server(server['id'], target_host=dest_host, revert=True) self._validate_vgpu_instance( server, linux_client=linux_client, expected_device_count=self.vgpu_amount_per_instance) self._validate_vgpu_instance( server, linux_client=linux_client, expected_device_count=self.vgpu_amount_per_instance) msg = ""vGPU Cold Migration support needed in order to run "" \ ""resize tests"" self._validate_vgpu_instance( server, linux_client=linux_client, expected_device_count=self.vgpu_amount_per_instance)",15,29
openstack%2Fpuppet-ironic~master~Iad32434790a1744249b284937c6b67e9b58a235f,openstack/puppet-ironic,master,Iad32434790a1744249b284937c6b67e9b58a235f,inspector dnsmasq: make sequential-ip configurable,MERGED,2021-08-27 16:34:01.000000000,2021-09-15 17:55:46.000000000,2021-09-15 17:53:58.000000000,"[{'_account_id': 9816}, {'_account_id': 11655}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-08-27 16:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/751ba404b5393bd4a275a96f6dcf9ce9f2de650f', 'message': ""inspector dnsmasq: make sequential-ip configurable\n\nAdd the parameter ``dnsmasq_dhcp_sequential_ip`` to the\nironic::inspector class. When true (the default) dnsmasq\nis configured to serve addresses in sequential orders.\n\nSome DHCPv6 clients don't operate well with a DHCP server\nthat serves addresses sequentially. The new parameter\nallow disabling sequential addressing to improve\ninteroperability with DHCPv6 clients in UEFI firmware.\n\nRelated-Bug: #1941908\nChange-Id: Iad32434790a1744249b284937c6b67e9b58a235f\n""}, {'number': 2, 'created': '2021-08-27 17:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/580a00a55e5eae9deb1fd88556d6ae46c961d078', 'message': ""inspector dnsmasq: make sequential-ip configurable\n\nAdd the parameter ``dnsmasq_dhcp_sequential_ip`` to the\nironic::inspector class. When true (the default) dnsmasq\nis configured to serve addresses in sequential orders.\n\nSome DHCPv6 clients don't operate well with a DHCP server\nthat serves addresses sequentially. The new parameter\nallow disabling sequential addressing to improve\ninteroperability with DHCPv6 clients in UEFI firmware.\n\nCloses-Bug: #1941908\nChange-Id: Iad32434790a1744249b284937c6b67e9b58a235f\n""}, {'number': 3, 'created': '2021-08-27 18:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/1580ce5d4b385b17ad0df453d97aacbd86b79738', 'message': ""inspector dnsmasq: make sequential-ip configurable\n\nAdd the parameter ``dnsmasq_dhcp_sequential_ip`` to the\nironic::inspector class. When true (the default) dnsmasq\nis configured to serve addresses in sequential orders.\n\nSome DHCPv6 clients don't operate well with a DHCP server\nthat serves addresses sequentially. The new parameter\nallow disabling sequential addressing to improve\ninteroperability with DHCPv6 clients in UEFI firmware.\n\nCloses-Bug: #1941908\nChange-Id: Iad32434790a1744249b284937c6b67e9b58a235f\n""}, {'number': 4, 'created': '2021-08-27 23:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/124504d8d57dce8019969e0da7b3224735b5eddb', 'message': ""inspector dnsmasq: make sequential-ip configurable\n\nAdd the parameter ``dnsmasq_dhcp_sequential_ip`` to the\nironic::inspector class. When true (the default) dnsmasq\nis configured to serve addresses in sequential orders.\n\nSome DHCPv6 clients don't operate well with a DHCP server\nthat serves addresses sequentially. The new parameter\nallow disabling sequential addressing to improve\ninteroperability with DHCPv6 clients in UEFI firmware.\n\nCloses-Bug: #1941908\nChange-Id: Iad32434790a1744249b284937c6b67e9b58a235f\n""}, {'number': 5, 'created': '2021-08-27 23:53:50.000000000', 'files': ['spec/classes/ironic_inspector_spec.rb', 'templates/inspector_dnsmasq_tftp.erb', 'releasenotes/notes/dnsmasq-sequential-ip-configurable-739924e5ee69a51d.yaml', 'manifests/inspector.pp', 'templates/inspector_dnsmasq_http.erb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/4f67b341eef9f0a84afefdbe63133c3449d2e1eb', 'message': ""inspector dnsmasq: make sequential-ip configurable\n\nAdd the parameter ``dnsmasq_dhcp_sequential_ip`` to the\nironic::inspector class. When true (the default) dnsmasq\nis configured to serve addresses in sequential orders.\n\nSome DHCPv6 clients don't operate well with a DHCP server\nthat serves addresses sequentially. The new parameter\nallow disabling sequential addressing to improve\ninteroperability with DHCPv6 clients in UEFI firmware.\n\nCloses-Bug: #1941908\nChange-Id: Iad32434790a1744249b284937c6b67e9b58a235f\n""}]",15,806430,4f67b341eef9f0a84afefdbe63133c3449d2e1eb,28,5,5,24245,,,0,"inspector dnsmasq: make sequential-ip configurable

Add the parameter ``dnsmasq_dhcp_sequential_ip`` to the
ironic::inspector class. When true (the default) dnsmasq
is configured to serve addresses in sequential orders.

Some DHCPv6 clients don't operate well with a DHCP server
that serves addresses sequentially. The new parameter
allow disabling sequential addressing to improve
interoperability with DHCPv6 clients in UEFI firmware.

Closes-Bug: #1941908
Change-Id: Iad32434790a1744249b284937c6b67e9b58a235f
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/30/806430/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_inspector_spec.rb', 'releasenotes/notes/dnsmasq-sequential-ip-configurable-739924e5ee69a51d.yaml', 'templates/inspector_dnsmasq_tftp.erb', 'manifests/inspector.pp', 'templates/inspector_dnsmasq_http.erb']",5,751ba404b5393bd4a275a96f6dcf9ce9f2de650f,bug/1941908,<% if @dnsmasq_dhcp_sequential_ip -%><% end -%>,,23,0
openstack%2Fneutron~master~Ie2e4441f766947a2164dec2d1555c7049428903f,openstack/neutron,master,Ie2e4441f766947a2164dec2d1555c7049428903f,[OVS][FW] Initialize ConjIdMap._max_id depending on the current OFs,MERGED,2021-08-11 13:20:41.000000000,2021-09-15 17:55:42.000000000,2021-09-15 17:53:20.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32291}, {'_account_id': 33145}]","[{'number': 1, 'created': '2021-08-11 13:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8b5f421f66275c582fa2ca26122569c31d4539b', 'message': ""[OVS][FW] Initialize ConjIdMap._max_id depending on the current OFs\n\nThe OVS Firewall has a singleton class that manages the conjuction IDs\nto used in the OF rules.\n\n(more description to be added).\n\nEach time the OVS agent is started, the OVS Firewall initial\nconjunction ID is calculated based on the present OF rules. This value\nand the next one used won't clash with any present rule in the\nintegration bridge during the initial transient period.\n\nChange-Id: Ie2e4441f766947a2164dec2d1555c7049428903f\nRelated-Bug: # TBD\n""}, {'number': 2, 'created': '2021-08-11 15:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e90a1cc466a225ab93ec4f82d4bfb08a614c3ef6', 'message': ""[OVS][FW] Initialize ConjIdMap._max_id depending on the current OFs\n\nThe OVS Firewall has a singleton class that manages the conjuction IDs\nto used in the OF rules.\n\n(more description to be added).\n\nEach time the OVS agent is started, the OVS Firewall initial\nconjunction ID is calculated based on the present OF rules. This value\nand the next one used won't clash with any present rule in the\nintegration bridge during the initial transient period.\n\nChange-Id: Ie2e4441f766947a2164dec2d1555c7049428903f\nRelated-Bug: # TBD\n""}, {'number': 3, 'created': '2021-08-12 08:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9fa92dfd0d841cd86a77ea46049d95fa5d2a2a17', 'message': ""[OVS][FW] Initialize ConjIdMap._max_id depending on the current OFs\n\nThe OVS Firewall has a singleton class that manages the conjuction IDs\nto used in the OF rules.\n\n(more description to be added).\n\nEach time the OVS agent is started, the OVS Firewall initial\nconjunction ID is calculated based on the present OF rules. This value\nand the next one used won't clash with any present rule in the\nintegration bridge during the initial transient period.\n\nChange-Id: Ie2e4441f766947a2164dec2d1555c7049428903f\nRelated-Bug: # TBD\n""}, {'number': 4, 'created': '2021-08-12 15:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/339991f2cc6d1873f966cdda22082a788c2baee0', 'message': ""[OVS][FW] Initialize ConjIdMap._max_id depending on the current OFs\n\nThe OVS Firewall has a singleton class that manages the conjuction IDs\nto used in the OF rules. Those conjuntions are used to group rules\nrelated to remote security group IDs.\n\nNow each time the OVS agent is started, the OVS Firewall initial\nconjunction ID is calculated based on the present OF rules. This value\nand the next one used won't clash with any present rule in the\nintegration bridge during the initial transient period.\n\nChange-Id: Ie2e4441f766947a2164dec2d1555c7049428903f\nRelated-Bug: #1934917\n""}, {'number': 5, 'created': '2021-08-12 17:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad0531c376f553fbb1f970956780d276051a4f78', 'message': ""[OVS][FW] Initialize ConjIdMap._max_id depending on the current OFs\n\nThe OVS Firewall has a singleton class that manages the conjuction IDs\nto used in the OF rules. Those conjuntions are used to group rules\nrelated to remote security group IDs.\n\nNow each time the OVS agent is started, the OVS Firewall initial\nconjunction ID is calculated based on the present OF rules. This value\nand the next one used won't clash with any present rule in the\nintegration bridge during the initial transient period.\n\nChange-Id: Ie2e4441f766947a2164dec2d1555c7049428903f\nRelated-Bug: #1934917\n""}, {'number': 6, 'created': '2021-08-18 14:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a1213c21b81de910c05a11a6bb92de29b84471b', 'message': ""[OVS][FW] Initialize ConjIdMap._max_id depending on the current OFs\n\nThe OVS Firewall has a singleton class that manages the conjuction IDs\nto used in the OF rules. Those conjuntions are used to group rules\nrelated to remote security group IDs.\n\nNow each time the OVS agent is started, the OVS Firewall initial\nconjunction ID is calculated based on the present OF rules. This value\nand the next one used won't clash with any present rule in the\nintegration bridge during the initial transient period.\n\nChange-Id: Ie2e4441f766947a2164dec2d1555c7049428903f\nRelated-Bug: #1934917\n""}, {'number': 7, 'created': '2021-08-24 08:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/429a62ba45e227ae4bbb557ef16de4e2b97e70b6', 'message': ""[OVS][FW] Initialize ConjIdMap._max_id depending on the current OFs\n\nThe OVS Firewall has a singleton class that manages the conjuction IDs\nto used in the OF rules. Those conjuntions are used to group rules\nrelated to remote security group IDs.\n\nNow each time the OVS agent is started, the OVS Firewall initial\nconjunction ID is calculated based on the present OF rules. This value\nand the next one used won't clash with any present rule in the\nintegration bridge during the initial transient period.\n\nChange-Id: Ie2e4441f766947a2164dec2d1555c7049428903f\nRelated-Bug: #1934917\n""}, {'number': 8, 'created': '2021-09-10 10:17:51.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/services/logapi/drivers/openvswitch/test_ovs_firewall_log.py', 'neutron/services/logapi/drivers/openvswitch/ovs_firewall_log.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0634dcc6d0f08c18c69a2c360a2c5c0581ec7bb6', 'message': ""[OVS][FW] Initialize ConjIdMap._max_id depending on the current OFs\n\nThe OVS Firewall has a singleton class that manages the conjuction IDs\nto used in the OF rules. Those conjuntions are used to group rules\nrelated to remote security group IDs.\n\nNow each time the OVS agent is started, the OVS Firewall initial\nconjunction ID is calculated based on the present OF rules. This value\nand the next one used won't clash with any present rule in the\nintegration bridge during the initial transient period.\n\nRelated-Bug: #1934917\n\nChange-Id: Ie2e4441f766947a2164dec2d1555c7049428903f\n""}]",17,804236,0634dcc6d0f08c18c69a2c360a2c5c0581ec7bb6,153,8,8,16688,,,0,"[OVS][FW] Initialize ConjIdMap._max_id depending on the current OFs

The OVS Firewall has a singleton class that manages the conjuction IDs
to used in the OF rules. Those conjuntions are used to group rules
related to remote security group IDs.

Now each time the OVS agent is started, the OVS Firewall initial
conjunction ID is calculated based on the present OF rules. This value
and the next one used won't clash with any present rule in the
integration bridge during the initial transient period.

Related-Bug: #1934917

Change-Id: Ie2e4441f766947a2164dec2d1555c7049428903f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/804236/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/services/logapi/drivers/openvswitch/ovs_firewall_log.py']",3,e8b5f421f66275c582fa2ca26122569c31d4539b,bug/1934917, self.conj_id_map = ovsfw.ConjIdMap(self.int_br), self.conj_id_map = ovsfw.ConjIdMap(),34,15
openstack%2Fironic~bugfix%2F18.1~I8cd4cd330551b7bc9a44957e0d15c8b75c09c299,openstack/ironic,bugfix/18.1,I8cd4cd330551b7bc9a44957e0d15c8b75c09c299,Improve edge-case debugging for deployment and cleaning,MERGED,2021-09-03 11:11:27.000000000,2021-09-15 17:53:38.000000000,2021-09-15 00:09:58.000000000,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-03 11:11:27.000000000', 'files': ['ironic/conductor/steps.py', 'ironic/conductor/cleaning.py', 'ironic/conductor/deployments.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6097fafb37f020a9c034855628bbdc62409d7a64', 'message': 'Improve edge-case debugging for deployment and cleaning\n\n* Log traceback in fail_on_error\n  This is a last-resort error handler, it needs to log traceback.\n* Use an assertion when we expect a present list of steps\n* Log the freshly build list of steps.\n\nChange-Id: I8cd4cd330551b7bc9a44957e0d15c8b75c09c299\n(cherry picked from commit f6781aadfc38be1787b4cf6960640e253995f738)\n'}]",0,807262,6097fafb37f020a9c034855628bbdc62409d7a64,17,3,1,10239,,,0,"Improve edge-case debugging for deployment and cleaning

* Log traceback in fail_on_error
  This is a last-resort error handler, it needs to log traceback.
* Use an assertion when we expect a present list of steps
* Log the freshly build list of steps.

Change-Id: I8cd4cd330551b7bc9a44957e0d15c8b75c09c299
(cherry picked from commit f6781aadfc38be1787b4cf6960640e253995f738)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/62/807262/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/steps.py', 'ironic/conductor/cleaning.py', 'ironic/conductor/deployments.py']",3,6097fafb37f020a9c034855628bbdc62409d7a64,cond-debug-bugfix/18.1," _(""Unexpected error when processing next deploy step""), traceback=True) _(""Unexpected error when processing next deploy step""), traceback=True)"," _(""Unexpected error when processing next deploy step"")) _(""Unexpected error when processing next deploy step""))",19,4
openstack%2Freleases~master~Ic8f95e5faac474c7754f6935d25bd15c0c71b69d,openstack/releases,master,Ic8f95e5faac474c7754f6935d25bd15c0c71b69d,Release OpenStack-Ansible Ussuri,MERGED,2021-09-13 14:37:54.000000000,2021-09-15 17:44:29.000000000,2021-09-15 17:44:29.000000000,"[{'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-13 14:37:54.000000000', 'files': ['deliverables/ussuri/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3b221644b400f94c00536424d7750f4156c10305', 'message': 'Release OpenStack-Ansible Ussuri\n\nChange-Id: Ic8f95e5faac474c7754f6935d25bd15c0c71b69d\n'}]",2,808785,3b221644b400f94c00536424d7750f4156c10305,10,3,1,28619,,,0,"Release OpenStack-Ansible Ussuri

Change-Id: Ic8f95e5faac474c7754f6935d25bd15c0c71b69d
",git fetch https://review.opendev.org/openstack/releases refs/changes/85/808785/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/openstack-ansible.yaml'],1,3b221644b400f94c00536424d7750f4156c10305,release_osa, - version: 21.2.10 projects: - repo: openstack/openstack-ansible hash: c66a806ac84e6d9a3c85645fcac3d06cb578590c,,4,0
openstack%2Freleases~master~I4f93ec4e88ac5b741b8dd63c867ac3fe4471e771,openstack/releases,master,I4f93ec4e88ac5b741b8dd63c867ac3fe4471e771,Release OpenStack-Ansible Victoria,MERGED,2021-09-14 10:36:44.000000000,2021-09-15 17:44:27.000000000,2021-09-15 17:44:27.000000000,"[{'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 10:36:44.000000000', 'files': ['deliverables/victoria/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/14702f834e0674a5a14a27a16da4e1dfcc559f99', 'message': 'Release OpenStack-Ansible Victoria\n\nChange-Id: I4f93ec4e88ac5b741b8dd63c867ac3fe4471e771\n'}]",0,808924,14702f834e0674a5a14a27a16da4e1dfcc559f99,10,3,1,28619,,,0,"Release OpenStack-Ansible Victoria

Change-Id: I4f93ec4e88ac5b741b8dd63c867ac3fe4471e771
",git fetch https://review.opendev.org/openstack/releases refs/changes/24/808924/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/openstack-ansible.yaml'],1,14702f834e0674a5a14a27a16da4e1dfcc559f99,release_osa, - version: 22.3.2 projects: - repo: openstack/openstack-ansible hash: 4f5727a61a1e489919c44e3c6124e7fbafe07cff,,4,0
openstack%2Freleases~master~Ic41799db1b9d0844ffe423ddbcc610c5197ee8db,openstack/releases,master,Ic41799db1b9d0844ffe423ddbcc610c5197ee8db,Proposing Xena RC1 for storlets,MERGED,2021-09-13 10:26:12.000000000,2021-09-15 17:35:10.000000000,2021-09-15 17:35:10.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 10:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7e0d96188a6a9634bdc89c1b7a994aec9d6f56ca', 'message': 'Proposing Xena RC1 for storlets\n\nThis proposed a RC1 release for storlets to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 7.0.0..a3583b5\na3583b5 Allow limiting number of containers on a node\n33c403e Accept SIGHUP for graceful shutdown\nb5678a4 Stop Inactive storlet processes automatically\nd0f5560 Run agent processes by the swift user\nd60176c Get rid of SUID binary to restart docker containers\ne2060cd devstack: Make OpenJDK version configurable\nef91a60 Update IRC network to OFTC\nbe9f7fc setup.cfg: Replace dashes with underscores\n7d980c2 Add Python3 xena unit tests\n77b2112 Update master for stable/wallaby\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ic41799db1b9d0844ffe423ddbcc610c5197ee8db\n'}, {'number': 2, 'created': '2021-09-15 14:50:25.000000000', 'files': ['deliverables/xena/storlets.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8d5b10353a370c9d4d10a289039951fadf62989a', 'message': 'Proposing Xena RC1 for storlets\n\nChange-Id: Ic41799db1b9d0844ffe423ddbcc610c5197ee8db\n'}]",0,808731,8d5b10353a370c9d4d10a289039951fadf62989a,12,5,2,28522,,,0,"Proposing Xena RC1 for storlets

Change-Id: Ic41799db1b9d0844ffe423ddbcc610c5197ee8db
",git fetch https://review.opendev.org/openstack/releases refs/changes/31/808731/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/storlets.yaml'],1,7e0d96188a6a9634bdc89c1b7a994aec9d6f56ca,xena-rc1-deadline,releases: - version: 8.0.0.0rc1 projects: - repo: openstack/storlets hash: a3583b598b87132539ce85cf8f5d0ee54736cd41 branches: - name: stable/xena location: 8.0.0.0rc1,,8,0
openstack%2Fmasakari-dashboard~master~I26210e0fbf01b53b6642cc65180be28c49a45b9d,openstack/masakari-dashboard,master,I26210e0fbf01b53b6642cc65180be28c49a45b9d,Add Python3 yoga unit tests,MERGED,2021-09-13 19:47:02.000000000,2021-09-15 17:30:54.000000000,2021-09-15 17:19:04.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-13 19:47:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/95ad7fe404908e4f8049affcc9d23644fa325197', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I26210e0fbf01b53b6642cc65180be28c49a45b9d\n'}]",0,808827,95ad7fe404908e4f8049affcc9d23644fa325197,7,2,1,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I26210e0fbf01b53b6642cc65180be28c49a45b9d
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/27/808827/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,95ad7fe404908e4f8049affcc9d23644fa325197,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Fmasakari-dashboard~stable%2Fxena~Iaa24b8abbc00b61c7a6b36a1dfa037a94bc5f09f,openstack/masakari-dashboard,stable/xena,Iaa24b8abbc00b61c7a6b36a1dfa037a94bc5f09f,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-13 19:46:56.000000000,2021-09-15 17:30:51.000000000,2021-09-15 17:19:02.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-13 19:46:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/a73f1e565d436ab710aa6faec59f16e80cbfab9f', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Iaa24b8abbc00b61c7a6b36a1dfa037a94bc5f09f\n'}]",0,808825,a73f1e565d436ab710aa6faec59f16e80cbfab9f,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Iaa24b8abbc00b61c7a6b36a1dfa037a94bc5f09f
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/25/808825/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a73f1e565d436ab710aa6faec59f16e80cbfab9f,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:TOX_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:TOX_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},5,5
openstack%2Fglance~master~I5d3a80ba52d1d981176456482447768537bb6786,openstack/glance,master,I5d3a80ba52d1d981176456482447768537bb6786,Xena RC-1 release notes,MERGED,2021-09-15 07:39:17.000000000,2021-09-15 17:29:44.000000000,2021-09-15 17:23:01.000000000,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 07:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b97f3b51f061f2dd647b32576b9dffdfc1d79814', 'message': 'Xena RC-1 release notes\n\nChange-Id: I5d3a80ba52d1d981176456482447768537bb6786\n'}, {'number': 2, 'created': '2021-09-15 13:47:36.000000000', 'files': ['releasenotes/notes/xena-rc1-release-notes-12dbe0ac528ce483.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/a43f6b4c5ef03ca2570b330a0af76020960e04a8', 'message': 'Xena RC-1 release notes\n\nChange-Id: I5d3a80ba52d1d981176456482447768537bb6786\n'}]",2,809129,a43f6b4c5ef03ca2570b330a0af76020960e04a8,12,3,2,9303,,,0,"Xena RC-1 release notes

Change-Id: I5d3a80ba52d1d981176456482447768537bb6786
",git fetch https://review.opendev.org/openstack/glance refs/changes/29/809129/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/xena-rc1-release-notes-12dbe0ac528ce483.yaml'],1,b97f3b51f061f2dd647b32576b9dffdfc1d79814,xena-rc1-reno,--- prelude: | The Xena release includes some important milestones in Glance development priorities. * Added support for unified quotas using keystone limits * Moved policy enforcement in API layer * Implemented Secure RBAC project scope for metadef APIs * Fixed some important bugs around multi-store imports and precaching images fixes: - | Bug 1939307_: glance-uwsgi - Add missing cache prefetching periodic job - | Bug 1938103_: assertDictContainsSubset is deprecated since Python3.2 - | Bug 1940733_: [oslo_reports] options are missing from the config file generated by oslo-confi-generator - | Bug 1939944_: The parameters of the healthcheck middlewares are missing from glance-api.conf .. _1939307: https://code.launchpad.net/bugs/1939307 .. _1938103: https://code.launchpad.net/bugs/1938103 .. _1940733: https://code.launchpad.net/bugs/1940733 .. _1939944: https://code.launchpad.net/bugs/1939944 ,,28,0
openstack%2Fmasakari~stable%2Fxena~I436583335861a3782d5c3f30a5da7ed907307cf0,openstack/masakari,stable/xena,I436583335861a3782d5c3f30a5da7ed907307cf0,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-13 19:48:47.000000000,2021-09-15 17:29:18.000000000,2021-09-15 17:14:25.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-13 19:48:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari/commit/84689df70d66ee13adb30cc6f1b8f795e58aa93b', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I436583335861a3782d5c3f30a5da7ed907307cf0\n'}]",0,808829,84689df70d66ee13adb30cc6f1b8f795e58aa93b,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I436583335861a3782d5c3f30a5da7ed907307cf0
",git fetch https://review.opendev.org/openstack/masakari refs/changes/29/808829/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,84689df70d66ee13adb30cc6f1b8f795e58aa93b,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
openstack%2Fmasakari~master~I35a06d1f0d8fcc0a0cc06f2742465255cfcbde37,openstack/masakari,master,I35a06d1f0d8fcc0a0cc06f2742465255cfcbde37,Add Python3 yoga unit tests,MERGED,2021-09-13 19:48:50.000000000,2021-09-15 17:29:18.000000000,2021-09-15 17:14:21.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-13 19:48:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/bb1c2ba6ee1b7cdb2f7cd4b22379303cec80f439', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I35a06d1f0d8fcc0a0cc06f2742465255cfcbde37\n'}]",0,808831,bb1c2ba6ee1b7cdb2f7cd4b22379303cec80f439,7,2,1,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I35a06d1f0d8fcc0a0cc06f2742465255cfcbde37
",git fetch https://review.opendev.org/openstack/masakari refs/changes/31/808831/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bb1c2ba6ee1b7cdb2f7cd4b22379303cec80f439,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Fmasakari-dashboard~master~I5f574bc70c1043c93de124799497ed1c8444d17d,openstack/masakari-dashboard,master,I5f574bc70c1043c93de124799497ed1c8444d17d,Update master for stable/xena,MERGED,2021-09-13 19:46:59.000000000,2021-09-15 17:28:54.000000000,2021-09-15 17:19:03.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-13 19:46:59.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/3e0adf127a992695147df8ca73a3c34f28d47879', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: I5f574bc70c1043c93de124799497ed1c8444d17d\n'}]",0,808826,3e0adf127a992695147df8ca73a3c34f28d47879,7,2,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: I5f574bc70c1043c93de124799497ed1c8444d17d
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/26/808826/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,3e0adf127a992695147df8ca73a3c34f28d47879,reno-xena, xena,,7,0
openstack%2Fmasakari-dashboard~stable%2Fxena~I9508757c2f57e53960b90850c56ba0f4342ea360,openstack/masakari-dashboard,stable/xena,I9508757c2f57e53960b90850c56ba0f4342ea360,Update .gitreview for stable/xena,MERGED,2021-09-13 19:46:53.000000000,2021-09-15 17:28:50.000000000,2021-09-15 17:19:00.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-13 19:46:53.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/275f13fa500d076e75f3634e7ee2b62b86a181b3', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I9508757c2f57e53960b90850c56ba0f4342ea360\n'}]",0,808824,275f13fa500d076e75f3634e7ee2b62b86a181b3,7,2,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I9508757c2f57e53960b90850c56ba0f4342ea360
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/24/808824/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,275f13fa500d076e75f3634e7ee2b62b86a181b3,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fkuryr-tempest-plugin~master~I88fcfbf8f6e8e3a0312d1b7ed98b8dc34ef3e2f9,openstack/kuryr-tempest-plugin,master,I88fcfbf8f6e8e3a0312d1b7ed98b8dc34ef3e2f9,DNM,ABANDONED,2021-09-15 14:01:29.000000000,2021-09-15 17:26:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-15 14:01:29.000000000', 'files': ['kuryr_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/7894acf6e58c4c443e3654b04ae202c9d0cde7fd', 'message': 'DNM\n\n _____________________________\n< Just testing another patch. >\n -----------------------------\n       \\    ____\n        \\  /    \\\n          | ^__^ |\n          | (oo) |______\n          | (__) |      )\\/\\\n           \\____/|----w |\n                ||     ||\n\n                 Moofasa\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-kubernetes/+/802999\nChange-Id: I88fcfbf8f6e8e3a0312d1b7ed98b8dc34ef3e2f9\n'}]",0,809193,7894acf6e58c4c443e3654b04ae202c9d0cde7fd,5,1,1,11600,,,0,"DNM

 _____________________________
< Just testing another patch. >
 -----------------------------
       \    ____
        \  /    \
          | ^__^ |
          | (oo) |______
          | (__) |      )\/\
           \____/|----w |
                ||     ||

                 Moofasa

Depends-On: https://review.opendev.org/c/openstack/kuryr-kubernetes/+/802999
Change-Id: I88fcfbf8f6e8e3a0312d1b7ed98b8dc34ef3e2f9
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/93/809193/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/config.py'],1,7894acf6e58c4c443e3654b04ae202c9d0cde7fd,test-ovn-default,# Just a random comment.,,1,0
openstack%2Fmasakari~master~Id0f01f7d9197e8cdba5fc292aba6ef17b98c96d0,openstack/masakari,master,Id0f01f7d9197e8cdba5fc292aba6ef17b98c96d0,Update master for stable/xena,MERGED,2021-09-13 19:48:48.000000000,2021-09-15 17:23:49.000000000,2021-09-15 17:14:20.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-13 19:48:48.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/masakari/commit/6b26d37b1422a4ed1943d9a348075ce67b05e70e', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: Id0f01f7d9197e8cdba5fc292aba6ef17b98c96d0\n'}]",0,808830,6b26d37b1422a4ed1943d9a348075ce67b05e70e,7,2,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: Id0f01f7d9197e8cdba5fc292aba6ef17b98c96d0
",git fetch https://review.opendev.org/openstack/masakari refs/changes/30/808830/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,6b26d37b1422a4ed1943d9a348075ce67b05e70e,reno-xena, xena,,7,0
openstack%2Fmasakari~stable%2Fxena~I8e52a11f8389635b6155179af86cca77684797b9,openstack/masakari,stable/xena,I8e52a11f8389635b6155179af86cca77684797b9,Update .gitreview for stable/xena,MERGED,2021-09-13 19:48:42.000000000,2021-09-15 17:23:48.000000000,2021-09-15 17:14:23.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-13 19:48:42.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/masakari/commit/06a1559b83c4e2339287e797ef994712c9898aa7', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I8e52a11f8389635b6155179af86cca77684797b9\n'}]",0,808828,06a1559b83c4e2339287e797ef994712c9898aa7,7,2,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I8e52a11f8389635b6155179af86cca77684797b9
",git fetch https://review.opendev.org/openstack/masakari refs/changes/28/808828/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,06a1559b83c4e2339287e797ef994712c9898aa7,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fmasakari-monitors~master~Ic01adf80d034d50ecec0d98f135e25fffc596356,openstack/masakari-monitors,master,Ic01adf80d034d50ecec0d98f135e25fffc596356,Add Python3 yoga unit tests,MERGED,2021-09-15 01:58:00.000000000,2021-09-15 17:23:47.000000000,2021-09-15 17:06:52.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-15 01:58:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/af0f140516e1acbe10471eae3a9e722bc15ac1e1', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ic01adf80d034d50ecec0d98f135e25fffc596356\n'}]",0,809032,af0f140516e1acbe10471eae3a9e722bc15ac1e1,7,2,1,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ic01adf80d034d50ecec0d98f135e25fffc596356
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/32/809032/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,af0f140516e1acbe10471eae3a9e722bc15ac1e1,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Freleases~master~Ie4bfa541be6a6d0257bce02e3ebd8a2c603a5551,openstack/releases,master,Ie4bfa541be6a6d0257bce02e3ebd8a2c603a5551,Proposing Xena RC1 for neutron,MERGED,2021-09-13 09:20:59.000000000,2021-09-15 17:23:39.000000000,2021-09-15 17:23:39.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 09:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/58d1ddbacb95c72b95189e3c8e282f6a772c9db5', 'message': 'Proposing Xena RC1 for neutron\n\nThis proposed a RC1 release for neutron to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 18.0.0.0rc1..7cdc4de11b\n43871e0654 Rename notify to publish\nb8ef8e722a [Functional] Wait for the initial state of ha router before test\n101ccbaeb3 update subport status when trunk/subport create/delete is triggerred\n34acbd6ff8 Replace deprecated assertDictContainsSubset\ne610a5eb9e Don\'t use singleton in routes.middleware.RoutesMiddleware\n27edf6b6d3 Ensure net dict has provider info on precommit delete\n20a13391a2 Use lookup() instead of iterating over table\n82f72896db Add pagging and sorting support for ""network_ip_availability""\nd0c871df19 Rename notify to publish in unit tests\nc178a37615 Add port status to information dictionary in agent RPC\ndc4a57d966 Make OVN driver validate Geneve max_header_size\ne08b571f04 Use ""objects_exist"" in PortForwardingPlugin\n3c305bf6ae Skip FIP check if VALIDATE_MIGRATION is not True\n76ee64f4a8 Fix neutron_pg_drop-related startup issues\n5b8889ad7f [Doc] Fix link to the Mellanox documentation in SR-IOV doc\n1221cf1b24 Agent RPC step size in config.\nb0bb49a8f8 [doc]Correcting broken link\n9cffd7b322 [OVN] Change ControllerAgent type dinamically\ndf891f0593 Remove dhcp_extra_opt value after first newline character\n92c636d8b2 Use payload callback for RPC resource_cache\nb5dd6efdca [DVR] Fix update of the MTU in the SNAT namespace\n89be2951f6 Remove IDL classes implemented in ovsdbapp\n903e66e8e7 ovn: Consider all router ports in is_lsp_router_port()\nb01844be21 Fix typos in agent policy names\ndb4753b6ef use payload for OVSDB_RESOURCE\ne4566031d6 Enable QoS min bw tempest in neutron-ovs-tempest-multinode-full\n701214481f Use more pythonic approach\n1146a4d091 Do not fail when releasing a quota reservation\n668b1cc652 Do not fail if the agent load is not bumped\n0bb9c99d50 Fix gate for neutron-lib v2.14\n31c09cd3b7 Bump os-resource-classes lib to 1.1.0\n21986f2be5 Remove shim in trunk/rpc/backend.py\nd6b1dd4a93 Include oslo.cache options in neutron.conf\nefbe2d3142 neutron-lib: Skip functional tests for changes in unit tests code\n3640ffa0c6 Handle all portbinding attrs in case of bulk port creation\n9ee5722c04 Remove shim in securitygroups_db\ndb7887cafd Add limitation about QoS min bw for PF less SRIOV platforms\n4e325088d3 [OVN] Document Network Availability Zones\n781500daa5 [OVN] Make external ports aware of network AZs\na177249731 Improve content of FloatingIP AFTER callbacks\nb488fb8e22 Use payloads for FloatingIP AFTER callbacks\nc75df16e50 Add missing options to generated neutron.conf\n7988ab5df0 ""default_availability_zones"" need to be considered when validate az\neb430e052d Use neutron-lib payloads for PORT_FORWARDING\n9e0c075bf1 ovn: Don\'t fail db-sync if port binding changes\n82fd968011 [L3HA] Add extra logs to the process of ha state changes\n223e89c950 Make neutron-ovs-tempest-dvr-ha-multinode-full voting\n57cfc57da6 use payloads for FLOATING_IP\nc267125e20 functional: Add debug messages around OVN services\nef83719da2 Use payloads for ROUTER AFTER_ callbacks\n5ee9325fcc Bump neutron-lib to 2.13.0\n8ac9e2fe6d [OVN] Fix Router Availability Zones for segmented networks\ne6c3686cd8 Use elevated context when getting default SG for tenant\nca2885889f Add devstack plugin to enable ovs distributed dhcp service\n63a2a65bbe Skip DVR binding for ports with invalid OFPORT\n40c8f60ee3 Use payloads for ROUTER callbacks\n2356f0eb87 Bump oslo.log to version 4.5.0\nd4b1b4a072 Fix typo in OVN SUPPORTED_DHCP_OPTS_MAPPING dictionary (ia-addr)\nfafcabdbe0 Wait until workers have been launched\na27bb19e74 Reduce the fullstack concurrency to 2\ncaa05f9c56 Update team ownership\ncbef6cda98 Add ""network_id"" to ""_after_router_interface_deleted"" payload\n2e6f6c9ec3 Ensure only one worker creates neturon_pg_drop\nad31c58d60 Remove ``ConfDriver`` code\ne7c61d3eba use payloads for PORT and FLOATING_IP\n8e30639452 [QoS] Add rule type packet per second (pps)\n8261b67b6e bw-limit: Pass int parameters to Open vSwitch\n45a33dcb0a doc: Do not use dvr_snat on computes\n02c0b47d22 Promote neutron-ovn-tempest-slow job to be voting and gating\nc3b99a64fc Revert ""[OVN][Placement] Add a SB Chassis event to track changes in BW config""\nf8ca735e5f Move mech driver VNIC validation to SimpleAgentMechanismDriverBase\ndf5cb28737 [OVN][Placement] Add a SB Chassis event to track changes in BW config\n923284fc37 Use explicit select condition in SQL query in ""_port_filter_hook""\ne961c6d473 Import ABC classes from collection.abc\n899953de6b Add a privsep context only for link commands\ne5f19a29dc [OVN] Fix ML2/OVN + Neutron DHCP agent use case\ne71ba8d2d1 Revert ""Config option to enable OVN IDL on other workers""\n1eabf046f3 Remove ""_protect_original_resources"" workaround\n90980f496c Add wait for the post-fork event to nb/sb objects\n9b2983743b L3 router support ECMP\n3cae410b30 use payloads for PORT AFTER_DELETE events\n827cca2ed7 Sanitize MAC addresses\na03c240ef4 Populate self.floating_ips_dict using ""ip rule"" information\n6ce48c30bd [L3] Use processing queue for network update events\n129b823a8b use payloads for PORT AFTER_UPDATE events\nee67a8412d Remove orphaned event_lock_name attribute\n26b06d246a Use os-resource-classes lib for resource classes names\n1f3762b0fb [OVN] ""ControllerAgent"" should accept Chassis and Chassis_Private\nca15099cde Add devstack local.conf sample for ML2 OVS\n838b1d29c9 Use IP_VERSION_{4,6} constants in ovn_client module\nf637a1f60e Remove SG RPC ""use_enhanced_rpc"" check.\nec550f5f52 Add fake_project_id middleware for noauth\n3b46df4847 Change fullstack dhclient lease file to tmp folder\nbe7d0bb6ab Update arp entry of snat port on qrouter ns\nf6c3747cae Use elevated context to get default SG from database\n6d570dfd7d Notify ROUTER_GATEWAY event for router gw mode\n6a74cd76fd [OVN] Do not fail when processing SG rule deletion\n5c9a7fe1b4 Add extra logs to the network update callback in L3 agent\ncde0f68f9e [OVN] Add binding-extended to the ML2_SUPPORTED_API_EXTENSIONS\n1a99adb530 Refactor DHCP common config options\n31c0ef9dbe Correctly label port as SubPort in SubPortNotFound\n9ae22b1fef Fix ObjectChangeHandler thread usage\n4b22eea4be Add fullstack test case for OVS DHCP extension\nb05a9186d1 use callback payloads for SECURITY_GROUP\nb189b0f322 Use OVS backend for testing os-ken library\nd7ca286e6c Make explicit the network backend used in the CI jobs\ndb2207f32d [ML2] Change way how list of supported API extensions is made\nbc82a664b6 Move dns-integration extension to the ML2_SUPPORTED_API_EXTENSIONS list\n6bc1c00d66 Copy existing IPv6 leases to generated lease file\n5fb5653ffe Check router routes connectivity when GW port is updated\n0af8497076 Improve Port list and show\n56e8498a4d Add agent extension \'dhcp\' for ovs agent\ncd8c4f7e30 use callback payloads for SUBNET\ndbfa1b5d92 Remove tox_install_siblings=False from the functional job\'s definition\n324a35a3d0 use payloads for PORT BEFORE_UPDATE events\n0cd01edc9c [OVN] Add subnet-service-types as supported by OVN mech driver\n953eb92a4f [OVN] Disable mcast_flood on localnet ports\n941be42a61 use callback payloads for SECURITY_GROUP_RULE\n66ac943b64 Config option to enable OVN IDL on other workers\n1e2088abbe Fix priority review dashboard\n2ea7d66216 Bump neutron-lib to 2.12.0\nac1597d009 [L3] Add some logs for router processing\nb74a272bba Add CONTEXT_WRITER decorator to delete_floatingip_agent_gateway_port\n8cc7c0cf7a Remove FIP agent\'s gw port when L3 agent is deleted\n5b5bc483ae Fix devstack path in plugin.sh\n976cba6133 Force to close http connection after notify about HA router status\n8954b33576 Bump minimal ovsdbapp version to 1.11.0\n95d80a2757 [OVN] neutron-ovn-metadat-agent add retry logic for sb_idl\n39bc84cfb2 Add localport const and refactor\nc7e1de09e1 [Docs] Add info about vlan transparent networks\' MTU\n8f656aab7c Fix QoS dscp rule permissions in documentation\nd7371e13e4 Revert ""Set system_scope=\'all\' in elevated context""\n4df01d6eaa Add policy rules for extraroute-atomic API\n577217c52d Make default hypervisor hostname compatible with libvirt\na2e5daccb3 Add support for OVN allow-stateless ACLs\n68d62fa18d Enable tls-proxy support in the tempest jobs\n817d807e9d Load Linux Bridge Trunk extension if service plugin configured\n6ada912414 Set trunk sub-port when bind profile is created\ne3bb98c7e7 Bump os-ken to 2.0.0\n48af145d95 Add ""nova:live_migration_events"" flag to subnode in multinode CI job\nda760973be Use ""multiprocessing.Queue"" for ""TestNeutronServer"" related tests\n4173fb6ca3 [Doc] Remove one of the known DVR HA limitations\na292bea168 Add the DHCPReponder for IPv6\ncc3dc7c850 Add CONTEXT_READER decorator to ""get_ha_router_port_bindings""\nc0846c6518 Fix ""config-routed-networks"" document errors\na1ca4980da Remove timeout skip guard for LP#1687027\n730117ddb0 Switch neutron multinode jobs to ML2/OVS\n437a311eca Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n07337f9e99 Use 2 dhcp agents in TestLegacyL3Agent\n07c64d8384 Payloads for PORT: BEFORE_CREATE and PRECOMMIT_CREATE\n95656a5893 Update handler for PORT AFTER_CREATE\n13994d2327 Mark fullstack test_l2_agent_restart as unstable\ncfd8232cd3 Added dnsmasq for opensuse installation\na660f77d38 Remove ""mitogen"" library installation from ""docs"" job\n6afdff8494 Bump lower version of evenlet to 0.25.1\nc915b93e76 Bump alembic to 1.6.5\nbe43141a5f Provide the rpc_response_max_timeout parameter to sriov-agent\n1e8197fee5 Add tests for service_type API\'s new policy rules\n962d2539a1 Change API policy for service_type to be available for all readers\n6fb2f513da [OVN] Add \'port-mac-address-regenerate\' to the supported extensions\n7d8a5eb5a7 [OVN] Add availability zone to the ML2_SUPPORTED_API_EXTENSIONS list\nfd8b88ef54 Do a quick FIP check on port delete\n65cce351d7 Use TCP keepalives for ovsdb connections\n96b2926671 Add CONTEXT_READER to ""get_reservations_for_resources""\n383f209b50 [DHCP] Fix cleanup_deleted_ports method\n074c131b57 Disable pep8 import check for pyroute2 library\nc9fce3a8b6 use payloads for PORT AFTER_CREATE events\n4ab699e5cd use payloads for ROUTER_INTERFACE events\n17adb4c3fb Use payloads for ADDRESS_GROUP callback events\n36ba1cc319 [ovn][metadata] Remove metadata readiness mechanism\n05ee23ea15 Follow up for replacing assertItemsEqual\n77ac42d2ee SR-IOV agent can handle ports with same MAC addresses\n05ce5a1f94 VLAN ""allocate_partially_specified_segment"" can return any physnet\nd0b16473d8 [FT] Remove skip guard from SQL tests\n2244af771f Add ""filter-validation"" support for ""OVNL3RouterPlugin""\nf450886ff9 Allow the use of legacy routers within RPN segments\na98fe51b83 Set ""floatingip.fixed_port"" as viewonly\n4de350a54a Switch neutron-rally-task job to ML2/OVS and skip ""test_models_sync""\n4cd11f4dee Use local and ip address to create vxlan interface\nc4fb1d1711 [Doc] Update Freenode to OFTC as our IRC server\nb141aed512 Remove leading zeroes from an IP address\n7f0ca67ed6 Remove the devstack/lib/ovs in favour of ""ovs_source"" from DevStack\nedc3852c83 Fix phys network lost after reconfigure\nf83c77bb12 Add tests for port API\'s new policy rules\n444ef49bea Add test cases for concurrently Object delete\nf52280287f Improve Subnet create performance\nbdd50ffcde Improve Subnet delete performance\nab0895fdf4 Change minversion of tox to 3.18.0\n028c544b05 Add script to aid in using ovn-trace with OpenStack\na75fc891bc Add mitogen to the docs requirements\n951a3f0eb3 Deprecate and remove ""get_agents_db""\n54420d04dd Skip ""test_keepalived_spawns_conflicting_*"" tests\ne135a8221d New Quota driver ``DbQuotaNoLockDriver``\n9e6b7a2284 Install ""pyroute2"" as a doc job depedency\n2a4074918c Remove call to ""fixup_ubuntu""\n7b59b5069b [DVR] Send allowed address pairs info to the L3 agents\nc540f789af [OVN] Re-enable dstat for the OVN jobs\nf9bda4b1e4 Set the default ``Backend.lookup`` timeout to 2 seconds\nddf0fef28b Add a single option to override the default hypervisor name\nfa7c7282f0 Make phynet paramter also is optional when network_segment_range enabled\nf192153b44 HA-non-DVR router don\'t need manually add static route\n4e3f65ceef Fix wrong assertion methods in a unit test\n2c192b78a2 setup.cfg: Replace dashes with underscores\nadfd853267 Deprecate [designate] admin_* parameters\n89fd50d0f9 Adding placement auth options to oslo.config entry_points\n4aa5de254d use payloads for NETWORK callback events\n2321339ee6 Fix SQLAlchemy warnings with view only relationships\ndcd277f4f1 Add physnet name case sensitivity limitation to the qos doc\na77a97371e [ovn] Clean-up unused ACL method for DHCP\n2d97f3edb2 use payloads for SEGMENT events\n317407fe61 [OVN] Check for lock in check_for_mcast_flood_reports\nef1d33e754 Update Neutron\'s Liuetenants\n0aab51c9f8 ovn: Don\'t use dict.remove() for filtering dhcp ports in db-sync\nc511964d70 Replace ""get_routing_table"" with ""list_ip_routes""\n69ef824069 Use payloads for TRUNK and SUBPORTS callbacks\n2cf4314553 Implement multipath routing in route commands\nca1c6fd69b designate: allow PTR zone creation to fail\nddc8e625f7 [OVN] Fix: Disabling snat after it was enabled\nde295f036d Do not include dynamically loaded values into OVO testing\n9911d414c6 Improve ""objects.db.api.count"" method\n97e34498f7 Fix ""nftables"" ansible role\n28cd6c82e9 Added common config and SR-IOV agent config to sanity check\nc16f88d148 Report ExternalDNSOverQuota exception for recordset quota error\n87a7a5e32e [Fullstack] Add segmentation_id update test\n8b39060ddf Fix SQLAlchemy backref warnings for viewonly columns\n4d61903bb8 [OVN] Add ""filter-validation"" extension to supported list\nce2c0010b9 [OVN] MetadataProxyHandler to conditionally monitor both Chassis\'s tables\n25d1f9b948 Clean up the deprecated options for Xen API support\n9144444b79 Add tests for Security Groups API\'s new policy rules\n47038c27c5 Add missing ""system"" scope in some of the new API policies\nca2091d5a9 Change wrong ""admin"" scope in floatingip_pools to correct ""system""\n43c10aae86 [OVN] External network ports (SR-IOV) QoS is handled by SR-IOV agent\n1a3fa2206d ovn: Add functional tests for get_network_port_bindings_by_ip\n32e938e698 [OVN] Only account for bound ports in metadata agent\n947e8a041c Remove SRIOV attach limitation from the doc\n456acdeb8f ovn-migration: Delete FIP agent gateway ports\n39ccc0d6d6 Don\'t ever give up trying to connect to OVN DBs\n02a6ddaa86 Add neutron-tempest-with-neutron-lib-master to the periodic queue\ne4008fec1e Remove networking-midonet from our docs\ne8909a65d4 Improve Subnet update performance\ncd4d96a4f7 Use exceptions and resources from neutron-lib\n466a6f98ed Update OVN docs\n5b66259bb8 Remove unused method ""get_ovsdb_connection""\n662cd60075 [OVN] Fix FDB table not registered in OvnSbIdl\nce19fc9493 Remove check if set_extra_attr_value is run in the transaction\nb70247eeb9 Doc: add section about OVS filtering tables\n1483b63ffa Add enable_dhcp filter in get_network_info rpc\n80eddc4039 Improve Network delete performance\n088f1298f2 Initialize privsep library in Neutron commands\n1dfbf5b345 Initialize privsep library for neutron-ovs-cleanup\n02f4eca1ae Pass existing DB obj to save DB requests\nca7822e210 [ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses\nba3d78099f Remove unused method _ensure_vr_id_and_network()\n282dc73e12 Get only FIP ID on network delete\n960f3694f4 Improve AddressScope.get_bound_tenant_ids method\nb221a4af33 Improve port delete performance\n44670f88dd Revert ""Cache default security group IDs in memory""\nfcc8d5358e Unit tests for Agent API secure-rbac-policies\n3b331b31f2 Add tests for metering API\'s new policy rules\n26e0d47cc5 Allow system_scope personas (SYSTEM_ADMIN) to create router\n89a31185cb Unit tests for Quotas API\'s secure-rbac-policies\n5d4f5e4645 Add tests for L3 conntrack helper API\'s new policy rules\nd8305c34e1 Add tests for FIPs port forwarding API\'s new policy rules\nf6483ee9ec Add tests for network segment range API\'s new policy rules\nf7d2c3608d Add periodic jobs to test ""nftables"" binaries\n109faeac7e trivial: Make driver_controller\'s _attrs_to_driver py3 compatible\n888f914df1 [ovn]: Remove unwanted IP addresses from OVN ports\nf616f84e95 Implement conntrack command privsep context\n3cee5f7201 Implement namespace operations privsep context\nf946773d1f Configure branch on which tripleo jobs should be run\n0a931391d8 Make ARP protection commands compatible with ""ebtables-nft""\ne5ccfee6cf Always use absolute path for custom kill-scripts\n130655cdb9 DHCP notification optimization\n7326fd622f Group execution of SQL functional tests\n960b810eac Document Linux Bridge compatibility with ""nftables""\n2c386638ba trivial: Reduce duplication in project network tests\ne96fcd0532 trivial: Reduce duplication in network policy tests\n6533337716 [Functional] Fix mocks of the create_dhcp_port method\n07cf942015 [OVN] Re-enable test_port_security_macspoofing_port for slow jobs\necaa7a1b48 Check there are no min BW QoS in ""BaseOVSTestCase""\n4494e728ac Add tests for trunk API\'s new policy rules\nee0029d682 Add tests for subnet API\'s new policy rules\nbe881b9b30 Add tests for subnetpool API\'s new policy rules\n4ff3ae3235 Add tests for segments API\'s new policy rules\n7b93c0ea77 Add tests for router API\'s new policy rules\nba8aff6307 Add tests for RBAC API\'s new policy rules\n10411d786b Add tests for FIPs API\'s new policy rules\nde69a55378 Fix new API policies for RBAC\ncca2b8de2c Fix ""_get_sg_members"" method\n98a7768994 Add tests for QoS API\'s new policy rules\n8522628f2f Remove FT ""test_has_offline_migrations_*"" tests\n48bce78d1a Remove class ""Timer""\n433deed0b7 Cache default security group IDs in memory\nae78e812d1 ovn-migration: Introduce migrate mode to DB sync tool\nbe6ee6f397 Remove not needed rootwrap filters\ncabf19a984 Fix API policy rules for new personas\n2bc1572740 Fix create_port new API policy roles\nbde437e6d3 Add tests for network API\'s new policy rules\n83a6418d68 Fix new Network API policy rules\n1785b211a0 Add tests for Network IP availability API\'s new policy rules\n6dc5a869b1 Add tests for logging API\'s new policy rules\ndd6cd3fb8a Fix Floating IP policy rules\n6655f7d623 Add tests for floatingip pools API\'s new policy rules\nbecb42b92e Migrate ""ovs-ofctl"" to oslo.privsep\n19b9ed3ce7 Add tests for flavors API\'s new policy rules\n7ca896cfe3 ""OvnNbApiIdlImpl.qos_del"" supports ""if_exists"" parameter\nf6682b6b55 Unit tests for auto_allocated_topology API policies\n89a9c18ab8 Use user_id instead of deprecated user in the policy unit tests\nf700660b6b [OVN] External ports (SR-IOV) QoS is handled by SR-IOV agent\naf3c1b8442 Add locks for setting iptables rules in l3 and metadata agents\nc1ade52fda Read keepalived initial state in parallel to interface monitoring\n0be52e91e4 Add grafana dashboards step to major release checklist\nb0022c51fe Add the DHCPReponder for IPv4\n35c7999ebd Allow 255 character strings in tags\n5c744b23f0 Mark ""test_keepalived_spawns_conflicting_pid_*"" tests as unstable\nca8f1a20c5 Open Xena DB branch\nb91ab3924e Add Python3 xena unit tests\n83405d54c1 Update master for stable/wallaby\n7f35e4e857 Physical NIC RP should be child of agent RP\n24dcbcbe09 Block metadata requests to not go out from the router\nfd6ee70c3d Migrate address-group API to the new secure rbac rules\nd4147072f8 Modify create address scope policy rule and add UT for that API\n94bea77fd7 migration: Remove crudini when migrating tunnels\n1c2b7e1a58 [OVN] Add single node tempest job with OVN master branch (exp. pipeline)\n6eaa6d83d7 Randomize segmentation ID assignation\nae07a9d9f6 [CI] Enable debugging iptables rule in the L3 agent\n92a4db01fe [OVN][FT] Mech driver stop accessing DB at exit\n7727fc07e6 Allow to parse keywords in dns labels\neb56747851 Implement namespace creation method\n43c60d6216 Syncing neutron db with ovn does not provide external_ids for static routes\n95ee3bfeaf [ovn] Add \'address_group\' extension to OVN\n3347e11572 Update version of doc8\n62729d4e74 Replace assertItemsEqual with assertCountEqual\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ie4bfa541be6a6d0257bce02e3ebd8a2c603a5551\n'}, {'number': 2, 'created': '2021-09-15 10:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/84863964ef3cdd8e6d940e656a3f47db4d7b8ef6', 'message': 'Proposing Xena RC1 for neutron\n\nThis proposed a RC1 release for neutron to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 18.0.0.0rc1..ed3374746d\n421dc2195c Redefine ""neutron-ovn-tempest-ovs-master-fedora"" CI job\n43871e0654 Rename notify to publish\nb8ef8e722a [Functional] Wait for the initial state of ha router before test\n101ccbaeb3 update subport status when trunk/subport create/delete is triggerred\n7f06322355 Delete SG log entries when SG is deleted\n34acbd6ff8 Replace deprecated assertDictContainsSubset\ne610a5eb9e Don\'t use singleton in routes.middleware.RoutesMiddleware\n27edf6b6d3 Ensure net dict has provider info on precommit delete\n20a13391a2 Use lookup() instead of iterating over table\n82f72896db Add pagging and sorting support for ""network_ip_availability""\nd0c871df19 Rename notify to publish in unit tests\nc178a37615 Add port status to information dictionary in agent RPC\ndc4a57d966 Make OVN driver validate Geneve max_header_size\ne08b571f04 Use ""objects_exist"" in PortForwardingPlugin\n3c305bf6ae Skip FIP check if VALIDATE_MIGRATION is not True\n76ee64f4a8 Fix neutron_pg_drop-related startup issues\n5b8889ad7f [Doc] Fix link to the Mellanox documentation in SR-IOV doc\n1221cf1b24 Agent RPC step size in config.\nb0bb49a8f8 [doc]Correcting broken link\n9cffd7b322 [OVN] Change ControllerAgent type dinamically\ndf891f0593 Remove dhcp_extra_opt value after first newline character\n92c636d8b2 Use payload callback for RPC resource_cache\nb5dd6efdca [DVR] Fix update of the MTU in the SNAT namespace\n89be2951f6 Remove IDL classes implemented in ovsdbapp\n903e66e8e7 ovn: Consider all router ports in is_lsp_router_port()\nb01844be21 Fix typos in agent policy names\ndb4753b6ef use payload for OVSDB_RESOURCE\ne4566031d6 Enable QoS min bw tempest in neutron-ovs-tempest-multinode-full\n701214481f Use more pythonic approach\n1146a4d091 Do not fail when releasing a quota reservation\n668b1cc652 Do not fail if the agent load is not bumped\n0bb9c99d50 Fix gate for neutron-lib v2.14\n31c09cd3b7 Bump os-resource-classes lib to 1.1.0\n21986f2be5 Remove shim in trunk/rpc/backend.py\nd6b1dd4a93 Include oslo.cache options in neutron.conf\nefbe2d3142 neutron-lib: Skip functional tests for changes in unit tests code\n344fc0c8d2 Revert ""[L3][HA] Retry when setting HA router GW status.""\n3640ffa0c6 Handle all portbinding attrs in case of bulk port creation\n9ee5722c04 Remove shim in securitygroups_db\ndb7887cafd Add limitation about QoS min bw for PF less SRIOV platforms\n4e325088d3 [OVN] Document Network Availability Zones\n781500daa5 [OVN] Make external ports aware of network AZs\na177249731 Improve content of FloatingIP AFTER callbacks\nb488fb8e22 Use payloads for FloatingIP AFTER callbacks\nc75df16e50 Add missing options to generated neutron.conf\n7988ab5df0 ""default_availability_zones"" need to be considered when validate az\neb430e052d Use neutron-lib payloads for PORT_FORWARDING\n9e0c075bf1 ovn: Don\'t fail db-sync if port binding changes\n82fd968011 [L3HA] Add extra logs to the process of ha state changes\n223e89c950 Make neutron-ovs-tempest-dvr-ha-multinode-full voting\n57cfc57da6 use payloads for FLOATING_IP\nc267125e20 functional: Add debug messages around OVN services\nef83719da2 Use payloads for ROUTER AFTER_ callbacks\n5ee9325fcc Bump neutron-lib to 2.13.0\n8ac9e2fe6d [OVN] Fix Router Availability Zones for segmented networks\ne6c3686cd8 Use elevated context when getting default SG for tenant\nca2885889f Add devstack plugin to enable ovs distributed dhcp service\n63a2a65bbe Skip DVR binding for ports with invalid OFPORT\n40c8f60ee3 Use payloads for ROUTER callbacks\n2356f0eb87 Bump oslo.log to version 4.5.0\nd4b1b4a072 Fix typo in OVN SUPPORTED_DHCP_OPTS_MAPPING dictionary (ia-addr)\nfafcabdbe0 Wait until workers have been launched\na27bb19e74 Reduce the fullstack concurrency to 2\ncaa05f9c56 Update team ownership\ncbef6cda98 Add ""network_id"" to ""_after_router_interface_deleted"" payload\n2e6f6c9ec3 Ensure only one worker creates neturon_pg_drop\nad31c58d60 Remove ``ConfDriver`` code\ne7c61d3eba use payloads for PORT and FLOATING_IP\n8e30639452 [QoS] Add rule type packet per second (pps)\n8261b67b6e bw-limit: Pass int parameters to Open vSwitch\n45a33dcb0a doc: Do not use dvr_snat on computes\n02c0b47d22 Promote neutron-ovn-tempest-slow job to be voting and gating\nc3b99a64fc Revert ""[OVN][Placement] Add a SB Chassis event to track changes in BW config""\nf8ca735e5f Move mech driver VNIC validation to SimpleAgentMechanismDriverBase\ndf5cb28737 [OVN][Placement] Add a SB Chassis event to track changes in BW config\n923284fc37 Use explicit select condition in SQL query in ""_port_filter_hook""\ne961c6d473 Import ABC classes from collection.abc\n899953de6b Add a privsep context only for link commands\ne5f19a29dc [OVN] Fix ML2/OVN + Neutron DHCP agent use case\ne71ba8d2d1 Revert ""Config option to enable OVN IDL on other workers""\n1eabf046f3 Remove ""_protect_original_resources"" workaround\n90980f496c Add wait for the post-fork event to nb/sb objects\n9b2983743b L3 router support ECMP\ne0ea4a51ba [L2] no provisioning block for internal service port\n3cae410b30 use payloads for PORT AFTER_DELETE events\n827cca2ed7 Sanitize MAC addresses\na03c240ef4 Populate self.floating_ips_dict using ""ip rule"" information\n6ce48c30bd [L3] Use processing queue for network update events\n129b823a8b use payloads for PORT AFTER_UPDATE events\nee67a8412d Remove orphaned event_lock_name attribute\n26b06d246a Use os-resource-classes lib for resource classes names\n1f3762b0fb [OVN] ""ControllerAgent"" should accept Chassis and Chassis_Private\nca15099cde Add devstack local.conf sample for ML2 OVS\n838b1d29c9 Use IP_VERSION_{4,6} constants in ovn_client module\nf637a1f60e Remove SG RPC ""use_enhanced_rpc"" check.\nec550f5f52 Add fake_project_id middleware for noauth\n3b46df4847 Change fullstack dhclient lease file to tmp folder\nbe7d0bb6ab Update arp entry of snat port on qrouter ns\nf6c3747cae Use elevated context to get default SG from database\n6d570dfd7d Notify ROUTER_GATEWAY event for router gw mode\n6a74cd76fd [OVN] Do not fail when processing SG rule deletion\n5c9a7fe1b4 Add extra logs to the network update callback in L3 agent\ncde0f68f9e [OVN] Add binding-extended to the ML2_SUPPORTED_API_EXTENSIONS\n1a99adb530 Refactor DHCP common config options\n31c0ef9dbe Correctly label port as SubPort in SubPortNotFound\n9ae22b1fef Fix ObjectChangeHandler thread usage\n4b22eea4be Add fullstack test case for OVS DHCP extension\nb05a9186d1 use callback payloads for SECURITY_GROUP\nb189b0f322 Use OVS backend for testing os-ken library\nd7ca286e6c Make explicit the network backend used in the CI jobs\ndb2207f32d [ML2] Change way how list of supported API extensions is made\nbc82a664b6 Move dns-integration extension to the ML2_SUPPORTED_API_EXTENSIONS list\n6bc1c00d66 Copy existing IPv6 leases to generated lease file\n5fb5653ffe Check router routes connectivity when GW port is updated\n0af8497076 Improve Port list and show\n56e8498a4d Add agent extension \'dhcp\' for ovs agent\ncd8c4f7e30 use callback payloads for SUBNET\ndbfa1b5d92 Remove tox_install_siblings=False from the functional job\'s definition\n324a35a3d0 use payloads for PORT BEFORE_UPDATE events\n0cd01edc9c [OVN] Add subnet-service-types as supported by OVN mech driver\n953eb92a4f [OVN] Disable mcast_flood on localnet ports\n941be42a61 use callback payloads for SECURITY_GROUP_RULE\n66ac943b64 Config option to enable OVN IDL on other workers\n1e2088abbe Fix priority review dashboard\n2ea7d66216 Bump neutron-lib to 2.12.0\nac1597d009 [L3] Add some logs for router processing\nb74a272bba Add CONTEXT_WRITER decorator to delete_floatingip_agent_gateway_port\n8cc7c0cf7a Remove FIP agent\'s gw port when L3 agent is deleted\n5b5bc483ae Fix devstack path in plugin.sh\n976cba6133 Force to close http connection after notify about HA router status\n8954b33576 Bump minimal ovsdbapp version to 1.11.0\n95d80a2757 [OVN] neutron-ovn-metadat-agent add retry logic for sb_idl\n39bc84cfb2 Add localport const and refactor\nc7e1de09e1 [Docs] Add info about vlan transparent networks\' MTU\n8f656aab7c Fix QoS dscp rule permissions in documentation\nd7371e13e4 Revert ""Set system_scope=\'all\' in elevated context""\n4df01d6eaa Add policy rules for extraroute-atomic API\n577217c52d Make default hypervisor hostname compatible with libvirt\na2e5daccb3 Add support for OVN allow-stateless ACLs\n68d62fa18d Enable tls-proxy support in the tempest jobs\n817d807e9d Load Linux Bridge Trunk extension if service plugin configured\n6ada912414 Set trunk sub-port when bind profile is created\ne3bb98c7e7 Bump os-ken to 2.0.0\n48af145d95 Add ""nova:live_migration_events"" flag to subnode in multinode CI job\nda760973be Use ""multiprocessing.Queue"" for ""TestNeutronServer"" related tests\n4173fb6ca3 [Doc] Remove one of the known DVR HA limitations\na292bea168 Add the DHCPReponder for IPv6\ncc3dc7c850 Add CONTEXT_READER decorator to ""get_ha_router_port_bindings""\nc0846c6518 Fix ""config-routed-networks"" document errors\na1ca4980da Remove timeout skip guard for LP#1687027\n730117ddb0 Switch neutron multinode jobs to ML2/OVS\n437a311eca Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n07337f9e99 Use 2 dhcp agents in TestLegacyL3Agent\n07c64d8384 Payloads for PORT: BEFORE_CREATE and PRECOMMIT_CREATE\n95656a5893 Update handler for PORT AFTER_CREATE\n13994d2327 Mark fullstack test_l2_agent_restart as unstable\ncfd8232cd3 Added dnsmasq for opensuse installation\na660f77d38 Remove ""mitogen"" library installation from ""docs"" job\n6afdff8494 Bump lower version of evenlet to 0.25.1\nc915b93e76 Bump alembic to 1.6.5\nbe43141a5f Provide the rpc_response_max_timeout parameter to sriov-agent\n1e8197fee5 Add tests for service_type API\'s new policy rules\n962d2539a1 Change API policy for service_type to be available for all readers\n6fb2f513da [OVN] Add \'port-mac-address-regenerate\' to the supported extensions\n7d8a5eb5a7 [OVN] Add availability zone to the ML2_SUPPORTED_API_EXTENSIONS list\nfd8b88ef54 Do a quick FIP check on port delete\n65cce351d7 Use TCP keepalives for ovsdb connections\n96b2926671 Add CONTEXT_READER to ""get_reservations_for_resources""\n383f209b50 [DHCP] Fix cleanup_deleted_ports method\n074c131b57 Disable pep8 import check for pyroute2 library\nc9fce3a8b6 use payloads for PORT AFTER_CREATE events\n4ab699e5cd use payloads for ROUTER_INTERFACE events\n17adb4c3fb Use payloads for ADDRESS_GROUP callback events\n36ba1cc319 [ovn][metadata] Remove metadata readiness mechanism\n05ee23ea15 Follow up for replacing assertItemsEqual\n77ac42d2ee SR-IOV agent can handle ports with same MAC addresses\n05ce5a1f94 VLAN ""allocate_partially_specified_segment"" can return any physnet\nd0b16473d8 [FT] Remove skip guard from SQL tests\n2244af771f Add ""filter-validation"" support for ""OVNL3RouterPlugin""\nf450886ff9 Allow the use of legacy routers within RPN segments\na98fe51b83 Set ""floatingip.fixed_port"" as viewonly\n4de350a54a Switch neutron-rally-task job to ML2/OVS and skip ""test_models_sync""\n4cd11f4dee Use local and ip address to create vxlan interface\nc4fb1d1711 [Doc] Update Freenode to OFTC as our IRC server\nb141aed512 Remove leading zeroes from an IP address\n7f0ca67ed6 Remove the devstack/lib/ovs in favour of ""ovs_source"" from DevStack\nedc3852c83 Fix phys network lost after reconfigure\nf83c77bb12 Add tests for port API\'s new policy rules\n444ef49bea Add test cases for concurrently Object delete\nf52280287f Improve Subnet create performance\nbdd50ffcde Improve Subnet delete performance\nab0895fdf4 Change minversion of tox to 3.18.0\n028c544b05 Add script to aid in using ovn-trace with OpenStack\na75fc891bc Add mitogen to the docs requirements\n951a3f0eb3 Deprecate and remove ""get_agents_db""\n54420d04dd Skip ""test_keepalived_spawns_conflicting_*"" tests\ne135a8221d New Quota driver ``DbQuotaNoLockDriver``\n9e6b7a2284 Install ""pyroute2"" as a doc job depedency\n2a4074918c Remove call to ""fixup_ubuntu""\n7b59b5069b [DVR] Send allowed address pairs info to the L3 agents\nc540f789af [OVN] Re-enable dstat for the OVN jobs\nf9bda4b1e4 Set the default ``Backend.lookup`` timeout to 2 seconds\nddf0fef28b Add a single option to override the default hypervisor name\nfa7c7282f0 Make phynet paramter also is optional when network_segment_range enabled\nf192153b44 HA-non-DVR router don\'t need manually add static route\n4e3f65ceef Fix wrong assertion methods in a unit test\n2c192b78a2 setup.cfg: Replace dashes with underscores\nadfd853267 Deprecate [designate] admin_* parameters\n89fd50d0f9 Adding placement auth options to oslo.config entry_points\n4aa5de254d use payloads for NETWORK callback events\n2321339ee6 Fix SQLAlchemy warnings with view only relationships\ndcd277f4f1 Add physnet name case sensitivity limitation to the qos doc\na77a97371e [ovn] Clean-up unused ACL method for DHCP\n2d97f3edb2 use payloads for SEGMENT events\n317407fe61 [OVN] Check for lock in check_for_mcast_flood_reports\nef1d33e754 Update Neutron\'s Liuetenants\n0aab51c9f8 ovn: Don\'t use dict.remove() for filtering dhcp ports in db-sync\nc511964d70 Replace ""get_routing_table"" with ""list_ip_routes""\n69ef824069 Use payloads for TRUNK and SUBPORTS callbacks\n2cf4314553 Implement multipath routing in route commands\nca1c6fd69b designate: allow PTR zone creation to fail\nddc8e625f7 [OVN] Fix: Disabling snat after it was enabled\nde295f036d Do not include dynamically loaded values into OVO testing\n9911d414c6 Improve ""objects.db.api.count"" method\n97e34498f7 Fix ""nftables"" ansible role\n28cd6c82e9 Added common config and SR-IOV agent config to sanity check\nc16f88d148 Report ExternalDNSOverQuota exception for recordset quota error\n87a7a5e32e [Fullstack] Add segmentation_id update test\n8b39060ddf Fix SQLAlchemy backref warnings for viewonly columns\n4d61903bb8 [OVN] Add ""filter-validation"" extension to supported list\nce2c0010b9 [OVN] MetadataProxyHandler to conditionally monitor both Chassis\'s tables\n25d1f9b948 Clean up the deprecated options for Xen API support\n9144444b79 Add tests for Security Groups API\'s new policy rules\n47038c27c5 Add missing ""system"" scope in some of the new API policies\nca2091d5a9 Change wrong ""admin"" scope in floatingip_pools to correct ""system""\n43c10aae86 [OVN] External network ports (SR-IOV) QoS is handled by SR-IOV agent\n1a3fa2206d ovn: Add functional tests for get_network_port_bindings_by_ip\n32e938e698 [OVN] Only account for bound ports in metadata agent\n947e8a041c Remove SRIOV attach limitation from the doc\n456acdeb8f ovn-migration: Delete FIP agent gateway ports\n39ccc0d6d6 Don\'t ever give up trying to connect to OVN DBs\n02a6ddaa86 Add neutron-tempest-with-neutron-lib-master to the periodic queue\ne4008fec1e Remove networking-midonet from our docs\ne8909a65d4 Improve Subnet update performance\ncd4d96a4f7 Use exceptions and resources from neutron-lib\n466a6f98ed Update OVN docs\n5b66259bb8 Remove unused method ""get_ovsdb_connection""\n662cd60075 [OVN] Fix FDB table not registered in OvnSbIdl\nce19fc9493 Remove check if set_extra_attr_value is run in the transaction\nb70247eeb9 Doc: add section about OVS filtering tables\n1483b63ffa Add enable_dhcp filter in get_network_info rpc\n80eddc4039 Improve Network delete performance\n088f1298f2 Initialize privsep library in Neutron commands\n1dfbf5b345 Initialize privsep library for neutron-ovs-cleanup\n02f4eca1ae Pass existing DB obj to save DB requests\nca7822e210 [ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses\nba3d78099f Remove unused method _ensure_vr_id_and_network()\n282dc73e12 Get only FIP ID on network delete\n960f3694f4 Improve AddressScope.get_bound_tenant_ids method\nb221a4af33 Improve port delete performance\n44670f88dd Revert ""Cache default security group IDs in memory""\nfcc8d5358e Unit tests for Agent API secure-rbac-policies\n3b331b31f2 Add tests for metering API\'s new policy rules\n26e0d47cc5 Allow system_scope personas (SYSTEM_ADMIN) to create router\n89a31185cb Unit tests for Quotas API\'s secure-rbac-policies\n5d4f5e4645 Add tests for L3 conntrack helper API\'s new policy rules\nd8305c34e1 Add tests for FIPs port forwarding API\'s new policy rules\nf6483ee9ec Add tests for network segment range API\'s new policy rules\nf7d2c3608d Add periodic jobs to test ""nftables"" binaries\n109faeac7e trivial: Make driver_controller\'s _attrs_to_driver py3 compatible\n888f914df1 [ovn]: Remove unwanted IP addresses from OVN ports\nf616f84e95 Implement conntrack command privsep context\n3cee5f7201 Implement namespace operations privsep context\nf946773d1f Configure branch on which tripleo jobs should be run\n0a931391d8 Make ARP protection commands compatible with ""ebtables-nft""\ne5ccfee6cf Always use absolute path for custom kill-scripts\n130655cdb9 DHCP notification optimization\n7326fd622f Group execution of SQL functional tests\n960b810eac Document Linux Bridge compatibility with ""nftables""\n2c386638ba trivial: Reduce duplication in project network tests\ne96fcd0532 trivial: Reduce duplication in network policy tests\n6533337716 [Functional] Fix mocks of the create_dhcp_port method\n07cf942015 [OVN] Re-enable test_port_security_macspoofing_port for slow jobs\necaa7a1b48 Check there are no min BW QoS in ""BaseOVSTestCase""\n4494e728ac Add tests for trunk API\'s new policy rules\nee0029d682 Add tests for subnet API\'s new policy rules\nbe881b9b30 Add tests for subnetpool API\'s new policy rules\n4ff3ae3235 Add tests for segments API\'s new policy rules\n7b93c0ea77 Add tests for router API\'s new policy rules\nba8aff6307 Add tests for RBAC API\'s new policy rules\n10411d786b Add tests for FIPs API\'s new policy rules\nde69a55378 Fix new API policies for RBAC\ncca2b8de2c Fix ""_get_sg_members"" method\n98a7768994 Add tests for QoS API\'s new policy rules\n8522628f2f Remove FT ""test_has_offline_migrations_*"" tests\n48bce78d1a Remove class ""Timer""\n433deed0b7 Cache default security group IDs in memory\nae78e812d1 ovn-migration: Introduce migrate mode to DB sync tool\nbe6ee6f397 Remove not needed rootwrap filters\ncabf19a984 Fix API policy rules for new personas\n2bc1572740 Fix create_port new API policy roles\nbde437e6d3 Add tests for network API\'s new policy rules\n83a6418d68 Fix new Network API policy rules\n1785b211a0 Add tests for Network IP availability API\'s new policy rules\n6dc5a869b1 Add tests for logging API\'s new policy rules\ndd6cd3fb8a Fix Floating IP policy rules\n6655f7d623 Add tests for floatingip pools API\'s new policy rules\nbecb42b92e Migrate ""ovs-ofctl"" to oslo.privsep\n19b9ed3ce7 Add tests for flavors API\'s new policy rules\n7ca896cfe3 ""OvnNbApiIdlImpl.qos_del"" supports ""if_exists"" parameter\nf6682b6b55 Unit tests for auto_allocated_topology API policies\n89a9c18ab8 Use user_id instead of deprecated user in the policy unit tests\nf700660b6b [OVN] External ports (SR-IOV) QoS is handled by SR-IOV agent\naf3c1b8442 Add locks for setting iptables rules in l3 and metadata agents\nc1ade52fda Read keepalived initial state in parallel to interface monitoring\n0be52e91e4 Add grafana dashboards step to major release checklist\nb0022c51fe Add the DHCPReponder for IPv4\n35c7999ebd Allow 255 character strings in tags\n5c744b23f0 Mark ""test_keepalived_spawns_conflicting_pid_*"" tests as unstable\nca8f1a20c5 Open Xena DB branch\nb91ab3924e Add Python3 xena unit tests\n83405d54c1 Update master for stable/wallaby\n7f35e4e857 Physical NIC RP should be child of agent RP\n24dcbcbe09 Block metadata requests to not go out from the router\nfd6ee70c3d Migrate address-group API to the new secure rbac rules\nd4147072f8 Modify create address scope policy rule and add UT for that API\n94bea77fd7 migration: Remove crudini when migrating tunnels\n1c2b7e1a58 [OVN] Add single node tempest job with OVN master branch (exp. pipeline)\n6eaa6d83d7 Randomize segmentation ID assignation\nae07a9d9f6 [CI] Enable debugging iptables rule in the L3 agent\n92a4db01fe [OVN][FT] Mech driver stop accessing DB at exit\n7727fc07e6 Allow to parse keywords in dns labels\neb56747851 Implement namespace creation method\n43c60d6216 Syncing neutron db with ovn does not provide external_ids for static routes\n95ee3bfeaf [ovn] Add \'address_group\' extension to OVN\n3347e11572 Update version of doc8\n62729d4e74 Replace assertItemsEqual with assertCountEqual\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ie4bfa541be6a6d0257bce02e3ebd8a2c603a5551\n'}, {'number': 3, 'created': '2021-09-15 11:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8e46d4b98a5448563f0fcfa74e4cb44a2573262c', 'message': 'Proposing Xena RC1 for neutron\n\nThis proposed a RC1 release for neutron to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 18.0.0.0rc1..6db2619628\nb8ef8e722a [Functional] Wait for the initial state of ha router before test\n101ccbaeb3 update subport status when trunk/subport create/delete is triggerred\n7f06322355 Delete SG log entries when SG is deleted\n34acbd6ff8 Replace deprecated assertDictContainsSubset\ne610a5eb9e Don\'t use singleton in routes.middleware.RoutesMiddleware\n27edf6b6d3 Ensure net dict has provider info on precommit delete\n20a13391a2 Use lookup() instead of iterating over table\n82f72896db Add pagging and sorting support for ""network_ip_availability""\nd0c871df19 Rename notify to publish in unit tests\nc178a37615 Add port status to information dictionary in agent RPC\ndc4a57d966 Make OVN driver validate Geneve max_header_size\ne08b571f04 Use ""objects_exist"" in PortForwardingPlugin\n3c305bf6ae Skip FIP check if VALIDATE_MIGRATION is not True\n76ee64f4a8 Fix neutron_pg_drop-related startup issues\n5b8889ad7f [Doc] Fix link to the Mellanox documentation in SR-IOV doc\n1221cf1b24 Agent RPC step size in config.\nb0bb49a8f8 [doc]Correcting broken link\n9cffd7b322 [OVN] Change ControllerAgent type dinamically\ndf891f0593 Remove dhcp_extra_opt value after first newline character\n92c636d8b2 Use payload callback for RPC resource_cache\nb5dd6efdca [DVR] Fix update of the MTU in the SNAT namespace\n89be2951f6 Remove IDL classes implemented in ovsdbapp\n903e66e8e7 ovn: Consider all router ports in is_lsp_router_port()\nb01844be21 Fix typos in agent policy names\n19375b3e78 [DVR] Set arp entries only for single IPs given as allowed addr pair\ndb4753b6ef use payload for OVSDB_RESOURCE\ne4566031d6 Enable QoS min bw tempest in neutron-ovs-tempest-multinode-full\n701214481f Use more pythonic approach\n1146a4d091 Do not fail when releasing a quota reservation\n668b1cc652 Do not fail if the agent load is not bumped\n0bb9c99d50 Fix gate for neutron-lib v2.14\n31c09cd3b7 Bump os-resource-classes lib to 1.1.0\n21986f2be5 Remove shim in trunk/rpc/backend.py\nd6b1dd4a93 Include oslo.cache options in neutron.conf\nefbe2d3142 neutron-lib: Skip functional tests for changes in unit tests code\n344fc0c8d2 Revert ""[L3][HA] Retry when setting HA router GW status.""\n3640ffa0c6 Handle all portbinding attrs in case of bulk port creation\n9ee5722c04 Remove shim in securitygroups_db\ndb7887cafd Add limitation about QoS min bw for PF less SRIOV platforms\n4e325088d3 [OVN] Document Network Availability Zones\n781500daa5 [OVN] Make external ports aware of network AZs\na177249731 Improve content of FloatingIP AFTER callbacks\nb488fb8e22 Use payloads for FloatingIP AFTER callbacks\nc75df16e50 Add missing options to generated neutron.conf\n7988ab5df0 ""default_availability_zones"" need to be considered when validate az\neb430e052d Use neutron-lib payloads for PORT_FORWARDING\n9e0c075bf1 ovn: Don\'t fail db-sync if port binding changes\n82fd968011 [L3HA] Add extra logs to the process of ha state changes\n223e89c950 Make neutron-ovs-tempest-dvr-ha-multinode-full voting\n57cfc57da6 use payloads for FLOATING_IP\nc267125e20 functional: Add debug messages around OVN services\nef83719da2 Use payloads for ROUTER AFTER_ callbacks\n5ee9325fcc Bump neutron-lib to 2.13.0\n8ac9e2fe6d [OVN] Fix Router Availability Zones for segmented networks\ne6c3686cd8 Use elevated context when getting default SG for tenant\nca2885889f Add devstack plugin to enable ovs distributed dhcp service\n63a2a65bbe Skip DVR binding for ports with invalid OFPORT\n40c8f60ee3 Use payloads for ROUTER callbacks\n2356f0eb87 Bump oslo.log to version 4.5.0\nd4b1b4a072 Fix typo in OVN SUPPORTED_DHCP_OPTS_MAPPING dictionary (ia-addr)\nfafcabdbe0 Wait until workers have been launched\na27bb19e74 Reduce the fullstack concurrency to 2\ncaa05f9c56 Update team ownership\ncbef6cda98 Add ""network_id"" to ""_after_router_interface_deleted"" payload\n2e6f6c9ec3 Ensure only one worker creates neturon_pg_drop\nad31c58d60 Remove ``ConfDriver`` code\ne7c61d3eba use payloads for PORT and FLOATING_IP\n8e30639452 [QoS] Add rule type packet per second (pps)\n8261b67b6e bw-limit: Pass int parameters to Open vSwitch\n45a33dcb0a doc: Do not use dvr_snat on computes\n02c0b47d22 Promote neutron-ovn-tempest-slow job to be voting and gating\nc3b99a64fc Revert ""[OVN][Placement] Add a SB Chassis event to track changes in BW config""\nf8ca735e5f Move mech driver VNIC validation to SimpleAgentMechanismDriverBase\ndf5cb28737 [OVN][Placement] Add a SB Chassis event to track changes in BW config\n923284fc37 Use explicit select condition in SQL query in ""_port_filter_hook""\ne961c6d473 Import ABC classes from collection.abc\n899953de6b Add a privsep context only for link commands\ne5f19a29dc [OVN] Fix ML2/OVN + Neutron DHCP agent use case\ne71ba8d2d1 Revert ""Config option to enable OVN IDL on other workers""\n1eabf046f3 Remove ""_protect_original_resources"" workaround\n90980f496c Add wait for the post-fork event to nb/sb objects\n9b2983743b L3 router support ECMP\ne0ea4a51ba [L2] no provisioning block for internal service port\n3cae410b30 use payloads for PORT AFTER_DELETE events\n827cca2ed7 Sanitize MAC addresses\na03c240ef4 Populate self.floating_ips_dict using ""ip rule"" information\n6ce48c30bd [L3] Use processing queue for network update events\n129b823a8b use payloads for PORT AFTER_UPDATE events\nee67a8412d Remove orphaned event_lock_name attribute\n26b06d246a Use os-resource-classes lib for resource classes names\n1f3762b0fb [OVN] ""ControllerAgent"" should accept Chassis and Chassis_Private\nca15099cde Add devstack local.conf sample for ML2 OVS\n838b1d29c9 Use IP_VERSION_{4,6} constants in ovn_client module\nf637a1f60e Remove SG RPC ""use_enhanced_rpc"" check.\nec550f5f52 Add fake_project_id middleware for noauth\n3b46df4847 Change fullstack dhclient lease file to tmp folder\nbe7d0bb6ab Update arp entry of snat port on qrouter ns\nf6c3747cae Use elevated context to get default SG from database\n6d570dfd7d Notify ROUTER_GATEWAY event for router gw mode\n6a74cd76fd [OVN] Do not fail when processing SG rule deletion\n5c9a7fe1b4 Add extra logs to the network update callback in L3 agent\ncde0f68f9e [OVN] Add binding-extended to the ML2_SUPPORTED_API_EXTENSIONS\n1a99adb530 Refactor DHCP common config options\n31c0ef9dbe Correctly label port as SubPort in SubPortNotFound\n9ae22b1fef Fix ObjectChangeHandler thread usage\n4b22eea4be Add fullstack test case for OVS DHCP extension\nb05a9186d1 use callback payloads for SECURITY_GROUP\nb189b0f322 Use OVS backend for testing os-ken library\nd7ca286e6c Make explicit the network backend used in the CI jobs\ndb2207f32d [ML2] Change way how list of supported API extensions is made\nbc82a664b6 Move dns-integration extension to the ML2_SUPPORTED_API_EXTENSIONS list\n6bc1c00d66 Copy existing IPv6 leases to generated lease file\n5fb5653ffe Check router routes connectivity when GW port is updated\n0af8497076 Improve Port list and show\n56e8498a4d Add agent extension \'dhcp\' for ovs agent\ncd8c4f7e30 use callback payloads for SUBNET\ndbfa1b5d92 Remove tox_install_siblings=False from the functional job\'s definition\n324a35a3d0 use payloads for PORT BEFORE_UPDATE events\n0cd01edc9c [OVN] Add subnet-service-types as supported by OVN mech driver\n953eb92a4f [OVN] Disable mcast_flood on localnet ports\n941be42a61 use callback payloads for SECURITY_GROUP_RULE\n66ac943b64 Config option to enable OVN IDL on other workers\n1e2088abbe Fix priority review dashboard\n2ea7d66216 Bump neutron-lib to 2.12.0\nac1597d009 [L3] Add some logs for router processing\nb74a272bba Add CONTEXT_WRITER decorator to delete_floatingip_agent_gateway_port\n8cc7c0cf7a Remove FIP agent\'s gw port when L3 agent is deleted\n5b5bc483ae Fix devstack path in plugin.sh\n976cba6133 Force to close http connection after notify about HA router status\n8954b33576 Bump minimal ovsdbapp version to 1.11.0\n95d80a2757 [OVN] neutron-ovn-metadat-agent add retry logic for sb_idl\n39bc84cfb2 Add localport const and refactor\nc7e1de09e1 [Docs] Add info about vlan transparent networks\' MTU\n8f656aab7c Fix QoS dscp rule permissions in documentation\nd7371e13e4 Revert ""Set system_scope=\'all\' in elevated context""\n4df01d6eaa Add policy rules for extraroute-atomic API\n577217c52d Make default hypervisor hostname compatible with libvirt\na2e5daccb3 Add support for OVN allow-stateless ACLs\n68d62fa18d Enable tls-proxy support in the tempest jobs\n817d807e9d Load Linux Bridge Trunk extension if service plugin configured\n6ada912414 Set trunk sub-port when bind profile is created\ne3bb98c7e7 Bump os-ken to 2.0.0\n48af145d95 Add ""nova:live_migration_events"" flag to subnode in multinode CI job\nda760973be Use ""multiprocessing.Queue"" for ""TestNeutronServer"" related tests\n4173fb6ca3 [Doc] Remove one of the known DVR HA limitations\na292bea168 Add the DHCPReponder for IPv6\ncc3dc7c850 Add CONTEXT_READER decorator to ""get_ha_router_port_bindings""\nc0846c6518 Fix ""config-routed-networks"" document errors\na1ca4980da Remove timeout skip guard for LP#1687027\n730117ddb0 Switch neutron multinode jobs to ML2/OVS\n437a311eca Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n07337f9e99 Use 2 dhcp agents in TestLegacyL3Agent\n07c64d8384 Payloads for PORT: BEFORE_CREATE and PRECOMMIT_CREATE\n95656a5893 Update handler for PORT AFTER_CREATE\n13994d2327 Mark fullstack test_l2_agent_restart as unstable\ncfd8232cd3 Added dnsmasq for opensuse installation\na660f77d38 Remove ""mitogen"" library installation from ""docs"" job\n6afdff8494 Bump lower version of evenlet to 0.25.1\nc915b93e76 Bump alembic to 1.6.5\nbe43141a5f Provide the rpc_response_max_timeout parameter to sriov-agent\n1e8197fee5 Add tests for service_type API\'s new policy rules\n962d2539a1 Change API policy for service_type to be available for all readers\n6fb2f513da [OVN] Add \'port-mac-address-regenerate\' to the supported extensions\n7d8a5eb5a7 [OVN] Add availability zone to the ML2_SUPPORTED_API_EXTENSIONS list\nfd8b88ef54 Do a quick FIP check on port delete\n65cce351d7 Use TCP keepalives for ovsdb connections\n96b2926671 Add CONTEXT_READER to ""get_reservations_for_resources""\n383f209b50 [DHCP] Fix cleanup_deleted_ports method\n074c131b57 Disable pep8 import check for pyroute2 library\nc9fce3a8b6 use payloads for PORT AFTER_CREATE events\n4ab699e5cd use payloads for ROUTER_INTERFACE events\n17adb4c3fb Use payloads for ADDRESS_GROUP callback events\n36ba1cc319 [ovn][metadata] Remove metadata readiness mechanism\n05ee23ea15 Follow up for replacing assertItemsEqual\n77ac42d2ee SR-IOV agent can handle ports with same MAC addresses\n05ce5a1f94 VLAN ""allocate_partially_specified_segment"" can return any physnet\nd0b16473d8 [FT] Remove skip guard from SQL tests\n2244af771f Add ""filter-validation"" support for ""OVNL3RouterPlugin""\nf450886ff9 Allow the use of legacy routers within RPN segments\na98fe51b83 Set ""floatingip.fixed_port"" as viewonly\n4de350a54a Switch neutron-rally-task job to ML2/OVS and skip ""test_models_sync""\n4cd11f4dee Use local and ip address to create vxlan interface\nc4fb1d1711 [Doc] Update Freenode to OFTC as our IRC server\nb141aed512 Remove leading zeroes from an IP address\n7f0ca67ed6 Remove the devstack/lib/ovs in favour of ""ovs_source"" from DevStack\nedc3852c83 Fix phys network lost after reconfigure\nf83c77bb12 Add tests for port API\'s new policy rules\n444ef49bea Add test cases for concurrently Object delete\nf52280287f Improve Subnet create performance\nbdd50ffcde Improve Subnet delete performance\nab0895fdf4 Change minversion of tox to 3.18.0\n028c544b05 Add script to aid in using ovn-trace with OpenStack\na75fc891bc Add mitogen to the docs requirements\n951a3f0eb3 Deprecate and remove ""get_agents_db""\n54420d04dd Skip ""test_keepalived_spawns_conflicting_*"" tests\ne135a8221d New Quota driver ``DbQuotaNoLockDriver``\n9e6b7a2284 Install ""pyroute2"" as a doc job depedency\n2a4074918c Remove call to ""fixup_ubuntu""\n7b59b5069b [DVR] Send allowed address pairs info to the L3 agents\nc540f789af [OVN] Re-enable dstat for the OVN jobs\nf9bda4b1e4 Set the default ``Backend.lookup`` timeout to 2 seconds\nddf0fef28b Add a single option to override the default hypervisor name\nfa7c7282f0 Make phynet paramter also is optional when network_segment_range enabled\nf192153b44 HA-non-DVR router don\'t need manually add static route\n4e3f65ceef Fix wrong assertion methods in a unit test\n2c192b78a2 setup.cfg: Replace dashes with underscores\nadfd853267 Deprecate [designate] admin_* parameters\n89fd50d0f9 Adding placement auth options to oslo.config entry_points\n4aa5de254d use payloads for NETWORK callback events\n2321339ee6 Fix SQLAlchemy warnings with view only relationships\ndcd277f4f1 Add physnet name case sensitivity limitation to the qos doc\na77a97371e [ovn] Clean-up unused ACL method for DHCP\n2d97f3edb2 use payloads for SEGMENT events\n317407fe61 [OVN] Check for lock in check_for_mcast_flood_reports\nef1d33e754 Update Neutron\'s Liuetenants\n0aab51c9f8 ovn: Don\'t use dict.remove() for filtering dhcp ports in db-sync\nc511964d70 Replace ""get_routing_table"" with ""list_ip_routes""\n69ef824069 Use payloads for TRUNK and SUBPORTS callbacks\n2cf4314553 Implement multipath routing in route commands\nca1c6fd69b designate: allow PTR zone creation to fail\nddc8e625f7 [OVN] Fix: Disabling snat after it was enabled\nde295f036d Do not include dynamically loaded values into OVO testing\n9911d414c6 Improve ""objects.db.api.count"" method\n97e34498f7 Fix ""nftables"" ansible role\n28cd6c82e9 Added common config and SR-IOV agent config to sanity check\nc16f88d148 Report ExternalDNSOverQuota exception for recordset quota error\n87a7a5e32e [Fullstack] Add segmentation_id update test\n8b39060ddf Fix SQLAlchemy backref warnings for viewonly columns\n4d61903bb8 [OVN] Add ""filter-validation"" extension to supported list\nce2c0010b9 [OVN] MetadataProxyHandler to conditionally monitor both Chassis\'s tables\n25d1f9b948 Clean up the deprecated options for Xen API support\n9144444b79 Add tests for Security Groups API\'s new policy rules\n47038c27c5 Add missing ""system"" scope in some of the new API policies\nca2091d5a9 Change wrong ""admin"" scope in floatingip_pools to correct ""system""\n43c10aae86 [OVN] External network ports (SR-IOV) QoS is handled by SR-IOV agent\n1a3fa2206d ovn: Add functional tests for get_network_port_bindings_by_ip\n32e938e698 [OVN] Only account for bound ports in metadata agent\n947e8a041c Remove SRIOV attach limitation from the doc\n456acdeb8f ovn-migration: Delete FIP agent gateway ports\n39ccc0d6d6 Don\'t ever give up trying to connect to OVN DBs\n02a6ddaa86 Add neutron-tempest-with-neutron-lib-master to the periodic queue\ne4008fec1e Remove networking-midonet from our docs\ne8909a65d4 Improve Subnet update performance\ncd4d96a4f7 Use exceptions and resources from neutron-lib\n466a6f98ed Update OVN docs\n5b66259bb8 Remove unused method ""get_ovsdb_connection""\n662cd60075 [OVN] Fix FDB table not registered in OvnSbIdl\nce19fc9493 Remove check if set_extra_attr_value is run in the transaction\nb70247eeb9 Doc: add section about OVS filtering tables\n1483b63ffa Add enable_dhcp filter in get_network_info rpc\n80eddc4039 Improve Network delete performance\n088f1298f2 Initialize privsep library in Neutron commands\n1dfbf5b345 Initialize privsep library for neutron-ovs-cleanup\n02f4eca1ae Pass existing DB obj to save DB requests\nca7822e210 [ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses\nba3d78099f Remove unused method _ensure_vr_id_and_network()\n282dc73e12 Get only FIP ID on network delete\n960f3694f4 Improve AddressScope.get_bound_tenant_ids method\nb221a4af33 Improve port delete performance\n44670f88dd Revert ""Cache default security group IDs in memory""\nfcc8d5358e Unit tests for Agent API secure-rbac-policies\n3b331b31f2 Add tests for metering API\'s new policy rules\n26e0d47cc5 Allow system_scope personas (SYSTEM_ADMIN) to create router\n89a31185cb Unit tests for Quotas API\'s secure-rbac-policies\n5d4f5e4645 Add tests for L3 conntrack helper API\'s new policy rules\nd8305c34e1 Add tests for FIPs port forwarding API\'s new policy rules\nf6483ee9ec Add tests for network segment range API\'s new policy rules\nf7d2c3608d Add periodic jobs to test ""nftables"" binaries\n109faeac7e trivial: Make driver_controller\'s _attrs_to_driver py3 compatible\n888f914df1 [ovn]: Remove unwanted IP addresses from OVN ports\nf616f84e95 Implement conntrack command privsep context\n3cee5f7201 Implement namespace operations privsep context\nf946773d1f Configure branch on which tripleo jobs should be run\n0a931391d8 Make ARP protection commands compatible with ""ebtables-nft""\ne5ccfee6cf Always use absolute path for custom kill-scripts\n130655cdb9 DHCP notification optimization\n7326fd622f Group execution of SQL functional tests\n960b810eac Document Linux Bridge compatibility with ""nftables""\n2c386638ba trivial: Reduce duplication in project network tests\ne96fcd0532 trivial: Reduce duplication in network policy tests\n6533337716 [Functional] Fix mocks of the create_dhcp_port method\n07cf942015 [OVN] Re-enable test_port_security_macspoofing_port for slow jobs\necaa7a1b48 Check there are no min BW QoS in ""BaseOVSTestCase""\n4494e728ac Add tests for trunk API\'s new policy rules\nee0029d682 Add tests for subnet API\'s new policy rules\nbe881b9b30 Add tests for subnetpool API\'s new policy rules\n4ff3ae3235 Add tests for segments API\'s new policy rules\n7b93c0ea77 Add tests for router API\'s new policy rules\nba8aff6307 Add tests for RBAC API\'s new policy rules\n10411d786b Add tests for FIPs API\'s new policy rules\nde69a55378 Fix new API policies for RBAC\ncca2b8de2c Fix ""_get_sg_members"" method\n98a7768994 Add tests for QoS API\'s new policy rules\n8522628f2f Remove FT ""test_has_offline_migrations_*"" tests\n48bce78d1a Remove class ""Timer""\n433deed0b7 Cache default security group IDs in memory\nae78e812d1 ovn-migration: Introduce migrate mode to DB sync tool\nbe6ee6f397 Remove not needed rootwrap filters\ncabf19a984 Fix API policy rules for new personas\n2bc1572740 Fix create_port new API policy roles\nbde437e6d3 Add tests for network API\'s new policy rules\n83a6418d68 Fix new Network API policy rules\n1785b211a0 Add tests for Network IP availability API\'s new policy rules\n6dc5a869b1 Add tests for logging API\'s new policy rules\ndd6cd3fb8a Fix Floating IP policy rules\n6655f7d623 Add tests for floatingip pools API\'s new policy rules\nbecb42b92e Migrate ""ovs-ofctl"" to oslo.privsep\n19b9ed3ce7 Add tests for flavors API\'s new policy rules\n7ca896cfe3 ""OvnNbApiIdlImpl.qos_del"" supports ""if_exists"" parameter\nf6682b6b55 Unit tests for auto_allocated_topology API policies\n89a9c18ab8 Use user_id instead of deprecated user in the policy unit tests\nf700660b6b [OVN] External ports (SR-IOV) QoS is handled by SR-IOV agent\naf3c1b8442 Add locks for setting iptables rules in l3 and metadata agents\nc1ade52fda Read keepalived initial state in parallel to interface monitoring\n0be52e91e4 Add grafana dashboards step to major release checklist\nb0022c51fe Add the DHCPReponder for IPv4\n35c7999ebd Allow 255 character strings in tags\n5c744b23f0 Mark ""test_keepalived_spawns_conflicting_pid_*"" tests as unstable\nca8f1a20c5 Open Xena DB branch\nb91ab3924e Add Python3 xena unit tests\n83405d54c1 Update master for stable/wallaby\n7f35e4e857 Physical NIC RP should be child of agent RP\n24dcbcbe09 Block metadata requests to not go out from the router\nfd6ee70c3d Migrate address-group API to the new secure rbac rules\nd4147072f8 Modify create address scope policy rule and add UT for that API\n94bea77fd7 migration: Remove crudini when migrating tunnels\n1c2b7e1a58 [OVN] Add single node tempest job with OVN master branch (exp. pipeline)\n6eaa6d83d7 Randomize segmentation ID assignation\nae07a9d9f6 [CI] Enable debugging iptables rule in the L3 agent\n92a4db01fe [OVN][FT] Mech driver stop accessing DB at exit\n7727fc07e6 Allow to parse keywords in dns labels\neb56747851 Implement namespace creation method\n43c60d6216 Syncing neutron db with ovn does not provide external_ids for static routes\n95ee3bfeaf [ovn] Add \'address_group\' extension to OVN\n3347e11572 Update version of doc8\n62729d4e74 Replace assertItemsEqual with assertCountEqual\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ie4bfa541be6a6d0257bce02e3ebd8a2c603a5551\n'}, {'number': 4, 'created': '2021-09-15 11:26:14.000000000', 'files': ['deliverables/xena/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ee751ded73bbe8f8a47f1073d7ae709de91e603d', 'message': 'Proposing Xena RC1 for neutron\n\nThis proposed a RC1 release for neutron to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 18.0.0.0rc1..6db2619628\n421dc2195c Redefine ""neutron-ovn-tempest-ovs-master-fedora"" CI job\n43871e0654 Rename notify to publish\nb8ef8e722a [Functional] Wait for the initial state of ha router before test\n101ccbaeb3 update subport status when trunk/subport create/delete is triggerred\n7f06322355 Delete SG log entries when SG is deleted\n34acbd6ff8 Replace deprecated assertDictContainsSubset\ne610a5eb9e Don\'t use singleton in routes.middleware.RoutesMiddleware\n27edf6b6d3 Ensure net dict has provider info on precommit delete\n20a13391a2 Use lookup() instead of iterating over table\n82f72896db Add pagging and sorting support for ""network_ip_availability""\nd0c871df19 Rename notify to publish in unit tests\nc178a37615 Add port status to information dictionary in agent RPC\ndc4a57d966 Make OVN driver validate Geneve max_header_size\ne08b571f04 Use ""objects_exist"" in PortForwardingPlugin\n3c305bf6ae Skip FIP check if VALIDATE_MIGRATION is not True\n76ee64f4a8 Fix neutron_pg_drop-related startup issues\n5b8889ad7f [Doc] Fix link to the Mellanox documentation in SR-IOV doc\n1221cf1b24 Agent RPC step size in config.\nb0bb49a8f8 [doc]Correcting broken link\n9cffd7b322 [OVN] Change ControllerAgent type dinamically\ndf891f0593 Remove dhcp_extra_opt value after first newline character\n92c636d8b2 Use payload callback for RPC resource_cache\nb5dd6efdca [DVR] Fix update of the MTU in the SNAT namespace\n89be2951f6 Remove IDL classes implemented in ovsdbapp\n903e66e8e7 ovn: Consider all router ports in is_lsp_router_port()\nb01844be21 Fix typos in agent policy names\n19375b3e78 [DVR] Set arp entries only for single IPs given as allowed addr pair\ndb4753b6ef use payload for OVSDB_RESOURCE\ne4566031d6 Enable QoS min bw tempest in neutron-ovs-tempest-multinode-full\n701214481f Use more pythonic approach\n1146a4d091 Do not fail when releasing a quota reservation\n668b1cc652 Do not fail if the agent load is not bumped\n0bb9c99d50 Fix gate for neutron-lib v2.14\n31c09cd3b7 Bump os-resource-classes lib to 1.1.0\n21986f2be5 Remove shim in trunk/rpc/backend.py\nd6b1dd4a93 Include oslo.cache options in neutron.conf\nefbe2d3142 neutron-lib: Skip functional tests for changes in unit tests code\n344fc0c8d2 Revert ""[L3][HA] Retry when setting HA router GW status.""\n3640ffa0c6 Handle all portbinding attrs in case of bulk port creation\n9ee5722c04 Remove shim in securitygroups_db\ndb7887cafd Add limitation about QoS min bw for PF less SRIOV platforms\n4e325088d3 [OVN] Document Network Availability Zones\n781500daa5 [OVN] Make external ports aware of network AZs\na177249731 Improve content of FloatingIP AFTER callbacks\nb488fb8e22 Use payloads for FloatingIP AFTER callbacks\nc75df16e50 Add missing options to generated neutron.conf\n7988ab5df0 ""default_availability_zones"" need to be considered when validate az\neb430e052d Use neutron-lib payloads for PORT_FORWARDING\n9e0c075bf1 ovn: Don\'t fail db-sync if port binding changes\n82fd968011 [L3HA] Add extra logs to the process of ha state changes\n223e89c950 Make neutron-ovs-tempest-dvr-ha-multinode-full voting\n57cfc57da6 use payloads for FLOATING_IP\nc267125e20 functional: Add debug messages around OVN services\nef83719da2 Use payloads for ROUTER AFTER_ callbacks\n5ee9325fcc Bump neutron-lib to 2.13.0\n8ac9e2fe6d [OVN] Fix Router Availability Zones for segmented networks\ne6c3686cd8 Use elevated context when getting default SG for tenant\nca2885889f Add devstack plugin to enable ovs distributed dhcp service\n63a2a65bbe Skip DVR binding for ports with invalid OFPORT\n40c8f60ee3 Use payloads for ROUTER callbacks\n2356f0eb87 Bump oslo.log to version 4.5.0\nd4b1b4a072 Fix typo in OVN SUPPORTED_DHCP_OPTS_MAPPING dictionary (ia-addr)\nfafcabdbe0 Wait until workers have been launched\na27bb19e74 Reduce the fullstack concurrency to 2\ncaa05f9c56 Update team ownership\ncbef6cda98 Add ""network_id"" to ""_after_router_interface_deleted"" payload\n2e6f6c9ec3 Ensure only one worker creates neturon_pg_drop\nad31c58d60 Remove ``ConfDriver`` code\ne7c61d3eba use payloads for PORT and FLOATING_IP\n8e30639452 [QoS] Add rule type packet per second (pps)\n8261b67b6e bw-limit: Pass int parameters to Open vSwitch\n45a33dcb0a doc: Do not use dvr_snat on computes\n02c0b47d22 Promote neutron-ovn-tempest-slow job to be voting and gating\nc3b99a64fc Revert ""[OVN][Placement] Add a SB Chassis event to track changes in BW config""\nf8ca735e5f Move mech driver VNIC validation to SimpleAgentMechanismDriverBase\ndf5cb28737 [OVN][Placement] Add a SB Chassis event to track changes in BW config\n923284fc37 Use explicit select condition in SQL query in ""_port_filter_hook""\ne961c6d473 Import ABC classes from collection.abc\n899953de6b Add a privsep context only for link commands\ne5f19a29dc [OVN] Fix ML2/OVN + Neutron DHCP agent use case\ne71ba8d2d1 Revert ""Config option to enable OVN IDL on other workers""\n1eabf046f3 Remove ""_protect_original_resources"" workaround\n90980f496c Add wait for the post-fork event to nb/sb objects\n9b2983743b L3 router support ECMP\ne0ea4a51ba [L2] no provisioning block for internal service port\n3cae410b30 use payloads for PORT AFTER_DELETE events\n827cca2ed7 Sanitize MAC addresses\na03c240ef4 Populate self.floating_ips_dict using ""ip rule"" information\n6ce48c30bd [L3] Use processing queue for network update events\n129b823a8b use payloads for PORT AFTER_UPDATE events\nee67a8412d Remove orphaned event_lock_name attribute\n26b06d246a Use os-resource-classes lib for resource classes names\n1f3762b0fb [OVN] ""ControllerAgent"" should accept Chassis and Chassis_Private\nca15099cde Add devstack local.conf sample for ML2 OVS\n838b1d29c9 Use IP_VERSION_{4,6} constants in ovn_client module\nf637a1f60e Remove SG RPC ""use_enhanced_rpc"" check.\nec550f5f52 Add fake_project_id middleware for noauth\n3b46df4847 Change fullstack dhclient lease file to tmp folder\nbe7d0bb6ab Update arp entry of snat port on qrouter ns\nf6c3747cae Use elevated context to get default SG from database\n6d570dfd7d Notify ROUTER_GATEWAY event for router gw mode\n6a74cd76fd [OVN] Do not fail when processing SG rule deletion\n5c9a7fe1b4 Add extra logs to the network update callback in L3 agent\ncde0f68f9e [OVN] Add binding-extended to the ML2_SUPPORTED_API_EXTENSIONS\n1a99adb530 Refactor DHCP common config options\n31c0ef9dbe Correctly label port as SubPort in SubPortNotFound\n9ae22b1fef Fix ObjectChangeHandler thread usage\n4b22eea4be Add fullstack test case for OVS DHCP extension\nb05a9186d1 use callback payloads for SECURITY_GROUP\nb189b0f322 Use OVS backend for testing os-ken library\nd7ca286e6c Make explicit the network backend used in the CI jobs\ndb2207f32d [ML2] Change way how list of supported API extensions is made\nbc82a664b6 Move dns-integration extension to the ML2_SUPPORTED_API_EXTENSIONS list\n6bc1c00d66 Copy existing IPv6 leases to generated lease file\n5fb5653ffe Check router routes connectivity when GW port is updated\n0af8497076 Improve Port list and show\n56e8498a4d Add agent extension \'dhcp\' for ovs agent\ncd8c4f7e30 use callback payloads for SUBNET\ndbfa1b5d92 Remove tox_install_siblings=False from the functional job\'s definition\n324a35a3d0 use payloads for PORT BEFORE_UPDATE events\n0cd01edc9c [OVN] Add subnet-service-types as supported by OVN mech driver\n953eb92a4f [OVN] Disable mcast_flood on localnet ports\n941be42a61 use callback payloads for SECURITY_GROUP_RULE\n66ac943b64 Config option to enable OVN IDL on other workers\n1e2088abbe Fix priority review dashboard\n2ea7d66216 Bump neutron-lib to 2.12.0\nac1597d009 [L3] Add some logs for router processing\nb74a272bba Add CONTEXT_WRITER decorator to delete_floatingip_agent_gateway_port\n8cc7c0cf7a Remove FIP agent\'s gw port when L3 agent is deleted\n5b5bc483ae Fix devstack path in plugin.sh\n976cba6133 Force to close http connection after notify about HA router status\n8954b33576 Bump minimal ovsdbapp version to 1.11.0\n95d80a2757 [OVN] neutron-ovn-metadat-agent add retry logic for sb_idl\n39bc84cfb2 Add localport const and refactor\nc7e1de09e1 [Docs] Add info about vlan transparent networks\' MTU\n8f656aab7c Fix QoS dscp rule permissions in documentation\nd7371e13e4 Revert ""Set system_scope=\'all\' in elevated context""\n4df01d6eaa Add policy rules for extraroute-atomic API\n577217c52d Make default hypervisor hostname compatible with libvirt\na2e5daccb3 Add support for OVN allow-stateless ACLs\n68d62fa18d Enable tls-proxy support in the tempest jobs\n817d807e9d Load Linux Bridge Trunk extension if service plugin configured\n6ada912414 Set trunk sub-port when bind profile is created\ne3bb98c7e7 Bump os-ken to 2.0.0\n48af145d95 Add ""nova:live_migration_events"" flag to subnode in multinode CI job\nda760973be Use ""multiprocessing.Queue"" for ""TestNeutronServer"" related tests\n4173fb6ca3 [Doc] Remove one of the known DVR HA limitations\na292bea168 Add the DHCPReponder for IPv6\ncc3dc7c850 Add CONTEXT_READER decorator to ""get_ha_router_port_bindings""\nc0846c6518 Fix ""config-routed-networks"" document errors\na1ca4980da Remove timeout skip guard for LP#1687027\n730117ddb0 Switch neutron multinode jobs to ML2/OVS\n437a311eca Using 31-Bit and 32-Bit prefixes for IPv4 reasonably\n07337f9e99 Use 2 dhcp agents in TestLegacyL3Agent\n07c64d8384 Payloads for PORT: BEFORE_CREATE and PRECOMMIT_CREATE\n95656a5893 Update handler for PORT AFTER_CREATE\n13994d2327 Mark fullstack test_l2_agent_restart as unstable\ncfd8232cd3 Added dnsmasq for opensuse installation\na660f77d38 Remove ""mitogen"" library installation from ""docs"" job\n6afdff8494 Bump lower version of evenlet to 0.25.1\nc915b93e76 Bump alembic to 1.6.5\nbe43141a5f Provide the rpc_response_max_timeout parameter to sriov-agent\n1e8197fee5 Add tests for service_type API\'s new policy rules\n962d2539a1 Change API policy for service_type to be available for all readers\n6fb2f513da [OVN] Add \'port-mac-address-regenerate\' to the supported extensions\n7d8a5eb5a7 [OVN] Add availability zone to the ML2_SUPPORTED_API_EXTENSIONS list\nfd8b88ef54 Do a quick FIP check on port delete\n65cce351d7 Use TCP keepalives for ovsdb connections\n96b2926671 Add CONTEXT_READER to ""get_reservations_for_resources""\n383f209b50 [DHCP] Fix cleanup_deleted_ports method\n074c131b57 Disable pep8 import check for pyroute2 library\nc9fce3a8b6 use payloads for PORT AFTER_CREATE events\n4ab699e5cd use payloads for ROUTER_INTERFACE events\n17adb4c3fb Use payloads for ADDRESS_GROUP callback events\n36ba1cc319 [ovn][metadata] Remove metadata readiness mechanism\n05ee23ea15 Follow up for replacing assertItemsEqual\n77ac42d2ee SR-IOV agent can handle ports with same MAC addresses\n05ce5a1f94 VLAN ""allocate_partially_specified_segment"" can return any physnet\nd0b16473d8 [FT] Remove skip guard from SQL tests\n2244af771f Add ""filter-validation"" support for ""OVNL3RouterPlugin""\nf450886ff9 Allow the use of legacy routers within RPN segments\na98fe51b83 Set ""floatingip.fixed_port"" as viewonly\n4de350a54a Switch neutron-rally-task job to ML2/OVS and skip ""test_models_sync""\n4cd11f4dee Use local and ip address to create vxlan interface\nc4fb1d1711 [Doc] Update Freenode to OFTC as our IRC server\nb141aed512 Remove leading zeroes from an IP address\n7f0ca67ed6 Remove the devstack/lib/ovs in favour of ""ovs_source"" from DevStack\nedc3852c83 Fix phys network lost after reconfigure\nf83c77bb12 Add tests for port API\'s new policy rules\n444ef49bea Add test cases for concurrently Object delete\nf52280287f Improve Subnet create performance\nbdd50ffcde Improve Subnet delete performance\nab0895fdf4 Change minversion of tox to 3.18.0\n028c544b05 Add script to aid in using ovn-trace with OpenStack\na75fc891bc Add mitogen to the docs requirements\n951a3f0eb3 Deprecate and remove ""get_agents_db""\n54420d04dd Skip ""test_keepalived_spawns_conflicting_*"" tests\ne135a8221d New Quota driver ``DbQuotaNoLockDriver``\n9e6b7a2284 Install ""pyroute2"" as a doc job depedency\n2a4074918c Remove call to ""fixup_ubuntu""\n7b59b5069b [DVR] Send allowed address pairs info to the L3 agents\nc540f789af [OVN] Re-enable dstat for the OVN jobs\nf9bda4b1e4 Set the default ``Backend.lookup`` timeout to 2 seconds\nddf0fef28b Add a single option to override the default hypervisor name\nfa7c7282f0 Make phynet paramter also is optional when network_segment_range enabled\nf192153b44 HA-non-DVR router don\'t need manually add static route\n4e3f65ceef Fix wrong assertion methods in a unit test\n2c192b78a2 setup.cfg: Replace dashes with underscores\nadfd853267 Deprecate [designate] admin_* parameters\n89fd50d0f9 Adding placement auth options to oslo.config entry_points\n4aa5de254d use payloads for NETWORK callback events\n2321339ee6 Fix SQLAlchemy warnings with view only relationships\ndcd277f4f1 Add physnet name case sensitivity limitation to the qos doc\na77a97371e [ovn] Clean-up unused ACL method for DHCP\n2d97f3edb2 use payloads for SEGMENT events\n317407fe61 [OVN] Check for lock in check_for_mcast_flood_reports\nef1d33e754 Update Neutron\'s Liuetenants\n0aab51c9f8 ovn: Don\'t use dict.remove() for filtering dhcp ports in db-sync\nc511964d70 Replace ""get_routing_table"" with ""list_ip_routes""\n69ef824069 Use payloads for TRUNK and SUBPORTS callbacks\n2cf4314553 Implement multipath routing in route commands\nca1c6fd69b designate: allow PTR zone creation to fail\nddc8e625f7 [OVN] Fix: Disabling snat after it was enabled\nde295f036d Do not include dynamically loaded values into OVO testing\n9911d414c6 Improve ""objects.db.api.count"" method\n97e34498f7 Fix ""nftables"" ansible role\n28cd6c82e9 Added common config and SR-IOV agent config to sanity check\nc16f88d148 Report ExternalDNSOverQuota exception for recordset quota error\n87a7a5e32e [Fullstack] Add segmentation_id update test\n8b39060ddf Fix SQLAlchemy backref warnings for viewonly columns\n4d61903bb8 [OVN] Add ""filter-validation"" extension to supported list\nce2c0010b9 [OVN] MetadataProxyHandler to conditionally monitor both Chassis\'s tables\n25d1f9b948 Clean up the deprecated options for Xen API support\n9144444b79 Add tests for Security Groups API\'s new policy rules\n47038c27c5 Add missing ""system"" scope in some of the new API policies\nca2091d5a9 Change wrong ""admin"" scope in floatingip_pools to correct ""system""\n43c10aae86 [OVN] External network ports (SR-IOV) QoS is handled by SR-IOV agent\n1a3fa2206d ovn: Add functional tests for get_network_port_bindings_by_ip\n32e938e698 [OVN] Only account for bound ports in metadata agent\n947e8a041c Remove SRIOV attach limitation from the doc\n456acdeb8f ovn-migration: Delete FIP agent gateway ports\n39ccc0d6d6 Don\'t ever give up trying to connect to OVN DBs\n02a6ddaa86 Add neutron-tempest-with-neutron-lib-master to the periodic queue\ne4008fec1e Remove networking-midonet from our docs\ne8909a65d4 Improve Subnet update performance\ncd4d96a4f7 Use exceptions and resources from neutron-lib\n466a6f98ed Update OVN docs\n5b66259bb8 Remove unused method ""get_ovsdb_connection""\n662cd60075 [OVN] Fix FDB table not registered in OvnSbIdl\nce19fc9493 Remove check if set_extra_attr_value is run in the transaction\nb70247eeb9 Doc: add section about OVS filtering tables\n1483b63ffa Add enable_dhcp filter in get_network_info rpc\n80eddc4039 Improve Network delete performance\n088f1298f2 Initialize privsep library in Neutron commands\n1dfbf5b345 Initialize privsep library for neutron-ovs-cleanup\n02f4eca1ae Pass existing DB obj to save DB requests\nca7822e210 [ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses\nba3d78099f Remove unused method _ensure_vr_id_and_network()\n282dc73e12 Get only FIP ID on network delete\n960f3694f4 Improve AddressScope.get_bound_tenant_ids method\nb221a4af33 Improve port delete performance\n44670f88dd Revert ""Cache default security group IDs in memory""\nfcc8d5358e Unit tests for Agent API secure-rbac-policies\n3b331b31f2 Add tests for metering API\'s new policy rules\n26e0d47cc5 Allow system_scope personas (SYSTEM_ADMIN) to create router\n89a31185cb Unit tests for Quotas API\'s secure-rbac-policies\n5d4f5e4645 Add tests for L3 conntrack helper API\'s new policy rules\nd8305c34e1 Add tests for FIPs port forwarding API\'s new policy rules\nf6483ee9ec Add tests for network segment range API\'s new policy rules\nf7d2c3608d Add periodic jobs to test ""nftables"" binaries\n109faeac7e trivial: Make driver_controller\'s _attrs_to_driver py3 compatible\n888f914df1 [ovn]: Remove unwanted IP addresses from OVN ports\nf616f84e95 Implement conntrack command privsep context\n3cee5f7201 Implement namespace operations privsep context\nf946773d1f Configure branch on which tripleo jobs should be run\n0a931391d8 Make ARP protection commands compatible with ""ebtables-nft""\ne5ccfee6cf Always use absolute path for custom kill-scripts\n130655cdb9 DHCP notification optimization\n7326fd622f Group execution of SQL functional tests\n960b810eac Document Linux Bridge compatibility with ""nftables""\n2c386638ba trivial: Reduce duplication in project network tests\ne96fcd0532 trivial: Reduce duplication in network policy tests\n6533337716 [Functional] Fix mocks of the create_dhcp_port method\n07cf942015 [OVN] Re-enable test_port_security_macspoofing_port for slow jobs\necaa7a1b48 Check there are no min BW QoS in ""BaseOVSTestCase""\n4494e728ac Add tests for trunk API\'s new policy rules\nee0029d682 Add tests for subnet API\'s new policy rules\nbe881b9b30 Add tests for subnetpool API\'s new policy rules\n4ff3ae3235 Add tests for segments API\'s new policy rules\n7b93c0ea77 Add tests for router API\'s new policy rules\nba8aff6307 Add tests for RBAC API\'s new policy rules\n10411d786b Add tests for FIPs API\'s new policy rules\nde69a55378 Fix new API policies for RBAC\ncca2b8de2c Fix ""_get_sg_members"" method\n98a7768994 Add tests for QoS API\'s new policy rules\n8522628f2f Remove FT ""test_has_offline_migrations_*"" tests\n48bce78d1a Remove class ""Timer""\n433deed0b7 Cache default security group IDs in memory\nae78e812d1 ovn-migration: Introduce migrate mode to DB sync tool\nbe6ee6f397 Remove not needed rootwrap filters\ncabf19a984 Fix API policy rules for new personas\n2bc1572740 Fix create_port new API policy roles\nbde437e6d3 Add tests for network API\'s new policy rules\n83a6418d68 Fix new Network API policy rules\n1785b211a0 Add tests for Network IP availability API\'s new policy rules\n6dc5a869b1 Add tests for logging API\'s new policy rules\ndd6cd3fb8a Fix Floating IP policy rules\n6655f7d623 Add tests for floatingip pools API\'s new policy rules\nbecb42b92e Migrate ""ovs-ofctl"" to oslo.privsep\n19b9ed3ce7 Add tests for flavors API\'s new policy rules\n7ca896cfe3 ""OvnNbApiIdlImpl.qos_del"" supports ""if_exists"" parameter\nf6682b6b55 Unit tests for auto_allocated_topology API policies\n89a9c18ab8 Use user_id instead of deprecated user in the policy unit tests\nf700660b6b [OVN] External ports (SR-IOV) QoS is handled by SR-IOV agent\naf3c1b8442 Add locks for setting iptables rules in l3 and metadata agents\nc1ade52fda Read keepalived initial state in parallel to interface monitoring\n0be52e91e4 Add grafana dashboards step to major release checklist\nb0022c51fe Add the DHCPReponder for IPv4\n35c7999ebd Allow 255 character strings in tags\n5c744b23f0 Mark ""test_keepalived_spawns_conflicting_pid_*"" tests as unstable\nca8f1a20c5 Open Xena DB branch\nb91ab3924e Add Python3 xena unit tests\n83405d54c1 Update master for stable/wallaby\n7f35e4e857 Physical NIC RP should be child of agent RP\n24dcbcbe09 Block metadata requests to not go out from the router\nfd6ee70c3d Migrate address-group API to the new secure rbac rules\nd4147072f8 Modify create address scope policy rule and add UT for that API\n94bea77fd7 migration: Remove crudini when migrating tunnels\n1c2b7e1a58 [OVN] Add single node tempest job with OVN master branch (exp. pipeline)\n6eaa6d83d7 Randomize segmentation ID assignation\nae07a9d9f6 [CI] Enable debugging iptables rule in the L3 agent\n92a4db01fe [OVN][FT] Mech driver stop accessing DB at exit\n7727fc07e6 Allow to parse keywords in dns labels\neb56747851 Implement namespace creation method\n43c60d6216 Syncing neutron db with ovn does not provide external_ids for static routes\n95ee3bfeaf [ovn] Add \'address_group\' extension to OVN\n3347e11572 Update version of doc8\n62729d4e74 Replace assertItemsEqual with assertCountEqual\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ie4bfa541be6a6d0257bce02e3ebd8a2c603a5551\n'}]",3,808693,ee751ded73bbe8f8a47f1073d7ae709de91e603d,24,7,4,28522,,,0,"Proposing Xena RC1 for neutron

This proposed a RC1 release for neutron to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 18.0.0.0rc1..6db2619628
421dc2195c Redefine ""neutron-ovn-tempest-ovs-master-fedora"" CI job
43871e0654 Rename notify to publish
b8ef8e722a [Functional] Wait for the initial state of ha router before test
101ccbaeb3 update subport status when trunk/subport create/delete is triggerred
7f06322355 Delete SG log entries when SG is deleted
34acbd6ff8 Replace deprecated assertDictContainsSubset
e610a5eb9e Don't use singleton in routes.middleware.RoutesMiddleware
27edf6b6d3 Ensure net dict has provider info on precommit delete
20a13391a2 Use lookup() instead of iterating over table
82f72896db Add pagging and sorting support for ""network_ip_availability""
d0c871df19 Rename notify to publish in unit tests
c178a37615 Add port status to information dictionary in agent RPC
dc4a57d966 Make OVN driver validate Geneve max_header_size
e08b571f04 Use ""objects_exist"" in PortForwardingPlugin
3c305bf6ae Skip FIP check if VALIDATE_MIGRATION is not True
76ee64f4a8 Fix neutron_pg_drop-related startup issues
5b8889ad7f [Doc] Fix link to the Mellanox documentation in SR-IOV doc
1221cf1b24 Agent RPC step size in config.
b0bb49a8f8 [doc]Correcting broken link
9cffd7b322 [OVN] Change ControllerAgent type dinamically
df891f0593 Remove dhcp_extra_opt value after first newline character
92c636d8b2 Use payload callback for RPC resource_cache
b5dd6efdca [DVR] Fix update of the MTU in the SNAT namespace
89be2951f6 Remove IDL classes implemented in ovsdbapp
903e66e8e7 ovn: Consider all router ports in is_lsp_router_port()
b01844be21 Fix typos in agent policy names
19375b3e78 [DVR] Set arp entries only for single IPs given as allowed addr pair
db4753b6ef use payload for OVSDB_RESOURCE
e4566031d6 Enable QoS min bw tempest in neutron-ovs-tempest-multinode-full
701214481f Use more pythonic approach
1146a4d091 Do not fail when releasing a quota reservation
668b1cc652 Do not fail if the agent load is not bumped
0bb9c99d50 Fix gate for neutron-lib v2.14
31c09cd3b7 Bump os-resource-classes lib to 1.1.0
21986f2be5 Remove shim in trunk/rpc/backend.py
d6b1dd4a93 Include oslo.cache options in neutron.conf
efbe2d3142 neutron-lib: Skip functional tests for changes in unit tests code
344fc0c8d2 Revert ""[L3][HA] Retry when setting HA router GW status.""
3640ffa0c6 Handle all portbinding attrs in case of bulk port creation
9ee5722c04 Remove shim in securitygroups_db
db7887cafd Add limitation about QoS min bw for PF less SRIOV platforms
4e325088d3 [OVN] Document Network Availability Zones
781500daa5 [OVN] Make external ports aware of network AZs
a177249731 Improve content of FloatingIP AFTER callbacks
b488fb8e22 Use payloads for FloatingIP AFTER callbacks
c75df16e50 Add missing options to generated neutron.conf
7988ab5df0 ""default_availability_zones"" need to be considered when validate az
eb430e052d Use neutron-lib payloads for PORT_FORWARDING
9e0c075bf1 ovn: Don't fail db-sync if port binding changes
82fd968011 [L3HA] Add extra logs to the process of ha state changes
223e89c950 Make neutron-ovs-tempest-dvr-ha-multinode-full voting
57cfc57da6 use payloads for FLOATING_IP
c267125e20 functional: Add debug messages around OVN services
ef83719da2 Use payloads for ROUTER AFTER_ callbacks
5ee9325fcc Bump neutron-lib to 2.13.0
8ac9e2fe6d [OVN] Fix Router Availability Zones for segmented networks
e6c3686cd8 Use elevated context when getting default SG for tenant
ca2885889f Add devstack plugin to enable ovs distributed dhcp service
63a2a65bbe Skip DVR binding for ports with invalid OFPORT
40c8f60ee3 Use payloads for ROUTER callbacks
2356f0eb87 Bump oslo.log to version 4.5.0
d4b1b4a072 Fix typo in OVN SUPPORTED_DHCP_OPTS_MAPPING dictionary (ia-addr)
fafcabdbe0 Wait until workers have been launched
a27bb19e74 Reduce the fullstack concurrency to 2
caa05f9c56 Update team ownership
cbef6cda98 Add ""network_id"" to ""_after_router_interface_deleted"" payload
2e6f6c9ec3 Ensure only one worker creates neturon_pg_drop
ad31c58d60 Remove ``ConfDriver`` code
e7c61d3eba use payloads for PORT and FLOATING_IP
8e30639452 [QoS] Add rule type packet per second (pps)
8261b67b6e bw-limit: Pass int parameters to Open vSwitch
45a33dcb0a doc: Do not use dvr_snat on computes
02c0b47d22 Promote neutron-ovn-tempest-slow job to be voting and gating
c3b99a64fc Revert ""[OVN][Placement] Add a SB Chassis event to track changes in BW config""
f8ca735e5f Move mech driver VNIC validation to SimpleAgentMechanismDriverBase
df5cb28737 [OVN][Placement] Add a SB Chassis event to track changes in BW config
923284fc37 Use explicit select condition in SQL query in ""_port_filter_hook""
e961c6d473 Import ABC classes from collection.abc
899953de6b Add a privsep context only for link commands
e5f19a29dc [OVN] Fix ML2/OVN + Neutron DHCP agent use case
e71ba8d2d1 Revert ""Config option to enable OVN IDL on other workers""
1eabf046f3 Remove ""_protect_original_resources"" workaround
90980f496c Add wait for the post-fork event to nb/sb objects
9b2983743b L3 router support ECMP
e0ea4a51ba [L2] no provisioning block for internal service port
3cae410b30 use payloads for PORT AFTER_DELETE events
827cca2ed7 Sanitize MAC addresses
a03c240ef4 Populate self.floating_ips_dict using ""ip rule"" information
6ce48c30bd [L3] Use processing queue for network update events
129b823a8b use payloads for PORT AFTER_UPDATE events
ee67a8412d Remove orphaned event_lock_name attribute
26b06d246a Use os-resource-classes lib for resource classes names
1f3762b0fb [OVN] ""ControllerAgent"" should accept Chassis and Chassis_Private
ca15099cde Add devstack local.conf sample for ML2 OVS
838b1d29c9 Use IP_VERSION_{4,6} constants in ovn_client module
f637a1f60e Remove SG RPC ""use_enhanced_rpc"" check.
ec550f5f52 Add fake_project_id middleware for noauth
3b46df4847 Change fullstack dhclient lease file to tmp folder
be7d0bb6ab Update arp entry of snat port on qrouter ns
f6c3747cae Use elevated context to get default SG from database
6d570dfd7d Notify ROUTER_GATEWAY event for router gw mode
6a74cd76fd [OVN] Do not fail when processing SG rule deletion
5c9a7fe1b4 Add extra logs to the network update callback in L3 agent
cde0f68f9e [OVN] Add binding-extended to the ML2_SUPPORTED_API_EXTENSIONS
1a99adb530 Refactor DHCP common config options
31c0ef9dbe Correctly label port as SubPort in SubPortNotFound
9ae22b1fef Fix ObjectChangeHandler thread usage
4b22eea4be Add fullstack test case for OVS DHCP extension
b05a9186d1 use callback payloads for SECURITY_GROUP
b189b0f322 Use OVS backend for testing os-ken library
d7ca286e6c Make explicit the network backend used in the CI jobs
db2207f32d [ML2] Change way how list of supported API extensions is made
bc82a664b6 Move dns-integration extension to the ML2_SUPPORTED_API_EXTENSIONS list
6bc1c00d66 Copy existing IPv6 leases to generated lease file
5fb5653ffe Check router routes connectivity when GW port is updated
0af8497076 Improve Port list and show
56e8498a4d Add agent extension 'dhcp' for ovs agent
cd8c4f7e30 use callback payloads for SUBNET
dbfa1b5d92 Remove tox_install_siblings=False from the functional job's definition
324a35a3d0 use payloads for PORT BEFORE_UPDATE events
0cd01edc9c [OVN] Add subnet-service-types as supported by OVN mech driver
953eb92a4f [OVN] Disable mcast_flood on localnet ports
941be42a61 use callback payloads for SECURITY_GROUP_RULE
66ac943b64 Config option to enable OVN IDL on other workers
1e2088abbe Fix priority review dashboard
2ea7d66216 Bump neutron-lib to 2.12.0
ac1597d009 [L3] Add some logs for router processing
b74a272bba Add CONTEXT_WRITER decorator to delete_floatingip_agent_gateway_port
8cc7c0cf7a Remove FIP agent's gw port when L3 agent is deleted
5b5bc483ae Fix devstack path in plugin.sh
976cba6133 Force to close http connection after notify about HA router status
8954b33576 Bump minimal ovsdbapp version to 1.11.0
95d80a2757 [OVN] neutron-ovn-metadat-agent add retry logic for sb_idl
39bc84cfb2 Add localport const and refactor
c7e1de09e1 [Docs] Add info about vlan transparent networks' MTU
8f656aab7c Fix QoS dscp rule permissions in documentation
d7371e13e4 Revert ""Set system_scope='all' in elevated context""
4df01d6eaa Add policy rules for extraroute-atomic API
577217c52d Make default hypervisor hostname compatible with libvirt
a2e5daccb3 Add support for OVN allow-stateless ACLs
68d62fa18d Enable tls-proxy support in the tempest jobs
817d807e9d Load Linux Bridge Trunk extension if service plugin configured
6ada912414 Set trunk sub-port when bind profile is created
e3bb98c7e7 Bump os-ken to 2.0.0
48af145d95 Add ""nova:live_migration_events"" flag to subnode in multinode CI job
da760973be Use ""multiprocessing.Queue"" for ""TestNeutronServer"" related tests
4173fb6ca3 [Doc] Remove one of the known DVR HA limitations
a292bea168 Add the DHCPReponder for IPv6
cc3dc7c850 Add CONTEXT_READER decorator to ""get_ha_router_port_bindings""
c0846c6518 Fix ""config-routed-networks"" document errors
a1ca4980da Remove timeout skip guard for LP#1687027
730117ddb0 Switch neutron multinode jobs to ML2/OVS
437a311eca Using 31-Bit and 32-Bit prefixes for IPv4 reasonably
07337f9e99 Use 2 dhcp agents in TestLegacyL3Agent
07c64d8384 Payloads for PORT: BEFORE_CREATE and PRECOMMIT_CREATE
95656a5893 Update handler for PORT AFTER_CREATE
13994d2327 Mark fullstack test_l2_agent_restart as unstable
cfd8232cd3 Added dnsmasq for opensuse installation
a660f77d38 Remove ""mitogen"" library installation from ""docs"" job
6afdff8494 Bump lower version of evenlet to 0.25.1
c915b93e76 Bump alembic to 1.6.5
be43141a5f Provide the rpc_response_max_timeout parameter to sriov-agent
1e8197fee5 Add tests for service_type API's new policy rules
962d2539a1 Change API policy for service_type to be available for all readers
6fb2f513da [OVN] Add 'port-mac-address-regenerate' to the supported extensions
7d8a5eb5a7 [OVN] Add availability zone to the ML2_SUPPORTED_API_EXTENSIONS list
fd8b88ef54 Do a quick FIP check on port delete
65cce351d7 Use TCP keepalives for ovsdb connections
96b2926671 Add CONTEXT_READER to ""get_reservations_for_resources""
383f209b50 [DHCP] Fix cleanup_deleted_ports method
074c131b57 Disable pep8 import check for pyroute2 library
c9fce3a8b6 use payloads for PORT AFTER_CREATE events
4ab699e5cd use payloads for ROUTER_INTERFACE events
17adb4c3fb Use payloads for ADDRESS_GROUP callback events
36ba1cc319 [ovn][metadata] Remove metadata readiness mechanism
05ee23ea15 Follow up for replacing assertItemsEqual
77ac42d2ee SR-IOV agent can handle ports with same MAC addresses
05ce5a1f94 VLAN ""allocate_partially_specified_segment"" can return any physnet
d0b16473d8 [FT] Remove skip guard from SQL tests
2244af771f Add ""filter-validation"" support for ""OVNL3RouterPlugin""
f450886ff9 Allow the use of legacy routers within RPN segments
a98fe51b83 Set ""floatingip.fixed_port"" as viewonly
4de350a54a Switch neutron-rally-task job to ML2/OVS and skip ""test_models_sync""
4cd11f4dee Use local and ip address to create vxlan interface
c4fb1d1711 [Doc] Update Freenode to OFTC as our IRC server
b141aed512 Remove leading zeroes from an IP address
7f0ca67ed6 Remove the devstack/lib/ovs in favour of ""ovs_source"" from DevStack
edc3852c83 Fix phys network lost after reconfigure
f83c77bb12 Add tests for port API's new policy rules
444ef49bea Add test cases for concurrently Object delete
f52280287f Improve Subnet create performance
bdd50ffcde Improve Subnet delete performance
ab0895fdf4 Change minversion of tox to 3.18.0
028c544b05 Add script to aid in using ovn-trace with OpenStack
a75fc891bc Add mitogen to the docs requirements
951a3f0eb3 Deprecate and remove ""get_agents_db""
54420d04dd Skip ""test_keepalived_spawns_conflicting_*"" tests
e135a8221d New Quota driver ``DbQuotaNoLockDriver``
9e6b7a2284 Install ""pyroute2"" as a doc job depedency
2a4074918c Remove call to ""fixup_ubuntu""
7b59b5069b [DVR] Send allowed address pairs info to the L3 agents
c540f789af [OVN] Re-enable dstat for the OVN jobs
f9bda4b1e4 Set the default ``Backend.lookup`` timeout to 2 seconds
ddf0fef28b Add a single option to override the default hypervisor name
fa7c7282f0 Make phynet paramter also is optional when network_segment_range enabled
f192153b44 HA-non-DVR router don't need manually add static route
4e3f65ceef Fix wrong assertion methods in a unit test
2c192b78a2 setup.cfg: Replace dashes with underscores
adfd853267 Deprecate [designate] admin_* parameters
89fd50d0f9 Adding placement auth options to oslo.config entry_points
4aa5de254d use payloads for NETWORK callback events
2321339ee6 Fix SQLAlchemy warnings with view only relationships
dcd277f4f1 Add physnet name case sensitivity limitation to the qos doc
a77a97371e [ovn] Clean-up unused ACL method for DHCP
2d97f3edb2 use payloads for SEGMENT events
317407fe61 [OVN] Check for lock in check_for_mcast_flood_reports
ef1d33e754 Update Neutron's Liuetenants
0aab51c9f8 ovn: Don't use dict.remove() for filtering dhcp ports in db-sync
c511964d70 Replace ""get_routing_table"" with ""list_ip_routes""
69ef824069 Use payloads for TRUNK and SUBPORTS callbacks
2cf4314553 Implement multipath routing in route commands
ca1c6fd69b designate: allow PTR zone creation to fail
ddc8e625f7 [OVN] Fix: Disabling snat after it was enabled
de295f036d Do not include dynamically loaded values into OVO testing
9911d414c6 Improve ""objects.db.api.count"" method
97e34498f7 Fix ""nftables"" ansible role
28cd6c82e9 Added common config and SR-IOV agent config to sanity check
c16f88d148 Report ExternalDNSOverQuota exception for recordset quota error
87a7a5e32e [Fullstack] Add segmentation_id update test
8b39060ddf Fix SQLAlchemy backref warnings for viewonly columns
4d61903bb8 [OVN] Add ""filter-validation"" extension to supported list
ce2c0010b9 [OVN] MetadataProxyHandler to conditionally monitor both Chassis's tables
25d1f9b948 Clean up the deprecated options for Xen API support
9144444b79 Add tests for Security Groups API's new policy rules
47038c27c5 Add missing ""system"" scope in some of the new API policies
ca2091d5a9 Change wrong ""admin"" scope in floatingip_pools to correct ""system""
43c10aae86 [OVN] External network ports (SR-IOV) QoS is handled by SR-IOV agent
1a3fa2206d ovn: Add functional tests for get_network_port_bindings_by_ip
32e938e698 [OVN] Only account for bound ports in metadata agent
947e8a041c Remove SRIOV attach limitation from the doc
456acdeb8f ovn-migration: Delete FIP agent gateway ports
39ccc0d6d6 Don't ever give up trying to connect to OVN DBs
02a6ddaa86 Add neutron-tempest-with-neutron-lib-master to the periodic queue
e4008fec1e Remove networking-midonet from our docs
e8909a65d4 Improve Subnet update performance
cd4d96a4f7 Use exceptions and resources from neutron-lib
466a6f98ed Update OVN docs
5b66259bb8 Remove unused method ""get_ovsdb_connection""
662cd60075 [OVN] Fix FDB table not registered in OvnSbIdl
ce19fc9493 Remove check if set_extra_attr_value is run in the transaction
b70247eeb9 Doc: add section about OVS filtering tables
1483b63ffa Add enable_dhcp filter in get_network_info rpc
80eddc4039 Improve Network delete performance
088f1298f2 Initialize privsep library in Neutron commands
1dfbf5b345 Initialize privsep library for neutron-ovs-cleanup
02f4eca1ae Pass existing DB obj to save DB requests
ca7822e210 [ovs fw] Restrict IPv6 NA and DHCP(v6) IP and MAC source addresses
ba3d78099f Remove unused method _ensure_vr_id_and_network()
282dc73e12 Get only FIP ID on network delete
960f3694f4 Improve AddressScope.get_bound_tenant_ids method
b221a4af33 Improve port delete performance
44670f88dd Revert ""Cache default security group IDs in memory""
fcc8d5358e Unit tests for Agent API secure-rbac-policies
3b331b31f2 Add tests for metering API's new policy rules
26e0d47cc5 Allow system_scope personas (SYSTEM_ADMIN) to create router
89a31185cb Unit tests for Quotas API's secure-rbac-policies
5d4f5e4645 Add tests for L3 conntrack helper API's new policy rules
d8305c34e1 Add tests for FIPs port forwarding API's new policy rules
f6483ee9ec Add tests for network segment range API's new policy rules
f7d2c3608d Add periodic jobs to test ""nftables"" binaries
109faeac7e trivial: Make driver_controller's _attrs_to_driver py3 compatible
888f914df1 [ovn]: Remove unwanted IP addresses from OVN ports
f616f84e95 Implement conntrack command privsep context
3cee5f7201 Implement namespace operations privsep context
f946773d1f Configure branch on which tripleo jobs should be run
0a931391d8 Make ARP protection commands compatible with ""ebtables-nft""
e5ccfee6cf Always use absolute path for custom kill-scripts
130655cdb9 DHCP notification optimization
7326fd622f Group execution of SQL functional tests
960b810eac Document Linux Bridge compatibility with ""nftables""
2c386638ba trivial: Reduce duplication in project network tests
e96fcd0532 trivial: Reduce duplication in network policy tests
6533337716 [Functional] Fix mocks of the create_dhcp_port method
07cf942015 [OVN] Re-enable test_port_security_macspoofing_port for slow jobs
ecaa7a1b48 Check there are no min BW QoS in ""BaseOVSTestCase""
4494e728ac Add tests for trunk API's new policy rules
ee0029d682 Add tests for subnet API's new policy rules
be881b9b30 Add tests for subnetpool API's new policy rules
4ff3ae3235 Add tests for segments API's new policy rules
7b93c0ea77 Add tests for router API's new policy rules
ba8aff6307 Add tests for RBAC API's new policy rules
10411d786b Add tests for FIPs API's new policy rules
de69a55378 Fix new API policies for RBAC
cca2b8de2c Fix ""_get_sg_members"" method
98a7768994 Add tests for QoS API's new policy rules
8522628f2f Remove FT ""test_has_offline_migrations_*"" tests
48bce78d1a Remove class ""Timer""
433deed0b7 Cache default security group IDs in memory
ae78e812d1 ovn-migration: Introduce migrate mode to DB sync tool
be6ee6f397 Remove not needed rootwrap filters
cabf19a984 Fix API policy rules for new personas
2bc1572740 Fix create_port new API policy roles
bde437e6d3 Add tests for network API's new policy rules
83a6418d68 Fix new Network API policy rules
1785b211a0 Add tests for Network IP availability API's new policy rules
6dc5a869b1 Add tests for logging API's new policy rules
dd6cd3fb8a Fix Floating IP policy rules
6655f7d623 Add tests for floatingip pools API's new policy rules
becb42b92e Migrate ""ovs-ofctl"" to oslo.privsep
19b9ed3ce7 Add tests for flavors API's new policy rules
7ca896cfe3 ""OvnNbApiIdlImpl.qos_del"" supports ""if_exists"" parameter
f6682b6b55 Unit tests for auto_allocated_topology API policies
89a9c18ab8 Use user_id instead of deprecated user in the policy unit tests
f700660b6b [OVN] External ports (SR-IOV) QoS is handled by SR-IOV agent
af3c1b8442 Add locks for setting iptables rules in l3 and metadata agents
c1ade52fda Read keepalived initial state in parallel to interface monitoring
0be52e91e4 Add grafana dashboards step to major release checklist
b0022c51fe Add the DHCPReponder for IPv4
35c7999ebd Allow 255 character strings in tags
5c744b23f0 Mark ""test_keepalived_spawns_conflicting_pid_*"" tests as unstable
ca8f1a20c5 Open Xena DB branch
b91ab3924e Add Python3 xena unit tests
83405d54c1 Update master for stable/wallaby
7f35e4e857 Physical NIC RP should be child of agent RP
24dcbcbe09 Block metadata requests to not go out from the router
fd6ee70c3d Migrate address-group API to the new secure rbac rules
d4147072f8 Modify create address scope policy rule and add UT for that API
94bea77fd7 migration: Remove crudini when migrating tunnels
1c2b7e1a58 [OVN] Add single node tempest job with OVN master branch (exp. pipeline)
6eaa6d83d7 Randomize segmentation ID assignation
ae07a9d9f6 [CI] Enable debugging iptables rule in the L3 agent
92a4db01fe [OVN][FT] Mech driver stop accessing DB at exit
7727fc07e6 Allow to parse keywords in dns labels
eb56747851 Implement namespace creation method
43c60d6216 Syncing neutron db with ovn does not provide external_ids for static routes
95ee3bfeaf [ovn] Add 'address_group' extension to OVN
3347e11572 Update version of doc8
62729d4e74 Replace assertItemsEqual with assertCountEqual

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ie4bfa541be6a6d0257bce02e3ebd8a2c603a5551
",git fetch https://review.opendev.org/openstack/releases refs/changes/93/808693/4 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/neutron.yaml'],1,58d1ddbacb95c72b95189e3c8e282f6a772c9db5,xena-rc1-deadline," - Distributed DHCP service is now available as an neutron-ovs-agent extension. It provides basic DHCP functionality locally on compute nodes where VMs are and no DHCP agents are needed in such case. - ECMP routes are now supported by Neutron. Multiple routes with the same destination address are now consolidated into a single ECMP route. - A new quota driver is added ``DbQuotaNoLockDriver``. This driver does not create a unique lock per (resource, project_id). Such locks could lead to a database deadlock state if the number of server requests exceeds the number of resolved resource creations. releases: - version: 19.0.0.0rc1 projects: - repo: openstack/neutron hash: 7cdc4de11baebf7e7f7ebbab5932408e2cc7fcd4 branches: - name: stable/xena location: 19.0.0.0rc1"," - Distributed DHCP service is now available as an neutron-ovs-agent extension. It provides basic DHCP functionality locally on compute nodes where VMs are and no DHCP agents are needed in such case. - ECMP routes are now supported by Neutron. Multiple routes with the same destination address are now consolidated into a single ECMP route. - A new quota driver is added ``DbQuotaNoLockDriver``. This driver does not create a unique lock per (resource, project_id). Such locks could lead to a database deadlock state if the number of server requests exceeds the number of resolved resource creations.",18,9
openstack%2Fcinder~master~Id30929de443d5f7e3923d1061a9f7bbe8b949d5a,openstack/cinder,master,Id30929de443d5f7e3923d1061a9f7bbe8b949d5a,db: Integrate alembic,MERGED,2021-04-19 16:57:34.000000000,2021-09-15 17:23:10.000000000,2021-09-15 17:23:10.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 26832}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-04-19 16:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e93e746ac2aa051548066ec5a9c61bc6724197f8', 'message': ""WIP: db: Integrate alembic\n\nStart the move to alembic for real by integrating it into the 'db sync'\ncommand flow. sqlalchemy-migrate is not removed entirely. Not yet\nanyway. Instead, we will apply all sqlalchemy-migrate migrations up to\nthe final '140_create_project_default_volume_type' migration, after\nwhich we will switch over to alembic. In a future release we can remove\nthe sqlalchemy-migrate migrations and rely entirely on alembic.\n\nWIP: Needs tests, testing, likely many bugfixes...\n\nChange-Id: Id30929de443d5f7e3923d1061a9f7bbe8b949d5a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-04-20 16:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1c76e543b71318b8c3749b159fccc817876614e2', 'message': ""WIP: db: Integrate alembic\n\nStart the move to alembic for real by integrating it into the 'db sync'\ncommand flow. sqlalchemy-migrate is not removed entirely. Not yet\nanyway. Instead, we will apply all sqlalchemy-migrate migrations up to\nthe final '140_create_project_default_volume_type' migration, after\nwhich we will switch over to alembic. In a future release we can remove\nthe sqlalchemy-migrate migrations and rely entirely on alembic.\n\nWIP: Need to fix the 'Database' fixture, which isn't working with\nalembic. Also needs tests for the alembic migrations and the switchover\nfrom sqlalchemy-migrate to alembic (currently only manually tested).\n\nChange-Id: Id30929de443d5f7e3923d1061a9f7bbe8b949d5a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-13 17:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f03b42a6b8cb0f967c46cb52cda0f700bb0997b', 'message': ""db: Integrate alembic\n\nStart the move to alembic for real by integrating it into the 'db sync'\ncommand flow. sqlalchemy-migrate is not removed entirely. Not yet\nanyway. Instead, we will apply all sqlalchemy-migrate migrations up to\nthe final '140_create_project_default_volume_type' migration, after\nwhich we will switch over to alembic. In a future release we can remove\nthe sqlalchemy-migrate migrations and rely entirely on alembic.\n\nChange-Id: Id30929de443d5f7e3923d1061a9f7bbe8b949d5a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-14 10:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/507d85632b0c4b8bcb8338f87de14911981786fe', 'message': ""db: Integrate alembic\n\nStart the move to alembic for real by integrating it into the 'db sync'\ncommand flow. sqlalchemy-migrate is not removed entirely. Not yet\nanyway. Instead, we will apply all sqlalchemy-migrate migrations up to\nthe final '140_create_project_default_volume_type' migration, after\nwhich we will switch over to alembic. In a future release we can remove\nthe sqlalchemy-migrate migrations and rely entirely on alembic.\n\nChange-Id: Id30929de443d5f7e3923d1061a9f7bbe8b949d5a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-07-16 17:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7eac18fc6b40d27b43a39cd570a548c19c984ae6', 'message': ""db: Integrate alembic\n\nStart the move to alembic for real by integrating it into the 'db sync'\ncommand flow. sqlalchemy-migrate is not removed entirely. Not yet\nanyway. Instead, we will apply all sqlalchemy-migrate migrations up to\nthe final '140_create_project_default_volume_type' migration, after\nwhich we will switch over to alembic. In a future release we can remove\nthe sqlalchemy-migrate migrations and rely entirely on alembic.\n\nChange-Id: Id30929de443d5f7e3923d1061a9f7bbe8b949d5a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-08-27 14:13:38.000000000', 'files': ['releasenotes/notes/switch-to-alembic-2bbe27749fde70ff.yaml', 'cinder/db/migrations/env.py', 'cinder/db/migration.py', 'cinder/tests/unit/db/test_migration.py', 'cinder/tests/unit/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ee771bbdbc96eeae72b4c874fa55d6f418787dc7', 'message': ""db: Integrate alembic\n\nStart the move to alembic for real by integrating it into the 'db sync'\ncommand flow. sqlalchemy-migrate is not removed entirely. Not yet\nanyway. Instead, we will apply all sqlalchemy-migrate migrations up to\nthe final '140_create_project_default_volume_type' migration, after\nwhich we will switch over to alembic. In a future release we can remove\nthe sqlalchemy-migrate migrations and rely entirely on alembic.\n\nChange-Id: Id30929de443d5f7e3923d1061a9f7bbe8b949d5a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,786933,ee771bbdbc96eeae72b4c874fa55d6f418787dc7,119,6,6,15334,,,0,"db: Integrate alembic

Start the move to alembic for real by integrating it into the 'db sync'
command flow. sqlalchemy-migrate is not removed entirely. Not yet
anyway. Instead, we will apply all sqlalchemy-migrate migrations up to
the final '140_create_project_default_volume_type' migration, after
which we will switch over to alembic. In a future release we can remove
the sqlalchemy-migrate migrations and rely entirely on alembic.

Change-Id: Id30929de443d5f7e3923d1061a9f7bbe8b949d5a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/786933/6 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/migration.py'],1,e93e746ac2aa051548066ec5a9c61bc6724197f8,bp/remove-sqlalchemy-migrate,"from alembic import command as alembic_command from alembic import config as alembic_config from alembic import migration as alembic_migrationfrom cinder.i18n import _def get_alembic_config(engine=None): """"""Return a valid alembic config object"""""" ini_path = os.path.join(os.path.dirname(__file__), 'alembic.ini') config = alembic_config.Config(os.path.abspath(ini_path)) if engine is None: engine = db_api.get_engine() # str(sqlalchemy.engine.url.URL) returns a RFC-1738 quoted URL. # This means that a password like ""foo@"" will be turned into # ""foo%40"". This causes a problem for set_main_option() here # because that uses ConfigParser.set, which (by design) uses # *python* interpolation to write the string out ... where ""%"" is # the special python interpolation character! Avoid this # mis-match by quoting all %'s for the set below. quoted_engine_url = str(engine.url).replace('%', '%%') config.set_main_option('sqlalchemy.url', quoted_engine_url) return config def get_current_alembic_heads(): """"""Return current heads (if any) from the alembic migration table"""""" engine = db_api.get_engine() with engine.connect() as conn: context = alembic_migration.MigrationContext.configure(conn) heads = context.get_current_heads() return heads def is_database_under_alembic_control(): if get_current_alembic_heads(): return True return False def db_sync(version=None, engine=None): """"""Migrate the database to `version` or the most recent version. We're currently straddling two migration systems, sqlalchemy-migrate and alembic. This handles both by ensuring we switch from one to the other at the appropriate moment. """""" use_alembic = True # if the user requested a specific version, check if it's an integer # and < 140; if so, we're in sqlalchemy-migrate land and won't attempt # any alembic migrations later if version is not None: try: migrate_version = int(version) except ValueError: migrate_version = None else: use_alembic = False else: migrate_version = None migration.db_sync( version=migrate_version, if not use_alembic: return config = get_alembic_config() # fake apply the initial migration since our DB is already initialized (by # sqlalchemy-migrate) if not is_database_under_alembic_control(): print(""Placing database under Alembic's migration control."") # noqa alembic_command.stamp(config, 'wallaby') # then actually apply anything later alembic_command.upgrade(config, version) heads = get_current_alembic_heads() if heads is None: raise Exception('DB sync failed') revs = ', '.join(heads) if version == 'heads': msg = _('Upgraded database, current revision(s): %(revs)s') print(msg, {'rev': revs}) # noqa else: msg = _('Upgraded database to: %(ver)s, current revision(s): %(rev)s') print(msg, {'ver': version, 'rev': revs}) # noqa","def db_sync(version=None, engine=None): """"""Migrate the database to `version` or the most recent version."""""" return migration.db_sync( version=version,",90,3
openstack%2Fmasakari-monitors~master~Ie6e7755350983bb26a7c73ba958fbb4b8bc7eed4,openstack/masakari-monitors,master,Ie6e7755350983bb26a7c73ba958fbb4b8bc7eed4,Update master for stable/xena,MERGED,2021-09-15 01:57:59.000000000,2021-09-15 17:14:28.000000000,2021-09-15 17:06:44.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-15 01:57:59.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/71cc4b1f0938ceb27bef79e000feef0ab9ea115c', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: Ie6e7755350983bb26a7c73ba958fbb4b8bc7eed4\n'}]",0,809031,71cc4b1f0938ceb27bef79e000feef0ab9ea115c,7,2,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: Ie6e7755350983bb26a7c73ba958fbb4b8bc7eed4
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/31/809031/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,71cc4b1f0938ceb27bef79e000feef0ab9ea115c,reno-xena, xena,,7,0
openstack%2Fmasakari-monitors~stable%2Fxena~Ifc55fbac0e8bcaca27a3552ef7a887ad9e7f0395,openstack/masakari-monitors,stable/xena,Ifc55fbac0e8bcaca27a3552ef7a887ad9e7f0395,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-15 01:57:58.000000000,2021-09-15 17:14:28.000000000,2021-09-15 17:06:43.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-15 01:57:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/fb7e457c50c9dca6563a0d094026b8e904bebafd', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ifc55fbac0e8bcaca27a3552ef7a887ad9e7f0395\n'}]",0,809030,fb7e457c50c9dca6563a0d094026b8e904bebafd,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ifc55fbac0e8bcaca27a3552ef7a887ad9e7f0395
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/30/809030/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fb7e457c50c9dca6563a0d094026b8e904bebafd,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},6,6
openstack%2Fmasakari-monitors~stable%2Fxena~Ia87543483dc1c57f6c4c5ed6f4d36d9b5d965eed,openstack/masakari-monitors,stable/xena,Ia87543483dc1c57f6c4c5ed6f4d36d9b5d965eed,Update .gitreview for stable/xena,MERGED,2021-09-15 01:57:56.000000000,2021-09-15 17:05:52.000000000,2021-09-15 17:03:33.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-15 01:57:56.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/adac2ebdc9e63c2dae5a5f748fe1d84dfe84ef2a', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: Ia87543483dc1c57f6c4c5ed6f4d36d9b5d965eed\n'}]",0,809029,adac2ebdc9e63c2dae5a5f748fe1d84dfe84ef2a,7,2,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: Ia87543483dc1c57f6c4c5ed6f4d36d9b5d965eed
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/29/809029/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,adac2ebdc9e63c2dae5a5f748fe1d84dfe84ef2a,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Freleases~master~Ia50082880dcff8ac4af6a83cfc9e2dd5e709e8fe,openstack/releases,master,Ia50082880dcff8ac4af6a83cfc9e2dd5e709e8fe,Proposing Xena RC1 for zaqar,MERGED,2021-09-13 10:43:09.000000000,2021-09-15 17:04:10.000000000,2021-09-15 17:04:10.000000000,"[{'_account_id': 6484}, {'_account_id': 8846}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 10:43:09.000000000', 'files': ['deliverables/xena/zaqar.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9ac2325876367cbe799c4a272eafd7917fe3ed1a', 'message': 'Proposing Xena RC1 for zaqar\n\nThis proposed a RC1 release for zaqar to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 12.0.0..c7d9976e\n676207f8 Replace deprecated arguments of RequestContext\n24538768 Replace deprecated import of ABCs from collections\n8dae90a9 Changed minversion in tox to 3.18.0\n96d9c97e Fix confirmation api doc missing\nfad3fa14 [community goal] Update contributor documentation\ncbaadc0e [doc]Update IRC Info\n2f750750 Decode bytes to strings\ndb6a6b49 Update swift client in Zaqar\nb72a930a setup.cfg: Replace dashes with underscores\n73443813 Add release notes foldler for wallaby\n7564be73 Update master for stable/wallaby\n8e17ad34 Update the requirement of oslo db\n9b6edcf6 Support extra specs to subscription confirming\n93c56130 [Part2] Remove six\n1399cee1 [Part3] Remove six\n6296321b requirements: Drop os-testr\ndfc684a2 Stop to use the __future__ module.\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ia50082880dcff8ac4af6a83cfc9e2dd5e709e8fe\n'}]",0,808739,9ac2325876367cbe799c4a272eafd7917fe3ed1a,9,5,1,28522,,,0,"Proposing Xena RC1 for zaqar

This proposed a RC1 release for zaqar to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 12.0.0..c7d9976e
676207f8 Replace deprecated arguments of RequestContext
24538768 Replace deprecated import of ABCs from collections
8dae90a9 Changed minversion in tox to 3.18.0
96d9c97e Fix confirmation api doc missing
fad3fa14 [community goal] Update contributor documentation
cbaadc0e [doc]Update IRC Info
2f750750 Decode bytes to strings
db6a6b49 Update swift client in Zaqar
b72a930a setup.cfg: Replace dashes with underscores
73443813 Add release notes foldler for wallaby
7564be73 Update master for stable/wallaby
8e17ad34 Update the requirement of oslo db
9b6edcf6 Support extra specs to subscription confirming
93c56130 [Part2] Remove six
1399cee1 [Part3] Remove six
6296321b requirements: Drop os-testr
dfc684a2 Stop to use the __future__ module.

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ia50082880dcff8ac4af6a83cfc9e2dd5e709e8fe
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/808739/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/zaqar.yaml'],1,9ac2325876367cbe799c4a272eafd7917fe3ed1a,xena-rc1-deadline,releases: - version: 13.0.0.0rc1 projects: - repo: openstack/zaqar hash: c7d9976e1527eba5ca59a503b08e5d785d2b6101 branches: - name: stable/xena location: 13.0.0.0rc1,,8,0
openstack%2Freleases~master~I2d500beb48d8787e464d036f2f491a14017b2dee,openstack/releases,master,I2d500beb48d8787e464d036f2f491a14017b2dee,Proposing Xena RC1 for zaqar-ui,MERGED,2021-09-13 10:42:13.000000000,2021-09-15 17:04:07.000000000,2021-09-15 17:04:07.000000000,"[{'_account_id': 6484}, {'_account_id': 8846}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 10:42:13.000000000', 'files': ['deliverables/xena/zaqar-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a8f12616c871751e5f934cb5764a9a80d9e507da', 'message': 'Proposing Xena RC1 for zaqar-ui\n\nThis proposed a RC1 release for zaqar-ui to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 10.0.0..98d0021\n98d0021 Drop horizon-nodejs10-jobs template\n747b91a Add horizon-nodejs14-job template.\nd6eea00 Add Python3 xena unit tests\n77bdd85 Update master for stable/wallaby\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I2d500beb48d8787e464d036f2f491a14017b2dee\n'}]",0,808738,a8f12616c871751e5f934cb5764a9a80d9e507da,9,5,1,28522,,,0,"Proposing Xena RC1 for zaqar-ui

This proposed a RC1 release for zaqar-ui to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 10.0.0..98d0021
98d0021 Drop horizon-nodejs10-jobs template
747b91a Add horizon-nodejs14-job template.
d6eea00 Add Python3 xena unit tests
77bdd85 Update master for stable/wallaby

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I2d500beb48d8787e464d036f2f491a14017b2dee
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/808738/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/zaqar-ui.yaml'],1,a8f12616c871751e5f934cb5764a9a80d9e507da,xena-rc1-deadline,releases: - version: 11.0.0.0rc1 projects: - repo: openstack/zaqar-ui hash: 98d0021d8affbf124b451fc182bb96de327c63fe branches: - name: stable/xena location: 11.0.0.0rc1,,8,0
openstack%2Freleases~master~Ib5e186a86d8fa24e82c79f4c9743e1e87a37280f,openstack/releases,master,Ib5e186a86d8fa24e82c79f4c9743e1e87a37280f,Proposing Xena RC1 for watcher,MERGED,2021-09-13 10:41:43.000000000,2021-09-15 16:57:08.000000000,2021-09-15 16:57:08.000000000,"[{'_account_id': 17685}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-09-13 10:41:43.000000000', 'files': ['deliverables/xena/watcher.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/487b49667955f6a2064d28c89ed57fbaf87c3f32', 'message': 'Proposing Xena RC1 for watcher\n\nThis proposed a RC1 release for watcher to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 6.0.0..6dd2f2a9\n6dd2f2a9 BugFix:  Prevent float type variables from being passed to random\na9938499 Use Block Storage API v3 instead of API v2\nc28756c4 use HTTPStatus instead of direct code\n2414f66e Add watcher dashboard to devstack documentation\n546b730c Changed minversion in tox to 3.18.0\ne0779175 Manage constraints with testenv install_command\n1235153b Use py3 as the default runtime for tox\n204992ff Enable tls-proxy as default in test jobs\n6f668133 setup.cfg: Replace dashes with underscores\n9ca44fa3 Replace deprecated with_lockmode with with_for_update\n2205f4e4 Add Python3 xena unit tests\n7cd43737 Update master for stable/wallaby\na2123088 requirements: Drop os-testr\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ib5e186a86d8fa24e82c79f4c9743e1e87a37280f\n'}]",0,808737,487b49667955f6a2064d28c89ed57fbaf87c3f32,9,5,1,28522,,,0,"Proposing Xena RC1 for watcher

This proposed a RC1 release for watcher to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 6.0.0..6dd2f2a9
6dd2f2a9 BugFix:  Prevent float type variables from being passed to random
a9938499 Use Block Storage API v3 instead of API v2
c28756c4 use HTTPStatus instead of direct code
2414f66e Add watcher dashboard to devstack documentation
546b730c Changed minversion in tox to 3.18.0
e0779175 Manage constraints with testenv install_command
1235153b Use py3 as the default runtime for tox
204992ff Enable tls-proxy as default in test jobs
6f668133 setup.cfg: Replace dashes with underscores
9ca44fa3 Replace deprecated with_lockmode with with_for_update
2205f4e4 Add Python3 xena unit tests
7cd43737 Update master for stable/wallaby
a2123088 requirements: Drop os-testr

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ib5e186a86d8fa24e82c79f4c9743e1e87a37280f
",git fetch https://review.opendev.org/openstack/releases refs/changes/37/808737/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/watcher.yaml'],1,487b49667955f6a2064d28c89ed57fbaf87c3f32,xena-rc1-deadline,releases: - version: 7.0.0.0rc1 projects: - repo: openstack/watcher hash: 6dd2f2a9c100e8620d33855e3438e9c00976006a branches: - name: stable/xena location: 7.0.0.0rc1,,8,0
openstack%2Ftripleo-repos~master~Ieb178fd9fb61284dbedea897a4841e3459e85300,openstack/tripleo-repos,master,Ieb178fd9fb61284dbedea897a4841e3459e85300,Adds python2 compatible http_get for centos7 train jobs,MERGED,2021-09-15 09:23:34.000000000,2021-09-15 16:53:08.000000000,2021-09-15 16:53:08.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 15527}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-09-15 09:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/6aa348239f9b5deee19d900fd49bdaf041ba7493', 'message': 'Adds python2 compatible http_get for centos7 train jobs\n\nThis adjusts the http_get function definition to work with python2.\nIn python3 we work with urllib.request.urlopen but for py2 we must\nuse urllib2.urlopen. This aims to fix the issue seen in [1] and is\nneeded by [2].\n\n[1] https://logserver.rdoproject.org/92/35492/3/check/tripleo-ci-centos-7-content-provider/d906f0e/job-output.txt\n[2] https://review.opendev.org/c/openstack/tripleo-quickstart/+/791486\n\nChange-Id: Ieb178fd9fb61284dbedea897a4841e3459e85300\n'}, {'number': 2, 'created': '2021-09-15 12:40:49.000000000', 'files': ['plugins/module_utils/tripleo_repos/get_hash/tripleo_hash_info.py', 'tests/sanity/ignore.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/6d878bb79bdc8d2bede4d25f657e0f3ba2bb8d97', 'message': 'Adds python2 compatible http_get for centos7 train jobs\n\nThis adjusts the http_get function definition to work with python2.\nIn python3 we work with urllib.request.urlopen but for py2 we must\nuse urllib2.urlopen. This aims to fix the issue seen in [1] and is\nneeded by [2]. Adds the ansible-bad-import to the test ignores to\naddress issue seen in [3]\n\n[1] https://logserver.rdoproject.org/92/35492/3/check/tripleo-ci-centos-7-content-provider/d906f0e/job-output.txt\n[2] https://review.opendev.org/c/openstack/tripleo-quickstart/+/791486\n[3] https://47bdf347398a802ddc78-6d4960ba8e43184f8d8ec59d1a3f8e83.ssl.cf2.rackcdn.com/809159/1/check/tox-sanity-py27/f45ffb7/job-output.txt\n\nChange-Id: Ieb178fd9fb61284dbedea897a4841e3459e85300\n'}]",1,809159,6d878bb79bdc8d2bede4d25f657e0f3ba2bb8d97,14,9,2,8449,,,0,"Adds python2 compatible http_get for centos7 train jobs

This adjusts the http_get function definition to work with python2.
In python3 we work with urllib.request.urlopen but for py2 we must
use urllib2.urlopen. This aims to fix the issue seen in [1] and is
needed by [2]. Adds the ansible-bad-import to the test ignores to
address issue seen in [3]

[1] https://logserver.rdoproject.org/92/35492/3/check/tripleo-ci-centos-7-content-provider/d906f0e/job-output.txt
[2] https://review.opendev.org/c/openstack/tripleo-quickstart/+/791486
[3] https://47bdf347398a802ddc78-6d4960ba8e43184f8d8ec59d1a3f8e83.ssl.cf2.rackcdn.com/809159/1/check/tox-sanity-py27/f45ffb7/job-output.txt

Change-Id: Ieb178fd9fb61284dbedea897a4841e3459e85300
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/59/809159/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/module_utils/tripleo_repos/get_hash/tripleo_hash_info.py'],1,6aa348239f9b5deee19d900fd49bdaf041ba7493,tripleo-get-hash,"# urllib. Also deals with python2 vs python3 for centos7 train jobs. py_version = sys.version_info.major if py_version < 3: import urllib2 response = urllib2.urlopen(url) int(response.code))else: try: from ansible.module_utils.urls import open_url def http_get(url): try: response = open_url(url, method='GET') return (response.read(), response.status) except Exception as e: return (str(e), -1) except ImportError: from urllib.request import urlopen def http_get(url): try: response = urlopen(url) return ( response.read().decode('utf-8'), int(response.status)) except Exception as e: return (str(e), -1)","# urllib. try: from ansible.module_utils.urls import open_url response = open_url(url, method='GET') return (response.read(), response.status) except Exception as e: return (str(e), -1) except ImportError: from urllib.request import urlopen def http_get(url): # https://stackoverflow.com/questions/35122232/urllib-request-urlopen-return-bytes-but-i-cannot-decode-it try: response = urlopen(url) int(response.status))",27,15
openstack%2Fpuppet-tripleo~stable%2Fussuri~I9d0ddcc88098a5b891829192f1ce656842d0aa15,openstack/puppet-tripleo,stable/ussuri,I9d0ddcc88098a5b891829192f1ce656842d0aa15,Set memcached server list from memcached_node_names,MERGED,2021-08-02 12:50:34.000000000,2021-09-15 16:51:07.000000000,2021-09-15 16:51:07.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-02 12:50:34.000000000', 'files': ['manifests/profile/base/barbican/authtoken.pp', 'spec/classes/tripleo_profile_base_nova_spec.rb', 'manifests/profile/base/manila/authtoken.pp', 'spec/classes/tripleo_profile_base_placement_authtoken_spec.rb', 'spec/classes/tripleo_profile_base_cinder_authtoken_spec.rb', 'spec/fixtures/hieradata/default.yaml', 'spec/classes/tripleo_profile_base_keystone_spec.rb', 'spec/classes/tripleo_profile_base_nova_authtoken_spec.rb', 'manifests/profile/base/mistral/authtoken.pp', 'manifests/profile/base/nova.pp', 'manifests/profile/base/cinder/authtoken.pp', 'manifests/profile/base/placement/authtoken.pp', 'spec/classes/tripleo_profile_base_glance_authtoken_spec.rb', 'spec/classes/tripleo_profile_base_heat_authtoken_spec.rb', 'spec/classes/tripleo_profile_base_neutron_authtoken_spec.rb', 'manifests/profile/base/designate/authtoken.pp', 'spec/classes/tripleo_profile_base_manila_authtoken_spec.rb', 'manifests/profile/base/neutron/authtoken.pp', 'spec/classes/tripleo_profile_base_mistral_authtoken_spec.rb', 'spec/classes/tripleo_profile_base_gnocchi_authtoken_spec.rb', 'manifests/profile/base/heat.pp', 'spec/classes/tripleo_profile_base_novajoin_authtoken_spec.rb', 'spec/classes/tripleo_profile_base_octavia_authtoken_spec.rb', 'manifests/profile/base/nova/authtoken.pp', 'manifests/profile/base/swift/proxy.pp', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/zaqar/authtoken.pp', 'spec/classes/tripleo_profile_base_ironic_inspector_authtoken_spec.rb', 'manifests/profile/base/novajoin/authtoken.pp', 'spec/classes/tripleo_profile_base_aodh_authtoken_spec.rb', 'spec/classes/tripleo_profile_base_barbican_authtoken_spec.rb', 'spec/classes/tripleo_profile_zaqar_authtoken_spec.rb', 'manifests/profile/base/ironic_inspector/authtoken.pp', 'manifests/profile/base/ironic/authtoken.pp', 'manifests/profile/base/octavia/authtoken.pp', 'manifests/profile/base/gnocchi/authtoken.pp', 'spec/classes/tripleo_profile_base_heat_spec.rb', 'spec/classes/tripleo_profile_base_ironic_authtoken_spec.rb', 'manifests/profile/base/glance/authtoken.pp', 'manifests/profile/base/heat/authtoken.pp', 'spec/classes/tripleo_profile_base_designate_authtoken_spec.rb', 'manifests/profile/base/horizon.pp', 'manifests/profile/base/aodh/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/89fc3e6b0c3caeafe70b415917dc435c4e938676', 'message': 'Set memcached server list from memcached_node_names\n\nThis follows other clustered services (like RabbitMQ) and\nuses *_node_names (which contain FQDNs), instead of *_node_ips.\n\nCertificate for Memcached TLS is also created using FQDN.\nBecause of this, validation failed when using pymemcache.\nThis patch fixes this issue.\n\nCloses-Bug: #1929574\nChange-Id: I9d0ddcc88098a5b891829192f1ce656842d0aa15\n(cherry picked from commit 49921d57f5753dffe032b9501d1101707ce8cc1e)\n'}]",0,803201,89fc3e6b0c3caeafe70b415917dc435c4e938676,25,8,1,14250,,,0,"Set memcached server list from memcached_node_names

This follows other clustered services (like RabbitMQ) and
uses *_node_names (which contain FQDNs), instead of *_node_ips.

Certificate for Memcached TLS is also created using FQDN.
Because of this, validation failed when using pymemcache.
This patch fixes this issue.

Closes-Bug: #1929574
Change-Id: I9d0ddcc88098a5b891829192f1ce656842d0aa15
(cherry picked from commit 49921d57f5753dffe032b9501d1101707ce8cc1e)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/01/803201/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/barbican/authtoken.pp', 'spec/classes/tripleo_profile_base_nova_spec.rb', 'manifests/profile/base/manila/authtoken.pp', 'spec/classes/tripleo_profile_base_placement_authtoken_spec.rb', 'spec/classes/tripleo_profile_base_cinder_authtoken_spec.rb', 'spec/fixtures/hieradata/default.yaml', 'spec/classes/tripleo_profile_base_keystone_spec.rb', 'spec/classes/tripleo_profile_base_nova_authtoken_spec.rb', 'manifests/profile/base/mistral/authtoken.pp', 'manifests/profile/base/nova.pp', 'manifests/profile/base/cinder/authtoken.pp', 'manifests/profile/base/placement/authtoken.pp', 'spec/classes/tripleo_profile_base_glance_authtoken_spec.rb', 'spec/classes/tripleo_profile_base_heat_authtoken_spec.rb', 'spec/classes/tripleo_profile_base_neutron_authtoken_spec.rb', 'manifests/profile/base/designate/authtoken.pp', 'spec/classes/tripleo_profile_base_manila_authtoken_spec.rb', 'manifests/profile/base/neutron/authtoken.pp', 'spec/classes/tripleo_profile_base_mistral_authtoken_spec.rb', 'spec/classes/tripleo_profile_base_gnocchi_authtoken_spec.rb', 'manifests/profile/base/heat.pp', 'spec/classes/tripleo_profile_base_novajoin_authtoken_spec.rb', 'spec/classes/tripleo_profile_base_octavia_authtoken_spec.rb', 'manifests/profile/base/nova/authtoken.pp', 'manifests/profile/base/swift/proxy.pp', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/zaqar/authtoken.pp', 'spec/classes/tripleo_profile_base_ironic_inspector_authtoken_spec.rb', 'manifests/profile/base/novajoin/authtoken.pp', 'spec/classes/tripleo_profile_base_aodh_authtoken_spec.rb', 'spec/classes/tripleo_profile_base_barbican_authtoken_spec.rb', 'spec/classes/tripleo_profile_zaqar_authtoken_spec.rb', 'manifests/profile/base/ironic_inspector/authtoken.pp', 'manifests/profile/base/ironic/authtoken.pp', 'manifests/profile/base/octavia/authtoken.pp', 'manifests/profile/base/gnocchi/authtoken.pp', 'spec/classes/tripleo_profile_base_heat_spec.rb', 'spec/classes/tripleo_profile_base_ironic_authtoken_spec.rb', 'manifests/profile/base/glance/authtoken.pp', 'manifests/profile/base/heat/authtoken.pp', 'spec/classes/tripleo_profile_base_designate_authtoken_spec.rb', 'manifests/profile/base/horizon.pp', 'manifests/profile/base/aodh/authtoken.pp']",43,89fc3e6b0c3caeafe70b415917dc435c4e938676,,"# === Parameters ## [*memcached_hosts*] # (Optional) Array of hostnames, ipv4 or ipv6 addresses for memcache. # Defaults to hiera('memcached_node_names', [])# DEPRECATED PARAMETERS # # [*memcached_ips*] # (Optional) Array of ipv4 or ipv6 addresses for memcache. # Defaults to undef # $memcached_hosts = hiera('memcached_node_names', []), # DEPRECATED PARAMETERS $memcached_ips = undef ) { $memcached_hosts_real = pick($memcached_ips, $memcached_hosts) if is_ipv6_address($memcached_hosts_real[0]) { $memcache_servers = prefix(suffix(any2array(normalize_ip_for_uri($memcached_hosts_real)), "":${memcached_port}""), 'inet6:') } else { $memcache_servers = suffix(any2array(normalize_ip_for_uri($memcached_hosts_real)), "":${memcached_port}"")","# [*memcached_ips*] # (Optional) Array of ipv4 or ipv6 addresses for memcache. # Defaults to hiera('memcached_node_ips', []) $memcached_ips = hiera('memcached_node_ips', []),) { if is_ipv6_address($memcached_ips[0]) { $memcache_servers = prefix(suffix(any2array(normalize_ip_for_uri($memcached_ips)), "":${memcached_port}""), 'inet6:') } else { $memcache_servers = suffix(any2array(normalize_ip_for_uri($memcached_ips)), "":${memcached_port}"")",411,198
openstack%2Fpython-cinderclient~master~Iab7ff2bfcb61fd5d8a7ee25e245cebe7a50c46b1,openstack/python-cinderclient,master,Iab7ff2bfcb61fd5d8a7ee25e245cebe7a50c46b1,Add W503 to flake8 ignores,MERGED,2021-09-02 13:50:23.000000000,2021-09-15 16:50:45.000000000,2021-09-15 16:49:07.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-02 13:50:23.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/fca890713aef37ed446071acf4cbe92ee09d05a8', 'message': ""Add W503 to flake8 ignores\n\nCinder ignores both W503 and W504, and it's really annoying that\ncinderclient is not consistent with cinder about this.\n\nChange-Id: Iab7ff2bfcb61fd5d8a7ee25e245cebe7a50c46b1\n""}]",0,807152,fca890713aef37ed446071acf4cbe92ee09d05a8,13,4,1,5314,,,0,"Add W503 to flake8 ignores

Cinder ignores both W503 and W504, and it's really annoying that
cinderclient is not consistent with cinder about this.

Change-Id: Iab7ff2bfcb61fd5d8a7ee25e245cebe7a50c46b1
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/52/807152/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fca890713aef37ed446071acf4cbe92ee09d05a8,add-w503,"ignore = H404,H405,E122,E123,E128,E251,W503,W504","ignore = H404,H405,E122,E123,E128,E251,W504",1,1
openstack%2Freleases~master~I84a95e636a7e750c2d10f886ed57765576dad63d,openstack/releases,master,I84a95e636a7e750c2d10f886ed57765576dad63d,Proposing Xena RC1 for watcher-dashboard,MERGED,2021-09-13 10:39:55.000000000,2021-09-15 16:49:30.000000000,2021-09-15 16:49:30.000000000,"[{'_account_id': 17685}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-09-13 10:39:55.000000000', 'files': ['deliverables/xena/watcher-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9c3668010fe33ec21e34bfe90d7e96b443b80dec', 'message': 'Proposing Xena RC1 for watcher-dashboard\n\nThis proposed a RC1 release for watcher-dashboard to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 5.0.0..4192182\n4192182 Fix broken devstack install\na9fc6a8 Enable tox cover jobs on zuul\n5d22d8c Repair coverage report tox job\na48e09f Changed minversion in tox to 3.18.0\n8a2d2eb Manage constraints with testenv install_command\n0d9323e Add Python3 xena unit tests\nd147750 doc: Update our IRC server to OFTC\n2ee3c60 Fix create audit fail from audit_template\n0aee486 Use py3 as the default runtime for tox\n54a6e10 setup.cfg: Replace dashes with underscores\n427afe1 Dropping lower constraints testing\n399b3cd Update master for stable/wallaby\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I84a95e636a7e750c2d10f886ed57765576dad63d\n'}]",0,808736,9c3668010fe33ec21e34bfe90d7e96b443b80dec,9,5,1,28522,,,0,"Proposing Xena RC1 for watcher-dashboard

This proposed a RC1 release for watcher-dashboard to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 5.0.0..4192182
4192182 Fix broken devstack install
a9fc6a8 Enable tox cover jobs on zuul
5d22d8c Repair coverage report tox job
a48e09f Changed minversion in tox to 3.18.0
8a2d2eb Manage constraints with testenv install_command
0d9323e Add Python3 xena unit tests
d147750 doc: Update our IRC server to OFTC
2ee3c60 Fix create audit fail from audit_template
0aee486 Use py3 as the default runtime for tox
54a6e10 setup.cfg: Replace dashes with underscores
427afe1 Dropping lower constraints testing
399b3cd Update master for stable/wallaby

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I84a95e636a7e750c2d10f886ed57765576dad63d
",git fetch https://review.opendev.org/openstack/releases refs/changes/36/808736/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/watcher-dashboard.yaml'],1,9c3668010fe33ec21e34bfe90d7e96b443b80dec,xena-rc1-deadline,releases: - version: 6.0.0.0rc1 projects: - repo: openstack/watcher-dashboard hash: 4192182302a9f81b2cac5aff484161afc776c750 branches: - name: stable/xena location: 6.0.0.0rc1,,8,0
openstack%2Freleases~master~Iff52c571c3c574e1abdd8f862ec396c222229d37,openstack/releases,master,Iff52c571c3c574e1abdd8f862ec396c222229d37,Proposing Xena RC1 for ansible-role-lunasa-hsm,MERGED,2021-09-13 08:02:20.000000000,2021-09-15 16:48:41.000000000,2021-09-15 16:48:41.000000000,"[{'_account_id': 7973}, {'_account_id': 11561}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-13 08:02:20.000000000', 'files': ['deliverables/xena/ansible-role-lunasa-hsm.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2ba65e25fd6cb37f63ccaa6889fd7d7804a0084c', 'message': 'Proposing Xena RC1 for ansible-role-lunasa-hsm\n\nThis proposed a RC1 release for ansible-role-lunasa-hsm to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 1.1.0..26da379\n26da379 Remove use of ansible_fqdn\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Iff52c571c3c574e1abdd8f862ec396c222229d37\n'}]",0,808596,2ba65e25fd6cb37f63ccaa6889fd7d7804a0084c,9,5,1,28522,,,0,"Proposing Xena RC1 for ansible-role-lunasa-hsm

This proposed a RC1 release for ansible-role-lunasa-hsm to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 1.1.0..26da379
26da379 Remove use of ansible_fqdn

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Iff52c571c3c574e1abdd8f862ec396c222229d37
",git fetch https://review.opendev.org/openstack/releases refs/changes/96/808596/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/ansible-role-lunasa-hsm.yaml'],1,2ba65e25fd6cb37f63ccaa6889fd7d7804a0084c,xena-rc1-deadline,releases: - version: 2.0.0.0rc1 projects: - repo: openstack/ansible-role-lunasa-hsm hash: 26da379c3a5c88dda5f30adf9fd39d4254a9cc10 branches: - name: stable/xena location: 2.0.0.0rc1,,8,0
openstack%2Fmasakari-monitors~master~I42dd2398f31bcda41bd66c09368ce9c91a6f0aec,openstack/masakari-monitors,master,I42dd2398f31bcda41bd66c09368ce9c91a6f0aec,Update home-page,ABANDONED,2019-01-11 12:33:16.000000000,2021-09-15 16:41:05.000000000,,"[{'_account_id': 1011}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-01-11 12:33:16.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/5358284ca86c1b2ba3d67d000f3415785d0cf1bf', 'message': 'Update home-page\n\nChange-Id: I42dd2398f31bcda41bd66c09368ce9c91a6f0aec\n'}]",1,630196,5358284ca86c1b2ba3d67d000f3415785d0cf1bf,6,4,1,26297,,,0,"Update home-page

Change-Id: I42dd2398f31bcda41bd66c09368ce9c91a6f0aec
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/96/630196/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5358284ca86c1b2ba3d67d000f3415785d0cf1bf,,home-page = https://git.openstack.org/cgit/openstack/masakari-monitors,home-page = http://www.openstack.org/,1,1
openstack%2Freleases~master~Ia13983466735b7f273865db36b8354c6842278a5,openstack/releases,master,Ia13983466735b7f273865db36b8354c6842278a5,Proposing Xena RC1 for ansible-role-atos-hsm,MERGED,2021-09-13 08:02:01.000000000,2021-09-15 16:39:33.000000000,2021-09-15 16:39:33.000000000,"[{'_account_id': 7973}, {'_account_id': 11561}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-13 08:02:01.000000000', 'files': ['deliverables/xena/ansible-role-atos-hsm.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2fcc06565f6d291ad1a4e8c991607d44a043ae00', 'message': 'Proposing Xena RC1 for ansible-role-atos-hsm\n\nThis proposed a RC1 release for ansible-role-atos-hsm to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 1.0.0..c9f757d\nc9f757d setup.cfg: Replace dashes with underscores\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ia13983466735b7f273865db36b8354c6842278a5\n'}]",0,808594,2fcc06565f6d291ad1a4e8c991607d44a043ae00,9,5,1,28522,,,0,"Proposing Xena RC1 for ansible-role-atos-hsm

This proposed a RC1 release for ansible-role-atos-hsm to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 1.0.0..c9f757d
c9f757d setup.cfg: Replace dashes with underscores

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ia13983466735b7f273865db36b8354c6842278a5
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/808594/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/ansible-role-atos-hsm.yaml'],1,2fcc06565f6d291ad1a4e8c991607d44a043ae00,xena-rc1-deadline,releases: - version: 2.0.0.0rc1 projects: - repo: openstack/ansible-role-atos-hsm hash: c9f757de685c2989198db633d677cf46ae4b282c branches: - name: stable/xena location: 2.0.0.0rc1,,8,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ibfef67aac7730accbffbb3973b9087dfd15dcef4,openstack/tripleo-heat-templates,stable/ussuri,Ibfef67aac7730accbffbb3973b9087dfd15dcef4,Stop rotating rabbitmq crash.log files via erlang's lager,MERGED,2021-09-01 05:36:10.000000000,2021-09-15 16:38:23.000000000,2021-09-15 16:38:23.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-09-01 05:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff1ff6c27c5062fbe02732ac3dbd930227c11fc8', 'message': ""Stop rotating rabbitmq crash.log files via erlang's lager\n\nThe log file `/var/log/containers/rabbitmq/log/crash.log` is currently\nbeing rotated by both the lager logging framework and the\nlogrotate_crond container.\nThis will give us logs like:\n$ ll /var/log/containers/rabbitmq/log/\ntotal 4\n-rw-r-----. 1 42439 42439 0 Aug 26 00:00 crash.log\n-rw-r-----. 1 42439 42439 0 Aug 25 00:00 crash.log.0\n-rw-r-----. 1 42439 42439 0 Aug 24 00:01 crash.log.1\n-rw-r-----. 1 42439 42439 0 Aug 23 00:01 crash.log.2\n-rw-r-----. 1 42439 42439 20 Aug 25 00:00 crash.log-20200825.gz\n-rw-r-----. 1 42439 42439 0 Aug 26 00:00 crash.log-20200826\n-rw-r-----. 1 42439 42439 0 Aug 22 00:00 crash.log.3\n-rw-r-----. 1 42439 42439 0 Aug 21 00:01 crash.log.4\n\nWe need to disable the lager rotation and let logrotate do its job.\n\nTested by applying the patch and confirming, after some days,\nthat there is no double-rotation taking place.\n\nNB: Patch context conflicts\n\nCloses-Bug: #1941698\n\nChange-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4\n(cherry picked from commit 236f14fe89b1699fab4f3b8dd1e222a0a670d3da)\n(cherry picked from commit 9ae8a06837c5459dae768ee0eafc66135b266ad1)\n""}, {'number': 2, 'created': '2021-09-15 07:40:19.000000000', 'files': ['deployment/rabbitmq/rabbitmq-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f17f2ee2351f10292531c0cf2362dbd0d003f09f', 'message': ""Stop rotating rabbitmq crash.log files via erlang's lager\n\nThe log file `/var/log/containers/rabbitmq/log/crash.log` is currently\nbeing rotated by both the lager logging framework and the\nlogrotate_crond container.\nThis will give us logs like:\n$ ll /var/log/containers/rabbitmq/log/\ntotal 4\n-rw-r-----. 1 42439 42439 0 Aug 26 00:00 crash.log\n-rw-r-----. 1 42439 42439 0 Aug 25 00:00 crash.log.0\n-rw-r-----. 1 42439 42439 0 Aug 24 00:01 crash.log.1\n-rw-r-----. 1 42439 42439 0 Aug 23 00:01 crash.log.2\n-rw-r-----. 1 42439 42439 20 Aug 25 00:00 crash.log-20200825.gz\n-rw-r-----. 1 42439 42439 0 Aug 26 00:00 crash.log-20200826\n-rw-r-----. 1 42439 42439 0 Aug 22 00:00 crash.log.3\n-rw-r-----. 1 42439 42439 0 Aug 21 00:01 crash.log.4\n\nWe need to disable the lager rotation and let logrotate do its job.\n\nTested by applying the patch and confirming, after some days,\nthat there is no double-rotation taking place.\n\nNB: Patch context conflicts\n\nCloses-Bug: #1941698\n\nChange-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4\n(cherry picked from commit 236f14fe89b1699fab4f3b8dd1e222a0a670d3da)\n(cherry picked from commit 9ae8a06837c5459dae768ee0eafc66135b266ad1)\n""}]",0,806705,f17f2ee2351f10292531c0cf2362dbd0d003f09f,18,5,2,20172,,,0,"Stop rotating rabbitmq crash.log files via erlang's lager

The log file `/var/log/containers/rabbitmq/log/crash.log` is currently
being rotated by both the lager logging framework and the
logrotate_crond container.
This will give us logs like:
$ ll /var/log/containers/rabbitmq/log/
total 4
-rw-r-----. 1 42439 42439 0 Aug 26 00:00 crash.log
-rw-r-----. 1 42439 42439 0 Aug 25 00:00 crash.log.0
-rw-r-----. 1 42439 42439 0 Aug 24 00:01 crash.log.1
-rw-r-----. 1 42439 42439 0 Aug 23 00:01 crash.log.2
-rw-r-----. 1 42439 42439 20 Aug 25 00:00 crash.log-20200825.gz
-rw-r-----. 1 42439 42439 0 Aug 26 00:00 crash.log-20200826
-rw-r-----. 1 42439 42439 0 Aug 22 00:00 crash.log.3
-rw-r-----. 1 42439 42439 0 Aug 21 00:01 crash.log.4

We need to disable the lager rotation and let logrotate do its job.

Tested by applying the patch and confirming, after some days,
that there is no double-rotation taking place.

NB: Patch context conflicts

Closes-Bug: #1941698

Change-Id: Ibfef67aac7730accbffbb3973b9087dfd15dcef4
(cherry picked from commit 236f14fe89b1699fab4f3b8dd1e222a0a670d3da)
(cherry picked from commit 9ae8a06837c5459dae768ee0eafc66135b266ad1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/806705/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/rabbitmq/rabbitmq-container-puppet.yaml'],1,ff1ff6c27c5062fbe02732ac3dbd930227c11fc8,victoria-rabbitmq-rotate-stable/ussuri," rabbitmq::config_additional_variables: lager: '[{crash_log_count, 0}, { crash_log_date, """"}, { crash_log_size, 0 }]'",,2,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Idd827f72c0033978db7b9a8ea6acec2086cda961,openstack/tripleo-heat-templates,stable/ussuri,Idd827f72c0033978db7b9a8ea6acec2086cda961,Guarantee that ovn-dbs-pcmk update_tasks are run when the cluster is up,MERGED,2021-09-15 07:35:08.000000000,2021-09-15 16:38:19.000000000,2021-09-15 16:38:19.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-09-15 07:35:08.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/76226ff2abc5ee9cbe1a2f3c7dc5cceec89abf0d', 'message': 'Guarantee that ovn-dbs-pcmk update_tasks are run when the cluster is up\n\nOn particular role compositions, the code joining the update_tasks might order\nthings differently then on a typical 3ctrl control plane and the ovn-dbs tasks\nat step1 (which require the cluster to be up) will happen after the pacemaker\ntask at step1 which stops the cluster.\n\nSo we can observe something like the following:\n2021-09-10 10:05:13.370339 | 001c2891-506d-f833-ff5a-000000000954 | TASK | Change the bundle operation timeout\n2021-09-10 10:05:14.136798 | 001c2891-506d-f833-ff5a-000000000954 | CHANGED | Change the bundle operation timeout | ovn-db-01\n2021-09-10 10:05:14.137982 | 001c2891-506d-f833-ff5a-000000000954 | TIMING | Change the bundle operation timeout | ovn-db-01 | 0:00:54.808754 | 0.77s\n2021-09-10 10:05:14.146853 | 001c2891-506d-f833-ff5a-000000000956 | TASK | Acquire the cluster shutdown lock to stop pacemaker cluster\n2021-09-10 10:05:14.508085 | 001c2891-506d-f833-ff5a-000000000956 | CHANGED | Acquire the cluster shutdown lock to stop pacemaker cluster | ovn-db-01\n2021-09-10 10:05:14.509257 | 001c2891-506d-f833-ff5a-000000000956 | TIMING | Acquire the cluster shutdown lock to stop pacemaker cluster | ovn-db-01 | 0:00:55.180032 | 0.36s\n2021-09-10 10:05:14.518668 | 001c2891-506d-f833-ff5a-000000000957 | TASK | Stop pacemaker cluster\n2021-09-10 10:05:18.559627 | 001c2891-506d-f833-ff5a-000000000957 | CHANGED | Stop pacemaker cluster | ovn-db-01\n\n2021-09-10 10:05:18.560561 | 001c2891-506d-f833-ff5a-000000000957 | TIMING | Stop pacemaker cluster | ovn-db-01 | 0:00:59.231336 | 4.04s\n2021-09-10 10:05:18.569161 | 001c2891-506d-f833-ff5a-000000000958 | TASK | Start pacemaker cluster\n2021-09-10 10:05:18.627924 | 001c2891-506d-f833-ff5a-000000000958 | SKIPPED | Start pacemaker cluster | ovn-db-01\n2021-09-10 10:05:18.628678 | 001c2891-506d-f833-ff5a-000000000958 | TIMING | Start pacemaker cluster | ovn-db-01 | 0:00:59.299453 | 0.06s\n2021-09-10 10:05:18.637292 | 001c2891-506d-f833-ff5a-000000000959 | TASK | Release the cluster shutdown lock\n2021-09-10 10:05:18.694945 | 001c2891-506d-f833-ff5a-000000000959 | SKIPPED | Release the cluster shutdown lock | ovn-db-01\n2021-09-10 10:05:18.695717 | 001c2891-506d-f833-ff5a-000000000959 | TIMING | Release the cluster shutdown lock | ovn-db-01 | 0:00:59.366493 | 0.06s\n2021-09-10 10:05:18.704368 | 001c2891-506d-f833-ff5a-00000000095a | TASK | Clear ovndb cluster pacemaker error\n2021-09-10 10:05:19.368816 | 001c2891-506d-f833-ff5a-00000000095a | FATAL | Clear ovndb cluster pacemaker error | ovn-db-01 | error={""changed"": true, ""cmd"": ""pcs resource cleanup ovn-dbs-bundle"", ""delta"": ""0:00:00.399084"", ""end"": ""2021-09-10 10:05:20\n.044985"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2021-09-10 10:05:19.645901"", ""stderr"": ""Error: Unable to forget failed operations of resource: ovn-dbs-bundle\\nError connecting to the CIB manager: Transport endpoint is not connected\\nError perf\norming operation: Transport endpoint is not connected"", ""stderr_lines"": [""Error: Unable to forget failed operations of resource: ovn-dbs-bundle"", ""Error connecting to the CIB manager: Transport endpoint is not connected"", ""Error performing operation: Tran\nsport endpoint is not connected""], ""stdout"": """", ""stdout_lines"": []}\n\nWe cannot call pcs resource cleanup at step1, we must call it at step0 so we\'re\nguaranteed that the cluster is up, no matter how heat/ansible decide to order\nthe update_tasks.\n\nNote: This is the short-term less-invasive fix. The mid-long term fix\nshould be around verifying that we can now remove those workarounds\nthat were implemented for OVN bugs.\n\nCloses-Bug: #1943254\nChange-Id: Idd827f72c0033978db7b9a8ea6acec2086cda961\n(cherry picked from commit ff3173bdcf304dc726f5b03d813fa2194e2c63cc)\n(cherry picked from commit 9cab0d721a572d23243c83c8b6eba9e946f376dd)\n(cherry picked from commit fd508d1cab9574c2f5ea55dbed295dde08f8f8d8)\n'}]",0,809133,76226ff2abc5ee9cbe1a2f3c7dc5cceec89abf0d,9,5,1,20172,,,0,"Guarantee that ovn-dbs-pcmk update_tasks are run when the cluster is up

On particular role compositions, the code joining the update_tasks might order
things differently then on a typical 3ctrl control plane and the ovn-dbs tasks
at step1 (which require the cluster to be up) will happen after the pacemaker
task at step1 which stops the cluster.

So we can observe something like the following:
2021-09-10 10:05:13.370339 | 001c2891-506d-f833-ff5a-000000000954 | TASK | Change the bundle operation timeout
2021-09-10 10:05:14.136798 | 001c2891-506d-f833-ff5a-000000000954 | CHANGED | Change the bundle operation timeout | ovn-db-01
2021-09-10 10:05:14.137982 | 001c2891-506d-f833-ff5a-000000000954 | TIMING | Change the bundle operation timeout | ovn-db-01 | 0:00:54.808754 | 0.77s
2021-09-10 10:05:14.146853 | 001c2891-506d-f833-ff5a-000000000956 | TASK | Acquire the cluster shutdown lock to stop pacemaker cluster
2021-09-10 10:05:14.508085 | 001c2891-506d-f833-ff5a-000000000956 | CHANGED | Acquire the cluster shutdown lock to stop pacemaker cluster | ovn-db-01
2021-09-10 10:05:14.509257 | 001c2891-506d-f833-ff5a-000000000956 | TIMING | Acquire the cluster shutdown lock to stop pacemaker cluster | ovn-db-01 | 0:00:55.180032 | 0.36s
2021-09-10 10:05:14.518668 | 001c2891-506d-f833-ff5a-000000000957 | TASK | Stop pacemaker cluster
2021-09-10 10:05:18.559627 | 001c2891-506d-f833-ff5a-000000000957 | CHANGED | Stop pacemaker cluster | ovn-db-01

2021-09-10 10:05:18.560561 | 001c2891-506d-f833-ff5a-000000000957 | TIMING | Stop pacemaker cluster | ovn-db-01 | 0:00:59.231336 | 4.04s
2021-09-10 10:05:18.569161 | 001c2891-506d-f833-ff5a-000000000958 | TASK | Start pacemaker cluster
2021-09-10 10:05:18.627924 | 001c2891-506d-f833-ff5a-000000000958 | SKIPPED | Start pacemaker cluster | ovn-db-01
2021-09-10 10:05:18.628678 | 001c2891-506d-f833-ff5a-000000000958 | TIMING | Start pacemaker cluster | ovn-db-01 | 0:00:59.299453 | 0.06s
2021-09-10 10:05:18.637292 | 001c2891-506d-f833-ff5a-000000000959 | TASK | Release the cluster shutdown lock
2021-09-10 10:05:18.694945 | 001c2891-506d-f833-ff5a-000000000959 | SKIPPED | Release the cluster shutdown lock | ovn-db-01
2021-09-10 10:05:18.695717 | 001c2891-506d-f833-ff5a-000000000959 | TIMING | Release the cluster shutdown lock | ovn-db-01 | 0:00:59.366493 | 0.06s
2021-09-10 10:05:18.704368 | 001c2891-506d-f833-ff5a-00000000095a | TASK | Clear ovndb cluster pacemaker error
2021-09-10 10:05:19.368816 | 001c2891-506d-f833-ff5a-00000000095a | FATAL | Clear ovndb cluster pacemaker error | ovn-db-01 | error={""changed"": true, ""cmd"": ""pcs resource cleanup ovn-dbs-bundle"", ""delta"": ""0:00:00.399084"", ""end"": ""2021-09-10 10:05:20
.044985"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2021-09-10 10:05:19.645901"", ""stderr"": ""Error: Unable to forget failed operations of resource: ovn-dbs-bundle\nError connecting to the CIB manager: Transport endpoint is not connected\nError perf
orming operation: Transport endpoint is not connected"", ""stderr_lines"": [""Error: Unable to forget failed operations of resource: ovn-dbs-bundle"", ""Error connecting to the CIB manager: Transport endpoint is not connected"", ""Error performing operation: Tran
sport endpoint is not connected""], ""stdout"": """", ""stdout_lines"": []}

We cannot call pcs resource cleanup at step1, we must call it at step0 so we're
guaranteed that the cluster is up, no matter how heat/ansible decide to order
the update_tasks.

Note: This is the short-term less-invasive fix. The mid-long term fix
should be around verifying that we can now remove those workarounds
that were implemented for OVN bugs.

Closes-Bug: #1943254
Change-Id: Idd827f72c0033978db7b9a8ea6acec2086cda961
(cherry picked from commit ff3173bdcf304dc726f5b03d813fa2194e2c63cc)
(cherry picked from commit 9cab0d721a572d23243c83c8b6eba9e946f376dd)
(cherry picked from commit fd508d1cab9574c2f5ea55dbed295dde08f8f8d8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/809133/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,76226ff2abc5ee9cbe1a2f3c7dc5cceec89abf0d,ovndbs-update-stable/wallaby-stable/victoria-stable/ussuri," # When a schema change happens, the newer slaves don't connect # back to the older master and end up timing out. So we clean # up the error here until we get a fix for # https://bugzilla.redhat.com/show_bug.cgi?id=1759974 - name: Clear ovndb cluster pacemaker error shell: ""pcs resource cleanup ovn-dbs-bundle"" when: - step|int == 0 # Then we ban the resource for this node. It has no effect on # the first two controllers, but when we reach the last one, # it avoids a cut in the control plane as master get chosen in # one of the updated Stopped ovn. They are in error, that why # we need the cleanup just before. - name: Ban ovndb resource on the current node. shell: ""pcs resource ban ovn-dbs-bundle $(hostname | cut -d. -f1)"" when: - step|int == 0"," # When a schema change happens, the newer slaves don't connect # back to the older master and end up timing out. So we clean # up the error here until we get a fix for # https://bugzilla.redhat.com/show_bug.cgi?id=1759974 - name: Clear ovndb cluster pacemaker error shell: ""pcs resource cleanup ovn-dbs-bundle"" when: - step|int == 1 # Then we ban the resource for this node. It has no effect on # the first two controllers, but when we reach the last one, # it avoids a cut in the control plane as master get chosen in # one of the updated Stopped ovn. They are in error, that why # we need the cleanup just before. - name: Ban ovndb resource on the current node. shell: ""pcs resource ban ovn-dbs-bundle $(hostname | cut -d. -f1)"" when: - step|int == 1",17,17
openstack%2Fkayobe~stable%2Fussuri~I70d5f78871867f3a71150eacc3df1857949e6df9,openstack/kayobe,stable/ussuri,I70d5f78871867f3a71150eacc3df1857949e6df9,Fix typo in IP allocation filename,MERGED,2021-09-15 07:50:01.000000000,2021-09-15 16:33:46.000000000,2021-09-15 16:31:11.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 07:50:01.000000000', 'files': ['ansible/roles/ssh-known-host/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/16da52a16f3d6d2f1a5e05d31b8b9797475b1a99', 'message': 'Fix typo in IP allocation filename\n\nChange-Id: I70d5f78871867f3a71150eacc3df1857949e6df9\n(cherry picked from commit e8769373b6adace69b041a18a4342870a98eaabf)\n'}]",0,809136,16da52a16f3d6d2f1a5e05d31b8b9797475b1a99,9,2,1,15197,,,0,"Fix typo in IP allocation filename

Change-Id: I70d5f78871867f3a71150eacc3df1857949e6df9
(cherry picked from commit e8769373b6adace69b041a18a4342870a98eaabf)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/36/809136/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ssh-known-host/tasks/main.yml'],1,16da52a16f3d6d2f1a5e05d31b8b9797475b1a99,network-allocation-stable/ussuri," 'network-allocation.yml', or are automatically allocated during the"," 'network-allocations.yml', or are automatically allocated during the",1,1
openstack%2Faodh~master~I1bdb4ec028606f76836a0adca2ad1024806978a3,openstack/aodh,master,I1bdb4ec028606f76836a0adca2ad1024806978a3,Add Python3 yoga unit tests,MERGED,2021-09-15 01:59:51.000000000,2021-09-15 16:19:48.000000000,2021-09-15 16:14:38.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 01:59:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/aodh/commit/0d6c43811dc1b531c38bf1fd9c4d345f30ac16b5', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I1bdb4ec028606f76836a0adca2ad1024806978a3\n'}]",0,809042,0d6c43811dc1b531c38bf1fd9c4d345f30ac16b5,9,2,1,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I1bdb4ec028606f76836a0adca2ad1024806978a3
",git fetch https://review.opendev.org/openstack/aodh refs/changes/42/809042/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0d6c43811dc1b531c38bf1fd9c4d345f30ac16b5,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Fkuryr-libnetwork~master~Iaba13af368373fa604c0a198b6ebb8f585a43e84,openstack/kuryr-libnetwork,master,Iaba13af368373fa604c0a198b6ebb8f585a43e84,Add Python3 yoga unit tests,MERGED,2021-09-15 02:30:58.000000000,2021-09-15 16:19:26.000000000,2021-09-15 16:10:52.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-09-15 02:30:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/e5daefc3c2dae2d4f65ef584eb257e841cd417e7', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Iaba13af368373fa604c0a198b6ebb8f585a43e84\n'}]",0,809098,e5daefc3c2dae2d4f65ef584eb257e841cd417e7,14,3,1,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Iaba13af368373fa604c0a198b6ebb8f585a43e84
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/98/809098/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e5daefc3c2dae2d4f65ef584eb257e841cd417e7,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Fmonasca-persister~stable%2Ftrain~Iadf750a1e6d3181b645ceccdf75cf910bc23adfd,openstack/monasca-persister,stable/train,Iadf750a1e6d3181b645ceccdf75cf910bc23adfd,Update hacking for Python3,ABANDONED,2021-08-20 14:37:30.000000000,2021-09-15 15:45:48.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 14:37:30.000000000', 'files': ['monasca_persister/persister.py', 'test-requirements.txt', 'lower-constraints.txt', 'docker/health_check.py', 'monasca_persister/hacking/checks.py', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/5e721f0290e5555b898e68e1d97cbd78dbb06793', 'message': ""Update hacking for Python3\n\nThe repo is Python 3 now, so update hacking to version 3.0 which\nsupports Python 3.\n\nFix problems found.\n\nUpdate local hacking checks for new flake8.\n\nRemove hacking and friends from lower-constraints, it's not needed\nthere.\n\nChange-Id: Iadf750a1e6d3181b645ceccdf75cf910bc23adfd\n(cherry picked from commit b306576d279249325786e5ac759764424ddfb0a6)\n""}]",0,805278,5e721f0290e5555b898e68e1d97cbd78dbb06793,3,2,1,26141,,,0,"Update hacking for Python3

The repo is Python 3 now, so update hacking to version 3.0 which
supports Python 3.

Fix problems found.

Update local hacking checks for new flake8.

Remove hacking and friends from lower-constraints, it's not needed
there.

Change-Id: Iadf750a1e6d3181b645ceccdf75cf910bc23adfd
(cherry picked from commit b306576d279249325786e5ac759764424ddfb0a6)
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/78/805278/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_persister/persister.py', 'test-requirements.txt', 'lower-constraints.txt', 'docker/health_check.py', 'monasca_persister/hacking/checks.py', 'tox.ini', 'releasenotes/source/conf.py']",7,5e721f0290e5555b898e68e1d97cbd78dbb06793,update-hacking-stable/train," master_doc, 'MonitoringPersiterReleaseNotes.tex', u'Monitoring Persister Release Notes', [author], 'manual'"," master_doc, 'MonitoringPersiterReleaseNotes.tex', u'Monitoring Persister Release Notes', [author], 'manual'",32,22
openstack%2Fneutron-dynamic-routing~stable%2Fxena~I37299940c0dc9b9761fa4e59d674bbb2087718d7,openstack/neutron-dynamic-routing,stable/xena,I37299940c0dc9b9761fa4e59d674bbb2087718d7,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-15 02:16:34.000000000,2021-09-15 15:45:06.000000000,2021-09-15 15:43:18.000000000,"[{'_account_id': 8313}, {'_account_id': 13252}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/5d89c02fc88822d089bfe2a0339fd87a0fc46a2b', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I37299940c0dc9b9761fa4e59d674bbb2087718d7\n'}, {'number': 2, 'created': '2021-09-15 14:43:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/bec4c152c697abb487e59a0639278c1a098c8f60', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I37299940c0dc9b9761fa4e59d674bbb2087718d7\n'}]",0,809089,bec4c152c697abb487e59a0639278c1a098c8f60,11,4,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I37299940c0dc9b9761fa4e59d674bbb2087718d7
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/89/809089/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5d89c02fc88822d089bfe2a0339fd87a0fc46a2b,create-xena,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fneutron-dynamic-routing~stable%2Fxena~I61565e858bea0909fd9126bfa1f94a23f7d88feb,openstack/neutron-dynamic-routing,stable/xena,I61565e858bea0909fd9126bfa1f94a23f7d88feb,Update .gitreview for stable/xena,MERGED,2021-09-15 02:16:31.000000000,2021-09-15 15:43:19.000000000,2021-09-15 15:41:50.000000000,"[{'_account_id': 8313}, {'_account_id': 13252}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/cfee69c6bfc3ed843bff58b6818fbae91d35726e', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I61565e858bea0909fd9126bfa1f94a23f7d88feb\n'}, {'number': 2, 'created': '2021-09-15 14:43:16.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/1174a011819145eaba63731e9ff7ac808f2d2611', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I61565e858bea0909fd9126bfa1f94a23f7d88feb\n'}]",0,809088,1174a011819145eaba63731e9ff7ac808f2d2611,11,4,2,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I61565e858bea0909fd9126bfa1f94a23f7d88feb
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/88/809088/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,cfee69c6bfc3ed843bff58b6818fbae91d35726e,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fos-ken~stable%2Fxena~Ib40a75e83fc7a44b3dfc202779129d7e3d47e016,openstack/os-ken,stable/xena,Ib40a75e83fc7a44b3dfc202779129d7e3d47e016,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-10 14:32:05.000000000,2021-09-15 15:36:14.000000000,2021-09-15 15:32:08.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-10 14:32:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/0f165596b82ec606029187c2a1c83ef622f80969', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ib40a75e83fc7a44b3dfc202779129d7e3d47e016\n'}]",0,808254,0f165596b82ec606029187c2a1c83ef622f80969,12,4,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ib40a75e83fc7a44b3dfc202779129d7e3d47e016
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/54/808254/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0f165596b82ec606029187c2a1c83ef622f80969,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fos-ken~stable%2Fxena~I4dee21b2e4943d81c641bca6cadd30967dd3b934,openstack/os-ken,stable/xena,I4dee21b2e4943d81c641bca6cadd30967dd3b934,Update .gitreview for stable/xena,MERGED,2021-09-10 14:32:03.000000000,2021-09-15 15:34:45.000000000,2021-09-15 15:32:07.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-10 14:32:03.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/87de4f885b55c56bc65651ec509ce8c444929147', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I4dee21b2e4943d81c641bca6cadd30967dd3b934\n'}]",0,808251,87de4f885b55c56bc65651ec509ce8c444929147,12,4,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I4dee21b2e4943d81c641bca6cadd30967dd3b934
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/51/808251/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,87de4f885b55c56bc65651ec509ce8c444929147,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fmonasca-common~stable%2Ftrain~I10ddf86872b318a9d2e920e0aa003d2ca08f951e,openstack/monasca-common,stable/train,I10ddf86872b318a9d2e920e0aa003d2ca08f951e,Fix unitests,MERGED,2021-09-01 20:55:52.000000000,2021-09-15 15:26:57.000000000,2021-09-15 15:26:57.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-09-01 20:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/3c5ecb73739b435659a9b3f87b20d1fc1da19714', 'message': 'Remove ujson and bandit\n\nChange-Id: I10ddf86872b318a9d2e920e0aa003d2ca08f951e\n'}, {'number': 2, 'created': '2021-09-02 15:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/3a55f2029e4488a54bf29334247f6615ce2e07a4', 'message': 'Remove ujson and bandit\n\nChange-Id: I10ddf86872b318a9d2e920e0aa003d2ca08f951e\n'}, {'number': 3, 'created': '2021-09-14 19:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/9faef4dc1bdbbbc45af07e541c476568f30b3323', 'message': 'Remove ujson and bandit\n\nChange-Id: I10ddf86872b318a9d2e920e0aa003d2ca08f951e\n'}, {'number': 4, 'created': '2021-09-14 20:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/d4100fa2c3618179854a8356ebdc596f0704ac2d', 'message': 'Remove ujson and bandit\n\nChange-Id: I10ddf86872b318a9d2e920e0aa003d2ca08f951e\n'}, {'number': 5, 'created': '2021-09-15 13:48:01.000000000', 'files': ['docker/build_base_image.sh', 'requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'monasca_common/validation/metrics.py', 'monasca_common/rest/utils.py'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/038fb296bd41fee094f73407d86f64c66ebeed85', 'message': 'Fix unitests\n\n-Remove ujson from requirements file, replace ujson with json\n-Limit bandit version\n-Fix docker build script\n\nChange-Id: I10ddf86872b318a9d2e920e0aa003d2ca08f951e\n'}]",3,806984,038fb296bd41fee094f73407d86f64c66ebeed85,14,2,5,26141,,,0,"Fix unitests

-Remove ujson from requirements file, replace ujson with json
-Limit bandit version
-Fix docker build script

Change-Id: I10ddf86872b318a9d2e920e0aa003d2ca08f951e
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/84/806984/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,3c5ecb73739b435659a9b3f87b20d1fc1da19714,fit_test,,"bandit!=1.6.0,>=1.1.0 # Apache-2.0",0,2
openstack%2Fkolla-ansible~master~Ide9e9009a6e272f20a43319f27d257efdf315f68,openstack/kolla-ansible,master,Ide9e9009a6e272f20a43319f27d257efdf315f68,Never make Docker registry insecure by default,MERGED,2021-08-20 18:25:34.000000000,2021-09-15 15:25:24.000000000,2021-09-09 10:49:03.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32553}]","[{'number': 1, 'created': '2021-08-20 18:25:34.000000000', 'files': ['ansible/group_vars/all.yml', 'tests/templates/globals-default.j2', 'releasenotes/notes/bug-1940547-771f6affb3547748.yaml', 'doc/source/reference/deployment-and-bootstrapping/bootstrap-servers.rst', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/802f7c62186cff91cc4b104984330ab56218ae4e', 'message': 'Never make Docker registry insecure by default\n\nTo follow best security practices and help fellow operators.\n\nMore details inline and in the linked bug report.\n\nCloses-Bug: #1940547\nChange-Id: Ide9e9009a6e272f20a43319f27d257efdf315f68\n'}]",0,805449,802f7c62186cff91cc4b104984330ab56218ae4e,25,6,1,30491,,,0,"Never make Docker registry insecure by default

To follow best security practices and help fellow operators.

More details inline and in the linked bug report.

Closes-Bug: #1940547
Change-Id: Ide9e9009a6e272f20a43319f27d257efdf315f68
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/805449/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'tests/templates/globals-default.j2', 'releasenotes/notes/bug-1940547-771f6affb3547748.yaml', 'doc/source/reference/deployment-and-bootstrapping/bootstrap-servers.rst', 'etc/kolla/globals.yml']",5,802f7c62186cff91cc4b104984330ab56218ae4e,bug/1940547,"# Please read the docs carefully before applying docker_registry_insecure. #docker_registry_insecure: ""no""","#docker_registry_insecure: ""{{ 'yes' if docker_registry else 'no' }}""",29,7
openstack%2Fironic~stable%2Fvictoria~I3112a22149c07e5508f26c79f33d09aeb905c308,openstack/ironic,stable/victoria,I3112a22149c07e5508f26c79f33d09aeb905c308,Fix idrac-wsman set_power_state to wait on HW,MERGED,2021-09-14 21:16:52.000000000,2021-09-15 15:25:12.000000000,2021-09-15 13:49:53.000000000,"[{'_account_id': 4571}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-09-14 21:16:52.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_power.py', 'releasenotes/notes/idrac-wsman-set-power-state-wait-cd8f9ff41b19c7a7.yaml', 'ironic/drivers/modules/drac/power.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0df43f7586f93ab54d533201de21ed7ed95ec182', 'message': 'Fix idrac-wsman set_power_state to wait on HW\n\nset_power_state has returned to the caller immediately without\nconfirming the system has reached the requested state. This fixes that\nby synchronously waiting until the target state has been read before\nreturning.\n\nThat bug can cause instance workload deployments to fail on Dell EMC\nPowerEdge server models on which IPA ramdisk soft power off fails and\nironic employs its OOB fallback strategy. After an otherwise successful\ndeployment, the node is active, but is powered off. No error is reported\nin last_error. If the subsequent instance workflow expects the system to\nbe powered on into the operating system, it fails.\n\nStory: 2009204\nTask: 43261\nChange-Id: I3112a22149c07e5508f26c79f33d09aeb905c308\n(cherry picked from commit 2a0fd1d13f178c9872330cf6498dc25572a721da)\n'}]",0,808980,0df43f7586f93ab54d533201de21ed7ed95ec182,16,4,1,11655,,,0,"Fix idrac-wsman set_power_state to wait on HW

set_power_state has returned to the caller immediately without
confirming the system has reached the requested state. This fixes that
by synchronously waiting until the target state has been read before
returning.

That bug can cause instance workload deployments to fail on Dell EMC
PowerEdge server models on which IPA ramdisk soft power off fails and
ironic employs its OOB fallback strategy. After an otherwise successful
deployment, the node is active, but is powered off. No error is reported
in last_error. If the subsequent instance workflow expects the system to
be powered on into the operating system, it fails.

Story: 2009204
Task: 43261
Change-Id: I3112a22149c07e5508f26c79f33d09aeb905c308
(cherry picked from commit 2a0fd1d13f178c9872330cf6498dc25572a721da)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/80/808980/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_power.py', 'releasenotes/notes/idrac-wsman-set-power-state-wait-cd8f9ff41b19c7a7.yaml', 'ironic/drivers/modules/drac/power.py']",3,0df43f7586f93ab54d533201de21ed7ed95ec182,idrac-wsman-power-forced-stable/wallaby-stable/victoria,"from ironic.conductor import utils as cond_utilsdef _set_power_state(task, power_state, timeout=None): :param task: a TaskManager instance containing the node to act on. :param timeout: Time to wait for the node to reach the requested state. When requested state is reboot, not used as not waiting then. node = task.node if calc_power_state == states.REBOOT: # TODO(rloo): Support timeouts! if timeout is not None: LOG.warning(""The 'idrac-wsman' Power Interface does not "" ""support 'timeout' parameter when setting "" ""power state to reboot. Ignoring "" ""timeout=%(timeout)s"", {'timeout': timeout}) else: # Skipped for reboot as can't match reboot with on/off. # Reboot so far has been part of workflow that is not followed # by another power state change that could break the flow. cond_utils.node_wait_for_power_state( task, calc_power_state, timeout) :param timeout: Time to wait for the node to reach the requested state. When requested state is reboot, not used as not waiting then. _set_power_state(task, power_state, timeout) _set_power_state(task, states.REBOOT, timeout)","def _set_power_state(node, power_state): :param node: an ironic node object. :param timeout: timeout (in seconds). Unsupported by this interface. # TODO(rloo): Support timeouts! if timeout is not None: LOG.warning( ""The 'idrac' Power Interface's 'set_power_state' method "" ""doesn't support the 'timeout' parameter. Ignoring "" ""timeout=%(timeout)s"", {'timeout': timeout}) _set_power_state(task.node, power_state) # TODO(rloo): Support timeouts! if timeout is not None: LOG.warning(""The 'idrac' Power Interface's 'reboot' method "" ""doesn't support the 'timeout' parameter. Ignoring "" ""timeout=%(timeout)s"", {'timeout': timeout}) _set_power_state(task.node, states.REBOOT)",44,25
openstack%2Fkolla-ansible~stable%2Fussuri~Ide9e9009a6e272f20a43319f27d257efdf315f68,openstack/kolla-ansible,stable/ussuri,Ide9e9009a6e272f20a43319f27d257efdf315f68,Never make Docker registry insecure by default,ABANDONED,2021-09-09 14:30:26.000000000,2021-09-15 15:25:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-09 14:30:26.000000000', 'files': ['ansible/group_vars/all.yml', 'tests/templates/globals-default.j2', 'releasenotes/notes/bug-1940547-771f6affb3547748.yaml', 'doc/source/reference/deployment-and-bootstrapping/bootstrap-servers.rst', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fbcb32f865359ca675f9445e9627f6110746f8b8', 'message': 'Never make Docker registry insecure by default\n\nTo follow best security practices and help fellow operators.\n\nMore details inline and in the linked bug report.\n\nCloses-Bug: #1940547\nChange-Id: Ide9e9009a6e272f20a43319f27d257efdf315f68\n(cherry picked from commit 802f7c62186cff91cc4b104984330ab56218ae4e)\n'}]",0,808002,fbcb32f865359ca675f9445e9627f6110746f8b8,5,2,1,30491,,,0,"Never make Docker registry insecure by default

To follow best security practices and help fellow operators.

More details inline and in the linked bug report.

Closes-Bug: #1940547
Change-Id: Ide9e9009a6e272f20a43319f27d257efdf315f68
(cherry picked from commit 802f7c62186cff91cc4b104984330ab56218ae4e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/02/808002/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'tests/templates/globals-default.j2', 'releasenotes/notes/bug-1940547-771f6affb3547748.yaml', 'doc/source/reference/deployment-and-bootstrapping/bootstrap-servers.rst', 'etc/kolla/globals.yml']",5,fbcb32f865359ca675f9445e9627f6110746f8b8,bug/1940547-stable/wallaby-stable/victoria-stable/ussuri,"# Please read the docs carefully before applying docker_registry_insecure. #docker_registry_insecure: ""no""","#docker_registry_insecure: ""{{ 'yes' if docker_registry else 'no' }}""",29,7
openstack%2Fkolla-ansible~stable%2Fvictoria~Ide9e9009a6e272f20a43319f27d257efdf315f68,openstack/kolla-ansible,stable/victoria,Ide9e9009a6e272f20a43319f27d257efdf315f68,Never make Docker registry insecure by default,ABANDONED,2021-09-09 14:30:19.000000000,2021-09-15 15:25:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-09 14:30:19.000000000', 'files': ['ansible/group_vars/all.yml', 'tests/templates/globals-default.j2', 'releasenotes/notes/bug-1940547-771f6affb3547748.yaml', 'doc/source/reference/deployment-and-bootstrapping/bootstrap-servers.rst', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/800368e45099ae51f605e06d18ce0dd13cd2fd5e', 'message': 'Never make Docker registry insecure by default\n\nTo follow best security practices and help fellow operators.\n\nMore details inline and in the linked bug report.\n\nCloses-Bug: #1940547\nChange-Id: Ide9e9009a6e272f20a43319f27d257efdf315f68\n(cherry picked from commit 802f7c62186cff91cc4b104984330ab56218ae4e)\n'}]",0,808001,800368e45099ae51f605e06d18ce0dd13cd2fd5e,5,2,1,30491,,,0,"Never make Docker registry insecure by default

To follow best security practices and help fellow operators.

More details inline and in the linked bug report.

Closes-Bug: #1940547
Change-Id: Ide9e9009a6e272f20a43319f27d257efdf315f68
(cherry picked from commit 802f7c62186cff91cc4b104984330ab56218ae4e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/01/808001/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'tests/templates/globals-default.j2', 'releasenotes/notes/bug-1940547-771f6affb3547748.yaml', 'doc/source/reference/deployment-and-bootstrapping/bootstrap-servers.rst', 'etc/kolla/globals.yml']",5,800368e45099ae51f605e06d18ce0dd13cd2fd5e,bug/1940547-stable/wallaby-stable/victoria,"# Please read the docs carefully before applying docker_registry_insecure. #docker_registry_insecure: ""no""","#docker_registry_insecure: ""{{ 'yes' if docker_registry else 'no' }}""",29,7
openstack%2Fkolla-ansible~stable%2Fwallaby~Ide9e9009a6e272f20a43319f27d257efdf315f68,openstack/kolla-ansible,stable/wallaby,Ide9e9009a6e272f20a43319f27d257efdf315f68,Never make Docker registry insecure by default,ABANDONED,2021-09-09 14:30:12.000000000,2021-09-15 15:24:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-09 14:30:12.000000000', 'files': ['ansible/group_vars/all.yml', 'tests/templates/globals-default.j2', 'releasenotes/notes/bug-1940547-771f6affb3547748.yaml', 'doc/source/reference/deployment-and-bootstrapping/bootstrap-servers.rst', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/58747b07d2bbc19cb7bcecbe21e41bceb7bf0cce', 'message': 'Never make Docker registry insecure by default\n\nTo follow best security practices and help fellow operators.\n\nMore details inline and in the linked bug report.\n\nCloses-Bug: #1940547\nChange-Id: Ide9e9009a6e272f20a43319f27d257efdf315f68\n(cherry picked from commit 802f7c62186cff91cc4b104984330ab56218ae4e)\n'}]",0,808000,58747b07d2bbc19cb7bcecbe21e41bceb7bf0cce,5,2,1,30491,,,0,"Never make Docker registry insecure by default

To follow best security practices and help fellow operators.

More details inline and in the linked bug report.

Closes-Bug: #1940547
Change-Id: Ide9e9009a6e272f20a43319f27d257efdf315f68
(cherry picked from commit 802f7c62186cff91cc4b104984330ab56218ae4e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/808000/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'tests/templates/globals-default.j2', 'releasenotes/notes/bug-1940547-771f6affb3547748.yaml', 'doc/source/reference/deployment-and-bootstrapping/bootstrap-servers.rst', 'etc/kolla/globals.yml']",5,58747b07d2bbc19cb7bcecbe21e41bceb7bf0cce,bug/1940547-stable/wallaby,"# Please read the docs carefully before applying docker_registry_insecure. #docker_registry_insecure: ""no""","#docker_registry_insecure: ""{{ 'yes' if docker_registry else 'no' }}""",29,7
openstack%2Fneutron-dynamic-routing~stable%2Fxena~I4c6e04b82426ebbe41273fbc584ee3e8df70aead,openstack/neutron-dynamic-routing,stable/xena,I4c6e04b82426ebbe41273fbc584ee3e8df70aead,Payload changes for FLOATING_IP events,MERGED,2021-09-15 14:25:19.000000000,2021-09-15 15:21:47.000000000,2021-09-15 15:20:01.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 33273}]","[{'number': 1, 'created': '2021-09-15 14:25:19.000000000', 'files': ['neutron_dynamic_routing/services/bgp/bgp_plugin.py', 'neutron_dynamic_routing/tests/unit/services/bgp/test_bgp_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/f226215611622a14fa2115e391cbadd083a1ca4f', 'message': 'Payload changes for FLOATING_IP events\n\nDepends-On: https://review.opendev.org/#/c/798009\n\nSigned-off-by: Manu B <manu.b@est.tech>\nChange-Id: I4c6e04b82426ebbe41273fbc584ee3e8df70aead\n(cherry picked from commit 630678b5f9cdaaef0918d018a6f3b4f1c58ce533)\n'}]",0,809144,f226215611622a14fa2115e391cbadd083a1ca4f,9,5,1,21798,,,0,"Payload changes for FLOATING_IP events

Depends-On: https://review.opendev.org/#/c/798009

Signed-off-by: Manu B <manu.b@est.tech>
Change-Id: I4c6e04b82426ebbe41273fbc584ee3e8df70aead
(cherry picked from commit 630678b5f9cdaaef0918d018a6f3b4f1c58ce533)
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/44/809144/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_dynamic_routing/services/bgp/bgp_plugin.py', 'neutron_dynamic_routing/tests/unit/services/bgp/test_bgp_plugin.py']",2,f226215611622a14fa2115e391cbadd083a1ca4f,," new_fip = {'floating_ip_address': netaddr.IPAddress('10.10.10.10'), 'router_id': '', 'floating_network_id': 'a-b-c-d-e'} old_fip = new_fip.copy() old_fip.update(router_id='old-router-id') test_context, states=(old_fip, new_fip)))"," fip = {'floating_ip_address': netaddr.IPAddress('10.10.10.10'), 'last_known_router_id': 'old-router-id', 'router_id': '', 'floating_network_id': 'a-b-c-d-e'} test_context, states=(fip,)))",13,9
openstack%2Fec2-api~stable%2Fwallaby~Ie3e5a5930d5a8159050ecc0900239935558dddd7,openstack/ec2-api,stable/wallaby,Ie3e5a5930d5a8159050ecc0900239935558dddd7,various fixes,MERGED,2021-09-15 04:18:52.000000000,2021-09-15 15:09:12.000000000,2021-09-15 15:07:00.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 04:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/b53c64fd5247f763098e8f7caa2a2620de419215', 'message': 'fix UT for cinderclient\n\nbump version from 2 to 3\n\nChange-Id: Ie3e5a5930d5a8159050ecc0900239935558dddd7\n'}, {'number': 2, 'created': '2021-09-15 06:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/82c01a2aac9be45b76497e78f65e12beaeb6987d', 'message': 'fix UT for cinderclient\n\nbump version from 2 to 3\n\nChange-Id: Ie3e5a5930d5a8159050ecc0900239935558dddd7\n'}, {'number': 3, 'created': '2021-09-15 12:46:08.000000000', 'files': ['ec2api/api/image.py', 'ec2api/api/network_interface.py', 'ec2api/api/volume.py', 'ec2api/api/cloud.py', 'ec2api/tests/unit/base.py', 'ec2api/tests/unit/test_clients.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/5cfddf2a734e3186f111b17f7439f3963f7d6a35', 'message': 'various fixes\n\n- bump version from 2 to 3 for cinderclient\n- update aws ec2 interface for create_colume and\n  create_network_interface. add cilent_token param\n\nChange-Id: Ie3e5a5930d5a8159050ecc0900239935558dddd7\n'}]",0,808989,5cfddf2a734e3186f111b17f7439f3963f7d6a35,11,2,3,10234,,,0,"various fixes

- bump version from 2 to 3 for cinderclient
- update aws ec2 interface for create_colume and
  create_network_interface. add cilent_token param

Change-Id: Ie3e5a5930d5a8159050ecc0900239935558dddd7
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/89/808989/2 && git format-patch -1 --stdout FETCH_HEAD,['ec2api/tests/unit/base.py'],1,b53c64fd5247f763098e8f7caa2a2620de419215,, cinder = mock.create_autospec(cinderclient.Client('3')), cinder = mock.create_autospec(cinderclient.Client('2')),1,1
openstack%2Frequirements~master~I0d66d9b7c6805c6a6839b214193aee48ff7a0d15,openstack/requirements,master,I0d66d9b7c6805c6a6839b214193aee48ff7a0d15,Updated from generate-constraints,ABANDONED,2021-09-15 06:42:07.000000000,2021-09-15 15:08:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-15 06:42:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9620d1ad9a015d6394a4e6fc7ab7e593912843f1', 'message': 'Updated from generate-constraints\n\nChange-Id: I0d66d9b7c6805c6a6839b214193aee48ff7a0d15\n'}]",0,809123,9620d1ad9a015d6394a4e6fc7ab7e593912843f1,4,1,1,11131,,,0,"Updated from generate-constraints

Change-Id: I0d66d9b7c6805c6a6839b214193aee48ff7a0d15
",git fetch https://review.opendev.org/openstack/requirements refs/changes/23/809123/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9620d1ad9a015d6394a4e6fc7ab7e593912843f1,openstack/requirements/constraints,ntc-templates===2.3.2grpcio===1.40.0persist-queue===0.7.0networkx===2.6.3;python_version=='3.8' bashate===2.1.0 XStatic-Angular===1.8.2.1Pillow===8.3.2zeroconf===0.36.3responses===0.14.0sqlparse===0.4.2google-auth===2.1.0eventlet===0.32.0beautifulsoup4===4.10.0httpcore===0.13.7pkg_resources===0.0.0libvirt-python===7.7.0scp===0.14.1google-api-python-client===2.21.0gabbi===2.3.0boto3===1.18.42keyring===23.2.1 elementpath===2.3.1more-itertools===8.9.0Sphinx===4.2.0salt===3003.3botocore===1.21.42cmd2===2.2.0jaeger-client===4.6.1;python_version=='3.6' jaeger-client===4.8.0;python_version=='3.8'xmlschema===1.7.1docker===5.0.2anyio===3.3.1decorator===5.1.0;python_version=='3.8'dnspython===2.1.0charset-normalizer===2.0.5fasteners===0.16.3,ntc-templates===2.3.1grpcio===1.39.0persist-queue===0.6.0networkx===2.6.2;python_version=='3.8' bashate===2.0.0 XStatic-Angular===1.5.8.0Pillow===8.3.1zeroconf===0.36.2responses===0.13.4sqlparse===0.4.1google-auth===2.0.2eventlet===0.31.1beautifulsoup4===4.9.3httpcore===0.13.6libvirt-python===7.6.0scp===0.13.6google-api-python-client===2.19.0gabbi===2.2.0boto3===1.18.33keyring===23.1.0 elementpath===2.2.3more-itertools===8.8.0Sphinx===4.1.2salt===3003.2botocore===1.21.33cmd2===2.1.2jaeger-client===4.6.1xmlschema===1.7.0docker===5.0.1anyio===3.3.0decorator===5.0.9;python_version=='3.8'dnspython===1.16.0charset-normalizer===2.0.4fasteners===0.14.1setuptools===57.4.0,36,35
openstack%2Ftripleo-heat-templates~master~Ie75aa0f2994a4cf662905b912231a12e3bd8afe7,openstack/tripleo-heat-templates,master,Ie75aa0f2994a4cf662905b912231a12e3bd8afe7,Swap xinetd/tftp-server for dnsmasq to support ironic-pxe operations,MERGED,2021-07-28 15:17:26.000000000,2021-09-15 15:04:02.000000000,2021-09-15 15:01:58.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-28 15:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd1f35226de73fa59aa0fc7305088ca463a67444', 'message': ""Swap xinetd/tftp-server for dnsmasq to support ironic-pxe operations\n\ntftp-server and xinetd are not anticipated to be in RHEL9 and as\nsuch we need to remove their use in order to facilitate a transition\nto RHEL9 when the time comes.\n\nIn this case, we're anticipating we can just directly launch dnsmasq\ninstead of in.tftpd directly within the container.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/802736\nChange-Id: Ie75aa0f2994a4cf662905b912231a12e3bd8afe7\n""}, {'number': 2, 'created': '2021-07-28 22:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/142d77eb056b6575a5f601cd3f84aa575d8406ee', 'message': ""Swap xinetd/tftp-server for dnsmasq to support ironic-pxe operations\n\ntftp-server and xinetd are not anticipated to be in RHEL9 and as\nsuch we need to remove their use in order to facilitate a transition\nto RHEL9 when the time comes.\n\nIn this case, we're anticipating we can just directly launch dnsmasq\ninstead of in.tftpd directly within the container.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/802736\nChange-Id: Ie75aa0f2994a4cf662905b912231a12e3bd8afe7\n""}, {'number': 3, 'created': '2021-08-02 20:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff05867b1bc6f21546dda6989872745915fa79bb', 'message': ""Swap xinetd/tftp-server for dnsmasq to support ironic-pxe operations\n\ntftp-server and xinetd are not anticipated to be in RHEL9 and as\nsuch we need to remove their use in order to facilitate a transition\nto RHEL9 when the time comes.\n\nIn this case, we're anticipating we can just directly launch dnsmasq\ninstead of in.tftpd directly within the container.\n\nAlso, sets the container to privleged as dnsmasq does interact with the\ncapability options where previously in.tftpd did not and was not aware of\nsuch.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/802736\nChange-Id: Ie75aa0f2994a4cf662905b912231a12e3bd8afe7\n""}, {'number': 4, 'created': '2021-08-03 15:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2681a141a6d58e686aacaec07c5de5fbaea579b8', 'message': ""Swap xinetd/tftp-server for dnsmasq to support ironic-pxe operations\n\ntftp-server and xinetd are not anticipated to be in RHEL9 and as\nsuch we need to remove their use in order to facilitate a transition\nto RHEL9 when the time comes.\n\nIn this case, we're anticipating we can just directly launch dnsmasq\ninstead of in.tftpd directly within the container.\n\nAlso, sets the container to privleged as dnsmasq does interact with the\ncapability options where previously in.tftpd did not and was not aware of\nsuch.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/802736\nChange-Id: Ie75aa0f2994a4cf662905b912231a12e3bd8afe7\n""}, {'number': 5, 'created': '2021-08-25 16:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db50ccda2b089c1e9f2a242ba824c7d4ea519935', 'message': ""Swap xinetd/tftp-server for dnsmasq to support ironic-pxe operations\n\ntftp-server and xinetd are not anticipated to be in RHEL9 and as\nsuch we need to remove their use in order to facilitate a transition\nto RHEL9 when the time comes.\n\nIn this case, we're anticipating we can just directly launch dnsmasq\ninstead of in.tftpd directly within the container.\n\nAlso, sets the container to privleged as dnsmasq does interact with the\ncapability options where previously in.tftpd did not and was not aware of\nsuch.\n\nChange-Id: Ie75aa0f2994a4cf662905b912231a12e3bd8afe7\n""}, {'number': 6, 'created': '2021-08-31 13:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/037ce1e2b65d9786323235b722b5ef0770cabe86', 'message': ""Swap xinetd/tftp-server for dnsmasq to support ironic-pxe operations\n\ntftp-server and xinetd are not anticipated to be in RHEL9 and as\nsuch we need to remove their use in order to facilitate a transition\nto RHEL9 when the time comes.\n\nIn this case, we're anticipating we can just directly launch dnsmasq\ninstead of in.tftpd directly within the container.\n\nChange-Id: Ie75aa0f2994a4cf662905b912231a12e3bd8afe7\n""}, {'number': 7, 'created': '2021-09-10 19:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1c3989f0303f5b045f97532e7ff93b4aa87f2d2', 'message': ""Swap xinetd/tftp-server for dnsmasq to support ironic-pxe operations\n\ntftp-server and xinetd are not anticipated to be in RHEL9 and as\nsuch we need to remove their use in order to facilitate a transition\nto RHEL9 when the time comes.\n\nIn this case, we're anticipating we can just directly launch dnsmasq\ninstead of in.tftpd directly within the container.\n\nChange-Id: Ie75aa0f2994a4cf662905b912231a12e3bd8afe7\n""}, {'number': 8, 'created': '2021-09-14 19:15:49.000000000', 'files': ['releasenotes/notes/change-ironic-tftp-service-21cc25629b15992f.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/84e1a591d85f0f3f9814225f02358df8b552661c', 'message': ""Swap xinetd/tftp-server for dnsmasq to support ironic-pxe operations\n\ntftp-server and xinetd are not anticipated to be in RHEL9 and as\nsuch we need to remove their use in order to facilitate a transition\nto RHEL9 when the time comes.\n\nIn this case, we're anticipating we can just directly launch dnsmasq\ninstead of in.tftpd directly within the container.\n\nChange-Id: Ie75aa0f2994a4cf662905b912231a12e3bd8afe7\n""}]",8,802740,84e1a591d85f0f3f9814225f02358df8b552661c,63,7,8,11655,,,0,"Swap xinetd/tftp-server for dnsmasq to support ironic-pxe operations

tftp-server and xinetd are not anticipated to be in RHEL9 and as
such we need to remove their use in order to facilitate a transition
to RHEL9 when the time comes.

In this case, we're anticipating we can just directly launch dnsmasq
instead of in.tftpd directly within the container.

Change-Id: Ie75aa0f2994a4cf662905b912231a12e3bd8afe7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/802740/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-pxe-container-puppet.yaml'],1,dd1f35226de73fa59aa0fc7305088ca463a67444,," command: ['/bin/bash', '-c', 'BIND_HOST=$(hiera ironic::pxe::tftp_bind_host -c /etc/puppet/hiera.yaml); /usr/sbin/dnsmasq --keep-in-foreground --user root --listen-address $BIND_HOST --port 0 --enable-tftp --tftp-root /var/lib/ironic/tftpboot']"," command: ['/bin/bash', '-c', 'BIND_HOST=$(hiera ironic::pxe::tftp_bind_host -c /etc/puppet/hiera.yaml); /usr/sbin/in.tftpd --foreground --user root --address $BIND_HOST:69 --map-file /var/lib/ironic/tftpboot/map-file /var/lib/ironic/tftpboot']",1,1
openstack%2Fneutron~stable%2Fvictoria~Ibd0aea5b4e6bf44803d5d0100cacc17d401b03cc,openstack/neutron,stable/victoria,Ibd0aea5b4e6bf44803d5d0100cacc17d401b03cc,Skip FIP check if VALIDATE_MIGRATION is not True,MERGED,2021-09-07 14:38:20.000000000,2021-09-15 15:01:43.000000000,2021-09-15 14:59:22.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 29350}]","[{'number': 1, 'created': '2021-09-07 14:38:20.000000000', 'files': ['tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/78e200268f8cdbd3473fe667e92e2606c7c3debf', 'message': 'Skip FIP check if VALIDATE_MIGRATION is not True\n\nOVN migration script fails when VALIDATE_MIGRATION is not set to\nTrue. oc_check_public_network should return successfully in case\nVALIDATE_MIGRATION is set to False.\n\nCloses bug: #1942344\n\nChange-Id: Ibd0aea5b4e6bf44803d5d0100cacc17d401b03cc\n(cherry picked from commit 3c305bf6ae37bd26cda8545bb1a76302dc830dee)\n'}]",0,807736,78e200268f8cdbd3473fe667e92e2606c7c3debf,9,4,1,6773,,,0,"Skip FIP check if VALIDATE_MIGRATION is not True

OVN migration script fails when VALIDATE_MIGRATION is not set to
True. oc_check_public_network should return successfully in case
VALIDATE_MIGRATION is set to False.

Closes bug: #1942344

Change-Id: Ibd0aea5b4e6bf44803d5d0100cacc17d401b03cc
(cherry picked from commit 3c305bf6ae37bd26cda8545bb1a76302dc830dee)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/807736/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/ovn_migration.sh'],1,78e200268f8cdbd3473fe667e92e2606c7c3debf,," [ ""$VALIDATE_MIGRATION"" != ""True"" ] && return 0",,1,0
openstack%2Fironic-inspector~master~Ic2ee2bca74ea2a5a0723ef54b10c531f77ea7b8d,openstack/ironic-inspector,master,Ic2ee2bca74ea2a5a0723ef54b10c531f77ea7b8d,Add optional healthcheck middleware,MERGED,2021-09-12 13:48:57.000000000,2021-09-15 14:58:51.000000000,2021-09-15 14:57:09.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-12 13:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a42769fc72c2517a23ec4f98ea0fd477a164239d', 'message': 'Add optional healthcheck middleware\n\nThis change allows uses to enable the healthcheck middleware from\noslo.middleware in API pipeline, by setting the [healthcheck]/enabled\noption. This middleware provides an API endpoint at /healthcheck path\nwhich allows load balancers or monitoring applications to determine\na service is up using HTTP requests.\n\nThis change basically follows the same change merged in ironic[1] repo.\n\n[1] 6f439414bdcef9fc02f844f475ec798d48d42558\n\nChange-Id: Ic2ee2bca74ea2a5a0723ef54b10c531f77ea7b8d\n'}, {'number': 2, 'created': '2021-09-12 13:51:47.000000000', 'files': ['tools/config-generator.conf', 'ironic_inspector/conf/opts.py', 'ironic_inspector/conf/healthcheck.py', 'ironic_inspector/main.py', 'releasenotes/notes/healthcheck-middleware-5994e8a8b54dbdb4.yaml', 'ironic_inspector/utils.py', 'ironic_inspector/conf/__init__.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d7400b5dc4b71bea8b786aa0f1f64a30d5d701b1', 'message': 'Add optional healthcheck middleware\n\nThis change allows uses to enable the healthcheck middleware from\noslo.middleware in API pipeline, by setting the [healthcheck]/enabled\noption. This middleware provides an API endpoint at /healthcheck path\nwhich allows load balancers or monitoring applications to determine\na service is up using HTTP requests.\n\nThis change basically follows the same change merged in ironic[1] repo.\n\n[1] 6f439414bdcef9fc02f844f475ec798d48d42558\n\nChange-Id: Ic2ee2bca74ea2a5a0723ef54b10c531f77ea7b8d\n'}]",0,808567,d7400b5dc4b71bea8b786aa0f1f64a30d5d701b1,20,3,2,9816,,,0,"Add optional healthcheck middleware

This change allows uses to enable the healthcheck middleware from
oslo.middleware in API pipeline, by setting the [healthcheck]/enabled
option. This middleware provides an API endpoint at /healthcheck path
which allows load balancers or monitoring applications to determine
a service is up using HTTP requests.

This change basically follows the same change merged in ironic[1] repo.

[1] 6f439414bdcef9fc02f844f475ec798d48d42558

Change-Id: Ic2ee2bca74ea2a5a0723ef54b10c531f77ea7b8d
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/67/808567/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/config-generator.conf', 'ironic_inspector/conf/opts.py', 'ironic_inspector/conf/healthcheck.py', 'ironic_inspector/main.py', 'releasenotes/notes/healthcheck-middleware-5994e8a8b54dbdb4.yaml', 'ironic_inspector/utils.py', 'ironic_inspector/conf/__init__.py']",7,a42769fc72c2517a23ec4f98ea0fd477a164239d,healthcheck-middleware,from ironic_inspector.conf import healthcheckhealthcheck.register_opts(CONF),,55,0
openstack%2Fcinder~master~Idae4d51dda50945a4fe3ffefd28196927ae541e5,openstack/cinder,master,Idae4d51dda50945a4fe3ffefd28196927ae541e5,[SVF]: Fix mkvdisk volume name length issue,NEW,2021-05-12 07:39:25.000000000,2021-09-15 14:52:51.000000000,,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 12670}, {'_account_id': 13425}, {'_account_id': 14806}, {'_account_id': 20813}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 30555}, {'_account_id': 30615}, {'_account_id': 32036}, {'_account_id': 32171}, {'_account_id': 32266}, {'_account_id': 32425}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-05-12 07:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e4adcd839e735a3ff583b5f71d49f1bb55ff9e4c', 'message': '[SVF]: Fix mkvdisk volume name length issue\n\n[Spectrum Virtualize Family] During GMCV volume creation ""mkvdisk""\ncommand fails with volume-name length issue while creating the\nauxiliary-change-volume as Storwize Driver supports volume-name\natmost 63 characters only.\n\nThis fix is to make sure the length of the volume-name does not\nexceed Maximum limit so the volume creation happens successfully.\n\nCloses-Bug: #1926946\nChange-Id: Idae4d51dda50945a4fe3ffefd28196927ae541e5\n'}, {'number': 2, 'created': '2021-05-12 10:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed4d261d1197b89361a5732a0901cc9b0526367b', 'message': '[SVF]: Fix mkvdisk volume name length issue\n\n[Spectrum Virtualize Family] During GMCV volume creation ""mkvdisk""\ncommand fails with volume-name length issue while creating the\nauxiliary-change-volume as Storwize Driver supports volume-name\natmost 63 characters only.\n\nThis fix is to make sure the length of the volume-name does not\nexceed Maximum limit so the volume creation happens successfully.\n\nCloses-Bug: #1926946\nChange-Id: Idae4d51dda50945a4fe3ffefd28196927ae541e5\n'}, {'number': 3, 'created': '2021-05-19 05:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7a8dfaf0e9c4d3e338c016026eeaaaf2a1fc8682', 'message': '[SVF]: Fix mkvdisk volume name length issue\n\n[Spectrum Virtualize Family] During GMCV volume creation ""mkvdisk""\ncommand fails with volume-name length issue while creating the\nauxiliary-change-volume as Storwize Driver supports volume-name\natmost 63 characters only.\n\nThis fix is to make sure the length of the volume-name does not\nexceed Maximum limit so the volume creation happens successfully.\n\nCloses-Bug: #1926946\n\nChange-Id: Idae4d51dda50945a4fe3ffefd28196927ae541e5\n'}, {'number': 4, 'created': '2021-05-19 16:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a1e3b08bcc44f8d3aa83e6582d6bc259573e1d07', 'message': '[SVF]: Fix mkvdisk volume name length issue\n\n[Spectrum Virtualize Family] During GMCV volume creation ""mkvdisk""\ncommand fails with volume-name length issue while creating the\nauxiliary-change-volume as Storwize Driver supports volume-name\natmost 63 characters only.\n\nThis fix is to make sure the length of the volume-name does not\nexceed Maximum limit so the volume creation happens successfully.\n\nCloses-Bug: #1926946\n\nChange-Id: Idae4d51dda50945a4fe3ffefd28196927ae541e5\n'}, {'number': 5, 'created': '2021-05-20 08:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac19d76a48699871f3851b266c0246c2241c5161', 'message': '[SVF]: Fix mkvdisk volume name length issue\n\n[Spectrum Virtualize Family] During GMCV volume creation ""mkvdisk""\ncommand fails with volume-name length issue while creating the\nauxiliary-change-volume as Storwize Driver supports volume-name\natmost 63 characters only.\n\nThis fix is to make sure the length of the volume-name does not\nexceed Maximum limit so the volume creation happens successfully.\n\nCloses-Bug: #1926946\n\nChange-Id: Idae4d51dda50945a4fe3ffefd28196927ae541e5\n'}, {'number': 6, 'created': '2021-06-01 09:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed595f57c5fa76d57e8747ce1d66de00b2fe0b21', 'message': '[SVF]: Fix mkvdisk volume name length issue\n\n[Spectrum Virtualize Family] During GMCV volume creation ""mkvdisk""\ncommand fails with volume-name length issue while creating the\nauxiliary-change-volume as Storwize Driver supports volume-name\natmost 63 characters only.\n\nThis fix is to make sure the length of the volume-name does not\nexceed Maximum limit so the volume creation happens successfully.\n\nCloses-Bug: #1926946\n\nChange-Id: Idae4d51dda50945a4fe3ffefd28196927ae541e5\n'}, {'number': 7, 'created': '2021-08-03 17:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4049343421ccee1efaaf8bc9b36fc9476ec06be6', 'message': '[SVF]: Fix mkvdisk volume name length issue\n\n[Spectrum Virtualize Family] During GMCV volume creation ""mkvdisk""\ncommand fails with volume-name length issue while creating the\nauxiliary-change-volume as Storwize Driver supports volume-name\natmost 63 characters only.\n\nThis fix is to make sure the length of the volume-name does not\nexceed Maximum limit so the volume creation happens successfully.\n\nCloses-Bug: #1926946\n\nChange-Id: Idae4d51dda50945a4fe3ffefd28196927ae541e5\n'}, {'number': 8, 'created': '2021-08-06 06:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/790fb8f37586ab71f37c0fc08342707caf98499a', 'message': '[SVF]: Fix mkvdisk volume name length issue\n\n[Spectrum Virtualize Family] During GMCV volume creation ""mkvdisk""\ncommand fails with volume-name length issue while creating the\nauxiliary-change-volume as Storwize Driver supports volume-name\natmost 63 characters only.\n\nThis fix is to make sure the length of the volume-name does not\nexceed Maximum limit so the volume creation happens successfully.\n\nCloses-Bug: #1926946\n\nChange-Id: Idae4d51dda50945a4fe3ffefd28196927ae541e5\n'}, {'number': 9, 'created': '2021-08-06 17:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/93348ef43ad2b4b0ae7c69b735ba01f767ff0cc2', 'message': '[SVF]: Fix mkvdisk volume name length issue\n\n[Spectrum Virtualize Family] During GMCV volume creation ""mkvdisk""\ncommand fails with volume-name length issue while creating the\nauxiliary-change-volume as Storwize Driver supports volume-name\natmost 63 characters only.\n\nThis fix is to make sure the length of the volume-name does not\nexceed Maximum limit so the volume creation happens successfully.\n\nCloses-Bug: #1926946\n\nChange-Id: Idae4d51dda50945a4fe3ffefd28196927ae541e5\n'}, {'number': 10, 'created': '2021-08-23 19:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f5668e1068aa11a4350a20b14cf3594268b6e2c9', 'message': '[SVF]: Fix mkvdisk volume name length issue\n\n[Spectrum Virtualize Family] During GMCV volume creation ""mkvdisk""\ncommand fails with volume-name length issue while creating the\nauxiliary-change-volume as Storwize Driver supports volume-name\natmost 63 characters only. The ""target_change_vol_name"" is the\nonly variable prone to exceed this limit.\n\nThis fix is to make sure the length of the ""target_change_vol_name""\ndoes not exceed Maximum limit so the GMCV volume creation happens\nsuccessfully.\n\nCloses-Bug: #1926946\n\nChange-Id: Idae4d51dda50945a4fe3ffefd28196927ae541e5\n'}, {'number': 11, 'created': '2021-09-01 10:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b052cc5c8fb3cf5f6c75e7d42dd87336c13b9492', 'message': '[SVF]: Fix mkvdisk volume name length issue\n\n[Spectrum Virtualize Family] During GMCV volume creation ""mkvdisk""\ncommand fails with volume-name length issue while creating the\nauxiliary-change-volume as Storwize Driver supports volume-name\natmost 63 characters only. The ""target_change_vol_name"" is the\nonly variable prone to exceed this limit.\n\nThis fix is to make sure the length of the ""target_change_vol_name""\ndoes not exceed Maximum limit so the GMCV volume creation happens\nsuccessfully.\n\nCloses-Bug: #1926946\n\nChange-Id: Idae4d51dda50945a4fe3ffefd28196927ae541e5\n'}, {'number': 12, 'created': '2021-09-01 10:40:37.000000000', 'files': ['releasenotes/notes/bug-1926946-ibm-svf-fix_mkvdisk_gvmc_volume_name_legth_issue-56b8b0be33bf9877.yaml', 'cinder/volume/drivers/ibm/storwize_svc/replication.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/63545a913739730b571cc3c8ae0399a7196f87a6', 'message': '[SVF]: Fix mkvdisk volume name length issue\n\n[Spectrum Virtualize Family] During GMCV volume creation ""mkvdisk""\ncommand fails with volume-name length issue while creating the\nauxiliary-change-volume as Storwize Driver supports volume-name\natmost 63 characters only. The ""target_change_vol_name"" is the\nonly variable prone to exceed this limit.\n\nThis fix is to make sure the length of the ""target_change_vol_name""\ndoes not exceed Maximum limit so the GMCV volume creation happens\nsuccessfully.\n\nCloses-Bug: #1926946\n\nChange-Id: Idae4d51dda50945a4fe3ffefd28196927ae541e5\n'}]",27,790910,63545a913739730b571cc3c8ae0399a7196f87a6,347,15,12,32075,,,0,"[SVF]: Fix mkvdisk volume name length issue

[Spectrum Virtualize Family] During GMCV volume creation ""mkvdisk""
command fails with volume-name length issue while creating the
auxiliary-change-volume as Storwize Driver supports volume-name
atmost 63 characters only. The ""target_change_vol_name"" is the
only variable prone to exceed this limit.

This fix is to make sure the length of the ""target_change_vol_name""
does not exceed Maximum limit so the GMCV volume creation happens
successfully.

Closes-Bug: #1926946

Change-Id: Idae4d51dda50945a4fe3ffefd28196927ae541e5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/790910/7 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/storwize_svc/replication.py'],1,e4adcd839e735a3ff583b5f71d49f1bb55ff9e4c,bug/1926946," def sanitize_vol_name(self, vol_name, vref): # Trims the length of volume name to less than 63 # characters and then checks with the volume-UUID new_vol_name = (vol_name)[:62] if new_vol[-8:] in vref['name_id']: return new_vol_name error_msg = _(""The length of volume name supported by SVC is valid "" ""upto 63 charc"") LOG.exception(msg) raise exception.InvalidInput(reason=error_msg) # Storwize supports atmost 63 characters as volume name if len(target_change_vol_name) > 63: target_change_vol_name = self.sanitize_vol_name( target_change_vol_name, vref)",,15,0
openstack%2Fneutron~stable%2Fwallaby~Ibd0aea5b4e6bf44803d5d0100cacc17d401b03cc,openstack/neutron,stable/wallaby,Ibd0aea5b4e6bf44803d5d0100cacc17d401b03cc,Skip FIP check if VALIDATE_MIGRATION is not True,MERGED,2021-09-07 14:38:06.000000000,2021-09-15 14:52:00.000000000,2021-09-15 14:49:35.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 29350}]","[{'number': 1, 'created': '2021-09-07 14:38:06.000000000', 'files': ['tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c26296d8023310aed1b9e12b39f274130a2b12d5', 'message': 'Skip FIP check if VALIDATE_MIGRATION is not True\n\nOVN migration script fails when VALIDATE_MIGRATION is not set to\nTrue. oc_check_public_network should return successfully in case\nVALIDATE_MIGRATION is set to False.\n\nCloses bug: #1942344\n\nChange-Id: Ibd0aea5b4e6bf44803d5d0100cacc17d401b03cc\n(cherry picked from commit 3c305bf6ae37bd26cda8545bb1a76302dc830dee)\n'}]",0,807735,c26296d8023310aed1b9e12b39f274130a2b12d5,10,4,1,6773,,,0,"Skip FIP check if VALIDATE_MIGRATION is not True

OVN migration script fails when VALIDATE_MIGRATION is not set to
True. oc_check_public_network should return successfully in case
VALIDATE_MIGRATION is set to False.

Closes bug: #1942344

Change-Id: Ibd0aea5b4e6bf44803d5d0100cacc17d401b03cc
(cherry picked from commit 3c305bf6ae37bd26cda8545bb1a76302dc830dee)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/807735/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/ovn_migration.sh'],1,c26296d8023310aed1b9e12b39f274130a2b12d5,," [ ""$VALIDATE_MIGRATION"" != ""True"" ] && return 0",,1,0
openstack%2Fneutron~stable%2Fussuri~I9f753be0ce5ae7870afb9b3cb74f89be8482356e,openstack/neutron,stable/ussuri,I9f753be0ce5ae7870afb9b3cb74f89be8482356e,Ensure net dict has provider info on precommit delete,MERGED,2021-09-08 11:39:06.000000000,2021-09-15 14:51:44.000000000,2021-09-15 14:49:08.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-09-08 11:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/08c0f8ef37426cd402df40267564039fdd50f6af', 'message': 'Ensure net dict has provider info on precommit delete\n\nCommit 80eddc40390e63c9c1102b827997054708f2618b optimized\nnet delete by including net info into notification payload,\nhowever ML2 plugin needs provider info as well.\n\nCloses-Bug: #1942469\nChange-Id: I9f753be0ce5ae7870afb9b3cb74f89be8482356e\n(cherry picked from commit 27edf6b6d311d7d334090c89c4cee54d63162a55)\n'}, {'number': 2, 'created': '2021-09-08 14:26:14.000000000', 'files': ['neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/78ff22e6bb3254859df5c90d41e31b84c70ab5b5', 'message': 'Ensure net dict has provider info on precommit delete\n\nCommit 80eddc40390e63c9c1102b827997054708f2618b optimized\nnet delete by including net info into notification payload,\nhowever ML2 plugin needs provider info as well.\n\nConflicts:\n    neutron/plugins/ml2/plugin.py\n\nCloses-Bug: #1942469\nChange-Id: I9f753be0ce5ae7870afb9b3cb74f89be8482356e\n(cherry picked from commit 27edf6b6d311d7d334090c89c4cee54d63162a55)\n'}]",0,807765,78ff22e6bb3254859df5c90d41e31b84c70ab5b5,21,4,2,5948,,,0,"Ensure net dict has provider info on precommit delete

Commit 80eddc40390e63c9c1102b827997054708f2618b optimized
net delete by including net info into notification payload,
however ML2 plugin needs provider info as well.

Conflicts:
    neutron/plugins/ml2/plugin.py

Closes-Bug: #1942469
Change-Id: I9f753be0ce5ae7870afb9b3cb74f89be8482356e
(cherry picked from commit 27edf6b6d311d7d334090c89c4cee54d63162a55)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/807765/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,08c0f8ef37426cd402df40267564039fdd50f6af,bug/1942469-stable/ussury," if 'network' in kwargs: network = kwargs['network'] self.type_manager.extend_network_dict_provider(context, network) else: network = self.get_network(context, network_id) "," network = (kwargs.get('network') or self.get_network(context, network_id))",6,2
openstack%2Fneutron~stable%2Ftrain~I9f753be0ce5ae7870afb9b3cb74f89be8482356e,openstack/neutron,stable/train,I9f753be0ce5ae7870afb9b3cb74f89be8482356e,Ensure net dict has provider info on precommit delete,MERGED,2021-09-08 11:39:34.000000000,2021-09-15 14:51:29.000000000,2021-09-15 14:49:22.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-08 11:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/274f16f195dea4b49a224320df6d043024409de8', 'message': 'Ensure net dict has provider info on precommit delete\n\nCommit 80eddc40390e63c9c1102b827997054708f2618b optimized\nnet delete by including net info into notification payload,\nhowever ML2 plugin needs provider info as well.\n\nCloses-Bug: #1942469\nChange-Id: I9f753be0ce5ae7870afb9b3cb74f89be8482356e\n(cherry picked from commit 27edf6b6d311d7d334090c89c4cee54d63162a55)\n'}, {'number': 2, 'created': '2021-09-08 14:26:25.000000000', 'files': ['neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7086cf8d5c7a8f19345c0d8ec446ab9707cd8b65', 'message': 'Ensure net dict has provider info on precommit delete\n\nCommit 80eddc40390e63c9c1102b827997054708f2618b optimized\nnet delete by including net info into notification payload,\nhowever ML2 plugin needs provider info as well.\n\nConflicts:\n    neutron/plugins/ml2/plugin.py\n\nCloses-Bug: #1942469\nChange-Id: I9f753be0ce5ae7870afb9b3cb74f89be8482356e\n(cherry picked from commit 27edf6b6d311d7d334090c89c4cee54d63162a55)\n'}]",0,807766,7086cf8d5c7a8f19345c0d8ec446ab9707cd8b65,15,3,2,5948,,,0,"Ensure net dict has provider info on precommit delete

Commit 80eddc40390e63c9c1102b827997054708f2618b optimized
net delete by including net info into notification payload,
however ML2 plugin needs provider info as well.

Conflicts:
    neutron/plugins/ml2/plugin.py

Closes-Bug: #1942469
Change-Id: I9f753be0ce5ae7870afb9b3cb74f89be8482356e
(cherry picked from commit 27edf6b6d311d7d334090c89c4cee54d63162a55)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/807766/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,274f16f195dea4b49a224320df6d043024409de8,bug/1942469-stable/train," if 'network' in kwargs: network = kwargs['network'] self.type_manager.extend_network_dict_provider(context, network) else: network = self.get_network(context, network_id) "," network = (kwargs.get('network') or self.get_network(context, network_id))",6,2
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ia892ccb629b7ef7cb80d549fbe1c684e9b93c0fc,openstack/tripleo-heat-templates,stable/victoria,Ia892ccb629b7ef7cb80d549fbe1c684e9b93c0fc,Install python3-openstackclient after the leapp upgrade,MERGED,2021-09-14 17:36:21.000000000,2021-09-15 14:46:33.000000000,2021-09-15 14:46:33.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-14 17:36:21.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec263697b0fee43becd751b633748b4346ebb610', 'message': 'Install python3-openstackclient after the leapp upgrade\n\nThe package is part of the base image, but when doing a leapp\nupgrade it is removed because it is not part of the standard\nRHEL repositories.\n\nResolves: rhbz#1994919\n\nChange-Id: Ia892ccb629b7ef7cb80d549fbe1c684e9b93c0fc\n(cherry picked from commit c463d2068e256cb2baca8b5af329c1866b1f673e)\n'}]",0,808973,ec263697b0fee43becd751b633748b4346ebb610,8,4,1,11090,,,0,"Install python3-openstackclient after the leapp upgrade

The package is part of the base image, but when doing a leapp
upgrade it is removed because it is not part of the standard
RHEL repositories.

Resolves: rhbz#1994919

Change-Id: Ia892ccb629b7ef7cb80d549fbe1c684e9b93c0fc
(cherry picked from commit c463d2068e256cb2baca8b5af329c1866b1f673e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/808973/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,ec263697b0fee43becd751b633748b4346ebb610,rhbz_1994919-stable/wallaby-stable/victoria, - python3-openstackclient,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ia892ccb629b7ef7cb80d549fbe1c684e9b93c0fc,openstack/tripleo-heat-templates,stable/ussuri,Ia892ccb629b7ef7cb80d549fbe1c684e9b93c0fc,Install python3-openstackclient after the leapp upgrade,MERGED,2021-09-14 17:36:33.000000000,2021-09-15 14:46:21.000000000,2021-09-15 14:46:21.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-14 17:36:33.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea3d52da137896a1ee29d2691496da3dc3d36995', 'message': 'Install python3-openstackclient after the leapp upgrade\n\nThe package is part of the base image, but when doing a leapp\nupgrade it is removed because it is not part of the standard\nRHEL repositories.\n\nResolves: rhbz#1994919\n\nChange-Id: Ia892ccb629b7ef7cb80d549fbe1c684e9b93c0fc\n(cherry picked from commit c463d2068e256cb2baca8b5af329c1866b1f673e)\n'}]",0,808974,ea3d52da137896a1ee29d2691496da3dc3d36995,8,4,1,11090,,,0,"Install python3-openstackclient after the leapp upgrade

The package is part of the base image, but when doing a leapp
upgrade it is removed because it is not part of the standard
RHEL repositories.

Resolves: rhbz#1994919

Change-Id: Ia892ccb629b7ef7cb80d549fbe1c684e9b93c0fc
(cherry picked from commit c463d2068e256cb2baca8b5af329c1866b1f673e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/808974/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,ea3d52da137896a1ee29d2691496da3dc3d36995,rhbz_1994919-stable/wallaby-stable/victoria-stable/ussuri, - python3-openstackclient,,1,0
openstack%2Fneutron~stable%2Ftrain~I6ab945086b13730ad60957760bbc2eb5c321aca2,openstack/neutron,stable/train,I6ab945086b13730ad60957760bbc2eb5c321aca2,Add minimum bw qos rule validation for network,ABANDONED,2021-04-21 14:11:09.000000000,2021-09-15 14:37:48.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-04-21 14:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac94cb04081bd54e5850c82186174251ebb5d8e8', 'message': 'Add minimum bw qos rule validation for network\n\nMinimum bandwidth QoS rule is only applicable for the network which is\nbacked by physical networks.\nIt will raise exception when you want to set Minimum bandwidth QoS rule\nor update rule on network without ports.\n\nCloses-Bug: #1913180\nChange-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2\n(cherry picked from commit 26f3de0f781b8cc48c4294d0cb36596c26777f70)\n'}, {'number': 2, 'created': '2021-04-22 08:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3eb17d795fcf57eac1722582c8b2f0a55c239dac', 'message': 'Add minimum bw qos rule validation for network\n\nMinimum bandwidth QoS rule is only applicable for the network which is\nbacked by physical networks.\nIt will raise exception when you want to set Minimum bandwidth QoS rule\nor update rule on network without ports.\n\nCloses-Bug: #1913180\n\nConflicts:\n    neutron/services/qos/drivers/manager.py\n    neutron/services/qos/qos_plugin.py\n\nChange-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2\n(cherry picked from commit 26f3de0f781b8cc48c4294d0cb36596c26777f70)\n'}, {'number': 3, 'created': '2021-04-22 08:53:15.000000000', 'files': ['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/drivers/openvswitch/test_driver.py', 'neutron/services/qos/drivers/manager.py', 'neutron/tests/unit/services/qos/drivers/openvswitch/__init__.py', 'neutron/tests/unit/services/qos/drivers/test_manager.py', 'neutron/tests/fullstack/resources/client.py', 'neutron/tests/fullstack/test_qos.py', 'neutron/services/qos/drivers/openvswitch/driver.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a4980cc5f8b4cfb116280f1cd1008bd395e3134', 'message': 'Add minimum bw qos rule validation for network\n\nMinimum bandwidth QoS rule is only applicable for the network which is\nbacked by physical networks.\nIt will raise exception when you want to set Minimum bandwidth QoS rule\nor update rule on network without ports.\n\nCloses-Bug: #1913180\n\nConflicts:\n    neutron/services/qos/drivers/manager.py\n    neutron/services/qos/qos_plugin.py\n\nChange-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2\n(cherry picked from commit 26f3de0f781b8cc48c4294d0cb36596c26777f70)\n'}]",41,787377,3a4980cc5f8b4cfb116280f1cd1008bd395e3134,15,3,3,32667,,,0,"Add minimum bw qos rule validation for network

Minimum bandwidth QoS rule is only applicable for the network which is
backed by physical networks.
It will raise exception when you want to set Minimum bandwidth QoS rule
or update rule on network without ports.

Closes-Bug: #1913180

Conflicts:
    neutron/services/qos/drivers/manager.py
    neutron/services/qos/qos_plugin.py

Change-Id: I6ab945086b13730ad60957760bbc2eb5c321aca2
(cherry picked from commit 26f3de0f781b8cc48c4294d0cb36596c26777f70)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/787377/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/drivers/openvswitch/test_driver.py', 'neutron/services/qos/drivers/manager.py', 'neutron/tests/unit/services/qos/drivers/test_manager.py', 'neutron/tests/fullstack/resources/client.py', 'neutron/tests/fullstack/test_qos.py', 'neutron/services/qos/drivers/openvswitch/driver.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py']",8,ac94cb04081bd54e5850c82186174251ebb5d8e8,bug/1913180-stable/train," self.qos_plugin, ""validate_policy_for_network"" ) as validate_policy_for_network, mock.patch.object( validate_policy_for_network.assert_not_called()<<<<<<< HEAD (af0335 Merge ""Add locks for setting iptables rules in l3 and metada)======= def test_validate_policy_for_network(self): network = uuidutils.generate_uuid() with mock.patch.object( self.qos_plugin.driver_manager, ""validate_rule_for_network"", return_value=True ): self.policy.rules = [self.rule] try: self.qos_plugin.validate_policy_for_network( self.ctxt, self.policy, network_id=network) except qos_exc.QosRuleNotSupportedByNetwork: self.fail(""QosRuleNotSupportedByNetwork "" ""exception unexpectedly raised"") >>>>>>> CHANGE (26f3de Add minimum bw qos rule validation for network) def _test_validate_create_network_callback(self, network_qos=False): net_qos_obj = self._make_qos_policy() net_qos_id = net_qos_obj.id if network_qos else None network = self._make_network(qos_policy_id=net_qos_id) kwargs = {""context"": self.context, ""network"": network} with mock.patch.object(self.qos_plugin, 'validate_policy_for_network') \ as mock_validate_policy: self.qos_plugin._validate_create_network_callback( 'NETWORK', 'precommit_create', 'test_plugin', **kwargs) qos_policy = None if network_qos: qos_policy = net_qos_obj if qos_policy: mock_validate_policy.assert_called_once_with( self.context, qos_policy, network.id) else: mock_validate_policy.assert_not_called() def test_validate_create_network_callback(self): self._test_validate_create_network_callback(network_qos=True) def test_validate_create_network_callback_no_qos(self): self._test_validate_create_network_callback(network_qos=False) ",,203,1
openstack%2Fkayobe~stable%2Ftrain~I70d5f78871867f3a71150eacc3df1857949e6df9,openstack/kayobe,stable/train,I70d5f78871867f3a71150eacc3df1857949e6df9,Fix typo in IP allocation filename,MERGED,2021-09-15 07:50:12.000000000,2021-09-15 14:34:01.000000000,2021-09-15 14:32:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 07:50:12.000000000', 'files': ['ansible/roles/ssh-known-host/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4c28d5038f00b9bb81a92a3952ed71ada409cb08', 'message': 'Fix typo in IP allocation filename\n\nChange-Id: I70d5f78871867f3a71150eacc3df1857949e6df9\n(cherry picked from commit e8769373b6adace69b041a18a4342870a98eaabf)\n'}]",0,809137,4c28d5038f00b9bb81a92a3952ed71ada409cb08,9,2,1,15197,,,0,"Fix typo in IP allocation filename

Change-Id: I70d5f78871867f3a71150eacc3df1857949e6df9
(cherry picked from commit e8769373b6adace69b041a18a4342870a98eaabf)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/37/809137/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ssh-known-host/tasks/main.yml'],1,4c28d5038f00b9bb81a92a3952ed71ada409cb08,network-allocation-stable/train," 'network-allocation.yml', or are automatically allocated during the"," 'network-allocations.yml', or are automatically allocated during the",1,1
openstack%2Fopenstack-tempest-skiplist~master~Iff798cc73c1044f9a404e09f192f8a24f6d00429,openstack/openstack-tempest-skiplist,master,Iff798cc73c1044f9a404e09f192f8a24f6d00429,"Revert ""Add test_minimum_basic_scenario to skip""",NEW,2021-09-15 14:01:21.000000000,2021-09-15 14:26:56.000000000,,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 29775}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-09-15 14:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/8d52f14031026a20ab1287aeebd88b94c90abf88', 'message': 'Revert ""Add test_minimum_basic_scenario to skiplist - master""\n\nThis reverts commit 8fa5c323ca54a40e32e4e7952a8e6b190ebb4841.\n\nReason for revert: To debug the failure.\n\nChange-Id: Iff798cc73c1044f9a404e09f192f8a24f6d00429\n'}, {'number': 2, 'created': '2021-09-15 14:17:53.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/4b02a4236f7338fab5720cd2ae779e456cefa1c5', 'message': 'Revert ""Add test_minimum_basic_scenario to skip""\n\nThis reverts commit 8fa5c323ca54a40e32e4e7952a8e6b190ebb4841\nand Id9ecad92f3f228848352664f5db4d26623a40947.\n\nReason for revert: To debug the failures.\n\nRelated-Bug: #1923194\nChange-Id: Iff798cc73c1044f9a404e09f192f8a24f6d00429\n'}]",0,809142,4b02a4236f7338fab5720cd2ae779e456cefa1c5,5,6,2,29775,,,0,"Revert ""Add test_minimum_basic_scenario to skip""

This reverts commit 8fa5c323ca54a40e32e4e7952a8e6b190ebb4841
and Id9ecad92f3f228848352664f5db4d26623a40947.

Reason for revert: To debug the failures.

Related-Bug: #1923194
Change-Id: Iff798cc73c1044f9a404e09f192f8a24f6d00429
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/42/809142/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,8d52f14031026a20ab1287aeebd88b94c90abf88,bug1923194,, - test: tempest.scenario.test_minimum_basic.TestMinimumBasicScenario.test_minimum_basic_scenario deployment: - overcloud releases: - name: master reason: Failed to find floating IP lp: https://bugs.launchpad.net/tripleo/+bug/1923194 jobs: - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-master - periodic-tripleo-ci-centos-8-ovb-1ctlr_2comp-featureset020-master - tripleo-ci-centos-8-standalone - tripleo-ci-centos-8-standalone-build,0,12
openstack%2Fneutron~master~I980265335c5f3f6b5ee2e5fbcad9491aad91defe,openstack/neutron,master,I980265335c5f3f6b5ee2e5fbcad9491aad91defe,Use neutron-lib standard_attr,MERGED,2021-09-13 14:17:08.000000000,2021-09-15 14:14:32.000000000,2021-09-15 14:11:58.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-13 14:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aefc52c1afeec825f4515401b82cf5076e2db350', 'message': 'Use neutron-lib standard_attr\n\nNow only neutron uses neutron/db/standard_attr.py\nShim can be removed\n\nChange-Id: I980265335c5f3f6b5ee2e5fbcad9491aad91defe\n'}, {'number': 2, 'created': '2021-09-13 17:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c1d06d453b55f8ed62b244500eb3195faf0494d6', 'message': 'Use neutron-lib standard_attr\n\nNow only neutron uses neutron/db/standard_attr.py\nShim can be removed\n\nChange-Id: I980265335c5f3f6b5ee2e5fbcad9491aad91defe\n'}, {'number': 3, 'created': '2021-09-15 09:19:31.000000000', 'files': ['neutron/db/models/loggingapi.py', 'neutron/services/trunk/models.py', 'neutron/db/models/port_forwarding.py', 'neutron/db/standard_attr.py', 'neutron/db/models/l3.py', 'neutron/db/models/address_group.py', 'neutron/db/models/securitygroup.py', 'neutron/db/ovn_revision_numbers_db.py', 'neutron/extensions/tagging.py', 'neutron/db/qos/models.py', 'neutron/db/models/segment.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/extensions/stdattrs_common.py', 'neutron/db/models/network_segment_range.py', 'neutron/objects/base.py', 'neutron/db/models/tag.py', 'neutron/services/tag/tag_plugin.py', 'neutron/db/models/provisioning_block.py', 'neutron/services/revisions/revision_plugin.py', 'neutron/db/standardattrdescription_db.py', 'neutron/services/timestamp/timestamp_db.py', 'neutron/objects/stdattrs.py', 'neutron/db/models_v2.py', 'neutron/objects/tag.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce3b86eef33adc7c94cad5dbec49e206d32f622e', 'message': 'Use neutron-lib standard_attr\n\nNow only neutron uses neutron/db/standard_attr.py\nShim can be removed\n\nChange-Id: I980265335c5f3f6b5ee2e5fbcad9491aad91defe\n'}]",2,808778,ce3b86eef33adc7c94cad5dbec49e206d32f622e,25,3,3,32667,,,0,"Use neutron-lib standard_attr

Now only neutron uses neutron/db/standard_attr.py
Shim can be removed

Change-Id: I980265335c5f3f6b5ee2e5fbcad9491aad91defe
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/808778/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/models/loggingapi.py', 'neutron/services/trunk/models.py', 'neutron/db/models/port_forwarding.py', 'neutron/db/standard_attr.py', 'neutron/db/models/l3.py', 'neutron/db/models/address_group.py', 'neutron/db/models/securitygroup.py', 'neutron/db/ovn_revision_numbers_db.py', 'neutron/extensions/tagging.py', 'neutron/db/qos/models.py', 'neutron/db/models/segment.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/extensions/stdattrs_common.py', 'neutron/db/models/network_segment_range.py', 'neutron/objects/base.py', 'neutron/db/models/tag.py', 'neutron/services/tag/tag_plugin.py', 'neutron/db/models/provisioning_block.py', 'neutron/services/revisions/revision_plugin.py', 'neutron/db/standardattrdescription_db.py', 'neutron/services/timestamp/timestamp_db.py', 'neutron/objects/stdattrs.py', 'neutron/db/models_v2.py', 'neutron/objects/tag.py']",24,aefc52c1afeec825f4515401b82cf5076e2db350,standard_attr,from neutron_lib.db import standard_attr,from neutron.db import standard_attr,24,51
openstack%2Fironic~stable%2Fwallaby~I3112a22149c07e5508f26c79f33d09aeb905c308,openstack/ironic,stable/wallaby,I3112a22149c07e5508f26c79f33d09aeb905c308,Fix idrac-wsman set_power_state to wait on HW,MERGED,2021-09-14 21:16:33.000000000,2021-09-15 14:11:46.000000000,2021-09-15 09:33:14.000000000,"[{'_account_id': 4571}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-09-14 21:16:33.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_power.py', 'releasenotes/notes/idrac-wsman-set-power-state-wait-cd8f9ff41b19c7a7.yaml', 'ironic/drivers/modules/drac/power.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/14985866f49e40e795c8d20823b8c202fcc09358', 'message': 'Fix idrac-wsman set_power_state to wait on HW\n\nset_power_state has returned to the caller immediately without\nconfirming the system has reached the requested state. This fixes that\nby synchronously waiting until the target state has been read before\nreturning.\n\nThat bug can cause instance workload deployments to fail on Dell EMC\nPowerEdge server models on which IPA ramdisk soft power off fails and\nironic employs its OOB fallback strategy. After an otherwise successful\ndeployment, the node is active, but is powered off. No error is reported\nin last_error. If the subsequent instance workflow expects the system to\nbe powered on into the operating system, it fails.\n\nStory: 2009204\nTask: 43261\nChange-Id: I3112a22149c07e5508f26c79f33d09aeb905c308\n(cherry picked from commit 2a0fd1d13f178c9872330cf6498dc25572a721da)\n'}]",0,808979,14985866f49e40e795c8d20823b8c202fcc09358,13,4,1,11655,,,0,"Fix idrac-wsman set_power_state to wait on HW

set_power_state has returned to the caller immediately without
confirming the system has reached the requested state. This fixes that
by synchronously waiting until the target state has been read before
returning.

That bug can cause instance workload deployments to fail on Dell EMC
PowerEdge server models on which IPA ramdisk soft power off fails and
ironic employs its OOB fallback strategy. After an otherwise successful
deployment, the node is active, but is powered off. No error is reported
in last_error. If the subsequent instance workflow expects the system to
be powered on into the operating system, it fails.

Story: 2009204
Task: 43261
Change-Id: I3112a22149c07e5508f26c79f33d09aeb905c308
(cherry picked from commit 2a0fd1d13f178c9872330cf6498dc25572a721da)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/79/808979/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_power.py', 'releasenotes/notes/idrac-wsman-set-power-state-wait-cd8f9ff41b19c7a7.yaml', 'ironic/drivers/modules/drac/power.py']",3,14985866f49e40e795c8d20823b8c202fcc09358,idrac-wsman-power-forced-stable/wallaby,"from ironic.conductor import utils as cond_utilsdef _set_power_state(task, power_state, timeout=None): :param task: a TaskManager instance containing the node to act on. :param timeout: Time to wait for the node to reach the requested state. When requested state is reboot, not used as not waiting then. node = task.node if calc_power_state == states.REBOOT: # TODO(rloo): Support timeouts! if timeout is not None: LOG.warning(""The 'idrac-wsman' Power Interface does not "" ""support 'timeout' parameter when setting "" ""power state to reboot. Ignoring "" ""timeout=%(timeout)s"", {'timeout': timeout}) else: # Skipped for reboot as can't match reboot with on/off. # Reboot so far has been part of workflow that is not followed # by another power state change that could break the flow. cond_utils.node_wait_for_power_state( task, calc_power_state, timeout) :param timeout: Time to wait for the node to reach the requested state. When requested state is reboot, not used as not waiting then. _set_power_state(task, power_state, timeout) _set_power_state(task, states.REBOOT, timeout)","def _set_power_state(node, power_state): :param node: an ironic node object. :param timeout: timeout (in seconds). Unsupported by this interface. # TODO(rloo): Support timeouts! if timeout is not None: LOG.warning( ""The 'idrac' Power Interface's 'set_power_state' method "" ""doesn't support the 'timeout' parameter. Ignoring "" ""timeout=%(timeout)s"", {'timeout': timeout}) _set_power_state(task.node, power_state) # TODO(rloo): Support timeouts! if timeout is not None: LOG.warning(""The 'idrac' Power Interface's 'reboot' method "" ""doesn't support the 'timeout' parameter. Ignoring "" ""timeout=%(timeout)s"", {'timeout': timeout}) _set_power_state(task.node, states.REBOOT)",44,25
openstack%2Fcinder~master~I53c138b197104ab37f9f880a1209a3130b4f509b,openstack/cinder,master,I53c138b197104ab37f9f880a1209a3130b4f509b,[SVF]:Fix error message for volume with snapshot,NEW,2021-04-20 16:32:08.000000000,2021-09-15 14:07:09.000000000,,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 14806}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 31016}, {'_account_id': 32036}, {'_account_id': 32075}, {'_account_id': 32425}]","[{'number': 1, 'created': '2021-04-20 16:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9518e8cb67a072ddef555a4d25ba74de07c60773', 'message': '[SVF]:Fix error message for volume with snapshot\n\n[Spectrum Virtualize Family] During retype of normal volume\nwith snapshot to HyperSwap volume, InvalidInput exception was\nraised.\n\nThis patch fixes the issue by chaging the exception\nto SnapshotIsBusy.\n\nCloses-Bug: #192530\nChange-Id: I53c138b197104ab37f9f880a1209a3130b4f509b\n'}, {'number': 2, 'created': '2021-04-20 16:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b228e18a19f0883b0bfff55b2e3b22e0f629cff4', 'message': '[SVF]:Fix error message for volume with snapshot\n\n[Spectrum Virtualize Family] During retype of normal volume\nwith snapshot to HyperSwap volume, InvalidInput exception was\nraised.\n\nThis patch fixes the issue by chaging the exception\nto SnapshotIsBusy.\n\nCloses-Bug: #1925230\nChange-Id: I53c138b197104ab37f9f880a1209a3130b4f509b\n'}, {'number': 3, 'created': '2021-04-22 11:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/593ac4e1beaa4b6a02dd07931ca4a7270d0726c2', 'message': '[SVF]:Fix error message for volume with snapshot\n\n[Spectrum Virtualize Family] During retype of normal volume\nwith snapshot to HyperSwap volume, InvalidInput exception was\nraised.\n\nThis patch fixes the issue by chaging the exception\nto SnapshotIsBusy.\n\nCloses-Bug: #1925230\nChange-Id: I53c138b197104ab37f9f880a1209a3130b4f509b\n'}, {'number': 4, 'created': '2021-06-01 09:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc595e23078ff11ffcf237dee826abe3c553ef24', 'message': '[SVF]:Fix error message for volume with snapshot\n\n[Spectrum Virtualize Family] During retype of normal volume\nwith snapshot to HyperSwap volume, InvalidInput exception was\nraised.\n\nThis patch fixes the issue by chaging the exception\nto SnapshotIsBusy.\n\nCloses-Bug: #1925230\nChange-Id: I53c138b197104ab37f9f880a1209a3130b4f509b\n'}, {'number': 5, 'created': '2021-06-01 12:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4e6d19b5a96b87470aee5c152ff7c0723bbf062', 'message': '[SVF]:Fix error message for volume with snapshot\n\n[Spectrum Virtualize Family] During retype of normal volume\nwith snapshot to HyperSwap volume, InvalidInput exception was\nraised.\n\nThis patch fixes the issue by chaging the exception\nto VolumeHasSnapshot.\n\nCloses-Bug: #1925230\nChange-Id: I53c138b197104ab37f9f880a1209a3130b4f509b\n'}, {'number': 6, 'created': '2021-07-30 04:18:17.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/exception.py', 'releasenotes/notes/bug-192530-ibm-svf_Fix_error_message_for_volume_with_snapshot-7ed526edf93ba607.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ae78a6b7b002b7b8b6d13d00f9db7e20daf3ec88', 'message': '[SVF]:Fix error message for volume with snapshot\n\n[Spectrum Virtualize Family] During retype of normal volume\nwith snapshot to HyperSwap volume, InvalidInput exception was\nraised.\n\nThis patch fixes the issue by changing the exception\nto VolumeHasSnapshot.\n\nCloses-Bug: #1925230\nChange-Id: I53c138b197104ab37f9f880a1209a3130b4f509b\n'}]",15,787262,ae78a6b7b002b7b8b6d13d00f9db7e20daf3ec88,130,10,6,32171,,,0,"[SVF]:Fix error message for volume with snapshot

[Spectrum Virtualize Family] During retype of normal volume
with snapshot to HyperSwap volume, InvalidInput exception was
raised.

This patch fixes the issue by changing the exception
to VolumeHasSnapshot.

Closes-Bug: #1925230
Change-Id: I53c138b197104ab37f9f880a1209a3130b4f509b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/787262/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py']",2,9518e8cb67a072ddef555a4d25ba74de07c60773,bug/1925230, 'normal volume with snapshots or in-progress ' 'fcmaps to a hyperswap volume.') raise exception.SnapshotIsBusy(message=msg), 'normal volume with snapshot to a hyperswap ' 'volume.') raise exception.InvalidInput(message=msg),4,4
openstack%2Fmasakari-monitors~master~I7549ea76acd6ac12efa12fd53ef8b52220effc59,openstack/masakari-monitors,master,I7549ea76acd6ac12efa12fd53ef8b52220effc59,Add note for package maintainers in requirements.txt,MERGED,2021-09-15 12:28:12.000000000,2021-09-15 14:06:43.000000000,2021-09-15 14:04:18.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-15 12:28:12.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/7bece969652c6938753034ecea1414b0106025fb', 'message': 'Add note for package maintainers in requirements.txt\n\nChange-Id: I7549ea76acd6ac12efa12fd53ef8b52220effc59\n'}]",0,809178,7bece969652c6938753034ecea1414b0106025fb,7,2,1,6476,,,0,"Add note for package maintainers in requirements.txt

Change-Id: I7549ea76acd6ac12efa12fd53ef8b52220effc59
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/78/809178/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,7bece969652c6938753034ecea1414b0106025fb,,# # Note for package maintainers: just use the libvirt-python package version # as seen in the Nova dependencies.,,3,0
openstack%2Fceilometer~stable%2Fxena~If0d5f0eb1124789b49d26bda64189541760f4cd5,openstack/ceilometer,stable/xena,If0d5f0eb1124789b49d26bda64189541760f4cd5,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-15 01:59:51.000000000,2021-09-15 14:04:38.000000000,2021-09-15 13:58:10.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 01:59:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3caca0791881b105731acb4c9c32e8e1221fdfd0', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: If0d5f0eb1124789b49d26bda64189541760f4cd5\n'}]",0,809041,3caca0791881b105731acb4c9c32e8e1221fdfd0,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: If0d5f0eb1124789b49d26bda64189541760f4cd5
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/41/809041/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3caca0791881b105731acb4c9c32e8e1221fdfd0,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fceilometer~master~Id0be12d896ed9a53f639201919ac27d79cc23c44,openstack/ceilometer,master,Id0be12d896ed9a53f639201919ac27d79cc23c44,Add Python3 yoga unit tests,MERGED,2021-09-15 01:59:56.000000000,2021-09-15 14:04:34.000000000,2021-09-15 13:58:06.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 01:59:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b3438d6d4f6198000543c84e3b01961bc84a4f72', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Id0be12d896ed9a53f639201919ac27d79cc23c44\n'}]",0,809044,b3438d6d4f6198000543c84e3b01961bc84a4f72,7,2,1,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Id0be12d896ed9a53f639201919ac27d79cc23c44
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/44/809044/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b3438d6d4f6198000543c84e3b01961bc84a4f72,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ia892ccb629b7ef7cb80d549fbe1c684e9b93c0fc,openstack/tripleo-heat-templates,stable/wallaby,Ia892ccb629b7ef7cb80d549fbe1c684e9b93c0fc,Install python3-openstackclient after the leapp upgrade,MERGED,2021-09-14 17:35:03.000000000,2021-09-15 14:02:03.000000000,2021-09-15 14:02:03.000000000,"[{'_account_id': 6816}, {'_account_id': 8833}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-14 17:35:03.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c975949255926a2a11301cbd82a864aa906e38d3', 'message': 'Install python3-openstackclient after the leapp upgrade\n\nThe package is part of the base image, but when doing a leapp\nupgrade it is removed because it is not part of the standard\nRHEL repositories.\n\nResolves: rhbz#1994919\n\nChange-Id: Ia892ccb629b7ef7cb80d549fbe1c684e9b93c0fc\n(cherry picked from commit c463d2068e256cb2baca8b5af329c1866b1f673e)\n'}]",0,808972,c975949255926a2a11301cbd82a864aa906e38d3,9,5,1,11090,,,0,"Install python3-openstackclient after the leapp upgrade

The package is part of the base image, but when doing a leapp
upgrade it is removed because it is not part of the standard
RHEL repositories.

Resolves: rhbz#1994919

Change-Id: Ia892ccb629b7ef7cb80d549fbe1c684e9b93c0fc
(cherry picked from commit c463d2068e256cb2baca8b5af329c1866b1f673e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/808972/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,c975949255926a2a11301cbd82a864aa906e38d3,rhbz_1994919-stable/wallaby, - python3-openstackclient,,1,0
openstack%2Ftripleo-quickstart-extras~master~I4e85b9f4074bd4c35d5b9b486089adc9a58c31d0,openstack/tripleo-quickstart-extras,master,I4e85b9f4074bd4c35d5b9b486089adc9a58c31d0,Refactor inject_images for whole disk images,MERGED,2021-07-20 01:47:48.000000000,2021-09-15 14:02:00.000000000,2021-09-15 14:02:00.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-20 01:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/488cfe3375ce690492f96bd31fd98a47edb59bf2', 'message': 'Refactor inject_images for whole disk images\n\nWhen whole_disk_images is true, inject_images will contain 3 items\ninstead of 5. This kind of conditional value cannot be set in a\ndefaults yaml file. This change moves inject_images to a set_fact in\nthe build-images tasks.\n\nIt is possible to disable image injection by setting variable\ninject_images: [].\n\ntripleo-quickstart has an equivalent change\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/801408\n\nChange-Id: I4e85b9f4074bd4c35d5b9b486089adc9a58c31d0\nBlueprint: whole-disk-default\n'}, {'number': 2, 'created': '2021-07-20 02:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e7f4592680c59272010511323d0cf46e5078ca29', 'message': 'Refactor inject_images for whole disk images\n\nWhen whole_disk_images is true, inject_images will contain 3 items\ninstead of 5. This kind of conditional value cannot be set in a\ndefaults yaml file. This change moves inject_images to a set_fact in\nthe build-images tasks.\n\nIt is possible to disable image injection by setting variable\ninject_images: [].\n\nThe variable image_build_extract_list is given the same treatment,\nalthough it looks like build_image_isolated is never true anymore.\n\ntripleo-quickstart has an equivalent change\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/801408\n\nChange-Id: I4e85b9f4074bd4c35d5b9b486089adc9a58c31d0\nBlueprint: whole-disk-default\n'}, {'number': 3, 'created': '2021-07-20 02:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d05e5d022a35a18cc09c3ea53ba3634f7d77ccf6', 'message': 'Refactor inject_images for whole disk images\n\nWhen whole_disk_images is true, inject_images will contain 3 items\ninstead of 5. This kind of conditional value cannot be set in a\ndefaults yaml file. This change moves inject_images to a set_fact in\nthe build-images tasks.\n\nIt is possible to disable image injection by setting variable\ninject_images: [].\n\nThe variable image_build_extract_list is given the same treatment,\nalthough it looks like build_image_isolated is never true anymore.\n\ntripleo-quickstart has an equivalent change\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/801408\n\nChange-Id: I4e85b9f4074bd4c35d5b9b486089adc9a58c31d0\nBlueprint: whole-disk-default\n'}, {'number': 4, 'created': '2021-07-22 04:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3b66aef980df1d7ea26156f010ad9bacba2e7719', 'message': 'Refactor inject_images for whole disk images\n\nWhen whole_disk_images is true, inject_images will contain 3 items\ninstead of 5. This kind of conditional value cannot be set in a\ndefaults yaml file. This change moves inject_images to a set_fact in\nthe build-images tasks.\n\nIt is possible to disable image injection by setting variable\ninject_images: [].\n\nThe variable image_build_extract_list is given the same treatment,\nalthough it looks like build_image_isolated is never true anymore.\n\ntripleo-quickstart has an equivalent change\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/801408\n\nChange-Id: I4e85b9f4074bd4c35d5b9b486089adc9a58c31d0\nBlueprint: whole-disk-default\n'}, {'number': 5, 'created': '2021-07-27 03:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6b92a03ae265544fd3307f09cbda210065aaefd8', 'message': 'Refactor inject_images for whole disk images\n\nWhen whole_disk_images is true, inject_images will contain 3 items\ninstead of 5. This kind of conditional value cannot be set in a\ndefaults yaml file. This change moves inject_images to a set_fact in\nthe build-images tasks.\n\nIt is possible to disable image injection by setting variable\ninject_images: [].\n\nThe variable image_build_extract_list is given the same treatment,\nalthough it looks like build_image_isolated is never true anymore.\n\ntripleo-quickstart has an equivalent change\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/801408\n\nChange-Id: I4e85b9f4074bd4c35d5b9b486089adc9a58c31d0\nBlueprint: whole-disk-default\n'}, {'number': 6, 'created': '2021-08-24 04:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/74d1eb4c750158022aa97c654e78fafef1d3c092', 'message': 'Refactor inject_images for whole disk images\n\nWhen whole_disk_images is true, inject_images will contain 3 items\ninstead of 5. This kind of conditional value cannot be set in a\ndefaults yaml file. This change moves inject_images to a set_fact in\nthe build-images tasks.\n\nIt is possible to disable image injection by setting variable\ninject_images: [].\n\nThe variable image_build_extract_list is given the same treatment,\nalthough it looks like build_image_isolated is never true anymore.\n\ntripleo-quickstart has an equivalent change\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/801408\n\nChange-Id: I4e85b9f4074bd4c35d5b9b486089adc9a58c31d0\nBlueprint: whole-disk-default\n'}, {'number': 7, 'created': '2021-09-10 02:01:37.000000000', 'files': ['roles/build-images/README.md', 'roles/build-images/tasks/main.yml', 'roles/build-images/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/aaa56fdf7c5b9775065fedf0292b753c580dc311', 'message': 'Refactor inject_images for whole disk images\n\nWhen whole_disk_images is true, inject_images will contain 3 items\ninstead of 5. This kind of conditional value cannot be set in a\ndefaults yaml file. This change moves inject_images to a set_fact in\nthe build-images tasks.\n\nIt is possible to disable image injection by setting variable\ninject_images: [].\n\nThe variable image_build_extract_list is given the same treatment,\nalthough it looks like build_image_isolated is never true anymore.\n\ntripleo-quickstart has an equivalent change\nhttps://review.opendev.org/c/openstack/tripleo-quickstart/+/801408\n\nChange-Id: I4e85b9f4074bd4c35d5b9b486089adc9a58c31d0\nBlueprint: whole-disk-default\n'}]",7,801411,aaa56fdf7c5b9775065fedf0292b753c580dc311,45,6,7,4571,,,0,"Refactor inject_images for whole disk images

When whole_disk_images is true, inject_images will contain 3 items
instead of 5. This kind of conditional value cannot be set in a
defaults yaml file. This change moves inject_images to a set_fact in
the build-images tasks.

It is possible to disable image injection by setting variable
inject_images: [].

The variable image_build_extract_list is given the same treatment,
although it looks like build_image_isolated is never true anymore.

tripleo-quickstart has an equivalent change
https://review.opendev.org/c/openstack/tripleo-quickstart/+/801408

Change-Id: I4e85b9f4074bd4c35d5b9b486089adc9a58c31d0
Blueprint: whole-disk-default
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/11/801411/7 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-images/README.md', 'roles/build-images/tasks/main.yml', 'roles/build-images/defaults/main.yml']",3,488cfe3375ce690492f96bd31fd98a47edb59bf2,bp/whole-disk-default,,"inject_images: - ""ironic-python-agent.initramfs"" - ""ironic-python-agent.kernel"" - ""overcloud-full.qcow2"" - ""overcloud-full.initrd"" - ""overcloud-full.vmlinuz""",24,7
openstack%2Fopenstack-tempest-skiplist~master~Id9ecad92f3f228848352664f5db4d26623a40947,openstack/openstack-tempest-skiplist,master,Id9ecad92f3f228848352664f5db4d26623a40947,Add test_minimum_basic_scenario to skiplist - master,MERGED,2021-04-09 12:37:48.000000000,2021-09-15 14:01:21.000000000,2021-04-09 13:15:26.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-04-09 12:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/f46ea4568620af725418488adca0508a8dd04e7a', 'message': 'Add test_minimum_basic_scenario to skiplist - master\n\ntempest.scenario.test_minimum_basic.\nTestMinimumBasicScenario.test_minimum_basic_scenario\nis failing in master promotions.\n\nAdding to the skiplist to enable promotions while\ndebug is in progress.\n\nChange-Id: Id9ecad92f3f228848352664f5db4d26623a40947\nRelated-Bug: #1923194\n'}, {'number': 2, 'created': '2021-04-09 12:49:02.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/8fa5c323ca54a40e32e4e7952a8e6b190ebb4841', 'message': 'Add test_minimum_basic_scenario to skiplist - master\n\ntempest.scenario.test_minimum_basic.\nTestMinimumBasicScenario.test_minimum_basic_scenario\nis failing in master promotions.\n\nAdding to the skiplist to enable promotions while\ndebug is in progress.\n\nChange-Id: Id9ecad92f3f228848352664f5db4d26623a40947\nRelated-Bug: #1923194\n'}]",0,785631,8fa5c323ca54a40e32e4e7952a8e6b190ebb4841,12,5,2,9976,,,0,"Add test_minimum_basic_scenario to skiplist - master

tempest.scenario.test_minimum_basic.
TestMinimumBasicScenario.test_minimum_basic_scenario
is failing in master promotions.

Adding to the skiplist to enable promotions while
debug is in progress.

Change-Id: Id9ecad92f3f228848352664f5db4d26623a40947
Related-Bug: #1923194
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/31/785631/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,f46ea4568620af725418488adca0508a8dd04e7a,bug1923194, - test: tempest.scenario.test_minimum_basic.TestMinimumBasicScenario.test_minimum_basic_scenario deployment: - overcloud releases: - name: master reason: Failed to find floating IP lp: https://bugs.launchpad.net/tripleo/+bug/1923194 jobs: - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-master - periodic-tripleo-ci-centos-8-ovb-1ctlr_2comp-featureset020-master,,10,0
openstack%2Ftripleo-ansible~master~I943e7820f5c35901ce561262aa3c0824ede98359,openstack/tripleo-ansible,master,I943e7820f5c35901ce561262aa3c0824ede98359,bnr change the name of the var to more generic names,MERGED,2021-09-13 06:31:07.000000000,2021-09-15 13:52:24.000000000,2021-09-15 13:52:24.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-09-13 06:31:07.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/molecule/default/converge.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a178a2bfe7ea2f6fc07f0895773af2ad6ac8216d', 'message': 'bnr change the name of the var to more generic names\n\nThe following work regarding backup and restore is to integrate it\nwith ironic. To avoid the duplication of the variables, some\nvariables need to change their names.\n\nChange-Id: I943e7820f5c35901ce561262aa3c0824ede98359\n'}]",2,808581,a178a2bfe7ea2f6fc07f0895773af2ad6ac8216d,12,7,1,22954,,,0,"bnr change the name of the var to more generic names

The following work regarding backup and restore is to integrate it
with ironic. To avoid the duplication of the variables, some
variables need to change their names.

Change-Id: I943e7820f5c35901ce561262aa3c0824ede98359
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/81/808581/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/molecule/default/converge.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",5,a178a2bfe7ea2f6fc07f0895773af2ad6ac8216d,bnr_common,"tripleo_backup_and_restore_server: 192.168.24.1 tripleo_backup_and_restore_shared_storage_folder: /ctl_plane_backups tripleo_backup_and_restore_clients_nets: ['192.168.24.0/24', '10.0.0.0/24', '172.16.0.0/24']tripleo_backup_and_restore_exclude_paths_common: ['/data/*', '/tmp/*', '{{ tripleo_backup_and_restore_shared_storage_folder }}/*']tripleo_backup_and_restore_output_url: ""nfs://{{ tripleo_backup_and_restore_server }}/ctl_plane_backups"" tripleo_backup_and_restore_backup_url: ""nfs://{{ tripleo_backup_and_restore_server }}/ctl_plane_backups""# Skip the ping test to the server on rear setup tripleo_backup_and_restore_skip_server_test: false","tripleo_backup_and_restore_nfs_server: 192.168.24.1 tripleo_backup_and_restore_nfs_storage_folder: /ctl_plane_backups tripleo_backup_and_restore_nfs_clients_nets: ['192.168.24.0/24', '10.0.0.0/24', '172.16.0.0/24']tripleo_backup_and_restore_exclude_paths_common: ['/data/*', '/tmp/*', '{{ tripleo_backup_and_restore_nfs_storage_folder }}/*']tripleo_backup_and_restore_output_url: ""nfs://{{ tripleo_backup_and_restore_nfs_server }}/ctl_plane_backups"" tripleo_backup_and_restore_backup_url: ""nfs://{{ tripleo_backup_and_restore_nfs_server }}/ctl_plane_backups""# Skip the ping test to the NFS server on rear setup tripleo_backup_and_restore_skip_nfs_test: false",17,17
openstack%2Fopenstack-ansible~stable%2Fwallaby~Id73348944e1a86f328bfc7647b4ca25976d0afba,openstack/openstack-ansible,stable/wallaby,Id73348944e1a86f328bfc7647b4ca25976d0afba,Fix ceph-ansible shallow_since date,MERGED,2021-09-14 16:34:33.000000000,2021-09-15 13:40:08.000000000,2021-09-15 13:35:26.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-09-14 16:34:33.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ea7a445d116bfd41e8536eb2b164194e190330b8', 'message': ""Fix ceph-ansible shallow_since date\n\nIn bump script I didn't took into account timezones, so while\ndate is correct, it might be from the future.\nIe commit merged at 01:40 in UTC+4. This means\nthat clone would fail in cases when you're in timezone earlier then UTC+2\n\nChange-Id: Id73348944e1a86f328bfc7647b4ca25976d0afba\n""}]",0,808999,ea7a445d116bfd41e8536eb2b164194e190330b8,12,3,1,28619,,,0,"Fix ceph-ansible shallow_since date

In bump script I didn't took into account timezones, so while
date is correct, it might be from the future.
Ie commit merged at 01:40 in UTC+4. This means
that clone would fail in cases when you're in timezone earlier then UTC+2

Change-Id: Id73348944e1a86f328bfc7647b4ca25976d0afba
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/99/808999/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,ea7a445d116bfd41e8536eb2b164194e190330b8,, shallow_since: '2021-09-08', shallow_since: '2021-09-09',1,1
openstack%2Fec2-api~stable%2Fpike~Ibf56c509b61a132c48af7007cb722912d770ec72,openstack/ec2-api,stable/pike,Ibf56c509b61a132c48af7007cb722912d770ec72,Remove jobs corresponds to obselete featuresets,MERGED,2021-09-14 13:00:55.000000000,2021-09-15 13:35:36.000000000,2021-09-15 13:35:36.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 13:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/eef1b759516e294edef3d08bbae997d1ea1f20c8', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: Ibf56c509b61a132c48af7007cb722912d770ec72\n'}, {'number': 2, 'created': '2021-09-15 12:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/42af47d22ab1893d066827338f8562b5c18595b1', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: Ibf56c509b61a132c48af7007cb722912d770ec72\n'}, {'number': 3, 'created': '2021-09-15 13:11:58.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/9b3959978bfc28a1806b5f3fd8618d8cddaa776e', 'message': 'Remove jobs corresponds to obselete featuresets\n\nAs we are removing the jobs which are using the obselete featuresets [1]\nso removing those jobs from templates/layouts\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: Ibf56c509b61a132c48af7007cb722912d770ec72\n'}]",0,808940,9b3959978bfc28a1806b5f3fd8618d8cddaa776e,16,2,3,20182,,,0,"Remove jobs corresponds to obselete featuresets

As we are removing the jobs which are using the obselete featuresets [1]
so removing those jobs from templates/layouts

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: Ibf56c509b61a132c48af7007cb722912d770ec72
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/40/808940/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,eef1b759516e294edef3d08bbae997d1ea1f20c8,cleanup_featuresets_from_old_branches,," check: jobs: # TripleO jobs that deploy ec2-api. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # tripleo-ci-centos-7-scenario002-multinode-oooq-container will # run in Pike and beyond. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - tripleo-ci-centos-7-scenario002-multinode-oooq-container: voting: false",0,11
openstack%2Fswift~master~Ibc0fe151ccd5a33c552bb72a3cd200642a0d8131,openstack/swift,master,Ibc0fe151ccd5a33c552bb72a3cd200642a0d8131,Clean up extra spaces,MERGED,2021-09-15 01:47:55.000000000,2021-09-15 13:20:02.000000000,2021-09-15 13:18:07.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 01:47:55.000000000', 'files': ['tools/playbooks/multinode_setup/common_config.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/9facfdc9582b016ca036d84e62c57714265cf7d2', 'message': 'Clean up extra spaces\n\nAlthough these errors are not important, they affect the code specification.\n\nChange-Id: Ibc0fe151ccd5a33c552bb72a3cd200642a0d8131\n'}]",0,809028,9facfdc9582b016ca036d84e62c57714265cf7d2,16,2,1,30449,,,0,"Clean up extra spaces

Although these errors are not important, they affect the code specification.

Change-Id: Ibc0fe151ccd5a33c552bb72a3cd200642a0d8131
",git fetch https://review.opendev.org/openstack/swift refs/changes/28/809028/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/playbooks/multinode_setup/common_config.yaml'],1,9facfdc9582b016ca036d84e62c57714265cf7d2,, path: '/var/run/swift', path: '/var/run/swift' ,1,1
openstack%2Fpython-cinderclient~stable%2Fvictoria~I2e2aa24e1592b66b287c84eda97b5079c40a36ec,openstack/python-cinderclient,stable/victoria,I2e2aa24e1592b66b287c84eda97b5079c40a36ec,Remove skip_missing_interpreters,MERGED,2021-07-13 12:49:33.000000000,2021-09-15 13:15:38.000000000,2021-09-15 13:10:03.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-07-13 12:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/ead37daa6a28924ca98d7b7ff9dec447bab2e7e1', 'message': ""Remove skip_missing_interpreters\n\nThis prevents a job reporting 'success' when the appropriate python\ninterpreter cannot be found, when actually it didn't run at all.\nAlso change the default envlist to use generic 'py3' instead of a\nspecific version which might not be present.\n\nAlso change zuul config so the python-cinderclient-functional-py36\njob runs on centos-8-stream nodes, where py36 should be available.\nAnd change bindep.txt to specify the correct package name for\ncentos-8.\n\nJeremy Stanley has given a more thorough explanation of why this\nis a good change:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014810.html\n\nThis isn't a theoretical issue.  If you look at recent\npython-cinderclient-functional-py36 job results (for example,\n[0]), you'll see that Zuul reported 'success', but on a closer look,\nyou'll see that no tests were run.\n\n[0] https://zuul.opendev.org/t/openstack/build/1bfc80638086405f8b29905cdd6f71be/log/job-output.txt#25470\n\nChange-Id: I2e2aa24e1592b66b287c84eda97b5079c40a36ec\n(cherry picked from commit b891c9980f316bd603a9f1429eebad41adf43825)\n(cherry picked from commit 4c6c3b49b5334518be1b776d32fada394743142f)\n""}, {'number': 2, 'created': '2021-07-14 13:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/ef3abe7af99bb616431f5c2d82d790c85920d657', 'message': ""Remove skip_missing_interpreters\n\nThis prevents a job reporting 'success' when the appropriate python\ninterpreter cannot be found, when actually it didn't run at all.\nAlso change the default envlist to use generic 'py3' instead of a\nspecific version which might not be present.\n\nAlso change zuul config so the python-cinderclient-functional-py36\njob runs on centos-8-stream nodes, where py36 should be available.\nAnd change bindep.txt to specify the correct package name for\ncentos-8.\n\nJeremy Stanley has given a more thorough explanation of why this\nis a good change:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014810.html\n\nThis isn't a theoretical issue.  If you look at recent\npython-cinderclient-functional-py36 job results (for example,\n[0]), you'll see that Zuul reported 'success', but on a closer look,\nyou'll see that no tests were run.\n\n[0] https://zuul.opendev.org/t/openstack/build/1bfc80638086405f8b29905cdd6f71be/log/job-output.txt#25470\n\nChange-Id: I2e2aa24e1592b66b287c84eda97b5079c40a36ec\n(cherry picked from commit b891c9980f316bd603a9f1429eebad41adf43825)\n(cherry picked from commit 4c6c3b49b5334518be1b776d32fada394743142f)\nchanged:\n  .zuul.yaml - using centos-8 node (-stream not defined in victoria)\n""}, {'number': 3, 'created': '2021-07-29 16:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/5497f5af5b5a950f517d6a2e689b4c9bb6803237', 'message': ""Remove skip_missing_interpreters\n\nThis prevents a job reporting 'success' when the appropriate python\ninterpreter cannot be found, when actually it didn't run at all.\nAlso change the default envlist to use generic 'py3' instead of a\nspecific version which might not be present.\n\nAlso change zuul config so the python-cinderclient-functional-py36\njob runs on centos-8-stream nodes, where py36 should be available.\nAnd change bindep.txt to specify the correct package name for\ncentos-8.\n\nJeremy Stanley has given a more thorough explanation of why this\nis a good change:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014810.html\n\nThis isn't a theoretical issue.  If you look at recent\npython-cinderclient-functional-py36 job results (for example,\n[0]), you'll see that Zuul reported 'success', but on a closer look,\nyou'll see that no tests were run.\n\n[0] https://zuul.opendev.org/t/openstack/build/1bfc80638086405f8b29905cdd6f71be/log/job-output.txt#25470\n\nChange-Id: I2e2aa24e1592b66b287c84eda97b5079c40a36ec\n(cherry picked from commit b891c9980f316bd603a9f1429eebad41adf43825)\n(cherry picked from commit 4c6c3b49b5334518be1b776d32fada394743142f)\nchanged:\n  .zuul.yaml - using opensuse-15 node\n""}, {'number': 4, 'created': '2021-07-29 17:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/1ced420b73acff9468624ca6d30e328ed088b5e9', 'message': ""Remove skip_missing_interpreters\n\nThis prevents a job reporting 'success' when the appropriate python\ninterpreter cannot be found, when actually it didn't run at all.\nAlso change the default envlist to use generic 'py3' instead of a\nspecific version which might not be present.\n\nAlso change zuul config so the python-cinderclient-functional-py36\njob runs on centos-8-stream nodes, where py36 should be available.\nAnd change bindep.txt to specify the correct package name for\ncentos-8.\n\nJeremy Stanley has given a more thorough explanation of why this\nis a good change:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014810.html\n\nThis isn't a theoretical issue.  If you look at recent\npython-cinderclient-functional-py36 job results (for example,\n[0]), you'll see that Zuul reported 'success', but on a closer look,\nyou'll see that no tests were run.\n\n[0] https://zuul.opendev.org/t/openstack/build/1bfc80638086405f8b29905cdd6f71be/log/job-output.txt#25470\n\nChange-Id: I2e2aa24e1592b66b287c84eda97b5079c40a36ec\n(cherry picked from commit b891c9980f316bd603a9f1429eebad41adf43825)\n(cherry picked from commit 4c6c3b49b5334518be1b776d32fada394743142f)\nchanged:\n  .zuul.yaml - using centos-8 node\n""}, {'number': 5, 'created': '2021-07-30 18:44:07.000000000', 'files': ['bindep.txt', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/2239d425f9ef38270bd309f55fb75401641ea59d', 'message': ""Remove skip_missing_interpreters\n\nThis prevents a job reporting 'success' when the appropriate python\ninterpreter cannot be found, when actually it didn't run at all.\nAlso change the default envlist to use generic 'py3' instead of a\nspecific version which might not be present.\n\nAlso change zuul config so the python-cinderclient-functional-py36\njob runs on centos-8-stream nodes, where py36 should be available.\nAnd change bindep.txt to specify the correct package name for\ncentos-8.\n\nJeremy Stanley has given a more thorough explanation of why this\nis a good change:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014810.html\n\nThis isn't a theoretical issue.  If you look at recent\npython-cinderclient-functional-py36 job results (for example,\n[0]), you'll see that Zuul reported 'success', but on a closer look,\nyou'll see that no tests were run.\n\n[0] https://zuul.opendev.org/t/openstack/build/1bfc80638086405f8b29905cdd6f71be/log/job-output.txt#25470\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/803072\n\nChange-Id: I2e2aa24e1592b66b287c84eda97b5079c40a36ec\n(cherry picked from commit b891c9980f316bd603a9f1429eebad41adf43825)\n(cherry picked from commit 4c6c3b49b5334518be1b776d32fada394743142f)\nchanged:\n  .zuul.yaml - using centos-8 node\n""}]",0,800635,2239d425f9ef38270bd309f55fb75401641ea59d,26,5,5,5314,,,0,"Remove skip_missing_interpreters

This prevents a job reporting 'success' when the appropriate python
interpreter cannot be found, when actually it didn't run at all.
Also change the default envlist to use generic 'py3' instead of a
specific version which might not be present.

Also change zuul config so the python-cinderclient-functional-py36
job runs on centos-8-stream nodes, where py36 should be available.
And change bindep.txt to specify the correct package name for
centos-8.

Jeremy Stanley has given a more thorough explanation of why this
is a good change:
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014810.html

This isn't a theoretical issue.  If you look at recent
python-cinderclient-functional-py36 job results (for example,
[0]), you'll see that Zuul reported 'success', but on a closer look,
you'll see that no tests were run.

[0] https://zuul.opendev.org/t/openstack/build/1bfc80638086405f8b29905cdd6f71be/log/job-output.txt#25470

Depends-on: https://review.opendev.org/c/openstack/devstack/+/803072

Change-Id: I2e2aa24e1592b66b287c84eda97b5079c40a36ec
(cherry picked from commit b891c9980f316bd603a9f1429eebad41adf43825)
(cherry picked from commit 4c6c3b49b5334518be1b776d32fada394743142f)
changed:
  .zuul.yaml - using centos-8 node
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/35/800635/4 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', '.zuul.yaml', 'tox.ini']",3,ead37daa6a28924ca98d7b7ff9dec447bab2e7e1,skip-missing-interp,"envlist = py3,pep8 minversion = 3.18.0","envlist = py36,py38,pep8 minversion = 3.1.0skip_missing_interpreters = true",6,6
openstack%2Fzun~stable%2Fxena~Ied404d0af50dd982dbf7f6c0e528335cc2321aba,openstack/zun,stable/xena,Ied404d0af50dd982dbf7f6c0e528335cc2321aba,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-15 02:11:29.000000000,2021-09-15 13:13:37.000000000,2021-09-15 13:07:10.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:11:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/zun/commit/3784d99f0cd27a7cf1fd674478b7254d0a35d9e2', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ied404d0af50dd982dbf7f6c0e528335cc2321aba\n'}]",0,809078,3784d99f0cd27a7cf1fd674478b7254d0a35d9e2,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ied404d0af50dd982dbf7f6c0e528335cc2321aba
",git fetch https://review.opendev.org/openstack/zun refs/changes/78/809078/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3784d99f0cd27a7cf1fd674478b7254d0a35d9e2,create-xena,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena},deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fkuryr-libnetwork~stable%2Fxena~I1d4897fe9de7b5ca49c8e504209102c348b0da49,openstack/kuryr-libnetwork,stable/xena,I1d4897fe9de7b5ca49c8e504209102c348b0da49,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-15 02:30:56.000000000,2021-09-15 13:09:14.000000000,2021-09-15 13:07:20.000000000,"[{'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:30:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/757b8c66512bf706892d3ec777cde9afdfed4967', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I1d4897fe9de7b5ca49c8e504209102c348b0da49\n'}]",0,809096,757b8c66512bf706892d3ec777cde9afdfed4967,8,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I1d4897fe9de7b5ca49c8e504209102c348b0da49
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/96/809096/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,757b8c66512bf706892d3ec777cde9afdfed4967,create-xena,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fzun~stable%2Fxena~I49f86c5ede54775cb05800f14e28cf0710c36f57,openstack/zun,stable/xena,I49f86c5ede54775cb05800f14e28cf0710c36f57,Update .gitreview for stable/xena,MERGED,2021-09-15 02:11:25.000000000,2021-09-15 13:09:02.000000000,2021-09-15 13:07:09.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:11:25.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/zun/commit/30c6b12e15491d5708516f01cb078a33731b4b43', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I49f86c5ede54775cb05800f14e28cf0710c36f57\n'}]",0,809077,30c6b12e15491d5708516f01cb078a33731b4b43,7,2,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I49f86c5ede54775cb05800f14e28cf0710c36f57
",git fetch https://review.opendev.org/openstack/zun refs/changes/77/809077/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,30c6b12e15491d5708516f01cb078a33731b4b43,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fzun~master~I3dd79d364b91302234be31333bdfdf5c8c6a00aa,openstack/zun,master,I3dd79d364b91302234be31333bdfdf5c8c6a00aa,Update master for stable/xena,MERGED,2021-09-15 02:11:32.000000000,2021-09-15 13:09:02.000000000,2021-09-15 13:07:07.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:11:32.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/zun/commit/ca703064cd24754a7165ffda94b54e08ff6a5525', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: I3dd79d364b91302234be31333bdfdf5c8c6a00aa\n'}]",0,809079,ca703064cd24754a7165ffda94b54e08ff6a5525,7,2,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: I3dd79d364b91302234be31333bdfdf5c8c6a00aa
",git fetch https://review.opendev.org/openstack/zun refs/changes/79/809079/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,ca703064cd24754a7165ffda94b54e08ff6a5525,reno-xena, xena,,7,0
openstack%2Fkuryr-libnetwork~stable%2Fxena~Id85a12477bedfa04dce079607c325852c9edde87,openstack/kuryr-libnetwork,stable/xena,Id85a12477bedfa04dce079607c325852c9edde87,Update .gitreview for stable/xena,MERGED,2021-09-15 02:30:54.000000000,2021-09-15 13:07:45.000000000,2021-09-15 13:06:17.000000000,"[{'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:30:54.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/902f59406004d9d2a6a7901d913c39c7c6a58a09', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: Id85a12477bedfa04dce079607c325852c9edde87\n'}]",0,809095,902f59406004d9d2a6a7901d913c39c7c6a58a09,8,3,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: Id85a12477bedfa04dce079607c325852c9edde87
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/95/809095/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,902f59406004d9d2a6a7901d913c39c7c6a58a09,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fnetworking-bgpvpn~stable%2Fxena~Ib5bfcb22913de3f0385770af7bbbfb7193d919e8,openstack/networking-bgpvpn,stable/xena,Ib5bfcb22913de3f0385770af7bbbfb7193d919e8,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-15 02:10:06.000000000,2021-09-15 13:07:39.000000000,2021-09-15 13:04:06.000000000,"[{'_account_id': 8313}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:10:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/5961b8666047663e4f82476f65f2587ecce67b95', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ib5bfcb22913de3f0385770af7bbbfb7193d919e8\n'}]",0,809050,5961b8666047663e4f82476f65f2587ecce67b95,8,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ib5bfcb22913de3f0385770af7bbbfb7193d919e8
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/50/809050/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5961b8666047663e4f82476f65f2587ecce67b95,create-xena,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena},deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fnetworking-odl~stable%2Fxena~Id138b448c625292b0948ad02a066507923dc076c,openstack/networking-odl,stable/xena,Id138b448c625292b0948ad02a066507923dc076c,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-15 02:11:49.000000000,2021-09-15 13:07:14.000000000,2021-09-15 13:05:21.000000000,"[{'_account_id': 8313}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:11:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d90a8f3aeac6d6a4477ffbf2ac86c167c2fb7304', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Id138b448c625292b0948ad02a066507923dc076c\n'}]",0,809085,d90a8f3aeac6d6a4477ffbf2ac86c167c2fb7304,8,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Id138b448c625292b0948ad02a066507923dc076c
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/85/809085/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d90a8f3aeac6d6a4477ffbf2ac86c167c2fb7304,create-xena,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena},deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},6,6
openstack%2Fnetworking-bagpipe~stable%2Fxena~Ie1cd67a56112f61764caf928699d763676fcd473,openstack/networking-bagpipe,stable/xena,Ie1cd67a56112f61764caf928699d763676fcd473,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-15 02:10:19.000000000,2021-09-15 13:07:02.000000000,2021-09-15 13:04:48.000000000,"[{'_account_id': 8313}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:10:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/fb63c4514a6d280e3692ae987c9ae15d7a3821bd', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ie1cd67a56112f61764caf928699d763676fcd473\n'}]",0,809056,fb63c4514a6d280e3692ae987c9ae15d7a3821bd,8,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ie1cd67a56112f61764caf928699d763676fcd473
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/56/809056/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fb63c4514a6d280e3692ae987c9ae15d7a3821bd,create-xena,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fkuryr-libnetwork~master~If5886e167889b1c02aeee932dda70d386b6968f7,openstack/kuryr-libnetwork,master,If5886e167889b1c02aeee932dda70d386b6968f7,Update master for stable/xena,MERGED,2021-09-15 02:30:57.000000000,2021-09-15 13:06:26.000000000,2021-09-15 13:04:28.000000000,"[{'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:30:57.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/5c0721832a1797188f1917fcbf44b7cc29f06f25', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: If5886e167889b1c02aeee932dda70d386b6968f7\n'}]",0,809097,5c0721832a1797188f1917fcbf44b7cc29f06f25,11,3,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: If5886e167889b1c02aeee932dda70d386b6968f7
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/97/809097/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,5c0721832a1797188f1917fcbf44b7cc29f06f25,reno-xena, xena,,7,0
openstack%2Fnetworking-bgpvpn~stable%2Fxena~I135c0685495359ed7056db0f2eb18e0d21a8aaad,openstack/networking-bgpvpn,stable/xena,I135c0685495359ed7056db0f2eb18e0d21a8aaad,Update .gitreview for stable/xena,MERGED,2021-09-15 02:10:05.000000000,2021-09-15 13:06:07.000000000,2021-09-15 13:04:05.000000000,"[{'_account_id': 8313}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:10:05.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/30091df1c6ecb0fec784917d4aa55a6e8535bc59', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I135c0685495359ed7056db0f2eb18e0d21a8aaad\n'}]",0,809049,30091df1c6ecb0fec784917d4aa55a6e8535bc59,8,3,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I135c0685495359ed7056db0f2eb18e0d21a8aaad
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/49/809049/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,30091df1c6ecb0fec784917d4aa55a6e8535bc59,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fnetworking-odl~stable%2Fxena~I86c8c6d49fbfcbbeb8589016882bf8007f9c1930,openstack/networking-odl,stable/xena,I86c8c6d49fbfcbbeb8589016882bf8007f9c1930,Update .gitreview for stable/xena,MERGED,2021-09-15 02:11:45.000000000,2021-09-15 13:04:23.000000000,2021-09-15 13:02:42.000000000,"[{'_account_id': 8313}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:11:45.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d0430249c047dc42b70ff250e5068984367de896', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I86c8c6d49fbfcbbeb8589016882bf8007f9c1930\n'}]",0,809084,d0430249c047dc42b70ff250e5068984367de896,8,3,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I86c8c6d49fbfcbbeb8589016882bf8007f9c1930
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/84/809084/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,d0430249c047dc42b70ff250e5068984367de896,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Faodh~stable%2Fxena~Ide5a4d8c820ac0f3a01df8cd6967ba1bce6d74ad,openstack/aodh,stable/xena,Ide5a4d8c820ac0f3a01df8cd6967ba1bce6d74ad,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-15 01:59:48.000000000,2021-09-15 13:03:45.000000000,2021-09-15 12:59:43.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 01:59:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/aodh/commit/5ac3421cf49cc9ecb972ae856200fce934c54a42', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ide5a4d8c820ac0f3a01df8cd6967ba1bce6d74ad\n'}]",0,809038,5ac3421cf49cc9ecb972ae856200fce934c54a42,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ide5a4d8c820ac0f3a01df8cd6967ba1bce6d74ad
",git fetch https://review.opendev.org/openstack/aodh refs/changes/38/809038/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5ac3421cf49cc9ecb972ae856200fce934c54a42,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
openstack%2Fnetworking-bagpipe~stable%2Fxena~I212ec3cf590c7b528932b321a8913b10e65f6e8d,openstack/networking-bagpipe,stable/xena,I212ec3cf590c7b528932b321a8913b10e65f6e8d,Update .gitreview for stable/xena,MERGED,2021-09-15 02:10:17.000000000,2021-09-15 13:03:02.000000000,2021-09-15 13:00:42.000000000,"[{'_account_id': 8313}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:10:17.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/27dc19cb08fce4ea71de40dca8781cf3c1d4daec', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I212ec3cf590c7b528932b321a8913b10e65f6e8d\n'}]",0,809054,27dc19cb08fce4ea71de40dca8781cf3c1d4daec,8,3,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I212ec3cf590c7b528932b321a8913b10e65f6e8d
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/54/809054/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,27dc19cb08fce4ea71de40dca8781cf3c1d4daec,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Faodh~stable%2Fxena~Id7dd03c688f70bc7c7ff8adccff69381ac23fbf3,openstack/aodh,stable/xena,Id7dd03c688f70bc7c7ff8adccff69381ac23fbf3,Update .gitreview for stable/xena,MERGED,2021-09-15 01:59:46.000000000,2021-09-15 13:02:08.000000000,2021-09-15 12:59:42.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 01:59:46.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/aodh/commit/eb8b0f19508a2e1a4e9e03d11d1bf0d53df081bf', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: Id7dd03c688f70bc7c7ff8adccff69381ac23fbf3\n'}]",0,809037,eb8b0f19508a2e1a4e9e03d11d1bf0d53df081bf,7,2,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: Id7dd03c688f70bc7c7ff8adccff69381ac23fbf3
",git fetch https://review.opendev.org/openstack/aodh refs/changes/37/809037/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,eb8b0f19508a2e1a4e9e03d11d1bf0d53df081bf,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fceilometer~master~Ieefaac3c851da54b5da0bd8826d4cd1590ecfe33,openstack/ceilometer,master,Ieefaac3c851da54b5da0bd8826d4cd1590ecfe33,Update master for stable/xena,MERGED,2021-09-15 01:59:54.000000000,2021-09-15 13:00:57.000000000,2021-09-15 12:57:39.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 01:59:54.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/055e77465db2ba4fc7f33eff6534b130c63f1994', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: Ieefaac3c851da54b5da0bd8826d4cd1590ecfe33\n'}]",0,809043,055e77465db2ba4fc7f33eff6534b130c63f1994,7,2,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: Ieefaac3c851da54b5da0bd8826d4cd1590ecfe33
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/43/809043/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,055e77465db2ba4fc7f33eff6534b130c63f1994,reno-xena, xena,,7,0
openstack%2Faodh~master~I5276b167fcd3cb277da309a017e1d502dea88b02,openstack/aodh,master,I5276b167fcd3cb277da309a017e1d502dea88b02,Update master for stable/xena,MERGED,2021-09-15 01:59:49.000000000,2021-09-15 13:00:23.000000000,2021-09-15 12:57:31.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 01:59:49.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/aodh/commit/22c5722c04cf7901fdb5da782cc25151c46275a9', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: I5276b167fcd3cb277da309a017e1d502dea88b02\n'}]",0,809040,22c5722c04cf7901fdb5da782cc25151c46275a9,7,2,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: I5276b167fcd3cb277da309a017e1d502dea88b02
",git fetch https://review.opendev.org/openstack/aodh refs/changes/40/809040/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,22c5722c04cf7901fdb5da782cc25151c46275a9,reno-xena, xena,,7,0
openstack%2Fnetworking-ovn~stable%2Ftrain~Ibd0aea5b4e6bf44803d5d0100cacc17d401b03cc,openstack/networking-ovn,stable/train,Ibd0aea5b4e6bf44803d5d0100cacc17d401b03cc,Skip FIP check if VALIDATE_MIGRATION is not True,MERGED,2021-09-07 14:40:29.000000000,2021-09-15 12:58:23.000000000,2021-09-15 12:56:01.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-07 14:40:29.000000000', 'files': ['migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3e43df800dafe03bc0645e50037c358460acfdf0', 'message': 'Skip FIP check if VALIDATE_MIGRATION is not True\n\nOVN migration script fails when VALIDATE_MIGRATION is not set to\nTrue. oc_check_public_network should return successfully in case\nVALIDATE_MIGRATION is set to False.\n\nCloses bug: #1942344\n\nChange-Id: Ibd0aea5b4e6bf44803d5d0100cacc17d401b03cc\n(cherry picked from commit 3c305bf6ae37bd26cda8545bb1a76302dc830dee)\n'}]",0,807738,3e43df800dafe03bc0645e50037c358460acfdf0,8,3,1,6773,,,0,"Skip FIP check if VALIDATE_MIGRATION is not True

OVN migration script fails when VALIDATE_MIGRATION is not set to
True. oc_check_public_network should return successfully in case
VALIDATE_MIGRATION is set to False.

Closes bug: #1942344

Change-Id: Ibd0aea5b4e6bf44803d5d0100cacc17d401b03cc
(cherry picked from commit 3c305bf6ae37bd26cda8545bb1a76302dc830dee)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/38/807738/1 && git format-patch -1 --stdout FETCH_HEAD,['migration/tripleo_environment/ovn_migration.sh'],1,3e43df800dafe03bc0645e50037c358460acfdf0,," [ ""$VALIDATE_MIGRATION"" != ""True"" ] && return 0",,1,0
openstack%2Fceilometer~stable%2Fxena~I8187eefe7273248b79ad7f3ff231de825e7a3b65,openstack/ceilometer,stable/xena,I8187eefe7273248b79ad7f3ff231de825e7a3b65,Update .gitreview for stable/xena,MERGED,2021-09-15 01:59:48.000000000,2021-09-15 12:54:15.000000000,2021-09-15 12:52:30.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 01:59:48.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/4a2faab0ba8ed4fe68e455c49828bf1efe1d86b4', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I8187eefe7273248b79ad7f3ff231de825e7a3b65\n'}]",0,809039,4a2faab0ba8ed4fe68e455c49828bf1efe1d86b4,7,2,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I8187eefe7273248b79ad7f3ff231de825e7a3b65
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/39/809039/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,4a2faab0ba8ed4fe68e455c49828bf1efe1d86b4,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fec2-api~stable%2Fxena~I862fcc1df53e5bf937978966cde0358640a78cf9,openstack/ec2-api,stable/xena,I862fcc1df53e5bf937978966cde0358640a78cf9,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-15 01:32:57.000000000,2021-09-15 12:39:10.000000000,2021-09-15 12:37:01.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 01:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/36aaf349fa123a2ccef210319b1f03a89e94397f', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I862fcc1df53e5bf937978966cde0358640a78cf9\n'}, {'number': 2, 'created': '2021-09-15 07:45:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/e6f4c3019430cdd27feb9213a9227036db5a2a9d', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I862fcc1df53e5bf937978966cde0358640a78cf9\n'}]",0,809025,e6f4c3019430cdd27feb9213a9227036db5a2a9d,9,2,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I862fcc1df53e5bf937978966cde0358640a78cf9
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/25/809025/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,36aaf349fa123a2ccef210319b1f03a89e94397f,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fpython-masakariclient~master~I45609b5bb85fe6bec1c296a55573b0106e4f7905,openstack/python-masakariclient,master,I45609b5bb85fe6bec1c296a55573b0106e4f7905,Fix home_page in setup.cfg,MERGED,2021-09-15 12:14:20.000000000,2021-09-15 12:36:21.000000000,2021-09-15 12:34:47.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-15 12:14:20.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/e3c1bb1449f8d4146142feea5fc21b2b42c114d5', 'message': 'Fix home_page in setup.cfg\n\nChange-Id: I45609b5bb85fe6bec1c296a55573b0106e4f7905\n'}]",0,809176,e3c1bb1449f8d4146142feea5fc21b2b42c114d5,7,2,1,30491,,,0,"Fix home_page in setup.cfg

Change-Id: I45609b5bb85fe6bec1c296a55573b0106e4f7905
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/76/809176/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e3c1bb1449f8d4146142feea5fc21b2b42c114d5,fix-setup-cfg-home-page,home_page = https://docs.openstack.org/python-masakariclient/latest/,home_page = http://www.openstack.org/,1,1
openstack%2Fpython-masakariclient~master~I5a5160a352e793f9cb5ff9649d7b044eb992e3ca,openstack/python-masakariclient,master,I5a5160a352e793f9cb5ff9649d7b044eb992e3ca,Fix url to docs,MERGED,2020-04-20 08:28:57.000000000,2021-09-15 12:22:50.000000000,2021-09-15 12:21:03.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-04-20 08:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/aa59c1ba4ba57a4d2e73ae146489fa8bdab1dff3', 'message': 'closes-Bug: #1873755\n\nChange-Id: I5a5160a352e793f9cb5ff9649d7b044eb992e3ca\n'}, {'number': 2, 'created': '2021-09-15 12:02:44.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/0014e72e4a8f2c701bf30a9d1bd0fd1856179242', 'message': 'Fix url to docs\n\nCloses-Bug: #1873755\nChange-Id: I5a5160a352e793f9cb5ff9649d7b044eb992e3ca\n'}]",0,721200,0014e72e4a8f2c701bf30a9d1bd0fd1856179242,11,2,2,29614,,,0,"Fix url to docs

Closes-Bug: #1873755
Change-Id: I5a5160a352e793f9cb5ff9649d7b044eb992e3ca
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/00/721200/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,aa59c1ba4ba57a4d2e73ae146489fa8bdab1dff3,bug/1873755,* Documentation: https://docs.openstack.org/python-masakariclient/latest/,* Documentation: http://docs.openstack.org/developer/python-masakariclient,1,1
openstack%2Fpython-monascaclient~master~I0e0d182ef68c0e90be5c376556a44e8aa56b60c7,openstack/python-monascaclient,master,I0e0d182ef68c0e90be5c376556a44e8aa56b60c7,Update master for stable/xena,MERGED,2021-09-10 14:32:43.000000000,2021-09-15 12:18:56.000000000,2021-09-15 12:17:12.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-09-10 14:32:43.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/7412971ec239109eb6c8c1b55863caac8b48a440', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: I0e0d182ef68c0e90be5c376556a44e8aa56b60c7\n'}]",0,808283,7412971ec239109eb6c8c1b55863caac8b48a440,7,2,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: I0e0d182ef68c0e90be5c376556a44e8aa56b60c7
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/83/808283/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,7412971ec239109eb6c8c1b55863caac8b48a440,reno-xena, xena,,7,0
openstack%2Fpython-masakariclient~master~Ic37762af7516d7bf638977e996464247864814f8,openstack/python-masakariclient,master,Ic37762af7516d7bf638977e996464247864814f8,Add doc/requirements.txt to releasenotes tox environment,ABANDONED,2019-01-09 17:39:31.000000000,2021-09-15 12:12:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-01-09 17:39:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/ffea2b7077a92b2945027c8beaee2cbf1ff894db', 'message': 'Add doc/requirements.txt to releasenotes tox environment\n\nWithout these dependencies, the releasenotes build does not actually\nwork.\n\nChange-Id: Ic37762af7516d7bf638977e996464247864814f8\n'}]",0,629594,ffea2b7077a92b2945027c8beaee2cbf1ff894db,4,2,1,28935,,,0,"Add doc/requirements.txt to releasenotes tox environment

Without these dependencies, the releasenotes build does not actually
work.

Change-Id: Ic37762af7516d7bf638977e996464247864814f8
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/94/629594/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ffea2b7077a92b2945027c8beaee2cbf1ff894db,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/doc/requirements.txt,,3,0
openstack%2Fpython-masakariclient~master~Ie26b5fb57199417248156ceedf62074627975483,openstack/python-masakariclient,master,Ie26b5fb57199417248156ceedf62074627975483,Update home-page,ABANDONED,2019-05-27 08:27:34.000000000,2021-09-15 12:10:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-27 08:27:34.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/5c52123bb27105778a1fb35c038eddfce4196aba', 'message': 'Update home-page\n\nChange-Id: Ie26b5fb57199417248156ceedf62074627975483\n'}]",0,661562,5c52123bb27105778a1fb35c038eddfce4196aba,3,1,1,26297,,,0,"Update home-page

Change-Id: Ie26b5fb57199417248156ceedf62074627975483
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/62/661562/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5c52123bb27105778a1fb35c038eddfce4196aba,,home-page = https://git.openstack.org/cgit/openstack/python-masakariclient,home-page = http://www.openstack.org/,1,1
openstack%2Freleases~master~I3d9a138ea3e07d1a7322e5390a2dfa754f5748c4,openstack/releases,master,I3d9a138ea3e07d1a7322e5390a2dfa754f5748c4,Release Glance stable branches,MERGED,2021-09-13 16:59:46.000000000,2021-09-15 12:05:12.000000000,2021-09-15 12:05:12.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-13 16:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4aa57b1c11a3b8d709ced4cdcb9097909bb01be1', 'message': 'Release Glance stable branches\n\nRelease Glance stable/ussuri 20.1.1\nRelease Glance stable/victoria 21.0.1\nRelease Glance stable/wallaby 22.0.1\n\nChange-Id: I3d9a138ea3e07d1a7322e5390a2dfa754f5748c4\n'}, {'number': 2, 'created': '2021-09-14 16:39:23.000000000', 'files': ['deliverables/wallaby/glance.yaml', 'deliverables/ussuri/glance.yaml', 'deliverables/victoria/glance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ab6889e5ded4267d8f31fbd45486aea02ec60801', 'message': 'Release Glance stable branches\n\nRelease Glance stable/ussuri 20.2.0\nRelease Glance stable/victoria 21.1.0\nRelease Glance stable/wallaby 22.1.0\n\nChange-Id: I3d9a138ea3e07d1a7322e5390a2dfa754f5748c4\n'}]",0,808803,ab6889e5ded4267d8f31fbd45486aea02ec60801,18,4,2,5202,,,0,"Release Glance stable branches

Release Glance stable/ussuri 20.2.0
Release Glance stable/victoria 21.1.0
Release Glance stable/wallaby 22.1.0

Change-Id: I3d9a138ea3e07d1a7322e5390a2dfa754f5748c4
",git fetch https://review.opendev.org/openstack/releases refs/changes/03/808803/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/glance.yaml', 'deliverables/ussuri/glance.yaml', 'deliverables/victoria/glance.yaml']",3,4aa57b1c11a3b8d709ced4cdcb9097909bb01be1,21-S-glance-stable, - version: 21.0.1 projects: - repo: openstack/glance hash: 31a574b4e562fb8d3c00562d63cc5f8ee274221c,,12,0
openstack%2Fpython-masakariclient~master~Idf1a7ff08d1cd4a3f7d3dba2e457081667a755b1,openstack/python-masakariclient,master,Idf1a7ff08d1cd4a3f7d3dba2e457081667a755b1,Remove invalid url,ABANDONED,2018-11-14 03:35:49.000000000,2021-09-15 12:02:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-14 03:35:49.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/35d4f978e1f003e1cab5b97c201d98bab6b34df4', 'message': 'Remove invalid url\n\nChange-Id: Idf1a7ff08d1cd4a3f7d3dba2e457081667a755b1\n'}]",0,617865,35d4f978e1f003e1cab5b97c201d98bab6b34df4,3,1,1,26775,,,0,"Remove invalid url

Change-Id: Idf1a7ff08d1cd4a3f7d3dba2e457081667a755b1
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/65/617865/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,35d4f978e1f003e1cab5b97c201d98bab6b34df4,,,* Documentation: http://docs.openstack.org/developer/python-masakariclient,0,1
openstack%2Fpython-masakariclient~master~I76e8ec1d649cbaf11afb8d8fc7c2fd7644aa7613,openstack/python-masakariclient,master,I76e8ec1d649cbaf11afb8d8fc7c2fd7644aa7613,Replacing the link in HACKING.rst,ABANDONED,2018-11-15 19:38:27.000000000,2021-09-15 12:00:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-15 19:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/2d7365735535ede694f0282c04ca1c019d875703', 'message': 'Replacing the link in HACKING.rst\n\nChange-Id: I76e8ec1d649cbaf11afb8d8fc7c2fd7644aa7613\n'}, {'number': 2, 'created': '2021-09-15 12:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/5ddd89faa87d6a6ad8bcbb7c447f9571ec45ceb5', 'message': 'Replacing the link in HACKING.rst\n\nChange-Id: I76e8ec1d649cbaf11afb8d8fc7c2fd7644aa7613\n'}]",0,618288,5ddd89faa87d6a6ad8bcbb7c447f9571ec45ceb5,4,1,2,29423,,,0,"Replacing the link in HACKING.rst

Change-Id: I76e8ec1d649cbaf11afb8d8fc7c2fd7644aa7613
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/88/618288/2 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,2d7365735535ede694f0282c04ca1c019d875703,,Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/,Read the OpenStack Style Commandments http://docs.openstack.org/developer/hacking/,1,1
openstack%2Fkuryr-kubernetes~stable%2Fxena~Icd3318bd9e0cbf25894ab2849223f19c53447654,openstack/kuryr-kubernetes,stable/xena,Icd3318bd9e0cbf25894ab2849223f19c53447654,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-15 02:34:14.000000000,2021-09-15 11:57:47.000000000,2021-09-15 11:56:18.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-09-15 02:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a0d2982c6ab68e0bf3fdb1d5dfaf68537176bbb9', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Icd3318bd9e0cbf25894ab2849223f19c53447654\n'}, {'number': 2, 'created': '2021-09-15 09:44:47.000000000', 'files': ['controller.Dockerfile', 'tox.ini', 'cni.Dockerfile'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/597635ab496c5d37508ad558ecc87f5aa072abd8', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Icd3318bd9e0cbf25894ab2849223f19c53447654\n'}]",0,809104,597635ab496c5d37508ad558ecc87f5aa072abd8,17,4,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Icd3318bd9e0cbf25894ab2849223f19c53447654
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/04/809104/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a0d2982c6ab68e0bf3fdb1d5dfaf68537176bbb9,create-xena,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena},deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fneutron~stable%2Fvictoria~Id3f71611a00e69c4f22340ca4d05d95e4373cf69,openstack/neutron,stable/victoria,Id3f71611a00e69c4f22340ca4d05d95e4373cf69,Randomize segmentation ID assignation,MERGED,2021-08-18 13:05:43.000000000,2021-09-15 11:48:39.000000000,2021-09-15 11:47:04.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-18 13:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0bebb3945ac8781381020aba6632b494f972bf4', 'message': 'Randomize segmentation ID assignation\n\nIf plugin ""network_segment_range"" is not enabled and a new segment\nis required, if no segmentation ID is provided in the request, the\nsegmentation ID assigned is randomly retrieved from the non\nallocated segmentation IDs.\n\nThe goal is to improve the concurrent network (and segment) creation.\nIf several segments are created in parallel, this random query\nwill return a different segmentation ID to each one, avoiding the\ndatabase retry request.\n\nCloses-Bug: #1920923\n\nChange-Id: Id3f71611a00e69c4f22340ca4d05d95e4373cf69\n(cherry picked from commit 6eaa6d83d7c7f07fd4bf04879c91582de504eff4)\n'}, {'number': 2, 'created': '2021-08-18 19:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0eba9efd2021fd04e2678714577582bfc6f1e932', 'message': 'Randomize segmentation ID assignation\n\nIf plugin ""network_segment_range"" is not enabled and a new segment\nis required, if no segmentation ID is provided in the request, the\nsegmentation ID assigned is randomly retrieved from the non\nallocated segmentation IDs.\n\nThe goal is to improve the concurrent network (and segment) creation.\nIf several segments are created in parallel, this random query\nwill return a different segmentation ID to each one, avoiding the\ndatabase retry request.\n\nCloses-Bug: #1920923\n\nChange-Id: Id3f71611a00e69c4f22340ca4d05d95e4373cf69\n(cherry picked from commit 6eaa6d83d7c7f07fd4bf04879c91582de504eff4)\n'}, {'number': 3, 'created': '2021-09-10 09:23:16.000000000', 'files': ['neutron/tests/unit/objects/plugins/ml2/test_base.py', 'neutron/objects/plugins/ml2/base.py', 'neutron/tests/functional/objects/plugins/ml2/test_base.py', 'neutron/tests/functional/objects/plugins/ml2/test_vxlanallocation.py', 'neutron/tests/functional/objects/plugins/ml2/__init__.py', 'neutron/tests/functional/objects/plugins/__init__.py', 'neutron/tests/functional/objects/plugins/ml2/test_greallocation.py', 'neutron/tests/functional/objects/plugins/ml2/test_vlanallocation.py', 'neutron/common/utils.py', 'neutron/plugins/ml2/drivers/helpers.py', 'neutron/tests/functional/objects/plugins/ml2/test_geneveallocation.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab56a5cd652f57890723d4df5ba6ed22845070fa', 'message': 'Randomize segmentation ID assignation\n\nIf plugin ""network_segment_range"" is not enabled and a new segment\nis required, if no segmentation ID is provided in the request, the\nsegmentation ID assigned is randomly retrieved from the non\nallocated segmentation IDs.\n\nThe goal is to improve the concurrent network (and segment) creation.\nIf several segments are created in parallel, this random query\nwill return a different segmentation ID to each one, avoiding the\ndatabase retry request.\n\nCloses-Bug: #1920923\n\nConflicts:\n    neutron/common/utils.py\n    neutron/tests/unit/plugins/ml2/drivers/test_type_vlan.py\n\nChange-Id: Id3f71611a00e69c4f22340ca4d05d95e4373cf69\n(cherry picked from commit 6eaa6d83d7c7f07fd4bf04879c91582de504eff4)\n'}]",28,805000,ab56a5cd652f57890723d4df5ba6ed22845070fa,18,5,3,32349,,,0,"Randomize segmentation ID assignation

If plugin ""network_segment_range"" is not enabled and a new segment
is required, if no segmentation ID is provided in the request, the
segmentation ID assigned is randomly retrieved from the non
allocated segmentation IDs.

The goal is to improve the concurrent network (and segment) creation.
If several segments are created in parallel, this random query
will return a different segmentation ID to each one, avoiding the
database retry request.

Closes-Bug: #1920923

Conflicts:
    neutron/common/utils.py
    neutron/tests/unit/plugins/ml2/drivers/test_type_vlan.py

Change-Id: Id3f71611a00e69c4f22340ca4d05d95e4373cf69
(cherry picked from commit 6eaa6d83d7c7f07fd4bf04879c91582de504eff4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/805000/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/objects/plugins/ml2/test_base.py', 'neutron/objects/plugins/ml2/base.py', 'neutron/tests/functional/objects/plugins/ml2/test_base.py', 'neutron/tests/unit/plugins/ml2/drivers/test_type_vlan.py', 'neutron/tests/functional/objects/plugins/ml2/__init__.py', 'neutron/tests/functional/objects/plugins/ml2/test_vlanallocation.py', 'neutron/common/utils.py', 'neutron/tests/functional/objects/plugins/ml2/test_vxlanallocation.py', 'neutron/tests/functional/objects/plugins/__init__.py', 'neutron/tests/functional/objects/plugins/ml2/test_greallocation.py', 'neutron/plugins/ml2/drivers/helpers.py', 'neutron/tests/functional/objects/plugins/ml2/test_geneveallocation.py']",12,e0bebb3945ac8781381020aba6632b494f972bf4,bug/1920923-stable/victoria,"# Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron.objects.plugins.ml2 import geneveallocation from neutron.tests.functional.objects.plugins.ml2 import test_base class TestGeneveSegmentAllocationMySQL(test_base._SegmentAllocationMySQL): segment_allocation_class = geneveallocation.GeneveAllocation class TestGeneveSegmentAllocationPostgreSQL( test_base._SegmentAllocationPostgreSQL): segment_allocation_class = geneveallocation.GeneveAllocation ",,257,14
openstack%2Fpython-masakariclient~master~I433b3d3a3ccb56094a9bfb8e5be4a3a76508bda6,openstack/python-masakariclient,master,I433b3d3a3ccb56094a9bfb8e5be4a3a76508bda6,Switch to oslo_log,ABANDONED,2017-01-17 09:35:58.000000000,2021-09-15 11:43:54.000000000,,"[{'_account_id': 8988}, {'_account_id': 22020}]","[{'number': 1, 'created': '2017-01-17 09:35:58.000000000', 'files': ['masakariclient/plugin.py', 'requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/1ce35d85cf15a2954221a7d41979a977344aa4eb', 'message': 'Switch to oslo_log\n\nMasakariclient is currently using python logging module to\nimplement logging functionality.\nThis patch made a switch to oslo.log(logging for openstack projects)\n\nReference:-\nhttp://docs.openstack.org/developer/oslo.log\n\nChange-Id: I433b3d3a3ccb56094a9bfb8e5be4a3a76508bda6\nCloses-Bug: #1656167\n'}]",0,421172,1ce35d85cf15a2954221a7d41979a977344aa4eb,8,2,1,22020,,,0,"Switch to oslo_log

Masakariclient is currently using python logging module to
implement logging functionality.
This patch made a switch to oslo.log(logging for openstack projects)

Reference:-
http://docs.openstack.org/developer/oslo.log

Change-Id: I433b3d3a3ccb56094a9bfb8e5be4a3a76508bda6
Closes-Bug: #1656167
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/72/421172/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakariclient/plugin.py', 'requirements.txt']",2,1ce35d85cf15a2954221a7d41979a977344aa4eb,bug/1656167,oslo.log>=3.11.0 # Apache-2.0 oslo.serialization>=1.10.0 # Apache-2.0,oslo.serialization>=1.10.0 # Apache-2.0,3,3
openstack%2Ftacker~master~Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7,openstack/tacker,master,Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7,Update zuul environment to support helm chart,MERGED,2021-07-20 07:29:25.000000000,2021-09-15 11:31:42.000000000,2021-09-15 11:25:21.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 31730}, {'_account_id': 32102}, {'_account_id': 33292}]","[{'number': 1, 'created': '2021-07-20 07:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/deee4db88a3a6bd187d44e13aa6a13ee930e4482', 'message': '[DNM] Test zuul environment for helm chart\n\nThis patch test for implement of helm chart spec.\n* Create user for executing helm command.\n* Install helm to controller-k8s node.\n* Create folder for putting local helm chart.\n* Test helm command via ssh from controller-tacker node.\n\nTODO:\n* Update VimConnectionInfo to add access info of master node.\n\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 2, 'created': '2021-07-20 08:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/014fb0306ab50dd8ecee75b5219c0741ac833c5a', 'message': '[DNM] Test zuul environment for helm chart\n\nThis patch test for implement of helm chart spec.\n* Create user for executing helm command.\n* Install helm to controller-k8s node.\n* Create folder for putting local helm chart.\n* Test helm command via ssh from controller-tacker node.\n\nTODO:\n* Update VimConnectionInfo to add access info of master node.\n\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 3, 'created': '2021-07-20 09:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3c5bdd1808a138da5ff69f36de08d5c26e3250fb', 'message': '[DNM] Test zuul environment for helm chart\n\nThis patch test for implement of helm chart spec.\n* Create user for executing helm command.\n* Install helm to controller-k8s node.\n* Create folder for putting local helm chart.\n* Test helm command via ssh from controller-tacker node.\n\nTODO:\n* Update VimConnectionInfo to add access info of master node.\n\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 4, 'created': '2021-07-20 13:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3d28dbcb6bab250746f735ec0f1db21ab490243f', 'message': '[DNM] Test zuul environment for helm chart\n\nThis patch test for implement of helm chart spec.\n* Create user for executing helm command.\n* Install helm to controller-k8s node.\n* Create folder for putting local helm chart.\n* Enable password authentication in sshd_config.\n* Test helm command via ssh from controller-tacker node.\n\nTODO:\n* Update VimConnectionInfo to add access info of master node.\n\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 5, 'created': '2021-07-20 19:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/720e265aca0a434f67daa843da68d2a158b76f4d', 'message': '[DNM] Test zuul environment for helm chart\n\nThis patch test for implement of helm chart spec.\n* Create user for executing helm command.\n* Install helm to controller-k8s node.\n* Create folder for putting local helm chart.\n* Enable password authentication in sshd_config.\n* Test helm command via ssh from controller-tacker node.\n\nTODO:\n* Update VimConnectionInfo to add access info of master node.\n\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 6, 'created': '2021-07-20 22:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/33f4ba16f3940e94edc800e631752d4262c0ca9e', 'message': '[DNM] Test zuul environment for helm chart\n\nThis patch test for implement of helm chart spec.\n* Create user for executing helm command.\n* Install helm to controller-k8s node.\n* Create folder for putting local helm chart.\n* Enable password authentication in sshd_config.\n* Test helm command via ssh from controller-tacker node.\n\nTODO:\n* Update VimConnectionInfo to add access info of master node.\n\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 7, 'created': '2021-07-21 01:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/bc30a225f083b7edd1d75ed312a87557aec84916', 'message': '[DNM] Test zuul environment for helm chart\n\nThis patch test for implement of helm chart spec.\n* Create user for executing helm command.\n* Install helm to controller-k8s node.\n* Create folder for putting local helm chart.\n* Enable password authentication in sshd_config.\n* Test helm command via ssh from controller-tacker node.\n\nTODO:\n* Update VimConnectionInfo to add access info of master node.\n\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 8, 'created': '2021-07-21 08:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e05d077fa96149ff714e5b7740ae423afc65af41', 'message': '[DNM] Test zuul environment for helm chart\n\nThis patch test for implement of helm chart spec.\n* Create user for executing helm command.\n* Install helm to controller-k8s node.\n* Create folder for putting local helm chart.\n* Enable password authentication in sshd_config.\n* Test helm command via ssh from controller-tacker node.\n\nTODO:\n* Update VimConnectionInfo to add access info of master node.\n\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 9, 'created': '2021-07-21 10:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6e5f3d35dc5f1fc56d32a8a663597c50daf3030e', 'message': '[DNM] Test zuul environment for helm chart\n\nThis patch test for implement of helm chart spec.\n* Create user for executing helm command.\n* Install helm to controller-k8s node.\n* Create folder for putting local helm chart.\n* Enable password authentication in sshd_config.\n* Test helm command via ssh from controller-tacker node.\n\nTODO:\n* Update VimConnectionInfo to add access info of master node.\n\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 10, 'created': '2021-07-26 04:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9657ccebc9913dc8041cb737ab65480cda6a15b6', 'message': '[DNM] Test zuul environment for helm chart\n\nThis patch test for implement of helm chart spec.\n* Create user for executing helm command.\n* Install helm to controller-k8s node.\n* Create folder for putting local helm chart.\n* Enable password authentication in sshd_config.\n* Test helm command via ssh from controller-tacker node.\n\nTODO:\n* Update VimConnectionInfo to add access info of master node.\n\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 11, 'created': '2021-07-26 09:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/19204f8804d61a658abe6d2babe97516725f2ea9', 'message': '[DNM] Test zuul environment for helm chart\n\nThis patch test for implement of helm chart spec.\n* Create user for executing helm command.\n* Install helm to controller-k8s node.\n* Create folder for putting local helm chart.\n* Enable password authentication in sshd_config.\n* Test helm command via ssh from controller-tacker node.\n\nTODO:\n* Update VimConnectionInfo to add access info of master node.\n\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 12, 'created': '2021-07-26 13:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2bdc284c156eeb3cbf5aebec1589e006980e9f22', 'message': '[DNM] Test zuul environment for helm chart\n\nThis patch test for implement of helm chart spec.\n* Create user for executing helm command.\n* Install helm to controller-k8s node.\n* Create folder for putting local helm chart.\n* Enable password authentication in sshd_config.\n* Test helm command via ssh from controller-tacker node.\n\nTODO:\n* Update VimConnectionInfo to add access info of master node.\n\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 13, 'created': '2021-07-26 13:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/68d88e8dadbd46f765e4376f4ea5293a3a0a8c03', 'message': '[DNM] Test zuul environment for helm chart\n\nThis patch test for implement of helm chart spec.\n* Create user for executing helm command.\n* Install helm to controller-k8s node.\n* Create folder for putting local helm chart.\n* Enable password authentication in sshd_config.\n* Test helm command via ssh from controller-tacker node.\n\nTODO:\n* Update VimConnectionInfo to add access info of master node.\n\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 14, 'created': '2021-07-26 13:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e789d01b9d6351c43e88567fb76ba16147e2f64f', 'message': '[DNM] Test zuul environment for helm chart\n\nThis patch test for implement of helm chart spec.\n* Create user for executing helm command.\n* Install helm to controller-k8s node.\n* Create folder for putting local helm chart.\n* Enable password authentication in sshd_config.\n* Test helm command via ssh from controller-tacker node.\n\nTODO:\n* Update VimConnectionInfo to add access info of master node.\n\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 15, 'created': '2021-07-26 23:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/35255ddc2b721a339530354329f8290a3d81c894', 'message': '[DNM] Test zuul environment for helm chart\n\nThis patch test for implement of helm chart spec.\n* Create user for executing helm command.\n* Install helm to controller-k8s node.\n* Create folder for putting local helm chart.\n* Enable password authentication in sshd_config.\n* Test helm command via ssh from controller-tacker node.\n\nTODO:\n* Update VimConnectionInfo to add access info of master node.\n\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 16, 'created': '2021-07-27 04:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8bdbfcdc0ba41a2b74381b7bd3c3b2b4015ab23f', 'message': '[DNM] Test zuul environment for helm chart\n\nThis patch changes the following for FT of helm chart spec.\n* Add `extra` field to vims db.\n* Add `setup-helm` task to ansible-playbook roles.\n  [On controller-k8s node]\n  * Create and setup helm user for executing helm command.\n  * Install helm.\n  * Create folder for putting local helm chart.\n  * Enable password authentication in sshd_config and restart sshd.\n\n  [On controller node]\n  * Update Vims DB of vim-kubernetes to modify extra field that include\n    helm access information.\n\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 17, 'created': '2021-07-27 05:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/459d6964340f0be52463f8d07b2609a1589d2e18', 'message': '[DNM] Test zuul environment for helm chart\n\nThis patch changes the following for FT of helm chart spec.\n* Add `extra` field to vims db.\n* Add `setup-helm` task to ansible-playbook roles.\n  [On controller-k8s node]\n  * Create and setup helm user for executing helm command.\n  * Install helm.\n  * Create folder for putting local helm chart.\n  * Enable password authentication in sshd_config and restart sshd.\n\n  [On controller node]\n  * Update Vims DB of vim-kubernetes to modify extra field that include\n    helm access information.\n\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 18, 'created': '2021-08-19 02:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/af560a8d7589d3bc9de31451461be5552a9d672c', 'message': '[DNM] Test zuul environment for helm chart\n\nThis patch changes the following for FT of helm chart spec.\n* Add `extra` field to vims db.\n* Add `setup-helm` task to ansible-playbook roles.\n  [On controller-k8s node]\n  * Create and setup helm user for executing helm command.\n  * Install helm.\n  * Create folder for putting local helm chart.\n  * Enable password authentication in sshd_config and restart sshd.\n\n  [On controller node]\n  * Update Vims DB of vim-kubernetes to modify extra field that include\n    helm access information.\n\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 19, 'created': '2021-08-20 14:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e47f7736a97fa2029c17775bed761dcd77447b92', 'message': '[DNM] Test zuul environment for helm chart\n\nThis patch changes the following for FT of helm chart spec.\n* Add `extra` field to vims db.\n* Add `setup-helm` task to ansible-playbook roles.\n  [On controller-k8s node]\n  * Create and setup helm user for executing helm command.\n  * Install helm.\n  * Create folder for putting local helm chart.\n  * Enable password authentication in sshd_config and restart sshd.\n\n  [On controller node]\n  * Update Vims DB of vim-kubernetes to modify extra field that include\n    helm access information.\n\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 20, 'created': '2021-08-20 14:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/58bba8cea4f5a9c35f26da63c5b4f5b743768606', 'message': '[DNM] Test zuul environment for helm chart\n\nThis patch changes the following for FT of helm chart spec.\n* Add `extra` field to vims db.\n* Add `setup-helm` task to ansible-playbook roles.\n  [On controller-k8s node]\n  * Create and setup helm user for executing helm command.\n  * Install helm.\n  * Create folder for putting local helm chart.\n  * Enable password authentication in sshd_config and restart sshd.\n\n  [On controller node]\n  * Update Vims DB of vim-kubernetes to modify extra field that include\n    helm access information.\n\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 21, 'created': '2021-08-27 09:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1274a0cdfe40749d9e045538910eec4e262bc093', 'message': 'Update zuul environment to support helm chart\n\nThis patch changes the following to support helm chart spec and\nto test instantiate/terminate cnf with helm chart.\n* Add `extra` field to vims db.\n* Add `setup-helm` task to ansible-playbook roles.\n  [On controller-k8s node]\n  * Create and setup helm user for executing helm command.\n  * Install helm.\n  * Create folder for putting local helm chart.\n  * Enable password authentication in sshd_config and restart sshd.\n\n  [On controller node]\n  * Update Vims DB of vim-kubernetes to modify extra field that include\n    helm access information.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 22, 'created': '2021-08-31 13:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2f724f90b6826f89790c2fef2f2626dd4e17b480', 'message': 'Update zuul environment to support helm chart\n\nThis patch changes the following to support helm chart spec and\nto test instantiate/terminate cnf with helm chart.\n* Add `extra` field to vims db.\n* Add `setup-helm` task to ansible-playbook roles.\n  [On controller-k8s node]\n  * Create and setup helm user for executing helm command.\n  * Install helm.\n  * Create folder for putting local helm chart.\n  * Enable password authentication in sshd_config and restart sshd.\n\n  [On controller node]\n  * Update Vims DB of vim-kubernetes to modify extra field that include\n    helm access information.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}, {'number': 23, 'created': '2021-09-06 02:36:06.000000000', 'files': ['playbooks/devstack/pre.yaml', 'tacker/db/migration/alembic_migrations/versions/HEAD', 'tacker/db/migration/alembic_migrations/versions/6dc60a5760e5_add_extra_field_to_vims_db.py', '.zuul.yaml', 'roles/setup-helm/defaults/main.yaml', 'roles/setup-helm/tasks/main.yaml', 'roles/setup-helm/files/50_helm_sh'], 'web_link': 'https://opendev.org/openstack/tacker/commit/d7a13ce18a49783ba89db98c20128a8ac74709b1', 'message': 'Update zuul environment to support helm chart\n\nThis patch changes the following to support helm chart spec and\nto test instantiate/terminate cnf with helm chart.\n* Add `extra` field to vims db.\n* Add `setup-helm` task to ansible-playbook roles.\n  [On controller-k8s node]\n  * Create and setup helm user for executing helm command.\n  * Install helm.\n  * Create folder for putting local helm chart.\n  * Enable password authentication in sshd_config and restart sshd.\n\n  [On controller node]\n  * Update Vims DB of vim-kubernetes to modify extra field that include\n    helm access information.\n\nImplements: blueprint helmchart-k8s-vim\nChange-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7\n'}]",3,801420,d7a13ce18a49783ba89db98c20128a8ac74709b1,55,7,23,31857,,,0,"Update zuul environment to support helm chart

This patch changes the following to support helm chart spec and
to test instantiate/terminate cnf with helm chart.
* Add `extra` field to vims db.
* Add `setup-helm` task to ansible-playbook roles.
  [On controller-k8s node]
  * Create and setup helm user for executing helm command.
  * Install helm.
  * Create folder for putting local helm chart.
  * Enable password authentication in sshd_config and restart sshd.

  [On controller node]
  * Update Vims DB of vim-kubernetes to modify extra field that include
    helm access information.

Implements: blueprint helmchart-k8s-vim
Change-Id: Iaf7c11c5bedb77e9cd21074be2b4f73528aa2ce7
",git fetch https://review.opendev.org/openstack/tacker refs/changes/20/801420/19 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/devstack/pre.yaml', '.zuul.yaml', 'roles/setup-helm/defaults/main.yaml', 'roles/setup-helm/tasks/main.yaml', 'roles/test-helm/tasks/main.yaml']",5,deee4db88a3a6bd187d44e13aa6a13ee930e4482,bp/helmchart-k8s-vim,- name: Install sshpass apt: name: sshpass become: yes - name: Test Helm version command via ssh shell: sshpass -p helm_pass ssh -o StrictHostKeyChecking=no helm@{{ hostvars['controller-k8s']['nodepool']['private_ipv4'] }} helm version register: helm_version - name: Print helm version debug: var: helm_version.stdout when: - inventory_hostname == 'controller-tacker' - helm_version is defined ,,92,4
openstack%2Ftacker~master~I5c5ec2f457d235c95627e2c339b477a191b24945,openstack/tacker,master,I5c5ec2f457d235c95627e2c339b477a191b24945,Fix occasional multinode-sol job FT error,MERGED,2021-09-13 02:50:22.000000000,2021-09-15 11:29:54.000000000,2021-09-15 11:25:20.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-09-13 02:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5a9b5e2bc5f5cd8a7d7896c7b2e1bc8ed9095f9e', 'message': 'Fix occasional multinode-sol job FT error\n\nThe ""test_instantiate_terminate_vnf_with_vnflcmnoop"" method of\nmultinode-sol job occasionally fails.\nAfter vnf termination, ""instantiationState"" becomes ""NOT_INSTANTIATED"".\nHowever, the ""vnflcmOpOccs.operation_state"" is not ""COMPLETED"" at this\npoint and sleep for 20 seconds before assert operationalState.\nIf stack deletion is not completed within 20 seconds sleep, reading\n""PROCESSING"" when asserting operation_state results in misjudgment and\nan error.\n\nThis patch resolves the error by waiting until ""COMPLETED"" instead of\nsleeping.\n\nChange-Id: I5c5ec2f457d235c95627e2c339b477a191b24945\n'}, {'number': 2, 'created': '2021-09-13 03:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/cf09c4d0c5260c46bef2baede6621a79728b902a', 'message': 'Fix occasional multinode-sol job FT error\n\nThe ""test_instantiate_terminate_vnf_with_vnflcmnoop"" method of\nmultinode-sol job occasionally fails.\nAfter vnf termination, ""instantiationState"" becomes ""NOT_INSTANTIATED"".\nHowever, the ""vnflcmOpOccs.operation_state"" is not ""COMPLETED"" at this\npoint and sleep for 20 seconds before assert operationalState.\nIf stack deletion is not completed within 20 seconds sleep, reading\n""PROCESSING"" when asserting operation_state results in misjudgment and\nan error.\n\nThis patch resolves the error by waiting until ""COMPLETED"" instead of\nsleeping.\n\nChange-Id: I5c5ec2f457d235c95627e2c339b477a191b24945\n'}, {'number': 3, 'created': '2021-09-13 05:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/53becc87ad8cd2538080d922aca94d787734716a', 'message': 'Fix occasional multinode-sol job FT error\n\nThe ""test_instantiate_terminate_vnf_with_vnflcmnoop"" method of\nmultinode-sol job occasionally fails.\nAfter vnf termination, ""instantiationState"" becomes ""NOT_INSTANTIATED"".\nHowever, the ""vnflcmOpOccs.operation_state"" is not ""COMPLETED"" at this\npoint and sleep for 20 seconds before assert operationalState.\nIf stack deletion is not completed within 20 seconds sleep, reading\n""PROCESSING"" when asserting operation_state results in misjudgment and\nan error.\n\nThis patch resolves the error by waiting until ""COMPLETED"" instead of\nsleeping.\n\nChange-Id: I5c5ec2f457d235c95627e2c339b477a191b24945\n'}, {'number': 4, 'created': '2021-09-14 06:44:32.000000000', 'files': ['tacker/tests/functional/sol/vnflcm/test_vnflcm_noop.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/110bba1c28245e3011c6a5b13786fd5c489e1598', 'message': 'Fix occasional multinode-sol job FT error\n\nThe ""test_instantiate_terminate_vnf_with_vnflcmnoop"" method of\nmultinode-sol job occasionally fails.\nAfter vnf termination, ""instantiationState"" becomes ""NOT_INSTANTIATED"".\nHowever, the ""vnflcmOpOccs.operation_state"" is not ""COMPLETED"" at this\npoint and sleep for 20 seconds before assert operation_state.\nIf stack deletion is not completed within 20 seconds sleep, reading\n""PROCESSING"" when asserting operation_state results in misjudgment and\nan error.\n\nThis patch resolves the error by waiting until ""COMPLETED"" instead of\nsleeping.\n\nChange-Id: I5c5ec2f457d235c95627e2c339b477a191b24945\n'}]",0,808573,110bba1c28245e3011c6a5b13786fd5c489e1598,30,5,4,31857,,,0,"Fix occasional multinode-sol job FT error

The ""test_instantiate_terminate_vnf_with_vnflcmnoop"" method of
multinode-sol job occasionally fails.
After vnf termination, ""instantiationState"" becomes ""NOT_INSTANTIATED"".
However, the ""vnflcmOpOccs.operation_state"" is not ""COMPLETED"" at this
point and sleep for 20 seconds before assert operation_state.
If stack deletion is not completed within 20 seconds sleep, reading
""PROCESSING"" when asserting operation_state results in misjudgment and
an error.

This patch resolves the error by waiting until ""COMPLETED"" instead of
sleeping.

Change-Id: I5c5ec2f457d235c95627e2c339b477a191b24945
",git fetch https://review.opendev.org/openstack/tacker refs/changes/73/808573/4 && git format-patch -1 --stdout FETCH_HEAD,['tacker/tests/functional/sol/vnflcm/test_vnflcm_noop.py'],1,5a9b5e2bc5f5cd8a7d7896c7b2e1bc8ed9095f9e,fix-ft-error," self._wait_lcm_done('COMPLETED', vnf_instance_id=vnf_instance['id']) self._wait_lcm_done('COMPLETED', vnf_instance_id=vnf_instance['id'])"," time.sleep(20) self.assertEqual(vnflcm_op_occ_ins.operation_state, 'COMPLETED') time.sleep(20) time.sleep(20) self.assertEqual(vnflcm_op_occ_term.operation_state, 'COMPLETED')",2,5
openstack%2Fpuppet-watcher~master~Iae34f6922e483aa7c194e06fae585451df6fbb0d,openstack/puppet-watcher,master,Iae34f6922e483aa7c194e06fae585451df6fbb0d,Add watch_log_file option,MERGED,2021-09-14 08:02:56.000000000,2021-09-15 11:28:31.000000000,2021-09-15 11:24:17.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:56.000000000', 'files': ['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-ab78b7cabe9dd509.yaml', 'spec/classes/watcher_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/8ba59a0d467b3b49a733a321f457d0cbde18b581', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: Iae34f6922e483aa7c194e06fae585451df6fbb0d\nCloses-Bug: #1943212\n'}]",0,808899,8ba59a0d467b3b49a733a321f457d0cbde18b581,18,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: Iae34f6922e483aa7c194e06fae585451df6fbb0d
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/99/808899/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-ab78b7cabe9dd509.yaml', 'spec/classes/watcher_logging_spec.rb']",3,8ba59a0d467b3b49a733a321f457d0cbde18b581,bug/1943212," :watch_log_file => true, :watch_log_file => '<SERVICE DEFAULT>', :watch_log_file => true,",,13,0
openstack%2Fkuryr~master~I6eebb41f5f8f12eebe5b3d997d2802c3fa7598e1,openstack/kuryr,master,I6eebb41f5f8f12eebe5b3d997d2802c3fa7598e1,Update master for stable/xena,MERGED,2021-09-10 15:14:03.000000000,2021-09-15 11:23:49.000000000,2021-09-15 11:22:22.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-09-10 15:14:03.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/193590c4aa9ae2a1f7eee194c6b1f343180f4bbb', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: I6eebb41f5f8f12eebe5b3d997d2802c3fa7598e1\n'}]",0,808419,193590c4aa9ae2a1f7eee194c6b1f343180f4bbb,8,3,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: I6eebb41f5f8f12eebe5b3d997d2802c3fa7598e1
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/19/808419/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,193590c4aa9ae2a1f7eee194c6b1f343180f4bbb,reno-xena, xena,,7,0
openstack%2Fmagnum-ui~master~I3e1fe890025a5f9fe02eaf2072fc6c5e64d3a25c,openstack/magnum-ui,master,I3e1fe890025a5f9fe02eaf2072fc6c5e64d3a25c,Add Python3 yoga unit tests,MERGED,2021-09-15 02:10:57.000000000,2021-09-15 10:53:12.000000000,2021-09-15 10:46:37.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:10:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/fede1bee320c18c2f8f3a91d2c375b82e598e7b2', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I3e1fe890025a5f9fe02eaf2072fc6c5e64d3a25c\n'}]",0,809068,fede1bee320c18c2f8f3a91d2c375b82e598e7b2,7,2,1,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I3e1fe890025a5f9fe02eaf2072fc6c5e64d3a25c
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/68/809068/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fede1bee320c18c2f8f3a91d2c375b82e598e7b2,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs-horizon, - openstack-python3-xena-jobs-horizon,1,1
openstack%2Fmagnum-ui~master~I4479b0cb6d367b8a5c20211fd799c9b23544a3ef,openstack/magnum-ui,master,I4479b0cb6d367b8a5c20211fd799c9b23544a3ef,Update master for stable/xena,MERGED,2021-09-15 02:10:56.000000000,2021-09-15 10:51:45.000000000,2021-09-15 10:46:36.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:10:56.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/2d29851f129da205d796249a3f5aaf848d26a91e', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: I4479b0cb6d367b8a5c20211fd799c9b23544a3ef\n'}]",0,809067,2d29851f129da205d796249a3f5aaf848d26a91e,7,2,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: I4479b0cb6d367b8a5c20211fd799c9b23544a3ef
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/67/809067/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,2d29851f129da205d796249a3f5aaf848d26a91e,reno-xena, xena,,7,0
openstack%2Fstorlets~master~Id6774290878350b08d2841ba7f0e439a3d3c40ba,openstack/storlets,master,Id6774290878350b08d2841ba7f0e439a3d3c40ba,Add release note for 8.0.0,MERGED,2021-09-13 12:41:38.000000000,2021-09-15 10:51:41.000000000,2021-09-15 10:49:54.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-13 12:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/f4781709697af0c6cd0ca85f0a7430c8b680bdc6', 'message': 'Add release note for 8.0.0\n\nChange-Id: Id6774290878350b08d2841ba7f0e439a3d3c40ba\n'}, {'number': 2, 'created': '2021-09-14 02:49:30.000000000', 'files': ['releasenotes/notes/8_0_0-535e0fed9755d83c.yaml'], 'web_link': 'https://opendev.org/openstack/storlets/commit/a513114c33d414037ec80bc6c5722dae52a90410', 'message': 'Add release note for 8.0.0\n\nChange-Id: Id6774290878350b08d2841ba7f0e439a3d3c40ba\n'}]",5,808759,a513114c33d414037ec80bc6c5722dae52a90410,11,3,2,9816,,,0,"Add release note for 8.0.0

Change-Id: Id6774290878350b08d2841ba7f0e439a3d3c40ba
",git fetch https://review.opendev.org/openstack/storlets refs/changes/59/808759/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/8_0_0-535e0fed9755d83c.yaml'],1,f4781709697af0c6cd0ca85f0a7430c8b680bdc6,,"--- prelude: > Now Storlets supports some new features to optimize resource usage by storlets containers. Also, management of docker containers was refactored and re-implemented by the docker python sdk, to allow more flexible and secure container management. features: - | The new timeout feature has been added to the agent processes running in storlet containers. This feature makes storlet containers and storlet daemon processes inside these containers to terminate automatically if the process receives no requests for 300 seconds. - | Now storlet containers are started with auto remove flag enabled. Because of this change the containers are automatically deleted after these are stoped (manually or because of timeout). - | The agent processes inside storlet containers now accept SIGUSER1 signal and shutdown gracefully. - | The new ``max_containers_per_node`` option has been added to the docker gateway configuration file. This option limits the number of storlet containers in a single node, and would be useful to distribute containers among multiple nodes. upgrade: - | The ``restart_docker_container`` script has been removed, and now the storlet_handler middleware directly communicates with the docker daemon to manage docker containers. Because of this change, now the user to run swift processes (which is usually the ``swift`` user) should belong to the ``docker`` group. - | Now ``managed_by=storlets`` is added as a tag to all storlet containers, to look up containers launched by Storlets. All existing containers without this tag should be stoped and removed during upgrade to use the new ``max_containers_per_node`` option. ",,42,0
openstack%2Fcharm-ironic-api~stable%2F21.04~I5fa17bd0969745ad11aa90a101ca7f01868b7c75,openstack/charm-ironic-api,stable/21.04,I5fa17bd0969745ad11aa90a101ca7f01868b7c75,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-08-27 09:50:39.000000000,2021-09-15 10:51:08.000000000,2021-09-15 10:51:08.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-08-27 09:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/15c53bfb33c0744391434fb2b5e814df918efd8d', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I5fa17bd0969745ad11aa90a101ca7f01868b7c75\n(cherry picked from commit 109c87bfb23834e0552fe58bf4ffeaae7a881caf)\n'}, {'number': 2, 'created': '2021-09-13 15:22:22.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/07dec11da28da1835171844794ed9c65e3872e1a', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I5fa17bd0969745ad11aa90a101ca7f01868b7c75\n(cherry picked from commit 109c87bfb23834e0552fe58bf4ffeaae7a881caf)\n'}]",0,806368,07dec11da28da1835171844794ed9c65e3872e1a,19,5,2,31289,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I5fa17bd0969745ad11aa90a101ca7f01868b7c75
(cherry picked from commit 109c87bfb23834e0552fe58bf4ffeaae7a881caf)
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/68/806368/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",4,15c53bfb33c0744391434fb2b5e814df918efd8d,wallaby-bundles-stable/21.04,- focal-wallaby dev_bundles: - hirsute-wallaby smoke_bundles: - focal-ussuri - hirsute-wallaby,smoke_bundles: - bionic-ussuri - groovy-victoria,581,3
openstack%2Fmonasca-common~stable%2Fxena~Idccb2aa2064af8d3281b3c92487d3e1d6cd04aa6,openstack/monasca-common,stable/xena,Idccb2aa2064af8d3281b3c92487d3e1d6cd04aa6,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-10 14:32:01.000000000,2021-09-15 10:40:40.000000000,2021-09-15 10:40:40.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-09-10 14:32:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/6cd32d9a1444d41724b5c940553ab0becf14c8f8', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Idccb2aa2064af8d3281b3c92487d3e1d6cd04aa6\n'}]",0,808246,6cd32d9a1444d41724b5c940553ab0becf14c8f8,6,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Idccb2aa2064af8d3281b3c92487d3e1d6cd04aa6
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/46/808246/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6cd32d9a1444d41724b5c940553ab0becf14c8f8,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fpython-monascaclient~stable%2Fxena~Icb283ef7265ed0d2a2a6a05ee966b9482b039121,openstack/python-monascaclient,stable/xena,Icb283ef7265ed0d2a2a6a05ee966b9482b039121,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-10 14:32:40.000000000,2021-09-15 10:40:20.000000000,2021-09-15 10:38:54.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-09-10 14:32:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/708e3c20cfece65cfd56316e11cc257aeed78626', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Icb283ef7265ed0d2a2a6a05ee966b9482b039121\n'}]",0,808279,708e3c20cfece65cfd56316e11cc257aeed78626,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Icb283ef7265ed0d2a2a6a05ee966b9482b039121
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/79/808279/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,708e3c20cfece65cfd56316e11cc257aeed78626,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Ftacker~master~Iecd8f11f5d51a49999f4f0e31a16f41438834f8a,openstack/tacker,master,Iecd8f11f5d51a49999f4f0e31a16f41438834f8a,Fix cnf rollback after instantiation failure,MERGED,2021-07-02 02:07:54.000000000,2021-09-15 10:38:51.000000000,2021-09-15 10:36:48.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-07-02 02:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2566bb66c0fed37cf54d525fd5353c7535a02c02', 'message': '[WIP] Fix cnf rollback after instantiation failure\n\nThis patch fixes the problem that cnf rollback operation does not\ndelete the kubernetes resource created during instantiation.\n\nCloses-Bug: #1933305\nChange-Id: Iecd8f11f5d51a49999f4f0e31a16f41438834f8a\n'}, {'number': 2, 'created': '2021-07-13 01:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/82ddf6aa9c16024f6b12aea0c126a4a3b83a9b20', 'message': '[WIP] Fix cnf rollback after instantiation failure\n\nThis patch fixes the problem that cnf rollback operation does not\ndelete the kubernetes resource created during instantiation.\n\nCloses-Bug: #1933305\nChange-Id: Iecd8f11f5d51a49999f4f0e31a16f41438834f8a\n'}, {'number': 3, 'created': '2021-08-24 06:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/de427a293b1cbb3a3b0d82d7616ec3035b305a91', 'message': 'Fix cnf rollback after instantiation failure\n\nThis patch fixes the problem that cnf rollback operation does not\ndelete the kubernetes resource created during instantiation.\n\nCloses-Bug: #1933305\nChange-Id: Iecd8f11f5d51a49999f4f0e31a16f41438834f8a\n'}, {'number': 4, 'created': '2021-08-31 13:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8176600c26790517ef0f2ae0b0920b6bb0fea999', 'message': 'Fix cnf rollback after instantiation failure\n\nThis patch fixes the problem that cnf rollback operation does not\ndelete the kubernetes resource created during instantiation.\n\nCloses-Bug: #1933305\nChange-Id: Iecd8f11f5d51a49999f4f0e31a16f41438834f8a\n'}, {'number': 5, 'created': '2021-09-06 06:46:35.000000000', 'files': ['tacker/tests/etc/samples/etsi/nfv/test_create_vnf_instance_and_instantiate_and_terminate_cnf_resources/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/etc/samples/etsi/nfv/test_create_vnf_instance_and_instantiate_and_terminate_cnf_resources/Files/kubernetes/statefulset_fail.yaml', 'tacker/tests/functional/sol_kubernetes/vnflcm/test_kubernetes.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'tacker/vnflcm/vnflcm_driver.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/149d67c6caf51cb3e54fb6e60f45b89575bba0dc', 'message': 'Fix cnf rollback after instantiation failure\n\nThis patch fixes the problem that cnf rollback operation does not\ndelete the kubernetes resource created during instantiation.\n\nCloses-Bug: #1933305\nChange-Id: Iecd8f11f5d51a49999f4f0e31a16f41438834f8a\n'}]",0,799131,149d67c6caf51cb3e54fb6e60f45b89575bba0dc,19,5,5,31857,,,0,"Fix cnf rollback after instantiation failure

This patch fixes the problem that cnf rollback operation does not
delete the kubernetes resource created during instantiation.

Closes-Bug: #1933305
Change-Id: Iecd8f11f5d51a49999f4f0e31a16f41438834f8a
",git fetch https://review.opendev.org/openstack/tacker refs/changes/31/799131/4 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'tacker/vnflcm/vnflcm_driver.py']",2,2566bb66c0fed37cf54d525fd5353c7535a02c02,bug/1933305," vnf_id=instance_id, auth_attr=access_info, vnf_instance=vnf_instance) vnf_id=instance_id, auth_attr=access_info, vnf_instance=vnf_instance)"," vnf_id=instance_id, auth_attr=access_info) vnf_id=instance_id, auth_attr=access_info)",6,2
openstack%2Foctavia~master~Ia15a110c6c5a9b83a29bab56538fa425d994d477,openstack/octavia,master,Ia15a110c6c5a9b83a29bab56538fa425d994d477,Disable conntrack for TCP flows in the amphora,MERGED,2021-06-16 08:47:06.000000000,2021-09-15 10:38:33.000000000,2021-09-15 10:36:34.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 27442}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-06-16 08:47:06.000000000', 'files': ['elements/amphora-agent/static/usr/local/bin/lvs-masquerade.sh', 'releasenotes/notes/disable-conntrack-for-tcp-01ef6948d99353c2.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b3f59eeb73289306dd5fd2e9d664903911dc614c', 'message': 'Disable conntrack for TCP flows in the amphora\n\nconntrack is used in the amphora for LVS-based listeners (UDP and\nSCTP) and it\'s enabled by default.\nAdd nft/iptable rules to disable conntrack for TCP flows, it reduces\nmemory usage and prevents getting ""nf_conntrack: table full, dropping\npacket"" messages.\n\nStory: 2008979\nTask: 42623\n\nChange-Id: Ia15a110c6c5a9b83a29bab56538fa425d994d477\n'}]",0,796608,b3f59eeb73289306dd5fd2e9d664903911dc614c,25,6,1,29244,,,0,"Disable conntrack for TCP flows in the amphora

conntrack is used in the amphora for LVS-based listeners (UDP and
SCTP) and it's enabled by default.
Add nft/iptable rules to disable conntrack for TCP flows, it reduces
memory usage and prevents getting ""nf_conntrack: table full, dropping
packet"" messages.

Story: 2008979
Task: 42623

Change-Id: Ia15a110c6c5a9b83a29bab56538fa425d994d477
",git fetch https://review.opendev.org/openstack/octavia refs/changes/08/796608/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/amphora-agent/static/usr/local/bin/lvs-masquerade.sh', 'releasenotes/notes/disable-conntrack-for-tcp-01ef6948d99353c2.yaml']",2,b3f59eeb73289306dd5fd2e9d664903911dc614c,,"--- fixes: - | Disable conntrack for TCP flows in the Amphora, it reduces memory usage for HAProxy-based listeners and prevents some kernel warnings about dropped packets. ",,33,0
openstack%2Fkuryr-tempest-plugin~master~Ic1db03ea52d3796f669ec8e5a88b5da2481c0150,openstack/kuryr-tempest-plugin,master,Ic1db03ea52d3796f669ec8e5a88b5da2481c0150,Check LB members when scaling a deployment,MERGED,2021-08-26 09:27:20.000000000,2021-09-15 10:38:21.000000000,2021-09-15 10:36:46.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-08-26 09:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/a22cc23f7bbb7bac8672c119ae17530de0ff78a9', 'message': 'Check LB members when scaling a deployment\n\n- Create a deployment and a service\n- Scale the deployment and check LB members count are equal to the\n  deployment replicas\n- Scale the deployment to 0 and check that there are no LB members\n\nChange-Id: Ic1db03ea52d3796f669ec8e5a88b5da2481c0150\n'}, {'number': 2, 'created': '2021-08-26 12:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/16759029c29ce88112ad4f3a454ce7dd5307f0fd', 'message': 'Check LB members when scaling a deployment\n\n- Create a deployment and a service\n- Scale the deployment and check LB members count are equal to the\n  deployment replicas\n- Scale the deployment to 0 and check that there are no LB members\n\nChange-Id: Ic1db03ea52d3796f669ec8e5a88b5da2481c0150\n'}, {'number': 3, 'created': '2021-08-29 10:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/10714584599c869acc18a2ca2e75978f84f24ae4', 'message': 'Check LB members when scaling a deployment\n\n- Create a deployment and a service\n- Scale the deployment and check LB members count are equal to the\n  deployment replicas\n- Scale the deployment to 0 and check that there are no LB members\n\nChange-Id: Ic1db03ea52d3796f669ec8e5a88b5da2481c0150\n'}, {'number': 4, 'created': '2021-08-29 11:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/d05d0605d53f2131f8455a7e73d208926d9b4021', 'message': 'Check LB members when scaling a deployment\n\n- Create a deployment and a service\n- Scale the deployment and check LB members count are equal to the\n  deployment replicas\n- Scale the deployment to 0 and check that there are no LB members\n\nChange-Id: Ic1db03ea52d3796f669ec8e5a88b5da2481c0150\n'}, {'number': 5, 'created': '2021-08-30 05:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/217fd0707a867fa2285c41fe9f5c83b56b1f6105', 'message': 'Check LB members when scaling a deployment\n\n- Create a deployment and a service\n- Scale the deployment and check LB members count are equal to the\n  deployment replicas\n- Scale the deployment to 0 and check that there are no LB members\n\nChange-Id: Ic1db03ea52d3796f669ec8e5a88b5da2481c0150\n'}, {'number': 6, 'created': '2021-08-30 10:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/f34f3b8a0f4cce304bf7aac11a43a4121919df95', 'message': 'Check LB members when scaling a deployment\n\n- Create a deployment and a service\n- Scale the deployment and check LB members count are equal to the\n  deployment replicas\n- Scale the deployment to 0 and check that there are no LB members\n\nChange-Id: Ic1db03ea52d3796f669ec8e5a88b5da2481c0150\n'}, {'number': 7, 'created': '2021-08-30 14:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/9407554a80a0833be60a908f7c54861bf8e2cbc4', 'message': 'Check LB members when scaling a deployment\n\n- Create a deployment and a service\n- Scale the deployment and check LB members count are equal to the\n  deployment replicas\n- Scale the deployment to 0 and check that there are no LB members\n\nDepends-On: If00c3af9ee8689f05eecf5370758edb50775d381\nChange-Id: Ic1db03ea52d3796f669ec8e5a88b5da2481c0150\n'}, {'number': 8, 'created': '2021-08-31 03:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/91e8f55cf96058d563881a60380885461665604f', 'message': 'Check LB members when scaling a deployment\n\n- Create a deployment and a service\n- Scale the deployment and check LB members count are equal to the\n  deployment replicas\n- Scale the deployment to 0 and check that there are no LB members\n\nDepends-On: If00c3af9ee8689f05eecf5370758edb50775d381\nChange-Id: Ic1db03ea52d3796f669ec8e5a88b5da2481c0150\n'}, {'number': 9, 'created': '2021-09-05 11:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/d85cf916e02bc75915d083c649711417e9cd14a8', 'message': 'Check LB members when scaling a deployment\n\n- Create a deployment and a service\n- Scale the deployment and check LB members count are equal to the\n  deployment replicas\n- Scale the deployment to 0 and check that there are no LB members\n\nChange-Id: Ic1db03ea52d3796f669ec8e5a88b5da2481c0150\n'}, {'number': 10, 'created': '2021-09-06 14:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/5d69a52ea919409fc1ba95ba40e5ffce6f8bbb71', 'message': 'Check LB members when scaling a deployment\n\n- Create a deployment and a service\n- Scale the deployment and check LB members count are equal to the\n  deployment replicas\n- Scale the deployment to 0 and check that there are no LB members\n\nDepends-On: If00c3af9ee8689f05eecf5370758edb50775d381\nChange-Id: Ic1db03ea52d3796f669ec8e5a88b5da2481c0150\n'}, {'number': 11, 'created': '2021-09-09 08:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/c855ac7250a29483fac81057e32bc146363774e5', 'message': 'Check LB members when scaling a deployment\n\n- Create a deployment and a service\n- Scale the deployment and check LB members count are equal to the\n  deployment replicas\n- Scale the deployment to 0 and check that there are no LB members\n\nChange-Id: Ic1db03ea52d3796f669ec8e5a88b5da2481c0150\n'}, {'number': 12, 'created': '2021-09-10 08:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/053693182a1bc1abae4d6e7c819a84e85e8a62ec', 'message': 'Check LB members when scaling a deployment\n\n- Create a deployment and a service\n- Scale the deployment and check LB members count are equal to the\n  deployment replicas\n- Scale the deployment to 0 and check that there are no LB members\n\nChange-Id: Ic1db03ea52d3796f669ec8e5a88b5da2481c0150\n'}, {'number': 13, 'created': '2021-09-10 08:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/597c1d2332b2f6ab494fdefbd21a139b776b6e45', 'message': 'Check LB members when scaling a deployment\n\n- Create a deployment and a service\n- Scale the deployment and check LB members count are equal to the\n  deployment replicas\n- Scale the deployment to 0 and check that there are no LB members\n\nChange-Id: Ic1db03ea52d3796f669ec8e5a88b5da2481c0150\n'}, {'number': 14, 'created': '2021-09-11 20:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/98e47297e3a59de775f79d550b48498560ba3126', 'message': 'Check LB members when scaling a deployment\n\n- Create a deployment and a service\n- Scale the deployment and check LB members count are equal to the\n  deployment replicas\n- Scale the deployment to 0 and check that there are no LB members\n\nChange-Id: Ic1db03ea52d3796f669ec8e5a88b5da2481c0150\n'}, {'number': 15, 'created': '2021-09-11 23:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/a774f50f80699def3f8237468762fdd2f962ceae', 'message': 'Check LB members when scaling a deployment\n\n- Create a deployment and a service\n- Scale the deployment and check LB members count are equal to the\n  deployment replicas\n- Scale the deployment to 0 and check that there are no LB members\n\nChange-Id: Ic1db03ea52d3796f669ec8e5a88b5da2481c0150\n'}, {'number': 16, 'created': '2021-09-13 10:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/2c8d602ad6cfa42e8fa9d2f67e0c99629f795b9a', 'message': 'Check LB members when scaling a deployment\n\n- Create a deployment and a service\n- Scale the deployment and check LB members count are equal to the\n  deployment replicas\n- Scale the deployment to 0 and check that there are no LB members\n\nDepends-On: Idb879245607a6f0f914a44220312d54aa40e2e3d\nChange-Id: Ic1db03ea52d3796f669ec8e5a88b5da2481c0150\n'}, {'number': 17, 'created': '2021-09-13 16:49:16.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_service.py', 'kuryr_tempest_plugin/config.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/19a3314ca8975ec737e104c2d2e4207fb9bf0fe0', 'message': 'Check LB members when scaling a deployment\n\n- Create a deployment and a service\n- Scale the deployment and check LB members count are equal to the\n  deployment replicas\n- Scale the deployment to 0 and check that there are no LB members\n\nDepends-On: Idb879245607a6f0f914a44220312d54aa40e2e3d\nChange-Id: Ic1db03ea52d3796f669ec8e5a88b5da2481c0150\n'}]",29,806124,19a3314ca8975ec737e104c2d2e4207fb9bf0fe0,57,4,17,4727,,,0,"Check LB members when scaling a deployment

- Create a deployment and a service
- Scale the deployment and check LB members count are equal to the
  deployment replicas
- Scale the deployment to 0 and check that there are no LB members

Depends-On: Idb879245607a6f0f914a44220312d54aa40e2e3d
Change-Id: Ic1db03ea52d3796f669ec8e5a88b5da2481c0150
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/24/806124/4 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_tempest_plugin/tests/scenario/test_service.py', 'kuryr_tempest_plugin/tests/scenario/base.py']",2,a22cc23f7bbb7bac8672c119ae17530de0ff78a9,deployment," def create_deployment(cls, deployment_name=None, api_version=""apps/v1"", kind=""Deployment"", namespace=""default""): api_instance = kubernetes.client.AppsV1Api() if not deployment_name: deployment_name = data_utils.rand_name(prefix='kuryr-deployment') deployment = k8s_client.V1Deployment() deployment.api_version = api_version deployment.kind = kind template = {""metadata"": {""labels"": {""app"": ""demo""}}, ""spec"": {""containers"": [ {""image"": ""kuryr/demo"", ""name"": 'demo', ""ports"": [{""containerPort"": 8080}]}]}} spec = k8s_client.V1DeploymentSpec( replicas=3, selector={""matchLabels"": {""app"": ""demo""}}, template=template) deployment.spec = spec deployment.metadata = k8s_client.V1ObjectMeta(name=deployment_name, namespace=namespace, labels={'app': 'demo'}) deployment_obj = api_instance.create_namespaced_deployment( namespace=namespace, body=deployment) return deployment_name, deployment_obj @classmethod def delete_deployment(cls, deployment_name, namespace=""default""): api_instance = kubernetes.client.AppsV1Api() delete_options = cls.k8s_client.V1DeleteOptions() api_instance.delete_namespaced_deployment( name=deployment_name, namespace=namespace, body=delete_options) @classmethod",,110,0
openstack%2Fzun-ui~master~Ic5bf30d9032e5532d73b23fa7991b16c7f08f7ee,openstack/zun-ui,master,Ic5bf30d9032e5532d73b23fa7991b16c7f08f7ee,Update master for stable/xena,MERGED,2021-09-15 02:11:12.000000000,2021-09-15 10:37:33.000000000,2021-09-15 10:35:39.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:11:12.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/f3487db23fa55114a97bb154728a76c71a41070a', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: Ic5bf30d9032e5532d73b23fa7991b16c7f08f7ee\n'}]",0,809075,f3487db23fa55114a97bb154728a76c71a41070a,7,2,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: Ic5bf30d9032e5532d73b23fa7991b16c7f08f7ee
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/75/809075/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,f3487db23fa55114a97bb154728a76c71a41070a,reno-xena, xena,,7,0
openstack%2Fmonasca-statsd~stable%2Fxena~Ied7eb40b673a100273353dc2ff93fea94e28448f,openstack/monasca-statsd,stable/xena,Ied7eb40b673a100273353dc2ff93fea94e28448f,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-10 14:32:15.000000000,2021-09-15 10:34:21.000000000,2021-09-15 10:34:21.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-09-10 14:32:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/136938945887dece898f4ed8df3c570245234f53', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ied7eb40b673a100273353dc2ff93fea94e28448f\n'}]",0,808262,136938945887dece898f4ed8df3c570245234f53,6,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ied7eb40b673a100273353dc2ff93fea94e28448f
",git fetch https://review.opendev.org/openstack/monasca-statsd refs/changes/62/808262/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,136938945887dece898f4ed8df3c570245234f53,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fzun-ui~stable%2Fxena~I385eca2b2abeaf02850a025f16fb9bbe73940473,openstack/zun-ui,stable/xena,I385eca2b2abeaf02850a025f16fb9bbe73940473,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-15 02:11:11.000000000,2021-09-15 10:31:07.000000000,2021-09-15 10:27:28.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:11:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/9d538ffe0f4c4ff0633d94977099b915e90f8185', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I385eca2b2abeaf02850a025f16fb9bbe73940473\n'}]",0,809074,9d538ffe0f4c4ff0633d94977099b915e90f8185,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I385eca2b2abeaf02850a025f16fb9bbe73940473
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/74/809074/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9d538ffe0f4c4ff0633d94977099b915e90f8185,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fmagnum-ui~stable%2Fxena~I5dfb7477a192c8c3e880ae5756db3bfe50953b81,openstack/magnum-ui,stable/xena,I5dfb7477a192c8c3e880ae5756db3bfe50953b81,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-15 02:10:55.000000000,2021-09-15 10:30:20.000000000,2021-09-15 10:28:24.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:10:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/c7cc455ff25770172325b11e92c41ff965b3810d', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I5dfb7477a192c8c3e880ae5756db3bfe50953b81\n'}]",0,809066,c7cc455ff25770172325b11e92c41ff965b3810d,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I5dfb7477a192c8c3e880ae5756db3bfe50953b81
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/66/809066/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c7cc455ff25770172325b11e92c41ff965b3810d,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fzun-ui~stable%2Fxena~I83f66baa5b645256ce81c4076d49d10c687d9f85,openstack/zun-ui,stable/xena,I83f66baa5b645256ce81c4076d49d10c687d9f85,Update .gitreview for stable/xena,MERGED,2021-09-15 02:11:10.000000000,2021-09-15 10:29:09.000000000,2021-09-15 10:27:27.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:11:10.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/2113dc2f1f856878d58b4c1e7c0093071231c384', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I83f66baa5b645256ce81c4076d49d10c687d9f85\n'}]",0,809073,2113dc2f1f856878d58b4c1e7c0093071231c384,7,2,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I83f66baa5b645256ce81c4076d49d10c687d9f85
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/73/809073/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,2113dc2f1f856878d58b4c1e7c0093071231c384,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fmagnum-ui~stable%2Fxena~Iee236e78862cf33b00a0121ebf27f593753aca58,openstack/magnum-ui,stable/xena,Iee236e78862cf33b00a0121ebf27f593753aca58,Update .gitreview for stable/xena,MERGED,2021-09-15 02:10:53.000000000,2021-09-15 10:27:58.000000000,2021-09-15 10:26:23.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:10:53.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/4dcc218bb63354cdaf9d2d119d1d17aac930dae3', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: Iee236e78862cf33b00a0121ebf27f593753aca58\n'}]",0,809065,4dcc218bb63354cdaf9d2d119d1d17aac930dae3,7,2,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: Iee236e78862cf33b00a0121ebf27f593753aca58
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/65/809065/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,4dcc218bb63354cdaf9d2d119d1d17aac930dae3,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fpython-monascaclient~stable%2Fxena~Ibf9dfb83f76f5d2c19dcde901e665b16dd31ac3c,openstack/python-monascaclient,stable/xena,Ibf9dfb83f76f5d2c19dcde901e665b16dd31ac3c,Update .gitreview for stable/xena,MERGED,2021-09-10 14:32:37.000000000,2021-09-15 10:09:04.000000000,2021-09-15 10:07:35.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-09-10 14:32:37.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/799cf49a853e7bc3db45314be4e5f5653fef49a1', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: Ibf9dfb83f76f5d2c19dcde901e665b16dd31ac3c\n'}]",0,808277,799cf49a853e7bc3db45314be4e5f5653fef49a1,7,2,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: Ibf9dfb83f76f5d2c19dcde901e665b16dd31ac3c
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/77/808277/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,799cf49a853e7bc3db45314be4e5f5653fef49a1,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fmonasca-common~stable%2Fxena~If16d80f3c18c63ccd7ce698b7e6326a7b1d1db35,openstack/monasca-common,stable/xena,If16d80f3c18c63ccd7ce698b7e6326a7b1d1db35,Update .gitreview for stable/xena,MERGED,2021-09-10 14:31:59.000000000,2021-09-15 10:06:19.000000000,2021-09-15 10:06:19.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-09-10 14:31:59.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/c74feb396370f5867ce90091b2c525a7e8894b70', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: If16d80f3c18c63ccd7ce698b7e6326a7b1d1db35\n'}]",0,808244,c74feb396370f5867ce90091b2c525a7e8894b70,6,2,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: If16d80f3c18c63ccd7ce698b7e6326a7b1d1db35
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/44/808244/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c74feb396370f5867ce90091b2c525a7e8894b70,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fmonasca-statsd~stable%2Fxena~Ic95226f60735257b0f6a62980f8d4c0d1247a2c7,openstack/monasca-statsd,stable/xena,Ic95226f60735257b0f6a62980f8d4c0d1247a2c7,Update .gitreview for stable/xena,MERGED,2021-09-10 14:32:13.000000000,2021-09-15 10:04:17.000000000,2021-09-15 10:04:17.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-09-10 14:32:13.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/2a85217bf904576f7f5a01934160ad0c24e0f9db', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: Ic95226f60735257b0f6a62980f8d4c0d1247a2c7\n'}]",0,808260,2a85217bf904576f7f5a01934160ad0c24e0f9db,6,2,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: Ic95226f60735257b0f6a62980f8d4c0d1247a2c7
",git fetch https://review.opendev.org/openstack/monasca-statsd refs/changes/60/808260/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,2a85217bf904576f7f5a01934160ad0c24e0f9db,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fcinder~stable%2Fvictoria~Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5,openstack/cinder,stable/victoria,Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5,Allow removing NFS snapshots in error status,MERGED,2021-08-31 11:53:19.000000000,2021-09-15 10:03:34.000000000,2021-09-15 09:59:40.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32266}]","[{'number': 1, 'created': '2021-08-31 11:53:19.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_nfs.py', 'cinder/volume/drivers/nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fb0efc42149fab524a9d3a95f01b7b71e954f314', 'message': 'Allow removing NFS snapshots in error status\n\nThe NFS driver doesn\'t allow to delete snapshots in error state when\nsnapshot support is disable.\n\nI\'m facing some scenarios where snapshots are enabled then a snapshot\nis created and after that then snapshots are disabled. This results\nin error state snapshots that can\'t be deleted.  Another scenario is\n- with nfs snapshot support disable from the beginning- the API layer\nallows the snapshot to be created but the NFS driver sets the status\nto ""error"" leaving the snapshot in the DB with error state.\nBecause of that, I have snapshots in error state that I\'m not able\nto delete.\n\nThe purpose of this fix allow deleting snapshots in error state.\nIt makes sense to block creating snapshots when snapshot support is\nFalse. However, when deleting snapshot we don\'t want to block\nattempts to delete a broken snapshot DB entry, which is necessary to\nclean up a failed snapshot create.\n\nCloses-Bug: #1842088\nChange-Id: Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5\n(cherry picked from commit 5714bdb8447a38440585116f784a322143711959)\n(cherry picked from commit 5a4f3ac53a554ecaa18cbd0a49c0606dff4e1137)\n'}]",0,806696,fb0efc42149fab524a9d3a95f01b7b71e954f314,20,4,1,20813,,,0,"Allow removing NFS snapshots in error status

The NFS driver doesn't allow to delete snapshots in error state when
snapshot support is disable.

I'm facing some scenarios where snapshots are enabled then a snapshot
is created and after that then snapshots are disabled. This results
in error state snapshots that can't be deleted.  Another scenario is
- with nfs snapshot support disable from the beginning- the API layer
allows the snapshot to be created but the NFS driver sets the status
to ""error"" leaving the snapshot in the DB with error state.
Because of that, I have snapshots in error state that I'm not able
to delete.

The purpose of this fix allow deleting snapshots in error state.
It makes sense to block creating snapshots when snapshot support is
False. However, when deleting snapshot we don't want to block
attempts to delete a broken snapshot DB entry, which is necessary to
clean up a failed snapshot create.

Closes-Bug: #1842088
Change-Id: Ieb19d5e3f58ae2343b6b145772fec33cb7517ab5
(cherry picked from commit 5714bdb8447a38440585116f784a322143711959)
(cherry picked from commit 5a4f3ac53a554ecaa18cbd0a49c0606dff4e1137)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/806696/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_nfs.py', 'cinder/volume/drivers/nfs.py']",2,fb0efc42149fab524a9d3a95f01b7b71e954f314,bug/1842088-stable/wallaby-stable/victoria,, self._check_snapshot_support(),3,1
openstack%2Fcinder~stable%2Fvictoria~Idc03d997cfedfc2fcc967cca519997d157df115a,openstack/cinder,stable/victoria,Idc03d997cfedfc2fcc967cca519997d157df115a,Fix instance locality scheduler filter,MERGED,2021-06-27 11:19:15.000000000,2021-09-15 10:02:00.000000000,2021-09-15 09:59:30.000000000,"[{'_account_id': 7198}, {'_account_id': 9542}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-06-27 11:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b5e1e59fb3f686b8d1cae3257346f6435be6f18d', 'message': 'Fix instance locality scheduler filter\n\nthe filter tries to use list_extensions API of novaclient,\nhowever it was removed in Ussuri release\nhttps://review.opendev.org/c/openstack/python-novaclient/+/686516\n\nAll the former extensions are long ago rolled into Nova ""core"" code,\nso we may take the ""extension"" this filter depends on as given.\n\nChange-Id: Idc03d997cfedfc2fcc967cca519997d157df115a\n(cherry picked from commit 738f81feebff0568f10c4c058a3173755d08a1e9)\n'}, {'number': 2, 'created': '2021-08-24 10:53:16.000000000', 'files': ['cinder/compute/nova.py', 'cinder/scheduler/filters/instance_locality_filter.py', 'cinder/tests/unit/scheduler/test_host_filters.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f5935c1f56db57e6370a0ab7a8d0da62eff665b8', 'message': 'Fix instance locality scheduler filter\n\nthe filter tries to use list_extensions API of novaclient,\nhowever it was removed in Ussuri release\nhttps://review.opendev.org/c/openstack/python-novaclient/+/686516\n\nAll the former extensions are long ago rolled into Nova ""core"" code,\nso we may take the ""extension"" this filter depends on as given.\n\nChange-Id: Idc03d997cfedfc2fcc967cca519997d157df115a\n(cherry picked from commit 738f81feebff0568f10c4c058a3173755d08a1e9)\n(cherry picked from commit d2dc171b02f0a87be296726561ffb5da8339b916)\n'}]",2,798098,f5935c1f56db57e6370a0ab7a8d0da62eff665b8,35,6,2,23950,,,0,"Fix instance locality scheduler filter

the filter tries to use list_extensions API of novaclient,
however it was removed in Ussuri release
https://review.opendev.org/c/openstack/python-novaclient/+/686516

All the former extensions are long ago rolled into Nova ""core"" code,
so we may take the ""extension"" this filter depends on as given.

Change-Id: Idc03d997cfedfc2fcc967cca519997d157df115a
(cherry picked from commit 738f81feebff0568f10c4c058a3173755d08a1e9)
(cherry picked from commit d2dc171b02f0a87be296726561ffb5da8339b916)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/798098/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/compute/nova.py', 'cinder/scheduler/filters/instance_locality_filter.py', 'cinder/tests/unit/scheduler/test_host_filters.py']",3,b5e1e59fb3f686b8d1cae3257346f6435be6f18d,no-nova-api-ext-stable/victoria, mock_get = mock_novaclient.return_value.servers.get mock_get.side_effect = request_exceptions.Timeout," def test_nova_no_extended_server_attributes(self, _mock_novaclient): _mock_novaclient.return_value = fakes.FakeNovaClient( ext_srv_attr=False) filt_cls = self.class_map['InstanceLocalityFilter']() host = fakes.FakeBackendState('host1', {}) uuid = nova.novaclient().servers.create('host1') filter_properties = {'context': self.context, 'scheduler_hints': {'local_to_instance': uuid}, 'request_spec': {'volume_id': fake.VOLUME_ID}} self.assertRaises(exception.CinderException, filt_cls.backend_passes, host, filter_properties) @mock.patch('cinder.compute.nova.novaclient') mock_show_all = mock_novaclient.return_value.list_extensions.show_all mock_show_all.side_effect = request_exceptions.Timeout",2,43
openstack%2Fswift~master~I8f2f247dd113ad637b17d241133b14c35cadecae,openstack/swift,master,I8f2f247dd113ad637b17d241133b14c35cadecae,func test improvements,MERGED,2021-09-15 04:51:20.000000000,2021-09-15 10:01:30.000000000,2021-09-15 09:59:37.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 04:51:20.000000000', 'files': ['test/functional/s3api/test_multi_delete.py', 'test/functional/s3api/s3_test_client.py', 'test/functional/s3api/__init__.py', 'test/functional/s3api/test_bucket.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b4e532a46f27b8e757206d64b1238618eea6bdf6', 'message': 'func test improvements\n\nNot all v1 auth systems use an acct:user format; s3api tests should not require it.\n\nBe a little more tolerant of listing consistency issues when resetting.\n\nTolerate s3api /info results returning strings instead of ints.\n\nRelated-Change: I4a46bd650a53f88c642d402e697869df28bd2fd3\nChange-Id: I8f2f247dd113ad637b17d241133b14c35cadecae\n'}]",0,809114,b4e532a46f27b8e757206d64b1238618eea6bdf6,9,4,1,15343,,,0,"func test improvements

Not all v1 auth systems use an acct:user format; s3api tests should not require it.

Be a little more tolerant of listing consistency issues when resetting.

Tolerate s3api /info results returning strings instead of ints.

Related-Change: I4a46bd650a53f88c642d402e697869df28bd2fd3
Change-Id: I8f2f247dd113ad637b17d241133b14c35cadecae
",git fetch https://review.opendev.org/openstack/swift refs/changes/14/809114/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/functional/s3api/test_multi_delete.py', 'test/functional/s3api/s3_test_client.py', 'test/functional/s3api/__init__.py', 'test/functional/s3api/test_bucket.py']",4,b4e532a46f27b8e757206d64b1238618eea6bdf6,," max_bucket_listing = int(tf.cluster_info['s3api'].get( 'max_bucket_listing', 1000)) try: self.conn.create_bucket(Bucket=bucket) except botocore.exceptions.ClientError as e: err_code = e.response.get('Error', {}).get('Code') if err_code != 'BucketAlreadyOwnedByYou': raise "," max_bucket_listing = tf.cluster_info['s3api'].get( 'max_bucket_listing', 1000) self.conn.create_bucket(Bucket=bucket)",30,9
openstack%2Fneutron~master~I7bdefea943379125f93b116bb899446b874d9505,openstack/neutron,master,I7bdefea943379125f93b116bb899446b874d9505,[DVR] Set arp entries only for single IPs given as allowed addr pair,MERGED,2021-07-08 14:02:53.000000000,2021-09-15 10:01:25.000000000,2021-09-15 09:59:24.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9542}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 33145}]","[{'number': 1, 'created': '2021-07-08 14:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/73843e506cf433dd487f56bb50ed35eeeecc5003', 'message': '[DVR] Set arp entries for all IPs from CIDR given as allowed addr pair\n\nIn allowed address pairs of the port there can be given not single IP\naddress but whole CIDR. In such case ARP entries for all IPs from such\ncidr should be added in the routers namespace.\n\nCloses-Bug: #1934912\nChange-Id: I7bdefea943379125f93b116bb899446b874d9505\n'}, {'number': 2, 'created': '2021-08-03 13:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a5e1e6155378910f47c8f2f60c9d950ed29db863', 'message': '[DVR] Set arp entries only for single IPs given as allowed addr pair\n\nIn allowed address pairs of the port there can be given not single IP\naddress but whole CIDR. In such case ARP entries for IPs from such\ncidr will not be added in the DVR router namespace.\n\nCloses-Bug: #1934912\nChange-Id: I7bdefea943379125f93b116bb899446b874d9505\n'}, {'number': 3, 'created': '2021-08-26 19:09:06.000000000', 'files': ['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/19375b3e78ad6b635793b716e5ecabd53dc73a76', 'message': '[DVR] Set arp entries only for single IPs given as allowed addr pair\n\nIn allowed address pairs of the port there can be given not single IP\naddress but whole CIDR. In such case ARP entries for IPs from such\ncidr will not be added in the DVR router namespace.\n\nCloses-Bug: #1934912\nChange-Id: I7bdefea943379125f93b116bb899446b874d9505\n'}]",12,800059,19375b3e78ad6b635793b716e5ecabd53dc73a76,81,8,3,11975,,,0,"[DVR] Set arp entries only for single IPs given as allowed addr pair

In allowed address pairs of the port there can be given not single IP
address but whole CIDR. In such case ARP entries for IPs from such
cidr will not be added in the DVR router namespace.

Closes-Bug: #1934912
Change-Id: I7bdefea943379125f93b116bb899446b874d9505
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/800059/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py']",2,73843e506cf433dd487f56bb50ed35eeeecc5003,bug/1934912," allowed_address_pair_net = netaddr.IPNetwork( allowed_address_pair['ip_address']) for ip_address in allowed_address_pair_net: self._update_arp_entry( str(ip_address), allowed_address_pair['mac_address'], subnet_id, 'add', device=device, device_exists=device_exists)"," self._update_arp_entry(allowed_address_pair['ip_address'], allowed_address_pair['mac_address'], subnet_id, 'add', device=device, device_exists=device_exists)",16,7
openstack%2Fpython-swiftclient~master~Ifab29d9c803a78ee994b99b4b410893864b90908,openstack/python-swiftclient,master,Ifab29d9c803a78ee994b99b4b410893864b90908,Clean up extra spaces,MERGED,2021-09-15 05:56:06.000000000,2021-09-15 10:01:21.000000000,2021-09-15 09:59:28.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 05:56:06.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/afa2c4642a467862a34dea48dc2bd4c9203c6a2a', 'message': 'Clean up extra spaces\n\nAlthough these errors are not important, they affect the code specification.\n\nChange-Id: Ifab29d9c803a78ee994b99b4b410893864b90908\n'}]",0,809118,afa2c4642a467862a34dea48dc2bd4c9203c6a2a,7,2,1,30449,,,0,"Clean up extra spaces

Although these errors are not important, they affect the code specification.

Change-Id: Ifab29d9c803a78ee994b99b4b410893864b90908
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/18/809118/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,afa2c4642a467862a34dea48dc2bd4c9203c6a2a,, exit 1;, exit 1; ,1,1
openstack%2Fcinder~stable%2Fvictoria~I179f23d3e6c62d02c069be0dd3d60968a2119568,openstack/cinder,stable/victoria,I179f23d3e6c62d02c069be0dd3d60968a2119568,Add libcgroup related packages in bindep.txt,MERGED,2021-08-23 00:47:12.000000000,2021-09-15 09:59:34.000000000,2021-09-15 09:59:34.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-08-23 00:47:12.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e2aad0ead12e58dda1eaf160d4273c94159633a8', 'message': 'Add libcgroup related packages in bindep.txt\n\nTo use volume_copy_bps_limit option, libcgroup package is required.\nThis change adds cgroup-tools for dpkg based distros and libcgroup-tools\nfor rpm based distros.\n\nCloses-Bug: #1931049\nChange-Id: I179f23d3e6c62d02c069be0dd3d60968a2119568\n(cherry picked from commit ca1e0bd76beafa20a2240260b1a5116b6ea6bfcd)\n(cherry picked from commit ba4dc6f937821451e476a8e6bd2fcb01c21542e2)\n'}]",0,805529,e2aad0ead12e58dda1eaf160d4273c94159633a8,21,4,1,25613,,,0,"Add libcgroup related packages in bindep.txt

To use volume_copy_bps_limit option, libcgroup package is required.
This change adds cgroup-tools for dpkg based distros and libcgroup-tools
for rpm based distros.

Closes-Bug: #1931049
Change-Id: I179f23d3e6c62d02c069be0dd3d60968a2119568
(cherry picked from commit ca1e0bd76beafa20a2240260b1a5116b6ea6bfcd)
(cherry picked from commit ba4dc6f937821451e476a8e6bd2fcb01c21542e2)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/29/805529/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,e2aad0ead12e58dda1eaf160d4273c94159633a8,bug/1931049-stable/wallaby-stable/victoria,libcgroup-tools [platform:rpm] cgroup-tools [platform:dpkg],,2,0
openstack%2Fkayobe~master~I670593ba8cbcd7c523b9bd6c42b4d0ca29e856ea,openstack/kayobe,master,I670593ba8cbcd7c523b9bd6c42b4d0ca29e856ea,Sync documentation with kolla_openstack_custom_config,MERGED,2021-09-14 09:36:44.000000000,2021-09-15 09:58:58.000000000,2021-09-15 09:55:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 09:36:44.000000000', 'files': ['doc/source/configuration/reference/kolla-ansible.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/080e7203ddd41d4d9e0b3b96c99691f67b24a3c2', 'message': 'Sync documentation with kolla_openstack_custom_config\n\nChange-Id: I670593ba8cbcd7c523b9bd6c42b4d0ca29e856ea\n'}]",0,808919,080e7203ddd41d4d9e0b3b96c99691f67b24a3c2,7,2,1,15197,,,0,"Sync documentation with kolla_openstack_custom_config

Change-Id: I670593ba8cbcd7c523b9bd6c42b4d0ca29e856ea
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/19/808919/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/reference/kolla-ansible.rst'],1,080e7203ddd41d4d9e0b3b96c99691f67b24a3c2,, ``elasticsearch/*`` Elasticsearch configuration. ``prometheus/*`` Prometheus configuration.,,2,0
openstack%2Fkayobe~master~I4ed284173841def54953d832c3fcd288e1d2605a,openstack/kayobe,master,I4ed284173841def54953d832c3fcd288e1d2605a,Fix typo in inspector.yml,MERGED,2021-09-14 16:17:54.000000000,2021-09-15 09:57:33.000000000,2021-09-15 09:55:39.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 16:17:54.000000000', 'files': ['etc/kayobe/inspector.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cc6ccba2e8d8333499b8240de05df4aeb2c9a3a0', 'message': 'Fix typo in inspector.yml\n\nChange-Id: I4ed284173841def54953d832c3fcd288e1d2605a\n'}]",0,808996,cc6ccba2e8d8333499b8240de05df4aeb2c9a3a0,7,2,1,15197,,,0,"Fix typo in inspector.yml

Change-Id: I4ed284173841def54953d832c3fcd288e1d2605a
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/96/808996/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/inspector.yml'],1,cc6ccba2e8d8333499b8240de05df4aeb2c9a3a0,typo-fix,# List of default ironic inspector rules.,# List of default ironic insepctor rules.,1,1
openstack%2Fosc-placement~stable%2Fxena~I9964027d5a37de94d941d1b7b4ea909ab52f4c3d,openstack/osc-placement,stable/xena,I9964027d5a37de94d941d1b7b4ea909ab52f4c3d,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-10 15:21:04.000000000,2021-09-15 09:56:09.000000000,2021-09-15 09:54:12.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-10 15:21:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/486ad44e40a08c12dad2adbc6521277a55c46383', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I9964027d5a37de94d941d1b7b4ea909ab52f4c3d\n'}]",0,808457,486ad44e40a08c12dad2adbc6521277a55c46383,9,4,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I9964027d5a37de94d941d1b7b4ea909ab52f4c3d
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/57/808457/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,486ad44e40a08c12dad2adbc6521277a55c46383,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fpuppet-mistral~master~I531c77be952daf3f0e86185b9588307da2d1e492,openstack/puppet-mistral,master,I531c77be952daf3f0e86185b9588307da2d1e492,Add watch_log_file option,MERGED,2021-09-14 08:02:55.000000000,2021-09-15 09:50:22.000000000,2021-09-15 09:48:31.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:55.000000000', 'files': ['releasenotes/notes/add_watch_log_file-option-8659aea1935f31dd.yaml', 'spec/classes/mistral_logging_spec.rb', 'manifests/logging.pp'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/de3ab7883f3786b223392b1aaaf3cb52c08cbb8f', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: I531c77be952daf3f0e86185b9588307da2d1e492\nCloses-Bug: #1943212\n'}]",0,808887,de3ab7883f3786b223392b1aaaf3cb52c08cbb8f,14,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: I531c77be952daf3f0e86185b9588307da2d1e492
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/87/808887/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_watch_log_file-option-8659aea1935f31dd.yaml', 'spec/classes/mistral_logging_spec.rb', 'manifests/logging.pp']",3,de3ab7883f3786b223392b1aaaf3cb52c08cbb8f,bug/1943212,"# [*watch_log_file*] # (Optional) Uses logging handler designed to watch file system (boolean value). # Defaults to $::os_service_default # $watch_log_file = $::os_service_default, watch_log_file => $watch_log_file,",,13,0
openstack%2Fpython-novaclient~stable%2Fxena~Ie9ef2745253058110f795e4cdad3830b6645910d,openstack/python-novaclient,stable/xena,Ie9ef2745253058110f795e4cdad3830b6645910d,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-10 15:22:30.000000000,2021-09-15 09:48:27.000000000,2021-09-15 09:45:25.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-10 15:22:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/7304e482f1f5061751760531805275dca5209be3', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ie9ef2745253058110f795e4cdad3830b6645910d\n'}]",0,808460,7304e482f1f5061751760531805275dca5209be3,9,4,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ie9ef2745253058110f795e4cdad3830b6645910d
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/60/808460/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7304e482f1f5061751760531805275dca5209be3,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
openstack%2Fpython-novaclient~stable%2Fxena~I506e39b82367a8ca9dc4098a46d2b9ea3032898a,openstack/python-novaclient,stable/xena,I506e39b82367a8ca9dc4098a46d2b9ea3032898a,Update .gitreview for stable/xena,MERGED,2021-09-10 15:22:22.000000000,2021-09-15 09:47:02.000000000,2021-09-15 09:45:23.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-10 15:22:22.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/db85335521f51835cafde2b79e30aaa09c0fbf62', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I506e39b82367a8ca9dc4098a46d2b9ea3032898a\n'}]",0,808459,db85335521f51835cafde2b79e30aaa09c0fbf62,9,4,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I506e39b82367a8ca9dc4098a46d2b9ea3032898a
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/59/808459/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,db85335521f51835cafde2b79e30aaa09c0fbf62,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fkuryr-kubernetes~stable%2Fxena~I7d582a471fa0f1e55d999b9c20b84508736d1223,openstack/kuryr-kubernetes,stable/xena,I7d582a471fa0f1e55d999b9c20b84508736d1223,Update .gitreview for stable/xena,MERGED,2021-09-15 02:34:11.000000000,2021-09-15 09:45:48.000000000,2021-09-15 09:44:16.000000000,"[{'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-09-15 02:34:11.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/36f6d76de4d0286df73fd0b9aa0107d3ddf4d9b8', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I7d582a471fa0f1e55d999b9c20b84508736d1223\n'}]",0,809103,36f6d76de4d0286df73fd0b9aa0107d3ddf4d9b8,8,3,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I7d582a471fa0f1e55d999b9c20b84508736d1223
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/03/809103/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,36f6d76de4d0286df73fd0b9aa0107d3ddf4d9b8,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fosc-placement~stable%2Fxena~I25bba284e597d21a49d47779c3056be4b80c8b28,openstack/osc-placement,stable/xena,I25bba284e597d21a49d47779c3056be4b80c8b28,Update .gitreview for stable/xena,MERGED,2021-09-10 15:21:00.000000000,2021-09-15 09:44:12.000000000,2021-09-15 09:42:39.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-10 15:21:00.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/297a327a8765e63e121b448bcc5bc79704f93fb2', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I25bba284e597d21a49d47779c3056be4b80c8b28\n'}]",0,808456,297a327a8765e63e121b448bcc5bc79704f93fb2,9,4,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I25bba284e597d21a49d47779c3056be4b80c8b28
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/56/808456/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,297a327a8765e63e121b448bcc5bc79704f93fb2,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fkuryr-kubernetes~master~Ief61397c9323e3504de07051a2279afc116f023b,openstack/kuryr-kubernetes,master,Ief61397c9323e3504de07051a2279afc116f023b,Update master for stable/xena,MERGED,2021-09-15 02:34:17.000000000,2021-09-15 09:41:06.000000000,2021-09-15 09:39:16.000000000,"[{'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-09-15 02:34:17.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/195c8e3abd525bfb70ff2076ecfeae0a6f117679', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: Ief61397c9323e3504de07051a2279afc116f023b\n'}]",0,809105,195c8e3abd525bfb70ff2076ecfeae0a6f117679,8,3,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: Ief61397c9323e3504de07051a2279afc116f023b
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/05/809105/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,195c8e3abd525bfb70ff2076ecfeae0a6f117679,reno-xena, xena,,7,0
openstack%2Fneutron-dynamic-routing~master~I5d773851136759117b048660d34209a601054a69,openstack/neutron-dynamic-routing,master,I5d773851136759117b048660d34209a601054a69,Use payload style callback,MERGED,2021-09-09 09:06:51.000000000,2021-09-15 09:38:47.000000000,2021-09-15 09:37:08.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-09 09:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/fab77f993e76f1cda0969995b8cebbed726aa659', 'message': 'Use payload style callback\n\nNeutron-lib registry.notify will be removed\n\nChange-Id: I5d773851136759117b048660d34209a601054a69\n'}, {'number': 2, 'created': '2021-09-09 14:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/966a82389d33ae41d50295bc60394f3a3ada85a4', 'message': 'Use payload style callback\n\nNeutron-lib registry.notify will be removed\n\nChange-Id: I5d773851136759117b048660d34209a601054a69\n'}, {'number': 3, 'created': '2021-09-13 12:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/203c0a961bf8f17b7e61ff5f366530a7ee7db8b1', 'message': 'Use payload style callback\n\nNeutron-lib registry.notify will be removed\n\nChange-Id: I5d773851136759117b048660d34209a601054a69\n'}, {'number': 4, 'created': '2021-09-13 12:31:13.000000000', 'files': ['neutron_dynamic_routing/services/bgp/bgp_plugin.py', 'neutron_dynamic_routing/tests/unit/services/bgp/test_bgp_plugin.py', 'neutron_dynamic_routing/tests/unit/services/bgp/scheduler/test_bgp_dragent_scheduler.py', 'neutron_dynamic_routing/services/bgp/scheduler/bgp_dragent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/cae03eaa496b149c8655fe4e76a5538e51b106e3', 'message': 'Use payload style callback\n\nNeutron-lib registry.notify will be removed\n\nChange-Id: I5d773851136759117b048660d34209a601054a69\n'}]",0,808024,cae03eaa496b149c8655fe4e76a5538e51b106e3,20,5,4,32667,,,0,"Use payload style callback

Neutron-lib registry.notify will be removed

Change-Id: I5d773851136759117b048660d34209a601054a69
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/24/808024/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_dynamic_routing/services/bgp/bgp_plugin.py', 'neutron_dynamic_routing/tests/unit/services/bgp/test_bgp_plugin.py', 'neutron_dynamic_routing/tests/unit/services/bgp/scheduler/test_bgp_dragent_scheduler.py', 'neutron_dynamic_routing/services/bgp/scheduler/bgp_dragent_scheduler.py']",4,fab77f993e76f1cda0969995b8cebbed726aa659,payload_callback," plugin = payload.metadata['plugin'] bgp_speaker = payload.latest_state plugin.schedule_bgp_speaker(ctx, bgp_speaker)"," plugin = payload['plugin'] plugin.schedule_bgp_speaker(ctx, payload['bgp_speaker'])",23,17
openstack%2Fkolla-ansible~master~I7f472a27eb9f2e1f267d7c4bac22236cdd076322,openstack/kolla-ansible,master,I7f472a27eb9f2e1f267d7c4bac22236cdd076322,gnocchi: fix external ceph integration when gnocchi-statsd is disabled,MERGED,2021-03-25 08:39:01.000000000,2021-09-15 09:34:59.000000000,2021-09-15 09:33:03.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-25 08:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1518bb1a9d42077758fec4f96d44cb13c8d2dc03', 'message': 'gnocchi: fix external ceph integration when gnocchi-stats is disabled\n\nChange-Id: I7f472a27eb9f2e1f267d7c4bac22236cdd076322\n'}, {'number': 2, 'created': '2021-03-25 08:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ceef1c9e2274f8c32f9b5fcb49884fda8d87264c', 'message': 'gnocchi: fix external ceph integration when gnocchi-statsd is disabled\n\nChange-Id: I7f472a27eb9f2e1f267d7c4bac22236cdd076322\n'}, {'number': 3, 'created': '2021-05-13 08:12:02.000000000', 'files': ['releasenotes/notes/fix-gnocchi-statsd-a56c789a3da758a6.yaml', 'ansible/roles/gnocchi/tasks/external_ceph.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6230971b9297f67ff92e61a9a6e9203b499d6587', 'message': 'gnocchi: fix external ceph integration when gnocchi-statsd is disabled\n\nCloses-Bug: #1926914\n\nChange-Id: I7f472a27eb9f2e1f267d7c4bac22236cdd076322\n'}]",0,782916,6230971b9297f67ff92e61a9a6e9203b499d6587,19,5,3,167,,,0,"gnocchi: fix external ceph integration when gnocchi-statsd is disabled

Closes-Bug: #1926914

Change-Id: I7f472a27eb9f2e1f267d7c4bac22236cdd076322
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/782916/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/gnocchi/tasks/external_ceph.yml'],1,1518bb1a9d42077758fec4f96d44cb13c8d2dc03,fix/gnocchi-ceph-external," dest: ""{{ node_config_directory }}/{{ item.key }}/ceph.conf"" when: - inventory_hostname in groups[item.value.group] - item.value.enabled | bool with_dict: ""{{ gnocchi_services }}"" notify: - Restart {{ item.key }} container dest: ""{{ node_config_directory }}/{{ item.key }}/{{ ceph_gnocchi_keyring }}"" when: - inventory_hostname in groups[item.value.group] - item.value.enabled | bool with_dict: ""{{ gnocchi_services }}"" notify: - Restart {{ item.key }} container path: ""{{ node_config_directory }}/{{ item.key }}"" when: - inventory_hostname in groups[item.value.group] - item.value.enabled | bool with_dict: ""{{ gnocchi_services }}"""," dest: ""{{ node_config_directory }}/{{ item }}/ceph.conf"" when: inventory_hostname in groups[item] with_items: - ""gnocchi-api"" - ""gnocchi-metricd"" - ""gnocchi-statsd"" notify: - Restart {{ item }} container dest: ""{{ node_config_directory }}/{{ item }}/{{ ceph_gnocchi_keyring }}"" when: inventory_hostname in groups[item] with_items: - ""gnocchi-api"" - ""gnocchi-metricd"" - ""gnocchi-statsd"" notify: - Restart {{ item }} container path: ""{{ node_config_directory }}/{{ item }}"" when: inventory_hostname in groups[item] with_items: - ""gnocchi-api"" - ""gnocchi-metricd"" - ""gnocchi-statsd""",17,20
openstack%2Ftacker~master~I8decbb42d661a44c6c382cb1abbfc37d95084ffb,openstack/tacker,master,I8decbb42d661a44c6c382cb1abbfc37d95084ffb,Fix status code for invalid filter conditions,MERGED,2021-09-02 10:18:18.000000000,2021-09-15 09:20:39.000000000,2021-09-15 09:18:00.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 31417}, {'_account_id': 31813}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 33455}]","[{'number': 1, 'created': '2021-09-02 10:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/dbf4661d2d7b861ac30904c6d837dcb25dfad35f', 'message': ""Fix status code for invalid filter conditions\n\nThe current tacker returns 500 Internal Server Error to requests with\ninvalid filter conditions where a VNFID is not UUID.  However, as the\nerror is caused by a bad request, the status code should be 400.\n\nThis bug occurs because data types of 'id' and 'vnfd_Id' in TackerObject\nare 'string' which don't match the data types in DB, i.e., UUID.  In\norder to fix this bug, those data types in TackerObject are changed to\n'uuid'.\n\nCloses-Bug: 1924666\nCloses-Bug: 1926632\nChange-Id: I8decbb42d661a44c6c382cb1abbfc37d95084ffb\n""}, {'number': 2, 'created': '2021-09-03 06:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c267eab39f85e338f957f6bebb4a6d60ff1f0878', 'message': ""[WIP] Fix status code for invalid filter conditions\n\nThe current tacker returns 500 Internal Server Error to requests with\ninvalid filter conditions where a VNFID is not UUID.  However, as the\nerror is caused by a bad request, the status code should be 400.\n\nThis bug occurs because data types of 'id' and 'vnfd_Id' in TackerObject\nare 'string' which don't match the data types in DB, i.e., UUID.  In\norder to fix this bug, those data types in TackerObject are changed to\n'uuid'.\n\nCloses-Bug: 1924666\nCloses-Bug: 1926632\nChange-Id: I8decbb42d661a44c6c382cb1abbfc37d95084ffb\n""}, {'number': 3, 'created': '2021-09-09 09:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/eaeafa6f7347e576a58ccd8a673219848a85d3c6', 'message': ""[WIP] Fix status code for invalid filter conditions\n\nThe current tacker returns 500 Internal Server Error to requests with\ninvalid filter conditions where a VNFID is not UUID.  However, as the\nerror is caused by a bad request, the status code should be 400.\n\nThis bug occurs because data types of 'id' and 'vnfd_Id' in TackerObject\nare 'string' which don't match the data types in DB, i.e., UUID.  In\norder to fix this bug, those data types in TackerObject are changed to\n'uuid'.\n\nCloses-Bug: 1924666\nCloses-Bug: 1926632\nChange-Id: I8decbb42d661a44c6c382cb1abbfc37d95084ffb\n""}, {'number': 4, 'created': '2021-09-10 00:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a6e3d86cf453f069d800f0d242093cc36356705d', 'message': ""Fix status code for invalid filter conditions\n\nThe current tacker returns 500 Internal Server Error to requests with\ninvalid filter conditions where a VNFID is not UUID.  However, as the\nerror is caused by a bad request, the status code should be 400.\n\nThis bug occurs because data types of 'id' and 'vnfd_Id' in TackerObject\nare 'string' which don't match the data types in DB, i.e., UUID.  In\norder to fix this bug, those data types in TackerObject are changed to\n'uuid'.\n\nCloses-Bug: 1924666\nCloses-Bug: 1926632\nChange-Id: I8decbb42d661a44c6c382cb1abbfc37d95084ffb\n""}, {'number': 5, 'created': '2021-09-13 06:29:42.000000000', 'files': ['tacker/api/common/_filters.py', 'tacker/objects/vnf_software_image.py', 'tacker/objects/vnf_instantiated_info.py', 'tacker/tests/unit/vnfpkgm/test_controller.py', 'tacker/objects/vnf_lcm_subscriptions.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/objects/vnf_instance.py', 'tacker/objects/vnf_package.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/7add03725937d6bc8ea7a975f868ea877fe7b5e2', 'message': ""Fix status code for invalid filter conditions\n\nThe current tacker returns 500 Internal Server Error to requests with\ninvalid filter conditions where a VNFID is not UUID. However, as the\nerror is caused by a bad request, the status code should be 400.\n\nThis bug occurs because data types of 'id' and 'vnfd_Id' in TackerObject\nare 'string' which don't match the data types in DB, i.e., UUID. In\norder to fix this bug, those data types in TackerObject are changed to\n'uuid'.\n\nCloses-Bug: 1924666\nCloses-Bug: 1926632\nChange-Id: I8decbb42d661a44c6c382cb1abbfc37d95084ffb\n""}]",6,807106,7add03725937d6bc8ea7a975f868ea877fe7b5e2,23,9,5,33455,,,0,"Fix status code for invalid filter conditions

The current tacker returns 500 Internal Server Error to requests with
invalid filter conditions where a VNFID is not UUID. However, as the
error is caused by a bad request, the status code should be 400.

This bug occurs because data types of 'id' and 'vnfd_Id' in TackerObject
are 'string' which don't match the data types in DB, i.e., UUID. In
order to fix this bug, those data types in TackerObject are changed to
'uuid'.

Closes-Bug: 1924666
Closes-Bug: 1926632
Change-Id: I8decbb42d661a44c6c382cb1abbfc37d95084ffb
",git fetch https://review.opendev.org/openstack/tacker refs/changes/06/807106/5 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/api/common/_filters.py', 'tacker/tests/unit/vnfpkgm/test_controller.py', 'tacker/objects/vnf_package.py']",3,dbf4661d2d7b861ac30904c6d837dcb25dfad35f,bug/1924666," 'id': ('id', ""uuid"", 'VnfPackage'), 'vnfdId': ('vnfd.vnfd_id', 'uuid', 'VnfPackageVnfd'),"," 'id': ('id', ""string"", 'VnfPackage'), 'vnfdId': ('vnfd.vnfd_id', 'string', 'VnfPackageVnfd'),",23,21
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ib34130c15324f197eca275f97c18f24f17d8ced2,openstack/tripleo-heat-templates,stable/ussuri,Ib34130c15324f197eca275f97c18f24f17d8ced2,Example configurable cap add,MERGED,2021-09-05 14:06:32.000000000,2021-09-15 09:19:32.000000000,2021-09-15 09:19:32.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-05 14:06:32.000000000', 'files': ['deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2524af685fce49773d37a9085aae924db95d60e', 'message': 'Example configurable cap add\n\nChange-Id: Ib34130c15324f197eca275f97c18f24f17d8ced2\n(cherry picked from commit a94ff466c860549cd5fa7aa6f77a94cc4b0e67e3)\n(cherry picked from commit 65e827e5bf60d72d3c7f9b35d21fbe9e65a38988)\n(cherry picked from commit cf53dbf19bdaffebbf255dcec66476dfaf84307d)\n'}]",0,807380,b2524af685fce49773d37a9085aae924db95d60e,16,4,1,4264,,,0,"Example configurable cap add

Change-Id: Ib34130c15324f197eca275f97c18f24f17d8ced2
(cherry picked from commit a94ff466c860549cd5fa7aa6f77a94cc4b0e67e3)
(cherry picked from commit 65e827e5bf60d72d3c7f9b35d21fbe9e65a38988)
(cherry picked from commit cf53dbf19bdaffebbf255dcec66476dfaf84307d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/807380/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/collectd-container-puppet.yaml'],1,b2524af685fce49773d37a9085aae924db95d60e,cap_add_v-stable/ussuri, CollectdContainerAdditionalCapAdd: type: comma_delimited_list description: Additional container capabilities to add to the collectd container. By default is appended to IPC_LOCK. default: [] list_concat: - {get_param: CollectdContainerAdditionalCapAdd} - [IPC_LOCK], - IPC_LOCK,9,1
openstack%2Ftripleo-upgrade~stable%2Ftrain~I0a47608766c06c1fb8a2a3fb217cb13b7030afd1,openstack/tripleo-upgrade,stable/train,I0a47608766c06c1fb8a2a3fb217cb13b7030afd1,[DNM] Disable sanity test,ABANDONED,2021-09-03 14:15:42.000000000,2021-09-15 09:19:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-03 14:15:42.000000000', 'files': ['templates/overcloud_upgrade_run.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1fd4a5dc14e4eb4f1a55152b7beb58b90281127a', 'message': '[DNM] Disable sanity test\n\nAt the moment we need to test workload test without creating floating ip\nand connectivity to vm\n\nChange-Id: I0a47608766c06c1fb8a2a3fb217cb13b7030afd1\n'}]",0,807339,1fd4a5dc14e4eb4f1a55152b7beb58b90281127a,3,1,1,11090,,,0,"[DNM] Disable sanity test

At the moment we need to test workload test without creating floating ip
and connectivity to vm

Change-Id: I0a47608766c06c1fb8a2a3fb217cb13b7030afd1
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/39/807339/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/overcloud_upgrade_run.sh.j2'],1,1fd4a5dc14e4eb4f1a55152b7beb58b90281127a,,bash {{ working_dir }}/workload_launch.sh,bash {{ working_dir }}/workload_launch.sh 'sanity',1,1
openstack%2Fcharm-glance~master~I7f17acb4cc4a83fc15655bf6e15c8ff3b3fe92ff,openstack/charm-glance,master,I7f17acb4cc4a83fc15655bf6e15c8ff3b3fe92ff,Sync charmhelpers for xena install support,MERGED,2021-09-14 09:45:55.000000000,2021-09-15 09:17:51.000000000,2021-09-15 09:17:51.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-09-14 09:45:55.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/osplatform.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/core/strutils.py', 'charmhelpers/fetch/python/packages.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/amulet/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/638c9b6cb521dc5bca430feb48df81c42312de12', 'message': 'Sync charmhelpers for xena install support\n\nThis is a pre-xena-bundles sync so that other charms that\ndepend on this can be merged.\n\nChange-Id: I7f17acb4cc4a83fc15655bf6e15c8ff3b3fe92ff\n'}]",0,808920,638c9b6cb521dc5bca430feb48df81c42312de12,7,3,1,20870,,,0,"Sync charmhelpers for xena install support

This is a pre-xena-bundles sync so that other charms that
depend on this can be merged.

Change-Id: I7f17acb4cc4a83fc15655bf6e15c8ff3b3fe92ff
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/20/808920/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/osplatform.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/core/strutils.py', 'charmhelpers/fetch/python/packages.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/amulet/__init__.py']",16,638c9b6cb521dc5bca430feb48df81c42312de12,focal-xena-bundles,,"# Copyright 2014-2015 Canonical Limited. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. ",254,2069
openstack%2Fskyline-console~master~I65ae489bf29e61e9745a987c0a42d9aeafc97014,openstack/skyline-console,master,I65ae489bf29e61e9745a987c0a42d9aeafc97014,feat: Refactor project list page,MERGED,2021-09-15 08:08:00.000000000,2021-09-15 09:03:18.000000000,2021-09-15 09:03:18.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-09-15 08:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/a0d3ab81d01fb93c67f220a0fe073c581399f18d', 'message': 'feat: Refactor project list page\n\n1. Refactor project list page\n2. Remove useless func\n\nChange-Id: I65ae489bf29e61e9745a987c0a42d9aeafc97014\n'}, {'number': 2, 'created': '2021-09-15 08:11:13.000000000', 'files': ['src/pages/identity/containers/Role/index.jsx', 'src/components/Tables/Base/index.jsx', 'src/pages/identity/containers/Domain/index.jsx', 'src/pages/identity/containers/Project/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/f50df3da8dbace6b347565bf17088e62525e41c2', 'message': 'feat: Refactor project list page\n\n1. Refactor project list page\n2. Remove useless func\n\nChange-Id: I65ae489bf29e61e9745a987c0a42d9aeafc97014\n'}]",0,809154,f50df3da8dbace6b347565bf17088e62525e41c2,7,2,2,30434,,,0,"feat: Refactor project list page

1. Refactor project list page
2. Remove useless func

Change-Id: I65ae489bf29e61e9745a987c0a42d9aeafc97014
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/54/809154/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/identity/containers/Role/index.jsx', 'src/components/Tables/Base/index.jsx', 'src/pages/identity/containers/Domain/index.jsx', 'src/pages/identity/containers/Project/index.jsx']",4,a0d3ab81d01fb93c67f220a0fe073c581399f18d,master2,"import globalProjectStore, { ProjectStore } from 'stores/keystone/project'; this.store = this.inDetailPage ? new ProjectStore() : globalProjectStore; get inProject() { const { pathname } = this.props.location; return pathname.includes('project-admin'); } get inUserDetail() { const { pathname } = this.props.location; return this.inDetailPage && pathname.includes('user-admin/detail'); } get inUserGroupDetail() { const { pathname } = this.props.location; return this.inDetailPage && pathname.includes('user-group-admin/detail'); } getColumns() { const columns = [ const { groupProjectRole = [] } = value; const rolesAll = [...(roles || []), ...(groupProjectRole || [])]; const { groupProjectRole = [] } = value; const rolesAll = [...(roles || []), ...(groupProjectRole || [])]; if (this.inProject) { return columns.filter((it) => it.dataIndex !== 'projectRole'); } return columns; } if (this.inUserDetail || this.inUserGroupDetail) { const { id } = match.params || {}; if (this.inUserDetail) { } else if (this.inUserGroupDetail) {","import globalProjectStore from 'stores/keystone/project'; this.store = globalProjectStore; getTableProps() { const baseProps = Base.prototype.getTableProps.call(this); return { ...baseProps, searchType: 'keyword', }; } getColumns = () => { const { match: { path }, } = this.props; const components = [ const rolesAll = [...(roles || [])]; if (value.groupProjectRole) { rolesAll.push(...value.groupProjectRole); } const rolesAll = [...(roles || [])]; if (value.groupProjectRole) { rolesAll.push(...value.groupProjectRole); } if (path.indexOf('project-admin') >= 0) { components.splice(1, 1); } return components; }; const { match: { path }, } = this.props; if ( path.indexOf('user-admin/detail') >= 0 || path.indexOf('user-group-admin/detail') >= 0 ) { const { path } = match; if (path.indexOf('user-admin/detail') >= 0) { const { id } = match.params; } else if (path.indexOf('user-group-admin/detail') >= 0) { const { id } = match.params;",29,76
openstack%2Fcharm-neutron-api-plugin-ironic~stable%2F21.04~Iaf9602da779fb8a3c408d97675f6767acc0dff13,openstack/charm-neutron-api-plugin-ironic,stable/21.04,Iaf9602da779fb8a3c408d97675f6767acc0dff13,Sync release-tools and fix Zaza expectations,MERGED,2021-09-14 13:37:03.000000000,2021-09-15 08:57:22.000000000,2021-09-15 08:57:22.000000000,"[{'_account_id': 8992}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2021-09-14 13:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/0fab00412da7879dd65c431ed97546fd68f66278', 'message': ""Sync release-tools and fix Zaza expectations\n\nSync release-tools in order to fix\nResolutionImpossible on tox invocation. See:\n* https://github.com/openstack-charmers/release-tools/issues/151\n* https://github.com/openstack-charmers/release-tools/pull/152\n\nFix Zaza's expected application status after\nhttps://github.com/openstack-charmers/zaza/pull/451\n\nChange-Id: Iaf9602da779fb8a3c408d97675f6767acc0dff13\n(cherry picked from commit 620a4eea5ef7b4ddcb444818fd8b1624107c1e3f)\n""}, {'number': 2, 'created': '2021-09-14 13:40:06.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/ccf648bb44e99025bdfed371cd82f644cb190347', 'message': ""Sync release-tools and fix Zaza expectations\n\nSync release-tools in order to fix\nResolutionImpossible on tox invocation. See:\n* https://github.com/openstack-charmers/release-tools/issues/151\n* https://github.com/openstack-charmers/release-tools/pull/152\n\nFix Zaza's expected application status after\nhttps://github.com/openstack-charmers/zaza/pull/451\n\nChange-Id: Iaf9602da779fb8a3c408d97675f6767acc0dff13\n(cherry picked from commit 620a4eea5ef7b4ddcb444818fd8b1624107c1e3f)\n""}]",0,808862,ccf648bb44e99025bdfed371cd82f644cb190347,11,5,2,31289,,,0,"Sync release-tools and fix Zaza expectations

Sync release-tools in order to fix
ResolutionImpossible on tox invocation. See:
* https://github.com/openstack-charmers/release-tools/issues/151
* https://github.com/openstack-charmers/release-tools/pull/152

Fix Zaza's expected application status after
https://github.com/openstack-charmers/zaza/pull/451

Change-Id: Iaf9602da779fb8a3c408d97675f6767acc0dff13
(cherry picked from commit 620a4eea5ef7b4ddcb444818fd8b1624107c1e3f)
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ironic refs/changes/62/808862/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'tox.ini']",5,0fab00412da7879dd65c431ed97546fd68f66278,fix-tox-pip-resolutionimpossible-stable/21.04,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/test-requirements.txt,18,15
openstack%2Fcharm-ironic-conductor~stable%2F21.04~I91666f3f1abc8753cb5136af04f99e91dd7b2aea,openstack/charm-ironic-conductor,stable/21.04,I91666f3f1abc8753cb5136af04f99e91dd7b2aea,Sync release-tools,MERGED,2021-09-14 08:02:23.000000000,2021-09-15 08:54:29.000000000,2021-09-15 08:54:29.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:23.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/eb675dec06206f529c01043b1d80cab3f96113b0', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: I91666f3f1abc8753cb5136af04f99e91dd7b2aea\n(cherry picked from commit 00f6602cfe25bc7fafb464908f0f5e9e4f3e71e7)\n'}]",0,808854,eb675dec06206f529c01043b1d80cab3f96113b0,12,4,1,31289,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: I91666f3f1abc8753cb5136af04f99e91dd7b2aea
(cherry picked from commit 00f6602cfe25bc7fafb464908f0f5e9e4f3e71e7)
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/54/808854/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",4,eb675dec06206f529c01043b1d80cab3f96113b0,fix-tox-pip-resolutionimpossible-stable/21.04,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/test-requirements.txt,10,15
openstack%2Fpuppet-zaqar~master~I3e9479610eb3ff02cd08afefd4b6e411f8fd2812,openstack/puppet-zaqar,master,I3e9479610eb3ff02cd08afefd4b6e411f8fd2812,Add watch_log_file option,MERGED,2021-09-14 08:02:55.000000000,2021-09-15 08:51:18.000000000,2021-09-15 08:49:38.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:55.000000000', 'files': ['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-865caefe1b048b1e.yaml', 'spec/classes/zaqar_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/17078f0478cf24b2ad455998c3870a39eb080728', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: I3e9479610eb3ff02cd08afefd4b6e411f8fd2812\nCloses-Bug: #1943212\n'}]",0,808888,17078f0478cf24b2ad455998c3870a39eb080728,12,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: I3e9479610eb3ff02cd08afefd4b6e411f8fd2812
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/88/808888/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-865caefe1b048b1e.yaml', 'spec/classes/zaqar_logging_spec.rb']",3,17078f0478cf24b2ad455998c3870a39eb080728,bug/1943212," :watch_log_file => true, :use_syslog => '<SERVICE DEFAULT>', :use_json => '<SERVICE DEFAULT>', :use_journal => '<SERVICE DEFAULT>', :use_stderr => '<SERVICE DEFAULT>', :log_dir => '/var/log/zaqar', :log_file => '<SERVICE DEFAULT>', :watch_log_file => '<SERVICE DEFAULT>', :debug => '<SERVICE DEFAULT>', :watch_log_file => true,"," :use_syslog => '<SERVICE DEFAULT>', :use_json => '<SERVICE DEFAULT>', :use_journal => '<SERVICE DEFAULT>', :use_stderr => '<SERVICE DEFAULT>', :log_dir => '/var/log/zaqar', :log_file => '<SERVICE DEFAULT>', :debug => '<SERVICE DEFAULT>',",20,7
openstack%2Fironic~master~I5d500b7d53e9804aa3b54dc400d8621f40cd5d0c,openstack/ironic,master,I5d500b7d53e9804aa3b54dc400d8621f40cd5d0c,Fix iDRAC import configuration missing task handling,MERGED,2021-08-20 15:59:35.000000000,2021-09-15 07:58:41.000000000,2021-09-15 07:56:22.000000000,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2021-08-20 15:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/98bedf9601aaa5ac1c30e8f959db65ec2718212e', 'message': ""Fix iDRAC import configuration missing task handling\n\nOlder iDRACs delete the task after 1 minute, since 5.00.00.00\nthe task is being kept for 10 minutes.\nHowever, if encountering the issue, handle it and advise\nuser to either upgrade iDRAC if not already or decrease\nchecking interval.\nPrior this node got stuck in wait mode forever if task was\ndeleted as raised exception by periodic didn't make the step\nfail.\n\nChange-Id: I5d500b7d53e9804aa3b54dc400d8621f40cd5d0c\n""}, {'number': 2, 'created': '2021-08-24 16:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cdd90f2142d189fa0497ebf07726af966a00e28c', 'message': ""Fix iDRAC import configuration missing task handling\n\nOlder iDRACs delete the task after 1 minute, since 5.00.00.00\nthe task is being kept for 10 minutes.\nHowever, if encountering the issue, handle it and advise\nuser to either upgrade iDRAC if not already or decrease\nchecking interval.\nPrior this node got stuck in wait mode forever if task was\ndeleted as raised exception by periodic didn't make the step\nfail.\n\nChange-Id: I5d500b7d53e9804aa3b54dc400d8621f40cd5d0c\n""}, {'number': 3, 'created': '2021-09-13 15:57:06.000000000', 'files': ['ironic/drivers/modules/drac/management.py', 'releasenotes/notes/idrac-import-configuration-task-deleted-2a0e6a96509394b6.yaml', 'ironic/tests/unit/drivers/modules/drac/test_management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c174380db3eb409d8fd601b76e7027ea5c0f319c', 'message': ""Fix iDRAC import configuration missing task handling\n\nOlder iDRACs delete the task after 1 minute, since 5.00.00.00\nthe task is being kept for 10 minutes.\nHowever, if encountering the issue, handle it and advise\nuser to either upgrade iDRAC if not already or decrease\nchecking interval.\nPrior this node got stuck in wait mode forever if task was\ndeleted as raised exception by periodic didn't make the step\nfail.\n\nChange-Id: I5d500b7d53e9804aa3b54dc400d8621f40cd5d0c\n""}]",3,805428,c174380db3eb409d8fd601b76e7027ea5c0f319c,33,5,3,27909,,,0,"Fix iDRAC import configuration missing task handling

Older iDRACs delete the task after 1 minute, since 5.00.00.00
the task is being kept for 10 minutes.
However, if encountering the issue, handle it and advise
user to either upgrade iDRAC if not already or decrease
checking interval.
Prior this node got stuck in wait mode forever if task was
deleted as raised exception by periodic didn't make the step
fail.

Change-Id: I5d500b7d53e9804aa3b54dc400d8621f40cd5d0c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/28/805428/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py']",2,98bedf9601aaa5ac1c30e8f959db65ec2718212e,conf_molds," @mock.patch.object(redfish_utils, 'get_task_monitor', autospec=True) def test__check_import_configuration_task_missing( self, mock_get_task_monitor): mock_get_task_monitor.side_effect = exception.RedfishError( error='Task not found') self.management._set_success = mock.Mock() self.management._set_failed = mock.Mock() with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: self.management._check_import_configuration_task( task, '/TaskService/123') self.management._set_failed.assert_called_once_with( task, mock.ANY, mock.ANY) self.management._set_success.assert_not_called() self.assertIsNone( task.node.driver_internal_info.get('import_task_monitor_url')) ",,43,1
openstack%2Ftrove~master~I83cdddcccd1340de950e4dd3a5ab374553cecad1,openstack/trove,master,I83cdddcccd1340de950e4dd3a5ab374553cecad1,Add Python3 yoga unit tests,MERGED,2021-09-15 02:34:45.000000000,2021-09-15 07:55:29.000000000,2021-09-15 07:45:49.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:34:45.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/c2f1e8bdb6ae4ba1360584ae870310c92756bb1f', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I83cdddcccd1340de950e4dd3a5ab374553cecad1\n'}]",0,809109,c2f1e8bdb6ae4ba1360584ae870310c92756bb1f,7,2,1,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I83cdddcccd1340de950e4dd3a5ab374553cecad1
",git fetch https://review.opendev.org/openstack/trove refs/changes/09/809109/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c2f1e8bdb6ae4ba1360584ae870310c92756bb1f,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Ftripleo-heat-templates~master~Ie531ea68a3d8e98e40a58d9c5ee484eb134abb96,openstack/tripleo-heat-templates,master,Ie531ea68a3d8e98e40a58d9c5ee484eb134abb96,Configure api_base_uri to DesignateEndpoint URI,MERGED,2021-09-07 14:31:45.000000000,2021-09-15 07:49:48.000000000,2021-09-15 07:49:48.000000000,"[{'_account_id': 8833}, {'_account_id': 11628}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-07 14:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d7dc40918fe25b67b2bd04b537f9a1f24351a78', 'message': ""Configure api_base_uri to DesignateEndpoint URI\n\nConfigure api_base_uri to DesignateEndpoint URI because default\n127.0.0.1:9001 is returned instead of a valid endpoint URI.   This\nbehavior breaks openstacksdk starting with 0.31.2 but wasn't seen\nwith previous version.\n\nChange-Id: Ie531ea68a3d8e98e40a58d9c5ee484eb134abb96\n""}, {'number': 2, 'created': '2021-09-09 12:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dbc2069a2b23576856061fd94a9d1979ef2d7d91', 'message': ""Configure api_base_uri to DesignateEndpoint URI\n\nConfigure api_base_uri to DesignateEndpoint URI because default\n127.0.0.1:9001 is returned instead of a valid endpoint URI.   This\nbehavior breaks openstacksdk starting with 0.31.2 but wasn't seen\nwith previous version.\n\nChange-Id: Ie531ea68a3d8e98e40a58d9c5ee484eb134abb96\n""}, {'number': 3, 'created': '2021-09-09 13:31:07.000000000', 'files': ['deployment/designate/designate-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33d9d19a498e3d4e75204f892a065a559787bfed', 'message': ""Configure api_base_uri to DesignateEndpoint URI\n\nConfigure api_base_uri to DesignateEndpoint URI because default\n127.0.0.1:9001 is returned instead of a valid endpoint URI.   This\nbehavior breaks openstacksdk starting with 0.31.2 but wasn't seen\nwith previous version.\n\nChange-Id: Ie531ea68a3d8e98e40a58d9c5ee484eb134abb96\n""}]",1,807732,33d9d19a498e3d4e75204f892a065a559787bfed,17,5,3,7130,,,0,"Configure api_base_uri to DesignateEndpoint URI

Configure api_base_uri to DesignateEndpoint URI because default
127.0.0.1:9001 is returned instead of a valid endpoint URI.   This
behavior breaks openstacksdk starting with 0.31.2 but wasn't seen
with previous version.

Change-Id: Ie531ea68a3d8e98e40a58d9c5ee484eb134abb96
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/807732/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/designate/designate-api-container-puppet.yaml'],1,5d7dc40918fe25b67b2bd04b537f9a1f24351a78,designate_base_uri," designate::api::api_base_uri: { get_param: [EndpointMap, DesignatePublic, uri] }",,1,0
openstack%2Ftripleo-heat-templates~master~I428a30d2ad7be295f8b3dbeaddd76eb88432a532,openstack/tripleo-heat-templates,master,I428a30d2ad7be295f8b3dbeaddd76eb88432a532,Remove old ovndbs update workaround,MERGED,2021-09-14 06:52:23.000000000,2021-09-15 07:49:45.000000000,2021-09-15 07:49:45.000000000,"[{'_account_id': 8297}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-14 06:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c0caceb238bc910bca8ff79ecb17e967ffb4895c', 'message': 'WIP remove old ovndbs update workaround\n\nThis is basically a revert ot I8f71bf83ddafca167deae1a38ca819f7d930fb80\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1759974 has now been fixed\nvia https://bugzilla.redhat.com/show_bug.cgi?id=1760763:\n""[ovsdb-server] Allow replicating from older schema servers""\nwhich has been fixed in openvswitch2.11-2.11.0-35.el8fdp.x86_64\nwhich was released on 2020-01-22.\n\nI think in master (and potentially wallaby) we can just remove this\nworkaround now.\n\nChange-Id: I428a30d2ad7be295f8b3dbeaddd76eb88432a532\n'}, {'number': 2, 'created': '2021-09-14 11:33:38.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/efd4ca0851c482a067ac3b04b8f21b0633c24cb9', 'message': 'Remove old ovndbs update workaround\n\nThis is basically a revert ot I8f71bf83ddafca167deae1a38ca819f7d930fb80\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1759974 has now been fixed\nvia https://bugzilla.redhat.com/show_bug.cgi?id=1760763:\n""[ovsdb-server] Allow replicating from older schema servers""\nwhich has been fixed in openvswitch2.11-2.11.0-35.el8fdp.x86_64\nwhich was released on 2020-01-22.\n\nI think in master (and potentially wallaby) we can just remove this\nworkaround now.\n\nChange-Id: I428a30d2ad7be295f8b3dbeaddd76eb88432a532\n'}]",0,808874,efd4ca0851c482a067ac3b04b8f21b0633c24cb9,12,5,2,20172,,,0,"Remove old ovndbs update workaround

This is basically a revert ot I8f71bf83ddafca167deae1a38ca819f7d930fb80
https://bugzilla.redhat.com/show_bug.cgi?id=1759974 has now been fixed
via https://bugzilla.redhat.com/show_bug.cgi?id=1760763:
""[ovsdb-server] Allow replicating from older schema servers""
which has been fixed in openvswitch2.11-2.11.0-35.el8fdp.x86_64
which was released on 2020-01-22.

I think in master (and potentially wallaby) we can just remove this
workaround now.

Change-Id: I428a30d2ad7be295f8b3dbeaddd76eb88432a532
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/808874/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,c0caceb238bc910bca8ff79ecb17e967ffb4895c,ovndbs-workaround,," # When a schema change happens, the newer slaves don't connect # back to the older master and end up timing out. So we clean # up the error here until we get a fix for # https://bugzilla.redhat.com/show_bug.cgi?id=1759974 - name: Clear ovndb cluster pacemaker error shell: ""pcs resource cleanup ovn-dbs-bundle"" when: - step|int == 0 # Then we ban the resource for this node. It has no effect on # the first two controllers, but when we reach the last one, # it avoids a cut in the control plane as master get chosen in # one of the updated Stopped ovn. They are in error, that why # we need the cleanup just before. - name: Ban ovndb resource on the current node. shell: ""pcs resource ban ovn-dbs-bundle $(hostname | cut -d. -f1)"" when: - step|int == 0 # We remove any leftover error and remove the ban. - name: Ensure the cluster converge back even in case of schema change shell: ""pcs resource cleanup ovn-dbs-bundle"" when: - step|int == 5 - name: Remove the ban shell: ""pcs resource clear ovn-dbs-bundle"" when: - step|int == 5",0,26
openstack%2Fpuppet-aodh~master~I523716887b1a981ff8e73e4b24198a36b9efd5a3,openstack/puppet-aodh,master,I523716887b1a981ff8e73e4b24198a36b9efd5a3,Add watch_log_file option,MERGED,2021-09-14 08:02:56.000000000,2021-09-15 07:42:44.000000000,2021-09-15 07:40:21.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:56.000000000', 'files': ['releasenotes/notes/add_watch_log_file-option-99e6fa54b53c3066.yaml', 'manifests/logging.pp', 'spec/classes/aodh_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/3d8d27309908659073f55cea01977afaf4b22f2c', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: I523716887b1a981ff8e73e4b24198a36b9efd5a3\nCloses-Bug: #1943212\n'}]",0,808903,3d8d27309908659073f55cea01977afaf4b22f2c,8,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: I523716887b1a981ff8e73e4b24198a36b9efd5a3
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/03/808903/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_watch_log_file-option-99e6fa54b53c3066.yaml', 'manifests/logging.pp', 'spec/classes/aodh_logging_spec.rb']",3,3d8d27309908659073f55cea01977afaf4b22f2c,bug/1943212," :watch_log_file => true, :watch_log_file => '<SERVICE DEFAULT>', :watch_log_file => true,",,13,0
openstack%2Fdiskimage-builder~master~I2838734c671378e0a43e556f3ea624920a80e0c2,openstack/diskimage-builder,master,I2838734c671378e0a43e556f3ea624920a80e0c2,Add new element rocky,ABANDONED,2021-08-23 13:28:33.000000000,2021-09-15 07:23:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-23 13:28:33.000000000', 'files': ['diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/test-output-formats', 'diskimage_builder/elements/rocky/environment.d/10-rocky-distro-name.bash', 'diskimage_builder/elements/rocky/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/rocky/element-provides', 'diskimage_builder/elements/rocky/pre-install.d/00-02-set-rocky-mirror', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/rocky/pre-install.d/00-02-install-python', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/element-deps', 'diskimage_builder/elements/rocky/pre-install.d/00-02-set-machine-id', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/rocky/README.rst', 'diskimage_builder/elements/rocky/element-deps', 'diskimage_builder/elements/rocky/package-installs.yaml', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/README.rst', 'tests/run_functests.sh', '.zuul.d/project.yaml', 'diskimage_builder/elements/redhat-common/pkg-map', 'diskimage_builder/elements/rocky/root.d/10-rocky-cloud-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3132515bb651a7dba66b95f48640b5994c154e60', 'message': ""Add new element rocky\n\nThis patch adds a new element 'rocky' to build rocky linux images, and modify pgk-map, redhat-common to support rocky linux\n\nChange-Id: I2838734c671378e0a43e556f3ea624920a80e0c2\n""}]",0,805641,3132515bb651a7dba66b95f48640b5994c154e60,7,1,1,33811,,,0,"Add new element rocky

This patch adds a new element 'rocky' to build rocky linux images, and modify pgk-map, redhat-common to support rocky linux

Change-Id: I2838734c671378e0a43e556f3ea624920a80e0c2
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/41/805641/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/test-output-formats', 'diskimage_builder/elements/rocky/environment.d/10-rocky-distro-name.bash', 'diskimage_builder/elements/rocky/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/rocky/element-provides', 'diskimage_builder/elements/rocky/pre-install.d/00-02-set-rocky-mirror', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/rocky/pre-install.d/00-02-install-python', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/element-deps', 'diskimage_builder/elements/rocky/pre-install.d/00-02-set-machine-id', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/rocky/README.rst', 'diskimage_builder/elements/rocky/element-deps', 'diskimage_builder/elements/rocky/package-installs.yaml', 'diskimage_builder/elements/rocky/test-elements/build-succeeds/README.rst', 'tests/run_functests.sh', '.zuul.d/project.yaml', 'diskimage_builder/elements/redhat-common/pkg-map', 'diskimage_builder/elements/rocky/root.d/10-rocky-cloud-image']",19,3132515bb651a7dba66b95f48640b5994c154e60,feat/add-rocky-linux,"#!/bin/bash if [ ${DIB_DEBUG_TRACE:-0} -gt 0 ]; then set -x fi set -eu set -o pipefail [ -n ""$ARCH"" ] [ -n ""$TARGET_ROOT"" ] if [[ ""amd64 x86_64"" =~ ""$ARCH"" ]]; then ARCH=""x86_64"" DIB_CLOUD_IMAGES=${DIB_CLOUD_IMAGES:-https://download.rockylinux.org/pub/rocky/${DIB_RELEASE}/images} else echo 'centos root element only support the x86_64 for $ARCH' exit 1 fi DIB_LOCAL_IMAGE=${DIB_LOCAL_IMAGE:-} if [ -n ""$DIB_LOCAL_IMAGE"" ]; then IMAGE_LOCATION=$DIB_LOCAL_IMAGE # No need to copy a local image into the cache directory, so just specify # the cached path as the original path. CACHED_IMAGE=$IMAGE_LOCATION BASE_IMAGE_FILE=$(basename $DIB_LOCAL_IMAGE) BASE_IMAGE_TAR=$BASE_IMAGE_FILE.tgz else DIB_FLAVOR=${DIB_FLAVOR:-GenericCloud} BASE_IMAGE_FILE=${BASE_IMAGE_FILE:-$(curl -s https://download.rockylinux.org/pub/rocky/${DIB_RELEASE}/images/ | grep -o ""Rocky-.[^>]*${DIB_FLAVOR}-.[^>]*.qcow2"" | sort -r | head -1)} BASE_IMAGE_TAR=$BASE_IMAGE_FILE.tgz IMAGE_LOCATION=$DIB_CLOUD_IMAGES/$BASE_IMAGE_FILE CACHED_IMAGE=$DIB_IMAGE_CACHE/$BASE_IMAGE_FILE fi $TMP_HOOKS_PATH/bin/extract-image $BASE_IMAGE_FILE $BASE_IMAGE_TAR $IMAGE_LOCATION $CACHED_IMAGE ",,150,5
openstack%2Fpuppet-tripleo~master~Ic3e427156fc82c524c763d1896937fcc3c49fabb,openstack/puppet-tripleo,master,Ic3e427156fc82c524c763d1896937fcc3c49fabb,"Add missing ""z"" flag for specific mounts",MERGED,2021-09-13 13:58:02.000000000,2021-09-15 07:20:47.000000000,2021-09-15 07:05:41.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-09-13 13:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a3edcc5332300e7132f6c8ab682e45c82fbba149', 'message': 'Add missing ""z"" flag for specific mounts\n\nIn order to ensure consistency with everything linked to SELinux and\nbind-mounts, we must ensure we relabel locations/files when we mount\nthem, especially with read-write rights.\n\nChange-Id: Ic3e427156fc82c524c763d1896937fcc3c49fabb\nCloses-Bug: #1943459\n'}, {'number': 2, 'created': '2021-09-13 14:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/250fb294160d9475637d1836c85a3638c6c3e72b', 'message': 'Add missing ""z"" flag for specific mounts\n\nIn order to ensure consistency with everything linked to SELinux and\nbind-mounts, we must ensure we relabel locations/files when we mount\nthem, especially with read-write rights.\n\nChange-Id: Ic3e427156fc82c524c763d1896937fcc3c49fabb\nCloses-Bug: #1943459\n'}, {'number': 3, 'created': '2021-09-14 09:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e8c4e9304fa803288b38bb81a96c6183e88fdd93', 'message': 'Add missing ""z"" flag for specific mounts\n\nDepending on the host history, it may happen some directory content\ndon\'t have the correct SELinux type. This has been seen with OVN\nservice, during a Queens -> Train FFU:\n\nwhile the /var/lib/openvswitch/ovn directory had the correct\ncontainer_file_t type, some files in this location were typed with\nopenvswitch_var_lib_t, leading to errors during the deploy part of the\nupgrade (after the OS upgrade, when the deploy is running on the cleaned\nhost).\nThe specific issue depends on the actual files with the wrong label, but\nusually it involves a container crash/error, leading to a deploy error,\nand a manual intervention in order to correct the SELinux type in the\nlocation.\n\nThis situation may happen when first deployed on Queens, since it was\nusing Docker. For the records, back then Docker Daemon was configured in\norder to disable the SELinux support, so it didn\'t really care about\nlabels; but the situation is different with Podman, and we have a full\nSELinux support at all levels on the OS, leading to the issue.\n\nFor the records, tripleo-heat-templates as well as tripleo-ansible are\nsetting the ""setype: container_file_t"" on the directories, but we don\'t\nuse the ""recurse: true"" in order to avoid performance issues - some\nlocations might be huge, and it would take too much time to relabel\neverything via ansible.\n\nThis patch aims to converge all the mounts to the same options, and\nensure no SELinux denial can prevent the actual container startup and\nfunction.\n\nChange-Id: Ic3e427156fc82c524c763d1896937fcc3c49fabb\nCloses-Bug: #1943459\n'}, {'number': 4, 'created': '2021-09-14 10:59:37.000000000', 'files': ['releasenotes/notes/pacemaker-selinux-8dc0344afd5d64bd.yaml', 'manifests/profile/pacemaker/database/redis_bundle.pp', 'manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/pacemaker/haproxy_bundle.pp', 'manifests/profile/pacemaker/cinder/volume_bundle.pp', 'manifests/profile/pacemaker/manila/share_bundle.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp', 'manifests/profile/pacemaker/cinder/backup_bundle.pp', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e91aac28229f7b4eb5b054f3b88d9839ffc50fdb', 'message': 'Add missing ""z"" flag for specific mounts\n\nDepending on the host history, it may happen some directory content\ndon\'t have the correct SELinux type. This has been seen with OVN\nservice, during a Queens -> Train FFU:\n\nwhile the /var/lib/openvswitch/ovn directory had the correct\ncontainer_file_t type, some files in this location were typed with\nopenvswitch_var_lib_t, leading to errors during the deploy part of the\nupgrade (after the OS upgrade, when the deploy is running on the cleaned\nhost).\nThe specific issue depends on the actual files with the wrong label, but\nusually it involves a container crash/error, leading to a deploy error,\nand a manual intervention in order to correct the SELinux type in the\nlocation.\n\nThis situation may happen when first deployed on Queens, since it was\nusing Docker. For the records, back then Docker Daemon was configured in\norder to disable the SELinux support, so it didn\'t really care about\nlabels; but the situation is different with Podman, and we have a full\nSELinux support at all levels on the OS, leading to the issue.\n\nFor the records, tripleo-heat-templates as well as tripleo-ansible are\nsetting the ""setype: container_file_t"" on the directories, but we don\'t\nuse the ""recurse: true"" in order to avoid performance issues - some\nlocations might be huge, and it would take too much time to relabel\neverything via ansible.\n\nThis patch aims to converge all the mounts to the same options, and\nensure no SELinux denial can prevent the actual container startup and\nfunction.\n\nChange-Id: Ic3e427156fc82c524c763d1896937fcc3c49fabb\nCloses-Bug: #1943459\n'}]",4,808774,e91aac28229f7b4eb5b054f3b88d9839ffc50fdb,26,10,4,28223,,,0,"Add missing ""z"" flag for specific mounts

Depending on the host history, it may happen some directory content
don't have the correct SELinux type. This has been seen with OVN
service, during a Queens -> Train FFU:

while the /var/lib/openvswitch/ovn directory had the correct
container_file_t type, some files in this location were typed with
openvswitch_var_lib_t, leading to errors during the deploy part of the
upgrade (after the OS upgrade, when the deploy is running on the cleaned
host).
The specific issue depends on the actual files with the wrong label, but
usually it involves a container crash/error, leading to a deploy error,
and a manual intervention in order to correct the SELinux type in the
location.

This situation may happen when first deployed on Queens, since it was
using Docker. For the records, back then Docker Daemon was configured in
order to disable the SELinux support, so it didn't really care about
labels; but the situation is different with Podman, and we have a full
SELinux support at all levels on the OS, leading to the issue.

For the records, tripleo-heat-templates as well as tripleo-ansible are
setting the ""setype: container_file_t"" on the directories, but we don't
use the ""recurse: true"" in order to avoid performance issues - some
locations might be huge, and it would take too much time to relabel
everything via ansible.

This patch aims to converge all the mounts to the same options, and
ensure no SELinux denial can prevent the actual container startup and
function.

Change-Id: Ic3e427156fc82c524c763d1896937fcc3c49fabb
Closes-Bug: #1943459
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/74/808774/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/database/redis_bundle.pp', 'manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/pacemaker/haproxy_bundle.pp', 'manifests/profile/pacemaker/cinder/volume_bundle.pp', 'manifests/profile/pacemaker/manila/share_bundle.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp', 'manifests/profile/pacemaker/cinder/backup_bundle.pp', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp']",8,a3edcc5332300e7132f6c8ab682e45c82fbba149,selinux/missing-flags," Copyright 2017 Red Hat, Inc. 'options' => 'rw,z', 'options' => 'rw,z', 'options' => 'rw,z', 'options' => 'rw,z', 'options' => 'rw,z', 'options' => 'rw,z', 'options' => 'rw,z',","# Copyright 2017 Red Hat, Inc. 'options' => 'rw', 'options' => 'rw', 'options' => 'rw', 'options' => 'rw', 'options' => 'rw', 'options' => 'rw', 'options' => 'rw',",22,22
openstack%2Fcharm-neutron-gateway~stable%2F21.04~Ia525250e139ea0fd86cc0f19919a7739eda1cb09,openstack/charm-neutron-gateway,stable/21.04,Ia525250e139ea0fd86cc0f19919a7739eda1cb09,Sync release-tools,MERGED,2021-09-14 11:42:54.000000000,2021-09-15 07:19:54.000000000,2021-09-15 07:19:54.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-09-14 11:42:54.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/63568bc35302f1aa7f695780a29520b07ce2bca0', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: Ia525250e139ea0fd86cc0f19919a7739eda1cb09\n(cherry picked from commit 6a22df54a76d0d915be21221cdd74f020ce43ead)\n'}]",0,808933,63568bc35302f1aa7f695780a29520b07ce2bca0,10,5,1,10366,,,0,"Sync release-tools

In order to fix ResolutionImpossible on tox invocation.

https://github.com/openstack-charmers/release-tools/issues/151
https://github.com/openstack-charmers/release-tools/pull/152

Change-Id: Ia525250e139ea0fd86cc0f19919a7739eda1cb09
(cherry picked from commit 6a22df54a76d0d915be21221cdd74f020ce43ead)
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/33/808933/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'tox.ini']",3,63568bc35302f1aa7f695780a29520b07ce2bca0,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,4,10
openstack%2Ftripleo-quickstart~master~I618c0a0d99c934fb65a6af30bc76096d52d4679d,openstack/tripleo-quickstart,master,I618c0a0d99c934fb65a6af30bc76096d52d4679d,Disable protected resourced types,MERGED,2021-09-07 11:20:19.000000000,2021-09-15 07:17:04.000000000,2021-09-15 07:14:01.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-07 11:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d40632e73ba32fe909107e3d525b9d0de62bbccd', 'message': 'Disable protected resourced types in fs010\n\nNeed to disable the resource registry override protection\nto merge:\n https://review.opendev.org/798642\n\nChange-Id: I618c0a0d99c934fb65a6af30bc76096d52d4679d\n'}, {'number': 2, 'created': '2021-09-07 20:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dc4d37e550cdddc8cf4a254943080a3a34602b08', 'message': 'Disable protected resourced types in fs010\n\nNeed to disable the resource registry override protection\nto merge:\n https://review.opendev.org/798642\n\nChange-Id: I618c0a0d99c934fb65a6af30bc76096d52d4679d\n'}, {'number': 3, 'created': '2021-09-08 09:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/399723ed94ba03dac92ca8c09743f462f0a701dd', 'message': 'Disable protected resourced types in fs010,fs037\n\nNeed to disable the resource registry override protection\nto merge:\n https://review.opendev.org/798642\n\nChange-Id: I618c0a0d99c934fb65a6af30bc76096d52d4679d\n'}, {'number': 4, 'created': '2021-09-14 13:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0ade606ae2f01877630bdda43d067c1ba7fcc633', 'message': 'Disable protected resourced types in fs010,fs037\n\nNeed to disable the resource registry override protection\nto merge:\n https://review.opendev.org/798642\n\nChange-Id: I618c0a0d99c934fb65a6af30bc76096d52d4679d\n'}, {'number': 5, 'created': '2021-09-14 15:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c16eb1e12d838d43e8896b789b218993a0ee240c', 'message': 'Disable protected resourced types in fs010,fs037\n\nNeed to disable the resource registry override protection\nto merge:\n https://review.opendev.org/798642\n\nChange-Id: I618c0a0d99c934fb65a6af30bc76096d52d4679d\n'}, {'number': 6, 'created': '2021-09-14 22:09:56.000000000', 'files': ['config/general_config/featureset020.yml', 'config/general_config/featureset035.yml', 'config/general_config/featureset010.yml', 'config/general_config/featureset037.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dbb21969d2eb8d012fbd645111f7ea1d4d76d067', 'message': 'Disable protected resourced types\n\nThis review adds and extra-vars to\ndisable protected resourced types in\nreleases wallaby and after for\nfs010, fs037, fs035 and fs020.\n\nThere is a need to disable the resource\nregistry override protection to merge:\nhttps://review.opendev.org/798642\n\nCloses-Bug: #1943579\nChange-Id: I618c0a0d99c934fb65a6af30bc76096d52d4679d\n'}]",0,807703,dbb21969d2eb8d012fbd645111f7ea1d4d76d067,41,6,6,24245,,,0,"Disable protected resourced types

This review adds and extra-vars to
disable protected resourced types in
releases wallaby and after for
fs010, fs037, fs035 and fs020.

There is a need to disable the resource
registry override protection to merge:
https://review.opendev.org/798642

Closes-Bug: #1943579
Change-Id: I618c0a0d99c934fb65a6af30bc76096d52d4679d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/03/807703/3 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset010.yml'],1,d40632e73ba32fe909107e3d525b9d0de62bbccd,network-data-v2,"extra_args: >- {%- if release not in ['train','victoria'] -%} --disable-protected-resource-types {%- endif -%} ",,5,0
openstack%2Fpython-tripleoclient~master~I1027e806cea894ebbdb7f941a582302639da4a71,openstack/python-tripleoclient,master,I1027e806cea894ebbdb7f941a582302639da4a71,Tidy up lingering todo's,MERGED,2021-08-02 12:54:29.000000000,2021-09-15 07:08:17.000000000,2021-09-15 07:05:43.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-08-02 12:54:29.000000000', 'files': ['tripleoclient/tests/v1/test_container_image.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/98839093b88509c18aeb1bf7dafe550c129b0c72', 'message': ""Tidy up lingering todo's\n\nWe have some lingering todo's that seem to have\npassed their expiry dates based on features to be\nimplemented in tripleo-common. Removing those\nno longer necessary.\n\nChange-Id: I1027e806cea894ebbdb7f941a582302639da4a71\n""}]",0,803202,98839093b88509c18aeb1bf7dafe550c129b0c72,13,10,1,30073,,,0,"Tidy up lingering todo's

We have some lingering todo's that seem to have
passed their expiry dates based on features to be
implemented in tripleo-common. Removing those
no longer necessary.

Change-Id: I1027e806cea894ebbdb7f941a582302639da4a71
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/02/803202/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/test_container_image.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",2,98839093b88509c18aeb1bf7dafe550c129b0c72,clean_up_todos,,"from tripleo_common.image import kolla_builder # TODO(sbaker) Remove after a tripleo-common release contains this new function if not hasattr(kolla_builder, 'container_images_prepare_multi'): setattr(kolla_builder, 'container_images_prepare_multi', mock.Mock()) ",0,20
openstack%2Fpuppet-tripleo~master~I0f005146ae75e85b428061eeb30864767f546fff,openstack/puppet-tripleo,master,I0f005146ae75e85b428061eeb30864767f546fff,Horizon: Enable manila-dashboard configurations,MERGED,2021-06-02 14:05:37.000000000,2021-09-15 07:05:47.000000000,2021-09-15 07:05:47.000000000,"[{'_account_id': 7144}, {'_account_id': 9003}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-02 14:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a06f7019b938ad5f1a25a2ca6ad63cf10c644491', 'message': 'Horizon: Enable manila-dashboard configurations\n\nDepends-on: https://review.opendev.org/790350\nChange-Id: I0f005146ae75e85b428061eeb30864767f546fff\n'}, {'number': 2, 'created': '2021-07-21 04:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e0e0a442be3d3b66f155eb292c3dcb919493f4ea', 'message': 'Horizon: Enable manila-dashboard configurations\n\nDepends-on: https://review.opendev.org/790350\nChange-Id: I0f005146ae75e85b428061eeb30864767f546fff\n'}, {'number': 3, 'created': '2021-08-01 12:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bfa916ab0aaf235dfd79d0dbccf15684f72c29ce', 'message': 'Horizon: Enable manila-dashboard configurations\n\nDepends-on: https://review.opendev.org/790350\nChange-Id: I0f005146ae75e85b428061eeb30864767f546fff\n'}, {'number': 4, 'created': '2021-08-01 23:16:17.000000000', 'files': ['manifests/profile/base/horizon.pp', 'spec/classes/tripleo_profile_base_horizon_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8966029af1445c09891bf8864bf5b00991a98ca0', 'message': 'Horizon: Enable manila-dashboard configurations\n\nDepends-on: https://review.opendev.org/790350\nChange-Id: I0f005146ae75e85b428061eeb30864767f546fff\n'}]",0,794233,8966029af1445c09891bf8864bf5b00991a98ca0,35,5,4,9816,,,0,"Horizon: Enable manila-dashboard configurations

Depends-on: https://review.opendev.org/790350
Change-Id: I0f005146ae75e85b428061eeb30864767f546fff
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/33/794233/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/horizon.pp', 'spec/classes/tripleo_profile_base_horizon_spec.rb']",2,a06f7019b938ad5f1a25a2ca6ad63cf10c644491,puppet-horizon-dashboards," is_expected.to_not contain_class('horizon::dashboards::manila') is_expected.to_not contain_class('horizon::dashboards::manila') is_expected.to_not contain_class('horizon::dashboards::manila') is_expected.to_not contain_class('horizon::dashboards::manila') is_expected.to_not contain_class('horizon::dashboards::manila') is_expected.to_not contain_class('horizon::dashboards::manila') is_expected.to contain_class('apache::mod::remoteip') is_expected.to contain_class('apache::mod::status') end end context 'with step 4 and manila enabled' do let(:params) { { :step => 4, :bootstrap_node => 'node.example.com', :manila_api_enabled => true, } } it 'should trigger complete configuration with heat dashboard' do is_expected.to contain_class('horizon') is_expected.to_not contain_class('horizon::dashboards::heat') is_expected.to_not contain_class('horizon::dashboards::octavia') is_expected.to contain_class('horizon::dashboards::manila')",,32,0
openstack%2Fpuppet-tripleo~master~Idcb1aa7c496c6d158791c6d499069d919b9d363a,openstack/puppet-tripleo,master,Idcb1aa7c496c6d158791c6d499069d919b9d363a,Horizon: Enable octavia-dashboard configurations,MERGED,2021-05-09 02:01:58.000000000,2021-09-15 07:05:45.000000000,2021-09-15 07:05:45.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-09 02:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8a31568834ecdf39d11d5b4007e5112e9586c84f', 'message': 'Horizon: Enable octavia-dashboard configurations\n\nDepends-on: https://review.opendev.org/789701/\nChange-Id: Idcb1aa7c496c6d158791c6d499069d919b9d363a\n'}, {'number': 2, 'created': '2021-07-21 04:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/50405f576717c39a85af351ca1b4f3d97f062c6f', 'message': 'Horizon: Enable octavia-dashboard configurations\n\nDepends-on: https://review.opendev.org/789701/\nChange-Id: Idcb1aa7c496c6d158791c6d499069d919b9d363a\n'}, {'number': 3, 'created': '2021-08-01 12:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1153e701f498f14d05f3ede00cc8df8f7e4492a1', 'message': 'Horizon: Enable octavia-dashboard configurations\n\nDepends-on: https://review.opendev.org/789701/\nChange-Id: Idcb1aa7c496c6d158791c6d499069d919b9d363a\n'}, {'number': 4, 'created': '2021-08-01 23:16:08.000000000', 'files': ['manifests/profile/base/horizon.pp', 'spec/classes/tripleo_profile_base_horizon_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8a00edfa0b46440910a20b86fbfedeb377c87bd5', 'message': 'Horizon: Enable octavia-dashboard configurations\n\nDepends-on: https://review.opendev.org/789701/\nChange-Id: Idcb1aa7c496c6d158791c6d499069d919b9d363a\n'}]",0,790349,8a00edfa0b46440910a20b86fbfedeb377c87bd5,29,5,4,9816,,,0,"Horizon: Enable octavia-dashboard configurations

Depends-on: https://review.opendev.org/789701/
Change-Id: Idcb1aa7c496c6d158791c6d499069d919b9d363a
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/49/790349/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/horizon.pp', 'spec/classes/tripleo_profile_base_horizon_spec.rb']",2,8a31568834ecdf39d11d5b4007e5112e9586c84f,puppet-horizon-dashboards," is_expected.to_not contain_class('horizon::dashboards::octavia') is_expected.to_not contain_class('horizon::dashboards::octavia') is_expected.to_not contain_class('horizon::dashboards::octavia') is_expected.to_not contain_class('horizon::dashboards::octavia') is_expected.to_not contain_class('horizon::dashboards::octavia') is_expected.to contain_class('apache::mod::remoteip') is_expected.to contain_class('apache::mod::status') end end context 'with step 4 and octavia enabled' do let(:params) { { :step => 4, :bootstrap_node => 'node.example.com', :octavia_api_enabled => true, } } it 'should trigger complete configuration with heat dashboard' do is_expected.to contain_class('horizon') is_expected.to_not contain_class('horizon::dashboards::heat') is_expected.to contain_class('horizon::dashboards::octavia')",,30,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Idd827f72c0033978db7b9a8ea6acec2086cda961,openstack/tripleo-heat-templates,stable/victoria,Idd827f72c0033978db7b9a8ea6acec2086cda961,Guarantee that ovn-dbs-pcmk update_tasks are run when the cluster is up,MERGED,2021-09-14 11:43:48.000000000,2021-09-15 07:05:39.000000000,2021-09-15 07:05:39.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-09-14 11:43:48.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fd508d1cab9574c2f5ea55dbed295dde08f8f8d8', 'message': 'Guarantee that ovn-dbs-pcmk update_tasks are run when the cluster is up\n\nOn particular role compositions, the code joining the update_tasks might order\nthings differently then on a typical 3ctrl control plane and the ovn-dbs tasks\nat step1 (which require the cluster to be up) will happen after the pacemaker\ntask at step1 which stops the cluster.\n\nSo we can observe something like the following:\n2021-09-10 10:05:13.370339 | 001c2891-506d-f833-ff5a-000000000954 | TASK | Change the bundle operation timeout\n2021-09-10 10:05:14.136798 | 001c2891-506d-f833-ff5a-000000000954 | CHANGED | Change the bundle operation timeout | ovn-db-01\n2021-09-10 10:05:14.137982 | 001c2891-506d-f833-ff5a-000000000954 | TIMING | Change the bundle operation timeout | ovn-db-01 | 0:00:54.808754 | 0.77s\n2021-09-10 10:05:14.146853 | 001c2891-506d-f833-ff5a-000000000956 | TASK | Acquire the cluster shutdown lock to stop pacemaker cluster\n2021-09-10 10:05:14.508085 | 001c2891-506d-f833-ff5a-000000000956 | CHANGED | Acquire the cluster shutdown lock to stop pacemaker cluster | ovn-db-01\n2021-09-10 10:05:14.509257 | 001c2891-506d-f833-ff5a-000000000956 | TIMING | Acquire the cluster shutdown lock to stop pacemaker cluster | ovn-db-01 | 0:00:55.180032 | 0.36s\n2021-09-10 10:05:14.518668 | 001c2891-506d-f833-ff5a-000000000957 | TASK | Stop pacemaker cluster\n2021-09-10 10:05:18.559627 | 001c2891-506d-f833-ff5a-000000000957 | CHANGED | Stop pacemaker cluster | ovn-db-01\n\n2021-09-10 10:05:18.560561 | 001c2891-506d-f833-ff5a-000000000957 | TIMING | Stop pacemaker cluster | ovn-db-01 | 0:00:59.231336 | 4.04s\n2021-09-10 10:05:18.569161 | 001c2891-506d-f833-ff5a-000000000958 | TASK | Start pacemaker cluster\n2021-09-10 10:05:18.627924 | 001c2891-506d-f833-ff5a-000000000958 | SKIPPED | Start pacemaker cluster | ovn-db-01\n2021-09-10 10:05:18.628678 | 001c2891-506d-f833-ff5a-000000000958 | TIMING | Start pacemaker cluster | ovn-db-01 | 0:00:59.299453 | 0.06s\n2021-09-10 10:05:18.637292 | 001c2891-506d-f833-ff5a-000000000959 | TASK | Release the cluster shutdown lock\n2021-09-10 10:05:18.694945 | 001c2891-506d-f833-ff5a-000000000959 | SKIPPED | Release the cluster shutdown lock | ovn-db-01\n2021-09-10 10:05:18.695717 | 001c2891-506d-f833-ff5a-000000000959 | TIMING | Release the cluster shutdown lock | ovn-db-01 | 0:00:59.366493 | 0.06s\n2021-09-10 10:05:18.704368 | 001c2891-506d-f833-ff5a-00000000095a | TASK | Clear ovndb cluster pacemaker error\n2021-09-10 10:05:19.368816 | 001c2891-506d-f833-ff5a-00000000095a | FATAL | Clear ovndb cluster pacemaker error | ovn-db-01 | error={""changed"": true, ""cmd"": ""pcs resource cleanup ovn-dbs-bundle"", ""delta"": ""0:00:00.399084"", ""end"": ""2021-09-10 10:05:20\n.044985"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2021-09-10 10:05:19.645901"", ""stderr"": ""Error: Unable to forget failed operations of resource: ovn-dbs-bundle\\nError connecting to the CIB manager: Transport endpoint is not connected\\nError perf\norming operation: Transport endpoint is not connected"", ""stderr_lines"": [""Error: Unable to forget failed operations of resource: ovn-dbs-bundle"", ""Error connecting to the CIB manager: Transport endpoint is not connected"", ""Error performing operation: Tran\nsport endpoint is not connected""], ""stdout"": """", ""stdout_lines"": []}\n\nWe cannot call pcs resource cleanup at step1, we must call it at step0 so we\'re\nguaranteed that the cluster is up, no matter how heat/ansible decide to order\nthe update_tasks.\n\nNote: This is the short-term less-invasive fix. The mid-long term fix\nshould be around verifying that we can now remove those workarounds\nthat were implemented for OVN bugs.\n\nCloses-Bug: #1943254\nChange-Id: Idd827f72c0033978db7b9a8ea6acec2086cda961\n(cherry picked from commit ff3173bdcf304dc726f5b03d813fa2194e2c63cc)\n(cherry picked from commit 9cab0d721a572d23243c83c8b6eba9e946f376dd)\n'}]",0,808855,fd508d1cab9574c2f5ea55dbed295dde08f8f8d8,8,4,1,20172,,,0,"Guarantee that ovn-dbs-pcmk update_tasks are run when the cluster is up

On particular role compositions, the code joining the update_tasks might order
things differently then on a typical 3ctrl control plane and the ovn-dbs tasks
at step1 (which require the cluster to be up) will happen after the pacemaker
task at step1 which stops the cluster.

So we can observe something like the following:
2021-09-10 10:05:13.370339 | 001c2891-506d-f833-ff5a-000000000954 | TASK | Change the bundle operation timeout
2021-09-10 10:05:14.136798 | 001c2891-506d-f833-ff5a-000000000954 | CHANGED | Change the bundle operation timeout | ovn-db-01
2021-09-10 10:05:14.137982 | 001c2891-506d-f833-ff5a-000000000954 | TIMING | Change the bundle operation timeout | ovn-db-01 | 0:00:54.808754 | 0.77s
2021-09-10 10:05:14.146853 | 001c2891-506d-f833-ff5a-000000000956 | TASK | Acquire the cluster shutdown lock to stop pacemaker cluster
2021-09-10 10:05:14.508085 | 001c2891-506d-f833-ff5a-000000000956 | CHANGED | Acquire the cluster shutdown lock to stop pacemaker cluster | ovn-db-01
2021-09-10 10:05:14.509257 | 001c2891-506d-f833-ff5a-000000000956 | TIMING | Acquire the cluster shutdown lock to stop pacemaker cluster | ovn-db-01 | 0:00:55.180032 | 0.36s
2021-09-10 10:05:14.518668 | 001c2891-506d-f833-ff5a-000000000957 | TASK | Stop pacemaker cluster
2021-09-10 10:05:18.559627 | 001c2891-506d-f833-ff5a-000000000957 | CHANGED | Stop pacemaker cluster | ovn-db-01

2021-09-10 10:05:18.560561 | 001c2891-506d-f833-ff5a-000000000957 | TIMING | Stop pacemaker cluster | ovn-db-01 | 0:00:59.231336 | 4.04s
2021-09-10 10:05:18.569161 | 001c2891-506d-f833-ff5a-000000000958 | TASK | Start pacemaker cluster
2021-09-10 10:05:18.627924 | 001c2891-506d-f833-ff5a-000000000958 | SKIPPED | Start pacemaker cluster | ovn-db-01
2021-09-10 10:05:18.628678 | 001c2891-506d-f833-ff5a-000000000958 | TIMING | Start pacemaker cluster | ovn-db-01 | 0:00:59.299453 | 0.06s
2021-09-10 10:05:18.637292 | 001c2891-506d-f833-ff5a-000000000959 | TASK | Release the cluster shutdown lock
2021-09-10 10:05:18.694945 | 001c2891-506d-f833-ff5a-000000000959 | SKIPPED | Release the cluster shutdown lock | ovn-db-01
2021-09-10 10:05:18.695717 | 001c2891-506d-f833-ff5a-000000000959 | TIMING | Release the cluster shutdown lock | ovn-db-01 | 0:00:59.366493 | 0.06s
2021-09-10 10:05:18.704368 | 001c2891-506d-f833-ff5a-00000000095a | TASK | Clear ovndb cluster pacemaker error
2021-09-10 10:05:19.368816 | 001c2891-506d-f833-ff5a-00000000095a | FATAL | Clear ovndb cluster pacemaker error | ovn-db-01 | error={""changed"": true, ""cmd"": ""pcs resource cleanup ovn-dbs-bundle"", ""delta"": ""0:00:00.399084"", ""end"": ""2021-09-10 10:05:20
.044985"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2021-09-10 10:05:19.645901"", ""stderr"": ""Error: Unable to forget failed operations of resource: ovn-dbs-bundle\nError connecting to the CIB manager: Transport endpoint is not connected\nError perf
orming operation: Transport endpoint is not connected"", ""stderr_lines"": [""Error: Unable to forget failed operations of resource: ovn-dbs-bundle"", ""Error connecting to the CIB manager: Transport endpoint is not connected"", ""Error performing operation: Tran
sport endpoint is not connected""], ""stdout"": """", ""stdout_lines"": []}

We cannot call pcs resource cleanup at step1, we must call it at step0 so we're
guaranteed that the cluster is up, no matter how heat/ansible decide to order
the update_tasks.

Note: This is the short-term less-invasive fix. The mid-long term fix
should be around verifying that we can now remove those workarounds
that were implemented for OVN bugs.

Closes-Bug: #1943254
Change-Id: Idd827f72c0033978db7b9a8ea6acec2086cda961
(cherry picked from commit ff3173bdcf304dc726f5b03d813fa2194e2c63cc)
(cherry picked from commit 9cab0d721a572d23243c83c8b6eba9e946f376dd)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/808855/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,fd508d1cab9574c2f5ea55dbed295dde08f8f8d8,ovndbs-update-stable/wallaby-stable/victoria," # When a schema change happens, the newer slaves don't connect # back to the older master and end up timing out. So we clean # up the error here until we get a fix for # https://bugzilla.redhat.com/show_bug.cgi?id=1759974 - name: Clear ovndb cluster pacemaker error shell: ""pcs resource cleanup ovn-dbs-bundle"" when: - step|int == 0 # Then we ban the resource for this node. It has no effect on # the first two controllers, but when we reach the last one, # it avoids a cut in the control plane as master get chosen in # one of the updated Stopped ovn. They are in error, that why # we need the cleanup just before. - name: Ban ovndb resource on the current node. shell: ""pcs resource ban ovn-dbs-bundle $(hostname | cut -d. -f1)"" when: - step|int == 0"," # When a schema change happens, the newer slaves don't connect # back to the older master and end up timing out. So we clean # up the error here until we get a fix for # https://bugzilla.redhat.com/show_bug.cgi?id=1759974 - name: Clear ovndb cluster pacemaker error shell: ""pcs resource cleanup ovn-dbs-bundle"" when: - step|int == 1 # Then we ban the resource for this node. It has no effect on # the first two controllers, but when we reach the last one, # it avoids a cut in the control plane as master get chosen in # one of the updated Stopped ovn. They are in error, that why # we need the cleanup just before. - name: Ban ovndb resource on the current node. shell: ""pcs resource ban ovn-dbs-bundle $(hostname | cut -d. -f1)"" when: - step|int == 1",17,17
openstack%2Fglance~master~I7504582dc9751fb2e0fad914d2ee435d0a06f1b7,openstack/glance,master,I7504582dc9751fb2e0fad914d2ee435d0a06f1b7,DNM [Upload policy] functional-py36 timeout test,ABANDONED,2021-08-17 17:02:43.000000000,2021-09-15 07:02:39.000000000,,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-17 17:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/42051661b944c0917e7bfe40771e696dafe89dc7', 'message': 'DNM functional-py36 timeout test\n\nChange-Id: I7504582dc9751fb2e0fad914d2ee435d0a06f1b7\n'}, {'number': 2, 'created': '2021-08-17 17:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/65f8cc83914024596f4fd9e6dda391da6fc94a90', 'message': 'DNM functional-py36 timeout test\n\nChange-Id: I7504582dc9751fb2e0fad914d2ee435d0a06f1b7\n'}, {'number': 3, 'created': '2021-08-17 18:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f62bb1d9d6c4e68d811091551c5c75c43ba05c75', 'message': 'DNM functional-py36 timeout test\n\nChange-Id: I7504582dc9751fb2e0fad914d2ee435d0a06f1b7\n'}, {'number': 4, 'created': '2021-08-17 18:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ae6ace3e35e0600072854a7ef98a1eaa7784558e', 'message': 'DNM functional-py36 timeout test\n\nChange-Id: I7504582dc9751fb2e0fad914d2ee435d0a06f1b7\n'}, {'number': 5, 'created': '2021-08-17 19:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/10febd037f0c99f7d78b634056be9ca844e6daa9', 'message': 'DNM functional-py36 timeout test\n\nReverted chagnes from image_data.py\nReverted functional test case changes\n\nChange-Id: I7504582dc9751fb2e0fad914d2ee435d0a06f1b7\n'}, {'number': 6, 'created': '2021-08-17 19:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/19f9aaeb5f549f07a0499b04120a7706c7ed69e4', 'message': 'DNM functional-py36 timeout test\n\nReverted chagnes from image_data.py\nReverted functional test case changes\n\nChange-Id: I7504582dc9751fb2e0fad914d2ee435d0a06f1b7\n'}, {'number': 7, 'created': '2021-08-17 20:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d2020599846fec6961f30271eabf4bebda060ae9', 'message': 'DNM functional-py36 timeout test\n\nReverted chagnes from image_data.py\nReverted functional test case changes\n\nChange-Id: I7504582dc9751fb2e0fad914d2ee435d0a06f1b7\n'}, {'number': 8, 'created': '2021-08-17 21:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/83d4b2d0675afb67ef326d2f0f77946362405c59', 'message': 'DNM functional-py36 timeout test\n\nChange-Id: I7504582dc9751fb2e0fad914d2ee435d0a06f1b7\n'}, {'number': 9, 'created': '2021-08-18 06:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/16f8b858b558c308a2df35b1d6cc1a411e1edc21', 'message': 'DNM [Upload policy] functional-py36 timeout test\n\nChange-Id: I7504582dc9751fb2e0fad914d2ee435d0a06f1b7\n'}, {'number': 10, 'created': '2021-08-18 15:04:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/da73a0a0d079d89578164dcfd16642631e81cc8c', 'message': 'DNM [Upload policy] functional-py36 timeout test\n\nChange-Id: I7504582dc9751fb2e0fad914d2ee435d0a06f1b7\n'}]",0,804898,da73a0a0d079d89578164dcfd16642631e81cc8c,62,4,10,9303,,,0,"DNM [Upload policy] functional-py36 timeout test

Change-Id: I7504582dc9751fb2e0fad914d2ee435d0a06f1b7
",git fetch https://review.opendev.org/openstack/glance refs/changes/98/804898/10 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,42051661b944c0917e7bfe40771e696dafe89dc7,hail-mary,, templates: - check-requirements - integrated-gate-storage - openstack-python3-xena-jobs - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - openstack-tox-functional-py38 - glance-tox-functional-py38-rbac-defaults - glance-code-constants-check - glance-ceph-thin-provisioning: voting: false irrelevant-files: &tempest-irrelevant-files - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^api-ref/.*$ - ^glance/hacking/.*$ - ^glance/locale/.*$ - ^glance/tests/.*$ - ^doc/.*$ - ^releasenotes/.*$ - ^tools/.*$ - ^tox.ini$ - ^\.zuul\.yaml$ - tempest-integrated-storage: irrelevant-files: *tempest-irrelevant-files - tempest-integrated-storage-import: irrelevant-files: *tempest-irrelevant-files - tempest-integrated-storage-import-standalone: irrelevant-files: *tempest-irrelevant-files - glance-multistore-cinder-import: irrelevant-files: *tempest-irrelevant-files - grenade: irrelevant-files: *tempest-irrelevant-files - tempest-ipv6-only: irrelevant-files: *tempest-irrelevant-files - nova-ceph-multistore: irrelevant-files: *tempest-irrelevant-files - glance-secure-rbac-protection-functional - openstack-tox-functional-py38 - tempest-integrated-storage: irrelevant-files: *tempest-irrelevant-files - tempest-integrated-storage-import: irrelevant-files: *tempest-irrelevant-files - tempest-integrated-storage-import-standalone: irrelevant-files: *tempest-irrelevant-files - grenade: irrelevant-files: *tempest-irrelevant-files - tempest-ipv6-only: irrelevant-files: *tempest-irrelevant-files - nova-ceph-multistore: irrelevant-files: *tempest-irrelevant-files - glance-secure-rbac-protection-functional,0,53
openstack%2Fec2-api~stable%2Fxena~I738cbd7728fb6b8d0bdfbdd8687d7c822fa624b3,openstack/ec2-api,stable/xena,I738cbd7728fb6b8d0bdfbdd8687d7c822fa624b3,update .gitreview,MERGED,2021-09-15 04:15:07.000000000,2021-09-15 06:53:08.000000000,2021-09-15 06:50:08.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 04:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/9c20cc03e0f8c564f9f7935fe9da3a3aa2fd6983', 'message': 'update .gitreview\n\nand fix code\n\nChange-Id: I738cbd7728fb6b8d0bdfbdd8687d7c822fa624b3\n'}, {'number': 2, 'created': '2021-09-15 05:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/efccb6584b45b5bfa7d90310c1bb4d64c30574fb', 'message': 'update .gitreview\n\nand fix code\n\nChange-Id: I738cbd7728fb6b8d0bdfbdd8687d7c822fa624b3\n'}, {'number': 3, 'created': '2021-09-15 05:45:33.000000000', 'files': ['.gitreview', 'ec2api/tests/unit/base.py', 'ec2api/tests/unit/test_clients.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/0154083af4bacaa373553c98e2aa71e16bfc6875', 'message': 'update .gitreview\n\nand fix code\n\nChange-Id: I738cbd7728fb6b8d0bdfbdd8687d7c822fa624b3\n'}]",0,809111,0154083af4bacaa373553c98e2aa71e16bfc6875,11,2,3,10234,,,0,"update .gitreview

and fix code

Change-Id: I738cbd7728fb6b8d0bdfbdd8687d7c822fa624b3
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/11/809111/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'ec2api/tests/unit/base.py']",2,9c20cc03e0f8c564f9f7935fe9da3a3aa2fd6983,, cinder = mock.create_autospec(cinderclient.Client('3')), cinder = mock.create_autospec(cinderclient.Client('2')),2,1
openstack%2Fec2-api~stable%2Fxena~I344eeee7c74dca6153f2124b6e848dbf4f848a5f,openstack/ec2-api,stable/xena,I344eeee7c74dca6153f2124b6e848dbf4f848a5f,Update .gitreview for stable/xena,ABANDONED,2021-09-15 01:32:56.000000000,2021-09-15 06:44:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-15 01:32:56.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/55be1258b202ca58ba0e6b26fd7a22d539ac3408', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I344eeee7c74dca6153f2124b6e848dbf4f848a5f\n'}]",0,809024,55be1258b202ca58ba0e6b26fd7a22d539ac3408,3,1,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I344eeee7c74dca6153f2124b6e848dbf4f848a5f
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/24/809024/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,55be1258b202ca58ba0e6b26fd7a22d539ac3408,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Ftrove~stable%2Fxena~I7b1e1213d5ceb67c44b3899bc3e0fea16f17ee9d,openstack/trove,stable/xena,I7b1e1213d5ceb67c44b3899bc3e0fea16f17ee9d,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-15 02:34:41.000000000,2021-09-15 06:16:20.000000000,2021-09-15 05:56:55.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:34:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/trove/commit/42df225160ad712b1cf53ce98ee4ab9c5938d286', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I7b1e1213d5ceb67c44b3899bc3e0fea16f17ee9d\n'}]",0,809107,42df225160ad712b1cf53ce98ee4ab9c5938d286,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I7b1e1213d5ceb67c44b3899bc3e0fea16f17ee9d
",git fetch https://review.opendev.org/openstack/trove refs/changes/07/809107/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,42df225160ad712b1cf53ce98ee4ab9c5938d286,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} \, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} \,1,1
openstack%2Fhorizon~master~I0f26436eb384a95f8446d8fd447c9577d50a5c21,openstack/horizon,master,I0f26436eb384a95f8446d8fd447c9577d50a5c21,Support Django 3.0 and 3.1 support (3),MERGED,2021-02-24 14:58:47.000000000,2021-09-15 06:16:09.000000000,2021-09-15 06:08:18.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-24 14:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/019f5a98e700f6230c11d1a8da3be6c618438a69', 'message': ""Support Django 3.0 and 3.1 support (3)\n\nThe result of the encoded (i.e., escaped) text in HTML changed\nbetween Django pre-3.0 and 3.0+. For example, decimal and hex encoding\nare semantically same but they are different in literal texts.\nWhile I don't know what triggers this change, I think it makes sense\nto compare these texts after decoding as HTML.\nConsidering this, html=True is passed to self.assertContains().\n\nWhen passing html=True, a text in an HTML element is not compared\npartially and a full text as a value of the HTML element is compared,\nso we need to pass the full text of an HTML element value now.\n\nI believe the above change is caused by the change that django.test.html.Parser\nis initialized with convert_charrefs=False previously. On the other hand,\nit is not specified now in Django 3.0+ [1]. This leads to the situation that\nescapes on unicode characters are handled differently.\n\n[1] https://github.com/django/django/commit/48235ba807483fe349d2dc66aaeddc0d03f8b0d4\n\nChange-Id: I0f26436eb384a95f8446d8fd447c9577d50a5c21\n""}, {'number': 2, 'created': '2021-02-25 18:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8d673194065e0da85076fafadfad6ecd663895ea', 'message': ""Support Django 3.0 and 3.1 support (3)\n\nThe result of the encoded (i.e., escaped) text in HTML changed\nbetween Django pre-3.0 and 3.0+. For example, decimal and hex encoding\nare semantically same but they are different in literal texts.\nWhile I don't know what triggers this change, I think it makes sense\nto compare these texts after decoding as HTML.\nConsidering this, html=True is passed to self.assertContains().\n\nWhen passing html=True, a text in an HTML element is not compared\npartially and a full text as a value of the HTML element is compared,\nso we need to pass the full text of an HTML element value now.\n\nI believe the above change is caused by the change that django.test.html.Parser\nis initialized with convert_charrefs=False previously. On the other hand,\nit is not specified now in Django 3.0+ [1]. This leads to the situation that\nescapes on unicode characters are handled differently.\n\n[1] https://github.com/django/django/commit/48235ba807483fe349d2dc66aaeddc0d03f8b0d4\n\nChange-Id: I0f26436eb384a95f8446d8fd447c9577d50a5c21\n""}, {'number': 3, 'created': '2021-09-14 19:35:05.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a0dd4d738cf6587e59f315b2ec60bde63c9b05ca', 'message': ""Support Django 3.0 and 3.1 support (3)\n\nThe result of the encoded (i.e., escaped) text in HTML changed\nbetween Django pre-3.0 and 3.0+. For example, decimal and hex encoding\nare semantically same but they are different in literal texts.\nWhile I don't know what triggers this change, I think it makes sense\nto compare these texts after decoding as HTML.\nConsidering this, html=True is passed to self.assertContains().\n\nWhen passing html=True, a text in an HTML element is not compared\npartially and a full text as a value of the HTML element is compared,\nso we need to pass the full text of an HTML element value now.\n\nI believe the above change is caused by the change that django.test.html.Parser\nis initialized with convert_charrefs=False previously. On the other hand,\nit is not specified now in Django 3.0+ [1]. This leads to the situation that\nescapes on unicode characters are handled differently.\n\n[1] https://github.com/django/django/commit/48235ba807483fe349d2dc66aaeddc0d03f8b0d4\n\nChange-Id: I0f26436eb384a95f8446d8fd447c9577d50a5c21\n""}]",0,777394,a0dd4d738cf6587e59f315b2ec60bde63c9b05ca,17,3,3,841,,,0,"Support Django 3.0 and 3.1 support (3)

The result of the encoded (i.e., escaped) text in HTML changed
between Django pre-3.0 and 3.0+. For example, decimal and hex encoding
are semantically same but they are different in literal texts.
While I don't know what triggers this change, I think it makes sense
to compare these texts after decoding as HTML.
Considering this, html=True is passed to self.assertContains().

When passing html=True, a text in an HTML element is not compared
partially and a full text as a value of the HTML element is compared,
so we need to pass the full text of an HTML element value now.

I believe the above change is caused by the change that django.test.html.Parser
is initialized with convert_charrefs=False previously. On the other hand,
it is not specified now in Django 3.0+ [1]. This leads to the situation that
escapes on unicode characters are handled differently.

[1] https://github.com/django/django/commit/48235ba807483fe349d2dc66aaeddc0d03f8b0d4

Change-Id: I0f26436eb384a95f8446d8fd447c9577d50a5c21
",git fetch https://review.opendev.org/openstack/horizon refs/changes/94/777394/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/tests.py'],1,019f5a98e700f6230c11d1a8da3be6c618438a69,django3-support," msg = (f""The flavor &#39;{flavor.name}&#39; is too small for requested "" f""image. Minimum requirements: {image.min_ram} MB of RAM and "" f""{image.min_disk} GB of Root Disk."") self.assertContains(res, msg, html=True) msg = (f""The flavor &#39;{flavor.name}&#39; is too small for requested "" f""image. Minimum requirements: {image.min_ram} MB of RAM and "" f""{image.min_disk} GB of Root Disk."") self.assertContains(res, msg, html=True) msg = (f""The flavor &39;{flavor.name}&39; is too small for requested "" f""image. Minimum requirements: {image.min_ram} MB of RAM and "" f""{image.min_disk} GB of Root Disk."") self.assertNotContains(res, msg, html=True) self.assertContains(res, msg, html=True) msg = (""The Volume size is too small for the &#39;%s&#39; image "" ""and has to be greater than or equal to &#39;%s&#39; GB."" % (image.name, image.min_disk)) msg = (""The requested instance cannot be launched. "" ""Requested volume exceeds quota: Available: 0, Requested: 1."")"," msg = ""The flavor &#39;%s&#39; is too small"" % flavor.name self.assertContains(res, msg) msg = ""The flavor &#39;%s&#39; is too small"" % flavor.name self.assertContains(res, msg) msg = ""The flavor &#39;%s&#39; is too small"" % flavor.name self.assertNotContains(res, msg) self.assertContains(res, msg) msg = (""The Volume size is too small for the &#39;%s&#39; image"" % image.name) msg = ""Requested volume exceeds quota: Available: 0, Requested: 1""",18,10
openstack%2Ftrove~master~If4ba51747ce22d9942d0243c68b64d4eb1fa9579,openstack/trove,master,If4ba51747ce22d9942d0243c68b64d4eb1fa9579,Update master for stable/xena,MERGED,2021-09-15 02:34:43.000000000,2021-09-15 06:07:03.000000000,2021-09-15 06:00:05.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:34:43.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/b9f77ef965d6dc1bd4b325cb1fd9235b576e9155', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: If4ba51747ce22d9942d0243c68b64d4eb1fa9579\n'}]",0,809108,b9f77ef965d6dc1bd4b325cb1fd9235b576e9155,7,2,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: If4ba51747ce22d9942d0243c68b64d4eb1fa9579
",git fetch https://review.opendev.org/openstack/trove refs/changes/08/809108/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,b9f77ef965d6dc1bd4b325cb1fd9235b576e9155,reno-xena, xena,,7,0
openstack%2Ftrove~stable%2Fxena~I4363dc33401d0fb230b1f3a39f01535fcdf851e0,openstack/trove,stable/xena,I4363dc33401d0fb230b1f3a39f01535fcdf851e0,Update .gitreview for stable/xena,MERGED,2021-09-15 02:34:39.000000000,2021-09-15 06:06:23.000000000,2021-09-15 05:56:54.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:34:39.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/trove/commit/a9fea95b999e3d9929acaa4e5eff0809213ad3a7', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I4363dc33401d0fb230b1f3a39f01535fcdf851e0\n'}]",0,809106,a9fea95b999e3d9929acaa4e5eff0809213ad3a7,7,2,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I4363dc33401d0fb230b1f3a39f01535fcdf851e0
",git fetch https://review.opendev.org/openstack/trove refs/changes/06/809106/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,a9fea95b999e3d9929acaa4e5eff0809213ad3a7,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Ftrove-dashboard~stable%2Fxena~If4521f73d54db3cb50863e256dafe81c42796651,openstack/trove-dashboard,stable/xena,If4521f73d54db3cb50863e256dafe81c42796651,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-15 02:33:39.000000000,2021-09-15 06:06:13.000000000,2021-09-15 05:56:44.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:33:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/f1c3e51bed9b26688cd7f357e65c3bd06e23e31a', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: If4521f73d54db3cb50863e256dafe81c42796651\n'}]",0,809100,f1c3e51bed9b26688cd7f357e65c3bd06e23e31a,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: If4521f73d54db3cb50863e256dafe81c42796651
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/00/809100/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f1c3e51bed9b26688cd7f357e65c3bd06e23e31a,create-xena,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena},deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Ftrove-dashboard~stable%2Fxena~Id5436423b5d17605c0c748c44c601a8de56f8cd3,openstack/trove-dashboard,stable/xena,Id5436423b5d17605c0c748c44c601a8de56f8cd3,Update .gitreview for stable/xena,MERGED,2021-09-15 02:33:37.000000000,2021-09-15 05:56:42.000000000,2021-09-15 05:56:42.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:33:37.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/3749e5b1e567e7fe4ee3556f30dca90fa80a1c95', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: Id5436423b5d17605c0c748c44c601a8de56f8cd3\n'}]",0,809099,3749e5b1e567e7fe4ee3556f30dca90fa80a1c95,6,2,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: Id5436423b5d17605c0c748c44c601a8de56f8cd3
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/99/809099/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,3749e5b1e567e7fe4ee3556f30dca90fa80a1c95,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Ftrove-dashboard~master~I8947a22932e16da98607ec65039de0c25ca8a44d,openstack/trove-dashboard,master,I8947a22932e16da98607ec65039de0c25ca8a44d,Add Python3 yoga unit tests,MERGED,2021-09-15 02:33:43.000000000,2021-09-15 05:56:41.000000000,2021-09-15 05:56:41.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:33:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/1602afbd7e3abfab2e40d931726474de5e9e3d70', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I8947a22932e16da98607ec65039de0c25ca8a44d\n'}]",0,809102,1602afbd7e3abfab2e40d931726474de5e9e3d70,6,2,1,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I8947a22932e16da98607ec65039de0c25ca8a44d
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/02/809102/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1602afbd7e3abfab2e40d931726474de5e9e3d70,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Ftrove-dashboard~master~I370ffb25fe7aa9d77187ad84dbea7db0e229c3c1,openstack/trove-dashboard,master,I370ffb25fe7aa9d77187ad84dbea7db0e229c3c1,Update master for stable/xena,MERGED,2021-09-15 02:33:41.000000000,2021-09-15 05:53:54.000000000,2021-09-15 05:52:13.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 02:33:41.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/9f98f7a6a8ba45e1b114fe5f2f0f19ce02c20198', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: I370ffb25fe7aa9d77187ad84dbea7db0e229c3c1\n'}]",0,809101,9f98f7a6a8ba45e1b114fe5f2f0f19ce02c20198,7,2,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: I370ffb25fe7aa9d77187ad84dbea7db0e229c3c1
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/01/809101/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,9f98f7a6a8ba45e1b114fe5f2f0f19ce02c20198,reno-xena, xena,,7,0
openstack%2Ftripleo-quickstart-extras~master~I263f89a679f1578f05d6e4a1bdbbeac84b369586,openstack/tripleo-quickstart-extras,master,I263f89a679f1578f05d6e4a1bdbbeac84b369586,WIP adding standalone-upgrade to content-provider pipeline,ABANDONED,2020-09-22 16:30:05.000000000,2021-09-15 05:49:00.000000000,,"[{'_account_id': 8449}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-22 16:30:05.000000000', 'files': ['roles/standalone-upgrade/tasks/main.yml', 'playbooks/multinode-standalone-pre.yml', 'roles/standalone-upgrade/tasks/containers.yml', 'playbooks/multinode-standalone-upgrade-pre.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8bc70acd7993b3b2674510b70fd3b9df3567f857', 'message': 'WIP adding standalone-upgrade to content-provider pipeline\n\nChange-Id: I263f89a679f1578f05d6e4a1bdbbeac84b369586\nNeeded-By: I74265c7a1f63cdf4f1e9ef9e483915408ed7eb44\n'}]",0,753404,8bc70acd7993b3b2674510b70fd3b9df3567f857,6,4,1,8449,,,0,"WIP adding standalone-upgrade to content-provider pipeline

Change-Id: I263f89a679f1578f05d6e4a1bdbbeac84b369586
Needed-By: I74265c7a1f63cdf4f1e9ef9e483915408ed7eb44
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/04/753404/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone-upgrade/tasks/main.yml', 'playbooks/multinode-standalone-pre.yml', 'roles/standalone-upgrade/tasks/containers.yml', 'playbooks/multinode-standalone-upgrade-pre.yml']",4,8bc70acd7993b3b2674510b70fd3b9df3567f857,,"--- # Opening up repo-setup as cached variables can cause issue, see # https://bugs.launchpad.net/tripleo/+bug/1795367 - name: Standalone upgrade repos setup and host upgrade hosts: undercloud tasks: - name: Standalone upgrade get new dlrn hash. include_role: name: repo-setup tasks_from: get-dlrn-hash - name: Standalone upgrade get new dlrn hash. include_role: name: repo-setup tasks_from: get-dlrn-hash-newest - name: Standalone upgrade generate new dlrn repo-setup script. include_role: name: repo-setup tasks_from: create-repo-script vars: repo_setup_script: repo_setup_upgrade.sh # The next task triggers the yum upgrade command in as # repo_setup_run_update is true in release files by default. - name: Standalone upgrade setup new repos include_role: name: repo-setup tasks_from: setup_repos vars: repo_setup_log: repo_setup_upgrade.log repo_setup_script: repo_setup_upgrade.sh tags: - standalone-upgrade # This is what is gating the patch in the N version in a N-1->N # upgrade. - name: Standalone upgrade runs DLRN gate role and install repo hosts: undercloud vars: artg_compressed_gating_repo: ""/home/{{ undercloud_user }}/gating_repo.tar.gz"" # This should not be enabled because the updating of the packages occurs # durring the upgrade process. For general installation it's ok to have # this enabled, but this needs to be disabled for upgrades ib_gating_repo_update: false # pass build_repo_dir https://bugs.launchpad.net/tripleo/+bug/1895138 build_repo_dir: ""/home/{{ undercloud_user }}"" roles: - build-test-packages - {role: install-built-repo, when: compressed_gating_repo is defined} tags: - standalone-upgrade - name: Prep and build standalone containers hosts: undercloud tasks: - include_role: name: standalone-upgrade tasks_from: containers apply: tags: - standalone tags: - standalone ",,94,19
openstack%2Ftripleo-repos~master~I951dbeadecc91d746e5a0a9f645d03e5bcc05cc0,openstack/tripleo-repos,master,I951dbeadecc91d746e5a0a9f645d03e5bcc05cc0,DNM testing for d/stream disable ssl get-hash,ABANDONED,2021-09-02 10:58:45.000000000,2021-09-15 05:48:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-02 10:58:45.000000000', 'files': ['plugins/module_utils/tripleo_repos/get_hash/tripleo_hash_info.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/d514324f98ab71aaefbfe5182ab3be64453779ce', 'message': 'DNM testing for d/stream disable ssl get-hash\n\nChange-Id: I951dbeadecc91d746e5a0a9f645d03e5bcc05cc0\n'}]",0,807117,d514324f98ab71aaefbfe5182ab3be64453779ce,3,1,1,8449,,,0,"DNM testing for d/stream disable ssl get-hash

Change-Id: I951dbeadecc91d746e5a0a9f645d03e5bcc05cc0
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/17/807117/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/module_utils/tripleo_repos/get_hash/tripleo_hash_info.py'],1,d514324f98ab71aaefbfe5182ab3be64453779ce,," import ssl ctx = ssl.create_default_context() ctx.check_hostname = False ctx.verify_mode = ssl.CERT_NONE response = urlopen(url, context=ctx)", response = urlopen(url),5,1
openstack%2Ftripleo-quickstart-extras~master~I6d26253262aea47b749011c248254202e852049b,openstack/tripleo-quickstart-extras,master,I6d26253262aea47b749011c248254202e852049b,WIP test for Artom,ABANDONED,2021-01-26 13:52:10.000000000,2021-09-15 05:48:13.000000000,,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-26 13:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4712897e08021c5603631534264e94e5161df7fb', 'message': 'WIP test for Artom\n\nAs discussed today in the community call [1]\n\n[1] https://hackmd.io/IhMCTNMBSF6xtqiEd9Z0Kw?both#2021-01-26-Community-call\n\nChange-Id: I6d26253262aea47b749011c248254202e852049b\n'}, {'number': 2, 'created': '2021-01-26 15:36:59.000000000', 'files': ['playbooks/multinode-standalone.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8f74acd3d2d218e869a574e09efdca3f054d9a4b', 'message': 'WIP test for Artom\n\nAs discussed today in the community call [1]\n\n[1] https://hackmd.io/IhMCTNMBSF6xtqiEd9Z0Kw?both#2021-01-26-Community-call\n\nChange-Id: I6d26253262aea47b749011c248254202e852049b\n'}]",3,772523,8f74acd3d2d218e869a574e09efdca3f054d9a4b,9,3,2,8449,,,0,"WIP test for Artom

As discussed today in the community call [1]

[1] https://hackmd.io/IhMCTNMBSF6xtqiEd9Z0Kw?both#2021-01-26-Community-call

Change-Id: I6d26253262aea47b749011c248254202e852049b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/23/772523/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/multinode-standalone.yml'],1,4712897e08021c5603631534264e94e5161df7fb,I6d26253262aea47b749011c248254202e852049b," standalone_libvirt_type: ""{{ zuul.standalone_virt_type|default('qemu') }}"""," standalone_libvirt_type: ""{{ standalone_virt_type|default('qemu') }}""",1,1
openstack%2Ftripleo-quickstart~master~I29a7ba2e7bef171dd95d89c8b2c98268349ce927,openstack/tripleo-quickstart,master,I29a7ba2e7bef171dd95d89c8b2c98268349ce927,DNM testing for 779992,ABANDONED,2021-03-12 11:41:08.000000000,2021-09-15 05:47:53.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-12 11:41:08.000000000', 'files': ['config/general_config/featureset052.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/83f491c7fe1372906e9dd9c4032b8cf372b4bc84', 'message': 'DNM testing for 779992\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/779992\nChange-Id: I29a7ba2e7bef171dd95d89c8b2c98268349ce927\n'}]",0,780228,83f491c7fe1372906e9dd9c4032b8cf372b4bc84,4,2,1,8449,,,0,"DNM testing for 779992

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/779992
Change-Id: I29a7ba2e7bef171dd95d89c8b2c98268349ce927
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/28/780228/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset052.yml'],1,83f491c7fe1372906e9dd9c4032b8cf372b4bc84,,# WOOOOOOOOOO TESTIIIIING frideeeeeeiiii \o/\o/\o/,,1,1
openstack%2Fpuppet-ceilometer~master~I0ac91a77a1809ee851821bd6f52a43cc6fda890b,openstack/puppet-ceilometer,master,I0ac91a77a1809ee851821bd6f52a43cc6fda890b,Add watch_log_file option,MERGED,2021-09-14 08:02:56.000000000,2021-09-15 05:47:52.000000000,2021-09-15 05:45:43.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:56.000000000', 'files': ['releasenotes/notes/add_watch_log_file-option-add0360c545882f4.yaml', 'manifests/logging.pp', 'spec/classes/ceilometer_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/b87511973bde61cb55569dd2b9671c0ead1219c5', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: I0ac91a77a1809ee851821bd6f52a43cc6fda890b\nCloses-Bug: #1943212\n'}]",0,808892,b87511973bde61cb55569dd2b9671c0ead1219c5,12,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: I0ac91a77a1809ee851821bd6f52a43cc6fda890b
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/92/808892/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_watch_log_file-option-add0360c545882f4.yaml', 'manifests/logging.pp', 'spec/classes/ceilometer_logging_spec.rb']",3,b87511973bde61cb55569dd2b9671c0ead1219c5,bug/1943212," :watch_log_file => true, :watch_log_file => '<SERVICE DEFAULT>', :watch_log_file => true,",,13,0
openstack%2Fpuppet-designate~master~I1a5cfae74eb6d0e649f65b5bbba3cf4990e21764,openstack/puppet-designate,master,I1a5cfae74eb6d0e649f65b5bbba3cf4990e21764,Add watch_log_file option,MERGED,2021-09-14 08:02:56.000000000,2021-09-15 05:47:39.000000000,2021-09-15 05:45:17.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:56.000000000', 'files': ['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-b0649e70ce8791c5.yaml', 'spec/classes/designate_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/af274a193dcaee497410cccd2c2f158b3fc6bcb9', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: I1a5cfae74eb6d0e649f65b5bbba3cf4990e21764\nCloses-Bug: #1943212\n'}]",0,808900,af274a193dcaee497410cccd2c2f158b3fc6bcb9,12,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: I1a5cfae74eb6d0e649f65b5bbba3cf4990e21764
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/00/808900/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-b0649e70ce8791c5.yaml', 'spec/classes/designate_logging_spec.rb']",3,af274a193dcaee497410cccd2c2f158b3fc6bcb9,bug/1943212," :watch_log_file => true, :log_file => '<SERVICE DEFAULT>', :watch_log_file => '<SERVICE DEFAULT>', :watch_log_file => true,"," :log_file => '<SERVICE DEFAULT>',",14,1
openstack%2Ftripleo-quickstart-extras~master~I2c1c1fd1c25aec34a1382d10a08de1a2256bc314,openstack/tripleo-quickstart-extras,master,I2c1c1fd1c25aec34a1382d10a08de1a2256bc314,DNM testing for 779992,ABANDONED,2021-03-12 12:31:10.000000000,2021-09-15 05:47:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-12 12:31:10.000000000', 'files': ['roles/standalone/templates/standalone-container-prep.sh.j2', 'roles/standalone-upgrade/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1aedef3740daf8b371ece28180bc8f1a9a0e061a', 'message': 'DNM testing for 779992\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/779992\nChange-Id: I2c1c1fd1c25aec34a1382d10a08de1a2256bc314\n'}]",0,780247,1aedef3740daf8b371ece28180bc8f1a9a0e061a,4,2,1,8449,,,0,"DNM testing for 779992

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/779992
Change-Id: I2c1c1fd1c25aec34a1382d10a08de1a2256bc314
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/47/780247/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone-upgrade/README.md', 'roles/standalone/templates/standalone-container-prep.sh.j2']",2,1aedef3740daf8b371ece28180bc8f1a9a0e061a,,# (clears throat) AAA WOOOOOOOOOOOOOOOOOOOOOoooooO!O,,3,0
openstack%2Fpuppet-trove~master~I888a398b156239804feb31010894e400b2c04f2f,openstack/puppet-trove,master,I888a398b156239804feb31010894e400b2c04f2f,Add watch_log_file option,MERGED,2021-09-14 08:02:56.000000000,2021-09-15 05:41:44.000000000,2021-09-15 05:40:14.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:56.000000000', 'files': ['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-ac0a6a04447b759f.yaml', 'spec/classes/trove_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/3c26187e671fa8a328cfe6c7515479eaa7fbd5a7', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: I888a398b156239804feb31010894e400b2c04f2f\nCloses-Bug: #1943212\n'}]",0,808891,3c26187e671fa8a328cfe6c7515479eaa7fbd5a7,12,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: I888a398b156239804feb31010894e400b2c04f2f
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/91/808891/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-ac0a6a04447b759f.yaml', 'spec/classes/trove_logging_spec.rb']",3,3c26187e671fa8a328cfe6c7515479eaa7fbd5a7,bug/1943212," :watch_log_file => true, :watch_log_file => '<SERVICE DEFAULT>', :watch_log_file => true,",,13,0
openstack%2Fhorizon~master~Ib3a631a3626977a2e7114dac217aacd523354c53,openstack/horizon,master,Ib3a631a3626977a2e7114dac217aacd523354c53,Support Django 3.0 and 3.1 support (2),MERGED,2021-02-24 14:58:47.000000000,2021-09-15 05:21:17.000000000,2021-09-15 05:19:45.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-24 14:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ac47a74ab073a4c90f77253536289effdec5b11f', 'message': 'Support Django 3.0 and 3.1 support (2)\n\nIt seems Django 3.0+ does not allow to set an unknown attribute\nto forms.Form.fields. ""keyOrder"" attribute has no meaning and\n""field_order"" of the Form class is the right way to configure\nthe order of fields.\n\nChange-Id: Ib3a631a3626977a2e7114dac217aacd523354c53\n'}, {'number': 2, 'created': '2021-02-25 18:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/715f03562c3a3cdbede357e60b166b5774dd6f07', 'message': 'Support Django 3.0 and 3.1 support (2)\n\nIt seems Django 3.0+ does not allow to set an unknown attribute\nto forms.Form.fields. ""keyOrder"" attribute has no meaning and\n""field_order"" of the Form class is the right way to configure\nthe order of fields.\n\nChange-Id: Ib3a631a3626977a2e7114dac217aacd523354c53\n'}, {'number': 3, 'created': '2021-09-14 19:32:23.000000000', 'files': ['openstack_dashboard/dashboards/identity/users/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/be12ce1e96e3d2581f1c21d38881a0cf54102e2d', 'message': 'Support Django 3.0 and 3.1 support (2)\n\nIt seems Django 3.0+ does not allow to set an unknown attribute\nto forms.Form.fields. ""keyOrder"" attribute has no meaning and\n""field_order"" of the Form class is the right way to configure\nthe order of fields.\n\nChange-Id: Ib3a631a3626977a2e7114dac217aacd523354c53\n'}]",0,777393,be12ce1e96e3d2581f1c21d38881a0cf54102e2d,18,3,3,841,,,0,"Support Django 3.0 and 3.1 support (2)

It seems Django 3.0+ does not allow to set an unknown attribute
to forms.Form.fields. ""keyOrder"" attribute has no meaning and
""field_order"" of the Form class is the right way to configure
the order of fields.

Change-Id: Ib3a631a3626977a2e7114dac217aacd523354c53
",git fetch https://review.opendev.org/openstack/horizon refs/changes/93/777393/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/identity/users/forms.py'],1,ac47a74ab073a4c90f77253536289effdec5b11f,django3-support," self.field_order = [""id"", ""name"", ""admin_password"", ""password"", ""confirm_password""]"," self.fields.keyOrder = [""id"", ""name"", ""admin_password"", ""password"", ""confirm_password""]",2,2
openstack%2Fskyline-console~master~I0c8fc48733d0a0f9df80e8cc37db63fdebaa166b,openstack/skyline-console,master,I0c8fc48733d0a0f9df80e8cc37db63fdebaa166b,fix: Remove useless component && update path && update image,MERGED,2021-09-15 03:32:46.000000000,2021-09-15 04:51:55.000000000,2021-09-15 04:51:55.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-09-15 03:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/cdec08d9f1cf3072f70e6d7ae3fd4e02b5af9d61', 'message': 'fix: Remove useless component && update path && update image\n\n1. Remove useless component: NotFound, EmptyTable\n2. Update asset path according to alias in webpack\n3. Update page path according to alias in webpack\n4. Remove useless image\n5. Update image name\n\nChange-Id: I0c8fc48733d0a0f9df80e8cc37db63fdebaa166b\n'}, {'number': 2, 'created': '2021-09-15 03:57:21.000000000', 'files': ['src/asset/image/admin-volume.svg', 'src/components/Empty/index.less', 'src/asset/image/admin-router.svg', 'src/asset/image/admin-security-group.svg', 'src/components/ImageType/index.jsx', 'src/layouts/Auth/index.jsx', 'src/pages/basic/routes/index.js', 'src/asset/image/login-full.png', 'src/components/Empty/index.jsx', 'src/components/NotFound/index.less', 'src/layouts/Basic/index.jsx', 'src/core/routes.js', 'src/components/Cards/EmptyTable/index.less', 'src/pages/base/containers/Overview/index.jsx', 'src/asset/image/admin-image.svg', 'src/asset/image/major-alert.svg', 'src/asset/image/load-balancer.png', 'src/asset/image/admin-instance.svg', 'src/asset/image/minor-alert.svg', 'src/components/FormItem/Label/index.jsx', 'src/asset/image/admin-network.svg', 'src/resources/instance.jsx', 'src/asset/image/critical-alert.svg', 'src/pages/compute/containers/Instance/Detail/BaseDetail/index.jsx', 'src/components/Cards/EmptyTable/index.jsx', 'src/asset/image/ArchLinux.svg', 'src/asset/image/volume-container.svg', 'src/asset/image/login.png', 'src/pages/base/containers/AdminOverview/components/ResourceOverview.jsx', 'src/asset/image/TmpFileImage.png', 'src/layouts/Base/Menu.jsx', 'src/components/NotFound/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/318f7b195d39a60e87ea706e7f110bf48661e22c', 'message': 'fix: Remove useless component && update path && update image\n\n1. Remove useless component: NotFound, EmptyTable\n2. Update asset path according to alias in webpack\n3. Update page path according to alias in webpack\n4. Remove useless image\n5. Update image name\n\nChange-Id: I0c8fc48733d0a0f9df80e8cc37db63fdebaa166b\n'}]",0,809110,318f7b195d39a60e87ea706e7f110bf48661e22c,9,2,2,30434,,,0,"fix: Remove useless component && update path && update image

1. Remove useless component: NotFound, EmptyTable
2. Update asset path according to alias in webpack
3. Update page path according to alias in webpack
4. Remove useless image
5. Update image name

Change-Id: I0c8fc48733d0a0f9df80e8cc37db63fdebaa166b
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/10/809110/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/asset/image/admin-volume.svg', 'src/components/Empty/index.less', 'src/asset/image/admin-router.svg', 'src/asset/image/admin-security-group.svg', 'src/components/ImageType/index.jsx', 'src/utils/file.spec.js', 'src/layouts/Auth/index.jsx', 'src/pages/basic/routes/index.js', 'src/asset/image/login-full.png', 'src/components/Empty/index.jsx', 'src/components/NotFound/index.less', 'src/layouts/Basic/index.jsx', 'src/core/routes.js', 'src/components/Cards/EmptyTable/index.less', 'src/pages/base/containers/Overview/index.jsx', 'src/asset/image/admin-image.svg', 'src/asset/image/major-alert.svg', 'src/asset/image/load-balancer.png', 'src/asset/image/admin-instance.svg', 'src/asset/image/minor-alert.svg', 'src/components/FormItem/Label/index.jsx', 'src/asset/image/admin-network.svg', 'src/resources/instance.jsx', 'src/asset/image/critical-alert.svg', 'src/pages/compute/containers/Instance/Detail/BaseDetail/index.jsx', 'src/components/Cards/EmptyTable/index.jsx', 'src/asset/image/ArchLinux.svg', 'src/asset/image/volume-container.svg', 'src/asset/image/login.png', 'src/pages/base/containers/AdminOverview/components/ResourceOverview.jsx', 'src/asset/image/TmpFileImage.png', 'src/layouts/Base/Menu.jsx', 'src/components/NotFound/index.jsx']",33,cdec08d9f1cf3072f70e6d7ae3fd4e02b5af9d61,master2,,"// Copyright 2021 99cloud // // Licensed under the Apache License, Version 2.0 (the ""License""); // you may not use this file except in compliance with the License. // You may obtain a copy of the License at // // http://www.apache.org/licenses/LICENSE-2.0 // // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an ""AS IS"" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. // See the License for the specific language governing permissions and // limitations under the License. import React from 'react'; import styles from './index.less'; export default class NotFound extends React.Component { constructor(props) { super(props); this.state = { time: 10, }; } componentDidMount() { this.interval = setInterval(() => { this.setState(({ time }) => ({ time: Math.max(time - 1, 0), })); }, 1100); } UNSAFE_componentWillUpdate(nextProps, nextState) { if (nextState.time === 0) { if (this.interval) { clearInterval(this.interval); } window.location.href = '/'; } } componentWillUnmount() { if (this.interval) { clearInterval(this.interval); } } render() { return ( <div className={styles.wrapper}> <img className={styles.image} src=""/asset/image/empty-card.svg"" alt="""" /> <div className={styles.text}> <div className=""h1"">Not Found</div> <p> {t.html('NOT_FOUND_DESC', { time: this.state.time, link: '/', })} </p> </div> </div> ); } } ",55,347
openstack%2Fmanila~master~I77ec2091838100abf988b24093864490259e9ee0,openstack/manila,master,I77ec2091838100abf988b24093864490259e9ee0,[doc] Add Xena max api version annotation,MERGED,2021-09-15 00:08:11.000000000,2021-09-15 04:10:24.000000000,2021-09-15 01:06:35.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30407}]","[{'number': 1, 'created': '2021-09-15 00:08:11.000000000', 'files': ['manila/api/openstack/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/1991dc753866264f5e4a77222852eeaccecfae06', 'message': '[doc] Add Xena max api version annotation\n\nChange-Id: I77ec2091838100abf988b24093864490259e9ee0\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,809019,1991dc753866264f5e4a77222852eeaccecfae06,10,3,1,16643,,,0,"[doc] Add Xena max api version annotation

Change-Id: I77ec2091838100abf988b24093864490259e9ee0
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/19/809019/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/api/openstack/rest_api_version_history.rst'],1,1991dc753866264f5e4a77222852eeaccecfae06,doc,2.65 (Maximum in Xena) ----------------------,2.65 ----,2,2
openstack%2Fironic~master~Ibc5610b14cea487d26191249e5c0333fdcd4b914,openstack/ironic,master,Ibc5610b14cea487d26191249e5c0333fdcd4b914,Fix in-band cleaning for ramdisk and anaconda deploy,MERGED,2021-09-02 17:23:03.000000000,2021-09-15 03:50:06.000000000,2021-09-14 17:16:26.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-02 17:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/52b77f3cc5a7eb90904419d658ccf9f8a94f3136', 'message': ""Fix in-band cleaning in the ramdisk deploy\n\nWe have implemented the cleaning prepare/tear_down, but haven't\nimplemented fetching/running in-band clean steps. This change moves\nthe cleaning logic from AgentDeployMixin to AgentBaseMixin, where it\narguably belongs.\n\nChange-Id: Ibc5610b14cea487d26191249e5c0333fdcd4b914\n""}, {'number': 2, 'created': '2021-09-06 14:02:48.000000000', 'files': ['ironic/drivers/modules/agent.py', 'ironic/tests/unit/drivers/modules/test_agent_base.py', 'releasenotes/notes/ramdisk-cleaning-f4e061f978bd6ac4.yaml', 'ironic/drivers/modules/agent_base.py', 'ironic/tests/unit/drivers/modules/test_pxe.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/75304deefb4c30cf27ab6a535233a86e889b9d79', 'message': ""Fix in-band cleaning for ramdisk and anaconda deploy\n\nWe have implemented the cleaning prepare/tear_down, but haven't\nimplemented fetching/running in-band clean steps. This change moves\nthe cleaning logic from AgentDeployMixin to AgentBaseMixin, where it\narguably belongs.\n\nIn a follow-up patch I'm planning to reduce the number of mix-ins we\ncurrently have, but that won't be backportable.\n\nChange-Id: Ibc5610b14cea487d26191249e5c0333fdcd4b914\n""}]",0,807187,75304deefb4c30cf27ab6a535233a86e889b9d79,25,4,2,10239,,,0,"Fix in-band cleaning for ramdisk and anaconda deploy

We have implemented the cleaning prepare/tear_down, but haven't
implemented fetching/running in-band clean steps. This change moves
the cleaning logic from AgentDeployMixin to AgentBaseMixin, where it
arguably belongs.

In a follow-up patch I'm planning to reduce the number of mix-ins we
currently have, but that won't be backportable.

Change-Id: Ibc5610b14cea487d26191249e5c0333fdcd4b914
",git fetch https://review.opendev.org/openstack/ironic refs/changes/87/807187/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/agent_base.py', 'ironic/tests/unit/drivers/modules/test_agent_base.py', 'releasenotes/notes/ramdisk-cleaning-f4e061f978bd6ac4.yaml', 'ironic/tests/unit/drivers/modules/test_pxe.py']",5,52b77f3cc5a7eb90904419d658ccf9f8a94f3136,ramdisk-cleaning," @mock.patch.object(agent_base, 'get_steps', autospec=True) def test_get_clean_steps(self, mock_get_steps): # Test getting clean steps mock_steps = [{'priority': 10, 'interface': 'deploy', 'step': 'erase_devices'}] mock_get_steps.return_value = mock_steps with task_manager.acquire(self.context, self.node.uuid) as task: steps = task.driver.deploy.get_clean_steps(task) mock_get_steps.assert_called_once_with( task, 'clean', interface='deploy', override_priorities={'erase_devices': None, 'erase_devices_metadata': None}) self.assertEqual(mock_steps, steps) def test_get_deploy_steps(self): # Only the default deploy step exists in the ramdisk deploy expected = [{'argsinfo': None, 'interface': 'deploy', 'priority': 100, 'step': 'deploy'}] with task_manager.acquire(self.context, self.node.uuid) as task: steps = task.driver.deploy.get_deploy_steps(task) self.assertEqual(expected, steps) @mock.patch.object(agent_base, 'execute_step', autospec=True) def test_execute_clean_step(self, mock_execute_step): step = { 'priority': 10, 'interface': 'deploy', 'step': 'erase_devices', 'reboot_requested': False } with task_manager.acquire(self.context, self.node.uuid) as task: result = task.driver.deploy.execute_clean_step(task, step) self.assertIs(result, mock_execute_step.return_value) mock_execute_step.assert_called_once_with(task, step, 'clean') @mock.patch.object(deploy_utils, 'prepare_inband_cleaning', autospec=True) def test_prepare_cleaning(self, prepare_inband_cleaning_mock): prepare_inband_cleaning_mock.return_value = states.CLEANWAIT with task_manager.acquire(self.context, self.node.uuid) as task: self.assertEqual( states.CLEANWAIT, task.driver.deploy.prepare_cleaning(task)) prepare_inband_cleaning_mock.assert_called_once_with( task, manage_boot=True) @mock.patch.object(deploy_utils, 'tear_down_inband_cleaning', autospec=True) def test_tear_down_cleaning(self, tear_down_cleaning_mock): with task_manager.acquire(self.context, self.node.uuid) as task: task.driver.deploy.tear_down_cleaning(task) tear_down_cleaning_mock.assert_called_once_with( task, manage_boot=True) ",,197,129
openstack%2Fpuppet-ironic~master~Ifc04c0975a537831bc45ba7eaba27ccebf2a7b77,openstack/puppet-ironic,master,Ifc04c0975a537831bc45ba7eaba27ccebf2a7b77,Add watch_log_file option,MERGED,2021-09-14 08:02:56.000000000,2021-09-15 03:48:00.000000000,2021-09-15 03:46:38.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:56.000000000', 'files': ['releasenotes/notes/add_watch_log_file-option-9a19756c0781ffb5.yaml', 'manifests/logging.pp', 'manifests/inspector/logging.pp', 'spec/classes/ironic_logging_spec.rb', 'spec/classes/ironic_inspector_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/8129e85eac73521127f908b1f8f8a7ab10b0278b', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: Ifc04c0975a537831bc45ba7eaba27ccebf2a7b77\nCloses-Bug: #1943212\n'}]",0,808897,8129e85eac73521127f908b1f8f8a7ab10b0278b,8,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: Ifc04c0975a537831bc45ba7eaba27ccebf2a7b77
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/97/808897/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_watch_log_file-option-9a19756c0781ffb5.yaml', 'manifests/inspector/logging.pp', 'manifests/logging.pp', 'spec/classes/ironic_logging_spec.rb', 'spec/classes/ironic_inspector_logging_spec.rb']",5,8129e85eac73521127f908b1f8f8a7ab10b0278b,bug/1943212," :watch_log_file => true, :watch_log_file => '<SERVICE DEFAULT>', :watch_log_file => true,",,23,0
openstack%2Fpuppet-nova~master~Id40a6d6882a7468536de93318a6a59c134eef938,openstack/puppet-nova,master,Id40a6d6882a7468536de93318a6a59c134eef938,Add watch_log_file option,MERGED,2021-09-14 08:02:56.000000000,2021-09-15 03:35:44.000000000,2021-09-15 03:34:24.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:56.000000000', 'files': ['manifests/logging.pp', 'spec/classes/nova_logging_spec.rb', 'releasenotes/notes/add_watch_log_file-option-935931045c6c0498.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5cf2e50fa3fb947c28f57704305c3e26fb2ca2d6', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: Id40a6d6882a7468536de93318a6a59c134eef938\nCloses-Bug: #1943212\n'}]",0,808906,5cf2e50fa3fb947c28f57704305c3e26fb2ca2d6,8,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: Id40a6d6882a7468536de93318a6a59c134eef938
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/06/808906/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'spec/classes/nova_logging_spec.rb', 'releasenotes/notes/add_watch_log_file-option-935931045c6c0498.yaml']",3,5cf2e50fa3fb947c28f57704305c3e26fb2ca2d6,bug/1943212,--- features: - | The new ``nova::logging::watch_log_file`` parameter has been added. ,,20,7
openstack%2Fpuppet-glance~master~I73e721e28155e090585ce4513c11e0949257c6c9,openstack/puppet-glance,master,I73e721e28155e090585ce4513c11e0949257c6c9,Add watch_log_file option,MERGED,2021-09-14 08:02:56.000000000,2021-09-15 03:24:02.000000000,2021-09-15 03:22:26.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:56.000000000', 'files': ['manifests/api/logging.pp', 'spec/classes/glance_cache_logging_spec.rb', 'manifests/cache/logging.pp', 'releasenotes/notes/add_watch_log_file-option-8a6ba402a4fb4a66.yaml', 'spec/classes/glance_api_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/3dd0c3018fc5f363cc3f3d69936d60def65c06c1', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: I73e721e28155e090585ce4513c11e0949257c6c9\nCloses-Bug: #1943212\n'}]",0,808902,3dd0c3018fc5f363cc3f3d69936d60def65c06c1,8,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: I73e721e28155e090585ce4513c11e0949257c6c9
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/02/808902/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api/logging.pp', 'spec/classes/glance_cache_logging_spec.rb', 'manifests/cache/logging.pp', 'releasenotes/notes/add_watch_log_file-option-8a6ba402a4fb4a66.yaml', 'spec/classes/glance_api_logging_spec.rb']",5,3dd0c3018fc5f363cc3f3d69936d60def65c06c1,bug/1943212," :watch_log_file => true, :use_syslog => '<SERVICE DEFAULT>', :use_json => '<SERVICE DEFAULT>', :use_journal => '<SERVICE DEFAULT>', :use_stderr => '<SERVICE DEFAULT>', :log_dir => '/var/log/glance', :log_file => '/var/log/glance/api.log', :watch_log_file => '<SERVICE DEFAULT>', :debug => '<SERVICE DEFAULT>', :watch_log_file => true,"," :use_syslog => '<SERVICE DEFAULT>', :use_json => '<SERVICE DEFAULT>', :use_journal => '<SERVICE DEFAULT>', :use_stderr => '<SERVICE DEFAULT>', :log_dir => '/var/log/glance', :log_file => '/var/log/glance/api.log', :debug => '<SERVICE DEFAULT>',",36,13
openstack%2Fpuppet-placement~master~Ic468378d42df5b07bb053f8e318fd383b4964874,openstack/puppet-placement,master,Ic468378d42df5b07bb053f8e318fd383b4964874,Add watch_log_file option,MERGED,2021-09-14 08:02:55.000000000,2021-09-15 03:14:21.000000000,2021-09-15 03:13:00.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:55.000000000', 'files': ['releasenotes/notes/add_watch_log_file-option-823e212cc1a0f4ca.yaml', 'manifests/logging.pp', 'spec/classes/placement_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/42770dd45e4f4d5452bd7ed55b9fd6f97c8400d8', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: Ic468378d42df5b07bb053f8e318fd383b4964874\nCloses-Bug: #1943212\n'}]",0,808881,42770dd45e4f4d5452bd7ed55b9fd6f97c8400d8,8,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: Ic468378d42df5b07bb053f8e318fd383b4964874
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/81/808881/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_watch_log_file-option-823e212cc1a0f4ca.yaml', 'manifests/logging.pp', 'spec/classes/placement_logging_spec.rb']",3,42770dd45e4f4d5452bd7ed55b9fd6f97c8400d8,bug/1943212," :watch_log_file => true, :watch_log_file => '<SERVICE DEFAULT>', :watch_log_file => true,",,13,0
openstack%2Fpuppet-cinder~master~I86fe2ea8facfe5363ffb343978c3db20620599e1,openstack/puppet-cinder,master,I86fe2ea8facfe5363ffb343978c3db20620599e1,Add watch_log_file option,MERGED,2021-09-14 08:02:56.000000000,2021-09-15 03:09:55.000000000,2021-09-15 03:08:20.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:56.000000000', 'files': ['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-b74553a438d125bc.yaml', 'spec/classes/cinder_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/d20eb43ec8986d35ab5f367a0d8217a046843ae6', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: I86fe2ea8facfe5363ffb343978c3db20620599e1\nCloses-Bug: #1943212\n'}]",0,808904,d20eb43ec8986d35ab5f367a0d8217a046843ae6,8,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: I86fe2ea8facfe5363ffb343978c3db20620599e1
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/04/808904/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-b74553a438d125bc.yaml', 'spec/classes/cinder_logging_spec.rb']",3,d20eb43ec8986d35ab5f367a0d8217a046843ae6,bug/1943212," :watch_log_file => true, :use_syslog => '<SERVICE DEFAULT>', :use_json => '<SERVICE DEFAULT>', :use_journal => '<SERVICE DEFAULT>', :use_stderr => '<SERVICE DEFAULT>', :log_dir => '/var/log/cinder', :log_file => '<SERVICE DEFAULT>', :watch_log_file => '<SERVICE DEFAULT>', :debug => '<SERVICE DEFAULT>', :watch_log_file => true,"," :use_syslog => '<SERVICE DEFAULT>', :use_json => '<SERVICE DEFAULT>', :use_journal => '<SERVICE DEFAULT>', :use_stderr => '<SERVICE DEFAULT>', :log_dir => '/var/log/cinder', :log_file => '<SERVICE DEFAULT>', :debug => '<SERVICE DEFAULT>',",20,7
openstack%2Fpuppet-gnocchi~master~I0097c68ea253b1cee58132e677adc39dd7c3b20a,openstack/puppet-gnocchi,master,I0097c68ea253b1cee58132e677adc39dd7c3b20a,Add watch_log_file option,MERGED,2021-09-14 08:02:56.000000000,2021-09-15 02:51:48.000000000,2021-09-15 02:49:56.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:56.000000000', 'files': ['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-89d790e542d4d081.yaml', 'spec/classes/gnocchi_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/3af5e3dbc273f70b2ad48fd52a74150efb760219', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: I0097c68ea253b1cee58132e677adc39dd7c3b20a\nCloses-Bug: #1943212\n'}]",0,808893,3af5e3dbc273f70b2ad48fd52a74150efb760219,7,2,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: I0097c68ea253b1cee58132e677adc39dd7c3b20a
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/93/808893/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-89d790e542d4d081.yaml', 'spec/classes/gnocchi_logging_spec.rb']",3,3af5e3dbc273f70b2ad48fd52a74150efb760219,bug/1943212," :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/log/gnocchi/gnocchi.log', :watch_log_file => true, :debug => true, :watch_log_file => '<SERVICE DEFAULT>', :watch_log_file => true,"," :use_syslog => true, :use_json => true, :use_journal => true, :use_stderr => false, :log_facility => 'LOG_FOO', :log_dir => '/var/log', :log_file => '/var/log/gnocchi/gnocchi.log', :debug => true,",21,8
openstack%2Fpuppet-barbican~master~I703cd1bccea8e14da5c228de02a341b0f6e9bc46,openstack/puppet-barbican,master,I703cd1bccea8e14da5c228de02a341b0f6e9bc46,Add watch_log_file option,MERGED,2021-09-14 08:02:56.000000000,2021-09-15 02:44:31.000000000,2021-09-15 02:34:39.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:56.000000000', 'files': ['manifests/api/logging.pp', 'releasenotes/notes/add_watch_log_file-option-921e57c03a0b459e.yaml', 'spec/classes/barbican_api_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/aa73bc3f026cdfd85a209e513b006dae9d36c2f8', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: I703cd1bccea8e14da5c228de02a341b0f6e9bc46\nCloses-Bug: #1943212\n'}]",0,808896,aa73bc3f026cdfd85a209e513b006dae9d36c2f8,8,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: I703cd1bccea8e14da5c228de02a341b0f6e9bc46
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/96/808896/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api/logging.pp', 'releasenotes/notes/add_watch_log_file-option-921e57c03a0b459e.yaml', 'spec/classes/barbican_api_logging_spec.rb']",3,aa73bc3f026cdfd85a209e513b006dae9d36c2f8,bug/1943212," :watch_log_file => true, :watch_log_file => '<SERVICE DEFAULT>', :watch_log_file => true, :log_date_format, :log_file, :watch_log_file ].each { |param|"," :log_date_format, :log_file ].each { |param|",15,1
openstack%2Fpuppet-magnum~master~Ib2769d2765f8dd6f8b9e26538ceb8d671d0f0e64,openstack/puppet-magnum,master,Ib2769d2765f8dd6f8b9e26538ceb8d671d0f0e64,Add watch_log_file option,MERGED,2021-09-14 08:02:55.000000000,2021-09-15 02:44:26.000000000,2021-09-15 02:42:12.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:55.000000000', 'files': ['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-8f75d1cfb5019cb7.yaml', 'spec/classes/magnum_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/c7f078ec68643e52cdaea50354508685b55440e6', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: Ib2769d2765f8dd6f8b9e26538ceb8d671d0f0e64\nCloses-Bug: #1943212\n'}]",0,808885,c7f078ec68643e52cdaea50354508685b55440e6,8,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: Ib2769d2765f8dd6f8b9e26538ceb8d671d0f0e64
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/85/808885/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-8f75d1cfb5019cb7.yaml', 'spec/classes/magnum_logging_spec.rb']",3,c7f078ec68643e52cdaea50354508685b55440e6,bug/1943212," :watch_log_file => true, :use_syslog => '<SERVICE DEFAULT>', :use_json => '<SERVICE DEFAULT>', :use_journal => '<SERVICE DEFAULT>', :use_stderr => '<SERVICE DEFAULT>', :log_dir => '/var/log/magnum', :log_file => '<SERVICE DEFAULT>', :watch_log_file => '<SERVICE DEFAULT>', :debug => '<SERVICE DEFAULT>', :watch_log_file => true,"," :use_syslog => '<SERVICE DEFAULT>', :use_json => '<SERVICE DEFAULT>', :use_journal => '<SERVICE DEFAULT>', :use_stderr => '<SERVICE DEFAULT>', :log_dir => '/var/log/magnum', :log_file => '<SERVICE DEFAULT>', :debug => '<SERVICE DEFAULT>',",20,7
openstack%2Fpuppet-ec2api~master~I75cd42c0039aa75bb876cfdf8d963f8525b79de5,openstack/puppet-ec2api,master,I75cd42c0039aa75bb876cfdf8d963f8525b79de5,Add watch_log_file option,MERGED,2021-09-14 08:02:55.000000000,2021-09-15 02:44:18.000000000,2021-09-15 02:38:31.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:55.000000000', 'files': ['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-b9cf5ab9cc46bd21.yaml', 'spec/classes/ec2api_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/4a068c6787f33db2876903ed14d63b777a32dcee', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: I75cd42c0039aa75bb876cfdf8d963f8525b79de5\nCloses-Bug: #1943212\n'}]",0,808886,4a068c6787f33db2876903ed14d63b777a32dcee,8,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: I75cd42c0039aa75bb876cfdf8d963f8525b79de5
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/86/808886/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-b9cf5ab9cc46bd21.yaml', 'spec/classes/ec2api_logging_spec.rb']",3,4a068c6787f33db2876903ed14d63b777a32dcee,bug/1943212," :watch_log_file => true, :watch_log_file => '<SERVICE DEFAULT>', :watch_log_file => true,",,13,0
openstack%2Fpuppet-sahara~master~I2a29da0f098d3f7aa27708e18905821545ce3fda,openstack/puppet-sahara,master,I2a29da0f098d3f7aa27708e18905821545ce3fda,Add watch_log_file option,MERGED,2021-09-14 08:02:56.000000000,2021-09-15 02:44:18.000000000,2021-09-15 02:34:38.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:56.000000000', 'files': ['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-bd3cdb1579b5f34a.yaml', 'spec/classes/sahara_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/24db636fad560bf88a8977e06c20b35f910c7e54', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: I2a29da0f098d3f7aa27708e18905821545ce3fda\nCloses-Bug: #1943212\n'}]",0,808895,24db636fad560bf88a8977e06c20b35f910c7e54,8,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: I2a29da0f098d3f7aa27708e18905821545ce3fda
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/95/808895/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-bd3cdb1579b5f34a.yaml', 'spec/classes/sahara_logging_spec.rb']",3,24db636fad560bf88a8977e06c20b35f910c7e54,bug/1943212," :watch_log_file => 'true', :use_syslog => '<SERVICE DEFAULT>', :use_json => '<SERVICE DEFAULT>', :use_journal => '<SERVICE DEFAULT>', :use_stderr => '<SERVICE DEFAULT>', :log_file => '<SERVICE DEFAULT>', :watch_log_file => '<SERVICE DEFAULT>', :log_dir => '/var/log/sahara', :debug => '<SERVICE DEFAULT>', :watch_log_file => true,"," :use_syslog => '<SERVICE DEFAULT>', :use_json => '<SERVICE DEFAULT>', :use_journal => '<SERVICE DEFAULT>', :use_stderr => '<SERVICE DEFAULT>', :log_file => '<SERVICE DEFAULT>', :log_dir => '/var/log/sahara', :debug => '<SERVICE DEFAULT>',",20,7
openstack%2Ftrove~master~I9055b50d981274abaae248e030d72d9a3facbfef,openstack/trove,master,I9055b50d981274abaae248e030d72d9a3facbfef,Fix error race condition when create replicas for database instances with mariadb datastore manager,ABANDONED,2021-04-18 05:53:35.000000000,2021-09-15 02:36:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-18 05:53:35.000000000', 'files': ['trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/guestagent/datastore/service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/298b99af77ec5dbd06b9e222087241970c9b5927', 'message': 'Fix error race condition when create replicas for database instances\nwith mariadb datastore manager\n\nTask: #42295\nStory: #2008826\nChange-Id: I9055b50d981274abaae248e030d72d9a3facbfef\n'}]",0,786765,298b99af77ec5dbd06b9e222087241970c9b5927,4,1,1,28691,,,0,"Fix error race condition when create replicas for database instances
with mariadb datastore manager

Task: #42295
Story: #2008826
Change-Id: I9055b50d981274abaae248e030d72d9a3facbfef
",git fetch https://review.opendev.org/openstack/trove refs/changes/65/786765/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/guestagent/datastore/service.py']",3,298b99af77ec5dbd06b9e222087241970c9b5927,fix-error-create-replicas," # If container database not found, we shouldn't mark it is # prepare ended. if docker_util.get_container_status( self.docker_client) == ""not running"": return ",,17,7
openstack%2Fpuppet-vitrage~master~Id7f70514b3647b8b7fe664125df8c8ddd2ccd746,openstack/puppet-vitrage,master,Id7f70514b3647b8b7fe664125df8c8ddd2ccd746,Add watch_log_file option,MERGED,2021-09-14 08:02:55.000000000,2021-09-15 02:34:42.000000000,2021-09-15 02:28:35.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:55.000000000', 'files': ['manifests/logging.pp', 'spec/classes/vitrage_logging_spec.rb', 'releasenotes/notes/add_watch_log_file-option-b4a83a637e3c3438.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/dc6ebcab6dde32c1dfdeba7b742f09e0113f87b1', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: Id7f70514b3647b8b7fe664125df8c8ddd2ccd746\nCloses-Bug: #1943212\n'}]",0,808883,dc6ebcab6dde32c1dfdeba7b742f09e0113f87b1,8,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: Id7f70514b3647b8b7fe664125df8c8ddd2ccd746
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/83/808883/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'spec/classes/vitrage_logging_spec.rb', 'releasenotes/notes/add_watch_log_file-option-b4a83a637e3c3438.yaml']",3,dc6ebcab6dde32c1dfdeba7b742f09e0113f87b1,bug/1943212,--- features: - | The new ``vitrage::logging::watch_log_file`` parameter has been added. ,,13,0
openstack%2Fzaqar~master~I204cd62405c9313ee93d393fe739506fc86e5e70,openstack/zaqar,master,I204cd62405c9313ee93d393fe739506fc86e5e70,[Part5] Remove six,MERGED,2020-10-15 02:59:25.000000000,2021-09-15 02:28:06.000000000,2021-09-15 02:13:34.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-15 02:59:25.000000000', 'files': ['zaqar/tests/unit/transport/websocket/v2/test_messages.py', 'zaqar/tests/unit/transport/wsgi/test_utils.py', 'zaqar/tests/unit/transport/wsgi/base.py', 'zaqar/tests/unit/storage/test_impl_sqlalchemy.py', 'zaqar/tests/unit/storage/test_impl_mongodb.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/5a0232332ac0edc5970357b49f5c389ab20d3ac0', 'message': ""[Part5] Remove six\n\nWe don't need this in a Python 3-only world.\n\nRemove six in follows:\n1. zaqar/tests/unit/storage/test_impl_mongodb.py\n2. zaqar/tests/unit/storage/test_impl_sqlalchemy.py\n3. zaqar/tests/unit/transport/websocket/v2/test_messages.py\n4. zaqar/tests/unit/transport/wsgi/base.py\n5. zaqar/tests/unit/transport/wsgi/test_utils.py\n\nChange-Id: I204cd62405c9313ee93d393fe739506fc86e5e70\n""}]",0,758319,5a0232332ac0edc5970357b49f5c389ab20d3ac0,7,2,1,17130,,,0,"[Part5] Remove six

We don't need this in a Python 3-only world.

Remove six in follows:
1. zaqar/tests/unit/storage/test_impl_mongodb.py
2. zaqar/tests/unit/storage/test_impl_sqlalchemy.py
3. zaqar/tests/unit/transport/websocket/v2/test_messages.py
4. zaqar/tests/unit/transport/wsgi/base.py
5. zaqar/tests/unit/transport/wsgi/test_utils.py

Change-Id: I204cd62405c9313ee93d393fe739506fc86e5e70
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/19/758319/1 && git format-patch -1 --stdout FETCH_HEAD,"['zaqar/tests/unit/transport/websocket/v2/test_messages.py', 'zaqar/tests/unit/transport/wsgi/test_utils.py', 'zaqar/tests/unit/transport/wsgi/base.py', 'zaqar/tests/unit/storage/test_impl_sqlalchemy.py', 'zaqar/tests/unit/storage/test_impl_mongodb.py']",5,5a0232332ac0edc5970357b49f5c389ab20d3ac0,," '__next__',","import six 'next' if six.PY2 else '__next__',",8,21
openstack%2Fpuppet-manila~master~I62a51e820d00220a3960c52d9be1cd22dc777a6b,openstack/puppet-manila,master,I62a51e820d00220a3960c52d9be1cd22dc777a6b,Add watch_log_file option,MERGED,2021-09-14 08:02:56.000000000,2021-09-15 02:26:14.000000000,2021-09-15 02:19:53.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:56.000000000', 'files': ['manifests/logging.pp', 'spec/classes/manila_logging_spec.rb', 'releasenotes/notes/add_watch_log_file-option-9aeec2b721b3c9f6.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/7044fbbfa1e105b47a883339244e0e9b12a90143', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: I62a51e820d00220a3960c52d9be1cd22dc777a6b\nCloses-Bug: #1943212\n'}]",0,808894,7044fbbfa1e105b47a883339244e0e9b12a90143,8,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: I62a51e820d00220a3960c52d9be1cd22dc777a6b
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/94/808894/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'spec/classes/manila_logging_spec.rb', 'releasenotes/notes/add_watch_log_file-option-9aeec2b721b3c9f6.yaml']",3,7044fbbfa1e105b47a883339244e0e9b12a90143,bug/1943212,--- features: - | The new ``manila::logging::watch_log_file`` parameter has been added. ,,13,0
openstack%2Fzaqar~master~Ia33069f8b6c5bef62c6491494d6cc798744feb2a,openstack/zaqar,master,Ia33069f8b6c5bef62c6491494d6cc798744feb2a,[Part4] Remove six,MERGED,2020-10-15 05:53:50.000000000,2021-09-15 02:26:05.000000000,2021-09-15 02:13:32.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-15 05:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/6664ba4ca42f0e2106bbcda8fc1baf16b9c1c6ae', 'message': ""[Part4] Remove six\n\nWe don't need this in a Python 3-only world.\nRemove six in follows:\n1. zaqar/tests/unit/common/test_urls.py\n2. zaqar/tests/unit/storage/base.py\n\nChange-Id: Ia33069f8b6c5bef62c6491494d6cc798744feb2a\n""}, {'number': 2, 'created': '2020-10-15 09:46:42.000000000', 'files': ['zaqar/tests/unit/storage/base.py', 'zaqar/tests/unit/common/test_urls.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/44d297f4957727de4cdf0097ce96ed9d5173e9a9', 'message': ""[Part4] Remove six\n\nWe don't need this in a Python 3-only world.\nRemove six in follows:\n1. zaqar/tests/unit/common/test_urls.py\n2. zaqar/tests/unit/storage/base.py\n\nChange-Id: Ia33069f8b6c5bef62c6491494d6cc798744feb2a\n""}]",4,758344,44d297f4957727de4cdf0097ce96ed9d5173e9a9,9,2,2,17130,,,0,"[Part4] Remove six

We don't need this in a Python 3-only world.
Remove six in follows:
1. zaqar/tests/unit/common/test_urls.py
2. zaqar/tests/unit/storage/base.py

Change-Id: Ia33069f8b6c5bef62c6491494d6cc798744feb2a
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/44/758344/1 && git format-patch -1 --stdout FETCH_HEAD,"['zaqar/tests/unit/storage/base.py', 'zaqar/tests/unit/common/test_urls.py']",2,6664ba4ca42f0e2106bbcda8fc1baf16b9c1c6ae,," key = test.encode('latin-1') hmac_body = (r'%(paths)s\n%(methods)s\n' r'%(project)s\n%(expires)s' % {'paths': ','.join(paths), 'methods': ','.join(methods), 'project': project, 'expires': expires_str}).encode(""latin-1"") key = test.encode(""latin-1"") hmac_body = (r'%(paths)s\n%(methods)s\n' r'%(project)s\n%(expires)s' % {'paths': ','.join(paths), 'methods': ','.join(methods), 'project': project, 'expires': expires_str}).encode(""latin-1"") key = test.encode(""latin-1"") hmac_body = ('%(paths)s\\n%(methods)s\\n' '%(project)s\\n%(expires)s' % {'paths': ','.join(paths), 'methods': ','.join(methods), 'project': project, 'expires': expires_str}).encode(""latin-1"")","import six key = six.b('test') hmac_body = six.b(r'%(paths)s\n%(methods)s\n' r'%(project)s\n%(expires)s' % {'paths': ','.join(paths), 'methods': ','.join(methods), 'project': project, 'expires': expires_str}) key = six.b('test') hmac_body = six.b(r'%(paths)s\n%(methods)s\n' r'%(project)s\n%(expires)s' % {'paths': ','.join(paths), 'methods': ','.join(methods), 'project': project, 'expires': expires_str}) key = six.b('test') hmac_body = six.b('%(paths)s\\n%(methods)s\\n' '%(project)s\\n%(expires)s' % {'paths': ','.join(paths), 'methods': ','.join(methods), 'project': project, 'expires': expires_str})",34,33
openstack%2Freleases~master~Iafa735624aec69311cf3da404217f9b561a93cea,openstack/releases,master,Iafa735624aec69311cf3da404217f9b561a93cea,Proposing Xena RC1 for kuryr-kubernetes,MERGED,2021-09-13 08:37:12.000000000,2021-09-15 02:25:37.000000000,2021-09-15 02:25:37.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27032}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 08:37:12.000000000', 'files': ['deliverables/xena/kuryr-kubernetes.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/009dffea124b5e3cbc0c80812208a216da5c4d42', 'message': ""Proposing Xena RC1 for kuryr-kubernetes\n\nThis proposed a RC1 release for kuryr-kubernetes to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 4.0.0..1a120c23\ndf925c3a Enable reconciliation by default\ncb30a40c Document cache parameters\nf23419d0 Update the LoadBalancers Reconciliation Loop\n1e53f3ad Replace duplicate code to get klb crd path\n164095b0 Remove ep_slices from klb on endpoint delete event\n990ba608 Add Octavia Tempest Plugin\n9afa2ed3 Add the Service Creation Flow Diagram\nc56e465c Fix multinode gate.\n7f2c925a Loadbalancers reconciliation\n2700a8e5 Add x-openstack-request-id into Kuryr Logs\nbd8469b4 Change documentation for devstack deployment.\n0c0ade43 gracefully exit daemonserver before registry exit\n55f1c305 Use correct logger when setting pyroute2 log level\na707cc1f Fixes for latest changes on Neutron devstack.\n1e2e5b16 Add original exception to log about dead component\nb418608f Minor formatting corrections.\n1b6eb50d Update the Service Creation Process\n032d0736 Update the Handlers and the Resources\n7a6fb928 Increase keystoneauth's connection pool size\n9d0d27f6 Add the regenerate option in building kuryr-controller image\na17e5502 Show error messages when resources are stuck\n9d0b053c Workaround OVN bug causing subports to be DOWN\n1c2cd789 Work with pyroute2 0.6.4\nb24380b4 Fix Listener timeouts update\nd0e7a68b Add golang dependency for devstack.\n024f38d4 Update DOCs to use OFTC instead of Freenode for IRC\n378ce7cc Changed minversion in tox to 3.18.0\n32a1efc0 Switch testing to Xena testing runtime\n25f5acce Dropping draining node while removing k8s cluster.\n11a34d0e Enable multinode gate.\ne005247b Make containerized deployment as a default.\nc034b006 Use kubeadm for installing Kubernetes on devstack.\nea4f7871 Ignore 422 Unprocessable Entity on KLB patching\nabcbb703 Enable kuryrnetwork handler when using Network Policies\n06c6fa2b Update GO version\n4e7c330d Clean up usage of ubuntu bionic on crio job\n673fb5d9 Fix readiness quota check\ne84a6a70 Fix NPs for OVN LBs with hairpin traffic\n91207a23 setup.cfg: Replace dashes with underscores\n2327d390 Fix typo in kuryport.py file\n2d78b7ab Remove redundant parentheses\nf707d471 Remove the import alias, which is same as package name.\nf2eceb3a Remove unnecessary use of set around a generator.\n2fde08fc Remove pyroute2 deprication warning\n849fb30f Prepare gate for OVN as default in DevStack\ndf363292 Migrate kuryr-cni to go.mod\n5eaafbc8 Log pyroute2 RuntimeError details\nd0331abc Include proper log when Kuryr cannot reach Octavia API\nf10003f6 Fix constant update of Listeners timeout\ncf2b6732 Fixing bug, Kuryr-Controller crashes when it's missing the status\nbfe2e259 Include service subnet to be open for namespaceSelector set to all.\nfae12d9b Enable Listener data timeouts test in tempest.conf\n3a3d3c25 Stop deleting KuryrPorts of host-networking pods\n3918e87e Update container images used on the docs\n07a3723f Allow Pods Network to have smaller MTU than Nodes\n32e883eb Update master for stable/wallaby\nce9bac5b CNI: Fix NetlinkError prevention with nested VLAN\n217c6c4c CNI: Allow building with go 1.16\n87f6c66d Add option to set listener timeouts for lb created by Kuryr\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Iafa735624aec69311cf3da404217f9b561a93cea\n""}]",0,808633,009dffea124b5e3cbc0c80812208a216da5c4d42,9,4,1,28522,,,0,"Proposing Xena RC1 for kuryr-kubernetes

This proposed a RC1 release for kuryr-kubernetes to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 4.0.0..1a120c23
df925c3a Enable reconciliation by default
cb30a40c Document cache parameters
f23419d0 Update the LoadBalancers Reconciliation Loop
1e53f3ad Replace duplicate code to get klb crd path
164095b0 Remove ep_slices from klb on endpoint delete event
990ba608 Add Octavia Tempest Plugin
9afa2ed3 Add the Service Creation Flow Diagram
c56e465c Fix multinode gate.
7f2c925a Loadbalancers reconciliation
2700a8e5 Add x-openstack-request-id into Kuryr Logs
bd8469b4 Change documentation for devstack deployment.
0c0ade43 gracefully exit daemonserver before registry exit
55f1c305 Use correct logger when setting pyroute2 log level
a707cc1f Fixes for latest changes on Neutron devstack.
1e2e5b16 Add original exception to log about dead component
b418608f Minor formatting corrections.
1b6eb50d Update the Service Creation Process
032d0736 Update the Handlers and the Resources
7a6fb928 Increase keystoneauth's connection pool size
9d0d27f6 Add the regenerate option in building kuryr-controller image
a17e5502 Show error messages when resources are stuck
9d0b053c Workaround OVN bug causing subports to be DOWN
1c2cd789 Work with pyroute2 0.6.4
b24380b4 Fix Listener timeouts update
d0e7a68b Add golang dependency for devstack.
024f38d4 Update DOCs to use OFTC instead of Freenode for IRC
378ce7cc Changed minversion in tox to 3.18.0
32a1efc0 Switch testing to Xena testing runtime
25f5acce Dropping draining node while removing k8s cluster.
11a34d0e Enable multinode gate.
e005247b Make containerized deployment as a default.
c034b006 Use kubeadm for installing Kubernetes on devstack.
ea4f7871 Ignore 422 Unprocessable Entity on KLB patching
abcbb703 Enable kuryrnetwork handler when using Network Policies
06c6fa2b Update GO version
4e7c330d Clean up usage of ubuntu bionic on crio job
673fb5d9 Fix readiness quota check
e84a6a70 Fix NPs for OVN LBs with hairpin traffic
91207a23 setup.cfg: Replace dashes with underscores
2327d390 Fix typo in kuryport.py file
2d78b7ab Remove redundant parentheses
f707d471 Remove the import alias, which is same as package name.
f2eceb3a Remove unnecessary use of set around a generator.
2fde08fc Remove pyroute2 deprication warning
849fb30f Prepare gate for OVN as default in DevStack
df363292 Migrate kuryr-cni to go.mod
5eaafbc8 Log pyroute2 RuntimeError details
d0331abc Include proper log when Kuryr cannot reach Octavia API
f10003f6 Fix constant update of Listeners timeout
cf2b6732 Fixing bug, Kuryr-Controller crashes when it's missing the status
bfe2e259 Include service subnet to be open for namespaceSelector set to all.
fae12d9b Enable Listener data timeouts test in tempest.conf
3a3d3c25 Stop deleting KuryrPorts of host-networking pods
3918e87e Update container images used on the docs
07a3723f Allow Pods Network to have smaller MTU than Nodes
32e883eb Update master for stable/wallaby
ce9bac5b CNI: Fix NetlinkError prevention with nested VLAN
217c6c4c CNI: Allow building with go 1.16
87f6c66d Add option to set listener timeouts for lb created by Kuryr

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Iafa735624aec69311cf3da404217f9b561a93cea
",git fetch https://review.opendev.org/openstack/releases refs/changes/33/808633/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/kuryr-kubernetes.yaml'],1,009dffea124b5e3cbc0c80812208a216da5c4d42,xena-rc1-deadline, - Kuryr logs now provide details with indication of OpenStack Services that should be anlyzed when experiencing issues that it's not able to recover from. - Kuryr allows setting the Load Balancer listener timeout by setting an annotation to the Service. - Kuryr can reconcile Load Balancer to correspond to the Services specification. releases: - version: 5.0.0.0rc1 projects: - repo: openstack/kuryr-kubernetes hash: 1a120c23f6d753c5ea66b920cc1d5ac14e17bffe branches: - name: stable/xena location: 5.0.0.0rc1, - Kuryr logs now provide details with indication of OpenStack Services that should be anlyzed when experiencing issues that it's not able to recover from. - Kuryr allows setting the Load Balancer listener timeout by setting an annotation to the Service. - Kuryr can reconcile Load Balancer to correspond to the Services specification.,15,8
openstack%2Freleases~master~Ic42b9ca62e4e323de835bc6b801f93ef938b08d9,openstack/releases,master,Ic42b9ca62e4e323de835bc6b801f93ef938b08d9,Proposing Xena RC1 for kuryr-libnetwork,MERGED,2021-09-13 08:37:59.000000000,2021-09-15 02:25:34.000000000,2021-09-15 02:25:34.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27032}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 08:37:59.000000000', 'files': ['deliverables/xena/kuryr-libnetwork.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/49cf82d321607c85f6187b0a307a591e1352c3cd', 'message': 'Proposing Xena RC1 for kuryr-libnetwork\n\nThis proposed a RC1 release for kuryr-libnetwork to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 7.0.0..dbb7a4d\ndbb7a4d setup.cfg: Replace dashes with underscores\nf2edb0c Add Python3 xena unit tests\n03958c9 Update master for stable/wallaby\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ic42b9ca62e4e323de835bc6b801f93ef938b08d9\n'}]",0,808634,49cf82d321607c85f6187b0a307a591e1352c3cd,9,4,1,28522,,,0,"Proposing Xena RC1 for kuryr-libnetwork

This proposed a RC1 release for kuryr-libnetwork to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 7.0.0..dbb7a4d
dbb7a4d setup.cfg: Replace dashes with underscores
f2edb0c Add Python3 xena unit tests
03958c9 Update master for stable/wallaby

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ic42b9ca62e4e323de835bc6b801f93ef938b08d9
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/808634/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/kuryr-libnetwork.yaml'],1,49cf82d321607c85f6187b0a307a591e1352c3cd,xena-rc1-deadline,releases: - version: 8.0.0.0rc1 projects: - repo: openstack/kuryr-libnetwork hash: dbb7a4dff64326d547243ce092d5064a13bfabb0 branches: - name: stable/xena location: 8.0.0.0rc1,,8,0
openstack%2Freleases~master~I3c1146231fae06971b400ef0f3283bfb62175cc4,openstack/releases,master,I3c1146231fae06971b400ef0f3283bfb62175cc4,Proposing Xena RC1 for trove-dashboard,MERGED,2021-09-13 10:36:52.000000000,2021-09-15 02:25:32.000000000,2021-09-15 02:25:32.000000000,"[{'_account_id': 6732}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 10:36:52.000000000', 'files': ['deliverables/xena/trove-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/874f1ce7db5d6af0214fc17816776b28a0bfcbf0', 'message': 'Proposing Xena RC1 for trove-dashboard\n\nThis proposed a RC1 release for trove-dashboard to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 16.0.0..4225baf\n4225baf Fix the configuration issue\n05d15b3 Fix log actions\n28e0216 Fix nova client initialization in multi-region cloud\nd18e3e8 Handle the exception if _extra_data(instance) is called on a missing instance\n3c6e8be Change the configuration group panel name\n62cd082 Respect OPENSTACK_ENDPOINT_TYPE\n2058a23 Add Python3 xena unit tests\n6ec4a13 Update master for stable/wallaby\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I3c1146231fae06971b400ef0f3283bfb62175cc4\n'}]",0,808734,874f1ce7db5d6af0214fc17816776b28a0bfcbf0,9,4,1,28522,,,0,"Proposing Xena RC1 for trove-dashboard

This proposed a RC1 release for trove-dashboard to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 16.0.0..4225baf
4225baf Fix the configuration issue
05d15b3 Fix log actions
28e0216 Fix nova client initialization in multi-region cloud
d18e3e8 Handle the exception if _extra_data(instance) is called on a missing instance
3c6e8be Change the configuration group panel name
62cd082 Respect OPENSTACK_ENDPOINT_TYPE
2058a23 Add Python3 xena unit tests
6ec4a13 Update master for stable/wallaby

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I3c1146231fae06971b400ef0f3283bfb62175cc4
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/808734/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/trove-dashboard.yaml'],1,874f1ce7db5d6af0214fc17816776b28a0bfcbf0,xena-rc1-deadline,releases: - version: 17.0.0.0rc1 projects: - repo: openstack/trove-dashboard hash: 4225bafca20d67a14c41f996440fb413943b452e branches: - name: stable/xena location: 17.0.0.0rc1,,8,0
openstack%2Freleases~master~Icaacd33daf7c3a91a6ce2b58fc7b29ddab62a75e,openstack/releases,master,Icaacd33daf7c3a91a6ce2b58fc7b29ddab62a75e,Proposing Xena RC1 for trove,MERGED,2021-09-13 10:38:34.000000000,2021-09-15 02:25:30.000000000,2021-09-15 02:25:30.000000000,"[{'_account_id': 6732}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 10:38:34.000000000', 'files': ['deliverables/xena/trove.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b9131c169d05640da24e88b5d504334315f6cf6d', 'message': ""Proposing Xena RC1 for trove\n\nThis proposed a RC1 release for trove to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 15.0.0.0rc1..f3459e26\nf3459e26 Allow regular user to get quotas\nc3a8930e Doc: Upgrade trove guest agent\na12b2be7 Run reset master when setting up mysql replicas\n0b0c3599 Replace deprecated import of ABCs from collections\n5590ecdc Show user network ID for getting instance\n036948c5 Use Block Storage API v3 instead of API v2\n02971d85 Add periodic task to remove postgres archived wal files\n69f08ab4 Fix getting config option value for database\n24fc4a53 Allow admin user to get instances attached with any configuration\nce8014ec Add doc for running unit tests\nf0bf45ea Fix rebuild instances in replication cluster\n7b463118 Show all the instances in descending order of creation time\nc274ab9f Keep user defined configuration after resizing instance\n210d5696 Release note for adding iptables-persistent package\n4ce59ace Add package iptables-persistent inside guest instance\nb050996b Use bridge network for db container\n6d2ab68a Fix backup using customized container image registry\n189d3493 Add float types to load_items to support configuration parameters of float type\n03e55126 Support customized database container images in DevStack\n2114e8a7 Enable tls-proxy support in test jobs\n8f91898d Fix sqlalchemy engine listener\n77bb9727 Changed minversion in tox to 3.18.0\nb9d2de5f Wait for volume status before resize_fs\nac8fd38e Don't create nova instances with fqdn as their name\nfc09de14 Doc: move from freenode to OFTC\nfa658e09 Fix CI for trove Xena\n1fd6e5f8 Fix periodic public image job\ne232cb80 setup.cfg: add oslo.policy.enforcer\n070f82f8 Dropping lower constraints testing\ndb30031c Fix typo in zuul config\nd5497179 Fix check_subnet_router filters\n22b99fb0 Add taskmanager_manager option to common\ndfca9b19 [doc] Add configuration reference\n1f1a1e4e Add CI job trove-tempest-postgres\nab019378 Improve guest agent when start\nf003800b [Doc] Add another method to check guest agent log\ne4b70cf7 Fix test_create_inactive_datastore_by_admin\nd14fc534 Imported Translations from Zanata\nb057b6ec Add Python3 xena unit tests\n57ac4a84 Update master for stable/wallaby\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Icaacd33daf7c3a91a6ce2b58fc7b29ddab62a75e\n""}]",0,808735,b9131c169d05640da24e88b5d504334315f6cf6d,9,4,1,28522,,,0,"Proposing Xena RC1 for trove

This proposed a RC1 release for trove to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 15.0.0.0rc1..f3459e26
f3459e26 Allow regular user to get quotas
c3a8930e Doc: Upgrade trove guest agent
a12b2be7 Run reset master when setting up mysql replicas
0b0c3599 Replace deprecated import of ABCs from collections
5590ecdc Show user network ID for getting instance
036948c5 Use Block Storage API v3 instead of API v2
02971d85 Add periodic task to remove postgres archived wal files
69f08ab4 Fix getting config option value for database
24fc4a53 Allow admin user to get instances attached with any configuration
ce8014ec Add doc for running unit tests
f0bf45ea Fix rebuild instances in replication cluster
7b463118 Show all the instances in descending order of creation time
c274ab9f Keep user defined configuration after resizing instance
210d5696 Release note for adding iptables-persistent package
4ce59ace Add package iptables-persistent inside guest instance
b050996b Use bridge network for db container
6d2ab68a Fix backup using customized container image registry
189d3493 Add float types to load_items to support configuration parameters of float type
03e55126 Support customized database container images in DevStack
2114e8a7 Enable tls-proxy support in test jobs
8f91898d Fix sqlalchemy engine listener
77bb9727 Changed minversion in tox to 3.18.0
b9d2de5f Wait for volume status before resize_fs
ac8fd38e Don't create nova instances with fqdn as their name
fc09de14 Doc: move from freenode to OFTC
fa658e09 Fix CI for trove Xena
1fd6e5f8 Fix periodic public image job
e232cb80 setup.cfg: add oslo.policy.enforcer
070f82f8 Dropping lower constraints testing
db30031c Fix typo in zuul config
d5497179 Fix check_subnet_router filters
22b99fb0 Add taskmanager_manager option to common
dfca9b19 [doc] Add configuration reference
1f1a1e4e Add CI job trove-tempest-postgres
ab019378 Improve guest agent when start
f003800b [Doc] Add another method to check guest agent log
e4b70cf7 Fix test_create_inactive_datastore_by_admin
d14fc534 Imported Translations from Zanata
b057b6ec Add Python3 xena unit tests
57ac4a84 Update master for stable/wallaby

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Icaacd33daf7c3a91a6ce2b58fc7b29ddab62a75e
",git fetch https://review.opendev.org/openstack/releases refs/changes/35/808735/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/trove.yaml'],1,b9131c169d05640da24e88b5d504334315f6cf6d,xena-rc1-deadline,releases: - version: 16.0.0.0rc1 projects: - repo: openstack/trove hash: f3459e2662e86b275ac3baf01330753df4d3f092 branches: - name: stable/xena location: 16.0.0.0rc1,,8,0
openstack%2Freleases~master~I681ebe1388e7c89771697aec8c00243ebc4a0cc2,openstack/releases,master,I681ebe1388e7c89771697aec8c00243ebc4a0cc2,Proposing Xena RC1 for compute-hyperv,MERGED,2021-09-13 08:17:03.000000000,2021-09-15 02:04:48.000000000,2021-09-15 02:04:48.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-09-13 08:17:03.000000000', 'files': ['deliverables/xena/compute-hyperv.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/696e3d4201696f3c0dd0d5ffba406461fa40cc49', 'message': 'Proposing Xena RC1 for compute-hyperv\n\nThis proposed a RC1 release for compute-hyperv to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 12.0.0..1971a67\nd508d59 doc: update IRC information\n700e6b4 Drop OVS support\nb85e6a2 Bump requirements\nfc24385 setup.cfg: Replace dashes with underscores\ne0aceaa Add Python3 xena unit tests\n8e85d70 Bump minimum requirements to match Nova\n12c7fb6 Update master for stable/wallaby\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I681ebe1388e7c89771697aec8c00243ebc4a0cc2\n'}]",0,808611,696e3d4201696f3c0dd0d5ffba406461fa40cc49,10,6,1,28522,,,0,"Proposing Xena RC1 for compute-hyperv

This proposed a RC1 release for compute-hyperv to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 12.0.0..1971a67
d508d59 doc: update IRC information
700e6b4 Drop OVS support
b85e6a2 Bump requirements
fc24385 setup.cfg: Replace dashes with underscores
e0aceaa Add Python3 xena unit tests
8e85d70 Bump minimum requirements to match Nova
12c7fb6 Update master for stable/wallaby

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I681ebe1388e7c89771697aec8c00243ebc4a0cc2
",git fetch https://review.opendev.org/openstack/releases refs/changes/11/808611/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/compute-hyperv.yaml'],1,696e3d4201696f3c0dd0d5ffba406461fa40cc49,xena-rc1-deadline,releases: - version: 13.0.0.0rc1 projects: - repo: openstack/compute-hyperv hash: 1971a6719e89eac9addd4048312c028a2bfbcd03 branches: - name: stable/xena location: 13.0.0.0rc1,,8,0
openstack%2Freleases~master~I2f28663e5c5c8513dec2a0c9e622e5a6f1b4e924,openstack/releases,master,I2f28663e5c5c8513dec2a0c9e622e5a6f1b4e924,Proposing Xena RC1 for cyborg,MERGED,2021-09-13 08:17:42.000000000,2021-09-15 02:04:45.000000000,2021-09-15 02:04:45.000000000,"[{'_account_id': 11904}, {'_account_id': 13629}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 08:17:42.000000000', 'files': ['deliverables/xena/cyborg.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c31d00202a0160b452c31342fe00382f458a4f0c', 'message': 'Proposing Xena RC1 for cyborg\n\nThis proposed a RC1 release for cyborg to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 6.0.0.0rc1..d22831e\ndf306c4 Fix the wrong link\ncd7304c Fix the arq post api doc\n31f71d0 Add description comment for device profile create\nb4f0fd6 Resolve mysql conflict message\nce3d2cf Add the microversion history docs\nb15a7a7 Remove the redundant index page for APIs entry\nb30baf0 Changed minversion in tox to 3.18.0\nd74b897 update oslo.db version to 10.0.0\n05f8853 Delete trait from placement\nb243f04 Add test cases for checking device profile create params\n5469b49 Fix oslo policy DeprecatedRule warnings\n20547d4 Erase previously collected coverage for cybrog\nad7f39f Add test case for create device profile\nc236a7d Replace deprecated with_lockmode with with_for_update\n4f70eec imporve api ""delete arq by uuids""\n0a3efbc Add ut for nova returns HTTP 207 with all event code 400\n40ca546 Fill the msg of exception\n1afd343 Fix the exception content\n708fb15 docs: Update Freenode to OFTC\n7be50cf Update rc to placement in reporting datas when rc changed\nb2c82ec removed the duplicate EnumField = object_fields.EnumField\nafb9cc3 Correct comment message\na277aba Give a more detailed picture about the cyborg architecture.\naa8eb36 Correct wrong comment\n7605982 docs: Add parameters list to device profile APIs\n516a7d7 revert the created device datas\n77348f1 Transport the param with [\'deployable_id \',\'key\'] when filter the attribute by deployable_id and key\nfa09ba8 Give a more precise definition and fix a sphinx syntax error.\n1d47500 setup.cfg: Replace dashes with underscores\nf3b35ac Fix wrong args when calling unbind() method\nf369821 Remove TODO tag\na8979b2 Remove personal name in the docs\nabe9f40 Using pop method to avoid incompatible data type\nd9233bc Switch using Launchpad instead of Storyboard\n0e1bb83 Add backup and snapshot support matrix\n008c366 Revert device_profile key to show device profile API\n891c1de tools: Allow check-cherry-picks.sh to be disabled by an env var\n4fac92a Add Python3 xena unit tests\n851dcfc Update master for stable/wallaby\n8cddcf8 Travil Change: Correct comment errors\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I2f28663e5c5c8513dec2a0c9e622e5a6f1b4e924\n'}]",1,808613,c31d00202a0160b452c31342fe00382f458a4f0c,10,6,1,28522,,,0,"Proposing Xena RC1 for cyborg

This proposed a RC1 release for cyborg to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 6.0.0.0rc1..d22831e
df306c4 Fix the wrong link
cd7304c Fix the arq post api doc
31f71d0 Add description comment for device profile create
b4f0fd6 Resolve mysql conflict message
ce3d2cf Add the microversion history docs
b15a7a7 Remove the redundant index page for APIs entry
b30baf0 Changed minversion in tox to 3.18.0
d74b897 update oslo.db version to 10.0.0
05f8853 Delete trait from placement
b243f04 Add test cases for checking device profile create params
5469b49 Fix oslo policy DeprecatedRule warnings
20547d4 Erase previously collected coverage for cybrog
ad7f39f Add test case for create device profile
c236a7d Replace deprecated with_lockmode with with_for_update
4f70eec imporve api ""delete arq by uuids""
0a3efbc Add ut for nova returns HTTP 207 with all event code 400
40ca546 Fill the msg of exception
1afd343 Fix the exception content
708fb15 docs: Update Freenode to OFTC
7be50cf Update rc to placement in reporting datas when rc changed
b2c82ec removed the duplicate EnumField = object_fields.EnumField
afb9cc3 Correct comment message
a277aba Give a more detailed picture about the cyborg architecture.
aa8eb36 Correct wrong comment
7605982 docs: Add parameters list to device profile APIs
516a7d7 revert the created device datas
77348f1 Transport the param with ['deployable_id ','key'] when filter the attribute by deployable_id and key
fa09ba8 Give a more precise definition and fix a sphinx syntax error.
1d47500 setup.cfg: Replace dashes with underscores
f3b35ac Fix wrong args when calling unbind() method
f369821 Remove TODO tag
a8979b2 Remove personal name in the docs
abe9f40 Using pop method to avoid incompatible data type
d9233bc Switch using Launchpad instead of Storyboard
0e1bb83 Add backup and snapshot support matrix
008c366 Revert device_profile key to show device profile API
891c1de tools: Allow check-cherry-picks.sh to be disabled by an env var
4fac92a Add Python3 xena unit tests
851dcfc Update master for stable/wallaby
8cddcf8 Travil Change: Correct comment errors

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I2f28663e5c5c8513dec2a0c9e622e5a6f1b4e924
",git fetch https://review.opendev.org/openstack/releases refs/changes/13/808613/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/cyborg.yaml'],1,c31d00202a0160b452c31342fe00382f458a4f0c,xena-rc1-deadline," - Refactor documentation structure including API docs, user guide and contributor guide. - Add placement resource cleanup mechanism in cyborg-conductor to avoid orphan resources. - Improve Cyborg API with standard return value and add new operations for different API resources. releases: - version: 7.0.0.0rc1 projects: - repo: openstack/cyborg hash: d22831e78b295c5ac370ca1faf84e95924800fea branches: - name: stable/xena location: 7.0.0.0rc1"," - Refactor documentation structure including API docs, user guide and contributor guide. - Add placement resource cleanup mechanism in cyborg-conductor to avoid orphan resources. - Improve Cyborg API with standard return value and add new operations for different API resources.",14,3
openstack%2Freleases~master~I13f751c4502ca9597571bd38bd3eee0293c90de3,openstack/releases,master,I13f751c4502ca9597571bd38bd3eee0293c90de3,Proposing Xena RC1 for neutron-dynamic-routing,MERGED,2021-09-13 09:11:20.000000000,2021-09-15 02:04:42.000000000,2021-09-15 02:04:42.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 09:11:20.000000000', 'files': ['deliverables/xena/neutron-dynamic-routing.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c284e01d3baa7c1293a42dd079809b380afd53ba', 'message': 'Proposing Xena RC1 for neutron-dynamic-routing\n\nThis proposed a RC1 release for neutron-dynamic-routing to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 18.0.0..891ca86\n891ca86 use payloads for ROUTER_INTERFACE events\nb8b8788 Use payload for PORT and FLOATING_IP events\nc021b10 Use bgp api-def from neutron-lib\n7245c22 setup.cfg: Replace dashes with underscores\nf9288d7 Use py3 as the default runtime for tox\n43f50d5 Fix TypeError when formatting BGP IP address.\n28c8320 Add Python3 xena unit tests\n19347ce Update master for stable/wallaby\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I13f751c4502ca9597571bd38bd3eee0293c90de3\n'}]",0,808690,c284e01d3baa7c1293a42dd079809b380afd53ba,9,5,1,28522,,,0,"Proposing Xena RC1 for neutron-dynamic-routing

This proposed a RC1 release for neutron-dynamic-routing to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 18.0.0..891ca86
891ca86 use payloads for ROUTER_INTERFACE events
b8b8788 Use payload for PORT and FLOATING_IP events
c021b10 Use bgp api-def from neutron-lib
7245c22 setup.cfg: Replace dashes with underscores
f9288d7 Use py3 as the default runtime for tox
43f50d5 Fix TypeError when formatting BGP IP address.
28c8320 Add Python3 xena unit tests
19347ce Update master for stable/wallaby

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I13f751c4502ca9597571bd38bd3eee0293c90de3
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/808690/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/neutron-dynamic-routing.yaml'],1,c284e01d3baa7c1293a42dd079809b380afd53ba,xena-rc1-deadline,releases: - version: 19.0.0.0rc1 projects: - repo: openstack/neutron-dynamic-routing hash: 891ca86212f0f9fdce669d44b65daa9363d1b847 branches: - name: stable/xena location: 19.0.0.0rc1,,8,0
openstack%2Freleases~master~Iae039d8c60afa2896893de4e9e28fdd1d875271e,openstack/releases,master,Iae039d8c60afa2896893de4e9e28fdd1d875271e,Proposing Xena RC1 for networking-odl,MERGED,2021-09-13 09:09:07.000000000,2021-09-15 02:04:39.000000000,2021-09-15 02:04:39.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 09:09:07.000000000', 'files': ['deliverables/xena/networking-odl.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d4caf206cc03c1b7a86ef05a00d4b3b872125d50', 'message': 'Proposing Xena RC1 for networking-odl\n\nThis proposed a RC1 release for networking-odl to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 18.0.0..40ca37f63\n78c5c64c2 Changed minversion in tox to 3.18.0\nd01304a67 Use assertCountEqual instead of assertItemsEqual\n59dd774b7 Use Payloads for FLOATING_IP\n8ba1e9a73 Use payloads for PORT SUBNET and SECURITY_GROUPS events\n6b07846c9 Enable tls-proxy support for test job\n2470f7f02 Retrieve the agent using ""get_agent_objects""\ne6f936925 Explicitly set jobs to ML2/OVS\n5fd279630 setup.cfg: Replace dashes with underscores\n5ae7a90d4 use payloads for TRUNK and SUBPORTS callbacks\n732a90818 Change the remaining non python3 compatible code\n98cb8439a Update master for stable/wallaby\n8803f2592 Add Python3 xena unit tests\n9a57c5c04 Update master for stable/wallaby\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Iae039d8c60afa2896893de4e9e28fdd1d875271e\n'}]",0,808688,d4caf206cc03c1b7a86ef05a00d4b3b872125d50,9,5,1,28522,,,0,"Proposing Xena RC1 for networking-odl

This proposed a RC1 release for networking-odl to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 18.0.0..40ca37f63
78c5c64c2 Changed minversion in tox to 3.18.0
d01304a67 Use assertCountEqual instead of assertItemsEqual
59dd774b7 Use Payloads for FLOATING_IP
8ba1e9a73 Use payloads for PORT SUBNET and SECURITY_GROUPS events
6b07846c9 Enable tls-proxy support for test job
2470f7f02 Retrieve the agent using ""get_agent_objects""
e6f936925 Explicitly set jobs to ML2/OVS
5fd279630 setup.cfg: Replace dashes with underscores
5ae7a90d4 use payloads for TRUNK and SUBPORTS callbacks
732a90818 Change the remaining non python3 compatible code
98cb8439a Update master for stable/wallaby
8803f2592 Add Python3 xena unit tests
9a57c5c04 Update master for stable/wallaby

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Iae039d8c60afa2896893de4e9e28fdd1d875271e
",git fetch https://review.opendev.org/openstack/releases refs/changes/88/808688/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/networking-odl.yaml'],1,d4caf206cc03c1b7a86ef05a00d4b3b872125d50,xena-rc1-deadline,releases: - version: 19.0.0.0rc1 projects: - repo: openstack/networking-odl hash: 40ca37f63bc08556d7d15ac67742be62ea6a2f20 branches: - name: stable/xena location: 19.0.0.0rc1,,8,0
openstack%2Freleases~master~Ia2fb84a68efc6527bf76742662fb9c250eed90ff,openstack/releases,master,Ia2fb84a68efc6527bf76742662fb9c250eed90ff,Proposing Xena RC1 for networking-bagpipe,MERGED,2021-09-13 09:03:14.000000000,2021-09-15 02:04:37.000000000,2021-09-15 02:04:37.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 09:03:14.000000000', 'files': ['deliverables/xena/networking-bagpipe.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2b394616681deae61614a05c0286421356a38676', 'message': 'Proposing Xena RC1 for networking-bagpipe\n\nThis proposed a RC1 release for networking-bagpipe to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 14.0.0..c833a97\n4106d98 Changed minversion in tox to 3.18.0\nb01bc67 Follow pyroute2 changes\nd750685 Explicitly set job networking-bagpipe-tempest to ML2/OVS\ncf5548b Switch testing to Xena testing runtime\nc3e941f setup.cfg: Replace dashes with underscores\n22e9d46 Update master for stable/wallaby\nba36482 Update master for stable/wallaby\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ia2fb84a68efc6527bf76742662fb9c250eed90ff\n'}]",0,808681,2b394616681deae61614a05c0286421356a38676,9,5,1,28522,,,0,"Proposing Xena RC1 for networking-bagpipe

This proposed a RC1 release for networking-bagpipe to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 14.0.0..c833a97
4106d98 Changed minversion in tox to 3.18.0
b01bc67 Follow pyroute2 changes
d750685 Explicitly set job networking-bagpipe-tempest to ML2/OVS
cf5548b Switch testing to Xena testing runtime
c3e941f setup.cfg: Replace dashes with underscores
22e9d46 Update master for stable/wallaby
ba36482 Update master for stable/wallaby

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ia2fb84a68efc6527bf76742662fb9c250eed90ff
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/808681/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/networking-bagpipe.yaml'],1,2b394616681deae61614a05c0286421356a38676,xena-rc1-deadline,releases: - version: 15.0.0.0rc1 projects: - repo: openstack/networking-bagpipe hash: c833a9783ab8e164ca1a0f6f01010cc4e85c3294 branches: - name: stable/xena location: 15.0.0.0rc1,,8,0
openstack%2Freleases~master~I6dfb50ca22296e7a78d32ed91be6603867f49933,openstack/releases,master,I6dfb50ca22296e7a78d32ed91be6603867f49933,Proposing Xena RC1 for networking-bgpvpn,MERGED,2021-09-13 09:04:22.000000000,2021-09-15 02:04:34.000000000,2021-09-15 02:04:34.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 09:04:22.000000000', 'files': ['deliverables/xena/networking-bgpvpn.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/26f962f6d08423aafb71f1efab634a4dd64ba542', 'message': 'Proposing Xena RC1 for networking-bgpvpn\n\nThis proposed a RC1 release for networking-bgpvpn to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 14.0.0..78fc8e3\n78fc8e3 Use assertCountEqual instead of assertItemsEqual\n998ba38 Changed minversion in tox to 3.18.0\nce81026 Remove unecessary READER and WRITER context from bgpvpn_db\n270c19b DOC: remove duplicate mitaka entry\n64cf49e Use payloads for PORT events\n5f7a129 use payloads for ROUTER_INTERFACE events\nb4cbc90 Explicitly set job networking-bgpvpn-install to ML2/OVS\nbd9a6d0 Use quota ``DbQuotaDriver`` instead of ``ConfDriver``\n3576989 setup.cfg: Replace dashes with underscores\n4e55af8 Update master for stable/wallaby\ndfc89f1 Add Python3 xena unit tests\ned8771f Update master for stable/wallaby\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I6dfb50ca22296e7a78d32ed91be6603867f49933\n'}]",0,808683,26f962f6d08423aafb71f1efab634a4dd64ba542,9,5,1,28522,,,0,"Proposing Xena RC1 for networking-bgpvpn

This proposed a RC1 release for networking-bgpvpn to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 14.0.0..78fc8e3
78fc8e3 Use assertCountEqual instead of assertItemsEqual
998ba38 Changed minversion in tox to 3.18.0
ce81026 Remove unecessary READER and WRITER context from bgpvpn_db
270c19b DOC: remove duplicate mitaka entry
64cf49e Use payloads for PORT events
5f7a129 use payloads for ROUTER_INTERFACE events
b4cbc90 Explicitly set job networking-bgpvpn-install to ML2/OVS
bd9a6d0 Use quota ``DbQuotaDriver`` instead of ``ConfDriver``
3576989 setup.cfg: Replace dashes with underscores
4e55af8 Update master for stable/wallaby
dfc89f1 Add Python3 xena unit tests
ed8771f Update master for stable/wallaby

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I6dfb50ca22296e7a78d32ed91be6603867f49933
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/808683/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/networking-bgpvpn.yaml'],1,26f962f6d08423aafb71f1efab634a4dd64ba542,xena-rc1-deadline,releases: - version: 15.0.0.0rc1 projects: - repo: openstack/networking-bgpvpn hash: 78fc8e35cc92ede933f21e1ed35608047b5b6aa9 branches: - name: stable/xena location: 15.0.0.0rc1,,8,0
openstack%2Freleases~master~I69128928d9abe5f9ece4b65be2ce4c930ada34b6,openstack/releases,master,I69128928d9abe5f9ece4b65be2ce4c930ada34b6,Proposing Xena RC1 for zun,MERGED,2021-09-13 10:44:27.000000000,2021-09-15 02:04:32.000000000,2021-09-15 02:04:32.000000000,"[{'_account_id': 11536}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 10:44:27.000000000', 'files': ['deliverables/xena/zun.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/be98cde6d918c86124d790af6ff3a19609eb07dd', 'message': 'Proposing Xena RC1 for zun\n\nThis proposed a RC1 release for zun to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 7.0.0..abd1e5c9\nabd1e5c9 Respect allocation ratio on container update\n1f105766 Deprecate Aggregate[CPU|Ram|Disk]Filters\nd8b7b01d Replace deprecated with_lockmode with with_for_update\n52a35609 setup.cfg: Replace dashes with underscores\n917868f5 Add Python3 xena unit tests\nae2aa6a0 Update master for stable/wallaby\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I69128928d9abe5f9ece4b65be2ce4c930ada34b6\n'}]",0,808742,be98cde6d918c86124d790af6ff3a19609eb07dd,9,4,1,28522,,,0,"Proposing Xena RC1 for zun

This proposed a RC1 release for zun to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 7.0.0..abd1e5c9
abd1e5c9 Respect allocation ratio on container update
1f105766 Deprecate Aggregate[CPU|Ram|Disk]Filters
d8b7b01d Replace deprecated with_lockmode with with_for_update
52a35609 setup.cfg: Replace dashes with underscores
917868f5 Add Python3 xena unit tests
ae2aa6a0 Update master for stable/wallaby

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I69128928d9abe5f9ece4b65be2ce4c930ada34b6
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/808742/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/zun.yaml'],1,be98cde6d918c86124d790af6ff3a19609eb07dd,xena-rc1-deadline,releases: - version: 8.0.0.0rc1 projects: - repo: openstack/zun hash: abd1e5c9f34c3b3c141600f0386e77ab41f7e89a branches: - name: stable/xena location: 8.0.0.0rc1,,8,0
openstack%2Freleases~master~I3c8760ff1cb055fe552d6c1f5f63452e96d4c909,openstack/releases,master,I3c8760ff1cb055fe552d6c1f5f63452e96d4c909,Proposing Xena RC1 for zun-ui,MERGED,2021-09-13 10:43:32.000000000,2021-09-15 02:04:29.000000000,2021-09-15 02:04:29.000000000,"[{'_account_id': 11536}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 10:43:32.000000000', 'files': ['deliverables/xena/zun-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c5c63c030077e9c8e5c35a8b1c2fc8f83df1f91b', 'message': 'Proposing Xena RC1 for zun-ui\n\nThis proposed a RC1 release for zun-ui to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 7.0.0..f27296e\nf27296e Drop horizon-nodejs10-jobs template\n20b43ea Add horizon-nodejs14-job template.\n719d760 Add Python3 xena unit tests\n6cbea3f Update master for stable/wallaby\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I3c8760ff1cb055fe552d6c1f5f63452e96d4c909\n'}]",0,808741,c5c63c030077e9c8e5c35a8b1c2fc8f83df1f91b,9,4,1,28522,,,0,"Proposing Xena RC1 for zun-ui

This proposed a RC1 release for zun-ui to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 7.0.0..f27296e
f27296e Drop horizon-nodejs10-jobs template
20b43ea Add horizon-nodejs14-job template.
719d760 Add Python3 xena unit tests
6cbea3f Update master for stable/wallaby

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I3c8760ff1cb055fe552d6c1f5f63452e96d4c909
",git fetch https://review.opendev.org/openstack/releases refs/changes/41/808741/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/zun-ui.yaml'],1,c5c63c030077e9c8e5c35a8b1c2fc8f83df1f91b,xena-rc1-deadline,releases: - version: 8.0.0.0rc1 projects: - repo: openstack/zun-ui hash: f27296e6d5605036c773bd947d646feadc30d919 branches: - name: stable/xena location: 8.0.0.0rc1,,8,0
openstack%2Freleases~master~Ide69f045198286419b18beec086de98587ca9335,openstack/releases,master,Ide69f045198286419b18beec086de98587ca9335,Proposing Xena RC1 for magnum,MERGED,2021-09-13 08:40:18.000000000,2021-09-15 02:04:27.000000000,2021-09-15 02:04:27.000000000,"[{'_account_id': 6484}, {'_account_id': 11904}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 08:40:18.000000000', 'files': ['deliverables/xena/magnum.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fea95272a09defb5f8e5ab03eb4b5b59bfe2a000', 'message': 'Proposing Xena RC1 for magnum\n\nThis proposed a RC1 release for magnum to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 12.0.0.0rc1..6951ac4f\n6468aad3 Update cluster autoscaler build for v1.22\n68e6c0e4 [fix] Detect virtio-scsi volumes correctly\ncdbe26c4 [k8s] Fix CA rotate\n12766eaf Add cloud-provider flag to openstack cloud control manager\n1e2c3f3a Replace deprecated import of ABCs from collections\n67acf2c5 Use Block Storage API v3 instead of API v2\nd8cc8828 Fix CoreDNS 1.7.0 and above\nba75dce2 Ensure backward compatibility with SQLAlchemy<1.4\nb2e20a11 Make code compatible with SQLAlchemy 1.4.18\nec092724 Revert ""[K8S] Enable --use-service-account-credentials""\n16344a5a Add separated CA cert for etcd and front-proxy\ne9b48896 [K8S] Enable --use-service-account-credentials\nb4016783 Update traefik options\n1de9b140 Download correct cri-containerd-cni tarball\nfa4a6ba7 Add toleration to CSI nodeplugin\n7be7a5a1 [hca] Use wallaby-stable-1 as default HCA tag\nfc1f27a5 Support hyperkube_prefix label\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ide69f045198286419b18beec086de98587ca9335\n'}]",0,808636,fea95272a09defb5f8e5ab03eb4b5b59bfe2a000,9,5,1,28522,,,0,"Proposing Xena RC1 for magnum

This proposed a RC1 release for magnum to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 12.0.0.0rc1..6951ac4f
6468aad3 Update cluster autoscaler build for v1.22
68e6c0e4 [fix] Detect virtio-scsi volumes correctly
cdbe26c4 [k8s] Fix CA rotate
12766eaf Add cloud-provider flag to openstack cloud control manager
1e2c3f3a Replace deprecated import of ABCs from collections
67acf2c5 Use Block Storage API v3 instead of API v2
d8cc8828 Fix CoreDNS 1.7.0 and above
ba75dce2 Ensure backward compatibility with SQLAlchemy<1.4
b2e20a11 Make code compatible with SQLAlchemy 1.4.18
ec092724 Revert ""[K8S] Enable --use-service-account-credentials""
16344a5a Add separated CA cert for etcd and front-proxy
e9b48896 [K8S] Enable --use-service-account-credentials
b4016783 Update traefik options
1de9b140 Download correct cri-containerd-cni tarball
fa4a6ba7 Add toleration to CSI nodeplugin
7be7a5a1 [hca] Use wallaby-stable-1 as default HCA tag
fc1f27a5 Support hyperkube_prefix label

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ide69f045198286419b18beec086de98587ca9335
",git fetch https://review.opendev.org/openstack/releases refs/changes/36/808636/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/magnum.yaml'],1,fea95272a09defb5f8e5ab03eb4b5b59bfe2a000,xena-rc1-deadline,releases: - version: 13.0.0.0rc1 projects: - repo: openstack/magnum hash: 6951ac4fc6b6178637fac7bd5d05096adb5c6bdc branches: - name: stable/xena location: 13.0.0.0rc1,,8,0
openstack%2Freleases~master~I9fb404fd2bc2b025c65a50c689769060d62dacea,openstack/releases,master,I9fb404fd2bc2b025c65a50c689769060d62dacea,Proposing Xena RC1 for magnum-ui,MERGED,2021-09-13 08:38:42.000000000,2021-09-15 02:04:25.000000000,2021-09-15 02:04:25.000000000,"[{'_account_id': 6484}, {'_account_id': 11904}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 08:38:42.000000000', 'files': ['deliverables/xena/magnum-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5ce8affdb4b361b192133e4509565f57d77551cb', 'message': 'Proposing Xena RC1 for magnum-ui\n\nThis proposed a RC1 release for magnum-ui to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 8.0.0..bcd7fbf\nbcd7fbf Default `floating_ip_enabled` to true in cluster template\nc2a6acc Update horizon nodejs template\n565614f Add overlay2 to Docker storage driver dropdown\n1fc627f Support zero workers nodes on Horizon dashboard\n335fb71 Remove hard_limit check in dashboard\nc9555d0 Add Python3 xena unit tests\n74a0261 Update master for stable/wallaby\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I9fb404fd2bc2b025c65a50c689769060d62dacea\n'}]",0,808635,5ce8affdb4b361b192133e4509565f57d77551cb,9,5,1,28522,,,0,"Proposing Xena RC1 for magnum-ui

This proposed a RC1 release for magnum-ui to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 8.0.0..bcd7fbf
bcd7fbf Default `floating_ip_enabled` to true in cluster template
c2a6acc Update horizon nodejs template
565614f Add overlay2 to Docker storage driver dropdown
1fc627f Support zero workers nodes on Horizon dashboard
335fb71 Remove hard_limit check in dashboard
c9555d0 Add Python3 xena unit tests
74a0261 Update master for stable/wallaby

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I9fb404fd2bc2b025c65a50c689769060d62dacea
",git fetch https://review.opendev.org/openstack/releases refs/changes/35/808635/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/magnum-ui.yaml'],1,5ce8affdb4b361b192133e4509565f57d77551cb,xena-rc1-deadline,releases: - version: 9.0.0.0rc1 projects: - repo: openstack/magnum-ui hash: bcd7fbfde73ebf6e0cbd13a511802f3ec50cbb45 branches: - name: stable/xena location: 9.0.0.0rc1,,8,0
openstack%2Freleases~master~I24bee40b154725ee9e4d1f6314a56428e279dfd9,openstack/releases,master,I24bee40b154725ee9e4d1f6314a56428e279dfd9,Proposing Xena RC1 for networking-hyperv,MERGED,2021-09-13 09:06:13.000000000,2021-09-15 02:04:22.000000000,2021-09-15 02:04:22.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 09:06:13.000000000', 'files': ['deliverables/xena/networking-hyperv.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/853179b3483b44a32ba87f26330d1cb879da8173', 'message': 'Proposing Xena RC1 for networking-hyperv\n\nThis proposed a RC1 release for networking-hyperv to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 10.0.0..2329562\n2329562 doc: update IRC information\na913cc6 setup.cfg: Replace dashes with underscores\n60a5b5e Add Python3 xena unit tests\nbcafa01 Update master for stable/wallaby\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I24bee40b154725ee9e4d1f6314a56428e279dfd9\n'}]",0,808686,853179b3483b44a32ba87f26330d1cb879da8173,10,5,1,28522,,,0,"Proposing Xena RC1 for networking-hyperv

This proposed a RC1 release for networking-hyperv to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 10.0.0..2329562
2329562 doc: update IRC information
a913cc6 setup.cfg: Replace dashes with underscores
60a5b5e Add Python3 xena unit tests
bcafa01 Update master for stable/wallaby

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I24bee40b154725ee9e4d1f6314a56428e279dfd9
",git fetch https://review.opendev.org/openstack/releases refs/changes/86/808686/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/networking-hyperv.yaml'],1,853179b3483b44a32ba87f26330d1cb879da8173,xena-rc1-deadline,releases: - version: 11.0.0.0rc1 projects: - repo: openstack/networking-hyperv hash: 2329562d274b953851603f09f59b140b21a898b4 branches: - name: stable/xena location: 11.0.0.0rc1,,8,0
openstack%2Freleases~master~I3297415f2911eb486db7688de8745c90a00eaa47,openstack/releases,master,I3297415f2911eb486db7688de8745c90a00eaa47,Proposing Xena RC1 for masakari-monitors,MERGED,2021-09-13 08:44:55.000000000,2021-09-15 01:53:12.000000000,2021-09-15 01:53:12.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-09-13 08:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d5c29cd64fa95aeb6b5aac6dd265a758a449dffa', 'message': 'Proposing Xena RC1 for masakari-monitors\n\nThis proposed a RC1 release for masakari-monitors to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 11.0.0..4b99f75\n4b99f75 [CI] Gate on the same jobs as Masakari\n1cee543 [CI] Run cover jobs\n2e8f43f Deprecate masakari-processmonitor\n9a351ef Use pre-provided libvirt-python\n18c79eb Use some better linting\n80ee534 Generate PDF documentation\n5299d5f [doc] Add config reference guide\n339218d move DriverBase to the base dir\nfe85b8d [doc] Add masakari monitors usage\nfe4e094 Remove conditionals for an ancient openstacksdk\ne7154f3 Fix hostmonitor hanging forever after certain exceptions\n31f5b47 Fix typos\n76d9e89 Fix several code comment errors in process monitor.\n6a496e7 Replace ""split(\' \')"" with ""split()"" in masakari-monitors\nfe5247c [community goal] Update contributor documentation\nb558651 setup.cfg: Replace dashes with underscores\nf5d2eef Fix one reno\nb320863 Add Python3 xena unit tests\nfe59bda Update master for stable/wallaby\n1087a38 Replaces yaml.load() with yaml.safe_load()\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I3297415f2911eb486db7688de8745c90a00eaa47\n'}, {'number': 2, 'created': '2021-09-14 11:23:29.000000000', 'files': ['deliverables/xena/masakari-monitors.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a4d3d7a578d597f63e7782dd8337949b9c6a8040', 'message': 'Proposing Xena RC1 for masakari-monitors\n\nThis proposed a RC1 release for masakari-monitors to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 11.0.0..c2d9a4f\nc2d9a4f Fix hostmonitor to respect quorum\n4b99f75 [CI] Gate on the same jobs as Masakari\n1cee543 [CI] Run cover jobs\n2e8f43f Deprecate masakari-processmonitor\n9a351ef Use pre-provided libvirt-python\n18c79eb Use some better linting\n80ee534 Generate PDF documentation\n5299d5f [doc] Add config reference guide\n339218d move DriverBase to the base dir\nfe85b8d [doc] Add masakari monitors usage\nfe4e094 Remove conditionals for an ancient openstacksdk\ne7154f3 Fix hostmonitor hanging forever after certain exceptions\n31f5b47 Fix typos\n76d9e89 Fix several code comment errors in process monitor.\n6a496e7 Replace ""split(\' \')"" with ""split()"" in masakari-monitors\nfe5247c [community goal] Update contributor documentation\nb558651 setup.cfg: Replace dashes with underscores\nf5d2eef Fix one reno\nb320863 Add Python3 xena unit tests\nfe59bda Update master for stable/wallaby\n1087a38 Replaces yaml.load() with yaml.safe_load()\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I3297415f2911eb486db7688de8745c90a00eaa47\n'}]",0,808641,a4d3d7a578d597f63e7782dd8337949b9c6a8040,20,5,2,28522,,,0,"Proposing Xena RC1 for masakari-monitors

This proposed a RC1 release for masakari-monitors to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 11.0.0..c2d9a4f
c2d9a4f Fix hostmonitor to respect quorum
4b99f75 [CI] Gate on the same jobs as Masakari
1cee543 [CI] Run cover jobs
2e8f43f Deprecate masakari-processmonitor
9a351ef Use pre-provided libvirt-python
18c79eb Use some better linting
80ee534 Generate PDF documentation
5299d5f [doc] Add config reference guide
339218d move DriverBase to the base dir
fe85b8d [doc] Add masakari monitors usage
fe4e094 Remove conditionals for an ancient openstacksdk
e7154f3 Fix hostmonitor hanging forever after certain exceptions
31f5b47 Fix typos
76d9e89 Fix several code comment errors in process monitor.
6a496e7 Replace ""split(' ')"" with ""split()"" in masakari-monitors
fe5247c [community goal] Update contributor documentation
b558651 setup.cfg: Replace dashes with underscores
f5d2eef Fix one reno
b320863 Add Python3 xena unit tests
fe59bda Update master for stable/wallaby
1087a38 Replaces yaml.load() with yaml.safe_load()

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I3297415f2911eb486db7688de8745c90a00eaa47
",git fetch https://review.opendev.org/openstack/releases refs/changes/41/808641/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/masakari-monitors.yaml'],1,d5c29cd64fa95aeb6b5aac6dd265a758a449dffa,xena-rc1-deadline,releases: - version: 12.0.0.0rc1 projects: - repo: openstack/masakari-monitors hash: 4b99f7574c4f6f456b500bbe1b5f9a614dcf5b4f branches: - name: stable/xena location: 12.0.0.0rc1,,8,0
openstack%2Freleases~master~Ie96f407b6cdef57555aaca633bbd8fb4c88489d3,openstack/releases,master,Ie96f407b6cdef57555aaca633bbd8fb4c88489d3,Proposing Xena RC1 for heat-agents,MERGED,2021-09-13 08:27:00.000000000,2021-09-15 01:52:46.000000000,2021-09-15 01:52:46.000000000,"[{'_account_id': 11904}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 08:27:00.000000000', 'files': ['deliverables/xena/heat-agents.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/532355a7d28e974f48cb26b394af58acd13c4f5f', 'message': 'Proposing Xena RC1 for heat-agents\n\nThis proposed a RC1 release for heat-agents to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 2.2.0..ba45ab4\n70b1d06 [ussuri][goal] Update contributor documentation\n7c62d3b Migrate from testr to stestr\nb4d249a Add Python3 xena unit tests\n6dc9414 Update master for stable/wallaby\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ie96f407b6cdef57555aaca633bbd8fb4c88489d3\n'}]",0,808626,532355a7d28e974f48cb26b394af58acd13c4f5f,9,4,1,28522,,,0,"Proposing Xena RC1 for heat-agents

This proposed a RC1 release for heat-agents to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 2.2.0..ba45ab4
70b1d06 [ussuri][goal] Update contributor documentation
7c62d3b Migrate from testr to stestr
b4d249a Add Python3 xena unit tests
6dc9414 Update master for stable/wallaby

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ie96f407b6cdef57555aaca633bbd8fb4c88489d3
",git fetch https://review.opendev.org/openstack/releases refs/changes/26/808626/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/heat-agents.yaml'],1,532355a7d28e974f48cb26b394af58acd13c4f5f,xena-rc1-deadline,releases: - version: 3.0.0.0rc1 projects: - repo: openstack/heat-agents hash: ba45ab41a63c22e81546c3173299bed899ffecc6 branches: - name: stable/xena location: 3.0.0.0rc1,,8,0
openstack%2Freleases~master~Id8ef0916325baa76e39f437163d35bc7d4a6fcfd,openstack/releases,master,Id8ef0916325baa76e39f437163d35bc7d4a6fcfd,Proposing Xena RC1 for heat,MERGED,2021-09-13 08:31:05.000000000,2021-09-15 01:52:43.000000000,2021-09-15 01:52:43.000000000,"[{'_account_id': 11904}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 08:31:05.000000000', 'files': ['deliverables/xena/heat.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/486927023240184da5f36cea61bcb38d9f369fd9', 'message': 'Proposing Xena RC1 for heat\n\nThis proposed a RC1 release for heat to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 16.0.0..b461754e8\n605b10c31 Add missing oslo.cache options\n3eaeda68b Allow arbitrary image properties\n42b5f68bf Make grenade job voting again\n1828df32f Use Block Storage API v3 instead of API v2\n07810f6c9 Add ""rule"" property for anti-affinity\n4fe338caf Use stdlib fnmatch module\n0d1976c98 Don\'t reference OS::Nova::FloatingIP in the docs\n892f365a1 Suppress policy deprecation warnings\n3cf6c575d Switch to use <user/project>_domain_id in context\n157f35805 [goal] Deprecate the JSON formatted policy file\nba0b6676c Add availability_zone to OS::Octavia::LoadBalancer\nf341395a4 Fix SQLAlchemy use for version 1.4\nec0c79a15 Add explict dependency to avoid gate unstable\n793f5b37a [Doc] Moving to OFTC\n29573f8fb [ussuri][goal] Update contributor documentation\n9652d45e3 Fix zuul config for heat-functional\na8f8528d1 Preserve order in list_concat_unique\n49e5e1205 Fix failing test_common_constraints\nbfbaab107 Don\'t update status for replaced resource\n6ff0dc2e1 Assume interface detach called for port not found\n1ac36e4a7 Add Python3 xena unit tests\n684c14f3d Update master for stable/wallaby\n150c0a9bd Check ready status volume before extend volume\n2d692e22f Detect EL8 platform-python\n9d29e035d Calculate resource data prior to legacy updates\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Id8ef0916325baa76e39f437163d35bc7d4a6fcfd\n'}]",0,808629,486927023240184da5f36cea61bcb38d9f369fd9,9,4,1,28522,,,0,"Proposing Xena RC1 for heat

This proposed a RC1 release for heat to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 16.0.0..b461754e8
605b10c31 Add missing oslo.cache options
3eaeda68b Allow arbitrary image properties
42b5f68bf Make grenade job voting again
1828df32f Use Block Storage API v3 instead of API v2
07810f6c9 Add ""rule"" property for anti-affinity
4fe338caf Use stdlib fnmatch module
0d1976c98 Don't reference OS::Nova::FloatingIP in the docs
892f365a1 Suppress policy deprecation warnings
3cf6c575d Switch to use <user/project>_domain_id in context
157f35805 [goal] Deprecate the JSON formatted policy file
ba0b6676c Add availability_zone to OS::Octavia::LoadBalancer
f341395a4 Fix SQLAlchemy use for version 1.4
ec0c79a15 Add explict dependency to avoid gate unstable
793f5b37a [Doc] Moving to OFTC
29573f8fb [ussuri][goal] Update contributor documentation
9652d45e3 Fix zuul config for heat-functional
a8f8528d1 Preserve order in list_concat_unique
49e5e1205 Fix failing test_common_constraints
bfbaab107 Don't update status for replaced resource
6ff0dc2e1 Assume interface detach called for port not found
1ac36e4a7 Add Python3 xena unit tests
684c14f3d Update master for stable/wallaby
150c0a9bd Check ready status volume before extend volume
2d692e22f Detect EL8 platform-python
9d29e035d Calculate resource data prior to legacy updates

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Id8ef0916325baa76e39f437163d35bc7d4a6fcfd
",git fetch https://review.opendev.org/openstack/releases refs/changes/29/808629/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/heat.yaml'],1,486927023240184da5f36cea61bcb38d9f369fd9,xena-rc1-deadline,releases: - version: 17.0.0.0rc1 projects: - repo: openstack/heat hash: b461754e8a48a2d8efddbafe7718f92c3cfb445c branches: - name: stable/xena location: 17.0.0.0rc1,,8,0
openstack%2Freleases~master~I5da99c7222e161552df9a854ca00b15ae389b390,openstack/releases,master,I5da99c7222e161552df9a854ca00b15ae389b390,Proposing Xena RC1 for ceilometer,MERGED,2021-09-13 08:08:10.000000000,2021-09-15 01:52:41.000000000,2021-09-15 01:52:41.000000000,"[{'_account_id': 4264}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 08:08:10.000000000', 'files': ['deliverables/xena/ceilometer.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/df699dfb07e46aeb6b0fdea4722551541ceb779b', 'message': 'Proposing Xena RC1 for ceilometer\n\nThis proposed a RC1 release for ceilometer to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 16.0.0..2688793b\n7742fe06 Add missing [oslo_reports] options\ned404c5f Fix CA file for Swift pollster\n04e3ea79 Adding FIPS job\n9366bc8f Do not install libvirt python bindings from pip\n6bb29c0b Moving Centos8s job to telemetry-tempest-plugin\nf57a51e4 Do not install libvirt-python on RHEL via pip\n2938ff9d Replace deprecated oslo_utils.timeutils.isotime\n62625de0 Moving IRC network reference to OFTC\n2af5b376 Gnocchi: replace deprecated [storage] coordination_url\n482e1e97 Replace oslo_utils.fnmatch with fnmatch\n4efa64e0 Remove references to Ocata and Newton\n82f7659e Move bug tracking back to launchpad\nb35665c9 Move IRC channel to OFTC\n4c6688ff Changed minversion in tox to 3.18.0\n4ae76f31 remove requires on monotonic\n46ad2786 Deprecate unused [coordination] check_watchers\n6c5102a5 Remove dependency to panko\n044282d4 vmware tests: Support different moref backend representations\n30ada660 Introduce `timeout` in dynamic pollsters sub-system\n99bdd78d Remove Xen support\nb664d4ea Ceilometer compute `retry_on_disconnect` using `no-wait`\n26f5ceca Use tox constraints instead of upper constraints\n6c99d4db setup.cfg: Replace dashes with underscores\n896aa81d Imported Translations from Zanata\n01fae3c4 Add Python3 xena unit tests\n664a0d7d Update master for stable/wallaby\ne7abc707 Cap tenacity < 7.0.0\n19dc1cfd Imported Translations from Zanata\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I5da99c7222e161552df9a854ca00b15ae389b390\n'}]",0,808606,df699dfb07e46aeb6b0fdea4722551541ceb779b,9,4,1,28522,,,0,"Proposing Xena RC1 for ceilometer

This proposed a RC1 release for ceilometer to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 16.0.0..2688793b
7742fe06 Add missing [oslo_reports] options
ed404c5f Fix CA file for Swift pollster
04e3ea79 Adding FIPS job
9366bc8f Do not install libvirt python bindings from pip
6bb29c0b Moving Centos8s job to telemetry-tempest-plugin
f57a51e4 Do not install libvirt-python on RHEL via pip
2938ff9d Replace deprecated oslo_utils.timeutils.isotime
62625de0 Moving IRC network reference to OFTC
2af5b376 Gnocchi: replace deprecated [storage] coordination_url
482e1e97 Replace oslo_utils.fnmatch with fnmatch
4efa64e0 Remove references to Ocata and Newton
82f7659e Move bug tracking back to launchpad
b35665c9 Move IRC channel to OFTC
4c6688ff Changed minversion in tox to 3.18.0
4ae76f31 remove requires on monotonic
46ad2786 Deprecate unused [coordination] check_watchers
6c5102a5 Remove dependency to panko
044282d4 vmware tests: Support different moref backend representations
30ada660 Introduce `timeout` in dynamic pollsters sub-system
99bdd78d Remove Xen support
b664d4ea Ceilometer compute `retry_on_disconnect` using `no-wait`
26f5ceca Use tox constraints instead of upper constraints
6c99d4db setup.cfg: Replace dashes with underscores
896aa81d Imported Translations from Zanata
01fae3c4 Add Python3 xena unit tests
664a0d7d Update master for stable/wallaby
e7abc707 Cap tenacity < 7.0.0
19dc1cfd Imported Translations from Zanata

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I5da99c7222e161552df9a854ca00b15ae389b390
",git fetch https://review.opendev.org/openstack/releases refs/changes/06/808606/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/ceilometer.yaml'],1,df699dfb07e46aeb6b0fdea4722551541ceb779b,xena-rc1-deadline,releases: - version: 17.0.0.0rc1 projects: - repo: openstack/ceilometer hash: 2688793b45cc5fa0db675db0377db7ad431cdfc3 branches: - name: stable/xena location: 17.0.0.0rc1,,8,0
openstack%2Freleases~master~I4fa556cc56eb2e540e0ec29a31fca2ea1ed111d1,openstack/releases,master,I4fa556cc56eb2e540e0ec29a31fca2ea1ed111d1,Proposing Xena RC1 for aodh,MERGED,2021-09-13 08:03:37.000000000,2021-09-15 01:52:38.000000000,2021-09-15 01:52:38.000000000,"[{'_account_id': 4264}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 08:03:37.000000000', 'files': ['deliverables/xena/aodh.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/dda457b8e4b5b48081f813bdf110073890624761', 'message': 'Proposing Xena RC1 for aodh\n\nThis proposed a RC1 release for aodh to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 12.0.0..e61fba4a\na236b07d Adding FIPS job\n7a166e05 Replace oslo_utils.fnmatch with fnmatch\n082f6cf0 Fix oslo policy DeprecatedRule warnings\nf975f56f Suppress policy default change warnings\n42c07824 Changed minversion in tox to 3.18.0\n434ee468 Bugs are in launchpad\n777ccfa3 Switch testing to Xena testing runtime\n082d67f5 Deprecate unused [coordination] check_watchers\n95d616dc sqlalchemy is used but not declared\n4f6ac780 setup.cfg: Replace dashes with underscores\n02179e0c Limit number of records deleted by aodh-expirer\n0b01d7b7 Merge notifier opts\nce0954c8 Use py3 as the default runtime for tox\n7448ac71 Imported Translations from Zanata\n9cf69d72 Cap tenacity < 7.0.0\nf483f6c4 Add Python3 xena unit tests\n6fc880f6 Update master for stable/wallaby\nd587a9e5 Use python 3.8 for tox\n9b50734b Revert ""Support Ceilometer API""\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I4fa556cc56eb2e540e0ec29a31fca2ea1ed111d1\n'}]",0,808598,dda457b8e4b5b48081f813bdf110073890624761,9,4,1,28522,,,0,"Proposing Xena RC1 for aodh

This proposed a RC1 release for aodh to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 12.0.0..e61fba4a
a236b07d Adding FIPS job
7a166e05 Replace oslo_utils.fnmatch with fnmatch
082f6cf0 Fix oslo policy DeprecatedRule warnings
f975f56f Suppress policy default change warnings
42c07824 Changed minversion in tox to 3.18.0
434ee468 Bugs are in launchpad
777ccfa3 Switch testing to Xena testing runtime
082d67f5 Deprecate unused [coordination] check_watchers
95d616dc sqlalchemy is used but not declared
4f6ac780 setup.cfg: Replace dashes with underscores
02179e0c Limit number of records deleted by aodh-expirer
0b01d7b7 Merge notifier opts
ce0954c8 Use py3 as the default runtime for tox
7448ac71 Imported Translations from Zanata
9cf69d72 Cap tenacity < 7.0.0
f483f6c4 Add Python3 xena unit tests
6fc880f6 Update master for stable/wallaby
d587a9e5 Use python 3.8 for tox
9b50734b Revert ""Support Ceilometer API""

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I4fa556cc56eb2e540e0ec29a31fca2ea1ed111d1
",git fetch https://review.opendev.org/openstack/releases refs/changes/98/808598/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/aodh.yaml'],1,dda457b8e4b5b48081f813bdf110073890624761,xena-rc1-deadline,releases: - version: 13.0.0.0rc1 projects: - repo: openstack/aodh hash: e61fba4a0bce1305366071addfba0b4cb290ad8f branches: - name: stable/xena location: 13.0.0.0rc1,,8,0
openstack%2Fpuppet-octavia~master~Iecc618707d243f9e56acf085c71bb03737bde70c,openstack/puppet-octavia,master,Iecc618707d243f9e56acf085c71bb03737bde70c,Add watch_log_file option,MERGED,2021-09-14 08:02:56.000000000,2021-09-15 01:50:32.000000000,2021-09-15 01:49:00.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:56.000000000', 'files': ['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-ba1a0d5eaa8182f6.yaml', 'spec/classes/octavia_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/b86fe3e33eb9ed455757319aa992b4068191eecc', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: Iecc618707d243f9e56acf085c71bb03737bde70c\nCloses-Bug: #1943212\n'}]",0,808901,b86fe3e33eb9ed455757319aa992b4068191eecc,8,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: Iecc618707d243f9e56acf085c71bb03737bde70c
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/01/808901/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-ba1a0d5eaa8182f6.yaml', 'spec/classes/octavia_logging_spec.rb']",3,b86fe3e33eb9ed455757319aa992b4068191eecc,bug/1943212," :watch_log_file => true, :watch_log_file => '<SERVICE DEFAULT>', :watch_log_file => true,",,13,0
openstack%2Fpuppet-murano~master~I560b24f023cb554b9087ccb2ae1dc603101bb160,openstack/puppet-murano,master,I560b24f023cb554b9087ccb2ae1dc603101bb160,Add watch_log_file option,MERGED,2021-09-14 08:02:56.000000000,2021-09-15 01:49:58.000000000,2021-09-15 01:48:22.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:56.000000000', 'files': ['releasenotes/notes/add_watch_log_file-option-bd0f6fedeeee1721.yaml', 'manifests/logging.pp', 'spec/classes/murano_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/2a21b03b2a6880faff9dfa857468cfeb9a578d44', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: I560b24f023cb554b9087ccb2ae1dc603101bb160\nCloses-Bug: #1943212\n'}]",0,808905,2a21b03b2a6880faff9dfa857468cfeb9a578d44,8,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: I560b24f023cb554b9087ccb2ae1dc603101bb160
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/05/808905/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_watch_log_file-option-bd0f6fedeeee1721.yaml', 'manifests/logging.pp', 'spec/classes/murano_logging_spec.rb']",3,2a21b03b2a6880faff9dfa857468cfeb9a578d44,bug/1943212," :watch_log_file => true, :use_syslog => '<SERVICE DEFAULT>', :use_json => '<SERVICE DEFAULT>', :use_journal => '<SERVICE DEFAULT>', :use_stderr => '<SERVICE DEFAULT>', :log_dir => '/var/log/murano', :log_file => '<SERVICE DEFAULT>', :watch_log_file => '<SERVICE DEFAULT>', :debug => '<SERVICE DEFAULT>', :watch_log_file => true,"," :use_syslog => '<SERVICE DEFAULT>', :use_json => '<SERVICE DEFAULT>', :use_journal => '<SERVICE DEFAULT>', :use_stderr => '<SERVICE DEFAULT>', :log_dir => '/var/log/murano', :log_file => '<SERVICE DEFAULT>', :debug => '<SERVICE DEFAULT>',",20,7
openstack%2Fpuppet-cloudkitty~master~Id59ae948e6e4703ee45c51dfaf6ba7295c8a0777,openstack/puppet-cloudkitty,master,Id59ae948e6e4703ee45c51dfaf6ba7295c8a0777,Add watch_log_file option,MERGED,2021-09-14 08:02:55.000000000,2021-09-15 01:42:55.000000000,2021-09-15 01:41:33.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:55.000000000', 'files': ['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-85521bd0b98c5a68.yaml', 'spec/classes/cloudkitty_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/448f4bd62bb7b990ad08b6219267ae78b7fd614b', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: Id59ae948e6e4703ee45c51dfaf6ba7295c8a0777\nCloses-Bug: #1943212\n'}]",0,808889,448f4bd62bb7b990ad08b6219267ae78b7fd614b,8,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: Id59ae948e6e4703ee45c51dfaf6ba7295c8a0777
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/89/808889/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-85521bd0b98c5a68.yaml', 'spec/classes/cloudkitty_logging_spec.rb']",3,448f4bd62bb7b990ad08b6219267ae78b7fd614b,bug/1943212," :watch_log_file => true, :watch_log_file => '<SERVICE DEFAULT>', :watch_log_file => true,",,13,0
openstack%2Fpuppet-rally~master~I5316125602858a418efa2c134edb3f5328a62b61,openstack/puppet-rally,master,I5316125602858a418efa2c134edb3f5328a62b61,Add watch_log_file option,MERGED,2021-09-14 08:02:55.000000000,2021-09-15 01:37:19.000000000,2021-09-15 01:35:45.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:55.000000000', 'files': ['manifests/logging.pp', 'spec/classes/rally_logging_spec.rb', 'releasenotes/notes/add_watch_log_file-option-b96b7bb227849614.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/ce7b93f888e6943e657b6decffdf8e6fa8fdac45', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: I5316125602858a418efa2c134edb3f5328a62b61\nCloses-Bug: #1943212\n'}]",0,808882,ce7b93f888e6943e657b6decffdf8e6fa8fdac45,8,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: I5316125602858a418efa2c134edb3f5328a62b61
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/82/808882/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'spec/classes/rally_logging_spec.rb', 'releasenotes/notes/add_watch_log_file-option-b96b7bb227849614.yaml']",3,ce7b93f888e6943e657b6decffdf8e6fa8fdac45,bug/1943212,--- features: - | The new ``rally::logging::watch_log_file`` parameter has been added. ,,20,7
openstack%2Fmanila~stable%2Fvictoria~Ib417499d4394b939eb289460ac8dbb6b22d789f4,openstack/manila,stable/victoria,Ib417499d4394b939eb289460ac8dbb6b22d789f4,Add missing share-type user message,MERGED,2021-09-13 19:32:41.000000000,2021-09-15 01:36:26.000000000,2021-09-15 00:51:35.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-13 19:32:41.000000000', 'files': ['releasenotes/notes/fix-1870280-share-type-user-message-902275047410bdbf.yaml', 'manila/tests/scheduler/drivers/test_filter.py', 'manila/message/message_field.py', 'manila/scheduler/drivers/filter.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/faec95deac14ba295da54d2e49af7328700974cf', 'message': 'Add missing share-type user message\n\nAttempting to create a share without identifying a share type results in an\nerror.This adds a user message informing the user that no default share type\nwas identified while attempting to create a share.\n\nCloses-Bug: #1870280\n\nChange-Id: Ib417499d4394b939eb289460ac8dbb6b22d789f4\n(cherry picked from commit 657fa5b113ce1c0cd35a21d7eac4d446af9ce2d3)\n(cherry picked from commit 7eca10bcb56574cd11fd6a929d87458b0aba20be)\n'}]",0,808820,faec95deac14ba295da54d2e49af7328700974cf,15,2,1,32594,,,0,"Add missing share-type user message

Attempting to create a share without identifying a share type results in an
error.This adds a user message informing the user that no default share type
was identified while attempting to create a share.

Closes-Bug: #1870280

Change-Id: Ib417499d4394b939eb289460ac8dbb6b22d789f4
(cherry picked from commit 657fa5b113ce1c0cd35a21d7eac4d446af9ce2d3)
(cherry picked from commit 7eca10bcb56574cd11fd6a929d87458b0aba20be)
",git fetch https://review.opendev.org/openstack/manila refs/changes/20/808820/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-1870280-share-type-user-message-902275047410bdbf.yaml', 'manila/tests/scheduler/drivers/test_filter.py', 'manila/message/message_field.py', 'manila/scheduler/drivers/filter.py']",4,faec95deac14ba295da54d2e49af7328700974cf,bug/1870280,"from manila.message import api as message_api from manila.message import message_field self.message_api = message_api.API() self.message_api.create( context, message_field.Action.CREATE, context.project_id, resource_type=message_field.Resource.SHARE, resource_id=request_spec.get('share_id', None), detail=message_field.Detail.NO_DEFAULT_SHARE_TYPE)",,46,0
openstack%2Fpuppet-tacker~master~I04b708e411b9627aa19653f223e356cc66302e87,openstack/puppet-tacker,master,I04b708e411b9627aa19653f223e356cc66302e87,Add watch_log_file option,MERGED,2021-09-14 08:02:55.000000000,2021-09-15 01:35:47.000000000,2021-09-15 01:32:06.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:55.000000000', 'files': ['manifests/logging.pp', 'spec/classes/tacker_logging_spec.rb', 'releasenotes/notes/add_watch_log_file-option-bee1ac47cbf9a5bc.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/217411978af688c3774eded792b2fff241455571', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: I04b708e411b9627aa19653f223e356cc66302e87\nCloses-Bug: #1943212\n'}]",0,808890,217411978af688c3774eded792b2fff241455571,8,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: I04b708e411b9627aa19653f223e356cc66302e87
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/90/808890/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'spec/classes/tacker_logging_spec.rb', 'releasenotes/notes/add_watch_log_file-option-bee1ac47cbf9a5bc.yaml']",3,217411978af688c3774eded792b2fff241455571,bug/1943212,--- features: - | The new ``tacker::logging::watch_log_file`` parameter has been added. ,,13,0
openstack%2Fpuppet-openstack-cookiecutter~master~I427bbcd87e671be8f647ccbc4ebd00eaff8e5ae3,openstack/puppet-openstack-cookiecutter,master,I427bbcd87e671be8f647ccbc4ebd00eaff8e5ae3,Add watch_log_file option,MERGED,2021-09-14 08:05:08.000000000,2021-09-15 01:31:11.000000000,2021-09-15 01:31:11.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:05:08.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/spec/classes/{{cookiecutter.project_name}}_logging_spec.rb', 'puppet-{{cookiecutter.project_name}}/manifests/logging.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/5d8522712d3e1bdf921367e8b2deacf866fd1f55', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: I427bbcd87e671be8f647ccbc4ebd00eaff8e5ae3\nCloses-Bug: #1943212\n'}]",0,808907,5d8522712d3e1bdf921367e8b2deacf866fd1f55,7,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: I427bbcd87e671be8f647ccbc4ebd00eaff8e5ae3
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/07/808907/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-{{cookiecutter.project_name}}/spec/classes/{{cookiecutter.project_name}}_logging_spec.rb', 'puppet-{{cookiecutter.project_name}}/manifests/logging.pp']",2,5d8522712d3e1bdf921367e8b2deacf866fd1f55,bug/1943212,"# [*watch_log_file*] # (Optional) Uses logging handler designed to watch file system (boolean value). # Defaults to $::os_service_default # $watch_log_file = $::os_service_default, watch_log_file => $watch_log_file,",,9,0
openstack%2Freleases~master~Ief9da946585a416743f7031144a720cfc99e6277,openstack/releases,master,Ief9da946585a416743f7031144a720cfc99e6277,Proposing Xena RC1 for ec2-api,MERGED,2021-09-13 08:20:39.000000000,2021-09-15 01:28:24.000000000,2021-09-15 01:28:24.000000000,"[{'_account_id': 10234}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-09-13 08:20:39.000000000', 'files': ['deliverables/xena/ec2-api.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d85192c39c4c03d832dce5e0b6e4b91cfa5dec2e', 'message': 'Proposing Xena RC1 for ec2-api\n\nThis proposed a RC1 release for ec2-api to get any merged changes\nout prior to the RC1 deadline for Xena going into effect.\n\nIf the team is ready to proceed, please leave a +1 to acknowledge this\nrelease and we will process right away. If the team is working on any\nfinal merges, leave a -1 with some detail on the status and update the\npatch with the new commit hash to use when ready.\n\nPatches with no response will be merged by Thursday, September 16.\n\n$ git log --oneline --no-merges 12.0.0..2a5a973\n2a5a973 doc: Update our IRC server to OFTC\n084d252 [ussuri][goal] Update contributor documentation\nc0f612e setup.cfg: Replace dashes with underscores\n8775709 Add Python3 xena unit tests\ncdb6eef fix using of SQLAlchemy.in_ operator in UT\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ief9da946585a416743f7031144a720cfc99e6277\n'}]",0,808617,d85192c39c4c03d832dce5e0b6e4b91cfa5dec2e,9,4,1,28522,,,0,"Proposing Xena RC1 for ec2-api

This proposed a RC1 release for ec2-api to get any merged changes
out prior to the RC1 deadline for Xena going into effect.

If the team is ready to proceed, please leave a +1 to acknowledge this
release and we will process right away. If the team is working on any
final merges, leave a -1 with some detail on the status and update the
patch with the new commit hash to use when ready.

Patches with no response will be merged by Thursday, September 16.

$ git log --oneline --no-merges 12.0.0..2a5a973
2a5a973 doc: Update our IRC server to OFTC
084d252 [ussuri][goal] Update contributor documentation
c0f612e setup.cfg: Replace dashes with underscores
8775709 Add Python3 xena unit tests
cdb6eef fix using of SQLAlchemy.in_ operator in UT

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ief9da946585a416743f7031144a720cfc99e6277
",git fetch https://review.opendev.org/openstack/releases refs/changes/17/808617/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/ec2-api.yaml'],1,d85192c39c4c03d832dce5e0b6e4b91cfa5dec2e,xena-rc1-deadline,releases: - version: 13.0.0.0rc1 projects: - repo: openstack/ec2-api hash: 2a5a97344d4fbaaccf96164bcf942d08f1046fac branches: - name: stable/xena location: 13.0.0.0rc1,,8,0
openstack%2Fpuppet-senlin~master~I35f0db8c5848480d250627a682a227a0f920d76c,openstack/puppet-senlin,master,I35f0db8c5848480d250627a682a227a0f920d76c,Add watch_log_file option,MERGED,2021-09-14 08:02:55.000000000,2021-09-15 01:28:17.000000000,2021-09-15 01:26:48.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:55.000000000', 'files': ['manifests/logging.pp', 'spec/classes/senlin_logging_spec.rb', 'releasenotes/notes/add_watch_log_file-option-b9897b4c177aa927.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/9d76668a025805e917eeabc0bbe028b6dbad63c6', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: I35f0db8c5848480d250627a682a227a0f920d76c\nCloses-Bug: #1943212\n'}]",0,808880,9d76668a025805e917eeabc0bbe028b6dbad63c6,8,3,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: I35f0db8c5848480d250627a682a227a0f920d76c
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/80/808880/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'spec/classes/senlin_logging_spec.rb', 'releasenotes/notes/add_watch_log_file-option-b9897b4c177aa927.yaml']",3,9d76668a025805e917eeabc0bbe028b6dbad63c6,bug/1943212,--- features: - | The new ``senlin::logging::watch_log_file`` parameter has been added. ,,13,0
openstack%2Fpuppet-freezer~master~I9ba2fa39f2227b2f83547ac6bdaf5b4ce286cd17,openstack/puppet-freezer,master,I9ba2fa39f2227b2f83547ac6bdaf5b4ce286cd17,Add watch_log_file option,ABANDONED,2021-09-14 08:02:55.000000000,2021-09-15 01:13:38.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 08:02:55.000000000', 'files': ['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-8f1e6a1a49494c71.yaml', 'spec/classes/freezer_logging_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/91b2d842d5e7ce7c4efa973e57380ce668f4a8cb', 'message': 'Add watch_log_file option\n\nAdd support for Using logging handler designed to watch file system.\n\nChange-Id: I9ba2fa39f2227b2f83547ac6bdaf5b4ce286cd17\nCloses-Bug: #1943212\n'}]",0,808884,91b2d842d5e7ce7c4efa973e57380ce668f4a8cb,4,2,1,9414,,,0,"Add watch_log_file option

Add support for Using logging handler designed to watch file system.

Change-Id: I9ba2fa39f2227b2f83547ac6bdaf5b4ce286cd17
Closes-Bug: #1943212
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/84/808884/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'releasenotes/notes/add_watch_log_file-option-8f1e6a1a49494c71.yaml', 'spec/classes/freezer_logging_spec.rb']",3,91b2d842d5e7ce7c4efa973e57380ce668f4a8cb,bug/1943212," :watch_log_file => true, :watch_log_file => '<SERVICE DEFAULT>', :watch_log_file => true,",,13,0
openstack%2Fpython-manilaclient~master~I58fe22d8c9862a2e1826717d7b50450f64e1ab68,openstack/python-manilaclient,master,I58fe22d8c9862a2e1826717d7b50450f64e1ab68,Update master for stable/xena,MERGED,2021-09-10 14:32:48.000000000,2021-09-15 00:23:13.000000000,2021-09-15 00:21:46.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-10 14:32:48.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/3d7eb91d0db691da9dface473c8df2c72ce6b18a', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: I58fe22d8c9862a2e1826717d7b50450f64e1ab68\n'}]",0,808292,3d7eb91d0db691da9dface473c8df2c72ce6b18a,9,2,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: I58fe22d8c9862a2e1826717d7b50450f64e1ab68
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/92/808292/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,3d7eb91d0db691da9dface473c8df2c72ce6b18a,reno-xena, xena,,7,0
openstack%2Fdiskimage-builder~master~I451cacda6573727de9448b5857bed5181850b4ad,openstack/diskimage-builder,master,I451cacda6573727de9448b5857bed5181850b4ad,Fix debian-minimal security repos,MERGED,2021-08-26 13:57:30.000000000,2021-09-14 23:20:48.000000000,2021-09-14 23:16:28.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 13:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f6136e3459bbb2d7f17c24aae39a58d21cf32867', 'message': 'Promote debian bullseye job to non-voting\n\nFix security repos list\n\nChange-Id: I451cacda6573727de9448b5857bed5181850b4ad\n'}, {'number': 2, 'created': '2021-08-26 14:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/af726fe3455070d64a9db26f761aad7a90c46e13', 'message': 'Add non-voting debian stable job\n\nFix security repos list\n\nChange-Id: I451cacda6573727de9448b5857bed5181850b4ad\n'}, {'number': 3, 'created': '2021-08-26 14:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f566ac196e33239d948118a7f6b4f7fc227c7860', 'message': 'Add non-voting debian stable job\n\nFix security repos list\n\nChange-Id: I451cacda6573727de9448b5857bed5181850b4ad\n'}, {'number': 4, 'created': '2021-08-26 14:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c83895841187bd59922724ea7412970d102df53d', 'message': 'Add non-voting debian stable job\n\nFix security repos list\n\nChange-Id: I451cacda6573727de9448b5857bed5181850b4ad\n'}, {'number': 5, 'created': '2021-08-26 15:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e76b3f22762aae55b1c2ac4b0dc1b22d340772ed', 'message': 'Add non-voting debian stable job\n\nFix security repos list\n\nChange-Id: I451cacda6573727de9448b5857bed5181850b4ad\n'}, {'number': 6, 'created': '2021-08-26 15:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/007654583bba784bfed50120a8cc099bde782a29', 'message': 'Fix debian-minimal security repos\n\nDebian stable security repos is now stable-security, as well as other\nversions.\n\nAlso add non-voting debian stable job\n\nChange-Id: I451cacda6573727de9448b5857bed5181850b4ad\n'}, {'number': 7, 'created': '2021-08-27 07:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1ff711af4de4aaa70245c3b338eff17c929f1721', 'message': 'Fix debian-minimal security repos\n\nDebian stable security repos is now stable-security, as well as other\nversions.\n\nAlso add non-voting debian stable job\n\nChange-Id: I451cacda6573727de9448b5857bed5181850b4ad\n'}, {'number': 8, 'created': '2021-09-10 09:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/18b122bc1cdb010349b304dcc6006dbf825c8e07', 'message': 'Fix debian-minimal security repos\n\nDebian stable security repos is now stable-security, as well as other\nversions.\n\nMove the Debian bullseye job from experimental to non-voting check.\n\nChange-Id: I451cacda6573727de9448b5857bed5181850b4ad\n'}, {'number': 9, 'created': '2021-09-10 09:41:26.000000000', 'files': ['diskimage_builder/elements/debian-minimal/environment.d/10-debian-minimal.bash', '.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6ed7f3b1399e6ad4414445735da118f1cd90fd59', 'message': 'Fix debian-minimal security repos\n\nDebian stable security repos is now stable-security, as well as other\nversions.\n\nMove the Debian bullseye job from experimental to non-voting check.\n\nChange-Id: I451cacda6573727de9448b5857bed5181850b4ad\n'}]",7,806188,6ed7f3b1399e6ad4414445735da118f1cd90fd59,39,5,9,23851,,,0,"Fix debian-minimal security repos

Debian stable security repos is now stable-security, as well as other
versions.

Move the Debian bullseye job from experimental to non-voting check.

Change-Id: I451cacda6573727de9448b5857bed5181850b4ad
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/88/806188/5 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/debian-minimal/environment.d/10-debian-minimal.bash', '.zuul.d/project.yaml']",2,f6136e3459bbb2d7f17c24aae39a58d21cf32867,debian-security, - dib-nodepool-functional-openstack-debian-bullseye-src: voting: false, - dib-nodepool-functional-openstack-debian-bullseye-src,6,4
openstack%2Ftripleo-ansible~stable%2Fwallaby~I6e0455e13a2f1351b072f11c98dfc79fecf847fb,openstack/tripleo-ansible,stable/wallaby,I6e0455e13a2f1351b072f11c98dfc79fecf847fb,Create SG rule for Octavia log offloading,MERGED,2021-09-13 14:20:38.000000000,2021-09-14 22:24:28.000000000,2021-09-14 22:24:28.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-13 14:20:38.000000000', 'files': ['tripleo_ansible/roles/octavia_overcloud_config/tasks/network.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7a7034462d52cb7756438305abbe4c05f80bacd8', 'message': ""Create SG rule for Octavia log offloading\n\nA SG rule for Octavia log offloading (syslog on UDP 514) was\nmissing, and now that the security-group has been added to the\nmanagement port, it's required for receiving the amphora logs.\n\nChange-Id: I6e0455e13a2f1351b072f11c98dfc79fecf847fb\n(cherry picked from commit 4843f8b6a20eb06a43cc7ffde009a93402630aa3)\n""}]",0,808780,7a7034462d52cb7756438305abbe4c05f80bacd8,10,3,1,29244,,,0,"Create SG rule for Octavia log offloading

A SG rule for Octavia log offloading (syslog on UDP 514) was
missing, and now that the security-group has been added to the
management port, it's required for receiving the amphora logs.

Change-Id: I6e0455e13a2f1351b072f11c98dfc79fecf847fb
(cherry picked from commit 4843f8b6a20eb06a43cc7ffde009a93402630aa3)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/80/808780/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia_overcloud_config/tasks/network.yml'],1,7a7034462d52cb7756438305abbe4c05f80bacd8,," - name: create security group rule for log offloading openstack.cloud.security_group_rule: security_group: ""{{ lb_health_mgr_sec_grp_name }}"" protocol: udp port_range_min: 514 port_range_max: 514 remote_ip_prefix: 0.0.0.0/0 environment: OS_USERNAME: ""{{ auth_username }}"" OS_PASSWORD: ""{{ auth_password }}"" OS_PROJECT_NAME: ""{{ auth_project_name }}""",,12,0
openstack%2Fpython-manilaclient~master~I7d53a65f1a3b1d5112b3e4de7dc60925191920fa,openstack/python-manilaclient,master,I7d53a65f1a3b1d5112b3e4de7dc60925191920fa,Fix python-manilaclient functional tests,MERGED,2021-09-13 18:58:13.000000000,2021-09-14 22:21:32.000000000,2021-09-14 22:19:44.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-09-13 18:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/ae787bff02ba202c51d9f1d1d4a283b3cb2c3076', 'message': ""Fix python-manilaclient functional tests\n\nFixes share server migration functional tests in the\npython-manilaclient. Recently, this change [1] was introduced, and\nbefore such change was merged, Manila used to keep the source share\nserver even after the complete operation.\n\nAs of the merge of [1], Manila is no longer keeping the source\nshare server, and it is automatically removed after the complete\nphase is triggered.\n\nIn this change, we stop waiting for the share server task state\nto be a migration completed task state, and instead, expect that\nthe source share server won't be encountered after the migration\ncomplete.\n\n[1] https://review.opendev.org/c/openstack/manila/+/803623\n\nChange-Id: I7d53a65f1a3b1d5112b3e4de7dc60925191920fa\n""}, {'number': 2, 'created': '2021-09-14 10:45:27.000000000', 'files': ['manilaclient/tests/functional/test_share_servers.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/1c3334d06b66896c4657d114e341e2ed7c3ba0d4', 'message': ""Fix python-manilaclient functional tests\n\nFixes share server migration functional tests in the\npython-manilaclient. Recently, this change [1] was introduced, and\nbefore such change was merged, Manila used to keep the source share\nserver even after the complete operation.\n\nAs of the merge of [1], Manila is no longer keeping the source\nshare server, and it is automatically removed after the complete\nphase is triggered.\n\nIn this change, we stop waiting for the share server task state\nto be a migration completed task state, and instead, expect that\nthe source share server won't be encountered after the migration\ncomplete.\n\n[1] https://review.opendev.org/c/openstack/manila/+/803623\n\nChange-Id: I7d53a65f1a3b1d5112b3e4de7dc60925191920fa\n""}]",2,808817,1c3334d06b66896c4657d114e341e2ed7c3ba0d4,16,3,2,29632,,,0,"Fix python-manilaclient functional tests

Fixes share server migration functional tests in the
python-manilaclient. Recently, this change [1] was introduced, and
before such change was merged, Manila used to keep the source share
server even after the complete operation.

As of the merge of [1], Manila is no longer keeping the source
share server, and it is automatically removed after the complete
phase is triggered.

In this change, we stop waiting for the share server task state
to be a migration completed task state, and instead, expect that
the source share server won't be encountered after the migration
complete.

[1] https://review.opendev.org/c/openstack/manila/+/803623

Change-Id: I7d53a65f1a3b1d5112b3e4de7dc60925191920fa
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/17/808817/2 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/tests/functional/test_share_servers.py'],1,ae787bff02ba202c51d9f1d1d4a283b3cb2c3076,," self.assertRaises(exceptions.NotFound, self.admin_client.get_share_server, share_server_id) # Wait for the respectives task state for each operation above. server = self.admin_client.wait_for_server_migration_task_state( server['id'], dest_host, task_state) "," task_state = constants.TASK_STATE_MIGRATION_SUCCESS # Wait for the respectives task state for each operation above. server = self.admin_client.wait_for_server_migration_task_state( server['id'], dest_host, task_state)",6,4
openstack%2Fironic~master~I3112a22149c07e5508f26c79f33d09aeb905c308,openstack/ironic,master,I3112a22149c07e5508f26c79f33d09aeb905c308,Fix idrac-wsman set_power_state to wait on HW,MERGED,2021-09-09 15:18:10.000000000,2021-09-14 22:12:53.000000000,2021-09-14 20:58:13.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-09-09 15:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0934ad6256754d1bf28c5e15842d6e819efe50e1', 'message': 'Fix idrac-wsman forced hard power off\n\nFor systems where soft power off at the end of deployment\nto boot to instance fails and forced hard power off is used,\nit was broken when using idrac-wsman power interface leaving\nsuccessfully deployed node in off state without any errors.\nThis broke other workflows expecting node to be on booted into\nOS at the end of deployment.\n\nThis is fixed by waiting for target power state. This\nfix affects all workflows where idrac-wsman power\ninterface is used to set power state, not only deployment.\n\nStory: 2009204\nTask: 43261\nChange-Id: I3112a22149c07e5508f26c79f33d09aeb905c308\n'}, {'number': 2, 'created': '2021-09-10 08:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c7ff5c34756e2a809e95c48629cc5588f5d48604', 'message': 'Fix idrac-wsman set_power_state to wait on HW\n\nFor systems where soft power off at the end of deployment\nto boot to instance fails and forced hard power off is used,\nit was broken when using idrac-wsman power interface leaving\nsuccessfully deployed node in off state without any errors.\nThis broke other workflows expecting node to be on booted into\nOS at the end of deployment.\n\nThis is fixed by waiting for target power state. This\nfix affects all workflows where idrac-wsman power\ninterface is used to set power state, not only deployment.\n\nStory: 2009204\nTask: 43261\nChange-Id: I3112a22149c07e5508f26c79f33d09aeb905c308\n'}, {'number': 3, 'created': '2021-09-13 09:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5a615d1cbf97ca0098732666ae6f796117557b46', 'message': 'Fix idrac-wsman set_power_state to wait on HW\n\nFor systems where soft power off at the end of deployment\nto boot to instance fails and forced hard power off is used,\nit was broken when using idrac-wsman power interface leaving\nsuccessfully deployed node in off state without any errors.\nThis broke other workflows expecting node to be on booted into\nOS at the end of deployment.\n\nThis is fixed by waiting for target power state. This\nfix affects all workflows where idrac-wsman power\ninterface is used to set power state, not only deployment.\n\nStory: 2009204\nTask: 43261\nChange-Id: I3112a22149c07e5508f26c79f33d09aeb905c308\n'}, {'number': 4, 'created': '2021-09-14 07:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bef9f31c2e3c1a14bb592fc09b0c578998da3a90', 'message': 'Fix idrac-wsman set_power_state to wait on HW\n\nset_power_state has returned to the caller immediately without confirming\nthe system has reached the requested state. This fixes that by\nsynchronously waiting until the target state has been read before returning.\n\nThat bug can cause instance workload deployments to fail on Dell EMC\nPowerEdge server models on which IPA ramdisk soft power off fails and\nironic employs its OOB fallback strategy. After an otherwise successful\ndeployment, the node is active, but is powered off. No error is reported\nin last_error. If the subsequent instance workflow expects the system to\nbe powered on into the operating system, it fails.\n\nStory: 2009204\nTask: 43261\nChange-Id: I3112a22149c07e5508f26c79f33d09aeb905c308\n'}, {'number': 5, 'created': '2021-09-14 16:02:54.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_power.py', 'releasenotes/notes/idrac-wsman-set-power-state-wait-cd8f9ff41b19c7a7.yaml', 'ironic/drivers/modules/drac/power.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2a0fd1d13f178c9872330cf6498dc25572a721da', 'message': 'Fix idrac-wsman set_power_state to wait on HW\n\nset_power_state has returned to the caller immediately without\nconfirming the system has reached the requested state. This fixes that\nby synchronously waiting until the target state has been read before\nreturning.\n\nThat bug can cause instance workload deployments to fail on Dell EMC\nPowerEdge server models on which IPA ramdisk soft power off fails and\nironic employs its OOB fallback strategy. After an otherwise successful\ndeployment, the node is active, but is powered off. No error is reported\nin last_error. If the subsequent instance workflow expects the system to\nbe powered on into the operating system, it fails.\n\nStory: 2009204\nTask: 43261\nChange-Id: I3112a22149c07e5508f26c79f33d09aeb905c308\n'}]",28,808098,2a0fd1d13f178c9872330cf6498dc25572a721da,57,5,5,27909,,,0,"Fix idrac-wsman set_power_state to wait on HW

set_power_state has returned to the caller immediately without
confirming the system has reached the requested state. This fixes that
by synchronously waiting until the target state has been read before
returning.

That bug can cause instance workload deployments to fail on Dell EMC
PowerEdge server models on which IPA ramdisk soft power off fails and
ironic employs its OOB fallback strategy. After an otherwise successful
deployment, the node is active, but is powered off. No error is reported
in last_error. If the subsequent instance workflow expects the system to
be powered on into the operating system, it fails.

Story: 2009204
Task: 43261
Change-Id: I3112a22149c07e5508f26c79f33d09aeb905c308
",git fetch https://review.opendev.org/openstack/ironic refs/changes/98/808098/5 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_power.py', 'releasenotes/notes/idrac-wsman-set-power-state-wait-cd8f9ff41b19c7a7.yaml', 'ironic/drivers/modules/drac/power.py']",3,0934ad6256754d1bf28c5e15842d6e819efe50e1,idrac-wsman-power-forced,"from ironic.conductor import utils as cond_utilsdef _set_power_state(node, power_state, task): :param task: a TaskManager instance containing the node to act on. if calc_power_state != states.REBOOT: # Skipping for reboot as can't match reboot with on/off. # Reboot so far has been part of workflow that is not followed # by another power state change that could break the flow. cond_utils.node_wait_for_power_state(task, calc_power_state) _set_power_state(task.node, power_state, task) _set_power_state(task.node, states.REBOOT, task)","def _set_power_state(node, power_state): _set_power_state(task.node, power_state) _set_power_state(task.node, states.REBOOT)",29,6
openstack%2Fironic~master~I22f3573f9472dabbcdbfad255d2fb93858c6f406,openstack/ironic,master,I22f3573f9472dabbcdbfad255d2fb93858c6f406,Revising quickstart doc for Centos8,ABANDONED,2021-03-05 22:54:11.000000000,2021-09-14 21:46:38.000000000,,"[{'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-05 22:54:11.000000000', 'files': ['doc/source/contributor/dev-quickstart.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5c9d9d043292e276f35ddd6a1565983428bd0c00', 'message': 'Revising quickstart doc for Centos8\n\nChange-Id: I22f3573f9472dabbcdbfad255d2fb93858c6f406\n'}]",0,779061,5c9d9d043292e276f35ddd6a1565983428bd0c00,6,3,1,11655,,,0,"Revising quickstart doc for Centos8

Change-Id: I22f3573f9472dabbcdbfad255d2fb93858c6f406
",git fetch https://review.opendev.org/openstack/ironic refs/changes/61/779061/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/dev-quickstart.rst'],1,5c9d9d043292e276f35ddd6a1565983428bd0c00,secure-rbac,"The gate currently runs the unit tests under Python 3.6, 3.7, and 3.8. It- RHEL8/CentOS8:: If using RHEL and yum reports ""No package git-review available"", use the EPEL software repository. sudo pip3 install -U tox # run the unit tests under py37 and also run the pep8 tests tox -epy37 -epep8 # run a specific test for Python 3.7 tox -epy37 -- test_conductor RHEL8/CentOS8::","The gate currently runs the unit tests under Python 3.6 and Python 3.7. It- RHEL7/CentOS7:: If using RHEL and yum reports ""No package python-pip available"" and ""No package git-review available"", use the EPEL software repository. sudo pip install -U tox You may need to explicitly upgrade virtualenv if you've installed the one from your OS distribution and it is too old (tox will complain). You can upgrade it individually, if you need to:: sudo pip install -U virtualenv # run the unit tests under py36 and also run the pep8 tests tox -epy36 -epep8 # run a specific test for Python 3.6 tox -epy36 -- test_conductor RHEL7/CentOS7::",10,16
openstack%2Fironic~master~Id8a3a6a334ea59f676e279ca8bc7eecf19cebea6,openstack/ironic,master,Id8a3a6a334ea59f676e279ca8bc7eecf19cebea6,Document eject_vmedia for Redfish,MERGED,2021-09-10 11:08:55.000000000,2021-09-14 21:41:29.000000000,2021-09-14 21:39:50.000000000,"[{'_account_id': 11076}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-10 11:08:55.000000000', 'files': ['doc/source/admin/drivers/redfish.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d0963378daaa26be71bd34f06b93da27cca5b50f', 'message': 'Document eject_vmedia for Redfish\n\nChange-Id: Id8a3a6a334ea59f676e279ca8bc7eecf19cebea6\n'}]",0,808201,d0963378daaa26be71bd34f06b93da27cca5b50f,9,3,1,10239,,,0,"Document eject_vmedia for Redfish

Change-Id: Id8a3a6a334ea59f676e279ca8bc7eecf19cebea6
",git fetch https://review.opendev.org/openstack/ironic refs/changes/01/808201/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/drivers/redfish.rst'],1,d0963378daaa26be71bd34f06b93da27cca5b50f,docs-eject," ""``eject_vmedia``"", ""Eject attached virtual media from a Node"" Eject Virtual Media ~~~~~~~~~~~~~~~~~~~ .. csv-table:: Request :header: ""Name"", ""In"", ""Type"", ""Description"" :widths: 25, 15, 15, 90 ""boot_device (optional)"", ""body"", ""string"", ""Type of the device to eject (all devices by default)"" ",,11,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ib7ec0d194d9858b115ba9343a7117aa1f4d264ea,openstack/tripleo-ansible,stable/wallaby,Ib7ec0d194d9858b115ba9343a7117aa1f4d264ea,Enable security group on the Octavia management port,MERGED,2021-09-13 14:20:38.000000000,2021-09-14 21:30:59.000000000,2021-09-14 21:30:59.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-13 14:20:38.000000000', 'files': ['tripleo_ansible/roles/octavia_controller_config/tasks/netport.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d76130d0df595654341db5f5e451c1a33febb736', 'message': 'Enable security group on the Octavia management port\n\nA dedicated security group (lb-health-mgr-sec-grp) is created for the\nOctavia management port but it was unused as the port was created with\nno-security-groups.\nThis commit enables this security group of the health-manager port.\n\nChange-Id: Ib7ec0d194d9858b115ba9343a7117aa1f4d264ea\n(cherry picked from commit a767d65dbcd5f4523fb570c87c54f58de7cb10ae)\n'}]",0,808779,d76130d0df595654341db5f5e451c1a33febb736,7,3,1,29244,,,0,"Enable security group on the Octavia management port

A dedicated security group (lb-health-mgr-sec-grp) is created for the
Octavia management port but it was unused as the port was created with
no-security-groups.
This commit enables this security group of the health-manager port.

Change-Id: Ib7ec0d194d9858b115ba9343a7117aa1f4d264ea
(cherry picked from commit a767d65dbcd5f4523fb570c87c54f58de7cb10ae)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/79/808779/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia_controller_config/tasks/netport.yml'],1,d76130d0df595654341db5f5e451c1a33febb736,, --security-group {{ lb_health_mgr_sec_grp_name }} \, --no-security-groups \ --port-security-enabled=False \,1,2
openstack%2Foctavia~master~I9dbdb71e9b94bbcc75766a8687a996d5358f3381,openstack/octavia,master,I9dbdb71e9b94bbcc75766a8687a996d5358f3381,Fix duplicate SG creation for listener peer port,MERGED,2021-08-13 06:34:23.000000000,2021-09-14 21:29:18.000000000,2021-09-14 21:27:47.000000000,"[{'_account_id': 7249}, {'_account_id': 10366}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-08-13 06:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f404aec964c80edeb0e5485f1b025cb695ec1fd3', 'message': 'Fix duplicate SG creation for listener peer port\n\nIn cases where the listener protcol port is same as the peer port\nand allowed_cidr set to 0.0.0.0/0 explicitly, the listener is not\nprovisioned due to duplicate security group creation for peer port\nwith None as remote_ip_prefix. Neutron SG defaults remote_ip_prefix\nto 0.0.0.0/0 if not specified or None and hence the error SG rule\nalready exists.\n\nRemove the duplicate entry from the updated_ports.\n\nStory: #2009117\nChange-Id: I9dbdb71e9b94bbcc75766a8687a996d5358f3381\n'}, {'number': 2, 'created': '2021-08-17 11:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ef760864facd905b28e3c838fe2b9b3f46899f37', 'message': 'Fix duplicate SG creation for listener peer port\n\nIn cases where the listener protcol port is same as the peer port\nand allowed_cidr set to 0.0.0.0/0 explicitly, the listener is not\nprovisioned due to duplicate security group creation for peer port\nwith None as remote_ip_prefix. Neutron SG defaults remote_ip_prefix\nto 0.0.0.0/0 if not specified or None and hence the error SG rule\nalready exists.\n\nRemove the duplicate entry from the updated_ports.\n\nStory: #2009117\nChange-Id: I9dbdb71e9b94bbcc75766a8687a996d5358f3381\n'}, {'number': 3, 'created': '2021-08-18 03:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a80060c1778cfbdbe3c902cc85cea67fc398844d', 'message': 'Fix duplicate SG creation for listener peer port\n\nIn cases where the listener protcol port is same as the peer port\nand allowed_cidr set to 0.0.0.0/0 explicitly, the listener is not\nprovisioned due to duplicate security group creation for peer port\nwith None as remote_ip_prefix. Neutron SG defaults remote_ip_prefix\nto 0.0.0.0/0 if not specified or None and hence the error SG rule\nalready exists.\n\nRemove the duplicate entry from the updated_ports.\n\nStory: #2009117\nChange-Id: I9dbdb71e9b94bbcc75766a8687a996d5358f3381\n'}, {'number': 4, 'created': '2021-08-18 08:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/01f722669dae870d5af038363a0a6bc63165943e', 'message': 'Fix duplicate SG creation for listener peer port\n\nIn cases where the listener protcol port is same as the peer port\nand allowed_cidr set to 0.0.0.0/0 explicitly, the listener is not\nprovisioned due to duplicate security group creation for peer port\nwith None as remote_ip_prefix. Neutron SG defaults remote_ip_prefix\nto 0.0.0.0/0 if not specified or None and hence the error SG rule\nalready exists.\n\nRemove the duplicate entry from the updated_ports.\n\nStory: #2009117\nChange-Id: I9dbdb71e9b94bbcc75766a8687a996d5358f3381\n'}, {'number': 5, 'created': '2021-08-20 10:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9005bb3d433d2383389900132f95b967aaf51337', 'message': 'Fix duplicate SG creation for listener peer port\n\nIn cases where the listener protcol port is same as the peer port\nand allowed_cidr set to 0.0.0.0/0 explicitly, the listener is not\nprovisioned due to duplicate security group creation for peer port\nwith None as remote_ip_prefix. Neutron SG defaults remote_ip_prefix\nto 0.0.0.0/0 if not specified or None and hence the error SG rule\nalready exists.\n\nRemove the duplicate entry from the updated_ports.\n\nStory: #2009117\nChange-Id: I9dbdb71e9b94bbcc75766a8687a996d5358f3381\n'}, {'number': 6, 'created': '2021-08-24 06:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f268c4281bd202fb2eec8922679eabd6cb09c827', 'message': 'Fix duplicate SG creation for listener peer port\n\nIn cases where the listener protcol port is same as the peer port\nand allowed_cidr set to 0.0.0.0/0 explicitly, the listener is not\nprovisioned due to duplicate security group creation for peer port\nwith None as remote_ip_prefix. Neutron SG defaults remote_ip_prefix\nto 0.0.0.0/0 if not specified or None and hence the error SG rule\nalready exists.\n\nRemove the duplicate entry from the updated_ports.\n\nStory: #2009117\nChange-Id: I9dbdb71e9b94bbcc75766a8687a996d5358f3381\n'}, {'number': 7, 'created': '2021-09-12 02:31:03.000000000', 'files': ['octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'releasenotes/notes/fix-duplicate-sg-creation-0c502a5d2d8c276d.yaml', 'octavia/network/drivers/neutron/allowed_address_pairs.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/151a94321074b1eda53d1a582fdf26942db85afd', 'message': 'Fix duplicate SG creation for listener peer port\n\nIn cases where the listener protcol port is same as the peer port\nand allowed_cidr set to 0.0.0.0/0 explicitly, the listener is not\nprovisioned due to duplicate security group creation for peer port\nwith None as remote_ip_prefix. Neutron SG defaults remote_ip_prefix\nto 0.0.0.0/0 if not specified or None and hence the error SG rule\nalready exists.\n\nRemove the duplicate entry from the updated_ports.\n\nStory: #2009117\nChange-Id: I9dbdb71e9b94bbcc75766a8687a996d5358f3381\n'}]",14,804485,151a94321074b1eda53d1a582fdf26942db85afd,55,4,7,10366,,,0,"Fix duplicate SG creation for listener peer port

In cases where the listener protcol port is same as the peer port
and allowed_cidr set to 0.0.0.0/0 explicitly, the listener is not
provisioned due to duplicate security group creation for peer port
with None as remote_ip_prefix. Neutron SG defaults remote_ip_prefix
to 0.0.0.0/0 if not specified or None and hence the error SG rule
already exists.

Remove the duplicate entry from the updated_ports.

Story: #2009117
Change-Id: I9dbdb71e9b94bbcc75766a8687a996d5358f3381
",git fetch https://review.opendev.org/openstack/octavia refs/changes/85/804485/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/network/drivers/neutron/allowed_address_pairs.py'],1,f404aec964c80edeb0e5485f1b025cb695ec1fd3,story/2009117," # If updated_ports have constants.HAPROXY_BASE_PEER_PORT with # allowed_cidr as None and 0.0.0.0/0, remove one of them. tcp_lower = constants.PROTOCOL_TCP.lower() peer_port_cidr_all = ( constants.HAPROXY_BASE_PEER_PORT, tcp_lower, ""0.0.0.0/0"" ) peer_port_cidr_none = ( constants.HAPROXY_BASE_PEER_PORT, tcp_lower, None ) if (peer_port_cidr_all in updated_ports and peer_port_cidr_none in updated_ports): updated_ports.remove(peer_port_cidr_none) ",,17,0
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I9804a6b405c4df78ef17096adefeeaefb816e840,openstack/puppet-tripleo,stable/wallaby,I9804a6b405c4df78ef17096adefeeaefb816e840,Replace deprecated is_string/is_array/is_hash method,MERGED,2021-08-12 00:04:19.000000000,2021-09-14 21:27:40.000000000,2021-09-14 21:27:40.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-12 00:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f02d07d658aee32ab9c47d701e6eca4b25a8d661', 'message': 'Replace deprecated is_string/is_array/is_hash method\n\nCloses-Bug: #1939088\nChange-Id: I9804a6b405c4df78ef17096adefeeaefb816e840\n(cherry picked from commit 1d1ab8ecf8edcd5a29cd9409e6e0d1e0c60488da)\n'}, {'number': 2, 'created': '2021-08-27 04:19:04.000000000', 'files': ['manifests/profile/base/ironic_inspector.pp', 'manifests/profile/pacemaker/cinder/volume_bundle.pp', 'manifests/profile/pacemaker/manila/share_bundle.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp', 'manifests/profile/pacemaker/cinder/backup_bundle.pp', 'manifests/fencing.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/29605351d228032e44eb026dc830e758809fdf5a', 'message': 'Replace deprecated is_string/is_array/is_hash method\n\nCloses-Bug: #1939088\nChange-Id: I9804a6b405c4df78ef17096adefeeaefb816e840\n(cherry picked from commit 1d1ab8ecf8edcd5a29cd9409e6e0d1e0c60488da)\n'}]",0,804169,29605351d228032e44eb026dc830e758809fdf5a,17,4,2,9816,,,0,"Replace deprecated is_string/is_array/is_hash method

Closes-Bug: #1939088
Change-Id: I9804a6b405c4df78ef17096adefeeaefb816e840
(cherry picked from commit 1d1ab8ecf8edcd5a29cd9409e6e0d1e0c60488da)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/69/804169/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/ironic_inspector.pp', 'manifests/profile/pacemaker/cinder/volume_bundle.pp', 'manifests/profile/pacemaker/manila/share_bundle.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp', 'manifests/profile/pacemaker/cinder/backup_bundle.pp', 'manifests/fencing.pp']",6,f02d07d658aee32ab9c47d701e6eca4b25a8d661,bug/1939088-stable/wallaby," $all_levels = $content ? { Array => {'level1' => $content}, default => $content", if is_array($content) { $all_levels = {'level1' => $content} } else { $all_levels = $content,11,17
openstack%2Fmetalsmith~master~I90f7a3a50953345db8c288d7ef1a0769801341f7,openstack/metalsmith,master,I90f7a3a50953345db8c288d7ef1a0769801341f7,Add Python3 yoga unit tests,MERGED,2021-09-10 14:32:05.000000000,2021-09-14 20:54:53.000000000,2021-09-14 20:50:39.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-10 14:32:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/56cf1fe6f3a907fd84beadff23df1d07d0d4e9bd', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I90f7a3a50953345db8c288d7ef1a0769801341f7\n'}]",0,808253,56cf1fe6f3a907fd84beadff23df1d07d0d4e9bd,9,3,1,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I90f7a3a50953345db8c288d7ef1a0769801341f7
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/53/808253/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,56cf1fe6f3a907fd84beadff23df1d07d0d4e9bd,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Fhorizon~master~I4ab0e720a8ffe13a08f5e607a59e39f252338b90,openstack/horizon,master,I4ab0e720a8ffe13a08f5e607a59e39f252338b90,Support Django 3.0 and 3.1 support (1),MERGED,2021-02-24 14:58:47.000000000,2021-09-14 20:39:09.000000000,2021-09-14 20:37:37.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-24 14:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/cbd8ccfabcdb8fe12037c49be85158aab91470bc', 'message': 'Support Django 3.0 and 3.1 support (1)\n\n* Django 3.0 dropped django.utils.decorators.available_attrs()\n  in favor of functools.WRAPPER_ASSIGNMENTS.\n* Django 3.0 dropped django.utils.functional.curry()\n  in favor of functools.partial() or functools.partialmethod().\n\nhttps://docs.djangoproject.com/en/3.1/releases/3.0/#removed-private-python-2-compatibility-apis\n\nChange-Id: I4ab0e720a8ffe13a08f5e607a59e39f252338b90\n'}, {'number': 2, 'created': '2021-02-25 18:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9d60ca0625735be4deff2539f1ec893b5ec06066', 'message': 'Support Django 3.0 and 3.1 support (1)\n\n* Django 3.0 dropped django.utils.decorators.available_attrs()\n  in favor of functools.WRAPPER_ASSIGNMENTS.\n* Django 3.0 dropped django.utils.functional.curry()\n  in favor of functools.partial() or functools.partialmethod().\n\nhttps://docs.djangoproject.com/en/3.1/releases/3.0/#removed-private-python-2-compatibility-apis\n\nChange-Id: I4ab0e720a8ffe13a08f5e607a59e39f252338b90\n'}, {'number': 3, 'created': '2021-09-14 12:54:01.000000000', 'files': ['horizon/decorators.py', 'openstack_dashboard/api/rest/utils.py', 'openstack_auth/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6dfcb901314476df95028bdc7aa536809fb1d127', 'message': 'Support Django 3.0 and 3.1 support (1)\n\n* Django 3.0 dropped django.utils.decorators.available_attrs()\n  in favor of functools.WRAPPER_ASSIGNMENTS.\n* Django 3.0 dropped django.utils.functional.curry()\n  in favor of functools.partial() or functools.partialmethod().\n\nhttps://docs.djangoproject.com/en/3.1/releases/3.0/#removed-private-python-2-compatibility-apis\n\nChange-Id: I4ab0e720a8ffe13a08f5e607a59e39f252338b90\n'}]",1,777392,6dfcb901314476df95028bdc7aa536809fb1d127,19,3,3,841,,,0,"Support Django 3.0 and 3.1 support (1)

* Django 3.0 dropped django.utils.decorators.available_attrs()
  in favor of functools.WRAPPER_ASSIGNMENTS.
* Django 3.0 dropped django.utils.functional.curry()
  in favor of functools.partial() or functools.partialmethod().

https://docs.djangoproject.com/en/3.1/releases/3.0/#removed-private-python-2-compatibility-apis

Change-Id: I4ab0e720a8ffe13a08f5e607a59e39f252338b90
",git fetch https://review.opendev.org/openstack/horizon refs/changes/92/777392/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/decorators.py', 'openstack_dashboard/api/rest/utils.py', 'openstack_auth/views.py']",3,cbd8ccfabcdb8fe12037c49be85158aab91470bc,django3-support,"import functools form = functools.partial(forms.Login) else: form = functools.partial(forms.Login, initial=initial)","from django.utils import functional form = functional.curry(forms.Login) else: form = functional.curry(forms.Login, initial=initial)",8,10
openstack%2Fironic~master~Ibfa8ac4878cacd98a43dd4424f6d53021ad91166,openstack/ironic,master,Ibfa8ac4878cacd98a43dd4424f6d53021ad91166,Record node history and manage events in db,MERGED,2021-08-02 23:08:26.000000000,2021-09-14 20:06:37.000000000,2021-09-14 20:04:53.000000000,"[{'_account_id': 4571}, {'_account_id': 5805}, {'_account_id': 11292}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-02 23:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/289623fc85348b3b92f6cceffdcbb54540edfcf4', 'message': 'WIP: Record Errors in history\n\nChange-Id: Ibfa8ac4878cacd98a43dd4424f6d53021ad91166\n'}, {'number': 2, 'created': '2021-08-03 15:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/48ed6fe599d21cd4d87a57a30ad338f6a1fc87b8', 'message': 'WIP: Record Errors in history\n\nChange-Id: Ibfa8ac4878cacd98a43dd4424f6d53021ad91166\n'}, {'number': 3, 'created': '2021-08-04 01:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7eef08d1cfc25d9e89dbe510b6d722bc6e0d0f11', 'message': 'WIP: Record Errors in history\n\n* Adds periodic task to purge node_history entries\n* Adds recording of node history entries for errors in the\n  core conductor code.\n* Also changes the rescue abort behavior to remove the notice\n  from being recorded as an error, as this is a likely bug in\n  behavior for any process or service evaluating the node\n  last_error field.\n\nChange-Id: Ibfa8ac4878cacd98a43dd4424f6d53021ad91166\n'}, {'number': 4, 'created': '2021-08-06 15:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1ac2b7e980c0170c18080e64ec33bb1694660a20', 'message': 'WIP: Record Errors in history\n\n* Adds periodic task to purge node_history entries\n* Adds recording of node history entries for errors in the\n  core conductor code.\n* Also changes the rescue abort behavior to remove the notice\n  from being recorded as an error, as this is a likely bug in\n  behavior for any process or service evaluating the node\n  last_error field.\n\nChange-Id: Ibfa8ac4878cacd98a43dd4424f6d53021ad91166\n'}, {'number': 5, 'created': '2021-08-07 18:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4042e5737f551b9cd702e14d4f09a678965ff89a', 'message': 'Record node history and manage events in db\n\n* Adds periodic task to purge node_history entries based upon\n  provided configuration.\n* Adds recording of node history entries for errors in the\n  core conductor code.\n* Also changes the rescue abort behavior to remove the notice\n  from being recorded as an error, as this is a likely bug in\n  behavior for any process or service evaluating the node\n  last_error field.\n\nStory: 2002980\nTask: 42960\n\nChange-Id: Ibfa8ac4878cacd98a43dd4424f6d53021ad91166\n'}, {'number': 6, 'created': '2021-08-07 22:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/36e4b6a6120605bc7e9566dcc22cb5ff224fc5f6', 'message': 'Record node history and manage events in db\n\n* Adds periodic task to purge node_history entries based upon\n  provided configuration.\n* Adds recording of node history entries for errors in the\n  core conductor code.\n* Also changes the rescue abort behavior to remove the notice\n  from being recorded as an error, as this is a likely bug in\n  behavior for any process or service evaluating the node\n  last_error field.\n\nStory: 2002980\nTask: 42960\n\nChange-Id: Ibfa8ac4878cacd98a43dd4424f6d53021ad91166\n'}, {'number': 7, 'created': '2021-08-10 13:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b5b90667fa6dbc465831b9a1a07457cc48eb4f3a', 'message': 'Record node history and manage events in db\n\n* Adds periodic task to purge node_history entries based upon\n  provided configuration.\n* Adds recording of node history entries for errors in the\n  core conductor code.\n* Also changes the rescue abort behavior to remove the notice\n  from being recorded as an error, as this is a likely bug in\n  behavior for any process or service evaluating the node\n  last_error field.\n\nStory: 2002980\nTask: 42960\n\nChange-Id: Ibfa8ac4878cacd98a43dd4424f6d53021ad91166\n'}, {'number': 8, 'created': '2021-08-10 23:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/93bd24c133bed0ff07353f4a331ffa2fa00717fd', 'message': 'Record node history and manage events in db\n\n* Adds periodic task to purge node_history entries based upon\n  provided configuration.\n* Adds recording of node history entries for errors in the\n  core conductor code.\n* Also changes the rescue abort behavior to remove the notice\n  from being recorded as an error, as this is a likely bug in\n  behavior for any process or service evaluating the node\n  last_error field.\n\nStory: 2002980\nTask: 42960\n\nChange-Id: Ibfa8ac4878cacd98a43dd4424f6d53021ad91166\n'}, {'number': 9, 'created': '2021-08-11 15:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a62bc946f395b985605d6527dc9912a5df877cbe', 'message': 'Record node history and manage events in db\n\n* Adds periodic task to purge node_history entries based upon\n  provided configuration.\n* Adds recording of node history entries for errors in the\n  core conductor code.\n* Also changes the rescue abort behavior to remove the notice\n  from being recorded as an error, as this is a likely bug in\n  behavior for any process or service evaluating the node\n  last_error field.\n\nStory: 2002980\nTask: 42960\n\nChange-Id: Ibfa8ac4878cacd98a43dd4424f6d53021ad91166\n'}, {'number': 10, 'created': '2021-08-12 17:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5fd3e221b7a5c155c3f2b0f6896ac413b3cf6c43', 'message': 'Record node history and manage events in db\n\n* Adds periodic task to purge node_history entries based upon\n  provided configuration.\n* Adds recording of node history entries for errors in the\n  core conductor code.\n* Also changes the rescue abort behavior to remove the notice\n  from being recorded as an error, as this is a likely bug in\n  behavior for any process or service evaluating the node\n  last_error field.\n\nStory: 2002980\nTask: 42960\n\nChange-Id: Ibfa8ac4878cacd98a43dd4424f6d53021ad91166\n'}, {'number': 11, 'created': '2021-09-03 21:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b4a64c1e9f16fe42076ef59df4603b9671921703', 'message': 'Record node history and manage events in db\n\n* Adds periodic task to purge node_history entries based upon\n  provided configuration.\n* Adds recording of node history entries for errors in the\n  core conductor code.\n* Also changes the rescue abort behavior to remove the notice\n  from being recorded as an error, as this is a likely bug in\n  behavior for any process or service evaluating the node\n  last_error field.\n\nStory: 2002980\nTask: 42960\n\nChange-Id: Ibfa8ac4878cacd98a43dd4424f6d53021ad91166\n'}, {'number': 12, 'created': '2021-09-09 17:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/77fd88f485d2e7c19b5c0253d616e4eaa875818b', 'message': 'Record node history and manage events in db\n\n* Adds periodic task to purge node_history entries based upon\n  provided configuration.\n* Adds recording of node history entries for errors in the\n  core conductor code.\n* Also changes the rescue abort behavior to remove the notice\n  from being recorded as an error, as this is a likely bug in\n  behavior for any process or service evaluating the node\n  last_error field.\n* Makes use of a semi-free form event_type field to help\n  provide some additional context into what is going on and\n  why. For example if deployments are repeatedly failing,\n  then perhaps it is a configuration issue, as opposed to\n  a general failure. If a conductor has no resources, then\n  the failure, in theory would point back to the conductor\n  itself.\n\nStory: 2002980\nTask: 42960\n\nChange-Id: Ibfa8ac4878cacd98a43dd4424f6d53021ad91166\n'}, {'number': 13, 'created': '2021-09-10 21:48:44.000000000', 'files': ['ironic/tests/unit/conductor/test_verify.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/verify.py', 'ironic/conf/conductor.py', 'ironic/tests/unit/conductor/test_base_manager.py', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/db/sqlalchemy/api.py', 'ironic/conductor/utils.py', 'ironic/conductor/base_manager.py', 'ironic/common/states.py', 'ironic/db/api.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d17749249cbe8507c39eb213e5e97aa1fb543a55', 'message': 'Record node history and manage events in db\n\n* Adds periodic task to purge node_history entries based upon\n  provided configuration.\n* Adds recording of node history entries for errors in the\n  core conductor code.\n* Also changes the rescue abort behavior to remove the notice\n  from being recorded as an error, as this is a likely bug in\n  behavior for any process or service evaluating the node\n  last_error field.\n* Makes use of a semi-free form event_type field to help\n  provide some additional context into what is going on and\n  why. For example if deployments are repeatedly failing,\n  then perhaps it is a configuration issue, as opposed to\n  a general failure. If a conductor has no resources, then\n  the failure, in theory would point back to the conductor\n  itself.\n\nStory: 2002980\nTask: 42960\n\nChange-Id: Ibfa8ac4878cacd98a43dd4424f6d53021ad91166\n'}]",21,803292,d17749249cbe8507c39eb213e5e97aa1fb543a55,78,5,13,11655,,,0,"Record node history and manage events in db

* Adds periodic task to purge node_history entries based upon
  provided configuration.
* Adds recording of node history entries for errors in the
  core conductor code.
* Also changes the rescue abort behavior to remove the notice
  from being recorded as an error, as this is a likely bug in
  behavior for any process or service evaluating the node
  last_error field.
* Makes use of a semi-free form event_type field to help
  provide some additional context into what is going on and
  why. For example if deployments are repeatedly failing,
  then perhaps it is a configuration issue, as opposed to
  a general failure. If a conductor has no resources, then
  the failure, in theory would point back to the conductor
  itself.

Story: 2002980
Task: 42960

Change-Id: Ibfa8ac4878cacd98a43dd4424f6d53021ad91166
",git fetch https://review.opendev.org/openstack/ironic refs/changes/92/803292/7 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/conductor.py', 'ironic/conductor/manager.py', 'ironic/conductor/utils.py', 'ironic/conductor/base_manager.py']",4,289623fc85348b3b92f6cceffdcbb54540edfcf4,node-history-db," utils.node_history_record(task.node, event=last_error, error=True) utils.node_history_record(task.node, event=msg, error=True)", task.node.last_error = last_error task.node.last_error = msg,109,35
openstack%2Ftempest~master~I5d5356200f531a06b2814205d65f20dc528cf046,openstack/tempest,master,I5d5356200f531a06b2814205d65f20dc528cf046,Fix test_fix_argument_yes,MERGED,2021-09-14 07:25:33.000000000,2021-09-14 19:05:15.000000000,2021-09-14 19:01:10.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30742}]","[{'number': 1, 'created': '2021-09-14 07:25:33.000000000', 'files': ['tempest/tests/lib/cmd/test_check_uuid.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ea3e38c2af7cc5f646e501bf16937437cc2ce320', 'message': 'Fix test_fix_argument_yes\n\nThe test was randomly failing which was most likely caused by\na race condition - the temporary module is not created at the\nmoment when the test tries to load it.\nThis commit moves the temp module creation into a setUp method.\n\nCloses-Bug: #1918316\nChange-Id: I5d5356200f531a06b2814205d65f20dc528cf046\n'}]",0,808875,ea3e38c2af7cc5f646e501bf16937437cc2ce320,7,3,1,22873,,,0,"Fix test_fix_argument_yes

The test was randomly failing which was most likely caused by
a race condition - the temporary module is not created at the
moment when the test tries to load it.
This commit moves the temp module creation into a setUp method.

Closes-Bug: #1918316
Change-Id: I5d5356200f531a06b2814205d65f20dc528cf046
",git fetch https://review.opendev.org/openstack/tempest refs/changes/75/808875/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/lib/cmd/test_check_uuid.py'],1,ea3e38c2af7cc5f646e501bf16937437cc2ce320,," def setUp(self): super(TestCLInterface, self).setUp() self.directory = tempfile.mkdtemp(prefix='check-uuid', dir=""."") self.addCleanup(shutil.rmtree, self.directory, ignore_errors=True) init_file = open(self.directory + ""/__init__.py"", ""w"") self.tests_file = self.directory + ""/tests.py"" with open(self.tests_file, ""w"") as fake_file: def test_fix_argument_no(self): os.path.relpath(self.directory)] with open(self.tests_file, ""r"") as f: os.path.relpath(self.directory)] with open(self.tests_file, ""r"") as f:"," def create_tests_file(self, directory): init_file = open(directory + ""/__init__.py"", ""w"") tests_file = directory + ""/tests.py"" with open(tests_file, ""w"") as fake_file: return tests_file def test_fix_argument_no(self): temp_dir = tempfile.mkdtemp(prefix='check-uuid-no', dir=""."") self.addCleanup(shutil.rmtree, temp_dir, ignore_errors=True) tests_file = self.create_tests_file(temp_dir) os.path.relpath(temp_dir)] with open(tests_file, ""r"") as f: temp_dir = tempfile.mkdtemp(prefix='check-uuid-yes', dir=""."") self.addCleanup(shutil.rmtree, temp_dir, ignore_errors=True) tests_file = self.create_tests_file(temp_dir) os.path.relpath(temp_dir)] with open(tests_file, ""r"") as f:",12,16
openstack%2Fglance~master~I187f626816ef1bc7303251165d2282bf6985cfd1,openstack/glance,master,I187f626816ef1bc7303251165d2282bf6985cfd1,Fix failed cinder store migration for non-owners,MERGED,2021-06-17 15:59:24.000000000,2021-09-14 19:04:53.000000000,2021-09-14 19:01:23.000000000,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-06-17 15:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0668bed27d0cfb1fb14edc98352309ea83cc51ba', 'message': 'Fix failed cinder store migration for non-owners\n\nThis fixes the bug related to cinder store migration being unable to\ncomplete if a non-owner, non-admin user GETs the image before one of\nthe authorized users has triggered the lazy migration.\n\nChange-Id: I187f626816ef1bc7303251165d2282bf6985cfd1\nCloses-Bug: #1932337\n'}, {'number': 2, 'created': '2021-06-17 16:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7f07f28b7876c88be70804eeaeea9884cbce7d85', 'message': 'Fix failed cinder store migration for non-owners\n\nThis fixes the bug related to cinder store migration being unable to\ncomplete if a non-owner, non-admin user GETs the image before one of\nthe authorized users has triggered the lazy migration.\n\nChange-Id: I187f626816ef1bc7303251165d2282bf6985cfd1\nCloses-Bug: #1932337\n'}, {'number': 3, 'created': '2021-06-29 14:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ee4ba3dbe2d83abf4c41ca66bb99a60b7566697a', 'message': 'Fix failed cinder store migration for non-owners\n\nThis fixes the bug related to cinder store migration being unable to\ncomplete if a non-owner, non-admin user GETs the image before one of\nthe authorized users has triggered the lazy migration.\n\nChange-Id: I187f626816ef1bc7303251165d2282bf6985cfd1\nCloses-Bug: #1932337\n'}, {'number': 4, 'created': '2021-09-08 20:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/160bb785632de82a02b6b75803fba967d69fb2c4', 'message': 'Fix failed cinder store migration for non-owners\n\nThis fixes the bug related to cinder store migration being unable to\ncomplete if a non-owner, non-admin user GETs the image before one of\nthe authorized users has triggered the lazy migration.\n\nChange-Id: I187f626816ef1bc7303251165d2282bf6985cfd1\nCloses-Bug: #1932337\n'}, {'number': 5, 'created': '2021-09-08 21:21:10.000000000', 'files': ['glance/location.py', 'glance/tests/functional/v2/test_legacy_update_cinder_store.py', 'releasenotes/notes/cinder-store-migration-non-owner-80a2a8114d8602aa.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/ee1849714e4164a5b8897318aeb103eaa0de0258', 'message': 'Fix failed cinder store migration for non-owners\n\nThis fixes the bug related to cinder store migration being unable to\ncomplete if a non-owner, non-admin user GETs the image before one of\nthe authorized users has triggered the lazy migration.\n\nChange-Id: I187f626816ef1bc7303251165d2282bf6985cfd1\nCloses-Bug: #1932337\n'}]",4,796887,ee1849714e4164a5b8897318aeb103eaa0de0258,24,6,5,4393,,,0,"Fix failed cinder store migration for non-owners

This fixes the bug related to cinder store migration being unable to
complete if a non-owner, non-admin user GETs the image before one of
the authorized users has triggered the lazy migration.

Change-Id: I187f626816ef1bc7303251165d2282bf6985cfd1
Closes-Bug: #1932337
",git fetch https://review.opendev.org/openstack/glance refs/changes/87/796887/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/authorization.py', 'glance/tests/functional/v2/test_legacy_update_cinder_store.py']",2,0668bed27d0cfb1fb14edc98352309ea83cc51ba,bug/1932337,," # FIXME(danms): This is broken behavior: the first user to GET # an image after upgrade may not be an admin or the owner. As # such, we should not return 404 to that user for a valid image. self.assertEqual(404, resp.status_code) return # FIXME(danms): Continue the test below when bug 1932337 is # fixed.",9,11
openstack%2Fopenstacksdk~feature%2Fr1~I0f0fafbb9e9ebb196503f251a3a63682252531e4,openstack/openstacksdk,feature/r1,I0f0fafbb9e9ebb196503f251a3a63682252531e4,Splits class `TestMessageProxy`,MERGED,2021-09-14 07:40:37.000000000,2021-09-14 19:04:46.000000000,2021-09-14 19:01:06.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-09-14 07:40:37.000000000', 'files': ['openstack/tests/unit/message/v2/test_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/56068af2a866e6e6f84862b3997490265732027e', 'message': 'Splits class `TestMessageProxy`\n\nFour new classes `TestMessageQueue`, `TestMessageMessage`, `TestMessageSubscription`, and `TestMessageClaim` are created. They contain all the tests previously embedded in `TestMessageProxy`.\n\nIn `TestMessageProxy`, only the `setUp` method remains\n\nChange-Id: I0f0fafbb9e9ebb196503f251a3a63682252531e4\n'}]",0,808876,56068af2a866e6e6f84862b3997490265732027e,7,2,1,33945,,,0,"Splits class `TestMessageProxy`

Four new classes `TestMessageQueue`, `TestMessageMessage`, `TestMessageSubscription`, and `TestMessageClaim` are created. They contain all the tests previously embedded in `TestMessageProxy`.

In `TestMessageProxy`, only the `setUp` method remains

Change-Id: I0f0fafbb9e9ebb196503f251a3a63682252531e4
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/76/808876/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/unit/message/v2/test_proxy.py'],1,56068af2a866e6e6f84862b3997490265732027e,, class TestMessageQueue(TestMessageProxy): class TestMessageMessage(TestMessageProxy): class TestMessageSubscription(TestMessageProxy): class TestMessageClaim(TestMessageProxy):,,8,0
openstack%2Fglance~master~I741e6377b3aa40c14d637f0fbdf396dc468f6ebd,openstack/glance,master,I741e6377b3aa40c14d637f0fbdf396dc468f6ebd,Reproduce bug #1932337,MERGED,2021-06-17 15:52:50.000000000,2021-09-14 19:03:18.000000000,2021-09-14 19:01:15.000000000,"[{'_account_id': 5202}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-06-17 15:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/73d4a9489965f9a39628a8550da6f7302dd21a0c', 'message': 'Reproduce bug #1932337\n\nThis reproduces the behavior described in bug 1932337, where a post-\nupgrade GET by a non-owning user will return 404 for a valid image\nbecause the cinder store migration cannot complete.\n\nThis asserts the broken behavior to reproduce the problem, and the\nrest of the test will be enabled when the bug is fixed.\n\nChange-Id: I741e6377b3aa40c14d637f0fbdf396dc468f6ebd\n'}, {'number': 2, 'created': '2021-06-17 15:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/745114db144178d71d9de93b6910f3df42184562', 'message': 'Reproduce bug #1932337\n\nThis reproduces the behavior described in bug 1932337, where a post-\nupgrade GET by a non-owning user will return 404 for a valid image\nbecause the cinder store migration cannot complete.\n\nThis asserts the broken behavior to reproduce the problem, and the\nrest of the test will be enabled when the bug is fixed.\n\nChange-Id: I741e6377b3aa40c14d637f0fbdf396dc468f6ebd\n'}, {'number': 3, 'created': '2021-06-17 16:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/774100f403da6b4a2bd1211f44b71d62b7bac38f', 'message': 'Reproduce bug #1932337\n\nThis reproduces the behavior described in bug 1932337, where a post-\nupgrade GET by a non-owning user will return 404 for a valid image\nbecause the cinder store migration cannot complete.\n\nThis asserts the broken behavior to reproduce the problem, and the\nrest of the test will be enabled when the bug is fixed.\n\nNote that the test for this was duplicating code from the base class,\nand since some changes were needed to those methods, this removes the\nduplication and modifies only the base.\n\nChange-Id: I741e6377b3aa40c14d637f0fbdf396dc468f6ebd\n'}, {'number': 4, 'created': '2021-06-29 14:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ce7a3a0ddc2ebff5c51303525dbdcdd40d193b6c', 'message': 'Reproduce bug #1932337\n\nThis reproduces the behavior described in bug 1932337, where a post-\nupgrade GET by a non-owning user will return 404 for a valid image\nbecause the cinder store migration cannot complete.\n\nThis asserts the broken behavior to reproduce the problem, and the\nrest of the test will be enabled when the bug is fixed.\n\nNote that the test for this was duplicating code from the base class,\nand since some changes were needed to those methods, this removes the\nduplication and modifies only the base.\n\nChange-Id: I741e6377b3aa40c14d637f0fbdf396dc468f6ebd\n'}, {'number': 5, 'created': '2021-09-08 20:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9a746a4b075c3d3a28b6a93898ad4f8cb33a20ab', 'message': 'Reproduce bug #1932337\n\nThis reproduces the behavior described in bug 1932337, where a post-\nupgrade GET by a non-owning user will return 404 for a valid image\nbecause the cinder store migration cannot complete.\n\nThis asserts the broken behavior to reproduce the problem, and the\nrest of the test will be enabled when the bug is fixed.\n\nNote that the test for this was duplicating code from the base class,\nand since some changes were needed to those methods, this removes the\nduplication and modifies only the base.\n\nChange-Id: I741e6377b3aa40c14d637f0fbdf396dc468f6ebd\n'}, {'number': 6, 'created': '2021-09-08 21:21:10.000000000', 'files': ['glance/tests/functional/v2/test_legacy_update_cinder_store.py', 'glance/tests/functional/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/b55dbb28c644f84165d57b9346cbe8b34a0c731d', 'message': 'Reproduce bug #1932337\n\nThis reproduces the behavior described in bug 1932337, where a post-\nupgrade GET by a non-owning user will return an error for a valid image\nbecause the cinder store migration cannot complete.\n\nThis asserts the broken behavior to reproduce the problem, and the\nrest of the test will be enabled when the bug is fixed.\n\nNote that the test for this was duplicating code from the base class,\nand since some changes were needed to those methods, this removes the\nduplication and modifies only the base.\n\nChange-Id: I741e6377b3aa40c14d637f0fbdf396dc468f6ebd\n'}]",5,796885,b55dbb28c644f84165d57b9346cbe8b34a0c731d,23,5,6,4393,,,0,"Reproduce bug #1932337

This reproduces the behavior described in bug 1932337, where a post-
upgrade GET by a non-owning user will return an error for a valid image
because the cinder store migration cannot complete.

This asserts the broken behavior to reproduce the problem, and the
rest of the test will be enabled when the bug is fixed.

Note that the test for this was duplicating code from the base class,
and since some changes were needed to those methods, this removes the
duplication and modifies only the base.

Change-Id: I741e6377b3aa40c14d637f0fbdf396dc468f6ebd
",git fetch https://review.opendev.org/openstack/glance refs/changes/85/796885/6 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_legacy_update_cinder_store.py', 'glance/tests/functional/__init__.py']",2,73d4a9489965f9a39628a8550da6f7302dd21a0c,bug/1932337," def _create_and_stage(self, data_iter=None, extra={}): body = {'name': 'foo', 'container_format': 'bare', 'disk_format': 'raw'} body.update(extra) json=body) def _create_and_import(self, stores=[], data_iter=None, extra={}): image_id = self._create_and_stage(data_iter=data_iter, extra=extra)"," def _create_and_stage(self, data_iter=None): json={'name': 'foo', 'container_format': 'bare', 'disk_format': 'raw'}) def _create_and_import(self, stores=[], data_iter=None): image_id = self._create_and_stage(data_iter=data_iter)",66,50
openstack%2Fopenstacksdk~feature%2Fr1~I188d7ce612148341aa20a4e20bf276ac1a5b967a,openstack/openstacksdk,feature/r1,I188d7ce612148341aa20a4e20bf276ac1a5b967a,Splits class `TestKeyManagerProxy`,MERGED,2021-09-13 12:54:36.000000000,2021-09-14 19:03:16.000000000,2021-09-14 19:01:04.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-09-13 12:54:36.000000000', 'files': ['openstack/tests/unit/key_manager/v1/test_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/45995c88f7765fce6bae4ae58104fdf99908f6a4', 'message': 'Splits class `TestKeyManagerProxy`\n\nThree new classes `TestKeyManagerContainer`, `TestKeyManagerOrder`, and `TestKeyManagerSecret` are created. They contain all the tests previously embedded in `TestKeyManagerProxy`.\n\nIn `TestKeyManagerProxy`, only the `setUp` method remains\n\nChange-Id: I188d7ce612148341aa20a4e20bf276ac1a5b967a\n'}]",0,808761,45995c88f7765fce6bae4ae58104fdf99908f6a4,11,2,1,33945,,,0,"Splits class `TestKeyManagerProxy`

Three new classes `TestKeyManagerContainer`, `TestKeyManagerOrder`, and `TestKeyManagerSecret` are created. They contain all the tests previously embedded in `TestKeyManagerProxy`.

In `TestKeyManagerProxy`, only the `setUp` method remains

Change-Id: I188d7ce612148341aa20a4e20bf276ac1a5b967a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/61/808761/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/unit/key_manager/v1/test_proxy.py'],1,45995c88f7765fce6bae4ae58104fdf99908f6a4,, class TestKeyManagerContainer(TestKeyManagerProxy): class TestKeyManagerOrder(TestKeyManagerProxy): class TestKeyManagerSecret(TestKeyManagerProxy):,,6,0
openstack%2Ftempest~master~I7db94247c55f9ac39e3e30a4195cdcda6ed657d7,openstack/tempest,master,I7db94247c55f9ac39e3e30a4195cdcda6ed657d7,[OVN] Remove OVN metadata ports from network port list,MERGED,2021-09-09 14:00:50.000000000,2021-09-14 19:03:13.000000000,2021-09-14 19:00:59.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-09-09 14:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9fe452bf544f10987ecd946b7dde506ed9e8cb97', 'message': '[OVN] Remove OVN metadata ports from network port list\n\nIn ""_check_network_internal_connectivity"", all ""network:"" and\n""compute:"" ports belonging to a network are retrieved. OVN\nmetadata ports ""network:distributed"" should be filtered out because\nare not a DHCP nor L3 ports.\n\nThis port type was introduced in Neutron in [1][2].\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/732141\n[2]https://review.opendev.org/c/openstack/neutron/+/732364\n\nPartial-Bug: #1942913\nChange-Id: I7db94247c55f9ac39e3e30a4195cdcda6ed657d7\n'}, {'number': 2, 'created': '2021-09-09 16:51:57.000000000', 'files': ['tempest/scenario/test_network_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/17655434ee475cdda4a7408cfe68f63c065fd41d', 'message': '[OVN] Remove OVN metadata ports from network port list\n\nIn ""_check_network_internal_connectivity"", all ""network:"" and\n""compute:"" ports belonging to a network are retrieved. OVN\nmetadata ports ""network:distributed"" should be filtered out because\nare not a DHCP nor L3 ports.\n\nThis port type was introduced in Neutron in [1][2].\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/732141\n[2]https://review.opendev.org/c/openstack/neutron/+/732364\n\nPartial-Bug: #1942913\nChange-Id: I7db94247c55f9ac39e3e30a4195cdcda6ed657d7\n'}]",1,808081,17655434ee475cdda4a7408cfe68f63c065fd41d,13,5,2,16688,,,0,"[OVN] Remove OVN metadata ports from network port list

In ""_check_network_internal_connectivity"", all ""network:"" and
""compute:"" ports belonging to a network are retrieved. OVN
metadata ports ""network:distributed"" should be filtered out because
are not a DHCP nor L3 ports.

This port type was introduced in Neutron in [1][2].

[1]https://review.opendev.org/c/openstack/neutron-lib/+/732141
[2]https://review.opendev.org/c/openstack/neutron/+/732364

Partial-Bug: #1942913
Change-Id: I7db94247c55f9ac39e3e30a4195cdcda6ed657d7
",git fetch https://review.opendev.org/openstack/tempest refs/changes/81/808081/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_network_basic_ops.py'],1,9fe452bf544f10987ecd946b7dde506ed9e8cb97,bug/1942913," # NOTE(ralonsoh): device_owner=""network:distributed"" ports are OVN # metadata ports and should be filtered out. if (p['device_owner'].startswith('network') and not p['device_owner'] == 'network:distributed') or p['device_owner'].startswith('compute')", if p['device_owner'].startswith('network') or p['device_owner'].startswith('compute'),5,2
openstack%2Fironic~master~I02b63547566c94ffa1a5d0e84bd1b1f10d28bfc3,openstack/ironic,master,I02b63547566c94ffa1a5d0e84bd1b1f10d28bfc3,Fix iDRAC import configuration job with errors,MERGED,2021-08-20 16:00:26.000000000,2021-09-14 19:02:35.000000000,2021-09-14 17:12:20.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2021-08-20 16:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0c5dfa25a6ef16af7f892ef37dd48c7b7f80abcf', 'message': 'Fix iDRAC import configuration job with errors\n\nIn iDRAC import configuration task can be completed with OK health\nbut having some errors, for example, when one disk failed to be\ncreated and another succeeded.\n\nChange-Id: I02b63547566c94ffa1a5d0e84bd1b1f10d28bfc3\n'}, {'number': 2, 'created': '2021-08-25 09:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/29e3935f43e6fc14bb0085af0bb21f167a32d955', 'message': 'Fix iDRAC import configuration job with errors\n\nIn iDRAC import configuration task can be completed with OK health\nbut having some errors, for example, when one disk failed to be\ncreated and another succeeded.\n\nChange-Id: I02b63547566c94ffa1a5d0e84bd1b1f10d28bfc3\n'}, {'number': 3, 'created': '2021-08-30 12:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/72ac8cdeffb4098a01219cb101f5425a6b28acbf', 'message': 'Fix iDRAC import configuration job with errors\n\nIn iDRAC import configuration task can be completed with OK health\nbut having some errors, for example, when one disk failed to be\ncreated and another succeeded.\n\nChange-Id: I02b63547566c94ffa1a5d0e84bd1b1f10d28bfc3\n'}, {'number': 4, 'created': '2021-09-01 07:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d8b29208a019f17939e5e09a5c1289fa39493f50', 'message': 'Fix iDRAC import configuration job with errors\n\nIn iDRAC import configuration task can be completed with OK health\nbut having some errors, for example, when one disk failed to be\ncreated and another succeeded.\nAlso changed to exclude informational messages for error reporting.\n\nChange-Id: I02b63547566c94ffa1a5d0e84bd1b1f10d28bfc3\n'}, {'number': 5, 'created': '2021-09-09 09:13:23.000000000', 'files': ['ironic/drivers/modules/drac/management.py', 'releasenotes/notes/idrac-import-conf-partial-success-86b8bd1983d227f6.yaml', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/391543946b6c3cb21ae1c08a21b6f730926c9b9d', 'message': 'Fix iDRAC import configuration job with errors\n\nIn iDRAC import configuration task can be completed with OK health\nbut having some errors, for example, when one disk failed to be\ncreated and another succeeded.\nAlso changed to exclude informational messages for error reporting.\n\nStory: 2009198\nTask: 43253\n\nChange-Id: I02b63547566c94ffa1a5d0e84bd1b1f10d28bfc3\n'}]",14,805431,391543946b6c3cb21ae1c08a21b6f730926c9b9d,58,5,5,27909,,,0,"Fix iDRAC import configuration job with errors

In iDRAC import configuration task can be completed with OK health
but having some errors, for example, when one disk failed to be
created and another succeeded.
Also changed to exclude informational messages for error reporting.

Story: 2009198
Task: 43253

Change-Id: I02b63547566c94ffa1a5d0e84bd1b1f10d28bfc3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/31/805431/5 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py']",4,0c5dfa25a6ef16af7f892ef37dd48c7b7f80abcf,conf_molds," VOLUME_TYPE_RAW_DEVICE='rawdevice', SEVERITY_OK='OK', SEVERITY_WARNING='Warning', SEVERITY_CRITICAL='Critical'", VOLUME_TYPE_RAW_DEVICE='rawdevice',60,2
openstack%2Ftripleo-specs~master~I2f97e169ade04bf615293c919f718317d971fdbf,openstack/tripleo-specs,master,I2f97e169ade04bf615293c919f718317d971fdbf,Update/Upgrade ansible step outside of Mistral.,ABANDONED,2019-01-11 09:55:51.000000000,2021-09-14 18:55:49.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-11 09:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/4bfe22245844d6ffdb3b90539f28936e8e8c5138', 'message': 'Update/Upgrade ansible step outside of Mistral.\n\nChange-Id: I2f97e169ade04bf615293c919f718317d971fdbf\n'}, {'number': 2, 'created': '2019-01-11 10:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/1f0ea84d3d6b0c42d8d6adb9410757364fe6ba18', 'message': 'Update/Upgrade ansible step outside of Mistral.\n\nChange-Id: I2f97e169ade04bf615293c919f718317d971fdbf\n'}, {'number': 3, 'created': '2019-03-21 08:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/b3e58596bbda4e7750a1d38d48c1fd089d994e90', 'message': 'Update/Upgrade ansible step outside of Mistral.\n\nChange-Id: I2f97e169ade04bf615293c919f718317d971fdbf\n'}, {'number': 4, 'created': '2020-07-10 21:05:37.000000000', 'files': ['specs/stein/upgrade-ansible-without-mistral.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/a980bd98f3a5739e4f59dfd489d46980fabb3f74', 'message': 'Update/Upgrade ansible step outside of Mistral.\n\nChange-Id: I2f97e169ade04bf615293c919f718317d971fdbf\n'}]",19,630107,a980bd98f3a5739e4f59dfd489d46980fabb3f74,21,7,4,16515,,,0,"Update/Upgrade ansible step outside of Mistral.

Change-Id: I2f97e169ade04bf615293c919f718317d971fdbf
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/07/630107/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/upgrade-ansible-without-mistral.rst'],1,4bfe22245844d6ffdb3b90539f28936e8e8c5138,upgrade/ansible,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================= Provision nodes without Nova and Glance ======================================= BP: TBD Currently TripleO Upgrade and Update is running Ansible through Mistral. This specs proposes to run the Ansible Update and Upgrade outside of Mistral workflow. Problem Description =================== The Update/Upgrade in TripleO is divided in several steps. The first step, named ""prepare step"", is a Noop Heat Stack Update that aimed to refresh and update the Stack with the new fresh information and value from the updated TripleO heat templates files. The second is the core of the Update. It run Ansible on the Overcloud nodes with a CLI command. The Third step is a converge, that aimed to make sure that every Heat resources is in a good state and functional. The second step run Ansible via Mistral workflow. It has been implemented with Mistral in order to ""stick"" to the common design and decision made arround Mistral and for being API driven in order to be called by the UI and eventually other tools. This implementation is viable in simple use cases, but it has some limitations. #. The biggest limitation is the user experiences, which can be really degraded is some cases where the user update a huge number of nodes simultaneously. If a failure happen during the Ansible run, the user gets a big output of the Mistral execution with a lot of information, mostly unusable for debug and investigation. A lot of user start to think that something went wrong with Zaqar or Mistral instead of looking at the Ansible result first and find the real issue quickly. #. Also, the way we are sending the Ansible output to the Zaqar queue make the run with a delay. The user doesn't a get a real time Ansible output. If there is an issue with zaqar or if the message sent to Zaqar is too big the execution will fail with a Zaqar exception regarding the size of the message. #. The user can not easily re-run the Ansible command, with the same options and parameters because the command is built by the Mistral action. #. And last, the Ansible run step in Update/Upgrade needs to run Only one Ansible command. Reducing the layer here by just running Ansible with Python instead of involving Python/Mistral and Zaqar would simplify the context where the Update/Upgrade is enough sensitive by itself to not involv to much complexity by just a design decision. Proposed Change =============== There is two by direction to solve the problems mentionned above. The first one would be to run Ansible like the standalone installer does, by just calling Ansible binary with a subprocess call with Python through the CLI. This change is addressed in the both reviews metalsmith_ and metalsmith_. #. The Pros of this approach is the simplicity. We can easily expose the Ansible command, give the opportunity of the user to re-run what the CLI has run. It decreased the number of potentiel issues and race between Ansible, Zaqar and Mistral. #. The Cons of this approach is the fact that we can not consume the Update run outside of the CLI. It remove totally the link with the UI and make the Update not compatible with UI or other tool that want to consume TripleO via the APIs. The second one would be to run Ansible through the API and exposed the results and outputs in way that it can be consume both by API and by a CLI. #. The Pros of this approach is that the Update will be consume by each CLI and APIs, meaning that we don't break the compatibility with the UI. #. The Cons of the approach is that we will add some complexity versus the 1st proposal. Also using the Ansible API can make TripleO dependant of the Ansible code and so, can be break with new Ansible release or fixes. Security Impact --------------- None, if we still use the same mechanisme for handling the private ssh key for the Ansible user. Upgrade Impact -------------- None Other End User Impact --------------------- None Performance Impact ------------------ The general performance of the Update/Upgrade step 2 will be improved. Other Deployer Impact --------------------- None Developer Impact ---------------- The feature will provide a better way for developing and debuging the Update of TripleO for the developper. Implementation ============== Assignee(s) ----------- Primary assignee: Mathieu Bultel Work Items ---------- #. Solution 1, proposed in TripleO Client project: metalsmith_ https://review.openstack.org/#/c/625126/ And on tripleO common project: metalsmith_ https://review.openstack.org/#/c/625918/ #. Solution 2, the PoC is in work in progress Dependencies ============ None Testing ======= It will be transparent for functionnal tests. The user experience improvement should be appreciated by the tester. Documentation Impact ==================== None References ========== .. _metalsmith: https://review.openstack.org/#/c/625126/ .. _metalsmith https://review.openstack.org/#/c/625918/ ",,162,0
openstack%2Ftripleo-specs~master~I6062b7c80c6791ce2732187f67ebbc23535ae63e,openstack/tripleo-specs,master,I6062b7c80c6791ce2732187f67ebbc23535ae63e,Switch update to per step tasks.,ABANDONED,2020-07-02 11:56:43.000000000,2021-09-14 18:55:32.000000000,,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-02 11:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/3a43c5ca6f7078c86d69a7efb04253e8f69b00cf', 'message': 'Switch update to per step tasks.\n\nChange-Id: I6062b7c80c6791ce2732187f67ebbc23535ae63e\nImplements: blueprint tripleo-update-smart-steps\n'}, {'number': 2, 'created': '2020-07-02 12:04:00.000000000', 'files': ['specs/victoria/update-refactor-tasks.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/a8da94921d5f6f03e1b9483eeafafdc87a116522', 'message': 'Switch update to per step tasks.\n\nImplements: blueprint tripleo-update-smart-steps\n\nChange-Id: I6062b7c80c6791ce2732187f67ebbc23535ae63e\n'}]",9,739023,a8da94921d5f6f03e1b9483eeafafdc87a116522,6,10,2,8297,,,0,"Switch update to per step tasks.

Implements: blueprint tripleo-update-smart-steps

Change-Id: I6062b7c80c6791ce2732187f67ebbc23535ae63e
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/23/739023/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/update-refactor-tasks.rst'],1,3a43c5ca6f7078c86d69a7efb04253e8f69b00cf,bp/tripleo-update-smart-steps,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================================= Refactor update tasks to loop over playbook file instead of tasks ================================================================= https://blueprints.launchpad.net/tripleo/+spec/tripleo-update-smart-steps Problem Description =================== Tripleo overcloud update run creating different stage during the update by looping over a step variable running the same playbook. This creates a lot of skipped tasks for each run as only a subset of the playbook's tasks are run for every step. This is a waste of time. This also clutter the output, worsening the user experience. Eventually some tasks in the update don't have the step conditional so they are run at every step. It would make sense to be able to force the tasks to have a step. Proposed Change =============== Overview -------- Reverse the logic to match what is currently done for deployment and upgrade. We create a playbook for each step and load them from the deploy.j2 template. Each step playbook would have a new tasks that would name the current step so that the user know what's going on. In case of failure we would offer the command that will allow the user to restart the update from the point of failure. Enforce a new ""strict"" policy for the collection of the steps where only tasks with step conditional are collected. Alternatives ------------ None Security Impact --------------- None Upgrade Impact -------------- Some tasks could be excluded by using the strict policy. So we have to make sure beforehand that we patched them all so that they are included at the right time. Other End User Impact --------------------- This would improve readability of the output. By loading specific playbook the skipped tasks would disappear from the output. Naming each step would also ease communication when error happens. It would also offer point of recovery to the user, by being able to re-run a failed update from a specific step. Performance Impact ------------------ This would improve the overall performance of the update process as we wouldn't skip tasks anymore. With an ""strict"" policy we would ensure no tasks are uselessly run at every step. Other Deployer Impact --------------------- None Developer Impact ---------------- Having a tasks without an conditional step attached to it will not do anything anymore. Implementation ============== Assignee(s) ----------- Primary assignee: (chem) Sofer Athlan-Guyot <sathlang@redhat.com> Other contributors: ??? Work Items ---------- * Collect and fix tasks with no steps conditionals; * Implement the new strict policy in tripleo-common; * Add update to the list of per_step_tasks. This will work as we are still generating the all-in-one playbook, so update in CI would still be working. * Change common/deploy-steps.j2 to load each step file instead of looping over steps * (Optional) backport to train as all the code needed is available in train. Dependencies ============ None. Testing ======= No special test cases required. Documentation Impact ==================== The option to restart update at a specific step will be self documenting. References ========== ",,129,0
openstack%2Ftripleo-specs~master~I764bf48effdf94d4de03c3a6e7c4a774a013a703,openstack/tripleo-specs,master,I764bf48effdf94d4de03c3a6e7c4a774a013a703,Spec for improved privilege escalation in py-scripts,ABANDONED,2018-07-04 05:13:16.000000000,2021-09-14 18:55:04.000000000,,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17893}, {'_account_id': 20868}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-07-04 05:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/1cb4ac6063d53213376efd75796b76e2ac411d29', 'message': '[WIP] Spec for improved privilege escalation in py-scripts\n\nIn order to avoid a widely open sudo for a bunch of\nusers, we must take care of the way privilege escalation\nis done in our python script as well as shell calls.\n\nThis spec takes care of the ""python"" aspect of this issue.\n\nChange-Id: I764bf48effdf94d4de03c3a6e7c4a774a013a703\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\nBlueprint: improve-privilege-mgmt-in-tripleo\n'}, {'number': 2, 'created': '2018-07-04 05:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/99c0d648cd0f566cab2ea8bc862dd60ea76d191b', 'message': '[WIP] Spec for improved privilege escalation in py-scripts\n\nIn order to avoid a widely open sudo for a bunch of\nusers, we must take care of the way privilege escalation\nis done in our python script as well as shell calls.\n\nThis spec takes care of the ""python"" aspect of this issue.\n\nChange-Id: I764bf48effdf94d4de03c3a6e7c4a774a013a703\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\nBlueprint: improve-privilege-mgmt-in-tripleo\n'}, {'number': 3, 'created': '2018-07-04 05:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/9707b91cf5f8e48c3f4b2533801854c2e40a6384', 'message': '[WIP] Spec for improved privilege escalation in py-scripts\n\nIn order to avoid a widely open sudo for a bunch of\nusers, we must take care of the way privilege escalation\nis done in our python script as well as shell calls.\n\nThis spec takes care of the ""python"" aspect of this issue.\n\nChange-Id: I764bf48effdf94d4de03c3a6e7c4a774a013a703\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\nBlueprint: improve-privilege-mgmt-in-tripleo\n'}, {'number': 4, 'created': '2018-07-07 10:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/45d452ea2d315f4326d4d4b87b278865c3f5cf0f', 'message': '[WIP] Spec for improved privilege escalation in py-scripts\n\nIn order to avoid a widely open sudo for a bunch of\nusers, we must take care of the way privilege escalation\nis done in our python script as well as shell calls.\n\nThis spec takes care of the ""python"" aspect of this issue.\n\nChange-Id: I764bf48effdf94d4de03c3a6e7c4a774a013a703\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\nBlueprint: improve-privilege-mgmt-in-tripleo\n'}, {'number': 5, 'created': '2018-07-10 05:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/d5fca7ce56da791fd8db429226504515d007c890', 'message': '[WIP] Spec for improved privilege escalation in py-scripts\n\nIn order to avoid a widely open sudo for a bunch of\nusers, we must take care of the way privilege escalation\nis done in our python script as well as shell calls.\n\nThis spec takes care of the ""python"" aspect of this issue.\n\nChange-Id: I764bf48effdf94d4de03c3a6e7c4a774a013a703\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\nBlueprint: improve-privilege-mgmt-in-tripleo\n'}, {'number': 6, 'created': '2018-07-18 10:26:54.000000000', 'files': ['specs/stein/improve-privilege-mgmt-in-pythonclient.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/8e0a82f754e61aa34773fcc746703e1df7dc2893', 'message': 'Spec for improved privilege escalation in py-scripts\n\nIn order to avoid a widely open sudo for a bunch of\nusers, we must take care of the way privilege escalation\nis done in our python script as well as shell calls.\n\nThis spec takes care of the ""python"" aspect of this issue.\n\nChange-Id: I764bf48effdf94d4de03c3a6e7c4a774a013a703\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\nBlueprint: improve-privilege-mgmt-in-tripleo\n'}]",8,580033,8e0a82f754e61aa34773fcc746703e1df7dc2893,28,11,6,28223,,,0,"Spec for improved privilege escalation in py-scripts

In order to avoid a widely open sudo for a bunch of
users, we must take care of the way privilege escalation
is done in our python script as well as shell calls.

This spec takes care of the ""python"" aspect of this issue.

Change-Id: I764bf48effdf94d4de03c3a6e7c4a774a013a703
Co-Authored-By: Luke Hinds <lhinds@redhat.com>
Blueprint: improve-privilege-mgmt-in-tripleo
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/33/580033/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/stein/0-placeholder.rst', 'specs/stein/improve-privilege-mgmt-in-pythonclient.rst']",2,1cb4ac6063d53213376efd75796b76e2ac411d29,priv-mgmt,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================ Improve privilege mgmt in Python Client Code ============================================ https://blueprints.launchpad.net/tripleo/+spec/improve-privilege-mgmt-in-tripleo Currently python-tripleoclient doesn't properly manage privilege escalation, and requires ""sudo"" calls either inside its code, or when calling the scripts. In other python library and script, we also encounter this kind of issues. This ends up with either NOPASSWD:ALL in sudoers, or in an endless list of rights we can't maintain in a convenient way. This discussion has started on an etherpad ([0]_) Problem Description =================== We do not want to keep on that track - it's neither a good practice nor secure. * Customers might have concerns with such loose rights management on their systems * System operators might want to try to reduce the rights and break the whole thing * Documentation is lacking regarding the usage of such rights, and does not address security concerns Proposed Change =============== Overview -------- The Oslo library proposes an interesting approach with two complementary tools: * oslo.rootwrap ([1]_) * oslo.privsep ([2]_) They allow to get a simple sudoer file, while ensuring with complex filter support the intended use only is allowed. Integrating the privsep library will require a huge code refactoring, but this is for the best, as it will ensure we have a proper, common way to do privilege escalation. Converging the code is the best way to get a clean, maintainable, understandable code. More over, as it seems the use of privsep is quiet new, we still can be involved in the best practices establishment. There are already a couple of blog posts covering them, and it would be a good thing to follow them, and if needed, make them better suited. Alternatives ------------ * Do Nothing: If we don't address this, end users are impacted as the current implementation will be rejected by security compliance standards such as ANSSI, DoD STIG etc * Use ""plain"" sudo calls in the python script. This can of course be a real alternative, but probably not the smartest, as rootwrap allows a finer control over the context and command allowed. More over, it does not depend on the user running the script - so we have only one entry in sudo per user being able to run the python code. Security Impact --------------- * Will improve security, only allowed actions will be running with elevated privileges. * Will allow to get a common way to make privilege escalations across the projects. * Might push good practices in python devel regarding privilege escalation and its issues. Other End User Impact --------------------- None Performance Impact ------------------ The use of rootwrap should not cause any performance impact. Other Deployer Impact --------------------- Modify the sudoers in order to allow calls to rootwrap only. Developer Impact ---------------- * The code will need a refactoring in order to integrate oslo.privsep. In addition new features will need to follow the (good) practices in place in order to ensure code readability and overall comprehension. * Following existing examples, all functions/configuration for privsep should be in a dedicated directory, and we should avoid aliasing the imports. * When adding a new function needing privilege escalation, an update to the rootwrap configuration must be done * Proper testing must be added in order to ensure privileges are really used and correct Implementation ============== Assignee(s) ----------- Primary assignee: lhinds@redhat.com Other contributors: cjeanner@redhat.com jaosorior@redhat.com Work Items ---------- 1. List all the calls in the libraries and scripts. This step is critical, as it will require a proper understanding of the code, as well as a proper understanding of ""who IS"" running, and ""who SHOULD"" run parts of the functions/calls. 2. Refactor the code, especially following the proposed practice ([3]_). 3. Proper testing must be added, following the already existing examples. 4. Documentation must be provided for other developpers in order to ensure they correctly implement the privilege escalation in their patch. Dependencies ============ * oslo.privsep Testing ======= Unit and functionality tests must be updated in order to take into account the privilege escalation, and ensure it is actually working as expected. Further tests should be done in order to ensure the allowed scope in rootwrap isn't too wide. Documentation Impact ==================== Documentation about privsep usage must be provided. References ========== .. [0] https://etherpad.openstack.org/p/tripleo-heat-admin-security .. [1] https://docs.openstack.org/oslo.rootwrap/latest/ .. [2] https://docs.openstack.org/oslo.privsep/latest/ .. [3] https://www.madebymikal.com/adding-oslo-privsep-to-a-new-project-a-worked-example/ ",,178,0
openstack%2Frpm-packaging~master~I27616c6d30b4e85e74d84314df68fecbafdb852c,openstack/rpm-packaging,master,I27616c6d30b4e85e74d84314df68fecbafdb852c,neutron-lib: update to 2.15.0,MERGED,2021-09-14 08:30:30.000000000,2021-09-14 18:54:45.000000000,2021-09-14 18:54:45.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-14 08:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3b774ab3356c49a0df287ebce53e6b8bb435e35f', 'message': 'neutron-lib: update to 2.15.0\n\nChange-Id: I27616c6d30b4e85e74d84314df68fecbafdb852c\n'}, {'number': 2, 'created': '2021-09-14 13:07:44.000000000', 'files': ['openstack/neutron-lib/neutron-lib.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/aab685ad19b109b51db6c6676791183153911e97', 'message': 'neutron-lib: update to 2.15.0\n\nChange-Id: I27616c6d30b4e85e74d84314df68fecbafdb852c\n'}]",0,808911,aab685ad19b109b51db6c6676791183153911e97,13,5,2,6593,,,0,"neutron-lib: update to 2.15.0

Change-Id: I27616c6d30b4e85e74d84314df68fecbafdb852c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/11/808911/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/neutron-lib/neutron-lib.spec.j2'],1,3b774ab3356c49a0df287ebce53e6b8bb435e35f,,{% set upstream_version = upstream_version('2.15.0') %},{% set upstream_version = upstream_version('2.13.0') %},1,1
openstack%2Ftripleo-specs~master~I823a574da145d6a0cee9a68c122793103a89600f,openstack/tripleo-specs,master,I823a574da145d6a0cee9a68c122793103a89600f,Provide Validation external logging,ABANDONED,2020-11-19 15:16:36.000000000,2021-09-14 18:54:37.000000000,,"[{'_account_id': 7144}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2020-11-19 15:16:36.000000000', 'files': ['specs/wallaby/validation-external-logging.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/a7674b96e47c92d45466ec41752b5b1de54d8930', 'message': 'Provide Validation external logging\n\nChange-Id: I823a574da145d6a0cee9a68c122793103a89600f\n'}]",0,763391,a7674b96e47c92d45466ec41752b5b1de54d8930,6,5,1,16515,,,0,"Provide Validation external logging

Change-Id: I823a574da145d6a0cee9a68c122793103a89600f
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/91/763391/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/validation-external-logging.rst'],1,a7674b96e47c92d45466ec41752b5b1de54d8930,vf/logs/centralization,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================== Validation External Logging =========================== The goal of this proposal is to allow the user to externalise the log files produced by the Validation Framework, and Ansible by using specific callback plugins. Problem Description =================== The corner stone of the Validation Framework is the way it handle Ansible to produced log files on the file system in a json format. The framework gives a CLI implementation to query the logs on the system and extract some informations. The feature could be extend to allow to write files not only directly on the local file system, but also on dedicated log servers or sockets or other tools that provide multiple features. Proposed Change =============== Overview -------- The proposed change would be to implement an Ansible plugins that can send realtime runner informations on a socket on a specific and well defined format. The socket could be either local, provided and handled by the Validation Framework or remote, also provided by the VF, but listening on another system. The user will able to store, save, backup or monitor the results of the validations execution on a dashboard or elsewhere. Also, the validation can interact like probe or being plug into a monitoring tool. Alternatives ------------ The alternative solution is used of ARA. It can be served as an option, or an alternative usage to the framework. ARA already been tested with the Validation Framework. Both solution can live together. Security Impact --------------- There is a significant security implications due to the implementation of a new Socket, which will need to open a address and port on the ""runner"" server. Upgrade Impact -------------- There will be no upgrade impact. Other End User Impact --------------------- None. Performance Impact ------------------ The implementation of a such plugin has very limited performance impact on Ansible execution. But some tests should made more deeply to address the performance impact. For now, only the syslog has been experienced. Other Deployer Impact --------------------- None. Developer Impact ---------------- None. Implementation ============== WIP At the Validation Python library level, the Ansible plugins should be separated to isolated the logging itself from the console stdout. Ansible can handle only one stdout plugins per run, the logging plugin will comes and be enable in the whitelist callbacks. The user will have the choice of which plugins he will use to handle his logging and will able to enable several plugins. Validation log server side: The Framework will provide a log server, that can run either on local or on remote machine. Assignee(s) ----------- Primary assignee: matbu Other contributors: Work Items ---------- The step is the split the curent Validation plugin into two elements, one for the console stdout and the other for the logging itself. Once this has been done, the logging can be isolated and treat on his own. Next step..(WIP) Dependencies ============ Testing ======= Documentation Impact ==================== There is some documentation impact. References ========== * https://review.opendev.org/#/c/761626/ * https://review.opendev.org/#/c/761721/ ",,143,0
openstack%2Fneutron~master~Iaf7788bf0cba19a693cbf456f98e50d7b5de9e41,openstack/neutron,master,Iaf7788bf0cba19a693cbf456f98e50d7b5de9e41,[L2] no provisioning block for internal service port,MERGED,2021-06-02 05:30:00.000000000,2021-09-14 18:41:26.000000000,2021-09-14 18:39:18.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 33145}]","[{'number': 1, 'created': '2021-06-02 05:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/766288d591d162b7d0f61793437bfcb9301cc2e6', 'message': '[L2] no provisioning block for internal service port\n\nProvisioning Blocks [1] was introduced to manage composite object\nstatus. Port object was the one Neutron set provisioning block\nduring the port processing life cycle. Here is the compute\nport (VM\'s NIC port) processing procedure:\n1. nova creates port\n2. the \'openvswitch\' mechinism driver inserts provisioning_block for this port\n3. nova calls related interface to plug the device\n4. ovs-agent sets the flows for the port and call update_device_list to neutron-server\n5. neutron-server try to set port status to ACTIVE\n6. neutron-server notify nova that ""vif-plugged"" success\n\nThis works fine for VM with its ports. But for neutron service port,\nlike router_gateway, router_interface and dhcp, it is unnecessary.\nBecause there is no dependency among neutron resources. Neutron\njust knows that the ports had been set properly. And another thing\nis, for most of these internal service port, there is no\nsecurity group/port security.\n\nSo for neutron internal service ports, the procesure can be:\n\n1. Neutron L3/DHCP/X related service plugin creates port\n2. No provisioning_block\n3. L3/DHCP/X related agent plug the port\n4. ovs-agent sets the flows for the port and call update_device_list to neutron-server\n5. neutron-server set port status to ACTIVE, then done!\n\n[1] https://docs.openstack.org/neutron/latest/contributor/internals/provisioning_blocks.html\n\nCloses-Bug: #1930432\nChange-Id: Iaf7788bf0cba19a693cbf456f98e50d7b5de9e41\n'}, {'number': 2, 'created': '2021-06-03 07:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b339ad5b2b0f56bbd54c9160cbcc74b0ee31a7d3', 'message': '[L2] no provisioning block for internal service port\n\nProvisioning Blocks [1] was introduced to manage composite object\nstatus. Port object was the one Neutron set provisioning block\nduring the port processing life cycle. Here is the compute\nport (VM\'s NIC port) processing procedure:\n1. nova creates port\n2. the \'openvswitch\' mechinism driver inserts provisioning_block for this port\n3. nova calls related interface to plug the device\n4. ovs-agent sets the flows for the port and call update_device_list to neutron-server\n5. neutron-server try to set port status to ACTIVE\n6. neutron-server notify nova that ""vif-plugged"" success\n\nThis works fine for VM with its ports. But for neutron service port,\nlike router_gateway, router_interface and dhcp, it is unnecessary.\nBecause there is no dependency among neutron resources. Neutron\njust knows that the ports had been set properly. And another thing\nis, for most of these internal service port, there is no\nsecurity group/port security.\n\nSo for neutron internal service ports, the procesure can be:\n\n1. Neutron L3/DHCP/X related service plugin creates port\n2. No provisioning_block\n3. L3/DHCP/X related agent plug the port\n4. ovs-agent sets the flows for the port and call update_device_list to neutron-server\n5. neutron-server set port status to ACTIVE, then done!\n\n[1] https://docs.openstack.org/neutron/latest/contributor/internals/provisioning_blocks.html\n\nCloses-Bug: #1930432\nChange-Id: Iaf7788bf0cba19a693cbf456f98e50d7b5de9e41\n'}, {'number': 3, 'created': '2021-06-15 01:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0af0b87acc5ea9c27f16a85349102b4ab6a52a99', 'message': '[L2] no provisioning block for internal service port\n\nProvisioning Blocks [1] was introduced to manage composite object\nstatus. Port object was the one Neutron set provisioning block\nduring the port processing life cycle. Here is the compute\nport (VM\'s NIC port) processing procedure:\n1. nova creates port\n2. the \'openvswitch\' mechinism driver inserts provisioning_block for this port\n3. nova calls related interface to plug the device\n4. ovs-agent sets the flows for the port and call update_device_list to neutron-server\n5. neutron-server try to set port status to ACTIVE\n6. neutron-server notify nova that ""vif-plugged"" success\n\nThis works fine for VM with its ports. But for neutron service port,\nlike router_gateway, router_interface and dhcp, it is unnecessary.\nBecause there is no dependency among neutron resources. Neutron\njust knows that the ports had been set properly. And another thing\nis, for most of these internal service port, there is no\nsecurity group/port security.\n\nSo for neutron internal service ports, the procesure can be:\n\n1. Neutron L3/DHCP/X related service plugin creates port\n2. No provisioning_block\n3. L3/DHCP/X related agent plug the port\n4. ovs-agent sets the flows for the port and call update_device_list to neutron-server\n5. neutron-server set port status to ACTIVE, then done!\n\n[1] https://docs.openstack.org/neutron/latest/contributor/internals/provisioning_blocks.html\n\nCloses-Bug: #1930432\nChange-Id: Iaf7788bf0cba19a693cbf456f98e50d7b5de9e41\n'}, {'number': 4, 'created': '2021-06-22 01:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/68c188db207945a5ab37ea69ca94660469723411', 'message': '[L2] no provisioning block for internal service port\n\nProvisioning Blocks [1] was introduced to manage composite\nobject status. Port object was the one Neutron set provisioning\nblock during the port processing life cycle. Here is the compute\nport (VM\'s NIC port) processing procedure:\n1. nova creates port\n2. the \'openvswitch\' mechinism driver inserts provisioning block\n   for this port\n3. nova calls related interface to plug the device\n4. L2-agent sets the flows for the port and call update_device_list\n   to neutron-server\n5. neutron-server try to set port status to ACTIVE\n6. neutron-server notify nova that ""vif-plugged"" success\n\nThis works fine for VM with its ports. But for neutron service port,\nlike router_gateway, router_interface and dhcp, it is unnecessary.\nBecause there is no dependency among neutron resources. Neutron\njust knows that the ports had been set properly. And another thing\nis, for most of these internal service port, there is no security\ngroup or port security.\nSo for neutron internal service ports, the procesure can be:\n1. neutron L3/DHCP/X related service plugin creates port\n2. no provisioning_block\n3. L3/DHCP/X related agent plug the port\n4. L2-agent sets the flows for the port and call update_device_list\n   to neutron-server\n5. neutron-server sets port status to ACTIVE directly, then done!\n\nThis patch will set the ml2 ovs to skip the provisioning_block.\n\n[1] https://docs.openstack.org/neutron/latest/contributor/internals/provisioning_blocks.html\n\nCloses-Bug: #1930432\nChange-Id: Iaf7788bf0cba19a693cbf456f98e50d7b5de9e41\n'}, {'number': 5, 'created': '2021-06-30 02:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d382c88bfa6c6eac8b9c6a0226e584098fad96d7', 'message': '[L2] no provisioning block for internal service port\n\nProvisioning Blocks [1] was introduced to manage composite\nobject status. Port object is the one Neutron sets provisioning\nblock during the port processing life cycle. Here is the compute\nport (VM\'s NIC port) processing procedure:\n1. nova creates port\n2. the \'openvswitch\' mechinism driver inserts provisioning block\n   for this port\n3. nova calls related interface to plug the device\n4. L2-agent sets the flows (or rules/devices) for the port and\n   call update_device_list to neutron-server\n5. neutron-server try to set port status to ACTIVE\n6. neutron-server notify nova that ""vif-plugged"" success\n\nThis works fine for VM with its ports. But for neutron service port,\nlike router_gateway, router_interface and dhcp, it is unnecessary.\nBecause there is no dependency among neutron resources. Neutron\njust knows that the ports had been set properly. And another thing\nis, for most of these internal service port, there is no need of\nDHCP, security group or port security.\n\nSo for neutron internal service ports, the procesure can be:\n1. neutron L3/DHCP/X related service plugin creates port\n2. no provisioning_block\n3. L3/DHCP/X related agent plug the port\n4. L2-agent sets the flows (or rules/devices) for the port and\n   call update_device_list to neutron-server\n5. neutron-server sets port status to ACTIVE directly, then done!\n\nThis patch will set neutron *AgentMechanismDrver (including built-in\ndrivers: linuxbridge, macvtap, sriov, openvswitch) to skip inserting\nthe provisioning_block for Neutron internal service ports.\n\n[1] https://docs.openstack.org/neutron/latest/contributor/internals/provisioning_blocks.html\n\nCloses-Bug: #1930432\nChange-Id: Iaf7788bf0cba19a693cbf456f98e50d7b5de9e41\n'}, {'number': 6, 'created': '2021-07-12 08:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b21bfa2e7b118238855880e6af8b952364f75f6', 'message': '[L2] no provisioning block for internal service port\n\nProvisioning Blocks [1] was introduced to manage composite\nobject status. Port object is the one Neutron sets provisioning\nblock during the port processing life cycle. Here is the compute\nport (VM\'s NIC port) processing procedure:\n1. nova creates port\n2. the \'openvswitch\' mechinism driver inserts provisioning block\n   for this port\n3. nova calls related interface to plug the device\n4. L2-agent sets the flows (or rules/devices) for the port and\n   call update_device_list to neutron-server\n5. neutron-server try to set port status to ACTIVE\n6. neutron-server notify nova that ""vif-plugged"" success\n\nThis works fine for VM with its ports. But for neutron service port,\nlike router_gateway, router_interface and dhcp, it is unnecessary.\nBecause there is no dependency among neutron resources. Neutron\njust knows that the ports had been set properly. And another thing\nis, for most of these internal service port, there is no need of\nDHCP, security group or port security.\n\nSo for neutron internal service ports, the procesure can be:\n1. neutron L3/DHCP/X related service plugin creates port\n2. no provisioning_block\n3. L3/DHCP/X related agent plug the port\n4. L2-agent sets the flows (or rules/devices) for the port and\n   call update_device_list to neutron-server\n5. neutron-server sets port status to ACTIVE directly, then done!\n\nThis patch will set neutron *AgentMechanismDrver (including built-in\ndrivers: linuxbridge, macvtap, sriov, openvswitch) to skip inserting\nthe provisioning_block for Neutron internal service ports.\n\n[1] https://docs.openstack.org/neutron/latest/contributor/internals/provisioning_blocks.html\n\nCloses-Bug: #1930432\nChange-Id: Iaf7788bf0cba19a693cbf456f98e50d7b5de9e41\n'}, {'number': 7, 'created': '2021-07-12 09:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/22ff4d0ba2eb8dde156359813ee772b9b0cd7d7a', 'message': '[L2] no provisioning block for internal service port\n\nProvisioning Blocks [1] was introduced to manage composite\nobject status. Port object is the one Neutron sets provisioning\nblock during the port processing life cycle. Here is the compute\nport (VM\'s NIC port) processing procedure:\n1. nova creates port\n2. the \'openvswitch\' mechinism driver inserts provisioning block\n   for this port\n3. nova calls related interface to plug the device\n4. L2-agent sets the flows (or rules/devices) for the port and\n   call update_device_list to neutron-server\n5. neutron-server try to set port status to ACTIVE\n6. neutron-server notify nova that ""vif-plugged"" success\n\nThis works fine for VM with its ports. But for neutron service port,\nlike router_gateway, router_interface and dhcp, it is unnecessary.\nBecause there is no dependency among neutron resources. Neutron\njust knows that the ports had been set properly. And another thing\nis, for most of these internal service port, there is no need of\nDHCP, security group or port security.\n\nSo for neutron internal service ports, the procesure can be:\n1. neutron L3/DHCP/X related service plugin creates port\n2. no provisioning_block\n3. L3/DHCP/X related agent plug the port\n4. L2-agent sets the flows (or rules/devices) for the port and\n   call update_device_list to neutron-server\n5. neutron-server sets port status to ACTIVE directly, then done!\n\nThis patch will set neutron *AgentMechanismDrver (including built-in\ndrivers: linuxbridge, macvtap, sriov, openvswitch) to skip inserting\nthe provisioning_block for Neutron internal service ports.\n\n[1] https://docs.openstack.org/neutron/latest/contributor/internals/provisioning_blocks.html\n\nCloses-Bug: #1930432\nChange-Id: Iaf7788bf0cba19a693cbf456f98e50d7b5de9e41\n'}, {'number': 8, 'created': '2021-07-13 00:23:53.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/common/constants.py', 'neutron/plugins/ml2/drivers/mech_agent.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0ea4a51ba36e227130c3b2a29d4eadc84615a6b', 'message': '[L2] no provisioning block for internal service port\n\nProvisioning Blocks [1] was introduced to manage composite\nobject status. Port object is the one Neutron sets provisioning\nblock during the port processing life cycle. Here is the compute\nport (VM\'s NIC port) processing procedure:\n1. nova creates port\n2. the \'openvswitch\' mechinism driver inserts provisioning block\n   for this port\n3. nova calls related interface to plug the device\n4. L2-agent sets the flows (or rules/devices) for the port and\n   call update_device_list to neutron-server\n5. neutron-server try to set port status to ACTIVE\n6. neutron-server notify nova that ""vif-plugged"" success\n\nThis works fine for VM with its ports. But for neutron service port,\nlike router_gateway, router_interface and dhcp, it is unnecessary.\nBecause there is no dependency among neutron resources. Neutron\njust knows that the ports had been set properly. And another thing\nis, for most of these internal service port, there is no need of\nDHCP, security group or port security.\n\nSo for neutron internal service ports, the procesure can be:\n1. neutron L3/DHCP/X related service plugin creates port\n2. no provisioning_block\n3. L3/DHCP/X related agent plug the port\n4. L2-agent sets the flows (or rules/devices) for the port and\n   call update_device_list to neutron-server\n5. neutron-server sets port status to ACTIVE directly, then done!\n\nThis patch will set neutron *AgentMechanismDrver (including built-in\ndrivers: linuxbridge, macvtap, sriov, openvswitch) to skip inserting\nthe provisioning_block for Neutron internal service ports.\n\n[1] https://docs.openstack.org/neutron/latest/contributor/internals/provisioning_blocks.html\n\nCloses-Bug: #1930432\nChange-Id: Iaf7788bf0cba19a693cbf456f98e50d7b5de9e41\n'}]",32,794130,e0ea4a51ba36e227130c3b2a29d4eadc84615a6b,82,7,8,9531,,,0,"[L2] no provisioning block for internal service port

Provisioning Blocks [1] was introduced to manage composite
object status. Port object is the one Neutron sets provisioning
block during the port processing life cycle. Here is the compute
port (VM's NIC port) processing procedure:
1. nova creates port
2. the 'openvswitch' mechinism driver inserts provisioning block
   for this port
3. nova calls related interface to plug the device
4. L2-agent sets the flows (or rules/devices) for the port and
   call update_device_list to neutron-server
5. neutron-server try to set port status to ACTIVE
6. neutron-server notify nova that ""vif-plugged"" success

This works fine for VM with its ports. But for neutron service port,
like router_gateway, router_interface and dhcp, it is unnecessary.
Because there is no dependency among neutron resources. Neutron
just knows that the ports had been set properly. And another thing
is, for most of these internal service port, there is no need of
DHCP, security group or port security.

So for neutron internal service ports, the procesure can be:
1. neutron L3/DHCP/X related service plugin creates port
2. no provisioning_block
3. L3/DHCP/X related agent plug the port
4. L2-agent sets the flows (or rules/devices) for the port and
   call update_device_list to neutron-server
5. neutron-server sets port status to ACTIVE directly, then done!

This patch will set neutron *AgentMechanismDrver (including built-in
drivers: linuxbridge, macvtap, sriov, openvswitch) to skip inserting
the provisioning_block for Neutron internal service ports.

[1] https://docs.openstack.org/neutron/latest/contributor/internals/provisioning_blocks.html

Closes-Bug: #1930432
Change-Id: Iaf7788bf0cba19a693cbf456f98e50d7b5de9e41
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/794130/8 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py'],1,766288d591d162b7d0f61793437bfcb9301cc2e6,bug/1930432,"# TODO(liuyulong): move to neutron-lib or common constants NO_PBLOCKS_TYPES = [ constants.DEVICE_OWNER_DVR_INTERFACE, constants.DEVICE_OWNER_HA_REPLICATED_INT, constants.DEVICE_OWNER_ROUTER_INTF, constants.DEVICE_OWNER_ROUTER_GW, constants.DEVICE_OWNER_ROUTER_SNAT, constants.DEVICE_OWNER_DHCP, ] def create_port_precommit(self, context): port = context.current if port['device_owner'] in NO_PBLOCKS_TYPES: # no set provisioning_block if it is neutron service port return self._insert_provisioning_block(context) ",,17,0
openstack%2Fglance~master~I2abd1e60f414fbd68ce84e0b280f8b3e4e791a82,openstack/glance,master,I2abd1e60f414fbd68ce84e0b280f8b3e4e791a82,[uwsgi] Add missing pefetch periodic job,MERGED,2021-08-09 15:27:32.000000000,2021-09-14 18:41:18.000000000,2021-09-14 18:39:28.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-09 15:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8a0c1bea48448c814a392c5da3eef0483ced5e0f', 'message': '[uwsgi] Add missing pefetch periodic job\n\nGlance was not supporting uwsgi deployment when we added periodic job to\nprefetch images into cache. Later in ussuri uwsgi support was added but\nwe missed to implement periodic job to pre-cache the image.\n\nThis patch add this support for glance + uwsgi.\n\nCloses-Bug: #1939307\n\nChange-Id: I2abd1e60f414fbd68ce84e0b280f8b3e4e791a82\n'}, {'number': 2, 'created': '2021-09-08 16:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6780848353a01e42e538aba184e003eedf355e68', 'message': '[uwsgi] Add missing pefetch periodic job\n\nGlance was not supporting uwsgi deployment when we added periodic job\nto prefetch images into cache. Later in ussuri uwsgi support was added\nbut we missed to implement periodic job to pre-cache the image.\n\nThis patch add this support for glance + uwsgi. For WSGI, we run the\nprefetcher with an external lock, which makes sure that multiple API\nworkers will not attempt to cache an image at the same time. In this\ncase, if multiple workers attempt to run at the same time, only one\nwill grab the lock and do the work. When completed, the other worker\nwill grab the lock and either find all the work completed, or complete\nnew work that has been queued since the first one started.\n\nCloses-Bug: #1939307\nCo-Authored-By: Dan Smith <dms@danplanet.com>\nChange-Id: I2abd1e60f414fbd68ce84e0b280f8b3e4e791a82\n'}, {'number': 3, 'created': '2021-09-08 17:02:53.000000000', 'files': ['glance/tests/unit/test_image_cache.py', 'glance/tests/unit/async_/test_async.py', 'glance/image_cache/prefetcher.py', 'glance/async_/__init__.py', 'glance/common/wsgi_app.py', 'glance/tests/unit/common/test_wsgi_app.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/9b385f7b671fd9994d416949ebd10c424d9fc072', 'message': '[uwsgi] Add missing pefetch periodic job\n\nGlance was not supporting uwsgi deployment when we added periodic job\nto prefetch images into cache. Later in ussuri uwsgi support was added\nbut we missed to implement periodic job to pre-cache the image.\n\nThis patch add this support for glance + uwsgi. For WSGI, we run the\nprefetcher with an external lock, which makes sure that multiple API\nworkers will not attempt to cache an image at the same time. In this\ncase, if multiple workers attempt to run at the same time, only one\nwill grab the lock and do the work. When completed, the other worker\nwill grab the lock and either find all the work completed, or complete\nnew work that has been queued since the first one started.\n\nCloses-Bug: #1939307\nCo-Authored-By: Dan Smith <dms@danplanet.com>\nChange-Id: I2abd1e60f414fbd68ce84e0b280f8b3e4e791a82\n'}]",14,803937,9b385f7b671fd9994d416949ebd10c424d9fc072,24,5,3,9303,,,0,"[uwsgi] Add missing pefetch periodic job

Glance was not supporting uwsgi deployment when we added periodic job
to prefetch images into cache. Later in ussuri uwsgi support was added
but we missed to implement periodic job to pre-cache the image.

This patch add this support for glance + uwsgi. For WSGI, we run the
prefetcher with an external lock, which makes sure that multiple API
workers will not attempt to cache an image at the same time. In this
case, if multiple workers attempt to run at the same time, only one
will grab the lock and do the work. When completed, the other worker
will grab the lock and either find all the work completed, or complete
new work that has been queued since the first one started.

Closes-Bug: #1939307
Co-Authored-By: Dan Smith <dms@danplanet.com>
Change-Id: I2abd1e60f414fbd68ce84e0b280f8b3e4e791a82
",git fetch https://review.opendev.org/openstack/glance refs/changes/37/803937/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/image_cache/prefetcher.py', 'glance/common/wsgi_app.py', 'glance/tests/unit/common/test_wsgi_app.py']",3,8a0c1bea48448c814a392c5da3eef0483ced5e0f,pre-cache-uwsgi," @mock.patch('glance.async_._THREADPOOL_MODEL', new=None) @mock.patch('glance.common.config.load_paste_app') @mock.patch('glance.common.wsgi_app._get_config_files') @mock.patch('threading.Timer') @mock.patch('glance.image_cache.prefetcher.Prefetcher') def test_run_cache_prefetcher(self, mock_prefethcer, mock_Timer, mock_conf, mock_load): self.config(cache_prefetcher_interval=10) self.config(flavor='keystone+cachemanagement', group='paste_deploy') mock_conf.return_value = [] wsgi_app.init_app() mock_Timer.assert_called_once_with(10, mock.ANY, (mock_prefethcer(),)) mock_Timer.return_value.start.assert_called_once_with() @mock.patch('glance.async_._THREADPOOL_MODEL', new=None) @mock.patch('glance.common.config.load_paste_app') @mock.patch('glance.common.wsgi_app._get_config_files') @mock.patch('threading.Timer') @mock.patch('glance.image_cache.prefetcher.Prefetcher') def test_run_cache_prefetcher_middleware_disabled( self, mock_prefethcer, mock_Timer, mock_conf, mock_load): mock_conf.return_value = [] wsgi_app.init_app() mock_Timer.assert_not_called()",,51,2
openstack%2Fkeystone~stable%2Frocky~I67ce58f178873bc1bcbe70bb6545cacc9c93be2a,openstack/keystone,stable/rocky,I67ce58f178873bc1bcbe70bb6545cacc9c93be2a,Pin keystone-tempest-plugin for py27 compatibility,MERGED,2021-08-25 16:44:28.000000000,2021-09-14 18:28:31.000000000,2021-09-14 18:21:39.000000000,"[{'_account_id': 5046}, {'_account_id': 11904}, {'_account_id': 14250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-08-25 16:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4f32873d1e93bc97f22729e82cfb19dc58e70741', 'message': 'Pin keystone-tempest-plugin for py27 compatibility\n\nKeystone-tempest-plugins or tempest master version\ncannot be used for the old stable rocky which are in\nEM state. We have pinned the Tempest version also in devstack but\ntemepst plugins versions needs to be pinned on job side.\n\nThis commit use the py27 compatible version keystone-tempest-plugin\n0.3.0 for the job running on stable/rocky to continue the testing.\n\nCloses-Bug: #1928650\n\nChange-Id: I67ce58f178873bc1bcbe70bb6545cacc9c93be2a\n'}, {'number': 2, 'created': '2021-08-25 23:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c8c7d15212380b024ecdb74f01449e323869bc70', 'message': 'Pin keystone-tempest-plugin for py27 compatibility\n\nKeystone-tempest-plugins or tempest master version\ncannot be used for the old stable rocky which are in\nEM state. We have pinned the Tempest version also in devstack but\ntemepst plugins versions needs to be pinned on job side.\n\nThis commit use the py27 compatible version keystone-tempest-plugin\n0.3.0 for the job running on stable/rocky to continue the testing.\n\nTo unlbock the gate, this commit also drop the lower constraint testing.\nstable/rocky is in EM state and lower-constraints job started failing.\nAs per PTI[1], testing lower-constraints are totally optional. And on\nstable branches which are in EM state, we can drop them as soon as they\nstart failing.\n\n[1] https://docs.openstack.org/project-team-guide/testing.html#testing-qa-and-ci\n\nCloses-Bug: #1928650\n\nChange-Id: I67ce58f178873bc1bcbe70bb6545cacc9c93be2a\n'}, {'number': 3, 'created': '2021-08-26 00:41:24.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3d293b5dd0681720524ccfe1d9dd4872e491c115', 'message': 'Pin keystone-tempest-plugin for py27 compatibility\n\nKeystone-tempest-plugins or tempest master version\ncannot be used for the old stable rocky which are in\nEM state. We have pinned the Tempest version also in devstack but\ntemepst plugins versions needs to be pinned on job side.\n\nThis commit use the py27 compatible version keystone-tempest-plugin\n0.3.0 for the job running on stable/rocky to continue the testing.\n\nTo unlbock the gate, this commit also\n\n1. Drop the lower constraint testing.\nstable/rocky is in EM state and lower-constraints job started failing.\nAs per PTI[1], testing lower-constraints are totally optional. And on\nstable branches which are in EM state, we can drop them as soon as they\nstart failing.\n\n2. Fix requirement-check jobs.\nRequirement-check job fails on validating the python-memcached and sphinx\n- https://zuul.opendev.org/t/openstack/build/eb3bb052d9f54a308f642b4edaf4ff82/log/job-output.txt#671-678\n\nUpdating them as per the g-r:\n- https://github.com/openstack/requirements/blob/stable/rocky/global-requirements.txt#L288\n\n[1] https://docs.openstack.org/project-team-guide/testing.html#testing-qa-and-ci\n\nCloses-Bug: #1928650\n\nChange-Id: I67ce58f178873bc1bcbe70bb6545cacc9c93be2a\n'}]",0,806030,3d293b5dd0681720524ccfe1d9dd4872e491c115,18,6,3,8556,,,0,"Pin keystone-tempest-plugin for py27 compatibility

Keystone-tempest-plugins or tempest master version
cannot be used for the old stable rocky which are in
EM state. We have pinned the Tempest version also in devstack but
temepst plugins versions needs to be pinned on job side.

This commit use the py27 compatible version keystone-tempest-plugin
0.3.0 for the job running on stable/rocky to continue the testing.

To unlbock the gate, this commit also

1. Drop the lower constraint testing.
stable/rocky is in EM state and lower-constraints job started failing.
As per PTI[1], testing lower-constraints are totally optional. And on
stable branches which are in EM state, we can drop them as soon as they
start failing.

2. Fix requirement-check jobs.
Requirement-check job fails on validating the python-memcached and sphinx
- https://zuul.opendev.org/t/openstack/build/eb3bb052d9f54a308f642b4edaf4ff82/log/job-output.txt#671-678

Updating them as per the g-r:
- https://github.com/openstack/requirements/blob/stable/rocky/global-requirements.txt#L288

[1] https://docs.openstack.org/project-team-guide/testing.html#testing-qa-and-ci

Closes-Bug: #1928650

Change-Id: I67ce58f178873bc1bcbe70bb6545cacc9c93be2a
",git fetch https://review.opendev.org/openstack/keystone refs/changes/30/806030/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4f32873d1e93bc97f22729e82cfb19dc58e70741,bug/1928650, - name: openstack/keystone-tempest-plugin override-checkout: 0.3.0 - name: openstack/keystone-tempest-plugin override-checkout: 0.3.0 - name: openstack/keystone-tempest-plugin override-checkout: 0.3.0, - openstack/keystone-tempest-plugin - openstack/keystone-tempest-plugin - openstack/keystone-tempest-plugin,6,3
openstack%2Fcinder~master~I8b7b372e1c8d95b0c199e1f9bca97c065f265fa7,openstack/cinder,master,I8b7b372e1c8d95b0c199e1f9bca97c065f265fa7,[SVF]:Storwize HyperSwap snapshot clone is failing,MERGED,2021-02-18 03:38:39.000000000,2021-09-14 18:28:21.000000000,2021-09-14 16:19:56.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}, {'_account_id': 32036}, {'_account_id': 32171}, {'_account_id': 32266}, {'_account_id': 32425}]","[{'number': 1, 'created': '2021-02-18 03:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9404cdb2ba91040901265947b268812da2860e1f', 'message': '[SVF]:Support storwize HyperSwap group operations\n\n[Spectrum Virtualize Family] Added support for create HyperSwap snapshot,\ncreate HyperSwap clone volume, create HyperSwap group snapshot,\ncreate HyperSwap group clone operations.\n\nChange-Id: I8b7b372e1c8d95b0c199e1f9bca97c065f265fa7\n'}, {'number': 2, 'created': '2021-02-24 05:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2def2245f7489cc0d1a1e50c241eb7236dc333ba', 'message': '[SVF]:Support storwize HyperSwap group operations\n\n[Spectrum Virtualize Family] Added support for create HyperSwap snapshot,\ncreate HyperSwap clone volume, create HyperSwap group snapshot,\ncreate HyperSwap group clone operations.\n\nChange-Id: I8b7b372e1c8d95b0c199e1f9bca97c065f265fa7\n'}, {'number': 3, 'created': '2021-04-12 14:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/51ff2d649fe10b91b0a3bba6e3a51bacb556211f', 'message': '[SVF]:Support storwize HyperSwap group operations\n\n[Spectrum Virtualize Family] Added support for create HyperSwap snapshot,\ncreate HyperSwap clone volume, create HyperSwap group snapshot,\ncreate HyperSwap group clone operations.\n\nChange-Id: I8b7b372e1c8d95b0c199e1f9bca97c065f265fa7\n'}, {'number': 4, 'created': '2021-04-15 18:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4d30203f42d96ab37a07c515f84f2e1c7e9527ee', 'message': '[SVF]:Storwize HyperSwap snapshot clone is failing\n\n[Spectrum Virtualize Family] During create HyperSwap snapshot,\ncreate HyperSwap clone volume, create HyperSwap group snapshot,\ncreate HyperSwap group clone operations are failing with\nVolumeDriverException.\n\nThis patch fixes the issue by skipping the hyperswap checks for\nsnapshot, clone, group snapshot and group clone operations.\n\nCloses-Bug: #1924602\n\nChange-Id: I8b7b372e1c8d95b0c199e1f9bca97c065f265fa7\n'}, {'number': 5, 'created': '2021-04-21 05:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7ce0ba0a9f06338f4f2e04ec7832dd5ed9008ba5', 'message': '[SVF]:Storwize HyperSwap snapshot clone is failing\n\n[Spectrum Virtualize Family] During create HyperSwap snapshot,\ncreate HyperSwap clone volume, create HyperSwap group snapshot,\ncreate HyperSwap group clone operations are failing with\nVolumeDriverException.\n\nThis patch fixes the issue by skipping the hyperswap checks for\nsnapshot, clone, group snapshot and group clone operations.\n\nCloses-Bug: #1924602\n\nChange-Id: I8b7b372e1c8d95b0c199e1f9bca97c065f265fa7\n'}, {'number': 6, 'created': '2021-06-01 12:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5dc8c3598c380179326753a705ab9f8d3f3767f9', 'message': '[SVF]:Storwize HyperSwap snapshot clone is failing\n\n[Spectrum Virtualize Family] During create HyperSwap snapshot,\ncreate HyperSwap clone volume, create HyperSwap group snapshot,\ncreate HyperSwap group clone operations are failing with\nVolumeDriverException.\n\nThis patch fixes the issue by skipping the hyperswap checks for\nsnapshot, clone, group snapshot and group clone operations.\n\nCloses-Bug: #1924602\n\nChange-Id: I8b7b372e1c8d95b0c199e1f9bca97c065f265fa7\n'}, {'number': 7, 'created': '2021-08-02 16:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/132aabe9fc8071e30024dd33b6248034d337bf4a', 'message': '[SVF]:Storwize HyperSwap snapshot clone is failing\n\n[Spectrum Virtualize Family] During create HyperSwap snapshot,\ncreate HyperSwap clone volume, create HyperSwap group snapshot,\ncreate HyperSwap group clone operations are failing with\nVolumeDriverException.\n\nThis patch fixes the issue by skipping the hyperswap checks for\nsnapshot, clone, group snapshot and group clone operations.\n\nCloses-Bug: #1924602\n\nChange-Id: I8b7b372e1c8d95b0c199e1f9bca97c065f265fa7\n'}, {'number': 8, 'created': '2021-09-08 14:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/86ad38defcdc43ce5913220f7eb895b51a02b512', 'message': '[SVF]:Storwize HyperSwap snapshot clone is failing\n\n[Spectrum Virtualize Family] During create HyperSwap snapshot,\ncreate HyperSwap clone volume, create HyperSwap group snapshot,\ndelete HyperSwap group snapshot, create HyperSwap group clone\noperations are failing with VolumeDriverException.\n\nThis patch fixes the issue by skipping the hyperswap checks for\nsnapshot, clone, group snapshot and group clone operations.\n\nCloses-Bug: #1924602\n\nChange-Id: I8b7b372e1c8d95b0c199e1f9bca97c065f265fa7\n'}, {'number': 9, 'created': '2021-09-09 14:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fb222dae52dfb1ea05b999552b74b7a1708b0e65', 'message': '[SVF]:Storwize HyperSwap snapshot clone is failing\n\n[Spectrum Virtualize Family] During create HyperSwap snapshot,\ncreate HyperSwap clone volume, create HyperSwap group snapshot,\ndelete HyperSwap group snapshot, create HyperSwap group clone\noperations are failing with VolumeDriverException.\n\nThis patch fixes the issue by skipping the hyperswap checks for\nsnapshot, clone, group snapshot and group clone operations.\n\nCloses-Bug: #1924602\n\nChange-Id: I8b7b372e1c8d95b0c199e1f9bca97c065f265fa7\n'}, {'number': 10, 'created': '2021-09-13 14:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/69b579a19fa33c5fd864fe68c9551dcbc219b1fa', 'message': '[SVF]:Storwize HyperSwap snapshot clone is failing\n\n[Spectrum Virtualize Family] During create HyperSwap snapshot,\ncreate HyperSwap clone volume, create HyperSwap group snapshot,\ndelete HyperSwap group snapshot, create HyperSwap group clone\noperations are failing with VolumeDriverException.\n\nThis patch fixes the issue by skipping the hyperswap checks for\nsnapshot, clone, group snapshot and group clone operations.\n\nCloses-Bug: #1924602\n\nChange-Id: I8b7b372e1c8d95b0c199e1f9bca97c065f265fa7\n'}, {'number': 11, 'created': '2021-09-13 17:23:44.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/bug-1924602-ibm-svf_Storwize_HyperSwap_snapshot_clone_is_failing-c144e6b99d56de64.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/91482ac12d0622663f5510d3a574f43adc42d882', 'message': '[SVF]:Storwize HyperSwap snapshot clone is failing\n\n[Spectrum Virtualize Family] During create HyperSwap snapshot,\ncreate HyperSwap clone volume, create HyperSwap group snapshot,\ndelete HyperSwap group snapshot, create HyperSwap group clone\noperations are failing with VolumeDriverException.\n\nThis patch fixes the issue by skipping the hyperswap checks for\nsnapshot, clone, group snapshot and group clone operations.\n\nCloses-Bug: #1924602\n\nChange-Id: I8b7b372e1c8d95b0c199e1f9bca97c065f265fa7\n'}]",18,776307,91482ac12d0622663f5510d3a574f43adc42d882,265,11,11,32171,,,0,"[SVF]:Storwize HyperSwap snapshot clone is failing

[Spectrum Virtualize Family] During create HyperSwap snapshot,
create HyperSwap clone volume, create HyperSwap group snapshot,
delete HyperSwap group snapshot, create HyperSwap group clone
operations are failing with VolumeDriverException.

This patch fixes the issue by skipping the hyperswap checks for
snapshot, clone, group snapshot and group clone operations.

Closes-Bug: #1924602

Change-Id: I8b7b372e1c8d95b0c199e1f9bca97c065f265fa7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/776307/9 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'],1,9404cdb2ba91040901265947b268812da2860e1f,bug/1924602," if opts['volume_topology'] == 'hyperswap': LOG.debug('The source volume %s to be created is a hyperswap ' 'volume.', volume.name) # Ensures the vdisk is not part of FC mapping. # Otherwize convert it to hyperswap volume will be failed. self._helpers.ensure_vdisk_no_fc_mappings(volume['name'], allow_snaps=True, allow_fctgt=False) self._helpers.convert_volume_to_hyperswap(volume['name'], opts, self._state) pass ""consistent_group_replication_enabled"")): is_hyper_group = False if volume_utils.is_group_a_type(group, ""hyperswap_group_enabled""): is_hyper_group = True if is_hyper_group: self._helpers.ensure_vdisk_no_fc_mappings(vol['name'], allow_snaps=True, allow_fctgt=False) opts = self._get_vdisk_params(vol['volume_type_id'], volume_metadata= vol.get('volume_metadata')) self._helpers.convert_volume_to_hyperswap(vol['name'], opts, self._state) added_vols.append({'id': volume.id, 'group_id': group.id}) removed_vols.append({'id': volume.id, 'group_id': None}) "," if opts['volume_topology'] == 'hyperswap': msg = _('create_snapshot: Create snapshot to a ' 'hyperswap volume is not allowed.') LOG.error(msg) raise exception.VolumeDriverException(message=msg) if not self._helpers.is_system_topology_hyperswap(self._state): LOG.error('Unable to create group: create group on ' 'a system that does not support hyperswap.') model_update = {'status': fields.GroupStatus.ERROR} for vol_type_id in group.volume_type_ids: opts = self._get_vdisk_params(vol_type_id) if not opts['volume_topology']: # An unsupported configuration LOG.error('Unable to create group: create consistent ' 'hyperswap group with non-hyperswap volume' ' type is not supported.') model_update = {'status': fields.GroupStatus.ERROR} return model_update rccg_name = self._get_rccg_name(group, hyper_grp=True) try: self._helpers.create_rccg( rccg_name, self._state['system_name']) except exception.VolumeBackendAPIException as err: LOG.error(""Failed to create rccg %(rccg)s. "" ""Exception: %(exception)s."", {'rccg': group.name, 'exception': err}) model_update = {'status': fields.GroupStatus.ERROR} ""consistent_group_replication_enabled"") and not volume_utils.is_group_a_type( group, ""hyperswap_group_enabled"")): if volume_utils.is_group_a_type(group, ""hyperswap_group_enabled""): # An unsupported configuration msg = _('Unable to create hyperswap group: create hyperswap ' 'group from a hyperswap group is not supported.') LOG.exception(msg) raise exception.VolumeBackendAPIException(data=msg) if (not volume_utils.is_group_a_cg_snapshot_type(group) and not volume_utils.is_group_a_type (group, ""consistent_group_replication_enabled"")): # we'll rely on the generic volume groups implementation if it is # not a consistency group request. raise NotImplementedError() if (not volume_utils.is_group_a_cg_snapshot_type(group_snapshot) and not volume_utils.is_group_a_type (group_snapshot, ""consistent_group_replication_enabled"")): # we'll rely on the generic group implementation if it is not a # consistency group request. raise NotImplementedError() try: rccg_name = self._get_rccg_name(group, hyper_grp=True) self._helpers.delete_rccg(rccg_name) except exception.VolumeBackendAPIException as err: LOG.error(""Failed to delete rccg %(rccg)s. "" ""Exception: %(exception)s."", {'rccg': group.name, 'exception': err}) model_update = {'status': fields.GroupStatus.ERROR_DELETING} rccg_name = self._get_rccg_name(group, hyper_grp=True) if not self._helpers.get_rccg(rccg_name): LOG.error(""Failed to update rccg: %(grp)s does not exist in "" ""backend."", {'grp': group.id}) model_update['status'] = fields.GroupStatus.ERROR return model_update, None, None # Add remote copy relationship to rccg hyper_volume = self.is_volume_hyperswap(volume) if not hyper_volume: LOG.error(""Failed to update rccg: the non hyperswap volume"" "" of %(vol)s can't be added to hyperswap group."", {'vol': volume.id}) model_update['status'] = fields.GroupStatus.ERROR continue try: rcrel = self._helpers.get_relationship_info(volume.name) if not rcrel: LOG.error(""Failed to update rccg: remote copy relationship"" "" of %(vol)s does not exist in backend."", {'vol': volume.id}) model_update['status'] = fields.GroupStatus.ERROR else: self._helpers.chrcrelationship(rcrel['name'], rccg_name) added_vols.append({'id': volume.id, 'group_id': group.id}) except exception.VolumeBackendAPIException as err: model_update['status'] = fields.GroupStatus.ERROR LOG.error(""Failed to add the remote copy of volume %(vol)s to "" ""rccg. Exception: %(exception)s."", {'vol': volume.name, 'exception': err}) # Remove remote copy relationship from rccg try: rcrel = self._helpers.get_relationship_info(volume.name) if not rcrel: LOG.error(""Failed to update rccg: remote copy relationship"" "" of %(vol)s does not exit in backend."", {'vol': volume.id}) model_update['status'] = fields.GroupStatus.ERROR else: self._helpers.chrcrelationship(rcrel['name']) removed_vols.append({'id': volume.id, 'group_id': None}) except exception.VolumeBackendAPIException as err: model_update['status'] = fields.GroupStatus.ERROR LOG.error(""Failed to remove the remote copy of volume %(vol)s "" ""from rccg. Exception: %(exception)s."", {'vol': volume.name, 'exception': err})",32,106
openstack%2Fnova~stable%2Fussuri~I546d376869a992601b443fb95acf1034da2a8f36,openstack/nova,stable/ussuri,I546d376869a992601b443fb95acf1034da2a8f36,Reduce mocking in test_reject_open_redirect for compat,MERGED,2021-07-31 01:00:28.000000000,2021-09-14 18:28:19.000000000,2021-09-14 18:22:12.000000000,"[{'_account_id': 7634}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-31 01:00:28.000000000', 'files': ['nova/tests/unit/console/test_websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d43b88a33407b1253e7bce70f720a44f7688141f', 'message': 'Reduce mocking in test_reject_open_redirect for compat\n\nThis is a followup for change Ie36401c782f023d1d5f2623732619105dc2cfa24\nto reduce mocking in the unit test coverage for it.\n\nWhile backporting the bug fix, it was found to be incompatible with\nearlier versions of Python < 3.6 due to a difference in internal\nimplementation [1].\n\nThis reduces the mocking in the unit test to be more agnostic to the\ninternals of the StreamRequestHandler (ancestor of\nSimpleHTTPRequestHandler) and work across Python versions >= 2.7.\n\nRelated-Bug: #1927677\n\n[1] https://github.com/python/cpython/commit/34eeed42901666fce099947f93dfdfc05411f286\n\nChange-Id: I546d376869a992601b443fb95acf1034da2a8f36\n(cherry picked from commit 214cabe6848a1fdb4f5941d994c6cc11107fc4af)\n(cherry picked from commit 9c2f29783734cb5f9cb05a08d328c10e1d16c4f1)\n(cherry picked from commit 94e265f3ca615aa18de0081a76975019997b8709)\n'}]",0,803094,d43b88a33407b1253e7bce70f720a44f7688141f,13,3,1,4690,,,0,"Reduce mocking in test_reject_open_redirect for compat

This is a followup for change Ie36401c782f023d1d5f2623732619105dc2cfa24
to reduce mocking in the unit test coverage for it.

While backporting the bug fix, it was found to be incompatible with
earlier versions of Python < 3.6 due to a difference in internal
implementation [1].

This reduces the mocking in the unit test to be more agnostic to the
internals of the StreamRequestHandler (ancestor of
SimpleHTTPRequestHandler) and work across Python versions >= 2.7.

Related-Bug: #1927677

[1] https://github.com/python/cpython/commit/34eeed42901666fce099947f93dfdfc05411f286

Change-Id: I546d376869a992601b443fb95acf1034da2a8f36
(cherry picked from commit 214cabe6848a1fdb4f5941d994c6cc11107fc4af)
(cherry picked from commit 9c2f29783734cb5f9cb05a08d328c10e1d16c4f1)
(cherry picked from commit 94e265f3ca615aa18de0081a76975019997b8709)
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/803094/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/console/test_websocketproxy.py'],1,d43b88a33407b1253e7bce70f720a44f7688141f,bug/1927677,"import io handler = websocketproxy.NovaProxyRequestHandler( # Collect the response data to verify at the end. The # SimpleHTTPRequestHandler writes the response data to a 'wfile' # attribute. output = io.BytesIO() handler.wfile = output # Process the mock_req again to do the capture. handler.do_GET() output.seek(0) result = output.readlines() self.assertIn('400 URI must not start with //', result[0].decode())"," # Collect the response data to verify at the end. The # SimpleHTTPRequestHandler writes the response data by calling the # request socket sendall() method. self.data = b'' def fake_sendall(data): self.data += data mock_req.sendall.side_effect = fake_sendall websocketproxy.NovaProxyRequestHandler( self.data = self.data.decode() self.assertIn('Error code: 400', self.data) self.assertIn('Message: URI must not start with //', self.data)",13,14
openstack%2Fansible-role-container-registry~master~I1f6e855b0c9cddaf714bf5750f3edd167ede1527,openstack/ansible-role-container-registry,master,I1f6e855b0c9cddaf714bf5750f3edd167ede1527,setup.cfg: Replace dashes with underscores,MERGED,2021-05-04 07:52:45.000000000,2021-09-14 18:19:45.000000000,2021-09-14 18:19:45.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 07:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/5189998661bbc308ec0b23441bd50dd4b3726572', 'message': 'setup.cfg: Replace dashes with underscores\n\nChange-Id: I1f6e855b0c9cddaf714bf5750f3edd167ede1527\n'}, {'number': 2, 'created': '2021-05-04 07:53:55.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/5e435a4264cc4f6e4c35af7938defd781d53f52b', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I1f6e855b0c9cddaf714bf5750f3edd167ede1527\n""}]",0,789507,5e435a4264cc4f6e4c35af7938defd781d53f52b,9,3,2,33161,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I1f6e855b0c9cddaf714bf5750f3edd167ede1527
",git fetch https://review.opendev.org/openstack/ansible-role-container-registry refs/changes/07/789507/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5189998661bbc308ec0b23441bd50dd4b3726572,,description_file =author_email = emilien@redhat.com home_page = https://opendev.org/openstack/ansible-role-container-registrysetup_hooks =,description-file =author-email = emilien@redhat.com home-page = https://opendev.org/openstack/ansible-role-container-registrysetup-hooks =,4,4
openstack%2Fpuppet-neutron~master~Id43ffae22cb5795246c9fe8d7682b2cca49ed50e,openstack/puppet-neutron,master,Id43ffae22cb5795246c9fe8d7682b2cca49ed50e,Remove remaining ineffective parameter for plumgrid plugin,MERGED,2021-09-11 13:19:14.000000000,2021-09-14 18:19:17.000000000,2021-09-14 18:17:36.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-11 13:19:14.000000000', 'files': ['manifests/config.pp', 'releasenotes/notes/cleanup-plumgrid-6ae80b90642507c2.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c4918bea490d9f0c80a8b9f8bfa42b5bb59cf9ae', 'message': 'Remove remaining ineffective parameter for plumgrid plugin\n\nThe plumgrid plugin is no longer supported since Wallaby[1]. This\nchange removes the remaining deprecated parameter to clean up all\nrelated implementations.\n\n[1] f7c40f7056d16ce69d5e7cce7c5d93794a007a9a\n\nChange-Id: Id43ffae22cb5795246c9fe8d7682b2cca49ed50e\n'}]",0,808546,c4918bea490d9f0c80a8b9f8bfa42b5bb59cf9ae,8,3,1,9816,,,0,"Remove remaining ineffective parameter for plumgrid plugin

The plumgrid plugin is no longer supported since Wallaby[1]. This
change removes the remaining deprecated parameter to clean up all
related implementations.

[1] f7c40f7056d16ce69d5e7cce7c5d93794a007a9a

Change-Id: Id43ffae22cb5795246c9fe8d7682b2cca49ed50e
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/46/808546/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/config.pp', 'releasenotes/notes/cleanup-plumgrid-6ae80b90642507c2.yaml']",2,c4918bea490d9f0c80a8b9f8bfa42b5bb59cf9ae,plugin-cleanup,--- upgrade: - | The ``neutron::config::plugin_plumgrid_config`` parameter has been removed. ,,4,8
openstack%2Fopenstacksdk~feature%2Fr1~Icacef2044efd6e1096bb88aa830dc64cac43bde5,openstack/openstacksdk,feature/r1,Icacef2044efd6e1096bb88aa830dc64cac43bde5,Fix setting initial object/container metadata.,MERGED,2021-09-09 13:16:35.000000000,2021-09-14 18:19:17.000000000,2021-09-14 18:16:51.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-09-09 13:16:35.000000000', 'files': ['openstack/tests/unit/object_store/v1/test_obj.py', 'openstack/object_store/v1/_base.py', 'openstack/object_store/v1/obj.py', 'openstack/tests/unit/object_store/v1/test_proxy.py', 'releasenotes/notes/swift-set-metadata-c18c60e440f9e4a7.yaml', 'openstack/tests/unit/object_store/v1/test_container.py', 'openstack/object_store/v1/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bba9c5c5085173ad633c6b5691a8d29a0b66ce63', 'message': 'Fix setting initial object/container metadata.\n\nAs of now we can not easily set object_store resources metadata on the\ncreation when using proxy layer directly. While create_object claimed\nthat it was never really working. As a prerequisite for switching cloud\nlayer to rely on proxy we need to address this.\n\nChange-Id: Icacef2044efd6e1096bb88aa830dc64cac43bde5\n'}]",0,808073,bba9c5c5085173ad633c6b5691a8d29a0b66ce63,7,2,1,27900,,,0,"Fix setting initial object/container metadata.

As of now we can not easily set object_store resources metadata on the
creation when using proxy layer directly. While create_object claimed
that it was never really working. As a prerequisite for switching cloud
layer to rely on proxy we need to address this.

Change-Id: Icacef2044efd6e1096bb88aa830dc64cac43bde5
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/73/808073/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/object_store/v1/_base.py', 'openstack/tests/unit/object_store/v1/test_obj.py', 'openstack/object_store/v1/obj.py', 'openstack/tests/unit/object_store/v1/test_proxy.py', 'openstack/tests/unit/object_store/v1/test_container.py', 'releasenotes/notes/swift-set-metadata-c18c60e440f9e4a7.yaml', 'openstack/object_store/v1/_proxy.py']",7,bba9c5c5085173ad633c6b5691a8d29a0b66ce63,," name=name, data=data, metadata=metadata, **headers)"," for (k, v) in metadata.items(): if not k.lower().startswith('x-object-meta-'): headers['x-object-meta-' + k] = v else: headers[k] = v name=name, data=data, **headers)",45,14
openstack%2Fpuppet-neutron~master~I857fdcf6da6bf62ef6fd25987a118b499eb05908,openstack/puppet-neutron,master,I857fdcf6da6bf62ef6fd25987a118b499eb05908,Fix confusing parameter name in unit tests,MERGED,2021-09-11 13:42:43.000000000,2021-09-14 18:17:43.000000000,2021-09-14 18:17:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-11 13:42:43.000000000', 'files': ['spec/unit/type/neutron_l3_agent_config_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/ff7fd902fd13d693d7c037d76dbfe910a536cdb1', 'message': 'Fix confusing parameter name in unit tests\n\nThis change fixes a confusing parameter name in unit tests which is not\nconsistent with the actual resource being tested.\n\nChange-Id: I857fdcf6da6bf62ef6fd25987a118b499eb05908\n'}]",0,808549,ff7fd902fd13d693d7c037d76dbfe910a536cdb1,7,3,1,9816,,,0,"Fix confusing parameter name in unit tests

This change fixes a confusing parameter name in unit tests which is not
consistent with the actual resource being tested.

Change-Id: I857fdcf6da6bf62ef6fd25987a118b499eb05908
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/49/808549/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/unit/type/neutron_l3_agent_config_spec.rb'],1,ff7fd902fd13d693d7c037d76dbfe910a536cdb1,," @neutron_l3_agent_config = Puppet::Type.type(:neutron_l3_agent_config).new(:name => 'DEFAULT/foo', :value => 'bar') catalog.add_resource anchor, @neutron_l3_agent_config dependency = @neutron_l3_agent_config.autorequire expect(dependency[0].target).to eq(@neutron_l3_agent_config)"," @neutron_fwaas_service_config = Puppet::Type.type(:neutron_l3_agent_config).new(:name => 'DEFAULT/foo', :value => 'bar') catalog.add_resource anchor, @neutron_fwaas_service_config dependency = @neutron_fwaas_service_config.autorequire expect(dependency[0].target).to eq(@neutron_fwaas_service_config)",4,4
openstack%2Fpuppet-neutron~master~Ib8a0b89f11dd1c456b08eb51e4c4d38fb1a2e715,openstack/puppet-neutron,master,Ib8a0b89f11dd1c456b08eb51e4c4d38fb1a2e715,Remove Neutron FWaaS,MERGED,2021-09-11 13:41:05.000000000,2021-09-14 18:17:40.000000000,2021-09-14 18:17:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-11 13:41:05.000000000', 'files': ['lib/puppet/provider/neutron_fwaas_service_config/ini_setting.rb', 'manifests/services/fwaas.pp', 'spec/unit/type/neutron_fwaas_service_config_spec.rb', 'spec/classes/neutron_services_fwaas_spec.rb', 'releasenotes/notes/remove-fwaas-53bc0bba767b7cae.yaml', 'spec/unit/provider/neutron_fwaas_service_config/ini_setting_spec.rb', 'lib/puppet/type/neutron_fwaas_service_config.rb', 'manifests/params.pp', 'spec/classes/neutron_server_spec.rb', 'manifests/deps.pp', 'spec/acceptance/neutron_config_spec.rb', 'manifests/server.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/41efa1c30879b82e7dfc38249ab6cbd7a81cfdf2', 'message': 'Remove Neutron FWaaS\n\nNeutron FWaaS is no longer supported since Wallaby[1], because\nthe project it self has been retired.\n\n[1] 80f2b44bcb576a2eefca8639496bc04ec6fe3265\n\nChange-Id: Ib8a0b89f11dd1c456b08eb51e4c4d38fb1a2e715\n'}]",0,808548,41efa1c30879b82e7dfc38249ab6cbd7a81cfdf2,10,3,1,9816,,,0,"Remove Neutron FWaaS

Neutron FWaaS is no longer supported since Wallaby[1], because
the project it self has been retired.

[1] 80f2b44bcb576a2eefca8639496bc04ec6fe3265

Change-Id: Ib8a0b89f11dd1c456b08eb51e4c4d38fb1a2e715
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/48/808548/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/neutron_fwaas_service_config/ini_setting.rb', 'manifests/services/fwaas.pp', 'spec/unit/type/neutron_fwaas_service_config_spec.rb', 'spec/classes/neutron_services_fwaas_spec.rb', 'releasenotes/notes/remove-fwaas-53bc0bba767b7cae.yaml', 'spec/unit/provider/neutron_fwaas_service_config/ini_setting_spec.rb', 'lib/puppet/type/neutron_fwaas_service_config.rb', 'manifests/params.pp', 'spec/classes/neutron_server_spec.rb', 'manifests/deps.pp', 'spec/acceptance/neutron_config_spec.rb', 'manifests/server.pp']",12,41efa1c30879b82e7dfc38249ab6cbd7a81cfdf2,retire-neutron-fwaas,,"# DEPRECATED PARAMETERS # # [*ensure_fwaas_package*] # (Optional) Ensures installation of FWaaS package before starting API service. # Set to true to ensure installation of the package that is required to start neutron service if service_plugin is enabled. # Defaults to undef. # # DEPRECATED PARAMETERS $ensure_fwaas_package = undef, if $ensure_fwaas_package { warning('neutron::server::ensure_fwaas_package is deprecated and will be removed in a future release') if ($::osfamily == 'Debian') { # Debian platforms if $vpnaas_agent_package { ensure_resource( 'package', $::neutron::params::vpnaas_agent_package, { 'ensure' => $neutron::package_ensure, 'tag' => ['openstack', 'neutron-package'], }) Package[$::neutron::params::vpnaas_agent_package] -> Neutron_fwaas_service_config<||> } else { ensure_resource( 'package', 'neutron-fwaas' , { 'name' => $::neutron::params::fwaas_package, 'ensure' => $neutron::package_ensure, 'tag' => ['openstack', 'neutron-package'], }) } } elsif($::osfamily == 'Redhat') { # RH platforms ensure_resource( 'package', 'neutron-fwaas', { 'name' => $::neutron::params::fwaas_package, 'ensure' => $neutron::package_ensure, 'tag' => ['openstack', 'neutron-package'], }) } } ",9,453
openstack%2Fpuppet-neutron~master~I2ae75ce152aaeade2575e4d731e0a66e4beeefc8,openstack/puppet-neutron,master,I2ae75ce152aaeade2575e4d731e0a66e4beeefc8,Remove support for Midonet plugin,MERGED,2021-09-11 13:24:02.000000000,2021-09-14 18:17:38.000000000,2021-09-14 18:17:38.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-11 13:24:02.000000000', 'files': ['manifests/plugins/ml2/type_driver.pp', 'lib/puppet/type/neutron_plugin_midonet.rb', 'manifests/init.pp', 'releasenotes/notes/remove-midonet-cdd807af92001d78.yaml', 'manifests/config.pp', 'spec/unit/type/neutron_plugin_midonet_spec.rb', 'spec/unit/provider/neutron_plugin_midonet/ini_setting_spec.rb', 'manifests/plugins/ml2/midonet.pp', 'lib/puppet/provider/neutron_plugin_midonet/ini_setting.rb', 'lib/puppet/type/neutron_network.rb', 'spec/acceptance/neutron_config_spec.rb', 'manifests/plugins/midonet.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/fda16dec3c63bf1f8827f8bc8676e950e29b3572', 'message': 'Remove support for Midonet plugin\n\n... because it was deprecated during Wallaby cucle[1].\n\n[1] a86f572e4fb57f30205788948a97ed57c6910951\n\nChange-Id: I2ae75ce152aaeade2575e4d731e0a66e4beeefc8\n'}]",0,808547,fda16dec3c63bf1f8827f8bc8676e950e29b3572,7,3,1,9816,,,0,"Remove support for Midonet plugin

... because it was deprecated during Wallaby cucle[1].

[1] a86f572e4fb57f30205788948a97ed57c6910951

Change-Id: I2ae75ce152aaeade2575e4d731e0a66e4beeefc8
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/47/808547/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/plugins/ml2/type_driver.pp', 'lib/puppet/type/neutron_plugin_midonet.rb', 'manifests/init.pp', 'releasenotes/notes/remove-midonet-cdd807af92001d78.yaml', 'manifests/config.pp', 'spec/unit/type/neutron_plugin_midonet_spec.rb', 'spec/unit/provider/neutron_plugin_midonet/ini_setting_spec.rb', 'manifests/plugins/ml2/midonet.pp', 'lib/puppet/provider/neutron_plugin_midonet/ini_setting.rb', 'lib/puppet/type/neutron_network.rb', 'spec/acceptance/neutron_config_spec.rb', 'manifests/plugins/midonet.pp']",12,fda16dec3c63bf1f8827f8bc8676e950e29b3572,plugin-cleanup,,"# == Class: midonet::neutron_plugin # # DEPERECATED ! # Install and configure Midonet Neutron Plugin. Please note that this manifest # does not install the 'python-networking-midonet' package, it only # configures Neutron to do so needed for this deployment. Check out the # MidoNet module to do so. # # === Parameters # # [*midonet_cluster_ip*] # IP address of the MidoNet Cluster service. # Defaults to '127.0.0.1' # # [*midonet_cluster_port*] # Port on which the MidoNet Cluster listens. # Defaults to '8181' # # [*keystone_username*] # Username with which MidoNet Cluster will authenticate against Keystone. # Defaults to 'neutron' # # [*keystone_password*] # Password for the user that will be used to authenticate against Keystone. # Defaults to $::os_service_default # # [*keystone_tenant*] # Tenant for the user that will be used to authenticate against Keystone. # Defaults to 'services' # # [*sync_db*] # Whether 'midonet-db-manage' should run to create and/or sync the database # with MidoNet specific tables. # Defaults to false # # [*purge_config*] # (optional) Whether to set only the specified config options # in the midonet config. # Defaults to false # # [*package_ensure*] # Whether to install the latest package, or a specific version # of the MidoNet plugin. # Defaults to 'present' # # DEPRECATED PARAMETERS # # [*midonet_api_ip*] # (DEPRECATED) IP address of the MidoNet API service. # Defaults to undef # # [*midonet_api_port*] # (DEPRECATED) Port on which the MidoNet API service listens. # Defaults to undef # # === Examples # # An example call would be: # # class {'neutron:plugins::midonet': # midonet_cluster_ip => '23.123.5.32', # midonet_cluster_port => '8181', # keystone_username => 'neutron', # keystone_password => '32kjaxT0k3na', # keystone_tenant => 'services', # sync_db => true # } # # You can alternatively use the Hiera's yaml style: # neutron::plugin::midonet::midonet_cluster_ip: '23.213.5.32' # neutron::plugin::midonet::port: '8181' # neutron::plugin::midonet::keystone_username: 'neutron' # neutron::plugin::midonet::keystone_password: '32kjaxT0k3na' # neutron::plugin::midonet::keystone_tenant: 'services' # neutron::plugin::midonet::sync_db: true # # === Authors # # Midonet (http://MidoNet.org) # # === Copyright # # Copyright (c) 2015 Midokura SARL, All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # class neutron::plugins::midonet ( $midonet_cluster_ip = '127.0.0.1', $midonet_cluster_port = '8181', $keystone_username = 'neutron', $keystone_password = $::os_service_default, $keystone_tenant = 'services', $sync_db = false, $purge_config = false, $package_ensure = 'present', # DEPRECATED PARAMETERS $midonet_api_ip = undef, $midonet_api_port = undef, ) { include neutron::deps include neutron::params warning('Support for the midonet plugin has been deprecated and has no effect') } ",7,350
openstack%2Fpuppet-neutron~master~I5425f744c70c9a320adb36c0f5a112815bbffcfd,openstack/puppet-neutron,master,I5425f744c70c9a320adb36c0f5a112815bbffcfd,Remove support for monolithic cisco plugin,MERGED,2021-09-11 13:19:14.000000000,2021-09-14 17:28:33.000000000,2021-09-14 17:27:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-11 13:19:14.000000000', 'files': ['spec/unit/type/neutron_plugin_cisco_db_conn_spec.rb', 'spec/unit/provider/neutron_plugin_cisco_l2network/ini_setting_spec.rb', 'releasenotes/notes/remove-neutron-plugin-cisco-0a20b62ef773a8d2.yaml', 'spec/unit/type/neutron_plugin_cisco_credentials_spec.rb', 'lib/puppet/provider/neutron_plugin_cisco_l2network/ini_setting.rb', 'lib/puppet/type/neutron_plugin_cisco_l2network.rb', 'manifests/init.pp', 'manifests/plugins/cisco.pp', 'spec/unit/type/neutron_plugin_cisco_l2network_spec.rb', 'lib/puppet/provider/neutron_plugin_cisco_credentials/ini_setting.rb', 'manifests/config.pp', 'spec/unit/provider/neutron_plugin_cisco/ini_setting_spec.rb', 'lib/puppet/provider/neutron_plugin_cisco_db_conn/ini_setting.rb', 'lib/puppet/type/neutron_plugin_cisco_db_conn.rb', 'lib/puppet/provider/neutron_plugin_cisco/ini_setting.rb', 'spec/unit/provider/neutron_plugin_cisco_credentials/ini_setting_spec.rb', 'spec/unit/type/neutron_plugin_cisco_spec.rb', 'lib/puppet/type/neutron_plugin_cisco.rb', 'lib/puppet/type/neutron_plugin_cisco_credentials.rb', 'manifests/params.pp', 'manifests/deps.pp', 'spec/unit/provider/neutron_plugin_cisco_db_conn/ini_setting_spec.rb', 'spec/acceptance/neutron_config_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4706298d29708903870b23ce967c97abfd767180', 'message': 'Remove support for monolithic cisco plugin\n\n... because it was deprecated during Wallaby cycle[1].\n\n[1] bc50622a2db80e7759f7fe4caaf58f4ce5b8567a\n\nChange-Id: I5425f744c70c9a320adb36c0f5a112815bbffcfd\n'}]",0,808545,4706298d29708903870b23ce967c97abfd767180,8,3,1,9816,,,0,"Remove support for monolithic cisco plugin

... because it was deprecated during Wallaby cycle[1].

[1] bc50622a2db80e7759f7fe4caaf58f4ce5b8567a

Change-Id: I5425f744c70c9a320adb36c0f5a112815bbffcfd
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/45/808545/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/type/neutron_plugin_cisco_db_conn_spec.rb', 'spec/unit/provider/neutron_plugin_cisco_l2network/ini_setting_spec.rb', 'releasenotes/notes/remove-neutron-plugin-cisco-0a20b62ef773a8d2.yaml', 'spec/unit/type/neutron_plugin_cisco_credentials_spec.rb', 'lib/puppet/provider/neutron_plugin_cisco_l2network/ini_setting.rb', 'lib/puppet/type/neutron_plugin_cisco_l2network.rb', 'manifests/init.pp', 'manifests/plugins/cisco.pp', 'spec/unit/type/neutron_plugin_cisco_l2network_spec.rb', 'lib/puppet/provider/neutron_plugin_cisco_credentials/ini_setting.rb', 'manifests/config.pp', 'spec/unit/provider/neutron_plugin_cisco/ini_setting_spec.rb', 'lib/puppet/provider/neutron_plugin_cisco_db_conn/ini_setting.rb', 'lib/puppet/type/neutron_plugin_cisco_db_conn.rb', 'lib/puppet/provider/neutron_plugin_cisco/ini_setting.rb', 'spec/unit/provider/neutron_plugin_cisco_credentials/ini_setting_spec.rb', 'spec/unit/type/neutron_plugin_cisco_spec.rb', 'lib/puppet/type/neutron_plugin_cisco.rb', 'lib/puppet/type/neutron_plugin_cisco_credentials.rb', 'manifests/params.pp', 'manifests/deps.pp', 'spec/unit/provider/neutron_plugin_cisco_db_conn/ini_setting_spec.rb', 'spec/acceptance/neutron_config_spec.rb']",23,4706298d29708903870b23ce967c97abfd767180,plugin-cleanup,," '/etc/neutron/plugins/cisco/cisco_plugins.ini', '/etc/neutron/plugins/cisco/credentials.ini', '/etc/neutron/plugins/cisco/db_conn.ini', '/etc/neutron/plugins/cisco/l2network_plugin.ini', File <||> -> Neutron_plugin_cisco <||> File <||> -> Neutron_plugin_cisco_credentials <||> File <||> -> Neutron_plugin_cisco_db_conn <||> File <||> -> Neutron_plugin_cisco_l2network <||> '/etc/neutron/plugins/cisco', '/etc/neutron/plugins/cisco/cisco_plugins.ini', '/etc/neutron/plugins/cisco/credentials.ini', '/etc/neutron/plugins/cisco/db_conn.ini', '/etc/neutron/plugins/cisco/l2network_plugin.ini', neutron_plugin_cisco { 'DEFAULT/thisshouldexist' : value => 'foo', } neutron_plugin_cisco { 'DEFAULT/thisshouldnotexist' : value => '<SERVICE DEFAULT>', } neutron_plugin_cisco { 'DEFAULT/thisshouldexist2' : value => '<SERVICE DEFAULT>', ensure_absent_val => 'toto', } neutron_plugin_cisco { 'DEFAULT/thisshouldnotexist2' : value => 'toto', ensure_absent_val => 'toto', } neutron_plugin_cisco_credentials { 'DEFAULT/thisshouldexist' : value => 'foo', } neutron_plugin_cisco_credentials { 'DEFAULT/thisshouldnotexist' : value => '<SERVICE DEFAULT>', } neutron_plugin_cisco_credentials { 'DEFAULT/thisshouldexist2' : value => '<SERVICE DEFAULT>', ensure_absent_val => 'toto', } neutron_plugin_cisco_credentials { 'DEFAULT/thisshouldnotexist2' : value => 'toto', ensure_absent_val => 'toto', } neutron_plugin_cisco_db_conn { 'DEFAULT/thisshouldexist' : value => 'foo', } neutron_plugin_cisco_db_conn { 'DEFAULT/thisshouldnotexist' : value => '<SERVICE DEFAULT>', } neutron_plugin_cisco_db_conn { 'DEFAULT/thisshouldexist2' : value => '<SERVICE DEFAULT>', ensure_absent_val => 'toto', } neutron_plugin_cisco_db_conn { 'DEFAULT/thisshouldnotexist2' : value => 'toto', ensure_absent_val => 'toto', } neutron_plugin_cisco_l2network { 'DEFAULT/thisshouldexist' : value => 'foo', } neutron_plugin_cisco_l2network { 'DEFAULT/thisshouldnotexist' : value => '<SERVICE DEFAULT>', } neutron_plugin_cisco_l2network { 'DEFAULT/thisshouldexist2' : value => '<SERVICE DEFAULT>', ensure_absent_val => 'toto', } neutron_plugin_cisco_l2network { 'DEFAULT/thisshouldnotexist2' : value => 'toto', ensure_absent_val => 'toto', } 'neutron_plugin_cisco', 'neutron_plugin_cisco_credentials', 'neutron_plugin_cisco_db_conn', 'neutron_plugin_cisco_l2network',",5,857
openstack%2Ftripleo-heat-templates~master~Ia892ccb629b7ef7cb80d549fbe1c684e9b93c0fc,openstack/tripleo-heat-templates,master,Ia892ccb629b7ef7cb80d549fbe1c684e9b93c0fc,Install python3-openstackclient after the leapp upgrade,MERGED,2021-09-07 10:58:16.000000000,2021-09-14 17:28:08.000000000,2021-09-14 17:28:08.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-09-07 10:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b70c08df7832b10f13c586c1455c8a5240f06024', 'message': 'Install python3-openstackclient after the leapp upgrade\n\nThe package is part of the base image, but when doing a leapp\nupgrade it is removed because it is not part of the standard\nRHEL repositories.\n\nResolves: rhbz#1994919\n\nChange-Id: Ia892ccb629b7ef7cb80d549fbe1c684e9b93c0fc\n'}, {'number': 2, 'created': '2021-09-13 16:53:47.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c463d2068e256cb2baca8b5af329c1866b1f673e', 'message': 'Install python3-openstackclient after the leapp upgrade\n\nThe package is part of the base image, but when doing a leapp\nupgrade it is removed because it is not part of the standard\nRHEL repositories.\n\nResolves: rhbz#1994919\n\nChange-Id: Ia892ccb629b7ef7cb80d549fbe1c684e9b93c0fc\n'}]",2,807701,c463d2068e256cb2baca8b5af329c1866b1f673e,20,5,2,6816,,,0,"Install python3-openstackclient after the leapp upgrade

The package is part of the base image, but when doing a leapp
upgrade it is removed because it is not part of the standard
RHEL repositories.

Resolves: rhbz#1994919

Change-Id: Ia892ccb629b7ef7cb80d549fbe1c684e9b93c0fc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/807701/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,b70c08df7832b10f13c586c1455c8a5240f06024,rhbz_1994919, - python3-openstackclient,,1,0
openstack%2Foctavia~master~I990b6af1ff880b25e54f6c41ae0c966007f3f098,openstack/octavia,master,I990b6af1ff880b25e54f6c41ae0c966007f3f098,Fix MAX_TIMEOUT value for listener,MERGED,2021-09-09 15:25:04.000000000,2021-09-14 17:26:33.000000000,2021-09-14 17:24:07.000000000,"[{'_account_id': 6469}, {'_account_id': 9373}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27256}, {'_account_id': 29244}, {'_account_id': 31754}]","[{'number': 1, 'created': '2021-09-09 15:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/be6e30bd8c20de10b80869b371abb84be460c86d', 'message': 'Fix MAX_TIMEOUT value for listener\n\nIn the database, timeout_client_data, timeout_member_connect,\ntimeout_member_data, timeout_tcp_inspect have an integer type with\na maximum size of 2147483647. Now MAX_TIMEOUT in API does not exceed\nthis value.\n\nStory: 2009193\nTask: 43248\nChange-Id: I990b6af1ff880b25e54f6c41ae0c966007f3f098\n'}, {'number': 2, 'created': '2021-09-13 15:37:46.000000000', 'files': ['octavia/common/constants.py', 'releasenotes/notes/fix-listener-MAX_TIMEOUT-4c4fdf804a96c34b.yaml', 'octavia/tests/functional/api/v2/test_listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/3a8f056306bba4502639bfc89752d8a48d694e7f', 'message': 'Fix MAX_TIMEOUT value for listener\n\nIn the database, timeout_client_data, timeout_member_connect,\ntimeout_member_data, timeout_tcp_inspect have an integer type with\na maximum size of 2147483647. Now MAX_TIMEOUT in API does not exceed\nthis value and is equal to 24 days (2073600000 seconds).\n\nStory: 2009193\nTask: 43248\nChange-Id: I990b6af1ff880b25e54f6c41ae0c966007f3f098\n'}]",7,808100,3a8f056306bba4502639bfc89752d8a48d694e7f,14,8,2,31754,,,0,"Fix MAX_TIMEOUT value for listener

In the database, timeout_client_data, timeout_member_connect,
timeout_member_data, timeout_tcp_inspect have an integer type with
a maximum size of 2147483647. Now MAX_TIMEOUT in API does not exceed
this value and is equal to 24 days (2073600000 seconds).

Story: 2009193
Task: 43248
Change-Id: I990b6af1ff880b25e54f6c41ae0c966007f3f098
",git fetch https://review.opendev.org/openstack/octavia refs/changes/00/808100/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/constants.py', 'octavia/tests/functional/api/v2/test_listener.py']",2,be6e30bd8c20de10b80869b371abb84be460c86d,," 'timeout_member_connect': 1, 'timeout_member_data': 1, 'timeout_tcp_inspect': 1, } for field in optionals.items(): optionals.update({field[0]: 2147483648}) resp = self.test_create(response_status=400, **optionals).json optionals.update({field[0]: 1}) fault = resp.get('faultstring') self.assertIn( 'Invalid input for field/attribute {0}'.format( field[0]), fault) self.assertIn( 'Value should be lower or equal to {0}'.format( 2073600000), fault)"," 'timeout_member_connect': 2, 'timeout_member_data': 3, 'timeout_tcp_inspect': constants.MAX_TIMEOUT + 1, } resp = self.test_create(response_status=400, **optionals).json fault = resp.get('faultstring') self.assertIn( 'Invalid input for field/attribute timeout_tcp_inspect', fault) self.assertIn( 'Value should be lower or equal to {0}'.format( constants.MAX_TIMEOUT), fault)",16,12
openstack%2Fglance-tempest-plugin~master~I61de3313765635be8eab2ae869c0e241e1ad6ed0,openstack/glance-tempest-plugin,master,I61de3313765635be8eab2ae869c0e241e1ad6ed0,Refactor RbacBasetest to inherit from tempest,MERGED,2021-09-14 15:54:14.000000000,2021-09-14 17:21:38.000000000,2021-09-14 17:21:38.000000000,"[{'_account_id': 5046}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 15:54:14.000000000', 'files': ['glance_tempest_plugin/tests/rbac/v2/base.py', 'glance_tempest_plugin/tests/rbac/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/174c3fac1d4e5827af301ee077c8921201318a30', 'message': 'Refactor RbacBasetest to inherit from tempest\n\nThis makes the RbacBaseTests class inherit from the tempest base class\nso that the image tests can inherit from it in a straight line without\nall the mixing in.\n\nChange-Id: I61de3313765635be8eab2ae869c0e241e1ad6ed0\n'}]",0,808990,174c3fac1d4e5827af301ee077c8921201318a30,8,3,1,4393,,,0,"Refactor RbacBasetest to inherit from tempest

This makes the RbacBaseTests class inherit from the tempest base class
so that the image tests can inherit from it in a straight line without
all the mixing in.

Change-Id: I61de3313765635be8eab2ae869c0e241e1ad6ed0
",git fetch https://review.opendev.org/openstack/glance-tempest-plugin refs/changes/90/808990/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_tempest_plugin/tests/rbac/v2/base.py', 'glance_tempest_plugin/tests/rbac/v2/test_images.py']",2,174c3fac1d4e5827af301ee077c8921201318a30,,"class ImageV2RbacImageTest(rbac_base.RbacBaseTests): class ImageV2RbacTemplate(metaclass=abc.ABCMeta):class ProjectAdminTests(ImageV2RbacImageTest, ImageV2RbacTemplate):class ProjectMemberTests(ImageV2RbacImageTest, ImageV2RbacTemplate):class ProjectReaderTests(ProjectMemberTests):","from tempest.api.image import baseclass ImageV2RbacImageTest(rbac_base.ImageV2RbacBaseTests, metaclass=abc.ABCMeta):class ProjectAdminTests(ImageV2RbacImageTest, base.BaseV2ImageTest):class ProjectMemberTests(ProjectAdminTests, base.BaseV2ImageTest):class ProjectReaderTests(ProjectMemberTests, base.BaseV2ImageTest):",9,7
openstack%2Fironic~master~I5c7cebd585ee84b5b57bd4690d4074baf0d05699,openstack/ironic,master,I5c7cebd585ee84b5b57bd4690d4074baf0d05699,Implements node history: database,MERGED,2020-12-20 14:11:13.000000000,2021-09-14 17:20:07.000000000,2021-09-14 17:16:32.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-12-20 14:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/914acb20e49c45e2c1db65901c37ad8f3a8ffd16', 'message': '[WIP] Implements node history: database\n\nThis patch provides data model change to support node history.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 2, 'created': '2020-12-20 16:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/80a7cc2118669a7d1566873ccf949070d1da3620', 'message': '[WIP] Implements node history: database\n\nThis patch provides data model change to support node history.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 3, 'created': '2020-12-21 14:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3f4611a7d7fa02345a6c487e872154c59fa82eba', 'message': '[WIP] Implements node history: database\n\nThis patch provides data model change to support node history.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 4, 'created': '2020-12-22 03:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4ca9fc044e0f72db07ded387f6cf445f023504bb', 'message': '[WIP] Implements node history: database\n\nThis patch provides data model change to support node history.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 5, 'created': '2020-12-22 06:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9727c630eaf3ca88845146433f28e6f7aa638f31', 'message': '[WIP] Implements node history: database\n\nThis patch provides data model change to support node history.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 6, 'created': '2021-01-17 10:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e5c4e8f519a4166bf7bfe81443d7e530606720a2', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 7, 'created': '2021-01-17 14:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/67591d27be158686977f0b78c3654a53565f92f1', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 8, 'created': '2021-02-07 16:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d1a1ff32484edad517382d2d03294e785ff159d7', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 9, 'created': '2021-02-18 16:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bc77830afdfa2176a69471c2f9e31ce15e074b8c', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 10, 'created': '2021-06-25 14:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c75f382ff43dc2452e9269fcb218a2b51d5b0891', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 11, 'created': '2021-06-25 15:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f1c153e3037aec4cb49bb5a5d9c48bd8b7b711ac', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 12, 'created': '2021-08-02 23:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/53caf773aeea3e5e72b65b7657a185df4892b442', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 13, 'created': '2021-08-04 01:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5e3887f7b47ad758a0c18ba6d90662e5de0678df', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 14, 'created': '2021-08-05 00:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/51a41e6d2cdd530445d376bbf4b517b785cbcb15', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 15, 'created': '2021-08-05 14:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d0cb3282b97b5685a40219897e3b023d163aeae9', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 16, 'created': '2021-08-05 14:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8780e86ba89d1df197232dc69f0fc48ea430ba28', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 17, 'created': '2021-08-06 15:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2d57569a5c625caf1416eba2193c9090a571265d', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 18, 'created': '2021-08-07 22:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/40f597d52f065abdd8aafe8ebb8f7f33a4e1296e', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 19, 'created': '2021-08-10 00:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0dc5337fe198500135294840d99c76fb06a87406', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 20, 'created': '2021-08-10 13:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d9d996cefd03981462f226467439db0ef762a3c3', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 21, 'created': '2021-08-10 23:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e5d8185a3be946524b1f4e6e49eee0a4b421e795', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 22, 'created': '2021-08-11 02:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/87a0bc841320f45f3e802a51108a9da92c5c6352', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 23, 'created': '2021-08-11 16:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6f945a6e4a7b2dd0bd39e6f42764cb80997cd415', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 24, 'created': '2021-08-11 19:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/982db25fa89694a433c3ccc9205d4c5a0f1f35a7', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 25, 'created': '2021-08-11 23:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4c491d3251546426f5bd9f7569e6550b273d9a08', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 26, 'created': '2021-09-03 21:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/771e4012d030794b256f0271d747cd408a7320b8', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}, {'number': 27, 'created': '2021-09-09 17:59:16.000000000', 'files': ['ironic/db/sqlalchemy/alembic/versions/9ef41f07cb58_add_node_history_table.py', 'ironic/common/exception.py', 'ironic/tests/unit/objects/test_node_history.py', 'ironic/db/sqlalchemy/api.py', 'ironic/objects/node_history.py', 'ironic/tests/unit/db/utils.py', 'ironic/tests/unit/db/test_nodes.py', 'ironic/tests/unit/db/test_node_history.py', 'ironic/common/release_mappings.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/db/sqlalchemy/models.py', 'ironic/tests/unit/db/sqlalchemy/test_migrations.py', 'ironic/db/api.py', 'ironic/objects/__init__.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fbaad948d870ffd18995f5494016798c8d3c9206', 'message': 'Implements node history: database\n\nThis patch provides basic data model change to support node history.\nBatch removal is not included in this patch.\n\nChange-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699\nStory: 2002980\nTask: 22989\n'}]",37,768009,fbaad948d870ffd18995f5494016798c8d3c9206,162,7,27,24828,,,0,"Implements node history: database

This patch provides basic data model change to support node history.
Batch removal is not included in this patch.

Change-Id: I5c7cebd585ee84b5b57bd4690d4074baf0d05699
Story: 2002980
Task: 22989
",git fetch https://review.opendev.org/openstack/ironic refs/changes/09/768009/17 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/exception.py', 'ironic/db/sqlalchemy/api.py', 'ironic/objects/node_history.py', 'ironic/tests/unit/db/utils.py', 'ironic/common/release_mappings.py', 'ironic/db/sqlalchemy/alembic/versions/9ef41f07cb58_add_node_history_table.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/db/sqlalchemy/models.py', 'ironic/tests/unit/db/sqlalchemy/test_migrations.py', 'ironic/db/api.py', 'ironic/objects/__init__.py']",11,914acb20e49c45e2c1db65901c37ad8f3a8ffd16,node-history-db, __import__('ironic.objects.node_history'),,414,0
openstack%2Fironic~master~I409e87de2808d442d39e4d0ae6e995668230cbba,openstack/ironic,master,I409e87de2808d442d39e4d0ae6e995668230cbba,Fix driver task pattern to reduce periodic db load,MERGED,2021-09-13 17:09:01.000000000,2021-09-14 17:14:23.000000000,2021-09-14 17:12:14.000000000,"[{'_account_id': 4571}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-09-13 17:09:01.000000000', 'files': ['ironic/drivers/modules/drac/management.py', 'ironic/drivers/modules/redfish/raid.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/drivers/modules/redfish/management.py', 'ironic/drivers/modules/drac/bios.py', 'releasenotes/notes/optimize-driver-task-pattern-322e02b6a2233919.yaml', 'ironic/drivers/modules/irmc/raid.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4fc1abf91fe622b3eca52547dca086396acf9436', 'message': ""Fix driver task pattern to reduce periodic db load\n\nPreviously, a pattern of periodic tasks was created where\nnodes, and in many cases, all nodes not actively locked nor\nthose in maintenance state, were pulled in by a periodic task.\nThese periodic tasks would then create tasks which generated\nadditional database queries in order to populate the task object.\n\nWith the task object populated, the driver would then evaluate\nif the driver in question was for the the driver interface in\nquestion and *then* evaluate if work had to be performed.\n\nHowever, that field containing a pointer to if work needed to be\nperformed as often already queried from the database on the\nvery initial query to generate the list of nodes to evaluate.\n\nIn essence, we've moved this up in the sequence so we evaluate\nthat field in question prior to creating the task, potentially\nacross every conductor, depending on the query, and ultimately\nwhich drivers are enabled.\n\nThis saves potentially saves hundreds of thousands of needless\ndatabase queries on a medium size deployment per single day,\ndepending on which drivers and driver interfaces are in use.\n\nChange-Id: I409e87de2808d442d39e4d0ae6e995668230cbba\n""}]",4,808806,4fc1abf91fe622b3eca52547dca086396acf9436,15,4,1,11655,,,0,"Fix driver task pattern to reduce periodic db load

Previously, a pattern of periodic tasks was created where
nodes, and in many cases, all nodes not actively locked nor
those in maintenance state, were pulled in by a periodic task.
These periodic tasks would then create tasks which generated
additional database queries in order to populate the task object.

With the task object populated, the driver would then evaluate
if the driver in question was for the the driver interface in
question and *then* evaluate if work had to be performed.

However, that field containing a pointer to if work needed to be
performed as often already queried from the database on the
very initial query to generate the list of nodes to evaluate.

In essence, we've moved this up in the sequence so we evaluate
that field in question prior to creating the task, potentially
across every conductor, depending on the query, and ultimately
which drivers are enabled.

This saves potentially saves hundreds of thousands of needless
database queries on a medium size deployment per single day,
depending on which drivers and driver interfaces are in use.

Change-Id: I409e87de2808d442d39e4d0ae6e995668230cbba
",git fetch https://review.opendev.org/openstack/ironic refs/changes/06/808806/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/drivers/modules/redfish/raid.py', 'ironic/drivers/modules/drac/raid.py', 'ironic/drivers/modules/redfish/management.py', 'ironic/drivers/modules/drac/bios.py', 'releasenotes/notes/optimize-driver-task-pattern-322e02b6a2233919.yaml', 'ironic/drivers/modules/irmc/raid.py']",7,4fc1abf91fe622b3eca52547dca086396acf9436,," # NOTE(TheJulia): Evaluate based upon presence of raid # configuration before triggering a task, as opposed to after # so we don't create excess node task objects with related # DB queries. if not raid_config or raid_config.get('fgi_status'): continue ", if not raid_config or raid_config.get('fgi_status'): continue,76,30
openstack%2Fpuppet-designate~master~I611f6333d5d0f648ab07698fafead5558ba8ccd0,openstack/puppet-designate,master,I611f6333d5d0f648ab07698fafead5558ba8ccd0,Remove support for PowerDNS 3 driver,MERGED,2021-09-12 13:08:47.000000000,2021-09-14 16:50:32.000000000,2021-09-14 16:47:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-12 13:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/49b2deadbab3d700f9c0cba787bb9c9b31306ff5', 'message': 'Remove support for PowerDNS 3 driver\n\n... because it was deprecated during Wallaby cycle[1].\n\n[1] 5ce240bc4d9c8fb42bab2a8a719514671d804102\n\nChange-Id: I611f6333d5d0f648ab07698fafead5558ba8ccd0\n'}, {'number': 2, 'created': '2021-09-12 13:28:44.000000000', 'files': ['manifests/backend/powerdns.pp', 'metadata.json', 'releasenotes/notes/remove-powerdns3-driver-9ef389daac73343a.yaml', 'manifests/agent.pp', 'manifests/db/powerdns/sync.pp', 'manifests/db/powerdns/mysql.pp', 'manifests/pool_target.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/4bf4121155ad44d21c2828169a21c514d357ad29', 'message': 'Remove support for PowerDNS 3 driver\n\n... because it was deprecated during Wallaby cycle[1]. This also\nremoves some remaining implementations used for PowerDNS 3 driver\nsupport.\n\n[1] 5ce240bc4d9c8fb42bab2a8a719514671d804102\n\nChange-Id: I611f6333d5d0f648ab07698fafead5558ba8ccd0\n'}]",0,808566,4bf4121155ad44d21c2828169a21c514d357ad29,12,3,2,9816,,,0,"Remove support for PowerDNS 3 driver

... because it was deprecated during Wallaby cycle[1]. This also
removes some remaining implementations used for PowerDNS 3 driver
support.

[1] 5ce240bc4d9c8fb42bab2a8a719514671d804102

Change-Id: I611f6333d5d0f648ab07698fafead5558ba8ccd0
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/66/808566/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/powerdns.pp', 'releasenotes/notes/remove-powerdns3-driver-9ef389daac73343a.yaml', 'manifests/db/powerdns/sync.pp', 'manifests/db/powerdns/mysql.pp']",4,49b2deadbab3d700f9c0cba787bb9c9b31306ff5,powerdns,,"# == Class: designate::db::powerdns::mysql # # DEPRECATED ! # Class that configures mysql for the designate PowerDNS backend. # # === Parameters: # # [*password*] # Password to use for the powerdns user # # [*dbname*] # (optional) The name of the database # Defaults to 'powerdns' # # [*user*] # (optional) The mysql user to create # Defaults to 'powerdns' # # [*host*] # (optional) The IP address of the mysql server # Defaults to '127.0.0.1' # # [*charset*] # (optional) The charset to use for the powerdns database # Defaults to 'utf8' # # [*collate*] # (optional) The collate to use for the powerdns database # Defaults to 'utf8_general_ci' # # [*allowed_hosts*] # (optional) Additional hosts that are allowed to access this DB # Defaults to undef # class designate::db::powerdns::mysql ( $password, $dbname = 'powerdns', $user = 'powerdns', $host = '127.0.0.1', $charset = 'utf8', $collate = 'utf8_general_ci', $allowed_hosts = undef, ) { warning('The designate::db::powerdns::mysql class has been deprecaed \ and has no effect. This class will be removed in a future release.') } ",9,98
openstack%2Ftripleo-repos~master~I289fc02a05fd0e550c5cc9ffeb14da0684d15ee9,openstack/tripleo-repos,master,I289fc02a05fd0e550c5cc9ffeb14da0684d15ee9,Remove type annotations for py2 compatibility add tox-sanity-py27,MERGED,2021-09-10 14:07:30.000000000,2021-09-14 15:48:48.000000000,2021-09-14 15:48:48.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-09-10 14:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/5ed623a774bb04ac3b97b64fb0248751dba95a90', 'message': 'Remove type annotations for py2 compatibility\n\nAs seen at [1] the get-hash module [2] fails on centos7. Removing the\nannotations should fix this.\n\n[1]\nhttps://ab16cb0adf1bbde868e8-d97d31900addfa62359a210d03244371.ssl.cf2.rackcdn.com/807269/1/gate/tripleo-ci-centos-7-content-provider/d1be2fe/job-output.txt\n[2] https://review.opendev.org/c/openstack/tripleo-quickstart/+/791486\n\nChange-Id: I289fc02a05fd0e550c5cc9ffeb14da0684d15ee9\n'}, {'number': 2, 'created': '2021-09-13 12:17:12.000000000', 'files': ['plugins/module_utils/tripleo_repos/get_hash/tripleo_hash_info.py', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/bdc952b6ec3771049d9f03f77970af3d505d8a4f', 'message': ""Remove type annotations for py2 compatibility add tox-sanity-py27\n\nAs seen at [1] the get-hash module [2] fails on centos7. Removing the\nannotations should fix this.\n\nAdds the tox-sanity-py27 job for sanity checking that we don't break\npy27 support moving forward (until we can kill train).\n\n[1]\nhttps://ab16cb0adf1bbde868e8-d97d31900addfa62359a210d03244371.ssl.cf2.rackcdn.com/807269/1/gate/tripleo-ci-centos-7-content-provider/d1be2fe/job-output.txt\n[2] https://review.opendev.org/c/openstack/tripleo-quickstart/+/791486\n\nChange-Id: I289fc02a05fd0e550c5cc9ffeb14da0684d15ee9\n""}]",0,808217,bdc952b6ec3771049d9f03f77970af3d505d8a4f,18,6,2,8449,,,0,"Remove type annotations for py2 compatibility add tox-sanity-py27

As seen at [1] the get-hash module [2] fails on centos7. Removing the
annotations should fix this.

Adds the tox-sanity-py27 job for sanity checking that we don't break
py27 support moving forward (until we can kill train).

[1]
https://ab16cb0adf1bbde868e8-d97d31900addfa62359a210d03244371.ssl.cf2.rackcdn.com/807269/1/gate/tripleo-ci-centos-7-content-provider/d1be2fe/job-output.txt
[2] https://review.opendev.org/c/openstack/tripleo-quickstart/+/791486

Change-Id: I289fc02a05fd0e550c5cc9ffeb14da0684d15ee9
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/17/808217/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/module_utils/tripleo_repos/get_hash/tripleo_hash_info.py'],1,5ed623a774bb04ac3b97b64fb0248751dba95a90,tripleo-get-hash," def http_get(url): def http_get(url): def load_yaml(cls, filename): def __repr__(self):","from typing import Any, Tuple def http_get(url: str) -> Tuple[str, int]: def http_get(url: str) -> Tuple[str, int]: def load_yaml(cls, filename: str) -> Any: def __repr__(self) -> str:",4,5
openstack%2Fpuppet-octavia~master~Ia516256b9a1acc7790bfaf58c1f17e558fe4a139,openstack/puppet-octavia,master,Ia516256b9a1acc7790bfaf58c1f17e558fe4a139,Remove parameters for the Spares Pool feature,MERGED,2021-09-12 13:02:12.000000000,2021-09-14 15:45:58.000000000,2021-09-14 15:44:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-12 13:02:12.000000000', 'files': ['releasenotes/notes/remove-spares-pool-feature-2ed29ea73a2454aa.yaml', 'manifests/housekeeping.pp', 'spec/classes/octavia_housekeeping_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/a6ece88f9f91f487c20fa66abb049ceb6847e696', 'message': 'Remove parameters for the Spares Pool feature\n\n... because these were deprecated during Wallaby cycle[1]. Actual\nimplementation was also removed from Octavia during Xena cycle[2].\n\n[1] 46cffbd1e9229f587f3b6c703f4964aec4bab452\n[2] 815a283823121d563562474eb9048673a95f6e1f\n\nChange-Id: Ia516256b9a1acc7790bfaf58c1f17e558fe4a139\n'}]",0,808564,a6ece88f9f91f487c20fa66abb049ceb6847e696,10,3,1,9816,,,0,"Remove parameters for the Spares Pool feature

... because these were deprecated during Wallaby cycle[1]. Actual
implementation was also removed from Octavia during Xena cycle[2].

[1] 46cffbd1e9229f587f3b6c703f4964aec4bab452
[2] 815a283823121d563562474eb9048673a95f6e1f

Change-Id: Ia516256b9a1acc7790bfaf58c1f17e558fe4a139
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/64/808564/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-spares-pool-feature-2ed29ea73a2454aa.yaml', 'manifests/housekeeping.pp', 'spec/classes/octavia_housekeeping_spec.rb']",3,a6ece88f9f91f487c20fa66abb049ceb6847e696,spare-pool-removal," ['cleanup_interval', 'amphora_expiry_age', 'load_balancer_expiry_age', 'cert_interval', 'cert_expiry_buffer', 'cert_rotate_threads'].each do |param_with_default| { :cleanup_interval => 26, ['cleanup_interval', 'amphora_expiry_age', 'load_balancer_expiry_age', 'cert_interval', 'cert_expiry_buffer', 'cert_rotate_threads'].each do |param_with_default|"," ['spare_check_interval', 'spare_amphora_pool_size', 'cleanup_interval', 'amphora_expiry_age', 'load_balancer_expiry_age', 'cert_interval', 'cert_expiry_buffer', 'cert_rotate_threads'].each do |param_with_default| { :spare_check_interval => 60, :spare_amphora_pool_size => 20, :cleanup_interval => 26, ['spare_check_interval', 'spare_amphora_pool_size', 'cleanup_interval', 'amphora_expiry_age', 'load_balancer_expiry_age', 'cert_interval', 'cert_expiry_buffer', 'cert_rotate_threads'].each do |param_with_default|",12,44
openstack%2Fbifrost~master~Ie653db1078054fccbbfb60b88da024e4a46ee0b7,openstack/bifrost,master,Ie653db1078054fccbbfb60b88da024e4a46ee0b7,"Keystone: consolidate uWSGI config, drop non-existing plugin",MERGED,2021-08-26 09:09:58.000000000,2021-09-14 15:43:22.000000000,2021-09-14 15:41:50.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-26 09:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/cac69037281e555cceb57d3de763026f672c97ea', 'message': 'Keystone: consolidate uWSGI config, drop non-existing plugin\n\nThe Python 3 plugin no longer exists separately.\n\nChange-Id: Ie653db1078054fccbbfb60b88da024e4a46ee0b7\n'}, {'number': 2, 'created': '2021-08-26 09:11:39.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/templates/keystone-public.ini.j2', 'playbooks/roles/bifrost-keystone-install/templates/uwsgi-keystone.ini.j2', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/358a989e645aa091daf71a299cb074abac180ec7', 'message': 'Keystone: consolidate uWSGI config, drop non-existing plugin\n\nThe Python 3 plugin no longer exists separately.\n\nChange-Id: Ie653db1078054fccbbfb60b88da024e4a46ee0b7\n'}]",0,806121,358a989e645aa091daf71a299cb074abac180ec7,14,3,2,10239,,,0,"Keystone: consolidate uWSGI config, drop non-existing plugin

The Python 3 plugin no longer exists separately.

Change-Id: Ie653db1078054fccbbfb60b88da024e4a46ee0b7
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/21/806121/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-keystone-install/templates/keystone-public.ini.j2', 'playbooks/roles/bifrost-keystone-install/templates/uwsgi-keystone.ini.j2', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml']",3,cac69037281e555cceb57d3de763026f672c97ea,keystone-ini,"- name: ""Place keystone public uWSGI config"" template: src: uwsgi-keystone.ini.j2 dest: /etc/uwsgi/apps-available/keystone-{{ item }}.ini loop: - public - admin - name: ""Enable keystone in uWSGI"" file: src: ""/etc/uwsgi/apps-available/keystone-{{ item }}.ini"" dest: ""/etc/uwsgi/apps-enabled/keystone-{{ item }}.ini"" loop: - public - admin","- name: ""Place keystone public uwsgi config"" template: src: keystone-public.ini.j2 dest: /etc/uwsgi/apps-available/keystone-public.ini - name: ""Place keystone admin uwsgi config"" template: src: keystone-admin.ini.j2 dest: /etc/uwsgi/apps-available/keystone-admin.ini owner: ""{{ nginx_user }}"" group: ""{{ nginx_user }}"" # TODO(TheJulia): Split webserver user/group. mode: 0755 - name: ""Enable keystone-public in uwsgi"" file: src: ""/etc/uwsgi/apps-available/keystone-public.ini"" dest: ""/etc/uwsgi/apps-enabled/keystone-public.ini"" - name: ""Enable keystone-admin in uwsgi"" file: src: ""/etc/uwsgi/apps-available/keystone-admin.ini"" dest: ""/etc/uwsgi/apps-enabled/keystone-admin.ini"" state: link",15,43
openstack%2Ftripleo-ansible~master~I9d0eec38be0505c0c78fdc0a82788eecdb69e14e,openstack/tripleo-ansible,master,I9d0eec38be0505c0c78fdc0a82788eecdb69e14e,WIP: try to clean firstboot args from GRUB_CMDLINE_LINUX,ABANDONED,2020-08-31 20:07:59.000000000,2021-09-14 15:43:16.000000000,,"[{'_account_id': 7353}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-08-31 20:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d79a97c30c7523335e9448e18ed6a3dbe637c2c0', 'message': 'WIP: try to clean firstboot args from GRUB_CMDLINE_LINUX\n\nChange-Id: I9d0eec38be0505c0c78fdc0a82788eecdb69e14e\n'}, {'number': 2, 'created': '2020-08-31 21:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/08aba5d909c6dd44f950bdf8cbcfc507692565d0', 'message': 'WIP: try to clean firstboot args from GRUB_CMDLINE_LINUX\n\nChange-Id: I9d0eec38be0505c0c78fdc0a82788eecdb69e14e\n'}, {'number': 3, 'created': '2020-08-31 22:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8fe5f36656e4668c0540234898eedc55378836d8', 'message': 'WIP: try to clean firstboot args from GRUB_CMDLINE_LINUX\n\nChange-Id: I9d0eec38be0505c0c78fdc0a82788eecdb69e14e\n'}, {'number': 4, 'created': '2020-08-31 23:15:16.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/molecule/firstboot_upgrade/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/firstboot_upgrade/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/firstboot_upgrade/grub_default', 'tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/firstboot_upgrade/Dockerfile', 'tripleo_ansible/roles/tripleo_kernel/molecule/firstboot_upgrade/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/firstboot_upgrade/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fb9ca76ec448d6ba7761dde59b8a90c08f6e907e', 'message': 'WIP: try to clean firstboot args from GRUB_CMDLINE_LINUX\n\nChange-Id: I9d0eec38be0505c0c78fdc0a82788eecdb69e14e\n'}]",6,749153,fb9ca76ec448d6ba7761dde59b8a90c08f6e907e,14,5,4,23811,,,0,"WIP: try to clean firstboot args from GRUB_CMDLINE_LINUX

Change-Id: I9d0eec38be0505c0c78fdc0a82788eecdb69e14e
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/53/749153/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_kernel/molecule/firstboot_upgrade/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/firstboot_upgrade/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/firstboot_upgrade/Dockerfile', 'tripleo_ansible/roles/tripleo_kernel/molecule/firstboot_upgrade/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/firstboot_upgrade/prepare.yml']",6,d79a97c30c7523335e9448e18ed6a3dbe637c2c0,,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Prepare hosts: all roles: - role: test_deps tasks: - name: Create firstboot style /etc/default/grub copy: dest: /etc/default/grub content: | GRUB_TIMEOUT=1 GRUB_DISTRIBUTOR=""$(sed 's, release .*$,,g' /etc/system-release)"" GRUB_DEFAULT=saved GRUB_DISABLE_SUBMENU=true GRUB_TERMINAL_OUTPUT=""console"" GRUB_CMDLINE_LINUX=""console=ttyS0 console=ttyS0,115200n81 no_timer_check crashkernel=auto rhgb quiet default_hugepagesz=1G test3=3 test2 hugepagesz=1G hugepages=1 hugepagesz=2M hugepages=2 isolcpus=1-2,3 intel_iommu=on iommu=pt"" GRUB_DISABLE_RECOVERY=""true"" GRUB_CMDLINE_LINUX_DEFAULT=""${GRUB_CMDLINE_LINUX_DEFAULT:+$GRUB_CMDLINE_LINUX_DEFAULT }\$tuned_params"" GRUB_INITRD_OVERLAY=""${GRUB_INITRD_OVERLAY:+$GRUB_INITRD_OVERLAY }\$tuned_initrd"" become: true ",,217,1
openstack%2Ftripleo-heat-templates~master~Ibd57468623717273c29d473d32a76f37ae02fa31,openstack/tripleo-heat-templates,master,Ibd57468623717273c29d473d32a76f37ae02fa31,Provide way to initialize Leapp,ABANDONED,2021-06-14 12:57:25.000000000,2021-09-14 15:42:15.000000000,,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-14 12:57:25.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'environments/lifecycle/upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5db7d8c986a460842ed862f899700ab52aa2235b', 'message': 'Provide way to initialize Leapp\n\nThe Leapp utility can require enabling extra repositories and\nit must be provided with data [1] to perform in-place upgrade\nfrom RHEL7 to RHEL8. We allow passing thsese with parameters\nLeappRepoInitCommand and LeappInitCommand. To make sure most\nusers will not have to pass LeappInitCommand we sync the files\nfrom Undercloud. Lastly we default the UpgradeLeappCommandOptions\nto have default OSP16 repositories enabled forcing users to\neither change this value or properly subscribe.\n\nExample:\nLeappRepoInitCommand: |\n  subscription-manager repos --enable rhel-7-server-rpms\n  subscription-manager repos --enable rhel-7-server-extras-rpms\nLeappInitCommand: |\n  sudo curl -4ksSL -o /etc/leapp/files/pes-events.json https://example.com/pes-events.json\n  sudo curl -4ksSL -o /etc/leapp/files/repomap.csv https://example.com/repomap.csv\n\n[1] - https://access.redhat.com/articles/3664871\n\nResolves: rhbz#1845726\nChange-Id: Ibd57468623717273c29d473d32a76f37ae02fa31\n(cherry picked from commit 0dc690ff1e002d303d5daeadabf448c11cbaf91b)\n'}]",1,796273,5db7d8c986a460842ed862f899700ab52aa2235b,6,3,1,6816,,,0,"Provide way to initialize Leapp

The Leapp utility can require enabling extra repositories and
it must be provided with data [1] to perform in-place upgrade
from RHEL7 to RHEL8. We allow passing thsese with parameters
LeappRepoInitCommand and LeappInitCommand. To make sure most
users will not have to pass LeappInitCommand we sync the files
from Undercloud. Lastly we default the UpgradeLeappCommandOptions
to have default OSP16 repositories enabled forcing users to
either change this value or properly subscribe.

Example:
LeappRepoInitCommand: |
  subscription-manager repos --enable rhel-7-server-rpms
  subscription-manager repos --enable rhel-7-server-extras-rpms
LeappInitCommand: |
  sudo curl -4ksSL -o /etc/leapp/files/pes-events.json https://example.com/pes-events.json
  sudo curl -4ksSL -o /etc/leapp/files/repomap.csv https://example.com/repomap.csv

[1] - https://access.redhat.com/articles/3664871

Resolves: rhbz#1845726
Change-Id: Ibd57468623717273c29d473d32a76f37ae02fa31
(cherry picked from commit 0dc690ff1e002d303d5daeadabf448c11cbaf91b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/796273/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'environments/lifecycle/upgrade-prepare.yaml']",2,5db7d8c986a460842ed862f899700ab52aa2235b,," UpgradeLeappCommandOptions: "" --enablerepo rhel-8-for-x86_64-baseos-eus-rpms --enablerepo rhel-8-for-x86_64-appstream-eus-rpms --enablerepo rhel-8-for-x86_64-highavailability-eus-rpms --enablerepo advanced-virt-for-rhel-8-x86_64-rpms --enablerepo ansible-2.9-for-rhel-8-x86_64-rpms --enablerepo fast-datapath-for-rhel-8-x86_64-rpms """,,56,1
openstack%2Ftripleo-heat-templates~master~Iabcf07bd5c43bcc563b139dfd94d927a987389aa,openstack/tripleo-heat-templates,master,Iabcf07bd5c43bcc563b139dfd94d927a987389aa,WIP: add param for nova::dhcp_domain,ABANDONED,2021-06-11 15:12:49.000000000,2021-09-14 15:42:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-11 15:12:49.000000000', 'files': ['deployment/nova/nova-base-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64314a2fa16c43b45dddf2cff6045f729f9e3dbf', 'message': 'WIP: add param for nova::dhcp_domain\n\nChange-Id: Iabcf07bd5c43bcc563b139dfd94d927a987389aa\n'}]",0,796037,64314a2fa16c43b45dddf2cff6045f729f9e3dbf,4,2,1,23811,,,0,"WIP: add param for nova::dhcp_domain

Change-Id: Iabcf07bd5c43bcc563b139dfd94d927a987389aa
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/796037/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-base-puppet.yaml'],1,64314a2fa16c43b45dddf2cff6045f729f9e3dbf,, NovaDhcpDomain: default: '' description: DHCP domain for Nova metadata type: string nova::dhcp_domain: {get_param: NovaDhcpDomain}, nova::dhcp_domain: '',5,1
openstack%2Fpuppet-tripleo~master~If505f77319a5088457b9fa4795c8bc17069c352a,openstack/puppet-tripleo,master,If505f77319a5088457b9fa4795c8bc17069c352a,WIP: Remove manifest for non-bundle paceamaker resources,ABANDONED,2021-06-11 10:35:55.000000000,2021-09-14 15:42:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-11 10:35:55.000000000', 'files': ['manifests/profile/pacemaker/haproxy.pp', 'manifests/profile/pacemaker/rabbitmq.pp', 'manifests/profile/pacemaker/database/redis.pp', 'manifests/profile/pacemaker/cinder/volume.pp', 'manifests/profile/pacemaker/database/mysql.pp', 'manifests/profile/pacemaker/cinder/backup.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/63e9a8b18b11819f98afb4d45a81bd463ddbdaa4', 'message': 'WIP: Remove manifest for non-bundle paceamaker resources\n\nChange-Id: If505f77319a5088457b9fa4795c8bc17069c352a\n'}]",0,795982,63e9a8b18b11819f98afb4d45a81bd463ddbdaa4,4,2,1,9816,,,0,"WIP: Remove manifest for non-bundle paceamaker resources

Change-Id: If505f77319a5088457b9fa4795c8bc17069c352a
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/82/795982/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/haproxy.pp', 'manifests/profile/pacemaker/database/redis.pp', 'manifests/profile/pacemaker/rabbitmq.pp', 'manifests/profile/pacemaker/cinder/volume.pp', 'manifests/profile/pacemaker/database/mysql.pp', 'manifests/profile/pacemaker/cinder/backup.pp']",6,63e9a8b18b11819f98afb4d45a81bd463ddbdaa4,remove-non-bundle,,"# Copyright 2016 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::pacemaker::cinder::backup # # Cinder Backup Pacemaker HA profile for tripleo # # === Parameters # # [*bootstrap_node*] # (Optional) The hostname of the node responsible for bootstrapping tasks # Defaults to hiera('cinder_backup_short_bootstrap_node_name') # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to hiera('step') # # [*pcs_tries*] # (Optional) The number of times pcs commands should be retried. # Defaults to hiera('pcs_tries', 20) # class tripleo::profile::pacemaker::cinder::backup ( $bootstrap_node = hiera('cinder_backup_short_bootstrap_node_name'), $step = Integer(hiera('step')), $pcs_tries = hiera('pcs_tries', 20), ) { Service <| tag == 'cinder::backup' |> { hasrestart => true, restart => '/bin/true', start => '/bin/true', stop => '/bin/true', } if $bootstrap_node and $::hostname == downcase($bootstrap_node) { $pacemaker_master = true } else { $pacemaker_master = false } include tripleo::profile::base::cinder::backup if $step >= 2 { pacemaker::property { 'cinder-backup-role-node-property': property => 'cinder-backup-role', value => true, tries => $pcs_tries, node => $::hostname, } } if $step >= 3 and $pacemaker_master and hiera('stack_action') == 'UPDATE' { Cinder_config<||> ~> tripleo::pacemaker::resource_restart_flag { ""${::cinder::params::backup_service}"": } } if $step >= 5 and $pacemaker_master { pacemaker::resource::service { $::cinder::params::backup_service : op_params => 'start timeout=200s stop timeout=200s', tries => $pcs_tries, location_rule => { resource_discovery => 'exclusive', score => 0, expression => ['cinder-backup-role eq true'], } } } } ",0,1111
openstack%2Ftripleo-upgrade~master~I526e48f5bcaff7abf34e85852a9c14435f45b123,openstack/tripleo-upgrade,master,I526e48f5bcaff7abf34e85852a9c14435f45b123,Use tripleo_generate_ansible_inventory module,ABANDONED,2021-06-09 01:36:57.000000000,2021-09-14 15:42:06.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 01:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e2c431e54c81ed18074e659506d4ed235573e25e', 'message': 'Use tripleo_generate_ansible_inventory module\n\nThis uses a script from tripleo-validations at present. Use the\nansible module from tripleo-ansible instead.\n\nChange-Id: I526e48f5bcaff7abf34e85852a9c14435f45b123\n'}, {'number': 2, 'created': '2021-06-09 02:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6ad7be6d8d5813c3a4fd189b7fd2a3f8df5b5fad', 'message': 'Use tripleo_generate_ansible_inventory module\n\nThis uses a script from tripleo-validations at present. Use the\nansible module from tripleo-ansible instead.\n\nChange-Id: I526e48f5bcaff7abf34e85852a9c14435f45b123\n'}, {'number': 3, 'created': '2021-06-09 03:36:46.000000000', 'files': ['tasks/common/load_roles_from_inventory.yaml', 'molecule/bindep.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f90c30151de5f124865a26544d7f9bb7c24b2d4e', 'message': 'Use tripleo_generate_ansible_inventory module\n\nThis uses a script from tripleo-validations at present. Use the\nansible module from tripleo-ansible instead.\n\nChange-Id: I526e48f5bcaff7abf34e85852a9c14435f45b123\n'}]",0,795437,f90c30151de5f124865a26544d7f9bb7c24b2d4e,8,2,3,8833,,,0,"Use tripleo_generate_ansible_inventory module

This uses a script from tripleo-validations at present. Use the
ansible module from tripleo-ansible instead.

Change-Id: I526e48f5bcaff7abf34e85852a9c14435f45b123
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/37/795437/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/load_roles_from_inventory.yaml'],1,e2c431e54c81ed18074e659506d4ed235573e25e,," tripleo_generate_ansible_inventory: plan: ""{{ overcloud_stack_name }}"" work_dir: ""{{ working_dir }}"" ansible_ssh_user: ""{{ overcloud_ssh_user }}""", shell: | source {{ undercloud_rc }} /usr/bin/tripleo-ansible-inventory --plan {{ overcloud_stack_name }} \ {% if overcloud_ssh_user %} --ansible_ssh_user {{ overcloud_ssh_user }} {% endif %} \ --static-yaml-inventory {{ working_dir }}//tripleo-ansible-inventory.yaml,4,5
openstack%2Ftripleo-ci~master~I7ef9428489a75d6fef7214392aa4990b02a66728,openstack/tripleo-ci,master,I7ef9428489a75d6fef7214392aa4990b02a66728,Reduce branchful jobs on CI repos,ABANDONED,2021-06-02 09:53:57.000000000,2021-09-14 15:41:59.000000000,,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-02 09:53:57.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/87ca201856e257943695a7b00121ad56d72e059c', 'message': 'Reduce branchful jobs on CI repos\n\nMove ussuri and victoria as less important from CI perspective to\nexperimental pipeline to reduce load on CI repositories.\n\nChange-Id: I7ef9428489a75d6fef7214392aa4990b02a66728\n'}]",3,794194,87ca201856e257943695a7b00121ad56d72e059c,23,8,1,10969,,,0,"Reduce branchful jobs on CI repos

Move ussuri and victoria as less important from CI perspective to
experimental pipeline to reduce load on CI repositories.

Change-Id: I7ef9428489a75d6fef7214392aa4990b02a66728
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/94/794194/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,87ca201856e257943695a7b00121ad56d72e059c,less, - tripleo-ci-centos-8-content-provider-victoria: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-content-provider-ussuri: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-containers-multinode-victoria: irrelevant-files: *multinode_ignored vars: *multi_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider-victoria - tripleo-ci-centos-8-containers-multinode-ussuri: irrelevant-files: *multinode_ignored vars: *multi_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider-ussuri, - tripleo-ci-centos-8-content-provider-victoria: irrelevant-files: *multinode_ignored dependencies: - openstack-tox-linters - tripleo-ci-centos-8-content-provider-ussuri: irrelevant-files: *multinode_ignored dependencies: - openstack-tox-linters - tripleo-ci-centos-8-containers-multinode-victoria: &multi_consumer_job_victoria irrelevant-files: *multinode_ignored vars: *multi_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider-victoria - tripleo-ci-centos-8-containers-multinode-ussuri: &multi_consumer_job_ussuri irrelevant-files: *multinode_ignored vars: *multi_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-content-provider-victoria: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-content-provider-ussuri: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-containers-multinode-victoria: *multi_consumer_job_victoria - tripleo-ci-centos-8-containers-multinode-ussuri: *multi_consumer_job_ussuri,14,24
openstack%2Fansible-role-tripleo-modify-image~master~If0fc2d4a01b02c8b5288a0e559f28a00b2453df9,openstack/ansible-role-tripleo-modify-image,master,If0fc2d4a01b02c8b5288a0e559f28a00b2453df9,"DNM, log container update",ABANDONED,2021-05-27 18:44:54.000000000,2021-09-14 15:41:56.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-27 18:44:54.000000000', 'files': ['tasks/yum_install_buildah.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/cd93c9e4810972457b050f02cdca2196c6b39ae4', 'message': 'DNM, log container update\n\nChange-Id: If0fc2d4a01b02c8b5288a0e559f28a00b2453df9\n'}]",0,793491,cd93c9e4810972457b050f02cdca2196c6b39ae4,4,2,1,9592,,,0,"DNM, log container update

Change-Id: If0fc2d4a01b02c8b5288a0e559f28a00b2453df9
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/91/793491/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/yum_install_buildah.yml'],1,cd93c9e4810972457b050f02cdca2196c6b39ae4,,"- name: Create tempfile name for yum_install.log tempfile: state: file register: yum_install_log --volume {{ yum_install_log.path }}:/tmp/yum_install.log /tmp/yum_install.sh ""{{ yum_packages | join(' ') }}"" &> /tmp/yum_install.log --volume {{ yum_install_log.path }}:/tmp/yum_install.log bash -x /tmp/yum_install.sh ""{{ yum_packages | join(' ') }}"" &> /tmp/yum_install.log- name: Save yum update log copy: src: ""{{ yum_install_log.path }}"" dest: ""/var/log/{{ target_image | default(source_image) }}{{ modified_append_tag }}"" - name: Remove temporary yum_install.log file file: path: ""{{ yum_install_log.path }}"" state: absent "," /tmp/yum_install.sh ""{{ yum_packages | join(' ') }}"" bash -x /tmp/yum_install.sh ""{{ yum_packages | join(' ') }}""",19,2
openstack%2Fansible-role-tripleo-modify-image~master~I84d24c19cf7798fc27440bca44d70821878ab656,openstack/ansible-role-tripleo-modify-image,master,I84d24c19cf7798fc27440bca44d70821878ab656,"DNM, testing container updates",ABANDONED,2021-05-25 18:37:34.000000000,2021-09-14 15:41:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-25 18:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/0f40823a7acef78e7b6161c9dc8dd13b11fcc0d4', 'message': 'DNM, testing container updates\n\nChange-Id: I84d24c19cf7798fc27440bca44d70821878ab656\n'}, {'number': 2, 'created': '2021-05-25 20:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/24381014d68b2feb57813aa4612b7aee75a2d110', 'message': 'DNM, testing container updates\n\nChange-Id: I84d24c19cf7798fc27440bca44d70821878ab656\n'}, {'number': 3, 'created': '2021-05-26 20:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/32ed5db5897b0dbe7d2541c0371addd12bdd78bb', 'message': 'DNM, testing container updates\n\nChange-Id: I84d24c19cf7798fc27440bca44d70821878ab656\n'}, {'number': 4, 'created': '2021-05-27 17:04:30.000000000', 'files': ['tasks/yum_update_buildah.yml', 'tasks/modify_image.yml', 'tasks/yum_update.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/163fec8e69977e79fd1921c8591b815b36727608', 'message': 'DNM, testing container updates\n\nChange-Id: I84d24c19cf7798fc27440bca44d70821878ab656\n'}]",1,793028,163fec8e69977e79fd1921c8591b815b36727608,11,2,4,9592,,,0,"DNM, testing container updates

Change-Id: I84d24c19cf7798fc27440bca44d70821878ab656
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/28/793028/4 && git format-patch -1 --stdout FETCH_HEAD,['tasks/yum_update_buildah.yml'],1,0f40823a7acef78e7b6161c9dc8dd13b11fcc0d4,,- name: print yum_update.sh output debug: var: result.stdout_lines ,,4,0
openstack%2Ftripleo-ansible~master~I88b61a716593be3c47f0fe7713bfd327ae0584bf,openstack/tripleo-ansible,master,I88b61a716593be3c47f0fe7713bfd327ae0584bf,WIP Adds missing check-requirements job to tripleo-ansible zuul layout,ABANDONED,2021-05-24 16:03:28.000000000,2021-09-14 15:41:50.000000000,,"[{'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-24 16:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4d54ba56fd2684fbfea8843d7dd69fc0679889bd', 'message': 'Adds missing check-requirements job to tripleo-ansible zuul layout\n\nAs discussed at [1] this adds the missing check-requirements job\nfrom the tripleo-ansible zuul layout. It is only triggered on\nchanges to requirements.txt\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022459.html\n\nChange-Id: I88b61a716593be3c47f0fe7713bfd327ae0584bf\n'}, {'number': 2, 'created': '2021-05-26 13:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/26eff5c4998c81cd2453c7cd8d721eda25d806fb', 'message': 'Adds missing check-requirements job to tripleo-ansible zuul layout\n\nAs discussed at [1] this adds the missing check-requirements job\nfrom the tripleo-ansible zuul layout. It is only triggered on\nchanges to requirements.txt. The updates made and the depends-on\nwere discovered as part of re-enabling this job.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022459.html\n\nDepends-On: Iafdb19b0a394e908d2faa72dfd387746b2c97f3b\nChange-Id: I88b61a716593be3c47f0fe7713bfd327ae0584bf\n'}, {'number': 3, 'created': '2021-05-27 14:58:35.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'zuul.d/layout.yaml', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bc7ecadadc85e0fe758d1965c4ad813269f6319c', 'message': 'WIP Adds missing check-requirements job to tripleo-ansible zuul layout\n\nAs discussed at [1] this adds the missing check-requirements job\nfrom the tripleo-ansible zuul layout. It is only triggered on\nchanges to requirements.txt. The updates made and the depends-on\nwere discovered as part of re-enabling this job.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022459.html\n\nDepends-On: Iafdb19b0a394e908d2faa72dfd387746b2c97f3b\nChange-Id: I88b61a716593be3c47f0fe7713bfd327ae0584bf\n'}]",0,792830,bc7ecadadc85e0fe758d1965c4ad813269f6319c,9,2,3,8449,,,0,"WIP Adds missing check-requirements job to tripleo-ansible zuul layout

As discussed at [1] this adds the missing check-requirements job
from the tripleo-ansible zuul layout. It is only triggered on
changes to requirements.txt. The updates made and the depends-on
were discovered as part of re-enabling this job.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022459.html

Depends-On: Iafdb19b0a394e908d2faa72dfd387746b2c97f3b
Change-Id: I88b61a716593be3c47f0fe7713bfd327ae0584bf
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/30/792830/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,4d54ba56fd2684fbfea8843d7dd69fc0679889bd,I88b61a716593be3c47f0fe7713bfd327ae0584bf, - check-requirements,,1,0
openstack%2Ftripleo-ci~master~Icade33c7cd9905790400e334ea1d8c6eab4ba176,openstack/tripleo-ci,master,Icade33c7cd9905790400e334ea1d8c6eab4ba176,"victoria, ussuri, train containers-multinode is failing in tempest",ABANDONED,2021-05-26 03:06:40.000000000,2021-09-14 15:41:48.000000000,,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-05-26 03:06:40.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/28fb349d6d12809e1973284db740d70c0bd35616', 'message': 'victoria, ussuri, train containers-multinode is failing in tempest\n\nThis marks the non-branched job to non-voting.\nRelated-Change: https://review.opendev.org/c/openstack/tripleo-ci/+/793089\n\nRelated-Bug: #1929634\nChange-Id: Icade33c7cd9905790400e334ea1d8c6eab4ba176\n'}]",0,793091,28fb349d6d12809e1973284db740d70c0bd35616,10,6,1,9592,,,0,"victoria, ussuri, train containers-multinode is failing in tempest

This marks the non-branched job to non-voting.
Related-Change: https://review.opendev.org/c/openstack/tripleo-ci/+/793089

Related-Bug: #1929634
Change-Id: Icade33c7cd9905790400e334ea1d8c6eab4ba176
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/91/793091/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,28fb349d6d12809e1973284db740d70c0bd35616,, voting: false, voting: true,1,1
openstack%2Ftripleo-ci~master~Ia91a17e4f272215155a33c6ee72ea51d1aa8a938,openstack/tripleo-ci,master,Ia91a17e4f272215155a33c6ee72ea51d1aa8a938,move branched containers-multinode to non-voting,ABANDONED,2021-05-26 03:01:40.000000000,2021-09-14 15:41:45.000000000,,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-05-26 03:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8264c180f3fa5e73bbdb3edd457ad2a3c88922b8', 'message': 'move branched containers-multinode to non-voting\n\nThe non-branched containers-multinode will\nalso need to moved to non-voting\n\nRelated-Bug: #1929634\nChange-Id: Ia91a17e4f272215155a33c6ee72ea51d1aa8a938\n'}, {'number': 2, 'created': '2021-05-26 04:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a307d9452fbd4a21e5fc55adac194d81815be8a6', 'message': 'move branched containers-multinode to non-voting\n\nThe non-branched containers-multinode will\nalso need to moved to non-voting\n\nRelated-Bug: #1929634\nChange-Id: Ia91a17e4f272215155a33c6ee72ea51d1aa8a938\n'}, {'number': 3, 'created': '2021-05-26 04:56:16.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f9c0e05f9cbfd7451b5794959058aca9f5251fe6', 'message': 'move branched containers-multinode to non-voting\n\nThe non-branched containers-multinode will\nalso need to moved to non-voting\n\nRelated-Bug: #1929634\nChange-Id: Ia91a17e4f272215155a33c6ee72ea51d1aa8a938\n'}]",2,793089,f9c0e05f9cbfd7451b5794959058aca9f5251fe6,12,6,3,9592,,,0,"move branched containers-multinode to non-voting

The non-branched containers-multinode will
also need to moved to non-voting

Related-Bug: #1929634
Change-Id: Ia91a17e4f272215155a33c6ee72ea51d1aa8a938
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/89/793089/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,8264c180f3fa5e73bbdb3edd457ad2a3c88922b8,, voting: false voting: false voting: false # - tripleo-ci-centos-8-containers-multinode-victoria: *multi_consumer_job_victoria # - tripleo-ci-centos-8-containers-multinode-ussuri: *multi_consumer_job_ussuri # - tripleo-ci-centos-8-containers-multinode-train: *multi_consumer_job_train, - tripleo-ci-centos-8-containers-multinode-victoria: *multi_consumer_job_victoria - tripleo-ci-centos-8-containers-multinode-ussuri: *multi_consumer_job_ussuri - tripleo-ci-centos-8-containers-multinode-train: *multi_consumer_job_train,6,3
openstack%2Ftripleo-common~master~I2f7bf7caf6ef85e04c7eb8271dd2b63964938617,openstack/tripleo-common,master,I2f7bf7caf6ef85e04c7eb8271dd2b63964938617,"DNM, increase verbosity",ABANDONED,2021-05-26 23:22:18.000000000,2021-09-14 15:41:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-05-26 23:22:18.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/431a1e65e4abf0b53d4b4cccfb2128c89ee5f6af', 'message': 'DNM, increase verbosity\n\nChange-Id: I2f7bf7caf6ef85e04c7eb8271dd2b63964938617\n'}]",0,793253,431a1e65e4abf0b53d4b4cccfb2128c89ee5f6af,5,3,1,9592,,,0,"DNM, increase verbosity

Change-Id: I2f7bf7caf6ef85e04c7eb8271dd2b63964938617
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/53/793253/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,431a1e65e4abf0b53d4b4cccfb2128c89ee5f6af,," verbosity=4,"," verbosity=1,",1,1
openstack%2Ftripleo-ci~master~I39a61880190a964184d0ab6664315df6e5b5402c,openstack/tripleo-ci,master,I39a61880190a964184d0ab6664315df6e5b5402c,Improve manila ping test for scenario004,ABANDONED,2021-05-17 14:04:49.000000000,2021-09-14 15:41:37.000000000,,"[{'_account_id': 8449}, {'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-17 14:04:49.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/279a27c6bef17f3b41016d33bb2fd5fa2f896e0c', 'message': 'Improve manila ping test for scenario004\n\nReplace the current api test with a scenario test that will\nprovide end-to-end coverage of the manila and ganesha services.\n\nChange-Id: I39a61880190a964184d0ab6664315df6e5b5402c\n'}]",2,791758,279a27c6bef17f3b41016d33bb2fd5fa2f896e0c,8,4,1,9003,,,0,"Improve manila ping test for scenario004

Replace the current api test with a scenario test that will
provide end-to-end coverage of the manila and ganesha services.

Change-Id: I39a61880190a964184d0ab6664315df6e5b5402c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/58/791758/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,279a27c6bef17f3b41016d33bb2fd5fa2f896e0c,, - 'manila_tempest_tests.tests.scenario.test_share_basic_ops.TestShareBasicOpsNFS.test_mount_share_one_vm' - 'manila_tempest_tests.tests.scenario.test_share_basic_ops.TestShareBasicOpsNFS.test_mount_share_one_vm', - 'manila_tempest_tests.tests.api.test_shares.SharesCephFSTest.test_create_get_delete_share' - 'manila_tempest_tests.tests.api.test_shares.SharesNFSTest.test_create_get_delete_share',2,2
openstack%2Ftripleo-heat-templates~master~Ib7f8ce203a3b3cf0ed6be72a7720551def077a9a,openstack/tripleo-heat-templates,master,Ib7f8ce203a3b3cf0ed6be72a7720551def077a9a,Switch to using DNS when connecting to etcd and fix an if: regression,ABANDONED,2021-05-15 13:33:20.000000000,2021-09-14 15:41:34.000000000,,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-15 13:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c4da1eeba128c874069eb47a0a6669cda814b90f', 'message': 'Switch to using DNS when connecting to etcd\n\nWe currently use the IP address to connect to etcd. For example when it\nis configured to listen on the main network it connects to the IP as\nfollows:\n/etc/puppet/hieradata/service_configs.json:    ""tripleo::profile::base::cinder::volume::etcd_host"": ""%{hiera(\'main_network\')}"",\n[root@ctrl-1-0 ~]# hiera -c /etc/puppet/hiera.yaml tripleo::profile::base::cinder::volume::etcd_host\n172.30.1.1\n\nSo in a TLS-E environment we end up with the following coordination URL:\nbackend_url=etcd3+https://172.30.1.1:2379?cert_key=/etc/pki/tls/private/etcd.key&cert_cert=/etc/pki/tls/certs/etcd.crt\n\nThe problem with the above is that TLS will decline to connect to an IP\n(unless you disable verification) and so it errors out with:\n\n2021-05-15 08:00:36.472 1613 INFO cinder.service [-] Starting cinder-volume node (version 18.0.0)\n2021-05-15 08:00:36.501 1613 WARNING urllib3.connection [-] Certificate did not match expected hostname: 172.30.1.1. Certificate: {\'subject\': (((\'organizationName\', \'BGP.FTW\'),), ((\'commonName\', \'ctrl-1-0.mainnetwork.bgp.ftw\'),)), \'issuer\': (((\'organizationName\', \'BGP.FTW\'),), ((\'commonName\', \'Certificate Authority\'),)), \'version\': 3, \'serialNumber\': \'0238\', \'notBefore\': \'May 15 07:27:04 2021 GMT\', \'notAfter\': \'May 16 07:27:04 2023 GMT\', \'subjectAltName\': ((\'DNS\', \'ctrl-1-0.mainnetwork.bgp.ftw\'), (\'DNS\', \'overcloud.main.bgp.ftw\'), (\'othername\', \'<unsupported>\'), (\'othername\', \'<unsupported>\')), \'OCSP\': (\'http://ipa-ca.bgp.ftw/ca/ocsp\',), \'crlDistributionPoints\': (\'http://ipa-ca.bgp.ftw/ipa/crl/MasterCRL.bin\',)}: ssl.CertificateError: hostname \'172.30.1.1\' doesn\'t match either of \'ctrl-1-0.mainnetwork.bgp.ftw\', \'overcloud.main.bgp.ftw\'\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service [-] Error starting thread.: etcd3gw.exceptions.ConnectionFailedError\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service Traceback (most recent call last):\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 677, in urlopen\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     chunked=chunked,\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 381, in _make_request\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     self._validate_conn(conn)\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 978, in _validate_conn\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     conn.connect()\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib/python3.6/site-packages/urllib3/connection.py"", line 397, in connect\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     _match_hostname(cert, self.assert_hostname or server_hostname)\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib/python3.6/site-packages/urllib3/connection.py"", line 407, in _match_hostname\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     match_hostname(cert, asserted_hostname)\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib64/python3.6/ssl.py"", line 287, in match_hostname\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     % (hostname, \', \'.join(map(repr, dnsnames))))\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service ssl.CertificateError: hostname \'172.30.1.1\' doesn\'t match either of \'ctrl-1-0.mainnetwork.bgp.ftw\', \'overcloud.main.bgp.ftw\'\n\nLet\'s switch to the fqdn which we populate /etc/hosts with in order to avoid these TLS errors.\n\nWith this patch applied I was able to pass this failure.\n\nChange-Id: Ib7f8ce203a3b3cf0ed6be72a7720551def077a9a\n'}, {'number': 2, 'created': '2021-05-19 19:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4488f5f0ff9aad9fa7af00821fe6e38e906fff4f', 'message': 'Switch to using DNS when connecting to etcd and fix an if: regression\n\nWe currently use the IP address to connect to etcd. For example when it\nis configured to listen on the main network it connects to the IP as\nfollows:\n/etc/puppet/hieradata/service_configs.json:    ""tripleo::profile::base::cinder::volume::etcd_host"": ""%{hiera(\'main_network\')}"",\n[root@ctrl-1-0 ~]# hiera -c /etc/puppet/hiera.yaml tripleo::profile::base::cinder::volume::etcd_host\n172.30.1.1\n\nSo in a TLS-E environment we end up with the following coordination URL:\nbackend_url=etcd3+https://172.30.1.1:2379?cert_key=/etc/pki/tls/private/etcd.key&cert_cert=/etc/pki/tls/certs/etcd.crt\n\nThe problem with the above is that TLS will decline to connect to an IP\n(unless you disable verification) and so it errors out with:\n\n2021-05-15 08:00:36.472 1613 INFO cinder.service [-] Starting cinder-volume node (version 18.0.0)\n2021-05-15 08:00:36.501 1613 WARNING urllib3.connection [-] Certificate did not match expected hostname: 172.30.1.1. Certificate: {\'subject\': (((\'organizationName\', \'BGP.FTW\'),), ((\'commonName\', \'ctrl-1-0.mainnetwork.bgp.ftw\'),)), \'issuer\': (((\'organizationName\', \'BGP.FTW\'),), ((\'commonName\', \'Certificate Authority\'),)), \'version\': 3, \'serialNumber\': \'0238\', \'notBefore\': \'May 15 07:27:04 2021 GMT\', \'notAfter\': \'May 16 07:27:04 2023 GMT\', \'subjectAltName\': ((\'DNS\', \'ctrl-1-0.mainnetwork.bgp.ftw\'), (\'DNS\', \'overcloud.main.bgp.ftw\'), (\'othername\', \'<unsupported>\'), (\'othername\', \'<unsupported>\')), \'OCSP\': (\'http://ipa-ca.bgp.ftw/ca/ocsp\',), \'crlDistributionPoints\': (\'http://ipa-ca.bgp.ftw/ipa/crl/MasterCRL.bin\',)}: ssl.CertificateError: hostname \'172.30.1.1\' doesn\'t match either of \'ctrl-1-0.mainnetwork.bgp.ftw\', \'overcloud.main.bgp.ftw\'\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service [-] Error starting thread.: etcd3gw.exceptions.ConnectionFailedError\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service Traceback (most recent call last):\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 677, in urlopen\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     chunked=chunked,\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 381, in _make_request\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     self._validate_conn(conn)\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 978, in _validate_conn\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     conn.connect()\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib/python3.6/site-packages/urllib3/connection.py"", line 397, in connect\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     _match_hostname(cert, self.assert_hostname or server_hostname)\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib/python3.6/site-packages/urllib3/connection.py"", line 407, in _match_hostname\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     match_hostname(cert, asserted_hostname)\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib64/python3.6/ssl.py"", line 287, in match_hostname\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     % (hostname, \', \'.join(map(repr, dnsnames))))\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service ssl.CertificateError: hostname \'172.30.1.1\' doesn\'t match either of \'ctrl-1-0.mainnetwork.bgp.ftw\', \'overcloud.main.bgp.ftw\'\n\nLet\'s switch to the fqdn which we populate /etc/hosts with in order to avoid these TLS errors.\n\nWith this patch applied I was able to pass this failure.\n\nAlso we fix a small regression introduced by I0ffb201c7c0a453a022cca45255afc7ab2c08046\n(""Simplify cinder service templates"") where we erroneously negated the CinderEtcdLocalConnect\ncondition.\n\nChange-Id: Ib7f8ce203a3b3cf0ed6be72a7720551def077a9a\n'}, {'number': 3, 'created': '2021-05-19 19:26:23.000000000', 'files': ['deployment/cinder/cinder-volume-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4cdb0a10f862b5b0c11fdd559db09f881a365422', 'message': 'Switch to using DNS when connecting to etcd and fix an if: regression\n\nWe currently use the IP address to connect to etcd. For example when it\nis configured to listen on the main network it connects to the IP as\nfollows:\n/etc/puppet/hieradata/service_configs.json:    ""tripleo::profile::base::cinder::volume::etcd_host"": ""%{hiera(\'main_network\')}"",\n[root@ctrl-1-0 ~]# hiera -c /etc/puppet/hiera.yaml tripleo::profile::base::cinder::volume::etcd_host\n172.30.1.1\n\nSo in a TLS-E environment we end up with the following coordination URL:\nbackend_url=etcd3+https://172.30.1.1:2379?cert_key=/etc/pki/tls/private/etcd.key&cert_cert=/etc/pki/tls/certs/etcd.crt\n\nThe problem with the above is that TLS will decline to connect to an IP\n(unless you disable verification) and so it errors out with:\n\n2021-05-15 08:00:36.472 1613 INFO cinder.service [-] Starting cinder-volume node (version 18.0.0)\n2021-05-15 08:00:36.501 1613 WARNING urllib3.connection [-] Certificate did not match expected hostname: 172.30.1.1. Certificate: {\'subject\': (((\'organizationName\', \'BGP.FTW\'),), ((\'commonName\', \'ctrl-1-0.mainnetwork.bgp.ftw\'),)), \'issuer\': (((\'organizationName\', \'BGP.FTW\'),), ((\'commonName\', \'Certificate Authority\'),)), \'version\': 3, \'serialNumber\': \'0238\', \'notBefore\': \'May 15 07:27:04 2021 GMT\', \'notAfter\': \'May 16 07:27:04 2023 GMT\', \'subjectAltName\': ((\'DNS\', \'ctrl-1-0.mainnetwork.bgp.ftw\'), (\'DNS\', \'overcloud.main.bgp.ftw\'), (\'othername\', \'<unsupported>\'), (\'othername\', \'<unsupported>\')), \'OCSP\': (\'http://ipa-ca.bgp.ftw/ca/ocsp\',), \'crlDistributionPoints\': (\'http://ipa-ca.bgp.ftw/ipa/crl/MasterCRL.bin\',)}: ssl.CertificateError: hostname \'172.30.1.1\' doesn\'t match either of \'ctrl-1-0.mainnetwork.bgp.ftw\', \'overcloud.main.bgp.ftw\'\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service [-] Error starting thread.: etcd3gw.exceptions.ConnectionFailedError\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service Traceback (most recent call last):\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 677, in urlopen\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     chunked=chunked,\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 381, in _make_request\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     self._validate_conn(conn)\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 978, in _validate_conn\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     conn.connect()\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib/python3.6/site-packages/urllib3/connection.py"", line 397, in connect\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     _match_hostname(cert, self.assert_hostname or server_hostname)\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib/python3.6/site-packages/urllib3/connection.py"", line 407, in _match_hostname\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     match_hostname(cert, asserted_hostname)\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib64/python3.6/ssl.py"", line 287, in match_hostname\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     % (hostname, \', \'.join(map(repr, dnsnames))))\n2021-05-15 08:00:36.502 1613 ERROR oslo_service.service ssl.CertificateError: hostname \'172.30.1.1\' doesn\'t match either of \'ctrl-1-0.mainnetwork.bgp.ftw\', \'overcloud.main.bgp.ftw\'\n\nLet\'s switch to the fqdn which we populate /etc/hosts with in order to avoid these TLS errors.\n\nWith this patch applied I was able to pass this failure.\n\nAlso we fix a small regression introduced by I0ffb201c7c0a453a022cca45255afc7ab2c08046\n(""Simplify cinder service templates"") where we erroneously negated the CinderEtcdLocalConnect\ncondition.\n\nChange-Id: Ib7f8ce203a3b3cf0ed6be72a7720551def077a9a\n'}]",6,791597,4cdb0a10f862b5b0c11fdd559db09f881a365422,13,4,3,20172,,,0,"Switch to using DNS when connecting to etcd and fix an if: regression

We currently use the IP address to connect to etcd. For example when it
is configured to listen on the main network it connects to the IP as
follows:
/etc/puppet/hieradata/service_configs.json:    ""tripleo::profile::base::cinder::volume::etcd_host"": ""%{hiera('main_network')}"",
[root@ctrl-1-0 ~]# hiera -c /etc/puppet/hiera.yaml tripleo::profile::base::cinder::volume::etcd_host
172.30.1.1

So in a TLS-E environment we end up with the following coordination URL:
backend_url=etcd3+https://172.30.1.1:2379?cert_key=/etc/pki/tls/private/etcd.key&cert_cert=/etc/pki/tls/certs/etcd.crt

The problem with the above is that TLS will decline to connect to an IP
(unless you disable verification) and so it errors out with:

2021-05-15 08:00:36.472 1613 INFO cinder.service [-] Starting cinder-volume node (version 18.0.0)
2021-05-15 08:00:36.501 1613 WARNING urllib3.connection [-] Certificate did not match expected hostname: 172.30.1.1. Certificate: {'subject': ((('organizationName', 'BGP.FTW'),), (('commonName', 'ctrl-1-0.mainnetwork.bgp.ftw'),)), 'issuer': ((('organizationName', 'BGP.FTW'),), (('commonName', 'Certificate Authority'),)), 'version': 3, 'serialNumber': '0238', 'notBefore': 'May 15 07:27:04 2021 GMT', 'notAfter': 'May 16 07:27:04 2023 GMT', 'subjectAltName': (('DNS', 'ctrl-1-0.mainnetwork.bgp.ftw'), ('DNS', 'overcloud.main.bgp.ftw'), ('othername', '<unsupported>'), ('othername', '<unsupported>')), 'OCSP': ('http://ipa-ca.bgp.ftw/ca/ocsp',), 'crlDistributionPoints': ('http://ipa-ca.bgp.ftw/ipa/crl/MasterCRL.bin',)}: ssl.CertificateError: hostname '172.30.1.1' doesn't match either of 'ctrl-1-0.mainnetwork.bgp.ftw', 'overcloud.main.bgp.ftw'
2021-05-15 08:00:36.502 1613 ERROR oslo_service.service [-] Error starting thread.: etcd3gw.exceptions.ConnectionFailedError
2021-05-15 08:00:36.502 1613 ERROR oslo_service.service Traceback (most recent call last):
2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 677, in urlopen
2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     chunked=chunked,
2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 381, in _make_request
2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     self._validate_conn(conn)
2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib/python3.6/site-packages/urllib3/connectionpool.py"", line 978, in _validate_conn
2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     conn.connect()
2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib/python3.6/site-packages/urllib3/connection.py"", line 397, in connect
2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     _match_hostname(cert, self.assert_hostname or server_hostname)
2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib/python3.6/site-packages/urllib3/connection.py"", line 407, in _match_hostname
2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     match_hostname(cert, asserted_hostname)
2021-05-15 08:00:36.502 1613 ERROR oslo_service.service   File ""/usr/lib64/python3.6/ssl.py"", line 287, in match_hostname
2021-05-15 08:00:36.502 1613 ERROR oslo_service.service     % (hostname, ', '.join(map(repr, dnsnames))))
2021-05-15 08:00:36.502 1613 ERROR oslo_service.service ssl.CertificateError: hostname '172.30.1.1' doesn't match either of 'ctrl-1-0.mainnetwork.bgp.ftw', 'overcloud.main.bgp.ftw'

Let's switch to the fqdn which we populate /etc/hosts with in order to avoid these TLS errors.

With this patch applied I was able to pass this failure.

Also we fix a small regression introduced by I0ffb201c7c0a453a022cca45255afc7ab2c08046
(""Simplify cinder service templates"") where we erroneously negated the CinderEtcdLocalConnect
condition.

Change-Id: Ib7f8ce203a3b3cf0ed6be72a7720551def077a9a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/791597/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-volume-container-puppet.yaml'],1,c4da1eeba128c874069eb47a0a6669cda814b90f,etcd-tls," ""%{hiera('fqdn_$NETWORK')}"""," ""%{hiera('$NETWORK')}""",1,1
openstack%2Fos-net-config~master~I653151d39635cb0988306e2fdfbd4fbf5352f34f,openstack/os-net-config,master,I653151d39635cb0988306e2fdfbd4fbf5352f34f,[WIP] ovs-interface support,ABANDONED,2021-04-14 20:37:33.000000000,2021-09-14 15:41:27.000000000,,"[{'_account_id': 12398}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-14 20:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/f6f5c9e455a9d5aa555c7658e999870d8d0573d9', 'message': ""[WIP] ovs-interface support\n\nIn order to correctly add an interface when using nmstate, the address\nhas to be added to an ovs-interface and not an ovs-bridge. Historically\nthis was magically handled as part of the legacy network-scripts but\nnmstate wants this to be correctly defined or it'll not validate.\n\nYou need to be able to do something like:\n\n    network_config:\n    - type: ovs_bridge\n      name: br-ctlplane\n      use_dhcp: false\n      ovs_extra:\n      - br-set-external-id br-ctlplane bridge-id br-ctlplane\n      routes: []\n      dns_servers: ['1.1.1.1', '1.0.0.1']\n      domain: []\n      members:\n        - type: interface\n          name: eth1\n          primary: true\n          mtu: 1400\n        - type: ovs-interface\n          name: br-ctlplane\n          mtu: 1400\n          addresses:\n          - ip_netmask: 192.168.24.1/24\n          - ip_netmask: 192.168.24.3/32\n          - ip_netmask: 192.168.24.2/32\n\nChange-Id: I653151d39635cb0988306e2fdfbd4fbf5352f34f\n""}, {'number': 2, 'created': '2021-04-14 21:45:17.000000000', 'files': ['os_net_config/schema.yaml', 'os_net_config/impl_nmstate.py', 'os_net_config/__init__.py', 'os_net_config/objects.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/41ec2b4687c35349e0e7f4e8fe68d93efeb20b50', 'message': ""[WIP] ovs-interface support\n\nIn order to correctly add an interface when using nmstate, the address\nhas to be added to an ovs-interface and not an ovs-bridge. Historically\nthis was magically handled as part of the legacy network-scripts but\nnmstate wants this to be correctly defined or it'll not validate.\n\nYou need to be able to do something like:\n\n    network_config:\n    - type: ovs_bridge\n      name: br-ctlplane\n      use_dhcp: false\n      ovs_extra:\n      - br-set-external-id br-ctlplane bridge-id br-ctlplane\n      routes: []\n      dns_servers: ['1.1.1.1', '1.0.0.1']\n      domain: []\n      members:\n        - type: interface\n          name: eth1\n          primary: true\n          mtu: 1400\n        - type: ovs-interface\n          name: ctlplane\n          mtu: 1400\n          addresses:\n          - ip_netmask: 192.168.24.1/24\n          - ip_netmask: 192.168.24.3/32\n          - ip_netmask: 192.168.24.2/32\n\nChange-Id: I653151d39635cb0988306e2fdfbd4fbf5352f34f\n""}]",1,786323,41ec2b4687c35349e0e7f4e8fe68d93efeb20b50,6,2,2,14985,,,0,"[WIP] ovs-interface support

In order to correctly add an interface when using nmstate, the address
has to be added to an ovs-interface and not an ovs-bridge. Historically
this was magically handled as part of the legacy network-scripts but
nmstate wants this to be correctly defined or it'll not validate.

You need to be able to do something like:

    network_config:
    - type: ovs_bridge
      name: br-ctlplane
      use_dhcp: false
      ovs_extra:
      - br-set-external-id br-ctlplane bridge-id br-ctlplane
      routes: []
      dns_servers: ['1.1.1.1', '1.0.0.1']
      domain: []
      members:
        - type: interface
          name: eth1
          primary: true
          mtu: 1400
        - type: ovs-interface
          name: ctlplane
          mtu: 1400
          addresses:
          - ip_netmask: 192.168.24.1/24
          - ip_netmask: 192.168.24.3/32
          - ip_netmask: 192.168.24.2/32

Change-Id: I653151d39635cb0988306e2fdfbd4fbf5352f34f
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/23/786323/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/schema.yaml', 'os_net_config/impl_nmstate.py', 'os_net_config/objects.py']",3,f6f5c9e455a9d5aa555c7658e999870d8d0573d9,bug/1812947_nmstate," elif obj_type == ""ovs_interface"": return OvsInterface.from_json(json)class OvsInterface(_BaseOpts): """"""Base class for ovs interfaces."""""" def __init__(self, name, use_dhcp=False, use_dhcpv6=False, addresses=None, routes=None, rules=None, mtu=None, primary=False, nic_mapping=None, persist_mapping=False, defroute=True, dhclient_args=None, dns_servers=None, nm_controlled=False, onboot=True, domain=None): addresses = addresses or [] routes = routes or [] rules = rules or [] dns_servers = dns_servers or [] super(OvsInterface, self).__init__( name, use_dhcp, use_dhcpv6, addresses, routes, rules, mtu, primary, nic_mapping, persist_mapping, defroute, dhclient_args, dns_servers, nm_controlled, onboot, domain) @staticmethod def from_json(json): name = _get_required_field(json, 'name', 'OvsInterface') opts = _BaseOpts.base_opts_from_json(json) return OvsInterface(name, *opts) ",,83,4
openstack%2Ftripleo-common~master~I6670f18fe4e89a1c8ea9a898702d80fba3716136,openstack/tripleo-common,master,I6670f18fe4e89a1c8ea9a898702d80fba3716136,"DNM, SIMULATE ceph.quay.io being down",ABANDONED,2021-05-13 18:26:26.000000000,2021-09-14 15:41:20.000000000,,"[{'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-13 18:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fd06d2aa68f4f9d4972387e79dd8d91676ebd3ce', 'message': 'DNM, SIMULATE ceph.quay.io being down\n\nChange-Id: I6670f18fe4e89a1c8ea9a898702d80fba3716136\n'}, {'number': 2, 'created': '2021-05-14 06:50:01.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'tripleo_common/tests/image/test_kolla_builder.py', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8a6169d7102a6a44cc725f1263551b83dc3e8e46', 'message': 'DNM, SIMULATE ceph.quay.io being down\n\nChange-Id: I6670f18fe4e89a1c8ea9a898702d80fba3716136\n'}]",0,791299,8a6169d7102a6a44cc725f1263551b83dc3e8e46,7,3,2,9592,,,0,"DNM, SIMULATE ceph.quay.io being down

Change-Id: I6670f18fe4e89a1c8ea9a898702d80fba3716136
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/99/791299/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml'],1,fd06d2aa68f4f9d4972387e79dd8d91676ebd3ce,,- imagename: quay1.ceph.io/ceph-ci/daemon:v6.0.0-stable-6.0-pacific-centos-8-x86_64- imagename: quay1.ceph.io/prometheus/prometheus:v2.7.2- imagename: quay1.ceph.io/prometheus/alertmanager:v0.16.2- imagename: quay1.ceph.io/prometheus/node-exporter:v0.17.0- imagename: quay1.ceph.io/app-sre/grafana:6.7.4,- imagename: quay.ceph.io/ceph-ci/daemon:v6.0.0-stable-6.0-pacific-centos-8-x86_64- imagename: quay.ceph.io/prometheus/prometheus:v2.7.2- imagename: quay.ceph.io/prometheus/alertmanager:v0.16.2- imagename: quay.ceph.io/prometheus/node-exporter:v0.17.0- imagename: quay.ceph.io/app-sre/grafana:6.7.4,5,5
openstack%2Ftripleo-ci~master~I019e678e5e11eb4d3ddc107edefa7e561e221ac8,openstack/tripleo-ci,master,I019e678e5e11eb4d3ddc107edefa7e561e221ac8,update the ci logs doc w/ more tripleo config data info and links,ABANDONED,2021-04-30 19:04:09.000000000,2021-09-14 15:41:05.000000000,,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-30 19:04:09.000000000', 'files': ['docs/tripleo-quickstart-logs.html'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9bb3c41d2a629bba255052a214dd7841bc233921', 'message': 'update the ci logs doc w/ more tripleo config data info and links\n\nChange-Id: I019e678e5e11eb4d3ddc107edefa7e561e221ac8\n'}]",1,789017,9bb3c41d2a629bba255052a214dd7841bc233921,6,4,1,9592,,,0,"update the ci logs doc w/ more tripleo config data info and links

Change-Id: I019e678e5e11eb4d3ddc107edefa7e561e221ac8
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/17/789017/1 && git format-patch -1 --stdout FETCH_HEAD,['docs/tripleo-quickstart-logs.html'],1,9bb3c41d2a629bba255052a214dd7841bc233921,, <h3>Links to tripleo config</h3> <ul> <li><a href='undercloud/home/zuul/overcloud-deploy/overcloud/tripleo-heat-templates/user-environments/'>user-environments</a> - the deployed user-environment config data from heat</li> <li><a href='undercloud/home/zuul/config-download/overcloud/'>config-download</a> - available in jobs w/ overclouds</li> </ul> ,,9,0
openstack%2Ftripleo-heat-templates~master~I6fbfc7ec4ec298ef97c67183a7c285aa3feb361c,openstack/tripleo-heat-templates,master,I6fbfc7ec4ec298ef97c67183a7c285aa3feb361c,Allow role specific swap size,ABANDONED,2021-04-26 23:59:04.000000000,2021-09-14 15:41:02.000000000,,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-26 23:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2fa5d27e65847a0f022a577b0c2632b979a0e15', 'message': 'Allow role specific swap size\n\nThis change introduces the new swap_size_megabytes_overrides parameter,\nwhich allows users to tune size of swap space in specific roles.\n\nChange-Id: I6fbfc7ec4ec298ef97c67183a7c285aa3feb361c\n'}, {'number': 2, 'created': '2021-04-27 00:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6fdf5d2a7a06124f9b15e4e1e05cb89d001ad833', 'message': 'Allow role specific swap size\n\nThis change updates the example template to set up swap with a loopback\ndevice, so that users can tune size of swap space in specific roles.\n\nChange-Id: I6fbfc7ec4ec298ef97c67183a7c285aa3feb361c\n'}, {'number': 3, 'created': '2021-04-27 02:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/01de8a6d52e6f0af779d0c7a2c90ba360f10fca0', 'message': 'Allow role specific swap size\n\nThis change updates the example template to set up swap with a loopback\ndevice, so that users can tune size of swap space in specific roles.\n\nChange-Id: I6fbfc7ec4ec298ef97c67183a7c285aa3feb361c\n'}, {'number': 4, 'created': '2021-04-28 12:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a7c89bade04f47b46208a701ff11fa00a098c06f', 'message': 'Allow role specific swap size\n\nThis change updates the example template to set up swap with a loopback\ndevice, so that users can tune size of swap space in specific roles.\n\nChange-Id: I6fbfc7ec4ec298ef97c67183a7c285aa3feb361c\n'}, {'number': 5, 'created': '2021-04-29 00:50:38.000000000', 'files': ['extraconfig/all_nodes/swap.j2.yaml', 'overcloud.j2.yaml', 'releasenotes/notes/all_nodes_extra_config-role_parameters_map-84e269bbcc4b44be.yaml', 'extraconfig/all_nodes/swap-partition.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a3592b4cff9b56b855a0c8554ae8dce6d1c41ea7', 'message': 'Allow role specific swap size\n\nThis change updates the example template to set up swap with a loopback\ndevice, so that users can tune size of swap space in specific roles.\n\nChange-Id: I6fbfc7ec4ec298ef97c67183a7c285aa3feb361c\n'}]",3,788099,a3592b4cff9b56b855a0c8554ae8dce6d1c41ea7,19,5,5,9816,,,0,"Allow role specific swap size

This change updates the example template to set up swap with a loopback
device, so that users can tune size of swap space in specific roles.

Change-Id: I6fbfc7ec4ec298ef97c67183a7c285aa3feb361c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/788099/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/all_nodes/swap.j2.yaml'],1,d2fa5d27e65847a0f022a577b0c2632b979a0e15,role-specific-swap, swap_size_megabytes_overrides: type: json descrpition: > Override amount of swap space for specific roles. For example {'Compute': '8192'} make swap size set to 8192MB only in Compute role. default: {} swap_size_megabytes: get_param: - swap_size_megabytes_override - {{role.name}} - {get_param: swap_size_megabytes}, swap_size_megabytes: {get_param: swap_size_megabytes},11,1
openstack%2Ftripleo-heat-templates~master~I75aedd857bb8968b23680d179856f5a53b4f209d,openstack/tripleo-heat-templates,master,I75aedd857bb8968b23680d179856f5a53b4f209d,DNM: Test new swap template,ABANDONED,2021-04-28 12:30:37.000000000,2021-09-14 15:40:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-28 12:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/684cf090ff17d12c83eba4b6461c29da113f4cdf', 'message': 'DNM: Test new swap template\n\nChange-Id: I75aedd857bb8968b23680d179856f5a53b4f209d\n'}, {'number': 2, 'created': '2021-04-29 00:50:38.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90fa1ae29f52befd598b8ab5ebb382ed6362633a', 'message': 'DNM: Test new swap template\n\nChange-Id: I75aedd857bb8968b23680d179856f5a53b4f209d\n'}]",0,788482,90fa1ae29f52befd598b8ab5ebb382ed6362633a,7,2,2,9816,,,0,"DNM: Test new swap template

Change-Id: I75aedd857bb8968b23680d179856f5a53b4f209d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/82/788482/2 && git format-patch -1 --stdout FETCH_HEAD,['overcloud-resource-registry-puppet.j2.yaml'],1,684cf090ff17d12c83eba4b6461c29da113f4cdf,role-specific-swap, OS::TripleO::AllNodesExtraConfig: extraconfig/all_nodes/swap.yaml, OS::TripleO::AllNodesExtraConfig: OS::Heat::None,1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I474b6cd47e98c2266f682089c55412d8efd756bb,openstack/python-tripleoclient,stable/wallaby,I474b6cd47e98c2266f682089c55412d8efd756bb,DNM TESTING stable/wallaby,ABANDONED,2021-04-16 13:15:20.000000000,2021-09-14 15:40:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-16 13:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b95e1a605ec331b8bef36162903ca705acfd178d', 'message': 'DNM TESTING stable/wallaby\n\nChange-Id: I474b6cd47e98c2266f682089c55412d8efd756bb\n'}, {'number': 2, 'created': '2021-04-16 13:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f773d63893ac5b18fcac63cdbe0a1f1d5722183c', 'message': 'DNM TESTING stable/wallaby\n\nChange-Id: I474b6cd47e98c2266f682089c55412d8efd756bb\n'}, {'number': 3, 'created': '2021-04-16 13:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/68fd338f72e95f8520d51b9350a5f90de474c85c', 'message': 'DNM TESTING stable/wallaby\n\nChange-Id: I474b6cd47e98c2266f682089c55412d8efd756bb\n'}, {'number': 4, 'created': '2021-04-16 13:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e02b738406665d9ae1dac83e4fab250f43c06d8b', 'message': 'DNM TESTING stable/wallaby\n\nChange-Id: I474b6cd47e98c2266f682089c55412d8efd756bb\n'}, {'number': 5, 'created': '2021-04-16 13:44:50.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', '.gitreview', 'tripleoclient/v1/undercloud.py', 'zuul.d/layout.yaml', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d87400ce90a7aeb8c13b3afd9bf162589f0e8e78', 'message': 'DNM TESTING stable/wallaby\n\nChange-Id: I474b6cd47e98c2266f682089c55412d8efd756bb\n'}]",6,786647,d87400ce90a7aeb8c13b3afd9bf162589f0e8e78,22,2,5,8449,,,0,"DNM TESTING stable/wallaby

Change-Id: I474b6cd47e98c2266f682089c55412d8efd756bb
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/47/786647/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', '.gitreview', 'tripleoclient/v1/undercloud.py', 'tripleoclient/v1/overcloud_deploy.py']",4,b95e1a605ec331b8bef36162903ca705acfd178d,,# stable/wallaby TEST,,5,0
openstack%2Fpuppet-tripleo~master~I76edd80b704bacd4686d2d4b1eac1cc0458aa73c,openstack/puppet-tripleo,master,I76edd80b704bacd4686d2d4b1eac1cc0458aa73c,WIP Target local memcache in HA control plane,ABANDONED,2021-02-04 17:27:55.000000000,2021-09-14 15:40:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-04 17:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e548e9109e56b5c4def89b35b87b964de84501a6', 'message': 'WIP Target local memcache in HA control plane\n\nChange-Id: I76edd80b704bacd4686d2d4b1eac1cc0458aa73c\n'}, {'number': 2, 'created': '2021-02-09 10:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/01aa7cfdd0a732595c2d655c12a235594046e69f', 'message': 'WIP Target local memcache in HA control plane\n\nChange-Id: I76edd80b704bacd4686d2d4b1eac1cc0458aa73c\n'}, {'number': 3, 'created': '2021-04-23 11:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/452c55ea1906b9780cbb6fb758b0cadbdafbdc34', 'message': 'WIP Target local memcache in HA control plane\n\nChange-Id: I76edd80b704bacd4686d2d4b1eac1cc0458aa73c\n'}, {'number': 4, 'created': '2021-04-26 08:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2bb79e1401ac56083f988457ead1407a8657874c', 'message': 'WIP Target local memcache in HA control plane\n\nChange-Id: I76edd80b704bacd4686d2d4b1eac1cc0458aa73c\n'}, {'number': 5, 'created': '2021-04-26 12:17:45.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5af55406fe97381a7f0cd1b299399b4b0024fcc9', 'message': 'WIP Target local memcache in HA control plane\n\nChange-Id: I76edd80b704bacd4686d2d4b1eac1cc0458aa73c\n'}]",0,774109,5af55406fe97381a7f0cd1b299399b4b0024fcc9,16,2,5,20778,,,0,"WIP Target local memcache in HA control plane

Change-Id: I76edd80b704bacd4686d2d4b1eac1cc0458aa73c
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/09/774109/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,e548e9109e56b5c4def89b35b87b964de84501a6,memcached_localhost,"# [*memcached*] # (optional) Enable or not memcached binding # Defaults to hiera('memcached_enabled', false) # # [*memcached_local_fqdn*] # (optional) The Hiera key that holds the FQDN of the host that # acts as the local memcached backend (i.e. the local host) # Defaults to fqdn_internal_api # $memcached = hiera('memcached_enabled', false), $memcached_local_fqdn = 'fqdn_internal_api', # note(dciabrin): memcached proxy is currently only useful when haproxy and # memcached are co-located (e.g. on the control plane). if $memcached { $local_fqdn = hiera($memcached_local_fqdn); $local_listen = hiera(""localhost_address"", ""127.0.0.1""); $memcached_backend_ips = hiera('memcached_proxy_node_ips', $controller_hosts_real); $memcached_backend_names = hiera('memcached_proxy_node_names', $controller_hosts_names_real); $ips_names = zip($memcached_backend_ips, $memcached_backend_names); $memcached_bind_opts = { ""${local_listen}:11211"" => $haproxy_listen_bind_param, } $memcached_listen_options = { 'option' => [ 'tcplog' ], 'mode' => 'tcp', 'stick' => 'on src', 'stick-table' => 'type ip size 1000', } haproxy::listen { 'memcached': bind => $memcached_bind_opts, options => $memcached_listen_options, collect_exported => false, } # haproxy always forward traffic to the local memcached $memcached_active_ip = $ips_names.filter |$t| {$t[1] == $local_fqdn}.map |$t| {$t[0]} $memcached_active_name = $ips_names.filter |$t| {$t[1] == $local_fqdn}.map |$t| {$t[1]} haproxy::balancermember { 'memcached-active': listening_service => 'memcached', ports => '11211', ipaddresses => $memcached_active_ip, server_names => $memcached_active_name, options => $haproxy_member_options, } # the other memcached serve as backup in case the local one in KO $memcached_backup_ips = $ips_names.filter |$t| {$t[1] != $local_fqdn}.map |$t| {$t[0]}; $memcached_backup_names = $ips_names.filter |$t| {$t[1] != $local_fqdn}.map |$t| {$t[1]}; haproxy::balancermember { 'memcached-backup': listening_service => 'memcached', ports => '11211', ipaddresses => $memcached_backup_ips, server_names => $memcached_backup_names, options => union($haproxy_member_options, ['backup']), } # the firewall rules are managed by TripleO's memcached service. } ",,56,0
openstack%2Ftripleo-heat-templates~master~I81561698c52e6e2a8628983dc809245db73f32dc,openstack/tripleo-heat-templates,master,I81561698c52e6e2a8628983dc809245db73f32dc,WIP Only target the local memcached when it is co-located,ABANDONED,2021-01-29 15:15:14.000000000,2021-09-14 15:40:46.000000000,,"[{'_account_id': 6926}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-29 15:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4633ef3d30f92a55a92abdefb5aa2907acefe625', 'message': 'WIP Only target the local memcached when it is co-located\n\nIn an HA control plane, when a controller node is in outage,\nmemcached clients can randomly target the memcached instance that\nis hosted on the misbehaving controller, and impact service.\n\nChange the memcached configuration such that when a client is\nco-located with the memcache service, it always uses its local\nmemcached instance. This avoids random impact due to node outage,\nat the expense of removing HA for the memcached service.\n\nChange-Id: I81561698c52e6e2a8628983dc809245db73f32dc\nCloses-Bug: #1913733\n'}, {'number': 2, 'created': '2021-02-09 11:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9fe8fd3eecacb1cfea07e3a4757668822de8b4c7', 'message': 'WIP Only target the local memcached when it is co-located\n\nIn an HA control plane, when a controller node is in outage,\nmemcached clients can randomly target the memcached instance that\nis hosted on the misbehaving controller, and impact service.\n\nChange the memcached configuration such that when a client is\nco-located with the memcache snd haproxy services, it always uses its local\nmemcached instance. This avoids random impact due to node outage,\nat the expense of removing HA for the memcached service.\n\nWhen both haproxy and memcache are collocated with the client, haproxy\nproxies memcached on localhost and the client uses that endpoint. In that\ncase, haproxy only targets the local memcached, and can failover to\nremote memcached, so HA is retained.\n\nChange-Id: I81561698c52e6e2a8628983dc809245db73f32dc\nCloses-Bug: #1913733\n'}, {'number': 3, 'created': '2021-04-21 20:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab53f902e780fb00e6206a987645c3ef805c603f', 'message': 'WIP Only target the local memcached when it is co-located\n\nIn an HA control plane, when a controller node is in outage,\nmemcached clients can randomly target the memcached instance that\nis hosted on the misbehaving controller, and impact service.\n\nChange the memcached configuration such that when a client is\nco-located with the memcache snd haproxy services, it always uses its local\nmemcached instance. This avoids random impact due to node outage,\nat the expense of removing HA for the memcached service.\n\nWhen both haproxy and memcache are collocated with the client, haproxy\nproxies memcached on localhost and the client uses that endpoint. In that\ncase, haproxy only targets the local memcached, and can failover to\nremote memcached, so HA is retained.\n\nChange-Id: I81561698c52e6e2a8628983dc809245db73f32dc\nCloses-Bug: #1913733\n'}, {'number': 4, 'created': '2021-04-23 11:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0840ab01b8d8263510941f800e06a2d0ba040ae6', 'message': 'WIP Only target the local memcached when it is co-located\n\nIn an HA control plane, when a controller node is in outage,\nmemcached clients can randomly target the memcached instance that\nis hosted on the misbehaving controller, and impact service.\n\nChange the memcached configuration such that when a client is\nco-located with the memcache snd haproxy services, it always uses its local\nmemcached instance. This avoids random impact due to node outage,\nat the expense of removing HA for the memcached service.\n\nWhen both haproxy and memcache are collocated with the client, haproxy\nproxies memcached on localhost and the client uses that endpoint. In that\ncase, haproxy only targets the local memcached, and can failover to\nremote memcached, so HA is retained.\n\nChange-Id: I81561698c52e6e2a8628983dc809245db73f32dc\nCloses-Bug: #1913733\n'}, {'number': 5, 'created': '2021-04-23 17:39:58.000000000', 'files': ['deployment/memcached/memcached-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a4decb9df103827dbbca2224c3a300b9fd72631', 'message': 'WIP Only target the local memcached when it is co-located\n\nIn an HA control plane, when a controller node is in outage,\nmemcached clients can randomly target the memcached instance that\nis hosted on the misbehaving controller, and impact service.\n\nChange the memcached configuration such that when a client is\nco-located with the memcache snd haproxy services, it always uses its local\nmemcached instance. This avoids random impact due to node outage,\nat the expense of removing HA for the memcached service.\n\nWhen both haproxy and memcache are collocated with the client, haproxy\nproxies memcached on localhost and the client uses that endpoint. In that\ncase, haproxy only targets the local memcached, and can failover to\nremote memcached, so HA is retained.\n\nChange-Id: I81561698c52e6e2a8628983dc809245db73f32dc\nCloses-Bug: #1913733\n'}]",0,773094,3a4decb9df103827dbbca2224c3a300b9fd72631,18,4,5,20778,,,0,"WIP Only target the local memcached when it is co-located

In an HA control plane, when a controller node is in outage,
memcached clients can randomly target the memcached instance that
is hosted on the misbehaving controller, and impact service.

Change the memcached configuration such that when a client is
co-located with the memcache snd haproxy services, it always uses its local
memcached instance. This avoids random impact due to node outage,
at the expense of removing HA for the memcached service.

When both haproxy and memcache are collocated with the client, haproxy
proxies memcached on localhost and the client uses that endpoint. In that
case, haproxy only targets the local memcached, and can failover to
remote memcached, so HA is retained.

Change-Id: I81561698c52e6e2a8628983dc809245db73f32dc
Closes-Bug: #1913733
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/773094/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/memcached/memcached-container-puppet.yaml'],1,4633ef3d30f92a55a92abdefb5aa2907acefe625,memcached_localhost," MemcachedTargetLocalServer: type: boolean default: true description: If a client service is co-located with the memcached service, configure the client to always target the local memcached instance. memcached_target_local_server: {equals : [{get_param: MemcachedTargetLocalServer}, true]} map_merge: - collectd: tripleo.collectd.plugins.memcached: - memcached collectd::plugin::memcached::instances: local: host: ""%{hiera('memcached::listen_ip_uri')}"" port: 11211 - if: - memcached_target_local_server - memcached: memcached_node_ips: ""%{hiera('localhost_address')}"" - {}"," collectd: tripleo.collectd.plugins.memcached: - memcached collectd::plugin::memcached::instances: local: host: ""%{hiera('memcached::listen_ip_uri')}"" port: 11211",20,7
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I557962e77d6558281603b40d0adf01b912e8c2f9,openstack/tripleo-heat-templates,stable/train,I557962e77d6558281603b40d0adf01b912e8c2f9,FFU: change transfer parameters for database resync,ABANDONED,2021-04-21 10:51:13.000000000,2021-09-14 15:40:37.000000000,,"[{'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-21 10:51:13.000000000', 'files': ['deployment/database/mysql-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f42c39f99a086f6859284a7b8399650a71482cce', 'message': ""FFU: change transfer parameters for database resync\n\nConfigure tripleo_transfer's flags to mimick the way a galera SST\ntransfers the entire database between two nodes: in-place copy,\nno delta-transfer, no compression, selective file copy.\n\nChange-Id: I557962e77d6558281603b40d0adf01b912e8c2f9\nCloses-Bug: #1925260\nDepends-On: I1e88907db0bb26d52c92cb996eb56767e06b3874\n(cherry picked from commit 47fb02f207630efe9b9ac651e53c746d57afb377)\n""}]",0,787344,f42c39f99a086f6859284a7b8399650a71482cce,5,3,1,20778,,,0,"FFU: change transfer parameters for database resync

Configure tripleo_transfer's flags to mimick the way a galera SST
transfers the entire database between two nodes: in-place copy,
no delta-transfer, no compression, selective file copy.

Change-Id: I557962e77d6558281603b40d0adf01b912e8c2f9
Closes-Bug: #1925260
Depends-On: I1e88907db0bb26d52c92cb996eb56767e06b3874
(cherry picked from commit 47fb02f207630efe9b9ac651e53c746d57afb377)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/787344/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/mysql-pacemaker-puppet.yaml'],1,f42c39f99a086f6859284a7b8399650a71482cce,transfer-pattern-stable/train, # inline copy of galera database tripleo_transfer_sync_options: --whole-file --ignore-times --inplace --archive --delete # include innodb files and dirs (schemas) tripleo_transfer_include: - '/ibdata*' - '/ib_lru_dump' - '/ib_logfile[0-9]*' - '/undo*' - '/*/' # exclude everything else tripleo_transfer_exclude: '/*',,16,0
openstack%2Ftripleo-repos~master~Ib8881849b594aff7fadd7a7e9f26462b02317dcc,openstack/tripleo-repos,master,Ib8881849b594aff7fadd7a7e9f26462b02317dcc,DNM sketch for config in tripleo-repos,ABANDONED,2021-04-09 10:44:31.000000000,2021-09-14 15:40:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-09 10:44:31.000000000', 'files': ['tripleo_repos/conf/master.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/2fddc6550c34c14ff124006e61713aadeddcefae', 'message': 'DNM sketch for config in tripleo-repos\n\nChange-Id: Ib8881849b594aff7fadd7a7e9f26462b02317dcc\n'}]",3,785593,2fddc6550c34c14ff124006e61713aadeddcefae,6,1,1,10969,,,0,"DNM sketch for config in tripleo-repos

Change-Id: Ib8881849b594aff7fadd7a7e9f26462b02317dcc
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/93/785593/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_repos/conf/master.yaml'],1,2fddc6550c34c14ff124006e61713aadeddcefae,newrepos,"# Defaults # release: master docker_registry_namespace: ""tripleo{{ release }}"" distro: centos distro_number_version: 8 distro_version: 8-stream promote_source: current-tripleo rdo_url: ""{{ proxy_rdo | default(https://trunk.rdoproject.org) }}"" centos_url: ""{{ proxy_centos | default(http://mirror.centos.org/centos) }}"" dlrn_baseurl: ""{{ rdo_url }}/{{ distro_number_version }}-{{ release }}"" centos_baseurl: ""{{ centos_url }}/{{ distro_version }}"" gating_repo_name: gating-repo # master release: master add_repos: - name: delorean.repo dlrn_repo: current-tripleo dlrn_resolve_hash: true ci_proxy_from: /etc/ci/mirrors.sh repo_priority: 20 - name: delorean-current.repo dlrn_repo: delorean-current dlrn_resolve_hash: true ci_proxy_from: /etc/ci/mirrors.sh repo_priority: 10 repo_name: delorean-current includepgks: - ansible-role-container-registry - ansible-role-tripleo* - ansible-tripleo-ipsec - instack - instack-undercloud - openstack-tripleo-* - os-apply-config - os-collect-config - os-net-config - os-refresh-config - puppet-oslo - puppet-cinder - puppet-heat - puppet-neutron - puppet-nova - puppet-glance - puppet-horizon - puppet-ironic - puppet-keystone - puppet-mistral - puppet-openstacklib - puppet-swift - puppet-tripleo - puppet-zaqar - python*-tripleo* - python*-paunch* - paunch-services - tripleo-ansible - ansible-config_template - name: delorean-master-deps.repo dlrn_repo: delorean-deps dlrn_resolve_hash: false ci_proxy_from: /etc/ci/mirrors.sh repo_name: delorean-deps centos8: - baseos - appstream - extras - highavailability - powertools - opstools ceph: - octopus modules: - container-tools: rhel8 - virt: rhel ci_proxy_from: /etc/ci/mirrors.sh ",,77,0
openstack%2Ftripleo-repos~master~Iad04a7caafb7464513963d679c316b0ead004917,openstack/tripleo-repos,master,Iad04a7caafb7464513963d679c316b0ead004917,DNM Test with testing repo added,ABANDONED,2020-09-09 11:03:35.000000000,2021-09-14 15:40:31.000000000,,"[{'_account_id': 13861}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-09 11:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/f8c06f311259319faa5a0869dd1479c4060e501b', 'message': 'DNM Test with NFV SIG repo enabled\n\nChange-Id: Iad04a7caafb7464513963d679c316b0ead004917\n'}, {'number': 2, 'created': '2020-09-16 08:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/9f0230231a31ab50282e0e37485735e7fa2a5ad7', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nChange-Id: Iad04a7caafb7464513963d679c316b0ead004917\n'}, {'number': 3, 'created': '2020-11-05 05:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/6754087df9275aa32559f5707b4d8196ebb7cce2', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nChange-Id: Iad04a7caafb7464513963d679c316b0ead004917\n'}, {'number': 4, 'created': '2020-12-04 12:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/3c4218cbc914c66202bb3d4b84ca30791569a7f5', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nChange-Id: Iad04a7caafb7464513963d679c316b0ead004917\n'}, {'number': 5, 'created': '2020-12-04 12:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/641c929f347ee906ce9e382295aed80e5a985167', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nChange-Id: Iad04a7caafb7464513963d679c316b0ead004917\n'}, {'number': 6, 'created': '2020-12-16 08:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/f48d5f77eed669e763c8f45e7915c41dd57f0979', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nChange-Id: Iad04a7caafb7464513963d679c316b0ead004917\n'}, {'number': 7, 'created': '2021-02-05 07:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/45e2ce0aabb065f59e8608de4e272751fd7f1473', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nChange-Id: Iad04a7caafb7464513963d679c316b0ead004917\n'}, {'number': 8, 'created': '2021-04-14 05:24:32.000000000', 'files': ['tripleo_repos/tests/test_main.py', 'tripleo_repos/main.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/638e26a9bc1b7ac5c52f8c5bd61da7d0b0d0bea1', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo\n\nChange-Id: Iad04a7caafb7464513963d679c316b0ead004917\n'}]",0,750620,638e26a9bc1b7ac5c52f8c5bd61da7d0b0d0bea1,30,3,8,16312,,,0,"DNM Test with testing repo added

load deps from https://trunk.rdoproject.org/centos8-master/delorean-deps-test.repo

Change-Id: Iad04a7caafb7464513963d679c316b0ead004917
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/20/750620/6 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_repos/main.py'],1,f8c06f311259319faa5a0869dd1479c4060e501b,test-rdo-repo-updates," content = _get_repo(base_path + 'delorean-deps-nfv.repo', args) content = _get_repo(base_path + 'delorean-deps-nfv.repo', args)"," content = _get_repo(base_path + 'delorean-deps.repo', args) content = _get_repo(base_path + 'delorean-deps.repo', args)",2,2
openstack%2Ftripleo-ci~master~Ib252de9cae0cd2e89b6d54cb771aa904dbce2801,openstack/tripleo-ci,master,Ib252de9cae0cd2e89b6d54cb771aa904dbce2801,WIP: add standalone-upgrade-ussuri to periodic,ABANDONED,2021-04-06 21:46:46.000000000,2021-09-14 15:40:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-06 21:46:46.000000000', 'files': ['zuul.d/periodic.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/24b5c80a077c92844296ffaaafcfa555c57e7562', 'message': 'WIP: add standalone-upgrade-ussuri to periodic\n\nseeing if this works w/ branchful content providers\n\nChange-Id: Ib252de9cae0cd2e89b6d54cb771aa904dbce2801\n'}]",0,785053,24b5c80a077c92844296ffaaafcfa555c57e7562,4,2,1,9592,,,0,"WIP: add standalone-upgrade-ussuri to periodic

seeing if this works w/ branchful content providers

Change-Id: Ib252de9cae0cd2e89b6d54cb771aa904dbce2801
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/53/785053/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/periodic.yaml'],1,24b5c80a077c92844296ffaaafcfa555c57e7562,," # testing this out, normally train content-provider # is just tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-standalone-upgrade-ussuri: dependencies: - tripleo-ci-centos-8-content-provider-train - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-containers-multinode-victoria: vars: *multi_consumer_vars_periodic dependencies: - tripleo-ci-centos-8-content-provider-victoria - tripleo-ci-centos-8-containers-multinode-train: vars: *multi_consumer_vars_periodic dependencies: - tripleo-ci-centos-8-content-provider-train - tripleo-ci-centos-7-containers-multinode-train: vars: *multi_consumer_vars_periodic dependencies: - tripleo-ci-centos-7-content-provider-train - tripleo-ci-centos-7-containers-multinode-stein: vars: force_non_periodic: true - tripleo-ci-centos-7-containers-multinode-queens: vars: *multi_consumer_vars_periodic dependencies: - tripleo-ci-centos-7-content-provider-queens",,25,0
openstack%2Ftripleo-ansible~master~I6a294c02fe22b5a88208ec299bacc1c85865a837,openstack/tripleo-ansible,master,I6a294c02fe22b5a88208ec299bacc1c85865a837,Update master for stable/wallaby,ABANDONED,2021-04-05 06:32:51.000000000,2021-09-14 15:40:21.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-05 06:32:51.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/76b1c4ca1c6e6b264c2b06f838dff095979d6f28', 'message': 'Update master for stable/wallaby\n\nChange-Id: I6a294c02fe22b5a88208ec299bacc1c85865a837\n'}]",0,784736,76b1c4ca1c6e6b264c2b06f838dff095979d6f28,4,2,1,30384,,,0,"Update master for stable/wallaby

Change-Id: I6a294c02fe22b5a88208ec299bacc1c85865a837
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/36/784736/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,76b1c4ca1c6e6b264c2b06f838dff095979d6f28,, wallaby,,7,0
openstack%2Ftripleo-heat-templates~master~I1f700517e6e3375838d84291c2bcd9cbda92dce7,openstack/tripleo-heat-templates,master,I1f700517e6e3375838d84291c2bcd9cbda92dce7,[wip]Remove Nova keypair generation for Octavia.,ABANDONED,2021-02-02 09:11:42.000000000,2021-09-14 15:40:16.000000000,,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 16347}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-02-02 09:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a4dda71fc24e617875a113182a6a328b8ba1ec26', 'message': ""Remove Nova keypair generation for Octavia.\n\nFor Octavia SSH pub key we uses the existing 'default' keypair from the undercloud.\nBut, In master nova service is removed from the undercloud so compute endpoint\nis not available anymore.\n\nChange-Id: I1f700517e6e3375838d84291c2bcd9cbda92dce7\n""}, {'number': 2, 'created': '2021-02-02 09:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f25dee9121b5c5ebecfb97738d753d606957762', 'message': ""Remove Nova keypair generation for Octavia.\n\nFor Octavia SSH pub key we uses the existing 'default' keypair from the undercloud.\nBut, In master nova service is removed from the undercloud so compute endpoint\nis not available anymore.\n\nCloses-Bug: #1907112\nChange-Id: I1f700517e6e3375838d84291c2bcd9cbda92dce7\n""}, {'number': 3, 'created': '2021-02-12 06:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/617aaa45717f6f8001f584d7dbb1b0d8d6bbfc6c', 'message': ""Remove Nova keypair generation for Octavia.\n\nFor Octavia SSH pub key we uses the existing 'default' keypair from the undercloud.\nBut, In master nova service is removed from the undercloud so compute endpoint\nis not available anymore.\n\nCloses-Bug: #1907112\nChange-Id: I1f700517e6e3375838d84291c2bcd9cbda92dce7\n""}, {'number': 4, 'created': '2021-02-15 06:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/70c14ec5415ecd4fb1758026f0fff595520d0d7b', 'message': ""Remove Nova keypair generation for Octavia.\n\nFor Octavia SSH pub key we uses the existing 'default' keypair from the undercloud.\nBut, In master nova service is removed from the undercloud so compute endpoint\nis not available anymore.\n\nReverting back to using '/home/stack/.ssh/id_rsa.pub' file to set Octavia SSH\npub key as used earlier[1]\n\n[1 ]https://review.opendev.org/c/openstack/tripleo-heat-templates/+/568022\n\nCloses-Bug: #1907112\nChange-Id: I1f700517e6e3375838d84291c2bcd9cbda92dce7\n""}, {'number': 5, 'created': '2021-03-09 10:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5bd0dae1aaddc4f0d214989d4535a4d160e6b80a', 'message': ""[wip]Remove Nova keypair generation for Octavia.\n\nFor Octavia SSH pub key we uses the existing 'default' keypair from the undercloud.\nBut, In master nova service is removed from the undercloud so compute endpoint\nis not available anymore.\n\nReverting back to using '/home/stack/.ssh/id_rsa.pub' file to set Octavia SSH\npub key as used earlier[1]\n\n[1 ]https://review.opendev.org/c/openstack/tripleo-heat-templates/+/568022\n\nCloses-Bug: #1907112\nChange-Id: I1f700517e6e3375838d84291c2bcd9cbda92dce7\n""}, {'number': 6, 'created': '2021-04-01 13:30:04.000000000', 'files': ['deployment/octavia/octavia-deployment-config.j2.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e056c333483fcf3332c844c1d98f03cc55e55b1', 'message': ""[wip]Remove Nova keypair generation for Octavia.\n\nFor Octavia SSH pub key we uses the existing 'default' keypair from the undercloud.\nBut, In master nova service is removed from the undercloud so compute endpoint\nis not available anymore.\n\nReverting back to using '/home/stack/.ssh/id_rsa.pub' file to set Octavia SSH\npub key as used earlier[1]\n\n[1 ]https://review.opendev.org/c/openstack/tripleo-heat-templates/+/568022\n\nCloses-Bug: #1907112\nChange-Id: I1f700517e6e3375838d84291c2bcd9cbda92dce7\n""}]",3,773616,8e056c333483fcf3332c844c1d98f03cc55e55b1,19,7,6,32713,,,0,"[wip]Remove Nova keypair generation for Octavia.

For Octavia SSH pub key we uses the existing 'default' keypair from the undercloud.
But, In master nova service is removed from the undercloud so compute endpoint
is not available anymore.

Reverting back to using '/home/stack/.ssh/id_rsa.pub' file to set Octavia SSH
pub key as used earlier[1]

[1 ]https://review.opendev.org/c/openstack/tripleo-heat-templates/+/568022

Closes-Bug: #1907112
Change-Id: I1f700517e6e3375838d84291c2bcd9cbda92dce7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/773616/6 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-deployment-config.j2.yaml'],1,a4dda71fc24e617875a113182a6a328b8ba1ec26,bug/1907112,,{% if not octavia_standalone %} default_key_pair: type: OS::Nova::KeyPair external_id: default {% endif %},0,5
openstack%2Ftripleo-heat-templates~master~I94db8a088b811c3a9d49c5e24807e87c8b51dac2,openstack/tripleo-heat-templates,master,I94db8a088b811c3a9d49c5e24807e87c8b51dac2,Enable the placement group balancer for Ceph,ABANDONED,2021-02-06 19:35:15.000000000,2021-09-14 15:40:12.000000000,,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-02-06 19:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59872d2700f8d852766af99d4aef5ea8a9f2e00e', 'message': 'Enable the pg balancer for Ceph, and set the mode to upmap\n\nSince we are enforcing the minumum Ceph client version to be Mimic\nwe can now enable the placement group balancer and set the mode\nto upmap. This is useful in that the Ceph cluster will now have a\nmore balanced distribution across OSDs.\n\nhttps: //docs.ceph.com/en/nautilus/rados/operations/balancer/\nChange-Id: I94db8a088b811c3a9d49c5e24807e87c8b51dac2\n'}, {'number': 2, 'created': '2021-02-11 19:55:05.000000000', 'files': ['deployment/ceph-ansible/ceph-mon.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e19e44a642b909c24656b9535e4edac6d5a6ebd8', 'message': 'Enable the placement group balancer for Ceph\n\nWhile CRUSH does a decent job in balancing data across OSDs. It\nis not perfect and there are common scenarios where one or more\nOSDs will fill up first in a cluster. Enabling the pg balancer\nprovides a more balanced distribution across OSDs, which elevates\nthis issue.\n\nhttps: //docs.ceph.com/en/nautilus/rados/operations/balancer/\nChange-Id: I94db8a088b811c3a9d49c5e24807e87c8b51dac2\n'}]",0,774357,e19e44a642b909c24656b9535e4edac6d5a6ebd8,19,5,2,29268,,,0,"Enable the placement group balancer for Ceph

While CRUSH does a decent job in balancing data across OSDs. It
is not perfect and there are common scenarios where one or more
OSDs will fill up first in a cluster. Enabling the pg balancer
provides a more balanced distribution across OSDs, which elevates
this issue.

https: //docs.ceph.com/en/nautilus/rados/operations/balancer/
Change-Id: I94db8a088b811c3a9d49c5e24807e87c8b51dac2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/774357/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-mon.yaml'],1,59872d2700f8d852766af99d4aef5ea8a9f2e00e,," # NOTE(gfidente): enforce minimum client version to mimic to use RBD clone v2 with Cinder - name: Enable upmap mode for Ceph balancer module # NOTE(mheler): Since the miniumum Ceph client version is set to Mimic, we can enable the upmap mode for the balancer module command: ""{{ container_cli }} exec {{ ceph_mon_id.stdout_lines[0] }} ceph balancer mode upmap"" delegate_to: ""{{ groups['ceph_mon'][0] }}"" - name: Enable Ceph placement group balancer command: ""{{ container_cli }} exec {{ ceph_mon_id.stdout_lines[0] }} ceph balancer on"" delegate_to: ""{{ groups['ceph_mon'][0] }}""", # NOTE(gfidente): enforce minimum client version to mimic to use RBD clone v2 with Cinder,8,1
openstack%2Ftripleo-heat-templates~master~I60c196ed1115e9557920f2cd424ef1a9ae16e067,openstack/tripleo-heat-templates,master,I60c196ed1115e9557920f2cd424ef1a9ae16e067,WIP: improve usability of per-role NovaEnableRbdBackend,ABANDONED,2020-05-15 16:52:06.000000000,2021-09-14 15:40:08.000000000,,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-05-15 16:52:06.000000000', 'files': ['roles/DistributedComputeHCI.yaml', 'roles/Standalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephFile.yaml', 'roles/HciCephObject.yaml', 'roles/DistributedComputeHCIScaleOut.yaml', 'roles/HciCephMon.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'environments/ceph-ansible/ceph-ansible.yaml', 'roles/ComputeHCISriov.yaml', 'tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b59934434dcc38c4af138a6cf208bf59f9069a17', 'message': 'WIP: improve usability of per-role NovaEnableRbdBackend\n\nChange-Id: I60c196ed1115e9557920f2cd424ef1a9ae16e067\n'}]",6,728502,b59934434dcc38c4af138a6cf208bf59f9069a17,10,3,1,23811,,,0,"WIP: improve usability of per-role NovaEnableRbdBackend

Change-Id: I60c196ed1115e9557920f2cd424ef1a9ae16e067
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/728502/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/DistributedComputeHCI.yaml', 'roles/Standalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephFile.yaml', 'roles/HciCephObject.yaml', 'roles/DistributedComputeHCIScaleOut.yaml', 'roles/HciCephMon.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'environments/ceph-ansible/ceph-ansible.yaml', 'roles/ComputeHCISriov.yaml', 'tools/yaml-validate.py']",12,b59934434dcc38c4af138a6cf208bf59f9069a17,," if role.get('RoleParametersDefault', {}).get('NovaEnableRbdBackend', None) != True: print('ERROR: HCI role {} does not set NovaEnableRbdBackend: true'.format(role['name'])) return 1 if role.get('RoleParametersDefault', {}).get('NovaEnableRbdBackend', None) != True: print('ERROR: HCI role {} does not set NovaEnableRbdBackend: true'.format(role['name'])) return 1 filename.startswith('./roles/ComputeHCISriov.yaml') or \ filename.startswith('./roles/Standalone.yaml'):", filename.startswith('./roles/ComputeHCISriov.yaml'):,20,1
openstack%2Ftripleo-docs~master~I947b7d1a941ef4ab2222f4fcfa60851ed8dc97cb,openstack/tripleo-docs,master,I947b7d1a941ef4ab2222f4fcfa60851ed8dc97cb,WIP adding tripleo ci release branching prep docs,ABANDONED,2021-03-26 16:38:10.000000000,2021-09-14 15:40:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-26 16:38:10.000000000', 'files': ['doc/source/ci/preparing_for_new_release_and_branch.rst', 'doc/source/ci/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/2bdfb3f04b8d2d51666b4a872e3a4e491f163705', 'message': 'WIP adding tripleo ci release branching prep docs\n\nnothing to see here kindly move along\nhttps://youtu.be/aKnX5wci404?t=33\n\nChange-Id: I947b7d1a941ef4ab2222f4fcfa60851ed8dc97cb\n'}]",0,783384,2bdfb3f04b8d2d51666b4a872e3a4e491f163705,3,1,1,8449,,,0,"WIP adding tripleo ci release branching prep docs

nothing to see here kindly move along
https://youtu.be/aKnX5wci404?t=33

Change-Id: I947b7d1a941ef4ab2222f4fcfa60851ed8dc97cb
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/84/783384/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ci/preparing_for_new_release_and_branch.rst', 'doc/source/ci/index.rst']",2,2bdfb3f04b8d2d51666b4a872e3a4e491f163705,, preparing_for_new_release_and_stable_branch,,70,0
openstack%2Ftripleo-ci~master~Id415493e70ecd7f2997b83ee34bc19fd1a38146c,openstack/tripleo-ci,master,Id415493e70ecd7f2997b83ee34bc19fd1a38146c,DNM some experimentation dhall zuul job definitions,ABANDONED,2021-03-19 15:12:19.000000000,2021-09-14 15:40:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-19 15:12:19.000000000', 'files': ['test.dhall', 'test.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e67a3392263188ccac097b339b2700a1fba84a10', 'message': 'DNM some experimentation dhall zuul job definitions\n\nChange-Id: Id415493e70ecd7f2997b83ee34bc19fd1a38146c\n'}]",0,781769,e67a3392263188ccac097b339b2700a1fba84a10,4,2,1,8449,,,0,"DNM some experimentation dhall zuul job definitions

Change-Id: Id415493e70ecd7f2997b83ee34bc19fd1a38146c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/69/781769/1 && git format-patch -1 --stdout FETCH_HEAD,"['test.dhall', 'test.yaml']",2,e67a3392263188ccac097b339b2700a1fba84a10,, - job: abstract: true ansible-version: '2.9' description: The base job for the Ansible installation of Zuul. name: base parent: base-minimal pre-run: - playbooks/base/pre.yaml - job: description: A job to validate no github workflow directory are found. name: github-workflows nodeset: nodes: [] run: playbooks/github-workflows/run.yaml - job: name: ansible-tox-docs nodeset: centos-8-1vcpu parent: tox-docs - job: name: ansible-tox-linters nodeset: centos-8-1vcpu parent: tox-linters - job: name: ansible-tox-docs nodeset: centos-8-1vcpu parent: tox-docs - job: name: ansible-tox-py27 nodeset: centos-7-1vcpu parent: tox-py27 - job: name: ansible-tox-py35 nodeset: ubuntu-xenial-1vcpu parent: tox-py35 - job: name: ansible-tox-py36 nodeset: centos-8-1vcpu parent: tox-py36 - job: name: ansible-tox-py37 nodeset: centos-8-1vcpu parent: tox-py37 - job: name: ansible-tox-py38 nodeset: ubuntu-bionic-1vcpu parent: tox-py38 - job: name: ansible-network-appliance-base post-run: - playbooks/ansible-network-appliance-base/post.yaml pre-run: - playbooks/ansible-network-appliance-base/pre.yaml - job: host-vars: asav9-12-3: ansible_connection: network_cli ansible_network_os: asa ansible_python_interpreter: python name: ansible-network-asa-appliance nodeset: asav9-12-3-python36 parent: ansible-network-appliance-base pre-run: - playbooks/ansible/network-asa-appliance/pre.yaml required-projects: - name: github.com/ansible/ansible-zuul-jobs run: playbooks/ansible/network-asa-appliance/run.yaml - job: host-vars: eos-4.20.10: ansible_connection: network_cli ansible_network_os: asa ansible_python_interpreter: python name: ansible-network-eos-appliance nodeset: eos-4.20.10-python36 parent: ansible-network-appliance-base pre-run: - playbooks/ansible/network-eos-appliance/pre.yaml required-projects: - name: github.com/ansible/ansible-zuul-jobs run: playbooks/ansible/network-eos-appliance/run.yaml - job: host-vars: ios-15.6-2T: ansible_connection: network_cli ansible_network_os: asa ansible_python_interpreter: python name: ansible-network-ios-appliance nodeset: ios-15.6-2T-python36 parent: ansible-network-appliance-base pre-run: - playbooks/ansible/network-ios-appliance/pre.yaml required-projects: - name: github.com/ansible/ansible-zuul-jobs run: playbooks/ansible/network-ios-appliance/run.yaml - job: host-vars: iosxr-6.1.3: ansible_connection: network_cli ansible_network_os: asa ansible_python_interpreter: python name: ansible-network-iosxr-appliance nodeset: iosxr-6.1.3-python36 parent: ansible-network-appliance-base pre-run: - playbooks/ansible/network-iosxr-appliance/pre.yaml required-projects: - name: github.com/ansible/ansible-zuul-jobs run: playbooks/ansible/network-iosxr-appliance/run.yaml - job: host-vars: vsrx3-18.4R1: ansible_connection: network_cli ansible_network_os: asa ansible_python_interpreter: python name: ansible-network-vsrx-appliance nodeset: vsrx3-18.4R1-python36 parent: ansible-network-appliance-base pre-run: - playbooks/ansible/network-vsrx-appliance/pre.yaml required-projects: - name: github.com/ansible/ansible-zuul-jobs run: playbooks/ansible/network-vsrx-appliance/run.yaml - job: host-vars: vqfx-18.1R3: ansible_connection: network_cli ansible_network_os: asa ansible_python_interpreter: python name: ansible-network-vqfx-appliance nodeset: vqfx-18.1R3-python36 parent: ansible-network-appliance-base pre-run: - playbooks/ansible/network-vqfx-appliance/pre.yaml required-projects: - name: github.com/ansible/ansible-zuul-jobs run: playbooks/ansible/network-vqfx-appliance/run.yaml - job: host-vars: nxos-7.0.3: ansible_connection: network_cli ansible_network_os: asa ansible_python_interpreter: python name: ansible-network-nxos-appliance nodeset: nxos-7.0.3-python36 parent: ansible-network-appliance-base pre-run: - playbooks/ansible/network-nxos-appliance/pre.yaml required-projects: - name: github.com/ansible/ansible-zuul-jobs run: playbooks/ansible/network-nxos-appliance/run.yaml - job: host-vars: openvswitch-2.9.0: ansible_connection: network_cli ansible_network_os: asa ansible_python_interpreter: python name: ansible-network-openvswitch-appliance nodeset: openvswitch-2.9.0-python36 parent: ansible-network-appliance-base pre-run: - playbooks/ansible/network-openvswitch-appliance/pre.yaml required-projects: - name: github.com/ansible/ansible-zuul-jobs run: playbooks/ansible/network-openvswitch-appliance/run.yaml ,,287,0
openstack%2Ftripleo-ansible~master~I00ce9d32ab1862087f41ce7538e6d132e04e0568,openstack/tripleo-ansible,master,I00ce9d32ab1862087f41ce7538e6d132e04e0568,[WIP] Remove dependency on github repo for tripleo_collectd,ABANDONED,2021-02-24 17:12:38.000000000,2021-09-14 15:38:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-24 17:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0f77ae084035d45449be719e2789b22caef1e30d', 'message': '[WIP] Remove dependency on github repo for tripleo_collectd\n\nDepends-On: I3ffc52e38708211f090319a63b9d794d0376223a\nChange-Id: I00ce9d32ab1862087f41ce7538e6d132e04e0568\n'}, {'number': 2, 'created': '2021-02-25 21:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9167e9691b33a468a10bcdc7e4a30cf8ef42a3dd', 'message': '[WIP] Remove dependency on github repo for tripleo_collectd\n\nDepends-On: I3ffc52e38708211f090319a63b9d794d0376223a\nChange-Id: I00ce9d32ab1862087f41ce7538e6d132e04e0568\n'}, {'number': 3, 'created': '2021-03-01 21:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8e98af61f429dc31289748f809aa0cae37e0ff88', 'message': '[WIP] Remove dependency on github repo for tripleo_collectd\n\nDepends-On: I3ffc52e38708211f090319a63b9d794d0376223a\nChange-Id: I00ce9d32ab1862087f41ce7538e6d132e04e0568\n'}, {'number': 4, 'created': '2021-03-02 13:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cfa3b18ac3f52bade7a29ba66090c079534f76bb', 'message': '[WIP] Remove dependency on github repo for tripleo_collectd\n\nDepends-On: I3ffc52e38708211f090319a63b9d794d0376223a\nChange-Id: I00ce9d32ab1862087f41ce7538e6d132e04e0568\n'}, {'number': 5, 'created': '2021-03-02 16:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/72c1bf03d92e791157e65e8259bd5cac03722dd7', 'message': '[WIP] Remove dependency on github repo for tripleo_collectd\n\nDepends-On: I3ffc52e38708211f090319a63b9d794d0376223a\nChange-Id: I00ce9d32ab1862087f41ce7538e6d132e04e0568\n'}, {'number': 6, 'created': '2021-03-04 14:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f5906c30cb28041cd210890a23dbf9ef862c975e', 'message': '[WIP] Remove dependency on github repo for tripleo_collectd\n\nDepends-On: I3ffc52e38708211f090319a63b9d794d0376223a\nChange-Id: I00ce9d32ab1862087f41ce7538e6d132e04e0568\n'}, {'number': 7, 'created': '2021-03-04 16:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bc0d362f7485c82d67f83e20c5e6fccf85ce5a6c', 'message': '[WIP] Remove dependency on github repo for tripleo_collectd\n\nDepends-On: I3ffc52e38708211f090319a63b9d794d0376223a\nChange-Id: I00ce9d32ab1862087f41ce7538e6d132e04e0568\n'}, {'number': 8, 'created': '2021-03-05 20:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8f7a22a6f39bb1ba80207f2f651eec004ed00dfb', 'message': '[WIP] Remove dependency on github repo for tripleo_collectd\n\nDepends-On: I3ffc52e38708211f090319a63b9d794d0376223a\nChange-Id: I00ce9d32ab1862087f41ce7538e6d132e04e0568\n'}, {'number': 9, 'created': '2021-03-09 19:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/44b57ca244d95653e3a39372cf4c19c96753684a', 'message': '[WIP] Remove dependency on github repo for tripleo_collectd\n\nIf the dependencies exist in $HOME/src/github.com/... then\nskip galaxy install and use the local versions. The\ndependencies are expected to exist here is zuul is used and\nhas added these projects to the image.\n\nThis would also enable using some local versions during\ndevelopment.\n\nDepends-On: I3ffc52e38708211f090319a63b9d794d0376223a\nDepends-On: I7ce2166a752856d426938715c026a1a54bac9380\nChange-Id: I00ce9d32ab1862087f41ce7538e6d132e04e0568\n'}, {'number': 10, 'created': '2021-03-09 20:14:49.000000000', 'files': ['tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/common/install_dependencies.sh', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/common/cleanup.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/291922439406672ea5766477177c97eea285dd67', 'message': '[WIP] Remove dependency on github repo for tripleo_collectd\n\nIf the dependencies exist in $HOME/src/github.com/... then\nskip galaxy install and use the local versions. The\ndependencies are expected to exist here is zuul is used and\nhas added these projects to the image.\n\nThis would also enable using some local versions during\ndevelopment.\n\nDepends-On: I3ffc52e38708211f090319a63b9d794d0376223a\nDepends-On: I7ce2166a752856d426938715c026a1a54bac9380\nChange-Id: I00ce9d32ab1862087f41ce7538e6d132e04e0568\n'}]",44,777435,291922439406672ea5766477177c97eea285dd67,34,2,10,13177,,,0,"[WIP] Remove dependency on github repo for tripleo_collectd

If the dependencies exist in $HOME/src/github.com/... then
skip galaxy install and use the local versions. The
dependencies are expected to exist here is zuul is used and
has added these projects to the image.

This would also enable using some local versions during
development.

Depends-On: I3ffc52e38708211f090319a63b9d794d0376223a
Depends-On: I7ce2166a752856d426938715c026a1a54bac9380
Change-Id: I00ce9d32ab1862087f41ce7538e6d132e04e0568
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/35/777435/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/molecule.yaml'],1,0f77ae084035d45449be719e2789b22caef1e30d,ansible_collectd, required-projects: - infrawatch/functional-tests,,2,0
openstack%2Ftripleo-common~stable%2Fussuri~Ic0a8ddd69d022845f4a0895405a3878009670860,openstack/tripleo-common,stable/ussuri,Ic0a8ddd69d022845f4a0895405a3878009670860,DNM Test with testing repo added,ABANDONED,2021-02-08 06:12:26.000000000,2021-09-14 15:38:15.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-08 06:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e2840678767806023cb1dbbbe5ff99448c591b1b', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-ussuri/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/774392\nChange-Id: Ic0a8ddd69d022845f4a0895405a3878009670860\n'}, {'number': 2, 'created': '2021-02-08 06:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7c674af5aa2bcb12302a5bc6cfd16c0c64d8c112', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-ussuri/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/774392\nChange-Id: Ic0a8ddd69d022845f4a0895405a3878009670860\n'}, {'number': 3, 'created': '2021-02-08 06:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a6e9419a96a7167e7f528b8bdb74b4a579a5bec8', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-ussuri/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/774392\nChange-Id: Ic0a8ddd69d022845f4a0895405a3878009670860\n'}, {'number': 4, 'created': '2021-03-08 10:33:27.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/70c9833193fbaaa05a003eb9272f33ffdee94bdd', 'message': 'DNM Test with testing repo added\n\nload deps from https://trunk.rdoproject.org/centos8-ussuri/delorean-deps-test.repo\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/774392\n\nChange-Id: Ic0a8ddd69d022845f4a0895405a3878009670860\n'}]",1,774394,70c9833193fbaaa05a003eb9272f33ffdee94bdd,14,2,4,13861,,,0,"DNM Test with testing repo added

load deps from https://trunk.rdoproject.org/centos8-ussuri/delorean-deps-test.repo

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/774392

Change-Id: Ic0a8ddd69d022845f4a0895405a3878009670860
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/94/774394/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,e2840678767806023cb1dbbbe5ff99448c591b1b,test-rdo-repo-updates, - tripleo-buildimage-ironic-python-agent-centos-8: - tripleo-buildimage-overcloud-hardened-full-centos-8:, files: - ^container-images/.*$ - ^tripleo_common/image/builder/.*$ files: - workbooks/package_update.yaml - workbooks/baremetal.yaml - ^container-images/.*$ - tripleo_common/actions/deployment.py - tripleo_common/actions/container_images.py - tripleo_common/image/kolla_builder.py - scripts/.*$ files: - ^container-images/tcib/base/collectd.*$ - ^container-images/tcib/base/os/aodh.*$ - ^container-images/tcib/base/os/ceilometer.*$ - ^container-images/tcib/base/os/cinder.*$ - ^container-images/tcib/base/os/gnocchi.*$ - ^container-images/tcib/base/os/heat.*$ - ^container-images/tcib/base/qdrouterd.*$ - ^container-images/tcib/base/rabbitmq.*$ - ^container-images/tcib/base/redis.*$ files: - ^container-images/tcib/base/os/designate.*$ - ^container-images/tcib/base/os/mistral.*$ - ^container-images/tcib/base/os/sahara.*$ files: - ^container-images/tcib/base/os/manila.*$ files: - ^container-images/tcib/base/os/neutron.*$ files: - ^container-images/tcib/base/os/octavia.*$ files: - ^image-yaml/.*$ files: - ^image-yaml/.*$ files: - ^image-yaml/.*$ files: - ^image-yaml/.*$ - tripleo-buildimage-ironic-python-agent-centos-8: files: - ^image-yaml/.*$ - tripleo-buildimage-overcloud-hardened-full-centos-8: files: - ^image-yaml/.*$,0,43
openstack%2Ftripleo-ci~master~I9793cbd5b9d93ccc644a4873732cf5419e28ab8f,openstack/tripleo-ci,master,I9793cbd5b9d93ccc644a4873732cf5419e28ab8f,(wes1) DNM test CI jobs - stream,ABANDONED,2021-03-07 21:33:41.000000000,2021-09-14 15:38:14.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-07 21:33:41.000000000', 'files': ['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/multinode.yml', 'roles/tripleo-repos/tasks/main.yml', 'roles/oooci-build-images/tasks/main.yaml', 'toci-quickstart/config/testenv/multinode-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'roles/common/tasks/main.yml', 'roles/run-test/tasks/main.yaml', 'toci-quickstart/config/testenv/ovb.yml', 'roles/prepare-node/tasks/main.yaml', 'roles/ceph-loop-device/defaults/main.yml', 'roles/build-containers/defaults/main.yaml', 'toci-quickstart/config/testenv/multinode-vexxhost.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/13d5cdb7f51447c338a14ad9afd677c108bde9d7', 'message': '(wes1) DNM test CI jobs - stream\n\nChange-Id: I9793cbd5b9d93ccc644a4873732cf5419e28ab8f\n'}]",0,779113,13d5cdb7f51447c338a14ad9afd677c108bde9d7,4,3,1,9592,,,0,"(wes1) DNM test CI jobs - stream

Change-Id: I9793cbd5b9d93ccc644a4873732cf5419e28ab8f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/13/779113/1 && git format-patch -1 --stdout FETCH_HEAD,"['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/multinode.yml', 'roles/tripleo-repos/tasks/main.yml', 'roles/oooci-build-images/tasks/main.yaml', 'toci-quickstart/config/testenv/multinode-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'roles/common/tasks/main.yml', 'roles/run-test/tasks/main.yaml', 'toci-quickstart/config/testenv/ovb.yml', 'roles/prepare-node/tasks/main.yaml', 'roles/ceph-loop-device/defaults/main.yml', 'roles/build-containers/defaults/main.yaml', 'toci-quickstart/config/testenv/multinode-vexxhost.yml']",13,13d5cdb7f51447c338a14ad9afd677c108bde9d7,testallstream,# test,,13,0
openstack%2Ftripleo-ansible~master~I959c5dadbce1ac2fb99f1f810a3bcb29932f8577,openstack/tripleo-ansible,master,I959c5dadbce1ac2fb99f1f810a3bcb29932f8577,Add validation support to backup and restore cli.,ABANDONED,2020-08-27 13:24:34.000000000,2021-09-14 15:38:12.000000000,,"[{'_account_id': 8932}, {'_account_id': 11085}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 31324}]","[{'number': 1, 'created': '2020-08-27 13:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f41156642842c94ba0b15fcea376e2b706b53a8a', 'message': '[WIP] Add validation support to backup and restore cli.\n\nThis playbook will allow operators to verify that the\nrestored systems are functioning as expected through\nthe use of tripleo-validation roles.\n\nChange-Id: I959c5dadbce1ac2fb99f1f810a3bcb29932f8577\n'}, {'number': 2, 'created': '2020-10-19 13:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/33c94a36d36082c5d600e420fabeae8c05463281', 'message': '[WIP] Add validation support to backup and restore cli.\n\nThis playbook will allow operators to verify that the\nrestored systems are functioning as expected through\nthe use of tripleo-validation roles.\n\nChange-Id: I959c5dadbce1ac2fb99f1f810a3bcb29932f8577\n'}, {'number': 3, 'created': '2020-10-27 15:09:33.000000000', 'files': ['tripleo_ansible/playbooks/cli-post-restore-verification.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c392a415279f4df3f1288976bfe230c5e432628d', 'message': 'Add validation support to backup and restore cli.\n\nThis playbook will allow operators to verify that the\nrestored systems are functioning as expected through\nthe use of tripleo-validation roles.\n\nChange-Id: I959c5dadbce1ac2fb99f1f810a3bcb29932f8577\n'}]",2,748432,c392a415279f4df3f1288976bfe230c5e432628d,13,8,3,11085,,,0,"Add validation support to backup and restore cli.

This playbook will allow operators to verify that the
restored systems are functioning as expected through
the use of tripleo-validation roles.

Change-Id: I959c5dadbce1ac2fb99f1f810a3bcb29932f8577
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/32/748432/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-post-restore-verification.yaml'],1,f41156642842c94ba0b15fcea376e2b706b53a8a,backup_restore_validation,"--- # Copyright 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: TripleO Restore Verification connection: ""{{ (tripleo_target_host is defined) | ternary('ssh', 'local') }}"" hosts: all remote_user: ""{{ tripleo_target_user | default(lookup('env', 'USER')) }}"" become: true tasks: - name: Post system restore validation shell: |- source ""{{ ansible_home }}/stackrc"" openstack tripleo validator run --validation ""{{ item }}"" with_items: - validate-selinux - ceph-health - container-status - node-health - ntp - neutron-sanity-check - pacemaker-status - service-status ",,35,0
openstack%2Fpython-tripleoclient~master~Ia34f8a16df20db0566f995a680a5de23394ee7f6,openstack/python-tripleoclient,master,Ia34f8a16df20db0566f995a680a5de23394ee7f6,Add validation support to backup and restore cli.,ABANDONED,2020-08-27 13:28:49.000000000,2021-09-14 15:38:10.000000000,,"[{'_account_id': 8932}, {'_account_id': 11085}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 28223}, {'_account_id': 31324}]","[{'number': 1, 'created': '2020-08-27 13:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8bcab2d2ceaae960e71efc686b5d6e5d47f2ae4a', 'message': '[WIP] Add validation support to backup and restore cli.\n\nThis addition to the tripleoclient will give the operator the\ncommand line option to call the system validation roles from\ntripleo-validations.\n\nChange-Id: Ia34f8a16df20db0566f995a680a5de23394ee7f6\n'}, {'number': 2, 'created': '2020-10-27 15:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/04594afafe4fbc51e8087601ee1668d0c23499d7', 'message': '[WIP] Add validation support to backup and restore cli.\n\nThis addition to the tripleoclient will give the operator the\ncommand line option to call the system validation roles from\ntripleo-validations.\n\nChange-Id: Ia34f8a16df20db0566f995a680a5de23394ee7f6\n'}, {'number': 3, 'created': '2020-10-27 15:07:58.000000000', 'files': ['tripleoclient/v1/undercloud_backup.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/61e680d54afb13238f9342bf33a5c909145eda97', 'message': 'Add validation support to backup and restore cli.\n\nThis addition to the tripleoclient will give the operator the\ncommand line option to call the system validation roles from\ntripleo-validations.\n\nChange-Id: Ia34f8a16df20db0566f995a680a5de23394ee7f6\n'}]",4,748434,61e680d54afb13238f9342bf33a5c909145eda97,11,7,3,11085,,,0,"Add validation support to backup and restore cli.

This addition to the tripleoclient will give the operator the
command line option to call the system validation roles from
tripleo-validations.

Change-Id: Ia34f8a16df20db0566f995a680a5de23394ee7f6
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/34/748434/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_backup.py'],1,8bcab2d2ceaae960e71efc686b5d6e5d47f2ae4a,backup_restore_validation," parser.add_argument( '--verify_restore', default=False, action='store_true', help=_(""Execute tripleo backup and restore validation group"" ""This is a select group of validations which will be"" ""ran after a restore has been performed."") ) def _run_verify_restore(self, parsed_args): """"""Execute the tripleo-validation plays"""""" self._run_ansible_playbook( playbook='cli-post-restore-verification.yaml', inventory=parsed_args.inventory ) elif parsed_args.verify_restore: self._run_verify_restore(parsed_args) ",,18,0
openstack%2Ftripleo-ci~master~I84db635c86f8d372bd8d14b38546c281f6ee40cb,openstack/tripleo-ci,master,I84db635c86f8d372bd8d14b38546c281f6ee40cb,Check container build status to avoid push and pull,ABANDONED,2021-02-01 15:25:06.000000000,2021-09-14 15:38:08.000000000,,"[{'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-01 15:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9552cd2a953497a9612317368ce142dca0e86f81', 'message': 'Removed ignore_errors from build-reports.yaml\n\nSome tasks are failing and zuul will not get\nnotified because of ignore_errors.\n\nCloses-Bug: #1914061\n\nChange-Id: I84db635c86f8d372bd8d14b38546c281f6ee40cb\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 2, 'created': '2021-02-04 10:06:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0dc54feb585960d7dcb3f8cb8e43e17606056513', 'message': 'Check container build status to avoid push and pull\n\nContainer build status is not getting validated which\nleads to failure of container push and pull.\n\nCloses-Bug: #1914061\n\nChange-Id: I84db635c86f8d372bd8d14b38546c281f6ee40cb\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 3, 'created': '2021-02-05 08:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4561595fcd230297d3d3b182a90bf536052427f4', 'message': 'Check container build status to avoid push and pull\n\nContainer build status is not getting validated which\nleads to failure of container push and pull.\n\nCloses-Bug: #1914061\n\nChange-Id: I84db635c86f8d372bd8d14b38546c281f6ee40cb\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 4, 'created': '2021-02-05 09:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8d2f4c0c3832012fe4ab43053a7448a5af9b01cf', 'message': 'Check container build status to avoid push and pull\n\nContainer build status is not getting validated which\nleads to failure of container push and pull.\n\nCloses-Bug: #1914061\n\nChange-Id: I84db635c86f8d372bd8d14b38546c281f6ee40cb\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 5, 'created': '2021-02-08 09:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/57e03a868bcd8ec44099eb3999372721f2bdc876', 'message': 'Check container build status to avoid push and pull\n\nContainer build status is not getting validated which\nleads to failure of container push and pull.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/774424\n\nCloses-Bug: #1914061\n\nChange-Id: I84db635c86f8d372bd8d14b38546c281f6ee40cb\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 6, 'created': '2021-02-17 09:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/67b457bb3383c15ee7d30d2ef632cc2ad84a15a5', 'message': 'Check container build status to avoid push and pull\n\nContainer build status is not getting validated which\nleads to failure of container push and pull.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/774424\n\nCloses-Bug: #1914061\n\nChange-Id: I84db635c86f8d372bd8d14b38546c281f6ee40cb\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 7, 'created': '2021-02-18 09:30:38.000000000', 'files': ['roles/build-containers/templates/kolla-build.sh.j2', 'roles/build-containers/tasks/main.yaml', 'roles/build-containers/templates/tripleo-build.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/790a7e52ce58e80f9beb1770ee66093caca1046c', 'message': 'Check container build status to avoid push and pull\n\nContainer build status is not getting validated which\nleads to failure of container push and pull.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/774424\n\nCloses-Bug: #1914061\n\nChange-Id: I84db635c86f8d372bd8d14b38546c281f6ee40cb\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}]",9,773413,790a7e52ce58e80f9beb1770ee66093caca1046c,37,10,7,30750,,,0,"Check container build status to avoid push and pull

Container build status is not getting validated which
leads to failure of container push and pull.

Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/774424

Closes-Bug: #1914061

Change-Id: I84db635c86f8d372bd8d14b38546c281f6ee40cb
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/13/773413/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/tasks/build-report.yaml'],1,9552cd2a953497a9612317368ce142dca0e86f81,bz_1914061,, ignore_errors: yes,0,2
openstack%2Ftripleo-ansible~stable%2Ftrain~I1986ef8109061dab8213f8ec29160b6d830cdc49,openstack/tripleo-ansible,stable/train,I1986ef8109061dab8213f8ec29160b6d830cdc49,Add support for rdo openvswitch layered upgrade special treatment.,ABANDONED,2021-02-11 14:10:22.000000000,2021-09-14 15:38:06.000000000,,"[{'_account_id': 8297}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-11 14:10:22.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/89d765c8a3981a484034d8259622b02e44b3e826', 'message': ""Add support for rdo openvswitch layered upgrade special treatment.\n\nThe special treatment for openvswitch works on Red Hat. This patch add\nRDO support.\n\nWe also adjust for the all naming convention of the openvswitch\npackage.\n\nThis was discovered during the related-bug investigation. Note that it\nin itself doesn't solve it.\n\nConflicts:\n    tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py\n\nCo-Authored-By: yatinkarel <ykarel@redhat.com>\nDepends-On: https://review.opendev.org/#/c/761463/\nChange-Id: I1986ef8109061dab8213f8ec29160b6d830cdc49\nRelated-Bug: #1897863\n(cherry picked from commit 31ed062a9c1cc2bbccc73ece1ed7307e58b390d1)\n(cherry picked from commit c4a181b8558226d41c5d2fa7ceacf7cada16b34c)\n""}]",0,775106,89d765c8a3981a484034d8259622b02e44b3e826,7,4,1,13861,,,0,"Add support for rdo openvswitch layered upgrade special treatment.

The special treatment for openvswitch works on Red Hat. This patch add
RDO support.

We also adjust for the all naming convention of the openvswitch
package.

This was discovered during the related-bug investigation. Note that it
in itself doesn't solve it.

Conflicts:
    tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py

Co-Authored-By: yatinkarel <ykarel@redhat.com>
Depends-On: https://review.opendev.org/#/c/761463/
Change-Id: I1986ef8109061dab8213f8ec29160b6d830cdc49
Related-Bug: #1897863
(cherry picked from commit 31ed062a9c1cc2bbccc73ece1ed7307e58b390d1)
(cherry picked from commit c4a181b8558226d41c5d2fa7ceacf7cada16b34c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/06/775106/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_ovs_upgrade.py'],1,89d765c8a3981a484034d8259622b02e44b3e826,bug/1897863-stable/train,"import osdef get_current_ovs_pkg_name(module): """""" Get currently installed ovs pkg name, layered or not."""""" openvswitch(?!-[a-z]+)) # non-layered """"""Actually do the layered ovs upgrade with workaround. So we have a layered package (rhosp|rdo)-openvswitch. To prevent any cut in networking during update/upgrade, we update ovs without triggering the scripts in the package that stop the service. So first it determines if the package has a upgrade coming and then erases it making sure no package script is triggered and finally it re-install the new package. It also prevents incomptible issues between ovs database schema during a rolling update. No cut in service at the cost of a needed reboot to get the new binaries in place. """""" layered_product_name = get_layered_product_name() lp_ovs_coming_versions = get_version(module, layered_product_name) if ovs_pkg == 'openvswitch': pkg_base_name = 'openvswitch*' else: pkg_base_name = 'openvswitch{}*'.format(pkg_suffix) upgraded = upgrade_pkg(module, layered_product_name)def get_distro(): """"""Get the distro as defined in /etc/os-release[ID]."""""" distro = None os_release_file = '/etc/os-release' if os.path.isfile(os_release_file): with open(os_release_file) as release_file: for line in release_file.readlines(): match = re.match('^ *ID *=""?([^""]+)""?$', line) if match: distro = match.group(1) break return distro def get_layered_product_name(): """"""Get the layer product name version depending on os. It's rhosp-openvswitch on redhat, and rdo-openvswitch on centos. """""" distro = get_distro() if distro is not None and distro == 'centos': return 'rdo-openvswitch' return 'rhosp-openvswitch' layered_product_name = get_layered_product_name() layered_product_name, result['msg'] += ""Found a layered product ovs - {} - "" \ .format(layered_product_name)","# Get current OpenvSwitch package name # return stuff like openvswitch2.11 in original yaml. def get_current_ovs_pkg_name(module): openvswitch-2) # non-layered lp_ovs_coming_versions = get_version(module, 'rhosp-openvswitch') pkg_base_name = 'openvswitch{}*'.format(pkg_suffix) upgraded = upgrade_pkg(module, 'rhosp-openvswitch') 'rhosp-openvswitch', result['msg'] += ""Found a layered product ovs. """,57,8
openstack%2Ftripleo-heat-templates~master~I310f2ae548c639affc1125ed9690a25ae7b5ad21,openstack/tripleo-heat-templates,master,I310f2ae548c639affc1125ed9690a25ae7b5ad21,WIP: Switch undercloud to OVN,ABANDONED,2021-02-09 09:39:04.000000000,2021-09-14 15:38:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-09 09:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e06c11c74df7bfc6b9d9ea634098dff02970b950', 'message': 'WIP: Switch undercloud to OVN\n\nChange-Id: I310f2ae548c639affc1125ed9690a25ae7b5ad21\n'}, {'number': 2, 'created': '2021-02-09 09:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a047cb018387a40833ac7b717ac917a8cadc7ae', 'message': 'WIP: Switch undercloud to OVN\n\nChange-Id: I310f2ae548c639affc1125ed9690a25ae7b5ad21\n'}, {'number': 3, 'created': '2021-02-10 10:36:15.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aadb40dde830ff13b3c7eabd2729e224deb82dbd', 'message': 'WIP: Switch undercloud to OVN\n\nChange-Id: I310f2ae548c639affc1125ed9690a25ae7b5ad21\n'}]",0,774613,aadb40dde830ff13b3c7eabd2729e224deb82dbd,8,2,3,11082,,,0,"WIP: Switch undercloud to OVN

Change-Id: I310f2ae548c639affc1125ed9690a25ae7b5ad21
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/774613/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,e06c11c74df7bfc6b9d9ea634098dff02970b950,undercloud_ovn," # Switch undercloud to ovn OS::TripleO::Services::NeutronMl2PluginBase: ../deployment/neutron/neutron-plugin-ml2-ovn.yaml OS::TripleO::Services::OVNController: ../deployment/ovn/ovn-controller-container-puppet.yaml OS::TripleO::Services::OVNDBs: ../deployment/ovn/ovn-dbs-container-puppet.yaml OS::TripleO::Services::OVNMetadataAgent: ../deployment/ovn/ovn-metadata-container-puppet.yaml # Disabling Neutron services that overlap with OVN OS::TripleO::Services::NeutronOvsAgent: OS::Heat::None OS::TripleO::Services::ComputeNeutronOvsAgent: OS::Heat::None OS::TripleO::Services::NeutronL3Agent: OS::Heat::None OS::TripleO::Services::ComputeNeutronL3Agent: OS::Heat::None OS::TripleO::Services::NeutronMetadataAgent: OS::Heat::None OS::TripleO::Services::ComputeNeutronMetadataAgent: OS::Heat::None OS::TripleO::Services::ComputeNeutronCorePlugin: OS::Heat::None<<<<<<< HEAD======= SoftwareConfigTransport: POLL_SERVER_HEAT >>>>>>> 853f44830 (WIP: Switch undercloud to OVN) NeutronTunnelTypes: [ ] NeutronBridgeMappings: ctlplane:br-ctlplane NeutronAgentExtensions: [ ] NeutronFlatNetworks: '*' NeutronMechanismDrivers: ovn OVNVifType: ovs OVNNeutronSyncMode: log OVNQosDriver: ovn-qos NeutronNetworkType: ['geneve', 'vxlan', 'vlan', 'flat']"," OS::TripleO::Services::ComputeNeutronOvsAgent: ../deployment/neutron/neutron-ovs-agent-container-puppet.yaml OS::TripleO::Services::NeutronOvsAgent: ../deployment/neutron/neutron-ovs-agent-container-puppet.yaml OS::TripleO::Services::NeutronL3Agent: ../deployment/neutron/neutron-l3-container-puppet.yaml OS::TripleO::Services::NeutronCorePlugin: ../deployment/neutron/neutron-plugin-ml2-container-puppet.yaml OS::TripleO::Services::NeutronMl2PluginBase: ../deployment/neutron/neutron-plugin-ml2.yaml OS::TripleO::Services::NeutronMetadataAgent: OS::Heat::None NeutronMechanismDrivers: ['openvswitch', 'baremetal'] NeutronNetworkType: ['local','flat','vlan','gre','vxlan']",27,8
openstack%2Ftripleo-upgrade~master~I317aa4cf1e690f9f08f11a2346fb6854f7f1bc54,openstack/tripleo-upgrade,master,I317aa4cf1e690f9f08f11a2346fb6854f7f1bc54,[ffwd] Run network tests during system upgrade too,ABANDONED,2021-01-29 12:28:49.000000000,2021-09-14 15:38:02.000000000,,"[{'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-01-29 12:28:49.000000000', 'files': ['templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1472f19a18ed9f0404534e96ef6b60aa093ab6d0', 'message': '[ffwd] Run network tests during system upgrade too\n\nChange-Id: I317aa4cf1e690f9f08f11a2346fb6854f7f1bc54\n'}]",3,773018,1472f19a18ed9f0404534e96ef6b60aa093ab6d0,6,3,1,11166,,,0,"[ffwd] Run network tests during system upgrade too

Change-Id: I317aa4cf1e690f9f08f11a2346fb6854f7f1bc54
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/18/773018/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2'],1,1472f19a18ed9f0404534e96ef6b60aa093ab6d0,,{% if l3_agent_connectivity_check|bool %} if [[ -e {{ working_dir }}/l3_agent_start_ping.sh ]]; then source {{ overcloud_rc }} bash {{ working_dir }}/l3_agent_start_ping.sh fi {% endif %} {% if l3_agent_failover_check|bool %} if [[ -e {{ working_dir }}/l3_agent_failover_pre.sh ]]; then source {{ overcloud_rc }} bash {{ working_dir }}/l3_agent_failover_pre.sh fi {% endif %} {% if fip_http_check|bool %} source {{ overcloud_rc }} kill -9 $( lsof -t {{ working_dir }}/fip_http_check_start.sh ) || : bash {{ working_dir }}/fip_http_check_start.sh & {% endif %} {% if l3_agent_connectivity_check|bool %} if [[ -e {{ working_dir }}/l3_agent_stop_ping.sh ]]; then source {{ overcloud_rc }} bash {{ working_dir }}/l3_agent_stop_ping.sh fi {% endif %} {% if l3_agent_failover_check|bool %} if [[ -e {{ working_dir }}/l3_agent_failover_post.sh ]]; then source {{ overcloud_rc }} bash {{ working_dir }}/l3_agent_failover_post.sh fi {% endif %} {% if fip_http_check|bool %} source {{ overcloud_rc }} kill -9 $( lsof -t {{ working_dir }}/fip_http_check_start.sh ) bash {{ working_dir }}/fip_http_check_stop.sh {% endif %} {% if launch_sanity_workload|bool %} bash {{ working_dir }}/workload_launch.sh 'sanity' {% endif %},,43,0
openstack%2Ftripleo-ci~master~I50c19db54d61cdca1f0a5e4eeee4fc23c52c1ff9,openstack/tripleo-ci,master,I50c19db54d61cdca1f0a5e4eeee4fc23c52c1ff9,centos-8-scenario000-multinode-oooq-container-upgrades should use emit_releases.py,ABANDONED,2021-01-11 19:26:55.000000000,2021-09-14 15:38:00.000000000,,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-01-11 19:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/712c6444a8fa242b340d8ded1cb8081c0d6e6f54', 'message': 'centos-8-scenario000-multinode-oooq-container-upgrades should use emit_releases.py\n\nfeatureset051 should use emit releases to install n-1, then n\n\nCloses-Bug: #1911048\nChange-Id: I50c19db54d61cdca1f0a5e4eeee4fc23c52c1ff9\n'}, {'number': 2, 'created': '2021-01-11 23:45:34.000000000', 'files': ['roles/run-test/templates/toci_gate_test.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/08845f20e8bac7ab15f51f32ba0953890aea6245', 'message': 'centos-8-scenario000-multinode-oooq-container-upgrades should use emit_releases.py\n\nfeatureset051 should use emit releases to install n-1, then n\n\nCloses-Bug: #1911048\nChange-Id: I50c19db54d61cdca1f0a5e4eeee4fc23c52c1ff9\n'}]",3,770198,08845f20e8bac7ab15f51f32ba0953890aea6245,8,6,2,9592,,,0,"centos-8-scenario000-multinode-oooq-container-upgrades should use emit_releases.py

featureset051 should use emit releases to install n-1, then n

Closes-Bug: #1911048
Change-Id: I50c19db54d61cdca1f0a5e4eeee4fc23c52c1ff9
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/98/770198/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/templates/toci_gate_test.sh.j2'],1,712c6444a8fa242b340d8ded1cb8081c0d6e6f54,,"if [[ -f ""$RELEASES_SCRIPT"" ]] && [[ {{ featureset }} =~ 011|037|047|050|51|056 ]]; then","if [[ -f ""$RELEASES_SCRIPT"" ]] && [[ {{ featureset }} =~ 011|037|047|050|056 ]]; then",1,1
openstack%2Ftripleo-docs~master~I197586b436b72a922c953a7e803374141d5df85f,openstack/tripleo-docs,master,I197586b436b72a922c953a7e803374141d5df85f,WIP document the upgrades jobs,ABANDONED,2021-01-07 16:48:12.000000000,2021-09-14 15:37:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-07 16:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/22557f6cdc23ebbf2f5f487f21e1a95eacc8f697', 'message': 'WIP document the upgrades jobs\n\nChange-Id: I197586b436b72a922c953a7e803374141d5df85f\n'}, {'number': 2, 'created': '2021-01-08 16:31:16.000000000', 'files': ['doc/source/ci/index.rst', 'doc/source/ci/upgrade_jobs.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/2b0cd24801f7580689294a65b7a14dde26c3557c', 'message': 'WIP document the upgrades jobs\n\nChange-Id: I197586b436b72a922c953a7e803374141d5df85f\n'}]",0,769795,2b0cd24801f7580689294a65b7a14dde26c3557c,5,1,2,8449,,,0,"WIP document the upgrades jobs

Change-Id: I197586b436b72a922c953a7e803374141d5df85f
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/95/769795/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ci/index.rst', 'doc/source/ci/upgrade_jobs.rst']",2,22557f6cdc23ebbf2f5f487f21e1a95eacc8f697,,"Upgrade Jobs ============ This section introduces the upgrades related zuul jobs in use with the CI pipelines for the various TripleO repos. The purpose and functionality of a CI job will inevitably change over time and upgrades jobs are no exception. The jobs described here have been known by slightly different names over time (as well as other changes). Furthermore all the jobs described here run in various pipelines including check and gate (see [1]_ for more info about check & gate) as well as the periodic promotion pipelines and are known by different names in each. In general we can distinguish four distinct jobs with the following names in use today in the check and gate queues: * overcloud major upgrade - **tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades|-victoria|-ussuri** - job history at [2]_ * undercloud major upgrade - **tripleo-ci-centos-8-undercloud-upgrade|-victoria|-ussuri** - job history at [3]_ * overcloud minor update - **tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates|-victoria|-ussuri|-train** - job history at [4]_ * standalone major upgrade - **tripleo-ci-centos-8-standalone-upgrade|-victoria|-ussuri** - job history at [5]_ The use of ""major upgrade"" above refers to an upgrade across OpenStack versions (e.g. Stein to Train) whereas ""minor update"" refers to an upgrade within the same version (e.g. start on Train and update to latest Train). For each of the four jobs identified above we will look in more detail at **what** the job is doing at a high level, **why** we have it that is what coverage it is giving us, **how** it works in a little more detail and then some pointers to **where** it is defined (a job may be defined in multiple pipelines e.g. standalone-upgrade in check/gate/periodic/component). something about train and special case marks start of centos8 don't have stein on 8 so cant have upgrade s to t. omething about voting not on master except the minor update always votes. The Standalone Upgrade Job -------------------------- What n-1 to n actually runs upgrade tasks for some services 'small' ubiquitous used in all the pipelines including component Why How Where The Overcloud Upgrade Job ------------------------- What no repo switch so within same version very small set of services one undercloud and one controller node tests the upgrade workflow/tooling Why How Where The Undercloud Upgrade Job -------------------------- What Why How Where The Minor Update Job -------------------- What always votes including master. should never break this (i.e. always guarantee being able to update within the same version). Why How Where References ~~~~~~~~~~ .. [1] `TripleO CI gate vs check <ci_primer.html#zuul-queues-gate-vs-check>`_ .. [2] `Job history tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades/victoria/ussuri <https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades&job_name=tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades-victoria&job_name=tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades-ussuri>`_ .. [3] `Job history tripleo-ci-centos-8-undercloud-upgrade/victoria/ussuri <https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-undercloud-upgrade&job_name=tripleo-ci-centos-8-undercloud-upgrade-victoria&job_name=tripleo-ci-centos-8-undercloud-upgrade-ussuri>`_ .. [4] `Job history tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates/victoria/ussuri/train <https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates&job_name=+tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-victoria&job_name=tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-ussuri&job_name=tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-train>`_ .. [5] `Job history tripleo-ci-centos-8-standalone-upgrade/victoria/ussuri <https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-standalone-upgrade&job_name=tripleo-ci-centos-8-standalone-upgrade-victoria&job_name=tripleo-ci-centos-8-standalone-upgrade-ussuri>`_ .. [] ` <>`_ .. [] ` <>`_ .. [] ` <>`_ .. [] ` <>`_ .. [] ` <>`_ .. [] ` <>`_ .. [] ` <>`_ .. [] ` <>`_ .. [] ` <>`_ .. [] ` <>`_ .. [] ` <>`_ .. [] ` <>`_ .. [] ` <>`_ ",,114,0
openstack%2Ftripleo-heat-templates~master~I081abf37b7d0be954cdb3d75c77a90d75cc50dc0,openstack/tripleo-heat-templates,master,I081abf37b7d0be954cdb3d75c77a90d75cc50dc0,Add environment enabling memcached for cache and authtoken,ABANDONED,2019-02-01 22:19:06.000000000,2021-09-14 15:37:57.000000000,,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8866}, {'_account_id': 9003}, {'_account_id': 9816}, {'_account_id': 10873}, {'_account_id': 11166}, {'_account_id': 11589}, {'_account_id': 11816}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 17216}, {'_account_id': 19234}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26109}]","[{'number': 1, 'created': '2019-02-01 22:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/709e483610e54881482f9595563f700180b935b9', 'message': ""WIP: Introduce memcached_servers and use it for keystone\n\nWe need to generate hiera variable memcached_servers\nso we don't risk redefinining. This allows us to\nenable memcached on all keystone::authtoken and also\nfor keystone it's self.\n\nChange-Id: I081abf37b7d0be954cdb3d75c77a90d75cc50dc0\n""}, {'number': 2, 'created': '2019-02-03 23:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/61a6107c110d8a81d33b16f2c6c6a124ae013634', 'message': ""WIP: Introduce memcached_servers and use it for keystone\n\nWe need to generate hiera variable memcached_servers\nso we don't risk redefinining. This allows us to\nenable memcached on all keystone::authtoken and also\nfor keystone it's self.\n\nChange-Id: I081abf37b7d0be954cdb3d75c77a90d75cc50dc0\n""}, {'number': 3, 'created': '2019-02-11 11:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ce63f02549225626f0fa3960ffffe39a62b6996', 'message': ""Introduce memcached_servers and use it\n\nWe need to generate hiera variable memcached_servers\nso we don't risk redefinining. This allows us to\nenable memcached on all keystone::authtoken and also\nfor keystone, heat and other services that can use\ncache.\n\nChange-Id: I081abf37b7d0be954cdb3d75c77a90d75cc50dc0\n""}, {'number': 4, 'created': '2019-02-12 13:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/51d71ca2c0cf8a649a11d5dadfee38480b683c1d', 'message': ""Introduce memcached_servers and use it\n\nWe need to generate hiera variable memcached_servers\nso we don't risk redefinining. This allows us to\nenable memcached on all keystone::authtoken and also\nfor keystone, heat and other services that can use\ncache.\n\nChange-Id: I081abf37b7d0be954cdb3d75c77a90d75cc50dc0\n""}, {'number': 5, 'created': '2019-02-13 14:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/50b164afce35bc25d78b2e5b2bed8470af97fbc0', 'message': ""Introduce memcached_servers and use it\n\nWe need to generate hiera variable memcached_servers\nso we don't risk redefinining. This allows us to\nenable memcached on all keystone::authtoken and also\nfor keystone, heat and other services that can use\ncache.\n\nChange-Id: I081abf37b7d0be954cdb3d75c77a90d75cc50dc0\n""}, {'number': 6, 'created': '2019-02-14 05:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d92d4cf44030f9375beec32baa1594b94104226d', 'message': ""Introduce memcached_servers and use it\n\nWe need to generate hiera variable memcached_servers\nso we don't risk redefinining. This allows us to\nenable memcached on all keystone::authtoken and also\nfor keystone, heat and other services that can use\ncache.\n\nCo-Authored-By: Harry Rybacki <hrybacki@redhat.com>\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nDepends-On: I4f204cf6622ae11c800cd66e88e905a58d7fdd4e\nChange-Id: I081abf37b7d0be954cdb3d75c77a90d75cc50dc0\n""}, {'number': 7, 'created': '2019-02-15 15:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f292ea7526a406f2859fc304393f4455194d2229', 'message': 'Leverage memcached where it is present\n\nSet authtoken::memcached_server and cache to hosts internalapi if\nthe memcached service is deployed on node.\n\nCo-Authored-By: Harry Rybacki <hrybacki@redhat.com>\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nDepends-On: I4f204cf6622ae11c800cd66e88e905a58d7fdd4e\nChange-Id: I081abf37b7d0be954cdb3d75c77a90d75cc50dc0\n'}, {'number': 8, 'created': '2019-02-21 14:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a9ec3c25213c367d3f32b79fdcb775c7febd044', 'message': 'Add environment enabling memcached for cache and authtoken\n\nIf user wants they should be able to enable memcached even if it\ncan bring stability issues with HA.\n\nCo-Authored-By: Harry Rybacki <hrybacki@redhat.com>\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nDepends-On: I4f204cf6622ae11c800cd66e88e905a58d7fdd4e\nChange-Id: I081abf37b7d0be954cdb3d75c77a90d75cc50dc0\n'}, {'number': 9, 'created': '2020-08-26 22:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb9594f0536bd68be6aecd8257ad3a021b3caf57', 'message': 'Add environment enabling memcached for cache and authtoken\n\nIf user wants they should be able to enable memcached even if it\ncan bring stability issues with HA.\n\nCo-Authored-By: Harry Rybacki <hrybacki@redhat.com>\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: I081abf37b7d0be954cdb3d75c77a90d75cc50dc0\n'}, {'number': 10, 'created': '2020-08-26 22:03:37.000000000', 'files': ['deployment/swift/swift-proxy-container-puppet.yaml', 'environments/memcached_servers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d26c1b71852ec600aa0acb25c2487e8bbcb7506', 'message': 'Add environment enabling memcached for cache and authtoken\n\nIf user wants they should be able to enable memcached even if it\ncan bring stability issues with HA.\n\nCo-Authored-By: Harry Rybacki <hrybacki@redhat.com>\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: I081abf37b7d0be954cdb3d75c77a90d75cc50dc0\n'}]",14,634505,7d26c1b71852ec600aa0acb25c2487e8bbcb7506,54,17,10,11166,,,0,"Add environment enabling memcached for cache and authtoken

If user wants they should be able to enable memcached even if it
can bring stability issues with HA.

Co-Authored-By: Harry Rybacki <hrybacki@redhat.com>
Co-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>
Change-Id: I081abf37b7d0be954cdb3d75c77a90d75cc50dc0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/634505/5 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/congress.yaml', 'puppet/services/nova-metadata.yaml', 'puppet/all-nodes-config.j2.yaml', 'puppet/services/tacker.yaml', 'puppet/services/manila-api.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'puppet/services/panko-base.yaml', 'docker/services/designate-api.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'puppet/services/designate-api.yaml', 'puppet/services/manila-share.yaml', 'deployment/mistral/mistral-base.yaml', 'deployment/heat/heat-base-puppet.yaml', 'puppet/services/barbican-api.yaml', 'puppet/services/neutron-api.yaml', 'puppet/services/ec2-api.yaml', 'puppet/services/gnocchi-api.yaml', 'puppet/services/nova-placement.yaml', 'puppet/services/ceilometer-base.yaml', 'deployment/sahara/sahara-base.yaml', 'puppet/services/nova-api.yaml']",23,709e483610e54881482f9595563f700180b935b9,memcached," nova::keystone::authtoken::memcached_servers: ""%{hiera('memcached_servers')}""",,47,0
openstack%2Ftripleo-heat-templates~master~Ied1f6c8537c119a7c022bcd44fb93ff435b9566c,openstack/tripleo-heat-templates,master,Ied1f6c8537c119a7c022bcd44fb93ff435b9566c,Configure masquerade networks by ansible,ABANDONED,2020-12-29 03:00:00.000000000,2021-09-14 15:37:55.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-29 03:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bed8597d35d60e104f1d543ea34717d7fdbd94c0', 'message': 'Configure masquerade networks by ansible\n\nThis change replaces previous usage of puppet modules for masquerade\nnetworks by ansible, so that we can maintain all firewall rules by\nansible.\n\nChange-Id: Ied1f6c8537c119a7c022bcd44fb93ff435b9566c\n'}, {'number': 2, 'created': '2020-12-29 13:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5e7b4a2fa0f0bd9df06a863f4c10ffe06dbef65a', 'message': 'Configure masquerade networks by ansible\n\nThis change replaces previous usage of puppet modules for masquerade\nnetworks by ansible, so that we can maintain all firewall rules by\nansible.\n\nChange-Id: Ied1f6c8537c119a7c022bcd44fb93ff435b9566c\n'}, {'number': 3, 'created': '2020-12-29 14:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db8f6e743e7481bdb125e47ad381139afea2e93d', 'message': 'Configure masquerade networks by ansible\n\nThis change replaces previous usage of puppet modules for masquerade\nnetworks by ansible, so that we can maintain all firewall rules by\nansible.\n\nChange-Id: Ied1f6c8537c119a7c022bcd44fb93ff435b9566c\n'}, {'number': 4, 'created': '2020-12-30 12:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/66b2682db24c453d8a4a1085c46f76f2426c76f5', 'message': 'Configure masquerade networks by ansible\n\nThis change replaces previous usage of puppet modules for masquerade\nnetworks by ansible, so that we can maintain all firewall rules by\nansible.\n\nChange-Id: Ied1f6c8537c119a7c022bcd44fb93ff435b9566c\n'}, {'number': 5, 'created': '2020-12-31 01:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8e25de9f7cfb64bc8c3e520cffad0f3393bd9b7', 'message': 'Configure masquerade networks by ansible\n\nThis change replaces previous usage of puppet modules for masquerade\nnetworks by ansible, so that we can maintain all firewall rules by\nansible.\n\nChange-Id: Ied1f6c8537c119a7c022bcd44fb93ff435b9566c\n'}, {'number': 6, 'created': '2020-12-31 07:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f6486549e52665c11be61be5f49fc3de162fd56f', 'message': 'Configure masquerade networks by ansible\n\nThis change replaces previous usage of puppet modules for masquerade\nnetworks by ansible, so that we can maintain all firewall rules by\nansible.\n\nChange-Id: Ied1f6c8537c119a7c022bcd44fb93ff435b9566c\n'}, {'number': 7, 'created': '2020-12-31 10:11:04.000000000', 'files': ['environments/services/masquerade-networks.yaml', 'deployment/masquerade-networks/masquerade-networks-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8dcac666c633210094f793f57d16ac182ce99191', 'message': 'Configure masquerade networks by ansible\n\nThis change replaces previous usage of puppet modules for masquerade\nnetworks by ansible, so that we can maintain all firewall rules by\nansible.\n\nChange-Id: Ied1f6c8537c119a7c022bcd44fb93ff435b9566c\n'}]",1,768653,8dcac666c633210094f793f57d16ac182ce99191,22,3,7,9816,,,0,"Configure masquerade networks by ansible

This change replaces previous usage of puppet modules for masquerade
networks by ansible, so that we can maintain all firewall rules by
ansible.

Change-Id: Ied1f6c8537c119a7c022bcd44fb93ff435b9566c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/768653/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/masquerade-networks.yaml', 'deployment/masquerade-networks/masquerade-networks-baremetal-ansible.yaml']",2,bed8597d35d60e104f1d543ea34717d7fdbd94c0,masquerade-ansible,"heat_template_version: rocky description: > Configure TripleO Masquerade networks with Ansible. parameters: ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json DefaultPasswords: default: {} type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json MasqueradeNetworks: default: {'192.168.24.0/24': ['192.168.24.0/24', '192.168.25.0/24']} description: Hash of masquerade networks to manage. type: json conditions: masquerade_networks_enabled: not: equals: [{get_param: MasqueradeNetworks}, {}] outputs: role_data: description: Role data for the TripleO Masquerade Networks service. value: service_name: masquerade_networks_enabled firewall_rules: if: - masquerade_networks: - repeat: for_each: <%src%>: yaql: expression: $.data.masquerade_networks.keys() data: masquerade_networks: {get_param: MasqueradeNetworks} template: map_merge: - repeat: for_each: <%dest%>: yaml: expression: $.data.masquerade_networks.get(<%src%>) data: masquerade_networks: {get_param: MasqueradeNetworks} template: '137 routed_network return src <%src%> dest <%dest%>': table: nat source: <%src%> destination: <%dest%> jump: RETURN chain: POSTROUTING proto: all state: - ESTABLISHED - NEW - RELATED - '138 routed_network masquerade <%src%>': table: nat source: <%src%> jump: MASQUERADE chain: POSTROUTING proto: all state: - ESTABLISHED - NEW - RELATED '139 routed_network forward source <%src%>': source: <%src%> chain: FORWARD proto: all state: - ESTABLISHED - NEW - RELATED '140 routed_network forward destinations <%src%>': destination: <%src%> chain: FORWARD proto: all state: - ESTABLISHED - NEW - RELATED - {} config_settings: {} upgrade_tasks: [] ",,110,1
openstack%2Fpuppet-tripleo~master~Iaa5c53e429b0815b1dd525ffa3ec8e25f4751c72,openstack/puppet-tripleo,master,Iaa5c53e429b0815b1dd525ffa3ec8e25f4751c72,Cleanup unused modules to manage CA certificates,ABANDONED,2020-12-29 02:00:14.000000000,2021-09-14 15:37:53.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-29 02:00:14.000000000', 'files': ['manifests/trusted_ca.pp', 'manifests/trusted_cas.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b6bae3f838a061a7e6cfd84399e32c568548f6f6', 'message': 'Cleanup unused modules to manage CA certificates\n\nCA certificates are now managed by tripleo-ansible and no longer\nmaintained by puppet.\n\nDepends-on: https://review.opendev.org/743633\nChange-Id: Iaa5c53e429b0815b1dd525ffa3ec8e25f4751c72\n'}]",0,768617,b6bae3f838a061a7e6cfd84399e32c568548f6f6,7,3,1,9816,,,0,"Cleanup unused modules to manage CA certificates

CA certificates are now managed by tripleo-ansible and no longer
maintained by puppet.

Depends-on: https://review.opendev.org/743633
Change-Id: Iaa5c53e429b0815b1dd525ffa3ec8e25f4751c72
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/17/768617/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/trusted_ca.pp', 'manifests/trusted_cas.pp']",2,b6bae3f838a061a7e6cfd84399e32c568548f6f6,remove-trusted_cas,,"# Copyright 2016 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::trusted_cas # # Does the necessary actions to deploy and trust a set of CA certificates. # # === Parameters # # [*ca_map*] # The content of the CA certificate in PEM format. # class tripleo::trusted_cas( $ca_map = {}, ) { create_resources('::tripleo::trusted_ca', $ca_map) } ",0,67
openstack%2Ftripleo-heat-templates~master~I4e58e5a41b1d7db8f931916cc828478214da8b83,openstack/tripleo-heat-templates,master,I4e58e5a41b1d7db8f931916cc828478214da8b83,DNM: Test new live migration options,ABANDONED,2020-03-26 00:05:58.000000000,2021-09-14 15:37:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-03-26 00:05:58.000000000', 'files': ['dnm'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/11df348d98b54a29daf2b0842aa4135753f91ed0', 'message': 'DNM: Test new live migration options\n\nDepends-on: https://review.opendev.org/#/c/456571/\nDepends-on: https://review.opendev.org/#/c/713440/\nChange-Id: I4e58e5a41b1d7db8f931916cc828478214da8b83\n'}]",0,715096,11df348d98b54a29daf2b0842aa4135753f91ed0,6,3,1,9816,,,0,"DNM: Test new live migration options

Depends-on: https://review.opendev.org/#/c/456571/
Depends-on: https://review.opendev.org/#/c/713440/
Change-Id: I4e58e5a41b1d7db8f931916cc828478214da8b83
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/715096/1 && git format-patch -1 --stdout FETCH_HEAD,['dnm'],1,11df348d98b54a29daf2b0842aa4135753f91ed0,dnm,,,0,0
openstack%2Ftripleo-ci~master~I03f2f3463b979a6615217637ab4448e57a43f4d6,openstack/tripleo-ci,master,I03f2f3463b979a6615217637ab4448e57a43f4d6,pin container-tools for container builds,ABANDONED,2020-12-18 16:58:01.000000000,2021-09-14 15:37:50.000000000,,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-18 16:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3c132ce02c1e9545185495288d1aad91f465492e', 'message': 'pin container-tools for container builds\n\nthe container build check jobs and periodic jobs\ndo not use the release files in tq.  These jobs\nshould have container-tools pinned in the same\nway as tq to ensure we have a consistent set\nof rpms across all environments and jobs.\n\nref:\nripleo-quickstart/config/release/tripleo-ci/CentOS-8\n\nChange-Id: I03f2f3463b979a6615217637ab4448e57a43f4d6\n'}, {'number': 2, 'created': '2020-12-18 16:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3cf684c00506b1f443a24bf1a738c5a11150fe71', 'message': 'pin container-tools for container builds\n\nthe container build check jobs and periodic jobs\ndo not use the release files in tq.  These jobs\nshould have container-tools pinned in the same\nway as tq to ensure we have a consistent set\nof rpms across all environments and jobs.\n\nref:\nripleo-quickstart/config/release/tripleo-ci/CentOS-8\n\nChange-Id: I03f2f3463b979a6615217637ab4448e57a43f4d6\n'}, {'number': 3, 'created': '2020-12-20 09:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d51af968d9a5ab0afe4c6e85a6e4a4627fcf1b39', 'message': 'pin container-tools for container builds\n\nthe container build check jobs and periodic jobs\ndo not use the release files in tq.  These jobs\nshould have container-tools pinned in the same\nway as tq to ensure we have a consistent set\nof rpms across all environments and jobs.\n\nref:\nripleo-quickstart/config/release/tripleo-ci/CentOS-8\n\nChange-Id: I03f2f3463b979a6615217637ab4448e57a43f4d6\n'}, {'number': 4, 'created': '2020-12-23 13:46:26.000000000', 'files': ['roles/build-containers/vars/centos-8.yml', 'roles/build-containers/tasks/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ea47cd0e21ec0323646ec2b43928296e75b9d195', 'message': 'pin container-tools for container builds\n\nthe container build check jobs and periodic jobs\ndo not use the release files in tq.  These jobs\nshould have container-tools pinned in the same\nway as tq to ensure we have a consistent set\nof rpms across all environments and jobs.\n\nref:\nripleo-quickstart/config/release/tripleo-ci/CentOS-8\n\nChange-Id: I03f2f3463b979a6615217637ab4448e57a43f4d6\n'}]",1,767918,ea47cd0e21ec0323646ec2b43928296e75b9d195,18,5,4,9592,,,0,"pin container-tools for container builds

the container build check jobs and periodic jobs
do not use the release files in tq.  These jobs
should have container-tools pinned in the same
way as tq to ensure we have a consistent set
of rpms across all environments and jobs.

ref:
ripleo-quickstart/config/release/tripleo-ci/CentOS-8

Change-Id: I03f2f3463b979a6615217637ab4448e57a43f4d6
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/18/767918/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-containers/vars/centos-8.yml', 'roles/build-containers/tasks/pre.yaml']",2,3c132ce02c1e9545185495288d1aad91f465492e,," # TO-DO align tripleo-repos and qs release config to a single source of truth - name: debug container tools debug: var: container_tools_pin[ release ] when: container_tools_pin is defined - name: set container-tools to pin become: true shell: > ""dnf module disable container-tools:{{ container_tools_pin[ ci_branch ].disable }} -y"" ""dnf module enable container-tools:{{ container_tools_pin[ ci_branch ].enable }} -y"" when: container_tools_pin is defined and container_tools_pin[ ci_branch ].disable is defined ",,25,0
openstack%2Ftripleo-heat-templates~master~I545c2e3727a6dcef0116906ecd7a4bd580807c96,openstack/tripleo-heat-templates,master,I545c2e3727a6dcef0116906ecd7a4bd580807c96,Use KeystoneRegion to determine location in s3api middleware,ABANDONED,2020-12-22 14:58:27.000000000,2021-09-14 15:37:48.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-22 14:58:27.000000000', 'files': ['deployment/swift/swift-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e2abf9177e514e22e33fdb5117f5d1676cbddb90', 'message': 'Use KeystoneRegion to determine location in s3api middleware\n\nThe location parameter of s3api middleware should be set to the region\nof the Swift cluster so that AWS v4 signature works correctly in S3 API\naccess.\n\nDepends-on: https://review.opendev.org/768211\nChange-Id: I545c2e3727a6dcef0116906ecd7a4bd580807c96\n'}]",0,768215,e2abf9177e514e22e33fdb5117f5d1676cbddb90,5,3,1,9816,,,0,"Use KeystoneRegion to determine location in s3api middleware

The location parameter of s3api middleware should be set to the region
of the Swift cluster so that AWS v4 signature works correctly in S3 API
access.

Depends-on: https://review.opendev.org/768211
Change-Id: I545c2e3727a6dcef0116906ecd7a4bd580807c96
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/768215/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/swift/swift-proxy-container-puppet.yaml'],1,e2abf9177e514e22e33fdb5117f5d1676cbddb90,s3-location, swift::proxy::s3api::location: {get_param: KeystoneRegion},,1,0
openstack%2Fansible-role-collect-logs~master~I1b2b5782e71e05dc63afe3821072ba989fc350ad,openstack/ansible-role-collect-logs,master,I1b2b5782e71e05dc63afe3821072ba989fc350ad,add module list --enaled to logs,ABANDONED,2020-12-15 22:30:36.000000000,2021-09-14 15:37:46.000000000,,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29268}]","[{'number': 1, 'created': '2020-12-15 22:30:36.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/78bfaf5003177563f2f78c671fe08cbe122272c9', 'message': ""add module list --enaled to logs\n\nit doesn't appear we collect which\nyum modules are enabled\n\nChange-Id: I1b2b5782e71e05dc63afe3821072ba989fc350ad\n""}]",1,767225,78bfaf5003177563f2f78c671fe08cbe122272c9,7,4,1,9592,,,0,"add module list --enaled to logs

it doesn't appear we collect which
yum modules are enabled

Change-Id: I1b2b5782e71e05dc63afe3821072ba989fc350ad
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/25/767225/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,78bfaf5003177563f2f78c671fe08cbe122272c9,," moddulelist: cmd: ""{{ ansible_pkg_mgr }} module list --enabled || true""",,2,0
openstack%2Ftripleo-repos~master~I2662c66b44f82553cf5b60c951e188a02c077fb3,openstack/tripleo-repos,master,I2662c66b44f82553cf5b60c951e188a02c077fb3,"WIP, the current repo, should only have tripleo defined",ABANDONED,2020-12-17 21:04:07.000000000,2021-09-14 15:37:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-17 21:04:07.000000000', 'files': ['tripleo_repos/main.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/5c4cdaeee61774fc50bb6cf11c000a242a30284d', 'message': 'WIP, the current repo, should only have tripleo defined\n\nChange-Id: I2662c66b44f82553cf5b60c951e188a02c077fb3\n'}]",20,767633,5c4cdaeee61774fc50bb6cf11c000a242a30284d,3,1,1,9592,,,0,"WIP, the current repo, should only have tripleo defined

Change-Id: I2662c66b44f82553cf5b60c951e188a02c077fb3
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/33/767633/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_repos/main.py'],1,5c4cdaeee61774fc50bb6cf11c000a242a30284d,,"def _get_tripleo_current_repo(path, args): r = requests.get(path) if r.status_code == 200: content = _inject_mirrors(r.text, args) regex = '\[delorean-component-tripleo\]\\n\w+\=[0-9a-z_\-]+\\n\w+' \ '\=[\:0-9a-z_\/.-]+\\n\w+\=\d\\n\w+\=\d\\n\w+\=\d' tripleo_current = (re.findall(regex, content))[0] return tripleo_current else: r.raise_for_status() content = _get_tripleo_current_repo(base_path + \ 'current/delorean.repo', args) _write_repo(content, args.output_path, name='delorean-current')"," content = _get_repo(base_path + 'current/delorean.repo', args) _write_repo(content, args.output_path, name='delorean')",15,2
openstack%2Ftripleo-common~stable%2Ftrain~Ib0769b40ecadfea4f016b126fdab93876ad22c51,openstack/tripleo-common,stable/train,Ib0769b40ecadfea4f016b126fdab93876ad22c51,"TRAIN DEBUG ONLY DNM, increase verbosity of builds",ABANDONED,2020-12-16 20:10:42.000000000,2021-09-14 15:37:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-16 20:10:42.000000000', 'files': ['tripleo_common/image/builder/buildah.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f19998ceca21e9d8d06b18c75952e3c39f768b8b', 'message': 'TRAIN DEBUG ONLY DNM, increase verbosity of builds\n\nChange-Id: Ib0769b40ecadfea4f016b126fdab93876ad22c51\n'}]",0,767413,f19998ceca21e9d8d06b18c75952e3c39f768b8b,4,2,1,9592,,,0,"TRAIN DEBUG ONLY DNM, increase verbosity of builds

Change-Id: Ib0769b40ecadfea4f016b126fdab93876ad22c51
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/13/767413/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/builder/buildah.py'],1,f19998ceca21e9d8d06b18c75952e3c39f768b8b,tripleo-lower, bud_args = ['bud --log-level=debug'], bud_args = ['bud'],1,1
openstack%2Ftripleo-common~stable%2Fussuri~I66efe337edb67ab1c0f797a98e06f73d860f7180,openstack/tripleo-common,stable/ussuri,I66efe337edb67ab1c0f797a98e06f73d860f7180,"DEBUG ONLY DNM, increase verbosity of builds",ABANDONED,2020-12-16 14:21:07.000000000,2021-09-14 15:37:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-16 14:21:07.000000000', 'files': ['tripleo_common/image/builder/buildah.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9f3a469187e0f1f9ac79b23a04748c5dad9ef3fe', 'message': 'DEBUG ONLY DNM, increase verbosity of builds\n\nChange-Id: I66efe337edb67ab1c0f797a98e06f73d860f7180\n'}]",0,767359,9f3a469187e0f1f9ac79b23a04748c5dad9ef3fe,4,2,1,9592,,,0,"DEBUG ONLY DNM, increase verbosity of builds

Change-Id: I66efe337edb67ab1c0f797a98e06f73d860f7180
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/59/767359/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/builder/buildah.py'],1,9f3a469187e0f1f9ac79b23a04748c5dad9ef3fe,build_retry-stable/ussuri, bud_args = ['bud --log-level=debug'], bud_args = ['bud'],1,1
openstack%2Ftripleo-common~stable%2Ftrain~I66efe337edb67ab1c0f797a98e06f73d860f7180,openstack/tripleo-common,stable/train,I66efe337edb67ab1c0f797a98e06f73d860f7180,"DEBUG ONLY DNM, increase verbosity of builds",ABANDONED,2020-12-16 03:05:35.000000000,2021-09-14 15:37:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-16 03:05:35.000000000', 'files': ['tripleo_common/image/builder/buildah.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/44532304d997eded18b6b9794f170c45c428cc40', 'message': 'DEBUG ONLY DNM, increase verbosity of builds\n\nChange-Id: I66efe337edb67ab1c0f797a98e06f73d860f7180\n'}]",0,767264,44532304d997eded18b6b9794f170c45c428cc40,4,2,1,9592,,,0,"DEBUG ONLY DNM, increase verbosity of builds

Change-Id: I66efe337edb67ab1c0f797a98e06f73d860f7180
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/64/767264/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/builder/buildah.py'],1,44532304d997eded18b6b9794f170c45c428cc40,train, bud_args = ['bud --log-level=debug'], bud_args = ['bud'],1,1
openstack%2Ftripleo-ci~master~Ic31ebeca3dcb20b092ae2bfd890070c2c1b7bd66,openstack/tripleo-ci,master,Ic31ebeca3dcb20b092ae2bfd890070c2c1b7bd66,remove c7-train c7000-multinode-oooq-container-upgrades,ABANDONED,2020-12-10 21:46:55.000000000,2021-09-14 15:37:36.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-12-10 21:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3614c54ad956f06f65f669c624861055e061c5fb', 'message': ""remove c7-train c7000-multinode-oooq-container-upgrades\n\nIt's my understanding that upgrade jobs were\nbanned from c7-train\n\nChange-Id: Ic31ebeca3dcb20b092ae2bfd890070c2c1b7bd66\n""}, {'number': 2, 'created': '2020-12-14 00:15:52.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c54bfd221f061f31fece5283b413c233c766043d', 'message': ""remove c7-train c7000-multinode-oooq-container-upgrades\n\nIt's my understanding that upgrade jobs were\nbanned from c7-train\n\nChange-Id: Ic31ebeca3dcb20b092ae2bfd890070c2c1b7bd66\n""}]",2,766621,c54bfd221f061f31fece5283b413c233c766043d,10,5,2,9592,,,0,"remove c7-train c7000-multinode-oooq-container-upgrades

It's my understanding that upgrade jobs were
banned from c7-train

Change-Id: Ic31ebeca3dcb20b092ae2bfd890070c2c1b7bd66
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/21/766621/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,3614c54ad956f06f65f669c624861055e061c5fb,, branches: ^(stable/(queens)).*$, branches: ^(stable/(queens|train)).*$,1,1
openstack%2Ftripleo-common~master~Ifb91711a1a8407d57e6725aa93384986c6b113b3,openstack/tripleo-common,master,Ifb91711a1a8407d57e6725aa93384986c6b113b3,[WIP] Commit additional files into config-download,ABANDONED,2020-12-10 19:07:32.000000000,2021-09-14 15:37:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-10 19:07:32.000000000', 'files': ['tripleo_common/utils/config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dad16fea4405ff75f3e2ba9c69c9e0eb61087afa', 'message': '[WIP] Commit additional files into config-download\n\nFiles:\n\n- tripleo-ansible-inventory.yaml\n\nChange-Id: Ifb91711a1a8407d57e6725aa93384986c6b113b3\nCloses-Bug: #1891925\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",0,766535,dad16fea4405ff75f3e2ba9c69c9e0eb61087afa,4,2,1,25877,,,0,"[WIP] Commit additional files into config-download

Files:

- tripleo-ansible-inventory.yaml

Change-Id: Ifb91711a1a8407d57e6725aa93384986c6b113b3
Closes-Bug: #1891925
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/35/766535/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/config.py'],1,dad16fea4405ff75f3e2ba9c69c9e0eb61087afa,,"from tripleo_common.inventory import TripleoInventory preserve_config_dir=True, commit_message=None, heat_client=None): if heat_client: self.log.info(""Heat client provided. Generating inventory."") inventory = TripleoInventory( hclient=heat_client, plan_name=stack, ansible_ssh_user='root') inv_path = os.path.join(config_dir, 'tripleo-ansible-inventory.yaml') inventory.write_static_inventory(inv_path) else: self.log.info(""No Heat client provided. Skipping inventory"" "" generation."") # TODO(ekultails): # - Add group_vars/overcloud.json # - Add ansible.cfg (after making it more portable) # - Add ansible-playbook-command.sh (after making it more portable) commit_message=message, heat_client=heat)"," preserve_config_dir=True, commit_message=None): commit_message=message)",24,2
openstack%2Ftripleo-ansible~master~Ie8ee84ef6d935313a00521bb9435c721c36e9678,openstack/tripleo-ansible,master,Ie8ee84ef6d935313a00521bb9435c721c36e9678,Fix qemu-img installation for Octavia,ABANDONED,2020-12-02 07:46:15.000000000,2021-09-14 15:37:32.000000000,,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-02 07:46:15.000000000', 'files': ['tripleo_ansible/roles/octavia_undercloud/tasks/image_mgmt.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a998182cda8cbeee022fa779b4d74735a14066b6', 'message': ""Fix qemu-img installation for Octavia\n\nqemu-img needs to be explicitly installed when running Octavia playbook,\nit was previously installed as a dependency in another project, but it's\nnow missing.\n\nChange-Id: Ie8ee84ef6d935313a00521bb9435c721c36e9678\nCloses-Bug: #1906480\n""}]",1,765067,a998182cda8cbeee022fa779b4d74735a14066b6,6,4,1,29244,,,0,"Fix qemu-img installation for Octavia

qemu-img needs to be explicitly installed when running Octavia playbook,
it was previously installed as a dependency in another project, but it's
now missing.

Change-Id: Ie8ee84ef6d935313a00521bb9435c721c36e9678
Closes-Bug: #1906480
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/67/765067/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia_undercloud/tasks/image_mgmt.yml'],1,a998182cda8cbeee022fa779b4d74735a14066b6,, - name: Install qemu-img package package: name: qemu-img state: present ,,5,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I5cba0e8775b4c40e6fc86210c3ad750d9e24077f,openstack/tripleo-heat-templates,stable/ussuri,I5cba0e8775b4c40e6fc86210c3ad750d9e24077f,DO-NOT-MERGE Test new ceph-ansible builds,ABANDONED,2020-06-19 12:30:41.000000000,2021-09-14 15:37:30.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-06-19 12:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8edc8b0ca89a9d3142425433cfc60f1f69d19eac', 'message': 'DO-NOT-MERGE Test new ceph-ansible builds\n\nChange-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f\nDepends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 2, 'created': '2020-12-09 11:23:10.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9949b7e081346ef745832d05ac99fcfb387e9101', 'message': 'DO-NOT-MERGE Test new ceph-ansible builds\n\nChange-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f\nDepends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}]",0,736990,9949b7e081346ef745832d05ac99fcfb387e9101,7,3,2,6796,,,0,"DO-NOT-MERGE Test new ceph-ansible builds

Change-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f
Depends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/736990/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,8edc8b0ca89a9d3142425433cfc60f1f69d19eac,storage-sig-testing-stable/ussuri, Ceph base service. With lots of love., Ceph base service. Shared by all Ceph services.,1,1
openstack%2Ftripleo-heat-templates~master~Iea9c599e856c3e605e0b096b8eb83e84db60d65c,openstack/tripleo-heat-templates,master,Iea9c599e856c3e605e0b096b8eb83e84db60d65c,DNM Testing OctaviaForwardAllLogs and scenario010 jobs,ABANDONED,2020-12-01 15:45:03.000000000,2021-09-14 15:37:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-12-01 15:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7979f57bd599926b9244b1f60b6c951168454f26', 'message': 'DNM Testing OctaviaForwardAllLogs and scenario010 jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/764952\nChange-Id: Iea9c599e856c3e605e0b096b8eb83e84db60d65c\n'}, {'number': 2, 'created': '2020-12-02 07:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/138cee00d347db821c78e4a5ada1c8bd2aa6062f', 'message': 'DNM Testing OctaviaForwardAllLogs and scenario010 jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/765067\nChange-Id: Iea9c599e856c3e605e0b096b8eb83e84db60d65c\n'}, {'number': 3, 'created': '2020-12-09 07:32:16.000000000', 'files': ['ci/environments/scenario010-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c3a8d13005c07a32d78fe3dbec6f4137a318a37', 'message': 'DNM Testing OctaviaForwardAllLogs and scenario010 jobs\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/765067\nChange-Id: Iea9c599e856c3e605e0b096b8eb83e84db60d65c\n'}]",0,764953,3c3a8d13005c07a32d78fe3dbec6f4137a318a37,11,3,3,29244,,,0,"DNM Testing OctaviaForwardAllLogs and scenario010 jobs

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/765067
Change-Id: Iea9c599e856c3e605e0b096b8eb83e84db60d65c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/764953/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario010-standalone.yaml'],1,7979f57bd599926b9244b1f60b6c951168454f26,, OctaviaLogOffload: true OctaviaForwardAllLogs: true,,2,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ibc2f287df7b66435443156c7736eff35503d9caa,openstack/tripleo-upgrade,stable/train,Ibc2f287df7b66435443156c7736eff35503d9caa,"[DO NOT MERGE]Revert ""Add the -n flag in the run parameters conversion script""",ABANDONED,2020-12-07 11:40:54.000000000,2021-09-14 15:37:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-07 11:40:54.000000000', 'files': ['tasks/common/convert_nic_template.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/292ece55aae0e8ab66bb9dd589a9bf92c6ba4ff0', 'message': '[DO NOT MERGE]Revert ""Add the -n flag in the run parameters conversion script""\n\nThis reverts commit f8536b9f7d34273f44476241b48f22c0e1ee5d85.\n\nChange-Id: Ibc2f287df7b66435443156c7736eff35503d9caa\n'}]",0,765790,292ece55aae0e8ab66bb9dd589a9bf92c6ba4ff0,3,1,1,4727,,,0,"[DO NOT MERGE]Revert ""Add the -n flag in the run parameters conversion script""

This reverts commit f8536b9f7d34273f44476241b48f22c0e1ee5d85.

Change-Id: Ibc2f287df7b66435443156c7736eff35503d9caa
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/90/765790/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/convert_nic_template.yaml', 'defaults/main.yml']",2,292ece55aae0e8ab66bb9dd589a9bf92c6ba4ff0,ffu-revert,,"# default network_data.yaml default_network_data: ""{{ tht_directory }}/network_data.yaml"" ",0,4
openstack%2Ftripleo-upgrade~stable%2Ftrain~If86a71e2e8db6780848cc9f226795e239d0b6e10,openstack/tripleo-upgrade,stable/train,If86a71e2e8db6780848cc9f226795e239d0b6e10,"[DO NOT MERGE]Revert ""Add the -n flag in the run parameters conversion script""",ABANDONED,2020-12-07 11:39:29.000000000,2021-09-14 15:37:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-07 11:39:29.000000000', 'files': ['tasks/common/convert_nic_template.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8f6c473a12d25c850a45ce83a5327023d7a50350', 'message': '[DO NOT MERGE]Revert ""Add the -n flag in the run parameters conversion script""\n\nThis reverts commit f8536b9f7d34273f44476241b48f22c0e1ee5d85.\n\nChange-Id: If86a71e2e8db6780848cc9f226795e239d0b6e10\n'}]",0,765789,8f6c473a12d25c850a45ce83a5327023d7a50350,3,1,1,4727,,,0,"[DO NOT MERGE]Revert ""Add the -n flag in the run parameters conversion script""

This reverts commit f8536b9f7d34273f44476241b48f22c0e1ee5d85.

Change-Id: If86a71e2e8db6780848cc9f226795e239d0b6e10
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/89/765789/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/convert_nic_template.yaml', 'defaults/main.yml']",2,8f6c473a12d25c850a45ce83a5327023d7a50350,,,"# default network_data.yaml default_network_data: ""{{ tht_directory }}/network_data.yaml"" ",0,4
openstack%2Ftripleo-upgrade~stable%2Ftrain~I8f91283987afb4f3b044363817a1e7de331352bc,openstack/tripleo-upgrade,stable/train,I8f91283987afb4f3b044363817a1e7de331352bc,Increase update run loss threashold to 30s.,ABANDONED,2020-11-26 20:37:25.000000000,2021-09-14 15:37:22.000000000,,"[{'_account_id': 8297}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-26 20:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/58349d110b1c618db53e2f179744009ea59d0eef', 'message': ""Increase update run loss threashold to 30s.\n\nRelax a bit the 0 seconds constraints. We have some false positive\nwith 1 lost ping. Sometime a bit more. Let's see how it behaves with\n30 seconds.\n\nChange-Id: I8f91283987afb4f3b044363817a1e7de331352bc\n""}, {'number': 2, 'created': '2020-12-04 11:59:35.000000000', 'files': ['tasks/update/overcloud_update_run_role.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3bc50cbb32cc8674a04b3dc1138b757f6ddaeab0', 'message': ""Increase update run loss threashold to 30s.\n\nRelax a bit the 0 seconds constraints. We have some false positive\nwith 1 lost ping. Sometime a bit more. Let's see how it behaves with\n30 seconds.\n\nChange-Id: I8f91283987afb4f3b044363817a1e7de331352bc\n""}]",0,764385,3bc50cbb32cc8674a04b3dc1138b757f6ddaeab0,6,2,2,8297,,,0,"Increase update run loss threashold to 30s.

Relax a bit the 0 seconds constraints. We have some false positive
with 1 lost ping. Sometime a bit more. Let's see how it behaves with
30 seconds.

Change-Id: I8f91283987afb4f3b044363817a1e7de331352bc
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/85/764385/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/update/overcloud_update_run_role.yml'],1,58349d110b1c618db53e2f179744009ea59d0eef,ping_test, current_stage_error: 30," current_stage_error: ""{{ update_loss_threshold }}""",1,1
openstack%2Ftripleo-common~stable%2Ftrain~Ie3901e6626a986d105e42d610287c7a633232f28,openstack/tripleo-common,stable/train,Ie3901e6626a986d105e42d610287c7a633232f28,train: remove config for containers that are not built,ABANDONED,2020-09-04 19:26:42.000000000,2021-09-14 15:37:20.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-04 19:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/175abcc141487b53548183fc89a350e45eb56227', 'message': 'container nova-serialproxy is not built\n\nremove unbuilt containers from config.\n\nChange-Id: Ie3901e6626a986d105e42d610287c7a633232f28\n'}, {'number': 2, 'created': '2020-09-04 19:32:19.000000000', 'files': ['container-images/overcloud_containers.yaml', 'container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2e7281900135e1fb98eda08d09117c0187261e19', 'message': 'train: remove config for containers that are not built\n\nnova-serialproxy\nsahara-api\nsahara-engine\n\nChange-Id: Ie3901e6626a986d105e42d610287c7a633232f28\n'}]",0,750022,2e7281900135e1fb98eda08d09117c0187261e19,6,3,2,9592,,,0,"train: remove config for containers that are not built

nova-serialproxy
sahara-api
sahara-engine

Change-Id: Ie3901e6626a986d105e42d610287c7a633232f28
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/22/750022/2 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/overcloud_containers.yaml', 'container-images/overcloud_containers.yaml.j2']",2,175abcc141487b53548183fc89a350e45eb56227,,,"- imagename: ""{{namespace}}/{{name_prefix}}nova-serialproxy{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerNovaSerialproxyConfigImage - ContainerNovaSerialproxyImage services: - OS::TripleO::Services::NovaSerialproxy ",0,10
openstack%2Ftripleo-ansible~master~I56599a43e32adfe35133e4b769800d9b08c6c8bd,openstack/tripleo-ansible,master,I56599a43e32adfe35133e4b769800d9b08c6c8bd,Rebuild initramfs during kernel configuration,ABANDONED,2020-09-08 12:33:18.000000000,2021-09-14 15:37:18.000000000,,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 11604}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-09-08 12:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ecad05020e92a8079651a7395034d20ff918a8ec', 'message': 'Rebuild initramfs after updating kernel parameters\n\nThis patch triggers rebuld of initramfs fs when any kernel parameters\nare changed, to make sure that these updated parameters are applied\nin initramfs image.\n\nChange-Id: I56599a43e32adfe35133e4b769800d9b08c6c8bd\n'}, {'number': 2, 'created': '2020-09-08 12:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/212248635267d3b3f9324f553db7b263f0262f77', 'message': 'Rebuild initramfs after updating kernel parameters\n\nThis patch triggers rebuld of initramfs when any kernel parameters are\nchanged, to make sure that these updated parameters are applied in\ninitramfs image.\n\nChange-Id: I56599a43e32adfe35133e4b769800d9b08c6c8bd\n'}, {'number': 3, 'created': '2020-09-09 02:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1f0033ebeed02936dbcb8be043b209296a6e9b92', 'message': 'Rebuild initramfs after updating kernel parameters\n\nThis patch triggers rebuld of initramfs when any kernel parameters are\nchanged, to make sure that these updated parameters are applied in\ninitramfs image.\n\nChange-Id: I56599a43e32adfe35133e4b769800d9b08c6c8bd\n'}, {'number': 4, 'created': '2020-09-09 02:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/13b6c2c2633f9bbddd11f40edbe23daecf620f53', 'message': 'Rebuild initramfs during kernel configuration\n\nThis patch triggers rebuld of initramfs when any configuration related\nto kernel(kernel extra packages, kernel modules and kernel parameters)\nis changed to make sure that the change is applied in initramfs image.\n\nChange-Id: I56599a43e32adfe35133e4b769800d9b08c6c8bd\n'}, {'number': 5, 'created': '2020-09-09 02:13:36.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/30f0f5b8cf98e960276218e248582ab3b748ce08', 'message': 'Rebuild initramfs during kernel configuration\n\nThis patch triggers rebuld of initramfs when any configuration related\nto kernel(kernel extra packages, kernel modules and kernel parameters)\nis changed to make sure that the change is applied in initramfs image.\n\nChange-Id: I56599a43e32adfe35133e4b769800d9b08c6c8bd\n'}]",8,750343,30f0f5b8cf98e960276218e248582ab3b748ce08,20,9,5,9816,,,0,"Rebuild initramfs during kernel configuration

This patch triggers rebuld of initramfs when any configuration related
to kernel(kernel extra packages, kernel modules and kernel parameters)
is changed to make sure that the change is applied in initramfs image.

Change-Id: I56599a43e32adfe35133e4b769800d9b08c6c8bd
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/43/750343/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_kernel/tasks/main.yml', 'tripleo_ansible/roles/tripleo_kernel/handlers/main.yaml']",2,ecad05020e92a8079651a7395034d20ff918a8ec,kernel-params-initramfs,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Rebuild initramfs become: true command: dracut -f -v --hostonly ",,20,0
openstack%2Ftripleo-ci~master~Iab5fec2ecfebe769f660802de13fc4a320b31257,openstack/tripleo-ci,master,Iab5fec2ecfebe769f660802de13fc4a320b31257,Add validations playbook to the playbook execution,ABANDONED,2020-10-01 13:27:08.000000000,2021-09-14 15:37:16.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-01 13:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/71135b99e858048501aee047410daf1c4977d43c', 'message': 'Add validations playbook to the playbook execution\n\nDepends-On: https://review.opendev.org/755382\nChange-Id: Iab5fec2ecfebe769f660802de13fc4a320b31257\n'}, {'number': 2, 'created': '2020-10-02 12:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/47e5bacc2f112d9e63f19d62306113f6fb2a7b92', 'message': 'Add validations playbook to the playbook execution\n\nDepends-On: https://review.opendev.org/755382\nChange-Id: Iab5fec2ecfebe769f660802de13fc4a320b31257\n'}, {'number': 3, 'created': '2020-10-02 13:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4839803e5007751b44cbd70b9a2766f351c9c781', 'message': 'Add validations playbook to the playbook execution\n\nDepends-On: https://review.opendev.org/755382\nChange-Id: Iab5fec2ecfebe769f660802de13fc4a320b31257\n'}, {'number': 4, 'created': '2020-10-04 20:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b58d16914706777cbdcda7ebbd48f798f069cdd8', 'message': 'Add validations playbook to the playbook execution\n\nDepends-On: https://review.opendev.org/755382\nChange-Id: Iab5fec2ecfebe769f660802de13fc4a320b31257\n'}, {'number': 5, 'created': '2020-11-18 07:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/78d6eec6b6e6d510f82dc897fc9455dcfe1705ba', 'message': 'Add validations playbook to the playbook execution\n\nDepends-On: https://review.opendev.org/#/c/762666/\nChange-Id: Iab5fec2ecfebe769f660802de13fc4a320b31257\n'}, {'number': 6, 'created': '2020-11-18 11:12:32.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7e23cac3335e522ac43f4d30a6af6b7d71670886', 'message': 'Add validations playbook to the playbook execution\n\nDepends-On: https://review.opendev.org/#/c/755382/\nChange-Id: Iab5fec2ecfebe769f660802de13fc4a320b31257\n'}]",4,755513,7e23cac3335e522ac43f4d30a6af6b7d71670886,30,5,6,16515,,,0,"Add validations playbook to the playbook execution

Depends-On: https://review.opendev.org/#/c/755382/
Change-Id: Iab5fec2ecfebe769f660802de13fc4a320b31257
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/13/755513/3 && git format-patch -1 --stdout FETCH_HEAD,['toci_gate_test.sh'],1,71135b99e858048501aee047410daf1c4977d43c,validation/ci," export PLAYBOOKS=${PLAYBOOKS:-""quickstart.yml validations.yml multinode-undercloud.yml multinode-overcloud-prep.yml multinode-overcloud.yml multinode-overcloud-update.yml multinode-overcloud-upgrade.yml multinode-validate.yml""} export PLAYBOOKS=${PLAYBOOKS:-""quickstart.yml validations.yml multinode-undercloud.yml multinode-undercloud-upgrade.yml multinode-overcloud-prep.yml multinode-overcloud.yml multinode-overcloud-upgrade.yml multinode-validate.yml""} export PLAYBOOKS=${PLAYBOOKS:-""quickstart.yml validations.yml multinode-standalone.yml multinode-standalone-upgrade.yml ""}"," export PLAYBOOKS=${PLAYBOOKS:-""quickstart.yml multinode-undercloud.yml multinode-overcloud-prep.yml multinode-overcloud.yml multinode-overcloud-update.yml multinode-overcloud-upgrade.yml multinode-validate.yml""} export PLAYBOOKS=${PLAYBOOKS:-""quickstart.yml multinode-undercloud.yml multinode-undercloud-upgrade.yml multinode-overcloud-prep.yml multinode-overcloud.yml multinode-overcloud-upgrade.yml multinode-validate.yml""} export PLAYBOOKS=${PLAYBOOKS:-""quickstart.yml multinode-standalone.yml multinode-standalone-upgrade.yml ""}",3,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I8f752eca6e00fbdcf9f4de4d40521fd4ae7be841,openstack/tripleo-heat-templates,stable/train,I8f752eca6e00fbdcf9f4de4d40521fd4ae7be841,[DNM] Add a workaround to ovn-controller update orchestration issue.,ABANDONED,2020-11-17 17:25:38.000000000,2021-09-14 15:37:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-17 17:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7638677bf82c76fd06d7d1736f0f2910eaf4d749', 'message': '[DNM] Add a workaround to ovn-controller update orchestration issue.\n\nThis is an example of how we could do it inside the current framework.\n\nThe command to trigger this is:\n\n   openstack overcloud update run --limit Compute \\\n      --playbook all \\\n      --tags ovn_controller_container_update\n\nThe run is rather quick has we are not running any include because of\nthe tags.\n\nThe never tag makes this tasks ignored during normal update.\n\nDNM: because that may is not the long term solution and a short term\nsolution may not be required.\n\nChange-Id: I8f752eca6e00fbdcf9f4de4d40521fd4ae7be841\n'}, {'number': 2, 'created': '2020-11-17 17:45:16.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ad40bf82d7512dab41e3085b0e419edcda3aba9', 'message': '[DNM] Add a workaround to ovn-controller update orchestration issue.\n\nThis is an example of how we could do it inside the current framework.\n\nThe command to trigger this is:\n\n   openstack overcloud update run --limit Compute \\\n      --playbook all \\\n      --tags ovn_controller_container_update\n\nThe run is rather quick as we are not running any include because of\nthe tags.\n\nThe never tag makes this tasks ignored during normal update.\n\nDNM: because that may is not the long term solution and a short term\nsolution may not be required.\n\nDepends-On: https://review.opendev.org/763056\nChange-Id: I8f752eca6e00fbdcf9f4de4d40521fd4ae7be841\n'}]",0,763050,5ad40bf82d7512dab41e3085b0e419edcda3aba9,5,2,2,8297,,,0,"[DNM] Add a workaround to ovn-controller update orchestration issue.

This is an example of how we could do it inside the current framework.

The command to trigger this is:

   openstack overcloud update run --limit Compute \
      --playbook all \
      --tags ovn_controller_container_update

The run is rather quick as we are not running any include because of
the tags.

The never tag makes this tasks ignored during normal update.

DNM: because that may is not the long term solution and a short term
solution may not be required.

Depends-On: https://review.opendev.org/763056
Change-Id: I8f752eca6e00fbdcf9f4de4d40521fd4ae7be841
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/763050/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-controller-container-puppet.yaml'],1,7638677bf82c76fd06d7d1736f0f2910eaf4d749,," update_tasks: - when: step|int == 0 tags: - ovn_controller_container_update - never name: update the ovn_controller container vars: ovn_controller_image: {get_param: ContainerOvnControllerImage} paunch: config: ""/var/lib/tripleo-config/container-startup-config/step_4"" config_id: - 'tripleo_step4' name: ovn_controller action: apply container_cli: podman managed_by: tripleo-Compute debug: ""{{ enable_debug | bool }}"" config_overrides: image: ""{{ ovn_controller_image }}"" cleanup: True",,20,0
openstack%2Ftripleo-specs~master~I5d20e6a713a2c417e2f293d000dba9f9a7468c59,openstack/tripleo-specs,master,I5d20e6a713a2c417e2f293d000dba9f9a7468c59,[WIP] Create testing environment for promoter server,ABANDONED,2019-06-13 11:38:37.000000000,2021-09-14 15:37:11.000000000,,"[{'_account_id': 1955}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 12393}, {'_account_id': 13294}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-13 11:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/b1cf91996f75e70a3c1e54d7e94603d65082f777', 'message': '[WIP] Crate testing environment for promoter server\n\nChange-Id: I5d20e6a713a2c417e2f293d000dba9f9a7468c59\n'}, {'number': 2, 'created': '2019-06-13 13:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/948ee2180abf1578f860a8ad159eb859b27cef39', 'message': '[WIP] Crate testing environment for promoter server\n\nChange-Id: I5d20e6a713a2c417e2f293d000dba9f9a7468c59\n'}, {'number': 3, 'created': '2019-08-13 12:44:54.000000000', 'files': ['specs/train/promoter-staging.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/0dceff702aaa6811b7f5a7dda2233c322b390211', 'message': '[WIP] Create testing environment for promoter server\n\nChange-Id: I5d20e6a713a2c417e2f293d000dba9f9a7468c59\n'}]",35,665115,0dceff702aaa6811b7f5a7dda2233c322b390211,25,9,3,10022,,,0,"[WIP] Create testing environment for promoter server

Change-Id: I5d20e6a713a2c417e2f293d000dba9f9a7468c59
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/15/665115/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/promoter-staging.rst'],1,b1cf91996f75e70a3c1e54d7e94603d65082f777,promoter-staging,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Promoter staging environment ========================================== We need a way to test changes in the promoter workflow. Problem Description =================== Changes to the promoter server are usually tested in production. We need a staging environment to test all the various operations required for a promotion. Proposed Change =============== Overview -------- A new job will be created: - It will triggered on any change in rdo-infra/ci-config repository for all the files in: - ci-config/dlrnapi_promoter/* - ci-config/container-push/* - ci-config/promote-images.sh - ci-config/infra-setup/role/promoter/* - The goal is for the job to vote as gate to any of the above changes. - As none of the code is reentrant, initially it will not allow more than a single job at a time. We will use zuul semaphores to keep the number of jobs to 1. Code will need to be changed to support per job container names, and promotion criteria job names. - As we don't care about testing the existing provisioning part in the repo, the job will use a node from nodepool directly created by zuul. - This node will be configured by appling the role in rdo-infra/ci-config/ci-config/infra-setup/role/promoter to it. But the role will need to be changed to skip the external volume creation, as it will not be need nor available in nodepool - After the node is configured the promoter code will need to be launched. As the promoter it's currently installed as a service, we'll need to modify the setup role to install the service, but disabling it. Our entry point will be the script in ci-config/dlrnapi_promoter/dlrn-promoter.sh. WE WILL NOT COVER the service configuration in this way The entry point script will need to be modified to support fake release and release file. (Alternative) use the service and wait for it to loop - The entry point will the in turn: - run the promoter logic itself in ci-config/dlrnapi_promoter/dlrnapi_promoter.py We'll need to add an additional part to the process to inject a fake vote on the fake job in the criteria, to make the script believe a promotion is needed. A few unit tests exist in this part already. We may plan to improve the coverage, but it's not in scope with the staging environment. - run the container pull/push in ci-config/containers-push/containers-push.yaml As the container namespace is desumed from the release with the formula namespace: tripleo{{ lookup('env','RELEASE') }}, a change will be needed to separate the namespace from the release. (alternative) support a fake ""staging"" release. The list of containers to pull/push is generated from a fixed location in tripleo-common. A change is needed to parametrize this location and possibily get a local static list (that will contain just the testing containers) A small image will be used, possibile a helloworld. It doesn't need to be tripleo related. - cloud image link update in ci-config/promote-images.sh. The script will need to use a different namespace from promotion We can use OPT_WEBROOT variable to use an alternative namespace. EVERY script involved will have the logging checked and improved. Any error should be specifically reported. The workflow generally doesn't log in stdout, but in a static custom. The job will need to collect this log at the end of the job. Summary of the changes to the existing ====================================== - Change in promoter role: skip external volume configuration - Change in promoter role: install promoter service as disabled - change in promoter entry point: Inject fake release - change in containers-push: decouple namespace from release - change in containers-push: add the option to get the list of containers for a local list - change in promote-images.sh: use OPT_WEBROOT to change destination namespace. Summary of the additional components needed. ============================================ - job in RDO sf named promoter-test, configured with semaphore to run a single job at a time - depend on rdo-infra/ci-config repo - create playbook and roles for the job. - node setup - fake votes on criteria job - entry point invocation - log collection - new namespace ""staging"" in hub.docker.com - new namespace ""staging"" trunk.registry.rdoproject.org - change in promoter worflow: Fake SUCCESS vote to fake jobs in promotion criteria - change in rdo registry: make a small image available for pulling. Possibily a hello world. Summary of the additional components needed later. ================================================== - Podman will replace docker in the containers pull role - Manifests will be used in containers pull role as a default, instead of pushing directly the images. (so naming convetions will need to be revisited) - Make code reentrant, use timestamp to differentiate container and cloud images. - change in everything: verify correct logging. Summary of the bounduaries for the implementation ================================================= - Molecule will not be used to test the roles - we will not test the existing provisioning role in the repo. Alternatives ------------ Security Impact --------------- None Upgrade Impact -------------- None Other End User Impact --------------------- None Performance Impact ------------------ None Other Deployer Impact --------------------- None Developer Impact ---------------- Developers will get test coverage on the promotion phase Implementation ============== Assignee(s) ----------- Primary assignee: TBD Other contributors: TBD Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ None Testing ======= The job will be configured in RDO software factory, and will use standar toolchain Documentation Impact ==================== Currently no documentation is available for the promotion References ========== None ",,194,0
openstack%2Ftripleo-ci~master~I16d3b0a30a892b6f8cf92408b161a1fce97d043c,openstack/tripleo-ci,master,I16d3b0a30a892b6f8cf92408b161a1fce97d043c,Easy way to skip more containers,ABANDONED,2020-10-29 14:53:31.000000000,2021-09-14 15:37:09.000000000,,"[{'_account_id': 7353}, {'_account_id': 11929}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-29 14:53:31.000000000', 'files': ['roles/build-containers/templates/build.sh.j2', 'roles/build-containers/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8f46cbbb161d730f3eae5597201c876e2e1583d6', 'message': 'Easy way to skip more containers\n\nFor ppc64le\n\nChange-Id: I16d3b0a30a892b6f8cf92408b161a1fce97d043c\n'}]",0,760378,8f46cbbb161d730f3eae5597201c876e2e1583d6,8,5,1,23078,,,0,"Easy way to skip more containers

For ppc64le

Change-Id: I16d3b0a30a892b6f8cf92408b161a1fce97d043c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/78/760378/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-containers/templates/build.sh.j2', 'roles/build-containers/defaults/main.yaml']",2,8f46cbbb161d730f3eae5597201c876e2e1583d6,,additional_excludes: [],,10,0
openstack%2Fos-net-config~master~I9a553d9963c8b02522040861c489f4523d082b42,openstack/os-net-config,master,I9a553d9963c8b02522040861c489f4523d082b42,"For linux bonds over VF, the default value of spoofcheck shall be false",ABANDONED,2020-11-12 09:13:30.000000000,2021-09-14 15:37:07.000000000,,"[{'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-12 09:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/2408397ac798376cdca192fcbb50d29441bea231', 'message': 'For linux bonds over VF, the default value of spoofcheck shall be false\n\nIn case of mellanox NIC, for linux bonds over VFs we need to disable\nspoofchecking. This setting also works well with intel NICs.\n\nChange-Id: I9a553d9963c8b02522040861c489f4523d082b42\n'}, {'number': 2, 'created': '2020-11-12 09:20:18.000000000', 'files': ['etc/os-net-config/samples/sriov_pf.json', 'os_net_config/tests/test_objects.py', 'os_net_config/objects.py', 'etc/os-net-config/samples/sriov_pf.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/a5acb9a4cea8d35157564600d605fed4720a7c8a', 'message': 'For linux bonds over VF, the default value of spoofcheck shall be false\n\nIn case of mellanox NIC, for linux bonds over VFs we need to disable\nspoofchecking. This setting also works well with intel NICs.\n\nChange-Id: I9a553d9963c8b02522040861c489f4523d082b42\n'}]",2,762481,a5acb9a4cea8d35157564600d605fed4720a7c8a,6,3,2,18904,,,0,"For linux bonds over VF, the default value of spoofcheck shall be false

In case of mellanox NIC, for linux bonds over VFs we need to disable
spoofchecking. This setting also works well with intel NICs.

Change-Id: I9a553d9963c8b02522040861c489f4523d082b42
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/81/762481/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/os-net-config/samples/sriov_pf.json', 'os_net_config/tests/test_objects.py', 'os_net_config/objects.py', 'etc/os-net-config/samples/sriov_pf.yaml']",4,2408397ac798376cdca192fcbb50d29441bea231,," # For linux_bond, the default value is false spoofcheck: false spoofcheck: false"," # For linux_bond, the default value is true spoofcheck: true spoofcheck: true",8,8
openstack%2Ftripleo-upgrade~stable%2Ftrain~I43878e6475ece1583f73e2ab0c8639c94972ef20,openstack/tripleo-upgrade,stable/train,I43878e6475ece1583f73e2ab0c8639c94972ef20,DNM: Add a east-west ping test for internal connectivity.,ABANDONED,2020-11-11 16:01:04.000000000,2021-09-14 15:37:04.000000000,,"[{'_account_id': 8297}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-11 16:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f3797ea8d1dcc9b19224f1eb5c4e325742bfa5ff', 'message': ""DNM: Add a east-west ping test for internal connectivity.\n\nWIP: for testing and missing a master review.\n\nDon't support srvio.\n\nAdd a tag to target workload script creation.\n\nChange-Id: I43878e6475ece1583f73e2ab0c8639c94972ef20\n""}, {'number': 2, 'created': '2020-11-12 08:30:25.000000000', 'files': ['tasks/main.yml', 'templates/l3_agent_stop_ping.sh.j2', 'infrared_plugin/plugin.spec', 'templates/workload_launch.sh.j2', 'infrared_plugin/main.yml', 'defaults/main.yml', 'templates/l3_agent_start_ping.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2b47aa4df8080b52ac5aa206c0b4f13ff69391b9', 'message': ""DNM: Add a east-west ping test for internal connectivity.\n\nWIP: for testing and missing a master review.\n\nDon't support srvio.\n\nAdd a tag to target workload script creation.\n\nChange-Id: I43878e6475ece1583f73e2ab0c8639c94972ef20\n""}]",0,762362,2b47aa4df8080b52ac5aa206c0b4f13ff69391b9,6,2,2,8297,,,0,"DNM: Add a east-west ping test for internal connectivity.

WIP: for testing and missing a master review.

Don't support srvio.

Add a tag to target workload script creation.

Change-Id: I43878e6475ece1583f73e2ab0c8639c94972ef20
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/62/762362/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/l3_agent_stop_ping.sh.j2', 'infrared_plugin/plugin.spec', 'templates/workload_launch.sh.j2', 'infrared_plugin/main.yml', 'templates/l3_agent_start_ping.sh.j2']",6,f3797ea8d1dcc9b19224f1eb5c4e325742bfa5ff,,"block_for_ping() { local fip=$1 # Block 1 minute for the fip to be ready. cpt=1 while ! ping -c 1 -w 1 ""${fip}""; do echo ""Waiting for fip to be ready ... for $cpt seconds"" if [ $cpt -gt 60 ]; then echo ""The fip ${fip} took more than 1 minute to be available, aborting"" exit 1 fi cpt=$((cpt+1)) done } start_ping() { local fip=$1 local suffix=$2 local info_file=$3 # NOTE: the &>> is necessary as if we don't redirect both # stdout and stderr we will make any script using this one to # hang until ping finishes. Meaning if some script crashes # and should fail in CI it will get stuck if we don't redirect # both outputs. # bash # \ bash <script> # \ &| awk blah # If script runs l3 start test and than runs something that fails # we will make the awk wait until this ping exits as it will hold # the output pipes. So again &>> instead of >> is necessary. local date_suffix=$(date +%Y%m%d%H%M%S%z) ping -D ${fip} &>> ~/ping_results_${suffix}_${date_suffix}.log & echo export PING_PID=$! >> $info_file echo export PING_FILE=${HOME}/ping_results_${suffix}_${date_suffix}.log >> $info_file } start_ew_ping() { local ip=$1 local host=$2 local suffix=$3 local info_file=$4 local dir=$5 local date_suffix=$(date +%Y%m%d%H%M%S%z) local SSH=""ssh -t -q -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null {{ workload_user }}@${host}"" nohup $SSH ping ${ip} &>> ~/ping_results_${dir}_${suffix}_${date_suffix}.log & sleep 5 if [ ""${dir}"" = ew ]; then echo export PING_EW_PID=$($SSH ps fauxww | awk '/[r]oot.*ping/{print $1 }') >> $info_file echo export PING_EW_FILE=${HOME}/ping_results_ew_${suffix}_${date_suffix}.log >> $info_file else echo export PING_WE_PID=$($SSH ps fauxww | awk '/[r]oot.*ping/{print $1 }') >> $info_file echo export PING_WE_FILE=${HOME}/ping_results_we_${suffix}_${date_suffix}.log >> $info_file} for workload in $(ls ~/workload_created_*); do EAST_HOST="""" WEST_HOST="""" source $workload block_for_ping $INSTANCE_FIP start_ping $INSTANCE_FIP $SUFFIX $workload if [ -n ""${EAST_HOST}"" ]; then declare -A EAST EAST[INSTANCE]=$INSTANCE_FIP EAST[SUFFIX]=$SUFFIX EAST[WORKLOAD]=$workload EAST[HOST]=$EAST_HOST fi if [ -n ""${WEST_HOST}"" ]; then declare -A WEST WEST[INSTANCE]=$INSTANCE_FIP WEST[SUFFIX]=$SUFFIX WEST[WORKLOAD]=$workload WEST[HOST]=$WEST_HOST fi{% raw %} if [ ""${#EAST[@]}"" -ne 0 -a ""${#WEST[@]}"" -ne 0 ]; then start_ew_ping ${WEST[HOST]} ${EAST[INSTANCE]} ${EAST[SUFFIX]} ${EAST[WORKLOAD]} ew start_ew_ping ${EAST[HOST]} ${WEST[INSTANCE]} ${WEST[SUFFIX]} ${WEST[WORKLOAD]} we fi {% endraw %}","if [ -f {{ working_dir }}/vm_ip.sh ]; then source {{ working_dir }}/vm_ip.sh else {% if workload_sriov | bool %} echo export VM_IP=$(openstack server list -f json | jq -r -c '.[0][""Networks""]' | cut -d""="" -f2) > {{ working_dir }}/vm_ip.sh {% else %} echo export VM_IP=$(openstack floating ip list -f json | jq -r -c '.[] | select(.Port) | .[""Floating IP Address""]' | head -1) > {{ working_dir }}/vm_ip.sh {% endif %} source {{ working_dir }}/vm_ip.sh fi # Block 1 minute for the fip to be ready. cpt=1 while ! ping -c 1 -w 1 ""${VM_IP}""; do echo ""Waiting for fip to be ready ... for $cpt seconds"" if [ $cpt -gt 60 ]; then echo ""The fip ${VM_IP} took more than 1 minute to be available, aborting"" exit 1 cpt=$((cpt+1)) # NOTE: the &>> is necessary as if we don't redirect both # stdout and stderr we will make any script using this one to # hang until ping finishes. Meaning if some script crashes # and should fail in CI it will get stuck if we don't redirect # both outputs. # bash # \ bash <script> # \ &| awk blah # If script runs l3 start test and than runs something that fails # we will make the awk wait until this ping exits as it will hold # the output pipes. So again &>> instead of >> is necessary. ping -D ${VM_IP} &>> ~/ping_results_$(date +%Y%m%d%H%M).log &",227,103
openstack%2Ftripleo-heat-templates~master~I3b959fda70cd75f5255428a6477de3f194bb49b5,openstack/tripleo-heat-templates,master,I3b959fda70cd75f5255428a6477de3f194bb49b5,Adds DockerUnqualifiedSearchAddress to podman parameters,ABANDONED,2020-11-11 11:32:36.000000000,2021-09-14 15:36:59.000000000,,"[{'_account_id': 7353}, {'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-11 11:32:36.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/78da5b0ee7796eeea0b4511059ab6cdaeef70475', 'message': 'Adds DockerUnqualifiedSearchAddress to podman parameters\n\nAdds a new DockerUnqualifiedSearchAddress parameter for the podman\ninstall. This is passed through to tripleo-ansible to set the\ntripleo_podman_unqualified_search_registries. As described in the\nrelated bug, during the minor update we have unqualified pulls\nfor the pcs containers and that is defaulting to docker.io.\n\nChange-Id: I3b959fda70cd75f5255428a6477de3f194bb49b5\nRelated-Bug: 1903581\n'}]",0,762335,78da5b0ee7796eeea0b4511059ab6cdaeef70475,6,9,1,8449,,,0,"Adds DockerUnqualifiedSearchAddress to podman parameters

Adds a new DockerUnqualifiedSearchAddress parameter for the podman
install. This is passed through to tripleo-ansible to set the
tripleo_podman_unqualified_search_registries. As described in the
related bug, during the minor update we have unqualified pulls
for the pcs containers and that is defaulting to docker.io.

Change-Id: I3b959fda70cd75f5255428a6477de3f194bb49b5
Related-Bug: 1903581
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/762335/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,78da5b0ee7796eeea0b4511059ab6cdaeef70475,," DockerUnqualifiedSearchAddress: description: Optional. The list of registry domains to search when pulling unqualified containers (i.e. podman pull a_container). The value can be multiple domains separated by comas. type: comma_delimited_list default: ['registry.redhat.io', 'registry.access.redhat.com', 'registry.fedoraproject.org', 'registry.centos.org', 'docker.io'] container_unqualified_search_registries: {get_param: DockerUnqualifiedSearchAddress} tripleo_podman_unqualified_search_registries: ""{{ container_unqualified_search_registries }}"" container_unqualified_search_registries: {get_param: DockerUnqualifiedSearchAddress} tripleo_podman_unqualified_search_registries: ""{{ container_unqualified_search_registries }}""",,11,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Iaddc0679b588118cb1b5a578f2f6458e3948c154,openstack/tripleo-heat-templates,stable/train,Iaddc0679b588118cb1b5a578f2f6458e3948c154,DNM: test refactor nova db config,ABANDONED,2020-11-10 17:02:34.000000000,2021-09-14 15:36:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-10 17:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd2c2a63c90c77b2e4e080f918fdd460cd490cf4', 'message': 'DNM: test refactor nova db config\n\n(cherry picked from commit 7b79bdcc744a1f21bf02592eebceceee82de69c0)\n\nChange-Id: Iaddc0679b588118cb1b5a578f2f6458e3948c154\n'}, {'number': 2, 'created': '2020-11-10 22:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/85cea1b8e7d6c2c92e2779c184b942a55543d06f', 'message': 'DNM: test refactor nova db config\n\n(cherry picked from commit 7b79bdcc744a1f21bf02592eebceceee82de69c0)\n\nChange-Id: Iaddc0679b588118cb1b5a578f2f6458e3948c154\n'}, {'number': 3, 'created': '2020-11-11 10:29:53.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/nova/nova-manager-container-puppet.yaml', 'deployment/nova/nova-apidb-client-puppet.yaml', 'deployment/nova/nova-compute-common-container-puppet.yaml', 'roles/NovaManager.yaml', 'ci/environments/multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/nova/nova-base-puppet.yaml', 'tools/yaml-validate.py', 'deployment/nova/nova-db-client-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88793e86a483cb71c9742a3204fef22b47448ac7', 'message': 'DNM: test refactor nova db config\n\n(cherry picked from commit 7b79bdcc744a1f21bf02592eebceceee82de69c0)\n\nChange-Id: Iaddc0679b588118cb1b5a578f2f6458e3948c154\n'}]",0,762173,88793e86a483cb71c9742a3204fef22b47448ac7,9,2,3,23811,,,0,"DNM: test refactor nova db config

(cherry picked from commit 7b79bdcc744a1f21bf02592eebceceee82de69c0)

Change-Id: Iaddc0679b588118cb1b5a578f2f6458e3948c154
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/762173/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/nova/nova-manager-container-puppet.yaml', 'deployment/nova/nova-apidb-client-puppet.yaml', 'deployment/nova/nova-compute-common-container-puppet.yaml', 'roles/NovaManager.yaml', 'ci/environments/multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/nova/nova-base-puppet.yaml', 'tools/yaml-validate.py', 'deployment/nova/nova-db-client-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml']",17,dd2c2a63c90c77b2e4e080f918fdd460cd490cf4,," NovaApiDBClient: type: ./nova-apidb-client-puppet.yaml properties: ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} DefaultPasswords: {get_param: DefaultPasswords} EndpointMap: {get_param: EndpointMap} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} NovaDBClient: type: ./nova-db-client-puppet.yaml properties: ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} DefaultPasswords: {get_param: DefaultPasswords} EndpointMap: {get_param: EndpointMap} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} - get_attr: [NovaBase, role_data, config_settings] - get_attr: [NovaApiDBClient, role_data, config_settings] - get_attr: [NovaDBClient, role_data, config_settings] - get_attr: [NovaLogging, config_settings] rabbitmq: {get_attr: [NovaBase, role_data, service_config_settings], rabbitmq} mysql: map_merge: - get_attr: [NovaApiDBClient, role_data, service_config_settings, mysql] - get_attr: [NovaDBClient, role_data, service_config_settings, mysql]"," - {get_attr: [NovaBase, role_data, config_settings]} - {get_attr: [NovaLogging, config_settings]}",462,115
openstack%2Fpython-tripleoclient~master~I5907ba92d7cda92f2692e1f3d5bc0ab7ccc5b34a,openstack/python-tripleoclient,master,I5907ba92d7cda92f2692e1f3d5bc0ab7ccc5b34a,Don't throw away data in undercloud_service_certificate,ABANDONED,2020-07-23 20:23:37.000000000,2021-09-14 15:36:47.000000000,,"[{'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-07-23 20:23:37.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py', 'tripleoclient/v1/minion_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c1d786ff0bb294e5f5a72cb80200304ea56e4329', 'message': ""Don't throw away data in undercloud_service_certificate\n\nundercloud_service_certificate (and minion_service_certificate) are meant to\nreference a file containing a certificate and private key. Sometimes that\ncertificate is actually a certificae chain, so we need to ensure that we\ndon't throw away the intermediate certificates in that case. In other words,\nthe undercloud ought to have an equivalent to the overcloud's\nSSLIntermediateCertificate paramter.\n\nNote that this patch necessarily removes some logic which splits up a file only\nto have it be put back together again.\n\nChange-Id: I5907ba92d7cda92f2692e1f3d5bc0ab7ccc5b34a\nCloses-Bug: 1882594\n""}]",1,742739,c1d786ff0bb294e5f5a72cb80200304ea56e4329,7,3,1,23078,,,0,"Don't throw away data in undercloud_service_certificate

undercloud_service_certificate (and minion_service_certificate) are meant to
reference a file containing a certificate and private key. Sometimes that
certificate is actually a certificae chain, so we need to ensure that we
don't throw away the intermediate certificates in that case. In other words,
the undercloud ought to have an equivalent to the overcloud's
SSLIntermediateCertificate paramter.

Note that this patch necessarily removes some logic which splits up a file only
to have it be put back together again.

Change-Id: I5907ba92d7cda92f2692e1f3d5bc0ab7ccc5b34a
Closes-Bug: 1882594
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/39/742739/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py', 'tripleoclient/v1/minion_config.py']",3,c1d786ff0bb294e5f5a72cb80200304ea56e4329,," # NOTE: may contain cert, intermdiate cert, and private key return {'SSLCertificate': pem_data}","from cryptography import x509 from cryptography.hazmat.backends import default_backend from cryptography.hazmat.primitives import serialization cert = x509.load_pem_x509_certificate(pem_data, default_backend()) private_key = serialization.load_pem_private_key( pem_data, password=None, backend=default_backend()) key_pem = private_key.private_bytes( encoding=serialization.Encoding.PEM, format=serialization.PrivateFormat.TraditionalOpenSSL, encryption_algorithm=serialization.NoEncryption()) cert_pem = cert.public_bytes(serialization.Encoding.PEM) return { 'SSLCertificate': cert_pem, 'SSLKey': key_pem }",6,103
openstack%2Ftripleo-common~stable%2Fvictoria~Ice137c590e98f01a425b560f2531b7e9b73c97e0,openstack/tripleo-common,stable/victoria,Ice137c590e98f01a425b560f2531b7e9b73c97e0,DNM testing victoria upgrade and update jobs,ABANDONED,2020-10-29 14:09:51.000000000,2021-09-14 15:36:45.000000000,,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-29 14:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/93529bbc18c661016e0ab8530289b52373472d7f', 'message': 'DNM testing victoria upgrade and update jobs\n\nDepends-On: https://review.opendev.org/760323\nChange-Id: Ice137c590e98f01a425b560f2531b7e9b73c97e0\n'}, {'number': 2, 'created': '2020-11-02 16:48:45.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', '.gitreview'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0b5909914be0e85ef4a0990a66a2a51d3ea1f793', 'message': 'DNM testing victoria upgrade and update jobs\n\ndepends-on brings the new victoria upgrade/update jobs\nDepends-On: https://review.opendev.org/760323\nChange-Id: Ice137c590e98f01a425b560f2531b7e9b73c97e0\n'}]",0,760360,0b5909914be0e85ef4a0990a66a2a51d3ea1f793,16,3,2,8449,,,0,"DNM testing victoria upgrade and update jobs

depends-on brings the new victoria upgrade/update jobs
Depends-On: https://review.opendev.org/760323
Change-Id: Ice137c590e98f01a425b560f2531b7e9b73c97e0
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/60/760360/2 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', '.gitreview']",2,93529bbc18c661016e0ab8530289b52373472d7f,,defaultbranch=stable/victoria,,2,0
openstack%2Ftripleo-heat-templates~master~I05e770da497bb071f11de2dd03e3e9a00420c725,openstack/tripleo-heat-templates,master,I05e770da497bb071f11de2dd03e3e9a00420c725,Quotes around {posargs} cause the entire string to be combined into one arg.,ABANDONED,2020-07-27 15:28:27.000000000,2021-09-14 15:36:42.000000000,,"[{'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 32240}]","[{'number': 1, 'created': '2020-07-27 15:28:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3fa54bd6db0dcd9a46332eeba8fcdae8d4175fd9', 'message': 'Quotes around {posargs} cause the entire string to be combined into one arg.\n\nCloses-Bug: #1801825\nChange-Id: I05e770da497bb071f11de2dd03e3e9a00420c725\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\n'}]",0,743259,3fa54bd6db0dcd9a46332eeba8fcdae8d4175fd9,8,4,1,32240,,,0,"Quotes around {posargs} cause the entire string to be combined into one arg.

Closes-Bug: #1801825
Change-Id: I05e770da497bb071f11de2dd03e3e9a00420c725
Signed-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/743259/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3fa54bd6db0dcd9a46332eeba8fcdae8d4175fd9,bug/1801825,commands = python setup.py testr --slowest --testr-args={posargs}commands = python setup.py test --coverage --coverage-package-name=tripleo_heat_templates --testr-args={posargs},commands = python setup.py testr --slowest --testr-args='{posargs}'commands = python setup.py test --coverage --coverage-package-name=tripleo_heat_templates --testr-args='{posargs}',2,2
openstack%2Ftripleo-ci~master~I16785bd4c01e6b4a3c71318721dfacbf2f726016,openstack/tripleo-ci,master,I16785bd4c01e6b4a3c71318721dfacbf2f726016,"content-provider jobs use tripleo-ci post.yaml, collect container builds",ABANDONED,2020-10-30 22:05:38.000000000,2021-09-14 15:36:39.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-30 22:05:38.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0ccc425c381418e63999682db15e9cf4510e0483', 'message': 'content-provider jobs use tripleo-ci post.yaml, collect container builds\n\ncontainer check jobs use tripleo-buildcontainers/post.yaml\nand we capture the container build info and\nroles/build-containers/tasks/post.yaml\n\ncontent-provider jobs are parented off of standalone\nand use tripleo-ci default post.yaml\nplaybooks/tripleo-ci/post.yaml\n\nThis calls ansible-role-collect-logs. The config\nfor collect logs does not include the kolla\nand tcip container build dirs making it difficult\nto debug.\n\nChange-Id: I16785bd4c01e6b4a3c71318721dfacbf2f726016\n'}]",0,760670,0ccc425c381418e63999682db15e9cf4510e0483,5,3,1,9592,,,0,"content-provider jobs use tripleo-ci post.yaml, collect container builds

container check jobs use tripleo-buildcontainers/post.yaml
and we capture the container build info and
roles/build-containers/tasks/post.yaml

content-provider jobs are parented off of standalone
and use tripleo-ci default post.yaml
playbooks/tripleo-ci/post.yaml

This calls ansible-role-collect-logs. The config
for collect logs does not include the kolla
and tcip container build dirs making it difficult
to debug.

Change-Id: I16785bd4c01e6b4a3c71318721dfacbf2f726016
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/70/760670/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,0ccc425c381418e63999682db15e9cf4510e0483,, - /tmp/kolla-* - /tmp/container-* - /tmp/tripleo-container-image-prepare-ansible.log, - /tmp/tripleo-container-image-prepare-ansible.log,3,1
openstack%2Fansible-role-openstack-operations~master~I09b11ddd1b022b9e86d6671c90186d3312469153,openstack/ansible-role-openstack-operations,master,I09b11ddd1b022b9e86d6671c90186d3312469153,setup.cfg: Replace dashes with underscores,MERGED,2021-05-04 08:03:52.000000000,2021-09-14 15:16:38.000000000,2021-09-14 15:16:38.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 08:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-openstack-operations/commit/a7df8b20722147b14346079db8dc6d24c6b60c96', 'message': 'setup.cfg: Replace dashes with underscores\n\nChange-Id: I09b11ddd1b022b9e86d6671c90186d3312469153\n'}, {'number': 2, 'created': '2021-05-04 08:04:45.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-openstack-operations/commit/57748b96e5f05cc772b5b83971c383e4ef47fe12', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I09b11ddd1b022b9e86d6671c90186d3312469153\n""}]",0,789512,57748b96e5f05cc772b5b83971c383e4ef47fe12,9,3,2,33161,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I09b11ddd1b022b9e86d6671c90186d3312469153
",git fetch https://review.opendev.org/openstack/ansible-role-openstack-operations refs/changes/12/789512/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a7df8b20722147b14346079db8dc6d24c6b60c96,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://opendev.org/openstack/ansible-role-openstack-operationssetup_hooks =,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://opendev.org/openstack/ansible-role-openstack-operationssetup-hooks =,4,4
openstack%2Frequirements~master~I139233382d1131f986d23e9dc7ed7ed92ee3a89f,openstack/requirements,master,I139233382d1131f986d23e9dc7ed7ed92ee3a89f,Updated from generate-constraints,ABANDONED,2021-09-13 06:43:39.000000000,2021-09-14 15:12:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-13 06:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0fed4ecbf7b334102356f93f437c363f89fba3cc', 'message': 'Updated from generate-constraints\n\nChange-Id: I139233382d1131f986d23e9dc7ed7ed92ee3a89f\n'}, {'number': 2, 'created': '2021-09-14 06:36:00.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2750b9bea79bcb3613a12864124fadb20affb512', 'message': 'Updated from generate-constraints\n\nChange-Id: I139233382d1131f986d23e9dc7ed7ed92ee3a89f\n'}]",0,808585,2750b9bea79bcb3613a12864124fadb20affb512,7,1,2,11131,,,0,"Updated from generate-constraints

Change-Id: I139233382d1131f986d23e9dc7ed7ed92ee3a89f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/85/808585/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0fed4ecbf7b334102356f93f437c363f89fba3cc,openstack/requirements/constraints,grpcio===1.40.0persist-queue===0.7.0networkx===2.6.3;python_version=='3.8'XStatic-Angular===1.8.2.1Pillow===8.3.2responses===0.14.0sqlparse===0.4.2eventlet===0.32.0beautifulsoup4===4.10.0pkg_resources===0.0.0libvirt-python===7.7.0scp===0.14.1google-api-python-client===2.20.0gabbi===2.3.0boto3===1.18.40keyring===23.2.1 elementpath===2.3.1more-itertools===8.9.0Sphinx===4.2.0salt===3003.3botocore===1.21.40jaeger-client===4.6.1;python_version=='3.6' jaeger-client===4.7.0;python_version=='3.8'xmlschema===1.7.1docker===5.0.2anyio===3.3.1decorator===5.1.0;python_version=='3.8'dnspython===2.1.0fasteners===0.16.3,grpcio===1.39.0persist-queue===0.6.0networkx===2.6.2;python_version=='3.8'XStatic-Angular===1.5.8.0Pillow===8.3.1responses===0.13.4sqlparse===0.4.1eventlet===0.31.1beautifulsoup4===4.9.3libvirt-python===7.6.0scp===0.13.6google-api-python-client===2.19.0gabbi===2.2.0boto3===1.18.33keyring===23.1.0 elementpath===2.2.3more-itertools===8.8.0Sphinx===4.1.2salt===3003.2botocore===1.21.33jaeger-client===4.6.1xmlschema===1.7.0docker===5.0.1anyio===3.3.0decorator===5.0.9;python_version=='3.8'dnspython===1.16.0fasteners===0.14.1setuptools===57.4.0,29,28
openstack%2Fironic-inspector~master~I6e420dac51ac8cf92eadb1c3a3d4716a96c22001,openstack/ironic-inspector,master,I6e420dac51ac8cf92eadb1c3a3d4716a96c22001,Update parameters for authtoken middleware,MERGED,2021-08-20 17:40:10.000000000,2021-09-14 15:07:10.000000000,2021-09-14 15:05:28.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 17:40:10.000000000', 'files': ['ironic_inspector/test/unit/test_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6e72471a41d4db29ca731fb3c4f5988e2a046a57', 'message': 'Update parameters for authtoken middleware\n\n... to avoid warnings from the middleware about deprecated parameters.\nCurrently parameters of each auth plugin are not loaded in unit tests\nso user credentials are not updated but just removed.\n\nChange-Id: I6e420dac51ac8cf92eadb1c3a3d4716a96c22001\n'}]",0,805443,6e72471a41d4db29ca731fb3c4f5988e2a046a57,12,3,1,9816,,,0,"Update parameters for authtoken middleware

... to avoid warnings from the middleware about deprecated parameters.
Currently parameters of each auth plugin are not loaded in unit tests
so user credentials are not updated but just removed.

Change-Id: I6e420dac51ac8cf92eadb1c3a3d4716a96c22001
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/43/805443/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/test/unit/test_utils.py'],1,6e72471a41d4db29ca731fb3c4f5988e2a046a57,, www_authenticate_uri='http://127.0.0.1:5000')," admin_user='admin', admin_tenant_name='admin', admin_password='password', www_authenticate_uri='http://127.0.0.1:5000', identity_uri='http://127.0.0.1:35357') self.assertEqual('admin', args1['admin_user']) self.assertEqual('admin', args1['admin_tenant_name']) self.assertEqual('password', args1['admin_password']) self.assertTrue(args1['delay_auth_decision']) self.assertEqual('http://127.0.0.1:35357', args1['identity_uri'])",1,10
openstack%2Fcinder~master~I101d6899c8e7d4911c64cded2c10da68f5bceed2,openstack/cinder,master,I101d6899c8e7d4911c64cded2c10da68f5bceed2,Hitachi: Add generic volume groups,MERGED,2021-03-25 07:54:33.000000000,2021-09-14 15:00:37.000000000,2021-09-13 18:05:59.000000000,"[{'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22312}, {'_account_id': 22348}, {'_account_id': 28403}, {'_account_id': 29122}]","[{'number': 1, 'created': '2021-03-25 07:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/541e4df3508ed24d3c3623bf99a381e7a31074cc', 'message': 'Hitachi: Add generic volume groups\n\nThis patch adds consistency group capability as generic volume groups\nfor the Hitachi driver.\n\nDocImpact\nImplements: blueprint hitachi-vsp-add-consistency-groups\n\nChange-Id: I101d6899c8e7d4911c64cded2c10da68f5bceed2\n'}, {'number': 2, 'created': '2021-08-31 07:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b074a5ebeeb317849d8e7211c838d7b0c96a7b0a', 'message': 'Hitachi: Add generic volume groups\n\nThis patch adds consistency group capability as generic volume groups\nfor the Hitachi driver.\n\nDocImpact\nImplements: blueprint hitachi-vsp-add-consistency-groups\n\nChange-Id: I101d6899c8e7d4911c64cded2c10da68f5bceed2\n'}, {'number': 3, 'created': '2021-09-03 12:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c17f970f1d47209dfdcba732fe25ab1ea9a83555', 'message': 'Hitachi: Add generic volume groups\n\nThis patch adds consistency group capability as generic volume groups\nfor the Hitachi driver.\n\nDocImpact\nImplements: blueprint hitachi-vsp-add-consistency-groups\n\nChange-Id: I101d6899c8e7d4911c64cded2c10da68f5bceed2\n'}, {'number': 4, 'created': '2021-09-07 10:16:36.000000000', 'files': ['cinder/volume/drivers/hitachi/hbsd_fc.py', 'cinder/volume/drivers/hitachi/hbsd_rest_api.py', 'releasenotes/notes/hitachi-generic-volume-groups-434a27b290d51bf3.yaml', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_iscsi.py', 'doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/hitachi/hbsd_iscsi.py', 'cinder/tests/unit/volume/drivers/hitachi/__init__.py', 'cinder/volume/drivers/hitachi/hbsd_utils.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_fc.py', 'cinder/volume/drivers/hitachi/__init__.py', 'cinder/volume/drivers/hitachi/hbsd_rest.py', 'cinder/volume/drivers/hitachi/hbsd_common.py', 'doc/source/configuration/block-storage/drivers/hitachi-vsp-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/36e00875772a80cda6ece752a202333bd911e8e6', 'message': 'Hitachi: Add generic volume groups\n\nThis patch adds consistency group capability as generic volume groups\nfor the Hitachi driver.\n\nDocImpact\nImplements: blueprint hitachi-vsp-add-consistency-groups\n\nChange-Id: I101d6899c8e7d4911c64cded2c10da68f5bceed2\n'}]",15,782910,36e00875772a80cda6ece752a202333bd911e8e6,128,6,4,16373,,,0,"Hitachi: Add generic volume groups

This patch adds consistency group capability as generic volume groups
for the Hitachi driver.

DocImpact
Implements: blueprint hitachi-vsp-add-consistency-groups

Change-Id: I101d6899c8e7d4911c64cded2c10da68f5bceed2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/782910/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/hitachi/hbsd_iscsi.py', 'cinder/volume/drivers/hitachi/hbsd_fc.py', 'cinder/volume/drivers/hitachi/hbsd_utils.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_fc.py', 'cinder/volume/drivers/hitachi/hbsd_rest.py', 'cinder/volume/drivers/hitachi/hbsd_rest_api.py', 'releasenotes/notes/hitachi-generic-volume-groups-434a27b290d51bf3.yaml', 'cinder/volume/drivers/hitachi/hbsd_common.py', 'doc/source/configuration/block-storage/drivers/hitachi-vsp-driver.rst', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_iscsi.py']",11,541e4df3508ed24d3c3623bf99a381e7a31074cc,bp/hitachi-vsp-add-consistency-groups,"from cinder.objects import group_snapshot as obj_group_snapfrom cinder.tests.unit import fake_group from cinder.tests.unit import fake_group_snapshotfrom cinder.volume.drivers.hitachi import hbsd_utilsfrom cinder.volume import volume_utilsfor i in range(4): if i == 3: volume['provider_location'] = None else: volume['provider_location'] = '{0:d}'.format(i)TEST_GROUP = [] for i in range(2): group = {} group['id'] = '20000000-0000-0000-0000-{0:012d}'.format(i) group['status'] = 'available' group = fake_group.fake_group_obj(CTXT, **group) TEST_GROUP.append(group) TEST_GROUP_SNAP = [] group_snapshot = {} group_snapshot['id'] = '30000000-0000-0000-0000-{0:012d}'.format(0) group_snapshot['status'] = 'available' group_snapshot = obj_group_snap.GroupSnapshot._from_db_object( CTXT, obj_group_snap.GroupSnapshot(), fake_group_snapshot.fake_db_group_snapshot(**group_snapshot)) TEST_GROUP_SNAP.append(group_snapshot) GET_SNAPSHOTS_RESULT_PAIR = { ""data"": [ { ""primaryOrSecondary"": ""S-VOL"", ""status"": ""PAIR"", ""pvolLdevId"": 0, ""muNumber"": 1, ""svolLdevId"": 1, }, ], } self.configuration.hitachi_rest_number = ""0"" def test_create_group(self): ret = self.driver.create_group(self.ctxt, TEST_GROUP[0]) self.assertIsNone(ret) @mock.patch.object(requests.Session, ""request"") def test_delete_group(self, request): request.side_effect = [FakeResponse(200, GET_LDEV_RESULT), FakeResponse(200, GET_LDEV_RESULT), FakeResponse(200, GET_LDEV_RESULT), FakeResponse(202, COMPLETED_SUCCEEDED_RESULT)] ret = self.driver.delete_group( self.ctxt, TEST_GROUP[0], [TEST_VOLUME[0]]) self.assertEqual(4, request.call_count) actual = ( {'status': TEST_GROUP[0]['status']}, [{'id': TEST_VOLUME[0]['id'], 'status': 'deleted'}] ) self.assertTupleEqual(actual, ret) @mock.patch.object(requests.Session, ""request"") def test_create_group_from_src_volume(self, request): request.side_effect = [FakeResponse(200, GET_LDEV_RESULT), FakeResponse(202, COMPLETED_SUCCEEDED_RESULT), FakeResponse(202, COMPLETED_SUCCEEDED_RESULT), FakeResponse(200, GET_SNAPSHOTS_RESULT), FakeResponse(202, COMPLETED_SUCCEEDED_RESULT)] ret = self.driver.create_group_from_src( self.ctxt, TEST_GROUP[1], [TEST_VOLUME[1]], source_group=TEST_GROUP[0], source_vols=[TEST_VOLUME[0]] ) self.assertEqual(5, request.call_count) actual = ( None, [{'id': TEST_VOLUME[1]['id'], 'provider_location': '1'}]) self.assertTupleEqual(actual, ret) @mock.patch.object(requests.Session, ""request"") def test_create_group_from_src_snapshot(self, request): request.side_effect = [FakeResponse(200, GET_LDEV_RESULT), FakeResponse(202, COMPLETED_SUCCEEDED_RESULT), FakeResponse(202, COMPLETED_SUCCEEDED_RESULT), FakeResponse(200, GET_SNAPSHOTS_RESULT), FakeResponse(202, COMPLETED_SUCCEEDED_RESULT)] ret = self.driver.create_group_from_src( self.ctxt, TEST_GROUP[0], [TEST_VOLUME[0]], group_snapshot=TEST_GROUP_SNAP[0], snapshots=[TEST_SNAPSHOT[0]] ) self.assertEqual(5, request.call_count) actual = ( None, [{'id': TEST_VOLUME[0]['id'], 'provider_location': '1'}]) self.assertTupleEqual(actual, ret) def test_create_group_from_src_volume_error(self): self.assertRaises( hbsd_utils.HBSDError, self.driver.create_group_from_src, self.ctxt, TEST_GROUP[1], [TEST_VOLUME[1]], source_group=TEST_GROUP[0], source_vols=[TEST_VOLUME[3]] ) @mock.patch.object(volume_utils, 'is_group_a_cg_snapshot_type') def test_update_group(self, is_group_a_cg_snapshot_type): is_group_a_cg_snapshot_type.return_value = False ret = self.driver.update_group( self.ctxt, TEST_GROUP[0], add_volumes=[TEST_VOLUME[0]]) self.assertTupleEqual((None, None, None), ret) @mock.patch.object(volume_utils, 'is_group_a_cg_snapshot_type') def test_update_group_error(self, is_group_a_cg_snapshot_type): is_group_a_cg_snapshot_type.return_value = True self.assertRaises( hbsd_utils.HBSDError, self.driver.update_group, self.ctxt, TEST_GROUP[0], add_volumes=[TEST_VOLUME[3]], remove_volumes=[TEST_VOLUME[0]] ) @mock.patch.object(requests.Session, ""request"") @mock.patch.object(sqlalchemy_api, 'volume_get', side_effect=_volume_get) @mock.patch.object(volume_utils, 'is_group_a_cg_snapshot_type') def test_create_group_snapshot_non_cg( self, is_group_a_cg_snapshot_type, volume_get, request): is_group_a_cg_snapshot_type.return_value = False request.side_effect = [FakeResponse(200, GET_LDEV_RESULT), FakeResponse(202, COMPLETED_SUCCEEDED_RESULT), FakeResponse(202, COMPLETED_SUCCEEDED_RESULT), FakeResponse(200, GET_SNAPSHOTS_RESULT)] ret = self.driver.create_group_snapshot( self.ctxt, TEST_GROUP_SNAP[0], [TEST_SNAPSHOT[0]] ) self.assertEqual(4, request.call_count) actual = ( {'status': 'available'}, [{'id': TEST_SNAPSHOT[0]['id'], 'provider_location': '1', 'status': 'available'}] ) self.assertTupleEqual(actual, ret) @mock.patch.object(requests.Session, ""request"") @mock.patch.object(sqlalchemy_api, 'volume_get', side_effect=_volume_get) @mock.patch.object(volume_utils, 'is_group_a_cg_snapshot_type') def test_create_group_snapshot_cg( self, is_group_a_cg_snapshot_type, volume_get, request): is_group_a_cg_snapshot_type.return_value = True request.side_effect = [FakeResponse(202, COMPLETED_SUCCEEDED_RESULT), FakeResponse(202, COMPLETED_SUCCEEDED_RESULT), FakeResponse(200, GET_SNAPSHOTS_RESULT_PAIR), FakeResponse(202, COMPLETED_SUCCEEDED_RESULT), FakeResponse(200, GET_SNAPSHOTS_RESULT)] ret = self.driver.create_group_snapshot( self.ctxt, TEST_GROUP_SNAP[0], [TEST_SNAPSHOT[0]] ) self.assertEqual(5, request.call_count) actual = ( None, [{'id': TEST_SNAPSHOT[0]['id'], 'provider_location': '1', 'status': 'available'}] ) self.assertTupleEqual(actual, ret) @mock.patch.object(requests.Session, ""request"") def test_delete_group_snapshot(self, request): request.side_effect = [FakeResponse(200, GET_LDEV_RESULT_PAIR), FakeResponse(200, NOTFOUND_RESULT), FakeResponse(200, GET_SNAPSHOTS_RESULT), FakeResponse(200, GET_SNAPSHOTS_RESULT), FakeResponse(202, COMPLETED_SUCCEEDED_RESULT), FakeResponse(202, COMPLETED_SUCCEEDED_RESULT), FakeResponse(200, GET_LDEV_RESULT), FakeResponse(200, GET_LDEV_RESULT), FakeResponse(200, GET_LDEV_RESULT), FakeResponse(202, COMPLETED_SUCCEEDED_RESULT)] ret = self.driver.delete_group_snapshot( self.ctxt, TEST_GROUP_SNAP[0], [TEST_SNAPSHOT[0]]) self.assertEqual(10, request.call_count) actual = ( {'status': TEST_GROUP_SNAP[0]['status']}, [{'id': TEST_SNAPSHOT[0]['id'], 'status': 'deleted'}] ) self.assertTupleEqual(actual, ret)",for i in range(3): volume['provider_location'] = '{0:d}'.format(i),792,6
openstack%2Fpuppet-tripleo~master~Ie29a03affbbf8d6d47a5c50ef1c17bab9847f460,openstack/puppet-tripleo,master,Ie29a03affbbf8d6d47a5c50ef1c17bab9847f460,Replace rsprep directive with http-response replace-header,MERGED,2021-09-04 09:49:46.000000000,2021-09-14 14:57:50.000000000,2021-09-14 11:15:40.000000000,"[{'_account_id': 6926}, {'_account_id': 9914}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-09-04 09:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a35450f3b9c1a01e5790b29f19b2a5c1796a7112', 'message': ""WIP Replace rsprep directive with http-response replace-header\n\nHaproxy 2.4.x errors out when using rsprep directive:\n<13>Sep  4 08:07:09 puppet-user: [NOTICE] (34) : path to executable is /usr/sbin/haproxy\n<13>Sep  4 08:07:09 puppet-user: [ALERT]  (34) : parsing [/etc/haproxy/haproxy.cfg20210904-13-18ckjh5:44] : The 'rsprep' directive is not supported anymore since HAProxy 2.1. Use 'http-response replace-header' instead.\n<13>Sep  4 08:07:09 puppet-user: [ALERT]  (34) : parsing [/etc/haproxy/haproxy.cfg20210904-13-18ckjh5:58] : The 'rsprep' directive is not supported anymore since HAProxy 2.1. Use 'http-response replace-header' instead.\n<13>Sep  4 08:07:09 puppet-user: [ALERT]  (34) : parsing [/etc/haproxy/haproxy.cfg20210904-13-18ckjh5:81] : The 'rsprep' directive is not supported\n\nTested with haproxy 2.4 and now the config is accepted by haproxy -c.\n\nCloses-Bug: #1942675\n\nChange-Id: Ie29a03affbbf8d6d47a5c50ef1c17bab9847f460\n""}, {'number': 2, 'created': '2021-09-10 09:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/00a61b7da0457e041f68df17cecd848f18a35020', 'message': ""WIP Replace rsprep directive with http-response replace-header\n\nHaproxy 2.4.x errors out when using rsprep directive:\n<13>Sep  4 08:07:09 puppet-user: [NOTICE] (34) : path to executable is /usr/sbin/haproxy\n<13>Sep  4 08:07:09 puppet-user: [ALERT]  (34) : parsing [/etc/haproxy/haproxy.cfg20210904-13-18ckjh5:44] : The 'rsprep' directive is not supported anymore since HAProxy 2.1. Use 'http-response replace-header' instead.\n<13>Sep  4 08:07:09 puppet-user: [ALERT]  (34) : parsing [/etc/haproxy/haproxy.cfg20210904-13-18ckjh5:58] : The 'rsprep' directive is not supported anymore since HAProxy 2.1. Use 'http-response replace-header' instead.\n<13>Sep  4 08:07:09 puppet-user: [ALERT]  (34) : parsing [/etc/haproxy/haproxy.cfg20210904-13-18ckjh5:81] : The 'rsprep' directive is not supported\n\nTested with haproxy 2.4 and now the config is accepted by haproxy -c.\nThe rsprep directive has been removed in 2.1:\nhttps://www.haproxy.com/blog/haproxy-2-1/#deprecated-configuration-options\n\nTested this by deploying an overcloud with tls-e and this patch.\nThe config lines now look like the following:\n\n  http-response replace-header Location http:\\/\\/(.*) https:\\/\\/\\1\n  TODO: this one needs to be fixed\n  http-response replace-header Location http:\\/\\/${public_virtual_ip}(.*) https:\\/\\/${public_virtual_ip}\\1\n\nCloses-Bug: #1942675\n\nChange-Id: Ie29a03affbbf8d6d47a5c50ef1c17bab9847f460\n""}, {'number': 3, 'created': '2021-09-10 10:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/720b0a60ffa5fc903595f8f13957a467df9566a9', 'message': ""WIP Replace rsprep directive with http-response replace-header\n\nHaproxy 2.4.x errors out when using rsprep directive:\n<13>Sep  4 08:07:09 puppet-user: [NOTICE] (34) : path to executable is /usr/sbin/haproxy\n<13>Sep  4 08:07:09 puppet-user: [ALERT]  (34) : parsing [/etc/haproxy/haproxy.cfg20210904-13-18ckjh5:44] : The 'rsprep' directive is not supported anymore since HAProxy 2.1. Use 'http-response replace-header' instead.\n<13>Sep  4 08:07:09 puppet-user: [ALERT]  (34) : parsing [/etc/haproxy/haproxy.cfg20210904-13-18ckjh5:58] : The 'rsprep' directive is not supported anymore since HAProxy 2.1. Use 'http-response replace-header' instead.\n<13>Sep  4 08:07:09 puppet-user: [ALERT]  (34) : parsing [/etc/haproxy/haproxy.cfg20210904-13-18ckjh5:81] : The 'rsprep' directive is not supported\n\nTested with haproxy 2.4 and now the config is accepted by haproxy -c.\nThe rsprep directive has been removed in 2.1:\nhttps://www.haproxy.com/blog/haproxy-2-1/#deprecated-configuration-options\n\nTested this by deploying an overcloud with tls-e and this patch and\nverifying that tempest still works.\n\nThe config lines now look like the following:\n\n  http-response replace-header Location http:\\/\\/(.*) https:\\/\\/\\1\n  http-response replace-header Location http:\\/\\/10.0.0.5(.*) https:\\/\\/10.0.0.5\\1\n\nNote: I could not verify that the actual redirection still works,\nbecause I think that it is just broken with tls-e even before this\npatch. Both before / after this patch (and with different haproxy\nversions) return the following on tls-e:\n[stack@undercloud-0 ~]$ curl -k -L http://10.0.0.5:13776/\ncurl: (52) Empty reply from server\n\nand haproxy returns:\nSep 10 10:47:21 controller-1 haproxy[7]: 10.0.0.254:41052 [10/Sep/2021:10:47:21.386] cinder/1: SSL handshake failure\n\nCloses-Bug: #1942675\n\nChange-Id: Ie29a03affbbf8d6d47a5c50ef1c17bab9847f460\n""}, {'number': 4, 'created': '2021-09-10 11:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ecad6d5f40cfcd08cf5264d028686cd82ce8f9b4', 'message': ""Replace rsprep directive with http-response replace-header\n\nHaproxy 2.4.x errors out when using rsprep directive:\n<13>Sep  4 08:07:09 puppet-user: [NOTICE] (34) : path to executable is /usr/sbin/haproxy\n<13>Sep  4 08:07:09 puppet-user: [ALERT]  (34) : parsing [/etc/haproxy/haproxy.cfg20210904-13-18ckjh5:44] : The 'rsprep' directive is not supported anymore since HAProxy 2.1. Use 'http-response replace-header' instead.\n<13>Sep  4 08:07:09 puppet-user: [ALERT]  (34) : parsing [/etc/haproxy/haproxy.cfg20210904-13-18ckjh5:58] : The 'rsprep' directive is not supported anymore since HAProxy 2.1. Use 'http-response replace-header' instead.\n<13>Sep  4 08:07:09 puppet-user: [ALERT]  (34) : parsing [/etc/haproxy/haproxy.cfg20210904-13-18ckjh5:81] : The 'rsprep' directive is not supported\n\nTested with haproxy 2.4 and now the config is accepted by haproxy -c.\nThe rsprep directive has been removed in 2.1:\nhttps://www.haproxy.com/blog/haproxy-2-1/#deprecated-configuration-options\n\nTested this by deploying an overcloud with tls-e and this patch and\nverifying that tempest still works.\n\nThe config lines now look like the following:\n\n  http-response replace-header Location http:\\/\\/(.*) https:\\/\\/\\1\n  http-response replace-header Location http:\\/\\/10.0.0.5(.*) https:\\/\\/10.0.0.5\\1\n\nTested the horizon redirect is still working:\n[stack@undercloud-0 ~]$ curl -v -L http://overcloud.localdomain:80/\n*   Trying 10.0.0.5:80...\n* Connected to overcloud.localdomain (10.0.0.5) port 80 (#0)\n> GET / HTTP/1.1\n> Host: overcloud.localdomain\n> User-Agent: curl/7.76.1\n> Accept: */*\n>\n* Mark bundle as not supporting multiuse\n< HTTP/1.1 301 Moved Permanently\n< content-length: 0\n< location: https://overcloud.localdomain/\n\nCloses-Bug: #1942675\n\nChange-Id: Ie29a03affbbf8d6d47a5c50ef1c17bab9847f460\n""}, {'number': 5, 'created': '2021-09-11 06:14:45.000000000', 'files': ['manifests/haproxy.pp', 'manifests/haproxy/horizon_endpoint.pp', 'manifests/haproxy/endpoint.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5a9b957a7e6b9cefe820c391e0b53f3c7a73bd16', 'message': ""Replace rsprep directive with http-response replace-header\n\nHaproxy 2.4.x errors out when using rsprep directive:\n<13>Sep  4 08:07:09 puppet-user: [NOTICE] (34) : path to executable is /usr/sbin/haproxy\n<13>Sep  4 08:07:09 puppet-user: [ALERT]  (34) : parsing [/etc/haproxy/haproxy.cfg20210904-13-18ckjh5:44] : The 'rsprep' directive is not supported anymore since HAProxy 2.1. Use 'http-response replace-header' instead.\n<13>Sep  4 08:07:09 puppet-user: [ALERT]  (34) : parsing [/etc/haproxy/haproxy.cfg20210904-13-18ckjh5:58] : The 'rsprep' directive is not supported anymore since HAProxy 2.1. Use 'http-response replace-header' instead.\n<13>Sep  4 08:07:09 puppet-user: [ALERT]  (34) : parsing [/etc/haproxy/haproxy.cfg20210904-13-18ckjh5:81] : The 'rsprep' directive is not supported\n\nTested with haproxy 2.4 and now the config is accepted by haproxy -c.\nThe rsprep directive has been removed in 2.1:\nhttps://www.haproxy.com/blog/haproxy-2-1/#deprecated-configuration-options\n\nTested this by deploying an overcloud with tls-e and this patch and\nverifying that tempest still works.\n\nThe config lines now look like the following:\n\n  http-response replace-header Location http://(.*) https://\\1\n  http-response replace-header Location http://10.0.0.5(.*) https://10.0.0.5\\1\n\nTested the horizon redirect is still working:\n[stack@undercloud-0 ~]$ curl -v -L http://overcloud.localdomain:80/\n*   Trying 10.0.0.5:80...\n* Connected to overcloud.localdomain (10.0.0.5) port 80 (#0)\n> GET / HTTP/1.1\n> Host: overcloud.localdomain\n> User-Agent: curl/7.76.1\n> Accept: */*\n>\n* Mark bundle as not supporting multiuse\n< HTTP/1.1 301 Moved Permanently\n< content-length: 0\n< location: https://overcloud.localdomain/\n\nCloses-Bug: #1942675\n\nChange-Id: Ie29a03affbbf8d6d47a5c50ef1c17bab9847f460\n""}]",0,807428,5a9b957a7e6b9cefe820c391e0b53f3c7a73bd16,23,7,5,20172,,,0,"Replace rsprep directive with http-response replace-header

Haproxy 2.4.x errors out when using rsprep directive:
<13>Sep  4 08:07:09 puppet-user: [NOTICE] (34) : path to executable is /usr/sbin/haproxy
<13>Sep  4 08:07:09 puppet-user: [ALERT]  (34) : parsing [/etc/haproxy/haproxy.cfg20210904-13-18ckjh5:44] : The 'rsprep' directive is not supported anymore since HAProxy 2.1. Use 'http-response replace-header' instead.
<13>Sep  4 08:07:09 puppet-user: [ALERT]  (34) : parsing [/etc/haproxy/haproxy.cfg20210904-13-18ckjh5:58] : The 'rsprep' directive is not supported anymore since HAProxy 2.1. Use 'http-response replace-header' instead.
<13>Sep  4 08:07:09 puppet-user: [ALERT]  (34) : parsing [/etc/haproxy/haproxy.cfg20210904-13-18ckjh5:81] : The 'rsprep' directive is not supported

Tested with haproxy 2.4 and now the config is accepted by haproxy -c.
The rsprep directive has been removed in 2.1:
https://www.haproxy.com/blog/haproxy-2-1/#deprecated-configuration-options

Tested this by deploying an overcloud with tls-e and this patch and
verifying that tempest still works.

The config lines now look like the following:

  http-response replace-header Location http://(.*) https://\1
  http-response replace-header Location http://10.0.0.5(.*) https://10.0.0.5\1

Tested the horizon redirect is still working:
[stack@undercloud-0 ~]$ curl -v -L http://overcloud.localdomain:80/
*   Trying 10.0.0.5:80...
* Connected to overcloud.localdomain (10.0.0.5) port 80 (#0)
> GET / HTTP/1.1
> Host: overcloud.localdomain
> User-Agent: curl/7.76.1
> Accept: */*
>
* Mark bundle as not supporting multiuse
< HTTP/1.1 301 Moved Permanently
< content-length: 0
< location: https://overcloud.localdomain/

Closes-Bug: #1942675

Change-Id: Ie29a03affbbf8d6d47a5c50ef1c17bab9847f460
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/28/807428/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/haproxy.pp', 'manifests/haproxy/horizon_endpoint.pp', 'manifests/haproxy/endpoint.pp']",3,a35450f3b9c1a01e5790b29f19b2a5c1796a7112,haproxy-rsprep-fix," 'http-response' => 'replace-header Location http:\/\/(.*) https:\/\/\\1', 'redirect' => ""scheme https code 301 if { hdr(host) -i ${public_virtual_ip} } !{ ssl_fc }"", 'option' => 'forwardfor',"," 'rsprep' => '^Location:\ http://(.*) Location:\ https://\1', 'redirect' => ""scheme https code 301 if { hdr(host) -i ${public_virtual_ip} } !{ ssl_fc }"", 'option' => 'forwardfor',",8,8
openstack%2Fironic-inspector~master~I4a780567fb92c32cf55c54e2e134df9456e36165,openstack/ironic-inspector,master,I4a780567fb92c32cf55c54e2e134df9456e36165,Fix sqlalchemy,MERGED,2021-09-14 09:17:34.000000000,2021-09-14 14:33:54.000000000,2021-09-14 14:31:47.000000000,"[{'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-14 09:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/61b16bf06cc911ff10fc56c10584511da799f66e', 'message': ""Fix sqlalchemy\n\nInplicit execution was deprecated in SQLAlhcemy, version 1.4 doesn't\nsupport and we need to convert to explicit[1]\n\n[1] https://docs.sqlalchemy.org/en/14/changelog/migration_20.html#implicit-and-connectionless-execution-bound-metadata-removed\n\nChange-Id: I4a780567fb92c32cf55c54e2e134df9456e36165\n""}, {'number': 2, 'created': '2021-09-14 09:30:54.000000000', 'files': ['ironic_inspector/test/unit/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/4bc75327aa887332e4f8302bf08040322806f68a', 'message': ""Fix sqlalchemy\n\nInplicit execution was deprecated in SQLAlhcemy, version 1.4 doesn't\nsupport and we need to convert to explicit[1]\n\n[1] https://docs.sqlalchemy.org/en/14/changelog/migration_20.html#implicit-and-connectionless-execution-bound-metadata-removed\n\nChange-Id: I4a780567fb92c32cf55c54e2e134df9456e36165\n""}]",2,808917,4bc75327aa887332e4f8302bf08040322806f68a,12,3,2,15519,,,0,"Fix sqlalchemy

Inplicit execution was deprecated in SQLAlhcemy, version 1.4 doesn't
support and we need to convert to explicit[1]

[1] https://docs.sqlalchemy.org/en/14/changelog/migration_20.html#implicit-and-connectionless-execution-bound-metadata-removed

Change-Id: I4a780567fb92c32cf55c54e2e134df9456e36165
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/17/808917/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/test/unit/test_migrations.py'],1,61b16bf06cc911ff10fc56c10584511da799f66e,sqlalchemy," with engine.begin() as connection: data = {'id': 1, 'op': 'eq', 'multiple': 'all'} insert_rc = rule_conditions.insert() connection.execute(insert_rc, data) rc_stmt = rule_conditions.select( rule_conditions.c.id == 1) conds = connection.execute(rc_stmt).first() self.assertFalse(conds['invert']) # set invert with - True data2 = {'id': 2, 'op': 'eq', 'multiple': 'all', 'invert': True} connection.execute(insert_rc, data2) rc_stmt2 = rule_conditions.select( rule_conditions.c.id == 2) conds2 = connection.execute(rc_stmt2).first() self.assertTrue(conds2['invert']) with engine.begin() as connection: for node in data: insert_node = nodes.insert() connection.execute(insert_node, node) with engine.begin() as connection: # assert the ok node is in the (default) finished state ok_node_stmt = nodes.select(nodes.c.uuid == ok_node_id) ok_node = connection.execute(ok_node_stmt).first() self.assertEqual(istate.States.finished, ok_node['state']) # assert err node state is error after the migration # even though the default state is finished err_node_stmt = nodes.select(nodes.c.uuid == err_node_id) err_node = connection.execute(err_node_stmt).first() self.assertEqual(istate.States.error, err_node['state']) with engine.begin() as connection: for finished_at in (None, 1234.0): node = {'uuid': uuidutils.generate_uuid(), 'started_at': 1232.0, 'finished_at': finished_at, 'error': None} insert_node = nodes.insert().values(node) connection.execute(insert_node) data.append(node) with engine.begin() as connection: for node in data: finished_at = datetime.datetime.utcfromtimestamp( node['finished_at']) if node['finished_at'] else None stmt = nodes.select(nodes.c.uuid == node['uuid']) row = connection.execute(stmt).first() self.assertEqual( datetime.datetime.utcfromtimestamp(node['started_at']), row['started_at']) self.assertEqual( finished_at, row['finished_at']) with engine.begin() as connection: node = { 'uuid': self.node_uuid, 'started_at': datetime.datetime.utcnow(), 'finished_at': None, 'error': None, 'state': istate.States.starting } insert_node = nodes.insert().values(node) connection.execute(insert_node) data = { 'uuid': self.node_uuid, 'name': 'foo', 'value': 'bar' } insert_att = attributes.insert().values(data) connection.execute(insert_att) with engine.begin() as connection: stmt = attributes.select(attributes.c.node_uuid == self.node_uuid) row = connection.execute(stmt).first() self.assertEqual(self.node_uuid, row.node_uuid) self.assertNotEqual(self.node_uuid, row.uuid) self.assertIsNotNone(row.uuid) self.assertEqual('foo', row.name) self.assertEqual('bar', row.value) with engine.begin() as connection: insert_node = nodes.insert() connection.execute(insert_node, data) n_stmt = nodes.select(nodes.c.uuid == 'abcd') n = connection.execute(n_stmt).first() self.assertIsNone(n['manage_boot'])"," data = {'id': 1, 'op': 'eq', 'multiple': 'all'} rule_conditions.insert().execute(data) conds = rule_conditions.select( rule_conditions.c.id == 1).execute().first() self.assertFalse(conds['invert']) # set invert with - True data = {'id': 2, 'op': 'eq', 'multiple': 'all', 'invert': True} rule_conditions.insert().execute(data) conds = rule_conditions.select( rule_conditions.c.id == 2).execute().first() self.assertTrue(conds['invert']) for node in data: nodes.insert().execute(node) # assert the ok node is in the (default) finished state ok_node = nodes.select(nodes.c.uuid == ok_node_id).execute().first() self.assertEqual(istate.States.finished, ok_node['state']) # assert err node state is error after the migration # even though the default state is finished err_node = nodes.select(nodes.c.uuid == err_node_id).execute().first() self.assertEqual(istate.States.error, err_node['state']) for finished_at in (None, 1234.0): node = {'uuid': uuidutils.generate_uuid(), 'started_at': 1232.0, 'finished_at': finished_at, 'error': None} nodes.insert().values(node).execute() data.append(node) for node in data: finished_at = datetime.datetime.utcfromtimestamp( node['finished_at']) if node['finished_at'] else None row = nodes.select(nodes.c.uuid == node['uuid']).execute().first() self.assertEqual( datetime.datetime.utcfromtimestamp(node['started_at']), row['started_at']) self.assertEqual( finished_at, row['finished_at']) node = { 'uuid': self.node_uuid, 'started_at': datetime.datetime.utcnow(), 'finished_at': None, 'error': None, 'state': istate.States.starting } nodes.insert().values(node).execute() data = { 'uuid': self.node_uuid, 'name': 'foo', 'value': 'bar' } attributes.insert().values(data).execute() row = attributes.select(attributes.c.node_uuid == self.node_uuid).execute().first() self.assertEqual(self.node_uuid, row.node_uuid) self.assertNotEqual(self.node_uuid, row.uuid) self.assertIsNotNone(row.uuid) self.assertEqual('foo', row.name) self.assertEqual('bar', row.value) nodes.insert().execute(data) n = nodes.select(nodes.c.uuid == 'abcd').execute().first() self.assertIsNone(n['manage_boot'])",83,61
openstack%2Ftripleo-specs~master~I22ea6e9f31ec2480edf3664ae064ed4c85709ef6,openstack/tripleo-specs,master,I22ea6e9f31ec2480edf3664ae064ed4c85709ef6,Libvirt Decontainerization,ABANDONED,2021-06-21 12:36:50.000000000,2021-09-14 14:22:00.000000000,,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-21 12:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/8931eaa37b038b371bfb34065ef7b2db1ea0de39', 'message': ""Libvirt Decontainerization\n\nAs discussed at the PTG, we probably shouldn't containerize libvirt\n\nChange-Id: I22ea6e9f31ec2480edf3664ae064ed4c85709ef6\n""}, {'number': 2, 'created': '2021-06-21 12:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/619abcfaa8f6ff670ef97ff749393ff1181dd963', 'message': ""Libvirt Decontainerization\n\nAs discussed at the PTG, we probably shouldn't containerize libvirt\n\nChange-Id: I22ea6e9f31ec2480edf3664ae064ed4c85709ef6\n""}, {'number': 3, 'created': '2021-06-21 12:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/0363fabab41ee960a031ea440483699a679174a7', 'message': ""Libvirt Decontainerization\n\nAs discussed at the PTG, we probably shouldn't containerize libvirt\n\nChange-Id: I22ea6e9f31ec2480edf3664ae064ed4c85709ef6\n""}, {'number': 4, 'created': '2021-06-21 12:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/8883edf8c96900cd08d2cc72911c791a549b88bf', 'message': ""Libvirt Decontainerization\n\nAs discussed at the PTG, we probably shouldn't containerize libvirt\n\nChange-Id: I22ea6e9f31ec2480edf3664ae064ed4c85709ef6\n""}, {'number': 5, 'created': '2021-06-21 13:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/86fa0f54155e453d4568c577286341f0c94a766f', 'message': ""Libvirt Decontainerization\n\nAs discussed at the PTG, we probably shouldn't containerize libvirt\n\nChange-Id: I22ea6e9f31ec2480edf3664ae064ed4c85709ef6\n""}, {'number': 6, 'created': '2021-06-25 17:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/55d7598cf62e6ba8b67b10be553777eb908c0420', 'message': ""Libvirt Decontainerization\n\nAs discussed at the PTG, we probably shouldn't containerize libvirt\n\nChange-Id: I22ea6e9f31ec2480edf3664ae064ed4c85709ef6\n""}, {'number': 7, 'created': '2021-07-05 14:19:25.000000000', 'files': ['specs/xena/decontainerize-nova_libvirt.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/921c9fa9765d6d09abcb01683a014a4378afb8ad', 'message': ""Libvirt Decontainerization\n\nAs discussed at the PTG, we probably shouldn't containerize libvirt\n\nChange-Id: I22ea6e9f31ec2480edf3664ae064ed4c85709ef6\n""}]",54,797288,921c9fa9765d6d09abcb01683a014a4378afb8ad,36,7,7,27419,,,0,"Libvirt Decontainerization

As discussed at the PTG, we probably shouldn't containerize libvirt

Change-Id: I22ea6e9f31ec2480edf3664ae064ed4c85709ef6
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/88/797288/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/decontainerize-nova_libvirt.rst'],1,8931eaa37b038b371bfb34065ef7b2db1ea0de39,,"========================================== [DRAFT] Decontainerization of nova_libvirt ========================================== Deploying nova_libvirt outside of container Problem Description =================== Libvirt service is responsible for launching QEMU/KVM instances, which are tightly bound to the host and kernel. It would make more sense having these processes residing directly on the physical host. The libvirt library exposes a guaranteed stable API & ABI which is decoupled from any particular virtualization technology. In addition many of the APIs have associated XML schemata which are considered part of the stable ABI guarantee. This is the chain of command: Nova Compute > Libvirt > QEMU > KVM Basically, Nova Compute has its own container and manages Virtualized Machines (VM) Ms by using the Libvirt API. Libvirt has also it's own container and when it starts VMs, it will launch a QEMU process in its own cgroup. This QEMU process is bound to the KVM module of the underlying host. Backward compatibility between components ----------------------------------------- # NOTE(dvd): We might need to rephrase that and add more gravy Normally, Nova and Libvirt should be backward compatible with their subcomponents. This is not necessary true between QEMU/KVM and the underlying Kernel. During the update process, before a host is rebooted, nova_compute will be updated first. If a backward compatibility issue happens at this stage, it's trivial to deploy a hotfix and go on with the update process. We can't say the same for Libvirtd and QEMU/KVM that are tightly bound with the underlying host. We could end up with a RHEL9 QEMU running on a RHEL8 kernel. This might not be a desired condition because it might change the ABI for the guests. Proposed Change =============== Overview -------- Using the host's libvirtd and virtlogd instance instead of containerize it. Security Impact --------------- # NOTE(dvd): There might be more things to validate as well here There shouldn't be major security impacts from this change. The deployment shouldn't be affected negatively by this change from a security standpoint but unknown issues might be found. * We will have to remove some SELinux policies that were added for libvirt containerization. * We will have to revalidate the secontexts of the various files that libvirtd touches. End User Impact --------------- * Configuration files will be moved back to the hypervisor's etc folder. * Logs will be back into their syslog facilities. * Administrative commands like virsh will be executed directly on the host instead of going through the container Performance Impact ------------------ Very little impact: * Runtime performance should remain the same. * Bootstrapping the libvirtd service will be slightly faster. Deployer Impact --------------- From a deployment perspective very little changes: * Deployment workflow remains the same. * Dependencies management between libvirt and QEMU will be handled by the ""puddle"" # NOTE(dvd): There must be a better way to phrase this Upgrade Impact -------------- This work aims to ensure that the API matches the underlying ABI available for the guests. Developer Impact ---------------- The developer work flow changes slighly. Instead of interacting with the service via the container, you will interact with the service directly on the host. Log files for libvirt will also move back to the root of /var/log. Implementation ============== Assignee(s) * dvd * mschuppert * ratailor Work Items ---------- * TripleO heat template for nova libvirt * TripleO CI job Dependencies ============ Testing ======= Documentation Impact ==================== References ========== ",,132,0
openstack%2Fcinder~master~I6db266315efa02f08dfc0c069514f2ff9b8c551e,openstack/cinder,master,I6db266315efa02f08dfc0c069514f2ff9b8c551e,Xena project personas for volume type access API,MERGED,2020-10-28 16:36:19.000000000,2021-09-14 14:15:00.000000000,2021-09-14 14:11:59.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 9954}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 20813}, {'_account_id': 21129}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 31868}]","[{'number': 1, 'created': '2020-10-28 16:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f2974645dacfbff203d562181010b1b20c8efb9d', 'message': 'Implement secure RBAC for volume access API\n\nThis commit updates the policies to use system-scope where appropriate\nfor the volume access API. This change is in line with a broad change\nacross OpenStack to provide more secure default policies.\n\nChange-Id: I6db266315efa02f08dfc0c069514f2ff9b8c551e\n'}, {'number': 2, 'created': '2020-11-18 15:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8ef050726c6886b717b7b1460ee8f0b2b77651cb', 'message': 'Implement secure RBAC for volume access API\n\nThis commit updates the policies to use system-scope where appropriate\nfor the volume access API. This change is in line with a broad change\nacross OpenStack to provide more secure default policies.\n\nChange-Id: I6db266315efa02f08dfc0c069514f2ff9b8c551e\n'}, {'number': 3, 'created': '2021-02-17 17:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6d29ade8cebe20756adb5bfb9be76f4462b31970', 'message': 'Implement project personas for volume access API\n\nThis commit updates the policies to use default roles from keystone.\nThis change is in line with a broad change across OpenStack to provide\nmore secure default policies.\n\nFuture changes will incorporate system scope when cinder fully supports\nit.\n\nChange-Id: I6db266315efa02f08dfc0c069514f2ff9b8c551e\n'}, {'number': 4, 'created': '2021-02-17 20:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0b3c8c41a223ce7d2bba5e9e9bbffb63d69a22c5', 'message': 'Implement project personas for volume access API\n\nThis commit updates the policies to use default roles from keystone.\nThis change is in line with a broad change across OpenStack to provide\nmore secure default policies.\n\nFuture changes will incorporate system scope when cinder fully supports\nit.\n\nChange-Id: I6db266315efa02f08dfc0c069514f2ff9b8c551e\n'}, {'number': 5, 'created': '2021-03-11 15:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/468a858e667ceb94149c1cdb1fcf5a0f3a962fb1', 'message': 'Implement project personas for volume access API\n\nThis commit updates the policies to use default roles from keystone.\nThis change is in line with a broad change across OpenStack to provide\nmore secure default policies.\n\nFuture changes will incorporate system scope when cinder fully supports\nit.\n\nChange-Id: I6db266315efa02f08dfc0c069514f2ff9b8c551e\n'}, {'number': 6, 'created': '2021-08-13 01:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/be5690f0da8d57fb4aed87534711ae8cdfd06be9', 'message': 'Implement project personas for volume access API\n\nThis commit updates the policies to use default roles from keystone.\nThis change is in line with a broad change across OpenStack to provide\nmore secure default policies.\n\nFuture changes will incorporate system scope when cinder fully supports\nit.\n\nChange-Id: I6db266315efa02f08dfc0c069514f2ff9b8c551e\n'}, {'number': 7, 'created': '2021-08-30 21:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5d6bbd21ac312d2e16e9c435552c1e3a481f75b8', 'message': ""WIP: Implement Xena project personas for volume access API\n\nImplements the 3 Xena personas (no system scope).  Also introduces\na new policy 'volume_extension:volume_type_access:get_all_for_type'\nthat governs the GET /types/{type_id}/os-volume-type-access call.\n\n(WIP because still needs tests)\n\nCo-authored-by: Lance Bragstad <lbragstad@gmail.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I6db266315efa02f08dfc0c069514f2ff9b8c551e\n""}, {'number': 8, 'created': '2021-09-03 20:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/970389ab147090f41ae0f308da351ffae9aba350', 'message': ""WIP: Implement Xena project personas for volume access API\n\nImplements the 3 Xena personas (no system scope).  Also introduces\na new policy 'volume_extension:volume_type_access:get_all_for_type'\nthat governs the GET /types/{type_id}/os-volume-type-access call.\n\n(WIP because still needs tests)\n\nCo-authored-by: Lance Bragstad <lbragstad@gmail.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I6db266315efa02f08dfc0c069514f2ff9b8c551e\n""}, {'number': 9, 'created': '2021-09-07 19:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/67202397cfb10e0aef3ef6f2bccb2b95b693686e', 'message': ""WIP: Implement Xena project personas for volume access API\n\nImplements the 3 Xena personas (no system scope).  Also introduces\na new policy 'volume_extension:volume_type_access:get_all_for_type'\nthat governs the GET /types/{type_id}/os-volume-type-access call.\n\n(WIP because still needs tests)\n\nCo-authored-by: Lance Bragstad <lbragstad@gmail.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I6db266315efa02f08dfc0c069514f2ff9b8c551e\n""}, {'number': 10, 'created': '2021-09-10 14:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/130117dea13ebcafa586eace11f57bac596fd59c', 'message': ""Xena project personas for volume type access API\n\nImplements the 3 Xena personas (no system scope).  Also introduces\na new policy 'volume_extension:volume_type_access:get_all_for_type'\nthat governs the GET /types/{type_id}/os-volume-type-access call.\n\nCo-authored-by: Lance Bragstad <lbragstad@gmail.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I6db266315efa02f08dfc0c069514f2ff9b8c551e\n""}, {'number': 11, 'created': '2021-09-10 21:34:38.000000000', 'files': ['cinder/policies/volume_access.py', 'cinder/api/contrib/volume_type_access.py', 'cinder/tests/unit/policy.yaml', 'cinder/tests/unit/policies/test_volume_access.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5fc7df24a549603652171edccd4422d84f9500c1', 'message': ""Xena project personas for volume type access API\n\nImplements the 3 Xena personas (no system scope).  Also introduces\na new policy 'volume_extension:volume_type_access:get_all_for_type'\nthat governs the GET /types/{type_id}/os-volume-type-access call.\n\nAlso removes an overriding policy definition from policy.yaml in\ncinder/tests/unit/ that doesn't appear to be needed.\n\nCo-authored-by: Lance Bragstad <lbragstad@gmail.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: I6db266315efa02f08dfc0c069514f2ff9b8c551e\n""}]",13,760184,5fc7df24a549603652171edccd4422d84f9500c1,247,19,11,5046,,,0,"Xena project personas for volume type access API

Implements the 3 Xena personas (no system scope).  Also introduces
a new policy 'volume_extension:volume_type_access:get_all_for_type'
that governs the GET /types/{type_id}/os-volume-type-access call.

Also removes an overriding policy definition from policy.yaml in
cinder/tests/unit/ that doesn't appear to be needed.

Co-authored-by: Lance Bragstad <lbragstad@gmail.com>
Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>

Change-Id: I6db266315efa02f08dfc0c069514f2ff9b8c551e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/84/760184/10 && git format-patch -1 --stdout FETCH_HEAD,['cinder/policies/volume_access.py'],1,f2974645dacfbff203d562181010b1b20c8efb9d,secure-rbac,"from oslo_log import versionutilsDEPRECATED_REASON = """""" The volume access API is now aware for various scopes and default roles. """""" deprecated_volume_type_access = policy.DeprecatedRule( name=TYPE_ACCESS_POLICY, check_str=base.RULE_ADMIN_OR_OWNER ) deprecated_add_project_access = policy.DeprecatedRule( name=ADD_PROJECT_POLICY, check_str=base.RULE_ADMIN_API ) deprecated_remove_project_access = policy.DeprecatedRule( name=REMOVE_PROJECT_POLICY, check_str=base.RULE_ADMIN_API ) check_str=base.SYSTEM_OR_PROJECT_MEMBER, scope_types=['system', 'project'], ], deprecated_rule=deprecated_volume_type_access, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_add_project_access, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ), check_str=base.SYSTEM_ADMIN, scope_types=['system'], ], deprecated_rule=deprecated_remove_project_access, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY ),"," check_str=base.RULE_ADMIN_OR_OWNER, ]), check_str=base.RULE_ADMIN_API, ]), check_str=base.RULE_ADMIN_API, ]),",40,6
openstack%2Fkayobe~stable%2Fussuri~I45e937ec7c102e89edee20679b8959bf7f6c7152,openstack/kayobe,stable/ussuri,I45e937ec7c102e89edee20679b8959bf7f6c7152,CI: Fix get_logs.sh docker logs output,MERGED,2021-09-10 09:45:59.000000000,2021-09-14 13:45:08.000000000,2021-09-14 13:43:35.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-10 09:45:59.000000000', 'files': ['roles/kayobe-diagnostics/files/get_logs.sh'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d4fd330f1ba5546972826b8dbf91e4a0aa6257e2', 'message': 'CI: Fix get_logs.sh docker logs output\n\nCurrently the logs get printed in Zuul job stdout and only a small portion\nof them is redirected to a file - this patch changes that to send all output\nto desired files.\n\nChange-Id: I45e937ec7c102e89edee20679b8959bf7f6c7152\n(cherry picked from commit 923813ac4820044723814b777e4a39cb6eb273fe)\n'}]",108,808163,d4fd330f1ba5546972826b8dbf91e4a0aa6257e2,16,3,1,22629,,,0,"CI: Fix get_logs.sh docker logs output

Currently the logs get printed in Zuul job stdout and only a small portion
of them is redirected to a file - this patch changes that to send all output
to desired files.

Change-Id: I45e937ec7c102e89edee20679b8959bf7f6c7152
(cherry picked from commit 923813ac4820044723814b777e4a39cb6eb273fe)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/63/808163/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/kayobe-diagnostics/files/get_logs.sh'],1,d4fd330f1ba5546972826b8dbf91e4a0aa6257e2,, docker logs --tail all ${container} &> ${LOG_DIR}/docker_logs/${container}.txt, docker logs --tail all ${container} > ${LOG_DIR}/docker_logs/${container}.txt,1,1
openstack%2Fcharm-guide~master~I2f6826899dc8538e0e456d73a1e4f91b9f9d066c,openstack/charm-guide,master,I2f6826899dc8538e0e456d73a1e4f91b9f9d066c,Added info about new neutron-gateway actions,MERGED,2021-09-14 08:28:47.000000000,2021-09-14 13:39:03.000000000,2021-09-14 13:37:35.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-09-14 08:28:47.000000000', 'files': ['doc/source/2110.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/2da7e57746d9c6e7d894c609da01c239c84309d3', 'message': 'Added info about new neutron-gateway actions\n\nChange-Id: I2f6826899dc8538e0e456d73a1e4f91b9f9d066c\n'}]",0,808910,2da7e57746d9c6e7d894c609da01c239c84309d3,7,2,1,32288,,,0,"Added info about new neutron-gateway actions

Change-Id: I2f6826899dc8538e0e456d73a1e4f91b9f9d066c
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/10/808910/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2110.rst'],1,2da7e57746d9c6e7d894c609da01c239c84309d3,neutron-gateway-show-actions, * `neutron-gateway charm: new actions to display routers/networks/loadbalancers`_neutron-gateway charm: new actions to display routers/networks/loadbalancers ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The `neutron-gateway` charm has three new actions that enable listing neutron resources hosted on the unit. * ``show-routers`` - Lists neutron routers on the unit * ``show-dhcp-networks`` - Lists DHCP networks on the unit * ``show-loadbalancers`` - Lists LBaaS v2 loadbalancers on the unit,,10,0
openstack%2Fironic-python-agent-builder~master~I8e892b505d39197dbfffc8d47408b4747679cc85,openstack/ironic-python-agent-builder,master,I8e892b505d39197dbfffc8d47408b4747679cc85,Remove support for iSCSI deploy from the DIB builder,MERGED,2021-09-10 13:40:45.000000000,2021-09-14 13:34:57.000000000,2021-09-14 13:33:21.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-10 13:40:45.000000000', 'files': ['dib/ironic-python-agent-ramdisk/package-installs.yaml', 'releasenotes/notes/no-iscsi-5d132e6468acab0b.yaml', 'dib/ironic-python-agent-ramdisk/pkg-map'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/001100e2e2ec9bdb04b8fdc0e0ddc285834a7033', 'message': 'Remove support for iSCSI deploy from the DIB builder\n\n... but keep support for iscsistart used by iBFT.\n\nChange-Id: I8e892b505d39197dbfffc8d47408b4747679cc85\n'}]",0,808214,001100e2e2ec9bdb04b8fdc0e0ddc285834a7033,16,3,1,10239,,,0,"Remove support for iSCSI deploy from the DIB builder

... but keep support for iscsistart used by iBFT.

Change-Id: I8e892b505d39197dbfffc8d47408b4747679cc85
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/14/808214/1 && git format-patch -1 --stdout FETCH_HEAD,"['dib/ironic-python-agent-ramdisk/package-installs.yaml', 'releasenotes/notes/no-iscsi-5d132e6468acab0b.yaml', 'dib/ironic-python-agent-ramdisk/pkg-map']",3,001100e2e2ec9bdb04b8fdc0e0ddc285834a7033,no-iscsi," ""python-dev"": ""python-devel"" ""python-dev"": ""python-devel"" ""open-iscsi"": ""iscsi-initiator-utils"", ""qemu-utils"": ""qemu-img"""," ""python-dev"": ""python-devel"", ""tgt"": ""scsi-target-utils"" ""python-dev"": ""python-devel"", ""tgt"": ""scsi-target-utils"" ""qemu-utils"": ""qemu-img"", ""tgt"": ""target-restore""",11,7
openstack%2Fmonasca-thresh~stable%2Ftrain~I5d95763c3c28d8303ad19898e985ea89dab6fb76,openstack/monasca-thresh,stable/train,I5d95763c3c28d8303ad19898e985ea89dab6fb76,Remove periodic docker publish job,MERGED,2021-07-25 17:30:07.000000000,2021-09-14 13:28:30.000000000,2021-09-14 13:28:30.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-07-25 17:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/7f473d85558f6278060b3581b6d85ee8b60c4eeb', 'message': 'Remove periodic docker publish job\n\nHas been decided that we no longer need to publish docker image base on train every day\n\nChange-Id: I5d95763c3c28d8303ad19898e985ea89dab6fb76\n'}, {'number': 2, 'created': '2021-09-13 13:10:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/e4e6efc9f96d01afc693a9924d9c322d2b9b3d90', 'message': 'Remove periodic docker publish job\n\nHas been decided that we no longer need to publish docker image base on train every day\n\nChange-Id: I5d95763c3c28d8303ad19898e985ea89dab6fb76\n'}]",0,802194,e4e6efc9f96d01afc693a9924d9c322d2b9b3d90,10,2,2,26141,,,0,"Remove periodic docker publish job

Has been decided that we no longer need to publish docker image base on train every day

Change-Id: I5d95763c3c28d8303ad19898e985ea89dab6fb76
",git fetch https://review.opendev.org/openstack/monasca-thresh refs/changes/94/802194/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7f473d85558f6278060b3581b6d85ee8b60c4eeb,zuul-remove-periodic-job,, periodic: jobs: - publish-monasca-thresh-docker-image,0,3
openstack%2Fcharm-neutron-api-plugin-ironic~master~Iaf9602da779fb8a3c408d97675f6767acc0dff13,openstack/charm-neutron-api-plugin-ironic,master,Iaf9602da779fb8a3c408d97675f6767acc0dff13,Sync release-tools and fix Zaza expectations,MERGED,2021-07-22 12:57:55.000000000,2021-09-14 13:28:09.000000000,2021-09-14 13:28:09.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-22 12:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/81b5c29fc8ca1b8c944af091179181cfa91626ca', 'message': 'Sync release-tools\n\nIn order to fix ResolutionImpossible on tox invocation.\n\nhttps://github.com/openstack-charmers/release-tools/issues/151\nhttps://github.com/openstack-charmers/release-tools/pull/152\n\nChange-Id: Iaf9602da779fb8a3c408d97675f6767acc0dff13\n'}, {'number': 2, 'created': '2021-09-14 08:15:30.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/620a4eea5ef7b4ddcb444818fd8b1624107c1e3f', 'message': ""Sync release-tools and fix Zaza expectations\n\nSync release-tools in order to fix\nResolutionImpossible on tox invocation. See:\n* https://github.com/openstack-charmers/release-tools/issues/151\n* https://github.com/openstack-charmers/release-tools/pull/152\n\nFix Zaza's expected application status after\nhttps://github.com/openstack-charmers/zaza/pull/451\n\nChange-Id: Iaf9602da779fb8a3c408d97675f6767acc0dff13\n""}]",0,801822,620a4eea5ef7b4ddcb444818fd8b1624107c1e3f,11,3,2,31289,,,0,"Sync release-tools and fix Zaza expectations

Sync release-tools in order to fix
ResolutionImpossible on tox invocation. See:
* https://github.com/openstack-charmers/release-tools/issues/151
* https://github.com/openstack-charmers/release-tools/pull/152

Fix Zaza's expected application status after
https://github.com/openstack-charmers/zaza/pull/451

Change-Id: Iaf9602da779fb8a3c408d97675f6767acc0dff13
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ironic refs/changes/22/801822/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/test-requirements.txt', 'tox.ini']",4,81b5c29fc8ca1b8c944af091179181cfa91626ca,fix-tox-pip-resolutionimpossible,deps = flake8==3.9.2 charm-tools==2.8.3,deps = -r{toxinidir}/test-requirements.txt,10,15
openstack%2Fcinder~master~I3f24313b5260a728dc98d47143ce83dba221c257,openstack/cinder,master,I3f24313b5260a728dc98d47143ce83dba221c257,db: Add initial alembic migration,MERGED,2021-04-19 16:57:34.000000000,2021-09-14 13:24:58.000000000,2021-09-14 13:21:59.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-04-19 16:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/84f873d35754e13a2f755416f563ce5d0f398fb0', 'message': ""db: Add initial alembic migration\n\nRe-implement the current base migration from sqlalchemy-migrate in\nalembic. This is almost identical, with the main changes being that\neverything is handled via alembic-provided APIs (e.g. 'create_table')\nrather than APIs that are monkey patched onto sqlalchemy resource\nclasses by sqlalchemy-migrate (e.g. 'Table.create').\n\nFor now, none of cinder's machinery actually uses this. In a future\nchange, we will start using this instead of the sqlalchemy-migrate\nmigrations for new deployments dummy apply this and simply dummy apply\nit for existing deployments.\n\nThis new migration can be compared to legacy migrations using a similar\ntechnique to that described at [1]. Unlike that example, we don't have\ndifferent versions of sqlalchemy-migrate migrations to compare here but\nrather two totally different sets of migrations. As such, some tweaks\nare needed. Consider the below connection string, which indicates we'll\nwork with an SQLite database:\n\n  DB_URL=sqlite:///cinder.db\n\nThe sqlalchemy-migrate-based migrations can be applied using either the\n'migrate' utility or the 'manage.py' script provided in the legacy\nmigrations directory ('cinder/db/sqlalchemy/legacy_migrations'). We'll\nuse the former:\n\n  $ cd cinder/db/sqlalchemy/legacy_migrations\n  $ migrate version_control --url $DB_URL --repository . --version 134\n  $ migrate upgrade --url $DB_URL --repository . 135\n\n(note: we're only applying the initial migration since other migrations\nare squashed in in a later patch)\n\nWe could presumably write a 'manage.py' equivalent for alembic but we\nwon't do so here, instead using the 'alembic' utility. This utility\ndoesn't appear to provide an easy way to override arbitrary config\noptions from the CLI, which means you must modify the 'alembic.ini'\nconfiguration file provided in the root of the migrations repo before\nrunning 'alembic':\n\n  $ cd cinder/db/sqlalchemy/migrations\n  $ crudini --set alembic.ini alembic sqlalchemy.url $DB_URL\n  $ alembic upgrade head\n\nWith this completed, you can compare the two databases. For this SQLite\nexample, we use the 'sqldiff' utility from the SQLite contributors [2]\n(available as part of 'sqlite-tools' on Fedora):\n\n  $ cd cinder/db/sqlalchemy\n  $ sqldiff --schema ../legacy_migrations/cinder.db cinder.db\n  CREATE TABLE alembic_version (\n          version_num VARCHAR(32) NOT NULL,\n          CONSTRAINT alembic_version_pkc PRIMARY KEY (version_num)\n  );\n  DROP TABLE migrate_version;\n\nFrom this we can see that we've added a new 'alembic_version' table and\ndropped the legacy 'migrate_version'. If we dropped the '--schema' flag\nfrom the command then we'd also see some timestamp differences for the\ndefault entries in some tables, but no more.\n\n[1] https://that.guru/blog/comparing-nova-db-migrations/\n[2] https://sqlite.org/sqldiff.html\n\nChange-Id: I3f24313b5260a728dc98d47143ce83dba221c257\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-04-20 16:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/50b60ef4109ae891205639a38638adb1c0d54ef0', 'message': ""db: Add initial alembic migration\n\nRe-implement the current base migration from sqlalchemy-migrate in\nalembic. This is almost identical, with the main changes being that\neverything is handled via alembic-provided APIs (e.g. 'create_table')\nrather than APIs that are monkey patched onto sqlalchemy resource\nclasses by sqlalchemy-migrate (e.g. 'Table.create').\n\nFor now, none of cinder's machinery actually uses this. In a future\nchange, we will start using this instead of the sqlalchemy-migrate\nmigrations for new deployments dummy apply this and simply dummy apply\nit for existing deployments.\n\nThis new migration can be compared to legacy migrations using a similar\ntechnique to that described at [1]. Unlike that example, we don't have\ndifferent versions of sqlalchemy-migrate migrations to compare here but\nrather two totally different sets of migrations. As such, some tweaks\nare needed. Consider the below connection string, which indicates we'll\nwork with an SQLite database:\n\n  DB_URL=sqlite:///cinder.db\n\nThe sqlalchemy-migrate-based migrations can be applied using either the\n'migrate' utility or the 'manage.py' script provided in the legacy\nmigrations directory ('cinder/db/sqlalchemy/legacy_migrations'). We'll\nuse the former:\n\n  $ cd cinder/db/sqlalchemy/legacy_migrations\n  $ migrate version_control --url $DB_URL --repository . --version 134\n  $ migrate upgrade --url $DB_URL --repository . 135\n\n(note: we're only applying the initial migration since other migrations\nare squashed in in a later patch)\n\nWe could presumably write a 'manage.py' equivalent for alembic but we\nwon't do so here, instead using the 'alembic' utility. This utility\ndoesn't appear to provide an easy way to override arbitrary config\noptions from the CLI, which means you must modify the 'alembic.ini'\nconfiguration file provided in the root of the migrations repo before\nrunning 'alembic':\n\n  $ cd cinder/db/sqlalchemy/migrations\n  $ crudini --set alembic.ini alembic sqlalchemy.url $DB_URL\n  $ alembic upgrade head\n\nWith this completed, you can compare the two databases. For this SQLite\nexample, we use the 'sqldiff' utility from the SQLite contributors [2]\n(available as part of 'sqlite-tools' on Fedora):\n\n  $ cd cinder/db/sqlalchemy\n  $ sqldiff --schema ../legacy_migrations/cinder.db cinder.db\n  CREATE TABLE alembic_version (\n          version_num VARCHAR(32) NOT NULL,\n          CONSTRAINT alembic_version_pkc PRIMARY KEY (version_num)\n  );\n  DROP TABLE migrate_version;\n\nFrom this we can see that we've added a new 'alembic_version' table and\ndropped the legacy 'migrate_version'. If we dropped the '--schema' flag\nfrom the command then we'd also see some timestamp differences for the\ndefault entries in some tables, but no more.\n\n[1] https://that.guru/blog/comparing-nova-db-migrations/\n[2] https://sqlite.org/sqldiff.html\n\nChange-Id: I3f24313b5260a728dc98d47143ce83dba221c257\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-07-13 17:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f850296153f9316e4fe4d7fd293405b3d6887400', 'message': ""db: Add initial alembic migration\n\nRe-implement the current base migration from sqlalchemy-migrate in\nalembic. This is almost identical, with the main changes being that\neverything is handled via alembic-provided APIs (e.g. 'create_table')\nrather than APIs that are monkey patched onto sqlalchemy resource\nclasses by sqlalchemy-migrate (e.g. 'Table.create').\n\nFor now, none of cinder's machinery actually uses this. In a future\nchange, we will start using this instead of the sqlalchemy-migrate\nmigrations for new deployments dummy apply this and simply dummy apply\nit for existing deployments.\n\nThis new migration can be compared to legacy migrations using a similar\ntechnique to that described at [1]. Unlike that example, we don't have\ndifferent versions of sqlalchemy-migrate migrations to compare here but\nrather two totally different sets of migrations. As such, some tweaks\nare needed. Consider the below connection string, which indicates we'll\nwork with an SQLite database:\n\n  DB_URL=sqlite:///cinder.db\n\nThe sqlalchemy-migrate-based migrations can be applied using either the\n'migrate' utility or the 'manage.py' script provided in the legacy\nmigrations directory ('cinder/db/sqlalchemy/legacy_migrations'). We'll\nuse the former:\n\n  $ cd cinder/db/sqlalchemy/legacy_migrations\n  $ migrate version_control --url $DB_URL --repository . --version 134\n  $ migrate upgrade --url $DB_URL --repository . 135\n\n(note: we're only applying the initial migration since other migrations\nare squashed in in a later patch)\n\nWe could presumably write a 'manage.py' equivalent for alembic but we\nwon't do so here, instead using the 'alembic' utility. This utility\ndoesn't appear to provide an easy way to override arbitrary config\noptions from the CLI, which means you must modify the 'alembic.ini'\nconfiguration file provided in the root of the migrations repo before\nrunning 'alembic':\n\n  $ cd cinder/db/sqlalchemy/migrations\n  $ crudini --set alembic.ini alembic sqlalchemy.url $DB_URL\n  $ alembic upgrade head\n\nWith this completed, you can compare the two databases. For this SQLite\nexample, we use the 'sqldiff' utility from the SQLite contributors [2]\n(available as part of 'sqlite-tools' on Fedora):\n\n  $ cd cinder/db/sqlalchemy\n  $ sqldiff --schema ../legacy_migrations/cinder.db cinder.db\n  CREATE TABLE alembic_version (\n          version_num VARCHAR(32) NOT NULL,\n          CONSTRAINT alembic_version_pkc PRIMARY KEY (version_num)\n  );\n  DROP TABLE migrate_version;\n\nFrom this we can see that we've added a new 'alembic_version' table and\ndropped the legacy 'migrate_version'. If we dropped the '--schema' flag\nfrom the command then we'd also see some timestamp differences for the\ndefault entries in some tables, but no more.\n\n[1] https://that.guru/blog/comparing-nova-db-migrations/\n[2] https://sqlite.org/sqldiff.html\n\nChange-Id: I3f24313b5260a728dc98d47143ce83dba221c257\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-07-14 10:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/656b431a3e43fbe3214c0b6c457c1c79e60c00d7', 'message': ""db: Add initial alembic migration\n\nRe-implement the current base migration from sqlalchemy-migrate in\nalembic. This is almost identical, with the main changes being that\neverything is handled via alembic-provided APIs (e.g. 'create_table')\nrather than APIs that are monkey patched onto sqlalchemy resource\nclasses by sqlalchemy-migrate (e.g. 'Table.create').\n\nFor now, none of cinder's machinery actually uses this. In a future\nchange, we will start using this instead of the sqlalchemy-migrate\nmigrations for new deployments dummy apply this and simply dummy apply\nit for existing deployments.\n\nThis new migration can be compared to legacy migrations using a similar\ntechnique to that described at [1]. Unlike that example, we don't have\ndifferent versions of sqlalchemy-migrate migrations to compare here but\nrather two totally different sets of migrations. As such, some tweaks\nare needed. Consider the below connection string, which indicates we'll\nwork with an SQLite database:\n\n  DB_URL=sqlite:///cinder.db\n\nThe sqlalchemy-migrate-based migrations can be applied using either the\n'migrate' utility or the 'manage.py' script provided in the legacy\nmigrations directory ('cinder/db/sqlalchemy/legacy_migrations'). We'll\nuse the former:\n\n  $ cd cinder/db/sqlalchemy/legacy_migrations\n  $ migrate version_control --url $DB_URL --repository . --version 134\n  $ migrate upgrade --url $DB_URL --repository . 135\n\n(note: we're only applying the initial migration since other migrations\nare squashed in in a later patch)\n\nWe could presumably write a 'manage.py' equivalent for alembic but we\nwon't do so here, instead using the 'alembic' utility. This utility\ndoesn't appear to provide an easy way to override arbitrary config\noptions from the CLI, which means you must modify the 'alembic.ini'\nconfiguration file provided in the root of the migrations repo before\nrunning 'alembic':\n\n  $ cd cinder/db/sqlalchemy/migrations\n  $ crudini --set alembic.ini alembic sqlalchemy.url $DB_URL\n  $ alembic upgrade head\n\nWith this completed, you can compare the two databases. For this SQLite\nexample, we use the 'sqldiff' utility from the SQLite contributors [2]\n(available as part of 'sqlite-tools' on Fedora):\n\n  $ cd cinder/db/sqlalchemy\n  $ sqldiff --schema ../legacy_migrations/cinder.db cinder.db\n  CREATE TABLE alembic_version (\n          version_num VARCHAR(32) NOT NULL,\n          CONSTRAINT alembic_version_pkc PRIMARY KEY (version_num)\n  );\n  DROP TABLE migrate_version;\n\nFrom this we can see that we've added a new 'alembic_version' table and\ndropped the legacy 'migrate_version'. If we dropped the '--schema' flag\nfrom the command then we'd also see some timestamp differences for the\ndefault entries in some tables, but no more.\n\n[1] https://that.guru/blog/comparing-nova-db-migrations/\n[2] https://sqlite.org/sqldiff.html\n\nChange-Id: I3f24313b5260a728dc98d47143ce83dba221c257\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-07-16 17:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/39095dfc690591701eb72f49739d0281d3a35dc5', 'message': ""db: Add initial alembic migration\n\nRe-implement the current base migration from sqlalchemy-migrate in\nalembic. This is almost identical, with the main changes being that\neverything is handled via alembic-provided APIs (e.g. 'create_table')\nrather than APIs that are monkey patched onto sqlalchemy resource\nclasses by sqlalchemy-migrate (e.g. 'Table.create').\n\nFor now, none of cinder's machinery actually uses this. In a future\nchange, we will start using this instead of the sqlalchemy-migrate\nmigrations for new deployments dummy apply this and simply dummy apply\nit for existing deployments.\n\nThis new migration can be compared to legacy migrations using a similar\ntechnique to that described at [1]. Unlike that example, we don't have\ndifferent versions of sqlalchemy-migrate migrations to compare here but\nrather two totally different sets of migrations. As such, some tweaks\nare needed. Consider the below connection string, which indicates we'll\nwork with an SQLite database:\n\n  DB_URL=sqlite:///cinder.db\n\nThe sqlalchemy-migrate-based migrations can be applied using either the\n'migrate' utility or the 'manage.py' script provided in the legacy\nmigrations directory ('cinder/db/sqlalchemy/legacy_migrations'). We'll\nuse the former:\n\n  $ cd cinder/db/sqlalchemy/legacy_migrations\n  $ migrate version_control --url $DB_URL --repository . --version 134\n  $ migrate upgrade --url $DB_URL --repository . 135\n\n(note: we're only applying the initial migration since other migrations\nare squashed in in a later patch)\n\nWe could presumably write a 'manage.py' equivalent for alembic but we\nwon't do so here, instead using the 'alembic' utility. This utility\ndoesn't appear to provide an easy way to override arbitrary config\noptions from the CLI, which means you must modify the 'alembic.ini'\nconfiguration file provided in the root of the migrations repo before\nrunning 'alembic':\n\n  $ cd cinder/db/sqlalchemy/migrations\n  $ crudini --set alembic.ini alembic sqlalchemy.url $DB_URL\n  $ alembic upgrade head\n\nWith this completed, you can compare the two databases. For this SQLite\nexample, we use the 'sqldiff' utility from the SQLite contributors [2]\n(available as part of 'sqlite-tools' on Fedora):\n\n  $ cd cinder/db/sqlalchemy\n  $ sqldiff --schema ../legacy_migrations/cinder.db cinder.db\n  CREATE TABLE alembic_version (\n          version_num VARCHAR(32) NOT NULL,\n          CONSTRAINT alembic_version_pkc PRIMARY KEY (version_num)\n  );\n  DROP TABLE migrate_version;\n\nFrom this we can see that we've added a new 'alembic_version' table and\ndropped the legacy 'migrate_version'. If we dropped the '--schema' flag\nfrom the command then we'd also see some timestamp differences for the\ndefault entries in some tables, but no more.\n\n[1] https://that.guru/blog/comparing-nova-db-migrations/\n[2] https://sqlite.org/sqldiff.html\n\nChange-Id: I3f24313b5260a728dc98d47143ce83dba221c257\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-08-27 14:13:38.000000000', 'files': ['cinder/db/migrations/versions/921e1a36b076_initial.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a38b3546c8621b13f79ea25ff1230f06f2e8f7ed', 'message': ""db: Add initial alembic migration\n\nRe-implement the current base migration from sqlalchemy-migrate in\nalembic. This is almost identical, with the main changes being that\neverything is handled via alembic-provided APIs (e.g. 'create_table')\nrather than APIs that are monkey patched onto sqlalchemy resource\nclasses by sqlalchemy-migrate (e.g. 'Table.create'). Reviewers are\nencouraged to diff the old migration file,\n'cinder/db/migrations/versions/921e1a36b076_initial.py', against the new\none, 'cinder/db/legacy_migrations/versions/135_cinder_init.py'.\n\nFor now, none of cinder's machinery actually uses this. In a future\nchange, we will start using this instead of the sqlalchemy-migrate\nmigrations for new deployments dummy apply this and simply dummy apply\nit for existing deployments.\n\nThis new migration can be compared to legacy migrations using a similar\ntechnique to that described at [1]. Unlike that example, we don't have\ndifferent versions of sqlalchemy-migrate migrations to compare here but\nrather two totally different sets of migrations. As such, some tweaks\nare needed. Consider the below connection string, which indicates we'll\nwork with an SQLite database:\n\n  DB_URL=sqlite:///cinder.db\n\nThe sqlalchemy-migrate-based migrations can be applied using either the\n'migrate' utility or the 'manage.py' script provided in the legacy\nmigrations directory ('cinder/db/sqlalchemy/legacy_migrations'). We'll\nuse the former:\n\n  $ cd cinder/db/sqlalchemy/legacy_migrations\n  $ migrate version_control --url $DB_URL --repository . --version 134\n  $ migrate upgrade --url $DB_URL --repository . 135\n\n(note: we're only applying the initial migration since other migrations\nare squashed in in a later patch)\n\nWe could presumably write a 'manage.py' equivalent for alembic but we\nwon't do so here, instead using the 'alembic' utility. This utility\ndoesn't appear to provide an easy way to override arbitrary config\noptions from the CLI, which means you must modify the 'alembic.ini'\nconfiguration file provided in the root of the migrations repo before\nrunning 'alembic':\n\n  $ cd cinder/db/sqlalchemy/migrations\n  $ crudini --set alembic.ini alembic sqlalchemy.url $DB_URL\n  $ alembic upgrade head\n\nWith this completed, you can compare the two databases. For this SQLite\nexample, we use the 'sqldiff' utility from the SQLite contributors [2]\n(available as part of 'sqlite-tools' on Fedora):\n\n  $ cd cinder/db/sqlalchemy\n  $ sqldiff --schema ../legacy_migrations/cinder.db cinder.db\n  CREATE TABLE alembic_version (\n          version_num VARCHAR(32) NOT NULL,\n          CONSTRAINT alembic_version_pkc PRIMARY KEY (version_num)\n  );\n  DROP TABLE migrate_version;\n\nFrom this we can see that we've added a new 'alembic_version' table and\ndropped the legacy 'migrate_version'. If we dropped the '--schema' flag\nfrom the command then we'd also see some timestamp differences for the\ndefault entries in some tables, but no more.\n\n[1] https://that.guru/blog/comparing-nova-db-migrations/\n[2] https://sqlite.org/sqldiff.html\n\nChange-Id: I3f24313b5260a728dc98d47143ce83dba221c257\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,786931,a38b3546c8621b13f79ea25ff1230f06f2e8f7ed,131,4,6,15334,,,0,"db: Add initial alembic migration

Re-implement the current base migration from sqlalchemy-migrate in
alembic. This is almost identical, with the main changes being that
everything is handled via alembic-provided APIs (e.g. 'create_table')
rather than APIs that are monkey patched onto sqlalchemy resource
classes by sqlalchemy-migrate (e.g. 'Table.create'). Reviewers are
encouraged to diff the old migration file,
'cinder/db/migrations/versions/921e1a36b076_initial.py', against the new
one, 'cinder/db/legacy_migrations/versions/135_cinder_init.py'.

For now, none of cinder's machinery actually uses this. In a future
change, we will start using this instead of the sqlalchemy-migrate
migrations for new deployments dummy apply this and simply dummy apply
it for existing deployments.

This new migration can be compared to legacy migrations using a similar
technique to that described at [1]. Unlike that example, we don't have
different versions of sqlalchemy-migrate migrations to compare here but
rather two totally different sets of migrations. As such, some tweaks
are needed. Consider the below connection string, which indicates we'll
work with an SQLite database:

  DB_URL=sqlite:///cinder.db

The sqlalchemy-migrate-based migrations can be applied using either the
'migrate' utility or the 'manage.py' script provided in the legacy
migrations directory ('cinder/db/sqlalchemy/legacy_migrations'). We'll
use the former:

  $ cd cinder/db/sqlalchemy/legacy_migrations
  $ migrate version_control --url $DB_URL --repository . --version 134
  $ migrate upgrade --url $DB_URL --repository . 135

(note: we're only applying the initial migration since other migrations
are squashed in in a later patch)

We could presumably write a 'manage.py' equivalent for alembic but we
won't do so here, instead using the 'alembic' utility. This utility
doesn't appear to provide an easy way to override arbitrary config
options from the CLI, which means you must modify the 'alembic.ini'
configuration file provided in the root of the migrations repo before
running 'alembic':

  $ cd cinder/db/sqlalchemy/migrations
  $ crudini --set alembic.ini alembic sqlalchemy.url $DB_URL
  $ alembic upgrade head

With this completed, you can compare the two databases. For this SQLite
example, we use the 'sqldiff' utility from the SQLite contributors [2]
(available as part of 'sqlite-tools' on Fedora):

  $ cd cinder/db/sqlalchemy
  $ sqldiff --schema ../legacy_migrations/cinder.db cinder.db
  CREATE TABLE alembic_version (
          version_num VARCHAR(32) NOT NULL,
          CONSTRAINT alembic_version_pkc PRIMARY KEY (version_num)
  );
  DROP TABLE migrate_version;

From this we can see that we've added a new 'alembic_version' table and
dropped the legacy 'migrate_version'. If we dropped the '--schema' flag
from the command then we'd also see some timestamp differences for the
default entries in some tables, but no more.

[1] https://that.guru/blog/comparing-nova-db-migrations/
[2] https://sqlite.org/sqldiff.html

Change-Id: I3f24313b5260a728dc98d47143ce83dba221c257
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/786931/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/migrations/versions/921e1a36b076_initial.py'],1,84f873d35754e13a2f755416f563ce5d0f398fb0,bp/remove-sqlalchemy-migrate,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Initial migration. Revision ID: 921e1a36b076 Revises: Create Date: 2020-11-02 11:27:29.952490 """""" import datetime import uuid from alembic import op from oslo_config import cfg from oslo_utils import timeutils import sqlalchemy as sa from sqlalchemy.dialects import mysql from sqlalchemy.sql import expression from cinder.volume import group_types as volume_group_types from cinder.volume import volume_types # revision identifiers, used by Alembic. revision = '921e1a36b076' down_revision = None branch_labels = None depends_on = None # Get default values via config. The defaults will either # come from the default values set in the quota option # configuration or via cinder.conf if the user has configured # default values for quotas there. CONF = cfg.CONF CONF.import_opt('quota_volumes', 'cinder.quota') CONF.import_opt('quota_snapshots', 'cinder.quota') CONF.import_opt('quota_gigabytes', 'cinder.quota') CONF.import_opt('quota_consistencygroups', 'cinder.quota') CLASS_NAME = 'default' CREATED_AT = datetime.datetime.now() # noqa def upgrade(): connection = op.get_bind() op.create_table( 'services', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('deleted_at', sa.DateTime), sa.Column('deleted', sa.Boolean), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('host', sa.String(255)), sa.Column('binary', sa.String(255)), sa.Column('topic', sa.String(255)), sa.Column('report_count', sa.Integer, nullable=False), sa.Column('disabled', sa.Boolean), sa.Column('availability_zone', sa.String(255)), sa.Column('disabled_reason', sa.String(255)), sa.Column('modified_at', sa.DateTime(timezone=False)), sa.Column('rpc_current_version', sa.String(36)), sa.Column('object_current_version', sa.String(36)), sa.Column('replication_status', sa.String(36), default='not-capable'), sa.Column('frozen', sa.Boolean, default=False), sa.Column('active_backend_id', sa.String(255)), sa.Column('cluster_name', sa.String(255), nullable=True), sa.Column('uuid', sa.String(36), nullable=True), sa.Index('services_uuid_idx', 'uuid', unique=True), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'consistencygroups', sa.Column('created_at', sa.DateTime(timezone=False)), sa.Column('updated_at', sa.DateTime(timezone=False)), sa.Column('deleted_at', sa.DateTime(timezone=False)), sa.Column('deleted', sa.Boolean(create_constraint=True, name=None)), sa.Column('id', sa.String(36), primary_key=True, nullable=False), sa.Column('user_id', sa.String(255)), sa.Column('project_id', sa.String(255)), sa.Column('host', sa.String(255)), sa.Column('availability_zone', sa.String(255)), sa.Column('name', sa.String(255)), sa.Column('description', sa.String(255)), sa.Column('volume_type_id', sa.String(255)), sa.Column('status', sa.String(255)), sa.Column('cgsnapshot_id', sa.String(36)), sa.Column('source_cgid', sa.String(36)), sa.Column('cluster_name', sa.String(255), nullable=True), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'cgsnapshots', sa.Column('created_at', sa.DateTime(timezone=False)), sa.Column('updated_at', sa.DateTime(timezone=False)), sa.Column('deleted_at', sa.DateTime(timezone=False)), sa.Column('deleted', sa.Boolean(create_constraint=True, name=None)), sa.Column('id', sa.String(36), primary_key=True, nullable=False), sa.Column( 'consistencygroup_id', sa.String(36), sa.ForeignKey('consistencygroups.id'), nullable=False, index=True, ), sa.Column('user_id', sa.String(255)), sa.Column('project_id', sa.String(255)), sa.Column('name', sa.String(255)), sa.Column('description', sa.String(255)), sa.Column('status', sa.String(255)), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'groups', sa.Column('created_at', sa.DateTime(timezone=False)), sa.Column('updated_at', sa.DateTime(timezone=False)), sa.Column('deleted_at', sa.DateTime(timezone=False)), sa.Column('deleted', sa.Boolean), sa.Column('id', sa.String(36), primary_key=True, nullable=False), sa.Column('user_id', sa.String(length=255)), sa.Column('project_id', sa.String(length=255)), sa.Column('cluster_name', sa.String(255)), sa.Column('host', sa.String(length=255)), sa.Column('availability_zone', sa.String(length=255)), sa.Column('name', sa.String(length=255)), sa.Column('description', sa.String(length=255)), sa.Column('group_type_id', sa.String(length=36)), sa.Column('status', sa.String(length=255)), sa.Column('group_snapshot_id', sa.String(36)), sa.Column('source_group_id', sa.String(36)), sa.Column('replication_status', sa.String(255)), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'group_snapshots', sa.Column('created_at', sa.DateTime(timezone=False)), sa.Column('updated_at', sa.DateTime(timezone=False)), sa.Column('deleted_at', sa.DateTime(timezone=False)), sa.Column('deleted', sa.Boolean(create_constraint=True, name=None)), sa.Column('id', sa.String(36), primary_key=True), sa.Column( 'group_id', sa.String(36), sa.ForeignKey('groups.id'), nullable=False, index=True, ), sa.Column('user_id', sa.String(length=255)), sa.Column('project_id', sa.String(length=255)), sa.Column('name', sa.String(length=255)), sa.Column('description', sa.String(length=255)), sa.Column('status', sa.String(length=255)), sa.Column('group_type_id', sa.String(length=36)), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'volumes', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('deleted_at', sa.DateTime), sa.Column('deleted', sa.Boolean), sa.Column('id', sa.String(36), primary_key=True, nullable=False), sa.Column('ec2_id', sa.String(255)), sa.Column('user_id', sa.String(255)), sa.Column('project_id', sa.String(255)), sa.Column('host', sa.String(255)), sa.Column('size', sa.Integer), sa.Column('availability_zone', sa.String(255)), sa.Column('status', sa.String(255)), sa.Column('attach_status', sa.String(255)), sa.Column('scheduled_at', sa.DateTime), sa.Column('launched_at', sa.DateTime), sa.Column('terminated_at', sa.DateTime), sa.Column('display_name', sa.String(255)), sa.Column('display_description', sa.String(255)), sa.Column('provider_location', sa.String(256)), sa.Column('provider_auth', sa.String(256)), sa.Column('snapshot_id', sa.String(36)), sa.Column('volume_type_id', sa.String(36)), sa.Column('source_volid', sa.String(36)), sa.Column('bootable', sa.Boolean), sa.Column('provider_geometry', sa.String(255)), sa.Column('_name_id', sa.String(36)), sa.Column('encryption_key_id', sa.String(36)), sa.Column('migration_status', sa.String(255)), sa.Column('replication_status', sa.String(255)), sa.Column('replication_extended_status', sa.String(255)), sa.Column('replication_driver_data', sa.String(255)), sa.Column( 'consistencygroup_id', sa.String(36), sa.ForeignKey('consistencygroups.id'), index=True, ), sa.Column('provider_id', sa.String(255)), sa.Column('multiattach', sa.Boolean), sa.Column('previous_status', sa.String(255)), sa.Column('cluster_name', sa.String(255), nullable=True), sa.Column( 'group_id', sa.String(36), sa.ForeignKey('groups.id'), index=True ), sa.Column( 'service_uuid', sa.String(36), sa.ForeignKey('services.uuid'), nullable=True, ), sa.Column('shared_targets', sa.Boolean, default=True), sa.Index('volumes_service_uuid_idx', 'service_uuid', 'deleted'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'volume_attachment', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('deleted_at', sa.DateTime), sa.Column('deleted', sa.Boolean), sa.Column('id', sa.String(36), primary_key=True, nullable=False), sa.Column( 'volume_id', sa.String(36), sa.ForeignKey('volumes.id'), nullable=False, index=True, ), sa.Column('attached_host', sa.String(255)), sa.Column('instance_uuid', sa.String(36)), sa.Column('mountpoint', sa.String(255)), sa.Column('attach_time', sa.DateTime), sa.Column('detach_time', sa.DateTime), sa.Column('attach_mode', sa.String(36)), sa.Column('attach_status', sa.String(255)), sa.Column('connection_info', sa.Text), sa.Column('connector', sa.Text), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'attachment_specs', sa.Column('created_at', sa.DateTime(timezone=False)), sa.Column('updated_at', sa.DateTime(timezone=False)), sa.Column('deleted_at', sa.DateTime(timezone=False)), sa.Column('deleted', sa.Boolean(), default=False), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column( 'attachment_id', sa.String(36), sa.ForeignKey('volume_attachment.id'), nullable=False, index=True, ), sa.Column('key', sa.String(255)), sa.Column('value', sa.String(255)), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'snapshots', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('deleted_at', sa.DateTime), sa.Column('deleted', sa.Boolean), sa.Column('id', sa.String(36), primary_key=True, nullable=False), sa.Column( 'volume_id', sa.String(36), sa.ForeignKey('volumes.id', name='snapshots_volume_id_fkey'), nullable=False, index=True, ), sa.Column('user_id', sa.String(255)), sa.Column('project_id', sa.String(255)), sa.Column('status', sa.String(255)), sa.Column('progress', sa.String(255)), sa.Column('volume_size', sa.Integer), sa.Column('scheduled_at', sa.DateTime), sa.Column('display_name', sa.String(255)), sa.Column('display_description', sa.String(255)), sa.Column('provider_location', sa.String(255)), sa.Column('encryption_key_id', sa.String(36)), sa.Column('volume_type_id', sa.String(36)), sa.Column( 'cgsnapshot_id', sa.String(36), sa.ForeignKey('cgsnapshots.id'), index=True, ), sa.Column('provider_id', sa.String(255)), sa.Column('provider_auth', sa.String(255)), sa.Column( 'group_snapshot_id', sa.String(36), sa.ForeignKey('group_snapshots.id'), index=True, ), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'snapshot_metadata', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('deleted_at', sa.DateTime), sa.Column('deleted', sa.Boolean), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column( 'snapshot_id', sa.String(36), sa.ForeignKey('snapshots.id'), nullable=False, index=True, ), sa.Column('key', sa.String(255)), sa.Column('value', sa.String(255)), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'quality_of_service_specs', sa.Column('created_at', sa.DateTime(timezone=False)), sa.Column('updated_at', sa.DateTime(timezone=False)), sa.Column('deleted_at', sa.DateTime(timezone=False)), sa.Column('deleted', sa.Boolean(create_constraint=True, name=None)), sa.Column('id', sa.String(36), primary_key=True, nullable=False), sa.Column( 'specs_id', sa.String(36), sa.ForeignKey('quality_of_service_specs.id'), index=True, ), sa.Column('key', sa.String(255)), sa.Column('value', sa.String(255)), mysql_engine='InnoDB', mysql_charset='utf8', ) volume_types_table = op.create_table( 'volume_types', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('deleted_at', sa.DateTime), sa.Column('deleted', sa.Boolean), sa.Column('id', sa.String(36), primary_key=True, nullable=False), sa.Column('name', sa.String(255)), sa.Column( 'qos_specs_id', sa.String(36), sa.ForeignKey('quality_of_service_specs.id'), index=True, ), sa.Column('is_public', sa.Boolean), sa.Column('description', sa.String(255)), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'volume_type_projects', sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('deleted_at', sa.DateTime), sa.Column( 'volume_type_id', sa.String(36), sa.ForeignKey('volume_types.id') ), sa.Column('project_id', sa.String(255)), sa.Column('deleted', sa.Integer), sa.UniqueConstraint('volume_type_id', 'project_id', 'deleted'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'volume_metadata', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('deleted_at', sa.DateTime), sa.Column('deleted', sa.Boolean), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column( 'volume_id', sa.String(36), sa.ForeignKey('volumes.id'), nullable=False, index=True, ), sa.Column('key', sa.String(255)), sa.Column('value', sa.String(255)), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'volume_type_extra_specs', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('deleted_at', sa.DateTime), sa.Column('deleted', sa.Boolean), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column( 'volume_type_id', sa.String(36), sa.ForeignKey( 'volume_types.id', name='volume_type_extra_specs_ibfk_1' ), nullable=False, index=True, ), sa.Column('key', sa.String(255)), sa.Column('value', sa.String(255)), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'quotas', sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('deleted_at', sa.DateTime), sa.Column('deleted', sa.Boolean), sa.Column('project_id', sa.String(255)), sa.Column('resource', sa.String(255), nullable=False), sa.Column('hard_limit', sa.Integer), sa.Column('allocated', sa.Integer, default=0), mysql_engine='InnoDB', mysql_charset='utf8', ) quota_classes_table = op.create_table( 'quota_classes', sa.Column('created_at', sa.DateTime(timezone=False)), sa.Column('updated_at', sa.DateTime(timezone=False)), sa.Column('deleted_at', sa.DateTime(timezone=False)), sa.Column('deleted', sa.Boolean(create_constraint=True, name=None)), sa.Column('id', sa.Integer(), primary_key=True), sa.Column('class_name', sa.String(255), index=True), sa.Column('resource', sa.String(255)), sa.Column('hard_limit', sa.Integer(), nullable=True), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'quota_usages', sa.Column('created_at', sa.DateTime(timezone=False)), sa.Column('updated_at', sa.DateTime(timezone=False)), sa.Column('deleted_at', sa.DateTime(timezone=False)), sa.Column('deleted', sa.Boolean(create_constraint=True, name=None)), sa.Column('id', sa.Integer(), primary_key=True), sa.Column('project_id', sa.String(255), index=True), sa.Column('resource', sa.String(255)), sa.Column('in_use', sa.Integer(), nullable=False), sa.Column('reserved', sa.Integer(), nullable=False), sa.Column('until_refresh', sa.Integer(), nullable=True), sa.Index('quota_usage_project_resource_idx', 'project_id', 'resource'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'reservations', sa.Column('created_at', sa.DateTime(timezone=False)), sa.Column('updated_at', sa.DateTime(timezone=False)), sa.Column('deleted_at', sa.DateTime(timezone=False)), sa.Column('deleted', sa.Boolean(create_constraint=True, name=None)), sa.Column('id', sa.Integer(), primary_key=True), sa.Column('uuid', sa.String(36), nullable=False), sa.Column( 'usage_id', sa.Integer(), sa.ForeignKey('quota_usages.id'), nullable=True, index=True, ), sa.Column('project_id', sa.String(255), index=True), sa.Column('resource', sa.String(255)), sa.Column('delta', sa.Integer(), nullable=False), sa.Column('expire', sa.DateTime(timezone=False)), sa.Column( 'allocated_id', sa.Integer, sa.ForeignKey('quotas.id'), nullable=True, index=True, ), sa.Index('reservations_deleted_expire_idx', 'deleted', 'expire'), sa.Index('reservations_deleted_uuid_idx', 'deleted', 'uuid'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'volume_glance_metadata', sa.Column('created_at', sa.DateTime(timezone=False)), sa.Column('updated_at', sa.DateTime(timezone=False)), sa.Column('deleted_at', sa.DateTime(timezone=False)), sa.Column('deleted', sa.Boolean(create_constraint=True, name=None)), sa.Column('id', sa.Integer(), primary_key=True, nullable=False), sa.Column( 'volume_id', sa.String(36), sa.ForeignKey('volumes.id'), index=True ), sa.Column( 'snapshot_id', sa.String(36), sa.ForeignKey('snapshots.id'), index=True, ), sa.Column('key', sa.String(255)), sa.Column('value', sa.Text), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'backups', sa.Column('created_at', sa.DateTime(timezone=False)), sa.Column('updated_at', sa.DateTime(timezone=False)), sa.Column('deleted_at', sa.DateTime(timezone=False)), sa.Column('deleted', sa.Boolean(create_constraint=True, name=None)), sa.Column('id', sa.String(36), primary_key=True, nullable=False), sa.Column('volume_id', sa.String(36), nullable=False), sa.Column('user_id', sa.String(255)), sa.Column('project_id', sa.String(255)), sa.Column('host', sa.String(255)), sa.Column('availability_zone', sa.String(255)), sa.Column('display_name', sa.String(255)), sa.Column('display_description', sa.String(255)), sa.Column('container', sa.String(255)), sa.Column('status', sa.String(255)), sa.Column('fail_reason', sa.String(255)), sa.Column('service_metadata', sa.String(255)), sa.Column('service', sa.String(255)), sa.Column('size', sa.Integer()), sa.Column('object_count', sa.Integer()), sa.Column('parent_id', sa.String(36)), sa.Column('temp_volume_id', sa.String(36)), sa.Column('temp_snapshot_id', sa.String(36)), sa.Column('num_dependent_backups', sa.Integer, default=0), sa.Column('snapshot_id', sa.String(36)), sa.Column('data_timestamp', sa.DateTime), sa.Column('restore_volume_id', sa.String(36)), sa.Column('encryption_key_id', sa.String(36)), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'backup_metadata', sa.Column('created_at', sa.DateTime(timezone=False)), sa.Column('updated_at', sa.DateTime(timezone=False)), sa.Column('deleted_at', sa.DateTime(timezone=False)), sa.Column('deleted', sa.Boolean(), default=False), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column( 'backup_id', sa.String(36), sa.ForeignKey('backups.id'), nullable=False, index=True, ), sa.Column('key', sa.String(255)), sa.Column('value', sa.String(255)), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'transfers', sa.Column('created_at', sa.DateTime(timezone=False)), sa.Column('updated_at', sa.DateTime(timezone=False)), sa.Column('deleted_at', sa.DateTime(timezone=False)), sa.Column('deleted', sa.Boolean), sa.Column('id', sa.String(36), primary_key=True, nullable=False), sa.Column( 'volume_id', sa.String(36), sa.ForeignKey('volumes.id'), nullable=False, index=True, ), sa.Column('display_name', sa.String(255)), sa.Column('salt', sa.String(255)), sa.Column('crypt_hash', sa.String(255)), sa.Column('expires_at', sa.DateTime(timezone=False)), sa.Column('no_snapshots', sa.Boolean, default=False), sa.Column('source_project_id', sa.String(255), nullable=True), sa.Column('destination_project_id', sa.String(255), nullable=True), sa.Column('accepted', sa.Boolean, default=False), mysql_engine='InnoDB', mysql_charset='utf8', ) # Sqlite needs to handle nullable differently is_nullable = connection.engine.name == 'sqlite' op.create_table( 'encryption', sa.Column('created_at', sa.DateTime(timezone=False)), sa.Column('updated_at', sa.DateTime(timezone=False)), sa.Column('deleted_at', sa.DateTime(timezone=False)), sa.Column('deleted', sa.Boolean(create_constraint=True, name=None)), sa.Column('cipher', sa.String(255)), sa.Column('control_location', sa.String(255), nullable=is_nullable), sa.Column('key_size', sa.Integer), sa.Column('provider', sa.String(255), nullable=is_nullable), # NOTE(joel-coffman): The volume_type_id must be unique or else the # referenced volume type becomes ambiguous. That is, specifying the # volume type is not sufficient to identify a particular encryption # scheme unless each volume type is associated with at most one # encryption scheme. sa.Column('volume_type_id', sa.String(36), nullable=is_nullable), # NOTE (smcginnis): nullable=True triggers this to not set a default # value, but since it's a primary key the resulting schema will end up # still being NOT NULL. This is avoiding a case in MySQL where it will # otherwise set this to NOT NULL DEFAULT ''. May be harmless, but # inconsistent with previous schema. sa.Column( 'encryption_id', sa.String(36), primary_key=True, nullable=True ), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'volume_admin_metadata', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('deleted_at', sa.DateTime), sa.Column('deleted', sa.Boolean), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column( 'volume_id', sa.String(36), sa.ForeignKey('volumes.id'), nullable=False, index=True, ), sa.Column('key', sa.String(255)), sa.Column('value', sa.String(255)), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'driver_initiator_data', sa.Column('created_at', sa.DateTime(timezone=False)), sa.Column('updated_at', sa.DateTime(timezone=False)), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('initiator', sa.String(255), index=True, nullable=False), sa.Column('namespace', sa.String(255), nullable=False), sa.Column('key', sa.String(255), nullable=False), sa.Column('value', sa.String(255)), sa.UniqueConstraint('initiator', 'namespace', 'key'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'image_volume_cache_entries', sa.Column('image_updated_at', sa.DateTime(timezone=False)), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('host', sa.String(255), index=True, nullable=False), sa.Column('image_id', sa.String(36), index=True, nullable=False), sa.Column('volume_id', sa.String(36), nullable=False), sa.Column('size', sa.Integer, nullable=False), sa.Column('last_used', sa.DateTime, nullable=False), sa.Column('cluster_name', sa.String(255)), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'messages', sa.Column('id', sa.String(36), primary_key=True, nullable=False), sa.Column('project_id', sa.String(255), nullable=False), sa.Column('request_id', sa.String(255)), sa.Column('resource_type', sa.String(36)), sa.Column('resource_uuid', sa.String(255), nullable=True), sa.Column('event_id', sa.String(255), nullable=False), sa.Column('message_level', sa.String(255), nullable=False), sa.Column('created_at', sa.DateTime(timezone=False)), sa.Column('updated_at', sa.DateTime(timezone=False)), sa.Column('deleted_at', sa.DateTime(timezone=False)), sa.Column('deleted', sa.Boolean), sa.Column('expires_at', sa.DateTime(timezone=False), index=True), sa.Column('detail_id', sa.String(10), nullable=True), sa.Column('action_id', sa.String(10), nullable=True), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'clusters', sa.Column('created_at', sa.DateTime(timezone=False)), sa.Column('updated_at', sa.DateTime(timezone=False)), sa.Column('deleted_at', sa.DateTime(timezone=False)), sa.Column('deleted', sa.Boolean(), default=False), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('name', sa.String(255), nullable=False), sa.Column('binary', sa.String(255), nullable=False), sa.Column('disabled', sa.Boolean(), default=False), sa.Column('disabled_reason', sa.String(255)), sa.Column('race_preventer', sa.Integer, nullable=False, default=0), sa.Column( 'replication_status', sa.String(length=36), default='not-capable' ), sa.Column('active_backend_id', sa.String(length=255)), sa.Column( 'frozen', sa.Boolean, nullable=False, default=False, server_default=expression.false(), ), # To remove potential races on creation we have a constraint set on # name and race_preventer fields, and we set value on creation to 0, so # 2 clusters with the same name will fail this constraint. On deletion # we change this field to the same value as the id which will be unique # and will not conflict with the creation of another cluster with the # same name. sa.UniqueConstraint('name', 'binary', 'race_preventer'), mysql_engine='InnoDB', mysql_charset='utf8', ) workers_table = op.create_table( 'workers', sa.Column('created_at', sa.DateTime(timezone=False)), sa.Column('updated_at', sa.DateTime(timezone=False)), sa.Column('deleted_at', sa.DateTime(timezone=False)), sa.Column('deleted', sa.Boolean(), default=False), sa.Column('id', sa.Integer, primary_key=True), sa.Column('resource_type', sa.String(40), nullable=False), sa.Column('resource_id', sa.String(36), nullable=False), sa.Column('status', sa.String(255), nullable=False), sa.Column( 'service_id', sa.Integer, sa.ForeignKey('services.id'), nullable=True, index=True, ), sa.Column( 'race_preventer', sa.Integer, nullable=False, default=0, server_default=sa.text('0'), ), sa.UniqueConstraint('resource_type', 'resource_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) group_types_table = op.create_table( 'group_types', sa.Column('id', sa.String(36), primary_key=True, nullable=False), sa.Column('name', sa.String(255), nullable=False), sa.Column('description', sa.String(255)), sa.Column('created_at', sa.DateTime(timezone=False)), sa.Column('updated_at', sa.DateTime(timezone=False)), sa.Column('deleted_at', sa.DateTime(timezone=False)), sa.Column('deleted', sa.Boolean), sa.Column('is_public', sa.Boolean), mysql_engine='InnoDB', mysql_charset='utf8', ) group_type_specs_table = op.create_table( 'group_type_specs', sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('key', sa.String(255)), sa.Column('value', sa.String(255)), sa.Column( 'group_type_id', sa.String(36), sa.ForeignKey('group_types.id'), nullable=False, index=True, ), sa.Column('created_at', sa.DateTime(timezone=False)), sa.Column('updated_at', sa.DateTime(timezone=False)), sa.Column('deleted_at', sa.DateTime(timezone=False)), sa.Column('deleted', sa.Boolean), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'group_type_projects', sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('deleted_at', sa.DateTime), sa.Column( 'group_type_id', sa.String(36), sa.ForeignKey('group_types.id') ), sa.Column('project_id', sa.String(length=255)), sa.Column('deleted', sa.Boolean(create_constraint=True, name=None)), sa.UniqueConstraint('group_type_id', 'project_id', 'deleted'), mysql_engine='InnoDB', mysql_charset='utf8', ) op.create_table( 'group_volume_type_mapping', sa.Column('created_at', sa.DateTime), sa.Column('updated_at', sa.DateTime), sa.Column('deleted_at', sa.DateTime), sa.Column('deleted', sa.Boolean), sa.Column('id', sa.Integer, primary_key=True, nullable=False), sa.Column( 'volume_type_id', sa.String(36), sa.ForeignKey('volume_types.id'), nullable=False, index=True, ), sa.Column( 'group_id', sa.String(36), sa.ForeignKey('groups.id'), nullable=False, index=True, ), mysql_engine='InnoDB', mysql_charset='utf8', ) if connection.engine.name == ""mysql"": tables = [ ""consistencygroups"", ""cgsnapshots"", ""snapshots"", ""snapshot_metadata"", ""quality_of_service_specs"", ""volume_types"", ""volume_type_projects"", ""volumes"", ""volume_attachment"", ""quotas"", ""services"", ""volume_metadata"", ""volume_type_extra_specs"", ""quota_classes"", ""quota_usages"", ""reservations"", ""volume_glance_metadata"", ""backups"", ""backup_metadata"", ""transfers"", ""encryption"", ""volume_admin_metadata"", ""driver_initiator_data"", ""image_volume_cache_entries"", ] connection.execute(""SET foreign_key_checks = 0"") for table in tables: connection.execute( ""ALTER TABLE %s CONVERT TO CHARACTER SET utf8"" % table ) connection.execute(""SET foreign_key_checks = 1"") connection.execute( ""ALTER DATABASE %s DEFAULT CHARACTER SET utf8"" % connection.engine.url.database ) connection.execute(""ALTER TABLE %s Engine=InnoDB"" % table) # This is only necessary for mysql, and since the table is not in use this # will only be a schema update. if connection.engine.name.startswith('mysql'): try: with op.batch_alter_table('workers') as batch_op: batch_op.alter_column( 'updated_at', type_=mysql.DATETIME(fsp=6)) except Exception: # MySQL v5.5 or earlier don't support sub-second resolution so we # may have cleanup races in Active-Active configurations, that's # why upgrading is recommended in that case. # Code in Cinder is capable of working with 5.5, so for 5.5 there's # no problem pass # Increase the resource column size to the quota_usages table. # # The resource value is constructed from (prefix + volume_type_name), # but the length of volume_type_name is limited to 255, if we add a # prefix such as 'volumes_' or 'gigabytes_' to volume_type_name it # will exceed the db length limit. try: with op.batch_alter_table('quota_usages') as batch_op: batch_op.alter_column('resource', type_=sa.String(300)) except Exception: # On MariaDB, max length varies depending on the version and the InnoDB # page size [1], so it is possible to have error 1071 ('Specified key # was too long; max key length is 767 bytes""). Since this migration is # to resolve a corner case, deployments with those DB versions won't be # covered. # [1]: https://mariadb.com/kb/en/library/innodb-limitations/#page-sizes if not connection.engine.name.startswith('mysql'): raise op.bulk_insert( quota_classes_table, [ # Set default quota class values { 'created_at': CREATED_AT, 'class_name': CLASS_NAME, 'resource': 'volumes', 'hard_limit': CONF.quota_volumes, 'deleted': False, }, { 'created_at': CREATED_AT, 'class_name': CLASS_NAME, 'resource': 'snapshots', 'hard_limit': CONF.quota_snapshots, 'deleted': False, }, # Set default gigabytes { 'created_at': CREATED_AT, 'class_name': CLASS_NAME, 'resource': 'gigabytes', 'hard_limit': CONF.quota_gigabytes, 'deleted': False, }, { 'created_at': CREATED_AT, 'class_name': CLASS_NAME, 'resource': 'consistencygroups', 'hard_limit': CONF.quota_consistencygroups, 'deleted': False, }, { 'created_at': CREATED_AT, 'class_name': CLASS_NAME, 'resource': 'per_volume_gigabytes', 'hard_limit': -1, 'deleted': False, }, { 'created_at': CREATED_AT, 'class_name': CLASS_NAME, 'resource': 'groups', 'hard_limit': CONF.quota_groups, 'deleted': False, }, ], ) # TODO(geguileo): Once we remove support for MySQL 5.5 we have to create # an upgrade migration to remove this row. # Set workers table sub-second support sentinel now = timeutils.utcnow().replace(microsecond=123) op.bulk_insert( workers_table, [ { 'created_at': now, 'updated_at': now, 'deleted': False, 'resource_type': 'SENTINEL', 'resource_id': 'SUB-SECOND', 'status': 'OK', }, ], ) # Create default group type now = timeutils.utcnow() grp_type_id = ""%s"" % uuid.uuid4() op.bulk_insert( group_types_table, [ { 'id': grp_type_id, 'name': volume_group_types.DEFAULT_CGSNAPSHOT_TYPE, 'description': 'Default group type for migrating cgsnapshot', 'created_at': now, 'updated_at': now, 'deleted': False, 'is_public': True, }, ], ) op.bulk_insert( group_type_specs_table, [ { 'key': 'consistent_group_snapshot_enabled', 'value': '<is> True', 'group_type_id': grp_type_id, 'created_at': now, 'updated_at': now, 'deleted': False, }, ], ) # Create default volume type op.bulk_insert( volume_types_table, [ { 'id': str(uuid.uuid4()), 'name': volume_types.DEFAULT_VOLUME_TYPE, 'description': 'Default Volume Type', 'created_at': now, 'updated_at': now, 'deleted': False, 'is_public': True, }, ], ) ",,1045,0
openstack%2Fnova~master~Ie551aed55b41b7c07856038cd044b05004b79182,openstack/nova,master,Ie551aed55b41b7c07856038cd044b05004b79182,Address release note nits for cpu-resources series,MERGED,2020-02-04 12:58:14.000000000,2021-09-14 13:24:54.000000000,2021-09-14 13:22:06.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}]","[{'number': 1, 'created': '2020-02-04 12:58:14.000000000', 'files': ['releasenotes/notes/cpu-resources-d4e6a0c12681fa87.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/db524ef74d1dd085d08ecd6cddd8ca5375ee3ca1', 'message': ""Address release note nits for cpu-resources series\n\nExpand upon the existing release note by noting the change in behavior\nfor the '[compute] cpu_shared_set' option and the 'isolate' CPU thread\npolicy.\n\nChange-Id: Ie551aed55b41b7c07856038cd044b05004b79182\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,705667,db524ef74d1dd085d08ecd6cddd8ca5375ee3ca1,12,7,1,15334,,,0,"Address release note nits for cpu-resources series

Expand upon the existing release note by noting the change in behavior
for the '[compute] cpu_shared_set' option and the 'isolate' CPU thread
policy.

Change-Id: Ie551aed55b41b7c07856038cd044b05004b79182
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/705667/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/cpu-resources-d4e6a0c12681fa87.yaml'],1,db524ef74d1dd085d08ecd6cddd8ca5375ee3ca1,bp/cpu-resources," ``PCPU`` inventory. Refer to the help text of the ``[compute] cpu_dedicated_set`` config option for more information. - | The ``[compute] cpu_shared_set`` configuration option will now be used to configure the host CPUs that should be used for ``VCPU`` inventory, replacing the deprecated ``vcpu_pin_set`` option. Refer to the help text of the ``[compute] cpu_shared_set`` config option for more infomration. node configuration, but it results in an additional request for allocation unnecessary on new or upgraded deployments where all compute nodes have been allocation candidates will be retrieved. Refer to the help text of the ``[workarounds] disable_fallback_pcpu_query`` config option for more information. Previously, if the ``vcpu_pin_set`` configuration option was not defined, the libvirt driver would count all available host CPUs when calculating ``VCPU`` inventory, regardless of whether those CPUs were online or not. The driver will now only report the total number of online CPUs. This should result in fewer build failures on hosts with offlined CPUs. - | Previously, if an instance was using the ``isolate`` CPU thread policy on a host with SMT (hyperthreading) enabled, the libvirt driver would fake a non-SMT host by marking the thread sibling(s) for each host CPU used by the instance as reserved and unusable. This is no longer the case. Instead, instances using the policy will be scheduled only to hosts that do not report the ``HW_CPU_HYPERTHREADING`` trait. If you have workloads that require the ``isolate`` policy, you should configure some or all of your hosts to disable SMT."," ``PCPU`` inventory. node configuration but it results in an additional request for allocation unnecessary on new or upgraded deployments where the compute nodes have been allocation candidates will be retrieved. Previously, if ``vcpu_pin_set`` was not defined, the libvirt driver would count all available host CPUs when calculating ``VCPU`` inventory, regardless of whether those CPUs were online or not. The driver will now only report the total number of online CPUs. This should result in fewer build failures on hosts with offlined CPUs.",26,9
openstack%2Ftacker~master~I3cca6d6fa664dd8f88791516042892369e4972a2,openstack/tacker,master,I3cca6d6fa664dd8f88791516042892369e4972a2,Fix get information about multiple VNF instances,MERGED,2021-07-28 02:39:12.000000000,2021-09-14 12:58:05.000000000,2021-09-14 12:53:30.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 33292}, {'_account_id': 33455}]","[{'number': 1, 'created': '2021-07-28 02:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2fba0fdb3f8f2bc828ee57be7ff75c0279aa2a78', 'message': 'Fix get information about multiple VNF instances\n\nWhen getting information about multiple VNF instances with invalid\nattribute selector or invalid attribute-based filtering parameters,\ntacker return a response with HTTP Code 200 and all information\nabout VNF instances. However, according to the specification file,\nthe HTTP code 400 Bad Request shall be returned.\n\nTo fix this bug, this patch adds a new check for this api`s\nparameters. If it contains unsupported parameters, the HTTP code\n400 Bad Request will be returned.\n\nCloses-Bug: #1938108\nChange-Id: I3cca6d6fa664dd8f88791516042892369e4972a2\n'}, {'number': 2, 'created': '2021-07-30 07:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/27eb0bffd60dc76f80c461cdea6aa3b40951f971', 'message': 'Fix get information about multiple VNF instances\n\nWhen getting information about multiple VNF instances with invalid\nattribute selector or invalid attribute-based filtering parameters,\ntacker return a response with HTTP Code 200 and all information\nabout VNF instances. However, according to the specification file,\nthe HTTP code 400 Bad Request shall be returned.\n\nTo fix this bug, this patch adds a new check for this api`s\nparameters. If it contains unsupported parameters, the HTTP code\n400 Bad Request will be returned.\n\nCloses-Bug: #1938108\nChange-Id: I3cca6d6fa664dd8f88791516042892369e4972a2\n'}, {'number': 3, 'created': '2021-08-02 04:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2b185defcd36d066c47e8ac67041aaa269f4bf58', 'message': 'Fix get information about multiple VNF instances\n\nWhen getting information about multiple VNF instances with invalid\nattribute selector or invalid attribute-based filtering parameters,\ntacker return a response with HTTP Code 200 and all information\nabout VNF instances. However, according to the specification file,\nthe HTTP code 400 Bad Request shall be returned.\n\nTo fix this bug, this patch adds a new check for this api`s\nparameters. If it contains unsupported parameters, the HTTP code\n400 Bad Request will be returned.\n\nCloses-Bug: #1938108\nChange-Id: I3cca6d6fa664dd8f88791516042892369e4972a2\n'}, {'number': 4, 'created': '2021-08-04 05:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/99202d60f2242fcd358b77bf54e90be8ffb11da9', 'message': 'Fix get information about multiple VNF instances\n\nWhen getting information about multiple VNF instances with invalid\nattribute selector or invalid attribute-based filtering parameters,\ntacker return a response with HTTP Code 200 and all information\nabout VNF instances. However, according to the specification file,\nthe HTTP code 400 Bad Request shall be returned.\n\nTo fix this bug, this patch adds a new check for this api`s\nparameters. If it contains unsupported parameters, the HTTP code\n400 Bad Request will be returned.\n\nCloses-Bug: #1938108\nChange-Id: I3cca6d6fa664dd8f88791516042892369e4972a2\n'}, {'number': 5, 'created': '2021-08-04 06:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/19c66b57b7f807ce8af7b5fe4f66dea9df30c339', 'message': 'Fix get information about multiple VNF instances\n\nWhen getting information about multiple VNF instances with invalid\nattribute selector or invalid attribute-based filtering parameters,\ntacker return a response with HTTP Code 200 and all information\nabout VNF instances. However, according to the specification file,\nthe HTTP code 400 Bad Request shall be returned.\n\nTo fix this bug, this patch adds a new check for this api`s\nparameters. If it contains unsupported parameters, the HTTP code\n400 Bad Request will be returned.\n\nCloses-Bug: #1938108\nChange-Id: I3cca6d6fa664dd8f88791516042892369e4972a2\n'}, {'number': 6, 'created': '2021-08-06 03:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f0830227a51ff5fd1fd8c791f8cd50dddcb9238f', 'message': 'Fix get information about multiple VNF instances\n\nWhen getting information about multiple VNF instances with invalid\nattribute selector or invalid attribute-based filtering parameters,\ntacker return a response with HTTP Code 200 and all information\nabout VNF instances. However, according to the specification file,\nthe HTTP code 400 Bad Request shall be returned.\n\nTo fix this bug, this patch adds a new check for this api`s\nparameters. If it contains unsupported parameters, the HTTP code\n400 Bad Request will be returned.\n\nCloses-Bug: #1938108\nChange-Id: I3cca6d6fa664dd8f88791516042892369e4972a2\n'}, {'number': 7, 'created': '2021-08-10 04:42:59.000000000', 'files': ['tacker/api/api_common.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/tests/unit/vnflcm/test_controller.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/3bb8791f181a65661dda84296ea63b90fb6bda9a', 'message': 'Fix get information about multiple VNF instances\n\nWhen getting information about multiple VNF instances with invalid\nattribute selector or invalid attribute-based filtering parameters,\ntacker return a response with HTTP Code 200 and all information\nabout VNF instances. However, according to the specification file,\nthe HTTP code 400 Bad Request shall be returned.\n\nTo fix this bug, this patch adds a new check for this api`s\nparameters. If it contains unsupported parameters, the HTTP code\n400 Bad Request will be returned.\n\nCloses-Bug: #1938108\nChange-Id: I3cca6d6fa664dd8f88791516042892369e4972a2\n'}]",8,802647,3bb8791f181a65661dda84296ea63b90fb6bda9a,32,8,7,33492,,,0,"Fix get information about multiple VNF instances

When getting information about multiple VNF instances with invalid
attribute selector or invalid attribute-based filtering parameters,
tacker return a response with HTTP Code 200 and all information
about VNF instances. However, according to the specification file,
the HTTP code 400 Bad Request shall be returned.

To fix this bug, this patch adds a new check for this api`s
parameters. If it contains unsupported parameters, the HTTP code
400 Bad Request will be returned.

Closes-Bug: #1938108
Change-Id: I3cca6d6fa664dd8f88791516042892369e4972a2
",git fetch https://review.opendev.org/openstack/tacker refs/changes/47/802647/7 && git format-patch -1 --stdout FETCH_HEAD,['tacker/api/vnflcm/v1/controller.py'],1,2fba0fdb3f8f2bc828ee57be7ff75c0279aa2a78,bug/1938108," for key in request.GET: if key != ""filter"": msg = _(""Not support parameter: %s"") % key return self._make_problem_detail(msg, 400, 'Bad Request') ",,5,0
openstack%2Fcinder~master~I70c006f1e5fa42c79332897cca46432826dc8a2b,openstack/cinder,master,I70c006f1e5fa42c79332897cca46432826dc8a2b,Use oslo_utils.uuidutils to manipulate UUID Strings: Part 1,ABANDONED,2021-07-22 15:23:42.000000000,2021-09-14 12:49:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-22 15:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7d4cb3d8ca1f2c27aa66e46f03b69774c539e28d', 'message': 'Use oslo_utils.uuidutils to manipulate UUID Strings: Part 1\n\nThis change replaces direct usage of uuid library with uuidutils from\noslo_utils, to reuse the common implementation shared among OpenStack\nprojects.\nThis change only updates core codes, and remaining usage in driver\ncodes will be updated by the subsequent change.\n\nChange-Id: I70c006f1e5fa42c79332897cca46432826dc8a2b\n'}, {'number': 2, 'created': '2021-07-22 17:26:10.000000000', 'files': ['cinder/tests/functional/functional_helpers.py', 'cinder/coordination.py', 'cinder/tests/functional/test_default_types.py', 'cinder/tests/unit/objects/test_base.py', 'cinder/tests/unit/utils.py', 'cinder/db/sqlalchemy/api.py', 'cinder/volume/targets/nvmet.py', 'cinder/tests/unit/image/fake.py', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/db/sqlalchemy/migrate_repo/versions/135_cinder_init.py', 'cinder/tests/unit/api/v3/test_snapshot_metadata.py', 'cinder/tests/unit/db/test_purge.py', 'cinder/tests/unit/api/contrib/test_volume_host_attribute.py', 'cinder/tests/unit/api/v3/test_group_types.py', 'cinder/tests/unit/volume/test_replication_manager.py', 'cinder/tests/unit/api/fakes.py', 'cinder/tests/unit/api/contrib/test_volume_image_metadata.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/tests/unit/cmd/test_status.py', 'cinder/tests/unit/api/contrib/test_volume_tenant_attribute.py', 'cinder/tests/unit/test_db_worker_api.py', 'cinder/volume/volume_utils.py', 'cinder/tests/unit/api/contrib/test_quotas.py', 'cinder/tests/unit/policies/test_default_volume_types.py', 'cinder/tests/unit/test.py', 'cinder/tests/unit/test_ssh_utils.py', 'cinder/tests/unit/api/v3/test_volume_metadata.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/deeac9303c454cec964e3640fee6f13a809c9522', 'message': 'Use oslo_utils.uuidutils to manipulate UUID Strings: Part 1\n\nThis change replaces direct usage of uuid library with uuidutils from\noslo_utils, to reuse the common implementation shared among OpenStack\nprojects.\nThis change only updates core codes, and remaining usage in driver\ncodes will be updated by the subsequent change.\n\nChange-Id: I70c006f1e5fa42c79332897cca46432826dc8a2b\n'}]",1,801868,deeac9303c454cec964e3640fee6f13a809c9522,27,1,2,9816,,,0,"Use oslo_utils.uuidutils to manipulate UUID Strings: Part 1

This change replaces direct usage of uuid library with uuidutils from
oslo_utils, to reuse the common implementation shared among OpenStack
projects.
This change only updates core codes, and remaining usage in driver
codes will be updated by the subsequent change.

Change-Id: I70c006f1e5fa42c79332897cca46432826dc8a2b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/68/801868/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/functional/functional_helpers.py', 'cinder/coordination.py', 'cinder/tests/functional/test_default_types.py', 'cinder/tests/unit/objects/test_base.py', 'cinder/tests/unit/utils.py', 'cinder/db/sqlalchemy/api.py', 'cinder/volume/targets/nvmet.py', 'cinder/tests/unit/image/fake.py', 'cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/db/sqlalchemy/migrate_repo/versions/135_cinder_init.py', 'cinder/tests/unit/api/v3/test_snapshot_metadata.py', 'cinder/tests/unit/db/test_purge.py', 'cinder/tests/unit/api/contrib/test_volume_host_attribute.py', 'cinder/tests/unit/api/v3/test_group_types.py', 'cinder/tests/unit/volume/test_replication_manager.py', 'cinder/tests/unit/api/fakes.py', 'cinder/tests/unit/api/contrib/test_volume_image_metadata.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/tests/unit/cmd/test_status.py', 'cinder/tests/unit/api/contrib/test_volume_tenant_attribute.py', 'cinder/tests/unit/test_db_worker_api.py', 'cinder/volume/volume_utils.py', 'cinder/tests/unit/api/contrib/test_quotas.py', 'cinder/tests/unit/policies/test_default_volume_types.py', 'cinder/tests/unit/test.py', 'cinder/tests/unit/test_ssh_utils.py', 'cinder/tests/unit/api/v3/test_volume_metadata.py']",27,7d4cb3d8ca1f2c27aa66e46f03b69774c539e28d,uuidutils,from oslo_utils import uuidutils self.req_id = str(uuidutils.generate_uuid()),import uuid self.req_id = str(uuid.uuid4()),109,110
openstack%2Fpuppet-manila~master~Ia276fd2146766119a85d74c367ac485d97e9a03d,openstack/puppet-manila,master,Ia276fd2146766119a85d74c367ac485d97e9a03d,Allow purging policy files,MERGED,2021-09-04 13:13:17.000000000,2021-09-14 12:05:11.000000000,2021-09-14 12:03:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-04 13:13:17.000000000', 'files': ['spec/classes/manila_policy_spec.rb', 'releasenotes/notes/policy_purge_config-3016d1e624d6eb31.yaml', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/4fb1dd548b91b86a9d2b3dfd394022cc6b7ad308', 'message': 'Allow purging policy files\n\nThis change introduces the new purge_config parameter to the policy\nclass so that any policy rules not managed by puppet manifests can be\ncleared.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nDepends-On: https://review.opendev.org/802305\nChange-Id: Ia276fd2146766119a85d74c367ac485d97e9a03d\n'}]",0,807442,4fb1dd548b91b86a9d2b3dfd394022cc6b7ad308,9,4,1,9816,,,0,"Allow purging policy files

This change introduces the new purge_config parameter to the policy
class so that any policy rules not managed by puppet manifests can be
cleared.

Co-Authored-By: Martin Schuppert <mschuppert@redhat.com>
Depends-On: https://review.opendev.org/802305
Change-Id: Ia276fd2146766119a85d74c367ac485d97e9a03d
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/42/807442/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/manila_policy_spec.rb', 'releasenotes/notes/policy_purge_config-3016d1e624d6eb31.yaml', 'manifests/policy.pp']",3,4fb1dd548b91b86a9d2b3dfd394022cc6b7ad308,remove_empty_pol_file,"# [*purge_config*] # (optional) Whether to set only the specified policy rules in the policy # file. # Defaults to false. # $purge_config = false, $policy_parameters = { policies => $policies, policy_path => $policy_path, file_user => 'root', file_group => $::manila::params::group, file_format => 'yaml', purge_config => $purge_config, } create_resources('openstacklib::policy', { $policy_path => $policy_parameters })"," Openstacklib::Policy::Base { file_path => $policy_path, file_user => 'root', file_group => $::manila::params::group, file_format => 'yaml', } create_resources('openstacklib::policy::base', $policies)",82,31
