id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Ftripleo-heat-templates~stable%2Fstein~Idb068b7ba2ca77babc3a019d5f60ca0cf7ebb2d6,openstack/tripleo-heat-templates,stable/stein,Idb068b7ba2ca77babc3a019d5f60ca0cf7ebb2d6,Ironic create_swift_temp_url_key use internal edpoint,MERGED,2020-06-11 11:12:59.000000000,2020-06-12 04:13:43.000000000,2020-06-12 04:13:43.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-11 11:12:59.000000000', 'files': ['deployment/ironic/ironic-conductor-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1ba30cbb59831d3f6f6cde1bf75ccfb339cc8c01', 'message': ""Ironic create_swift_temp_url_key use internal edpoint\n\nSet OS_INTERFACE=internal in the container config script\ncreating temporary URL's.\n\nCloses-Bug: #1882545\nChange-Id: Idb068b7ba2ca77babc3a019d5f60ca0cf7ebb2d6\n(cherry picked from commit 95563da90f2123a35427d7d6ffbb5663d0d6e514)\n""}]",0,735114,1ba30cbb59831d3f6f6cde1bf75ccfb339cc8c01,8,4,1,24245,,,0,"Ironic create_swift_temp_url_key use internal edpoint

Set OS_INTERFACE=internal in the container config script
creating temporary URL's.

Closes-Bug: #1882545
Change-Id: Idb068b7ba2ca77babc3a019d5f60ca0cf7ebb2d6
(cherry picked from commit 95563da90f2123a35427d7d6ffbb5663d0d6e514)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/735114/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-conductor-container-puppet.yaml'],1,1ba30cbb59831d3f6f6cde1bf75ccfb339cc8c01,bug/1882545-stable/train-stable/stein, export OS_INTERFACE=internal,,1,0
openstack%2Frequirements~master~I751209a27f650b1c5849d6ac17bf5b322f02e40a,openstack/requirements,master,I751209a27f650b1c5849d6ac17bf5b322f02e40a,[DNM] Use docker images to generate constraints for multiple python versions,ABANDONED,2018-07-12 04:16:18.000000000,2020-06-12 04:12:13.000000000,,"[{'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-12 04:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b61ae4f2e70e3f5038c2a7ba4bfa5ff1aa142377', 'message': ""[DNM] Use docker images to generate constraints for multiple python versions\n\nCurrently when we generate constraints we create a venv for each\n(system) python supllied on the commandline, install all of\nglobal-requirements into that venv and capture the pip freeze.\n\nWhere this falls down is if we want to generate a freeze for python 3.4\nand 3.5 we need an image that has both of those.  We cheated and just\n'clone' them so if python3 is 3.4 we copy the results to 3.5 and vice\nversa.  This kinda worked for a while but it has drawbacks.\n\nThis change provides a tool to generate docker images for pythons will\nall of g-r installed.  It's a very rough PoC to show how things could\nwork.  There are lots of open questions:\n\n- How do we make this nodepool/cloud provider friendly ?\n- Can we run a registry per provider?\n- Can we generate and caches these images and only run pip install -U\n  g-r to speed up the build\n- Are we okay with using docker this way?\n\nI think it's clear we need to do something but what?\n\nChange-Id: I751209a27f650b1c5849d6ac17bf5b322f02e40a\n""}, {'number': 2, 'created': '2019-05-03 20:46:55.000000000', 'files': ['docker/generate-images.py', '.gitignore', 'bindep.txt', 'openstack_requirements/cmds/generate.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a0199364d4057f4f719ef3050a2600b66e42a033', 'message': ""[DNM] Use docker images to generate constraints for multiple python versions\n\nCurrently when we generate constraints we create a venv for each\n(system) python supllied on the commandline, install all of\nglobal-requirements into that venv and capture the pip freeze.\n\nWhere this falls down is if we want to generate a freeze for python 3.4\nand 3.5 we need an image that has both of those.  We cheated and just\n'clone' them so if python3 is 3.4 we copy the results to 3.5 and vice\nversa.  This kinda worked for a while but it has drawbacks.\n\nThis change provides a tool to generate docker images for pythons will\nall of g-r installed.  It's a very rough PoC to show how things could\nwork.  There are lots of open questions:\n\n- How do we make this nodepool/cloud provider friendly ?\n- Can we run a registry per provider?\n- Can we generate and caches these images and only run pip install -U\n  g-r to speed up the build\n- Are we okay with using docker this way?\n\nI think it's clear we need to do something but what?\n\nChange-Id: I751209a27f650b1c5849d6ac17bf5b322f02e40a\n""}]",0,581948,a0199364d4057f4f719ef3050a2600b66e42a033,20,3,2,12898,,,0,"[DNM] Use docker images to generate constraints for multiple python versions

Currently when we generate constraints we create a venv for each
(system) python supllied on the commandline, install all of
global-requirements into that venv and capture the pip freeze.

Where this falls down is if we want to generate a freeze for python 3.4
and 3.5 we need an image that has both of those.  We cheated and just
'clone' them so if python3 is 3.4 we copy the results to 3.5 and vice
versa.  This kinda worked for a while but it has drawbacks.

This change provides a tool to generate docker images for pythons will
all of g-r installed.  It's a very rough PoC to show how things could
work.  There are lots of open questions:

- How do we make this nodepool/cloud provider friendly ?
- Can we run a registry per provider?
- Can we generate and caches these images and only run pip install -U
  g-r to speed up the build
- Are we okay with using docker this way?

I think it's clear we need to do something but what?

Change-Id: I751209a27f650b1c5849d6ac17bf5b322f02e40a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/48/581948/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/generate-images.py', '.gitignore', 'bindep.txt', 'openstack_requirements/cmds/generate.py']",4,b61ae4f2e70e3f5038c2a7ba4bfa5ff1aa142377,docker/constraints,"def _freeze_docker(requirements, python_version): """"""Generate a frozen install from requirements. A constraints file is the result of installing a set of requirements and then freezing the result. We currently special case pip and setuptools as pip does, excluding them from the set. We may however want to revisit this in future if releases of those things break our gate. In principle we should determine this by introspecting all the packages transitively, since we need to deal wit environment markers.... but thats reimplementing a large chunk of pip (and since pip doesn't resolve yet, differently too). For now, we take a list of Python executables to test under, and then union the results. This is in fact the key difference between a constraints file and a requirements file: we're not triggering installation, so we can and will list packages that are not relevant to e.g. Python3 in the constraints output. :param requirements: The path to a requirements file to use when generating the constraints. :param python: A Python binary to use. E.g. /usr/bin/python3 :return: A tuple (python_version, list of (package, version)'s) """""" output = [] try: if python_version not in ['2.7', '3.5', '3.6', '3.7']: raise Exception(('Currently unsupported python version %s' % (python_version))) freeze = subprocess.check_output( ['docker', 'run', 'requirements:%s' % (python_version)] ).decode('utf-8') output.append(freeze) return (python_version, _parse_freeze(freeze)) except Exception as exc: if isinstance(exc, subprocess.CalledProcessError): output.append(exc.output.decode('utf-8')) raise Exception( ""Failed to generate freeze: %s %s"" % ('\n'.join(output).decode('utf-8'), exc)) if options.with_docker: # TODO: Check for the container image pass else: if not os.path.exists(python): raise Exception( ""Python %(python)s not found."" % dict(python=python)) parser.add_option( ""--docker"", dest=""with_docker"", default=False, action=""store_true"", help=('Use dokcer containers to generate the freeze rather than venvs') ) if options.with_docker: freezes = [_freeze_docker(options.requirements, python) for python in options.pythons] else: freezes = [_freeze(options.requirements, python) for python in options.pythons]"," if not os.path.exists(python): raise Exception( ""Python %(python)s not found."" % dict(python=python)) freezes = [ _freeze(options.requirements, python) for python in options.pythons]",104,8
openstack%2Ftripleo-validations~stable%2Ftrain~I07f7106a159766c0e7d6592431839a13f925d3ea,openstack/tripleo-validations,stable/train,I07f7106a159766c0e7d6592431839a13f925d3ea,remove non-voting ceph validation from gate,MERGED,2020-06-10 19:28:25.000000000,2020-06-12 04:09:47.000000000,2020-06-12 04:09:47.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-06-10 19:28:25.000000000', 'files': ['zuul.d/molecule.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e548b86844a7d810d0c126d0f458cf6c652c7506', 'message': 'remove non-voting ceph validation from gate\n\nhttps://zuul.openstack.org/builds?job_name=tripleo-validations-centos-7-molecule-ceph\n\nChange-Id: I07f7106a159766c0e7d6592431839a13f925d3ea\n'}]",0,734909,e548b86844a7d810d0c126d0f458cf6c652c7506,10,6,1,9592,,,0,"remove non-voting ceph validation from gate

https://zuul.openstack.org/builds?job_name=tripleo-validations-centos-7-molecule-ceph

Change-Id: I07f7106a159766c0e7d6592431839a13f925d3ea
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/09/734909/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/molecule.yaml'],1,e548b86844a7d810d0c126d0f458cf6c652c7506,train,, - tripleo-validations-centos-7-molecule-ceph,0,1
openstack%2Ftripleo-validations~master~If3689cf3e9c2cd630682d907403a7316a577cfed,openstack/tripleo-validations,master,If3689cf3e9c2cd630682d907403a7316a577cfed,Update openstackdocstheme.,MERGED,2020-06-09 11:24:10.000000000,2020-06-12 03:57:10.000000000,2020-06-12 03:55:30.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 11:24:10.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/861d6b4fad3f7c4caa0e860d2d0a70d39263ffe5', 'message': 'Update openstackdocstheme.\n\nUpdate to the latest version.\n\nChange-Id: If3689cf3e9c2cd630682d907403a7316a577cfed\n'}]",0,734586,861d6b4fad3f7c4caa0e860d2d0a70d39263ffe5,8,3,1,31245,,,0,"Update openstackdocstheme.

Update to the latest version.

Change-Id: If3689cf3e9c2cd630682d907403a7316a577cfed
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/86/734586/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,861d6b4fad3f7c4caa0e860d2d0a70d39263ffe5,,openstackdocstheme>=2.2.2 # Apache-2.0,openstackdocstheme>=2.2.1 # Apache-2.0,1,1
openstack%2Ftripleo-upgrade~stable%2Fussuri~I51829ad875056b4a2370a5f154701c94bdfaa0fa,openstack/tripleo-upgrade,stable/ussuri,I51829ad875056b4a2370a5f154701c94bdfaa0fa,Update .gitreview for stable/ussuri,MERGED,2020-06-08 19:11:13.000000000,2020-06-12 03:55:29.000000000,2020-06-12 03:55:29.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 19:11:13.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/afec91821d29bca07917ed00158489dff34f7217', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: I51829ad875056b4a2370a5f154701c94bdfaa0fa\n'}]",0,734172,afec91821d29bca07917ed00158489dff34f7217,7,3,1,22816,,,0,"Update .gitreview for stable/ussuri

Change-Id: I51829ad875056b4a2370a5f154701c94bdfaa0fa
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/72/734172/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,afec91821d29bca07917ed00158489dff34f7217,create-ussuri,defaultbranch=stable/ussuri,defaultbranch=master,1,1
openstack%2Ftripleo-upgrade~master~I79ed9083e7d75e41d9c6da4e33f678defa029e32,openstack/tripleo-upgrade,master,I79ed9083e7d75e41d9c6da4e33f678defa029e32,Update master for stable/ussuri,MERGED,2020-06-08 19:11:15.000000000,2020-06-12 03:15:59.000000000,2020-06-12 03:15:59.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 19:11:15.000000000', 'files': ['releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/409646e077957d3518b8173435456ab742e7b9a1', 'message': 'Update master for stable/ussuri\n\nAdd file to the reno documentation build to show release notes for\nstable/ussuri.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/ussuri.\n\nChange-Id: I79ed9083e7d75e41d9c6da4e33f678defa029e32\nSem-Ver: feature\n'}]",0,734173,409646e077957d3518b8173435456ab742e7b9a1,7,3,1,22816,,,0,"Update master for stable/ussuri

Add file to the reno documentation build to show release notes for
stable/ussuri.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/ussuri.

Change-Id: I79ed9083e7d75e41d9c6da4e33f678defa029e32
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/73/734173/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst']",2,409646e077957d3518b8173435456ab742e7b9a1,reno-ussuri, ussuri,,7,0
openstack%2Ftripleo-ci~master~I7688b14b5c5cf8be5e4d7e0afdd7d251eef11fb8,openstack/tripleo-ci,master,I7688b14b5c5cf8be5e4d7e0afdd7d251eef11fb8,Restrict jobs running against tripleo-ci changes,MERGED,2020-06-11 10:08:52.000000000,2020-06-12 03:15:55.000000000,2020-06-12 03:15:55.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-11 10:08:52.000000000', 'files': ['zuul.d/undercloud-jobs.yaml', 'zuul.d/standalone-jobs.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/78a4a3e1df25d180c8caf98d0445747248d7bd67', 'message': ""Restrict jobs running against tripleo-ci changes\n\nRemove the blanket zuul.d/* for the standalone jobs and add\nto irrelevant files for multinode/undercloud jobs so they\naren't running unnecessarily. See [1] for example where these\njobs are causing delays without any benefit (irrelevant change)\n\n[1] https://review.opendev.org/730763\nChange-Id: I7688b14b5c5cf8be5e4d7e0afdd7d251eef11fb8\n""}]",4,735101,78a4a3e1df25d180c8caf98d0445747248d7bd67,10,9,1,8449,,,0,"Restrict jobs running against tripleo-ci changes

Remove the blanket zuul.d/* for the standalone jobs and add
to irrelevant files for multinode/undercloud jobs so they
aren't running unnecessarily. See [1] for example where these
jobs are causing delays without any benefit (irrelevant change)

[1] https://review.opendev.org/730763
Change-Id: I7688b14b5c5cf8be5e4d7e0afdd7d251eef11fb8
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/01/735101/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/undercloud-jobs.yaml', 'zuul.d/standalone-jobs.yaml', 'zuul.d/multinode-jobs.yaml']",3,78a4a3e1df25d180c8caf98d0445747248d7bd67,, - zuul.d/layout.yaml - zuul.d/build-containers.yaml - zuul.d/build-image.yaml - zuul.d/standalone-jobs.yaml - zuul.d/undercloud-jobs.yaml - tripleo-ci-centos-7-undercloud-containers: irrelevant-files: *multinode_ignored - zuul.d/layout.yaml - zuul.d/build-containers.yaml - zuul.d/build-image.yaml - zuul.d/standalone-jobs.yaml - zuul.d/undercloud-jobs.yaml, - tripleo-ci-centos-7-undercloud-containers: irrelevant-files: - ^.*\.md$ - ^.*\.rst$ - ^doc/.*$ - ^docs/.*$ - ^etc/.*$ - ^metadata.json$ - ^releasenotes/.*$ - ^test-requirements.txt$ - ^spec/.*$ - ^Puppetfile.*$ - tox.ini - ^roles/build-containers/.*$ - ^roles/oooci-build-images/.*$ - ^playbooks/deprecated/.*$ - ^playbooks/tripleo-buildcontainers/.*$ - ^playbooks/tripleo-buildimages/.*$ - ^vars/sova-patterns.yml$,16,30
openstack%2Fzaqar-tempest-plugin~master~Ifdb0f91090de529de095c48d87fe017b92a0b78f,openstack/zaqar-tempest-plugin,master,Ifdb0f91090de529de095c48d87fe017b92a0b78f,Add py38 package metadata,ABANDONED,2020-05-28 03:59:27.000000000,2020-06-12 03:09:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-28 03:59:27.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/d747f7e52c4f06d3aa002afd7744fda29aa4e8ea', 'message': 'Add py38 package metadata\n\nChange-Id: Ifdb0f91090de529de095c48d87fe017b92a0b78f\n'}]",0,731424,d747f7e52c4f06d3aa002afd7744fda29aa4e8ea,3,1,1,27565,,,0,"Add py38 package metadata

Change-Id: Ifdb0f91090de529de095c48d87fe017b92a0b78f
",git fetch https://review.opendev.org/openstack/zaqar-tempest-plugin refs/changes/24/731424/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d747f7e52c4f06d3aa002afd7744fda29aa4e8ea,, Programming Language :: Python :: 3.5 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7 Programming Language :: Python :: 3.8,,4,0
openstack%2Fcinder~master~I081a28e617a12a8430f880dd7b0b20cb8d6fb248,openstack/cinder,master,I081a28e617a12a8430f880dd7b0b20cb8d6fb248,docs: fixes wrong config file reference,MERGED,2020-06-10 10:22:59.000000000,2020-06-12 02:27:41.000000000,2020-06-10 17:48:15.000000000,"[{'_account_id': 9008}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 31106}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-06-10 10:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ceee745efa8acb070be5a9a79b2cf3531f8c57e1', 'message': 'docs: fixes config file reference Troubleshoot the Block Storage doc\n\nThe Block Storage configuration guide was referring to a incorrect file\n\nCloses-bug: 187939\n\nChange-Id: I081a28e617a12a8430f880dd7b0b20cb8d6fb248\n'}, {'number': 2, 'created': '2020-06-10 12:32:35.000000000', 'files': ['doc/source/admin/ts-cinder-config.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/072c58247eac17d41f86dff334b01cce0a832397', 'message': 'docs: fixes wrong config file reference\n\nThe ""Troubleshoot the Block Storage configuration in cinder"" had\nincorrect config filename, this changes it to cinder.conf\n\nCloses-bug: 1879391\n\nChange-Id: I081a28e617a12a8430f880dd7b0b20cb8d6fb248\n'}]",3,734785,072c58247eac17d41f86dff334b01cce0a832397,42,21,2,31106,,,0,"docs: fixes wrong config file reference

The ""Troubleshoot the Block Storage configuration in cinder"" had
incorrect config filename, this changes it to cinder.conf

Closes-bug: 1879391

Change-Id: I081a28e617a12a8430f880dd7b0b20cb8d6fb248
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/734785/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/ts-cinder-config.rst'],1,ceee745efa8acb070be5a9a79b2cf3531f8c57e1,bug/1879391,These entries in the ``cinder.conf`` file can be used to,These entries in the ``cinder.openstack.common.log`` file can be used to,1,1
openstack%2Ftempest~master~I857655b8568eb2df1bb9bc263117119388d42f01,openstack/tempest,master,I857655b8568eb2df1bb9bc263117119388d42f01,Change 'Member' role reference to 'member',MERGED,2020-05-27 10:22:06.000000000,2020-06-12 02:06:41.000000000,2020-06-12 02:05:17.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}]","[{'number': 1, 'created': '2020-05-27 10:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/996f9e8580b83cd88bcd98de849219eacfbfd99d', 'message': ""Change 'Member' role reference to 'member'\n\n'Member' role has been deprecated and replaced by 'member'.\nThe patch replaces the leftover occurrences of 'Member' by 'member'.\n\nChange-Id: I857655b8568eb2df1bb9bc263117119388d42f01\nCloses-Bug: #1330132\n""}, {'number': 2, 'created': '2020-05-27 10:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0cd87111af07ab2b77800c43dabe7dcb1bbb0ec8', 'message': ""Change 'Member' role reference to 'member'\n\n'Member' role has been deprecated and replaced by 'member'.\nThe patch replaces the leftover occurrences of 'Member' by 'member'.\n\nChange-Id: I857655b8568eb2df1bb9bc263117119388d42f01\nCloses-Bug: #1330132\n""}, {'number': 3, 'created': '2020-06-10 16:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6ec11c4ec32adb38105d44963c93532c2ded1ecb', 'message': ""Change 'Member' role reference to 'member'\n\n'Member' role has been deprecated and replaced by 'member'.\nThe patch replaces the leftover occurrences of 'Member' by 'member'.\n\nChange-Id: I857655b8568eb2df1bb9bc263117119388d42f01\nCloses-Bug: #1330132\n""}, {'number': 4, 'created': '2020-06-11 06:29:34.000000000', 'files': ['tempest/lib/common/dynamic_creds.py', 'releasenotes/notes/Set-default-of-operator_role-to-member-f9c3abd2ebde23b7.yaml', 'tempest/config.py', 'tempest/tests/lib/common/test_dynamic_creds.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/99d4dae684070125f981d4512807a52dede48382', 'message': ""Change 'Member' role reference to 'member'\n\n'Member' role has been deprecated and replaced by 'member'.\nThe patch replaces the leftover occurrences of 'Member' by 'member'.\n\nChange-Id: I857655b8568eb2df1bb9bc263117119388d42f01\nCloses-Bug: #1330132\n""}]",3,731146,99d4dae684070125f981d4512807a52dede48382,20,6,4,22873,,,0,"Change 'Member' role reference to 'member'

'Member' role has been deprecated and replaced by 'member'.
The patch replaces the leftover occurrences of 'Member' by 'member'.

Change-Id: I857655b8568eb2df1bb9bc263117119388d42f01
Closes-Bug: #1330132
",git fetch https://review.opendev.org/openstack/tempest refs/changes/46/731146/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/dynamic_creds.py', 'etc/tempest.conf.sample', 'tempest/config.py', 'tempest/tests/lib/common/test_dynamic_creds.py']",4,996f9e8580b83cd88bcd98de849219eacfbfd99d,fix-member," {'id': '2', 'name': 'member'}]})))) {'id': '2', 'name': 'member'}]})))) ""member role already exists, ignoring conflict."") mock.ANY, mock.ANY, 'member')"," {'id': '2', 'name': 'Member'}]})))) {'id': '2', 'name': 'Member'}]})))) ""Member role already exists, ignoring conflict."") mock.ANY, mock.ANY, 'Member')",1353,8
openstack%2Fopenstack-zuul-jobs~master~I5fba52af7fcafb12d0d2c4b416d5e0b7e4feb238,openstack/openstack-zuul-jobs,master,I5fba52af7fcafb12d0d2c4b416d5e0b7e4feb238,build-wheel-cache: Reduce arm64 builds and various small updates,MERGED,2020-06-11 09:50:38.000000000,2020-06-12 02:05:56.000000000,2020-06-12 02:04:45.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-06-11 09:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/9ae629216cf436da5e9116a76c374c90b868e8fa', 'message': ""[wip] reduce arm64 builds, collect logs after\n\n* reduce arm64 builds to just latest two branches\n* output the script output to logs, in case the job gets timeout killed\n  so we still get something\n* zip the logs in post so we don't copy over hundreds of mb of logs\n  if we are timeout killed.\n\nChange-Id: I5fba52af7fcafb12d0d2c4b416d5e0b7e4feb238\n""}, {'number': 2, 'created': '2020-06-11 11:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/0dedfed18189d5f14384ceaf29242103a42cb5b8', 'message': ""[wip] reduce arm64 builds, collect logs after\n\n* reduce arm64 builds to just latest two branches\n* output the script output to logs, in case the job gets timeout killed\n  so we still get something\n* zip the logs in post so we don't copy over hundreds of mb of logs\n  if we are timeout killed.\n\nChange-Id: I5fba52af7fcafb12d0d2c4b416d5e0b7e4feb238\n""}, {'number': 3, 'created': '2020-06-11 21:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/a90b91b9aa372e13f35069ba53c5fec6bc3352d6', 'message': ""[wip] reduce arm64 builds, collect logs after\n\n* reduce arm64 builds to just latest two branches\n* output the script output to logs, in case the job gets timeout killed\n  so we still get something\n* zip the logs in post so we don't copy over hundreds of mb of logs\n  if we are timeout killed.\n\nChange-Id: I5fba52af7fcafb12d0d2c4b416d5e0b7e4feb238\n""}, {'number': 4, 'created': '2020-06-11 23:30:11.000000000', 'files': ['roles/build-wheel-cache/files/wheel-build.sh', 'playbooks/wheel-cache/post-base.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/541b5742222cdabf78c28d713f875519f4820b92', 'message': ""build-wheel-cache: Reduce arm64 builds and various small updates\n\nBecause there are many more wheels to build on arm64, we need to\nreduce the arm64 builds to just latest two branches to have a\nreasonable build time.\n\nOutput the script output to logs; if the job gets timeout killed we\nstill get some log output.\n\nRemove --progress from parallel as it just floods the logs with output\nthat isn't useful to store.\n\nRemove --verbose from pip to try and reduce logs.  We can still see\nfailures but currently they are like 500mb compressed.\n\nZip and remove the logs in post so we don't copy over uncompressed\nlogs if we are timeout killed.\n\nChange-Id: I5fba52af7fcafb12d0d2c4b416d5e0b7e4feb238\n""}]",0,735092,541b5742222cdabf78c28d713f875519f4820b92,16,3,4,7118,,,0,"build-wheel-cache: Reduce arm64 builds and various small updates

Because there are many more wheels to build on arm64, we need to
reduce the arm64 builds to just latest two branches to have a
reasonable build time.

Output the script output to logs; if the job gets timeout killed we
still get some log output.

Remove --progress from parallel as it just floods the logs with output
that isn't useful to store.

Remove --verbose from pip to try and reduce logs.  We can still see
failures but currently they are like 500mb compressed.

Zip and remove the logs in post so we don't copy over uncompressed
logs if we are timeout killed.

Change-Id: I5fba52af7fcafb12d0d2c4b416d5e0b7e4feb238
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/92/735092/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-wheel-cache/files/wheel-build.sh', 'playbooks/wheel-cache/post-base.yaml']",2,9ae629216cf436da5e9116a76c374c90b868e8fa,wheel-jobs-sysconfig-roles, - name: Compress build logs archive: dest: '~/logs/build-logs.tar.bz2' src: '~/logs/build' format: bz2 - name: Remove uncompressed logs file: state: absent src: '~/logs/build' - name: Collect final logs, - name: Collect build logs,22,13
openstack%2Fopenstack-zuul-jobs~master~I13d6f27f0403e91fe4daf532d7d726c1dce91e6d,openstack/openstack-zuul-jobs,master,I13d6f27f0403e91fe4daf532d7d726c1dce91e6d,wheel-build-cache: skip scipy / scikit-learn on arm64 for now,MERGED,2020-06-11 06:07:13.000000000,2020-06-12 02:00:21.000000000,2020-06-12 01:59:10.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-06-11 06:07:13.000000000', 'files': ['roles/build-wheel-cache/files/wheel-build.sh'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/2dda50a56c7e28263fc129fbbc665b5523fce1c7', 'message': 'wheel-build-cache: skip scipy / scikit-learn on arm64 for now\n\nAs mentioned inline, these are blowing out the build time.  For now,\nskip them.\n\nChange-Id: I13d6f27f0403e91fe4daf532d7d726c1dce91e6d\n'}]",0,735054,2dda50a56c7e28263fc129fbbc665b5523fce1c7,11,4,1,7118,,,0,"wheel-build-cache: skip scipy / scikit-learn on arm64 for now

As mentioned inline, these are blowing out the build time.  For now,
skip them.

Change-Id: I13d6f27f0403e91fe4daf532d7d726c1dce91e6d
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/54/735054/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-wheel-cache/files/wheel-build.sh'],1,2dda50a56c7e28263fc129fbbc665b5523fce1c7,wheel-jobs-sysconfig-roles," # TODO(ianw) 2020-06: these are taking like 2000 seconds each to # build on arm64 and blowing out the build past a reasonable # timeout. It only seems to happen with the master versions for # now (scipy===1.4.1 and scikit-learn===0.23.1, at least). It # seems like they should not take that long; skip until someone # can investigate thoroughly. if [[ $(uname -m) != 'x86_64' && ${BRANCH} == 'master' ]]; then sed -i -e '/^scipy.*/d' -e '/^scikit-learn.*/d' /tmp/upper-constraints.txt fi ",,10,0
openstack%2Foctavia~stable%2Fstein~I87224a0e150ac2cf3c54d9c5ea13d125e8c492b7,openstack/octavia,stable/stein,I87224a0e150ac2cf3c54d9c5ea13d125e8c492b7,Fix allow_invisible_resource_usage typo in relnotes,MERGED,2020-06-12 01:33:36.000000000,2020-06-12 01:53:34.000000000,2020-06-12 01:52:14.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-12 01:33:36.000000000', 'files': ['releasenotes/notes/allow-invisible-subnets-e30b0b5fbd216294.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/07ef9ef8f6100e9944dd0253c5082ecfa5ee4687', 'message': 'Fix allow_invisible_resource_usage typo in relnotes\n\nChange-Id: I87224a0e150ac2cf3c54d9c5ea13d125e8c492b7\n'}]",0,735270,07ef9ef8f6100e9944dd0253c5082ecfa5ee4687,7,2,1,9061,,,0,"Fix allow_invisible_resource_usage typo in relnotes

Change-Id: I87224a0e150ac2cf3c54d9c5ea13d125e8c492b7
",git fetch https://review.opendev.org/openstack/octavia refs/changes/70/735270/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/allow-invisible-subnets-e30b0b5fbd216294.yaml'],1,07ef9ef8f6100e9944dd0253c5082ecfa5ee4687,," by setting the ""allow_invisible_resource_usage"" configuration file setting"," by setting the ""allow_invisible_reourece_usage"" configuration file setting",1,1
openstack%2Fdiskimage-builder~master~Iede929ea2d278008220aac8b1d678ba41eba0d8a,openstack/diskimage-builder,master,Iede929ea2d278008220aac8b1d678ba41eba0d8a,Remove virtualenv activation,MERGED,2020-06-09 03:13:19.000000000,2020-06-12 01:18:40.000000000,2020-06-12 01:17:17.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-09 03:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/860023aa6eab3fceb409a06b275a8f0529ad9c47', 'message': 'Remove virtualenv activation\n\nSince the original merge of this code\n(04208e7c79e52e2db905b973ab018deec6782260) several things have\nchanged; particularly now we ship dib-run-parts as part of dib, not as\na separate package.\n\nWe setup $_LIB to point to the shipped library diretory via\npkg_resources lookups.  We now call dib-run-parts (as mentioned,\nshipped as a dib library now), source scripts, etc. via $_LIB and thus\ndo not rely on $PATH.  Consequently we don\'t need this activation\npart.\n\nWhich is helpful, because ""venv"" (as opposed to virtualenv) doesn\'t\nhave activate_this.py.  So this fixes installation under that for\nPython 3.\n\nWe update the functional tests to use the virtualenv_command exported\nby the ensure-pip role, which will test the venv path.\n\nChange-Id: Iede929ea2d278008220aac8b1d678ba41eba0d8a\n'}, {'number': 2, 'created': '2020-06-09 03:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5ff30626a97b344f125692c24cdbf9c48ac53c68', 'message': 'Remove virtualenv activation\n\nSince the original merge of this code\n(04208e7c79e52e2db905b973ab018deec6782260) several things have\nchanged; particularly now we ship dib-run-parts as part of dib, not as\na separate package.\n\nWe setup $_LIB to point to the shipped library diretory via\npkg_resources lookups.  We now call dib-run-parts (as mentioned,\nshipped as a dib library now), source scripts, etc. via $_LIB and thus\ndo not rely on $PATH.  Consequently we don\'t need this activation\npart.\n\nWhich is helpful, because ""venv"" (as opposed to virtualenv) doesn\'t\nhave activate_this.py.  So this fixes installation under that for\nPython 3.\n\nWe update the functional tests to use the virtualenv_command exported\nby the ensure-pip role, which will test the venv path.\n\nChange-Id: Iede929ea2d278008220aac8b1d678ba41eba0d8a\n'}, {'number': 3, 'created': '2020-06-09 03:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/41368811ebe53d774b93ea9cb1b05e3fa75b335d', 'message': 'Remove virtualenv activation\n\nSince the original merge of this code\n(04208e7c79e52e2db905b973ab018deec6782260) several things have\nchanged; particularly now we ship dib-run-parts as part of dib, not as\na separate package.\n\nWe setup $_LIB to point to the shipped library diretory via\npkg_resources lookups.  We now call dib-run-parts (as mentioned,\nshipped as a dib library now), source scripts, etc. via $_LIB and thus\ndo not rely on $PATH.  Consequently we don\'t need this activation\npart.\n\nWhich is helpful, because ""venv"" (as opposed to virtualenv) doesn\'t\nhave activate_this.py.  So this fixes installation under that for\nPython 3.\n\nWe update the functional tests to use the virtualenv_command exported\nby the ensure-pip role, which will test the venv path.\n\nChange-Id: Iede929ea2d278008220aac8b1d678ba41eba0d8a\n'}, {'number': 4, 'created': '2020-06-09 03:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d27ba81c0ee6b6de20df324259b50a0f2a422f48', 'message': 'Remove virtualenv activation\n\nSince the original merge of this code\n(04208e7c79e52e2db905b973ab018deec6782260) several things have\nchanged; particularly now we ship dib-run-parts as part of dib, not as\na separate package.\n\nWe setup $_LIB to point to the shipped library diretory via\npkg_resources lookups.  We now call dib-run-parts (as mentioned,\nshipped as a dib library now), source scripts, etc. via $_LIB and thus\ndo not rely on $PATH.  Consequently we don\'t need this activation\npart.\n\nWhich is helpful, because ""venv"" (as opposed to virtualenv) doesn\'t\nhave activate_this.py.  So this fixes installation under that for\nPython 3.\n\nWe update the functional tests to use the virtualenv_command exported\nby the ensure-pip role, which will test the venv path.  There is no\nneed for dib_python as we are Python 3 only now.\n\nChange-Id: Iede929ea2d278008220aac8b1d678ba41eba0d8a\n'}, {'number': 5, 'created': '2020-06-11 06:49:28.000000000', 'files': ['diskimage_builder/disk_image_create.py', 'releasenotes/notes/virtualenv-activation-6de5738c9db8241d.yaml', 'roles/dib-functests/defaults/main.yaml', 'playbooks/dib-functests/run.yaml', 'roles/dib-functests/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e793cc4038c6b131b801e854b233fd07ab766bcf', 'message': 'Remove virtualenv activation\n\nSince the original merge of this code\n(04208e7c79e52e2db905b973ab018deec6782260) several things have\nchanged; particularly now we ship dib-run-parts as part of dib, not as\na separate package.\n\nWe setup $_LIB to point to the shipped library diretory via\npkg_resources lookups.  We now call dib-run-parts (as mentioned,\nshipped as a dib library now), source scripts, etc. via $_LIB and thus\ndo not rely on $PATH.  Consequently we don\'t need this activation\npart.\n\nWhich is helpful, because ""venv"" (as opposed to virtualenv) doesn\'t\nhave activate_this.py.  So this fixes installation under that for\nPython 3.\n\nWe update the functional tests to use the virtualenv_command exported\nby the ensure-pip role, which will test the venv path.  There is no\nneed for dib_python as we are Python 3 only now.\n\nChange-Id: Iede929ea2d278008220aac8b1d678ba41eba0d8a\n'}]",1,734414,e793cc4038c6b131b801e854b233fd07ab766bcf,30,6,5,7118,,,0,"Remove virtualenv activation

Since the original merge of this code
(04208e7c79e52e2db905b973ab018deec6782260) several things have
changed; particularly now we ship dib-run-parts as part of dib, not as
a separate package.

We setup $_LIB to point to the shipped library diretory via
pkg_resources lookups.  We now call dib-run-parts (as mentioned,
shipped as a dib library now), source scripts, etc. via $_LIB and thus
do not rely on $PATH.  Consequently we don't need this activation
part.

Which is helpful, because ""venv"" (as opposed to virtualenv) doesn't
have activate_this.py.  So this fixes installation under that for
Python 3.

We update the functional tests to use the virtualenv_command exported
by the ensure-pip role, which will test the venv path.  There is no
need for dib_python as we are Python 3 only now.

Change-Id: Iede929ea2d278008220aac8b1d678ba41eba0d8a
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/14/734414/5 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/disk_image_create.py', 'playbooks/dib-functests/run.yaml', 'roles/dib-functests/tasks/main.yaml']",3,860023aa6eab3fceb409a06b275a8f0529ad9c47,venv," virtualenv_command: ""{{ ensure_pip_virtualenv_command }}'",,2,45
openstack%2Fneutron~master~I6b864ba1c168643640a64bd7c25e1d0fc0ea348a,openstack/neutron,master,I6b864ba1c168643640a64bd7c25e1d0fc0ea348a,[OVN] Create localnet port for each created segment,MERGED,2020-03-26 10:43:02.000000000,2020-06-12 01:14:39.000000000,2020-06-11 21:02:59.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-26 10:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a66e839210af695595127ae9a6c089f7be0971d', 'message': '[WIP][OVN] Create localnet port for each created segment\n\nIf new segment is created/old deleted we should update its\nlocalnet port in related Logical_Switch.\n\nChange-Id: I6b864ba1c168643640a64bd7c25e1d0fc0ea348a\nRelated-Bug: 1865889\n'}, {'number': 2, 'created': '2020-03-31 13:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0af9489ea414d6caa319ffe3d21996a8f95686b3', 'message': '[WIP][OVN] Create localnet port for each created segment\n\nIf new segment is created/old deleted we should update its\nlocalnet port in related Logical_Switch.\n\nChange-Id: I6b864ba1c168643640a64bd7c25e1d0fc0ea348a\nRelated-Bug: 1865889\n'}, {'number': 3, 'created': '2020-03-31 15:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/48e94fd373da89f05617ce1bf5f5745424ad596b', 'message': '[WIP][OVN] Create localnet port for each created segment\n\nIf new segment is created/old deleted we should update its\nlocalnet port in related Logical_Switch.\n\nChange-Id: I6b864ba1c168643640a64bd7c25e1d0fc0ea348a\nRelated-Bug: 1865889\n'}, {'number': 4, 'created': '2020-04-01 10:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e558a8c22942fa3c49279fe06810669c5962737e', 'message': '[OVN] Create localnet port for each created segment\n\nIf new segment is created/old deleted we should update its\nlocalnet port in related Logical_Switch.\n\nChange-Id: I6b864ba1c168643640a64bd7c25e1d0fc0ea348a\nRelated-Bug: 1865889\n'}, {'number': 5, 'created': '2020-04-01 13:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/abc9e1612ca9be9b3e99acce16d935a61d82967e', 'message': '[OVN] Create localnet port for each created segment\n\nIf new segment is created/old deleted we should update its\nlocalnet port in related Logical_Switch.\n\nChange-Id: I6b864ba1c168643640a64bd7c25e1d0fc0ea348a\nRelated-Bug: 1865889\n'}, {'number': 6, 'created': '2020-04-02 12:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c55a3049435c2e2cddcd848d3c6193ef88926395', 'message': '[OVN] Create localnet port for each created segment\n\nIf new segment is created/old deleted we should update its\nlocalnet port in related Logical_Switch.\n\nChange-Id: I6b864ba1c168643640a64bd7c25e1d0fc0ea348a\nRelated-Bug: 1865889\n'}, {'number': 7, 'created': '2020-04-02 13:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f4cd5f82a67a5fb131a918f3e0d54b04ec58e2e3', 'message': '[OVN] Create localnet port for each created segment\n\nIf new segment is created/old deleted we should update its\nlocalnet port in related Logical_Switch.\n\nChange-Id: I6b864ba1c168643640a64bd7c25e1d0fc0ea348a\nRelated-Bug: 1865889\n'}, {'number': 8, 'created': '2020-04-05 18:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/366077b88ca946930a9a5dcbe08c11cec4fe5265', 'message': '[OVN] Create localnet port for each created segment\n\nIf new segment is created/old deleted we should update its\nlocalnet port in related Logical_Switch.\n\nChange-Id: I6b864ba1c168643640a64bd7c25e1d0fc0ea348a\nRelated-Bug: 1865889\n'}, {'number': 9, 'created': '2020-04-21 09:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d93f5255c63403453245bdbcf4b1cf6b3ce421cc', 'message': '[OVN] Create localnet port for each created segment\n\nIf new segment is created/old deleted we should update its\nlocalnet port in related Logical_Switch.\n\nChange-Id: I6b864ba1c168643640a64bd7c25e1d0fc0ea348a\nRelated-Bug: 1865889\n'}, {'number': 10, 'created': '2020-04-27 13:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/effcfb46629205e60e6c78fd8087a0f49dd5a6be', 'message': '[OVN] Create localnet port for each created segment\n\nIf new segment is created/old deleted we should update its\nlocalnet port in related Logical_Switch.\n\nChange-Id: I6b864ba1c168643640a64bd7c25e1d0fc0ea348a\nRelated-Bug: 1865889\n'}, {'number': 11, 'created': '2020-05-11 12:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/68a484c40497b516c22ba25dea96967a242ab8e2', 'message': '[OVN] Create localnet port for each created segment\n\nIf new segment is created/old deleted we should update its\nlocalnet port in related Logical_Switch.\n\nChange-Id: I6b864ba1c168643640a64bd7c25e1d0fc0ea348a\nRelated-Bug: 1865889\n'}, {'number': 12, 'created': '2020-05-13 07:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9871784e3852739c9288d2b3b36cd579dc3c36d9', 'message': '[OVN] Create localnet port for each created segment\n\nIf new segment is created/old deleted we should update its\nlocalnet port in related Logical_Switch.\n\nChange-Id: I6b864ba1c168643640a64bd7c25e1d0fc0ea348a\nRelated-Bug: 1865889\n'}, {'number': 13, 'created': '2020-05-13 13:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/902cce84701e0b3f49652f6208eec5795fd43592', 'message': '[OVN] Create localnet port for each created segment\n\nIf new segment is created/old deleted we should update its\nlocalnet port in related Logical_Switch.\n\nChange-Id: I6b864ba1c168643640a64bd7c25e1d0fc0ea348a\nRelated-Bug: 1865889\n'}, {'number': 14, 'created': '2020-05-20 10:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ba2a4ea4296438d344e9c60a73d7f27012fe7fbb', 'message': '[OVN] Create localnet port for each created segment\n\nIf new segment is created/old deleted we should update its\nlocalnet port in related Logical_Switch.\n\nChange-Id: I6b864ba1c168643640a64bd7c25e1d0fc0ea348a\nRelated-Bug: 1865889\n'}, {'number': 15, 'created': '2020-05-20 19:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d2b6e3e41f6b3df9acacee8df050222bc7778fb', 'message': '[OVN] Create localnet port for each created segment\n\nIf new segment is created/old deleted we should update its\nlocalnet port in related Logical_Switch.\n\nChange-Id: I6b864ba1c168643640a64bd7c25e1d0fc0ea348a\nRelated-Bug: 1865889\n'}, {'number': 16, 'created': '2020-05-29 10:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6dcf83c4fcd2cfef6f85eb2f75e75c7999081472', 'message': '[OVN] Create localnet port for each created segment\n\nIf new segment is created/old deleted we should update its\nlocalnet port in related Logical_Switch.\n\nChange-Id: I6b864ba1c168643640a64bd7c25e1d0fc0ea348a\nRelated-Bug: 1865889\n'}, {'number': 17, 'created': '2020-06-04 10:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e4682d747345f38e093fe414739995f76ccc9e1b', 'message': '[OVN] Create localnet port for each created segment\n\nIf new segment is created/old deleted we should update its\nlocalnet port in related Logical_Switch.\n\nChange-Id: I6b864ba1c168643640a64bd7c25e1d0fc0ea348a\nRelated-Bug: 1865889\n'}, {'number': 18, 'created': '2020-06-09 12:18:36.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/base.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/483f468fdd5bb549f763d0507e0a7ac1106eb85a', 'message': '[OVN] Create localnet port for each created segment\n\nIf new segment is created/old deleted we should update its\nlocalnet port in related Logical_Switch.\n\nAdded also missing code to sync tool in order to delete provnet\nports in case of leftovers.\n\nChange-Id: I6b864ba1c168643640a64bd7c25e1d0fc0ea348a\nRelated-Bug: 1865889\n'}]",61,715157,483f468fdd5bb549f763d0507e0a7ac1106eb85a,156,14,18,24791,,,0,"[OVN] Create localnet port for each created segment

If new segment is created/old deleted we should update its
localnet port in related Logical_Switch.

Added also missing code to sync tool in order to delete provnet
ports in case of leftovers.

Change-Id: I6b864ba1c168643640a64bd7c25e1d0fc0ea348a
Related-Bug: 1865889
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/715157/17 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,3a66e839210af695595127ae9a6c089f7be0971d,bug/1865889," def _create_provnet_port(self, txn, network, segment): tag = segment.get(pnet.SEGMENTATION_ID) physnet = segment.get(pnet.PHYSICAL_NETWORK) lport_name=utils.ovn_provnet_port_name(segment['id']), self._ensure_segment_provnet_ports( txn, lswitch=None, network=network) def _ensure_segment_provnet_ports(self, txn, lswitch=None, network=None): found_provnet_ports = set() segments = network.get('segments') if not segments: return required_provnet_ports = { utils.ovn_provnet_port_name(s['id']) for s in segments} if lswitch: found_provnet_ports = { l.name for l in lswitch.ports if l.name.startswith(ovn_const.OVN_PROVNET_PORT_NAME_PREFIX)} if found_provnet_ports == required_provnet_ports: return missing_provnet_ports = required_provnet_ports - found_provnet_ports provnet_ports_to_delete = found_provnet_ports - required_provnet_ports legacy_p_name = utils.ovn_provnet_port_name(network['id']) # TODO(mjozefcz): Remove this code in W-release, when all # provider localnet ports will be renamed. if (missing_provnet_ports and legacy_p_name in found_provnet_ports and legacy_p_name in provnet_ports_to_delete): # We have the legacy situation where the provnet port is there # but its name is based on the network_id instead segment_id. # Lets update the name to reflect new convention. new_p_name = None for lport in lswitch.ports: if lport.name == legacy_p_name: # Now lets find what segment this lport refers to for s in segments: if (s[pnet.PHYSICAL_NETWORK] == lport.options['network_name']): new_p_name = utils.ovn_provnet_port_name(s['id']) break if new_p_name: break if new_p_name: txn.add(self._nb_idl.db_set('Logical_Switch_Port', lport.uuid, ('name', new_p_name))) missing_provnet_ports.remove(new_p_name) provnet_ports_to_delete.remove(legacy_p_name) else: LOG.warning('Legacy physical network localnet port name ' '%(lport)s has been found, but cannot find a ' 'segment in Neutron to what this lport belongs ' 'to. Perhaps a this segment is going to be ' 'deleted now. Neutron network %(network)s', {'lport': legacy_p_name, 'network': network['id']}) for provnet_port in missing_provnet_ports: segment_id = provnet_port.strip( ovn_const.OVN_PROVNET_PORT_NAME_PREFIX) LOG.debug('Provider localnet port %(port)s for network ' '%(network)s segment %(segment)s is missing. ' 'Adding it to Logical_Switch.', {'network': network['id'], 'segment': segment_id, 'port': provnet_port}) for s in segments: if s['id'] == segment_id: self._create_provnet_port(txn, network, s) for provnet_port in provnet_ports_to_delete: segment_id = provnet_port.strip( ovn_const.OVN_PROVNET_PORT_NAME_PREFIX) LOG.debug('Provider localnet port %(port)s for network ' '%(network)s segment %(segment)s needs to be. ' 'removed from Logical_Switch, because segment ' 'is deleted.', {'network': network['id'], 'segment': segment_id, 'port': provnet_port}) txn.add(self._nb_idl.delete_lswitch_port( lport_name=provnet_port, lswitch_name=utils.ovn_name(network['id']))) # NOTE(mjozefcz): Validate if any new segment has been # added/removed to the providernet, if so add/remove # provnet ports if utils.is_provider_network(network) and lswitch: self._ensure_segment_provnet_ports( txn, lswitch=lswitch, network=network) "," def _create_provnet_port(self, txn, network, physnet, tag): lport_name=utils.ovn_provnet_port_name(network['id']), physnet = network.get(pnet.PHYSICAL_NETWORK) if physnet: self._create_provnet_port(txn, network, physnet, network.get(pnet.SEGMENTATION_ID))",97,6
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ib71c3e2be2b8dc57f3c9107c6ddab47cd6594202,openstack/tripleo-heat-templates,stable/ussuri,Ib71c3e2be2b8dc57f3c9107c6ddab47cd6594202,Use empty string for overcloud InternalTLSCAFile param,MERGED,2020-06-08 06:22:42.000000000,2020-06-12 00:56:53.000000000,2020-06-12 00:56:53.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-08 06:22:42.000000000', 'files': ['sample-env-generator/ssl.yaml', 'environments/ssl/enable-tls.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dadc45daa42bf1f9050a2e3f1dea6d8b7a3d0c5a', 'message': ""Use empty string for overcloud InternalTLSCAFile param\n\nNot all deployments have the file in the current default location\nand rather use trusted certs for public tls. This also creates\nissues in downstream jobs that don't inject overcloud ca with\nenvironment/inject-trust-anchor.yaml\n\nThis default will ensure that it works in those scenarios.\n\nChange-Id: Ib71c3e2be2b8dc57f3c9107c6ddab47cd6594202\nRelated-Bug: #1880936\n(cherry picked from commit cf5382daf799a06cbfaa3257f11a0cb0b2186a48)\n""}]",0,734011,dadc45daa42bf1f9050a2e3f1dea6d8b7a3d0c5a,8,4,1,8833,,,0,"Use empty string for overcloud InternalTLSCAFile param

Not all deployments have the file in the current default location
and rather use trusted certs for public tls. This also creates
issues in downstream jobs that don't inject overcloud ca with
environment/inject-trust-anchor.yaml

This default will ensure that it works in those scenarios.

Change-Id: Ib71c3e2be2b8dc57f3c9107c6ddab47cd6594202
Related-Bug: #1880936
(cherry picked from commit cf5382daf799a06cbfaa3257f11a0cb0b2186a48)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/734011/1 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/ssl.yaml', 'environments/ssl/enable-tls.yaml']",2,dadc45daa42bf1f9050a2e3f1dea6d8b7a3d0c5a,, InternalTLSCAFile: '', InternalTLSCAFile: /etc/pki/ca-trust/source/anchors/overcloud-cacert.pem,2,2
openstack%2Fansible-collections-openstack~master~I7ac15d84d54e9ebc1260b633326e19b612a83170,openstack/ansible-collections-openstack,master,I7ac15d84d54e9ebc1260b633326e19b612a83170,Add note about py3 in readme,MERGED,2020-06-11 08:51:10.000000000,2020-06-11 23:51:13.000000000,2020-06-11 23:51:13.000000000,"[{'_account_id': 2}, {'_account_id': 9592}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-06-11 08:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f2f07ea9e72f2cd4db27bbb5d823e1b102b81aec', 'message': 'Add note about py3 in readme\n\nChange-Id: I7ac15d84d54e9ebc1260b633326e19b612a83170\n'}, {'number': 2, 'created': '2020-06-11 12:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a7d65b2e12cc718c1ee55b8d13025ddde1028d84', 'message': 'Add note about py3 in readme\n\nChange-Id: I7ac15d84d54e9ebc1260b633326e19b612a83170\n'}, {'number': 3, 'created': '2020-06-11 14:24:03.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4d1017d5d958b5fa7beafa9d6d548ca1e4453597', 'message': 'Add note about py3 in readme\n\nChange-Id: I7ac15d84d54e9ebc1260b633326e19b612a83170\n'}]",0,735081,4d1017d5d958b5fa7beafa9d6d548ca1e4453597,12,5,3,10969,,,0,"Add note about py3 in readme

Change-Id: I7ac15d84d54e9ebc1260b633326e19b612a83170
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/81/735081/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,f2f07ea9e72f2cd4db27bbb5d823e1b102b81aec,,Using Python verison 3 is highly recommended for latest OpenstackSDK.,,1,0
openstack%2Fproject-config~master~I1671345d71cd60f6508a2c067c4e308680234afe,openstack/project-config,master,I1671345d71cd60f6508a2c067c4e308680234afe,Install git-review under python3 for proposed updates,MERGED,2020-06-10 22:13:19.000000000,2020-06-11 23:45:48.000000000,2020-06-11 23:45:48.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 22:13:19.000000000', 'files': ['playbooks/proposal/pre.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8ee0a3a869fb7e78c62a5ced2de60a80cf7257ac', 'message': 'Install git-review under python3 for proposed updates\n\nWe were installing git-review under python2 in order to propose updates\nto Gerrit. git-review happily runs under python3 so update the\ninstallation to avoid python2.\n\nChange-Id: I1671345d71cd60f6508a2c067c4e308680234afe\n'}]",0,735019,8ee0a3a869fb7e78c62a5ced2de60a80cf7257ac,7,3,1,4146,,,0,"Install git-review under python3 for proposed updates

We were installing git-review under python2 in order to propose updates
to Gerrit. git-review happily runs under python3 so update the
installation to avoid python2.

Change-Id: I1671345d71cd60f6508a2c067c4e308680234afe
",git fetch https://review.opendev.org/openstack/project-config refs/changes/19/735019/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/proposal/pre.yaml'],1,8ee0a3a869fb7e78c62a5ced2de60a80cf7257ac,python3-git-review, command: pip3 install git-review, command: pip install git-review,1,1
openstack%2Fnova~stable%2Ftrain~I764481966c96a67d993da6e902dc9fc3ad29ee36,openstack/nova,stable/train,I764481966c96a67d993da6e902dc9fc3ad29ee36,libvirt: Don't delete disks on shared storage during evacuate,MERGED,2020-05-27 16:37:24.000000000,2020-06-11 23:36:05.000000000,2020-06-11 23:33:57.000000000,"[{'_account_id': 4690}, {'_account_id': 9555}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-27 16:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d79661c24b9faa883047447b3c6e6b7f634472fc', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nNOTE(lyarwood): Conflicts due to I08cd4787ab4c9539574237e26ba5bf6d4246b32e\nand I5a9e5532c46a5f7064441ae644125d21efe5fda1 not being present in\nstable/train.\n\nConflicts:\n    nova/tests/unit/virt/libvirt/test_driver.py\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 083df01a4d90e155c1b4ef9e954d8be14a02d830)\n(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)\n(cherry picked from commit d298f7763b709cfc01f89222de31f566310748b3)\n""}, {'number': 2, 'created': '2020-06-02 13:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/005fcaf01f22aebee58ee70cdcc7ef56da6c59af', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nNOTE(lyarwood): Conflicts due to I08cd4787ab4c9539574237e26ba5bf6d4246b32e\nand I5a9e5532c46a5f7064441ae644125d21efe5fda1 not being present in\nstable/train.\n\nConflicts:\n    nova/tests/unit/virt/libvirt/test_driver.py\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 083df01a4d90e155c1b4ef9e954d8be14a02d830)\n(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)\n(cherry picked from commit d298f7763b709cfc01f89222de31f566310748b3)\n""}, {'number': 3, 'created': '2020-06-10 00:44:09.000000000', 'files': ['nova/tests/functional/libvirt/test_evacuate.py', 'nova/virt/libvirt/driver.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/functional/regressions/test_bug_1595962.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1a320f2a0e0918de6afcce5cf23b7de178ec3a49', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nConflicts:\n    nova/tests/unit/virt/libvirt/test_driver.py\n\nNOTE(lyarwood): Conflicts due to I08cd4787ab4c9539574237e26ba5bf6d4246b32e\nand I5a9e5532c46a5f7064441ae644125d21efe5fda1 not being present in\nstable/train.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)\n(cherry picked from commit 8b48ca672d9c0eb108c71b7f9f3f089d9ecf688a)\n""}]",6,731273,1a320f2a0e0918de6afcce5cf23b7de178ec3a49,28,9,3,10135,,,0,"libvirt: Don't delete disks on shared storage during evacuate

When evacuating an instance between compute hosts on shared storage,
during the rebuild operation we call spawn() on the destination
compute. spawn() currently assumes that it should cleanup all
resources on failure, which results in user data being deleted in the
evacuate case.

This change modifies spawn in the libvirt driver such that it only
cleans up resources it created.

Conflicts:
    nova/tests/unit/virt/libvirt/test_driver.py

NOTE(lyarwood): Conflicts due to I08cd4787ab4c9539574237e26ba5bf6d4246b32e
and I5a9e5532c46a5f7064441ae644125d21efe5fda1 not being present in
stable/train.

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Closes-Bug: #1550919
Change-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36
(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)
(cherry picked from commit 8b48ca672d9c0eb108c71b7f9f3f089d9ecf688a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/731273/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_evacuate.py', 'nova/virt/libvirt/driver.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/functional/regressions/test_bug_1595962.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",5,d79661c24b9faa883047447b3c6e6b7f634472fc,bug/1550919," mock.patch.object(drvr, '_cleanup')): cleanup_instance_dir=False, cleanup_instance_disks=False): mock.patch.object(drvr, '_cleanup')): @mock.patch.object(drvr, '_cleanup') self.assertRaises( test.TestingException, drvr._create_domain_and_network, self.context, 'xml', instance, [], None, cleanup_instance_dir=mock.sentinel.cleanup_instance_dir, cleanup_instance_disks=mock.sentinel.cleanup_instance_disks) mock_cleanup.assert_called_once_with( self.context, instance, [], None, None, cleanup_instance_dir=mock.sentinel.cleanup_instance_dir, cleanup_instance_disks=mock.sentinel.cleanup_instance_disks) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: drvr._cleanup_failed_start( None, None, None, None, None, False, False) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: drvr._cleanup_failed_start( None, None, None, None, guest, False, False) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: drvr._cleanup_failed_start( None, None, None, None, guest, False, False) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: None, None, None, None, guest, False, False) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: self.assertRaises( test.TestingException, drvr._cleanup_failed_start, None, None, None, None, guest, cleanup_instance_dir=mock.sentinel.cleanup_instance_dir, cleanup_instance_disks=mock.sentinel.cleanup_instance_disks) mock_cleanup.assert_called_once_with( None, None, None, block_device_info=None, destroy_vifs=True, cleanup_instance_dir=mock.sentinel.cleanup_instance_dir, cleanup_instance_disks=mock.sentinel.cleanup_instance_disks)"," mock.patch.object(drvr, 'cleanup')): destroy_disks_on_failure=False): mock.patch.object(drvr, 'cleanup')): @mock.patch.object(drvr, 'cleanup') self.assertRaises(test.TestingException, drvr._create_domain_and_network, self.context, 'xml', instance, [], None) mock_cleanup.assert_called_once_with(self.context, instance, [], None, None, False) # destroy_disks_on_failure=True, used only by spawn() mock_cleanup.reset_mock() self.assertRaises(test.TestingException, drvr._create_domain_and_network, self.context, 'xml', instance, [], None, destroy_disks_on_failure=True) mock_cleanup.assert_called_once_with(self.context, instance, [], None, None, True) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: drvr._cleanup_failed_start(None, None, None, None, None, False) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: drvr._cleanup_failed_start(None, None, None, None, guest, False) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: drvr._cleanup_failed_start(None, None, None, None, guest, False) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: None, None, None, None, guest, False) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: self.assertRaises(test.TestingException, drvr._cleanup_failed_start, None, None, None, None, guest, True) mock_cleanup.assert_called_once_with(None, None, network_info=None, block_device_info=None, destroy_disks=True)",184,90
openstack%2Fneutron~stable%2Fussuri~I140ae0c476bf9e19b4429ce388ddc7cc3f4cd421,openstack/neutron,stable/ussuri,I140ae0c476bf9e19b4429ce388ddc7cc3f4cd421,ovn-migration: Stop ml2/ovs agents before installing OVN resources,MERGED,2020-06-10 18:16:44.000000000,2020-06-11 23:35:36.000000000,2020-06-11 23:34:02.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-10 18:16:44.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/defaults/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/vars/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/tasks/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/ovn-migration.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/tasks/cleanup.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b0ca47c6dd8b2eca14452c477306d32fc3e2fa7', 'message': 'ovn-migration: Stop ml2/ovs agents before installing OVN resources\n\nTripleO used to uninstall services if the resources were set to None. It\nwas not intentional and TripleO no longer does that. This patch manually\nremoves dhcp, l3, metadata and ovs agents from controller and compute\nnodes, including its systemd service files.\n\nCloses-Bug: #1878358\nChange-Id: I140ae0c476bf9e19b4429ce388ddc7cc3f4cd421\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit 4d5b9a62b97dfa7245efc92cadda4e4c7d0e406a)\n'}]",0,734899,9b0ca47c6dd8b2eca14452c477306d32fc3e2fa7,9,4,1,8655,,,0,"ovn-migration: Stop ml2/ovs agents before installing OVN resources

TripleO used to uninstall services if the resources were set to None. It
was not intentional and TripleO no longer does that. This patch manually
removes dhcp, l3, metadata and ovs agents from controller and compute
nodes, including its systemd service files.

Closes-Bug: #1878358
Change-Id: I140ae0c476bf9e19b4429ce388ddc7cc3f4cd421
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 4d5b9a62b97dfa7245efc92cadda4e4c7d0e406a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/734899/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/defaults/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/vars/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/tasks/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/ovn-migration.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/tasks/cleanup.yml']",5,9b0ca47c6dd8b2eca14452c477306d32fc3e2fa7,bug/1878358-stable/ussuri,"--- - name: ""stop and disable {{ service.name }} services and healthchecks"" systemd: name: ""{{ item }}"" state: stopped enabled: no become: yes loop: - ""{{ service.healthcheck_timer_file }}"" - ""{{ service.healthcheck_service_file }}"" - ""{{ service.service_file }}"" - name: delete ml2 ovs systemd service files file: path: ""{{ systemd_service_file_dir }}/{{ item }}"" state: absent loop: - ""{{ service.service_file }}"" - ""{{ service.healthcheck_service_file }}"" - ""{{ service.healthcheck_timer_file }}"" become: yes ",,69,0
openstack%2Foctavia~stable%2Fstein~I479019a911b5a1acfc1951d1cbbc2a351089cb4d,openstack/octavia,stable/stein,I479019a911b5a1acfc1951d1cbbc2a351089cb4d,Validate resource access when creating loadbalancer or member,MERGED,2020-04-22 22:14:29.000000000,2020-06-11 23:28:05.000000000,2020-06-11 23:25:28.000000000,"[{'_account_id': 6469}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-22 22:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b27a95b4769f5b0a770fab3ea6c62c19c8302bd0', 'message': 'Validate resource access when creating loadbalancer or member\n\n* Make sure the user has access to the subnet in the request for\n  creating or updating pool member.\n* Make sure the user has access to port or subnet or network for\n  creating load balancer\n\nStory: 2007531\nTask: 39339\n\nChange-Id: I479019a911b5a1acfc1951d1cbbc2a351089cb4d\n(cherry picked from commit a33d42fa59ada38dd5a5d3114a9a83f03a30d0b2)\n'}, {'number': 2, 'created': '2020-05-01 09:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2cc8ae4e090e3979da7fa3b022ca46f6a26e7d70', 'message': 'Validate resource access when creating loadbalancer or member\n\n* Make sure the user has access to the subnet in the request for\n  creating or updating pool member.\n* Make sure the user has access to port or subnet or network for\n  creating load balancer\n\nStory: 2007531\nTask: 39339\n\nChange-Id: I479019a911b5a1acfc1951d1cbbc2a351089cb4d\n(cherry picked from commit a33d42fa59ada38dd5a5d3114a9a83f03a30d0b2)\n'}, {'number': 3, 'created': '2020-06-11 06:27:20.000000000', 'files': ['octavia/common/config.py', 'octavia/tests/unit/network/drivers/neutron/test_base.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/network/drivers/neutron/base.py', 'octavia/api/v2/controllers/member.py', 'octavia/network/base.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/common/clients.py', 'releasenotes/notes/allow-invisible-subnets-e30b0b5fbd216294.yaml', 'etc/octavia.conf', 'octavia/common/validate.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e719a4725f6617546b49cc13bd6c9dadae513404', 'message': 'Validate resource access when creating loadbalancer or member\n\n* Make sure the user has access to the subnet in the request for\n  creating or updating pool member.\n* Make sure the user has access to port or subnet or network for\n  creating load balancer\n\nStory: 2007531\nTask: 39339\n\nChange-Id: I479019a911b5a1acfc1951d1cbbc2a351089cb4d\n(cherry picked from commit a33d42fa59ada38dd5a5d3114a9a83f03a30d0b2)\n'}]",0,722158,e719a4725f6617546b49cc13bd6c9dadae513404,23,4,3,11628,,,0,"Validate resource access when creating loadbalancer or member

* Make sure the user has access to the subnet in the request for
  creating or updating pool member.
* Make sure the user has access to port or subnet or network for
  creating load balancer

Story: 2007531
Task: 39339

Change-Id: I479019a911b5a1acfc1951d1cbbc2a351089cb4d
(cherry picked from commit a33d42fa59ada38dd5a5d3114a9a83f03a30d0b2)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/58/722158/3 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'octavia/tests/unit/network/drivers/neutron/test_base.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/network/drivers/neutron/base.py', 'octavia/api/v2/controllers/member.py', 'octavia/network/base.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/common/clients.py', 'releasenotes/notes/allow-invisible-subnets-e30b0b5fbd216294.yaml', 'etc/octavia.conf', 'octavia/common/validate.py']",11,b27a95b4769f5b0a770fab3ea6c62c19c8302bd0,validate-resource-stable/train-stable/stein,"def port_exists(port_id, context=None): port = network_driver.get_port(port_id, context=context)def subnet_exists(subnet_id, context=None): subnet = network_driver.get_subnet(subnet_id, context=context)def network_exists_optionally_contains_subnet(network_id, subnet_id=None, context=None): network = network_driver.get_network(network_id, context=context)","def port_exists(port_id): port = network_driver.get_port(port_id)def subnet_exists(subnet_id): subnet = network_driver.get_subnet(subnet_id)def network_exists_optionally_contains_subnet(network_id, subnet_id=None): network = network_driver.get_network(network_id)",176,33
openstack%2Foctavia~stable%2Fussuri~Ib0fc26877710dea423a5ebcf1f71077665404377,openstack/octavia,stable/ussuri,Ib0fc26877710dea423a5ebcf1f71077665404377,Workaround peer name starting with hyphen,MERGED,2020-06-01 18:01:00.000000000,2020-06-11 23:27:23.000000000,2020-06-11 23:24:05.000000000,"[{'_account_id': 1131}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-01 18:01:00.000000000', 'files': ['octavia/common/utils.py', 'releasenotes/notes/fix-peer-name-prefix-hypen-e74a87e9a01b4f4c.yaml', 'octavia/tests/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/df36c2c8ca54e9b8f63bb3c0231e85f1b87b35b3', 'message': ""Workaround peer name starting with hyphen\n\nThe base64_sha_string method is used to set a base64-encoded peer name\nin HAProxy. There are cases where the peer name can start with\nan hypen which is troublesome when used in HAProxy CLI. Specifically,\nHAProxy fails to reload when local peer name starts with '-x' [1]. When\nthis is the case, an amphora goes to provisioning status ERROR and later\nis scheduled for failover by the Octavia Health Manager service. A new\namphora UUUID is assigned and base64 encoded, hopefully not starting\nwith '-x' again. However, this is far from being ideal -- we incur in a\ndataplane disruption (single topology) or reduce HA capabilities\n(active-standby topology) for some time.\n\nFour possible options:\n\na) add prefix to peer name\nb) change b64encode altchars\nc) quote peer name in haproxy CLI command\nd) substitute first character if hyphen\n\nOption a) and b) are not backward compatible with running amphorae. Peer\nnames of existing amphorae that do not start with hypen but contain\nhyphen at any other position would get different peer names.\n\nOption c) would nonetheless still require an amphora image update to add\nquotes in the HAProxy init service file. Continuing to generate peer\nnames with hyphens at begininng of the string is avoidable and\nrecommended.\n\nOption d), while also requiring an amphora image update, it would get\nrid of hyphens in begining of the peer names. It is also backward\ncompatible with all running amphorae, except for those starting with\nhyphen but are broken anyways.\n\nThis patch takes option d). It substitutes hyphen with 'x' character.\n\n[1] https://github.com/haproxy/haproxy/issues/644\n\nTask: 39850\nStory: 2007714\n\nChange-Id: Ib0fc26877710dea423a5ebcf1f71077665404377\n(cherry picked from commit acc38391dea12a7f70142077250d15a4eb53cb87)\n""}]",0,732429,df36c2c8ca54e9b8f63bb3c0231e85f1b87b35b3,9,4,1,6469,,,0,"Workaround peer name starting with hyphen

The base64_sha_string method is used to set a base64-encoded peer name
in HAProxy. There are cases where the peer name can start with
an hypen which is troublesome when used in HAProxy CLI. Specifically,
HAProxy fails to reload when local peer name starts with '-x' [1]. When
this is the case, an amphora goes to provisioning status ERROR and later
is scheduled for failover by the Octavia Health Manager service. A new
amphora UUUID is assigned and base64 encoded, hopefully not starting
with '-x' again. However, this is far from being ideal -- we incur in a
dataplane disruption (single topology) or reduce HA capabilities
(active-standby topology) for some time.

Four possible options:

a) add prefix to peer name
b) change b64encode altchars
c) quote peer name in haproxy CLI command
d) substitute first character if hyphen

Option a) and b) are not backward compatible with running amphorae. Peer
names of existing amphorae that do not start with hypen but contain
hyphen at any other position would get different peer names.

Option c) would nonetheless still require an amphora image update to add
quotes in the HAProxy init service file. Continuing to generate peer
names with hyphens at begininng of the string is avoidable and
recommended.

Option d), while also requiring an amphora image update, it would get
rid of hyphens in begining of the peer names. It is also backward
compatible with all running amphorae, except for those starting with
hyphen but are broken anyways.

This patch takes option d). It substitutes hyphen with 'x' character.

[1] https://github.com/haproxy/haproxy/issues/644

Task: 39850
Story: 2007714

Change-Id: Ib0fc26877710dea423a5ebcf1f71077665404377
(cherry picked from commit acc38391dea12a7f70142077250d15a4eb53cb87)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/29/732429/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/utils.py', 'releasenotes/notes/fix-peer-name-prefix-hypen-e74a87e9a01b4f4c.yaml', 'octavia/tests/unit/common/test_utils.py']",3,df36c2c8ca54e9b8f63bb3c0231e85f1b87b35b3,story/2007714-stable/ussuri," def test_base64_sha1_string(self): str_to_sha1 = [ # no special cases str (no altchars) ('77e7d60d-e137-4246-8a84-a25db33571cd', 'iVZVQ5AKmk2Ae0uGLP0Ue4OseRM='), # backward compat amphorae with - in str[1:] ('9c6e5f27-a0da-4ceb-afe5-5a81230be42e', 'NjrNgt3Egl-H5ScbYM5ChtUH3M8='), # sha1 would start with -, now replaced with x ('4db4a3cf-9fef-4057-b1fd-b2afbf7a8a0f', 'xxqntK8jJ_gE3QEmh-D1-XgCW_E=') ] for str, sha1 in str_to_sha1: self.assertEqual(sha1, utils.base64_sha1_string(str))",,28,1
openstack%2Foctavia~stable%2Fstein~Ib0fc26877710dea423a5ebcf1f71077665404377,openstack/octavia,stable/stein,Ib0fc26877710dea423a5ebcf1f71077665404377,Workaround peer name starting with hyphen,MERGED,2020-06-01 18:04:45.000000000,2020-06-11 23:26:51.000000000,2020-06-11 23:25:23.000000000,"[{'_account_id': 6469}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-01 18:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/331393a167c829016fb31df971b06961b499914a', 'message': ""Workaround peer name starting with hyphen\n\nThe base64_sha_string method is used to set a base64-encoded peer name\nin HAProxy. There are cases where the peer name can start with\nan hypen which is troublesome when used in HAProxy CLI. Specifically,\nHAProxy fails to reload when local peer name starts with '-x' [1]. When\nthis is the case, an amphora goes to provisioning status ERROR and later\nis scheduled for failover by the Octavia Health Manager service. A new\namphora UUUID is assigned and base64 encoded, hopefully not starting\nwith '-x' again. However, this is far from being ideal -- we incur in a\ndataplane disruption (single topology) or reduce HA capabilities\n(active-standby topology) for some time.\n\nFour possible options:\n\na) add prefix to peer name\nb) change b64encode altchars\nc) quote peer name in haproxy CLI command\nd) substitute first character if hyphen\n\nOption a) and b) are not backward compatible with running amphorae. Peer\nnames of existing amphorae that do not start with hypen but contain\nhyphen at any other position would get different peer names.\n\nOption c) would nonetheless still require an amphora image update to add\nquotes in the HAProxy init service file. Continuing to generate peer\nnames with hyphens at begininng of the string is avoidable and\nrecommended.\n\nOption d), while also requiring an amphora image update, it would get\nrid of hyphens in begining of the peer names. It is also backward\ncompatible with all running amphorae, except for those starting with\nhyphen but are broken anyways.\n\nThis patch takes option d). It substitutes hyphen with 'x' character.\n\n[1] https://github.com/haproxy/haproxy/issues/644\n\nTask: 39850\nStory: 2007714\n\nChange-Id: Ib0fc26877710dea423a5ebcf1f71077665404377\n(cherry picked from commit acc38391dea12a7f70142077250d15a4eb53cb87)\n(cherry picked from commit df36c2c8ca54e9b8f63bb3c0231e85f1b87b35b3)\n(cherry picked from commit 1975bd1d2926a1e30fe2e21dbf242b8d26e19d50)\n""}, {'number': 2, 'created': '2020-06-02 09:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b64dcdc38fd76b0bbad23b7b9663425ec6ac0891', 'message': ""Workaround peer name starting with hyphen\n\nThe base64_sha_string method is used to set a base64-encoded peer name\nin HAProxy. There are cases where the peer name can start with\nan hypen which is troublesome when used in HAProxy CLI. Specifically,\nHAProxy fails to reload when local peer name starts with '-x' [1]. When\nthis is the case, an amphora goes to provisioning status ERROR and later\nis scheduled for failover by the Octavia Health Manager service. A new\namphora UUUID is assigned and base64 encoded, hopefully not starting\nwith '-x' again. However, this is far from being ideal -- we incur in a\ndataplane disruption (single topology) or reduce HA capabilities\n(active-standby topology) for some time.\n\nFour possible options:\n\na) add prefix to peer name\nb) change b64encode altchars\nc) quote peer name in haproxy CLI command\nd) substitute first character if hyphen\n\nOption a) and b) are not backward compatible with running amphorae. Peer\nnames of existing amphorae that do not start with hypen but contain\nhyphen at any other position would get different peer names.\n\nOption c) would nonetheless still require an amphora image update to add\nquotes in the HAProxy init service file. Continuing to generate peer\nnames with hyphens at begininng of the string is avoidable and\nrecommended.\n\nOption d), while also requiring an amphora image update, it would get\nrid of hyphens in begining of the peer names. It is also backward\ncompatible with all running amphorae, except for those starting with\nhyphen but are broken anyways.\n\nThis patch takes option d). It substitutes hyphen with 'x' character.\n\n[1] https://github.com/haproxy/haproxy/issues/644\n\nTask: 39850\nStory: 2007714\n\nChange-Id: Ib0fc26877710dea423a5ebcf1f71077665404377\n(cherry picked from commit acc38391dea12a7f70142077250d15a4eb53cb87)\n(cherry picked from commit df36c2c8ca54e9b8f63bb3c0231e85f1b87b35b3)\n(cherry picked from commit e0b53b2cc7a977d903328e43bac68c0b378439f5)\n""}, {'number': 3, 'created': '2020-06-08 06:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b7e4337f933456a69f798b1db46a04ceded6361b', 'message': ""Workaround peer name starting with hyphen\n\nThe base64_sha_string method is used to set a base64-encoded peer name\nin HAProxy. There are cases where the peer name can start with\nan hypen which is troublesome when used in HAProxy CLI. Specifically,\nHAProxy fails to reload when local peer name starts with '-x' [1]. When\nthis is the case, an amphora goes to provisioning status ERROR and later\nis scheduled for failover by the Octavia Health Manager service. A new\namphora UUUID is assigned and base64 encoded, hopefully not starting\nwith '-x' again. However, this is far from being ideal -- we incur in a\ndataplane disruption (single topology) or reduce HA capabilities\n(active-standby topology) for some time.\n\nFour possible options:\n\na) add prefix to peer name\nb) change b64encode altchars\nc) quote peer name in haproxy CLI command\nd) substitute first character if hyphen\n\nOption a) and b) are not backward compatible with running amphorae. Peer\nnames of existing amphorae that do not start with hypen but contain\nhyphen at any other position would get different peer names.\n\nOption c) would nonetheless still require an amphora image update to add\nquotes in the HAProxy init service file. Continuing to generate peer\nnames with hyphens at begininng of the string is avoidable and\nrecommended.\n\nOption d), while also requiring an amphora image update, it would get\nrid of hyphens in begining of the peer names. It is also backward\ncompatible with all running amphorae, except for those starting with\nhyphen but are broken anyways.\n\nThis patch takes option d). It substitutes hyphen with 'x' character.\n\n[1] https://github.com/haproxy/haproxy/issues/644\n\nTask: 39850\nStory: 2007714\n\nChange-Id: Ib0fc26877710dea423a5ebcf1f71077665404377\n(cherry picked from commit acc38391dea12a7f70142077250d15a4eb53cb87)\n(cherry picked from commit df36c2c8ca54e9b8f63bb3c0231e85f1b87b35b3)\n(cherry picked from commit e0b53b2cc7a977d903328e43bac68c0b378439f5)\n""}, {'number': 4, 'created': '2020-06-11 18:33:22.000000000', 'files': ['octavia/common/utils.py', 'releasenotes/notes/fix-peer-name-prefix-hypen-e74a87e9a01b4f4c.yaml', 'octavia/tests/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8bd0fbc8ba1597a22f442ea1c6e9bdf406b29b6d', 'message': ""Workaround peer name starting with hyphen\n\nThe base64_sha_string method is used to set a base64-encoded peer name\nin HAProxy. There are cases where the peer name can start with\nan hypen which is troublesome when used in HAProxy CLI. Specifically,\nHAProxy fails to reload when local peer name starts with '-x' [1]. When\nthis is the case, an amphora goes to provisioning status ERROR and later\nis scheduled for failover by the Octavia Health Manager service. A new\namphora UUUID is assigned and base64 encoded, hopefully not starting\nwith '-x' again. However, this is far from being ideal -- we incur in a\ndataplane disruption (single topology) or reduce HA capabilities\n(active-standby topology) for some time.\n\nFour possible options:\n\na) add prefix to peer name\nb) change b64encode altchars\nc) quote peer name in haproxy CLI command\nd) substitute first character if hyphen\n\nOption a) and b) are not backward compatible with running amphorae. Peer\nnames of existing amphorae that do not start with hypen but contain\nhyphen at any other position would get different peer names.\n\nOption c) would nonetheless still require an amphora image update to add\nquotes in the HAProxy init service file. Continuing to generate peer\nnames with hyphens at begininng of the string is avoidable and\nrecommended.\n\nOption d), while also requiring an amphora image update, it would get\nrid of hyphens in begining of the peer names. It is also backward\ncompatible with all running amphorae, except for those starting with\nhyphen but are broken anyways.\n\nThis patch takes option d). It substitutes hyphen with 'x' character.\n\n[1] https://github.com/haproxy/haproxy/issues/644\n\nTask: 39850\nStory: 2007714\n\nChange-Id: Ib0fc26877710dea423a5ebcf1f71077665404377\n(cherry picked from commit acc38391dea12a7f70142077250d15a4eb53cb87)\n(cherry picked from commit df36c2c8ca54e9b8f63bb3c0231e85f1b87b35b3)\n(cherry picked from commit e0b53b2cc7a977d903328e43bac68c0b378439f5)\n""}]",1,732432,8bd0fbc8ba1597a22f442ea1c6e9bdf406b29b6d,18,4,4,6469,,,0,"Workaround peer name starting with hyphen

The base64_sha_string method is used to set a base64-encoded peer name
in HAProxy. There are cases where the peer name can start with
an hypen which is troublesome when used in HAProxy CLI. Specifically,
HAProxy fails to reload when local peer name starts with '-x' [1]. When
this is the case, an amphora goes to provisioning status ERROR and later
is scheduled for failover by the Octavia Health Manager service. A new
amphora UUUID is assigned and base64 encoded, hopefully not starting
with '-x' again. However, this is far from being ideal -- we incur in a
dataplane disruption (single topology) or reduce HA capabilities
(active-standby topology) for some time.

Four possible options:

a) add prefix to peer name
b) change b64encode altchars
c) quote peer name in haproxy CLI command
d) substitute first character if hyphen

Option a) and b) are not backward compatible with running amphorae. Peer
names of existing amphorae that do not start with hypen but contain
hyphen at any other position would get different peer names.

Option c) would nonetheless still require an amphora image update to add
quotes in the HAProxy init service file. Continuing to generate peer
names with hyphens at begininng of the string is avoidable and
recommended.

Option d), while also requiring an amphora image update, it would get
rid of hyphens in begining of the peer names. It is also backward
compatible with all running amphorae, except for those starting with
hyphen but are broken anyways.

This patch takes option d). It substitutes hyphen with 'x' character.

[1] https://github.com/haproxy/haproxy/issues/644

Task: 39850
Story: 2007714

Change-Id: Ib0fc26877710dea423a5ebcf1f71077665404377
(cherry picked from commit acc38391dea12a7f70142077250d15a4eb53cb87)
(cherry picked from commit df36c2c8ca54e9b8f63bb3c0231e85f1b87b35b3)
(cherry picked from commit e0b53b2cc7a977d903328e43bac68c0b378439f5)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/32/732432/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/utils.py', 'releasenotes/notes/fix-peer-name-prefix-hypen-e74a87e9a01b4f4c.yaml', 'octavia/tests/unit/common/test_utils.py']",3,331393a167c829016fb31df971b06961b499914a,," def test_base64_sha1_string(self): str_to_sha1 = [ # no special cases str (no altchars) ('77e7d60d-e137-4246-8a84-a25db33571cd', 'iVZVQ5AKmk2Ae0uGLP0Ue4OseRM='), # backward compat amphorae with - in str[1:] ('9c6e5f27-a0da-4ceb-afe5-5a81230be42e', 'NjrNgt3Egl-H5ScbYM5ChtUH3M8='), # sha1 would start with -, now replaced with x ('4db4a3cf-9fef-4057-b1fd-b2afbf7a8a0f', 'xxqntK8jJ_gE3QEmh-D1-XgCW_E=') ] for str, sha1 in str_to_sha1: self.assertEqual(sha1, utils.base64_sha1_string(str))",,28,1
openstack%2Foctavia~master~I0100aaa428477f011bd39a90dd4ec98199b4bebc,openstack/octavia,master,I0100aaa428477f011bd39a90dd4ec98199b4bebc,Fix netcat option in udp_check.sh for CentOS/RHEL,MERGED,2020-05-19 11:57:13.000000000,2020-06-11 23:26:24.000000000,2020-06-11 23:24:53.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-05-19 11:57:13.000000000', 'files': ['octavia/amphorae/backends/utils/udp_check.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6354f92ecc529c3f813733c8437768a432975dbc', 'message': ""Fix netcat option in udp_check.sh for CentOS/RHEL\n\n-w (timeout) option doesn't do anything in nmap-ncat (default netcat in\nCentOS/RHEL) for UDP datagrams, and nmap-ncat has a default idle timeout\nset to 2 seconds.\nWe can get the same behavior as netcap-openbsd (Debian/Ubuntu) by\nsetting that idle timeout (-i) option to 1 second.\n\nThis commit detects the flavor of the netcat binary (nmap vs other) and\nuses it to adapt the parameters.\n\nStory: 2007688\nTask: 39800\n\nChange-Id: I0100aaa428477f011bd39a90dd4ec98199b4bebc\n""}]",0,729230,6354f92ecc529c3f813733c8437768a432975dbc,12,4,1,29244,,,0,"Fix netcat option in udp_check.sh for CentOS/RHEL

-w (timeout) option doesn't do anything in nmap-ncat (default netcat in
CentOS/RHEL) for UDP datagrams, and nmap-ncat has a default idle timeout
set to 2 seconds.
We can get the same behavior as netcap-openbsd (Debian/Ubuntu) by
setting that idle timeout (-i) option to 1 second.

This commit detects the flavor of the netcat binary (nmap vs other) and
uses it to adapt the parameters.

Story: 2007688
Task: 39800

Change-Id: I0100aaa428477f011bd39a90dd4ec98199b4bebc
",git fetch https://review.opendev.org/openstack/octavia refs/changes/30/729230/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/backends/utils/udp_check.sh'],1,6354f92ecc529c3f813733c8437768a432975dbc,," nc_flavor=$($nc_cmd --version 2>&1 | grep -o nmap) case ""$nc_flavor"" in nmap) nc_flavor_opts=""-i1"" ;; *) # default, probably openbsd nc_flavor_opts=""-w1"" ;; esac $nc_cmd -uzv $nc_flavor_opts $1 $2 > /dev/null",$nc_cmd -uzv -w1 $1 $2 > /dev/null,13,1
openstack%2Foctavia~stable%2Fussuri~Ia6d3f40ae1b9b352492162513c9262748ee67e6f,openstack/octavia,stable/ussuri,Ia6d3f40ae1b9b352492162513c9262748ee67e6f,Fix healthmanager not update amphora health when LB disable,MERGED,2020-05-11 07:33:42.000000000,2020-06-11 23:26:04.000000000,2020-06-11 23:24:00.000000000,"[{'_account_id': 1131}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 30636}]","[{'number': 1, 'created': '2020-05-11 07:33:42.000000000', 'files': ['releasenotes/notes/Fix-healthmanager-not-update-amphora-health-when-LB-disabled-46a4fb295c6d0850.yaml', 'octavia/tests/unit/controller/healthmanager/health_drivers/test_update_db.py', 'octavia/controller/healthmanager/health_drivers/update_db.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5a14ea2f138dc1ff5a08a0ac5191bc7032a4daee', 'message': 'Fix healthmanager not update amphora health when LB disable\n\nWhen disable a loadbalancer have listener, the Heath Manager not update\namphora heath make it keep failover after heartbeat_timeout end time\n\nStory: 2007587\nTask: 39521\n\nChange-Id: Ia6d3f40ae1b9b352492162513c9262748ee67e6f\n(cherry picked from commit fe771a456d81b6600457b78210e21b88a3a9d83e)\n'}]",0,726742,5a14ea2f138dc1ff5a08a0ac5191bc7032a4daee,20,5,1,6469,,,0,"Fix healthmanager not update amphora health when LB disable

When disable a loadbalancer have listener, the Heath Manager not update
amphora heath make it keep failover after heartbeat_timeout end time

Story: 2007587
Task: 39521

Change-Id: Ia6d3f40ae1b9b352492162513c9262748ee67e6f
(cherry picked from commit fe771a456d81b6600457b78210e21b88a3a9d83e)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/42/726742/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Fix-healthmanager-not-update-amphora-health-when-LB-disabled-46a4fb295c6d0850.yaml', 'octavia/tests/unit/controller/healthmanager/health_drivers/test_update_db.py', 'octavia/controller/healthmanager/health_drivers/update_db.py']",3,5a14ea2f138dc1ff5a08a0ac5191bc7032a4daee,, if ('PENDING' in db_lb['provisioning_status'] or not db_lb['enabled']):, if 'PENDING' in db_lb['provisioning_status']:,28,3
openstack%2Fopenstack-chef~master~I7742aeedc1895295c42cc56ba0e57678e9edb7d8,openstack/openstack-chef,master,I7742aeedc1895295c42cc56ba0e57678e9edb7d8,Re-enable voting,MERGED,2020-06-11 20:59:45.000000000,2020-06-11 22:59:49.000000000,2020-06-11 22:56:17.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-11 20:59:45.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/841565eb2503998bda445e0640f73d88c86fa822', 'message': 'Re-enable voting\n\nChange-Id: I7742aeedc1895295c42cc56ba0e57678e9edb7d8\n'}]",0,735248,841565eb2503998bda445e0640f73d88c86fa822,7,2,1,21961,,,0,"Re-enable voting

Change-Id: I7742aeedc1895295c42cc56ba0e57678e9edb7d8
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/48/735248/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,841565eb2503998bda445e0640f73d88c86fa822,,, voting: false # TODO(ramereth): Remove after this gets merged voting: false # TODO(ramereth): Remove after this gets merged voting: false # TODO(ramereth): Remove after this gets merged voting: false # TODO(ramereth): Remove after this gets merged,0,4
openstack%2Fironic-python-agent~master~Ic76dd2067ace02dd02351caca0c7f9b05571e510,openstack/ironic-python-agent,master,Ic76dd2067ace02dd02351caca0c7f9b05571e510,Split and move logic for partition tables,MERGED,2020-04-24 10:12:07.000000000,2020-06-11 22:56:18.000000000,2020-06-11 22:53:07.000000000,"[{'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-24 10:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/eb256637862438d58f00ea446887710d27ddaa16', 'message': '[WIP] Split and move logic for partition tables\n\nMove and split the logic to create the partition tables when\napplying raid configuration.\n\nChange-Id: Ic76dd2067ace02dd02351caca0c7f9b05571e510\n'}, {'number': 2, 'created': '2020-04-24 13:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e35766c28faf14592b7030ad928623c315294aa4', 'message': 'Split and move logic for partition tables\n\nMove and split the logic to create the partition tables when\napplying raid configuration.\n\nChange-Id: Ic76dd2067ace02dd02351caca0c7f9b05571e510\n'}, {'number': 3, 'created': '2020-05-25 08:11:28.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/raid_utils.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/557d5603a29d0074402ec4d6f35927f6e79f2cf3', 'message': 'Split and move logic for partition tables\n\nMove and split the logic to create the partition tables when\napplying raid configuration.\n\nChange-Id: Ic76dd2067ace02dd02351caca0c7f9b05571e510\n'}]",0,722654,557d5603a29d0074402ec4d6f35927f6e79f2cf3,14,4,3,23851,,,0,"Split and move logic for partition tables

Move and split the logic to create the partition tables when
applying raid configuration.

Change-Id: Ic76dd2067ace02dd02351caca0c7f9b05571e510
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/54/722654/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/raid_utils.py']",2,eb256637862438d58f00ea446887710d27ddaa16,moar-raid-utils,"from oslo_concurrency import processutils from oslo_log import log as loggingLOG = logging.getLogger(__name__) def populate_partition_tables(block_devices, partition_table_type, target_boot_mode): parted_start_dict = {} for dev_name in block_devices: create_partition_table(dev_name, partition_table_type) parted_start_dict[dev_name] = calculate_raid_start( target_boot_mode, partition_table_type, dev_name) return parted_start_dict def create_partition_table(dev_name, partition_table_type): # Create a partition table on each disk. LOG.info(""Creating partition table on {}"".format( dev_name)) try: utils.execute('parted', dev_name, '-s', '--', 'mklabel', partition_table_type) except processutils.ProcessExecutionError as e: msg = ""Failed to create partition table on {}: {}"".format( dev_name, e) raise errors.SoftwareRAIDError(msg)",,30,15
openstack%2Fmagnum~stable%2Ftrain~Ibac5e105885b6e7042e88dea31cfeafe42a401ab,openstack/magnum,stable/train,Ibac5e105885b6e7042e88dea31cfeafe42a401ab,More verbose logs for cluster ops,MERGED,2020-06-11 14:27:01.000000000,2020-06-11 22:23:08.000000000,2020-06-11 22:21:50.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 27057}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-06-11 14:27:01.000000000', 'files': ['magnum/drivers/heat/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/8e476dadff584abf9723bfb8a19acc23d201282b', 'message': 'More verbose logs for cluster ops\n\nMost of the times issues with cluster update/upgrade/resize can be\nidentified just by looking at the parameters sent to Heat. This patch\nchanges the existing log messages for cluster update and resize to info\nfrom debug. Adds a log message for cluster upgrade.\n\nstory: #2007636\ntask: #39689\n(cherry-picked from f7a50223e76a0551595d073a1b2c54cef7de6cee)\nChange-Id: Ibac5e105885b6e7042e88dea31cfeafe42a401ab\n'}]",0,735151,8e476dadff584abf9723bfb8a19acc23d201282b,8,4,1,20498,,,0,"More verbose logs for cluster ops

Most of the times issues with cluster update/upgrade/resize can be
identified just by looking at the parameters sent to Heat. This patch
changes the existing log messages for cluster update and resize to info
from debug. Adds a log message for cluster upgrade.

story: #2007636
task: #39689
(cherry-picked from f7a50223e76a0551595d073a1b2c54cef7de6cee)
Change-Id: Ibac5e105885b6e7042e88dea31cfeafe42a401ab
",git fetch https://review.opendev.org/openstack/magnum refs/changes/51/735151/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/heat/driver.py'],1,8e476dadff584abf9723bfb8a19acc23d201282b,improve-resize-stable/train," LOG.info('Updating cluster %s stack %s with these params: %s', cluster.uuid, cluster.stack_id, heat_params) LOG.info('Resizing cluster %s stack %s with these params: %s', cluster.uuid, nodegroup.stack_id, heat_params) LOG.info('Upgrading cluster %s stack %s with these params: %s', cluster.uuid, nodegroup.stack_id, heat_params)"," LOG.debug('Updating stack with these params: %s', heat_params) LOG.debug('Updating stack with these params: %s', heat_params)",6,2
openstack%2Foctavia~stable%2Fussuri~I8003de0f71a5dee7438ab2f6a2c497386018c1ac,openstack/octavia,stable/ussuri,I8003de0f71a5dee7438ab2f6a2c497386018c1ac,Fix the grenade plugin to also upgrade octavia-lib,MERGED,2020-05-22 09:02:45.000000000,2020-06-11 22:13:11.000000000,2020-06-11 22:11:12.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-22 09:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4931f62530ad77d1735f28553adffd7fd4a70e16', 'message': 'Fix the grenade plugin to also upgrade octavia-lib\n\nUpgrade octavia-lib in target environment to make sure we are testing\nthe latest code.\n\nChange-Id: I8003de0f71a5dee7438ab2f6a2c497386018c1ac\n(cherry picked from commit 9399713f754aafa2acc14773f9ddde6daba0457a)\n'}, {'number': 2, 'created': '2020-05-22 11:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b0d6fa2dff9f03f94b977925bfdb1a2a65f741a0', 'message': 'Fix the grenade plugin to also upgrade octavia-lib\n\nUpgrade octavia-lib in target environment to make sure we are testing\nthe latest code.\n\nChange-Id: I8003de0f71a5dee7438ab2f6a2c497386018c1ac\n(cherry picked from commit 9399713f754aafa2acc14773f9ddde6daba0457a)\n'}, {'number': 3, 'created': '2020-05-22 11:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/97975298f26e0ea9d841275686408984299350ce', 'message': 'Fix the grenade plugin to also upgrade octavia-lib\n\nUpgrade octavia-lib in target environment to make sure we are testing\nthe latest code.\n\nChange-Id: I8003de0f71a5dee7438ab2f6a2c497386018c1ac\n(cherry picked from commit 9399713f754aafa2acc14773f9ddde6daba0457a)\n'}, {'number': 4, 'created': '2020-05-22 17:47:30.000000000', 'files': ['doc/source/admin/guides/upgrade.rst', 'devstack/upgrade/upgrade.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d926779724c7ce03dfbb3294d22ff4cd9d162724', 'message': 'Fix the grenade plugin to also upgrade octavia-lib\n\nUpgrade octavia-lib in target environment to make sure we are testing\nthe latest code.\n\nChange-Id: I8003de0f71a5dee7438ab2f6a2c497386018c1ac\n'}]",0,730281,d926779724c7ce03dfbb3294d22ff4cd9d162724,15,4,4,6469,,,0,"Fix the grenade plugin to also upgrade octavia-lib

Upgrade octavia-lib in target environment to make sure we are testing
the latest code.

Change-Id: I8003de0f71a5dee7438ab2f6a2c497386018c1ac
",git fetch https://review.opendev.org/openstack/octavia refs/changes/81/730281/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/guides/upgrade.rst', 'devstack/upgrade/upgrade.sh']",2,4931f62530ad77d1735f28553adffd7fd4a70e16,,octavia_lib_install,,5,1
openstack%2Foctavia~master~I925cc05981e677c0552b18f845fdbc512d2af22c,openstack/octavia,master,I925cc05981e677c0552b18f845fdbc512d2af22c,Switch oslo.policy over to yaml,MERGED,2020-06-01 21:32:22.000000000,2020-06-11 22:13:03.000000000,2020-06-11 22:11:10.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-06-01 21:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e19d8d2b82bed5db51030796f839f837da6ff4f2', 'message': 'Switch oslo.policy over to yaml\n\nOslo.policy is moving away from using json format policy files[1].\n\nThis patch updates the Octavia documentation, policy configuration file, and\nlegacy admin-or-owner policy file to be in yaml format.\n\nOctavia will continue to honor and support the json format file as long\nas oslo.policy does, but this patch will encourage new deployments\nto use the yaml format.\n\n[1] https://docs.openstack.org/oslo.policy/latest/admin/policy-json-file.html\n\nChange-Id: I925cc05981e677c0552b18f845fdbc512d2af22c\n'}, {'number': 2, 'created': '2020-06-08 15:54:13.000000000', 'files': ['etc/policy/README.rst', 'etc/policy/octavia-policy-generator.conf', 'specs/template.rst', 'devstack/plugin.sh', 'etc/policy/admin_or_owner-policy.json', 'doc/source/configuration/policy.rst', 'tools/misc-sanity-checks.sh', 'etc/policy/admin_or_owner-policy.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/fafabad0422462e713da84b2467ba791b6af83dc', 'message': 'Switch oslo.policy over to yaml\n\nOslo.policy is moving away from using json format policy files[1].\n\nThis patch updates the Octavia documentation, policy configuration file, and\nlegacy admin-or-owner policy file to be in yaml format.\n\nOctavia will continue to honor and support the json format file as long\nas oslo.policy does, but this patch will encourage new deployments\nto use the yaml format.\n\n[1] https://docs.openstack.org/oslo.policy/latest/admin/policy-json-file.html\n\nChange-Id: I925cc05981e677c0552b18f845fdbc512d2af22c\n'}]",0,732453,fafabad0422462e713da84b2467ba791b6af83dc,14,5,2,11628,,,0,"Switch oslo.policy over to yaml

Oslo.policy is moving away from using json format policy files[1].

This patch updates the Octavia documentation, policy configuration file, and
legacy admin-or-owner policy file to be in yaml format.

Octavia will continue to honor and support the json format file as long
as oslo.policy does, but this patch will encourage new deployments
to use the yaml format.

[1] https://docs.openstack.org/oslo.policy/latest/admin/policy-json-file.html

Change-Id: I925cc05981e677c0552b18f845fdbc512d2af22c
",git fetch https://review.opendev.org/openstack/octavia refs/changes/53/732453/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/policy/README.rst', 'etc/policy/octavia-policy-generator.conf', 'etc/policy/admin_or_owner-policy.json', 'doc/source/configuration/policy.rst', 'etc/policy/admin_or_owner-policy.yaml']",5,e19d8d2b82bed5db51030796f839f837da6ff4f2,,"# This policy.yaml will revert the Octavia API to follow the legacy # admin-or-owner RBAC policies. # It provides a similar policy to legacy OpenStack policies where any # user or admin has access to load-balancer resources that they own. # Users with the admin role has access to all load-balancer resources, # whether they own them or not. # Role Rules ""context_is_admin"": ""role:admin or role:load-balancer_admin"" ""admin_or_owner"": ""is_admin:True or project_id:%(project_id)s"" # Rules ""load-balancer:read"": ""rule:admin_or_owner"" ""load-balancer:read-global"": ""is_admin:True"" ""load-balancer:write"": ""rule:admin_or_owner"" ""load-balancer:read-quota"": ""rule:admin_or_owner"" ""load-balancer:read-quota-global"": ""is_admin:True"" ""load-balancer:write-quota"": ""is_admin:True"" ",,29,19
openstack%2Fopenstack-helm-images~master~I52aeb6a9bd732a95114a09284d53eb869f72db18,openstack/openstack-helm-images,master,I52aeb6a9bd732a95114a09284d53eb869f72db18,Add apache profile to cinder,MERGED,2020-06-11 20:13:48.000000000,2020-06-11 22:09:39.000000000,2020-06-11 22:05:51.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-06-11 20:13:48.000000000', 'files': ['openstack/loci/build.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/2c991fb1df757d27956819834fbed4bf60d14852', 'message': 'Add apache profile to cinder\n\nCinder supports running behind apache, this change adds\nthe apache profile to the cinder image to be picked up\nby loci.\n\nChange-Id: I52aeb6a9bd732a95114a09284d53eb869f72db18\n'}]",0,735239,2c991fb1df757d27956819834fbed4bf60d14852,8,3,1,21420,,,0,"Add apache profile to cinder

Cinder supports running behind apache, this change adds
the apache profile to the cinder image to be picked up
by loci.

Change-Id: I52aeb6a9bd732a95114a09284d53eb869f72db18
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/39/735239/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/loci/build.sh'],1,2c991fb1df757d27956819834fbed4bf60d14852,cinder-wsgi,"cinder_profiles=${cinder_profiles:-""'fluent lvm ceph qemu apache'""}","cinder_profiles=${cinder_profiles:-""'fluent lvm ceph qemu'""}",1,1
openstack%2Foctavia~master~Ibb7f0f416a013b98edf72a5803aada71015cfade,openstack/octavia,master,Ibb7f0f416a013b98edf72a5803aada71015cfade,Fix some typos in the explanatory notes,MERGED,2020-06-11 06:05:27.000000000,2020-06-11 22:06:14.000000000,2020-06-11 22:02:49.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 30696}]","[{'number': 1, 'created': '2020-06-11 06:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0e00119b098af6dd8598014477fe1e0d8fd85e66', 'message': ""Fix a typo in the explanatory notes\n\nThis patch changes 'defiend' to\n'defined' at the 193 line in octavia/\ntests/functional/db/test_repositories.py\n\nChange-Id: Ibb7f0f416a013b98edf72a5803aada71015cfade\n""}, {'number': 2, 'created': '2020-06-11 06:55:32.000000000', 'files': ['octavia/tests/functional/db/test_repositories.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/76616f35e724bc361da2e4b48799378a38c0e6a3', 'message': ""Fix some typos in the explanatory notes\n\nThis patch changes 'defiend' to 'defined'\nin the explanatory notes in octavia/\ntests/functional/db/test_repositories.py\n\nChange-Id: Ibb7f0f416a013b98edf72a5803aada71015cfade\n""}]",0,735053,76616f35e724bc361da2e4b48799378a38c0e6a3,12,5,2,30696,,,0,"Fix some typos in the explanatory notes

This patch changes 'defiend' to 'defined'
in the explanatory notes in octavia/
tests/functional/db/test_repositories.py

Change-Id: Ibb7f0f416a013b98edf72a5803aada71015cfade
",git fetch https://review.opendev.org/openstack/octavia refs/changes/53/735053/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/tests/functional/db/test_repositories.py'],1,0e00119b098af6dd8598014477fe1e0d8fd85e66,typo, # These are not defined in the sample pool dict but will, # These are not defiend in the sample pool dict but will,1,1
openstack%2Foctavia~master~If92988150479a7daf465af5f8df22818664a0fce,openstack/octavia,master,If92988150479a7daf465af5f8df22818664a0fce,Remove all deprecated driver code that moved to octavia-lib,MERGED,2020-01-07 22:51:49.000000000,2020-06-11 22:04:37.000000000,2020-06-11 22:02:47.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-07 22:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9aa2a6645462aaf1ffb33b5746cda32d1b78e18b', 'message': ""Remove all deprecated driver code that moved to octavia-lib\n\nIn https://review.opendev.org/#/c/613709/ octavia was\nchanged to use octavia-lib for a lot of API driver-related\ncode and deprecation warnings put in place. Now that\nwe're in Ussuri remove all the deprecation shims and\nuse octavia-lib exclusively.\n\nChange-Id: If92988150479a7daf465af5f8df22818664a0fce\n""}, {'number': 2, 'created': '2020-02-18 23:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/33b622ad7a972791a64dda0316a29d80b16d88cd', 'message': ""Remove all deprecated driver code that moved to octavia-lib\n\nIn https://review.opendev.org/#/c/613709/ octavia was\nchanged to use octavia-lib for a lot of API driver-related\ncode and deprecation warnings put in place. Now that\nwe're in Ussuri remove all the deprecation shims and\nuse octavia-lib exclusively.\n\nChange-Id: If92988150479a7daf465af5f8df22818664a0fce\n""}, {'number': 3, 'created': '2020-04-20 20:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/304ac73d673430759ac303a0a8036c4c035673e6', 'message': ""Remove all deprecated driver code that moved to octavia-lib\n\nIn https://review.opendev.org/#/c/613709/ octavia was\nchanged to use octavia-lib for a lot of API driver-related\ncode and deprecation warnings put in place. Now that\nwe're in Ussuri remove all the deprecation shims and\nuse octavia-lib exclusively.\n\nChange-Id: If92988150479a7daf465af5f8df22818664a0fce\n""}, {'number': 4, 'created': '2020-05-20 22:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e34daf120c2d37517dfd6a8c2b6d0fadfab102f2', 'message': ""Remove all deprecated driver code that moved to octavia-lib\n\nIn https://review.opendev.org/#/c/613709/ octavia was\nchanged to use octavia-lib for a lot of API driver-related\ncode and deprecation warnings put in place. Now that\nwe're in Ussuri remove all the deprecation shims and\nuse octavia-lib exclusively.\n\nChange-Id: If92988150479a7daf465af5f8df22818664a0fce\n""}, {'number': 5, 'created': '2020-05-20 22:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/29b22589562107d4f115e9ae54b06eb93d5f347a', 'message': ""Remove all deprecated driver code that moved to octavia-lib\n\nIn https://review.opendev.org/#/c/613709/ octavia was\nchanged to use octavia-lib for a lot of API driver-related\ncode and deprecation warnings put in place. Now that\nwe're in Victoria remove all the deprecation shims and\nuse octavia-lib exclusively.\n\nChange-Id: If92988150479a7daf465af5f8df22818664a0fce\n""}, {'number': 6, 'created': '2020-06-08 19:00:09.000000000', 'files': ['octavia/api/v2/controllers/load_balancer.py', 'octavia/tests/unit/api/drivers/test_driver_lib.py', 'octavia/api/drivers/data_models.py', 'lower-constraints.txt', 'octavia/api/drivers/driver_lib.py', 'octavia/api/v2/controllers/health_monitor.py', 'octavia/tests/unit/api/drivers/test_provider_base.py', 'requirements.txt', 'octavia/api/v2/controllers/pool.py', 'octavia/api/v2/controllers/l7policy.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/api/v2/controllers/member.py', 'octavia/api/drivers/provider_base.py', 'octavia/api/v2/controllers/listener.py', 'octavia/tests/unit/api/drivers/test_provider_noop_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/de69b2c7ff9e4d72c003c7fb6fe624c570b3324c', 'message': ""Remove all deprecated driver code that moved to octavia-lib\n\nIn https://review.opendev.org/#/c/613709/ octavia was\nchanged to use octavia-lib for a lot of API driver-related\ncode and deprecation warnings put in place. Now that\nwe're in Victoria remove all the deprecation shims and\nuse octavia-lib exclusively.\n\nChange-Id: If92988150479a7daf465af5f8df22818664a0fce\n""}]",0,701473,de69b2c7ff9e4d72c003c7fb6fe624c570b3324c,20,4,6,1131,,,0,"Remove all deprecated driver code that moved to octavia-lib

In https://review.opendev.org/#/c/613709/ octavia was
changed to use octavia-lib for a lot of API driver-related
code and deprecation warnings put in place. Now that
we're in Victoria remove all the deprecation shims and
use octavia-lib exclusively.

Change-Id: If92988150479a7daf465af5f8df22818664a0fce
",git fetch https://review.opendev.org/openstack/octavia refs/changes/73/701473/6 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v2/controllers/provider.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/tests/unit/api/drivers/test_driver_lib.py', 'octavia/api/drivers/data_models.py', 'octavia/api/drivers/driver_lib.py', 'octavia/api/drivers/exceptions.py', 'octavia/api/v2/controllers/health_monitor.py', 'octavia/tests/unit/api/drivers/test_provider_base.py', 'octavia/api/drivers/utils.py', 'requirements.txt', 'octavia/api/v2/controllers/pool.py', 'octavia/api/v2/controllers/l7policy.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/api/v2/controllers/member.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/api/drivers/provider_base.py', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/tests/functional/api/v2/test_provider.py', 'octavia/api/v2/controllers/listener.py', 'octavia/tests/unit/api/drivers/test_provider_noop_driver.py']",20,9aa2a6645462aaf1ffb33b5746cda32d1b78e18b,lib-api-driver,from octavia_lib.api.drivers import data_models,from octavia.api.drivers import data_models,17,264
openstack%2Foctavia-tempest-plugin~master~Ic08135fdf5fb2e8cf35852bf065a885327a852fa,openstack/octavia-tempest-plugin,master,Ic08135fdf5fb2e8cf35852bf065a885327a852fa,Fix TLS client auth tests for older amphora,MERGED,2020-06-05 23:27:57.000000000,2020-06-11 22:04:26.000000000,2020-06-11 22:02:51.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-05 23:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/aaed673951619a042661ba24866c2d224e5c9f14', 'message': 'Fix TLS client auth tests for older amphora\n\nOlder amphora have a verison of HAProxy that does not support TLS1.3.\nThis means that the error returned when the client authentication\ncertificate is required, but improper is different between the versions.\n\nThis patch makes the test more generic to pass when the proper\nexception is raised, but will no longer validate the error string\ncontents as this string varies across the protocol versions used.\n\nChange-Id: Ic08135fdf5fb2e8cf35852bf065a885327a852fa\n'}, {'number': 2, 'created': '2020-06-06 18:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/723321a88497f92267ca2625e138c6e523fd1241', 'message': 'Fix TLS client auth tests for older amphora\n\nOlder amphora have a verison of HAProxy that does not support TLS1.3.\nThis means that the error returned when the client authentication\ncertificate is required, but improper is different between the versions.\n\nThis patch makes the test more generic to pass when the proper\nexception is raised, but will no longer validate the error string\ncontents as this string varies across the protocol versions used.\n\nChange-Id: Ic08135fdf5fb2e8cf35852bf065a885327a852fa\n'}, {'number': 3, 'created': '2020-06-08 15:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7f53fea7d15b7ea2f32eb42a3e90021baa1f4876', 'message': 'Fix TLS client auth tests for older amphora\n\nOlder amphora have a verison of HAProxy that does not support TLS1.3.\nThis means that the error returned when the client authentication\ncertificate is required, but improper is different between the versions.\n\nThis patch makes the test more generic to pass when the proper\nexception is raised, but will no longer validate the error string\ncontents as this string varies across the protocol versions used.\n\nChange-Id: Ic08135fdf5fb2e8cf35852bf065a885327a852fa\n'}, {'number': 4, 'created': '2020-06-11 17:29:44.000000000', 'files': ['octavia_tempest_plugin/tests/barbican_scenario/v2/test_tls_barbican.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/beb1cbaebbe6138d7582a596dbee8895fbc48599', 'message': 'Fix TLS client auth tests for older amphora\n\nOlder amphora have a verison of HAProxy that does not support TLS1.3.\nThis means that the error returned when the client authentication\ncertificate is required, but improper is different between the versions.\n\nThis patch makes the test more generic to pass when the proper\nexception is raised, but will no longer validate the error string\ncontents as this string varies across the protocol versions used.\n\nChange-Id: Ic08135fdf5fb2e8cf35852bf065a885327a852fa\n'}]",0,733933,beb1cbaebbe6138d7582a596dbee8895fbc48599,16,4,4,11628,,,0,"Fix TLS client auth tests for older amphora

Older amphora have a verison of HAProxy that does not support TLS1.3.
This means that the error returned when the client authentication
certificate is required, but improper is different between the versions.

This patch makes the test more generic to pass when the proper
exception is raised, but will no longer validate the error string
contents as this string varies across the protocol versions used.

Change-Id: Ic08135fdf5fb2e8cf35852bf065a885327a852fa
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/33/733933/4 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/barbican_scenario/v2/test_tls_barbican.py'],1,aaed673951619a042661ba24866c2d224e5c9f14,," self.assertRaises( requests.exceptions.SSLError, self.assertRaises( requests.exceptions.SSLError, self.assertRaises( requests.exceptions.SSLError,"," self.assertRaisesRegex( requests.exceptions.SSLError, "".*certificate required.*"", self.assertRaisesRegex( requests.exceptions.SSLError, "".*certificate required.*"", self.assertRaisesRegex( requests.exceptions.SSLError, "".*certificate required.*"",",6,6
openstack%2Fnova~stable%2Ftrain~I1062b3e74382734edbb2142a09ff0073c66af8db,openstack/nova,stable/train,I1062b3e74382734edbb2142a09ff0073c66af8db,Add functional test for bug 1550919,MERGED,2020-05-27 16:37:24.000000000,2020-06-11 21:50:48.000000000,2020-06-11 21:48:53.000000000,"[{'_account_id': 4690}, {'_account_id': 9555}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-27 16:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5a456ef58abff5daea85de3b7fac460f7c11b6a', 'message': 'Add functional test for bug 1550919\n\nThis adds a failing test, which we fix in change I76448196.\n\nAn earlier version of this change was previously merged as\nchange I5619728d. This was later reverted, as it was failing in the\ngate. However, on inspection these failures seem to have been simply\ntimeouts due to load.\n\nChanges from previous version:\n\n- Increase the timeouts which were previously triggering, and\n  serialise server creation to reduce the chance of this recurring.\n- Add an LVM test, which highlights the requirement to flag the\n  creation of ephemeral and swap disks.\n- Add an Qcow2 test, essentially the same as the Flat test but ensures\n  coverage of the most common backends.\n- Each test now uses a separate instances_path allowing for cleanup\n  without racing against other active tests.\n- Some nits addressed.\n\nFor the time being this test does not make use of the recently improved\nnova.tests.functional.libvirt.base.ServersTestBase class to ease\nbackports. Future changes should be made to use this class removing some\nof the common setUp logic from _LibvirtEvacuateTest.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1550919\nChange-Id: I1062b3e74382734edbb2142a09ff0073c66af8db\n(cherry picked from commit 90e0e874bde38937380d09ab27a7defbb5475cc2)\n(cherry picked from commit 6ccd13f8aeeb97c2139c1abc93cb976fd57d57dd)\n'}, {'number': 2, 'created': '2020-06-02 13:05:58.000000000', 'files': ['nova/tests/functional/libvirt/test_evacuate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/172eb21dee1d93b140c2b691cb8dfbc68b721bfe', 'message': 'Add functional test for bug 1550919\n\nThis adds a failing test, which we fix in change I76448196.\n\nAn earlier version of this change was previously merged as\nchange I5619728d. This was later reverted, as it was failing in the\ngate. However, on inspection these failures seem to have been simply\ntimeouts due to load.\n\nChanges from previous version:\n\n- Increase the timeouts which were previously triggering, and\n  serialise server creation to reduce the chance of this recurring.\n- Add an LVM test, which highlights the requirement to flag the\n  creation of ephemeral and swap disks.\n- Add an Qcow2 test, essentially the same as the Flat test but ensures\n  coverage of the most common backends.\n- Each test now uses a separate instances_path allowing for cleanup\n  without racing against other active tests.\n- Some nits addressed.\n\nFor the time being this test does not make use of the recently improved\nnova.tests.functional.libvirt.base.ServersTestBase class to ease\nbackports. Future changes should be made to use this class removing some\nof the common setUp logic from _LibvirtEvacuateTest.\n\nNOTE(lyarwood): Calls to _wait_for_state_change and\n_wait_for_server_parameter now provide self.api as required prior to\nI8c96b337f32148f8f5899c9b87af331b1fa41424 landing in Ussuri.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1550919\nChange-Id: I1062b3e74382734edbb2142a09ff0073c66af8db\n(cherry picked from commit 90e0e874bde38937380d09ab27a7defbb5475cc2)\n(cherry picked from commit 6ccd13f8aeeb97c2139c1abc93cb976fd57d57dd)\n'}]",4,731272,172eb21dee1d93b140c2b691cb8dfbc68b721bfe,19,7,2,10135,,,0,"Add functional test for bug 1550919

This adds a failing test, which we fix in change I76448196.

An earlier version of this change was previously merged as
change I5619728d. This was later reverted, as it was failing in the
gate. However, on inspection these failures seem to have been simply
timeouts due to load.

Changes from previous version:

- Increase the timeouts which were previously triggering, and
  serialise server creation to reduce the chance of this recurring.
- Add an LVM test, which highlights the requirement to flag the
  creation of ephemeral and swap disks.
- Add an Qcow2 test, essentially the same as the Flat test but ensures
  coverage of the most common backends.
- Each test now uses a separate instances_path allowing for cleanup
  without racing against other active tests.
- Some nits addressed.

For the time being this test does not make use of the recently improved
nova.tests.functional.libvirt.base.ServersTestBase class to ease
backports. Future changes should be made to use this class removing some
of the common setUp logic from _LibvirtEvacuateTest.

NOTE(lyarwood): Calls to _wait_for_state_change and
_wait_for_server_parameter now provide self.api as required prior to
I8c96b337f32148f8f5899c9b87af331b1fa41424 landing in Ussuri.

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1550919
Change-Id: I1062b3e74382734edbb2142a09ff0073c66af8db
(cherry picked from commit 90e0e874bde38937380d09ab27a7defbb5475cc2)
(cherry picked from commit 6ccd13f8aeeb97c2139c1abc93cb976fd57d57dd)
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/731272/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_evacuate.py'],1,e5a456ef58abff5daea85de3b7fac460f7c11b6a,bug/1550919,"# Copyright 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import collections import fixtures import mock import os.path from oslo_utils import fileutils from oslo_utils.fixture import uuidsentinel as uuids from oslo_utils import units from nova import conf from nova import context from nova import exception from nova import objects from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit import fake_network from nova.tests.unit import fake_notifier import nova.tests.unit.image.fake as fake_image from nova.tests.unit.virt.libvirt import fakelibvirt from nova.virt.libvirt import config as libvirt_config CONF = conf.CONF FLAVOR_FIXTURES = [ {'flavorid': 'root_only', 'name': 'root_only', 'vcpus': 1, 'memory_mb': 512, 'root_gb': 1, 'ephemeral_gb': 0, 'swap': 0}, {'flavorid': 'with_ephemeral', 'name': 'with_ephemeral', 'vcpus': 1, 'memory_mb': 512, 'root_gb': 1, 'ephemeral_gb': 1, 'swap': 0}, {'flavorid': 'with_swap', 'name': 'with_swap', 'vcpus': 1, 'memory_mb': 512, 'root_gb': 1, 'ephemeral_gb': 0, 'swap': 1}, ] # Choice of image id is arbitrary, but fixed for consistency. IMAGE_ID = fake_image.AUTO_DISK_CONFIG_ENABLED_IMAGE_UUID # NOTE(mdbooth): Change I76448196 tests for creation of any local disk, and # short-circuits as soon as it sees one created. Disks are created in order: # root disk, ephemeral disks, swap disk. Therefore to test correct handling of # ephemeral disks we must ensure there is no root disk, and to test swap disks # we must ensure there is no root or ephemeral disks. Each of the following # fixtures intentionally has only a single local disk (or none for bfv), # ensuring we cover all local disks. SERVER_FIXTURES = [ # Local root disk only {'name': 'local_root', 'imageRef': IMAGE_ID, 'flavorRef': 'root_only', }, # No local disks {'name': 'bfv', 'flavorRef': 'root_only', 'block_device_mapping_v2': [{ 'boot_index': 0, 'uuid': uuids.vol1, 'source_type': 'volume', 'destination_type': 'volume', }], }, # Local eph disk only {'name': 'bfv_with_eph', 'flavorRef': 'with_ephemeral', 'block_device_mapping_v2': [{ 'boot_index': 0, 'uuid': uuids.vol2, 'source_type': 'volume', 'destination_type': 'volume', }], }, # Local swap disk only {'name': 'bfv_with_swap', 'flavorRef': 'with_swap', 'block_device_mapping_v2': [{ 'boot_index': 0, 'uuid': uuids.vol3, 'source_type': 'volume', 'destination_type': 'volume', }], }, ] SERVER_DISKS = { 'local_root': 'disk', 'bfv': None, 'bfv_with_eph': 'disk.eph0', 'bfv_with_swap': 'disk.swap', } class _FileTest(object): """"""A base class for the _FlatTest and _Qcow2Test mixin test classes"""""" def setUp(self): super(_FileTest, self).setUp() def assert_disks_nonshared_instancedir(self, server): name = server['name'] disk = SERVER_DISKS[name] if not disk: return source_root_disk = os.path.join(self.source_instance_path(server), disk) dest_root_disk = os.path.join(self.dest_instance_path(server), disk) self.assertTrue(os.path.exists(source_root_disk), ""Source root disk %s for server %s does not exist"" % (source_root_disk, name)) self.assertFalse(os.path.exists(dest_root_disk), ""Destination root disk %s for server %s exists"" % (dest_root_disk, name)) def assert_disks_shared_instancedir(self, server): name = server['name'] disk = SERVER_DISKS[name] if not disk: return source_root_disk = os.path.join( self.source_instance_path(server), disk) # FIXME(mdbooth): We should not have deleted a shared disk self.assertFalse(os.path.exists(source_root_disk), ""Source root disk %s for server %s exists"" % (source_root_disk, name)) class _FlatTest(_FileTest): """"""A mixin which configures the flat imagebackend, and provides assertions for the expected state of the flat imagebackend after an evacuation. We mock create_image to touch a file so we can assert its existence/removal in tests. """""" def setUp(self): super(_FlatTest, self).setUp() self.flags(group='libvirt', images_type='flat') def fake_create_image(_self, *args, **kwargs): # Simply ensure the file exists open(_self.path, 'a').close() self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Flat.create_image', fake_create_image)) # Mocked to reduce runtime self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.imagebackend.Flat.correct_format')) class _Qcow2Test(_FileTest): """"""A mixin which configures the qcow2 imagebackend, and provides assertions for the expected state of the flat imagebackend after an evacuation. We mock create_image to touch a file so we can assert its existence/removal in tests. """""" def setUp(self): super(_Qcow2Test, self).setUp() self.flags(group='libvirt', images_type='qcow2') def fake_create_image(_self, *args, **kwargs): # Simply ensure the file exists open(_self.path, 'a').close() self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Qcow2.create_image', fake_create_image)) class _RbdTest(object): """"""A mixin which configures the rbd imagebackend, and provides assertions for the expected state of the rbd imagebackend after an evacuation. We mock RBDDriver so we don't need an actual ceph cluster. We mock create_image to store which rbd volumes would have been created, and exists to reference that store. """""" def setUp(self): super(_RbdTest, self).setUp() self.flags(group='libvirt', images_type='rbd') self.flags(group='libvirt', rbd_secret_uuid='1234') self.created = set() def fake_create_image(_self, *args, **kwargs): self.created.add(_self.rbd_name) def fake_exists(_self): return _self.rbd_name in self.created self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Rbd.create_image', fake_create_image)) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Rbd.exists', fake_exists)) # We never want to actually touch rbd self.mock_rbd_driver = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.storage.rbd_utils.RBDDriver')).mock.return_value self.mock_rbd_driver.get_mon_addrs.return_value = ([], []) self.mock_rbd_driver.size.return_value = 10 * units.Gi self.mock_rbd_driver.rbd_user = 'rbd' def _assert_disks(self, server): name = server['name'] disk = SERVER_DISKS[name] if not disk: return # Check that we created a root disk and haven't called _cleanup_rbd at # all self.assertIn(""%s_%s"" % (server['id'], disk), self.created) # FIXME(mdbooth): we should not have deleted shared disks self.assertGreater(self.mock_rbd_driver.cleanup_volumes.call_count, 0) # We never want to cleanup rbd disks during evacuate, regardless of # instance shared storage assert_disks_nonshared_instancedir = _assert_disks assert_disks_shared_instancedir = _assert_disks class FakeLVM(object): def __init__(self): self.volumes = set() def _exists(self, vg, lv): return any([v for v in self.volumes if v[0] == vg and v[1] == lv]) def _vg_exists(self, vg): return any([v for v in self.volumes if v[0] == vg]) def _find_vol_from_path(self, path): info = self.volume_info(path) for vol in self.volumes: if vol[0] == info['VG'] and vol[1] == info['LV']: return vol return None def create_volume(self, vg, lv, size, sparse=False): self.volumes.add((vg, lv, size)) def list_volumes(self, vg_path): _, vg = os.path.split(vg_path) return [vol[1] for vol in self.volumes if vol[0] == vg] def volume_info(self, path): path, lv = os.path.split(path) path, vg = os.path.split(path) return {'VG': vg, 'LV': lv} def get_volume_size(self, path): vol = self._find_vol_from_path(path) if vol is not None: return vol[2] raise exception.VolumeBDMPathNotFound(path=path) def remove_volumes(self, paths): for path in paths: vol = self._find_vol_from_path(path) if vol is not None: self.volumes.remove(vol) class _LVMTest(object): """"""A mixin which configures the LVM imagebackend, and provides assertions for the expected state of the LVM imagebackend after an evacuation. We need to track logical volumes on each compute separately, which we do by mocking the nova.virt.libvirt.storage.lvm module immediately before starting a new compute. """""" def setUp(self): super(_LVMTest, self).setUp() self.flags(group='libvirt', images_type='lvm', images_volume_group='fake_vg') # A map of compute service name: fake libvirt module self.fake_lvms = collections.defaultdict(FakeLVM) # The fake libvirt module in use by the compute service which is # running currently self.fake_lvm = None def fake_create_image(_self, prepare_template, base, size, *args, **kwargs): self.fake_lvm.create_volume(_self.vg, _self.lv, size) def fake_exists(_self, *args, **kwargs): return self.fake_lvm._exists(_self.vg, _self.lv) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Lvm.create_image', fake_create_image)) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Lvm.exists', fake_exists)) orig_path_exists = os.path.exists def fake_path_exists(path): if path.startswith('/dev/'): paths = path.split(os.sep)[2:] if len(paths) == 0: # For completeness: /dev exists return True if len(paths) == 1: return self.fake_lvm._vg_exists(*paths) if len(paths) == 2: return self.fake_lvm._exists(*paths) return False else: return orig_path_exists(path) self.useFixture(fixtures.MonkeyPatch( 'os.path.exists', fake_path_exists)) def _start_compute(self, name): compute = super(_LVMTest, self)._start_compute(name) # We need each compute to have its own fake LVM. These mocks replace # the previous mocks, globally. This only works because in this test we # only ever run one of the computes at a time. self.fake_lvm = self.fake_lvms[name] self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.driver.lvm', self.fake_lvm)) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.lvm', self.fake_lvm)) return compute def _assert_disks(self, server): name = server['name'] disk = SERVER_DISKS[name] if not disk: return vg = CONF.libvirt.images_volume_group lv = '{uuid}_{disk}'.format(uuid=server['id'], disk=disk) compute0 = self.fake_lvms['compute0'] compute1 = self.fake_lvms['compute1'] self.assertTrue(compute0._exists(vg, lv), 'Disk ""{disk}"" of server {server} does not exist on ' 'source'.format(disk=disk, server=name)) self.assertFalse(compute1._exists(vg, lv), 'Disk ""{disk}"" of server {server} still exists on ' 'destination'.format(disk=disk, server=name)) # We always want to cleanup LVM disks on failure, regardless of shared # instance directory assert_disks_nonshared_instancedir = _assert_disks assert_disks_shared_instancedir = _assert_disks class _LibvirtEvacuateTest(integrated_helpers.InstanceHelperMixin): """"""The main libvirt evacuate test. This configures a set of stub services with 2 computes and defines 2 tests, both of which create a server on compute0 and then evacuate it to compute1. test_evacuate_failure_nonshared_instancedir does this with a non-shared instance directory, and test_evacuate_failure_shared_instancedir does this with a shared instance directory. This class requires one of the mixins _FlatTest, _RbdTest, _LVMTest, or _Qcow2Test to execute. These configure an imagebackend, and define the assertions assert_disks_nonshared_instancedir and assert_disks_shared_instancedir to assert the expected state of that imagebackend after an evacuation. By combining shared and non-shared instance directory tests in this class with these mixins we get test coverage of all combinations of shared/nonshared instanace directories and block storage. """""" def _start_compute(self, name): # NOTE(mdbooth): fakelibvirt's getHostname currently returns a # hardcoded 'compute1', which is undesirable if we want multiple fake # computes. There's no good way to pre-initialise get_connection() to # return a fake libvirt with a custom return for getHostname. # # Here we mock the class during service creation to return our custom # hostname, but we can't leave this in place because then both computes # will still get the same value from their libvirt Connection. Once the # service has started, we poke a custom getHostname into the # instantiated object to do the same thing, but only for that object. with mock.patch.object(fakelibvirt.Connection, 'getHostname', return_value=name): compute = self.start_service('compute', host=name) compute.driver._host.get_connection().getHostname = lambda: name return compute def setUp(self): super(_LibvirtEvacuateTest, self).setUp() self.useFixture(nova_fixtures.CinderFixture(self)) self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(func_fixtures.PlacementFixture()) fake_network.set_stub_network_methods(self) api_fixture = self.useFixture( nova_fixtures.OSAPIFixture(api_version='v2.1')) self.api = api_fixture.admin_api # force_down and evacuate without onSharedStorage self.api.microversion = '2.14' fake_image.stub_out_image_service(self) self.addCleanup(fake_image.FakeImageService_reset) fake_notifier.stub_notifier(self) self.addCleanup(fake_notifier.reset) self.useFixture(fakelibvirt.FakeLibvirtFixture()) # Fake out all the details of volume connection self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver.get_volume_connector')) self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._connect_volume')) # For cleanup self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._disconnect_volume')) volume_config = libvirt_config.LibvirtConfigGuestDisk() volume_config.driver_name = 'fake-volume-driver' volume_config.source_path = 'fake-source-path' volume_config.target_dev = 'fake-target-dev' volume_config.target_bus = 'fake-target-bus' get_volume_config = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._get_volume_config')).mock get_volume_config.return_value = volume_config # Ensure our computes report lots of available disk, vcpu, and ram lots = 10000000 get_local_gb_info = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._get_local_gb_info')).mock get_local_gb_info.return_value = { 'total': lots, 'free': lots, 'used': 1} get_vcpu_available = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_available')).mock get_vcpu_available.return_value = set(cpu for cpu in range(24)) get_memory_mb_total = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.host.Host.get_memory_mb_total')).mock get_memory_mb_total.return_value = lots # Mock out adding rng devices self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._add_rng_device')).mock self.start_service('conductor') self.start_service('scheduler') self.flags(compute_driver='libvirt.LibvirtDriver') ctxt = context.get_admin_context() for flavor in FLAVOR_FIXTURES: objects.Flavor(context=ctxt, **flavor).create() @staticmethod def source_instance_path(server): return os.path.join(CONF.instances_path, server['id']) @staticmethod def dest_instance_path(server): return os.path.join(CONF.instances_path, 'dest', server['id']) def _create_servers(self): def _create_server(server): # NOTE(mdbooth): We could do all the server creations concurrently # to improve throughput, but we have seen this result in timeouts # on a loaded CI worker. server = self.api.post_server({'server': server}) # Wait for server to become ACTIVE, and return its updated state # NOTE(mdbooth): Increase max_retries from default to reduce # chances of timeout. return self._wait_for_state_change(server, 'ACTIVE', max_retries=30) return [_create_server(server) for server in SERVER_FIXTURES] def _swap_computes(self, compute0): # Force compute0 down compute0.stop() self.api.force_down_service('compute0', 'nova-compute', True) # Start compute1 return self._start_compute('compute1') def _evacuate_with_failure(self, server, compute1): # Perform an evacuation during which we experience a failure on the # destination host instance_uuid = server['id'] with mock.patch.object(compute1.driver, 'plug_vifs') as plug_vifs: plug_vifs.side_effect = test.TestingException self.api.post_server_action(instance_uuid, {'evacuate': {'host': 'compute1'}}) # Wait for the rebuild to start, then complete fake_notifier.wait_for_versioned_notifications( 'instance.rebuild.start') self._wait_for_migration_status(server, ['failed']) server = self._wait_for_server_parameter( server, {'OS-EXT-STS:task_state': None}) # Meta-test plug_vifs.assert_called() plug_vifs.reset_mock() # Return fresh server state after evacuate return server def test_evacuate_failure_nonshared_instancedir(self): """"""Assert the failure cleanup behaviour of non-shared instance storage If we fail during evacuate and the instance directory didn't previously exist on the destination, we should delete it """""" # Use a unique instances_path per test to allow cleanup self.flags(instances_path=self.useFixture(fixtures.TempDir()).path) # Create instances on compute0 compute0 = self._start_compute('compute0') servers = self._create_servers() compute1 = self._swap_computes(compute0) # Create a 'pass-through' mock for ensure_tree so we can log its calls orig_ensure_tree = fileutils.ensure_tree mock_ensure_tree = self.useFixture(fixtures.MockPatch( 'oslo_utils.fileutils.ensure_tree', side_effect=orig_ensure_tree)).mock for server in servers: name = server['name'] source_instance_path = self.source_instance_path(server) dest_instance_path = self.dest_instance_path(server) # Check that we've got an instance directory on the source and not # on the dest self.assertTrue(os.path.exists(source_instance_path), ""Source instance directory %s for server %s does "" ""not exist"" % (source_instance_path, name)) self.assertFalse(os.path.exists(dest_instance_path), ""Destination instance directory %s for server %s "" ""exists"" % (dest_instance_path, name)) # By default our 2 compute hosts share the same instance directory # on the test runner. Force a different directory while running # evacuate on compute1 so we don't have shared storage. def dest_get_instance_path(instance, relative=False): if relative: return instance.uuid return dest_instance_path with mock.patch('nova.virt.libvirt.utils.get_instance_path') \ as get_instance_path: get_instance_path.side_effect = dest_get_instance_path server = self._evacuate_with_failure(server, compute1) # Check that we've got an instance directory on the source and not # on the dest, but that the dest was created self.assertTrue(os.path.exists(source_instance_path), ""Source instance directory %s for server %s does "" ""not exist"" % (source_instance_path, name)) self.assertFalse(os.path.exists(dest_instance_path), ""Destination instance directory %s for server %s "" ""exists"" % (dest_instance_path, name)) mock_ensure_tree.assert_called_with(dest_instance_path) self.assert_disks_nonshared_instancedir(server) # Check we're still on the failed source host self.assertEqual('compute0', server['OS-EXT-SRV-ATTR:host']) def test_evacuate_failure_shared_instancedir(self): """"""Assert the failure cleanup behaviour of shared instance storage If we fail during evacuate and the instance directory was already present on the destination, we should leave it there By default our 2 compute hosts share the same instance directory on the test runner. """""" # Use a unique instances_path per test to allow cleanup self.flags(instances_path=self.useFixture(fixtures.TempDir()).path) # Create test instances on compute0 compute0 = self._start_compute('compute0') servers = self._create_servers() compute1 = self._swap_computes(compute0) for server in servers: name = server['name'] shared_instance_path = self.source_instance_path(server) # Check that we've got an instance directory on the source self.assertTrue(os.path.exists(shared_instance_path), ""Shared instance directory %s for server %s does "" ""not exist"" % (shared_instance_path, name)) server = self._evacuate_with_failure(server, compute1) # Check that the instance directory still exists # FIXME(mdbooth): the shared instance directory should still exist self.assertFalse(os.path.exists(shared_instance_path), ""Shared instance directory %s for server %s "" ""exists"" % (shared_instance_path, name)) self.assert_disks_shared_instancedir(server) # Check we're still on the failed source host self.assertEqual('compute0', server['OS-EXT-SRV-ATTR:host']) class LibvirtFlatEvacuateTest(_FlatTest, _LibvirtEvacuateTest, test.TestCase): pass class LibvirtQcowEvacuateTest(_Qcow2Test, _LibvirtEvacuateTest, test.TestCase): pass class LibvirtRbdEvacuateTest(_RbdTest, _LibvirtEvacuateTest, test.TestCase): pass class LibvirtLVMEvacuateTest(_LVMTest, _LibvirtEvacuateTest, test.TestCase): pass ",,660,0
openstack%2Fpuppet-tripleo~stable%2Fussuri~I6ae1ceca7ed4ae313c10e6d8be9803d20d68957d,openstack/puppet-tripleo,stable/ussuri,I6ae1ceca7ed4ae313c10e6d8be9803d20d68957d,Finish HAProxy config for metrics_qdr,MERGED,2020-06-10 11:49:01.000000000,2020-06-11 21:20:58.000000000,2020-06-11 21:20:58.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-10 11:49:01.000000000', 'files': ['manifests/haproxy.pp', 'manifests/profile/base/metrics/qdr.pp', 'manifests/profile/base/metrics/collectd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b8568c4bc3f2085cad057810105f43b9e0b467c9', 'message': 'Finish HAProxy config for metrics_qdr\n\nThis patch is fixing following issues:\n  - currently HAProxy is not enabled by default because of wrong hiera key\n  - QDR connections are not http connections\n  - the load balanced services are running only controllers and listening\n    on internal_api interfaces, so the pacemaker_nodes are reused for this\n    configuration.\n\nChange-Id: I6ae1ceca7ed4ae313c10e6d8be9803d20d68957d\n(cherry picked from commit f0f031b26982f89320dbaa20e282adc7cfaa4e05)\n'}]",0,734804,b8568c4bc3f2085cad057810105f43b9e0b467c9,8,4,1,5241,,,0,"Finish HAProxy config for metrics_qdr

This patch is fixing following issues:
  - currently HAProxy is not enabled by default because of wrong hiera key
  - QDR connections are not http connections
  - the load balanced services are running only controllers and listening
    on internal_api interfaces, so the pacemaker_nodes are reused for this
    configuration.

Change-Id: I6ae1ceca7ed4ae313c10e6d8be9803d20d68957d
(cherry picked from commit f0f031b26982f89320dbaa20e282adc7cfaa4e05)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/04/734804/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/haproxy.pp', 'manifests/profile/base/metrics/qdr.pp', 'manifests/profile/base/metrics/collectd.pp']",3,b8568c4bc3f2085cad057810105f43b9e0b467c9,haproxy-qdr-stable/ussuri," host => $amqp_host,","# [*amqp_external_host*] # (Optional) String. Host which QDR service, to which collectd should be connected, # is using for external connections. # Defaults to hiera('tripleo::profile::base::metrics::qdr::external_listener_addr', 'localhost') ## [*qdr_listens_on_external*] # (Optional) Boolean. Whether QDR service, to which collectd should be connected, # is listening for connections on amqp_external_host rather than amqp_host. # Defaults to hiera('tripleo::profile::base::metrics::qdr::listen_on_external', false) # $amqp_external_host = hiera('tripleo::profile::base::metrics::qdr::external_listener_addr', 'localhost'), $qdr_listens_on_external = hiera('tripleo::profile::base::metrics::qdr::listen_on_external', false), if $qdr_listens_on_external and $qdr_mode == 'interior' { $connect_to = $amqp_external_host } else { $connect_to = $amqp_host } host => $connect_to,",27,35
openstack%2Fos-collect-config~master~Ib353cf9878334d91e551bf75121413c6fb2222ea,openstack/os-collect-config,master,Ib353cf9878334d91e551bf75121413c6fb2222ea,Use unittest.mock instead of mock,MERGED,2020-06-09 08:52:50.000000000,2020-06-11 21:20:57.000000000,2020-06-11 21:20:57.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-09 08:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/8265303c137b6b9acaf9dfa8f2566a2d57f7e989', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ib353cf9878334d91e551bf75121413c6fb2222ea\n'}, {'number': 2, 'created': '2020-06-09 17:28:21.000000000', 'files': ['os_collect_config/tests/test_zaqar.py', 'test-requirements.txt', 'os_collect_config/tests/test_collect.py', 'os_collect_config/tests/test_ec2.py', 'os_collect_config/tests/test_config_drive.py'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/24245ce18ea0c1bbb2be901d638e90fe935bba1c', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ib353cf9878334d91e551bf75121413c6fb2222ea\n'}]",4,734457,24245ce18ea0c1bbb2be901d638e90fe935bba1c,11,4,2,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Ib353cf9878334d91e551bf75121413c6fb2222ea
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/57/734457/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_collect_config/tests/test_zaqar.py', 'test-requirements.txt', 'os_collect_config/tests/test_collect.py', 'os_collect_config/tests/test_config_drive.py', 'os_collect_config/tests/test_ec2.py']",5,8265303c137b6b9acaf9dfa8f2566a2d57f7e989,drop_mock,from unittest import mock,import mock,4,5
openstack%2Fos-collect-config~master~I9bc105931a7e6772b88d04afd6cb7151f845e5c1,openstack/os-collect-config,master,I9bc105931a7e6772b88d04afd6cb7151f845e5c1,Drop python version constraints for sphinx,MERGED,2020-06-09 17:28:21.000000000,2020-06-11 21:20:56.000000000,2020-06-11 21:20:56.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 17:28:21.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/ab98550efd4081ce9c670fc67d641dbd78bb510f', 'message': ""Drop python version constraints for sphinx\n\nThis project is now doesn't support py27 so we can remove sphinx\nconstraints related to python versions\n\nChange-Id: I9bc105931a7e6772b88d04afd6cb7151f845e5c1\n""}]",0,734657,ab98550efd4081ce9c670fc67d641dbd78bb510f,7,3,1,28522,,,0,"Drop python version constraints for sphinx

This project is now doesn't support py27 so we can remove sphinx
constraints related to python versions

Change-Id: I9bc105931a7e6772b88d04afd6cb7151f845e5c1
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/57/734657/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,ab98550efd4081ce9c670fc67d641dbd78bb510f,drop_mock,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2 # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",1,2
openstack%2Fvalidations-libs~stable%2Fussuri~Ic6e05bf65bf01eeafd5e9222f3410a4dc5a50c9e,openstack/validations-libs,stable/ussuri,Ic6e05bf65bf01eeafd5e9222f3410a4dc5a50c9e,Avoid None value when missing data in ansible log,MERGED,2020-05-27 13:35:23.000000000,2020-06-11 21:20:55.000000000,2020-06-11 21:20:54.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-05-27 13:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/bd06c849bb5b600453703bb3c5be182fc189ccf4', 'message': 'Avoid None value when missing data in ansible log\n\nWhen missing datas in ansible log for some reasons,\nwe need to avoid None value, and just ignore it.\n\nChange-Id: Ic6e05bf65bf01eeafd5e9222f3410a4dc5a50c9e\n(cherry picked from commit 1477887091f456c3c4d1157659266a48ce9b1b9b)\n'}, {'number': 2, 'created': '2020-05-28 07:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f9f4da47584be8a281d6fc521bebf1a8dbc9a343', 'message': 'Avoid None value when missing data in ansible log\n\nWhen missing datas in ansible log for some reasons,\nwe need to avoid None value, and just ignore it.\n\nChange-Id: Ic6e05bf65bf01eeafd5e9222f3410a4dc5a50c9e\n(cherry picked from commit 1477887091f456c3c4d1157659266a48ce9b1b9b)\n'}, {'number': 3, 'created': '2020-06-11 07:43:45.000000000', 'files': ['validations_libs/validation_logs.py', 'validations_libs/tests/test_validation_log.py', 'validations_libs/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b9ef0327dc1b9f5fca8e29a08700f5d3b6d0f33d', 'message': 'Avoid None value when missing data in ansible log\n\nWhen missing datas in ansible log for some reasons,\nwe need to avoid None value, and just ignore it.\n\nChange-Id: Ic6e05bf65bf01eeafd5e9222f3410a4dc5a50c9e\n(cherry picked from commit 1477887091f456c3c4d1157659266a48ce9b1b9b)\n'}]",4,731208,b9ef0327dc1b9f5fca8e29a08700f5d3b6d0f33d,12,3,3,16515,,,0,"Avoid None value when missing data in ansible log

When missing datas in ansible log for some reasons,
we need to avoid None value, and just ignore it.

Change-Id: Ic6e05bf65bf01eeafd5e9222f3410a4dc5a50c9e
(cherry picked from commit 1477887091f456c3c4d1157659266a48ce9b1b9b)
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/08/731208/2 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/validation_logs.py', 'validations_libs/tests/test_validation_log.py', 'validations_libs/tests/fakes.py']",3,bd06c849bb5b600453703bb3c5be182fc189ccf4,vlog/catch/exception-stable/ussuri,"BAD_VALIDATIONS_LOGS_CONTENTS_LIST = [{ 'plays': [{ 'play': { 'duration': { 'end': '2019-11-25T13:40:17.538611Z', }, 'host': 'undercloud', 'id': '008886df-d297-1eaa-2a74-000000000008', 'validation_id': '512e', 'validation_path': '/usr/share/openstack-tripleo-validations/playbooks' }}], 'stats': { 'undercloud': { 'changed': 0, 'failures': 0, 'ignored': 0, 'ok': 1, 'rescued': 0, 'skipped': 1 } }, 'validation_output': [] }] ",,58,4
openstack%2Ftripleo-heat-templates~master~I8955fced379f5da8cb401aa46dc0fd393b95a5aa,openstack/tripleo-heat-templates,master,I8955fced379f5da8cb401aa46dc0fd393b95a5aa,Add project template for IPA multinode,MERGED,2020-05-22 13:10:18.000000000,2020-06-11 21:20:53.000000000,2020-06-11 21:20:53.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31075}]","[{'number': 1, 'created': '2020-05-22 13:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1087d550f0c5a134761899adb5dcc718fc308833', 'message': 'DNM: Add project template for IPA multinode\n\nDepends-On: https://review.opendev.org/#/c/729907/\n\nChange-Id: I8955fced379f5da8cb401aa46dc0fd393b95a5aa\n'}, {'number': 2, 'created': '2020-05-27 13:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f888def1b18e23b7443a23ea1830a266c1f3115c', 'message': 'DNM: Add project template for IPA multinode\n\nDepends-On: https://review.opendev.org/#/c/729907/\n\nChange-Id: I8955fced379f5da8cb401aa46dc0fd393b95a5aa\n'}, {'number': 3, 'created': '2020-06-08 19:11:50.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/54a1d4153bb30e9d88fa105328a237a619a37104', 'message': 'Add project template for IPA multinode\n\nDepends-On: https://review.opendev.org/#/c/729907/\n\nChange-Id: I8955fced379f5da8cb401aa46dc0fd393b95a5aa\n'}]",1,730321,54a1d4153bb30e9d88fa105328a237a619a37104,19,5,3,31075,,,0,"Add project template for IPA multinode

Depends-On: https://review.opendev.org/#/c/729907/

Change-Id: I8955fced379f5da8cb401aa46dc0fd393b95a5aa
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/730321/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,1087d550f0c5a134761899adb5dcc718fc308833,gating-ipa-multinode, - tripleo-standalone-multinode-ipa, - tripleo-ci-centos-8-standalone-on-multinode-ipa: files: &files_ipa - environments/ssl/tls-everywhere-endpoints-dns.yaml - environments/services/haproxy-public-tls-certmonger.yaml - environments/ssl/enable-internal-tls.yaml - ci/environments/standalone-ipa.yaml - deployment/ipa/ipaservices-baremetal-ansible.yaml - deployment/apache/* - deployment/ceph-ansible/* - deployment/database/* - deployment/etcd/* - deployment/haproxy/* - deployment/metrics/* - deployment/neutron/* - deployment/nova/* - deployment/octavia/* - deployment/ovn/* - deployment/rabbitmq/* - zuul.d/* - tripleo-ci-centos-8-standalone-on-multinode-ipa: files: *files_ipa,1,21
openstack%2Foctavia~master~I4ff1f4b96160b25daab7afdff58b1d5652d16946,openstack/octavia,master,I4ff1f4b96160b25daab7afdff58b1d5652d16946,WIP: Ensure required options are set on startup,ABANDONED,2018-08-23 10:41:18.000000000,2020-06-11 21:12:39.000000000,,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-23 10:41:18.000000000', 'files': ['octavia/common/config.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/64544c580aa105311bd61c36d368d471d299434c', 'message': 'WIP: Ensure required options are set on startup\n\nStory: #2003052\nTask: XXXXXX\n\nChange-Id: I4ff1f4b96160b25daab7afdff58b1d5652d16946\n'}]",9,595578,64544c580aa105311bd61c36d368d471d299434c,7,3,1,6469,,,0,"WIP: Ensure required options are set on startup

Story: #2003052
Task: XXXXXX

Change-Id: I4ff1f4b96160b25daab7afdff58b1d5652d16946
",git fetch https://review.opendev.org/openstack/octavia refs/changes/78/595578/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/common/config.py'],1,64544c580aa105311bd61c36d368d471d299434c,story/2003052," ""are located. If not set, it will default to "" ""/etc/netns/{netns}/sysconfig/network-scripts/ (Red Hat "" ""family) or /etc/netns/{netns}/network/interfaces.d/ "" ""(Ubuntu family)"")), help=_('Number of processes for amphora status update. If not ' 'set, it will default to the number of processors on ' 'the machine')), 'the message'), secret=True, required=True), required=True), required=True, required=True, required=True, required=True, # TODO(cgoncalves): is this option used somewhere? # TODO(cgoncalves): is this option used somewhere? # TODO(cgoncalves): is this option used somewhere?"," ""are located"")), help=_('Number of processes for amphora status update.')), 'the message'), secret=True), default=[]), default='', default='', default='', default='',",16,8
openstack%2Fswift~master~I5f5afaad07392372addcb4da7d2df55e19ab2458,openstack/swift,master,I5f5afaad07392372addcb4da7d2df55e19ab2458,obj-updater: add metric on lag of containers listing,NEW,2020-03-28 00:11:18.000000000,2020-06-11 21:11:32.000000000,,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 13852}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-28 00:11:18.000000000', 'files': ['swift/obj/updater.py', 'swift/obj/server.py', 'test/unit/obj/test_server.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/572ddc01d3e96bb963da5960df743b0d9c0d4d96', 'message': 'obj-updater: add metric on lag of containers listing\n\nEmit object-updater.lag\n\nChange-Id: I5f5afaad07392372addcb4da7d2df55e19ab2458\n'}]",7,715580,572ddc01d3e96bb963da5960df743b0d9c0d4d96,8,5,1,13852,,,0,"obj-updater: add metric on lag of containers listing

Emit object-updater.lag

Change-Id: I5f5afaad07392372addcb4da7d2df55e19ab2458
",git fetch https://review.opendev.org/openstack/swift refs/changes/80/715580/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/updater.py', 'swift/obj/server.py', 'test/unit/obj/test_server.py']",3,572ddc01d3e96bb963da5960df743b0d9c0d4d96,obj_updater_timing_serie," mock.patch('time.time', return_value=1.0), \ 'account': 'a', 'container': 'c', 'obj': 'o', 'op': 'PUT', 'update_ctime': 1.0}) mock.patch('time.time', return_value=1.0), \ 'account': 'a', 'container': 'c', 'obj': 'o', 'op': 'PUT', 'update_ctime': 1.0}) 'account': 'a', 'container': 'c', 'obj': 'o', 'op': 'PUT', 'update_ctime': 1.0}) mock.patch('time.time', return_value=1.0), \ 'container_path': '.sharded_a/c_shard_1', 'update_ctime': 1.0}, with mock.patch('time.time', return_value=1.0): self.object_controller.async_update( 'PUT', 'a', 'c', 'o', '127.0.0.1:1234', 1, 'sdc1', {'x-timestamp': '1', 'x-out': 'set', 'X-Backend-Storage-Policy-Index': int(policy)}, 'sda1', policy) 'account': 'a', 'container': 'c', 'obj': 'o', 'op': 'PUT', 'update_ctime': 1.0}) with mock.patch('time.time', return_value=1.0): self.object_controller.async_update( 'PUT', 'a', 'c', 'o', '127.0.0.1:1234', 1, 'sdc1', {'x-timestamp': '1', 'x-out': str(status), 'X-Backend-Storage-Policy-Index': int(policy)}, 'sda1', policy) 'op': 'PUT', 'update_ctime': 1.0}) with mock.patch('time.time', return_value=1.0), mocked_http_conn( 'op': 'PUT', 'update_ctime': 1.0} with mock.patch('time.time', return_value=1.0), mocked_http_conn( 'op': 'PUT', 'update_ctime': 1.0} with mock.patch('time.time', return_value=1.0), \ mocked_http_conn(500) as fake_conn, fake_spawn(): 'op': 'PUT', 'update_ctime': 1.0})"," 'account': 'a', 'container': 'c', 'obj': 'o', 'op': 'PUT'}) 'account': 'a', 'container': 'c', 'obj': 'o', 'op': 'PUT'}) 'account': 'a', 'container': 'c', 'obj': 'o', 'op': 'PUT'}) 'container_path': '.sharded_a/c_shard_1'}, self.object_controller.async_update( 'PUT', 'a', 'c', 'o', '127.0.0.1:1234', 1, 'sdc1', {'x-timestamp': '1', 'x-out': 'set', 'X-Backend-Storage-Policy-Index': int(policy)}, 'sda1', policy) 'account': 'a', 'container': 'c', 'obj': 'o', 'op': 'PUT'}) self.object_controller.async_update( 'PUT', 'a', 'c', 'o', '127.0.0.1:1234', 1, 'sdc1', {'x-timestamp': '1', 'x-out': str(status), 'X-Backend-Storage-Policy-Index': int(policy)}, 'sda1', policy) 'op': 'PUT'}) with mocked_http_conn( 'op': 'PUT'} with mocked_http_conn( 'op': 'PUT'} with mocked_http_conn(500) as fake_conn, fake_spawn(): 'op': 'PUT'})",45,25
openstack%2Foctavia~master~I50774888fd2473b0c360cd53cf554bad51a5e9a9,openstack/octavia,master,I50774888fd2473b0c360cd53cf554bad51a5e9a9,Add a periodic task for checking pending_* lbs in housekeeping,ABANDONED,2018-08-08 07:55:57.000000000,2020-06-11 21:11:23.000000000,,"[{'_account_id': 2245}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-08 07:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b0e2a4b53d4e252a0fd235289de9fd9c53542060', 'message': 'Add a periodic task for checking pending_* lbs in housekeeping\n\nStory: 2002568\nTask: 22132\n\nChange-Id: I50774888fd2473b0c360cd53cf554bad51a5e9a9\n'}, {'number': 2, 'created': '2018-08-08 10:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/00dfba199edda05ab55e062f71e157023f826287', 'message': 'Add a periodic task for checking pending_* lbs in housekeeping\n\nStory: 2002568\nTask: 22132\n\nChange-Id: I50774888fd2473b0c360cd53cf554bad51a5e9a9\n'}, {'number': 3, 'created': '2018-08-08 10:20:02.000000000', 'files': ['octavia/cmd/house_keeping.py', 'octavia/common/config.py', 'octavia/common/constants.py', 'octavia/db/repositories.py', 'octavia/controller/housekeeping/house_keeping.py', 'octavia/tests/unit/cmd/test_house_keeping.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b63311a5e79f8b6e1dd679f94d9cef05296d16e9', 'message': 'Add a periodic task for checking pending_* lbs in housekeeping\n\nStory: 2002568\nTask: 22132\n\nChange-Id: I50774888fd2473b0c360cd53cf554bad51a5e9a9\n'}]",1,589747,b63311a5e79f8b6e1dd679f94d9cef05296d16e9,9,3,3,25058,,,0,"Add a periodic task for checking pending_* lbs in housekeeping

Story: 2002568
Task: 22132

Change-Id: I50774888fd2473b0c360cd53cf554bad51a5e9a9
",git fetch https://review.opendev.org/openstack/octavia refs/changes/47/589747/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/cmd/house_keeping.py', 'octavia/common/config.py', 'octavia/common/constants.py', 'octavia/db/repositories.py', 'octavia/controller/housekeeping/house_keeping.py', 'octavia/tests/unit/cmd/test_house_keeping.py']",6,b0e2a4b53d4e252a0fd235289de9fd9c53542060,check_pending," @mock.patch('octavia.cmd.house_keeping.pending_lb_thread_event') pending_lb_thread_event_mock, pending_lb_thread_event_mock = mock.MagicMock() cert_rotate_thread_mock, pending_lb_thread_event_mock] pending_lb_thread_event_mock.daemon.return_value = True pending_lb_thread_event_mock.start.assert_called_once_with( self.assertTrue(pending_lb_thread_event_mock.daemon) @mock.patch('octavia.cmd.house_keeping.pending_lb_thread_event') pending_lb_thread_event_mock = mock.MagicMock() cert_rotate_thread_mock, pending_lb_thread_event_mock] pending_lb_thread_event_mock.daemon.return_value = True pending_lb_thread_event_mock.set.assert_called_once_with() pending_lb_thread_event_mock.start.assert_called_once_with() self.aasertTrue(pending_lb_thread_event_mock.demon) pending_lb_thread_event_mock.join.assert_called_once_with() ", cert_rotate_thread_mock] cert_rotate_thread_mock],85,3
openstack%2Foctavia~master~I5fd179d3de53e290f3b280b378d8df96c0619285,openstack/octavia,master,I5fd179d3de53e290f3b280b378d8df96c0619285,Enable add debug account for ssh access,ABANDONED,2017-05-15 08:05:55.000000000,2020-06-11 21:10:52.000000000,,"[{'_account_id': 2245}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 21950}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-05-15 08:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/45c3a32d63cc2a8f6b27036fc4c361786c837289', 'message': 'Enable add common account for ssh access\n\nThis patch allow add common account to OS by\nCloud-init.\nAccount name default to octavia if not set\namp_common_username in /etc/octavia.conf\ncontroller_worker section.\n\nCloses-Bug: #1656973\n\nChange-Id: I5fd179d3de53e290f3b280b378d8df96c0619285\nSigned-off-by: cheng <tangch318@gmail.com>\n'}, {'number': 2, 'created': '2017-05-16 04:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f796bf22307da35bd2d6d5707934b993cf68dbaa', 'message': 'Enable add debug account for ssh access\n\nThis patch allow add common account to OS by\nCloud-init.\nAccount name default to octavia if not set\namp_debug_username in /etc/octavia.conf\ncontroller_worker section.\n\nCloses-Bug: #1656973\n\nChange-Id: I5fd179d3de53e290f3b280b378d8df96c0619285\nSigned-off-by: cheng <tangch318@gmail.com>\n'}, {'number': 3, 'created': '2017-06-09 00:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6dc8b50f001f43a9b07bdc2ab5db1f0592f4aa0e', 'message': 'Enable add debug account for ssh access\n\nThis patch allow add common account to OS by\nCloud-init.\nAccount name default to octavia if not set\namp_debug_username in /etc/octavia.conf\ncontroller_worker section.\n\nCloses-Bug: #1656973\n\nChange-Id: I5fd179d3de53e290f3b280b378d8df96c0619285\nSigned-off-by: cheng <tangch318@gmail.com>\n'}, {'number': 4, 'created': '2017-12-18 02:59:49.000000000', 'files': ['octavia/common/config.py', 'octavia/common/jinja/templates/user_data_config_drive.template', 'octavia/controller/worker/tasks/compute_tasks.py', 'octavia/tests/unit/common/jinja/test_user_data_jinja_cfg.py', 'octavia/compute/drivers/nova_driver.py', 'etc/octavia.conf', 'octavia/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/778efbd6692053eedd71bb49ad0f662ff18688ec', 'message': 'Enable add debug account for ssh access\n\nThis patch allow add debug account to OS by Cloud-init.  Account name\ndefault to octavia if not set amp_debug_username in /etc/octavia.conf\ncontroller_worker section.\n\nCloses-Bug: #1656973\n\nChange-Id: I5fd179d3de53e290f3b280b378d8df96c0619285\nSigned-off-by: cheng <tangch318@gmail.com>\n'}]",7,464560,778efbd6692053eedd71bb49ad0f662ff18688ec,23,6,4,21950,,,0,"Enable add debug account for ssh access

This patch allow add debug account to OS by Cloud-init.  Account name
default to octavia if not set amp_debug_username in /etc/octavia.conf
controller_worker section.

Closes-Bug: #1656973

Change-Id: I5fd179d3de53e290f3b280b378d8df96c0619285
Signed-off-by: cheng <tangch318@gmail.com>
",git fetch https://review.opendev.org/openstack/octavia refs/changes/60/464560/4 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'octavia/common/jinja/templates/user_data_config_drive.template', 'octavia/controller/worker/tasks/compute_tasks.py', 'octavia/tests/unit/common/jinja/test_user_data_jinja_cfg.py', 'octavia/compute/drivers/nova_driver.py', 'etc/octavia.conf', 'octavia/common/exceptions.py']",7,45c3a32d63cc2a8f6b27036fc4c361786c837289,bug/1656973,class ComputeGetKeyPairObjectGetException(OctaviaException): message = _('Failed to retrieve compute key pair.') ,,69,7
openstack%2Foctavia~master~Ibe039f7689876582e3083bb174617816b0adbf7b,openstack/octavia,master,Ibe039f7689876582e3083bb174617816b0adbf7b,[WIP] ACTIVE-ACTIVE with LVS - Octavia agent,ABANDONED,2017-09-20 18:27:49.000000000,2020-06-11 21:10:22.000000000,,"[{'_account_id': 2245}, {'_account_id': 15309}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-20 18:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8b9d9e7e8f581da63a6e498a7b981c7d07528013', 'message': '[WIP] ACTIVE-ACTIVE with LVS - Octavia agent\n\nThis is a collection of pacthes to enable Active-Active on the\namphora with LVS.\n\n* This will setup a tunnel interface\n* Add logic to modift sysctl\n* Debug/Status call for ipvsadm\n\nChange-Id: Ibe039f7689876582e3083bb174617816b0adbf7b\n'}, {'number': 2, 'created': '2017-12-18 01:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7a9ce6644792a423f3c8beb194ee1c30bba567d9', 'message': '[WIP] ACTIVE-ACTIVE with LVS - Octavia agent\n\nThis is a collection of pacthes to enable Active-Active on the\namphora with LVS.\n\n* This will setup a tunnel interface\n* Add logic to modift sysctl\n* Debug/Status call for ipvsadm\n\nChange-Id: Ibe039f7689876582e3083bb174617816b0adbf7b\n'}, {'number': 3, 'created': '2017-12-18 07:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5263c4de21878180e267fe4a5121eb447caa9efe', 'message': '[WIP] ACTIVE-ACTIVE with LVS - Octavia agent\n\nThis is a collection of patches to enable Active-Active on the\namphora with LVS.\n\n* This will setup a tunnel interface\n* Add logic to modify sysctl\n* Debug/Status call for ipvsadm\n\nChange-Id: Ibe039f7689876582e3083bb174617816b0adbf7b\n'}, {'number': 4, 'created': '2017-12-18 07:37:34.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/amphorae/backends/agent/api_server/server.py', 'octavia/amphorae/backends/agent/api_server/distributor.py', 'octavia/amphorae/backends/agent/api_server/templates/plug_tunl.conf.j2'], 'web_link': 'https://opendev.org/openstack/octavia/commit/20fd92cad028f64cc907d9304602a74862460810', 'message': '[WIP] ACTIVE-ACTIVE with LVS - Octavia agent\n\nThis is a collection of patches to enable Active-Active on the\namphora with LVS.\n\n* This will setup a tunnel interface\n* Add logic to modify sysctl\n* Debug/Status call for ipvsadm\n\nChange-Id: Ibe039f7689876582e3083bb174617816b0adbf7b\n'}]",4,505770,20fd92cad028f64cc907d9304602a74862460810,13,3,4,10850,,,0,"[WIP] ACTIVE-ACTIVE with LVS - Octavia agent

This is a collection of patches to enable Active-Active on the
amphora with LVS.

* This will setup a tunnel interface
* Add logic to modify sysctl
* Debug/Status call for ipvsadm

Change-Id: Ibe039f7689876582e3083bb174617816b0adbf7b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/70/505770/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/amphorae/backends/agent/api_server/server.py', 'octavia/amphorae/backends/agent/api_server/distributor.py', 'octavia/amphorae/backends/agent/api_server/templates/plug_tunl.conf.j2']",4,8b9d9e7e8f581da63a6e498a7b981c7d07528013,diskimage-ipvsadm,auto {{ interface }} iface {{ interface }} inet static address {{ address }} netmask {{ netmask }} {%- if mtu %} mtu {{ mtu }} {%- endif %},,119,6
openstack%2Freleases~master~Ieb4eb7e695c932262965e812e39ce211f5b8c67e,openstack/releases,master,Ieb4eb7e695c932262965e812e39ce211f5b8c67e,Octavia: EOL Ocata and Pike,MERGED,2020-04-10 20:12:33.000000000,2020-06-11 21:07:02.000000000,2020-06-11 21:07:02.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-04-10 20:12:33.000000000', 'files': ['deliverables/pike/octavia.yaml', 'deliverables/pike/python-octaviaclient.yaml', 'deliverables/ocata/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1038fcbdd7a6d22b13623c609a448244a92ee253', 'message': 'Octavia: EOL Ocata and Pike\n\nThis should have been done a bit ago.\n\nChange-Id: Ieb4eb7e695c932262965e812e39ce211f5b8c67e\n'}]",0,719097,1038fcbdd7a6d22b13623c609a448244a92ee253,17,7,1,10273,,,0,"Octavia: EOL Ocata and Pike

This should have been done a bit ago.

Change-Id: Ieb4eb7e695c932262965e812e39ce211f5b8c67e
",git fetch https://review.opendev.org/openstack/releases refs/changes/97/719097/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/octavia.yaml', 'deliverables/pike/python-octaviaclient.yaml', 'deliverables/ocata/octavia.yaml']",3,1038fcbdd7a6d22b13623c609a448244a92ee253,, - projects: - repo: openstack/octavia hash: c2fdffc3b748f8007c72e52df257e38756923b40 version: ocata-eol,,12,0
openstack%2Foctavia~master~Ia44d6fa271f182b0db66fd7f668b8ac5860acba6,openstack/octavia,master,Ia44d6fa271f182b0db66fd7f668b8ac5860acba6,No need create vrrp port in TOPOLOGY_SINGLE,ABANDONED,2018-04-10 10:18:42.000000000,2020-06-11 21:06:47.000000000,,"[{'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 26401}]","[{'number': 1, 'created': '2018-04-10 10:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/207b535b340f691b14419db6907d2fad9b47bb28', 'message': 'No need create vrrp port in TOPOLOGY_SINGLE\n\nChange-Id: Ia44d6fa271f182b0db66fd7f668b8ac5860acba6\nTask: 12544\nStory: 2001810\n'}, {'number': 2, 'created': '2018-04-11 01:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e160902ab93987f9dcc6f9ae885d3cbe68cda6ff', 'message': 'No need create vrrp port in TOPOLOGY_SINGLE\n\nChange-Id: Ia44d6fa271f182b0db66fd7f668b8ac5860acba6\nTask: 12544\nStory: 2001810\n'}, {'number': 3, 'created': '2018-04-11 03:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d6c6ab9276f74b0b86db41995dabc507a8dc2464', 'message': 'No need create vrrp port in TOPOLOGY_SINGLE\n\nChange-Id: Ia44d6fa271f182b0db66fd7f668b8ac5860acba6\nTask: 12544\nStory: 2001810\n'}, {'number': 4, 'created': '2018-04-11 08:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e841d8ad733ab07b126f7256a8b67390c1c47a9f', 'message': 'No need create vrrp port in TOPOLOGY_SINGLE\n\nChange-Id: Ia44d6fa271f182b0db66fd7f668b8ac5860acba6\nTask: 12544\nStory: 2001810\n'}, {'number': 5, 'created': '2018-04-11 10:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d9f93bb9d36d6a3ac6f5ec1614c1ed948a4a7c56', 'message': 'No need create vrrp port in TOPOLOGY_SINGLE\n\nChange-Id: Ia44d6fa271f182b0db66fd7f668b8ac5860acba6\nTask: 12544\nStory: 2001810\n'}, {'number': 6, 'created': '2018-04-12 04:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2e8b21a95c07f507057f6f77b496afb4ed9c2f42', 'message': 'No need create vrrp port in TOPOLOGY_SINGLE\n\nChange-Id: Ia44d6fa271f182b0db66fd7f668b8ac5860acba6\nTask: 12544\nStory: 2001810\n'}, {'number': 7, 'created': '2018-04-13 08:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/858ce1f214ce1d4540bdbb9709216f8608b432e9', 'message': 'No need create vrrp port in TOPOLOGY_SINGLE\n\nChange-Id: Ia44d6fa271f182b0db66fd7f668b8ac5860acba6\nTask: 12544\nStory: 2001810\n'}, {'number': 8, 'created': '2018-04-13 09:08:07.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'octavia/amphorae/backends/agent/api_server/templates/plug_vip_ethX.conf.j2', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/amphorae/backends/agent/api_server/osutils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8baf5194f310cf263ad818ed42d3d4a5d0b30935', 'message': 'No need create vrrp port in TOPOLOGY_SINGLE\n\nChange-Id: Ia44d6fa271f182b0db66fd7f668b8ac5860acba6\nTask: 12544\nStory: 2001810\n'}]",0,559981,8baf5194f310cf263ad818ed42d3d4a5d0b30935,19,3,8,26401,,,0,"No need create vrrp port in TOPOLOGY_SINGLE

Change-Id: Ia44d6fa271f182b0db66fd7f668b8ac5860acba6
Task: 12544
Story: 2001810
",git fetch https://review.opendev.org/openstack/octavia refs/changes/81/559981/6 && git format-patch -1 --stdout FETCH_HEAD,['octavia/network/drivers/neutron/allowed_address_pairs.py'],1,207b535b340f691b14419db6907d2fad9b47bb28,," def _attach_amphora_vip(self, amphora, vip): try: vip_port = self.neutron_client.show_port(vip.port_id) vip_port = utils.convert_port_dict_to_model(vip_port) LOG.debug('Attach vip port: %(port_id)s for amphora: %(amp)s', {'port_id': vip_port.id, 'amp': amphora.id}) interface = self.plug_port(amphora, vip_port) except Exception: message = _('Error attaching vip port {port_id} to ' 'amphora (compute_id: {compute_id}) .').format( port_id=vip.port_id, compute_id=amphora.compute_id) LOG.exception(message) raise base.PlugVIPException(message) return interface if load_balancer.topolopy == constants.TOPOLOGY_SINGLE: interface = self._attach_amphora_vip(amphora, vip) else: interface = self._plug_amphora_vip(amphora, subnet) if load_balancer.topolopy != constants.TOPOLOGY_SINGLE: self._add_vip_address_pair(interface.port_id, vip.ip_address)"," interface = self._plug_amphora_vip(amphora, subnet) self._add_vip_address_pair(interface.port_id, vip.ip_address)",24,2
openstack%2Fswift~master~Id98055994c8d59e561372417c9eb4aec969afc6a,openstack/swift,master,Id98055994c8d59e561372417c9eb4aec969afc6a,Use ini_file to update timeout instead of crudini,MERGED,2020-06-10 01:28:35.000000000,2020-06-11 21:06:20.000000000,2020-06-11 21:03:01.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 01:28:35.000000000', 'files': ['tools/playbooks/saio_single_node_setup/setup_saio.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/79811df34c84b416ce9f445926b31a23a32ea1a4', 'message': ""Use ini_file to update timeout instead of crudini\n\ncrudini seems to have trouble on py3 -- still not sure *why* it's using\npy3 for the losf job, though...\n\nChange-Id: Id98055994c8d59e561372417c9eb4aec969afc6a\n""}]",1,734729,79811df34c84b416ce9f445926b31a23a32ea1a4,17,3,1,15343,,,0,"Use ini_file to update timeout instead of crudini

crudini seems to have trouble on py3 -- still not sure *why* it's using
py3 for the losf job, though...

Change-Id: Id98055994c8d59e561372417c9eb4aec969afc6a
",git fetch https://review.opendev.org/openstack/swift refs/changes/29/734729/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/playbooks/saio_single_node_setup/setup_saio.yaml'],1,79811df34c84b416ce9f445926b31a23a32ea1a4,690717, ini_file: path: /etc/swift/proxy-server.conf section: app:proxy-server option: node_timeout value: 20 create: no, shell: cmd: | crudini --set /etc/swift/proxy-server.conf app:proxy-server node_timeout 20 executable: /bin/bash,6,4
openstack%2Foctavia~master~I8106d00b2ac0e3cd742c051e990fe576cab15acc,openstack/octavia,master,I8106d00b2ac0e3cd742c051e990fe576cab15acc,"amphora driver backed by kubernetes blueprint Creating amphora backend by a kubernetes cluster. To be checked how would be possible, it should work fine with a single cluster backing many applications",ABANDONED,2018-02-16 15:39:10.000000000,2020-06-11 21:05:45.000000000,,"[{'_account_id': 136}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-16 15:39:10.000000000', 'files': ['octavia/compute/drivers/kube_driver/driver.py', 'octavia/amphorae/drivers/kube_driver/driver.py', 'octavia/controller/worker/flows/amphora_flows.py', 'octavia/amphorae/drivers/kube_driver/__init__.py', 'setup.cfg', 'octavia/compute/drivers/kube_driver/__init__.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f1fc8283271f19a4f8f48b574027caf3fdc65487', 'message': 'amphora driver backed by kubernetes blueprint\nCreating amphora backend by a kubernetes cluster. To be checked how\nwould be possible, it should work fine with a single cluster backing\nmany applications\n\nChange-Id: I8106d00b2ac0e3cd742c051e990fe576cab15acc\nTask:2001541\nStory:6498\n'}]",0,545368,f1fc8283271f19a4f8f48b574027caf3fdc65487,4,2,1,27743,,,0,"amphora driver backed by kubernetes blueprint
Creating amphora backend by a kubernetes cluster. To be checked how
would be possible, it should work fine with a single cluster backing
many applications

Change-Id: I8106d00b2ac0e3cd742c051e990fe576cab15acc
Task:2001541
Story:6498
",git fetch https://review.opendev.org/openstack/octavia refs/changes/68/545368/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/compute/drivers/kube_driver/driver.py', 'octavia/amphorae/drivers/kube_driver/driver.py', 'octavia/controller/worker/flows/amphora_flows.py', 'octavia/amphorae/drivers/kube_driver/__init__.py', 'setup.cfg', 'octavia/compute/drivers/kube_driver/__init__.py']",6,f1fc8283271f19a4f8f48b574027caf3fdc65487,os5945octaviaAmphoraKub,,,295,2
openstack%2Foctavia~master~I08ea9e2e5b45d69dcb50aa489bd3674a791401a6,openstack/octavia,master,I08ea9e2e5b45d69dcb50aa489bd3674a791401a6,VIP port is created with port_security_enabled: False,ABANDONED,2017-12-21 01:42:49.000000000,2020-06-11 21:05:06.000000000,,"[{'_account_id': 2245}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 25058}]","[{'number': 1, 'created': '2017-12-21 01:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/35255b58faf6a8cee536c67f24fe033286c3fd9b', 'message': 'VIP port is created with port_security_enabled: False\n\nUsers can specify the security group for vip port,\nif not specified will depend on port_security_enabled for vip network\n\nThis patch is handled as follows:\n1. Replace neutron extension with vip port_security_enabled\n2. Add vip_address_pair for vrrp port when vip port_security_enabled is true\n3. Add the port_security_enabled property to create the vrrp port\n\nStory: 2001404\nTask: 6094\nChange-Id: I08ea9e2e5b45d69dcb50aa489bd3674a791401a6\n'}, {'number': 2, 'created': '2017-12-21 06:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a2a934db98e8153288c4448b26625949de6ec262', 'message': 'VIP port is created with port_security_enabled: False\n\nUsers can specify the security group for vip port,\nif not specified will depend on port_security_enabled for vip network\n\nThis patch is handled as follows:\n1. Replace neutron extension with vip port_security_enabled\n2. Add vip_address_pair for vrrp port when vip port_security_enabled is true\n3. Add the port_security_enabled property to create the vrrp port\n\nStory: 2001404\nTask: 6094\nChange-Id: I08ea9e2e5b45d69dcb50aa489bd3674a791401a6\n'}, {'number': 3, 'created': '2017-12-21 07:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b920e43e951e4d2e2586a84c1dd16a2561751822', 'message': 'VIP port is created with port_security_enabled: False\n\nUsers can specify the security group for vip port,\nif not specified will depend on port_security_enabled for vip network\n\nThis patch is handled as follows:\n1. Replace neutron extension with vip port_security_enabled\n2. Add vip_address_pair for vrrp port when vip port_security_enabled is true\n3. Add the port_security_enabled property to create the vrrp port\n\nStory: 2001404\nTask: 6094\nChange-Id: I08ea9e2e5b45d69dcb50aa489bd3674a791401a6\n'}, {'number': 4, 'created': '2017-12-21 08:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2666cc04c4691c653fed704b1105388770a8a1ea', 'message': 'VIP port is created with port_security_enabled: False\n\nUsers can specify the security group for vip port,\nif not specified will depend on port_security_enabled for vip network\n\nThis patch is handled as follows:\n1. Replace neutron extension with vip port_security_enabled\n2. Add vip_address_pair for vrrp port when vip port_security_enabled is true\n3. Add the port_security_enabled property to create the vrrp port\n\nStory: 2001404\nTask: 6094\nChange-Id: I08ea9e2e5b45d69dcb50aa489bd3674a791401a6\n'}, {'number': 5, 'created': '2017-12-25 01:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9d75fa4d6ecbffbdb05b6d94d1f965bfb9c0f413', 'message': 'VIP port is created with port_security_enabled: False\n\nUsers can specify the security group for vip port,\nif not specified will depend on port_security_enabled for vip network\n\nThis patch is handled as follows:\n1. Replace neutron extension with vip port_security_enabled\n2. Add vip_address_pair for vrrp port when vip port_security_enabled is true\n3. Add the port_security_enabled property to create the vrrp port\n\nStory: 2001404\nTask: 6094\nChange-Id: I08ea9e2e5b45d69dcb50aa489bd3674a791401a6\n'}, {'number': 6, 'created': '2017-12-26 01:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/95c26d8adff4e8e483095ee63269d3bab7853982', 'message': 'VIP port is created with port_security_enabled: False\n\nUsers can specify the security group for vip port,\nif not specified will depend on port_security_enabled for vip network\n\nThis patch is handled as follows:\n1. Replace neutron extension with vip port_security_enabled\n2. Add vip_address_pair for vrrp port when vip port_security_enabled is true\n3. Add the port_security_enabled property to create the vrrp port\n\nStory: 2001404\nTask: 6094\nChange-Id: I08ea9e2e5b45d69dcb50aa489bd3674a791401a6\n'}, {'number': 7, 'created': '2017-12-26 02:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/71fb4f06a282e56002b316b82fae44f8939d2421', 'message': 'VIP port is created with port_security_enabled: False\n\nUsers can specify the security group for vip port,\nif not specified will depend on port_security_enabled for vip network\n\nThis patch is handled as follows:\n1. Replace neutron extension with vip port_security_enabled\n2. Add vip_address_pair for vrrp port when vip port_security_enabled is true\n3. Add the port_security_enabled property to create the vrrp port\n\nStory: 2001404\nTask: 6094\nChange-Id: I08ea9e2e5b45d69dcb50aa489bd3674a791401a6\n'}, {'number': 8, 'created': '2018-01-05 18:56:53.000000000', 'files': ['octavia/network/drivers/neutron/utils.py', 'octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'octavia/network/drivers/neutron/base.py', 'octavia/network/data_models.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9f8610ca97839c7cd28afb195e7d785f45c330ad', 'message': 'VIP port is created with port_security_enabled: False\n\nUsers can specify the security group for vip port,\nif not specified will depend on port_security_enabled for vip network\n\nThis patch is handled as follows:\n1. Replace neutron extension with vip port_security_enabled\n2. Add vip_address_pair for vrrp port when vip port_security_enabled is true\n3. Add the port_security_enabled property to create the vrrp port\n\nStory: 2001404\nTask: 6094\nChange-Id: I08ea9e2e5b45d69dcb50aa489bd3674a791401a6\n'}]",2,529449,9f8610ca97839c7cd28afb195e7d785f45c330ad,21,4,8,25058,,,0,"VIP port is created with port_security_enabled: False

Users can specify the security group for vip port,
if not specified will depend on port_security_enabled for vip network

This patch is handled as follows:
1. Replace neutron extension with vip port_security_enabled
2. Add vip_address_pair for vrrp port when vip port_security_enabled is true
3. Add the port_security_enabled property to create the vrrp port

Story: 2001404
Task: 6094
Change-Id: I08ea9e2e5b45d69dcb50aa489bd3674a791401a6
",git fetch https://review.opendev.org/openstack/octavia refs/changes/49/529449/8 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/network/drivers/neutron/utils.py', 'octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'octavia/network/drivers/neutron/base.py', 'octavia/network/data_models.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py']",5,35255b58faf6a8cee536c67f24fe033286c3fd9b,diabled_port_secgroup," def _plug_amphora_vip(self, amphora, subnet, sec_grp_enabled): 'port_security_enabled': sec_grp_enabled, # If the rule's protocol value is null, # it will throw an exception rule.get('protocol') and if sec_grp: self._update_security_group_rules(load_balancer, sec_grp.get('id')) self._add_vip_security_group_to_port(load_balancer.id, vip.port_id, sec_grp.get('id')) if port.port_security_enabled: sec_grp_enabled = self._check_port_security_enabled(vip.port_id) if sec_grp_enabled: interface = self._plug_amphora_vip(amphora, subnet, sec_grp_enabled) if sec_grp_enabled: self._add_vip_address_pair(interface.port_id, vip.ip_address) if self._check_port_security_enabled(load_balancer.vip.port_id): sec_grp = self._get_lb_security_group(load_balancer.id) if sec_grp: self._update_security_group_rules(load_balancer, sec_grp.get('id'))"," def _plug_amphora_vip(self, amphora, subnet): self._update_security_group_rules(load_balancer, sec_grp.get('id')) self._add_vip_security_group_to_port(load_balancer.id, vip.port_id, sec_grp.get('id')) if self.sec_grp_enabled: if self.sec_grp_enabled: interface = self._plug_amphora_vip(amphora, subnet) self._add_vip_address_pair(interface.port_id, vip.ip_address) if self.sec_grp_enabled: sec_grp = self._get_lb_security_group(load_balancer.id) self._update_security_group_rules(load_balancer, sec_grp.get('id'))",31,15
openstack%2Foctavia~master~I6733ece61ac3e8213af049a27cb5f8a69d362ffc,openstack/octavia,master,I6733ece61ac3e8213af049a27cb5f8a69d362ffc,UDP support with netcat - DIB,ABANDONED,2018-01-26 01:40:31.000000000,2020-06-11 21:03:34.000000000,,"[{'_account_id': 15309}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-26 01:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4ad4c0c7f73ecbf91eca52493d5716e728e5ca39', 'message': 'UDP support with netcat - DIB\n\nThis patch will introduce netcat cmd to amphora image, make sure all\nplatform will be OK for this.\n\nChange-Id: I6733ece61ac3e8213af049a27cb5f8a69d362ffc\n'}, {'number': 2, 'created': '2018-03-06 07:22:41.000000000', 'files': ['elements/netcat/element-deps', 'elements/netcat/package-installs.json', 'diskimage-create/diskimage-create.sh', 'elements/netcat/svc-map', 'elements/netcat/README.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f9063e816319e74666b22dc7d16159925e67572a', 'message': 'UDP support with netcat - DIB\n\nThis patch will introduce netcat cmd to amphora image, make sure all\nplatform will be OK for this.\n\nChange-Id: I6733ece61ac3e8213af049a27cb5f8a69d362ffc\n'}]",0,538105,f9063e816319e74666b22dc7d16159925e67572a,9,2,2,15309,,,0,"UDP support with netcat - DIB

This patch will introduce netcat cmd to amphora image, make sure all
platform will be OK for this.

Change-Id: I6733ece61ac3e8213af049a27cb5f8a69d362ffc
",git fetch https://review.opendev.org/openstack/octavia refs/changes/05/538105/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/netcat/element-deps', 'elements/netcat/package-installs.json', 'diskimage-create/diskimage-create.sh', 'elements/netcat/svc-map', 'elements/netcat/README.rst']",5,4ad4c0c7f73ecbf91eca52493d5716e728e5ca39,udp_support_dib,Element to install netcat. ,,13,0
openstack%2Fopenstack-chef~master~Ib6c592f684072f60962c1be5fccff035fd4c3459,openstack/openstack-chef,master,Ib6c592f684072f60962c1be5fccff035fd4c3459,Add testing with the community built client,MERGED,2019-09-25 14:29:22.000000000,2020-06-11 20:58:01.000000000,2020-06-11 20:54:10.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-25 14:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/f0f755276708b0bb329848e69e59c6554f286086', 'message': 'DNM: Testing community built client\n\nThis will probably need more work in order to allow to work with both\nupstream and community versions.\n\nChange-Id: Ib6c592f684072f60962c1be5fccff035fd4c3459\n'}, {'number': 2, 'created': '2019-09-25 15:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/9a9f34b4796a00632caf3b1410e1e7d11be17aee', 'message': 'DNM: Testing community built client\n\nThis will probably need more work in order to allow to work with both\nupstream and community versions.\n\nChange-Id: Ib6c592f684072f60962c1be5fccff035fd4c3459\n'}, {'number': 3, 'created': '2019-09-26 07:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/41b0435d1c95faf6ab141d91bb57393a33b0df22', 'message': 'DNM: Testing community built client\n\nThis will probably need more work in order to allow to work with both\nupstream and community versions.\n\nChange-Id: Ib6c592f684072f60962c1be5fccff035fd4c3459\n'}, {'number': 4, 'created': '2019-09-26 08:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/29231d5cfd1892aefaa54545ed949406eaeffffc', 'message': 'DNM: Testing community built client\n\nThis will probably need more work in order to allow to work with both\nupstream and community versions.\n\nChange-Id: Ib6c592f684072f60962c1be5fccff035fd4c3459\n'}, {'number': 5, 'created': '2019-10-18 08:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/96388b505e9517f02ce1fdf2bc06af6a8e443e51', 'message': 'DNM: Testing community built client\n\nThis will probably need more work in order to allow to work with both\nupstream and community versions.\n\nChange-Id: Ib6c592f684072f60962c1be5fccff035fd4c3459\n'}, {'number': 6, 'created': '2019-11-20 15:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/0cab8e45f82b2b3bb2459ea904c864e1d809265f', 'message': 'DNM: Testing community built client\n\nThis will probably need more work in order to allow to work with both\nupstream and community versions.\n\nChange-Id: Ib6c592f684072f60962c1be5fccff035fd4c3459\n'}, {'number': 7, 'created': '2020-05-22 09:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/1835b02db2d5e45274abeaf474bd711fb6a07a04', 'message': 'DNM: Testing community built client\n\nThis will probably need more work in order to allow to work with both\nupstream and community versions.\n\nChange-Id: Ib6c592f684072f60962c1be5fccff035fd4c3459\n'}, {'number': 8, 'created': '2020-05-22 11:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/bb778168718455595b03611d02ef7720821b4a12', 'message': 'DNM: Testing community built client\n\nThis will probably need more work in order to allow to work with both\nupstream and community versions.\n\nChange-Id: Ib6c592f684072f60962c1be5fccff035fd4c3459\n'}, {'number': 9, 'created': '2020-05-22 13:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/56390e9b7762afc618cb6eabf623873323708bfe', 'message': 'DNM: Testing community built client\n\nThis will probably need more work in order to allow to work with both\nupstream and community versions.\n\nChange-Id: Ib6c592f684072f60962c1be5fccff035fd4c3459\n'}, {'number': 10, 'created': '2020-05-24 09:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/d8cd6c755d5b53176e61979883b5612b65c8e96c', 'message': 'DNM: Testing community built client\n\nThis will probably need more work in order to allow to work with both\nupstream and community versions.\n\nChange-Id: Ib6c592f684072f60962c1be5fccff035fd4c3459\n'}, {'number': 11, 'created': '2020-06-09 13:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/726a3cc4fecd8d93b44b886705afe735dd9a5814', 'message': 'Add testing with the community built client\n\nCreate a role for installing a chef-client implementation instead of\nhaving it hardcoded within the pre playbook.\n\nCreate additional jobs running with cinc-client.\n\nChange-Id: Ib6c592f684072f60962c1be5fccff035fd4c3459\n'}, {'number': 12, 'created': '2020-06-09 13:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/d2161b2ea6cf99bcd268850c42e0f447bb4a2f8c', 'message': 'Add testing with the community built client\n\nCreate a role for installing a chef-client implementation instead of\nhaving it hardcoded within the pre playbook.\n\nCreate additional jobs running with cinc-client.\n\nChange-Id: Ib6c592f684072f60962c1be5fccff035fd4c3459\n'}, {'number': 13, 'created': '2020-06-09 13:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/d41ba6c75df2ed74712b50b963d93044c80043e0', 'message': 'Add testing with the community built client\n\nCreate a role for installing a chef-client implementation instead of\nhaving it hardcoded within the pre playbook.\n\nCreate additional jobs running with cinc-client.\n\nChange-Id: Ib6c592f684072f60962c1be5fccff035fd4c3459\n'}, {'number': 14, 'created': '2020-06-10 07:53:27.000000000', 'files': ['playbooks/pre-integration.yaml', 'playbooks/roles/install-chef/README.rst', 'playbooks/roles/install-chef/files/cinc-install.sh', 'playbooks/roles/install-chef/tasks/main.yaml', 'playbooks/roles/install-chef/files/chef-install.sh', 'Rakefile', '.zuul.yaml', 'scripts/README.rst', 'playbooks/roles/install-chef/defaults/main.yaml', 'playbooks/roles/install-chef/files/README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/967ea2bd5ee05db9a87f6d49afc012cb91ae9ab3', 'message': 'Add testing with the community built client\n\nCreate a role for installing a chef-client implementation instead of\nhaving it hardcoded within the pre playbook.\n\nCreate additional jobs running with cinc-client.\n\nChange-Id: Ib6c592f684072f60962c1be5fccff035fd4c3459\n'}]",9,684760,967ea2bd5ee05db9a87f6d49afc012cb91ae9ab3,46,3,14,13252,,,0,"Add testing with the community built client

Create a role for installing a chef-client implementation instead of
having it hardcoded within the pre playbook.

Create additional jobs running with cinc-client.

Change-Id: Ib6c592f684072f60962c1be5fccff035fd4c3459
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/60/684760/7 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/pre-integration.yaml', 'Rakefile']",2,f0f755276708b0bb329848e69e59c6554f286086,cinc-is-cinc, if File.exist?('/opt/cinc/bin/cinc-client') sh %(PATH=/opt/cinc/embedded/bin:$PATH #{command}) # This is a workaround for allowing cinc-client to run in local mode sh %(sudo mkdir -p /etc/cinc && sudo cp .chef/encrypted_data_bag_secret /etc/cinc/openstack_data_bag_secret) sh %(sudo cinc-client #{client_opts} -E integration -r 'role[minimal]' > #{log_dir}/cinc-client-pass#{i}.txt 2>&1 ), if File.exist?('/opt/chef/bin/chef-client') sh %(PATH=/opt/chef/embedded/bin:$PATH #{command}) # This is a workaround for allowing chef-client to run in local mode sh %(sudo mkdir -p /etc/chef && sudo cp .chef/encrypted_data_bag_secret /etc/chef/openstack_data_bag_secret) sh %(sudo chef-client #{client_opts} -E integration -r 'role[minimal]' > #{log_dir}/chef-client-pass#{i}.txt 2>&1 ),9,9
openstack%2Fmagnum~master~I0df5149860604f0adf52701df371e34a6e667b9d,openstack/magnum,master,I0df5149860604f0adf52701df371e34a6e667b9d,[fix] Use default_ng_worker.node_count for patches,MERGED,2020-06-05 11:50:02.000000000,2020-06-11 20:52:21.000000000,2020-06-11 20:25:35.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-06-05 11:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f181960cf213e74df3e5da4da865f515af09ee90', 'message': '[fix] Use default_ng_worker.node_count for patches\n\nAt present, when a cluster is patched without node_count (e.g. when\nhealth_status and health_status_reason are patched), the node_count in\nthe cluster_update invocation contains cluster.node_count instead of\ndefault_ng_worker.node_count which causes unexpected behaviour when a\ncluster has additional nodegroups (e.g. the default-worker size gets\nincremented by 1 if the additional nodegroup has 1 worker each time the\ncluster is patched).\n\nThis PS fixes this issue by using default_ng_worker.node_count if path\n""/node_count"" is not present in the patch object.\n\nStory: 2005266\nTask: 39962\n\nChange-Id: I0df5149860604f0adf52701df371e34a6e667b9d\n'}, {'number': 2, 'created': '2020-06-05 11:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7c56d9b2528f5acf445a685434536ac8c79c6a4c', 'message': '[fix] Use default_ng_worker.node_count for patches\n\nAt present, when a cluster is patched without node_count (e.g. when\nhealth_status and health_status_reason are patched), the node_count in\nthe cluster_update invocation contains cluster.node_count instead of\ndefault_ng_worker.node_count which causes unexpected behaviour when a\ncluster has additional nodegroups (e.g. the default-worker size gets\nincremented by 1 if the additional nodegroup has 1 worker each time the\ncluster is patched).\n\nThis PS fixes this issue by using default_ng_worker.node_count if path\n""/node_count"" is not present in the patch object.\n\nStory: 2005266\nTask: 39962\n\nChange-Id: I0df5149860604f0adf52701df371e34a6e667b9d\n'}, {'number': 3, 'created': '2020-06-06 09:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/de61b043083c5b424d2c191fcb1d60054464da00', 'message': '[fix] Use default_ng_worker.node_count for patches\n\nAt present, when a cluster is patched without node_count (e.g. when\nhealth_status and health_status_reason are patched), the node_count in\nthe cluster_update invocation contains cluster.node_count instead of\ndefault_ng_worker.node_count which causes unexpected behaviour when a\ncluster has additional nodegroups (e.g. the default-worker size gets\nincremented by 1 if the additional nodegroup has 1 worker each time the\ncluster is patched).\n\nThis PS fixes this issue by using default_ng_worker.node_count if path\n""/node_count"" is not present in the patch object.\n\nStory: 2005266\nTask: 39962\n\nChange-Id: I0df5149860604f0adf52701df371e34a6e667b9d\n'}, {'number': 4, 'created': '2020-06-06 12:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0db6439a78d9ac8b5090e168c7a78d13b3e69b80', 'message': '[fix] Use default_ng_worker.node_count for patches\n\nAt present, when a cluster is patched without node_count (e.g. when\nhealth_status and health_status_reason are patched), the node_count in\nthe cluster_update invocation contains cluster.node_count instead of\ndefault_ng_worker.node_count which causes unexpected behaviour when a\ncluster has additional nodegroups (e.g. the default-worker size gets\nincremented by 1 if the additional nodegroup has 1 worker each time the\ncluster is patched).\n\nThis PS fixes this issue by using default_ng_worker.node_count if path\n""/node_count"" is not present in the patch object.\n\nStory: 2005266\nTask: 39962\n\nChange-Id: I0df5149860604f0adf52701df371e34a6e667b9d\n'}, {'number': 5, 'created': '2020-06-06 14:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0bb6c232188d95a0175557b779a0ad69051a4fad', 'message': '[fix] Use default_ng_worker.node_count for patches\n\nAt present, when a cluster is patched without node_count (e.g. when\nhealth_status and health_status_reason are patched), the node_count in\nthe cluster_update invocation contains cluster.node_count instead of\ndefault_ng_worker.node_count which causes unexpected behaviour when a\ncluster has additional nodegroups (e.g. the default-worker size gets\nincremented by 1 if the additional nodegroup has 1 worker each time the\ncluster is patched).\n\nThis PS fixes this issue by using default_ng_worker.node_count if path\n""/node_count"" is not present in the patch object.\n\nStory: 2005266\nTask: 39962\n\nChange-Id: I0df5149860604f0adf52701df371e34a6e667b9d\n'}, {'number': 6, 'created': '2020-06-11 10:30:30.000000000', 'files': ['doc/source/user/index.rst', 'releasenotes/notes/default-ng-worker-node-count-a88911a0b7a760a7.yaml', 'magnum/api/controllers/v1/cluster.py', 'magnum/tests/unit/api/controllers/v1/test_cluster.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/55fd12a47caba23db96a34a8a8ee603cae12f841', 'message': '[fix] Use default_ng_worker.node_count for patches\n\nAt present, when a cluster is patched without node_count (e.g. when\nhealth_status and health_status_reason are patched), the node_count in\nthe cluster_update invocation contains cluster.node_count instead of\ndefault_ng_worker.node_count which causes unexpected behaviour when a\ncluster has additional nodegroups (e.g. the default-worker size gets\nincremented by 1 if the additional nodegroup has 1 worker each time the\ncluster is patched).\n\nThis PS fixes this issue by using default_ng_worker.node_count if path\n""/node_count"" is not present in the patch object.\n\nStory: 2005266\nTask: 39962\n\nChange-Id: I0df5149860604f0adf52701df371e34a6e667b9d\n'}]",10,733814,55fd12a47caba23db96a34a8a8ee603cae12f841,32,4,6,28022,,,0,"[fix] Use default_ng_worker.node_count for patches

At present, when a cluster is patched without node_count (e.g. when
health_status and health_status_reason are patched), the node_count in
the cluster_update invocation contains cluster.node_count instead of
default_ng_worker.node_count which causes unexpected behaviour when a
cluster has additional nodegroups (e.g. the default-worker size gets
incremented by 1 if the additional nodegroup has 1 worker each time the
cluster is patched).

This PS fixes this issue by using default_ng_worker.node_count if path
""/node_count"" is not present in the patch object.

Story: 2005266
Task: 39962

Change-Id: I0df5149860604f0adf52701df371e34a6e667b9d
",git fetch https://review.opendev.org/openstack/magnum refs/changes/14/733814/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/api/controllers/v1/cluster.py'],1,f181960cf213e74df3e5da4da865f515af09ee90,node_count," node_count = cluster.default_ng_worker.node_count for p in patch: if p['path'] == '/node_count': node_count = p.get('value') or new_cluster.node_count return (cluster, node_count,"," return (cluster, new_cluster.node_count,",6,1
openstack%2Ftripleo-ci~master~I63eca00b53cc5e15fe7f3f4d19c1e19cf9b3d17d,openstack/tripleo-ci,master,I63eca00b53cc5e15fe7f3f4d19c1e19cf9b3d17d,WIP: Remove centos-specific settings in testenv/ovb,ABANDONED,2020-06-01 17:16:23.000000000,2020-06-11 20:37:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-01 17:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/128aa37bc304e5332c8d713691413974dc614fb9', 'message': 'WIP: Remove centos-specific settings in testenv/ovb\n\nThis file is used in varios environments.\nOS-specific settings belong in release files not in\ntestenv settings.\n\nChange-Id: I63eca00b53cc5e15fe7f3f4d19c1e19cf9b3d17d\n'}, {'number': 2, 'created': '2020-06-03 19:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/629a7c5d22ca727c74796e14104d98476f5bea9e', 'message': 'WIP: Remove centos-specific settings in testenv/ovb\n\nThis file is used in varios environments.\nOS-specific settings belong in release files not in\ntestenv settings.\n\nChange-Id: I63eca00b53cc5e15fe7f3f4d19c1e19cf9b3d17d\n'}, {'number': 3, 'created': '2020-06-08 19:24:00.000000000', 'files': ['toci-quickstart/config/testenv/ovb.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/407e3dbfdc1dfb21ce25da593f8706e878b9c580', 'message': 'WIP: Remove centos-specific settings in testenv/ovb\n\nThis file is used in varios environments.\nOS-specific settings belong in release files not in\ntestenv settings.\n\nChange-Id: I63eca00b53cc5e15fe7f3f4d19c1e19cf9b3d17d\n'}]",0,732421,407e3dbfdc1dfb21ce25da593f8706e878b9c580,10,2,3,9976,,,0,"WIP: Remove centos-specific settings in testenv/ovb

This file is used in varios environments.
OS-specific settings belong in release files not in
testenv settings.

Change-Id: I63eca00b53cc5e15fe7f3f4d19c1e19cf9b3d17d
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/21/732421/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/testenv/ovb.yml'],1,128aa37bc304e5332c8d713691413974dc614fb9,remove-ovb-images,,"tempest_test_image_path: /opt/cache/files/cirros-0.3.5-x86_64-disk.img tempest_tempest_conf_overrides: image.image_path: http://images.rdoproject.org/cirros/cirros-0.4.0-x86_64-disk.img overcloud_image_url: >- {% if ansible_distribution == 'RedHat' and ansible_distribution_major_version|int >= 8 -%} https://images.rdoproject.org:4433/rcm-guest/images/redhat8/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/overcloud-full.tar {%- elif ansible_distribution_major_version|int >= 8-%} https://images.rdoproject.org/centos8//{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/overcloud-full.tar {%- else -%} http://images.rdoproject.org/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/overcloud-full.tar {%- endif %} ipa_image_url: >- {% if ansible_distribution == 'RedHat' and ansible_distribution_major_version|int >= 8 -%} https://images.rdoproject.org:4433/rcm-guest/images/redhat8/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/ironic-python-agent.tar {%- elif ansible_distribution_major_version|int >= 8 -%} https://images.rdoproject.org/centos8//{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/ironic-python-agent.tar {%- else -%} http://images.rdoproject.org/{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/ironic-python-agent.tar {%- endif %}# Remove ContainerCli once this scenario is tested on CentOS8 overcloud_container_cli: >- {%- if ansible_distribution in [""RedHat"", ""CentOS""] and ansible_distribution_major_version|int >= 8 %}podman {%- else %}docker{% endif -%}",0,23
openstack%2Fmagnum~stable%2Fstein~I00f36aa03352bff19ebecac9fa9d078f33abd39e,openstack/magnum,stable/stein,I00f36aa03352bff19ebecac9fa9d078f33abd39e,"Revert ""Change the order of resource creation""",MERGED,2020-06-05 15:43:49.000000000,2020-06-11 20:29:20.000000000,2020-06-11 20:25:33.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-05 15:43:49.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/38a3c879a589d8f73d7912e8fc2f64d7b8c667c0', 'message': 'Revert ""Change the order of resource creation""\n\nThis reverts commit 18be349d4a275aadcb3df11f03d06b0dd2c4c633.\n\nIt leads to a circular dependency error in Stein therefore incompatible.\n\nError waiting for openstack_containerinfra_cluster_v1\n14807cc0-52e6-4c72-9128-aa61ddd4ba6d to become ready:\nopenstack_containerinfra_cluster_v1 is in an error state: ERROR:\nCircularDependencyException: :\nresources.kube_masters<nested_stack>.resources.0<file:///usr/lib/python2.7/site-packages/magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml>:\n: Circular Dependency Found: {NoneResource ""etcd_volume_attach"": {Server\n""kube-master""}, Server ""kube-master"": {MultipartMime\n""kube_master_init""}, NoneResource ""docker_volume_attach"": {Server\n""kube-master""}, TemplateResource ""api_address_switch"": {NoneResource\n""kube_master_floating""}, MultipartMime ""kube_master_init"":\n{SoftwareConfig ""write_heat_params""}, SoftwareConfig\n""write_heat_params"": {NoneResource ""kube_master_floating"",\nTemplateResource ""api_address_switch""}, NoneResource\n""kube_master_floating"": {Server ""kube-master""}}\n\nChange-Id: I00f36aa03352bff19ebecac9fa9d078f33abd39e\n'}]",0,733873,38a3c879a589d8f73d7912e8fc2f64d7b8c667c0,8,3,1,28022,,,0,"Revert ""Change the order of resource creation""

This reverts commit 18be349d4a275aadcb3df11f03d06b0dd2c4c633.

It leads to a circular dependency error in Stein therefore incompatible.

Error waiting for openstack_containerinfra_cluster_v1
14807cc0-52e6-4c72-9128-aa61ddd4ba6d to become ready:
openstack_containerinfra_cluster_v1 is in an error state: ERROR:
CircularDependencyException: :
resources.kube_masters<nested_stack>.resources.0<file:///usr/lib/python2.7/site-packages/magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml>:
: Circular Dependency Found: {NoneResource ""etcd_volume_attach"": {Server
""kube-master""}, Server ""kube-master"": {MultipartMime
""kube_master_init""}, NoneResource ""docker_volume_attach"": {Server
""kube-master""}, TemplateResource ""api_address_switch"": {NoneResource
""kube_master_floating""}, MultipartMime ""kube_master_init"":
{SoftwareConfig ""write_heat_params""}, SoftwareConfig
""write_heat_params"": {NoneResource ""kube_master_floating"",
TemplateResource ""api_address_switch""}, NoneResource
""kube_master_floating"": {Server ""kube-master""}}

Change-Id: I00f36aa03352bff19ebecac9fa9d078f33abd39e
",git fetch https://review.opendev.org/openstack/magnum refs/changes/73/733873/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml']",2,38a3c879a589d8f73d7912e8fc2f64d7b8c667c0,stein-circular,, depends_on: kube-master,0,2
openstack%2Fopenstack-ansible-tests~master~I980381380bfd4d1e5eea5a3fb86afba2840b8f94,openstack/openstack-ansible-tests,master,I980381380bfd4d1e5eea5a3fb86afba2840b8f94,remove ansible_python_interpreter,ABANDONED,2020-06-11 19:59:28.000000000,2020-06-11 20:00:40.000000000,,[],"[{'number': 1, 'created': '2020-06-11 19:59:28.000000000', 'files': ['tests/host_vars/localhost.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/a346529c7ae1756fd4b2f18b33a178100b765b1c', 'message': ""remove ansible_python_interpreter\n\nansible_python_interpreter is now set to auto in the tests repo.\nit doesn't need to be overwritten in the test anymore.\n\nDepends-On: https://review.opendev.org/734676/\nChange-Id: I980381380bfd4d1e5eea5a3fb86afba2840b8f94\n""}]",0,735237,a346529c7ae1756fd4b2f18b33a178100b765b1c,2,0,1,13095,,,0,"remove ansible_python_interpreter

ansible_python_interpreter is now set to auto in the tests repo.
it doesn't need to be overwritten in the test anymore.

Depends-On: https://review.opendev.org/734676/
Change-Id: I980381380bfd4d1e5eea5a3fb86afba2840b8f94
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/37/735237/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/host_vars/localhost.yml'],1,a346529c7ae1756fd4b2f18b33a178100b765b1c,interpreter,,"ansible_python_interpreter: ""/usr/bin/python""",0,1
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Fstein~I9ff2fdea02ca71068dab9cfcab10ca60785821de,openstack/openstack-ansible-os_ceilometer,stable/stein,I9ff2fdea02ca71068dab9cfcab10ca60785821de,Make user provided content deployable,MERGED,2020-06-03 19:39:05.000000000,2020-06-11 19:30:29.000000000,2020-06-11 19:28:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-03 19:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/c784ac7a678036b65078bc95b4e6f5f80574251a', 'message': ""Make user provided content deployable\n\nWhen src is provided to config_template module, content is simply\nignored. So we should set tmp_f only when content is not provided.\nThis also means that we should use native file lookup instead of\npipe.\nAdditionally when statements shouldn't include Jinja2 delimiters.\n\nChange-Id: I9ff2fdea02ca71068dab9cfcab10ca60785821de\n(cherry picked from commit f50ea4f5e18f4890864dc831f4f5f19aa5439af2)\n""}, {'number': 2, 'created': '2020-06-04 06:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/d077128a5d5d7370b4d861d6a10e125713a1550d', 'message': ""Make user provided content deployable\n\nWhen src is provided to config_template module, content is simply\nignored. So we should set tmp_f only when content is not provided.\nThis also means that we should use native file lookup instead of\npipe.\nAdditionally when statements shouldn't include Jinja2 delimiters.\n\nDepends-On: https://review.opendev.org/733449\nChange-Id: I9ff2fdea02ca71068dab9cfcab10ca60785821de\n(cherry picked from commit f50ea4f5e18f4890864dc831f4f5f19aa5439af2)\n""}, {'number': 3, 'created': '2020-06-11 06:57:02.000000000', 'files': ['tasks/ceilometer_post_install.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/e613a300669070ee29c0cf4ee1efee93c2c7170d', 'message': ""Make user provided content deployable\n\nWhen src is provided to config_template module, content is simply\nignored. So we should set tmp_f only when content is not provided.\nThis also means that we should use native file lookup instead of\npipe.\nAdditionally when statements shouldn't include Jinja2 delimiters.\n\nDepends-On: https://review.opendev.org/733449\nDepends-On: https://review.opendev.org/735065\nChange-Id: I9ff2fdea02ca71068dab9cfcab10ca60785821de\n(cherry picked from commit f50ea4f5e18f4890864dc831f4f5f19aa5439af2)\n""}]",0,733387,e613a300669070ee29c0cf4ee1efee93c2c7170d,21,4,3,32053,,,0,"Make user provided content deployable

When src is provided to config_template module, content is simply
ignored. So we should set tmp_f only when content is not provided.
This also means that we should use native file lookup instead of
pipe.
Additionally when statements shouldn't include Jinja2 delimiters.

Depends-On: https://review.opendev.org/733449
Depends-On: https://review.opendev.org/735065
Change-Id: I9ff2fdea02ca71068dab9cfcab10ca60785821de
(cherry picked from commit f50ea4f5e18f4890864dc831f4f5f19aa5439af2)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/87/733387/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/ceilometer_post_install.yml', 'vars/main.yml']",2,c784ac7a678036b65078bc95b4e6f5f80574251a,,"ceilometer_data_meters_user_content: ""{{ lookup('file', ceilometer_data_meters_default_file_path, errors='ignore') }}"" ceilometer_event_definitions_user_content: ""{{ lookup('file', ceilometer_event_definitions_default_file_path, errors='ignore') }}"" ceilometer_gnocchi_resources_user_content: ""{{ lookup('file', ceilometer_gnocchi_resources_default_file_path, errors='ignore') }}"" ceilometer_loadbalancer_v2_meter_definitions_user_content: ""{{ lookup('file', ceilometer_loadbalancer_v2_meter_definitions_default_file_path, errors='ignore') }}"" ceilometer_osprofiler_event_definitions_user_content: ""{{ lookup('file', ceilometer_osprofiler_event_definitions_default_file_path, errors='ignore') }}"" ceilometer_polling_user_content: ""{{ lookup('file', ceilometer_polling_default_file_path, errors='ignore') }}"" - tmp_f: ""{{ (ceilometer_polling_user_content | length > 0) | ternary(false, '/tmp/polling.yaml') }}"" - tmp_f: ""{{ (ceilometer_loadbalancer_v2_meter_definitions_user_content | length > 0) | ternary(false, '/tmp/loadbalancer_v2_meter_definitions.yaml') }}"" - tmp_f: ""{{ (ceilometer_osprofiler_event_definitions_user_content | length > 0) | ternary(false, '/tmp/osprofiler_event_definitions.yaml') }}"" - tmp_f: ""{{ (ceilometer_data_meters_user_content | length > 0) | ternary(false, '/tmp/meters.yaml') }}"" - tmp_f: ""{{ (ceilometer_event_definitions_user_content | length > 0) | ternary(false, '/tmp/event_definitions.yaml') }}"" - tmp_f: ""{{ (ceilometer_gnocchi_resources_user_content | length > 0) | ternary(false, '/tmp/gnocchi_resources.yaml') }}""","ceilometer_data_meters_user_content: ""{{ lookup('pipe', 'cat ' ~ ceilometer_data_meters_default_file_path ~ ' 2>/dev/null || true') }}"" ceilometer_event_definitions_user_content: ""{{ lookup('pipe', 'cat ' ~ ceilometer_event_definitions_default_file_path ~ ' 2>/dev/null || true') }}"" ceilometer_gnocchi_resources_user_content: ""{{ lookup('pipe', 'cat ' ~ ceilometer_gnocchi_resources_default_file_path ~ ' 2>/dev/null || true') }}"" ceilometer_loadbalancer_v2_meter_definitions_user_content: ""{{ lookup('pipe', 'cat ' ~ ceilometer_loadbalancer_v2_meter_definitions_default_file_path ~ ' 2>/dev/null || true') }}"" ceilometer_osprofiler_event_definitions_user_content: ""{{ lookup('pipe', 'cat ' ~ ceilometer_osprofiler_event_definitions_default_file_path ~ ' 2>/dev/null || true') }}"" ceilometer_polling_user_content: ""{{ lookup('pipe', 'cat ' ~ ceilometer_polling_default_file_path ~ ' 2>/dev/null || true') }}"" - tmp_f: ""/tmp/polling.yaml"" - tmp_f: ""/tmp/loadbalancer_v2_meter_definitions.yaml"" - tmp_f: ""/tmp/osprofiler_event_definitions.yaml"" - tmp_f: ""/tmp/meters.yaml"" - tmp_f: ""/tmp/event_definitions.yaml"" - tmp_f: ""/tmp/gnocchi_resources.yaml""",19,17
openstack%2Frequirements~master~I25a71de1db71e1ed0e522eee59fb3574fa6576db,openstack/requirements,master,I25a71de1db71e1ed0e522eee59fb3574fa6576db,update constraint for oslo.utils to new release 4.2.1,MERGED,2020-06-11 10:10:50.000000000,2020-06-11 19:22:07.000000000,2020-06-11 19:20:04.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-11 10:10:50.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2d53b20a303b173e7413c33b55900a3d3f18daec', 'message': 'update constraint for oslo.utils to new release 4.2.1\n\nChange-Id: I25a71de1db71e1ed0e522eee59fb3574fa6576db\nmeta:version: 4.2.1\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I45f56dbc2ed858e6c075ec0384f5223d661898c1\nmeta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,735102,2d53b20a303b173e7413c33b55900a3d3f18daec,9,3,1,11131,,,0,"update constraint for oslo.utils to new release 4.2.1

Change-Id: I25a71de1db71e1ed0e522eee59fb3574fa6576db
meta:version: 4.2.1
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: I45f56dbc2ed858e6c075ec0384f5223d661898c1
meta:release:Code-Review+1: Ben Nemec <openstack@nemebean.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/02/735102/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,2d53b20a303b173e7413c33b55900a3d3f18daec,new-release,oslo.utils===4.2.1,oslo.utils===4.2.0,1,1
openstack%2Frequirements~stable%2Ftrain~Ia06977eda8313f842fa9e992d0ded6aa26369138,openstack/requirements,stable/train,Ia06977eda8313f842fa9e992d0ded6aa26369138,update constraint for horizon to new release 16.2.0,MERGED,2020-06-11 10:14:06.000000000,2020-06-11 19:20:06.000000000,2020-06-11 19:20:06.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-11 10:14:06.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7de7a2aa6ad56630f1a1ff950d0c597e983ba37a', 'message': 'update constraint for horizon to new release 16.2.0\n\nChange-Id: Ia06977eda8313f842fa9e992d0ded6aa26369138\nmeta:version: 16.2.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Akihiro Motoki <amotoki@gmail.com>\nmeta:release:Commit: Akihiro Motoki <amotoki@gmail.com>\nmeta:release:Change-Id: I88d55b32264b5316e7457d8e946cb40442f70b8e\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Vishal Manchanda <manchandavishal143@gmail.com>\nmeta:release:Code-Review+1: likui <likui@yovole.com>\nmeta:release:Code-Review+1: Ivan Kolodyazhny <e0ne@e0ne.info>\nmeta:release:Code-Review+1: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,735104,7de7a2aa6ad56630f1a1ff950d0c597e983ba37a,7,3,1,11131,,,0,"update constraint for horizon to new release 16.2.0

Change-Id: Ia06977eda8313f842fa9e992d0ded6aa26369138
meta:version: 16.2.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Akihiro Motoki <amotoki@gmail.com>
meta:release:Commit: Akihiro Motoki <amotoki@gmail.com>
meta:release:Change-Id: I88d55b32264b5316e7457d8e946cb40442f70b8e
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Vishal Manchanda <manchandavishal143@gmail.com>
meta:release:Code-Review+1: likui <likui@yovole.com>
meta:release:Code-Review+1: Ivan Kolodyazhny <e0ne@e0ne.info>
meta:release:Code-Review+1: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/04/735104/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7de7a2aa6ad56630f1a1ff950d0c597e983ba37a,new-release,horizon===16.2.0,horizon===16.1.0,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ic8f506a0eef5c1c8b1cf0d4fca9b2c6d68ef0fc3,openstack/tripleo-heat-templates,stable/train,Ic8f506a0eef5c1c8b1cf0d4fca9b2c6d68ef0fc3,Consider user configuration during the derivation of passthrough whitelist,MERGED,2020-06-10 14:23:00.000000000,2020-06-11 19:09:11.000000000,2020-06-11 19:09:11.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-10 14:23:00.000000000', 'files': ['deployment/neutron/derive_pci_passthrough_whitelist.py', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ae0132bc498a614413f2308a321e56f46d0b9e2', 'message': ""Consider user configuration during the derivation of passthrough whitelist\n\nThe user configuration supplied in NovaPCIPassthrough shall be considered\nduring the derivation of the pci::passthrough parameter for NIC Partitioning.\nThe VF's specified by user configuration minus the VF's alloted for NIC\nPartitioning shall be derrived.\n\nChange-Id: Ic8f506a0eef5c1c8b1cf0d4fca9b2c6d68ef0fc3\n(cherry picked from commit e51920623edcc16ad3d2297fbcfec0e3ed1a3ca3)\n""}]",0,734858,7ae0132bc498a614413f2308a321e56f46d0b9e2,9,6,1,3153,,,0,"Consider user configuration during the derivation of passthrough whitelist

The user configuration supplied in NovaPCIPassthrough shall be considered
during the derivation of the pci::passthrough parameter for NIC Partitioning.
The VF's specified by user configuration minus the VF's alloted for NIC
Partitioning shall be derrived.

Change-Id: Ic8f506a0eef5c1c8b1cf0d4fca9b2c6d68ef0fc3
(cherry picked from commit e51920623edcc16ad3d2297fbcfec0e3ed1a3ca3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/734858/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/derive_pci_passthrough_whitelist.py', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml']",2,7ae0132bc498a614413f2308a321e56f46d0b9e2,passthru-stable/train, src: /usr/share/openstack-tripleo-heat-templates/deployment/neutron/derive_pci_passthrough_whitelist.py dest: /var/lib/pci_passthrough_whitelist_scripts/derive_pci_passthrough_whitelist.py, content: {get_file: ./derive_pci_passthrough_whitelist.py} dest: '/var/lib/pci_passthrough_whitelist_scripts/derive_pci_passthrough_whitelist.py',221,29
openstack%2Fironic~master~I9b1a15fde0654c3164f81a3d547340cbe8e607bf,openstack/ironic,master,I9b1a15fde0654c3164f81a3d547340cbe8e607bf,doc: fix endpoint_override for inspector,MERGED,2020-06-11 14:52:11.000000000,2020-06-11 19:01:30.000000000,2020-06-11 16:35:09.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-11 14:52:11.000000000', 'files': ['doc/source/admin/inspection.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/864a0a568beab42c148d70a79153334f3507fa60', 'message': ""doc: fix endpoint_override for inspector\n\nThe documentation claims that the option to override the endpoint for\ninspector is endpoint-override, but it's endpoint_override.\n\nChange-Id: I9b1a15fde0654c3164f81a3d547340cbe8e607bf\n""}]",0,735160,864a0a568beab42c148d70a79153334f3507fa60,9,4,1,1004,,,0,"doc: fix endpoint_override for inspector

The documentation claims that the option to override the endpoint for
inspector is endpoint-override, but it's endpoint_override.

Change-Id: I9b1a15fde0654c3164f81a3d547340cbe8e607bf
",git fetch https://review.opendev.org/openstack/ironic refs/changes/60/735160/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/inspection.rst'],1,864a0a568beab42c148d70a79153334f3507fa60,, endpoint_override = http://inspector.example.com:5050, endpoint-override = http://inspector.example.com:5050,1,1
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fussuri~I8111ae7548cddd71b0f384157e28ced40392401b,openstack/openstack-ansible-lxc_container_create,stable/ussuri,I8111ae7548cddd71b0f384157e28ced40392401b,Wait for systemd-tmpfiles-setup service to complete after container restart ,MERGED,2020-06-08 13:43:28.000000000,2020-06-11 19:01:04.000000000,2020-06-11 18:59:27.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-06-08 13:43:28.000000000', 'files': ['tests/test-containers-functional.yml', 'handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/e37fd25670cedfeb4523258e6b0d6105051e6a30', 'message': ""Wait for systemd-tmpfiles-setup service to complete after container restart \n\nThere is a race condition between starting an lxc container and executing\nthe first ansible task. Ansible makes heavy use of /tmp and the first\ntask executed after 'lxc-start' will collide with systemd-tmpfiles-setup\nwhich by default removes all content from /tmp, including the working\nfiles of any ansible task which happens to be running. This causes a fatal\nerror for ansible which cannot be recovered with retries.\n\nThis patch adds a raw command to check the state of the tmpfiles-setup\nservice and wait until it has completed, avoiding the race confdition.\n\nCo-Authored-By: Dmitriy Rabotyagov <noonedeadpunk@ya.ru>\nChange-Id: I8111ae7548cddd71b0f384157e28ced40392401b\n(cherry picked from commit 1cb7920aff171fe1f5d4aa43ec6a00f1542e1d2a)\n""}]",0,734089,e37fd25670cedfeb4523258e6b0d6105051e6a30,9,3,1,25023,,,0,"Wait for systemd-tmpfiles-setup service to complete after container restart 

There is a race condition between starting an lxc container and executing
the first ansible task. Ansible makes heavy use of /tmp and the first
task executed after 'lxc-start' will collide with systemd-tmpfiles-setup
which by default removes all content from /tmp, including the working
files of any ansible task which happens to be running. This causes a fatal
error for ansible which cannot be recovered with retries.

This patch adds a raw command to check the state of the tmpfiles-setup
service and wait until it has completed, avoiding the race confdition.

Co-Authored-By: Dmitriy Rabotyagov <noonedeadpunk@ya.ru>
Change-Id: I8111ae7548cddd71b0f384157e28ced40392401b
(cherry picked from commit 1cb7920aff171fe1f5d4aa43ec6a00f1542e1d2a)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/89/734089/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-containers-functional.yml', 'handlers/main.yml']",2,e37fd25670cedfeb4523258e6b0d6105051e6a30,osa-focal,- name: Wait for container tmpfiles-setup finish raw: systemctl status systemd-tmpfiles-setup.service | grep Process | grep 'code=exited' >/dev/null register: systemd_tmpfiles until: systemd_tmpfiles.rc == 0 retries: 20 delay: 2 changed_when: false listen: Lxc container restart ,,18,0
openstack%2Fswift~master~I2f7b3e7d5b976fab07c9a2d0a9b8c0bd9a840dfd,openstack/swift,master,I2f7b3e7d5b976fab07c9a2d0a9b8c0bd9a840dfd,memcached: Plumb logger into MemcacheRing,MERGED,2020-06-09 17:50:15.000000000,2020-06-11 18:57:22.000000000,2020-06-11 18:54:58.000000000,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 17:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6208ee63ab9e9e3797e13dc66376010cb90e26a5', 'message': 'memcached: Plumb logger into MemcacheRing\n\nThis way proxies log memcached errors in the normal way instead of\nto the root logger (which eventually gets them out on STDERR).\n\nIf no logger is provided, fall back to the root logger behavior.\n\nChange-Id: I2f7b3e7d5b976fab07c9a2d0a9b8c0bd9a840dfd\n'}, {'number': 2, 'created': '2020-06-09 19:32:10.000000000', 'files': ['swift/common/memcached.py', 'test/unit/common/test_memcached.py', 'swift/common/middleware/memcache.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e4586fdcde5267f39056bb1b5f413a411bb8e7a0', 'message': 'memcached: Plumb logger into MemcacheRing\n\nThis way proxies log memcached errors in the normal way instead of\nto the root logger (which eventually gets them out on STDERR).\n\nIf no logger is provided, fall back to the root logger behavior.\n\nChange-Id: I2f7b3e7d5b976fab07c9a2d0a9b8c0bd9a840dfd\n'}]",2,734659,e4586fdcde5267f39056bb1b5f413a411bb8e7a0,28,4,2,15343,,,0,"memcached: Plumb logger into MemcacheRing

This way proxies log memcached errors in the normal way instead of
to the root logger (which eventually gets them out on STDERR).

If no logger is provided, fall back to the root logger behavior.

Change-Id: I2f7b3e7d5b976fab07c9a2d0a9b8c0bd9a840dfd
",git fetch https://review.opendev.org/openstack/swift refs/changes/59/734659/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/memcached.py', 'test/unit/common/test_memcached.py', 'swift/common/middleware/memcache.py']",3,6208ee63ab9e9e3797e13dc66376010cb90e26a5,,"from swift.common.utils import get_logger self.logger = get_logger(conf, log_route='memcache') max_conns=max_conns, logger=self.logger)", max_conns=max_conns),64,38
openstack%2Fopenstack-helm-infra~master~I3283021fd80c8a05f0aa0c9917bb7ba0ea144303,openstack/openstack-helm-infra,master,I3283021fd80c8a05f0aa0c9917bb7ba0ea144303,[ceph-osd] Optimize symlink creation in udev_settle,MERGED,2020-06-02 17:59:47.000000000,2020-06-11 18:57:20.000000000,2020-06-11 18:55:51.000000000,"[{'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 20469}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29974}]","[{'number': 1, 'created': '2020-06-02 17:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b82f1c9c8e4e09e537b0f31b5b9a74d02110816e', 'message': '[WIP][ceph-osd] Optimize symlink creation in udev_settle\n\nThis change optimizes the creation of symlinks in udev_settle by\nonly looking at the disks related to the OSD being\ndeployed/started and skipping the ln command for existing symlinks.\nA second ""udevadm settle"" command is also added after the creation\nof the symlinks in order to allow any logical volumes related to\nnew symlinks to become established.\n\nChange-Id: I3283021fd80c8a05f0aa0c9917bb7ba0ea144303\n'}, {'number': 2, 'created': '2020-06-08 19:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/81d5dbe2164cec9dc7e5073e31411c90312715ee', 'message': '[WIP][ceph-osd] Optimize symlink creation in udev_settle\n\nThis change optimizes the creation of symlinks in udev_settle by\nonly looking at the disks related to the OSD being\ndeployed/started and skipping the ln command for existing symlinks.\nA second ""udevadm settle"" command is also added after the creation\nof the symlinks in order to allow any logical volumes related to\nnew symlinks to become established.\n\nChange-Id: I3283021fd80c8a05f0aa0c9917bb7ba0ea144303\n'}, {'number': 3, 'created': '2020-06-08 20:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/58af2d7f4d7ef7c691bad1b58df0e729acd0bbeb', 'message': '[WIP][ceph-osd] Optimize symlink creation in udev_settle\n\nThis change optimizes the creation of symlinks in udev_settle by\nonly looking at the disks related to the OSD being\ndeployed/started and skipping the ln command for existing symlinks.\nA second ""udevadm settle"" command is also added after the creation\nof the symlinks in order to allow any logical volumes related to\nnew symlinks to become established.\n\nAlso added additional clean-up code to zap_extra_partitions for\nLVM metadata volumes.\n\nChange-Id: I3283021fd80c8a05f0aa0c9917bb7ba0ea144303\n'}, {'number': 4, 'created': '2020-06-10 18:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ff5332ad4f1aeedc9f710ded10b9ce9bfd89f925', 'message': '[ceph-osd] Optimize symlink creation in udev_settle\n\nThis change optimizes the creation of symlinks in udev_settle by\nonly looking at the disks related to the OSD being\ndeployed/started and skipping the ln command for existing symlinks.\nA second ""udevadm settle"" command is also added after the creation\nof the symlinks in order to allow any logical volumes related to\nnew symlinks to become established.\n\nAlso added additional clean-up code to zap_extra_partitions for\nLVM metadata volumes.\n\nChange-Id: I3283021fd80c8a05f0aa0c9917bb7ba0ea144303\n'}, {'number': 5, 'created': '2020-06-11 14:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e37a886843f5da714f3a207321da5a00d0af9ece', 'message': '[ceph-osd] Optimize symlink creation in udev_settle\n\nThis change optimizes the creation of symlinks in udev_settle by\nonly looking at the disks related to the OSD being\ndeployed/started and skipping the ln command for existing symlinks.\nA second ""udevadm settle"" command is also added after the creation\nof the symlinks in order to allow any logical volumes related to\nnew symlinks to become established.\n\nChange-Id: I3283021fd80c8a05f0aa0c9917bb7ba0ea144303\n'}, {'number': 6, 'created': '2020-06-11 14:36:06.000000000', 'files': ['ceph-osd/templates/bin/osd/ceph-volume/_common.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/88f7d5f42cc1a9cafb057953b599bcf77ededb30', 'message': '[ceph-osd] Optimize symlink creation in udev_settle\n\nThis change optimizes the creation of symlinks in udev_settle by\nonly looking at the disks related to the OSD being\ndeployed/started and skipping the ln command for existing symlinks.\nA second ""udevadm settle"" command is also added after the creation\nof the symlinks in order to allow any logical volumes related to\nnew symlinks to become established.\n\nChange-Id: I3283021fd80c8a05f0aa0c9917bb7ba0ea144303\n'}]",0,732801,88f7d5f42cc1a9cafb057953b599bcf77ededb30,20,9,6,29974,,,0,"[ceph-osd] Optimize symlink creation in udev_settle

This change optimizes the creation of symlinks in udev_settle by
only looking at the disks related to the OSD being
deployed/started and skipping the ln command for existing symlinks.
A second ""udevadm settle"" command is also added after the creation
of the symlinks in order to allow any logical volumes related to
new symlinks to become established.

Change-Id: I3283021fd80c8a05f0aa0c9917bb7ba0ea144303
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/01/732801/2 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/bin/osd/ceph-volume/_common.sh.tpl'],1,b82f1c9c8e4e09e537b0f31b5b9a74d02110816e,," osd_devices=""${OSD_DEVICE}"" osd_devices=""${osd_devices}\|${BLOCK_DB}"" osd_devices=""${osd_devices}\|${BLOCK_WAL}"" osd_devices=""${osd_devices}\|${JDEV}"" for dev in $(awk '!/rbd/{print $4}' /proc/partitions | grep ""${osd_devices}"" | grep ""[0-9]""); do symlink=""/dev/disk/by-partuuid/$(sgdisk -i ${partnum} /dev/${diskdev} | awk '/Partition unique GUID/{print tolower($4)}')"" if [ ! -e ""${symlink}"" ]; then ln -s ""../../${dev}"" ""${symlink}"" fi # Give udev another chance now that all symlinks exist for devices we care about udevadm settle --timeout=600"," for dev in $(awk '!/rbd/{print $4}' /proc/partitions | grep ""[0-9]""); do ln -s ""../../${dev}"" ""/dev/disk/by-partuuid/$(sgdisk -i ${partnum} /dev/${diskdev} | awk '/Partition unique GUID/{print tolower($4)}')"" || true",12,2
openstack%2Ftripleo-quickstart~master~Ia87c58b1bab2173a1633bf75ca5ed7788ef921f2,openstack/tripleo-quickstart,master,Ia87c58b1bab2173a1633bf75ca5ed7788ef921f2,ensure python2 is not used for post train,ABANDONED,2020-06-08 19:57:12.000000000,2020-06-11 18:32:23.000000000,,"[{'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24645}]","[{'number': 1, 'created': '2020-06-08 19:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/32de977a5d80345d15b4ea0adf5897c423a17f3a', 'message': 'ensure python2 is not used for post train\n\nUsers can get into trouble by running\nmaster or ussuri on a centos7 or other python2\nbox and not get the correct upper requirements.\nSince https://review.opendev.org/#/c/733471/ merged.\n\nThis ensure master is not attempted from a python2\nsystem.\n\nChange-Id: Ia87c58b1bab2173a1633bf75ca5ed7788ef921f2\n'}, {'number': 2, 'created': '2020-06-09 01:30:51.000000000', 'files': ['install-deps.sh', 'quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d8ddd5f51068d3e14b449d17caab5a0b1843ea31', 'message': 'ensure python2 is not used for post train\n\nUsers can get into trouble by running\nmaster or ussuri on a centos7 or other python2\nbox and not get the correct upper requirements.\nSince https://review.opendev.org/#/c/733471/ merged.\n\nThis ensure master is not attempted from a python2\nsystem.\n\nChange-Id: Ia87c58b1bab2173a1633bf75ca5ed7788ef921f2\n'}]",3,734210,d8ddd5f51068d3e14b449d17caab5a0b1843ea31,10,8,2,9592,,,0,"ensure python2 is not used for post train

Users can get into trouble by running
master or ussuri on a centos7 or other python2
box and not get the correct upper requirements.
Since https://review.opendev.org/#/c/733471/ merged.

This ensure master is not attempted from a python2
system.

Change-Id: Ia87c58b1bab2173a1633bf75ca5ed7788ef921f2
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/10/734210/2 && git format-patch -1 --stdout FETCH_HEAD,"['install-deps.sh', 'quickstart.sh']",2,32de977a5d80345d15b4ea0adf5897c423a17f3a,bug/1881646,"echo ""Checking python version vs. openstack release"" python_cmd check_version",,17,0
openstack%2Foctavia~stable%2Fstein~I831b0b48d719397c14d80f8ebcbad997c50c7795,openstack/octavia,stable/stein,I831b0b48d719397c14d80f8ebcbad997c50c7795,Fix py3 amphora-agent cert-rotation type bug,MERGED,2020-04-27 11:49:09.000000000,2020-06-11 18:30:40.000000000,2020-06-11 18:25:46.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-27 11:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d2270fad058385a461376ebcb484c1fc9a8d908a', 'message': ""Fix py3 amphora-agent cert-rotation type bug\n\nFlask's stream always returns bytes, file write always takes string.\nThis causes py3 amps to return 500 on cert rotation AND wipe out the\ncertificate, so the amphora are no longer controllable and go to ERROR\nstate. Anyone running py3 amps prior to this patch will experience\namphorae breaking on a timer due to housekeeping cert rotation!\n\nChange-Id: I831b0b48d719397c14d80f8ebcbad997c50c7795\n(cherry picked from commit 96a4482dff134b7be5c8d4da6c862b0a7f4a5a4b)\n""}, {'number': 2, 'created': '2020-05-01 09:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bbfded11468169497362a2c6d8ed3ca06cc321ca', 'message': ""Fix py3 amphora-agent cert-rotation type bug\n\nFlask's stream always returns bytes, file write always takes string.\nThis causes py3 amps to return 500 on cert rotation AND wipe out the\ncertificate, so the amphora are no longer controllable and go to ERROR\nstate. Anyone running py3 amps prior to this patch will experience\namphorae breaking on a timer due to housekeeping cert rotation!\n\nChange-Id: I831b0b48d719397c14d80f8ebcbad997c50c7795\n(cherry picked from commit 96a4482dff134b7be5c8d4da6c862b0a7f4a5a4b)\n""}, {'number': 3, 'created': '2020-06-11 06:26:59.000000000', 'files': ['releasenotes/notes/amp-agent-py3-cert-upload-binary-74e0ab35c5a85c68.yaml', 'octavia/amphorae/backends/agent/api_server/certificate_update.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5f4fd9c5ef262daf922ca321d0cb94a7dde238d9', 'message': ""Fix py3 amphora-agent cert-rotation type bug\n\nFlask's stream always returns bytes, file write always takes string.\nThis causes py3 amps to return 500 on cert rotation AND wipe out the\ncertificate, so the amphora are no longer controllable and go to ERROR\nstate. Anyone running py3 amps prior to this patch will experience\namphorae breaking on a timer due to housekeeping cert rotation!\n\nChange-Id: I831b0b48d719397c14d80f8ebcbad997c50c7795\n(cherry picked from commit 96a4482dff134b7be5c8d4da6c862b0a7f4a5a4b)\n""}]",0,723390,5f4fd9c5ef262daf922ca321d0cb94a7dde238d9,16,5,3,6469,,,0,"Fix py3 amphora-agent cert-rotation type bug

Flask's stream always returns bytes, file write always takes string.
This causes py3 amps to return 500 on cert rotation AND wipe out the
certificate, so the amphora are no longer controllable and go to ERROR
state. Anyone running py3 amps prior to this patch will experience
amphorae breaking on a timer due to housekeeping cert rotation!

Change-Id: I831b0b48d719397c14d80f8ebcbad997c50c7795
(cherry picked from commit 96a4482dff134b7be5c8d4da6c862b0a7f4a5a4b)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/90/723390/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/amp-agent-py3-cert-upload-binary-74e0ab35c5a85c68.yaml', 'octavia/amphorae/backends/agent/api_server/certificate_update.py']",2,d2270fad058385a461376ebcb484c1fc9a8d908a,719922-stable/train-stable/stein," with os.fdopen(os.open(file_path, flags, mode), 'wb') as crt_file:"," with os.fdopen(os.open(file_path, flags, mode), 'w') as crt_file:",12,1
openstack%2Foctavia~stable%2Fstein~Ia6d3f40ae1b9b352492162513c9262748ee67e6f,openstack/octavia,stable/stein,Ia6d3f40ae1b9b352492162513c9262748ee67e6f,Fix healthmanager not update amphora health when LB disable,MERGED,2020-04-28 18:13:41.000000000,2020-06-11 18:27:33.000000000,2020-06-11 18:25:40.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 30636}]","[{'number': 1, 'created': '2020-04-28 18:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8a6a0a071aeded9cca5199048092b4b5d644c04a', 'message': 'Fix healthmanager not update amphora health when LB disable\n\nWhen disable a loadbalancer have listener, the Heath Manager not update\namphora heath make it keep failover after heartbeat_timeout end time\n\nStory: 2007587\nTask: 39521\n\nChange-Id: Ia6d3f40ae1b9b352492162513c9262748ee67e6f\n(cherry picked from commit fe771a456d81b6600457b78210e21b88a3a9d83e)\n'}, {'number': 2, 'created': '2020-05-01 09:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/51ca185efc70e7e9f0740d3425e8ce62f49a3180', 'message': 'Fix healthmanager not update amphora health when LB disable\n\nWhen disable a loadbalancer have listener, the Heath Manager not update\namphora heath make it keep failover after heartbeat_timeout end time\n\nStory: 2007587\nTask: 39521\n\nChange-Id: Ia6d3f40ae1b9b352492162513c9262748ee67e6f\n(cherry picked from commit fe771a456d81b6600457b78210e21b88a3a9d83e)\n'}, {'number': 3, 'created': '2020-06-11 06:27:43.000000000', 'files': ['releasenotes/notes/Fix-healthmanager-not-update-amphora-health-when-LB-disabled-46a4fb295c6d0850.yaml', 'octavia/tests/unit/controller/healthmanager/health_drivers/test_update_db.py', 'octavia/controller/healthmanager/health_drivers/update_db.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/cac753d34dbfbd32784e571d615acb3705c69201', 'message': 'Fix healthmanager not update amphora health when LB disable\n\nWhen disable a loadbalancer have listener, the Heath Manager not update\namphora heath make it keep failover after heartbeat_timeout end time\n\nStory: 2007587\nTask: 39521\n\nChange-Id: Ia6d3f40ae1b9b352492162513c9262748ee67e6f\n(cherry picked from commit fe771a456d81b6600457b78210e21b88a3a9d83e)\n'}]",0,724114,cac753d34dbfbd32784e571d615acb3705c69201,14,4,3,30636,,,0,"Fix healthmanager not update amphora health when LB disable

When disable a loadbalancer have listener, the Heath Manager not update
amphora heath make it keep failover after heartbeat_timeout end time

Story: 2007587
Task: 39521

Change-Id: Ia6d3f40ae1b9b352492162513c9262748ee67e6f
(cherry picked from commit fe771a456d81b6600457b78210e21b88a3a9d83e)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/14/724114/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Fix-healthmanager-not-update-amphora-health-when-LB-disabled-46a4fb295c6d0850.yaml', 'octavia/tests/unit/controller/healthmanager/health_drivers/test_update_db.py', 'octavia/controller/healthmanager/health_drivers/update_db.py']",3,8a6a0a071aeded9cca5199048092b4b5d644c04a,, if ('PENDING' in db_lb['provisioning_status'] or not db_lb['enabled']):, if 'PENDING' in db_lb['provisioning_status']:,28,3
openstack%2Foctavia~stable%2Fstein~I376917e40eb7a92f7f03e691ed9a0c23fd2ce8f8,openstack/octavia,stable/stein,I376917e40eb7a92f7f03e691ed9a0c23fd2ce8f8,Correct delay between UDP healthchecks,MERGED,2020-04-27 11:50:02.000000000,2020-06-11 18:25:45.000000000,2020-06-11 18:25:45.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-27 11:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/092fe8a003a4f1bb6f968d8b62903cd219db5471', 'message': 'Correct delay between UDP healthchecks\n\nTemplate was using timeout value instead of delay value.\nAlso clean up redundant values in the templates (things like retry and\ndelay_before_retry only need to be specified once at the top level).\n\nChange-Id: I376917e40eb7a92f7f03e691ed9a0c23fd2ce8f8\n(cherry picked from commit 4b2a38d93c4e8f604ec3deb2fa678529962b42a7)\n'}, {'number': 2, 'created': '2020-05-01 09:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/67c443239c83eb57c7082a39538cd1beff59ad9d', 'message': 'Correct delay between UDP healthchecks\n\nTemplate was using timeout value instead of delay value.\nAlso clean up redundant values in the templates (things like retry and\ndelay_before_retry only need to be specified once at the top level).\n\nChange-Id: I376917e40eb7a92f7f03e691ed9a0c23fd2ce8f8\n(cherry picked from commit 4b2a38d93c4e8f604ec3deb2fa678529962b42a7)\n'}, {'number': 3, 'created': '2020-06-11 06:26:46.000000000', 'files': ['octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py', 'octavia/common/jinja/lvs/templates/macros.j2', 'releasenotes/notes/udp-delay-based-on-correct-setting-6a60856de2927ccd.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/80e389ada42b016361405fffef1e6fbdfaf9e1dd', 'message': 'Correct delay between UDP healthchecks\n\nTemplate was using timeout value instead of delay value.\nAlso clean up redundant values in the templates (things like retry and\ndelay_before_retry only need to be specified once at the top level).\n\nChange-Id: I376917e40eb7a92f7f03e691ed9a0c23fd2ce8f8\n(cherry picked from commit 4b2a38d93c4e8f604ec3deb2fa678529962b42a7)\n'}]",0,723392,80e389ada42b016361405fffef1e6fbdfaf9e1dd,15,5,3,6469,,,0,"Correct delay between UDP healthchecks

Template was using timeout value instead of delay value.
Also clean up redundant values in the templates (things like retry and
delay_before_retry only need to be specified once at the top level).

Change-Id: I376917e40eb7a92f7f03e691ed9a0c23fd2ce8f8
(cherry picked from commit 4b2a38d93c4e8f604ec3deb2fa678529962b42a7)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/92/723392/3 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py', 'octavia/common/jinja/lvs/templates/macros.j2', 'releasenotes/notes/udp-delay-based-on-correct-setting-6a60856de2927ccd.yaml']",3,092fe8a003a4f1bb6f968d8b62903cd219db5471,,"--- fixes: - | Delay between checks on UDP healthmonitors was using the incorrect config value ``timeout``, when it should have been ``delay``. ",,19,38
openstack%2Ftripleo-ansible~stable%2Ftrain~I7090d41c0d0083fd8feb248a35849c3dd8956540,openstack/tripleo-ansible,stable/train,I7090d41c0d0083fd8feb248a35849c3dd8956540,BaR: Set default container cli to podman,MERGED,2020-06-01 09:16:25.000000000,2020-06-11 18:20:59.000000000,2020-06-11 18:20:59.000000000,"[{'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-01 09:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7426ecbb22f051aae15161cb9de47ee3fc5f6690', 'message': 'BaR: Set default container cli to podman\n\nBackup and Restore:\n   The default container cli is set to docker and the default\nis podman.\n\nChange-Id: I7090d41c0d0083fd8feb248a35849c3dd8956540\n'}, {'number': 2, 'created': '2020-06-02 07:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3f3824af687d571d3e870c7b304c32ece5acc7b1', 'message': 'BaR: Set default container cli to podman\n\nBackup and Restore:\n   The default container cli is set to docker and the default\nis podman.\n\nChange-Id: I7090d41c0d0083fd8feb248a35849c3dd8956540\n'}, {'number': 3, 'created': '2020-06-02 10:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/131bbb0f150a2c9a639b7180b8dd76669c22ffc9', 'message': 'BaR: Set default container cli to podman\n\nBackup and Restore:\n   The default container cli is set to docker and the default\nis podman.\n\nChange-Id: I7090d41c0d0083fd8feb248a35849c3dd8956540\n'}, {'number': 4, 'created': '2020-06-02 14:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b0421791ec75e1285a96b2160d2d494502aeb44e', 'message': 'BaR: Set default container cli to podman\n\nBackup and Restore:\n   The default container cli is set to docker and the default\nis podman.\n\nChange-Id: I7090d41c0d0083fd8feb248a35849c3dd8956540\n'}, {'number': 5, 'created': '2020-06-03 09:48:46.000000000', 'files': ['tripleo_ansible/roles/backup-and-restore/defaults/main.yml', 'tripleo_ansible/roles/backup-and-restore/molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1595782438bd63b4fc6e7e00ac8a96228f64b15f', 'message': 'BaR: Set default container cli to podman\n\nBackup and Restore:\n   The default container cli is set to docker and the default\nis podman.\n\nChange-Id: I7090d41c0d0083fd8feb248a35849c3dd8956540\n'}]",0,732118,1595782438bd63b4fc6e7e00ac8a96228f64b15f,21,5,5,22954,,,0,"BaR: Set default container cli to podman

Backup and Restore:
   The default container cli is set to docker and the default
is podman.

Change-Id: I7090d41c0d0083fd8feb248a35849c3dd8956540
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/18/732118/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup-and-restore/defaults/main.yml'],1,7426ecbb22f051aae15161cb9de47ee3fc5f6690,BaR-default-containter-cli,"tripleo_container_cli: ""{{ container_cli | default('podman') }}""","tripleo_container_cli: ""{{ container_cli | default('docker') }}""",1,1
openstack%2Fkuryr-kubernetes~master~I78fd6bdd1f53ea8eb2ba85395fd2e3c651487c60,openstack/kuryr-kubernetes,master,I78fd6bdd1f53ea8eb2ba85395fd2e3c651487c60,Add support for amphora to ovn-octavia upgrade,MERGED,2020-06-02 16:32:29.000000000,2020-06-11 17:52:47.000000000,2020-06-11 17:50:54.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-06-02 16:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/df0f68acccb09561b1e6e6ded8b6ecec4e05d2c7', 'message': 'Add support for amphora to ovn-octavia upgrade\n\nUpon kuryr-controller restart, if kuryr configuration regarding\noctavia provider has changed, the cleanup process not only\nremoves the leftovers loadbalancers but also:\n- remove the lbs with the previous octavia provider driver\n- modifies endpoints annotations (provider information) to force\nthe recreation of the loadbalancer with the new provider\n\nChange-Id: I78fd6bdd1f53ea8eb2ba85395fd2e3c651487c60\n'}, {'number': 2, 'created': '2020-06-09 08:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a386b92863a0f4cc6f56d20fb30d68c7bdee7183', 'message': 'Add support for amphora to ovn-octavia upgrade\n\nUpon kuryr-controller restart, if kuryr configuration regarding\noctavia provider has changed, the cleanup process not only\nremoves the leftovers loadbalancers but also:\n- remove the lbs with the previous octavia provider driver\n- modifies endpoints annotations (provider information) to force\nthe recreation of the loadbalancer with the new provider\n\nChange-Id: I78fd6bdd1f53ea8eb2ba85395fd2e3c651487c60\n'}, {'number': 3, 'created': '2020-06-09 10:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/dd653d2c2aa6dd92d5b974b5089635469d9bec2e', 'message': 'Add support for amphora to ovn-octavia upgrade\n\nUpon kuryr-controller restart, if kuryr configuration regarding\noctavia provider has changed, the cleanup process not only\nremoves the leftovers loadbalancers but also:\n- remove the lbs with the previous octavia provider driver\n- modifies endpoints annotations (provider information) to force\nthe recreation of the loadbalancer with the new provider\n\nChange-Id: I78fd6bdd1f53ea8eb2ba85395fd2e3c651487c60\n'}, {'number': 4, 'created': '2020-06-09 14:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/18a4ab5f5ae728e82cddaa36ea046b38ba8e66d2', 'message': 'Add support for amphora to ovn-octavia upgrade\n\nUpon kuryr-controller restart, if kuryr configuration regarding\noctavia provider has changed, the cleanup process not only\nremoves the leftovers loadbalancers but also:\n- remove the lbs with the previous octavia provider driver\n- modifies endpoints annotations (provider information) to force\nthe recreation of the loadbalancer with the new provider\n\nChange-Id: I78fd6bdd1f53ea8eb2ba85395fd2e3c651487c60\n'}, {'number': 5, 'created': '2020-06-09 16:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b55b0fe1cb8f9c7f6744ca107d1dd045511a55f8', 'message': 'Add support for amphora to ovn-octavia upgrade\n\nUpon kuryr-controller restart, if kuryr configuration regarding\noctavia provider has changed, the cleanup process not only\nremoves the leftovers loadbalancers but also:\n- remove the lbs with the previous octavia provider driver\n- modifies endpoints annotations (provider information) to force\nthe recreation of the loadbalancer with the new provider\n\nChange-Id: I78fd6bdd1f53ea8eb2ba85395fd2e3c651487c60\n'}, {'number': 6, 'created': '2020-06-10 10:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/22b0e08ac52828ea5edd826434f7d9de55508e89', 'message': 'Add support for amphora to ovn-octavia upgrade\n\nUpon kuryr-controller restart, if kuryr configuration regarding\noctavia provider has changed, the cleanup process not only\nremoves the leftovers loadbalancers but also:\n- remove the lbs with the previous octavia provider driver\n- modifies endpoints annotations (provider information) to force\nthe recreation of the loadbalancer with the new provider\n\nChange-Id: I78fd6bdd1f53ea8eb2ba85395fd2e3c651487c60\n'}, {'number': 7, 'created': '2020-06-10 12:35:14.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_lbaas.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3042fb6cb8b7ebf7a7ed0ea4f07644ca45c78fad', 'message': 'Add support for amphora to ovn-octavia upgrade\n\nUpon kuryr-controller restart, if kuryr configuration regarding\noctavia provider has changed, the cleanup process not only\nremoves the leftovers loadbalancers but also:\n- remove the lbs with the previous octavia provider driver\n- modifies endpoints annotations (provider information) to force\nthe recreation of the loadbalancer with the new provider\n\nChange-Id: I78fd6bdd1f53ea8eb2ba85395fd2e3c651487c60\n'}]",7,732735,3042fb6cb8b7ebf7a7ed0ea4f07644ca45c78fad,54,6,7,23567,,,0,"Add support for amphora to ovn-octavia upgrade

Upon kuryr-controller restart, if kuryr configuration regarding
octavia provider has changed, the cleanup process not only
removes the leftovers loadbalancers but also:
- remove the lbs with the previous octavia provider driver
- modifies endpoints annotations (provider information) to force
the recreation of the loadbalancer with the new provider

Change-Id: I78fd6bdd1f53ea8eb2ba85395fd2e3c651487c60
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/35/732735/7 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/lbaas.py'],1,df0f68acccb09561b1e6e6ded8b6ecec4e05d2c7,ovn-upgrade," elif lb and self._lb_provider and self._lb_provider != lb.provider: # if provider does not match, it will be deleted and recreated lb = None lbaas_state.pools = [] lbaas_state.listeners = [] lbaas_state.members = [] changed = True services_cluster_ip = {service['spec']['clusterIP']: service for service in services if service['spec'].get('clusterIP')} services_without_selector = set( service['spec']['clusterIP'] for service in services if (service['spec'].get('clusterIP') and not service['spec'].get('selector'))) if loadbalancer.vip_address not in services_cluster_ip.keys(): else: # check if the provider is the right one if (loadbalancer.vip_address not in services_without_selector and self._lb_provider and self._lb_provider != loadbalancer.provider): LOG.debug(""Removing loadbalancer with old provider: %s"", loadbalancer) lb_obj = obj_lbaas.LBaaSLoadBalancer(**loadbalancer) eventlet.spawn( self._ensure_release_lbaas, lb_obj, services_cluster_ip[loadbalancer.vip_address]) def _ensure_release_lbaas(self, lb_obj, svc=None): "" A retry will be triggered."", attempts, lb_obj.name) if svc: endpoints_link = utils.get_endpoints_link(svc) k8s = clients.get_kubernetes_client() try: endpoint = k8s.get(endpoints_link) except k_exc.K8sResourceNotFound: LOG.debug(""Endpoint not Found."") return lbaas = utils.get_lbaas_state(endpoint) if lbaas: lbaas.loadbalancer.provider = ""old_provider"" utils.set_lbaas_state(endpoint, lbaas)"," services_cluster_ip = set(service['spec']['clusterIP'] for service in services if service['spec'].get('clusterIP')) if loadbalancer.vip_address not in services_cluster_ip: def _ensure_release_lbaas(self, lb_obj): "" A retry will be triggered."", attempts, lb_obj.name)",44,6
openstack%2Fneutron~stable%2Ftrain~I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f,openstack/neutron,stable/train,I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f,Ensure that stale flows are cleaned from phys_bridges,MERGED,2020-05-26 13:46:00.000000000,2020-06-11 17:29:02.000000000,2020-06-11 17:27:07.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-05-26 13:46:00.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ce032275a1c6fa6b62efa9cb258212199aef1fc', 'message': 'Ensure that stale flows are cleaned from phys_bridges\n\nIn case when neutron-ovs-agent will notice that any of physical\nbridges was ""re-created"", we should also ensure that stale Open\nFlow rules (with old cookie id) are cleaned.\nThis patch is doing exactly that.\n\nChange-Id: I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f\nRelated-Bug: #1864822\n(cherry picked from commit 63c45b37666efc7fb33fc154fa828050b3dc7945)\n'}]",0,730822,0ce032275a1c6fa6b62efa9cb258212199aef1fc,44,8,1,11975,,,0,"Ensure that stale flows are cleaned from phys_bridges

In case when neutron-ovs-agent will notice that any of physical
bridges was ""re-created"", we should also ensure that stale Open
Flow rules (with old cookie id) are cleaned.
This patch is doing exactly that.

Change-Id: I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f
Related-Bug: #1864822
(cherry picked from commit 63c45b37666efc7fb33fc154fa828050b3dc7945)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/730822/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,0ce032275a1c6fa6b62efa9cb258212199aef1fc,bug/1864822-stable/ussuri-stable/train," if bridges_recreated: # In case when any bridge was ""re-created"", we need to ensure # that there is no any stale flows in bridges left need_clean_stale_flow = True if need_clean_stale_flow: self.cleanup_stale_flows() need_clean_stale_flow = False LOG.info(""Agent rpc_loop - iteration:%(iter_num)d - "" ""cleanup stale flows. Elapsed:%(elapsed).3f"", {'iter_num': self.iter_num, 'elapsed': time.time() - start}) ", if need_clean_stale_flow: self.cleanup_stale_flows() need_clean_stale_flow = False,12,3
openstack%2Fopenstack-ansible-os_horizon~stable%2Fstein~I9f1b8e4c6f5b4fe2601e5ee1dacf90bded60f93d,openstack/openstack-ansible-os_horizon,stable/stein,I9f1b8e4c6f5b4fe2601e5ee1dacf90bded60f93d,Horizon configuration to support domains dropdown,MERGED,2020-06-10 13:20:21.000000000,2020-06-11 17:20:43.000000000,2020-06-11 17:17:47.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29230}]","[{'number': 1, 'created': '2020-06-10 13:20:21.000000000', 'files': ['defaults/main.yml', 'templates/horizon_local_settings.py.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/198fbf664636a1ce8340537bec0da30bf99b4248', 'message': 'Horizon configuration to support domains dropdown\n\nAn openstack-ansible deployment does not have options to set the local_settings.py params\nfor Horizon to support Keystone V3 multiple domains dropdown menu and its variants to choose.\n\nThese options in local_settings.py are:\nOPENSTACK_KEYSTONE_DOMAIN_CHOICES - default value to ""((\'Default\', \'Default\'))""\n\nChange-Id: I9f1b8e4c6f5b4fe2601e5ee1dacf90bded60f93d\nCloses-Bug: 1795788\n(cherry picked from commit d86285b377221fb5522207a9da6cbfbdea4dd1e9)\n(cherry picked from commit e3326b77086b3865202cff9bce95377937aa6f07)\n'}]",0,734834,198fbf664636a1ce8340537bec0da30bf99b4248,10,5,1,32079,,,0,"Horizon configuration to support domains dropdown

An openstack-ansible deployment does not have options to set the local_settings.py params
for Horizon to support Keystone V3 multiple domains dropdown menu and its variants to choose.

These options in local_settings.py are:
OPENSTACK_KEYSTONE_DOMAIN_CHOICES - default value to ""(('Default', 'Default'))""

Change-Id: I9f1b8e4c6f5b4fe2601e5ee1dacf90bded60f93d
Closes-Bug: 1795788
(cherry picked from commit d86285b377221fb5522207a9da6cbfbdea4dd1e9)
(cherry picked from commit e3326b77086b3865202cff9bce95377937aa6f07)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/34/734834/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'templates/horizon_local_settings.py.j2']",2,198fbf664636a1ce8340537bec0da30bf99b4248,bug/1795788-stable/train-stable/stein,{% else %} OPENSTACK_KEYSTONE_DOMAIN_DROPDOWN = {{ horizon_keystone_multidomain_dropdown | bool }} OPENSTACK_KEYSTONE_DOMAIN_CHOICES = {{ horizon_keystone_multidomain_choices }},{% if horizon_keystone_multidomain_support | bool %} OPENSTACK_KEYSTONE_DOMAIN_DROPDOWN = {{ horizon_keystone_multidomain_dropdown | bool }} {% endif %} ,8,4
openstack%2Fpython-openstackclient~stable%2Ftrain~I37c9eb854524bde3a1530bfe2e3a03810fb1a676,openstack/python-openstackclient,stable/train,I37c9eb854524bde3a1530bfe2e3a03810fb1a676,Client should parse string to boolean for value 'is_domain',MERGED,2020-06-01 14:54:19.000000000,2020-06-11 17:20:25.000000000,2020-06-11 17:14:22.000000000,"[{'_account_id': 2}, {'_account_id': 5046}, {'_account_id': 8866}, {'_account_id': 9954}, {'_account_id': 22348}, {'_account_id': 25564}]","[{'number': 1, 'created': '2020-06-01 14:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fdb7bc2b0a31af7ce9b9ab2cde36580a36c3e20d', 'message': 'Client should parse string to boolean for value \'is_domain\'\n\nWhen we use ""--property"" parameter, client get lists these the\nvalue is string type, but the type of the value \'is_domain\'\nshould be boolean, so we should judge it and parse it.\nThe patch parse string to boolean for value \'is_domain\'.\n\nCo-Authored-By: Lance Bragstad <lbragstad@gmail.com>\n\nChange-Id: I37c9eb854524bde3a1530bfe2e3a03810fb1a676\nTask: 30039\nStory: 2005246\n(cherry picked from commit 533af9f1b2de40d98f69e83cdf89ecf254cf3879)\n'}, {'number': 2, 'created': '2020-06-01 18:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ab7494643116f19b6ad07daa63830d1b5da7e78d', 'message': 'Client should parse string to boolean for value \'is_domain\'\n\nWhen we use ""--property"" parameter, client get lists these the\nvalue is string type, but the type of the value \'is_domain\'\nshould be boolean, so we should judge it and parse it.\nThe patch parse string to boolean for value \'is_domain\'.\n\nCo-Authored-By: Lance Bragstad <lbragstad@gmail.com>\n\nChange-Id: I37c9eb854524bde3a1530bfe2e3a03810fb1a676\nTask: 30039\nStory: 2005246\n(cherry picked from commit 533af9f1b2de40d98f69e83cdf89ecf254cf3879)\n'}, {'number': 3, 'created': '2020-06-01 21:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/336c1a23621dfa267f8bba71624fd593b684ceba', 'message': 'Client should parse string to boolean for value \'is_domain\'\n\nWhen we use ""--property"" parameter, client get lists these the\nvalue is string type, but the type of the value \'is_domain\'\nshould be boolean, so we should judge it and parse it.\nThe patch parse string to boolean for value \'is_domain\'.\n\nCo-Authored-By: Lance Bragstad <lbragstad@gmail.com>\n\nChange-Id: I37c9eb854524bde3a1530bfe2e3a03810fb1a676\nTask: 30039\nStory: 2005246\n(cherry picked from commit 533af9f1b2de40d98f69e83cdf89ecf254cf3879)\n'}, {'number': 4, 'created': '2020-06-10 19:27:48.000000000', 'files': ['openstackclient/identity/v3/project.py', 'releasenotes/notes/bug-2005246-3fb70206bafc5444.yaml', 'openstackclient/tests/unit/identity/v3/test_project.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bff556c7c2e19d6162fb47929b91c155eba2a6ee', 'message': 'Client should parse string to boolean for value \'is_domain\'\n\nWhen we use ""--property"" parameter, client get lists these the\nvalue is string type, but the type of the value \'is_domain\'\nshould be boolean, so we should judge it and parse it.\nThe patch parse string to boolean for value \'is_domain\'.\n\nCo-Authored-By: Lance Bragstad <lbragstad@gmail.com>\n\nConflict:\n  Direct backports of this patch fail because the original tests\n  proposed to the Victoria (master) branch included keystone\n  ``options``. Support for ``options`` was added in:\n\n    I9c3bdd741f28bf558267fb217818d947597ce13e\n\n  This backport removes the ``options`` key from the expected values in\n  the tests since feature support for ``options`` isn\'t going to be\n  backported. Otherwise, the functionality of this change is fully\n  tested like it is on later releases.\n\nChange-Id: I37c9eb854524bde3a1530bfe2e3a03810fb1a676\nTask: 30039\nStory: 2005246\n(cherry picked from commit 533af9f1b2de40d98f69e83cdf89ecf254cf3879)\n(cherry picked from commit 19723aee18e2901e9250dd840a61359704baa170)\n'}]",0,732398,bff556c7c2e19d6162fb47929b91c155eba2a6ee,24,6,4,5046,,,0,"Client should parse string to boolean for value 'is_domain'

When we use ""--property"" parameter, client get lists these the
value is string type, but the type of the value 'is_domain'
should be boolean, so we should judge it and parse it.
The patch parse string to boolean for value 'is_domain'.

Co-Authored-By: Lance Bragstad <lbragstad@gmail.com>

Conflict:
  Direct backports of this patch fail because the original tests
  proposed to the Victoria (master) branch included keystone
  ``options``. Support for ``options`` was added in:

    I9c3bdd741f28bf558267fb217818d947597ce13e

  This backport removes the ``options`` key from the expected values in
  the tests since feature support for ``options`` isn't going to be
  backported. Otherwise, the functionality of this change is fully
  tested like it is on later releases.

Change-Id: I37c9eb854524bde3a1530bfe2e3a03810fb1a676
Task: 30039
Story: 2005246
(cherry picked from commit 533af9f1b2de40d98f69e83cdf89ecf254cf3879)
(cherry picked from commit 19723aee18e2901e9250dd840a61359704baa170)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/98/732398/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/identity/v3/project.py', 'releasenotes/notes/bug-2005246-3fb70206bafc5444.yaml', 'openstackclient/tests/unit/identity/v3/test_project.py']",3,fdb7bc2b0a31af7ce9b9ab2cde36580a36c3e20d,," def test_project_create_is_domain_false_property(self): arglist = [ '--property', 'is_domain=false', self.project.name, ] verifylist = [ ('parent', None), ('enable', False), ('disable', False), ('name', self.project.name), ('tags', []), ('property', {'is_domain': 'false'}), ('name', self.project.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # In base command class ShowOne in cliff, abstract method take_action() # returns a two-part tuple with a tuple of column names and a tuple of # data to be shown. columns, data = self.cmd.take_action(parsed_args) # Set expected values kwargs = { 'name': self.project.name, 'domain': None, 'description': None, 'enabled': True, 'parent': None, 'is_domain': False, 'tags': [], 'options': {}, } self.projects_mock.create.assert_called_with( **kwargs ) self.assertEqual(self.columns, columns) self.assertEqual(self.datalist, data) def test_project_create_is_domain_true_property(self): arglist = [ '--property', 'is_domain=true', self.project.name, ] verifylist = [ ('parent', None), ('enable', False), ('disable', False), ('name', self.project.name), ('tags', []), ('property', {'is_domain': 'true'}), ('name', self.project.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # In base command class ShowOne in cliff, abstract method take_action() # returns a two-part tuple with a tuple of column names and a tuple of # data to be shown. columns, data = self.cmd.take_action(parsed_args) # Set expected values kwargs = { 'name': self.project.name, 'domain': None, 'description': None, 'enabled': True, 'parent': None, 'is_domain': True, 'tags': [], 'options': {}, } self.projects_mock.create.assert_called_with( **kwargs ) self.assertEqual(self.columns, columns) self.assertEqual(self.datalist, data) def test_project_create_is_domain_none_property(self): arglist = [ '--property', 'is_domain=none', self.project.name, ] verifylist = [ ('parent', None), ('enable', False), ('disable', False), ('name', self.project.name), ('tags', []), ('property', {'is_domain': 'none'}), ('name', self.project.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # In base command class ShowOne in cliff, abstract method take_action() # returns a two-part tuple with a tuple of column names and a tuple of # data to be shown. columns, data = self.cmd.take_action(parsed_args) # Set expected values kwargs = { 'name': self.project.name, 'domain': None, 'description': None, 'enabled': True, 'parent': None, 'is_domain': None, 'tags': [], 'options': {}, } self.projects_mock.create.assert_called_with( **kwargs ) self.assertEqual(self.columns, columns) self.assertEqual(self.datalist, data) ",,133,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I200efe00b735a17a996fbfe64e3f0f4d4c813f73,openstack/tripleo-ansible,stable/ussuri,I200efe00b735a17a996fbfe64e3f0f4d4c813f73,Add toggle for sensitive data within keystone,MERGED,2020-06-10 17:54:50.000000000,2020-06-11 16:57:01.000000000,2020-06-11 16:57:01.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-10 17:54:50.000000000', 'files': ['tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/test_deps/tasks/tripleo-setup.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/endpoints.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/admin.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/defaults/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/services.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/users.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/99b509e38b837d016a99ac1fd6c2685962d7560b', 'message': 'Add toggle for sensitive data within keystone\n\nThis change will allow deployers to expose sensitive data as needed. \n\n> This change also fixes the tests for keystone. The role test was\n  broken because the use of test-deps needed to be updated for the new\n  repo layout.\n\nChange-Id: I200efe00b735a17a996fbfe64e3f0f4d4c813f73\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 8cc51067d83ad8245ced0a0d62084de8717415d1)\n'}]",0,734898,99b509e38b837d016a99ac1fd6c2685962d7560b,7,4,1,3153,,,0,"Add toggle for sensitive data within keystone

This change will allow deployers to expose sensitive data as needed. 

> This change also fixes the tests for keystone. The role test was
  broken because the use of test-deps needed to be updated for the new
  repo layout.

Change-Id: I200efe00b735a17a996fbfe64e3f0f4d4c813f73
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 8cc51067d83ad8245ced0a0d62084de8717415d1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/98/734898/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/test_deps/tasks/tripleo-setup.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/endpoints.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/admin.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/defaults/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/services.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/users.yml']",7,99b509e38b837d016a99ac1fd6c2685962d7560b,mistral_to_ansible-stable/ussuri," no_log: ""{{ tripleo_keystone_resources_hide_sensitive_logs | bool }}"" no_log: ""{{ not (tripleo_keystone_resources_debug | bool) }}""", no_log: true no_log: true,32,83
openstack%2Ftripleo-ansible~master~Ie0237cdc691034eaa35970a5b1d0186a76c5bc25,openstack/tripleo-ansible,master,Ie0237cdc691034eaa35970a5b1d0186a76c5bc25,Add playbook for config-download export,MERGED,2020-06-09 05:08:52.000000000,2020-06-11 16:56:26.000000000,2020-06-11 16:56:25.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-09 05:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ee479b946bd9eba4e327c8ff8bfbe538334c0e36', 'message': ""Add playbook for config-download export\n\nWe'll switch to use this playbook in python-tripleoclient\n\nChange-Id: Ie0237cdc691034eaa35970a5b1d0186a76c5bc25\n""}, {'number': 2, 'created': '2020-06-09 05:52:49.000000000', 'files': ['tripleo_ansible/playbooks/cli-config-download-export.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5e7110482886421f7db5bd6c727a5cad54ca309a', 'message': ""Add playbook for config-download export\n\nWe'll switch to use this playbook in python-tripleoclient\n\nChange-Id: Ie0237cdc691034eaa35970a5b1d0186a76c5bc25\n""}]",1,734417,5e7110482886421f7db5bd6c727a5cad54ca309a,10,4,2,8833,,,0,"Add playbook for config-download export

We'll switch to use this playbook in python-tripleoclient

Change-Id: Ie0237cdc691034eaa35970a5b1d0186a76c5bc25
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/17/734417/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-config-download-export.yaml'],1,ee479b946bd9eba4e327c8ff8bfbe538334c0e36,mistral_to_ansible,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Config Download Export connection: ""{{ (tripleo_target_host is defined) | ternary('ssh', 'local') }}"" hosts: ""{{ tripleo_target_host | default('localhost') }}"" remote_user: ""{{ tripleo_target_user | default(lookup('env', 'USER')) }}"" gather_facts: ""{{ (tripleo_target_host is defined) | ternary(true, false) }}"" any_errors_fatal: true vars: plan: overcloud config_type: null preserve_config: true pre_tasks: - name: Set config_dir set_fact: config_dir: ""{{ lookup('env', 'HOME')~'/tripleo-config' }}"" when: config_dir is not defined - name: Set config_container set_fact: config_container: ""{{ plan ~ '-config' }}"" tasks: - name: Clean config_dir file: path: ""{{ config_dir }}"" state: absent when: not preserve_config | bool - name: Create config dir if does not exist file: path: ""{{ config_dir }}"" state: directory - name: Get config tripleo_config_download: plan: ""{{ plan }}"" config_container: ""{{ config_container }}"" config_type: ""{{ config_type }}"" download: false - name: Get temp url for archive tripleo_swift_tempurl: container: ""{{ config_container }}"" object: ""{{ config_container ~ '.tar.gz' }}"" method: GET register: config_download_url - name: Extract config download unarchive: src: ""{{ config_download_url.tempurl }}"" dest: ""{{ config_dir }}"" remote_src: yes ",,69,0
openstack%2Fironic-inspector~master~I554b74aee85727e1d8c56d2bf9b5e0b682b6dbd2,openstack/ironic-inspector,master,I554b74aee85727e1d8c56d2bf9b5e0b682b6dbd2,Update doc for multi-arch x86,MERGED,2020-06-11 15:23:27.000000000,2020-06-11 16:38:22.000000000,2020-06-11 16:35:10.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-11 15:23:27.000000000', 'files': ['doc/source/install/index.rst'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/52138f2c5429b0a422fdfccbe9ba9f2b36ebaf7c', 'message': 'Update doc for multi-arch x86\n\nRecent test shows the $grub_cpu is x86_64 for grubx64.efi,\nreplace the outdated i386 with x64.\n\nChange-Id: I554b74aee85727e1d8c56d2bf9b5e0b682b6dbd2\n'}]",0,735178,52138f2c5429b0a422fdfccbe9ba9f2b36ebaf7c,7,2,1,24828,,,0,"Update doc for multi-arch x86

Recent test shows the $grub_cpu is x86_64 for grubx64.efi,
replace the outdated i386 with x64.

Change-Id: I554b74aee85727e1d8c56d2bf9b5e0b682b6dbd2
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/78/735178/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/index.rst'],1,52138f2c5429b0a422fdfccbe9ba9f2b36ebaf7c,doc,``grub-arm64.cfg`` for ARM64 and ``grub-x86_64.cfg`` for x86_64.,``grub-arm64.cfg`` for ARM64 and ``grub-i386.cfg`` for x86.,1,1
openstack%2Fpuppet-swift~master~I123ab64e77076d2eada6c9cdc4f6526398b071d1,openstack/puppet-swift,master,I123ab64e77076d2eada6c9cdc4f6526398b071d1,Deprecate the remaining option for Keystone PKI token,MERGED,2020-06-08 15:27:33.000000000,2020-06-11 16:37:56.000000000,2020-06-11 16:34:46.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 15:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/1f13fad121856bbff83bbb7339d738ccbd8f51f1', 'message': 'Deprecate the remaining option for Keystone PKI token\n\n... because it was already removed from keystonemiddleware.\n\n[1] b3e84aafc0302b1a87754f438696794076ba844f\n\nChange-Id: I123ab64e77076d2eada6c9cdc4f6526398b071d1\n'}, {'number': 2, 'created': '2020-06-08 15:41:03.000000000', 'files': ['manifests/proxy/authtoken.pp', 'spec/classes/swift_proxy_authtoken_spec.rb', 'releasenotes/notes/deprecate-keystone-pki-opts-c5e390dfbbf6f4d8.yaml', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/424b861a57d60cefeeebc2fafaed97484fac261c', 'message': 'Deprecate the remaining option for Keystone PKI token\n\n... because it was already removed from keystonemiddleware[1].\n\n[1] b3e84aafc0302b1a87754f438696794076ba844f\n\nChange-Id: I123ab64e77076d2eada6c9cdc4f6526398b071d1\n'}]",0,734126,424b861a57d60cefeeebc2fafaed97484fac261c,9,3,2,9816,,,0,"Deprecate the remaining option for Keystone PKI token

... because it was already removed from keystonemiddleware[1].

[1] b3e84aafc0302b1a87754f438696794076ba844f

Change-Id: I123ab64e77076d2eada6c9cdc4f6526398b071d1
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/26/734126/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/proxy/authtoken.pp', 'spec/classes/swift_proxy_authtoken_spec.rb', 'releasenotes/notes/deprecate-keystone-pki-opts-c5e390dfbbf6f4d8.yaml', 'manifests/params.pp']",4,1f13fad121856bbff83bbb7339d738ccbd8f51f1,signing_dir,, if ($::os_package_type == 'debian') { $signing_dir = '/var/lib/swift' }else{ $signing_dir = '/var/cache/swift' } $signing_dir = '/var/cache/swift',15,54
openstack%2Fironic~master~Iace17b2d233323f4648d2857ec1b9fb83d42c045,openstack/ironic,master,Iace17b2d233323f4648d2857ec1b9fb83d42c045,Feature: Add raid configuration support for ibmc driver,MERGED,2020-05-14 16:03:26.000000000,2020-06-11 16:37:06.000000000,2020-06-11 16:35:03.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 29702}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-05-14 16:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2169be78bed35a4320430cf66639e93128a118ad', 'message': 'Feature: Add raid configuration support for ibmc driver\n\nThis patch proposes to adding raid configuration support for HUAWEI iBMC driver.\n\nStory: 2007554\nTask: 39406\nSigned-off-by: Qianbiao.NG <iampurse@vip.qq.com>\nChange-Id: Iace17b2d233323f4648d2857ec1b9fb83d42c045\nSigned-off-by: Qianbiao.NG <iampurse@vip.qq.com>\n'}, {'number': 2, 'created': '2020-05-18 02:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/268e8e5b37710f9397fe1b090efc9c771a5b7b00', 'message': 'Feature: Add raid configuration support for ibmc driver\n\nThis patch proposes to adding raid configuration support for HUAWEI iBMC driver.\n\nStory: 2007554\nTask: 39406\nSigned-off-by: Qianbiao.NG <iampurse@vip.qq.com>\nChange-Id: Iace17b2d233323f4648d2857ec1b9fb83d42c045\nSigned-off-by: Qianbiao.NG <iampurse@vip.qq.com>\n'}, {'number': 3, 'created': '2020-05-18 06:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bf71edbf74b103500a4362e63664a07a6a402846', 'message': 'Feature: Add raid configuration support for ibmc driver\n\nThis patch proposes to adding raid configuration support for HUAWEI iBMC driver.\n\nStory: 2007554\nTask: 39406\nSigned-off-by: Qianbiao.NG <iampurse@vip.qq.com>\nChange-Id: Iace17b2d233323f4648d2857ec1b9fb83d42c045\nSigned-off-by: Qianbiao.NG <iampurse@vip.qq.com>\n'}, {'number': 4, 'created': '2020-05-20 07:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8a0170e5d58f321466e5453a0072dabaa5d119b4', 'message': 'Feature: Add raid configuration support for ibmc driver\n\nThis patch proposes to adding raid configuration support for HUAWEI iBMC driver.\n\nStory: 2007554\nTask: 39406\nSigned-off-by: Qianbiao.NG <iampurse@vip.qq.com>\nChange-Id: Iace17b2d233323f4648d2857ec1b9fb83d42c045\nSigned-off-by: Qianbiao.NG <iampurse@vip.qq.com>\n'}, {'number': 5, 'created': '2020-05-21 05:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/21d6689cb46afcdfa358397d8e75d98317640064', 'message': 'Feature: Add raid configuration support for ibmc driver\n\nThis patch proposes to adding raid configuration support for HUAWEI iBMC driver.\n\nStory: 2007554\nTask: 39406\nSigned-off-by: Qianbiao.NG <iampurse@vip.qq.com>\nChange-Id: Iace17b2d233323f4648d2857ec1b9fb83d42c045\nSigned-off-by: Qianbiao.NG <iampurse@vip.qq.com>\n'}, {'number': 6, 'created': '2020-05-21 09:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b1e8690478cff272d5cc6e5a7c04814159cfe49a', 'message': 'Feature: Add raid configuration support for ibmc driver\n\nThis patch proposes to adding raid configuration support for HUAWEI iBMC driver.\n\nStory: 2007554\nTask: 39406\nSigned-off-by: Qianbiao.NG <iampurse@vip.qq.com>\nChange-Id: Iace17b2d233323f4648d2857ec1b9fb83d42c045\n'}, {'number': 7, 'created': '2020-05-21 12:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b7d0f16043fb4b6ec738dd2c80552cf66dce2957', 'message': 'Feature: Add raid configuration support for ibmc driver\n\nThis patch proposes to adding raid configuration support for HUAWEI iBMC driver.\n\nStory: 2007554\nTask: 39406\nSigned-off-by: Qianbiao.NG <iampurse@vip.qq.com>\nChange-Id: Iace17b2d233323f4648d2857ec1b9fb83d42c045\n'}, {'number': 8, 'created': '2020-05-21 14:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ebaf172f1ad3823a5e1d2ddf939a3ad55d53b89d', 'message': 'Feature: Add raid configuration support for ibmc driver\n\nThis patch proposes to adding raid configuration support for HUAWEI iBMC driver.\n\nStory: 2007554\nTask: 39406\nSigned-off-by: Qianbiao.NG <iampurse@vip.qq.com>\nChange-Id: Iace17b2d233323f4648d2857ec1b9fb83d42c045\n'}, {'number': 9, 'created': '2020-05-27 02:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1d12c09e9a661760d108b63777e1373fac1a20ce', 'message': 'Feature: Add raid configuration support for ibmc driver\n\nThis patch proposes to adding raid configuration support for HUAWEI iBMC driver.\n\nStory: 2007554\nTask: 39406\nSigned-off-by: Qianbiao.NG <iampurse@vip.qq.com>\nChange-Id: Iace17b2d233323f4648d2857ec1b9fb83d42c045\n'}, {'number': 10, 'created': '2020-05-29 13:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9a50bbc6f3766cf9e7397de19f44ef138c01f3dd', 'message': 'Feature: Add raid configuration support for ibmc driver\n\nThis patch proposes to adding raid configuration support for HUAWEI iBMC driver.\n\nStory: 2007554\nTask: 39406\nSigned-off-by: Qianbiao.NG <iampurse@vip.qq.com>\nChange-Id: Iace17b2d233323f4648d2857ec1b9fb83d42c045\n'}, {'number': 11, 'created': '2020-06-10 03:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0513acca7bc93ee44bd420fa401e996caa0c0e31', 'message': 'Feature: Add raid configuration support for ibmc driver\n\nThis patch proposes to adding raid configuration support for HUAWEI iBMC driver.\n\nStory: 2007554\nTask: 39406\nSigned-off-by: Qianbiao.NG <iampurse@vip.qq.com>\nChange-Id: Iace17b2d233323f4648d2857ec1b9fb83d42c045\n'}, {'number': 12, 'created': '2020-06-10 06:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eba1c909e86a1eb8e9aa044530c04de9bdef2bce', 'message': 'Feature: Add raid configuration support for ibmc driver\n\nThis patch proposes to adding raid configuration support for HUAWEI iBMC driver.\n\nStory: 2007554\nTask: 39406\nSigned-off-by: Qianbiao.NG <iampurse@vip.qq.com>\nChange-Id: Iace17b2d233323f4648d2857ec1b9fb83d42c045\n'}, {'number': 13, 'created': '2020-06-10 08:20:03.000000000', 'files': ['ironic/drivers/modules/ibmc/vendor.py', 'ironic/drivers/modules/ibmc/raid.py', 'ironic/tests/unit/drivers/modules/ibmc/base.py', 'doc/source/admin/drivers/ibmc.rst', 'ironic/tests/unit/drivers/modules/ibmc/test_raid.py', 'ironic/drivers/ibmc.py', 'releasenotes/notes/add-ibmc-raid-interface-0c13826e134fb4ce.yaml', 'setup.cfg', 'ironic/tests/unit/drivers/modules/ibmc/test_vendor.py', 'ironic/tests/unit/drivers/test_ibmc.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cd6e5ec497f489bfbd313256d7d7841e6ca9fe67', 'message': 'Feature: Add raid configuration support for ibmc driver\n\nThis patch proposes to adding raid configuration support for HUAWEI iBMC driver.\n\nStory: 2007554\nTask: 39406\nSigned-off-by: Qianbiao.NG <iampurse@vip.qq.com>\nChange-Id: Iace17b2d233323f4648d2857ec1b9fb83d42c045\n'}]",80,728123,cd6e5ec497f489bfbd313256d7d7841e6ca9fe67,69,8,13,29702,,,0,"Feature: Add raid configuration support for ibmc driver

This patch proposes to adding raid configuration support for HUAWEI iBMC driver.

Story: 2007554
Task: 39406
Signed-off-by: Qianbiao.NG <iampurse@vip.qq.com>
Change-Id: Iace17b2d233323f4648d2857ec1b9fb83d42c045
",git fetch https://review.opendev.org/openstack/ironic refs/changes/23/728123/5 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ibmc/raid.py', 'ironic/tests/unit/drivers/modules/ibmc/base.py', 'driver-requirements.txt', 'doc/source/admin/drivers/ibmc.rst', 'ironic/tests/unit/drivers/modules/ibmc/test_raid.py', 'ironic/drivers/ibmc.py', 'setup.cfg', 'ironic/tests/unit/drivers/test_ibmc.py']",8,2169be78bed35a4320430cf66639e93128a118ad,ibmc-driver-raid-support,"from ironic.drivers.modules.ibmc import raid as ibmc_raid enabled_vendor_interfaces=['ibmc'], enabled_raid_interfaces=['ibmc']) self.assertIsInstance(task.driver.raid, ibmc_raid.IbmcRAID)"," enabled_vendor_interfaces=['ibmc']) self.assertIsInstance(task.driver.raid, noop.NoRAID)",599,16
openstack%2Foctavia~stable%2Fstein~I611d9cd5a519abc6a330ec2c46a2f5a1fdb89313,openstack/octavia,stable/stein,I611d9cd5a519abc6a330ec2c46a2f5a1fdb89313,Add a periodic image build job,ABANDONED,2020-02-06 21:56:20.000000000,2020-06-11 16:21:32.000000000,,"[{'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-06 21:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f9d151af921443f2514cd9958abb0eeb4f300736', 'message': 'Add a periodic image build job\n\nThis patch adds a periodic job to build the amphora image using the\nreleased version of diskimage-builder (our other jobs use Git master).\nThis job will not publish the produced image, it is only to test the\nbuild.\n\nChange-Id: I611d9cd5a519abc6a330ec2c46a2f5a1fdb89313\n(cherry picked from commit 1f9915037ad68356231691607b461c30b28df3b7)\n'}, {'number': 2, 'created': '2020-05-01 09:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2d63b2fc3bae7aec88b159b0b7037f2f99159100', 'message': 'Add a periodic image build job\n\nThis patch adds a periodic job to build the amphora image using the\nreleased version of diskimage-builder (our other jobs use Git master).\nThis job will not publish the produced image, it is only to test the\nbuild.\n\nChange-Id: I611d9cd5a519abc6a330ec2c46a2f5a1fdb89313\n(cherry picked from commit 1f9915037ad68356231691607b461c30b28df3b7)\n'}, {'number': 3, 'created': '2020-06-11 06:28:05.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0a85a7b1177097110b6d357a33407fb1d878c217', 'message': 'Add a periodic image build job\n\nThis patch adds a periodic job to build the amphora image using the\nreleased version of diskimage-builder (our other jobs use Git master).\nThis job will not publish the produced image, it is only to test the\nbuild.\n\nChange-Id: I611d9cd5a519abc6a330ec2c46a2f5a1fdb89313\n(cherry picked from commit 1f9915037ad68356231691607b461c30b28df3b7)\n'}]",0,706396,0a85a7b1177097110b6d357a33407fb1d878c217,8,2,3,11628,,,0,"Add a periodic image build job

This patch adds a periodic job to build the amphora image using the
released version of diskimage-builder (our other jobs use Git master).
This job will not publish the produced image, it is only to test the
build.

Change-Id: I611d9cd5a519abc6a330ec2c46a2f5a1fdb89313
(cherry picked from commit 1f9915037ad68356231691607b461c30b28df3b7)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/96/706396/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,f9d151af921443f2514cd9958abb0eeb4f300736,," - job: name: octavia-amphora-image-build parent: base description: | Builds the amphora image using the released diskimage-builder version, not Git master. This job does not publish the image. run: playbooks/image-build/run.yaml required-projects: - openstack/octavia - openstack/octavia-lib vars: amphora_os: ubuntu amphora_os_release: bionic",,15,0
openstack%2Fironic-inspector~master~I780c9ed3b53286c1910ca9580888895979dff73c,openstack/ironic-inspector,master,I780c9ed3b53286c1910ca9580888895979dff73c,Add the mini tox version requirement,ABANDONED,2018-11-10 08:54:55.000000000,2020-06-11 16:06:38.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 27866}]","[{'number': 1, 'created': '2018-11-10 08:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/570b8356998ecfe5c09b717f020b230d8337d7cf', 'message': 'add the mini tox version requirement\n\nChange-Id: I780c9ed3b53286c1910ca9580888895979dff73c\n'}, {'number': 2, 'created': '2018-11-16 00:32:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/e2ed3357dfd9551a74b9226e2ef11233d4e203e9', 'message': 'Add the mini tox version requirement\n\nChange-Id: I780c9ed3b53286c1910ca9580888895979dff73c\n'}]",0,617102,e2ed3357dfd9551a74b9226e2ef11233d4e203e9,13,4,2,27866,,,0,"Add the mini tox version requirement

Change-Id: I780c9ed3b53286c1910ca9580888895979dff73c
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/02/617102/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,570b8356998ecfe5c09b717f020b230d8337d7cf,,minversion = 2.0,,1,0
openstack%2Ftripleo-upgrade~master~Icd9a88241761b46733145a64d8e24f8bd109d193,openstack/tripleo-upgrade,master,Icd9a88241761b46733145a64d8e24f8bd109d193,FFWD2: Set computes into hybrid state,ABANDONED,2020-05-27 09:55:00.000000000,2020-06-11 16:02:16.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-27 09:55:00.000000000', 'files': ['templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e1cff94c32c179456040da4ef186d27f358d7a86', 'message': 'FFWD2: Set computes into hybrid state\n\nWhen doing data transfer we also should switch nova_compute\ncontianer from Queens to Train on computes.\n\nChange-Id: Icd9a88241761b46733145a64d8e24f8bd109d193\n'}]",1,731130,e1cff94c32c179456040da4ef186d27f358d7a86,7,2,1,11166,,,0,"FFWD2: Set computes into hybrid state

When doing data transfer we also should switch nova_compute
contianer from Queens to Train on computes.

Change-Id: Icd9a88241761b46733145a64d8e24f8bd109d193
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/30/731130/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2'],1,e1cff94c32c179456040da4ef186d27f358d7a86,ffwd-upgrade2,"echo ""[$(date)] Setting up hybrid state for computes"" openstack overcloud upgrade run \ --stack {{ overcloud_stack_name }} \ --playbook upgrade_steps_playbook.yaml \ --tags nova_hybrid_state --limit all 2>&1 echo ""[$(date)] Finished setting up hybrid state for computes"" ",,7,0
openstack%2Fdiskimage-builder~master~Icdc79875c33f894ab7eaec8afdfb33a731efff99,openstack/diskimage-builder,master,Icdc79875c33f894ab7eaec8afdfb33a731efff99,Add IPv6 support in dhcp-all-interfaces,MERGED,2019-10-30 11:40:28.000000000,2020-06-11 16:01:35.000000000,2019-11-26 23:54:54.000000000,"[{'_account_id': 1926}, {'_account_id': 4328}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 13861}, {'_account_id': 21741}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-10-30 11:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/22f58b306ed7fdc24535e5a6ae39e7237b1f263a', 'message': 'WIP: Add IPv6 support in dhcp-all-interfaces\n\nWhen the rdisc6 utility is available do probe for router\nadvertisement, configure eni and rhel-netscripts interfaces\nto do IPv6 address configuration according to the flags\nin the RA recived from the router.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          No\nTHEN:\n  Do not run dhclient at all, autoconfiguration via\n  SLAAC only.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          Yes\nTHEN:\n  Run ""dhclient -6 -S"", The ``-S`` option makes the\n  dhcp client not request and address, only other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nWHEN:\n  Stateful address conf.    :          Yes\n  Stateful other conf.      :          Yes\nTHEN:\n  The dhcp client shoud request an address _and_ other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nNOTE: No IPv6 support added for suse-netscripts\n\nCloses-Bug: 1754219\nChange-Id: Icdc79875c33f894ab7eaec8afdfb33a731efff99\n'}, {'number': 2, 'created': '2019-10-30 11:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/95d0ec31b746edfcd7f60389a4b2de20092679dd', 'message': 'WIP: Add IPv6 support in dhcp-all-interfaces\n\nWhen the rdisc6 utility is available probe for router\nadvertisement. configure eni and rhel-netscripts interfaces\nto do IPv6 address configuration according to the flags\nin the RA recived from the router.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          No\nTHEN:\n  Do not run dhclient at all, autoconfiguration via\n  SLAAC only.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          Yes\nTHEN:\n  Run ""dhclient -6 -S"", The ``-S`` option makes the\n  dhcp client not request an address, only other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nWHEN:\n  Stateful address conf.    :          Yes\n  Stateful other conf.      :          Yes\nTHEN:\n  The dhcp client should request an address _and_ other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nNOTE: No IPv6 support added for suse-netscripts\n\nCloses-Bug: 1754219\nChange-Id: Icdc79875c33f894ab7eaec8afdfb33a731efff99\n'}, {'number': 3, 'created': '2019-10-30 12:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2e4e9b85a9017e5b98c3d9a858c8d180d1e18064', 'message': 'WIP: Add IPv6 support in dhcp-all-interfaces\n\nWhen the rdisc6 utility is available probe for router\nadvertisement. configure eni and rhel-netscripts interfaces\nto do IPv6 address configuration according to the flags\nin the RA recived from the router.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          No\nTHEN:\n  Do not run dhclient at all, autoconfiguration via\n  SLAAC only.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          Yes\nTHEN:\n  Run ""dhclient -6 -S"", The ``-S`` option makes the\n  dhcp client not request an address, only other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nWHEN:\n  Stateful address conf.    :          Yes\n  Stateful other conf.      :          Yes\nTHEN:\n  The dhcp client should request an address _and_ other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nNOTE: No IPv6 support added for suse-netscripts\n\nCloses-Bug: 1754219\nChange-Id: Icdc79875c33f894ab7eaec8afdfb33a731efff99\n'}, {'number': 4, 'created': '2019-10-30 14:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ae542004e9a5d3b6bb7243cb8264f1219342986c', 'message': 'WIP: Add IPv6 support in dhcp-all-interfaces\n\nWhen the rdisc6 utility is available probe for router\nadvertisement. configure eni and rhel-netscripts interfaces\nto do IPv6 address configuration according to the flags\nin the RA recived from the router.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          No\nTHEN:\n  Do not run dhclient at all, autoconfiguration via\n  SLAAC only.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          Yes\nTHEN:\n  Run ""dhclient -6 -S"", The ``-S`` option makes the\n  dhcp client not request an address, only other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nWHEN:\n  Stateful address conf.    :          Yes\n  Stateful other conf.      :          Yes\nTHEN:\n  The dhcp client should request an address _and_ other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nNOTE: No IPv6 support added for suse-netscripts\n\nCloses-Bug: 1754219\nChange-Id: Icdc79875c33f894ab7eaec8afdfb33a731efff99\n'}, {'number': 5, 'created': '2019-10-30 21:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8f7c8cbbef99a3dc173c0fe7f5c6b5b8cc6b2eae', 'message': 'WIP: Add IPv6 support in dhcp-all-interfaces\n\nWhen the rdisc6 utility is available probe for router\nadvertisement. configure eni and rhel-netscripts interfaces\nto do IPv6 address configuration according to the flags\nin the RA recived from the router.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          No\nTHEN:\n  Do not run dhclient at all, autoconfiguration via\n  SLAAC only.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          Yes\nTHEN:\n  Run ""dhclient -6 -S"", The ``-S`` option makes the\n  dhcp client not request an address, only other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nWHEN:\n  Stateful address conf.    :          Yes\n  Stateful other conf.      :          Yes\nTHEN:\n  The dhcp client should request an address _and_ other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nNOTE: No IPv6 support added for suse-netscripts\n\nCloses-Bug: 1754219\nChange-Id: Icdc79875c33f894ab7eaec8afdfb33a731efff99\n'}, {'number': 6, 'created': '2019-10-31 09:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/99c946fbf9f73f607e3085a6b8ac22412aa90d18', 'message': 'WIP: Add IPv6 support in dhcp-all-interfaces\n\nWhen the rdisc6 utility is available probe for router\nadvertisement. configure eni and rhel-netscripts interfaces\nto do IPv6 address configuration according to the flags\nin the RA recived from the router.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          No\nTHEN:\n  Do not run dhclient at all, autoconfiguration via\n  SLAAC only.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          Yes\nTHEN:\n  Run ""dhclient -6 -S"", The ``-S`` option makes the\n  dhcp client not request an address, only other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nWHEN:\n  Stateful address conf.    :          Yes\n  Stateful other conf.      :          Yes\nTHEN:\n  The dhcp client should request an address _and_ other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nNOTE: No IPv6 support added for suse-netscripts\n\nCloses-Bug: 1754219\nChange-Id: Icdc79875c33f894ab7eaec8afdfb33a731efff99\n'}, {'number': 7, 'created': '2019-10-31 09:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1863c48ff433562353b632db8254aab2310d31b4', 'message': 'WIP: Add IPv6 support in dhcp-all-interfaces\n\nWhen the rdisc6 utility is available probe for router\nadvertisement. configure eni and rhel-netscripts interfaces\nto do IPv6 address configuration according to the flags\nin the RA recived from the router.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          No\nTHEN:\n  Do not run dhclient at all, autoconfiguration via\n  SLAAC only.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          Yes\nTHEN:\n  Run ""dhclient -6 -S"", The ``-S`` option makes the\n  dhcp client not request an address, only other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nWHEN:\n  Stateful address conf.    :          Yes\n  Stateful other conf.      :          Yes\nTHEN:\n  The dhcp client should request an address _and_ other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nNOTE: No IPv6 support added for suse-netscripts\n\nCloses-Bug: 1754219\nChange-Id: Icdc79875c33f894ab7eaec8afdfb33a731efff99\n'}, {'number': 8, 'created': '2019-11-05 10:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cf19ec82b4b724c69a0653e104a2e49cf79f0eda', 'message': 'Add IPv6 support in dhcp-all-interfaces\n\nWhen the rdisc6 utility is available probe for router\nadvertisement. configure eni and rhel-netscripts interfaces\nto do IPv6 address configuration according to the flags\nin the RA recived from the router.\n\nThe systemd service file timeout is DIB_DHCP_TIMEOUT * 2,\nso that DHCPv4 can timout, and dhcpv6 run before the service\ntimes out.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          No\nTHEN:\n  Do not run dhclient at all, autoconfiguration via\n  SLAAC only.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          Yes\nTHEN:\n  Run ""dhclient -6 -S"", The ``-S`` option makes the\n  dhcp client not request an address, only other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nWHEN:\n  Stateful address conf.    :          Yes\n  Stateful other conf.      :          Yes\nTHEN:\n  The dhcp client should request an address _and_ other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nNOTE: No IPv6 support added for suse-netscripts\n\nCloses-Bug: 1754219\nChange-Id: Icdc79875c33f894ab7eaec8afdfb33a731efff99\n'}, {'number': 9, 'created': '2019-11-05 15:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/629f5b6685c5dddf612d7bef501e4b21d8126dda', 'message': 'Add IPv6 support in dhcp-all-interfaces\n\nWhen the rdisc6 utility is available probe for router\nadvertisement. configure eni and rhel-netscripts interfaces\nto do IPv6 address configuration according to the flags\nin the RA recived from the router.\n\nThe systemd service file timeout is DIB_DHCP_TIMEOUT * 2,\nso that DHCPv4 can timout, and dhcpv6 run before the service\ntimes out.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          No\nTHEN:\n  Do not run dhclient at all, autoconfiguration via\n  SLAAC only.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          Yes\nTHEN:\n  Run ""dhclient -6 -S"", The ``-S`` option makes the\n  dhcp client not request an address, only other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nWHEN:\n  Stateful address conf.    :          Yes\n  Stateful other conf.      :          Yes\nTHEN:\n  The dhcp client should request an address _and_ other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nNOTE: No IPv6 support added for suse-netscripts\n\nCloses-Bug: 1754219\nChange-Id: Icdc79875c33f894ab7eaec8afdfb33a731efff99\n'}, {'number': 10, 'created': '2019-11-06 14:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/78d638fa4e8e762d0cbc9efa2cf3f00211899513', 'message': 'Add IPv6 support in dhcp-all-interfaces\n\nWhen the rdisc6 utility is available probe for router\nadvertisement. configure eni and rhel-netscripts interfaces\nto do IPv6 address configuration according to the flags\nin the RA recived from the router.\n\nThe systemd service file timeout is DIB_DHCP_TIMEOUT * 2,\nso that DHCPv4 can timout, and dhcpv6 run before the service\ntimes out.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          No\nTHEN:\n  Do not run dhclient at all, autoconfiguration via\n  SLAAC only.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          Yes\nTHEN:\n  Run ""dhclient -6 -S"", The ``-S`` option makes the\n  dhcp client not request an address, only other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nWHEN:\n  Stateful address conf.    :          Yes\n  Stateful other conf.      :          Yes\nTHEN:\n  The dhcp client should request an address _and_ other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nNOTE: No IPv6 support added for suse-netscripts\n\nCloses-Bug: 1754219\nChange-Id: Icdc79875c33f894ab7eaec8afdfb33a731efff99\n'}, {'number': 11, 'created': '2019-11-07 11:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/17d2d75b5d8bac2b6c30faf99503fc574d12121d', 'message': 'Add IPv6 support in dhcp-all-interfaces\n\nWhen the rdisc6 utility is available probe for router\nadvertisement. configure eni and rhel-netscripts interfaces\nto do IPv6 address configuration according to the flags\nin the RA recived from the router.\n\nThe systemd service file timeout is DIB_DHCP_TIMEOUT * 2,\nso that DHCPv4 can timout, and dhcpv6 run before the service\ntimes out.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          No\nTHEN:\n  Do not run dhclient at all, autoconfiguration via\n  SLAAC only.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          Yes\nTHEN:\n  Run ""dhclient -6 -S"", The ``-S`` option makes the\n  dhcp client not request an address, only other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nWHEN:\n  Stateful address conf.    :          Yes\n  Stateful other conf.      :          Yes\nTHEN:\n  The dhcp client should request an address _and_ other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nNOTE: No IPv6 support added for suse-netscripts\n\nCloses-Bug: 1754219\nChange-Id: Icdc79875c33f894ab7eaec8afdfb33a731efff99\n'}, {'number': 12, 'created': '2019-11-07 15:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c825ec5b0f8dbaa51455aba1ace773e2798fb05a', 'message': 'Add IPv6 support in dhcp-all-interfaces\n\nWhen the rdisc6 utility is available probe for router\nadvertisement. configure eni and rhel-netscripts interfaces\nto do IPv6 address configuration according to the flags\nin the RA recived from the router.\n\nThe systemd service file timeout is DIB_DHCP_TIMEOUT * 2,\nso that DHCPv4 can timout, and dhcpv6 run before the service\ntimes out.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          No\nTHEN:\n  Do not run dhclient at all, autoconfiguration via\n  SLAAC only.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          Yes\nTHEN:\n  Run ""dhclient -6 -S"", The ``-S`` option makes the\n  dhcp client not request an address, only other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nWHEN:\n  Stateful address conf.    :          Yes\n  Stateful other conf.      :          Yes\nTHEN:\n  The dhcp client should request an address _and_ other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nNOTE: No IPv6 support added for suse-netscripts\n\nCloses-Bug: 1754219\nChange-Id: Icdc79875c33f894ab7eaec8afdfb33a731efff99\n'}, {'number': 13, 'created': '2019-11-13 09:32:53.000000000', 'files': ['diskimage_builder/elements/dhcp-all-interfaces/pkg-map', 'diskimage_builder/elements/dhcp-all-interfaces/install.d/dhcp-all-interfaces.sh', 'diskimage_builder/elements/dhcp-all-interfaces/install.d/50-dhcp-all-interfaces', 'diskimage_builder/elements/dhcp-all-interfaces/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f94508d537432817619932074a5f98ea08d93055', 'message': 'Add IPv6 support in dhcp-all-interfaces\n\nWhen the rdisc6 utility is available probe for router\nadvertisement. configure eni and rhel-netscripts interfaces\nto do IPv6 address configuration according to the flags\nin the RA recived from the router.\n\nThe systemd service file timeout is DIB_DHCP_TIMEOUT * 2,\nso that DHCPv4 can timout, and dhcpv6 run before the service\ntimes out.\n\nRetries are commented in dhclient.conf, without it we end up\ntrying DIB_DHCP_TIMEOUT * 60 before the client move on to\nIPv6.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          No\nTHEN:\n  Do not run dhclient at all, autoconfiguration via\n  SLAAC only.\n\nWHEN:\n  Stateful address conf.    :          No\n  Stateful other conf.      :          Yes\nTHEN:\n  Run ""dhclient -6 -S"", The ``-S`` option makes the\n  dhcp client not request an address, only other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nWHEN:\n  Stateful address conf.    :          Yes\n  Stateful other conf.      :          Yes\nTHEN:\n  The dhcp client should request an address _and_ other\n  options such as DNS servers and NTP servers from\n  DHCPv6 server.\n\nNOTE: No IPv6 support added for suse-netscripts\n\nCloses-Bug: 1754219\nChange-Id: Icdc79875c33f894ab7eaec8afdfb33a731efff99\n'}]",9,692110,f94508d537432817619932074a5f98ea08d93055,63,11,13,24245,,,0,"Add IPv6 support in dhcp-all-interfaces

When the rdisc6 utility is available probe for router
advertisement. configure eni and rhel-netscripts interfaces
to do IPv6 address configuration according to the flags
in the RA recived from the router.

The systemd service file timeout is DIB_DHCP_TIMEOUT * 2,
so that DHCPv4 can timout, and dhcpv6 run before the service
times out.

Retries are commented in dhclient.conf, without it we end up
trying DIB_DHCP_TIMEOUT * 60 before the client move on to
IPv6.

WHEN:
  Stateful address conf.    :          No
  Stateful other conf.      :          No
THEN:
  Do not run dhclient at all, autoconfiguration via
  SLAAC only.

WHEN:
  Stateful address conf.    :          No
  Stateful other conf.      :          Yes
THEN:
  Run ""dhclient -6 -S"", The ``-S`` option makes the
  dhcp client not request an address, only other
  options such as DNS servers and NTP servers from
  DHCPv6 server.

WHEN:
  Stateful address conf.    :          Yes
  Stateful other conf.      :          Yes
THEN:
  The dhcp client should request an address _and_ other
  options such as DNS servers and NTP servers from
  DHCPv6 server.

NOTE: No IPv6 support added for suse-netscripts

Closes-Bug: 1754219
Change-Id: Icdc79875c33f894ab7eaec8afdfb33a731efff99
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/10/692110/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/dhcp-all-interfaces/install.d/dhcp-all-interfaces.sh'],1,22f58b306ed7fdc24535e5a6ae39e7237b1f263a,bug/1754219," local ipv6_init=$2 local ipv6_AdvManagedFlag=$3 local ipv6_AdvOtherConfigFlag=$4 if [ ""$ipv6_init"" == ""True""]; then if [""$ipv6_AdvManagedFlag""] == ""Yes""; then # IPv6 DHCPv6 Stateful address configuration printf ""iface $interface inet6 dhcp\n"" >>$ENI_FILE elif [""$ipv6_AdvOtherConfigFlag"" == ""Yes""]; then # IPv6 DHCPv6 Stateless address configursation printf ""iface $interface inet6 auto\n\tdhcp 1\n"" >>$ENI_FILE else # IPv6 Autoconfiguration (SLAAC) printf ""iface $interface inet6 auto\tdhcp 0\n\n"" >>$ENI_FILE fi fi printf ""\n"" >>$ENI_FILE printf ""DEVICE=\""$interface\""\nBOOTPROTO=\""dhcp\""\nONBOOT=\""yes\""\nTYPE=\""Ethernet\""\n"" >""${SCRIPTS_PATH}ifcfg-$interface"" if [ ""$ipv6_init"" == ""True""]; then printf ""IPV6INIT=\""yes\""\n"" >>""${SCRIPTS_PATH}ifcfg-$interface"" if [""$ipv6_AdvManagedFlag""] == ""Yes""; then # IPv6 DHCPv6 Stateful address configuration printf ""IPV6_FORCE_ACCEPT_RA=\""yes\""\nDHCPV6C=\""yes\""\n"" >>""${SCRIPTS_PATH}ifcfg-$interface"" elif [""$ipv6_AdvOtherConfigFlag"" == ""Yes""]; then # IPv6 DHCPv6 Stateless address configursation printf ""IPV6_AUTOCONF=\""yes\""\nDHCPV6C=\""yes\""\nDHCPV6C_OPTIONS=\""-S\""\n"" >>""${SCRIPTS_PATH}ifcfg-$interface"" else # IPv6 Autoconfiguration (SLAAC) printf ""IPV6_AUTOCONF=\""yes\""\n"" >>""${SCRIPTS_PATH}ifcfg-$interface"" fi fi local ipv6_init=False local ipv6_AdvManagedFlag local ipv6_AdvOtherConfigFlag local rdisc6_cmd if rdisc6_cmd=$(which rdisc6); then # We have rdisc6, let's try to configure IPv6 autoconfig/dhcpv6 if RA=$($rdisc6_cmd ""$interface""); then ipv6_init=True ipv6_AdvManagedFlag=$(echo ""$RA"" | grep ""Stateful address conf."" | awk -F: '{ print $2 }') ipv6_AdvOtherConfigFlag=$(echo ""$RA"" | grep ""Stateful other conf."" | awk -F: '{ print $2 }') fi else echo ""rdisc6 not available, skipping IPv6 configuration."" fi enable_interface ""$interface $ipv6_init $ipv6_AdvManagedFlag $ipv6_AdvOtherConfigFlag"""," printf ""DEVICE=\""$interface\""\nBOOTPROTO=\""dhcp\""\nONBOOT=\""yes\""\nTYPE=\""Ethernet\"""" >""${SCRIPTS_PATH}ifcfg-$interface"" enable_interface ""$interface""",45,2
openstack%2Ftripleo-operator-ansible~master~If7d7ed6f3b398b48ace903f8307adc64264b2f1b,openstack/tripleo-operator-ansible,master,If7d7ed6f3b398b48ace903f8307adc64264b2f1b,Use unittest.mock instead of mock,MERGED,2020-06-09 10:17:52.000000000,2020-06-11 16:00:34.000000000,2020-06-11 15:55:53.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 10:17:52.000000000', 'files': ['test-requirements.txt', 'tests/plugins/modules/test_tripleo_shell_script.py', 'tests/plugins/action/test_timestamp_file.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/e61f16c3faeebe689f54d42f62d961043065bf36', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: If7d7ed6f3b398b48ace903f8307adc64264b2f1b\n'}]",0,734569,e61f16c3faeebe689f54d42f62d961043065bf36,8,3,1,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: If7d7ed6f3b398b48ace903f8307adc64264b2f1b
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/69/734569/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tests/plugins/modules/test_tripleo_shell_script.py', 'tests/plugins/action/test_timestamp_file.py', 'doc/requirements.txt']",4,e61f16c3faeebe689f54d42f62d961043065bf36,drop_mock,"netaddr # BSD stestr>=2.0.0 # Apache-2.0 oslotest>=3.2.0 # Apache-2.0 ruamel.yaml pre-commit # MIT ansible>=2.8 # this is required for the docs build jobs sphinx>=2.0.0,!=2.1.0 # BSD openstackdocstheme>=2.2.1 # Apache-2.0 reno>=3.1.0 # Apache-2.0 doc8>=0.8.0 # Apache-2.0 bashate>=0.6.0 # Apache-2.0 ",,15,3
openstack%2Ftripleo-upgrade~master~I6382d139e123b745d0c23f3afd695dae316d861d,openstack/tripleo-upgrade,master,I6382d139e123b745d0c23f3afd695dae316d861d,Add patch revision parameter to workarounds,MERGED,2020-06-08 12:50:45.000000000,2020-06-11 15:58:19.000000000,2020-06-11 14:54:32.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-06-08 12:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3b6ead9ac4a8f8f60aa3de3af6ab00e70cc3ed57', 'message': ""Add patch revision parameter to workarounds\n\nThe current workaround patch mechanism only allows for the\n'current' (most recent) version of a patch to be used in\nworkarounds.\n\nThere are times when we may want to pin to a previous patch\nset. This change enables that option.\n\nWe also clean up two unused workaround templates.\n\nChange-Id: I6382d139e123b745d0c23f3afd695dae316d861d\n""}, {'number': 2, 'created': '2020-06-08 12:54:14.000000000', 'files': ['templates/workarounds.sh.j2', 'templates/fast-forward-upgrade/undercloud_workarounds_post.sh.j2', 'templates/fast-forward-upgrade/undercloud_workarounds_pre.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6fba346ad4c67ab67026e6ad87dca5311af7e92c', 'message': 'Add patch revision parameter to workarounds\n\nThe current workaround patch mechanism only allows for the\n\'current\' (most recent) version of a patch to be used in\nworkarounds.\n\nThere are times when we may want to pin to a previous patch\nset. This change enables that option.\n\nAccording to [a] the revision ID can be:\n\n- a legacy numeric patch number (""1"" for first patch set of the change)\n- the literal \'current\' to name the current patch set/revision\n- a commit ID (""674ac754f91e64a0efb8087e59a176484bd534d1"")\n- an abbreviated commit ID that uniquely identifies one revision of the change (""674ac754""), at least 4 digits are required\n\nWe also clean up two unused workaround templates.\n\n[a] https://gerrit-review.googlesource.com/Documentation/rest-api-changes.html#revision-id\n\nChange-Id: I6382d139e123b745d0c23f3afd695dae316d861d\n'}]",0,734072,6fba346ad4c67ab67026e6ad87dca5311af7e92c,11,3,2,6816,,,0,"Add patch revision parameter to workarounds

The current workaround patch mechanism only allows for the
'current' (most recent) version of a patch to be used in
workarounds.

There are times when we may want to pin to a previous patch
set. This change enables that option.

According to [a] the revision ID can be:

- a legacy numeric patch number (""1"" for first patch set of the change)
- the literal 'current' to name the current patch set/revision
- a commit ID (""674ac754f91e64a0efb8087e59a176484bd534d1"")
- an abbreviated commit ID that uniquely identifies one revision of the change (""674ac754""), at least 4 digits are required

We also clean up two unused workaround templates.

[a] https://gerrit-review.googlesource.com/Documentation/rest-api-changes.html#revision-id

Change-Id: I6382d139e123b745d0c23f3afd695dae316d861d
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/72/734072/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/workarounds.sh.j2', 'templates/fast-forward-upgrade/undercloud_workarounds_post.sh.j2', 'templates/fast-forward-upgrade/undercloud_workarounds_pre.sh.j2']",3,3b6ead9ac4a8f8f60aa3de3af6ab00e70cc3ed57,ffwd-upgrade2,,"#!/bin/bash # # Apply pre undercloud {{ current_release }} upgrade workarounds set -euo pipefail function apply_patch { local patch_dir=$1 local patch_id=$2 curl -4 https://review.opendev.org/changes/${patch_id}/revisions/current/patch?download | \ base64 -d > /tmp/patch.txt if sudo patch --dry-run --reverse --force -d ${patch_dir} -p1 < /tmp/patch.txt >/dev/null 2>&1 then echo ""Patch ${patch_id} already applied, skipping"" else sudo patch -Ns -d ${patch_dir} -p1 < /tmp/patch.txt fi } {% if current_release in ffu_undercloud_releases[0] %} {% for bugs in pre_ffu_undercloud_upgrade_1st_release|default([]) %} {% for key, value in bugs.items() %} echo {{ key }} {% if value.patch %} apply_patch {{ value.basedir }} {{ value.id }} {% else %} {{ value.command }} {% endif %} {% endfor %} {% endfor %} {% elif current_release in ffu_undercloud_releases[1] %} {% for bugs in pre_ffu_undercloud_upgrade_2nd_release|default([]) %} {% for key, value in bugs.items() %} echo {{ key }} {% if value.patch %} apply_patch {{ value.basedir }} {{ value.id }} {% else %} {{ value.command }} {% endif %} {% endfor %} {% endfor %} {% elif current_release in ffu_undercloud_releases[2] %} {% for bugs in pre_ffu_undercloud_upgrade_3rd_release|default([]) %} {% for key, value in bugs.items() %} echo {{ key }} {% if value.patch %} apply_patch {{ value.basedir }} {{ value.id }} {% else %} {{ value.command }} {% endif %} {% endfor %} {% endfor %} {% endif %} ",6,130
openstack%2Ftripleo-specs~master~I925d6480f2ee7f95ffe41a22f760140900419798,openstack/tripleo-specs,master,I925d6480f2ee7f95ffe41a22f760140900419798,Remove obsolete files,MERGED,2020-06-09 08:57:18.000000000,2020-06-11 15:56:29.000000000,2020-06-11 15:53:34.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 08:57:18.000000000', 'files': ['babel.cfg', 'openstack-common.conf'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/d10a363a11e4f6baf2395b920b9f473650df6023', 'message': 'Remove obsolete files\n\nRemove obsolete files babel.cfg and openstack-common.conf, they\nare not needed here at all.\n\nChange-Id: I925d6480f2ee7f95ffe41a22f760140900419798\n'}]",0,734462,d10a363a11e4f6baf2395b920b9f473650df6023,8,3,1,6547,,,0,"Remove obsolete files

Remove obsolete files babel.cfg and openstack-common.conf, they
are not needed here at all.

Change-Id: I925d6480f2ee7f95ffe41a22f760140900419798
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/62/734462/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'openstack-common.conf']",2,d10a363a11e4f6baf2395b920b9f473650df6023,cleanup-py27-support,,[DEFAULT] # The list of modules to copy from oslo-incubator.git # The base module to hold the copy of openstack.common base=tripleo-specs,0,7
openstack%2Fironic~master~I959aeff1123ac9c0911b9b2caa5fe94d6e34b848,openstack/ironic,master,I959aeff1123ac9c0911b9b2caa5fe94d6e34b848,Fix requirements check,MERGED,2020-06-11 08:23:52.000000000,2020-06-11 15:52:33.000000000,2020-06-11 15:48:59.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 11904}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-06-11 08:23:52.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/30d0296f0158644d3cb9baa5aa7e7170db9e4702', 'message': 'Fix requirements check\n\nthe virtualbmc lib is needed in lower-constraints for the\nrequirements check to pass.\n\nChange-Id: I959aeff1123ac9c0911b9b2caa5fe94d6e34b848\n'}]",0,735076,30d0296f0158644d3cb9baa5aa7e7170db9e4702,14,7,1,23851,,,0,"Fix requirements check

the virtualbmc lib is needed in lower-constraints for the
requirements check to pass.

Change-Id: I959aeff1123ac9c0911b9b2caa5fe94d6e34b848
",git fetch https://review.opendev.org/openstack/ironic refs/changes/76/735076/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,30d0296f0158644d3cb9baa5aa7e7170db9e4702,fix-reqs,virtualbmc==1.4.0,,1,0
openstack%2Fopenstack-ansible-ceph_client~stable%2Fstein~I721d22fa70f76400ef8b5746f421916944e523d8,openstack/openstack-ansible-ceph_client,stable/stein,I721d22fa70f76400ef8b5746f421916944e523d8,Use the mimic release rather than luminous,MERGED,2020-06-11 09:02:03.000000000,2020-06-11 15:52:04.000000000,2020-06-11 15:48:05.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-11 09:02:03.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/d706160e863a92f789f7ac1b1919d71c0b54399a', 'message': 'Use the mimic release rather than luminous\n\nThe openstack-ansible repo overrides this variable to be mimic rather\nthan luminous, but that change was not reflected in the ceph_client\nrole defaults. [1]\n\nThis does not change the deployed version due to the override outside\nthis role but it is confusing.\n\n[1] https://opendev.org/openstack/openstack-ansible/commit/ed3a00954ec74c858d58c7d58dcd425cb9a3658f\n\nChange-Id: I721d22fa70f76400ef8b5746f421916944e523d8\n'}]",0,735083,d706160e863a92f789f7ac1b1919d71c0b54399a,8,3,1,25023,,,0,"Use the mimic release rather than luminous

The openstack-ansible repo overrides this variable to be mimic rather
than luminous, but that change was not reflected in the ceph_client
role defaults. [1]

This does not change the deployed version due to the override outside
this role but it is confusing.

[1] https://opendev.org/openstack/openstack-ansible/commit/ed3a00954ec74c858d58c7d58dcd425cb9a3658f

Change-Id: I721d22fa70f76400ef8b5746f421916944e523d8
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/83/735083/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,d706160e863a92f789f7ac1b1919d71c0b54399a,,ceph_stable_release: mimic,ceph_stable_release: luminous,1,1
openstack%2Fpython-openstackclient~master~I66b3ec2a36bc462d2f1ac151e95ccbdc946076b8,openstack/python-openstackclient,master,I66b3ec2a36bc462d2f1ac151e95ccbdc946076b8,Remove os-client-config references,MERGED,2020-06-08 14:26:34.000000000,2020-06-11 15:51:42.000000000,2020-06-11 15:44:42.000000000,"[{'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 14:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e474e76b6cc282354d257db42ed219b0a9dc91d1', 'message': ""Remove os-client-config references\n\nWe've depended on openstacksdk for config for ages now, clean up\nafter ourselves and stop installing it in tests.\n\nChange-Id: I66b3ec2a36bc462d2f1ac151e95ccbdc946076b8\n""}, {'number': 2, 'created': '2020-06-08 21:20:45.000000000', 'files': ['openstackclient/tests/unit/integ/cli/test_shell.py', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7696593dc18aff34ab0abbc9020616b608219e58', 'message': ""Remove os-client-config references\n\nWe've depended on openstacksdk for config for ages now, clean up\nafter ourselves and stop installing it in tests.\n\nChange-Id: I66b3ec2a36bc462d2f1ac151e95ccbdc946076b8\n""}]",0,734097,7696593dc18aff34ab0abbc9020616b608219e58,12,4,2,2,,,0,"Remove os-client-config references

We've depended on openstacksdk for config for ages now, clean up
after ourselves and stop installing it in tests.

Change-Id: I66b3ec2a36bc462d2f1ac151e95ccbdc946076b8
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/97/734097/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/integ/cli/test_shell.py', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",5,e474e76b6cc282354d257db42ed219b0a9dc91d1,osc-plugin-optimize,," python -m pip install -q -U -e ""git+file://{toxinidir}/../os-client-config#egg=os_client_config"" python -m pip install -q -U -e ""git+file://{toxinidir}/../os-client-config#egg=os_client_config""",5,24
openstack%2Fneutron~stable%2Fussuri~I1588b88279ba1e25706cc74f4a888901e5aadcb6,openstack/neutron,stable/ussuri,I1588b88279ba1e25706cc74f4a888901e5aadcb6,Fix ssh to nodes during ML2/OVS to ML2/OVN migration,MERGED,2020-06-11 10:06:37.000000000,2020-06-11 15:51:23.000000000,2020-06-11 15:44:39.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29350}]","[{'number': 1, 'created': '2020-06-11 10:06:37.000000000', 'files': ['tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd49fae3f4b6462cbc17a49bd47f19554dd834ef', 'message': 'Fix ssh to nodes during ML2/OVS to ML2/OVN migration\n\nMigration ansible playbooks are not able to connect to overcloud\nnodes using ssh due to bad settings in the generated ansible\ninventory file. Ctlplane subnet ip addresses should be used by\nansible in order to be able to establish connection successfully.\n\nCloses-bug: #1881029\nChange-Id: I1588b88279ba1e25706cc74f4a888901e5aadcb6\n(cherry picked from commit 0402337c151d6db3b6e04569df3735e0dc44125f)\n'}]",0,735099,dd49fae3f4b6462cbc17a49bd47f19554dd834ef,9,5,1,8655,,,0,"Fix ssh to nodes during ML2/OVS to ML2/OVN migration

Migration ansible playbooks are not able to connect to overcloud
nodes using ssh due to bad settings in the generated ansible
inventory file. Ctlplane subnet ip addresses should be used by
ansible in order to be able to establish connection successfully.

Closes-bug: #1881029
Change-Id: I1588b88279ba1e25706cc74f4a888901e5aadcb6
(cherry picked from commit 0402337c151d6db3b6e04569df3735e0dc44125f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/735099/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/ovn_migration.sh'],1,dd49fae3f4b6462cbc17a49bd47f19554dd834ef,fix_ovn_migration_ssh-stable/ussuri, ip=`jq -r --arg role _meta --arg hostname $host_name 'to_entries[] | select(.key == $role) | .value.hostvars[$hostname].ansible_host' $inventory_file`, ip=`jq -r --arg role _meta --arg hostname $host_name 'to_entries[] | select(.key == $role) | .value.hostvars[$hostname].management_ip' $inventory_file`,1,1
openstack%2Fbifrost~master~I329e47a4f63a96475d9cf1584e195eef6aeeb5fb,openstack/bifrost,master,I329e47a4f63a96475d9cf1584e195eef6aeeb5fb,reno: update release versions for Ussuri and Train,MERGED,2020-06-11 14:21:49.000000000,2020-06-11 15:48:07.000000000,2020-06-11 15:42:43.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-11 14:21:49.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/ussuri.rst'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1ddaf569da1332fc60c899005f445689fbbe4dc8', 'message': 'reno: update release versions for Ussuri and Train\n\nChange-Id: I329e47a4f63a96475d9cf1584e195eef6aeeb5fb\n'}]",0,735145,1ddaf569da1332fc60c899005f445689fbbe4dc8,8,3,1,10239,,,0,"reno: update release versions for Ussuri and Train

Change-Id: I329e47a4f63a96475d9cf1584e195eef6aeeb5fb
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/45/735145/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/ussuri.rst']",2,1ddaf569da1332fc60c899005f445689fbbe4dc8,reno,=========================================== Ussuri Series (8.0.0 - 8.1.x) Release Notes ===========================================,=========================== Ussuri Series Release Notes ===========================,4,4
openstack%2Fneutron~stable%2Fpike~Ib7cc8f82a91972f17987fb95130edc4069d9423f,openstack/neutron,stable/pike,Ib7cc8f82a91972f17987fb95130edc4069d9423f,Revert iptables TCP checksum-fill code,MERGED,2020-04-14 10:48:40.000000000,2020-06-11 15:44:37.000000000,2020-06-11 15:44:36.000000000,"[{'_account_id': 1131}, {'_account_id': 2733}, {'_account_id': 4187}, {'_account_id': 7016}, {'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 22595}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-04-14 10:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/131bac66bccca54597d0fdbc8d312dcec3a3c775', 'message': ""Revert iptables TCP checksum-fill code\n\nTo fix bug 1722584 we inserted a checksum-fill rule for\nmetadata proxy replies.  Recent kernels have disabled\nthis support for TCP because it was invalid, and\nsupposedly not doing anything, so let's get ahead of\nthings and remove the code.\n\nKernel mailing list discussion is at\nhttps://lore.kernel.org/patchwork/patch/824819/\n\nPartially reverts ed1c3b021751273e427d47fcf544c56bdabf97bb\n\nChange-Id: Ib7cc8f82a91972f17987fb95130edc4069d9423f\nRelated-bug: #1722584\n(cherry picked from commit b1b8a438fe3cdc422b8deb61548f47d383ee2fe8)\n(cherry picked from commit 31320156e464d27d8dfb9df82777b92e9eed1e2c)\n""}, {'number': 2, 'created': '2020-05-04 08:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6018bd0b8fb81bee7639af79e6eb8dc10acc5a7', 'message': ""Revert iptables TCP checksum-fill code\n\nTo fix bug 1722584 we inserted a checksum-fill rule for\nmetadata proxy replies.  Recent kernels have disabled\nthis support for TCP because it was invalid, and\nsupposedly not doing anything, so let's get ahead of\nthings and remove the code.\n\nKernel mailing list discussion is at\nhttps://lore.kernel.org/patchwork/patch/824819/\n\nPartially reverts ed1c3b021751273e427d47fcf544c56bdabf97bb\n\nDepends-On: https://review.opendev.org/#/c/725213/\nChange-Id: Ib7cc8f82a91972f17987fb95130edc4069d9423f\nRelated-bug: #1722584\n(cherry picked from commit b1b8a438fe3cdc422b8deb61548f47d383ee2fe8)\n(cherry picked from commit 31320156e464d27d8dfb9df82777b92e9eed1e2c)\n""}, {'number': 3, 'created': '2020-06-11 07:56:09.000000000', 'files': ['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f280339096ed702928f704fd20543ce4370c0d4', 'message': ""Revert iptables TCP checksum-fill code\n\nTo fix bug 1722584 we inserted a checksum-fill rule for\nmetadata proxy replies.  Recent kernels have disabled\nthis support for TCP because it was invalid, and\nsupposedly not doing anything, so let's get ahead of\nthings and remove the code.\n\nKernel mailing list discussion is at\nhttps://lore.kernel.org/patchwork/patch/824819/\n\nPartially reverts ed1c3b021751273e427d47fcf544c56bdabf97bb\n\nDepends-On: https://review.opendev.org/#/c/725213/\nChange-Id: Ib7cc8f82a91972f17987fb95130edc4069d9423f\nRelated-bug: #1722584\n(cherry picked from commit b1b8a438fe3cdc422b8deb61548f47d383ee2fe8)\n(cherry picked from commit 31320156e464d27d8dfb9df82777b92e9eed1e2c)\n""}]",0,719909,8f280339096ed702928f704fd20543ce4370c0d4,29,9,3,6593,,,0,"Revert iptables TCP checksum-fill code

To fix bug 1722584 we inserted a checksum-fill rule for
metadata proxy replies.  Recent kernels have disabled
this support for TCP because it was invalid, and
supposedly not doing anything, so let's get ahead of
things and remove the code.

Kernel mailing list discussion is at
https://lore.kernel.org/patchwork/patch/824819/

Partially reverts ed1c3b021751273e427d47fcf544c56bdabf97bb

Depends-On: https://review.opendev.org/#/c/725213/
Change-Id: Ib7cc8f82a91972f17987fb95130edc4069d9423f
Related-bug: #1722584
(cherry picked from commit b1b8a438fe3cdc422b8deb61548f47d383ee2fe8)
(cherry picked from commit 31320156e464d27d8dfb9df82777b92e9eed1e2c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/719909/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py']",2,131bac66bccca54597d0fdbc8d312dcec3a3c775,tcp-checksum-revert-stable/queens-stable/pike,," def metadata_checksum_rules(cls, port): return [('POSTROUTING', '-o %(interface_name)s ' '-p tcp -m tcp --sport %(port)s -j CHECKSUM ' '--checksum-fill' % {'interface_name': namespaces.INTERNAL_DEV_PREFIX + '+', 'port': port})] @classmethod for c, r in proxy.metadata_checksum_rules(proxy.metadata_port): router.iptables_manager.ipv4['mangle'].add_rule(c, r)",0,17
openstack%2Fpuppet-glance~stable%2Ftrain~I8ece28a9b0c6f104130d817490e9ea4c2b4e7808,openstack/puppet-glance,stable/train,I8ece28a9b0c6f104130d817490e9ea4c2b4e7808,Add cache prefetcher interval configuration option,MERGED,2020-05-29 11:01:42.000000000,2020-06-11 15:39:09.000000000,2020-06-11 15:37:03.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 19138}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 11:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/0a1afdf58aaf6355ac3056656ec2c4b1a292d869', 'message': ""Add cache prefetcher interval configuration option\n\nAs new periodic job added in glance which will run as per\ninterval set using 'cache_prefetcher_interval' configuration\noption and fetch images which are queued for caching in cache\ndirectory.\n\nEnabled 'cache_prefetcher_interval' configuration option\nin glance-api.conf.\n\nConflicts:\n        manifests/api.pp\n        spec/classes/glance_api_spec.rb\n\nChange-Id: I8ece28a9b0c6f104130d817490e9ea4c2b4e7808\n(cherry picked from commit 24ee288b85d376c96746f1f0864bfb0344cf5b19)\n(cherry picked from commit 311cb2ade54812d3bec0c947d1453aad47c22c3a)\n""}, {'number': 2, 'created': '2020-05-29 11:07:30.000000000', 'files': ['manifests/api.pp', 'spec/classes/glance_api_spec.rb', 'releasenotes/notes/add_cache_prefetcher_interval-e77d98c5235e91bc.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/8ac5b132e3b2ac4e71d2671de5751e349312dcaf', 'message': ""Add cache prefetcher interval configuration option\n\nAs new periodic job added in glance which will run as per\ninterval set using 'cache_prefetcher_interval' configuration\noption and fetch images which are queued for caching in cache\ndirectory.\n\nEnabled 'cache_prefetcher_interval' configuration option\nin glance-api.conf.\n\nConflicts:\n        manifests/api.pp\n        spec/classes/glance_api_spec.rb\n\nChange-Id: I8ece28a9b0c6f104130d817490e9ea4c2b4e7808\n(cherry picked from commit 24ee288b85d376c96746f1f0864bfb0344cf5b19)\n(cherry picked from commit 311cb2ade54812d3bec0c947d1453aad47c22c3a)\n""}]",0,731727,8ac5b132e3b2ac4e71d2671de5751e349312dcaf,13,4,2,19138,,,0,"Add cache prefetcher interval configuration option

As new periodic job added in glance which will run as per
interval set using 'cache_prefetcher_interval' configuration
option and fetch images which are queued for caching in cache
directory.

Enabled 'cache_prefetcher_interval' configuration option
in glance-api.conf.

Conflicts:
        manifests/api.pp
        spec/classes/glance_api_spec.rb

Change-Id: I8ece28a9b0c6f104130d817490e9ea4c2b4e7808
(cherry picked from commit 24ee288b85d376c96746f1f0864bfb0344cf5b19)
(cherry picked from commit 311cb2ade54812d3bec0c947d1453aad47c22c3a)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/27/731727/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/glance_api_spec.rb', 'releasenotes/notes/add_cache_prefetcher_interval-e77d98c5235e91bc.yaml']",3,0a1afdf58aaf6355ac3056656ec2c4b1a292d869,,"--- features: - | Added cache_prefetcher_interval in glance-api.conf, using which the periodic job will run as per the set interval and prefetch images into cache. ",,102,88
openstack%2Fcharm-vault~master~I1900b942ed6a409252b35c539c70226c32ed53e3,openstack/charm-vault,master,I1900b942ed6a409252b35c539c70226c32ed53e3,Add CN and L options to get-csr action,MERGED,2020-06-10 20:42:13.000000000,2020-06-11 15:26:39.000000000,2020-06-11 15:26:39.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 25011}]","[{'number': 1, 'created': '2020-06-10 20:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/381eaf83cacca5c620b98da765a7e1b4c7b8f1cc', 'message': 'Add CN and L options to get-csr action\n\nAdd the common_name and locality option(s) for when creating\nnew Certificate Signing Requests\n\nLP Related-Bug #1882599\n\nChange-Id: I1900b942ed6a409252b35c539c70226c32ed53e3\n'}, {'number': 2, 'created': '2020-06-10 20:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/746bbb8f544acec91838eed4b347de39cc26a9e3', 'message': 'Add CN and L options to get-csr action\n\nAdd the common_name and locality option(s) for when creating\nnew Certificate Signing Requests.\n\nLP Related-Bug #1882599\n\nChange-Id: I1900b942ed6a409252b35c539c70226c32ed53e3\n'}, {'number': 3, 'created': '2020-06-10 20:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/7b69d9967731bf58506198d17bd26611b9304085', 'message': 'Add CN and L options to get-csr action\n\nAdd the common_name and locality option(s) for when creating\nnew Certificate Signing Requests.\n\nCloses-Bug: 1882599\n\nChange-Id: I1900b942ed6a409252b35c539c70226c32ed53e3\n'}, {'number': 4, 'created': '2020-06-10 21:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/6f6887d6f4d5595eeefff3a1b871202dcce0b19f', 'message': 'Add CN and L options to get-csr action\n\nAdd the common_name and locality option(s) for when creating\nnew Certificate Signing Requests.\n\nCloses-Bug: 1882599\n\nChange-Id: I1900b942ed6a409252b35c539c70226c32ed53e3\n'}, {'number': 5, 'created': '2020-06-10 21:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/fcd8799ed65c696c61b4a0453b2dfab04cba47c0', 'message': 'Add CN and L options to get-csr action\n\nAdd the common_name and locality option(s) for when creating\nnew Certificate Signing Requests.\n\nCloses-Bug: 1882599\n\nChange-Id: I1900b942ed6a409252b35c539c70226c32ed53e3\n'}, {'number': 6, 'created': '2020-06-10 21:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/7a43e7c22c7f16fb59e3ed3f51fb5276f6322bb1', 'message': 'Add CN and L options to get-csr action\n\nAdd the common_name and locality option(s) for when creating\nnew Certificate Signing Requests.\n\nCloses-Bug: 1882599\n\nChange-Id: I1900b942ed6a409252b35c539c70226c32ed53e3\n'}, {'number': 7, 'created': '2020-06-10 21:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/b3b458902b81bdea08670a0d9f380fc1b2b4d05b', 'message': 'Add CN and L options to get-csr action\n\nAdd the common_name and locality option(s) for when creating\nnew Certificate Signing Requests.\n\nCloses-Bug: 1882599\n\nChange-Id: I1900b942ed6a409252b35c539c70226c32ed53e3\n'}, {'number': 8, 'created': '2020-06-10 21:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/47aaa61b94fd619e2be32ace40f484c7b410d835', 'message': 'Add CN and L options to get-csr action\n\nAdd the common_name and locality option(s) for when creating\nnew Certificate Signing Requests.\n\nCloses-Bug: 1882599\n\nChange-Id: I1900b942ed6a409252b35c539c70226c32ed53e3\n'}, {'number': 9, 'created': '2020-06-10 21:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/ac8bd3f860e0af1c2379aa0a855e40ba84d00961', 'message': 'Add CN and L options to get-csr action\n\nAdd the common_name and locality option(s) for when creating\nnew Certificate Signing Requests.\n\nCloses-Bug: 1882599\n\nChange-Id: I1900b942ed6a409252b35c539c70226c32ed53e3\n'}, {'number': 10, 'created': '2020-06-10 21:50:31.000000000', 'files': ['src/actions.yaml', 'src/lib/charm/vault_pki.py', 'src/actions/actions.py', 'unit_tests/test_lib_charm_vault_pki.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/7916e44f1c1c723aa52678ffd85374f82f119f3f', 'message': 'Add CN and L options to get-csr action\n\nAdd the common_name and locality option(s) for when creating\nnew Certificate Signing Requests.\n\nCloses-Bug: 1882599\n\nChange-Id: I1900b942ed6a409252b35c539c70226c32ed53e3\n'}]",11,734916,7916e44f1c1c723aa52678ffd85374f82f119f3f,29,4,10,27676,,,0,"Add CN and L options to get-csr action

Add the common_name and locality option(s) for when creating
new Certificate Signing Requests.

Closes-Bug: 1882599

Change-Id: I1900b942ed6a409252b35c539c70226c32ed53e3
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/16/734916/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/actions.yaml', 'src/lib/charm/vault_pki.py', 'src/actions/actions.py', 'unit_tests/test_lib_charm_vault_pki.py']",4,381eaf83cacca5c620b98da765a7e1b4c7b8f1cc,bug/1882599," common_name='My Name', locality='here', common_name='My Name', locality='here',",,23,2
openstack%2Fnetworking-bagpipe~master~Icf67bcd299c6ccb96e29b5603e01ebf53c035041,openstack/networking-bagpipe,master,Icf67bcd299c6ccb96e29b5603e01ebf53c035041,Drop py37 testing,MERGED,2020-06-05 08:55:44.000000000,2020-06-11 15:23:07.000000000,2020-06-11 15:17:24.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9531}, {'_account_id': 10237}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 27654}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-05 08:55:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/736e238ff0d9cd274a2d99c4db2117058850539b', 'message': 'Drop py37 testing\n\nVictoria template only tests py36 and py38, not py37 - remove extra py37\ntesting.\n\nChange-Id: Icf67bcd299c6ccb96e29b5603e01ebf53c035041\n'}]",0,733779,736e238ff0d9cd274a2d99c4db2117058850539b,10,18,1,6547,,,0,"Drop py37 testing

Victoria template only tests py36 and py38, not py37 - remove extra py37
testing.

Change-Id: Icf67bcd299c6ccb96e29b5603e01ebf53c035041
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/79/733779/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,736e238ff0d9cd274a2d99c4db2117058850539b,no-py37,, - openstack-tox-py37: required-projects: - openstack/horizon - openstack/networking-bgpvpn - openstack/networking-sfc - openstack-tox-py37: required-projects: - openstack/horizon - openstack/networking-bgpvpn - openstack/networking-sfc,0,10
openstack%2Fopenstack-ansible~stable%2Fstein~I31cf92c0c7bc789fa482e3c58be019768e64e900,openstack/openstack-ansible,stable/stein,I31cf92c0c7bc789fa482e3c58be019768e64e900,Bump os_tempest to include fix for pinning telemetry plugin to py2.7 version,MERGED,2020-06-11 06:56:14.000000000,2020-06-11 15:20:49.000000000,2020-06-11 15:15:51.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-11 06:56:14.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/33ae718e8204042f1290d84d838ce127e5c48af4', 'message': 'Bump os_tempest to include fix for pinning telemetry plugin to py2.7 version\n\nChange-Id: I31cf92c0c7bc789fa482e3c58be019768e64e900\n'}]",0,735065,33ae718e8204042f1290d84d838ce127e5c48af4,8,3,1,25023,,,0,"Bump os_tempest to include fix for pinning telemetry plugin to py2.7 version

Change-Id: I31cf92c0c7bc789fa482e3c58be019768e64e900
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/65/735065/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,33ae718e8204042f1290d84d838ce127e5c48af4,, version: cfbfd94b3df42470f5a8aa85f9644a261f2b3bed, version: ece5c2e410c6e2d03bdc8ad2917dd6ebd7823c53,1,1
openstack%2Ftripleo-heat-templates~master~I2d68da9100ec0beb857498366973d910bca75cef,openstack/tripleo-heat-templates,master,I2d68da9100ec0beb857498366973d910bca75cef,Allow triggering ceph-ansible filestore-to-bluestore with ceph_fstobs tag,MERGED,2020-06-05 11:41:22.000000000,2020-06-11 15:10:10.000000000,2020-06-11 14:25:44.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 11166}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-06-05 11:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c262ef352a1b82949a25dfea7d85cb25ab923e11', 'message': 'Allow triggering ceph-ansible on ceph_fstobs tag\n\nThis is useful to launch the filestore to bluestore migration playbook [1]\non a ""stable"" overcloud using a command like:\n\n$ openstack overcloud external-upgrade run --tags ceph_fstobs \\\n        -e ceph_ansible_playbooks_param=/path/to/playbook.yml\n        | tee oc-fstobs.log\n\n1. https://github.com/ceph/ceph-ansible/blob/master/infrastructure-playbooks/filestore-to-bluestore.yml\n\nChange-Id: I2d68da9100ec0beb857498366973d910bca75cef\n'}, {'number': 2, 'created': '2020-06-05 12:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1928302907452ad6f614af070fa1a8c5169f9adf', 'message': 'Allow triggering ceph-ansible filestore-to-bluestore with ceph_fstobs tag\n\nThis is useful to launch the filestore to bluestore migration playbook [1]\non a ""stable"" overcloud using a command like:\n\n$ openstack overcloud external-upgrade run --tags ceph_fstobs \\\n        | tee oc-fstobs.log\n\n1. https://github.com/ceph/ceph-ansible/blob/master/infrastructure-playbooks/filestore-to-bluestore.yml\n\nChange-Id: I2d68da9100ec0beb857498366973d910bca75cef\n'}, {'number': 3, 'created': '2020-06-05 20:37:06.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1fdfe54ccf2a17fa74fa45c8c93830772c1fcd2c', 'message': 'Allow triggering ceph-ansible filestore-to-bluestore with ceph_fstobs tag\n\nThis is useful to launch the filestore to bluestore migration playbook [1]\non a ""stable"" overcloud using a command like:\n\n$ openstack overcloud external-upgrade run --tags ceph_fstobs \\\n        -e ceph_ansible_limit=##nodeX### \\\n        | tee oc-fstobs.log\n\n1. https://github.com/ceph/ceph-ansible/blob/master/infrastructure-playbooks/filestore-to-bluestore.yml\n\nChange-Id: I2d68da9100ec0beb857498366973d910bca75cef\n'}]",7,733812,1fdfe54ccf2a17fa74fa45c8c93830772c1fcd2c,35,7,3,6796,,,0,"Allow triggering ceph-ansible filestore-to-bluestore with ceph_fstobs tag

This is useful to launch the filestore to bluestore migration playbook [1]
on a ""stable"" overcloud using a command like:

$ openstack overcloud external-upgrade run --tags ceph_fstobs \
        -e ceph_ansible_limit=##nodeX### \
        | tee oc-fstobs.log

1. https://github.com/ceph/ceph-ansible/blob/master/infrastructure-playbooks/filestore-to-bluestore.yml

Change-Id: I2d68da9100ec0beb857498366973d910bca75cef
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/733812/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,c262ef352a1b82949a25dfea7d85cb25ab923e11,, - ceph_fstobs - ceph_fstobs,,2,0
openstack%2Fcharm-manila-generic~master~Ia3b01d732d1813bb94a27086e10539c0b5499a49,openstack/charm-manila-generic,master,Ia3b01d732d1813bb94a27086e10539c0b5499a49,Remove inherited configuration options invalid for charm,MERGED,2020-05-16 21:35:05.000000000,2020-06-11 15:09:09.000000000,2020-06-11 15:09:09.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-05-16 21:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/721efcb1b883d8e02e6e61bd693d5447618d005a', 'message': 'Remove inherited configuration options invalid for charm\n\nChange-Id: Ia3b01d732d1813bb94a27086e10539c0b5499a49\nCloses-Bug: #1879088\n'}, {'number': 2, 'created': '2020-06-11 13:01:48.000000000', 'files': ['src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/9bf02c7ff897a2f96192c56843e6356846fbddaf', 'message': 'Remove inherited configuration options invalid for charm\n\nChange-Id: Ia3b01d732d1813bb94a27086e10539c0b5499a49\nCloses-Bug: #1879088\n'}]",0,728661,9bf02c7ff897a2f96192c56843e6356846fbddaf,18,5,2,13686,,,0,"Remove inherited configuration options invalid for charm

Change-Id: Ia3b01d732d1813bb94a27086e10539c0b5499a49
Closes-Bug: #1879088
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/61/728661/2 && git format-patch -1 --stdout FETCH_HEAD,['src/layer.yaml'],1,721efcb1b883d8e02e6e61bd693d5447618d005a,bug/1879088,config: deletes: - use-internal-endpoints - use-syslog - ssl_ca - ssl_cert - ssl_key,,7,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Iba141f6f563063cfefee2cef3bccb8ae96e156ac,openstack/tripleo-heat-templates,stable/queens,Iba141f6f563063cfefee2cef3bccb8ae96e156ac,"Revert ""Enable configuration of notifier publishers""",ABANDONED,2020-06-11 15:02:24.000000000,2020-06-11 15:05:44.000000000,,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30357}]","[{'number': 1, 'created': '2020-06-11 15:02:24.000000000', 'files': ['ci/environments/scenario001-multinode-containers.yaml', 'puppet/services/ceilometer-base.yaml', 'puppet/services/ceilometer-agent-notification.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c6965652eede6db9fa93f215e9afe625643e1f96', 'message': 'Revert ""Enable configuration of notifier publishers""\n\nThis reverts commit c3815a6c138a9fdbba5117ddbba7a9b847b987c2.\n\nChange-Id: Iba141f6f563063cfefee2cef3bccb8ae96e156ac\n'}]",0,735165,c6965652eede6db9fa93f215e9afe625643e1f96,4,6,1,9592,,,0,"Revert ""Enable configuration of notifier publishers""

This reverts commit c3815a6c138a9fdbba5117ddbba7a9b847b987c2.

Change-Id: Iba141f6f563063cfefee2cef3bccb8ae96e156ac
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/735165/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario001-multinode-containers.yaml', 'puppet/services/ceilometer-base.yaml', 'puppet/services/ceilometer-agent-notification.yaml']",3,c6965652eede6db9fa93f215e9afe625643e1f96,stf-queens," get_attr: [CeilometerServiceBase, role_data, config_settings]"," MetricsQdrPort: default: '5666' description: Service name or port number on which the qdrouterd will accept connections. This argument must be string, even if the numeric form is used. type: string CeilometerQdrPublishEvents: default: false description: Whether to send events to MetricsQdr service. type: boolean CeilometerQdrPublishMetrics: default: false description: Whether to send telemetry data to MetricsQdr service. type: boolean CeilometerQdrEventsConfig: default: driver: amqp topic: ceilometer/event.sample description: Configuration for notifier publisher for events. type: json CeilometerQdrMetricsConfig: default: driver: amqp topic: ceilometer/metering.sample description: Configuration for notifier publisher for metrics. type: json ManageEventPipeline: default: true description: Whether to manage event_pipeline.yaml. type: boolean EventPipelinePublishers: default: ['gnocchi://?filter_project=service&archive_policy=low', 'panko://'] description: > A list of publishers to put in event_pipeline.yaml. When the collector is used, override this with notifier:// publisher. If zaqar is enabled, you can also publish to a zaqar queue by including ""zaqar://?queue=queue_name"" in this list. Set ManageEventPipeline to true for override to take effect. type: comma_delimited_list ManagePipeline: default: false description: Whether to manage pipeline.yaml. type: boolean PipelinePublishers: default: [] description: > A list of publishers to put in pipeline.yaml. When the collector is used, override this with notifier:// publisher. Set ManagePipeline to true for override to take effect. type: comma_delimited_listconditions: ceilometer_qdr_publish: or: - {equals: [{get_param: CeilometerQdrPublishEvents}, true]} - {equals: [{get_param: CeilometerQdrPublishMetrics}, true]} map_merge: - get_attr: [CeilometerServiceBase, role_data, config_settings] - ceilometer::agent::notification::manage_event_pipeline: {get_param: ManageEventPipeline} ceilometer::agent::notification::manage_pipeline: {get_param: ManagePipeline} tripleo::profile::base::ceilometer::agent::notification::notifier_enabled: {get_param: CeilometerQdrPublishMetrics} tripleo::profile::base::ceilometer::agent::notification::notifier_events_enabled: {get_param: CeilometerQdrPublishEvents} tripleo::profile::base::ceilometer::agent::notification::pipeline_publishers: {get_param: PipelinePublishers} tripleo::profile::base::ceilometer::agent::notification::event_pipeline_publishers: {get_param: EventPipelinePublishers} tripleo::profile::base::ceilometer::agent::notification::notifier_params: {get_param: CeilometerQdrMetricsConfig} tripleo::profile::base::ceilometer::agent::notification::notifier_event_params: {get_param: CeilometerQdrEventsConfig} - if: #Ceilometer connection to qdr - ceilometer_qdr_publish - tripleo::profile::base::ceilometer::agent::notification::notifier_host_addr: str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, MetricsQdrNetwork]} tripleo::profile::base::ceilometer::agent::notification::notifier_host_port: {get_param: MetricsQdrPort} - {}",49,82
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ieb3d97c3e2c3190607902227980e1ef4a1de2c8e,openstack/tripleo-heat-templates,stable/queens,Ieb3d97c3e2c3190607902227980e1ef4a1de2c8e,Enable configuration of notifier publishers,MERGED,2020-05-15 11:06:07.000000000,2020-06-11 15:02:24.000000000,2020-05-30 05:03:00.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 30357}]","[{'number': 1, 'created': '2020-05-15 11:06:07.000000000', 'files': ['ci/environments/scenario001-multinode-containers.yaml', 'puppet/services/ceilometer-base.yaml', 'puppet/services/ceilometer-agent-notification.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c3815a6c138a9fdbba5117ddbba7a9b847b987c2', 'message': 'Enable configuration of notifier publishers\n\nThis patch:\n  - moves Ceilometer notification agent to proper composable service\n  - Adds possibility to configure query parameters for notifier publishers\n\nChange-Id: Ieb3d97c3e2c3190607902227980e1ef4a1de2c8e\nDepends-On: I5cd0b6e99f5ffcc495225c61f0773240d90e7930\n(cherry picked from commit b2162a2e4526448d43f07fc31485cfb4c30e86c1)\n'}]",1,728417,c3815a6c138a9fdbba5117ddbba7a9b847b987c2,12,4,1,5241,,,0,"Enable configuration of notifier publishers

This patch:
  - moves Ceilometer notification agent to proper composable service
  - Adds possibility to configure query parameters for notifier publishers

Change-Id: Ieb3d97c3e2c3190607902227980e1ef4a1de2c8e
Depends-On: I5cd0b6e99f5ffcc495225c61f0773240d90e7930
(cherry picked from commit b2162a2e4526448d43f07fc31485cfb4c30e86c1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/728417/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario001-multinode-containers.yaml', 'puppet/services/ceilometer-base.yaml', 'puppet/services/ceilometer-agent-notification.yaml']",3,c3815a6c138a9fdbba5117ddbba7a9b847b987c2,stf-queens," MetricsQdrPort: default: '5666' description: Service name or port number on which the qdrouterd will accept connections. This argument must be string, even if the numeric form is used. type: string CeilometerQdrPublishEvents: default: false description: Whether to send events to MetricsQdr service. type: boolean CeilometerQdrPublishMetrics: default: false description: Whether to send telemetry data to MetricsQdr service. type: boolean CeilometerQdrEventsConfig: default: driver: amqp topic: ceilometer/event.sample description: Configuration for notifier publisher for events. type: json CeilometerQdrMetricsConfig: default: driver: amqp topic: ceilometer/metering.sample description: Configuration for notifier publisher for metrics. type: json ManageEventPipeline: default: true description: Whether to manage event_pipeline.yaml. type: boolean EventPipelinePublishers: default: ['gnocchi://?filter_project=service&archive_policy=low', 'panko://'] description: > A list of publishers to put in event_pipeline.yaml. When the collector is used, override this with notifier:// publisher. If zaqar is enabled, you can also publish to a zaqar queue by including ""zaqar://?queue=queue_name"" in this list. Set ManageEventPipeline to true for override to take effect. type: comma_delimited_list ManagePipeline: default: false description: Whether to manage pipeline.yaml. type: boolean PipelinePublishers: default: [] description: > A list of publishers to put in pipeline.yaml. When the collector is used, override this with notifier:// publisher. Set ManagePipeline to true for override to take effect. type: comma_delimited_listconditions: ceilometer_qdr_publish: or: - {equals: [{get_param: CeilometerQdrPublishEvents}, true]} - {equals: [{get_param: CeilometerQdrPublishMetrics}, true]} map_merge: - get_attr: [CeilometerServiceBase, role_data, config_settings] - ceilometer::agent::notification::manage_event_pipeline: {get_param: ManageEventPipeline} ceilometer::agent::notification::manage_pipeline: {get_param: ManagePipeline} tripleo::profile::base::ceilometer::agent::notification::notifier_enabled: {get_param: CeilometerQdrPublishMetrics} tripleo::profile::base::ceilometer::agent::notification::notifier_events_enabled: {get_param: CeilometerQdrPublishEvents} tripleo::profile::base::ceilometer::agent::notification::pipeline_publishers: {get_param: PipelinePublishers} tripleo::profile::base::ceilometer::agent::notification::event_pipeline_publishers: {get_param: EventPipelinePublishers} tripleo::profile::base::ceilometer::agent::notification::notifier_params: {get_param: CeilometerQdrMetricsConfig} tripleo::profile::base::ceilometer::agent::notification::notifier_event_params: {get_param: CeilometerQdrEventsConfig} - if: #Ceilometer connection to qdr - ceilometer_qdr_publish - tripleo::profile::base::ceilometer::agent::notification::notifier_host_addr: str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, MetricsQdrNetwork]} tripleo::profile::base::ceilometer::agent::notification::notifier_host_port: {get_param: MetricsQdrPort} - {}"," get_attr: [CeilometerServiceBase, role_data, config_settings]",82,49
openstack%2Fec2-api~master~Iea74614fd8b93325bfa0da0da3ab1063ba799762,openstack/ec2-api,master,Iea74614fd8b93325bfa0da0da3ab1063ba799762,drop mock from lower-constraints,MERGED,2020-06-08 22:09:01.000000000,2020-06-11 14:57:35.000000000,2020-06-11 14:55:25.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-08 22:09:01.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/8de17cfe6ff63ddc7761103b61dec16e1d0a88a2', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: Iea74614fd8b93325bfa0da0da3ab1063ba799762\n""}]",0,734333,8de17cfe6ff63ddc7761103b61dec16e1d0a88a2,11,3,1,28522,,,0,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: Iea74614fd8b93325bfa0da0da3ab1063ba799762
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/33/734333/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,8de17cfe6ff63ddc7761103b61dec16e1d0a88a2,drop_mock,,mock==2.0.0,0,1
openstack%2Fcastellan~master~I1c0d00675a479cf05d92cec7b69fd720a88023d3,openstack/castellan,master,I1c0d00675a479cf05d92cec7b69fd720a88023d3,"Removes context ""validation"".",MERGED,2020-02-28 11:19:55.000000000,2020-06-11 14:55:50.000000000,2020-03-30 16:17:18.000000000,"[{'_account_id': 6928}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-28 11:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/337a5906c869ab17572e9dc7766a5969143fece8', 'message': 'Removes context ""validation"".\n\nThe Vault backend doesn\'t really care about context. Even an empty\nstring would suffice these checks.\n\nChange-Id: I1c0d00675a479cf05d92cec7b69fd720a88023d3\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 2, 'created': '2020-02-28 14:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/71fcad247bceec7ccdb72dee2f95fa29d3617d99', 'message': 'Removes context ""validation"".\n\nThe Vault backend doesn\'t really care about context. Even an empty\nstring would suffice these checks.\n\nChange-Id: I1c0d00675a479cf05d92cec7b69fd720a88023d3\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 3, 'created': '2020-02-28 15:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/2b55625a8480cd5d0ee2ff90cc78472d2a013e5e', 'message': 'Removes context ""validation"".\n\nThe Vault backend doesn\'t really care about context. Even an empty\nstring would suffice these checks.\n\nChange-Id: I1c0d00675a479cf05d92cec7b69fd720a88023d3\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 4, 'created': '2020-03-09 15:07:21.000000000', 'files': ['castellan/key_manager/vault_key_manager.py', 'castellan/tests/functional/key_manager/test_vault_key_manager.py', 'castellan/tests/functional/key_manager/test_key_manager.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/8e88919f02781d699a73e815cf8f7be72d4db352', 'message': 'Removes context ""validation"".\n\nThe Vault backend doesn\'t really care about context. Even an empty\nstring would suffice these checks.\n\nChange-Id: I1c0d00675a479cf05d92cec7b69fd720a88023d3\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",1,710439,8e88919f02781d699a73e815cf8f7be72d4db352,21,8,4,27954,,,0,"Removes context ""validation"".

The Vault backend doesn't really care about context. Even an empty
string would suffice these checks.

Change-Id: I1c0d00675a479cf05d92cec7b69fd720a88023d3
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/castellan refs/changes/39/710439/2 && git format-patch -1 --stdout FETCH_HEAD,['castellan/key_manager/vault_key_manager.py'],1,337a5906c869ab17572e9dc7766a5969143fece8,hvac,," # Confirm context is provided, if not raise forbidden if not context: msg = _(""User is not authorized to use key manager."") raise exception.Forbidden(msg) # Confirm context is provided, if not raise forbidden if not context: msg = _(""User is not authorized to use key manager."") raise exception.Forbidden(msg) # Confirm context is provided, if not raise forbidden if not context: msg = _(""User is not authorized to use key manager."") raise exception.Forbidden(msg) # Confirm context is provided, if not raise forbidden if not context: msg = _(""User is not authorized to use key manager."") raise exception.Forbidden(msg) # Confirm context is provided, if not raise forbidden if not context: msg = _(""User is not authorized to use key manager."") raise exception.Forbidden(msg) # Confirm context is provided, if not raise forbidden if not context: msg = _(""User is not authorized to use key manager."") raise exception.Forbidden(msg) ",0,30
openstack%2Ftripleo-heat-templates~master~Ie3bc270fd06c32f9bad05447925640e98bdf32a4,openstack/tripleo-heat-templates,master,Ie3bc270fd06c32f9bad05447925640e98bdf32a4,Only enable leapp tasks when distribution is correct,MERGED,2020-06-10 12:47:42.000000000,2020-06-11 14:54:31.000000000,2020-06-11 14:54:31.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-10 12:47:42.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/13326b564f3f2d7487b0b29701a9457e17ac796e', 'message': ""Only enable leapp tasks when distribution is correct\n\nTo enable idempotence in the leapp process, even if the tasks\ncomplete a previous partial run, we add another condition over\nand above the 'UpgradeLeappEnabled' heat parameter which checks\nthat the distribution is RedHat (CentOS does not support the\nleapp tool) and distribution version is 7 (if it's 8 then the\nleapp process is complete already for this host).\n\nNOTE: This patch was originally merged like [0], due to the\ndependency between pacemaker managed services and upgrade_\nleapp_enabled it had to be reverted in [1]. A fix was submitted\nto remove that dependency in [2], so merging it back adapted.\n\n[0] - Ia58e2f7853056d8a4f0a54f35d91743bf0d9f2ed\n[1] - I95fa9f263e89e0ed99bc42e3966acbe5973c4cc9\n[2] - Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57\n\nCo-Authored-By: Jesse Pretorius <jesse@odyssey4.me>\n\nChange-Id: Ie3bc270fd06c32f9bad05447925640e98bdf32a4\n""}]",0,734813,13326b564f3f2d7487b0b29701a9457e17ac796e,9,7,1,26343,,,0,"Only enable leapp tasks when distribution is correct

To enable idempotence in the leapp process, even if the tasks
complete a previous partial run, we add another condition over
and above the 'UpgradeLeappEnabled' heat parameter which checks
that the distribution is RedHat (CentOS does not support the
leapp tool) and distribution version is 7 (if it's 8 then the
leapp process is complete already for this host).

NOTE: This patch was originally merged like [0], due to the
dependency between pacemaker managed services and upgrade_
leapp_enabled it had to be reverted in [1]. A fix was submitted
to remove that dependency in [2], so merging it back adapted.

[0] - Ia58e2f7853056d8a4f0a54f35d91743bf0d9f2ed
[1] - I95fa9f263e89e0ed99bc42e3966acbe5973c4cc9
[2] - Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57

Co-Authored-By: Jesse Pretorius <jesse@odyssey4.me>

Change-Id: Ie3bc270fd06c32f9bad05447925640e98bdf32a4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/734813/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,13326b564f3f2d7487b0b29701a9457e17ac796e,ffwd-upgrade2," - name: Gather missing facts setup: gather_subset: ""distribution"" when: >- ansible_facts['distribution'] is not defined or ansible_facts['distribution_major_version'] is not defined tags: - always - name: Set leapp facts set_fact: upgrade_leapp_enabled: >- {{ _upgradeLeappEnabled | bool and ansible_facts['distribution'] == 'RedHat' and ansible_facts['distribution_major_version'] is version('7', '==') }} vars: _upgradeLeappEnabled: {get_param: UpgradeLeappEnabled} tags: - always", - name: set leapp facts tags: always set_fact: upgrade_leapp_enabled: {get_param: UpgradeLeappEnabled},18,3
openstack%2Ftripleo-ci~master~Icf904489ecaed58eceb8a5b58b60adba8acf9191,openstack/tripleo-ci,master,Icf904489ecaed58eceb8a5b58b60adba8acf9191,non-voting job for tripleo-build-containers-ubi-8,MERGED,2020-04-28 22:51:41.000000000,2020-06-11 14:53:15.000000000,2020-06-11 08:08:55.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-28 22:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d693a46b171a6d525c4c9794b8d0f8a5a8aefbba', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/722486\nDepends-On: https://review.opendev.org/#/c/724147\nDepends-On: https://review.opendev.org/#/c/722557\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\n'}, {'number': 2, 'created': '2020-04-28 22:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0f037674ebbc33dce8235e0d602b3aa9cc10a1b0', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/722486\nDepends-On: https://review.opendev.org/#/c/724147\nDepends-On: https://review.opendev.org/#/c/722557\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\n'}, {'number': 3, 'created': '2020-04-28 22:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d608510744f8fd23f7885e66a69db6a83214d24c', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/722486\nDepends-On: https://review.opendev.org/#/c/724147\nDepends-On: https://review.opendev.org/#/c/722557\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\n'}, {'number': 4, 'created': '2020-04-28 22:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1d07013a10103eaca37f658c76eff8eebb2d5617', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/722486\nDepends-On: https://review.opendev.org/#/c/724147\nDepends-On: https://review.opendev.org/#/c/722557\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\n'}, {'number': 5, 'created': '2020-04-28 23:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/daa7781590fc189660ff4de8d82c0bf54f54d86a', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/722486\nDepends-On: https://review.opendev.org/#/c/724147\nDepends-On: https://review.opendev.org/#/c/722557\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\n'}, {'number': 6, 'created': '2020-04-29 00:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/96fb4a77a3d92dad55309119692297428a561d47', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/722486\nDepends-On: https://review.opendev.org/#/c/724147\nDepends-On: https://review.opendev.org/#/c/722557\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\n'}, {'number': 7, 'created': '2020-04-29 00:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1e5a38c9e14c36596c3c686e788e37be7f9e048c', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/722486\nDepends-On: https://review.opendev.org/#/c/724147\nDepends-On: https://review.opendev.org/#/c/722557\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\n'}, {'number': 8, 'created': '2020-04-29 02:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b2664d666ba0f0ed4358887c3af01206897a800f', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/722486\nDepends-On: https://review.opendev.org/#/c/724147\nDepends-On: https://review.opendev.org/#/c/722557\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\n'}, {'number': 9, 'created': '2020-04-30 01:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2d66f1cc7864e8409abbfd10f0be1f804104adc9', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/722486\nDepends-On: https://review.opendev.org/#/c/724147\nDepends-On: https://review.opendev.org/#/c/722557\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\n'}, {'number': 10, 'created': '2020-05-07 15:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6614f5c34daf10266873379ef2d7ec49389e5742', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/722486\nDepends-On: https://review.opendev.org/#/c/724147\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\n'}, {'number': 11, 'created': '2020-05-07 18:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d3e95b6cd03c37a87fd8401796d40a58fe3a3fd9', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/722486\nDepends-On: https://review.opendev.org/#/c/724147\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\n'}, {'number': 12, 'created': '2020-05-07 19:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fe45aee9d1cb0226ef5f7637f6a4744dd92f452a', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/726226\nDepends-On: https://review.opendev.org/#/c/724147\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\n'}, {'number': 13, 'created': '2020-05-07 21:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ae4397791a237b6cf16a0abf164616f1647ab9c7', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/726226\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\n'}, {'number': 14, 'created': '2020-05-07 21:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3a73f85668b5351e3db2db6d6d30a5a7e015ee57', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/726226\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\n'}, {'number': 15, 'created': '2020-05-07 23:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5568c146d7b1773d70e1a7387f2a75c8fbffa435', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/726226\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\n'}, {'number': 16, 'created': '2020-05-08 04:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f5513fb5c3aa564a63b517d719af5d28df72ff59', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/726226\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\n'}, {'number': 17, 'created': '2020-05-08 04:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/835da82cb6bf86a213904a0fd916bdc0c4f48e40', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/726226\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\n'}, {'number': 18, 'created': '2020-05-11 15:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e3fbdfc36003e9529bf3223487b6130d8fb8b6de', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/726226\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 19, 'created': '2020-05-12 15:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f2bd0dec868a03ef26bdc6963b5030c803dd268e', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/726226\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\n'}, {'number': 20, 'created': '2020-05-13 00:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a7e3c6b3b4fbb07a89fd2452165084d49c2f58b5', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/726226\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 21, 'created': '2020-05-13 13:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/43fd05afdf614d27a6894ba99832a60dd1c92746', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/726226\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 22, 'created': '2020-05-13 21:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7cb6d94d2e83fb439d89e22828e6807fc2f64f92', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/726226\nDepends-On: https://review.opendev.org/724147\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 23, 'created': '2020-05-13 21:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c7579b215ca7107a86fbbd43a820d7a72e81de3c', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/726226\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 24, 'created': '2020-05-14 12:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/44b75b45e5ae29021a22c972c8778c065e510a44', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/724147\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 25, 'created': '2020-05-14 14:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/499c9b4d022bc5800c03231066d7bc81c92aec3a', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/724147\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 26, 'created': '2020-05-14 16:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e13a94317f721e17373eb0d0f4955145f9ad068c', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/724147\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 27, 'created': '2020-05-14 16:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f2303bfd92559cc113203a6c77bfe2bed55bfd16', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/724147\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 28, 'created': '2020-05-14 16:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/05f5a5cb19395a925e06068a04bde285eb2c69ee', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/724147\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 29, 'created': '2020-05-14 17:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/58f87dc83d04787cfa6809e7ebc533296a85e33a', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/724147\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 30, 'created': '2020-05-14 19:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f2429a90dcd74102fbb8ca378be515c29206f92b', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/728273\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\n'}, {'number': 31, 'created': '2020-05-15 17:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/047cbe90185ca2bf5c871ac9a2d4c8ffc83aa663', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 32, 'created': '2020-05-19 00:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/db524d3b778e396c29dc493c7aced885a4b4ea2c', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 33, 'created': '2020-05-19 01:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b95594a179896b4f05430b1723b8e0eb6e01489e', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 34, 'created': '2020-05-19 13:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ad107fd3a0c5bf3a2b759eadd806d396e4ce2472', 'message': 'WIP - non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 35, 'created': '2020-05-19 17:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/25a5adc94dc03a7108564a37d4bf0f3ab397559f', 'message': 'non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 36, 'created': '2020-05-19 18:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/559a0c4ff83b4fd3c79faefbeae7bf340c11a764', 'message': 'non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 37, 'created': '2020-05-19 20:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/66ab27e62eb4a68ab4d96f91ff0a8003c2a843f6', 'message': 'non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 38, 'created': '2020-05-19 20:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f9ffd5d919ac5c765252b9b7af0b7372695ad83e', 'message': 'non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 39, 'created': '2020-05-27 14:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/412952cf465059d122e404110e8a08b782997e32', 'message': 'non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 40, 'created': '2020-06-03 20:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0dafe551e7fcd76305646d6c7a3b4964c50038f7', 'message': 'non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 41, 'created': '2020-06-03 21:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/febc769caa8ca22880ad45a88acd55adc06d44db', 'message': 'non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 42, 'created': '2020-06-04 03:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1fb5d72724b811571a3b4bb0169b31f1ec5b168d', 'message': 'non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 43, 'created': '2020-06-04 03:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/10cad0dcb7f151ad93bbe65a1d6d1033bb48444e', 'message': 'non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 44, 'created': '2020-06-04 03:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d41da6d3fbed55ddfa23f66a30fea6b5147f235c', 'message': 'non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 45, 'created': '2020-06-04 03:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8bfc5eae3602a5bab5ebc2a037d173137f8556a1', 'message': 'non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 46, 'created': '2020-06-04 12:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/02278af2343e703771559fc3a0b381271622b186', 'message': 'non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 47, 'created': '2020-06-04 12:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0d807c125826fe77ff0dad254dabc6fce21db724', 'message': 'non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 48, 'created': '2020-06-04 13:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/419df401a49d9314ccc2b8b5b986a2367752e11b', 'message': 'non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 49, 'created': '2020-06-08 11:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6e2c8d7b19156cb20b60c1f8e3dba74edd7b9efc', 'message': 'non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 50, 'created': '2020-06-08 11:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2a749303860b83c2ca65fa8d3d5383ffcff4d320', 'message': 'non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 51, 'created': '2020-06-08 19:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bf4e68fe5365db9b89a8f4ad81a8af1e771756af', 'message': 'non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/733790\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 52, 'created': '2020-06-09 13:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b0c576b7cb927ebd7cebe90b4fa4e9f8660fef23', 'message': 'non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nDepends-On: https://review.opendev.org/#/c/733790\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 53, 'created': '2020-06-10 14:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bff205e0cbbdbc84a23b293ae7ac3e4deb871f5d', 'message': 'non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 54, 'created': '2020-06-10 14:13:51.000000000', 'files': ['zuul.d/build-containers.yaml', 'roles/tripleo-repos/tasks/main.yml', 'roles/build-containers/tasks/post.yaml', 'roles/build-containers/tasks/package_setup.yml', 'roles/build-containers/templates/build.sh.j2', 'zuul.d/layout.yaml', 'roles/build-containers/tasks/venv_setup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/db711241b9265d83b1a20afe04ba6b294eb3512d', 'message': 'non-voting job for tripleo-build-containers-ubi-8\n\nAdd a new job that will build tripleo container images without kolla.\n\nChange-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",4,724193,db711241b9265d83b1a20afe04ba6b294eb3512d,213,6,54,3153,,,0,"non-voting job for tripleo-build-containers-ubi-8

Add a new job that will build tripleo container images without kolla.

Change-Id: Icf904489ecaed58eceb8a5b58b60adba8acf9191
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/93/724193/6 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/build-containers.yaml', 'roles/build-containers/tasks/post.yaml', 'roles/build-containers/templates/build.sh.j2', 'zuul.d/layout.yaml']",4,d693a46b171a6d525c4c9794b8d0f8a5a8aefbba,images/new," #templates: #- tripleo-ci-build-containers-jobs #- tripleo-multinode-baremetal-full #- tripleo-multinode-branchful #- tripleo-multinode-container-full #- tripleo-multinode-experimental #- tripleo-standalone-scenarios-full #- tripleo-undercloud-jobs #- tripleo-periodic - tripleo-build-containers-ubi-8 #- tripleo-tox-molecule: # vars: # tox_environment: # PYTEST_REQPASS: 1 #- openstack-tox-py35: # success-url: ""tox/reports.html"" # failure-url: ""tox/reports.html"" # files: &py_files # - ^bindep.txt$ # - ^requirements.txt$ # - ^scripts/emit_releases_file/.*$ # - ^setup.cfg$ # - ^setup.py$ # - ^tox.ini$ # vars: # tox_environment: # PYTEST_REQPASS: 84 #- tripleo-buildimage-overcloud-full-centos-8: # files: &build_images_files # - ^playbooks/tripleo-buildimages/.*$ # - ^roles/oooci-build-images/.*$ # - zuul.d/layout.yaml # - zuul.d/build-image.yaml #- tripleo-buildimage-ironic-python-agent-centos-8: # files: *build_images_files #- tripleo-buildimage-overcloud-hardened-full-centos-8: # files: *build_images_files #- tripleo-buildimage-overcloud-full-centos-7-train: # files: *build_images_files #- tripleo-buildimage-overcloud-full-centos-7: # files: *build_images_files #- tripleo-buildimage-ironic-python-agent-centos-7: # files: *build_images_files #- tripleo-buildimage-overcloud-hardened-full-centos-7: # files: *build_images_files #- tripleo-ci-centos-7-scenario001-multinode-oooq-container: # files: # - ^playbooks/tripleo-ci/.*$ #- tripleo-ci-centos-7-scenario002-multinode-oooq-container: # files: # - ^playbooks/tripleo-ci/.*$ #- tripleo-ci-centos-7-scenario003-multinode-oooq-container: # files: # - ^playbooks/tripleo-ci/.*$ #- tripleo-ci-centos-7-scenario004-multinode-oooq-container: # files: # - ^playbooks/tripleo-ci/.*$ #- tripleo-ci-centos-7-scenario007-multinode-oooq-container: # files: # - ^playbooks/tripleo-ci/.*$ #- tripleo-ci-centos-8-scenario007-multinode-oooq-container: # files: # - ^playbooks/tripleo-ci/.*$ #- tripleo-ci-centos-7-standalone-upgrade-stein: # branches: stable/train #- tripleo-ci-centos-7-standalone-upgrade-train: # branches: master #- tripleo-tox-molecule #- openstack-tox-py35: # files: *py_files #- tripleo-buildimage-overcloud-full-centos-7: # files: *build_images_files #- tripleo-buildimage-overcloud-full-centos-8: # files: *build_images_files #- tripleo-ci-centos-7-standalone-upgrade-train: # branches: master #- tripleo-ci-centos-7-standalone-upgrade-stein: # branches: stable/train"," templates: - tripleo-ci-build-containers-jobs - tripleo-multinode-baremetal-full - tripleo-multinode-branchful - tripleo-multinode-container-full - tripleo-multinode-experimental - tripleo-standalone-scenarios-full - tripleo-undercloud-jobs - tripleo-periodic - tripleo-tox-molecule: vars: tox_environment: PYTEST_REQPASS: 1 - openstack-tox-py35: success-url: ""tox/reports.html"" failure-url: ""tox/reports.html"" files: &py_files - ^bindep.txt$ - ^requirements.txt$ - ^scripts/emit_releases_file/.*$ - ^setup.cfg$ - ^setup.py$ - ^tox.ini$ vars: tox_environment: PYTEST_REQPASS: 84 - tripleo-buildimage-overcloud-full-centos-8: files: &build_images_files - ^playbooks/tripleo-buildimages/.*$ - ^roles/oooci-build-images/.*$ - zuul.d/layout.yaml - zuul.d/build-image.yaml - tripleo-buildimage-ironic-python-agent-centos-8: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-8: files: *build_images_files - tripleo-buildimage-overcloud-full-centos-7-train: files: *build_images_files - tripleo-buildimage-overcloud-full-centos-7: files: *build_images_files - tripleo-buildimage-ironic-python-agent-centos-7: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-7: files: *build_images_files - tripleo-ci-centos-7-scenario001-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario002-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario003-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario004-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario007-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-8-scenario007-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-standalone-upgrade-stein: branches: stable/train - tripleo-ci-centos-7-standalone-upgrade-train: branches: master - tripleo-tox-molecule - openstack-tox-py35: files: *py_files - tripleo-buildimage-overcloud-full-centos-7: files: *build_images_files - tripleo-buildimage-overcloud-full-centos-8: files: *build_images_files - tripleo-ci-centos-7-standalone-upgrade-train: branches: master - tripleo-ci-centos-7-standalone-upgrade-stein: branches: stable/train",116,80
openstack%2Fironic~master~Ib9ca43b8fe86481179b3045a26e6e3b500f87511,openstack/ironic,master,Ib9ca43b8fe86481179b3045a26e6e3b500f87511,Use the new extension call for getting partition UUIDs,MERGED,2020-05-29 12:48:10.000000000,2020-06-11 14:51:01.000000000,2020-06-11 14:48:44.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-05-29 12:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ff95d75662e6aa761032172940f9fd24ac4042b7', 'message': '[WIP] Use the new extension call for getting partition UUIDs\n\nChange-Id: Ib9ca43b8fe86481179b3045a26e6e3b500f87511\nDepends-On: https://review.opendev.org/731742\n'}, {'number': 2, 'created': '2020-06-02 13:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d9bf57806e3c9c19ac546e1a54ccf9f5c6a0e7cd', 'message': ""[WIP] Use the new extension call for getting partition UUIDs\n\nRemove a bogus warning when no root UUID is returned for whole\ndisk images. We don't strictly needed, nor do we actuall return\nanything meaningful.\n\nChange-Id: Ib9ca43b8fe86481179b3045a26e6e3b500f87511\nDepends-On: https://review.opendev.org/731742\n""}, {'number': 3, 'created': '2020-06-05 10:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1f4f7907e48a0ef8df9fbd1a1721ab5c851e0708', 'message': ""[WIP] Use the new extension call for getting partition UUIDs\n\nThis is more efficient (one call instead of up to three) and easier\nto debug and understand.\n\nAlso remove a bogus warning when no root UUID is returned for whole\ndisk images. We don't strictly needed, nor do we actuall return\nanything meaningful.\n\nChange-Id: Ib9ca43b8fe86481179b3045a26e6e3b500f87511\nDepends-On: https://review.opendev.org/731742\n""}, {'number': 4, 'created': '2020-06-05 12:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/445d8df3fa2c6255bc28a6442281ee595921453a', 'message': ""Use the new extension call for getting partition UUIDs\n\nThis is more efficient (one call instead of up to three) and easier\nto debug and understand.\n\nAlso remove a bogus warning when no root UUID is returned for whole\ndisk images. We don't strictly needed, nor do we actuall return\nanything meaningful.\n\nChange-Id: Ib9ca43b8fe86481179b3045a26e6e3b500f87511\nDepends-On: https://review.opendev.org/731742\n""}, {'number': 5, 'created': '2020-06-05 12:41:57.000000000', 'files': ['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/modules/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2509d282a36a1ab8a6138ae77a11762ffcb42d28', 'message': ""Use the new extension call for getting partition UUIDs\n\nThis is more efficient (one call instead of up to three) and easier\nto debug and understand.\n\nAlso remove a bogus warning when no root UUID is returned for whole\ndisk images. We don't strictly needed, nor do we actually return\nanything meaningful.\n\nChange-Id: Ib9ca43b8fe86481179b3045a26e6e3b500f87511\nDepends-On: https://review.opendev.org/731742\n""}]",1,731745,2509d282a36a1ab8a6138ae77a11762ffcb42d28,31,7,5,10239,,,0,"Use the new extension call for getting partition UUIDs

This is more efficient (one call instead of up to three) and easier
to debug and understand.

Also remove a bogus warning when no root UUID is returned for whole
disk images. We don't strictly needed, nor do we actually return
anything meaningful.

Change-Id: Ib9ca43b8fe86481179b3045a26e6e3b500f87511
Depends-On: https://review.opendev.org/731742
",git fetch https://review.opendev.org/openstack/ironic refs/changes/45/731745/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'ironic/drivers/modules/agent.py', 'ironic/drivers/modules/agent_client.py']",3,ff95d75662e6aa761032172940f9fd24ac4042b7,story/2006963," @METRICS.timer('AgentClient.get_partition_uuids') def get_partition_uuids(self, node): """"""Get deploy steps from agent. :param node: A node object. :raises: IronicException when failed to issue the request or there was a malformed response from the agent. :raises: AgentAPIError when agent failed to execute specified command. :returns: A dict containing command response from agent. """""" return self._command(node=node, method='standby.get_partition_uuids', params={}, wait=True) ",,49,6
openstack%2Fcharms.openstack~master~Ic6c81a812445010052fa65803a9016652bf353c5,openstack/charms.openstack,master,Ic6c81a812445010052fa65803a9016652bf353c5,Refactor Trilio charms base classes,MERGED,2020-06-11 04:58:17.000000000,2020-06-11 14:47:37.000000000,2020-06-11 14:47:37.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-11 04:58:17.000000000', 'files': ['charms_openstack/plugins/__init__.py', 'charms_openstack/plugins/trilio.py', 'charms_openstack/plugins/classes.py', 'unit_tests/charms_openstack/plugins/test_classes.py', 'unit_tests/charms_openstack/plugins/test_trilio.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/2b143b9687d46dcd39144e15e3bf237b3c4f688c', 'message': 'Refactor Trilio charms base classes\n\nMove into separate module to avoid explosion in size of\nadapters classes module.\n\nRefactor principle and subordinate classes to have the\ncorrect super classes.\n\nProvide install and configure source helpers as functions\nso they can be used in both class types.\n\nSplit ghost share action out into a mixin as its not used\neverywhere.\n\nAdd TrilioVault charm classes to main module __all__.\n\nChange-Id: Ic6c81a812445010052fa65803a9016652bf353c5\n'}]",0,735045,2b143b9687d46dcd39144e15e3bf237b3c4f688c,6,2,1,935,,,0,"Refactor Trilio charms base classes

Move into separate module to avoid explosion in size of
adapters classes module.

Refactor principle and subordinate classes to have the
correct super classes.

Provide install and configure source helpers as functions
so they can be used in both class types.

Split ghost share action out into a mixin as its not used
everywhere.

Add TrilioVault charm classes to main module __all__.

Change-Id: Ic6c81a812445010052fa65803a9016652bf353c5
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/45/735045/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/plugins/__init__.py', 'charms_openstack/plugins/trilio.py', 'charms_openstack/plugins/classes.py', 'unit_tests/charms_openstack/plugins/test_classes.py', 'unit_tests/charms_openstack/plugins/test_trilio.py']",5,2b143b9687d46dcd39144e15e3bf237b3c4f688c,refactor-tv-charms,"import os from unit_tests.charms_openstack.charm.utils import BaseOpenStackCharmTest from unit_tests.utils import patch_open import charms_openstack.plugins.trilio as trilio class TrilioVaultFoobar(trilio.TrilioVaultCharm): abstract_class = True name = 'test' all_packages = ['foo', 'bar'] class TrilioVaultFoobarSubordinate(trilio.TrilioVaultSubordinateCharm): abstract_class = True name = 'testsubordinate' all_packages = ['foo', 'bar', 'baz'] class TestTrilioCharmGhostAction(BaseOpenStackCharmTest): _nfs_shares = ""10.20.30.40:/srv/trilioshare"" _ghost_shares = ""50.20.30.40:/srv/trilioshare"" def setUp(self): super().setUp(trilio.TrilioVaultCharmGhostAction, {}) self.patch_object(trilio.ch_core.hookenv, ""config"") self.patch_object(trilio.ch_core.host, ""mounts"") self.patch_object(trilio.ch_core.host, ""mount"") self.patch_object(trilio.os.path, ""exists"") self.patch_object(trilio.os, ""mkdir"") self.trilio_charm = trilio.TrilioVaultCharmGhostAction() self._nfs_path = os.path.join( trilio.TV_MOUNTS, self.trilio_charm._encode_endpoint(self._nfs_shares), ) self._ghost_path = os.path.join( trilio.TV_MOUNTS, self.trilio_charm._encode_endpoint(self._ghost_shares), ) def test_ghost_share(self): self.config.return_value = self._nfs_shares self.mounts.return_value = [ [""/srv/nova"", ""/dev/sda""], [self._nfs_path, self._nfs_shares], ] self.exists.return_value = False self.trilio_charm.ghost_nfs_share(self._ghost_shares) self.exists.assert_called_once_with(self._ghost_path) self.mkdir.assert_called_once_with(self._ghost_path) self.mount.assert_called_once_with( self._nfs_path, self._ghost_path, options=""bind"" ) def test_ghost_share_already_bound(self): self.config.return_value = self._nfs_shares self.mounts.return_value = [ [""/srv/nova"", ""/dev/sda""], [self._nfs_path, self._nfs_shares], [self._ghost_path, self._nfs_shares], ] with self.assertRaises(trilio.GhostShareAlreadyMountedException): self.trilio_charm.ghost_nfs_share(self._ghost_shares) self.mount.assert_not_called() def test_ghost_share_nfs_unmounted(self): self.config.return_value = self._nfs_shares self.mounts.return_value = [[""/srv/nova"", ""/dev/sda""]] self.exists.return_value = False with self.assertRaises(trilio.NFSShareNotMountedException): self.trilio_charm.ghost_nfs_share(self._ghost_shares) self.mount.assert_not_called() class TestTrilioCommonBehaviours(BaseOpenStackCharmTest): def setUp(self): super().setUp(TrilioVaultFoobar, {}) self.patch_object(trilio.ch_core.hookenv, ""config"") self.patch_object(trilio.ch_core.hookenv, ""status_set"") self.patch_object(trilio.fetch, ""filter_installed_packages"") self.patch_object(trilio.fetch, ""apt_install"") self.patch_object(trilio.reactive, ""is_flag_set"") self.patch_object(trilio.reactive, ""clear_flag"") self.patch_target('update_api_ports') self.patch_target('set_state') self.filter_installed_packages.side_effect = lambda p: p def test_install(self): self.is_flag_set.return_value = False trilio._install_triliovault(self.target) self.is_flag_set.assert_called_with('upgrade.triliovault') self.filter_installed_packages.assert_called_once_with( self.target.all_packages ) self.apt_install.assert_called_once_with( self.target.all_packages, fatal=True ) self.clear_flag.assert_not_called() self.set_state.assert_called_once_with('test-installed') self.update_api_ports.assert_called_once() def test_upgrade(self): self.is_flag_set.return_value = True trilio._install_triliovault(self.target) self.is_flag_set.assert_called_with('upgrade.triliovault') self.filter_installed_packages.assert_not_called() self.apt_install.assert_called_once_with( self.target.all_packages, fatal=True ) self.clear_flag.assert_called_once_with('upgrade.triliovault') self.set_state.assert_called_once_with('test-installed') self.update_api_ports.assert_called_once() def test_configure_source(self): self.config.return_value = 'testsource' with patch_open() as (_open, _file): trilio._configure_triliovault_source() _open.assert_called_with( ""/etc/apt/sources.list.d/trilio-gemfury-sources.list"", ""w"" ) _file.write.assert_called_once_with('testsource') class TestTrilioVaultCharm(BaseOpenStackCharmTest): def setUp(self): super().setUp(TrilioVaultFoobar, {}) self.patch_object(trilio, ""_install_triliovault"") self.patch_object(trilio, ""_configure_triliovault_source"") def test_series_upgrade_complete(self): self.patch_object(trilio.charms_openstack.charm.HAOpenStackCharm, 'series_upgrade_complete') self.patch_target('configure_source') self.target.series_upgrade_complete() self.configure_source.assert_called_once_with() def test_configure_source(self): self.patch_object(trilio.charms_openstack.charm.HAOpenStackCharm, 'configure_source') self.target.configure_source() self._configure_triliovault_source.assert_called_once_with() self.configure_source.assert_called_once_with() def test_install(self): self.patch_object(trilio.charms_openstack.charm.HAOpenStackCharm, 'configure_source') self.target.install() self._install_triliovault.assert_called_once_with(self.target) class TestTrilioVaultSubordinateCharm(BaseOpenStackCharmTest): def setUp(self): super().setUp(TrilioVaultFoobarSubordinate, {}) self.patch_object(trilio, ""_install_triliovault"") self.patch_object(trilio, ""_configure_triliovault_source"") def test_series_upgrade_complete(self): self.patch_object(trilio.charms_openstack.charm.OpenStackCharm, 'series_upgrade_complete') self.patch_target('configure_source') self.target.series_upgrade_complete() self.configure_source.assert_called_once_with() def test_configure_source(self): self.patch_object(trilio.charms_openstack.charm.OpenStackCharm, 'configure_source') self.target.configure_source() self._configure_triliovault_source.assert_called_once_with() self.configure_source.assert_not_called() def test_install(self): self.patch_object(trilio.charms_openstack.charm.OpenStackCharm, 'configure_source') self.target.install() self._install_triliovault.assert_called_once_with(self.target) ",,389,272
openstack%2Fpuppet-openstack-integration~master~I6f6e9441c9c47e2fd1b85ddcccb90050bd1cc3a6,openstack/puppet-openstack-integration,master,I6f6e9441c9c47e2fd1b85ddcccb90050bd1cc3a6,"Revert ""Include placement::api class""",ABANDONED,2020-06-05 16:35:03.000000000,2020-06-11 14:38:52.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-05 16:35:03.000000000', 'files': ['manifests/placement.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9558b0b4a0ad2569c245a95fec6d47a3633bd1b8', 'message': 'Revert ""Include placement::api class""\n\nThis reverts commit 468c5b36eeeef8f4c7a0666e5664dd11c76e7b97.\n\nChange-Id: I6f6e9441c9c47e2fd1b85ddcccb90050bd1cc3a6\n'}]",0,733885,9558b0b4a0ad2569c245a95fec6d47a3633bd1b8,4,2,1,9816,,,0,"Revert ""Include placement::api class""

This reverts commit 468c5b36eeeef8f4c7a0666e5664dd11c76e7b97.

Change-Id: I6f6e9441c9c47e2fd1b85ddcccb90050bd1cc3a6
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/85/733885/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/placement.pp'],1,9558b0b4a0ad2569c245a95fec6d47a3633bd1b8,,, include placement::api,0,1
openstack%2Foslo.metrics~master~I9434d11466e7626fdbebd1340a8bb3d664518bd1,openstack/oslo.metrics,master,I9434d11466e7626fdbebd1340a8bb3d664518bd1,Sample oslo.metrics codes,MERGED,2020-05-26 10:32:29.000000000,2020-06-11 14:28:08.000000000,2020-06-11 14:28:08.000000000,"[{'_account_id': 308}, {'_account_id': 2033}, {'_account_id': 6928}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-26 10:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.metrics/commit/77fdbb6eec948f9a435810ebf3229d5c7086bd7c', 'message': ""Sample oslo.metrics codes\n\nThis patch is a sample oslo.metrics code to gather oslo.messaging's\nmetrics and export the metrics to prometheus. Some parts of this code\ndoesn't follow OpenStack standards style, and this lacks test codes.\nPlease use this patch as PoC for oslo.metrics.\n\nCo-Authored-By: Yuki Nishiwaki <yuki.nishiwaki@linecorp.com>\nChange-Id: I9434d11466e7626fdbebd1340a8bb3d664518bd1\n""}, {'number': 2, 'created': '2020-06-10 09:05:02.000000000', 'files': ['requirements.txt', '.gitignore', 'oslo_metrics/message_type.py', 'oslo_metrics/metrics/oslo_messaging.py', 'README.rst', 'setup.py', 'main.py', 'oslo_metrics/metrics/__init__.py', 'oslo_metrics/message_router.py', 'setup.cfg', 'oslo_metrics/__init__.py'], 'web_link': 'https://opendev.org/openstack/oslo.metrics/commit/e851773367c88851e1e4c01907b5fb452b7a77e1', 'message': ""Sample oslo.metrics codes\n\nThis patch is a sample oslo.metrics code to gather oslo.messaging's\nmetrics and export the metrics to prometheus. Some parts of this code\ndoesn't follow OpenStack standards style, and this lacks test codes.\nPlease use this patch as PoC for oslo.metrics.\n\nCo-Authored-By: Yuki Nishiwaki <yuki.nishiwaki@linecorp.com>\nChange-Id: I9434d11466e7626fdbebd1340a8bb3d664518bd1\n""}]",2,730753,e851773367c88851e1e4c01907b5fb452b7a77e1,11,6,2,8878,,,0,"Sample oslo.metrics codes

This patch is a sample oslo.metrics code to gather oslo.messaging's
metrics and export the metrics to prometheus. Some parts of this code
doesn't follow OpenStack standards style, and this lacks test codes.
Please use this patch as PoC for oslo.metrics.

Co-Authored-By: Yuki Nishiwaki <yuki.nishiwaki@linecorp.com>
Change-Id: I9434d11466e7626fdbebd1340a8bb3d664518bd1
",git fetch https://review.opendev.org/openstack/oslo.metrics refs/changes/53/730753/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.gitignore', 'oslo_metrics/message_type.py', 'oslo_metrics/metrics/oslo_messaging.py', 'README.rst', 'main.py', 'setup.py', 'oslo_metrics/message_router.py', 'oslo_metrics/metrics/__init__.py', 'setup.cfg', 'oslo_metrics/__init__.py']",11,77fdbb6eec948f9a435810ebf3229d5c7086bd7c,poc-oslo-messaging,,,389,0
openstack%2Fbifrost~master~I66dfeedbff76bd2acd843b9ccffe8c79bc40391b,openstack/bifrost,master,I66dfeedbff76bd2acd843b9ccffe8c79bc40391b,Stop supporting non-systemd systems,MERGED,2020-06-03 07:12:39.000000000,2020-06-11 14:17:16.000000000,2020-06-11 14:14:54.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-06-03 07:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/45ddd616da4dd1f956deafa486809d328b772de0', 'message': ""Stop supporting non-systemd systems\n\nAll currently supported systems use systemd, so let's simplify\nthe templates.\n\nChange-Id: I66dfeedbff76bd2acd843b9ccffe8c79bc40391b\n""}, {'number': 2, 'created': '2020-06-03 14:01:17.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Suse_family.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-keystone-install/templates/systemd_template.j2', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Suse_family.yml', 'playbooks/roles/bifrost-keystone-install/tasks/start.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/start.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Ubuntu.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu.yml', 'playbooks/roles/bifrost-ironic-install/templates/systemd_template.j2'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6f44cd8c312a143566851a9c9368810293c44d7d', 'message': ""Stop supporting non-systemd systems\n\nAll currently supported systems use systemd, so let's simplify\nthe templates.\n\nChange-Id: I66dfeedbff76bd2acd843b9ccffe8c79bc40391b\n""}]",0,733053,6f44cd8c312a143566851a9c9368810293c44d7d,10,3,2,10239,,,0,"Stop supporting non-systemd systems

All currently supported systems use systemd, so let's simplify
the templates.

Change-Id: I66dfeedbff76bd2acd843b9ccffe8c79bc40391b
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/53/733053/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu_18.04.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Suse_family.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu_16.04.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-keystone-install/templates/systemd_template.j2', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Suse_family.yml', 'playbooks/roles/bifrost-keystone-install/tasks/start.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Ubuntu_16.04.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Ubuntu_18.04.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/start.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-ironic-install/templates/systemd_template.j2']",18,45ddd616da4dd1f956deafa486809d328b772de0,systemd,Alias={{ item.service_name }}.service,Alias={{ item.service_name }}{{ init_ext }},14,35
openstack%2Fcharm-octavia~master~Ia3d40cf128a0a5e7f59b1644cbb4f318b398720e,openstack/charm-octavia,master,Ia3d40cf128a0a5e7f59b1644cbb4f318b398720e,Clear Nagios' related config.changed flags after handling,MERGED,2020-06-11 09:26:00.000000000,2020-06-11 14:15:33.000000000,2020-06-11 14:15:33.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-11 09:26:00.000000000', 'files': ['src/reactive/octavia_handlers.py', 'unit_tests/test_octavia_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/8e08c569357a5119019b7419500d7117992d7dc8', 'message': ""Clear Nagios' related config.changed flags after handling\n\nThe docs says that those flags are currently being cleared by the\nframework but that this behavior might change in the future. Hence,\nclear the flags to allow for changing those configs several times.\n\nChange-Id: Ia3d40cf128a0a5e7f59b1644cbb4f318b398720e\n""}]",0,735087,8e08c569357a5119019b7419500d7117992d7dc8,7,3,1,31836,,,0,"Clear Nagios' related config.changed flags after handling

The docs says that those flags are currently being cleared by the
framework but that this behavior might change in the future. Hence,
clear the flags to allow for changing those configs several times.

Change-Id: Ia3d40cf128a0a5e7f59b1644cbb4f318b398720e
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/87/735087/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/reactive/octavia_handlers.py', 'unit_tests/test_octavia_handlers.py']",2,8e08c569357a5119019b7419500d7117992d7dc8,clear-nagios-config-flags," self.remove_state.assert_any_call('octavia.nrpe.configured') self.remove_state.assert_any_call('config.changed.nagios_context') self.remove_state.assert_any_call( 'config.changed.nagios_servicegroups') self.assertEqual(self.remove_state.call_count, 3)", self.remove_state.assert_called_once_with('octavia.nrpe.configured'),10,1
openstack%2Foslo.privsep~master~Ib8a08f1b44712bf2fbcadecdcecd0ee3dd8ab361,openstack/oslo.privsep,master,Ib8a08f1b44712bf2fbcadecdcecd0ee3dd8ab361,Replace assertItemsEqual with assertCountEqual,MERGED,2020-06-11 09:52:02.000000000,2020-06-11 13:56:27.000000000,2020-06-11 13:53:57.000000000,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-11 09:52:02.000000000', 'files': ['oslo_privsep/tests/test_daemon.py', 'oslo_privsep/tests/test_capabilities.py'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/a602d03e2731fa37696a7c15406c74a6186e44df', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nassertItemsEqual was removed from Python's unittest.TestCase in\nPython 3.3 [1][2]. We have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: Ib8a08f1b44712bf2fbcadecdcecd0ee3dd8ab361\n""}]",0,735093,a602d03e2731fa37696a7c15406c74a6186e44df,8,3,1,6593,,,0,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: Ib8a08f1b44712bf2fbcadecdcecd0ee3dd8ab361
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/93/735093/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_privsep/tests/test_daemon.py', 'oslo_privsep/tests/test_capabilities.py']",2,a602d03e2731fa37696a7c15406c74a6186e44df,, self.assertCountEqual( self.assertCountEqual(, self.assertItemsEqual( self.assertItemsEqual(,3,3
openstack%2Fneutron~master~I592d31db9be76d9be202d79d942e15b1668e3c0e,openstack/neutron,master,I592d31db9be76d9be202d79d942e15b1668e3c0e,ovn: Remove is_port_groups_supported() code,MERGED,2020-06-05 16:39:52.000000000,2020-06-11 13:55:42.000000000,2020-06-10 17:09:22.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-05 16:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78745f168714e08ea6fc0a0db17e460798bab915', 'message': ""[WIP] ovn: Remove is_port_groups_supported() code\n\nPort_Groups table has been introduced in OVN 2.9 and we've moved in\nmaster to newer version since. This patch removes all references to code\nbranching between port_groups and address_sets.\n\nIt also removes the migration path to port_groups from the ovn-sync db\nutil and migrates to port_groups at the pre-fork phase of Neutron server\nstartup.\n\nChange-Id: I592d31db9be76d9be202d79d942e15b1668e3c0e\n""}, {'number': 2, 'created': '2020-06-08 10:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c82c5fe54379f9271f23525fe0cd870d3a485915', 'message': ""ovn: Remove is_port_groups_supported() code\n\nPort_Groups table has been introduced in OVN 2.10 and we've moved in\nmaster to newer version since. This patch removes all references to code\nbranching between port_groups and address_sets, and also removes\nunneeded Address_Set commands and references.\n\nChange-Id: I592d31db9be76d9be202d79d942e15b1668e3c0e\n""}, {'number': 3, 'created': '2020-06-08 15:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60557b807079fd672530b89f1c0e454bd700df1a', 'message': ""ovn: Remove is_port_groups_supported() code\n\nPort_Groups table has been introduced in OVN 2.10 and we've moved in\nmaster to newer version since. This patch removes all references to code\nbranching between port_groups and address_sets, and also removes\nunneeded Address_Set commands and references.\n\nChange-Id: I592d31db9be76d9be202d79d942e15b1668e3c0e\n""}, {'number': 4, 'created': '2020-06-09 09:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e23b13a2eae94d44419193f10a7a0723801233e', 'message': ""ovn: Remove is_port_groups_supported() code\n\nPort_Groups table has been introduced in OVN 2.10 and we've moved in\nmaster to newer version since. This patch removes all references to code\nbranching between port_groups and address_sets, and also removes\nunneeded Address_Set commands and references.\n\nChange-Id: I592d31db9be76d9be202d79d942e15b1668e3c0e\n""}, {'number': 5, 'created': '2020-06-09 14:33:18.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/common/ovn/test_acl.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/api.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/common/ovn/acl.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'doc/source/admin/ovn/refarch/refarch.rst', 'doc/source/contributor/internals/ovn/acl_optimizations.rst', 'doc/source/contributor/internals/ovn/index.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9cbbd8de53db18a5388d109174a464dcd96ab78b', 'message': ""ovn: Remove is_port_groups_supported() code\n\nPort_Groups table has been introduced in OVN 2.10 and we've moved in\nmaster to newer version since. This patch removes all references to code\nbranching between port_groups and address_sets, and also removes\nunneeded Address_Set commands and references.\n\nChange-Id: I592d31db9be76d9be202d79d942e15b1668e3c0e\n""}]",32,733886,9cbbd8de53db18a5388d109174a464dcd96ab78b,47,10,5,8655,,,0,"ovn: Remove is_port_groups_supported() code

Port_Groups table has been introduced in OVN 2.10 and we've moved in
master to newer version since. This patch removes all references to code
branching between port_groups and address_sets, and also removes
unneeded Address_Set commands and references.

Change-Id: I592d31db9be76d9be202d79d942e15b1668e3c0e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/733886/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/common/ovn/test_acl.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/api.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/common/ovn/acl.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py']",15,78745f168714e08ea6fc0a0db17e460798bab915,port-groups-removal,," def create_address_set(self, name, may_exist=True, **columns): return cmd.AddAddrSetCommand(self, name, may_exist, **columns) def update_address_set(self, name, addrs_add, addrs_remove, if_exists=True): return cmd.UpdateAddrSetCommand(self, name, addrs_add, addrs_remove, if_exists) def update_address_set_ext_ids(self, name, external_ids, if_exists=True): return cmd.UpdateAddrSetExtIdsCommand(self, name, external_ids, if_exists) def get_address_set(self, addrset_id, ip_version='ip4'): addr_name = utils.ovn_addrset_name(addrset_id, ip_version) try: return idlutils.row_by_value(self.idl, 'Address_Set', 'name', addr_name) except idlutils.RowNotFound: return None def is_port_groups_supported(self): return self.is_table_present('Port_Group') ",195,1169
openstack%2Fmurano~master~I676add1724c6557e3b0108222a2c2babe022c98c,openstack/murano,master,I676add1724c6557e3b0108222a2c2babe022c98c,drop mock from lower-constraints,NEW,2020-06-08 23:26:45.000000000,2020-06-11 13:45:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-08 23:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/17f7f2df8a5ccd39c6fabba90ee7079a083e2e82', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I676add1724c6557e3b0108222a2c2babe022c98c\n""}, {'number': 2, 'created': '2020-06-10 12:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/fd79cb33a0831bbd8421f827e35db990a8e4982c', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I676add1724c6557e3b0108222a2c2babe022c98c\n""}, {'number': 3, 'created': '2020-06-10 14:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/0a97b67e07d665740c0111df2c99ef90f7947042', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I676add1724c6557e3b0108222a2c2babe022c98c\n""}, {'number': 4, 'created': '2020-06-11 12:11:50.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/murano/commit/a4db4c6a680d4ed63d844f4187fa11f6c23748f2', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I676add1724c6557e3b0108222a2c2babe022c98c\n""}]",0,734383,a4db4c6a680d4ed63d844f4187fa11f6c23748f2,8,1,4,28522,,,0,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: I676add1724c6557e3b0108222a2c2babe022c98c
",git fetch https://review.opendev.org/openstack/murano refs/changes/83/734383/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,17f7f2df8a5ccd39c6fabba90ee7079a083e2e82,drop_mock,,mock==2.0.0,0,1
openstack%2Ftripleo-heat-templates~master~Ib33504757a3d4b695f9bac23c9b6fc5e62d17ebf,openstack/tripleo-heat-templates,master,Ib33504757a3d4b695f9bac23c9b6fc5e62d17ebf,FFWD: post Leapp package fixups,ABANDONED,2020-06-10 11:30:13.000000000,2020-06-11 13:45:10.000000000,,"[{'_account_id': 3153}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-06-10 11:30:13.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca6fa6a2cd1d5dea296fb718e953fe0c57bbb079', 'message': 'FFWD: post Leapp package fixups\n\nDuring the UpgradeInit command we set repos and we might be enabling\nmodules. To ensure proper state we run dnf distro-sync after. This\nway we prevent bugs where container-selinux is updated after installing\nopenstack-selinux package.\n\nWe remove ceph-common we should also reinstall it after leep.\n\nChange-Id: Ib33504757a3d4b695f9bac23c9b6fc5e62d17ebf\n'}]",9,734801,ca6fa6a2cd1d5dea296fb718e953fe0c57bbb079,15,6,1,6816,,,0,"FFWD: post Leapp package fixups

During the UpgradeInit command we set repos and we might be enabling
modules. To ensure proper state we run dnf distro-sync after. This
way we prevent bugs where container-selinux is updated after installing
openstack-selinux package.

We remove ceph-common we should also reinstall it after leep.

Change-Id: Ib33504757a3d4b695f9bac23c9b6fc5e62d17ebf
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/734801/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,ca6fa6a2cd1d5dea296fb718e953fe0c57bbb079,ffwd-upgrade2, - name: Ensure EL modules are in proper state shell: dnf -y distro-sync - ceph-common,,3,0
openstack%2Fmagnum~stable%2Ftrain~I4de26d40b7c5ba2759b4892349c59cf3cc870241,openstack/magnum,stable/train,I4de26d40b7c5ba2759b4892349c59cf3cc870241,Support proxy for helm install,MERGED,2020-06-08 05:25:20.000000000,2020-06-11 13:40:17.000000000,2020-06-11 13:37:59.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-06-08 05:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cfc5aaf8d3c97be53482b4678249772bb65911af', 'message': 'Support proxy for helm install\n\nExport proxy settings for helm install to make sure\nhelm can reach charts site.\n\nTask: 39877\nStory: 2007725\n\nChange-Id: I4de26d40b7c5ba2759b4892349c59cf3cc870241\n(cherry picked from commit 84324e1072944bb06b6e39fc1a89054ffb276e5e)\n(cherry picked from commit b90dff5b78478a11b4bc0dec8ff80cb1084129d2)\n'}, {'number': 2, 'created': '2020-06-08 05:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8c68fc941972236d95a8dccf0039cc7e2902e030', 'message': 'Support proxy for helm install\n\nExport proxy settings for helm install to make sure\nhelm can reach charts site.\n\nTask: 39877\nStory: 2007725\n\nChange-Id: I4de26d40b7c5ba2759b4892349c59cf3cc870241\n(cherry picked from commit 84324e1072944bb06b6e39fc1a89054ffb276e5e)\n(cherry picked from commit b90dff5b78478a11b4bc0dec8ff80cb1084129d2)\n'}, {'number': 3, 'created': '2020-06-09 05:02:46.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/helm/prometheus-operator.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-helm-modules.sh', 'magnum/drivers/common/templates/kubernetes/helm/metrics-server.sh', 'magnum/drivers/common/templates/kubernetes/helm/ingress-nginx.sh', 'magnum/drivers/common/templates/kubernetes/helm/prometheus-adapter.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/40398f82024e59d33cbf1159512f2cf93fac44e5', 'message': 'Support proxy for helm install\n\nExport proxy settings for helm install to make sure\nhelm can reach charts site.\n\nTask: 39877\nStory: 2007725\n\nChange-Id: I4de26d40b7c5ba2759b4892349c59cf3cc870241\n(cherry picked from commit 84324e1072944bb06b6e39fc1a89054ffb276e5e)\n(cherry picked from commit b90dff5b78478a11b4bc0dec8ff80cb1084129d2)\n'}]",1,734005,40398f82024e59d33cbf1159512f2cf93fac44e5,14,4,3,6484,,,0,"Support proxy for helm install

Export proxy settings for helm install to make sure
helm can reach charts site.

Task: 39877
Story: 2007725

Change-Id: I4de26d40b7c5ba2759b4892349c59cf3cc870241
(cherry picked from commit 84324e1072944bb06b6e39fc1a89054ffb276e5e)
(cherry picked from commit b90dff5b78478a11b4bc0dec8ff80cb1084129d2)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/05/734005/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/helm/prometheus-operator.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-helm-modules.sh', 'magnum/drivers/common/templates/kubernetes/helm/metrics-server.sh', 'magnum/drivers/common/templates/kubernetes/helm/ingress-nginx.sh', 'magnum/drivers/common/templates/kubernetes/helm/prometheus-adapter.sh']",5,cfc5aaf8d3c97be53482b4678249772bb65911af,story/2007725-39877-stable/train, export ${HTTP_PROXY} export ${HTTPS_PROXY} export ${NO_PROXY} ,,29,0
openstack%2Fmagnum~master~I00a2b9c8f0eb92b8611b557818d0010e79f17c77,openstack/magnum,master,I00a2b9c8f0eb92b8611b557818d0010e79f17c77,WIP build/push images if they dont exist,ABANDONED,2020-04-17 14:35:45.000000000,2020-06-11 13:38:30.000000000,,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-04-17 14:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8381257740583683cef88e7c9254f0d376052bce', 'message': 'WIP build/push images if they dont exist\n\nChange-Id: I00a2b9c8f0eb92b8611b557818d0010e79f17c77\nSigned-off-by: Spyros Trigazis <strigazi@gmail.com>\n'}, {'number': 2, 'created': '2020-04-17 15:56:13.000000000', 'files': ['playbooks/container-builder.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/c0c261d5ad1c962e787434604ad5645957800b3a', 'message': 'WIP build/push images if they dont exist\n\nChange-Id: I00a2b9c8f0eb92b8611b557818d0010e79f17c77\nSigned-off-by: Spyros Trigazis <strigazi@gmail.com>\n'}]",0,720727,c0c261d5ad1c962e787434604ad5645957800b3a,8,3,2,20498,,,0,"WIP build/push images if they dont exist

Change-Id: I00a2b9c8f0eb92b8611b557818d0010e79f17c77
Signed-off-by: Spyros Trigazis <strigazi@gmail.com>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/27/720727/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/container-builder.yaml'],1,8381257740583683cef88e7c9254f0d376052bce,build-push-if-doent-exist," - name: ""Check if {{ magnum_repository }}/helm-client:{{ helm_version }} exists"" command: docker pull {{ magnum_repository }}/helm-client:{{ helm_version }} register: result failed_when: result.rc == 0 ignore_errors: False",,5,0
openstack%2Fmagnum-tempest-plugin~master~Iaf0b95597d6dc968c9745690f4a2663de8442876,openstack/magnum-tempest-plugin,master,Iaf0b95597d6dc968c9745690f4a2663de8442876,Add py38 package metadata,MERGED,2020-05-28 03:39:43.000000000,2020-06-11 13:38:04.000000000,2020-06-11 13:38:04.000000000,"[{'_account_id': 8064}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-05-28 03:39:43.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/0770360f51421c804da1018550da00662c06431b', 'message': 'Add py38 package metadata\n\nChange-Id: Iaf0b95597d6dc968c9745690f4a2663de8442876\n'}]",0,731410,0770360f51421c804da1018550da00662c06431b,8,4,1,27565,,,0,"Add py38 package metadata

Change-Id: Iaf0b95597d6dc968c9745690f4a2663de8442876
",git fetch https://review.opendev.org/openstack/magnum-tempest-plugin refs/changes/10/731410/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0770360f51421c804da1018550da00662c06431b,, Programming Language :: Python :: 3.7 Programming Language :: Python :: 3.8,,2,0
openstack%2Fnetworking-ovn~stable%2Ftrain~I140ae0c476bf9e19b4429ce388ddc7cc3f4cd421,openstack/networking-ovn,stable/train,I140ae0c476bf9e19b4429ce388ddc7cc3f4cd421,ovn-migration: Stop ml2/ovs agents before installing OVN resources,MERGED,2020-06-10 18:21:17.000000000,2020-06-11 13:35:54.000000000,2020-06-11 13:33:33.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 18:21:17.000000000', 'files': ['migration/tripleo_environment/playbooks/roles/stop-agents/tasks/main.yml', 'migration/tripleo_environment/playbooks/roles/stop-agents/defaults/main.yml', 'migration/tripleo_environment/playbooks/roles/stop-agents/vars/main.yml', 'migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml', 'migration/tripleo_environment/playbooks/ovn-migration.yml', 'migration/tripleo_environment/playbooks/roles/stop-agents/tasks/cleanup.yml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/15f228181c340136a9c5f9ad10c7877dd1d08639', 'message': 'ovn-migration: Stop ml2/ovs agents before installing OVN resources\n\nTripleO used to uninstall services if the resources were set to None. It\nwas not intentional and TripleO no longer does that. This patch manually\nremoves dhcp, l3, metadata and ovs agents from controller and compute\nnodes, including its systemd service files.\n\nCloses-Bug: #1878358\nChange-Id: I140ae0c476bf9e19b4429ce388ddc7cc3f4cd421\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit 4d5b9a62b97dfa7245efc92cadda4e4c7d0e406a)\n(cherry picked manually from\n Neutron commit 9b0ca47c6dd8b2eca14452c477306d32fc3e2fa7)\n'}]",0,734900,15f228181c340136a9c5f9ad10c7877dd1d08639,8,3,1,8655,,,0,"ovn-migration: Stop ml2/ovs agents before installing OVN resources

TripleO used to uninstall services if the resources were set to None. It
was not intentional and TripleO no longer does that. This patch manually
removes dhcp, l3, metadata and ovs agents from controller and compute
nodes, including its systemd service files.

Closes-Bug: #1878358
Change-Id: I140ae0c476bf9e19b4429ce388ddc7cc3f4cd421
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 4d5b9a62b97dfa7245efc92cadda4e4c7d0e406a)
(cherry picked manually from
 Neutron commit 9b0ca47c6dd8b2eca14452c477306d32fc3e2fa7)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/00/734900/1 && git format-patch -1 --stdout FETCH_HEAD,"['migration/tripleo_environment/playbooks/roles/stop-agents/tasks/main.yml', 'migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml', 'migration/tripleo_environment/playbooks/roles/stop-agents/defaults/main.yml', 'migration/tripleo_environment/playbooks/roles/stop-agents/vars/main.yml', 'migration/tripleo_environment/playbooks/ovn-migration.yml', 'migration/tripleo_environment/playbooks/roles/stop-agents/tasks/cleanup.yml']",6,15f228181c340136a9c5f9ad10c7877dd1d08639,bug/1878358-stable/train,"--- - name: ""stop and disable {{ service.name }} services and healthchecks"" systemd: name: ""{{ item }}"" state: stopped enabled: no become: yes loop: - ""{{ service.healthcheck_timer_file }}"" - ""{{ service.healthcheck_service_file }}"" - ""{{ service.service_file }}"" - name: delete ml2 ovs systemd service files file: path: ""{{ systemd_service_file_dir }}/{{ item }}"" state: absent loop: - ""{{ service.service_file }}"" - ""{{ service.healthcheck_service_file }}"" - ""{{ service.healthcheck_timer_file }}"" become: yes ",,69,1
openstack%2Fansible-collections-openstack~master~I02c3f2cb5a8bb4c891a8f0e36628925208251bf7,openstack/ansible-collections-openstack,master,I02c3f2cb5a8bb4c891a8f0e36628925208251bf7,Fix ansible-devel sanity tests for deprecations,MERGED,2020-06-11 09:55:57.000000000,2020-06-11 13:35:08.000000000,2020-06-11 13:35:08.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-06-11 09:55:57.000000000', 'files': ['plugins/modules/baremetal_node.py', 'tests/sanity/ignore-2.10.txt'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c75ab0924a17a43d94dde754f52db45e1d74a56b', 'message': 'Fix ansible-devel sanity tests for deprecations\n\nChange-Id: I02c3f2cb5a8bb4c891a8f0e36628925208251bf7\n'}]",0,735095,c75ab0924a17a43d94dde754f52db45e1d74a56b,6,4,1,10969,,,0,"Fix ansible-devel sanity tests for deprecations

Change-Id: I02c3f2cb5a8bb4c891a8f0e36628925208251bf7
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/95/735095/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/baremetal_node.py', 'tests/sanity/ignore-2.10.txt']",2,c75ab0924a17a43d94dde754f52db45e1d74a56b,fixdev,plugins/modules/compute_flavor_info.py pylint:ansible-deprecated-no-collection-name plugins/modules/identity_domain_info.py pylint:ansible-deprecated-no-collection-name plugins/modules/identity_user_info.py pylint:ansible-deprecated-no-collection-name plugins/modules/image_info.py pylint:ansible-deprecated-no-collection-name plugins/modules/networks_info.py pylint:ansible-deprecated-no-collection-name plugins/modules/port_info.py pylint:ansible-deprecated-no-collection-name plugins/modules/project_info.py pylint:ansible-deprecated-no-collection-name plugins/modules/subnets_info.py pylint:ansible-deprecated-no-collection-name plugins/module_utils/openstack.py pylint:ansible-deprecated-no-collection-name,plugins/modules/compute_flavor_info.py pylint:invalid-tagged-version plugins/modules/identity_domain_info.py pylint:invalid-tagged-version plugins/modules/identity_user_info.py pylint:invalid-tagged-version plugins/modules/image_info.py pylint:invalid-tagged-version plugins/modules/networks_info.py pylint:invalid-tagged-version plugins/modules/port_info.py pylint:invalid-tagged-version plugins/modules/project_info.py pylint:invalid-tagged-version plugins/module_utils/openstack.py pylint:invalid-tagged-version plugins/modules/subnets_info.py pylint:invalid-tagged-version,13,12
openstack%2Fmurano~master~Ida4aef0864aff90f637102069755f510515870bf,openstack/murano,master,Ida4aef0864aff90f637102069755f510515870bf,fix requirements python supported minimal version,NEW,2020-06-10 12:02:35.000000000,2020-06-11 13:34:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-10 12:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/f9a412bda673318c2cd4017fcf8d2e456a594b67', 'message': 'fix requirements python supported minimal version\n\nSome recent rules have been added to openstack/requirements\nconcerning:\n- oslo.utils\n- oslo.i18n\n- oslotest\n- reno\n\nAccording to your supported runtimes these changes define the python\nversion for these requirements to fix CI jobs.\n\nChange-Id: Ida4aef0864aff90f637102069755f510515870bf\n'}, {'number': 2, 'created': '2020-06-10 14:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/f1914bf6dbba8d3d137da93a5ac9b649c534e142', 'message': 'fix requirements python supported minimal version\n\nSome recent rules have been added to openstack/requirements\nconcerning:\n- oslo.utils\n- oslo.i18n\n- oslotest\n- reno\n\nAccording to your supported runtimes these changes define the python\nversion for these requirements to fix CI jobs.\n\nChange-Id: Ida4aef0864aff90f637102069755f510515870bf\n'}, {'number': 3, 'created': '2020-06-11 12:11:50.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/murano/commit/b5b49d01032a7b7141b72a3b78b04dda5d88f797', 'message': 'fix requirements python supported minimal version\n\nSome recent rules have been added to openstack/requirements\nconcerning:\n- oslo.utils\n- oslo.i18n\n- oslotest\n- reno\n\nAccording to your supported runtimes these changes define the python\nversion for these requirements to fix CI jobs.\n\nChange-Id: Ida4aef0864aff90f637102069755f510515870bf\n'}]",0,734807,b5b49d01032a7b7141b72a3b78b04dda5d88f797,6,1,3,28522,,,0,"fix requirements python supported minimal version

Some recent rules have been added to openstack/requirements
concerning:
- oslo.utils
- oslo.i18n
- oslotest
- reno

According to your supported runtimes these changes define the python
version for these requirements to fix CI jobs.

Change-Id: Ida4aef0864aff90f637102069755f510515870bf
",git fetch https://review.opendev.org/openstack/murano refs/changes/07/734807/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'doc/requirements.txt']",3,f9a412bda673318c2cd4017fcf8d2e456a594b67,drop_mock,reno>=3.1.0;python_version>='3.6' # Apache-2.0,reno>=3.1.0 # Apache-2.0,4,4
openstack%2Fmagnum~stable%2Ftrain~I648333ba7c4e818f500a82b20d09403a45cca724,openstack/magnum,stable/train,I648333ba7c4e818f500a82b20d09403a45cca724,Use full name for hyperkube image inspect,MERGED,2020-06-04 05:32:18.000000000,2020-06-11 13:34:29.000000000,2020-06-11 13:32:50.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-06-04 05:32:18.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/17605eb0d705e4cff8d8b8ebd2369c0efecc428b', 'message': 'Use full name for hyperkube image inspect\n\nTask: 39898\nStory: 2007001\n\nChange-Id: I648333ba7c4e818f500a82b20d09403a45cca724\n(cherry picked from commit 4b5018388ca04e672a5ba414543eb835eb094e59)\n'}]",0,733433,17605eb0d705e4cff8d8b8ebd2369c0efecc428b,11,3,1,6484,,,0,"Use full name for hyperkube image inspect

Task: 39898
Story: 2007001

Change-Id: I648333ba7c4e818f500a82b20d09403a45cca724
(cherry picked from commit 4b5018388ca04e672a5ba414543eb835eb094e59)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/33/733433/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh'],1,17605eb0d705e4cff8d8b8ebd2369c0efecc428b,story/2007001-39898-stable/ussuri-stable/train," KUBE_DIGEST=$($ssh_cmd podman image inspect ${CONTAINER_INFRA_PREFIX:-k8s.gcr.io/}hyperkube:${KUBE_TAG} --format ""{{.Digest}}"")"," KUBE_DIGEST=$($ssh_cmd podman image inspect hyperkube:${KUBE_TAG} --format ""{{.Digest}}"")",1,1
openstack%2Ftripleo-heat-templates~master~I3aed39398bad04c4a19f387a98a6a494943aa5e2,openstack/tripleo-heat-templates,master,I3aed39398bad04c4a19f387a98a6a494943aa5e2,Increase zaqar max_messages_post_size to 2097152,MERGED,2020-06-09 09:04:02.000000000,2020-06-11 13:21:08.000000000,2020-06-11 13:21:08.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-09 09:04:02.000000000', 'files': ['deployment/zaqar/zaqar-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e408b86d816c750a237060f093d6aaf68b169d2f', 'message': 'Increase zaqar max_messages_post_size to 2097152\n\nWe still seem to be hitting the error ""Message collection size is\ntoo large. Max size 1048576"" during upgrades. Let\'s increase the\nmax size allowed.\n\nChange-Id: I3aed39398bad04c4a19f387a98a6a494943aa5e2\n'}]",0,734470,e408b86d816c750a237060f093d6aaf68b169d2f,17,6,1,8833,,,0,"Increase zaqar max_messages_post_size to 2097152

We still seem to be hitting the error ""Message collection size is
too large. Max size 1048576"" during upgrades. Let's increase the
max size allowed.

Change-Id: I3aed39398bad04c4a19f387a98a6a494943aa5e2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/734470/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/zaqar/zaqar-container-puppet.yaml'],1,e408b86d816c750a237060f093d6aaf68b169d2f,, zaqar::max_messages_post_size: 2097152, zaqar::max_messages_post_size: 1048576,1,1
openstack%2Fkayobe~stable%2Fussuri~I2b376303a9fef8fb3c1ada0c168bbb494216aa94,openstack/kayobe,stable/ussuri,I2b376303a9fef8fb3c1ada0c168bbb494216aa94,Disable broken linting of literalinclude sphinx directive,MERGED,2020-06-11 10:54:58.000000000,2020-06-11 13:10:55.000000000,2020-06-11 13:08:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2020-06-11 10:54:58.000000000', 'files': ['tools/sphinx8'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a3c3e0b90451118509709a64312fb29637144786', 'message': ""Disable broken linting of literalinclude sphinx directive\n\nPreviously we were seeing:\n\nAttributeError: 'Values' object has no attribute 'env'\n\nTrivialFix\nChange-Id: I2b376303a9fef8fb3c1ada0c168bbb494216aa94\n(cherry picked from commit c96803d8d1974c87e0dca004b4e360d48ee0fe8f)\n""}]",0,735107,a3c3e0b90451118509709a64312fb29637144786,8,3,1,14826,,,0,"Disable broken linting of literalinclude sphinx directive

Previously we were seeing:

AttributeError: 'Values' object has no attribute 'env'

TrivialFix
Change-Id: I2b376303a9fef8fb3c1ada0c168bbb494216aa94
(cherry picked from commit c96803d8d1974c87e0dca004b4e360d48ee0fe8f)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/07/735107/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/sphinx8'],1,a3c3e0b90451118509709a64312fb29637144786,,"from docutils.parsers.rst import directives as docutils_directives # NOTE(wszumski): Disable broken literal include directive, please see: # https://github.com/twolfson/restructuredtext-lint/issues/29 del docutils_directives._directives[""literalinclude""]",,4,0
openstack%2Foctavia~stable%2Fstein~I48315f8f293811e1d99584ea36da05c4211cf275,openstack/octavia,stable/stein,I48315f8f293811e1d99584ea36da05c4211cf275,Fix load balancer update with provider filtered params,MERGED,2020-03-20 09:29:55.000000000,2020-06-11 12:05:04.000000000,2020-06-11 12:03:20.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-20 09:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8924da9768c8e72fc5f9c1d86fb9dce8c32889c3', 'message': 'Fix load balancer update with provider filtered params\n\nWhen only setting tags to an existing load balancer, the amphora driver\nwould try to apply QoS policy on VRRP ports even if no policy is\ndefined. This raised an NetworkException that led load balancers to go\ninto ERROR.\n\nTask: 37589\nStory: 2006922\n\nChange-Id: I48315f8f293811e1d99584ea36da05c4211cf275\n(cherry picked from commit 2cfcd71a8659583d91cda3e488c60ded078c9677)\n(cherry picked from commit 535dc7c69885d661fed2a59ac7d4b8b3ce89e064)\n'}, {'number': 2, 'created': '2020-05-01 09:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c17b65adcfa65fa8256ffeb9d44696341ed1d59d', 'message': 'Fix load balancer update with provider filtered params\n\nWhen only setting tags to an existing load balancer, the amphora driver\nwould try to apply QoS policy on VRRP ports even if no policy is\ndefined. This raised an NetworkException that led load balancers to go\ninto ERROR.\n\nTask: 37589\nStory: 2006922\n\nChange-Id: I48315f8f293811e1d99584ea36da05c4211cf275\n(cherry picked from commit 2cfcd71a8659583d91cda3e488c60ded078c9677)\n(cherry picked from commit 535dc7c69885d661fed2a59ac7d4b8b3ce89e064)\n'}, {'number': 3, 'created': '2020-06-11 06:25:39.000000000', 'files': ['octavia/tests/unit/controller/worker/tasks/test_network_tasks.py', 'releasenotes/notes/fix-lb-update-with-no-data-abefe7860b8fb4c7.yaml', 'octavia/controller/worker/tasks/network_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/bdfaba4c2a275eb9ca0234293bf8d067fe95e1f3', 'message': 'Fix load balancer update with provider filtered params\n\nWhen only setting tags to an existing load balancer, the amphora driver\nwould try to apply QoS policy on VRRP ports even if no policy is\ndefined. This raised an NetworkException that led load balancers to go\ninto ERROR.\n\nTask: 37589\nStory: 2006922\n\nChange-Id: I48315f8f293811e1d99584ea36da05c4211cf275\n(cherry picked from commit 2cfcd71a8659583d91cda3e488c60ded078c9677)\n(cherry picked from commit 535dc7c69885d661fed2a59ac7d4b8b3ce89e064)\n'}]",0,714058,bdfaba4c2a275eb9ca0234293bf8d067fe95e1f3,21,5,3,6469,,,0,"Fix load balancer update with provider filtered params

When only setting tags to an existing load balancer, the amphora driver
would try to apply QoS policy on VRRP ports even if no policy is
defined. This raised an NetworkException that led load balancers to go
into ERROR.

Task: 37589
Story: 2006922

Change-Id: I48315f8f293811e1d99584ea36da05c4211cf275
(cherry picked from commit 2cfcd71a8659583d91cda3e488c60ded078c9677)
(cherry picked from commit 535dc7c69885d661fed2a59ac7d4b8b3ce89e064)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/58/714058/3 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/tasks/test_network_tasks.py', 'releasenotes/notes/fix-lb-update-with-no-data-abefe7860b8fb4c7.yaml', 'octavia/controller/worker/tasks/network_tasks.py']",3,8924da9768c8e72fc5f9c1d86fb9dce8c32889c3,, not update_dict or (, update_dict and (,22,1
openstack%2Ftripleo-heat-templates~master~Ic8f506a0eef5c1c8b1cf0d4fca9b2c6d68ef0fc3,openstack/tripleo-heat-templates,master,Ic8f506a0eef5c1c8b1cf0d4fca9b2c6d68ef0fc3,Consider user configuration during the derivation of passthrough whitelist,MERGED,2020-05-21 10:19:01.000000000,2020-06-11 11:51:49.000000000,2020-06-10 14:20:03.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-21 10:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b87835937eadd4f122f265ad14c744bf2ab04961', 'message': ""WIP: Consider user configuration during the derivation of passthrough whitelist\n\nThe user configuration supplied in NovaPCIPassthrough shall be considered\nduring the derivation of the pci::passthrough parameter for NIC Partitioning.\nThe VF's specified by user configuration minus the VF's alloted for NIC\nPartitioning shall be derrived.\n\nChange-Id: Ic8f506a0eef5c1c8b1cf0d4fca9b2c6d68ef0fc3\n""}, {'number': 2, 'created': '2020-05-21 16:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd8b5662b9983527f42be18b3bc3534576ca25b3', 'message': ""WIP: Consider user configuration during the derivation of passthrough whitelist\n\nThe user configuration supplied in NovaPCIPassthrough shall be considered\nduring the derivation of the pci::passthrough parameter for NIC Partitioning.\nThe VF's specified by user configuration minus the VF's alloted for NIC\nPartitioning shall be derrived.\n\nChange-Id: Ic8f506a0eef5c1c8b1cf0d4fca9b2c6d68ef0fc3\n""}, {'number': 3, 'created': '2020-05-29 15:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f86bdc6e78c00fc8d03a7a5955da005bd46750c', 'message': ""Consider user configuration during the derivation of passthrough whitelist\n\nThe user configuration supplied in NovaPCIPassthrough shall be considered\nduring the derivation of the pci::passthrough parameter for NIC Partitioning.\nThe VF's specified by user configuration minus the VF's alloted for NIC\nPartitioning shall be derrived.\n\nChange-Id: Ic8f506a0eef5c1c8b1cf0d4fca9b2c6d68ef0fc3\n""}, {'number': 4, 'created': '2020-06-01 05:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0f7ce08cd86403d0274ea957523c6b4b9cb08a1a', 'message': ""Consider user configuration during the derivation of passthrough whitelist\n\nThe user configuration supplied in NovaPCIPassthrough shall be considered\nduring the derivation of the pci::passthrough parameter for NIC Partitioning.\nThe VF's specified by user configuration minus the VF's alloted for NIC\nPartitioning shall be derrived.\n\nChange-Id: Ic8f506a0eef5c1c8b1cf0d4fca9b2c6d68ef0fc3\n""}, {'number': 5, 'created': '2020-06-05 05:14:16.000000000', 'files': ['deployment/neutron/derive_pci_passthrough_whitelist.py', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e51920623edcc16ad3d2297fbcfec0e3ed1a3ca3', 'message': ""Consider user configuration during the derivation of passthrough whitelist\n\nThe user configuration supplied in NovaPCIPassthrough shall be considered\nduring the derivation of the pci::passthrough parameter for NIC Partitioning.\nThe VF's specified by user configuration minus the VF's alloted for NIC\nPartitioning shall be derrived.\n\nChange-Id: Ic8f506a0eef5c1c8b1cf0d4fca9b2c6d68ef0fc3\n""}]",25,729891,e51920623edcc16ad3d2297fbcfec0e3ed1a3ca3,48,8,5,18904,,,0,"Consider user configuration during the derivation of passthrough whitelist

The user configuration supplied in NovaPCIPassthrough shall be considered
during the derivation of the pci::passthrough parameter for NIC Partitioning.
The VF's specified by user configuration minus the VF's alloted for NIC
Partitioning shall be derrived.

Change-Id: Ic8f506a0eef5c1c8b1cf0d4fca9b2c6d68ef0fc3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/729891/5 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/derive_pci_passthrough_whitelist.py'],1,b87835937eadd4f122f265ad14c744bf2ab04961,passthru,"from oslo_concurrency import processutilsdef get_pci_passthrough_whitelist(user_config, pf, pci_addresses, device_info): for pci in pci_addresses: pci_passthrough = {} address = {} pci_params = re.split('[:.]+', pci) address['domain'] = '.*' address['bus'] = pci_params[1] address['slot'] = pci_params[2] address['function'] = pci_params[3] pci_passthrough['address'] = address pci_passthrough['vendor_id'] = device_info[pf][0] pci_passthrough['product_id'] = device_info[pf][1] if 'trusted' in user_config: pci_passthrough['trusted'] = user_config['trusted'] pci_passthrough_list.append(pci_passthrough) #pci_passthrough_whitelist['nova::compute::pci::passthrough'] = pci_passthrough_list return pci_passthrough_list def user_passthrough_config(): try: out, err = processutils.execute('hiera', '-c', '/etc/puppet/hiera.yaml', 'nova::compute::pci::passthrough') if not err: print(""nova::compute::pci::passthrough : %s"" % out) return out except processutils.ProcessExecutionError: print(""Failed to get the hieradata nova::compute::pci::passthrough"") raise def get_regex_pattern(config_regex, size): if config_regex == "".*"": regex_pattern = ""[\da-fA-F]{%d}"" % size elif '[' in config_regex: regex_pattern = ""%s{%d}"" % (config_regex, size) else: regex_pattern = config_regex return regex_pattern def get_passthrough_config(user_config, pf, allocated_pci): sel_addr = [] sel_dev_info = [] if 'address' not in user_config: user_address_pattern = ""[\da-fA-F]{4}:[\da-fA-F]{2}:[\da-fA-F]{2}.[0-7]"" else: addr_dict = user_config['address'] user_address_pattern = ""%s:%s:%s.%s"" % ( get_regex_pattern(addr_dict['domain'], 4), \ get_regex_pattern(addr_dict['bus'], 2), \ get_regex_pattern(addr_dict['slot'], 2), addr_dict['function']) pci_addresses, device_info = get_pci_addresses_by_ifname(pf, allocated_pci) for pci_addr in pci_addresses[pf]: user_address_regex = re.compile(user_address_pattern) m = user_address_regex.match(pci_addr) if m: sel_addr.append(pci_addr) pci_passthrough = get_pci_passthrough_whitelist(user_config, pf, sel_addr, device_info) return pci_passthrough def get_passthrough_config_by_address(user_config, nic_partition_pfs, allocated_pci): sel_addr = [] pci_passthrough = [] for pf in nic_partition_pfs: if 'address' not in user_config: user_address_pattern = ""[\da-fA-F]{4}:[\da-fA-F]{2}:[\da-fA-F]{2}.[0-7]"" else: addr_dict = user_config['address'] user_address_pattern = ""%s:%s:%s.%s"" % ( get_regex_pattern(addr_dict['domain'], 4), \ get_regex_pattern(addr_dict['bus'], 2), \ get_regex_pattern(addr_dict['slot'], 2), addr_dict['function']) pci_addresses, device_info = get_pci_addresses_by_ifname(pf, allocated_pci) for pci_addr in pci_addresses[pf]: user_address_regex = re.compile(user_address_pattern) m = user_address_regex.match(pci_addr) if m: sel_addr.append(pci_addr) if len(sel_addr) > 0: passthrough_tmp = get_pci_passthrough_whitelist(user_config, pf, sel_addr, device_info) pci_passthrough.append(passthrough_tmp) return pci_passthrough def get_pf_name_from_phy_network(physical_network): try: out, err = processutils.execute('hiera', '-c', '/etc/puppet/hiera.yaml', 'neutron::agents::ml2::sriov::physical_device_mappings') if not err: phys_dev_mappings = json.loads(out) for phy_dev_map in phys_dev_mappings: net_name, nic_name = phy_dev_map.split(':') if net_name == physical_network: return nic_name return None except processutils.ProcessExecutionError: print(""Failed to get the hieradata neutron::agents::ml2::sriov::physical_device_mappings"") raise def generate_combined_configuration(user_configs, nic_partition_pfs, system_configs): non_nic_part_config = [] nic_part_config = [] key = 'nova::compute::pci::passthrough' pci_passthrough_whitelist = {} allocated_pci = get_allocated_pci_addresses(system_configs) for user_config in user_configs: if 'devname' in user_config and (user_config['devname'] in nic_partition_pfs): passthru_tmp = get_passthrough_config(user_config, user_config['devname'], allocated_pci) nic_part_config.append(passthru_tmp) elif 'physical_network' in user_config: pf_name = get_pf_name_from_phy_network(user_config['physical_network']) if pf_name in nic_partition_pfs: passthru_tmp = get_passthrough_config(user_config, pf_name, allocated_pci) nic_part_config.append(passthru_tmp) else: non_nic_part_config.append(user_config) elif 'address' in user_config: passthrough_tmp = get_passthrough_config_by_address(user_config, nic_partition_pfs, allocated_pci) if len(passthrough_tmp) == 0: non_nic_part_config.append(user_config) else: nic_part_config.append(passthrough_tmp) else: non_nic_part_config.append(user_config) pci_passthrough_whitelist['nova::compute::pci::passthrough'] = non_nic_part_config + nic_part_config return pci_passthrough_whitelist system_configs = get_sriov_configs() nic_partition_pfs = get_sriov_nic_partition_pfs(system_configs) user_configs = json.loads(user_passthrough_config()) pci_passthrough = generate_combined_configuration(user_configs, nic_partition_pfs, system_configs) ","def get_pci_passthrough_whitelist(pci_addresses, device_info): for pf, pci_list in pci_addresses.items(): for pci in pci_list: pci_passthrough = {} address = {} pci_params = re.split('[:.]+', pci) address['domain'] = '.*' address['bus'] = pci_params[1] address['slot'] = pci_params[2] address['function'] = pci_params[3] pci_passthrough['address'] = address pci_passthrough['vendor_id'] = device_info[pf][0] pci_passthrough['product_id'] = device_info[pf][1] pci_passthrough_list.append(pci_passthrough) pci_passthrough_whitelist['nova::compute::pci::passthrough'] = str(json.dumps(pci_passthrough_list)) return pci_passthrough_whitelist configs = get_sriov_configs() nic_partition_pfs = get_sriov_nic_partition_pfs(configs) allocated_pci = get_allocated_pci_addresses(configs) pci_addresses, device_info = get_pci_addresses_by_ifname(nic_partition_pfs, allocated_pci) pci_passthrough = get_pci_passthrough_whitelist(pci_addresses, device_info)",140,21
openstack%2Fkuryr-kubernetes~master~I9d5e9bb9219c2d1eaca8ed43633bd41f428b2a4e,openstack/kuryr-kubernetes,master,I9d5e9bb9219c2d1eaca8ed43633bd41f428b2a4e,Remove ovn-octavia provider tcp+udp limitation,MERGED,2020-06-01 10:58:58.000000000,2020-06-11 11:20:44.000000000,2020-06-11 11:19:21.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24791}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-06-01 10:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9d9ef895f9810b8d58c7e316cf968bfa16dcb2a0', 'message': 'Remove ovn-octavia provider tcp+udp limitation\n\novn-octavia provider now can handle listeners on the same port\nfor both udp and tcp\n\nChange-Id: I9d5e9bb9219c2d1eaca8ed43633bd41f428b2a4e\n'}, {'number': 2, 'created': '2020-06-01 12:38:30.000000000', 'files': ['kuryr_kubernetes/controller/drivers/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/dc78e0cef3d8644e85c216074c486942564ab375', 'message': 'Remove ovn-octavia provider tcp+udp limitation\n\novn-octavia provider now can handle listeners on the same port\nfor both udp and tcp\n\nChange-Id: I9d5e9bb9219c2d1eaca8ed43633bd41f428b2a4e\n'}]",3,732159,dc78e0cef3d8644e85c216074c486942564ab375,56,6,2,23567,,,0,"Remove ovn-octavia provider tcp+udp limitation

ovn-octavia provider now can handle listeners on the same port
for both udp and tcp

Change-Id: I9d5e9bb9219c2d1eaca8ed43633bd41f428b2a4e
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/59/732159/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/lbaasv2.py'],1,9d9ef895f9810b8d58c7e316cf968bfa16dcb2a0,ovn-octavia-udp," self._octavia_double_listeners = True LOG.info('Octavia supports double listeners (different ' 'protocol, same port) for Amphora provider.')"," # FIXME(ltomasbo): ovn-octavia driver does not yet support double # listeners. Remove when it does, considering the right # octavia microversion if CONF.kubernetes.endpoints_driver_octavia_provider != 'ovn': self._octavia_double_listeners = True LOG.info('Octavia supports double listeners (different ' 'protocol, same port) for Amphora provider.')",3,7
openstack%2Ftripleo-heat-templates~master~Idb068b7ba2ca77babc3a019d5f60ca0cf7ebb2d6,openstack/tripleo-heat-templates,master,Idb068b7ba2ca77babc3a019d5f60ca0cf7ebb2d6,Ironic create_swift_temp_url_key use internal edpoint,MERGED,2020-06-08 16:20:23.000000000,2020-06-11 11:12:26.000000000,2020-06-09 13:11:10.000000000,"[{'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-08 16:20:23.000000000', 'files': ['deployment/ironic/ironic-conductor-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95563da90f2123a35427d7d6ffbb5663d0d6e514', 'message': ""Ironic create_swift_temp_url_key use internal edpoint\n\nSet OS_INTERFACE=internal in the container config script\ncreating temporary URL's.\n\nCloses-Bug: #1882545\nChange-Id: Idb068b7ba2ca77babc3a019d5f60ca0cf7ebb2d6\n""}]",0,734138,95563da90f2123a35427d7d6ffbb5663d0d6e514,10,4,1,24245,,,0,"Ironic create_swift_temp_url_key use internal edpoint

Set OS_INTERFACE=internal in the container config script
creating temporary URL's.

Closes-Bug: #1882545
Change-Id: Idb068b7ba2ca77babc3a019d5f60ca0cf7ebb2d6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/734138/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-conductor-container-puppet.yaml'],1,95563da90f2123a35427d7d6ffbb5663d0d6e514,bug/1882545, export OS_INTERFACE=internal,,1,0
openstack%2Freleases~master~Ia7be9410c23d359a9dd36527469729197acaf272,openstack/releases,master,Ia7be9410c23d359a9dd36527469729197acaf272,Release ironic 13.1.0 for Train,ABANDONED,2020-05-29 16:52:30.000000000,2020-06-11 11:08:52.000000000,,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 16:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e329ef8907fcb9e1004fb2ea5c9dde4141b1c6e5', 'message': 'Release ironic 13.0.4 for Train\n\nChange-Id: Ia7be9410c23d359a9dd36527469729197acaf272\n'}, {'number': 2, 'created': '2020-06-01 09:44:50.000000000', 'files': ['deliverables/train/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4a55bc091c80ce7d0ccd0a5048f7a1b3aa02d284', 'message': 'Release ironic 13.1.0 for Train\n\nChange-Id: Ia7be9410c23d359a9dd36527469729197acaf272\n'}]",0,731808,4a55bc091c80ce7d0ccd0a5048f7a1b3aa02d284,14,6,2,14826,,,0,"Release ironic 13.1.0 for Train

Change-Id: Ia7be9410c23d359a9dd36527469729197acaf272
",git fetch https://review.opendev.org/openstack/releases refs/changes/08/731808/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ironic.yaml'],1,e329ef8907fcb9e1004fb2ea5c9dde4141b1c6e5,, - version: 13.0.4 projects: - repo: openstack/ironic hash: 911bc51a103b98621a803a84b00a96c09a610ac8,,4,0
openstack%2Fironic~master~Id7eb44954308b10d6097ee9894d58867fde6804b,openstack/ironic,master,Id7eb44954308b10d6097ee9894d58867fde6804b,Add virtualbmc as an extra dependency,MERGED,2020-06-10 13:26:27.000000000,2020-06-11 11:07:10.000000000,2020-06-10 14:11:58.000000000,"[{'_account_id': 10239}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-10 13:26:27.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e8daa0f2701eed284bb9e032b6c85446245b2765', 'message': 'Add virtualbmc as an extra dependency\n\nThe virtualbmc package is only needed in CI runs, so it doesn\'t quite\nfit as a declared ""normal"" dependency of the project. But requirements\ntooling only looks in [test-]requirements.txt and setup.cfg when\nchecking if a package is being used, so since it has not been declared\nin any of these so far, it gets flagged as an unused dependency.\n\nThis is a workaround to fix this issue. It likely will never be\ninstalled through this extra requirement path, but it will ensure the\npackage gets recognized as something being used by our projects.\n\nChange-Id: Id7eb44954308b10d6097ee9894d58867fde6804b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,734836,e8daa0f2701eed284bb9e032b6c85446245b2765,13,4,1,11904,,,0,"Add virtualbmc as an extra dependency

The virtualbmc package is only needed in CI runs, so it doesn't quite
fit as a declared ""normal"" dependency of the project. But requirements
tooling only looks in [test-]requirements.txt and setup.cfg when
checking if a package is being used, so since it has not been declared
in any of these so far, it gets flagged as an unused dependency.

This is a workaround to fix this issue. It likely will never be
installed through this extra requirement path, but it will ensure the
package gets recognized as something being used by our projects.

Change-Id: Id7eb44954308b10d6097ee9894d58867fde6804b
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/ironic refs/changes/36/734836/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e8daa0f2701eed284bb9e032b6c85446245b2765,virtualbmc,devstack = virtualbmc>=1.4.0 # Apache-2.0,,2,0
openstack%2Foctavia~stable%2Fstein~I2f680a00be695c3828166e6803882765af79b79e,openstack/octavia,stable/stein,I2f680a00be695c3828166e6803882765af79b79e,Pick stale amphora randomly,MERGED,2020-03-25 08:08:34.000000000,2020-06-11 10:58:07.000000000,2020-06-11 10:56:03.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-25 08:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f5a86cf861d965c002d1747296dadb2ccb99394e', 'message': 'Pick stale amphora randomly\n\nAvoid getting the same amphora all the time if its loadbalancer\nstuck in PENDING state and could not be failovered.\n\nStory: 2007340\nTask: 38877\n\nChange-Id: I2f680a00be695c3828166e6803882765af79b79e\n(cherry picked from commit 0f7d03feca4e3a4796c9c1a5a55d8da2adc44ebd)\n'}, {'number': 2, 'created': '2020-05-01 09:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/98f75dc6a634b3bd0c858a888881629e19cf6132', 'message': 'Pick stale amphora randomly\n\nAvoid getting the same amphora all the time if its loadbalancer\nstuck in PENDING state and could not be failovered.\n\nStory: 2007340\nTask: 38877\n\nChange-Id: I2f680a00be695c3828166e6803882765af79b79e\n(cherry picked from commit 0f7d03feca4e3a4796c9c1a5a55d8da2adc44ebd)\n'}, {'number': 3, 'created': '2020-06-02 06:44:07.000000000', 'files': ['octavia/db/repositories.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ae03653afcbbe1ef74b9c2f603caf4c3f2071e2a', 'message': 'Pick stale amphora randomly\n\nAvoid getting the same amphora all the time if its loadbalancer\nstuck in PENDING state and could not be failovered.\n\nStory: 2007340\nTask: 38877\n\nChange-Id: I2f680a00be695c3828166e6803882765af79b79e\n(cherry picked from commit 0f7d03feca4e3a4796c9c1a5a55d8da2adc44ebd)\n'}]",0,714855,ae03653afcbbe1ef74b9c2f603caf4c3f2071e2a,45,5,3,7249,,,0,"Pick stale amphora randomly

Avoid getting the same amphora all the time if its loadbalancer
stuck in PENDING state and could not be failovered.

Story: 2007340
Task: 38877

Change-Id: I2f680a00be695c3828166e6803882765af79b79e
(cherry picked from commit 0f7d03feca4e3a4796c9c1a5a55d8da2adc44ebd)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/55/714855/3 && git format-patch -1 --stdout FETCH_HEAD,['octavia/db/repositories.py'],1,f5a86cf861d965c002d1747296dadb2ccb99394e,,from sqlalchemy.sql import func self.model_class.last_update < expired_time).order_by( func.random()).first(), self.model_class.last_update < expired_time).first(),3,1
openstack%2Fkayobe~master~I6f065073feee42b2a0921a4aea98f7004fe5f7bf,openstack/kayobe,master,I6f065073feee42b2a0921a4aea98f7004fe5f7bf,Add framework to deploy user-defined containers on seed,MERGED,2020-02-25 10:31:42.000000000,2020-06-11 10:55:16.000000000,2020-06-11 10:52:19.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28048}]","[{'number': 1, 'created': '2020-02-25 10:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/572c93810acca501e435b11b85a3dccca9012afd', 'message': 'Add framework to deploy user-defined containers on seed\n\nChange-Id: I6f065073feee42b2a0921a4aea98f7004fe5f7bf\n'}, {'number': 2, 'created': '2020-02-25 10:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a28b4d5eaa6f6ad6d84d93bbbd327700ea15e341', 'message': 'Add framework to deploy user-defined containers on seed\n\nChange-Id: I6f065073feee42b2a0921a4aea98f7004fe5f7bf\n'}, {'number': 3, 'created': '2020-02-25 12:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/25f0b1d7095c7cc114df4a06f340a7feea70bf3a', 'message': 'Add framework to deploy user-defined containers on seed\n\nChange-Id: I6f065073feee42b2a0921a4aea98f7004fe5f7bf\n'}, {'number': 4, 'created': '2020-02-25 15:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8eaab5e7dade78844dbc2e95e05b2ccfb1822093', 'message': 'Add framework to deploy user-defined containers on seed\n\nChange-Id: I6f065073feee42b2a0921a4aea98f7004fe5f7bf\n'}, {'number': 5, 'created': '2020-02-25 17:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7c8572b24d6952294225438415b2a88ad0b26703', 'message': 'Add framework to deploy user-defined containers on seed\n\nChange-Id: I6f065073feee42b2a0921a4aea98f7004fe5f7bf\n'}, {'number': 6, 'created': '2020-02-26 13:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0225acde39bcf4a16529d14099c4b0afacfeb280', 'message': 'Add framework to deploy user-defined containers on seed\n\nChange-Id: I6f065073feee42b2a0921a4aea98f7004fe5f7bf\n'}, {'number': 7, 'created': '2020-02-27 10:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3bdeaecbb407105465cd23b4cea08acfa12197c1', 'message': 'Add framework to deploy user-defined containers on seed\n\nChange-Id: I6f065073feee42b2a0921a4aea98f7004fe5f7bf\n'}, {'number': 8, 'created': '2020-02-27 12:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/32f238cd5485d093c559526e6434028529577c1e', 'message': 'Add framework to deploy user-defined containers on seed\n\nChange-Id: I6f065073feee42b2a0921a4aea98f7004fe5f7bf\n'}, {'number': 9, 'created': '2020-03-17 13:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/15c92d4a32adb66eb45dcd1853ca2b93b9320540', 'message': 'Add framework to deploy user-defined containers on seed\n\nChange-Id: I6f065073feee42b2a0921a4aea98f7004fe5f7bf\n'}, {'number': 10, 'created': '2020-03-18 07:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/02510eae9daf1374e6cd58c507689c1ded1dd7a6', 'message': 'Add framework to deploy user-defined containers on seed\n\nChange-Id: I6f065073feee42b2a0921a4aea98f7004fe5f7bf\n'}, {'number': 11, 'created': '2020-03-18 09:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/beee85c7748706ca388a79d002557964f5847e87', 'message': 'Add framework to deploy user-defined containers on seed\n\nChange-Id: I6f065073feee42b2a0921a4aea98f7004fe5f7bf\n'}, {'number': 12, 'created': '2020-05-20 06:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/990805602333e8c16616c7c205ce0807cf4347cb', 'message': 'Add framework to deploy user-defined containers on seed\n\nTask: 39811\n\nChange-Id: I6f065073feee42b2a0921a4aea98f7004fe5f7bf\n'}, {'number': 13, 'created': '2020-05-20 09:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3c03dbc0fcdc6129b6664f1232a151417536b9a7', 'message': 'Add framework to deploy user-defined containers on seed\n\nTask: 39811\n\nChange-Id: I6f065073feee42b2a0921a4aea98f7004fe5f7bf\n'}, {'number': 14, 'created': '2020-05-20 10:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5166eac2308209f7b91efd70ed670c9566c3c1df', 'message': 'Add framework to deploy user-defined containers on seed\n\nTask: 39811\n\nChange-Id: I6f065073feee42b2a0921a4aea98f7004fe5f7bf\n'}, {'number': 15, 'created': '2020-05-20 10:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/38893a5a2dfa60e1fcf40dcb3f750df9e200e4c9', 'message': 'Add framework to deploy user-defined containers on seed\n\nTask: 39811\n\nChange-Id: I6f065073feee42b2a0921a4aea98f7004fe5f7bf\n'}, {'number': 16, 'created': '2020-05-20 12:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6f0ef14d411c5d663bb7961275af5a26432f26fd', 'message': 'Add framework to deploy user-defined containers on seed\n\nTask: 39811\n\nChange-Id: I6f065073feee42b2a0921a4aea98f7004fe5f7bf\n'}, {'number': 17, 'created': '2020-06-04 07:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e31ec161bf555afbe38a46694b5373968d4f6c2f', 'message': 'Add framework to deploy user-defined containers on seed\n\nTask: 39811\n\nChange-Id: I6f065073feee42b2a0921a4aea98f7004fe5f7bf\n'}, {'number': 18, 'created': '2020-06-10 18:36:21.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'doc/source/configuration/seed-custom-containers.rst', 'etc/kayobe/seed.yml', 'releasenotes/notes/deploy_containers-4199127a91f29be0.yaml', 'ansible/roles/deploy-containers/tasks/deploy.yml', 'ansible/group_vars/all/seed', 'ansible/roles/deploy-containers/tasks/main.yml', 'doc/source/deployment.rst', 'ansible/roles/deploy-containers/defaults/main.yml', 'ansible/seed-deploy-containers.yml', 'doc/source/configuration/index.rst', 'kayobe/cli/commands.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/aefd6e5a56ba9b172a8111f09c621afd09041a47', 'message': 'Add framework to deploy user-defined containers on seed\n\nTask: 39811\n\nChange-Id: I6f065073feee42b2a0921a4aea98f7004fe5f7bf\n'}]",60,709689,aefd6e5a56ba9b172a8111f09c621afd09041a47,57,4,18,22629,,,0,"Add framework to deploy user-defined containers on seed

Task: 39811

Change-Id: I6f065073feee42b2a0921a4aea98f7004fe5f7bf
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/89/709689/8 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/seed.yml', 'ansible/roles/deploy-containers/tasks/deploy.yml', 'ansible/group_vars/all/seed', 'ansible/roles/deploy-containers/tasks/main.yml', 'kayobe/cli/commands.py', 'ansible/roles/deploy-containers/defaults/main.yml']",6,572c93810acca501e435b11b85a3dccca9012afd,,"--- docker_api_timeout: ""120"" container_config_defaults: command: """" comparisons: image: ignore # don't restart containers with older versions of the image env: strict volumes: strict detach: True network_mode: ""host"" init: True ipc_mode: """" pid_mode: """" privileged: False restart_policy: ""unless-stopped"" sysctls: {} ulimits: [] user: """" volumes: [] ",,83,0
openstack%2Fkayobe~master~I2b376303a9fef8fb3c1ada0c168bbb494216aa94,openstack/kayobe,master,I2b376303a9fef8fb3c1ada0c168bbb494216aa94,Disable broken linting of literalinclude sphinx directive,MERGED,2020-06-10 18:36:21.000000000,2020-06-11 10:54:58.000000000,2020-06-11 09:37:17.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2020-06-10 18:36:21.000000000', 'files': ['tools/sphinx8'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c96803d8d1974c87e0dca004b4e360d48ee0fe8f', 'message': ""Disable broken linting of literalinclude sphinx directive\n\nPreviously we were seeing:\n\nAttributeError: 'Values' object has no attribute 'env'\n\nTrivialFix\nChange-Id: I2b376303a9fef8fb3c1ada0c168bbb494216aa94\n""}]",0,734904,c96803d8d1974c87e0dca004b4e360d48ee0fe8f,11,3,1,28048,,,0,"Disable broken linting of literalinclude sphinx directive

Previously we were seeing:

AttributeError: 'Values' object has no attribute 'env'

TrivialFix
Change-Id: I2b376303a9fef8fb3c1ada0c168bbb494216aa94
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/04/734904/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/sphinx8'],1,c96803d8d1974c87e0dca004b4e360d48ee0fe8f,,"from docutils.parsers.rst import directives as docutils_directives # NOTE(wszumski): Disable broken literal include directive, please see: # https://github.com/twolfson/restructuredtext-lint/issues/29 del docutils_directives._directives[""literalinclude""]",,4,0
openstack%2Fnova~stable%2Ftrain~I2035d5df31e43b730cd472cc438ec863bb538d62,openstack/nova,stable/train,I2035d5df31e43b730cd472cc438ec863bb538d62,remove support of oslo.messaging 9.8.0 warning message,ABANDONED,2020-05-14 12:18:33.000000000,2020-06-11 10:50:40.000000000,,"[{'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-14 12:18:33.000000000', 'files': ['nova/config.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6862b5a3fbda28d16aa723686418c33bbfff2c78', 'message': 'remove support of oslo.messaging 9.8.0 warning message\n\nThis change removes support for supressing the\nheartbeat message from olso.messaging before 9.8.0\n\nChange-Id: I2035d5df31e43b730cd472cc438ec863bb538d62\nRelated-Bug: #1825584\n(cherry picked from commit ca2fe01cc1c73e9ca7b2376ea566db0fe45a44ea)\n(cherry picked from commit ffd0aa4a5ebecfe42ee58c18a46b33d2f7a54ce1)\n'}]",0,728058,6862b5a3fbda28d16aa723686418c33bbfff2c78,15,8,1,11604,,,0,"remove support of oslo.messaging 9.8.0 warning message

This change removes support for supressing the
heartbeat message from olso.messaging before 9.8.0

Change-Id: I2035d5df31e43b730cd472cc438ec863bb538d62
Related-Bug: #1825584
(cherry picked from commit ca2fe01cc1c73e9ca7b2376ea566db0fe45a44ea)
(cherry picked from commit ffd0aa4a5ebecfe42ee58c18a46b33d2f7a54ce1)
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/728058/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/config.py'],1,6862b5a3fbda28d16aa723686418c33bbfff2c78,bug/1825584," message = ""Unexpected error during heartbeat thread processing"" return message not in log_record.msg"," # Note the type in the log message was fixed in # change Id11db4113c9b1c3add602192c1e915218704ef27 # but we handle both form to allow this to be backported # without consideration of the version of oslo.messaging used. # TODO(sean-k-mooney): remove support for typo in follow up # to allow this to be easily backported without modification. messages = [ ""Unexpected error during heartbeart thread processing"", ""Unexpected error during heartbeat thread processing""] return not any(msg in log_record.msg for msg in messages)",2,11
openstack%2Foctavia~stable%2Fstein~Ia9fec4e72c00f7086489b245d9dc50ed9c27f12a,openstack/octavia,stable/stein,Ia9fec4e72c00f7086489b245d9dc50ed9c27f12a,Fix padding logic for UDP health daemon,MERGED,2020-04-27 11:51:43.000000000,2020-06-11 10:35:42.000000000,2020-06-11 10:34:11.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-27 11:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5cec11cf647c74570cb2de6246b22da5e2c0401e', 'message': 'Fix padding logic for UDP health daemon\n\nShould have done ""pad to 8 characters"" on the hex conversion, but it was\ninstead hardcoded to pad a single `0`, which is right in a lot of cases\nbut not all.\n\nFor example:\n>>> ip1 = ipaddress.ip_address(\'98.136.140.23\')\n>>> ip2 = ipaddress.ip_address(\'10.1.1.1\')\n>>> ""%X"" % ip1._ip\n\'62888C17\'\n>>> ""%X"" % ip2._ip\n\'A010101\'\n\nChange-Id: Ia9fec4e72c00f7086489b245d9dc50ed9c27f12a\n(cherry picked from commit d27ee3f0ee98934e6ab354704edc47f61fffdcda)\n'}, {'number': 2, 'created': '2020-05-01 09:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/af0f6e1af5e4c84ce9089d0424109ac1afc11dac', 'message': 'Fix padding logic for UDP health daemon\n\nShould have done ""pad to 8 characters"" on the hex conversion, but it was\ninstead hardcoded to pad a single `0`, which is right in a lot of cases\nbut not all.\n\nFor example:\n>>> ip1 = ipaddress.ip_address(\'98.136.140.23\')\n>>> ip2 = ipaddress.ip_address(\'10.1.1.1\')\n>>> ""%X"" % ip1._ip\n\'62888C17\'\n>>> ""%X"" % ip2._ip\n\'A010101\'\n\nChange-Id: Ia9fec4e72c00f7086489b245d9dc50ed9c27f12a\n(cherry picked from commit d27ee3f0ee98934e6ab354704edc47f61fffdcda)\n'}, {'number': 3, 'created': '2020-06-08 06:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2e041aac016c9a21e418511c4d102fc98d9ca814', 'message': 'Fix padding logic for UDP health daemon\n\nShould have done ""pad to 8 characters"" on the hex conversion, but it was\ninstead hardcoded to pad a single `0`, which is right in a lot of cases\nbut not all.\n\nFor example:\n>>> ip1 = ipaddress.ip_address(\'98.136.140.23\')\n>>> ip2 = ipaddress.ip_address(\'10.1.1.1\')\n>>> ""%X"" % ip1._ip\n\'62888C17\'\n>>> ""%X"" % ip2._ip\n\'A010101\'\n\nChange-Id: Ia9fec4e72c00f7086489b245d9dc50ed9c27f12a\n(cherry picked from commit d27ee3f0ee98934e6ab354704edc47f61fffdcda)\n'}, {'number': 4, 'created': '2020-06-11 06:24:37.000000000', 'files': ['octavia/amphorae/backends/utils/keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d3df7e4356ea234d773c726639edbc78588b6453', 'message': 'Fix padding logic for UDP health daemon\n\nShould have done ""pad to 8 characters"" on the hex conversion, but it was\ninstead hardcoded to pad a single `0`, which is right in a lot of cases\nbut not all.\n\nFor example:\n>>> ip1 = ipaddress.ip_address(\'98.136.140.23\')\n>>> ip2 = ipaddress.ip_address(\'10.1.1.1\')\n>>> ""%X"" % ip1._ip\n\'62888C17\'\n>>> ""%X"" % ip2._ip\n\'A010101\'\n\nChange-Id: Ia9fec4e72c00f7086489b245d9dc50ed9c27f12a\n(cherry picked from commit d27ee3f0ee98934e6ab354704edc47f61fffdcda)\n'}]",0,723394,d3df7e4356ea234d773c726639edbc78588b6453,21,5,4,6469,,,0,"Fix padding logic for UDP health daemon

Should have done ""pad to 8 characters"" on the hex conversion, but it was
instead hardcoded to pad a single `0`, which is right in a lot of cases
but not all.

For example:
>>> ip1 = ipaddress.ip_address('98.136.140.23')
>>> ip2 = ipaddress.ip_address('10.1.1.1')
>>> ""%X"" % ip1._ip
'62888C17'
>>> ""%X"" % ip2._ip
'A010101'

Change-Id: Ia9fec4e72c00f7086489b245d9dc50ed9c27f12a
(cherry picked from commit d27ee3f0ee98934e6ab354704edc47f61fffdcda)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/94/723394/3 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/backends/utils/keepalivedlvs_query.py'],1,5cec11cf647c74570cb2de6246b22da5e2c0401e,," ip_to_hex_format = ""%.8X"" % ip_obj._ip"," ip_to_hex_format = ""0%X"" % ip_obj._ip",1,1
openstack%2Fopenstack-manuals~master~I507f9ad7c113afc9f1e04ee9f30be8c9a7d8fe02,openstack/openstack-manuals,master,I507f9ad7c113afc9f1e04ee9f30be8c9a7d8fe02,Imported Translations from Zanata,MERGED,2020-06-11 08:25:19.000000000,2020-06-11 10:35:12.000000000,2020-06-11 10:11:03.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-11 08:25:19.000000000', 'files': ['doc/install-guide/source/locale/bn_IN/LC_MESSAGES/install-guide.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/07b616a929e203421d96d2f25a041c43ff781b52', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I507f9ad7c113afc9f1e04ee9f30be8c9a7d8fe02\n'}]",0,735077,07b616a929e203421d96d2f25a041c43ff781b52,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I507f9ad7c113afc9f1e04ee9f30be8c9a7d8fe02
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/77/735077/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/source/locale/bn_IN/LC_MESSAGES/install-guide.po'],1,07b616a929e203421d96d2f25a041c43ff781b52,zanata/translations,"""POT-Creation-Date: 2020-06-10 09:23+0000\n""""PO-Revision-Date: 2020-06-10 10:02+0000\n""""The :term:`OpenStack` project is an open source cloud computing platform "" ""that supports all types of cloud environments. The project aims for simple "" ""implementation, massive scalability, and a rich set of features. Cloud "" ""computing experts from around the world contribute to the project."" msgstr """" ""শব্দটি: `ওপেনস্ট্যাক` প্রকল্পটি একটি ওপেন সোর্স ক্লাউড কম্পিউটিং প্ল্যাটফর্ম যা সকল "" ""ধরণের ক্লাউড ইনভারমেন্টকে সার্পোট করে। প্রকল্পটির লক্ষ্য সাধারণ বাস্তবায়ন, বিশাল "" ""পরিমাণের স্কেলাবিলিটি এবং বৈশিষ্ট্যগুলির একটি সমৃদ্ধ সেট। বিশ্বজুড়ে ক্লাউড কম্পিউটিং "" ""বিশেষজ্ঞরা এই প্রকল্পে অবদান রাখেন।"" msgid """"","""POT-Creation-Date: 2020-06-07 06:45+0000\n""""PO-Revision-Date: 2020-06-09 10:44+0000\n""",13,2
openstack%2Fcharm-masakari~master~I850b9978d879cecbcfd2b03491779d31c676b235,openstack/charm-masakari,master,I850b9978d879cecbcfd2b03491779d31c676b235,Add missing taskflow section,MERGED,2020-06-09 08:50:20.000000000,2020-06-11 10:31:18.000000000,2020-06-11 09:31:03.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 08:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/0ba3188694a14cb8011ab3f7398405c143fa47f1', 'message': ""Add missing taskflow section\n\nThe 'taskflow' section was missing from the masakari config file *1.\nWithout this notification details cannot be retrieved. The 'taskflow'\nsection was introduced in stein *2\n\n*1 https://docs.openstack.org/masakari/latest/configuration/sample_config.html\n*2 https://docs.openstack.org/releasenotes/masakari/stein.html#new-features\n\nChange-Id: I850b9978d879cecbcfd2b03491779d31c676b235\nCloses-Bug: #1882656\n""}, {'number': 2, 'created': '2020-06-10 08:11:17.000000000', 'files': ['src/lib/charm/openstack/masakari.py', 'src/templates/stein/masakari.conf'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/f051c76cf3971b08bd561b5256812fe09d45d14b', 'message': ""Add missing taskflow section\n\nThe 'taskflow' section was missing from the masakari config file *1.\nWithout this notification details cannot be retrieved. The 'taskflow'\nsection was introduced in stein *2\n\nAdding the taskflow section causes masakari db sync to initialize new\ntables which have exposed a missing dep on sqlalchemy-utils (Bug 1882900). So\nuntil that is fixed ensure sqlalchemy-utils is installed too.\n\n*1 https://docs.openstack.org/masakari/latest/configuration/sample_config.html\n*2 https://docs.openstack.org/releasenotes/masakari/stein.html#new-features\n\nChange-Id: I850b9978d879cecbcfd2b03491779d31c676b235\nCloses-Bug: #1882656\n""}]",0,734450,f051c76cf3971b08bd561b5256812fe09d45d14b,15,4,2,12549,,,0,"Add missing taskflow section

The 'taskflow' section was missing from the masakari config file *1.
Without this notification details cannot be retrieved. The 'taskflow'
section was introduced in stein *2

Adding the taskflow section causes masakari db sync to initialize new
tables which have exposed a missing dep on sqlalchemy-utils (Bug 1882900). So
until that is fixed ensure sqlalchemy-utils is installed too.

*1 https://docs.openstack.org/masakari/latest/configuration/sample_config.html
*2 https://docs.openstack.org/releasenotes/masakari/stein.html#new-features

Change-Id: I850b9978d879cecbcfd2b03491779d31c676b235
Closes-Bug: #1882656
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/50/734450/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/stein/masakari.conf'],1,0ba3188694a14cb8011ab3f7398405c143fa47f1,bug/1882900,"[DEFAULT] enabled_apis = masakari_api debug = {{ options.debug }} auth_strategy = keystone notification_driver=taskflow_driver {% if amqp.password -%} transport_url = rabbit://masakari:{{ amqp.password }}@{{ amqp.host }}:5672/masakari {% endif -%} os_user_domain_name = {{ identity_service.service_domain }} os_project_domain_name = {{ identity_service.service_domain }} nova_catalog_admin_info = compute:nova:publicURL os_privileged_user_name = {{ identity_service.service_username }} os_privileged_user_password = {{ identity_service.service_password }} os_privileged_user_tenant = services os_privileged_user_auth_url = {{ identity_service.service_protocol }}://{{ identity_service.service_host }}:{{ identity_service.service_port }}/v3 wait_period_after_service_update = {{ options.evacuation_delay }} [wsgi] # The paste configuration file path api_paste_config = /etc/masakari/api-paste.ini {% if shared_db.host -%} [taskflow] connection = {{ shared_db.uri }} {% endif -%} {% include ""parts/section-keystone-authtoken"" %} #[keystone_authtoken] #www_authenticate_uri = http://10.5.0.3:5000 #auth_url = http://10.5.0.3:35357 #auth_type = password #project_domain_id = 4e1fd508dda14c6685cf980aee1f00de #user_domain_id = 4e1fd508dda14c6685cf980aee1f00de #project_name = services #username = masakari #password = KrNmPMyyVFgRdr3xYBgTgHkjBKcc8pN9rP8gxXzbKJzKZ2VR83rkfVnwtncwLmFy {% include ""parts/section-database"" %} [host_failure] evacuate_all_instances = {{ options.evacuate_all_instances }} ",,46,0
openstack%2Fneutron~stable%2Fussuri~I62765a14d376664ccc2ca3009bb9e970c9f25c03,openstack/neutron,stable/ussuri,I62765a14d376664ccc2ca3009bb9e970c9f25c03,[OVN] Override notify_nova config in neutron-ovn-db-sync-util,MERGED,2020-06-10 06:55:44.000000000,2020-06-11 10:26:44.000000000,2020-06-11 10:24:33.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-10 06:55:44.000000000', 'files': ['neutron/tests/unit/cmd/ovn/__init__.py', 'neutron/tests/unit/cmd/ovn/test_neutron_ovn_db_sync_util.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e53a770823b0053402c2fa44888ef5dd8da70c1', 'message': ""[OVN] Override notify_nova config in neutron-ovn-db-sync-util\n\nIf either ``notify_nova_on_port_status_changes`` or\n``notify_nova_on_port_data_changes`` is set in the neutron\nconfiguration provided to the ``neutron-ovn-db-sync-util`` tool it\nwill stop with a Traceback.\n\nWe are already overriding other parts of the ML2 Notification code\nas we do not want it executing while syncing, so let's override\nthese configuration options if set as well.\n\nChange-Id: I62765a14d376664ccc2ca3009bb9e970c9f25c03\nCloses-Bug: #1882020\n(cherry picked from commit 559ae06bdf1f11ca861234a92434771a26ec27d8)\n""}]",0,734754,1e53a770823b0053402c2fa44888ef5dd8da70c1,12,4,1,13686,,,0,"[OVN] Override notify_nova config in neutron-ovn-db-sync-util

If either ``notify_nova_on_port_status_changes`` or
``notify_nova_on_port_data_changes`` is set in the neutron
configuration provided to the ``neutron-ovn-db-sync-util`` tool it
will stop with a Traceback.

We are already overriding other parts of the ML2 Notification code
as we do not want it executing while syncing, so let's override
these configuration options if set as well.

Change-Id: I62765a14d376664ccc2ca3009bb9e970c9f25c03
Closes-Bug: #1882020
(cherry picked from commit 559ae06bdf1f11ca861234a92434771a26ec27d8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/734754/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/cmd/ovn/__init__.py', 'neutron/tests/unit/cmd/ovn/test_neutron_ovn_db_sync_util.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py']",3,1e53a770823b0053402c2fa44888ef5dd8da70c1,bug/1882020-stable/ussuri," # Override Nova notify configuration LP: #1882020 cfg.CONF.set_override('notify_nova_on_port_status_changes', False) cfg.CONF.set_override('notify_nova_on_port_data_changes', False)",,34,0
openstack%2Ftripleo-ci~master~Idf0cecb0d24cf758a27fbc121f677d535228e48a,openstack/tripleo-ci,master,Idf0cecb0d24cf758a27fbc121f677d535228e48a,Install openstack ansible collections in Tripleo jobs,MERGED,2020-05-21 17:36:18.000000000,2020-06-11 10:08:27.000000000,2020-06-11 10:08:27.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-21 17:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/57f7ab3bb1ddc025b6a6bf3945465fd4059c44cd', 'message': 'Install openstack ansible collections in Tripleo jobs\n\nChange-Id: Idf0cecb0d24cf758a27fbc121f677d535228e48a\n'}, {'number': 2, 'created': '2020-06-08 08:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c96fe14643fe8bc9a52a2e9f6bc02e2ac17e0bf5', 'message': 'Install openstack ansible collections in Tripleo jobs\n\nDepends-On: https://review.opendev.org/730400\nChange-Id: Idf0cecb0d24cf758a27fbc121f677d535228e48a\n'}, {'number': 3, 'created': '2020-06-09 10:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/17cc57812e9f9623bb4395bbc65eb712ec3d223d', 'message': 'Install openstack ansible collections in Tripleo jobs\n\nChange-Id: Idf0cecb0d24cf758a27fbc121f677d535228e48a\n'}, {'number': 4, 'created': '2020-06-10 09:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/891dddce262f0035be92a987cfa09e8e4b31ace6', 'message': 'Install openstack ansible collections in Tripleo jobs\n\nChange-Id: Idf0cecb0d24cf758a27fbc121f677d535228e48a\n'}, {'number': 5, 'created': '2020-06-10 13:57:48.000000000', 'files': ['roles/run-test/templates/toci_gate_test.sh.j2', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3eeeef91e7d8499b0a16db7f0dfad8ef8da4cb80', 'message': 'Install openstack ansible collections in Tripleo jobs\n\nDepends-On: https://review.opendev.org/734848\nChange-Id: Idf0cecb0d24cf758a27fbc121f677d535228e48a\n'}]",0,730083,3eeeef91e7d8499b0a16db7f0dfad8ef8da4cb80,34,7,5,10969,,,0,"Install openstack ansible collections in Tripleo jobs

Depends-On: https://review.opendev.org/734848
Change-Id: Idf0cecb0d24cf758a27fbc121f677d535228e48a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/83/730083/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/run-test/templates/toci_gate_test.sh.j2', 'zuul.d/base.yaml']",2,57f7ab3bb1ddc025b6a6bf3945465fd4059c44cd,tripleo-collection, - opendev.org/openstack/ansible-collections-openstack,,2,1
openstack%2Fproject-team-guide~master~Iec6f52e482d1995427035d7f600378844861740a,openstack/project-team-guide,master,Iec6f52e482d1995427035d7f600378844861740a,Add deprecation of a repo,MERGED,2020-06-10 15:30:11.000000000,2020-06-11 10:07:03.000000000,2020-06-11 10:05:38.000000000,"[{'_account_id': 308}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 15:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/2a57225cbeb3a1753caa5f452bc758009ebf5722', 'message': 'Add deprecation of a repo\n\nWe sometimes deprecate a repo - stop work in master but continue to\nmaintain stable branches. Document this.\n\nChange-Id: Iec6f52e482d1995427035d7f600378844861740a\n'}, {'number': 2, 'created': '2020-06-10 15:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/cbbc82af3ff648701b61604f9fb34c03e89b547c', 'message': 'Add deprecation of a repo\n\nWe sometimes deprecate a repo - stop work in master but continue to\nmaintain stable branches. Document this.\n\nFix step number in retirement instructions.\n\nChange-Id: Iec6f52e482d1995427035d7f600378844861740a\n'}, {'number': 3, 'created': '2020-06-10 15:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/395881266e0562de9876b441a9165b2f35f1bfad', 'message': 'Add deprecation of a repo\n\nWe sometimes deprecate a repo - stop work in master but continue to\nmaintain stable branches. Document this.\n\nFix step number in retirement instructions.\n\nChange-Id: Iec6f52e482d1995427035d7f600378844861740a\n'}, {'number': 4, 'created': '2020-06-10 16:46:56.000000000', 'files': ['doc/source/repository.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/55080eec8a2d5e62527b8e316c485de739a0e64b', 'message': 'Add deprecation of a repo\n\nWe sometimes deprecate a repo - stop work in master but continue to\nmaintain stable branches. Document this.\n\nFix step number in retirement instructions.\n\nChange-Id: Iec6f52e482d1995427035d7f600378844861740a\n'}]",10,734877,55080eec8a2d5e62527b8e316c485de739a0e64b,17,5,4,6547,,,0,"Add deprecation of a repo

We sometimes deprecate a repo - stop work in master but continue to
maintain stable branches. Document this.

Fix step number in retirement instructions.

Change-Id: Iec6f52e482d1995427035d7f600378844861740a
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/77/734877/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/repository.rst'],1,2a57225cbeb3a1753caa5f452bc758009ebf5722,semi-retirement,"In step 1, keep the template ``official-openstack-repo-jobs`` besides Deprecating a Repository ======================== If you only want to stop development of the master branch but keep stable branches, you need to do a slightly different approach. Step 1: Stop requirements syncing (if set up) --------------------------------------------- Submit a review to the ``openstack/requirements`` project removing the project from ``projects.txt``. Retire master branch -------------------- Add ``noop`` jobs for master only in ``project-config`` repository, it should look something like this:: - project: name: openstack/<projectname> ... check: jobs: - noop: branches: master gate: jobs: - noop: branches: master Follow the step 2 about `Retiring a Project <https://docs.opendev.org/opendev/infra-manual/latest/drivers.html#step-2-remove-project-content>`_ in the OpenDev Manual. Mark the Repository as Deprecated in the Governance Repository --------------------------------------------------------------- Mark the repository in the ``reference/projects.yaml`` file as deprecated with adding a line: release-management: deprecated","In step 2, keep the template ``official-openstack-repo-jobs`` besides",44,2
openstack%2Fneutron~master~I1588b88279ba1e25706cc74f4a888901e5aadcb6,openstack/neutron,master,I1588b88279ba1e25706cc74f4a888901e5aadcb6,Fix ssh to nodes during ML2/OVS to ML2/OVN migration,MERGED,2020-05-27 22:25:21.000000000,2020-06-11 10:06:37.000000000,2020-06-04 13:41:36.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 18894}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}, {'_account_id': 29350}]","[{'number': 1, 'created': '2020-05-27 22:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d93ac3d65942b8cbbf58887009bd6ecc89bb176c', 'message': 'Fix ssh to nodes during ML2/OVS to ML2/OVN migration\n\nMigration ansible playbooks are not able to connect to overcloud\nnodes using ssh due to bad settings in the generated ansible\ninventory file. Ctlplane subnet ip addresses should be used by\nansible in order to be able to establish connection successfully.\n\nFixes bug https://bugs.launchpad.net/neutron/+bug/1881029\n\nChange-Id: I1588b88279ba1e25706cc74f4a888901e5aadcb6\n'}, {'number': 2, 'created': '2020-05-29 19:27:32.000000000', 'files': ['tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0402337c151d6db3b6e04569df3735e0dc44125f', 'message': 'Fix ssh to nodes during ML2/OVS to ML2/OVN migration\n\nMigration ansible playbooks are not able to connect to overcloud\nnodes using ssh due to bad settings in the generated ansible\ninventory file. Ctlplane subnet ip addresses should be used by\nansible in order to be able to establish connection successfully.\n\nCloses-bug: #1881029\nChange-Id: I1588b88279ba1e25706cc74f4a888901e5aadcb6\n'}]",3,731367,0402337c151d6db3b6e04569df3735e0dc44125f,26,12,2,29350,,,0,"Fix ssh to nodes during ML2/OVS to ML2/OVN migration

Migration ansible playbooks are not able to connect to overcloud
nodes using ssh due to bad settings in the generated ansible
inventory file. Ctlplane subnet ip addresses should be used by
ansible in order to be able to establish connection successfully.

Closes-bug: #1881029
Change-Id: I1588b88279ba1e25706cc74f4a888901e5aadcb6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/731367/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/ovn_migration.sh'],1,d93ac3d65942b8cbbf58887009bd6ecc89bb176c,fix_ovn_migration_ssh, ip=`jq -r --arg role _meta --arg hostname $host_name 'to_entries[] | select(.key == $role) | .value.hostvars[$hostname].ansible_host' $inventory_file`, ip=`jq -r --arg role _meta --arg hostname $host_name 'to_entries[] | select(.key == $role) | .value.hostvars[$hostname].management_ip' $inventory_file`,1,1
openstack%2Freleases~master~I88d55b32264b5316e7457d8e946cb40442f70b8e,openstack/releases,master,I88d55b32264b5316e7457d8e946cb40442f70b8e,Release horizon 16.2.0 (train),MERGED,2020-06-08 17:56:54.000000000,2020-06-11 10:03:17.000000000,2020-06-11 10:03:17.000000000,"[{'_account_id': 308}, {'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29313}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-06-08 17:56:54.000000000', 'files': ['deliverables/train/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0daf999643a83d8aff80888045278e7c0e8fab50', 'message': 'Release horizon 16.2.0 (train)\n\nThe minor version is bumped due to pyScss requirement change.\npyScss dependency needed to happen because of the latest\nsetuptools support.\n\nChange-Id: I88d55b32264b5316e7457d8e946cb40442f70b8e\n'}]",0,734163,0daf999643a83d8aff80888045278e7c0e8fab50,12,7,1,841,,,0,"Release horizon 16.2.0 (train)

The minor version is bumped due to pyScss requirement change.
pyScss dependency needed to happen because of the latest
setuptools support.

Change-Id: I88d55b32264b5316e7457d8e946cb40442f70b8e
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/734163/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/horizon.yaml'],1,0daf999643a83d8aff80888045278e7c0e8fab50,horizon-train, - version: 16.2.0 projects: - repo: openstack/horizon hash: fa839516e52b6a2418f48489d106e9931640b2cd,,4,0
openstack%2Freleases~master~I45f56dbc2ed858e6c075ec0384f5223d661898c1,openstack/releases,master,I45f56dbc2ed858e6c075ec0384f5223d661898c1,release oslo.utils 4.2.1,MERGED,2020-06-10 13:47:55.000000000,2020-06-11 09:59:43.000000000,2020-06-11 09:59:43.000000000,"[{'_account_id': 308}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 13:47:55.000000000', 'files': ['deliverables/victoria/oslo.utils.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/681033193817502610ef4f1269cbdc2d840a6799', 'message': 'release oslo.utils 4.2.1\n\nChange-Id: I45f56dbc2ed858e6c075ec0384f5223d661898c1\n'}]",0,734844,681033193817502610ef4f1269cbdc2d840a6799,9,4,1,28522,,,0,"release oslo.utils 4.2.1

Change-Id: I45f56dbc2ed858e6c075ec0384f5223d661898c1
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/734844/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/oslo.utils.yaml'],1,681033193817502610ef4f1269cbdc2d840a6799,release-greenthread-computing-checksum, - version: 4.2.1 projects: - repo: openstack/oslo.utils hash: b9938230f992935e8332b6e288937be890724cd2,,4,0
openstack%2Fswift-bench~master~I3da40f2d2ef55e4665752450059dddb188414b90,openstack/swift-bench,master,I3da40f2d2ef55e4665752450059dddb188414b90,drop mock from lower-constraints and requirements,NEW,2020-06-09 10:14:14.000000000,2020-06-11 09:58:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-09 10:14:14.000000000', 'files': ['test-requirements.txt', 'tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift-bench/commit/028a96a977f2c71f3e24bef71d581d24f69db1d2', 'message': ""drop mock from lower-constraints and requirements\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints and requirements.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I3da40f2d2ef55e4665752450059dddb188414b90\n""}]",0,734559,028a96a977f2c71f3e24bef71d581d24f69db1d2,3,2,1,28522,,,0,"drop mock from lower-constraints and requirements

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints and requirements.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: I3da40f2d2ef55e4665752450059dddb188414b90
",git fetch https://review.opendev.org/openstack/swift-bench refs/changes/59/734559/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tests/test_utils.py']",2,028a96a977f2c71f3e24bef71d581d24f69db1d2,drop_mock,from unittest import mock,import mock,1,2
openstack%2Fzaqar-tempest-plugin~master~I233dfc7a06cbd2e098499629f63d0b8f2db5258e,openstack/zaqar-tempest-plugin,master,I233dfc7a06cbd2e098499629f63d0b8f2db5258e,Cleanup py27 support,MERGED,2020-06-09 11:50:54.000000000,2020-06-11 09:53:34.000000000,2020-06-11 09:53:34.000000000,"[{'_account_id': 6159}, {'_account_id': 6413}, {'_account_id': 6427}, {'_account_id': 6484}, {'_account_id': 7385}, {'_account_id': 8846}, {'_account_id': 12321}, {'_account_id': 14203}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31882}]","[{'number': 1, 'created': '2020-06-09 11:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/33313ef72eb46db8b3b077514f8d8626151f0aa5', 'message': ""Cleanup py27 support\n\nThis repo is now testing only with Python 3, so let's make\na few cleanups:\n- Remove py2 stanza from setup.py\n- Remove obsolete sections from setup.cfg\n- Update classifiers\n- Switch to using sphinx-build\n- Remove install_command from tox.ini, the default is fine\n- Remove Babel from requirements, it's not needed for running.\n- Remove obsolete babel.cfg\n- Use TOX_CONSTRAINTS_FILE instead of obsolete UPPER_CONSTRAINTS_FILE.\n- Update hacking to current 3.1.0 version\n- Remove use of six library\n\nChange-Id: I233dfc7a06cbd2e098499629f63d0b8f2db5258e\n""}, {'number': 2, 'created': '2020-06-09 12:38:03.000000000', 'files': ['test-requirements.txt', 'zaqar_tempest_plugin/tests/v2/test_claims.py', 'babel.cfg', 'setup.py', 'zaqar_tempest_plugin/services/messaging/json/messaging_client.py', 'zaqar_tempest_plugin/tests/v2/test_queues_negative.py', 'zaqar_tempest_plugin/tests/v2/test_messages_negative.py', 'requirements.txt', 'zaqar_tempest_plugin/tests/v2/test_queues.py', 'zaqar_tempest_plugin/tests/v1/test_claims.py', 'zaqar_tempest_plugin/tests/v1_1/test_claims.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/4195ae11b22404f757e0e21f2a0452524152163f', 'message': ""Cleanup py27 support\n\nThis repo is now testing only with Python 3, so let's make\na few cleanups:\n- Remove py2 stanza from setup.py\n- Remove obsolete sections from setup.cfg\n- Update classifiers\n- Switch to using sphinx-build\n- Remove install_command from tox.ini, the default is fine\n- Remove Babel from requirements, it's not needed for running.\n- Remove obsolete babel.cfg\n- Use TOX_CONSTRAINTS_FILE instead of obsolete UPPER_CONSTRAINTS_FILE.\n- Update hacking to current 3.1.0 version\n- Remove use of six library\n\nChange-Id: I233dfc7a06cbd2e098499629f63d0b8f2db5258e\n""}]",0,734591,4195ae11b22404f757e0e21f2a0452524152163f,9,12,2,6547,,,0,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove py2 stanza from setup.py
- Remove obsolete sections from setup.cfg
- Update classifiers
- Switch to using sphinx-build
- Remove install_command from tox.ini, the default is fine
- Remove Babel from requirements, it's not needed for running.
- Remove obsolete babel.cfg
- Use TOX_CONSTRAINTS_FILE instead of obsolete UPPER_CONSTRAINTS_FILE.
- Update hacking to current 3.1.0 version
- Remove use of six library

Change-Id: I233dfc7a06cbd2e098499629f63d0b8f2db5258e
",git fetch https://review.opendev.org/openstack/zaqar-tempest-plugin refs/changes/91/734591/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'zaqar_tempest_plugin/tests/v2/test_claims.py', 'babel.cfg', 'setup.py', 'zaqar_tempest_plugin/services/messaging/json/messaging_client.py', 'zaqar_tempest_plugin/tests/v2/test_queues_negative.py', 'zaqar_tempest_plugin/tests/v2/test_messages_negative.py', 'requirements.txt', 'zaqar_tempest_plugin/tests/v2/test_queues.py', 'zaqar_tempest_plugin/tests/v1/test_claims.py', 'zaqar_tempest_plugin/tests/v1_1/test_claims.py', 'setup.cfg', 'tox.ini']",13,33313ef72eb46db8b3b077514f8d8626151f0aa5,cleanup-py27-support,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtcommands = sphinx-build -a -W -b html doc/source doc/build/html,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages}deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtcommands = python setup.py build_sphinx,25,56
openstack%2Fpython-openstackclient~master~I1ad0da8deda3a8cbec384b5a9c88860a526eb48c,openstack/python-openstackclient,master,I1ad0da8deda3a8cbec384b5a9c88860a526eb48c,Replace assertItemsEqual with assertCountEqual,MERGED,2020-06-01 14:39:55.000000000,2020-06-11 09:48:05.000000000,2020-06-05 19:32:08.000000000,"[{'_account_id': 841}, {'_account_id': 6547}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 31068}]","[{'number': 1, 'created': '2020-06-01 14:39:55.000000000', 'files': ['openstackclient/tests/unit/common/test_parseractions.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a15b1addb41147415716417f385f8ee32aace64b', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nassertItemsEqual was removed from Python's unittest.TestCase in\nPython 3.3 [1][2]. We have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I1ad0da8deda3a8cbec384b5a9c88860a526eb48c\n""}]",0,732393,a15b1addb41147415716417f385f8ee32aace64b,18,6,1,16312,,,0,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I1ad0da8deda3a8cbec384b5a9c88860a526eb48c
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/93/732393/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/unit/common/test_parseractions.py'],1,a15b1addb41147415716417f385f8ee32aace64b,," self.assertCountEqual(expect, actual) self.assertCountEqual(expect, actual)"," self.assertItemsEqual(expect, actual) self.assertItemsEqual(expect, actual)",2,2
openstack%2Fosc-lib~master~I631fb791ece68aac607aeae56ce96a0d472964c8,openstack/osc-lib,master,I631fb791ece68aac607aeae56ce96a0d472964c8,Replace assertItemsEqual with assertCountEqual,MERGED,2020-03-13 10:39:59.000000000,2020-06-11 09:45:51.000000000,2020-03-17 18:48:06.000000000,"[{'_account_id': 2}, {'_account_id': 13252}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-13 10:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/be57d7b7de92fdc378a0b4196e9c70ad35c8d595', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nassertItemsEqual was removed from Python's unittest.TestCase in\nPython 3.3 [1][2]. We have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I631fb791ece68aac607aeae56ce96a0d472964c8\n""}, {'number': 2, 'created': '2020-03-13 14:55:29.000000000', 'files': ['osc_lib/tests/cli/test_parseractions.py', 'osc_lib/tests/utils/test_tags.py'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/32742e784ac31b8ebb8af9bb71a366c71c47c31c', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nassertItemsEqual was removed from Python's unittest.TestCase in\nPython 3.3 [1][2]. We have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I631fb791ece68aac607aeae56ce96a0d472964c8\n""}]",0,712904,32742e784ac31b8ebb8af9bb71a366c71c47c31c,15,4,2,16312,,,0,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I631fb791ece68aac607aeae56ce96a0d472964c8
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/04/712904/1 && git format-patch -1 --stdout FETCH_HEAD,"['osc_lib/tests/cli/test_parseractions.py', 'osc_lib/tests/utils/test_tags.py']",2,be57d7b7de92fdc378a0b4196e9c70ad35c8d595,unittest," self.assertCountEqual(expected, actual) self.assertCountEqual(expected, actual) self.assertCountEqual(expected, actual) self.assertCountEqual(expected, actual) self.assertCountEqual(expected, actual) self.assertCountEqual(expected, actual) self.assertCountEqual(expected, actual) self.assertCountEqual(expected, actual) self.assertCountEqual(expected, actual) self.assertCountEqual(expected, actual)"," self.assertItemsEqual(expected, actual) self.assertItemsEqual(expected, actual) self.assertItemsEqual(expected, actual) self.assertItemsEqual(expected, actual) self.assertItemsEqual(expected, actual) self.assertItemsEqual(expected, actual) self.assertItemsEqual(expected, actual) self.assertItemsEqual(expected, actual) self.assertItemsEqual(expected, actual) self.assertItemsEqual(expected, actual)",20,20
openstack%2Fmurano-pkg-check~master~Id5fa9404d27f537d6e4a4296d780f96841a5aca3,openstack/murano-pkg-check,master,Id5fa9404d27f537d6e4a4296d780f96841a5aca3,Fix incorrect base python version being picked for unit tests,MERGED,2020-06-02 11:35:10.000000000,2020-06-11 09:39:49.000000000,2020-06-11 09:39:49.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-02 11:35:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/murano-pkg-check/commit/1a26da98d61ac678609d21c8be04915f884de06b', 'message': ""Fix incorrect base python version being picked for unit tests\n\nCurrently all unit tests are running against python 3.6, because\nthe base testenv has python3 set (which points to 3.6). we need\nto ignore the base python conflict and let tox chose the specific\nversion we're looking for testing.\n\nChange-Id: Id5fa9404d27f537d6e4a4296d780f96841a5aca3\n""}]",0,732530,1a26da98d61ac678609d21c8be04915f884de06b,8,2,1,6593,,,0,"Fix incorrect base python version being picked for unit tests

Currently all unit tests are running against python 3.6, because
the base testenv has python3 set (which points to 3.6). we need
to ignore the base python conflict and let tox chose the specific
version we're looking for testing.

Change-Id: Id5fa9404d27f537d6e4a4296d780f96841a5aca3
",git fetch https://review.opendev.org/openstack/murano-pkg-check refs/changes/30/732530/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1a26da98d61ac678609d21c8be04915f884de06b,,"minversion = 3.1.1 envlist = py36,py37,py38,pep8 # Automatic envs (pyXX) will only use the python version appropriate to that # env and ignore basepython inherited from [testenv] if we set # ignore_basepython_conflict. ignore_basepython_conflict = True","minversion = 2.0 envlist = py37,pep8 skipsdist = True",6,3
openstack%2Fnova~master~I404ca316b1bf2a963106cd34e927934befbd9b12,openstack/nova,master,I404ca316b1bf2a963106cd34e927934befbd9b12,Use 'Exception.__traceback__' for versioned notifications,MERGED,2020-06-04 17:34:31.000000000,2020-06-11 09:38:20.000000000,2020-06-10 17:17:12.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-06-04 17:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7b2928395df6561c920dfaa9855805516416118', 'message': ""Use 'Exception.__traceback__' for versioned notifications\n\nThe 'inspect.trace()' function is expected to be called within the\ncontext of an exception handler. The 'from_exc_and_traceback' class\nmethod of the 'nova.notification.objects.exception.ExceptionPayload'\nclass uses this to get information about a provided exception, however,\nthere are cases where this is called from outside of an exception\nhandler. In these cases, we see an 'IndexError' since we can't get the\nlast frame of a non-existent stacktrace. The solution to this is to\nfallback to using the traceback embedded in the exception. This is a bit\nlossy when decorators are involved but for all other cases this will\ngive us the same information. This also allows us to avoid passing a\ntraceback argument to the function since we have it to hand already.\n\nChange-Id: I404ca316b1bf2a963106cd34e927934befbd9b12\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1881455\n""}, {'number': 2, 'created': '2020-06-08 13:39:01.000000000', 'files': ['nova/exception_wrapper.py', 'nova/scheduler/utils.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/notifications/objects/exception.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/notifications/objects/test_exception.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/unit/scheduler/test_scheduler_utils.py', 'nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/125df26bf9d6b4cfbfb68770fa47f2055f29b8dc', 'message': ""Use 'Exception.__traceback__' for versioned notifications\n\nThe 'inspect.trace()' function is expected to be called within the\ncontext of an exception handler. The 'from_exc_and_traceback' class\nmethod of the 'nova.notification.objects.exception.ExceptionPayload'\nclass uses this to get information about a provided exception, however,\nthere are cases where this is called from outside of an exception\nhandler. In these cases, we see an 'IndexError' since we can't get the\nlast frame of a non-existent stacktrace. The solution to this is to\nfallback to using the traceback embedded in the exception. This is a bit\nlossy when decorators are involved but for all other cases this will\ngive us the same information. This also allows us to avoid passing a\ntraceback argument to the function since we have it to hand already.\n\nChange-Id: I404ca316b1bf2a963106cd34e927934befbd9b12\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1881455\n""}]",10,733668,125df26bf9d6b4cfbfb68770fa47f2055f29b8dc,27,11,2,15334,,,0,"Use 'Exception.__traceback__' for versioned notifications

The 'inspect.trace()' function is expected to be called within the
context of an exception handler. The 'from_exc_and_traceback' class
method of the 'nova.notification.objects.exception.ExceptionPayload'
class uses this to get information about a provided exception, however,
there are cases where this is called from outside of an exception
handler. In these cases, we see an 'IndexError' since we can't get the
last frame of a non-existent stacktrace. The solution to this is to
fallback to using the traceback embedded in the exception. This is a bit
lossy when decorators are involved but for all other cases this will
give us the same information. This also allows us to avoid passing a
traceback argument to the function since we have it to hand already.

Change-Id: I404ca316b1bf2a963106cd34e927934befbd9b12
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1881455
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/733668/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception_wrapper.py', 'nova/scheduler/utils.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/notifications/objects/exception.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/notifications/objects/test_exception.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/unit/scheduler/test_scheduler_utils.py', 'nova/compute/utils.py']",13,b7b2928395df6561c920dfaa9855805516416118,bug/1881455,"def _get_fault_and_priority_from_exception(exception: Exception): if not exception: return fault, priority fault = notification_exception.ExceptionPayload.from_exception(exception) priority = fields.NotificationPriority.ERROR exception=None, bdms=None): provided then we will load it from the db if so configured fault, priority = _get_fault_and_priority_from_exception(exception) exception=None, bdms=None): fault, priority = _get_fault_and_priority_from_exception(exception) volume_id=None, exception=None): fault, priority = _get_fault_and_priority_from_exception(exception) exception=None): fault, priority = _get_fault_and_priority_from_exception(exception) old_volume_id, new_volume_id, exception=None): fault, priority = _get_fault_and_priority_from_exception(exception) exception=None, bdms=None): fault, priority = _get_fault_and_priority_from_exception(exception)def notify_about_libvirt_connect_error(context, ip, exception): fault, _ = _get_fault_and_priority_from_exception(exception) request_spec, state, exception): fault, _ = _get_fault_and_priority_from_exception(exception)","def _get_fault_and_priority_from_exc_and_tb(exception, tb): if exception: priority = fields.NotificationPriority.ERROR fault = notification_exception.ExceptionPayload.from_exc_and_traceback( exception, tb) exception=None, bdms=None, tb=None): provided then we will load it from the db if so configured :param tb: the traceback (used in error notifications) fault, priority = _get_fault_and_priority_from_exc_and_tb(exception, tb) exception=None, bdms=None, tb=None): :param tb: the traceback (used in error notifications) fault, priority = _get_fault_and_priority_from_exc_and_tb(exception, tb) volume_id=None, exception=None, tb=None): :param tb: the traceback (used in error notifications) fault, priority = _get_fault_and_priority_from_exc_and_tb(exception, tb) exception=None, tb=None): :param tb: the traceback (used in error notifications) fault, priority = _get_fault_and_priority_from_exc_and_tb(exception, tb) old_volume_id, new_volume_id, exception=None, tb=None): :param tb: the traceback (used in error notifications) fault, priority = _get_fault_and_priority_from_exc_and_tb(exception, tb) exception=None, bdms=None, tb=None): :param tb: the traceback (used in error notifications) fault, priority = _get_fault_and_priority_from_exc_and_tb(exception, tb)def notify_about_libvirt_connect_error(context, ip, exception, tb): :param tb: the traceback fault, _ = _get_fault_and_priority_from_exc_and_tb(exception, tb) request_spec, state, exception, tb): fault, _ = _get_fault_and_priority_from_exc_and_tb(exception, tb)",159,184
openstack%2Fzaqar-specs~master~I1ff3853020d69aeceb8b81c21ce608b269015ece,openstack/zaqar-specs,master,I1ff3853020d69aeceb8b81c21ce608b269015ece,Cleanup docs building,MERGED,2020-06-04 07:41:03.000000000,2020-06-11 09:33:43.000000000,2020-06-11 09:30:56.000000000,"[{'_account_id': 6159}, {'_account_id': 6484}, {'_account_id': 6547}, {'_account_id': 8846}, {'_account_id': 22348}, {'_account_id': 31882}]","[{'number': 1, 'created': '2020-06-04 07:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/8e5c88df5c8cc2405b6bd3ab41277601fdc7a148', 'message': 'Cleanup docs building\n\na few cleanups:\n- Remove obsolete sections from setup.cfg\n- Switch to using sphinx-build\n- Remove install_command from tox.ini, the default is fine\n- Update pbr requirement\n\nChange-Id: I1ff3853020d69aeceb8b81c21ce608b269015ece\n'}, {'number': 2, 'created': '2020-06-04 07:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/af3693d4a306df731bd5fbe137155c64b2fe2ea8', 'message': 'Cleanup docs building\n\na few cleanups:\n- Remove obsolete sections from setup.cfg\n- Switch to using sphinx-build\n- Remove install_command from tox.ini, the default is fine\n- Update pbr requirement\n\nChange-Id: I1ff3853020d69aeceb8b81c21ce608b269015ece\n'}, {'number': 3, 'created': '2020-06-04 07:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/30c9c83c7d9ea672c050cfdafc5d2a9393e6b251', 'message': 'Cleanup docs building\n\na few cleanups:\n- Remove obsolete sections from setup.cfg\n- Switch to using sphinx-build\n- Remove install_command from tox.ini, the default is fine\n- Update pbr requirement\n- Fix build problems\n\nChange-Id: I1ff3853020d69aeceb8b81c21ce608b269015ece\n'}, {'number': 4, 'created': '2020-06-04 08:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/e6e5c15795904ca8177e326347987cd3113574db', 'message': 'Cleanup docs building\n\na few cleanups:\n- Remove obsolete sections from setup.cfg\n- Switch to using sphinx-build\n- Remove install_command from tox.ini, the default is fine\n- Update pbr requirement\n- Fix build problems\n\nChange-Id: I1ff3853020d69aeceb8b81c21ce608b269015ece\n'}, {'number': 5, 'created': '2020-06-04 08:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/f3991d0c9d42fae180db1798ee78497b90797d79', 'message': 'Cleanup docs building\n\na few cleanups:\n- Remove obsolete sections from setup.cfg\n- Switch to using sphinx-build\n- Remove install_command from tox.ini, the default is fine\n- Update pbr requirement\n- Fix build problems\n- Switch to py38 for testing following Victoria testing platforms\n\nChange-Id: I1ff3853020d69aeceb8b81c21ce608b269015ece\n'}, {'number': 6, 'created': '2020-06-10 05:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/744e1694ea8f2ca6f710085ced0ec29f75a9664f', 'message': 'Cleanup docs building\n\na few cleanups:\n- Remove obsolete sections from setup.cfg\n- Switch to using sphinx-build\n- Remove install_command from tox.ini, the default is fine\n- Update pbr requirement\n- Fix build problems\n- Switch to py38 for testing following Victoria testing platforms\n\nChange-Id: I1ff3853020d69aeceb8b81c21ce608b269015ece\n'}, {'number': 7, 'created': '2020-06-10 05:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/88cfef5d001277c1203c30e1f0ad1685d418d9e0', 'message': 'Cleanup docs building\n\na few cleanups:\n- Remove obsolete sections from setup.cfg\n- Switch to using sphinx-build\n- Remove install_command from tox.ini, the default is fine\n- Update pbr requirement\n- Fix build problems\n- Switch to py38 for testing following Victoria testing platforms\n\nChange-Id: I1ff3853020d69aeceb8b81c21ce608b269015ece\n'}, {'number': 8, 'created': '2020-06-10 05:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/90d5d0905229df79ad714eb2af482abc4b1a0700', 'message': 'Cleanup docs building\n\na few cleanups:\n- Remove obsolete sections from setup.cfg\n- Switch to using sphinx-build\n- Remove install_command from tox.ini, the default is fine\n- Update pbr requirement\n- Fix build problems\n- Switch to py38 for testing following Victoria testing platforms\n\nChange-Id: I1ff3853020d69aeceb8b81c21ce608b269015ece\n'}, {'number': 9, 'created': '2020-06-10 05:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/49534ac10ef61fbc660cce439c5a79cd7f773655', 'message': 'Cleanup docs building\n\na few cleanups:\n- Remove obsolete sections from setup.cfg\n- Switch to using sphinx-build\n- Remove install_command from tox.ini, the default is fine\n- Update pbr requirement\n- Fix build problems\n- Switch to py38 for testing following Victoria testing platforms\n\nChange-Id: I1ff3853020d69aeceb8b81c21ce608b269015ece\n'}, {'number': 10, 'created': '2020-06-10 05:49:20.000000000', 'files': ['specs/index.rst', 'requirements.txt', 'specs/victoria/index.rst', '.zuul.yaml', 'specs/ussuri/query-queues-with-count.rst', 'specs/victoria/encrypted-messages-in-queue.rst', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/64d0a2a0dee6f787586119883d736e590eeb8f95', 'message': 'Cleanup docs building\n\na few cleanups:\n- Remove obsolete sections from setup.cfg\n- Switch to using sphinx-build\n- Remove install_command from tox.ini, the default is fine\n- Update pbr requirement\n- Fix build problems\n- Switch to py38 for testing following Victoria testing platforms\n\nChange-Id: I1ff3853020d69aeceb8b81c21ce608b269015ece\n'}]",0,733466,64d0a2a0dee6f787586119883d736e590eeb8f95,27,6,10,6547,,,0,"Cleanup docs building

a few cleanups:
- Remove obsolete sections from setup.cfg
- Switch to using sphinx-build
- Remove install_command from tox.ini, the default is fine
- Update pbr requirement
- Fix build problems
- Switch to py38 for testing following Victoria testing platforms

Change-Id: I1ff3853020d69aeceb8b81c21ce608b269015ece
",git fetch https://review.opendev.org/openstack/zaqar-specs refs/changes/66/733466/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'setup.cfg', 'tox.ini']",3,8e5c88df5c8cc2405b6bd3ab41277601fdc7a148,cleanup-py27-support,commands = sphinx-build -W -b html doc/source doc/build/html,install_command = pip install -U {opts} {packages}commands = python setup.py build_sphinx,3,15
openstack%2Fironic~master~I9135944ae8af6fdc7689e498802d787d5bc4bd36,openstack/ironic,master,I9135944ae8af6fdc7689e498802d787d5bc4bd36,Add virtualbmc to lower-constraints,ABANDONED,2020-06-11 09:03:54.000000000,2020-06-11 09:32:24.000000000,,[],"[{'number': 1, 'created': '2020-06-11 09:03:54.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/48faab4e2a9aa51fa273bac8d106bc58c2661610', 'message': ""Add virtualbmc to lower-constraints\n\nrequirements-check job is failing with:\n  ERROR: Package 'virtualbmc' is used in devstack but\n         not in lower-constraints.txt\n\nThis issue was likely introduced by:\n commit: e8daa0f2701eed284bb9e032b6c85446245b2765\n\nChange-Id: I9135944ae8af6fdc7689e498802d787d5bc4bd36\n""}]",0,735085,48faab4e2a9aa51fa273bac8d106bc58c2661610,2,0,1,24245,,,0,"Add virtualbmc to lower-constraints

requirements-check job is failing with:
  ERROR: Package 'virtualbmc' is used in devstack but
         not in lower-constraints.txt

This issue was likely introduced by:
 commit: e8daa0f2701eed284bb9e032b6c85446245b2765

Change-Id: I9135944ae8af6fdc7689e498802d787d5bc4bd36
",git fetch https://review.opendev.org/openstack/ironic refs/changes/85/735085/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,48faab4e2a9aa51fa273bac8d106bc58c2661610,virtualbmc,virtualbmc>=1.4.0,,1,0
openstack%2Fironic-inspector~master~Iccf78a04a66dcef383d9e38ac3990f3c838bdf84,openstack/ironic-inspector,master,Iccf78a04a66dcef383d9e38ac3990f3c838bdf84,Use unittest.mock instead of mock,MERGED,2020-06-08 23:15:13.000000000,2020-06-11 09:23:22.000000000,2020-06-11 09:21:47.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-08 23:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/af0e83d34f38aa90454c7320bc12480dc55f6b78', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Iccf78a04a66dcef383d9e38ac3990f3c838bdf84\n'}, {'number': 2, 'created': '2020-06-10 18:21:08.000000000', 'files': ['ironic_inspector/test/unit/test_plugins_base_physnet.py', 'lower-constraints.txt', 'ironic_inspector/test/unit/test_plugins_physnet_cidr_map.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/80167d4908c23950b84110b7f14d689882423a3e', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Iccf78a04a66dcef383d9e38ac3990f3c838bdf84\n'}]",4,734351,80167d4908c23950b84110b7f14d689882423a3e,12,4,2,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Iccf78a04a66dcef383d9e38ac3990f3c838bdf84
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/51/734351/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_plugins_base_physnet.py', 'lower-constraints.txt', 'ironic_inspector/test/unit/test_plugins_physnet_cidr_map.py']",3,af0e83d34f38aa90454c7320bc12480dc55f6b78,drop_mock,from unittest import mock,import mock,2,3
openstack%2Fnetworking-ovn~stable%2Fstein~Ib95ecd29f3c4577ff8019df4dba2f4131bacd053,openstack/networking-ovn,stable/stein,Ib95ecd29f3c4577ff8019df4dba2f4131bacd053,Enforce Python 3 usage for rally job,MERGED,2020-06-10 14:39:16.000000000,2020-06-11 09:18:46.000000000,2020-06-11 09:15:37.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 14:39:16.000000000', 'files': ['zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f87fbc9c2497f63af3626caf6e94d6fdfc4762b4', 'message': 'Enforce Python 3 usage for rally job\n\nrally-openstack has dependencies that require python3 libs.\nLets try to stick to python3 in that job.\n\nChange-Id: Ib95ecd29f3c4577ff8019df4dba2f4131bacd053\n'}]",0,734862,f87fbc9c2497f63af3626caf6e94d6fdfc4762b4,8,3,1,24791,,,0,"Enforce Python 3 usage for rally job

rally-openstack has dependencies that require python3 libs.
Lets try to stick to python3 in that job.

Change-Id: Ib95ecd29f3c4577ff8019df4dba2f4131bacd053
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/62/734862/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/networking-ovn-jobs.yaml'],1,f87fbc9c2497f63af3626caf6e94d6fdfc4762b4,, USE_PYTHON3: true,,1,0
openstack%2Fbifrost~master~I391c423a9ce4d1cb948e887cac3fe53987c3c39e,openstack/bifrost,master,I391c423a9ce4d1cb948e887cac3fe53987c3c39e,Add an option to use pre-built DIB images,MERGED,2020-06-10 12:45:38.000000000,2020-06-11 09:16:57.000000000,2020-06-11 09:12:09.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-10 12:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ec84f7d9221b91295875068f2c8f2f3954182f4c', 'message': 'Add an option to use pre-built DIB images\n\nChange-Id: I391c423a9ce4d1cb948e887cac3fe53987c3c39e\n'}, {'number': 2, 'created': '2020-06-10 12:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/74ab5726fe19ad99ef4790b8a332783c0b6a40ee', 'message': 'Add an option to use pre-built DIB images\n\nChange-Id: I391c423a9ce4d1cb948e887cac3fe53987c3c39e\n'}, {'number': 3, 'created': '2020-06-10 13:03:34.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'releasenotes/notes/use-tinyipa-31f5343def1c0bf4.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3fe85c57805b04b4c72cfc81d67f04e147bba5d7', 'message': 'Add an option to use pre-built DIB images\n\nChange-Id: I391c423a9ce4d1cb948e887cac3fe53987c3c39e\n'}]",0,734812,3fe85c57805b04b4c72cfc81d67f04e147bba5d7,10,3,3,10239,,,0,"Add an option to use pre-built DIB images

Change-Id: I391c423a9ce4d1cb948e887cac3fe53987c3c39e
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/12/734812/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'releasenotes/notes/use-tinyipa-31f5343def1c0bf4.yaml']",2,ec84f7d9221b91295875068f2c8f2f3954182f4c,use-tinyipa,--- features: - | The new variable ``use_tinyipa`` (defaulting to ``true``) defines whether to use the pre-built tinyIPA images or production-ready CentOS images built with DIB. ,,23,2
openstack%2Fbifrost~master~Ie281b1e9b3ce630a6e15a54e38b282f54b1be925,openstack/bifrost,master,Ie281b1e9b3ce630a6e15a54e38b282f54b1be925,bifrost-create-vm-nodes: generate a normal nodes.json,MERGED,2020-06-05 09:14:27.000000000,2020-06-11 09:13:56.000000000,2020-06-11 09:12:08.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-05 09:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5c4c0f865fc429d8305a00f848fc6e556640b739', 'message': 'bifrost-create-vm-nodes: generate a normal nodes.json\n\nChange-Id: Ie281b1e9b3ce630a6e15a54e38b282f54b1be925\n'}, {'number': 2, 'created': '2020-06-05 09:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3f68b4878126fb80fb78a2f1b2f41be5e9cbbb4d', 'message': 'bifrost-create-vm-nodes: generate a normal nodes.json\n\nChange-Id: Ie281b1e9b3ce630a6e15a54e38b282f54b1be925\n'}, {'number': 3, 'created': '2020-06-06 14:53:42.000000000', 'files': ['playbooks/roles/bifrost-create-vm-nodes/tasks/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/create_vm.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/main.yml', 'releasenotes/notes/nodes.json-d47a30a22a04c7ed.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d5a279a183cb71f6f90f971f55add0fb5ae522d2', 'message': 'bifrost-create-vm-nodes: generate a normal nodes.json\n\nChange-Id: Ie281b1e9b3ce630a6e15a54e38b282f54b1be925\n'}]",0,733783,d5a279a183cb71f6f90f971f55add0fb5ae522d2,12,3,3,10239,,,0,"bifrost-create-vm-nodes: generate a normal nodes.json

Change-Id: Ie281b1e9b3ce630a6e15a54e38b282f54b1be925
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/83/733783/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-create-vm-nodes/tasks/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/create_vm.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/main.yml', 'releasenotes/notes/nodes.json-d47a30a22a04c7ed.yaml']",4,5c4c0f865fc429d8305a00f848fc6e556640b739,bifrost-cli,--- features: - | A normal ironic ``nodes.json`` (suitable for the ``baremetal create`` command) is now generated when creating testing VMs. The default location is ``/tmp/nodes.json``. ,,38,5
openstack%2Ftripleo-validations~master~I5e68b1f1de64a4c199fa1764e1dbe4d8c36973f6,openstack/tripleo-validations,master,I5e68b1f1de64a4c199fa1764e1dbe4d8c36973f6,Don't write playbook stats in binary mode,MERGED,2020-03-22 03:08:53.000000000,2020-06-11 08:49:17.000000000,2020-03-24 07:35:08.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-22 03:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5a62c79a694430aafe5fe6e1dd0dbc779ecbb91a', 'message': ""Don't write playbook stats in binary mode\n\nDon't write the json string in binary mode.\n\nChange-Id: I5e68b1f1de64a4c199fa1764e1dbe4d8c36973f6\nTask: 39122\n""}, {'number': 2, 'created': '2020-03-22 06:41:03.000000000', 'files': ['callback_plugins/validation_json.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a0e13193c57a9c7f42741e7ceb9e50545bdd54f8', 'message': ""Don't write playbook stats in binary mode\n\nDon't write the json string in binary mode.\n\nChange-Id: I5e68b1f1de64a4c199fa1764e1dbe4d8c36973f6\nTask: 39122\n""}]",0,714280,a0e13193c57a9c7f42741e7ceb9e50545bdd54f8,14,3,2,8833,,,0,"Don't write playbook stats in binary mode

Don't write the json string in binary mode.

Change-Id: I5e68b1f1de64a4c199fa1764e1dbe4d8c36973f6
Task: 39122
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/80/714280/1 && git format-patch -1 --stdout FETCH_HEAD,['callback_plugins/validation_json.py'],1,5a62c79a694430aafe5fe6e1dd0dbc779ecbb91a,," with open(log_file, 'w') as js:"," with open(log_file, 'wb') as js:",1,1
openstack%2Fbifrost~stable%2Fqueens~Id893e816a7806e7d75282628817288d8a34ab8af,openstack/bifrost,stable/queens,Id893e816a7806e7d75282628817288d8a34ab8af,Fix multiple CI failures,MERGED,2020-06-09 11:14:28.000000000,2020-06-11 08:47:14.000000000,2020-06-11 08:43:51.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-09 11:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/569d5db96574fb27681dc73c45c5197cdd1cf798', 'message': ""Migrate to Zuul v3 native jobs\n\nThis corrects the path handling in the CI and removes a lot of\nredundancy in the CI definitions. Also adds fixed log collection\nfrom https://review.opendev.org/#/c/649526/ to make the CI pass.\n\nRemoves handling of ZUUL_CHANGES. It is not present in new jobs,\nand its use case in Bifrost is completely unclear.\n\nEventually, we should rewrite the whole test-bifrost.sh in ansible,\nbut that's a much bigger task.\n\nConflicts:\n\tplaybooks/legacy/bifrost-integration-dhcp/run.yaml\n\tplaybooks/legacy/bifrost-integration-dibipa-debian/run.yaml\n\tplaybooks/legacy/bifrost-integration-tinyipa/run.yaml\n\tplaybooks/test-bifrost.yaml\n\tscripts/collect-test-info.sh\n\tscripts/test-bifrost.sh\n\tzuul.d/bifrost-jobs.yaml\n\nNotes on stable/queens backport:\n* collect-test-info.sh is taken as is from the rocky patch\n* the missing keystone job is added non-voting\n\nChange-Id: Id893e816a7806e7d75282628817288d8a34ab8af\n(cherry picked from commit 4bb71fc481eb66463084cf07bdd781c98b67100b)\n""}, {'number': 2, 'created': '2020-06-09 13:04:03.000000000', 'files': ['playbooks/legacy/bifrost-integration-tinyipa/post.yaml', 'playbooks/test-bifrost.yaml', 'scripts/collect-test-info.sh', 'playbooks/legacy/bifrost-integration-dibipa-debian/run.yaml', 'scripts/test-bifrost-keystone-auth.sh', 'playbooks/roles/bifrost-openstack-ci-prep/tasks/main.yml', 'playbooks/ci/pre.yaml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml', 'zuul.d/bifrost-jobs.yaml', 'scripts/test-bifrost.sh', 'playbooks/test-bifrost-create-vm.yaml', 'scripts/test-bifrost-build-images.sh', 'playbooks/ci/post.yaml', 'scripts/test-bifrost-venv.sh', 'playbooks/legacy/bifrost-integration-tinyipa/run.yaml', 'releasenotes/notes/pin-dib-6767c0b13399edf1.yaml', 'playbooks/roles/bifrost-openstack-ci-prep/files/parse_zuul_changes.py', 'scripts/test-bifrost-inventory-dhcp.sh', 'playbooks/ci/run.yaml', 'playbooks/legacy/bifrost-integration-dhcp/run.yaml', 'zuul.d/project.yaml', 'playbooks/legacy/bifrost-integration-dibipa-debian/post.yaml', 'playbooks/roles/bifrost-openstack-ci-prep/README.md'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5cdc6be33ccf8cb2e84343f04e1660a40412dc23', 'message': ""Fix multiple CI failures\n\n1. Migrate to Zuul v3 native jobs\n\nThis corrects the path handling in the CI and removes a lot of\nredundancy in the CI definitions. Also adds fixed log collection\nfrom https://review.opendev.org/#/c/649526/ to make the CI pass.\n\nRemoves handling of ZUUL_CHANGES. It is not present in new jobs,\nand its use case in Bifrost is completely unclear.\n\nEventually, we should rewrite the whole test-bifrost.sh in ansible,\nbut that's a much bigger task.\n\nConflicts:\n\tplaybooks/legacy/bifrost-integration-dhcp/run.yaml\n\tplaybooks/legacy/bifrost-integration-dibipa-debian/run.yaml\n\tplaybooks/legacy/bifrost-integration-tinyipa/run.yaml\n\tplaybooks/test-bifrost.yaml\n\tscripts/collect-test-info.sh\n\tscripts/test-bifrost.sh\n\tzuul.d/bifrost-jobs.yaml\n\nNotes on stable/queens backport:\n* collect-test-info.sh is taken as is from the rocky patch\n* the missing keystone job is added non-voting\n\n(cherry picked from commit 4bb71fc481eb66463084cf07bdd781c98b67100b)\n\n2. Use tag for dib\n\nStable/train and older branches have py27 support, since diskimage-builder\nremoved the support we can't relly on the master branch. Let's use the\ntag 2.38.0 since still provides py27 support.\n\nConflicts:\n\tplaybooks/roles/bifrost-prep-for-install/defaults/main.yml\n\n(cherry picked from commit 9626f7a557c159a620d8ea2905b1995c22807cea)\n\nChange-Id: Id893e816a7806e7d75282628817288d8a34ab8af\n""}]",0,734585,5cdc6be33ccf8cb2e84343f04e1660a40412dc23,11,5,2,15197,,,0,"Fix multiple CI failures

1. Migrate to Zuul v3 native jobs

This corrects the path handling in the CI and removes a lot of
redundancy in the CI definitions. Also adds fixed log collection
from https://review.opendev.org/#/c/649526/ to make the CI pass.

Removes handling of ZUUL_CHANGES. It is not present in new jobs,
and its use case in Bifrost is completely unclear.

Eventually, we should rewrite the whole test-bifrost.sh in ansible,
but that's a much bigger task.

Conflicts:
	playbooks/legacy/bifrost-integration-dhcp/run.yaml
	playbooks/legacy/bifrost-integration-dibipa-debian/run.yaml
	playbooks/legacy/bifrost-integration-tinyipa/run.yaml
	playbooks/test-bifrost.yaml
	scripts/collect-test-info.sh
	scripts/test-bifrost.sh
	zuul.d/bifrost-jobs.yaml

Notes on stable/queens backport:
* collect-test-info.sh is taken as is from the rocky patch
* the missing keystone job is added non-voting

(cherry picked from commit 4bb71fc481eb66463084cf07bdd781c98b67100b)

2. Use tag for dib

Stable/train and older branches have py27 support, since diskimage-builder
removed the support we can't relly on the master branch. Let's use the
tag 2.38.0 since still provides py27 support.

Conflicts:
	playbooks/roles/bifrost-prep-for-install/defaults/main.yml

(cherry picked from commit 9626f7a557c159a620d8ea2905b1995c22807cea)

Change-Id: Id893e816a7806e7d75282628817288d8a34ab8af
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/85/734585/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/bifrost-integration-tinyipa/post.yaml', 'playbooks/test-bifrost.yaml', 'scripts/collect-test-info.sh', 'playbooks/legacy/bifrost-integration-dibipa-debian/run.yaml', 'scripts/test-bifrost-keystone-auth.sh', 'playbooks/roles/bifrost-openstack-ci-prep/tasks/main.yml', 'playbooks/ci/pre.yaml', 'zuul.d/bifrost-jobs.yaml', 'scripts/test-bifrost.sh', 'playbooks/test-bifrost-create-vm.yaml', 'scripts/test-bifrost-build-images.sh', 'playbooks/ci/post.yaml', 'scripts/test-bifrost-venv.sh', 'playbooks/legacy/bifrost-integration-tinyipa/run.yaml', 'playbooks/roles/bifrost-openstack-ci-prep/files/parse_zuul_changes.py', 'scripts/test-bifrost-inventory-dhcp.sh', 'playbooks/ci/run.yaml', 'playbooks/legacy/bifrost-integration-dhcp/run.yaml', 'zuul.d/project.yaml', 'playbooks/legacy/bifrost-integration-dibipa-debian/post.yaml', 'playbooks/roles/bifrost-openstack-ci-prep/README.md']",21,569d5db96574fb27681dc73c45c5197cdd1cf798,,,"ansible_env.ZUUL_CHANGES: The list of changes from Zuul that need to be applied to the cloned repositories before testing can proceed. - name: ""Set ci_testing_zuul_changes if ZUUL_CHANGES is set"" set_fact: ci_testing_zuul_changes: true when: lookup('env', 'ZUUL_CHANGES') != """"",74,374
openstack%2Fbifrost~stable%2Fqueens~I378510457650e1502fb4c30b13601b222b289825,openstack/bifrost,stable/queens,I378510457650e1502fb4c30b13601b222b289825,Use tag for dib,ABANDONED,2020-06-04 09:29:06.000000000,2020-06-11 08:38:25.000000000,,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-04 09:29:06.000000000', 'files': ['releasenotes/notes/pin-dib-6767c0b13399edf1.yaml', 'zuul.d/legacy-bifrost-jobs.yaml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/22ea85e4c8c19c2e33d3d0a1ede9f2eb71bfd1e5', 'message': ""Use tag for dib\n\nStable/train and older branches have py27 support, since diskimage-builder\nremoved the support we can't relly on the master branch. Let's use the\ntag 2.38.0 since still provides py27 support.\n\nConflicts:\n        playbooks/roles/bifrost-prep-for-install/defaults/main.yml\n        zuul.d/legacy-bifrost-jobs.yaml\n\nChange-Id: I378510457650e1502fb4c30b13601b222b289825\n(cherry picked from commit 9626f7a557c159a620d8ea2905b1995c22807cea)\n""}]",0,733507,22ea85e4c8c19c2e33d3d0a1ede9f2eb71bfd1e5,13,5,1,15519,,,0,"Use tag for dib

Stable/train and older branches have py27 support, since diskimage-builder
removed the support we can't relly on the master branch. Let's use the
tag 2.38.0 since still provides py27 support.

Conflicts:
        playbooks/roles/bifrost-prep-for-install/defaults/main.yml
        zuul.d/legacy-bifrost-jobs.yaml

Change-Id: I378510457650e1502fb4c30b13601b222b289825
(cherry picked from commit 9626f7a557c159a620d8ea2905b1995c22807cea)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/07/733507/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pin-dib-6767c0b13399edf1.yaml', 'zuul.d/legacy-bifrost-jobs.yaml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml']",3,22ea85e4c8c19c2e33d3d0a1ede9f2eb71bfd1e5,use_dib_tag,dib_git_branch: 2.38.0,dib_git_branch: master,8,2
openstack%2Fkayobe~master~Ide2e9a7582b78b25eac3462dc3477faf0ee66d38,openstack/kayobe,master,Ide2e9a7582b78b25eac3462dc3477faf0ee66d38,Correct a typo in the document,MERGED,2020-06-11 07:30:42.000000000,2020-06-11 08:38:08.000000000,2020-06-11 08:36:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-11 07:30:42.000000000', 'files': ['doc/source/configuration/kolla.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e75b4a78546ca5cb9816ae2753f6863236f1d982', 'message': ""Correct a typo in the document\n\nThis patch changes 'Note that is is'\nto 'Note that it is' in doc/source/\nconfiguration/kolla.rst\n\nChange-Id: Ide2e9a7582b78b25eac3462dc3477faf0ee66d38\n""}]",0,735069,e75b4a78546ca5cb9816ae2753f6863236f1d982,7,2,1,30696,,,0,"Correct a typo in the document

This patch changes 'Note that is is'
to 'Note that it is' in doc/source/
configuration/kolla.rst

Change-Id: Ide2e9a7582b78b25eac3462dc3477faf0ee66d38
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/69/735069/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/kolla.rst'],1,e75b4a78546ca5cb9816ae2753f6863236f1d982,typo,Note that it is currently necessary to include the Bifrost source location if,Note that is is currently necessary to include the Bifrost source location if,1,1
openstack%2Fsushy~master~I1e77561fcb0d85bbee80457fbb053d866838c243,openstack/sushy,master,I1e77561fcb0d85bbee80457fbb053d866838c243,Add RAIDType properties to storage resources,MERGED,2020-05-27 19:26:11.000000000,2020-06-11 08:33:22.000000000,2020-06-11 08:30:22.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-05-27 19:26:11.000000000', 'files': ['sushy/resources/system/storage/constants.py', 'sushy/resources/system/storage/volume.py', 'releasenotes/notes/add-raid-type-properties-2090da5bea37c660.yaml', 'sushy/tests/unit/resources/system/storage/test_storage.py', 'sushy/tests/unit/resources/system/storage/test_volume.py', 'sushy/resources/system/storage/storage.py', 'sushy/tests/unit/json_samples/storage.json', 'sushy/resources/system/storage/mappings.py', 'sushy/tests/unit/json_samples/volume4.json'], 'web_link': 'https://opendev.org/openstack/sushy/commit/976d2acf5fbc38ab66f5271034b318ee642ec1eb', 'message': 'Add RAIDType properties to storage resources\n\nRecent versions of the Redfish specification added a RAIDType\nproperty to the Volume resource and a SupportedRAIDTypes property\nto the Storage resource. This patch adds those properties to the\nsushy resource models.\n\nChange-Id: I1e77561fcb0d85bbee80457fbb053d866838c243\nStory: 2003514\nTask: 36274\n'}]",0,731308,976d2acf5fbc38ab66f5271034b318ee642ec1eb,9,5,1,28128,,,0,"Add RAIDType properties to storage resources

Recent versions of the Redfish specification added a RAIDType
property to the Volume resource and a SupportedRAIDTypes property
to the Storage resource. This patch adds those properties to the
sushy resource models.

Change-Id: I1e77561fcb0d85bbee80457fbb053d866838c243
Story: 2003514
Task: 36274
",git fetch https://review.opendev.org/openstack/sushy refs/changes/08/731308/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/system/storage/constants.py', 'sushy/resources/system/storage/volume.py', 'releasenotes/notes/add-raid-type-properties-2090da5bea37c660.yaml', 'sushy/tests/unit/resources/system/storage/test_storage.py', 'sushy/tests/unit/resources/system/storage/test_volume.py', 'sushy/resources/system/storage/storage.py', 'sushy/tests/unit/json_samples/storage.json', 'sushy/resources/system/storage/mappings.py', 'sushy/tests/unit/json_samples/volume4.json']",9,976d2acf5fbc38ab66f5271034b318ee642ec1eb,task/36274," ""RAIDType"": ""RAID1"",",,117,0
openstack%2Fironic-specs~master~Iad18ce9f4c443d793c0f8faf03acea61ef492b32,openstack/ironic-specs,master,Iad18ce9f4c443d793c0f8faf03acea61ef492b32,Clean up specs,MERGED,2020-06-03 21:37:17.000000000,2020-06-11 08:24:15.000000000,2020-06-11 08:20:36.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-03 21:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/1f7c18e34f496b040cb328fe6b25859ee96aa376', 'message': 'Clean up specs\n\nAlso moves a few items into backlog that seem like they\nwill never be worked on at this point.\n\nChange-Id: Iad18ce9f4c443d793c0f8faf03acea61ef492b32\n'}, {'number': 2, 'created': '2020-06-03 21:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/8f7f836caf9a80b40cfaddfd3e1cb338ae659e45', 'message': 'Clean up specs\n\nAlso moves a few items into backlog that seem like they\nwill never be worked on at this point.\n\nChange-Id: Iad18ce9f4c443d793c0f8faf03acea61ef492b32\n'}, {'number': 3, 'created': '2020-06-09 00:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/634e806ba64cea64e25714048b249f8e191b2a83', 'message': 'Clean up specs\n\nAlso moves a few items into backlog that seem like they\nwill never be worked on at this point.\n\nChange-Id: Iad18ce9f4c443d793c0f8faf03acea61ef492b32\n'}, {'number': 4, 'created': '2020-06-10 01:50:26.000000000', 'files': ['specs/not-implemented/openbmc-driver.rst', 'specs/12.1/ilo-oob-raid.rst', 'specs/14.0/node-owner-policy.rst', 'specs/15.0/expose-hardware-indicators.rst', 'specs/15.0/node-retirement.rst', 'specs/not-implemented/node-name-regexp-api.rst', 'specs/15.0/node-lessee.rst', 'doc/source/index.rst', 'specs/14.0/inspector-network-separation.rst', 'specs/backlog/openbmc-driver.rst', 'specs/13.0/ilo-oob-disk-erase.rst', 'specs/backlog/node-name-regexp-api.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2a01a8e448264bd229311e53797c772cf06d03bb', 'message': 'Clean up specs\n\nAlso moves a few items into backlog that seem like they\nwill never be worked on at this point.\n\nChange-Id: Iad18ce9f4c443d793c0f8faf03acea61ef492b32\n'}]",1,733411,2a01a8e448264bd229311e53797c772cf06d03bb,13,3,4,11655,,,0,"Clean up specs

Also moves a few items into backlog that seem like they
will never be worked on at this point.

Change-Id: Iad18ce9f4c443d793c0f8faf03acea61ef492b32
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/11/733411/4 && git format-patch -1 --stdout FETCH_HEAD,"['specs/not-implemented/openbmc-driver.rst', 'specs/15.0/node-lessee.rst', 'specs/14.0/inspector-network-separation.rst', 'specs/12.1/ilo-oob-raid.rst', 'specs/backlog/openbmc-driver.rst', 'specs/13.0/ilo-oob-disk-erase.rst', 'specs/14.0/node-owner-policy.rst', 'specs/15.0/expose-hardware-indicators.rst', 'specs/backlog/node-name-regexp-api.rst', 'specs/15.0/node-retirement.rst', 'specs/not-implemented/node-name-regexp-api.rst']",11,1f7c18e34f496b040cb328fe6b25859ee96aa376,733411,,../approved/node-name-regexp-api.rst,0,2
openstack%2Fkolla-ansible~master~If909f59e7e4b241594c6b2567784ecad23e74226,openstack/kolla-ansible,master,If909f59e7e4b241594c6b2567784ecad23e74226,Add missing become to some VMWare tasks,MERGED,2020-06-05 16:55:03.000000000,2020-06-11 08:19:29.000000000,2020-06-10 18:30:03.000000000,"[{'_account_id': 10068}, {'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28595}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-05 16:55:03.000000000', 'files': ['ansible/roles/ceilometer/tasks/config.yml', 'ansible/roles/neutron/tasks/config.yml', 'releasenotes/notes/bug-missing-become-attributes-vmware-9ae97e49b4d7dc0d.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/640bbc38abdf15d0cd67f717f9c4562008ac29da', 'message': 'Add missing become to some VMWare tasks\n\nFixed on ``Copying VMware vCenter CA file`` and ``Copying over nsx.ini``.\n\nChange-Id: If909f59e7e4b241594c6b2567784ecad23e74226\nCloses-Bug: #1882252\n'}]",0,733893,640bbc38abdf15d0cd67f717f9c4562008ac29da,23,6,1,31991,,,0,"Add missing become to some VMWare tasks

Fixed on ``Copying VMware vCenter CA file`` and ``Copying over nsx.ini``.

Change-Id: If909f59e7e4b241594c6b2567784ecad23e74226
Closes-Bug: #1882252
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/733893/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ceilometer/tasks/config.yml', 'ansible/roles/neutron/tasks/config.yml', 'releasenotes/notes/bug-missing-become-attributes-vmware-9ae97e49b4d7dc0d.yaml']",3,640bbc38abdf15d0cd67f717f9c4562008ac29da,bug-become-nsx,"--- fixes: - | Add missing ""become: true"" on some VMWare related tasks. Fixed on ``Copying VMware vCenter CA file`` and ``Copying over nsx.ini``. ",,7,0
openstack%2Fbifrost~stable%2Fqueens~Icbeba4231cc84870083114f89d3f96fcb2a86124,openstack/bifrost,stable/queens,Icbeba4231cc84870083114f89d3f96fcb2a86124,CI: Use WORKSPACE for all dependencies,ABANDONED,2020-06-08 11:03:13.000000000,2020-06-11 08:04:06.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-08 11:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e5a03f3b7ea681ad2fb86bdf6d70675f2e8b6114', 'message': 'CI: fetch all required projects in bifrost-base\n\nChange-Id: Icbeba4231cc84870083114f89d3f96fcb2a86124\n'}, {'number': 2, 'created': '2020-06-08 12:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d3b6ac84de48ea08d1050d41a331aa20d43e9aa6', 'message': 'CI: Use WORKSPACE for all dependencies\n\nChange-Id: Icbeba4231cc84870083114f89d3f96fcb2a86124\n'}, {'number': 3, 'created': '2020-06-08 13:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a4d69c553dfd7bd9875265fa49efdbd2ad24aa26', 'message': 'CI: Use WORKSPACE for all dependencies\n\nChange-Id: Icbeba4231cc84870083114f89d3f96fcb2a86124\n'}, {'number': 4, 'created': '2020-06-08 13:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6dc0a199256e24cf10c81ec42aa926a3468dcc11', 'message': 'CI: Use WORKSPACE for all dependencies\n\nChange-Id: Icbeba4231cc84870083114f89d3f96fcb2a86124\n'}, {'number': 5, 'created': '2020-06-08 14:44:09.000000000', 'files': ['playbooks/legacy/bifrost-integration-dhcp-centos-7/run.yaml', 'playbooks/legacy/bifrost-integration-tinyipa-centos-7/run.yaml', 'playbooks/legacy/bifrost-integration-tinyipa/run.yaml', 'playbooks/legacy/bifrost-integration-dibipa-debian-opensuse-423/run.yaml', 'playbooks/legacy/bifrost-integration-tinyipa-opensuse-423/run.yaml', 'playbooks/test-bifrost.yaml', 'playbooks/legacy/bifrost-integration-dibipa-debian-centos-7/run.yaml', 'playbooks/legacy/bifrost-integration-dhcp-opensuse-423/run.yaml', 'zuul.d/legacy-bifrost-jobs.yaml', 'playbooks/legacy/bifrost-integration-dibipa-debian/run.yaml', 'playbooks/legacy/bifrost-integration-dhcp/run.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fff493306f175fe3e14a9beaca3d8391c86cd222', 'message': 'CI: Use WORKSPACE for all dependencies\n\nstable/queens CI jobs are currently failing to find sources under\n/opt/git, this appears to fix it. Also make legacy-bifrost-jobs.yaml\nmore similar to bifrost-jobs.yaml in newer branches.\n\nChange-Id: Icbeba4231cc84870083114f89d3f96fcb2a86124\n'}]",1,734059,fff493306f175fe3e14a9beaca3d8391c86cd222,12,3,5,15197,,,0,"CI: Use WORKSPACE for all dependencies

stable/queens CI jobs are currently failing to find sources under
/opt/git, this appears to fix it. Also make legacy-bifrost-jobs.yaml
more similar to bifrost-jobs.yaml in newer branches.

Change-Id: Icbeba4231cc84870083114f89d3f96fcb2a86124
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/59/734059/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/legacy-bifrost-jobs.yaml'],1,e5a03f3b7ea681ad2fb86bdf6d70675f2e8b6114,, - openstack/diskimage-builder - openstack/keystone - x/ironic-staging-drivers parent: bifrost-base parent: bifrost-base, - job: name: bifrost-integration parent: bifrost-base required-projects: # this is in addition to bifrost-base's required-projects - openstack/diskimage-builder parent: bifrost-integration parent: bifrost-integration,5,9
openstack%2Fironic-specs~master~I342bffbc320c1f6296f4d9d0fcbd5add87059d3a,openstack/ironic-specs,master,I342bffbc320c1f6296f4d9d0fcbd5add87059d3a,Follow-up on iso boot spec,MERGED,2020-05-18 14:28:36.000000000,2020-06-11 08:03:45.000000000,2020-06-11 08:01:45.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-05-18 14:28:36.000000000', 'files': ['specs/approved/ramdisk_deploy_virtual_media_boot_iso.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/ec01f7e4c90b23d58163eb4151789e07f839b102', 'message': 'Follow-up on iso boot spec\n\nFollowing up on some discussion related changes (both in review)\nand in chat to the spec document for the purposes of clarity.\n\nChange-Id: I342bffbc320c1f6296f4d9d0fcbd5add87059d3a\n'}]",0,728911,ec01f7e4c90b23d58163eb4151789e07f839b102,8,3,1,11655,,,0,"Follow-up on iso boot spec

Following up on some discussion related changes (both in review)
and in chat to the spec document for the purposes of clarity.

Change-Id: I342bffbc320c1f6296f4d9d0fcbd5add87059d3a
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/11/728911/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/ramdisk_deploy_virtual_media_boot_iso.rst'],1,ec01f7e4c90b23d58163eb4151789e07f839b102,, baremetal machine. This change would be focused on the virtual media boot interface code in relation to usage of Redfish.* Document this functionality for the ramdisk interface covering how to leverage this feature.," baremetal machine.* Optionally: Enable the glance image ``image_source`` code to support this path for iso booting. This could potentially allow the OpenStack Nova virt driver for ironic to enable booting of instances from ISO mediums, however this is out of scope. * Document this functionality for the ramdisk interface.",4,7
openstack%2Fvalidations-libs~stable%2Fussuri~I49d284edc2e1c54fb8c365e52146c656440b5db2,openstack/validations-libs,stable/ussuri,I49d284edc2e1c54fb8c365e52146c656440b5db2,Handle multiple validation logs results,MERGED,2020-05-27 02:45:26.000000000,2020-06-11 07:41:00.000000000,2020-06-11 07:41:00.000000000,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-27 02:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a8365c8b0d575bdf2048ac0a131878fa5066d8d4', 'message': 'Handle multiple validation logs results\n\nChange-Id: I49d284edc2e1c54fb8c365e52146c656440b5db2\n(cherry picked from commit b5cc8dff75f254850b38b0a6a96eeedf38362ee8)\n'}, {'number': 2, 'created': '2020-05-27 13:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/80f6c7c3b9a733c6d63facf1f600c397fd74dd0c', 'message': 'Handle multiple validation logs results\n\nChange-Id: I49d284edc2e1c54fb8c365e52146c656440b5db2\n(cherry picked from commit b5cc8dff75f254850b38b0a6a96eeedf38362ee8)\n'}, {'number': 3, 'created': '2020-06-11 02:18:48.000000000', 'files': ['validations_libs/validation_actions.py', 'validations_libs/validation_logs.py', 'validations_libs/tests/test_validation_logs.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8b52d248e3e6a1179422bf6321443408dd7503a4', 'message': 'Handle multiple validation logs results\n\nChange-Id: I49d284edc2e1c54fb8c365e52146c656440b5db2\n(cherry picked from commit b5cc8dff75f254850b38b0a6a96eeedf38362ee8)\n'}]",8,731029,8b52d248e3e6a1179422bf6321443408dd7503a4,16,4,3,3153,,,0,"Handle multiple validation logs results

Change-Id: I49d284edc2e1c54fb8c365e52146c656440b5db2
(cherry picked from commit b5cc8dff75f254850b38b0a6a96eeedf38362ee8)
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/29/731029/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/validation_actions.py', 'validations_libs/validation_logs.py', 'validations_libs/tests/test_validation_logs.py']",3,a8365c8b0d575bdf2048ac0a131878fa5066d8d4,return/multi/results-stable/ussuri," def test_get_results_none(self): vlogs = ValidationLogs('/tmp/foo') self.assertRaises(RuntimeError, vlogs.get_results, uuid=None) @mock.patch('validations_libs.validation_logs.ValidationLogs.' 'get_logfile_by_uuid_validation_id') @mock.patch('json.load', return_value=fakes.VALIDATIONS_LOGS_CONTENTS_LIST[0]) @mock.patch('six.moves.builtins.open') def test_get_results_list(self, mock_open, mock_json, mock_get_validation): mock_get_validation.return_value = \ ['/tmp/123_foo_2020-03-30T13:17:22.447857Z.json'] vlogs = ValidationLogs('/tmp/foo') content = vlogs.get_results(uuid=['123', '123'], validation_id='foo') self.assertEquals(content, [{'UUID': '123', 'Validations': 'foo', 'Status': 'PASSED', 'Status_by_Host': 'undercloud,PASSED', 'Host_Group': 'undercloud', 'Unreachable_Hosts': '', 'Duration': '0:00:03.753', 'Validations': 'foo'}, {'UUID': '123', 'Validations': 'foo', 'Status': 'PASSED', 'Status_by_Host': 'undercloud,PASSED', 'Host_Group': 'undercloud', 'Unreachable_Hosts': '', 'Duration': '0:00:03.753', 'Validations': 'foo'}])",,48,5
openstack%2Fpython-tripleoclient~master~Id6d193ab10e43a5d2706705588269654073910cc,openstack/python-tripleoclient,master,Id6d193ab10e43a5d2706705588269654073910cc,Detect TLS for pre-provisioned nodes,MERGED,2020-05-20 16:23:18.000000000,2020-06-11 07:38:33.000000000,2020-06-11 07:36:28.000000000,"[{'_account_id': 5046}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-05-20 16:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/90f1923a9222926a92720ee5f3834b9813c62001', 'message': 'Detect TLS for pre-provisioned nodes\n\nIn cases where we need to support TLS for pre-provisioned nodes, we need\nto be able to enroll hosts without using novajoin. This commit detects\nif an OTP is present but without novajoin enabled. If so, if uses a\nseparate composible service, without novajoin, to enroll the undercloud\nas a FreeIPA host.\n\nChange-Id: Id6d193ab10e43a5d2706705588269654073910cc\n'}, {'number': 2, 'created': '2020-06-05 18:12:53.000000000', 'files': ['tripleoclient/v1/undercloud_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/97d54f2b399682375c6d0049802aa2d30fbe2db5', 'message': 'Detect TLS for pre-provisioned nodes\n\nIn cases where we need to support TLS for pre-provisioned nodes, we need\nto be able to enroll hosts without using novajoin. This commit detects\nif an OTP is present but without novajoin enabled. If so, if uses a\nseparate composible service, without novajoin, to enroll the undercloud\nas a FreeIPA host.\n\nChange-Id: Id6d193ab10e43a5d2706705588269654073910cc\n'}]",1,729652,97d54f2b399682375c6d0049802aa2d30fbe2db5,30,8,2,7414,,,0,"Detect TLS for pre-provisioned nodes

In cases where we need to support TLS for pre-provisioned nodes, we need
to be able to enroll hosts without using novajoin. This commit detects
if an OTP is present but without novajoin enabled. If so, if uses a
separate composible service, without novajoin, to enroll the undercloud
as a FreeIPA host.

Change-Id: Id6d193ab10e43a5d2706705588269654073910cc
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/52/729652/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_config.py'],1,90f1923a9222926a92720ee5f3834b9813c62001,scenario-1," elif CONF.get('ipa_otp'): deploy_args += ['-e', os.path.join( tht_templates, ""environments/services/undercloud-tls.yaml"")] env_data['UndercloudIpaOtp'] = CONF['ipa_otp']",,4,0
openstack%2Fvalidations-libs~stable%2Fussuri~I04728bfdb6473c47c248a4a56bb8df647c51f5ef,openstack/validations-libs,stable/ussuri,I04728bfdb6473c47c248a4a56bb8df647c51f5ef,Raise exception if no validation is found,MERGED,2020-05-27 13:35:45.000000000,2020-06-11 07:38:08.000000000,2020-06-11 07:38:08.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-05-27 13:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/5562220f07d9c2523ed0095bc06df4f376fa6dae', 'message': 'Raise exception if no validation is found\n\nIn addition, I have to fix pep8 issue, due to new version\n\nChange-Id: I04728bfdb6473c47c248a4a56bb8df647c51f5ef\n(cherry picked from commit ade5d57a3ebeedac2fa27801bf54a10082e97d7d)\n'}, {'number': 2, 'created': '2020-05-27 13:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/47aa8fcbd959be56411edca87bd103e1f7d5a881', 'message': 'Raise exception if no validation is found\n\nIn addition, I have to fix pep8 issue, due to new version\n\nChange-Id: I04728bfdb6473c47c248a4a56bb8df647c51f5ef\n(cherry picked from commit ade5d57a3ebeedac2fa27801bf54a10082e97d7d)\n'}, {'number': 3, 'created': '2020-06-11 02:18:41.000000000', 'files': ['validations_libs/validation_actions.py', 'validations_libs/tests/test_validation_actions.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c744ff219868b58d9bd9ae00d9b73c71633606c9', 'message': 'Raise exception if no validation is found\n\nIn addition, I have to fix pep8 issue, due to new version\n\nChange-Id: I04728bfdb6473c47c248a4a56bb8df647c51f5ef\n(cherry picked from commit ade5d57a3ebeedac2fa27801bf54a10082e97d7d)\n'}]",0,731210,c744ff219868b58d9bd9ae00d9b73c71633606c9,12,7,3,16515,,,0,"Raise exception if no validation is found

In addition, I have to fix pep8 issue, due to new version

Change-Id: I04728bfdb6473c47c248a4a56bb8df647c51f5ef
(cherry picked from commit ade5d57a3ebeedac2fa27801bf54a10082e97d7d)
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/10/731210/2 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/validation_actions.py', 'validations_libs/validation_logs.py', 'validations_libs/tests/test_validation_actions.py']",3,5562220f07d9c2523ed0095bc06df4f376fa6dae,catch/empty/playbooks-stable/ussuri," @mock.patch('validations_libs.utils.get_validations_playbook') def test_validation_run_wrong_validation_name(self, mock_validation_play): mock_validation_play.return_value = [] run = ValidationActions() self.assertRaises(RuntimeError, run.run_validations, validation_name='fake.yaml', validations_dir='/tmp/foo' ) ",,20,6
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ie275001aabe16241d2036d39fce294f86f88e7c8,openstack/tripleo-heat-templates,stable/train,Ie275001aabe16241d2036d39fce294f86f88e7c8,Update container certificate,MERGED,2020-05-01 14:56:26.000000000,2020-06-11 07:36:27.000000000,2020-06-11 07:36:27.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7414}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-05-01 14:56:26.000000000', 'files': ['deployment/haproxy/haproxy-public-tls-inject.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f238c25c9969d11c3b93dcf480237e2484f40016', 'message': 'Update container certificate\n\nDue to the bind-mounting of the actual PEM file rather than the directory\nwe cannot simply copy the new file to the location on the host, we need to\ncopy the updated PEM into the container.  This patch also removes outdated\nand no longer working container detection code that was preventing any of\nthe tasks from ever running.\n\nRHBZ: https://bugzilla.redhat.com/show_bug.cgi?id=1765839\n\nChange-Id: Ie275001aabe16241d2036d39fce294f86f88e7c8\nCloses-Bug: 1875746\n(cherry picked from commit e38287c9de9b7e8d0ddeb9bf588dd610103c65f9)\n'}]",0,724863,f238c25c9969d11c3b93dcf480237e2484f40016,19,7,1,7414,,,0,"Update container certificate

Due to the bind-mounting of the actual PEM file rather than the directory
we cannot simply copy the new file to the location on the host, we need to
copy the updated PEM into the container.  This patch also removes outdated
and no longer working container detection code that was preventing any of
the tasks from ever running.

RHBZ: https://bugzilla.redhat.com/show_bug.cgi?id=1765839

Change-Id: Ie275001aabe16241d2036d39fce294f86f88e7c8
Closes-Bug: 1875746
(cherry picked from commit e38287c9de9b7e8d0ddeb9bf588dd610103c65f9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/724863/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-public-tls-inject.yaml'],1,f238c25c9969d11c3b93dcf480237e2484f40016,bug/1875746-stable/train," - name: copy certificate from host to container shell: ""{{ container_cli }} cp {{ cert_path }} {{ container_id.stdout }}:{{ cert_path }}"" command: ""{{ container_cli }} exec --user root {{container_id.stdout}} chgrp haproxy {{ cert_path }}"" command: ""{{ container_cli }} kill --signal=HUP {{ container_id.stdout }}"""," - name: set kolla_dir fact set_fact: kolla_dir=""/var/lib/kolla/config_files/src-tls"" - name: assert {{ kolla_dir }}{{ cert_path }} exists stat: path: ""{{ kolla_dir }}{{cert_path}}"" register: kolla_cert_exists shell: | if {{ container_cli }} ps | grep {{container_id.stdout}}; then {{ container_cli }} exec {{container_id.stdout}} chgrp haproxy {{kolla_dir}}{{cert_path}} # handle situation when container_cli is podman but # the containers are still under docker elif docker ps | grep {{container_id.stdout}}; then docker exec {{container_id.stdout}} chgrp haproxy {{kolla_dir}}{{cert_path}} else echo ""Error: {{container_id.stdout}} container not found"" exit 1 fi when: kolla_cert_exists.stat.exists - name: copy certificate from kolla directory to final location shell: | if {{ container_cli }} ps | grep {{container_id.stdout}}; then {{ container_cli }} exec {{container_id.stdout}} cp {{kolla_dir}}{{cert_path}} {{cert_path}} # handle situation when container_cli is podman but # the containers are still under docker elif docker ps | grep {{container_id.stdout}}; then docker exec {{container_id.stdout}} cp {{kolla_dir}}{{cert_path}} {{cert_path}} else echo ""Error: {{container_id.stdout}} container not found"" exit 1 fi when: kolla_cert_exists.stat.exists command: ""{{ container_cli }} kill --signal=HUP {{container_id.stdout}}"" when: kolla_cert_exists.stat.exists",4,37
openstack%2Fheat~stable%2Fqueens~If69c0b20e3b5a8394ba800e6a90d51c759e3601a,openstack/heat,stable/queens,If69c0b20e3b5a8394ba800e6a90d51c759e3601a,Handled adoption of resources without resource_id,ABANDONED,2020-06-08 17:35:55.000000000,2020-06-11 07:11:52.000000000,,"[{'_account_id': 4257}, {'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 32068}]","[{'number': 1, 'created': '2020-06-08 17:35:55.000000000', 'files': ['heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/27149c9b3817aa6a98ab8982475c91fa772dddbb', 'message': 'Handled adoption of resources without resource_id\n\nWithout this, the adoption of resources without resource_id will fail. This was observed while adopting resource qos_association, which donot gets a resource_id by default. Heat handles the creation of resource qos_association without resource_id, but heat does not handles adoption of same resource without resource_id\n\nThis issue is majorly expecting, while adopting non-heat generated resources to existing stack which have qos_association(without resource_id) resource\n\nThis issue was solved by removing the exception, which was getting raised during adoption of resource without resource_id and also by calling the method self.resource_id_set(resouce_id) only if resource_id is present.\n\nChange-Id: If69c0b20e3b5a8394ba800e6a90d51c759e3601a\nTask: #39994\nStory: #39994\n'}]",2,734160,27149c9b3817aa6a98ab8982475c91fa772dddbb,6,4,1,32068,,,0,"Handled adoption of resources without resource_id

Without this, the adoption of resources without resource_id will fail. This was observed while adopting resource qos_association, which donot gets a resource_id by default. Heat handles the creation of resource qos_association without resource_id, but heat does not handles adoption of same resource without resource_id

This issue is majorly expecting, while adopting non-heat generated resources to existing stack which have qos_association(without resource_id) resource

This issue was solved by removing the exception, which was getting raised during adoption of resource without resource_id and also by calling the method self.resource_id_set(resouce_id) only if resource_id is present.

Change-Id: If69c0b20e3b5a8394ba800e6a90d51c759e3601a
Task: #39994
Story: #39994
",git fetch https://review.opendev.org/openstack/heat refs/changes/60/734160/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resource.py'],1,27149c9b3817aa6a98ab8982475c91fa772dddbb,bug/39994, if resource_id: self.resource_id_set(resource_id)," if not resource_id: exc = Exception(_('Resource ID was not provided.')) failure = exception.ResourceFailure(exc, self) raise failure self.resource_id_set(resource_id)",3,7
openstack%2Ffreezer-api~stable%2Ftrain~Ib8886325528300398771f5a3e3522c1cdf3428b1,openstack/freezer-api,stable/train,Ib8886325528300398771f5a3e3522c1cdf3428b1,don't need to use __future__ module in python3.,ABANDONED,2020-06-11 07:04:24.000000000,2020-06-11 07:06:33.000000000,,[],"[{'number': 1, 'created': '2020-06-11 07:04:24.000000000', 'files': ['freezer_api/cmd/api.py', 'freezer_api/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/23cf0ee4aca8b2b0755790bc4ea2c5fcb49b2fd8', 'message': ""don't need to use __future__ module in python3.\n\nChange-Id: Ib8886325528300398771f5a3e3522c1cdf3428b1\n""}]",0,735067,23cf0ee4aca8b2b0755790bc4ea2c5fcb49b2fd8,2,0,1,19098,,,0,"don't need to use __future__ module in python3.

Change-Id: Ib8886325528300398771f5a3e3522c1cdf3428b1
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/67/735067/1 && git format-patch -1 --stdout FETCH_HEAD,"['freezer_api/cmd/api.py', 'freezer_api/cmd/manage.py']",2,23cf0ee4aca8b2b0755790bc4ea2c5fcb49b2fd8,,,from __future__ import print_function,0,4
openstack%2Fmasakari~master~I3f3f2a25824263ef89d6be27f78bf92dfbc2a9a0,openstack/masakari,master,I3f3f2a25824263ef89d6be27f78bf92dfbc2a9a0,Add support to specify multiple values for filter options,NEW,2020-01-29 14:12:31.000000000,2020-06-11 06:48:46.000000000,,"[{'_account_id': 1011}, {'_account_id': 3085}, {'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 25267}, {'_account_id': 27302}]","[{'number': 1, 'created': '2020-01-29 14:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/6d60b817b1f6eb6e4c2217b42734e2babb6e2c65', 'message': 'Add host query parameter support\n\n* This patch update `GET /segments?host=abc` REST API to add host query\n  parameter.\n* Also include fixes to add support to read multiple options for filter\n  (recovery_method|service_type|host) in request.\n\nChange-Id: I3f3f2a25824263ef89d6be27f78bf92dfbc2a9a0\nImplements: blueprint list-segment-by-host\nCloses-Bug: #1854903\n'}, {'number': 2, 'created': '2020-02-12 16:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/f45ffc7ec02ca12d9ea2122e98b2dbdd1661d61c', 'message': 'Add support for multiple filters\n\nThis patch add support to read multiple options of filter\n(recovery_method|service_type) for listing FailoverSegments.\n\nChange-Id: I3f3f2a25824263ef89d6be27f78bf92dfbc2a9a0\nCloses-Bug: #1854903\nDepends-On: I834f11e2cb3d147150dd28150bc79d4b6c99ae35\n'}, {'number': 3, 'created': '2020-02-13 09:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/b78609cf840a0675fb74c0f53faf196cf38bb40b', 'message': ""Add support to specify multiple values for filter options\n\nPreviously, if user passes recovery_method query parameter as\nauto,reserved_host as shown in the below url:\n\nhttp://<IP address>/instance-ha/v1/segments?recovery_method=auto%2Creserved_host\n\nThen, it wasn't returning failover segments with recovery method auto\nand reserved_host. It was treating `auto,reserved_host` as one\nrecovery method. This patch allows user to pass multiple values in\nrecovery_method query parameter with a `,` as delimiter.\n\nFor e.g. If user wants to search for failover segments with recovery\nmethods auto and reserved_host, it can be passed in recovery_method\nquery parameter as `auto,reserved_host`.\n\nChange-Id: I3f3f2a25824263ef89d6be27f78bf92dfbc2a9a0\nCloses-Bug: #1854903\n""}, {'number': 4, 'created': '2020-02-17 14:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/50cc292d4866c59e1ce60a3405fe44052974100e', 'message': ""Add support to specify multiple values for filter options\n\nPreviously, if user passes recovery_method query parameter as\nauto,reserved_host as shown in the below url:\n\nhttp://<IP address>/instance-ha/v1/segments?recovery_method=auto%2Creserved_host\n\nThen, it wasn't returning failover segments with recovery method auto\nand reserved_host. It was treating `auto,reserved_host` as one\nrecovery method. This patch allows user to pass multiple values in\nrecovery_method query parameter with a `,` as delimiter.\n\nFor e.g. If user wants to search for failover segments with recovery\nmethods auto and reserved_host, it can be passed in recovery_method\nquery parameter as `auto,reserved_host`.\n\nChange-Id: I3f3f2a25824263ef89d6be27f78bf92dfbc2a9a0\nCloses-Bug: #1854903\n""}, {'number': 5, 'created': '2020-02-26 13:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/e3621a2d4fea51a6b6ddb56c27fca9b75b647d9f', 'message': ""Add support to specify multiple values for filter options\n\nPreviously, if user passes recovery_method query parameter as\nauto,reserved_host as shown in the below url:\n\nhttp://<IP address>/instance-ha/v1/segments?recovery_method=auto%2Creserved_host\n\nThen, it wasn't returning failover segments with recovery method auto\nand reserved_host. It was treating `auto,reserved_host` as one\nrecovery method. This patch allows user to pass multiple values in\nrecovery_method query parameter with a `,` as delimiter.\n\nFor e.g. If user wants to search for failover segments with recovery\nmethods auto and reserved_host, it can be passed in recovery_method\nquery parameter as `auto,reserved_host`.\n\nChange-Id: I3f3f2a25824263ef89d6be27f78bf92dfbc2a9a0\nCloses-Bug: #1854903\n""}, {'number': 6, 'created': '2020-05-21 08:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/4881a1dff526474d649fe62c50bad70bbc8a1147', 'message': ""Add support to specify multiple values for filter options\n\nPreviously, if user passes recovery_method query parameter as\nauto,reserved_host as shown in the below url:\n\nhttp://<IP address>/instance-ha/v1/segments?recovery_method=auto%2Creserved_host\n\nThen, it wasn't returning failover segments with recovery method auto\nand reserved_host. It was treating `auto,reserved_host` as one\nrecovery method. This patch allows user to pass multiple values in\nrecovery_method query parameter with a `,` as delimiter.\n\nFor e.g. If user wants to search for failover segments with recovery\nmethods auto and reserved_host, it can be passed in recovery_method\nquery parameter as `auto,reserved_host`.\n\nChange-Id: I3f3f2a25824263ef89d6be27f78bf92dfbc2a9a0\nCloses-Bug: #1854903\n""}, {'number': 7, 'created': '2020-05-22 14:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/0044f6bbe2fe3856c0e558ce708970edabe85a8e', 'message': ""Add support to specify multiple values for filter options\n\nPreviously, if user passes recovery_method query parameter as\nauto,reserved_host as shown in the below url:\n\nhttp://<IP address>/instance-ha/v1/segments?recovery_method=auto%2Creserved_host\n\nThen, it wasn't returning failover segments with recovery method auto\nand reserved_host. It was treating `auto,reserved_host` as one\nrecovery method. This patch allows user to pass multiple values in\nrecovery_method query parameter with a `,` as delimiter.\n\nFor e.g. If user wants to search for failover segments with recovery\nmethods auto and reserved_host, it can be passed in recovery_method\nquery parameter as `auto,reserved_host`.\n\nChange-Id: I3f3f2a25824263ef89d6be27f78bf92dfbc2a9a0\nCloses-Bug: #1854903\n""}, {'number': 8, 'created': '2020-05-25 08:05:21.000000000', 'files': ['masakari/api/validation/parameter_types.py', 'masakari/api/validation/validators.py', 'masakari/api/openstack/ha/schemas/segments.py', 'masakari/api/openstack/ha/segments.py', 'masakari/db/sqlalchemy/api.py', 'api-ref/source/failover-segments.inc', 'masakari/tests/unit/api/openstack/ha/test_segments.py', 'masakari/tests/unit/db/test_db_api.py', 'masakari/api/validation/__init__.py', 'masakari/exception.py', 'releasenotes/notes/multiple_filter_parameters-8f321db52196d368.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/798990d2bd03df371e649b75fb601a02c65ae4af', 'message': ""Add support to specify multiple values for filter options\n\nPreviously, if user passes recovery_method query parameter as\nauto,reserved_host as shown in the below url:\n\nhttp://<IP address>/instance-ha/v1/segments?recovery_method=auto%2Creserved_host\n\nThen, it wasn't returning failover segments with recovery method auto\nand reserved_host. It was treating `auto,reserved_host` as one\nrecovery method. This patch allows user to pass multiple values in\nrecovery_method query parameter with a `,` as delimiter.\n\nFor e.g. If user wants to search for failover segments with recovery\nmethods auto and reserved_host, it can be passed in recovery_method\nquery parameter as `auto,reserved_host`.\n\nChange-Id: I3f3f2a25824263ef89d6be27f78bf92dfbc2a9a0\nCloses-Bug: #1854903\n""}]",95,704810,798990d2bd03df371e649b75fb601a02c65ae4af,39,6,8,27302,,,0,"Add support to specify multiple values for filter options

Previously, if user passes recovery_method query parameter as
auto,reserved_host as shown in the below url:

http://<IP address>/instance-ha/v1/segments?recovery_method=auto%2Creserved_host

Then, it wasn't returning failover segments with recovery method auto
and reserved_host. It was treating `auto,reserved_host` as one
recovery method. This patch allows user to pass multiple values in
recovery_method query parameter with a `,` as delimiter.

For e.g. If user wants to search for failover segments with recovery
methods auto and reserved_host, it can be passed in recovery_method
query parameter as `auto,reserved_host`.

Change-Id: I3f3f2a25824263ef89d6be27f78bf92dfbc2a9a0
Closes-Bug: #1854903
",git fetch https://review.opendev.org/openstack/masakari refs/changes/10/704810/8 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'releasenotes/notes/host-input-parameter-to-segement-list-62878af16b541f7d.yaml', 'masakari/api/openstack/ha/segments.py', 'masakari/db/sqlalchemy/api.py', 'api-ref/source/failover-segments.inc', 'masakari/tests/unit/api/openstack/ha/test_segments.py', 'masakari/api/api_version_request.py', 'masakari/tests/unit/db/test_db_api.py']",8,6d60b817b1f6eb6e4c2217b42734e2babb6e2c65,bug/1854903," filters={'recovery_method': ['auto']}, real_failover_segment = db.failover_segment_get_all_by_filters( context=self.ctxt, filters={'recovery_method': ['auto']}) self.assertEqual(2, len(real_failover_segment)) real_failover_segment = db.failover_segment_get_all_by_filters( context=self.ctxt, filters={'recovery_method': ['reserved_host']}) self.assertEqual(1, len(real_failover_segment)) real_failover_segment = db.failover_segment_get_all_by_filters( context=self.ctxt, filters={'recovery_method': ['auto', 'reserved_host']}) self.assertEqual(3, len(real_failover_segment)) real_failover_segment = db.failover_segment_get_all_by_filters( context=self.ctxt, filters={'recovery_method': ['fake_1', 'auto']}) self.assertEqual(2, len(real_failover_segment)) real_failover_segment = db.failover_segment_get_all_by_filters( context=self.ctxt, filters={'recovery_method': ['fake_1']}) self.assertEqual(0, len(real_failover_segment)) "," filters={'recovery_method': 'auto'},",121,10
openstack%2Fnova~master~I5baaa698c2627a3438eb1d9990eb8091f37253ca,openstack/nova,master,I5baaa698c2627a3438eb1d9990eb8091f37253ca,Add reproducer for bug #1881455,MERGED,2020-06-04 17:34:31.000000000,2020-06-11 06:40:52.000000000,2020-06-10 17:16:53.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-06-04 17:34:31.000000000', 'files': ['nova/tests/unit/notifications/objects/test_exception.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/03b00ae02fede4ee7f347001f50baab1d79ffa0a', 'message': ""Add reproducer for bug #1881455\n\nThe 'nova.compute.manager._reschedule_resize_or_reraise' function can\nend up calling 'from_exc_and_traceback' class method of the\n'ExecutionPayload' versioned notification object via the following call\nstack:\n\n  nova.compute.manager._reschedule_resize_or_reraise\n    nova.compute.utils.notify_about_instance_action\n      nova.compute._get_fault_and_priority_from_exc_and_tb\n        nova.notification.objects.exception.ExceptionPayload.from_exc_and_traceback\n\nThe 'from_exc_and_traceback' class method uses 'inspect.trace()' to get\nmore information about the provided execution in order to report\ninformation such as module and function name of the function raising the\nexception in the notification. 'inspect.trace()' must be called inside\nthe context of an exception handler otherwise it returns an empty list.\nHowever, we are using '_reschedule_resize_or_reraise' to re-raise a\npreviously raised and captured exception, which means we're not\nexecuting from such a context. This results in the following warning:\n\n  IndexError: list index out of range\n\nA future change will resolve this but for now, prove the issue.\n\nChange-Id: I5baaa698c2627a3438eb1d9990eb8091f37253ca\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1881455\n""}]",1,733667,03b00ae02fede4ee7f347001f50baab1d79ffa0a,13,7,1,15334,,,0,"Add reproducer for bug #1881455

The 'nova.compute.manager._reschedule_resize_or_reraise' function can
end up calling 'from_exc_and_traceback' class method of the
'ExecutionPayload' versioned notification object via the following call
stack:

  nova.compute.manager._reschedule_resize_or_reraise
    nova.compute.utils.notify_about_instance_action
      nova.compute._get_fault_and_priority_from_exc_and_tb
        nova.notification.objects.exception.ExceptionPayload.from_exc_and_traceback

The 'from_exc_and_traceback' class method uses 'inspect.trace()' to get
more information about the provided execution in order to report
information such as module and function name of the function raising the
exception in the notification. 'inspect.trace()' must be called inside
the context of an exception handler otherwise it returns an empty list.
However, we are using '_reschedule_resize_or_reraise' to re-raise a
previously raised and captured exception, which means we're not
executing from such a context. This results in the following warning:

  IndexError: list index out of range

A future change will resolve this but for now, prove the issue.

Change-Id: I5baaa698c2627a3438eb1d9990eb8091f37253ca
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-Bug: #1881455
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/733667/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/notifications/objects/test_exception.py'],1,03b00ae02fede4ee7f347001f50baab1d79ffa0a,bug/1881455,"# Copyright 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import sys import traceback import unittest from nova.notifications.objects import exception from nova import test class TestExceptionPayload(test.NoDBTestCase): # Failing due to bug #1881455 @unittest.expectedFailure def test_from_exc_and_traceback(self): try: raise Exception('foo') except Exception: exc_info = sys.exc_info() tb = traceback.format_exc() payload = exception.ExceptionPayload.from_exc_and_traceback( exc_info[1], tb) self.assertEqual( 'nova.tests.unit.notifications.objects.test_exception', payload.module_name, ) self.assertEqual( 'test_from_exc_and_traceback', payload.function_name) self.assertEqual('foo', payload.exception_message) def test_from_exc_and_traceback_nested(self): try: raise Exception('foo') except Exception: exc_info = sys.exc_info() tb = traceback.format_exc() payload = exception.ExceptionPayload.from_exc_and_traceback( exc_info[1], tb) self.assertEqual( 'nova.tests.unit.notifications.objects.test_exception', payload.module_name, ) self.assertEqual( 'test_from_exc_and_traceback_nested', payload.function_name) self.assertEqual('foo', payload.exception_message) ",,61,0
openstack%2Frequirements~master~I07c7e91a33be85bf3497e41223b1aa92ac877431,openstack/requirements,master,I07c7e91a33be85bf3497e41223b1aa92ac877431,Updated from generate-constraints,ABANDONED,2020-06-11 06:18:20.000000000,2020-06-11 06:31:31.000000000,,[],"[{'number': 1, 'created': '2020-06-11 06:18:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/435f8ce458e43f60c2faa6894b604e48c6b89533', 'message': 'Updated from generate-constraints\n\nChange-Id: I07c7e91a33be85bf3497e41223b1aa92ac877431\n'}]",0,735056,435f8ce458e43f60c2faa6894b604e48c6b89533,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I07c7e91a33be85bf3497e41223b1aa92ac877431
",git fetch https://review.opendev.org/openstack/requirements refs/changes/56/735056/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,435f8ce458e43f60c2faa6894b604e48c6b89533,openstack/requirements/constraints,rsa===4.1google-auth===1.17.0mock===4.0.2google-api-python-client===1.9.3docutils===0.16boto3===1.14.0msgpack===1.0.0botocore===1.17.0,rsa===4.0google-auth===1.16.1mock===3.0.5google-api-python-client===1.9.2docutils===0.15.2boto3===1.13.26msgpack===0.6.1botocore===1.16.26,8,8
openstack%2Fopenstack-ansible-os_horizon~stable%2Fstein~Ic2e02a38f28e117e124cf49cecf4ef72e38e17d9,openstack/openstack-ansible-os_horizon,stable/stein,Ic2e02a38f28e117e124cf49cecf4ef72e38e17d9,Add drop_down_choices to Horizon,ABANDONED,2020-06-10 06:36:38.000000000,2020-06-11 06:30:09.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32079}]","[{'number': 1, 'created': '2020-06-10 06:36:38.000000000', 'files': ['defaults/main.yml', 'templates/horizon_local_settings.py.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/d73e5c2e5cc6ba09229c9f680ad758a1d6ff5515', 'message': 'Add drop_down_choices to Horizon\n\nThis patch fix the empty dropdown menu when the multidomain support is enabled, added the ""multidomain_choices"" option.\n\nChange-Id: Ic2e02a38f28e117e124cf49cecf4ef72e38e17d9\nCloses-Bug: #1882886\n'}]",0,734753,d73e5c2e5cc6ba09229c9f680ad758a1d6ff5515,6,3,1,32079,,,0,"Add drop_down_choices to Horizon

This patch fix the empty dropdown menu when the multidomain support is enabled, added the ""multidomain_choices"" option.

Change-Id: Ic2e02a38f28e117e124cf49cecf4ef72e38e17d9
Closes-Bug: #1882886
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/53/734753/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'templates/horizon_local_settings.py.j2']",2,d73e5c2e5cc6ba09229c9f680ad758a1d6ff5515,bug/1882886,OPENSTACK_KEYSTONE_DOMAIN_CHOICES = {{ horizon_keystone_multidomain_choices }},,2,0
openstack%2Ftempest~master~Ib086f9977f838cf884c7324b7b6eead698adaa9e,openstack/tempest,master,Ib086f9977f838cf884c7324b7b6eead698adaa9e,Fix flavor swap default value for compute microversion 2.75,MERGED,2020-06-05 08:37:34.000000000,2020-06-11 05:51:26.000000000,2020-06-11 05:50:11.000000000,"[{'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2020-06-05 08:37:34.000000000', 'files': ['tempest/api/compute/admin/test_flavors.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d89c6cb4a0a9826b09514367e555f0cfc5588949', 'message': 'Fix flavor swap default value for compute microversion 2.75\n\nAs of microversion 2.75 default return value of swap in the response of\ncreate_flavor is 0 instead of empty string, so this is to fix\ntest_create_list_flavor_without_extra_data for microversion 2.75.\n\nhttps://docs.openstack.org/api-ref/compute/?expanded=create-flavor-detail#create-flavor\n\nChange-Id: Ib086f9977f838cf884c7324b7b6eead698adaa9e\n'}]",0,733771,d89c6cb4a0a9826b09514367e555f0cfc5588949,14,4,1,20190,,,0,"Fix flavor swap default value for compute microversion 2.75

As of microversion 2.75 default return value of swap in the response of
create_flavor is 0 instead of empty string, so this is to fix
test_create_list_flavor_without_extra_data for microversion 2.75.

https://docs.openstack.org/api-ref/compute/?expanded=create-flavor-detail#create-flavor

Change-Id: Ib086f9977f838cf884c7324b7b6eead698adaa9e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/71/733771/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_flavors.py'],1,d89c6cb4a0a9826b09514367e555f0cfc5588949,flavor_swap_2.75," if self.is_requested_microversion_compatible('2.74'): self.assertEqual(flavor['swap'], '') else: self.assertEqual(flavor['swap'], 0)"," self.assertEqual(flavor['swap'], '')",4,1
openstack%2Frpm-packaging~stable%2Fstein~I9d364fa6c56dc764e8809c01417e5ead4f406124,openstack/rpm-packaging,stable/stein,I9d364fa6c56dc764e8809c01417e5ead4f406124,Stein updates,MERGED,2020-06-05 09:55:58.000000000,2020-06-11 05:35:02.000000000,2020-06-11 05:35:01.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-05 09:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5dd51149548bd258df22df46607b2922aea7cb8d', 'message': 'Stein updates\n\nChange-Id: I9d364fa6c56dc764e8809c01417e5ead4f406124\n'}, {'number': 2, 'created': '2020-06-09 10:57:15.000000000', 'files': ['openstack/oswin-tempest-plugin/oswin-tempest-plugin.spec.j2', 'openstack/osprofiler/osprofiler.spec.j2', 'openstack/os-win/os-win.spec.j2', 'openstack/os-refresh-config/os-refresh-config.spec.j2', 'openstack/metalsmith/metalsmith.spec.j2', 'openstack/os-collect-config/os-collect-config.spec.j2', 'openstack/oslo.context/oslo.context.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2', 'openstack/oslo.config/oslo.config.spec.j2', 'openstack/python-troveclient/python-troveclient.spec.j2', 'openstack/tooz/tooz.spec.j2', 'openstack/oslo.log/oslo.log.spec.j2', 'openstack/oslo.policy/oslo.policy.spec.j2', 'openstack/ovsdbapp/ovsdbapp.spec.j2', 'openstack/ironic-lib/ironic-lib.spec.j2', 'openstack/oslotest/0001-Stop-testing-mock-functionality.patch', 'openstack/mistral/mistral.spec.j2', 'openstack/os-brick/os-brick.spec.j2', 'openstack/oslo.privsep/oslo.privsep.spec.j2', 'openstack/oslo.service/oslo.service.spec.j2', 'openstack/python-openstackclient/python-openstackclient.spec.j2', 'openstack/neutron-lib/neutron-lib.spec.j2', 'openstack/python-cinderclient/python-cinderclient.spec.j2', 'openstack/python-neutronclient/python-neutronclient.spec.j2', 'openstack/python-novaclient/python-novaclient.spec.j2', 'openstack/oslotest/oslotest.spec.j2', 'openstack/oslo.rootwrap/oslo.rootwrap.spec.j2', 'openstack/karbor/karbor.spec.j2', 'openstack/neutron/neutron.spec.j2', 'openstack/python-swiftclient/python-swiftclient.spec.j2', 'openstack/sushy/sushy.spec.j2', 'openstack/python-ironicclient/python-ironicclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/76fc2188b156412690737e3ccb3a72669fcea355', 'message': 'Stein updates\n\nChange-Id: I9d364fa6c56dc764e8809c01417e5ead4f406124\n'}]",1,733800,76fc2188b156412690737e3ccb3a72669fcea355,15,5,2,6593,,,0,"Stein updates

Change-Id: I9d364fa6c56dc764e8809c01417e5ead4f406124
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/00/733800/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/osprofiler/osprofiler.spec.j2', 'openstack/os-win/os-win.spec.j2', 'openstack/os-refresh-config/os-refresh-config.spec.j2', 'openstack/metalsmith/metalsmith.spec.j2', 'openstack/os-collect-config/os-collect-config.spec.j2', 'openstack/oslo.context/oslo.context.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2', 'openstack/oslo.config/oslo.config.spec.j2', 'openstack/python-troveclient/python-troveclient.spec.j2', 'openstack/tooz/tooz.spec.j2', 'openstack/oslo.log/oslo.log.spec.j2', 'openstack/oslo.policy/oslo.policy.spec.j2', 'openstack/ovsdbapp/ovsdbapp.spec.j2', 'openstack/ironic-lib/ironic-lib.spec.j2', 'openstack/mistral/mistral.spec.j2', 'openstack/os-brick/os-brick.spec.j2', 'openstack/oslo.privsep/oslo.privsep.spec.j2', 'openstack/oslo.service/oslo.service.spec.j2', 'openstack/python-openstackclient/python-openstackclient.spec.j2', 'openstack/neutron-lib/neutron-lib.spec.j2', 'openstack/python-cinderclient/python-cinderclient.spec.j2', 'openstack/python-neutronclient/python-neutronclient.spec.j2', 'openstack/python-novaclient/python-novaclient.spec.j2', 'openstack/oslotest/oslotest.spec.j2', 'openstack/oslo.rootwrap/oslo.rootwrap.spec.j2', 'openstack/karbor/karbor.spec.j2', 'openstack/neutron/neutron.spec.j2', 'openstack/python-swiftclient/python-swiftclient.spec.j2', 'openstack/sushy/sushy.spec.j2', 'openstack/python-ironicclient/python-ironicclient.spec.j2']",30,5dd51149548bd258df22df46607b2922aea7cb8d,,{% set upstream_version = upstream_version('2.7.3') %},{% set upstream_version = upstream_version('2.7.2') %},30,30
openstack%2Fpuppet-tripleo~stable%2Ftrain~Icecdf2f6c806b66266a0c10642b18f47a99d1e65,openstack/puppet-tripleo,stable/train,Icecdf2f6c806b66266a0c10642b18f47a99d1e65,Allow override of mysql/galera open files limit,MERGED,2020-04-02 12:44:26.000000000,2020-06-11 05:30:46.000000000,2020-06-10 22:37:08.000000000,"[{'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2020-04-02 12:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a70d381002619b6fa8c7464df4cdfe03abb4299c', 'message': 'Allow override of mysql/galera open files limit\n\nThis commit removes the hard coded value of open-file-limit (16384)\nand allows operators to override it via:\n\ntripleo::profile::pacemaker::database::mysql::open_files_limit\ntripleo::profile::pacemaker::database::mysql_bundle::open_files_limit\n\nmanually cherry picked from: 0bef823532b14420db3c93d4620552d0f85bffeb\n\nChange-Id: Icecdf2f6c806b66266a0c10642b18f47a99d1e65\nResolves: rhbz#1812969\n'}, {'number': 2, 'created': '2020-04-02 12:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7b420b4177ad118e2be313fc45892d82a02a5664', 'message': 'Allow override of mysql/galera open files limit\n\nThis commit removes the hard coded value of open-file-limit (16384)\nand allows operators to override it via:\n\ntripleo::profile::pacemaker::database::mysql::open_files_limit\ntripleo::profile::pacemaker::database::mysql_bundle::open_files_limit\n\nmanually cherry picked from: 0bef823532b14420db3c93d4620552d0f85bffeb\n\nChange-Id: Icecdf2f6c806b66266a0c10642b18f47a99d1e65\nResolves: rhbz#1812969\n'}, {'number': 3, 'created': '2020-04-02 12:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/930e1f648b41639f1b3db737ff009e6cfe60a26c', 'message': 'Allow override of mysql/galera open files limit\n\nThis commit removes the hard coded value of open-file-limit (16384)\nand allows operators to override it via:\n\ntripleo::profile::pacemaker::database::mysql::open_files_limit\ntripleo::profile::pacemaker::database::mysql_bundle::open_files_limit\n\nmanually cherry picked from: I4927eb65a2dc1b5a86fc2141c7b2713f36ad49de\n\nChange-Id: Icecdf2f6c806b66266a0c10642b18f47a99d1e65\nResolves: rhbz#1812969\n'}, {'number': 4, 'created': '2020-06-10 11:42:58.000000000', 'files': ['manifests/profile/pacemaker/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e791ca04ddc27eb9f95c8d96bfa611e7330dda8a', 'message': 'Allow override of mysql/galera open files limit\n\nThis commit removes the hard coded value of open-file-limit (16384)\nand allows operators to override it via:\n\ntripleo::profile::pacemaker::database::mysql::open_files_limit\ntripleo::profile::pacemaker::database::mysql_bundle::open_files_limit\n\nmanually cherry picked from: I4927eb65a2dc1b5a86fc2141c7b2713f36ad49de\n\nChange-Id: Icecdf2f6c806b66266a0c10642b18f47a99d1e65\nResolves: rhbz#1812969\n'}]",0,716972,e791ca04ddc27eb9f95c8d96bfa611e7330dda8a,20,6,4,30126,,,0,"Allow override of mysql/galera open files limit

This commit removes the hard coded value of open-file-limit (16384)
and allows operators to override it via:

tripleo::profile::pacemaker::database::mysql::open_files_limit
tripleo::profile::pacemaker::database::mysql_bundle::open_files_limit

manually cherry picked from: I4927eb65a2dc1b5a86fc2141c7b2713f36ad49de

Change-Id: Icecdf2f6c806b66266a0c10642b18f47a99d1e65
Resolves: rhbz#1812969
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/72/716972/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp']",2,a70d381002619b6fa8c7464df4cdfe03abb4299c,,"# [*open_files_limit*] # (Optional) Maximum value for open-files-limit # Defaults to 16384 # $open_files_limit = 16384,",,10,0
openstack%2Ftripleo-quickstart~master~I5ce30501ccdb652a4fec8c722e0dacaf6bfb452c,openstack/tripleo-quickstart,master,I5ce30501ccdb652a4fec8c722e0dacaf6bfb452c,Add ansible-collections-openstack to requirements,MERGED,2020-06-10 13:56:46.000000000,2020-06-11 05:19:44.000000000,2020-06-11 00:48:34.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-10 13:56:46.000000000', 'files': ['quickstart-extras-requirements.txt', 'quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/32ee3855ce53b3aa37e6aeb027e59e1ec727e3fe', 'message': 'Add ansible-collections-openstack to requirements\n\nChange-Id: I5ce30501ccdb652a4fec8c722e0dacaf6bfb452c\n'}]",1,734848,32ee3855ce53b3aa37e6aeb027e59e1ec727e3fe,15,7,1,10969,,,0,"Add ansible-collections-openstack to requirements

Change-Id: I5ce30501ccdb652a4fec8c722e0dacaf6bfb452c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/48/734848/1 && git format-patch -1 --stdout FETCH_HEAD,"['quickstart-extras-requirements.txt', 'quickstart.sh']",2,32ee3855ce53b3aa37e6aeb027e59e1ec727e3fe,tripleo-collection, # pull in ansible-collections-openstack from source $ZUUL_CLONER --cache-dir \ /opt/git \ https://opendev.org \ openstack/ansible-collections-openstack pushd openstack/ansible-collections-openstack if [ $OPT_CLEAN == 1 ]; then $(python_cmd) -m pip install --no-cache-dir --force-reinstall . else $(python_cmd) -m pip install --force-reinstall . fi popd,,13,1
openstack%2Fswift~master~Ifb3c6c30835d912c5ba4b2e03f2e0b5cb392671a,openstack/swift,master,Ifb3c6c30835d912c5ba4b2e03f2e0b5cb392671a,s3api: Propagate backend PATH_INFO in environ for other middleware,MERGED,2020-04-07 12:33:56.000000000,2020-06-11 05:11:24.000000000,2020-04-09 02:16:33.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 28499}]","[{'number': 1, 'created': '2020-04-07 12:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7b12d7eb5abc821f5ad15d2eb5a07c5bfba16b00', 'message': 's3api: Propagate SWIFT_PATH_INFO in environ for other middleware\n\nNeeded by ceilometermiddleware to extract account/container info\nfrom PATH_INFO (change-id: Ibb5fc6a717b9bc938aa86c4550d156fe93dae65c).\n\nChange-Id: Ifb3c6c30835d912c5ba4b2e03f2e0b5cb392671a\n'}, {'number': 2, 'created': '2020-04-07 20:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e8272b77e8ab2907cfa634298fd59c8a054d260b', 'message': 's3api: Propagate SWIFT_PATH_INFO in environ for other middleware\n\nNeeded by ceilometermiddleware to extract account/container info\nfrom PATH_INFO (change-id: Ibb5fc6a717b9bc938aa86c4550d156fe93dae65c).\n\nChange-Id: Ifb3c6c30835d912c5ba4b2e03f2e0b5cb392671a\n'}, {'number': 3, 'created': '2020-04-08 10:12:22.000000000', 'files': ['swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3api.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/415011e162fad469801e5f5e88a11960f638bdbf', 'message': 's3api: Propagate backend PATH_INFO in environ for other middleware\n\nUse swift.backend_path entry in wsgi environment to propagate\nbackend PATH_INFO.\n\nNeeded by ceilometermiddleware to extract account/container info\nfrom PATH_INFO, patch: https://review.opendev.org/#/c/718085/\n\nChange-Id: Ifb3c6c30835d912c5ba4b2e03f2e0b5cb392671a\n'}]",21,718086,415011e162fad469801e5f5e88a11960f638bdbf,16,3,3,28499,,,0,"s3api: Propagate backend PATH_INFO in environ for other middleware

Use swift.backend_path entry in wsgi environment to propagate
backend PATH_INFO.

Needed by ceilometermiddleware to extract account/container info
from PATH_INFO, patch: https://review.opendev.org/#/c/718085/

Change-Id: Ifb3c6c30835d912c5ba4b2e03f2e0b5cb392671a
",git fetch https://review.opendev.org/openstack/swift refs/changes/86/718086/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3api.py']",2,7b12d7eb5abc821f5ad15d2eb5a07c5bfba16b00,swiftPathInfo," self.assertIn('SWIFT_PATH_INFO', req.environ) self.assertEqual('/v1/AUTH_test/bucket/object:1', req.environ['SWIFT_PATH_INFO']) self.assertIn('SWIFT_PATH_INFO', req.environ) self.assertEqual('/v1/AUTH_test/bucket/object', req.environ['SWIFT_PATH_INFO']) self.assertIn('SWIFT_PATH_INFO', req.environ) self.assertEqual('/v1/AUTH_test/bucket/object', req.environ['SWIFT_PATH_INFO']) self.assertIn('SWIFT_PATH_INFO', req.environ) self.assertEqual('/v1/AUTH_test/bucket/object', req.environ['SWIFT_PATH_INFO']) self.assertIn('SWIFT_PATH_INFO', req.environ) self.assertEqual('/v1/AUTH_test/bucket', req.environ['SWIFT_PATH_INFO']) self.assertIn('SWIFT_PATH_INFO', req.environ) self.assertEqual('/v1/AUTH_test/bucket/object', req.environ['SWIFT_PATH_INFO']) self.assertIn('SWIFT_PATH_INFO', req.environ) self.assertEqual('/v1/AUTH_test/bucket', req.environ['SWIFT_PATH_INFO']) self.assertIn('SWIFT_PATH_INFO', req.environ) self.assertEqual('/v1/AUTH_test/bucket', req.environ['SWIFT_PATH_INFO']) self.assertIn('SWIFT_PATH_INFO', req.environ) self.assertEqual('/v1/AUTH_X/bucket/object', req.environ['SWIFT_PATH_INFO']) self.assertIn('SWIFT_PATH_INFO', req.environ) self.assertEqual('/v1/AUTH_test/bucket/object', req.environ['SWIFT_PATH_INFO']) self.assertIn('SWIFT_PATH_INFO', req.environ) self.assertEqual('/v1/AUTH_TENANT_ID/bucket', req.environ['SWIFT_PATH_INFO']) self.assertIn('SWIFT_PATH_INFO', req.environ) self.assertEqual('/v1/AUTH_PROJECT_ID/bucket', req.environ['SWIFT_PATH_INFO']) self.assertIn('SWIFT_PATH_INFO', req.environ) self.assertEqual('/v1/AUTH_TENANT_ID/bucket', req.environ['SWIFT_PATH_INFO']) self.assertIn('SWIFT_PATH_INFO', req.environ) self.assertEqual('/v1/AUTH_TENANT_ID/bucket', req.environ['SWIFT_PATH_INFO'])",,37,0
openstack%2Fproject-config~master~Idba2af6de0ad67156b515ce75d56a226e3e62854,openstack/project-config,master,Idba2af6de0ad67156b515ce75d56a226e3e62854,gerritbot: more notifications in the cinder channel,MERGED,2020-06-10 10:47:28.000000000,2020-06-11 05:07:55.000000000,2020-06-11 05:07:55.000000000,"[{'_account_id': 5314}, {'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-10 10:47:28.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f18d369432d73b506803b09578d22fb09fcd10aa', 'message': 'gerritbot: more notifications in the cinder channel\n\ndevstack-plugin-ceph and devstack-plugin-nfs core members include\ncinder-core.\n\nChange-Id: Idba2af6de0ad67156b515ce75d56a226e3e62854\n'}]",0,734792,f18d369432d73b506803b09578d22fb09fcd10aa,9,5,1,10459,,,0,"gerritbot: more notifications in the cinder channel

devstack-plugin-ceph and devstack-plugin-nfs core members include
cinder-core.

Change-Id: Idba2af6de0ad67156b515ce75d56a226e3e62854
",git fetch https://review.opendev.org/openstack/project-config refs/changes/92/734792/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,f18d369432d73b506803b09578d22fb09fcd10aa,gerritbot-cinder-devstack-plugin-nfs, - openstack/devstack-plugin-ceph - openstack/devstack-plugin-nfs,,2,0
openstack%2Fproject-config~master~I5c94fec0d9277ef0f9ca83f2d46a0b67c6dacb06,openstack/project-config,master,I5c94fec0d9277ef0f9ca83f2d46a0b67c6dacb06,gerritbot: more notifications in the oslo channel,MERGED,2020-06-10 13:05:40.000000000,2020-06-11 04:59:06.000000000,2020-06-11 04:59:06.000000000,"[{'_account_id': 308}, {'_account_id': 6547}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 13:05:40.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bb198624926e280abd6df06b8511646a2ed5109b', 'message': 'gerritbot: more notifications in the oslo channel\n\noslo.metrics [1] is now part of the oslo world so we should receive\nnotifications.\n\n[1] https://github.com/openstack/oslo.metrics\n\nChange-Id: I5c94fec0d9277ef0f9ca83f2d46a0b67c6dacb06\n'}]",0,734827,bb198624926e280abd6df06b8511646a2ed5109b,10,6,1,28522,,,0,"gerritbot: more notifications in the oslo channel

oslo.metrics [1] is now part of the oslo world so we should receive
notifications.

[1] https://github.com/openstack/oslo.metrics

Change-Id: I5c94fec0d9277ef0f9ca83f2d46a0b67c6dacb06
",git fetch https://review.opendev.org/openstack/project-config refs/changes/27/734827/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,bb198624926e280abd6df06b8511646a2ed5109b,gerritbot-oslo, - openstack/oslo.metrics,,1,0
openstack%2Fproject-config~master~Iecb7534d742d186326f73171692515220af57596,openstack/project-config,master,Iecb7534d742d186326f73171692515220af57596,Add openstack/magnum and openstack/magnum-tempest-plugin in required-projects,MERGED,2020-06-10 14:43:45.000000000,2020-06-11 04:57:43.000000000,2020-06-11 04:47:21.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 14:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/93e11e80d301f57b578d5ae152528b4bbbe6fee7', 'message': 'Add magnum and magnum-tempest-plugin in required-projects\n\nChange-Id: Iecb7534d742d186326f73171692515220af57596\n'}, {'number': 2, 'created': '2020-06-10 17:00:32.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f69804f621db9ae30a5f17d2b54b6561565cc919', 'message': 'Add openstack/magnum and openstack/magnum-tempest-plugin in required-projects\n\nAppend them in required-jobs of vexxhost tenant\n\nChange-Id: Iecb7534d742d186326f73171692515220af57596\n'}]",1,734863,f69804f621db9ae30a5f17d2b54b6561565cc919,11,4,2,31746,,,0,"Add openstack/magnum and openstack/magnum-tempest-plugin in required-projects

Append them in required-jobs of vexxhost tenant

Change-Id: Iecb7534d742d186326f73171692515220af57596
",git fetch https://review.opendev.org/openstack/project-config refs/changes/63/734863/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,93e11e80d301f57b578d5ae152528b4bbbe6fee7,, - openstack/magnum - openstack/magnum-tempest-plugin,,2,0
openstack%2Fpuppet-tripleo~stable%2Ftrain~I83b4d400947da16229c565c5311ca033b4c76d73,openstack/puppet-tripleo,stable/train,I83b4d400947da16229c565c5311ca033b4c76d73,Support for Dell EMC VXFlexOS Backend,MERGED,2020-06-08 15:39:23.000000000,2020-06-11 04:38:47.000000000,2020-06-11 04:37:40.000000000,"[{'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 15:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c4aaa88e3ce6f36ab44d28f2b19c4744a98a185e', 'message': 'Support for Dell EMC VXFlexOS Backend\n\nAdding support for VXFlexOS Volume Backend\n\nChange-Id: I83b4d400947da16229c565c5311ca033b4c76d73\nCloses-Bug: 1875176\n(cherry picked from commit c71e527f46ffa9898a7def6afacb837d32faae61)\n'}, {'number': 2, 'created': '2020-06-09 21:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ae35c1699a981990e408986be2659705917c3e08', 'message': 'Support for Dell EMC VXFlexOS Backend\n\nAdding support for VXFlexOS Volume Backend\n\nChange-Id: I83b4d400947da16229c565c5311ca033b4c76d73\nCloses-Bug: 1875176\n(cherry picked from commit c71e527f46ffa9898a7def6afacb837d32faae61)\n'}, {'number': 3, 'created': '2020-06-10 19:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/501726ae64e0015d82fd464824ebc43d698b7b03', 'message': 'Support for Dell EMC VXFlexOS Backend\n\nAdding support for VXFlexOS Volume Backend\n\nChange-Id: I83b4d400947da16229c565c5311ca033b4c76d73\nCloses-Bug: 1875176\n(cherry picked from commit c71e527f46ffa9898a7def6afacb837d32faae61)\n'}, {'number': 4, 'created': '2020-06-10 19:21:33.000000000', 'files': ['manifests/profile/base/cinder/volume.pp', 'manifests/profile/base/cinder/volume/dellemc_vxflexos.pp', 'releasenotes/notes/vxflexos-driver-aec8e372280c44e6.yaml', 'spec/classes/tripleo_profile_base_cinder_vxflexos_spec.rb', 'spec/classes/tripleo_profile_base_cinder_volume_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b81fc16488e3f662a2795082738108a21616639a', 'message': 'Support for Dell EMC VXFlexOS Backend\n\nAdding support for VXFlexOS Volume Backend\n\nChange-Id: I83b4d400947da16229c565c5311ca033b4c76d73\nCloses-Bug: 1875176\n(cherry picked from commit c71e527f46ffa9898a7def6afacb837d32faae61)\n'}]",0,734130,b81fc16488e3f662a2795082738108a21616639a,12,2,4,10379,,,0,"Support for Dell EMC VXFlexOS Backend

Adding support for VXFlexOS Volume Backend

Change-Id: I83b4d400947da16229c565c5311ca033b4c76d73
Closes-Bug: 1875176
(cherry picked from commit c71e527f46ffa9898a7def6afacb837d32faae61)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/30/734130/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/cinder/volume.pp', 'manifests/profile/base/cinder/volume/dellemc_vxflexos.pp', 'releasenotes/notes/vxflexos-driver-aec8e372280c44e6.yaml', 'spec/classes/tripleo_profile_base_cinder_vxflexos_spec.rb', 'spec/classes/tripleo_profile_base_cinder_volume_spec.rb']",5,c4aaa88e3ce6f36ab44d28f2b19c4744a98a185e,bug/1875176," context 'with only vxflexos' do before :each do params.merge!({ :cinder_enable_dellemc_vxflexos_backend => true, :cinder_enable_iscsi_backend => false, }) end it 'should configure only vxflexos' do is_expected.to contain_class('tripleo::profile::base::cinder::volume::dellemc_vxflexos') is_expected.to_not contain_class('tripleo::profile::base::cinder::volume::iscsi') is_expected.to contain_class('tripleo::profile::base::cinder::volume') is_expected.to contain_class('tripleo::profile::base::cinder') is_expected.to contain_class('cinder::volume') is_expected.to contain_class('cinder::backends').with( :enabled_backends => ['tripleo_dellemc_vxflexos'] ) end end is_expected.to_not contain_class('tripleo::profile::base::cinder::volume::dellemc_powermax') is_expected.to_not contain_class('tripleo::profile::base::cinder::volume::dellemc_sc') is_expected.to_not contain_class('tripleo::profile::base::cinder::volume::dellemc_vxflexos') :cinder_enable_nfs_backend => true, :cinder_enable_rbd_backend => true, :cinder_enable_iscsi_backend => true, :cinder_enable_pure_backend => true, :cinder_enable_dellps_backend => true, :cinder_enable_dellsc_backend => true, :cinder_enable_dellemc_powermax_backend => true, :cinder_enable_dellemc_sc_backend => true, :cinder_enable_dellemc_xtremio_backend => true, :cinder_enable_dellemc_vxflexos_backend => true, :cinder_enable_netapp_backend => true, :cinder_enable_vrts_hs_backend => true, is_expected.to contain_class('tripleo::profile::base::cinder::volume::dellsc') is_expected.to contain_class('tripleo::profile::base::cinder::volume::dellemc_powermax') is_expected.to contain_class('tripleo::profile::base::cinder::volume::dellemc_sc') is_expected.to contain_class('tripleo::profile::base::cinder::volume::dellemc_vxflexos') :enabled_backends => ['tripleo_iscsi', 'tripleo_ceph', 'tripleo_pure', 'tripleo_dellps', 'tripleo_dellsc', 'tripleo_dellemc_powermax', 'tripleo_dellemc_sc', 'tripleo_dellemc_vxflexos', 'tripleo_dellemc_xtremio', 'tripleo_netapp','tripleo_nfs', 'Veritas_HyperScale']"," :cinder_enable_nfs_backend => true, :cinder_enable_rbd_backend => true, :cinder_enable_iscsi_backend => true, :cinder_enable_pure_backend => true, :cinder_enable_dellemc_sc_backend => true, :cinder_enable_dellemc_xtremio_backend => true, :cinder_enable_dellps_backend => true, :cinder_enable_dellsc_backend => true, :cinder_enable_netapp_backend => true, :cinder_enable_vrts_hs_backend => true, is_expected.to contain_class('tripleo::profile::base::cinder::volume::dellsc') :enabled_backends => ['tripleo_iscsi', 'tripleo_ceph', 'tripleo_pure','tripleo_dellps', 'tripleo_dellsc', 'tripleo_dellemc_sc', 'tripleo_dellemc_xtremio', 'tripleo_netapp','tripleo_nfs','Veritas_HyperScale']",171,14
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I57fd151512c3a215d02667a6e1c4e755b88e4b05,openstack/tripleo-heat-templates,stable/train,I57fd151512c3a215d02667a6e1c4e755b88e4b05,enable dpdk plugin on neutron ovn and ovs,MERGED,2020-05-29 08:37:39.000000000,2020-06-11 04:37:38.000000000,2020-06-11 04:37:38.000000000,"[{'_account_id': 3153}, {'_account_id': 4264}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 31988}]","[{'number': 1, 'created': '2020-05-29 08:37:39.000000000', 'files': ['deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/neutron/neutron-ovn-dpdk-config-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/05d8e24a554e067786fffb2221c1e126888dae03', 'message': 'enable dpdk plugin on neutron ovn and ovs\n\nThis patch causes the dpdk_telemetry plugin will be installed only\non nodes with the dpdk role\n\nChange-Id: I57fd151512c3a215d02667a6e1c4e755b88e4b05\n(cherry picked from commit 1666f1ec31ae801e8ae2e5c807c7b944f3a531fa)\n'}]",0,731695,05d8e24a554e067786fffb2221c1e126888dae03,16,8,1,16515,,,0,"enable dpdk plugin on neutron ovn and ovs

This patch causes the dpdk_telemetry plugin will be installed only
on nodes with the dpdk role

Change-Id: I57fd151512c3a215d02667a6e1c4e755b88e4b05
(cherry picked from commit 1666f1ec31ae801e8ae2e5c807c7b944f3a531fa)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/731695/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/neutron/neutron-ovn-dpdk-config-container-puppet.yaml']",2,05d8e24a554e067786fffb2221c1e126888dae03,dpdk_neutron_ovs_ovn-stable/ussuri-stable/train," service_config_settings: map_merge: - get_attr: [OpenvswitchDpdk, role_data, service_config_settings] - collectd: tripleo.collectd.plugins.neutron_ovn_dpdk: - dpdk_telemetry",,11,1
openstack%2Fvitrage~master~Ied251843532c4ce2b6e7ab3250db6aeb3169ebe9,openstack/vitrage,master,Ied251843532c4ce2b6e7ab3250db6aeb3169ebe9,Update api: Rca Get,MERGED,2020-06-11 02:52:04.000000000,2020-06-11 04:33:16.000000000,2020-06-11 04:31:57.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-11 02:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/63cf0de68d7bf0c6bdcad4020295862c7ddecced', 'message': ""Update api: Rca Get\n\nThe parameter 'all_tenants' should be the query parameters, not  request body.\n\nChange-Id: Ied251843532c4ce2b6e7ab3250db6aeb3169ebe9\n""}, {'number': 2, 'created': '2020-06-11 02:55:07.000000000', 'files': ['doc/source/contributor/vitrage-api.rst'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/6ee4e1f7b6900cc9445edb32d080662b658ff619', 'message': ""Update api: Rca Get\n\nThe parameter 'all_tenants' should be the query parameters,\nnot  request body.\n\nChange-Id: Ied251843532c4ce2b6e7ab3250db6aeb3169ebe9\n""}]",0,735039,6ee4e1f7b6900cc9445edb32d080662b658ff619,8,2,2,30408,,,0,"Update api: Rca Get

The parameter 'all_tenants' should be the query parameters,
not  request body.

Change-Id: Ied251843532c4ce2b6e7ab3250db6aeb3169ebe9
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/39/735039/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/vitrage-api.rst'],1,63cf0de68d7bf0c6bdcad4020295862c7ddecced,dev,"all_tenants - (boolean, optional) shows the rca of all tenants (in case the user has the permissions).None.","* all_tenants - (boolean, optional) shows the rca of all tenants (in case the user has the permissions).",2,1
openstack%2Foctavia~stable%2Fstein~I057f9a8353de471d605a5a5c2860d7caa9d3bd28,openstack/octavia,stable/stein,I057f9a8353de471d605a5a5c2860d7caa9d3bd28,Do not install diskimage-builder from Git,MERGED,2020-06-04 19:14:53.000000000,2020-06-11 04:19:13.000000000,2020-06-11 04:16:40.000000000,"[{'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-04 19:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b954b86c0f5b5f5be49cf08b2bb31f477fa78c3f', 'message': ""Pin diskimage-builder on git installs\n\nDiskimage-builder recently dropped Python 2 support. Even though there's\nan upper constraint version for DIB in python 2 installs, that\nconstraint is ignored when installing DIB from git rather than with pip.\nFor this reason, we need to pin DIB to a Python 2 compatible version. We\nchoose 2.30.0 as per the upper-constraints.txt in stable/stein\nrequirements [1]. This should take care of both user installs and CI\n(dsvm live base and child jobs).\n\nNote that Python 3 devstack installs will also have to be pinned to same\nversion because stable/stein devstack ensures that all libs being used\nfor development are installed under both versions of Python [2].\n\n[1] https://opendev.org/openstack/requirements/src/commit/91f0aa3eca667c12b2c8ac9282486ddd27d7b323/upper-constraints.txt#L511\n[2] https://opendev.org/openstack/devstack/src/commit/ab86ced64cb6c053cf3340ab4d8a1d988a6b76c4/inc/python#L379-L388\n\nChange-Id: I057f9a8353de471d605a5a5c2860d7caa9d3bd28\n""}, {'number': 2, 'created': '2020-06-05 18:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cafb484d1d7299b4ca720c192cde9b7b14b9e7f8', 'message': 'Do not install diskimage-builder from Git\n\nDiskimage-builder recently dropped Python 2 support (>= 3.0.0).\nInstalling DIB from Git pulls Python 3-only DIB which breaks Python 2\ndevstack environments.\n\nThis patch drops the option to install DIB from Git. DIB will now\ninstall what is set in stable/stein upper-constraints.txt [1].\n\n[1] https://opendev.org/openstack/requirements/src/commit/91f0aa3eca667c12b2c8ac9282486ddd27d7b323/upper-constraints.txt#L511\n\nDepends-On: https://review.opendev.org/#/c/733778/\nChange-Id: I057f9a8353de471d605a5a5c2860d7caa9d3bd28\n(cherry picked from commit 4a95b354901c81f135b61d39754e1419dd134f0e)\n'}, {'number': 3, 'created': '2020-06-06 12:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/84d645ca7e26117bbcac4adebf4a75cb7ab6a125', 'message': 'Do not install diskimage-builder from Git\n\nDiskimage-builder recently dropped Python 2 support (>= 3.0.0).\nInstalling DIB from Git pulls Python 3-only DIB which breaks Python 2\ndevstack environments.\n\nThis patch drops the option to install DIB from Git. DIB will now\ninstall what is set in stable/stein upper-constraints.txt [1].\n\n[1] https://opendev.org/openstack/requirements/src/commit/91f0aa3eca667c12b2c8ac9282486ddd27d7b323/upper-constraints.txt#L511\n\nDepends-On: https://review.opendev.org/#/c/733778/\nChange-Id: I057f9a8353de471d605a5a5c2860d7caa9d3bd28\n(cherry picked from commit 4a95b354901c81f135b61d39754e1419dd134f0e)\n'}, {'number': 4, 'created': '2020-06-06 14:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/91b8e97b05aa77ff3496319760f6946ec16e2e72', 'message': 'Do not install diskimage-builder from Git\n\nDiskimage-builder recently dropped Python 2 support (>= 3.0.0).\nInstalling DIB from Git pulls Python 3-only DIB which breaks Python 2\ndevstack environments.\n\nThis patch drops the option to install DIB from Git. DIB will now\ninstall what is set in stable/stein upper-constraints.txt [1].\n\n[1] https://opendev.org/openstack/requirements/src/commit/91f0aa3eca667c12b2c8ac9282486ddd27d7b323/upper-constraints.txt#L511\n\nDepends-On: https://review.opendev.org/#/c/733778/\nChange-Id: I057f9a8353de471d605a5a5c2860d7caa9d3bd28\n(cherry picked from commit 4a95b354901c81f135b61d39754e1419dd134f0e)\n'}, {'number': 5, 'created': '2020-06-10 17:33:53.000000000', 'files': ['devstack/plugin.sh', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/octavia/commit/aefbef124586d624d8978342942585b6da2049af', 'message': 'Do not install diskimage-builder from Git\n\nDiskimage-builder recently dropped Python 2 support (>= 3.0.0).\nInstalling DIB from Git pulls Python 3-only DIB which breaks Python 2\ndevstack environments.\n\nThis patch drops the option to install DIB from Git. DIB will now\ninstall what is set in stable/stein upper-constraints.txt [1].\n\n[1] https://opendev.org/openstack/requirements/src/commit/91f0aa3eca667c12b2c8ac9282486ddd27d7b323/upper-constraints.txt#L511\n\nDepends-On: https://review.opendev.org/#/c/733778/\nChange-Id: I057f9a8353de471d605a5a5c2860d7caa9d3bd28\n(cherry picked from commit 4a95b354901c81f135b61d39754e1419dd134f0e)\n'}]",0,733684,aefbef124586d624d8978342942585b6da2049af,23,4,5,6469,,,0,"Do not install diskimage-builder from Git

Diskimage-builder recently dropped Python 2 support (>= 3.0.0).
Installing DIB from Git pulls Python 3-only DIB which breaks Python 2
devstack environments.

This patch drops the option to install DIB from Git. DIB will now
install what is set in stable/stein upper-constraints.txt [1].

[1] https://opendev.org/openstack/requirements/src/commit/91f0aa3eca667c12b2c8ac9282486ddd27d7b323/upper-constraints.txt#L511

Depends-On: https://review.opendev.org/#/c/733778/
Change-Id: I057f9a8353de471d605a5a5c2860d7caa9d3bd28
(cherry picked from commit 4a95b354901c81f135b61d39754e1419dd134f0e)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/84/733684/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,b954b86c0f5b5f5be49cf08b2bb31f477fa78c3f,,DISKIMAGE_BUILDER_REPO_REF=${DISKIMAGE_BUILDER_REPO_REF:-2.30.0},DISKIMAGE_BUILDER_REPO_REF=${DISKIMAGE_BUILDER_REPO_REF:-master},1,1
openstack%2Fopenstack-helm-infra~master~I0d46be2131691375ad0df60fd9034a6fed51699b,openstack/openstack-helm-infra,master,I0d46be2131691375ad0df60fd9034a6fed51699b,Add security_context for keepalived,ABANDONED,2020-06-11 04:06:48.000000000,2020-06-11 04:14:54.000000000,,[],"[{'number': 1, 'created': '2020-06-11 04:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e1b6e867854618ff2bf71adc8d9d060a7922458a', 'message': '40034\n\nChange-Id: I0d46be2131691375ad0df60fd9034a6fed51699b\n'}, {'number': 2, 'created': '2020-06-11 04:09:00.000000000', 'files': ['ingress/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5fc8ca397d88fb3b8104eed8e391d6d8f2f57342', 'message': 'Add security_context for keepalived\n\n\nIf ingress-vip is used in keepalived mode, the security_context variable is not applied, so the ingress-vip container is not executed.\nSo, modify deployment-ingress.yaml to apply security_context variable.\n\nhttps://storyboard.openstack.org/#!/story/2007788\n\nChange-Id: I0d46be2131691375ad0df60fd9034a6fed51699b\n'}]",0,735040,5fc8ca397d88fb3b8104eed8e391d6d8f2f57342,3,0,2,32077,,,0,"Add security_context for keepalived


If ingress-vip is used in keepalived mode, the security_context variable is not applied, so the ingress-vip container is not executed.
So, modify deployment-ingress.yaml to apply security_context variable.

https://storyboard.openstack.org/#!/story/2007788

Change-Id: I0d46be2131691375ad0df60fd9034a6fed51699b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/40/735040/1 && git format-patch -1 --stdout FETCH_HEAD,['ingress/values.yaml'],1,e1b6e867854618ff2bf71adc8d9d060a7922458a,keepalived-security-context, readOnlyRootFilesystem: false, readOnlyRootFilesystem: true,1,1
openstack%2Fopenstack-helm-infra~master~I00cb4c0cf0d59c547e968e65d1017c30380ea93c,openstack/openstack-helm-infra,master,I00cb4c0cf0d59c547e968e65d1017c30380ea93c,Add security_context for keepalived,ABANDONED,2020-06-10 10:06:37.000000000,2020-06-11 04:08:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-10 10:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e01d354007a7c3e3ee5eaafa78295576bb69c42b', 'message': 'Add security_context for keepalived\n\nChange-Id: I00cb4c0cf0d59c547e968e65d1017c30380ea93c\n'}, {'number': 2, 'created': '2020-06-10 10:12:00.000000000', 'files': ['ingress/templates/deployment-ingress.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f9bfc107c55924767312b7c5043dec30a5152496', 'message': 'Add security_context for keepalived\n\n\nIf ingress-vip is used in keepalived mode, the security_context variable is not applied, so the ingress-vip container is not executed.\nSo, modify deployment-ingress.yaml to apply security_context variable.\n\nhttps://storyboard.openstack.org/#!/story/2007788\n\nChange-Id: I00cb4c0cf0d59c547e968e65d1017c30380ea93c\n'}]",0,734780,f9bfc107c55924767312b7c5043dec30a5152496,4,1,2,32077,,,0,"Add security_context for keepalived


If ingress-vip is used in keepalived mode, the security_context variable is not applied, so the ingress-vip container is not executed.
So, modify deployment-ingress.yaml to apply security_context variable.

https://storyboard.openstack.org/#!/story/2007788

Change-Id: I00cb4c0cf0d59c547e968e65d1017c30380ea93c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/80/734780/2 && git format-patch -1 --stdout FETCH_HEAD,['ingress/templates/deployment-ingress.yaml'],1,e01d354007a7c3e3ee5eaafa78295576bb69c42b,keepalived-security-context,"{{ dict ""envAll"" $envAll ""application"" ""server"" ""container"" ""ingress_vip"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }}",,1,0
openstack%2Ftacker~master~I0004f5045a6f4aeae84c2105a1dac4369ab3b2fe,openstack/tacker,master,I0004f5045a6f4aeae84c2105a1dac4369ab3b2fe,Use API apps/v1 to create deployment,MERGED,2020-05-15 07:18:05.000000000,2020-06-11 04:03:49.000000000,2020-06-11 04:02:34.000000000,"[{'_account_id': 17255}, {'_account_id': 22290}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 31730}, {'_account_id': 31880}]","[{'number': 1, 'created': '2020-05-15 07:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/65c6992a417760ce61f69cf120dd4fd8c921a5cd', 'message': 'Fix: Unable to create deployment using ExtensionsV1beta1Deployment.\n\nIn Kubernetes version 1.16, deployment in ExtensionsV1beta1Deployment is deprecated [1] so it is unable to create cnf.\nIn this patch, I first create method to get AppsV1Api [2], then I include app_v1_api_client in Kubernetes translate_template to create deployment.\n\n[1]: https://kubernetes.io/blog/2019/07/18/api-deprecations-in-1-16/\n[2]: https://github.com/kubernetes-client/python/blob/master/kubernetes/docs/AppsV1Api.md\n\nRelated-Bug: #1878753\n\nChange-Id: I0004f5045a6f4aeae84c2105a1dac4369ab3b2fe\n'}, {'number': 2, 'created': '2020-05-15 07:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c4dd581aff2b2cb10891e99933e3e20d62d3b5c3', 'message': 'Fix: Unable to create deployment using ExtensionsV1beta1Deployment.\n\nIn Kubernetes version 1.16, deployment in ExtensionsV1beta1Deployment is deprecated [1]\nso it is unable to create cnf.\nIn this patch, I first create method to get AppsV1Api [2],\nthen I include app_v1_api_client in Kubernetes translate_template to create deployment.\n\n[1]: https://kubernetes.io/blog/2019/07/18/api-deprecations-in-1-16/\n[2]: https://github.com/kubernetes-client/python/blob/master/kubernetes/docs/AppsV1Api.md\n\nRelated-Bug: #1878753\n\nChange-Id: I0004f5045a6f4aeae84c2105a1dac4369ab3b2fe\n'}, {'number': 3, 'created': '2020-05-15 10:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/496464192d4361aa4b656d95eef57d5d12518b7f', 'message': 'Fix: Unable to create deployment using ExtensionsV1beta1Deployment.\n\nIn Kubernetes version 1.16, deployment in ExtensionsV1beta1Deployment is deprecated [1]\nso it is unable to create cnf.\nIn this patch, I first create method to get AppsV1Api [2],\nthen I include app_v1_api_client in Kubernetes translate_template to create deployment.\n\n[1]: https://kubernetes.io/blog/2019/07/18/api-deprecations-in-1-16/\n[2]: https://github.com/kubernetes-client/python/blob/master/kubernetes/docs/AppsV1Api.md\n\nRelated-Bug: #1878753\n\nChange-Id: I0004f5045a6f4aeae84c2105a1dac4369ab3b2fe\n'}, {'number': 4, 'created': '2020-05-20 02:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/abb5300861cfb86220e34c4c51e2c819dba48141', 'message': 'Use API apps/v1 to create deployment\n\nIn Kubernetes version 1.16, deployment in ExtensionsV1beta1Deployment is deprecated [1]\nso it is unable to create cnf.\nIn this patch, I first create method to get AppsV1Api [2],\nthen I include app_v1_api_client in Kubernetes translate_template to create deployment.\n\n[1]: https://kubernetes.io/blog/2019/07/18/api-deprecations-in-1-16/\n[2]: https://github.com/kubernetes-client/python/blob/master/kubernetes/docs/AppsV1Api.md\n\nRelated-Bug: #1878753\nChange-Id: I0004f5045a6f4aeae84c2105a1dac4369ab3b2fe\n'}, {'number': 5, 'created': '2020-06-04 07:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6118f9b083bd5e7e89f057311f6847834e982970', 'message': 'Use API apps/v1 to create deployment\n\nIn Kubernetes version 1.16, deployment in ExtensionsV1beta1Deployment\nis deprecated [1], so it is unable to create cnf.\nIn this patch, I first create method to get AppsV1Api [2],\nthen I include app_v1_api_client in Kubernetes translate_template to\ncreate deployment.\n\n[1]: https://kubernetes.io/blog/2019/07/18/api-deprecations-in-1-16/\n[2]: https://github.com/kubernetes-client/python/blob/master/kubernetes/docs/AppsV1Api.md\n\nRelated-Bug: #1878753\nChange-Id: I0004f5045a6f4aeae84c2105a1dac4369ab3b2fe\n'}, {'number': 6, 'created': '2020-06-09 04:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5e0a46889342f964dbb5a045f6d85ac58a9757b2', 'message': 'Use API apps/v1 to create deployment\n\nIn Kubernetes version 1.16, deployment in ExtensionsV1beta1Deployment\nis deprecated [1], so it is unable to create cnf.\nIn this patch, I first create method to get AppsV1Api [2],\nthen I include app_v1_api_client in Kubernetes translate_template to\ncreate deployment.\n\n[1]: https://kubernetes.io/blog/2019/07/18/api-deprecations-in-1-16/\n[2]: https://github.com/kubernetes-client/python/blob/master/kubernetes/docs/AppsV1Api.md\n\nRelated-Bug: #1878753\nChange-Id: I0004f5045a6f4aeae84c2105a1dac4369ab3b2fe\n'}, {'number': 7, 'created': '2020-06-10 01:50:31.000000000', 'files': ['tacker/vnfm/infra_drivers/kubernetes/k8s/translate_outputs.py', 'tacker/vnfm/infra_drivers/kubernetes/translate_template.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'tacker/common/container/kubernetes_utils.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/621a13afba80c85b3855e53633ebb7971d578711', 'message': 'Use API apps/v1 to create deployment\n\nIn Kubernetes version 1.16, deployment in ExtensionsV1beta1Deployment\nis deprecated [1], so it is unable to create cnf.\nIn this patch, I first create method to get AppsV1Api [2],\nthen I include app_v1_api_client in Kubernetes translate_template to\ncreate deployment.\n\n[1]: https://kubernetes.io/blog/2019/07/18/api-deprecations-in-1-16/\n[2]: https://github.com/kubernetes-client/python/blob/master/kubernetes/docs/AppsV1Api.md\n\nRelated-Bug: #1878753\nChange-Id: I0004f5045a6f4aeae84c2105a1dac4369ab3b2fe\n'}]",19,728376,621a13afba80c85b3855e53633ebb7971d578711,31,7,7,31880,,,0,"Use API apps/v1 to create deployment

In Kubernetes version 1.16, deployment in ExtensionsV1beta1Deployment
is deprecated [1], so it is unable to create cnf.
In this patch, I first create method to get AppsV1Api [2],
then I include app_v1_api_client in Kubernetes translate_template to
create deployment.

[1]: https://kubernetes.io/blog/2019/07/18/api-deprecations-in-1-16/
[2]: https://github.com/kubernetes-client/python/blob/master/kubernetes/docs/AppsV1Api.md

Related-Bug: #1878753
Change-Id: I0004f5045a6f4aeae84c2105a1dac4369ab3b2fe
",git fetch https://review.opendev.org/openstack/tacker refs/changes/76/728376/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/vnfm/infra_drivers/kubernetes/k8s/translate_outputs.py', 'tacker/vnfm/infra_drivers/kubernetes/translate_template.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'tacker/common/container/kubernetes_utils.py']",4,65c6992a417760ce61f69cf120dd4fd8c921a5cd,bug/1878753," def get_app_v1_api_client(self, auth): k8s_client = self.get_k8s_client(auth_plugin=auth) return client.AppsV1Api(api_client=k8s_client) ",,18,10
openstack%2Foctavia~master~Idb10f84fd32c50db24f844352cb85de452181439,openstack/octavia,master,Idb10f84fd32c50db24f844352cb85de452181439,Use unittest.mock instead of mock,MERGED,2020-06-09 08:50:11.000000000,2020-06-11 03:17:55.000000000,2020-06-11 03:16:29.000000000,"[{'_account_id': 1131}, {'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-09 08:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/262b680c42a4adc6fbf9b0e8c28cb86743c22eec', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Idb10f84fd32c50db24f844352cb85de452181439\n'}, {'number': 2, 'created': '2020-06-09 15:25:14.000000000', 'files': ['lower-constraints.txt', 'octavia/tests/unit/api/drivers/driver_agent/test_driver_updater.py', 'octavia/hacking/checks.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6cce3a72aea648793bf87650336fe8fe5343cc39', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nAlso added and enabled a hacking check that would have caught this.\n\nChange-Id: Idb10f84fd32c50db24f844352cb85de452181439\n'}]",0,734449,6cce3a72aea648793bf87650336fe8fe5343cc39,17,5,2,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Also added and enabled a hacking check that would have caught this.

Change-Id: Idb10f84fd32c50db24f844352cb85de452181439
",git fetch https://review.opendev.org/openstack/octavia refs/changes/49/734449/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'octavia/tests/unit/api/drivers/driver_agent/test_driver_updater.py']",2,262b680c42a4adc6fbf9b0e8c28cb86743c22eec,drop_mock,from unittest.mock import call,from mock import call,1,2
openstack%2Foctavia~stable%2Ftrain~I6543fe5caf539c9b1167a7c58984b3474879e1de,openstack/octavia,stable/train,I6543fe5caf539c9b1167a7c58984b3474879e1de,Fixed a bug: replace 'startwith' with 'startswith',MERGED,2020-06-01 01:29:06.000000000,2020-06-11 03:00:44.000000000,2020-06-11 02:58:37.000000000,"[{'_account_id': 1131}, {'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28329}, {'_account_id': 31525}]","[{'number': 1, 'created': '2020-06-01 01:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e2f3a77d60e467427be066f9519757c5c4e96e75', 'message': ""Fixed a bug: replace 'startwith' with 'startswith'\n\nstory: 2007734\nChange-Id: I6543fe5caf539c9b1167a7c58984b3474879e1de\n(cherry picked from commit 7c96e455a9f7818cb2c5c16ed12120e719f8d992)\n""}, {'number': 2, 'created': '2020-06-08 11:48:04.000000000', 'files': ['octavia/common/clients.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e358637a10e6b3c2df336d8dad42cecbd97e3dd5', 'message': ""Fixed a bug: replace 'startwith' with 'startswith'\n\nstory: 2007734\nChange-Id: I6543fe5caf539c9b1167a7c58984b3474879e1de\n(cherry picked from commit 7c96e455a9f7818cb2c5c16ed12120e719f8d992)\n""}]",0,732079,e358637a10e6b3c2df336d8dad42cecbd97e3dd5,33,7,2,31525,,,0,"Fixed a bug: replace 'startwith' with 'startswith'

story: 2007734
Change-Id: I6543fe5caf539c9b1167a7c58984b3474879e1de
(cherry picked from commit 7c96e455a9f7818cb2c5c16ed12120e719f8d992)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/79/732079/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/common/clients.py'],1,e2f3a77d60e467427be066f9519757c5c4e96e75,story/2007734-stable/train," if endpoint.startswith(""https""):"," if endpoint.startwith(""https""):",1,1
openstack%2Fpython-openstackclient~stable%2Fussuri~I37c9eb854524bde3a1530bfe2e3a03810fb1a676,openstack/python-openstackclient,stable/ussuri,I37c9eb854524bde3a1530bfe2e3a03810fb1a676,Client should parse string to boolean for value 'is_domain',MERGED,2020-06-01 14:53:53.000000000,2020-06-11 02:38:28.000000000,2020-06-11 02:37:02.000000000,"[{'_account_id': 2}, {'_account_id': 5046}, {'_account_id': 8866}, {'_account_id': 9954}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-01 14:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4189edfb6c06097674bd7265c849327a516aebd1', 'message': 'Client should parse string to boolean for value \'is_domain\'\n\nWhen we use ""--property"" parameter, client get lists these the\nvalue is string type, but the type of the value \'is_domain\'\nshould be boolean, so we should judge it and parse it.\nThe patch parse string to boolean for value \'is_domain\'.\n\nCo-Authored-By: Lance Bragstad <lbragstad@gmail.com>\n\nChange-Id: I37c9eb854524bde3a1530bfe2e3a03810fb1a676\nTask: 30039\nStory: 2005246\n(cherry picked from commit 533af9f1b2de40d98f69e83cdf89ecf254cf3879)\n'}, {'number': 2, 'created': '2020-06-01 18:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/72d621ada8c4751faf9b86fbae19bbae1b4cca91', 'message': 'Client should parse string to boolean for value \'is_domain\'\n\nWhen we use ""--property"" parameter, client get lists these the\nvalue is string type, but the type of the value \'is_domain\'\nshould be boolean, so we should judge it and parse it.\nThe patch parse string to boolean for value \'is_domain\'.\n\nCo-Authored-By: Lance Bragstad <lbragstad@gmail.com>\n\nChange-Id: I37c9eb854524bde3a1530bfe2e3a03810fb1a676\nTask: 30039\nStory: 2005246\n(cherry picked from commit 533af9f1b2de40d98f69e83cdf89ecf254cf3879)\n'}, {'number': 3, 'created': '2020-06-03 11:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fa8f1c372225b58d89fb0bc48ff1b856d6ab1604', 'message': 'Client should parse string to boolean for value \'is_domain\'\n\nWhen we use ""--property"" parameter, client get lists these the\nvalue is string type, but the type of the value \'is_domain\'\nshould be boolean, so we should judge it and parse it.\nThe patch parse string to boolean for value \'is_domain\'.\n\nCo-Authored-By: Lance Bragstad <lbragstad@gmail.com>\n\nChange-Id: I37c9eb854524bde3a1530bfe2e3a03810fb1a676\nTask: 30039\nStory: 2005246\n(cherry picked from commit 533af9f1b2de40d98f69e83cdf89ecf254cf3879)\n'}, {'number': 4, 'created': '2020-06-10 19:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/156c8acd056b191dad16b0576398b1fe30927d85', 'message': 'Client should parse string to boolean for value \'is_domain\'\n\nWhen we use ""--property"" parameter, client get lists these the\nvalue is string type, but the type of the value \'is_domain\'\nshould be boolean, so we should judge it and parse it.\nThe patch parse string to boolean for value \'is_domain\'.\n\nCo-Authored-By: Lance Bragstad <lbragstad@gmail.com>\n\nChange-Id: I37c9eb854524bde3a1530bfe2e3a03810fb1a676\nTask: 30039\nStory: 2005246\n(cherry picked from commit 533af9f1b2de40d98f69e83cdf89ecf254cf3879)\n'}, {'number': 5, 'created': '2020-06-10 19:23:56.000000000', 'files': ['openstackclient/identity/v3/project.py', 'releasenotes/notes/bug-2005246-3fb70206bafc5444.yaml', 'openstackclient/tests/unit/identity/v3/test_project.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/19723aee18e2901e9250dd840a61359704baa170', 'message': 'Client should parse string to boolean for value \'is_domain\'\n\nWhen we use ""--property"" parameter, client get lists these the\nvalue is string type, but the type of the value \'is_domain\'\nshould be boolean, so we should judge it and parse it.\nThe patch parse string to boolean for value \'is_domain\'.\n\nCo-Authored-By: Lance Bragstad <lbragstad@gmail.com>\n\nConflict:\n  Direct backports of this patch fail because the original tests\n  proposed to the Victoria (master) branch included keystone\n  ``options``. Support for ``options`` was added in:\n\n    I9c3bdd741f28bf558267fb217818d947597ce13e\n\n  This backport removes the ``options`` key from the expected values in\n  the tests since feature support for ``options`` isn\'t going to be\n  backported. Otherwise, the functionality of this change is fully\n  tested like it is on later releases.\n\nChange-Id: I37c9eb854524bde3a1530bfe2e3a03810fb1a676\nTask: 30039\nStory: 2005246\n(cherry picked from commit 533af9f1b2de40d98f69e83cdf89ecf254cf3879)\n'}]",3,732397,19723aee18e2901e9250dd840a61359704baa170,23,7,5,5046,,,0,"Client should parse string to boolean for value 'is_domain'

When we use ""--property"" parameter, client get lists these the
value is string type, but the type of the value 'is_domain'
should be boolean, so we should judge it and parse it.
The patch parse string to boolean for value 'is_domain'.

Co-Authored-By: Lance Bragstad <lbragstad@gmail.com>

Conflict:
  Direct backports of this patch fail because the original tests
  proposed to the Victoria (master) branch included keystone
  ``options``. Support for ``options`` was added in:

    I9c3bdd741f28bf558267fb217818d947597ce13e

  This backport removes the ``options`` key from the expected values in
  the tests since feature support for ``options`` isn't going to be
  backported. Otherwise, the functionality of this change is fully
  tested like it is on later releases.

Change-Id: I37c9eb854524bde3a1530bfe2e3a03810fb1a676
Task: 30039
Story: 2005246
(cherry picked from commit 533af9f1b2de40d98f69e83cdf89ecf254cf3879)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/97/732397/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/identity/v3/project.py', 'releasenotes/notes/bug-2005246-3fb70206bafc5444.yaml', 'openstackclient/tests/unit/identity/v3/test_project.py']",3,4189edfb6c06097674bd7265c849327a516aebd1,," def test_project_create_is_domain_false_property(self): arglist = [ '--property', 'is_domain=false', self.project.name, ] verifylist = [ ('parent', None), ('enable', False), ('disable', False), ('name', self.project.name), ('tags', []), ('property', {'is_domain': 'false'}), ('name', self.project.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # In base command class ShowOne in cliff, abstract method take_action() # returns a two-part tuple with a tuple of column names and a tuple of # data to be shown. columns, data = self.cmd.take_action(parsed_args) # Set expected values kwargs = { 'name': self.project.name, 'domain': None, 'description': None, 'enabled': True, 'parent': None, 'is_domain': False, 'tags': [], 'options': {}, } self.projects_mock.create.assert_called_with( **kwargs ) self.assertEqual(self.columns, columns) self.assertEqual(self.datalist, data) def test_project_create_is_domain_true_property(self): arglist = [ '--property', 'is_domain=true', self.project.name, ] verifylist = [ ('parent', None), ('enable', False), ('disable', False), ('name', self.project.name), ('tags', []), ('property', {'is_domain': 'true'}), ('name', self.project.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # In base command class ShowOne in cliff, abstract method take_action() # returns a two-part tuple with a tuple of column names and a tuple of # data to be shown. columns, data = self.cmd.take_action(parsed_args) # Set expected values kwargs = { 'name': self.project.name, 'domain': None, 'description': None, 'enabled': True, 'parent': None, 'is_domain': True, 'tags': [], 'options': {}, } self.projects_mock.create.assert_called_with( **kwargs ) self.assertEqual(self.columns, columns) self.assertEqual(self.datalist, data) def test_project_create_is_domain_none_property(self): arglist = [ '--property', 'is_domain=none', self.project.name, ] verifylist = [ ('parent', None), ('enable', False), ('disable', False), ('name', self.project.name), ('tags', []), ('property', {'is_domain': 'none'}), ('name', self.project.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # In base command class ShowOne in cliff, abstract method take_action() # returns a two-part tuple with a tuple of column names and a tuple of # data to be shown. columns, data = self.cmd.take_action(parsed_args) # Set expected values kwargs = { 'name': self.project.name, 'domain': None, 'description': None, 'enabled': True, 'parent': None, 'is_domain': None, 'tags': [], 'options': {}, } self.projects_mock.create.assert_called_with( **kwargs ) self.assertEqual(self.columns, columns) self.assertEqual(self.datalist, data) ",,133,0
openstack%2Fpython-cyborgclient~master~Icbbcbb10397593c8ac810164ac88b02deb9ac818,openstack/python-cyborgclient,master,Icbbcbb10397593c8ac810164ac88b02deb9ac818,Fix a config error ralated to entry point,MERGED,2020-06-08 05:25:54.000000000,2020-06-11 02:24:44.000000000,2020-06-11 02:23:16.000000000,"[{'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-06-08 05:25:54.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/0d405a5022000b76541f0c8323766eda97b613c3', 'message': 'Fix a config error ralated to entry point\n\nThe latest setup.cfg has an error below.\nThat is stem from miss-spelling,\nand this patch fix that with proper spell.\n\n$openstack complete\n""No module named \'cyborgclient.osc.v2.showDevice\';\n\'cyborgclient.osc.v2.device\' is not a package\n\nChange-Id: Icbbcbb10397593c8ac810164ac88b02deb9ac818\n'}]",0,734006,0d405a5022000b76541f0c8323766eda97b613c3,8,6,1,30759,,,0,"Fix a config error ralated to entry point

The latest setup.cfg has an error below.
That is stem from miss-spelling,
and this patch fix that with proper spell.

$openstack complete
""No module named 'cyborgclient.osc.v2.showDevice';
'cyborgclient.osc.v2.device' is not a package

Change-Id: Icbbcbb10397593c8ac810164ac88b02deb9ac818
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/06/734006/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0d405a5022000b76541f0c8323766eda97b613c3,, accelerator_device_show = cyborgclient.osc.v2.device:ShowDevice, accelerator_device_show = cyborgclient.osc.v2.device.ShowDevice,1,1
openstack%2Fwatcher~master~I2b5cd4d1cee19f5588e4d2185eb074343fff1187,openstack/watcher,master,I2b5cd4d1cee19f5588e4d2185eb074343fff1187,Compatible with old scope format,MERGED,2020-06-04 08:48:42.000000000,2020-06-11 02:16:04.000000000,2020-06-09 07:32:12.000000000,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 28748}, {'_account_id': 29911}, {'_account_id': 30623}]","[{'number': 1, 'created': '2020-06-04 08:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/ae59a70fe57e41178a460867b67194dce13fa784', 'message': 'Compatible with old scope format\n\nScope format changed from old to new after bp cdm-scoping.\n\nold format:\n  - availability_zones:\n    - name: nova\n  - host_aggregates:\n    - id: 1\n    - name: agg\n  - exclude:\n    - compute_nodes:\n      - name: w012\n\nnew format:\n- compute:\n  - availability_zones:\n    - name: nova\n  - host_aggregates:\n    - id: 1\n    - name: agg\n  - exclude:\n    - compute_nodes:\n      - name: w012\n\nChange-Id: I2b5cd4d1cee19f5588e4d2185eb074343fff1187\nClosed-Bug: #1882049\n'}, {'number': 2, 'created': '2020-06-04 09:25:05.000000000', 'files': ['watcher/tests/api/v1/test_audit_templates.py', 'watcher/api/controllers/v1/audit_template.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/4a1915bec4c53f6aa893e649d14cd7106a983817', 'message': 'Compatible with old scope format\n\nScope format changed from old to new after bp cdm-scoping.\n\nold format:\n  - availability_zones:\n    - name: nova\n  - host_aggregates:\n    - id: 1\n    - name: agg\n  - exclude:\n    - compute_nodes:\n      - name: w012\n\nnew format:\n- compute:\n  - availability_zones:\n    - name: nova\n  - host_aggregates:\n    - id: 1\n    - name: agg\n  - exclude:\n    - compute_nodes:\n      - name: w012\n\nChange-Id: I2b5cd4d1cee19f5588e4d2185eb074343fff1187\nClosed-Bug: #1882049\n'}]",0,733487,4a1915bec4c53f6aa893e649d14cd7106a983817,11,5,2,21692,,,0,"Compatible with old scope format

Scope format changed from old to new after bp cdm-scoping.

old format:
  - availability_zones:
    - name: nova
  - host_aggregates:
    - id: 1
    - name: agg
  - exclude:
    - compute_nodes:
      - name: w012

new format:
- compute:
  - availability_zones:
    - name: nova
  - host_aggregates:
    - id: 1
    - name: agg
  - exclude:
    - compute_nodes:
      - name: w012

Change-Id: I2b5cd4d1cee19f5588e4d2185eb074343fff1187
Closed-Bug: #1882049
",git fetch https://review.opendev.org/openstack/watcher refs/changes/87/733487/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/api/controllers/v1/audit_template.py'],1,ae59a70fe57e41178a460867b67194dce13fa784,bug/1882049," keys = [list(s)[0] for s in audit_template.scope] if keys[0] not in ('compute', 'storage'): audit_template.scope = [dict(compute=audit_template.scope)]",,3,0
openstack%2Fopenstack-helm-addons~master~I4dcfe92ca5fe8de4d8461b764c0482d897d265ff,openstack/openstack-helm-addons,master,I4dcfe92ca5fe8de4d8461b764c0482d897d265ff,[WIP],ABANDONED,2020-06-11 02:03:53.000000000,2020-06-11 02:05:38.000000000,,[],"[{'number': 1, 'created': '2020-06-11 02:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/98102a72bbea7207316da79aa4d21698297dc201', 'message': '[WIP]\n\nChange-Id: I4dcfe92ca5fe8de4d8461b764c0482d897d265ff\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}]",0,735035,98102a72bbea7207316da79aa4d21698297dc201,2,0,1,29131,,,0,"[WIP]

Change-Id: I4dcfe92ca5fe8de4d8461b764c0482d897d265ff
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/35/735035/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,98102a72bbea7207316da79aa4d21698297dc201,apprmor-test-sonobuoy,,,0,0
openstack%2Fkolla-ansible~master~I6e8765e53fd5c3a7f7169671d75e965c22213c61,openstack/kolla-ansible,master,I6e8765e53fd5c3a7f7169671d75e965c22213c61,Add EL8 packages.,MERGED,2020-05-29 00:44:51.000000000,2020-06-11 02:05:28.000000000,2020-06-04 09:11:05.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 25877}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-05-29 00:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/435a2a4c0085eb58264e4983239728c1b2548480', 'message': ""Add EL8 packages.\n\nPython packages are now prefixed with 'python3' instead of 'python'.\n'bridge-utils' is also no longer shipped.\n\nChange-Id: I6e8765e53fd5c3a7f7169671d75e965c22213c61\nSigned-off-by: Luke Short <ekultails@gmail.com>\n""}, {'number': 2, 'created': '2020-05-29 21:18:34.000000000', 'files': ['doc/source/user/quickstart.rst', 'doc/source/contributor/vagrant-dev-env.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7d39ed9aa946d4fe87ff68f9433ba4b30d570daa', 'message': ""Add EL8 packages.\n\nPython packages are now prefixed with 'python3' instead of 'python'.\n'bridge-utils' is also no longer shipped.\n\nChange-Id: I6e8765e53fd5c3a7f7169671d75e965c22213c61\nSigned-off-by: Luke Short <ekultails@gmail.com>\n""}]",4,731631,7d39ed9aa946d4fe87ff68f9433ba4b30d570daa,19,5,2,25877,,,0,"Add EL8 packages.

Python packages are now prefixed with 'python3' instead of 'python'.
'bridge-utils' is also no longer shipped.

Change-Id: I6e8765e53fd5c3a7f7169671d75e965c22213c61
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/31/731631/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/quickstart.rst', 'doc/source/contributor/vagrant-dev-env.rst']",2,435a2a4c0085eb58264e4983239728c1b2548480,el8_docs,For CentOS or RHEL 7:For CentOS or RHEL 8: .. code-block:: console sudo dnf install ruby-devel libvirt-devel zlib-devel libpng-devel gcc \ qemu-kvm qemu-img libvirt python3-libvirt libvirt-client virt-install git ,For CentOS 7 or later:,22,3
openstack%2Ftripleo-quickstart-extras~master~I8f016085ea4021314d99ea341c6d0b321b030e01,openstack/tripleo-quickstart-extras,master,I8f016085ea4021314d99ea341c6d0b321b030e01,Add ansible-collections-openstack for required repos,MERGED,2020-06-10 13:58:32.000000000,2020-06-11 02:03:28.000000000,2020-06-11 02:03:28.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-10 13:58:32.000000000', 'files': ['roles/nodepool-setup/tasks/clone-ci-repos.yml', 'roles/nodepool-setup/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/01c2f634a8b86f971f773f886a29b1b67312274e', 'message': 'Add ansible-collections-openstack for required repos\n\nChange-Id: I8f016085ea4021314d99ea341c6d0b321b030e01\n'}]",0,734849,01c2f634a8b86f971f773f886a29b1b67312274e,11,7,1,10969,,,0,"Add ansible-collections-openstack for required repos

Change-Id: I8f016085ea4021314d99ea341c6d0b321b030e01
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/49/734849/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/nodepool-setup/tasks/clone-ci-repos.yml', 'roles/nodepool-setup/defaults/main.yml']",2,01c2f634a8b86f971f773f886a29b1b67312274e,tripleo-collection, - https://opendev.org/openstack/ansible-collections-openstack,,2,0
openstack%2Ftrove~master~Ib4e14d600841b6e6769a1e557b34c9c7787cb02d,openstack/trove,master,Ib4e14d600841b6e6769a1e557b34c9c7787cb02d,Release note for adding replicas in list instance response,MERGED,2020-06-10 22:00:18.000000000,2020-06-11 01:55:23.000000000,2020-06-11 01:53:40.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 22:00:18.000000000', 'files': ['releasenotes/notes/victoria-show-replicas-for-instance-list.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/4bf6c496bb63123b363498141b06a4c131f83c59', 'message': 'Release note for adding replicas in list instance response\n\nChange-Id: Ib4e14d600841b6e6769a1e557b34c9c7787cb02d\n'}]",0,735017,4bf6c496bb63123b363498141b06a4c131f83c59,7,2,1,6732,,,0,"Release note for adding replicas in list instance response

Change-Id: Ib4e14d600841b6e6769a1e557b34c9c7787cb02d
",git fetch https://review.opendev.org/openstack/trove refs/changes/17/735017/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/victoria-show-replicas-for-instance-list.yaml'],1,4bf6c496bb63123b363498141b06a4c131f83c59,release-note-replicas,--- features: - Added ``replicas`` attribute for listing instances when the instance is the master of the replication cluster. ,,4,0
openstack%2Fproject-config~master~Ibe4d459ce6c9c6e26330944f30272925b930ba3d,openstack/project-config,master,Ibe4d459ce6c9c6e26330944f30272925b930ba3d,Don't release centos7 aarch64 volume,MERGED,2020-06-11 01:13:27.000000000,2020-06-11 01:33:58.000000000,2020-06-11 01:33:58.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-11 01:13:27.000000000', 'files': ['playbooks/wheel/release.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/92b378cc9e2ac95cf24520d1dc73986060c7ecfb', 'message': ""Don't release centos7 aarch64 volume\n\nWe ended up not creating centos7 arm64 wheels and don't have this\nvolume, don't try and release it.\n\nChange-Id: Ibe4d459ce6c9c6e26330944f30272925b930ba3d\n""}]",0,735025,92b378cc9e2ac95cf24520d1dc73986060c7ecfb,6,2,1,7118,,,0,"Don't release centos7 aarch64 volume

We ended up not creating centos7 arm64 wheels and don't have this
volume, don't try and release it.

Change-Id: Ibe4d459ce6c9c6e26330944f30272925b930ba3d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/25/735025/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/wheel/release.yaml'],1,92b378cc9e2ac95cf24520d1dc73986060c7ecfb,wheel-release-soft,, - role: release-afs-volume afs_volume: mirror.wheel.cent7a64,0,2
openstack%2Foctavia~stable%2Ftrain~I057f9a8353de471d605a5a5c2860d7caa9d3bd28,openstack/octavia,stable/train,I057f9a8353de471d605a5a5c2860d7caa9d3bd28,Do not install diskimage-builder from Git,MERGED,2020-06-04 19:04:51.000000000,2020-06-11 01:23:46.000000000,2020-06-11 01:22:12.000000000,"[{'_account_id': 6469}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 31525}]","[{'number': 1, 'created': '2020-06-04 19:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3c280842642214deb4d85e90a8a2126986d89b6b', 'message': ""Pin diskimage-builder on Python 2 git installs\n\nDiskimage-builder recently dropped Python 2 support. Even though there's\nan upper constraint version for DIB in python 2 installs, that\nconstraint is ignored when installing DIB from git rather than with pip.\nFor this reason, we need to pin DIB to a Python 2 compatible version. We\nchoose 2.30.0 as per the upper-constraints.txt in stable/train\nrequirements [1]. This should take care of both user installs and CI\n(dsvm live base and child jobs).\n\n[1] https://opendev.org/openstack/requirements/src/commit/4ae10f52cec8f6d870c7d862d22c66a64ce74f9f/upper-constraints.txt#L612\n\nChange-Id: I057f9a8353de471d605a5a5c2860d7caa9d3bd28\n""}, {'number': 2, 'created': '2020-06-05 08:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e4812c651194065b7b9ee7c29d79c8f72280bc1f', 'message': 'Do not install diskimage-builder from Git\n\nDiskimage-builder recently dropped Python 2 support (>= 3.0.0).\nInstalling DIB from Git pulls Python 3-only DIB which breaks Python 2\ndevstack environments.\n\nThis patch drops the option to install DIB from Git. DIB will now\ninstall what is set in stable/train upper-constraints.txt [1].\n\n[1] https://opendev.org/openstack/requirements/src/commit/4ae10f52cec8f6d870c7d862d22c66a64ce74f9f/upper-constraints.txt#L612\n\nChange-Id: I057f9a8353de471d605a5a5c2860d7caa9d3bd28\n'}, {'number': 3, 'created': '2020-06-05 09:04:12.000000000', 'files': ['devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/octavia/commit/4a95b354901c81f135b61d39754e1419dd134f0e', 'message': 'Do not install diskimage-builder from Git\n\nDiskimage-builder recently dropped Python 2 support (>= 3.0.0).\nInstalling DIB from Git pulls Python 3-only DIB which breaks Python 2\ndevstack environments.\n\nThis patch drops the option to install DIB from Git. DIB will now\ninstall what is set in stable/train upper-constraints.txt [1].\n\n[1] https://opendev.org/openstack/requirements/src/commit/4ae10f52cec8f6d870c7d862d22c66a64ce74f9f/upper-constraints.txt#L612\n\nDepends-On: https://review.opendev.org/#/c/733778/\nChange-Id: I057f9a8353de471d605a5a5c2860d7caa9d3bd28\n'}]",0,733681,4a95b354901c81f135b61d39754e1419dd134f0e,18,5,3,6469,,,0,"Do not install diskimage-builder from Git

Diskimage-builder recently dropped Python 2 support (>= 3.0.0).
Installing DIB from Git pulls Python 3-only DIB which breaks Python 2
devstack environments.

This patch drops the option to install DIB from Git. DIB will now
install what is set in stable/train upper-constraints.txt [1].

[1] https://opendev.org/openstack/requirements/src/commit/4ae10f52cec8f6d870c7d862d22c66a64ce74f9f/upper-constraints.txt#L612

Depends-On: https://review.opendev.org/#/c/733778/
Change-Id: I057f9a8353de471d605a5a5c2860d7caa9d3bd28
",git fetch https://review.opendev.org/openstack/octavia refs/changes/81/733681/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,3c280842642214deb4d85e90a8a2126986d89b6b,," if ! python3_enabled; then DISKIMAGE_BUILDER_REPO_REF=""2.30.0"" fi",,3,0
openstack%2Ftacker~master~Icff5315969a1303fcbf71ecddfaa7ea0c99a3e5b,openstack/tacker,master,Icff5315969a1303fcbf71ecddfaa7ea0c99a3e5b,Fix many ResourceWarning messages in tox,MERGED,2020-05-30 17:19:01.000000000,2020-06-11 01:20:32.000000000,2020-06-11 01:19:05.000000000,"[{'_account_id': 22290}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}]","[{'number': 1, 'created': '2020-05-30 17:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/63882ef7fc73c8db046bcf4f6055b1b4184383b8', 'message': 'Fix many ResourceWarning messages in tox\n\nThis update is to fix `ResourceWarning` messages while running tox\ntests because file descriptors are not closed explicitly after each\nof tests. Although these tests are completed as `succeeded`, such nouse\nwarnings make hard to inspect log messages.\n\nCloses-Bug: #1881416\n\nChange-Id: Icff5315969a1303fcbf71ecddfaa7ea0c99a3e5b\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}, {'number': 2, 'created': '2020-06-01 16:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4b2e1340efef0a2869d7a49e91dd83b1bc949aa8', 'message': 'Fix many ResourceWarning messages in tox\n\nThis update is to fix `ResourceWarning` messages while running tox\ntests because file descriptors are not closed explicitly after each\nof tests. Although these tests are completed as `succeeded`, such nouse\nwarnings make hard to inspect log messages.\n\nCloses-Bug: #1881416\n\nChange-Id: Icff5315969a1303fcbf71ecddfaa7ea0c99a3e5b\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}, {'number': 3, 'created': '2020-06-02 02:07:23.000000000', 'files': ['tacker/tests/unit/nfvo/test_nfvo_plugin.py', 'tacker/tests/unit/conductor/fakes.py', 'tacker/tests/unit/vnfm/tosca/test_utils.py', 'tacker/tests/unit/vnfpkgm/fakes.py', 'tacker/conductor/conductor_server.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/a3649b6811d04e26c7c7d911e3b203b89faac6cd', 'message': 'Fix many ResourceWarning messages in tox\n\nThis update is to fix `ResourceWarning` messages while running tox\ntests because file descriptors are not closed explicitly after each\nof tests. Although these tests are completed as `succeeded`, such nouse\nwarnings make hard to inspect log messages.\n\nCloses-Bug: #1881416\n\nChange-Id: Icff5315969a1303fcbf71ecddfaa7ea0c99a3e5b\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}]",2,731983,a3649b6811d04e26c7c7d911e3b203b89faac6cd,16,4,3,25701,,,0,"Fix many ResourceWarning messages in tox

This update is to fix `ResourceWarning` messages while running tox
tests because file descriptors are not closed explicitly after each
of tests. Although these tests are completed as `succeeded`, such nouse
warnings make hard to inspect log messages.

Closes-Bug: #1881416

Change-Id: Icff5315969a1303fcbf71ecddfaa7ea0c99a3e5b
Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
",git fetch https://review.opendev.org/openstack/tacker refs/changes/83/731983/2 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/unit/conductor/fakes.py', 'tacker/tests/unit/nfvo/test_nfvo_plugin.py', 'tacker/tests/unit/vnfm/tosca/test_utils.py', 'tacker/tests/unit/vnfpkgm/fakes.py', 'tacker/conductor/conductor_server.py']",5,63882ef7fc73c8db046bcf4f6055b1b4184383b8,bug/1881416," with open(file_path) as f: file_data = yaml.safe_load(f) with open(os.path.join( csar_path, 'TOSCA-Metadata', 'TOSCA.meta')) as f: tosca_meta_data = yaml.safe_load(f) with open(src_path) as f: file_data = yaml.safe_load(f)","import io file_data = yaml.safe_load(io.open(file_path)) tosca_meta_data = yaml.safe_load(io.open(os.path.join( csar_path, 'TOSCA-Metadata', 'TOSCA.meta'))) file_data = yaml.safe_load(io.open(src_path))",17,15
openstack%2Ftripleo-ansible~stable%2Fussuri~Ic4ee6f4a150200531491cdd78ca3c4f66e5d1ffb,openstack/tripleo-ansible,stable/ussuri,Ic4ee6f4a150200531491cdd78ca3c4f66e5d1ffb,Add support for Octavia amphora log offloading,MERGED,2020-06-04 21:51:18.000000000,2020-06-11 01:18:52.000000000,2020-06-10 23:25:22.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 11628}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-04 21:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b9ec2f9856b2d9a2035e3d4050c6559435cd0fb', 'message': 'Add support for Octavia amphora log offloading\n\nThis patch configures Octavia to enable amphora log offloading\nto the Octavia rsyslog container if the OctaviaOffloadAllLogs\nparameter is True.\n\nDepends-On: https://review.opendev.org/724187\nChange-Id: Ic4ee6f4a150200531491cdd78ca3c4f66e5d1ffb\n(cherry picked from commit 0d52c6066a8e33cea100525a1f0b2c2fd5d301da)\n'}, {'number': 2, 'created': '2020-06-04 21:51:50.000000000', 'files': ['tripleo_ansible/roles/octavia_controller_post_config/tasks/main.yml', 'tripleo_ansible/roles/octavia_common/defaults/main.yml', 'tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia_controller_post_config/templates/10-octavia.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ce53777c62370cdd88e038d95e2685dffcc1ecb9', 'message': 'Add support for Octavia amphora log offloading\n\nThis patch configures Octavia to enable amphora log offloading\nto the Octavia rsyslog container if the OctaviaOffloadAllLogs\nparameter is True.\n\nDepends-On: https://review.opendev.org/#/c/733710\nChange-Id: Ic4ee6f4a150200531491cdd78ca3c4f66e5d1ffb\n(cherry picked from commit 0d52c6066a8e33cea100525a1f0b2c2fd5d301da)\n'}]",0,733712,ce53777c62370cdd88e038d95e2685dffcc1ecb9,15,6,2,11628,,,0,"Add support for Octavia amphora log offloading

This patch configures Octavia to enable amphora log offloading
to the Octavia rsyslog container if the OctaviaOffloadAllLogs
parameter is True.

Depends-On: https://review.opendev.org/#/c/733710
Change-Id: Ic4ee6f4a150200531491cdd78ca3c4f66e5d1ffb
(cherry picked from commit 0d52c6066a8e33cea100525a1f0b2c2fd5d301da)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/12/733712/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/octavia_controller_post_config/tasks/main.yml', 'tripleo_ansible/roles/octavia_common/defaults/main.yml', 'tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia_controller_post_config/templates/10-octavia.conf.j2']",4,1b9ec2f9856b2d9a2035e3d4050c6559435cd0fb,,"module(load=""imudp"") input(type=""imudp"" address=""{{ mgmt_port_ip }}"" port=""514"") # Output the amphora tenant traffic flow logs if ($inputname == ""imudp"" and $syslogfacility-text == ""local0"" and $syslogseverity-text == ""info"" and $hostname startswith ""amphora"") then { action(type=""omfile"" FileCreateMode=""0644"" File=""/var/log/octavia/octavia-tenant-traffic.log"") stop } # Output the amphora administrative logs if ($inputname == ""imudp"" and $syslogfacility-text == ""local1"" and $hostname startswith ""amphora"") then { action(type=""omfile"" FileCreateMode=""0644"" File=""/var/log/octavia/octavia-amphora.log"") stop } ",,71,0
openstack%2Fmasakari~master~I48cf7a8e519de889c0c69ea4b3e6fcdf292767a6,openstack/masakari,master,I48cf7a8e519de889c0c69ea4b3e6fcdf292767a6,Fix typo for sgement => segment,MERGED,2019-03-26 11:55:20.000000000,2020-06-11 01:17:36.000000000,2020-06-11 01:16:18.000000000,"[{'_account_id': 1011}, {'_account_id': 8716}, {'_account_id': 12950}, {'_account_id': 22348}, {'_account_id': 25267}]","[{'number': 1, 'created': '2019-03-26 11:55:20.000000000', 'files': ['api-ref/source/failover-segments.inc'], 'web_link': 'https://opendev.org/openstack/masakari/commit/9ff830827cbdd758c52ad7f07de078b7c612cb7b', 'message': 'Fix typo for sgement => segment\n\nChange-Id: I48cf7a8e519de889c0c69ea4b3e6fcdf292767a6\n'}]",0,647722,9ff830827cbdd758c52ad7f07de078b7c612cb7b,9,5,1,29759,,,0,"Fix typo for sgement => segment

Change-Id: I48cf7a8e519de889c0c69ea4b3e6fcdf292767a6
",git fetch https://review.opendev.org/openstack/masakari refs/changes/22/647722/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/failover-segments.inc'],1,9ff830827cbdd758c52ad7f07de078b7c612cb7b,, - segment: segment, - sgement: segment,1,1
openstack%2Fmanila~master~I06a9bf24ab3d4aa5f4f5446d344bf55d71803e47,openstack/manila,master,I06a9bf24ab3d4aa5f4f5446d344bf55d71803e47,Add asynchronous error info into messages when share extend error,MERGED,2019-10-30 08:55:02.000000000,2020-06-11 01:16:14.000000000,2020-02-17 14:13:00.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26458}, {'_account_id': 27190}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}]","[{'number': 1, 'created': '2019-10-30 08:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5d230a8ca401861c0829c7971a253701252d97b5', 'message': 'Add asynchronous error info into messages when share extend error\n\nThe database table messages is used to record various asynchronous error\nmessages,extend share is an asynchronously invoked procedure, when the\ndriver layer fails to execute extend share, we should record this\nasynchronous error into database. But there are no records now.\n\nChange-Id: I06a9bf24ab3d4aa5f4f5446d344bf55d71803e47\n'}, {'number': 2, 'created': '2019-10-30 09:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b6af8e07266511335115e019baffacd92fa2062a', 'message': 'Add asynchronous error info into messages when share extend error\n\nThe database table messages is used to record various asynchronous error\nmessages,extend share is an asynchronously invoked procedure, when the\ndriver layer fails to execute extend share, we should record this\nasynchronous error into database. But there are no records now.\n\nCloses-Bug:#1850264\nChange-Id: I06a9bf24ab3d4aa5f4f5446d344bf55d71803e47\n'}, {'number': 3, 'created': '2019-11-28 02:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ec293b98faf870d3fdeb7ee8ac2793066b71be5d', 'message': 'Add asynchronous error info into messages when share extend error\n\nThe database table messages is used to record various asynchronous error\nmessages, extend share is an asynchronously invoked procedure, when the\ndriver layer fails to execute extend share, we should record this\nasynchronous error into database. This commit modify this behavior, and\nnow this asynchronows error is recorded in the database.\n\nCloses-Bug:#1850264\nChange-Id: I06a9bf24ab3d4aa5f4f5446d344bf55d71803e47\n'}, {'number': 4, 'created': '2019-11-28 07:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0faeee25794552f3766c727055f393657992008f', 'message': 'Add asynchronous error info into messages when share extend error\n\nThe database table messages is used to record various asynchronous error\nmessages, extend share is an asynchronously invoked procedure, when the\ndriver layer fails to execute extend share, we should record this\nasynchronous error into database. This commit modify this behavior, and\nnow this asynchronows error is recorded in the database.\n\nCloses-Bug:#1850264\nChange-Id: I06a9bf24ab3d4aa5f4f5446d344bf55d71803e47\n'}, {'number': 5, 'created': '2019-11-28 09:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/75d12b044e8a35664af77b606b49e28e721e8893', 'message': 'Add asynchronous error info into messages when share extend error\n\nThe database table messages is used to record various asynchronous error\nmessages, extend share is an asynchronously invoked procedure, when the\ndriver layer fails to execute extend share, we should record this\nasynchronous error into database. This commit modify this behavior, and\nnow this asynchronows error is recorded in the database.\n\nCloses-Bug:#1850264\nChange-Id: I06a9bf24ab3d4aa5f4f5446d344bf55d71803e47\n'}, {'number': 6, 'created': '2019-12-14 10:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4e9d056cb3b517f1ab2a11bae60da170fd575f2b', 'message': 'Add asynchronous error info into messages when share extend error\n\nThe database table messages is used to record various asynchronous error\nmessages, extend share is an asynchronously invoked procedure, when the\ndriver layer fails to execute extend share, we should record this\nasynchronous error into database. This commit modify this behavior, and\nnow this asynchronows error is recorded in the database.\n\nCloses-Bug:#1850264\nChange-Id: I06a9bf24ab3d4aa5f4f5446d344bf55d71803e47\n'}, {'number': 7, 'created': '2019-12-15 02:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/03dda4281b5ec7857d16bde1cb223ae814563c0a', 'message': 'Add asynchronous error info into messages when share extend error\n\nThe database table messages is used to record various asynchronous error\nmessages, extend share is an asynchronously invoked procedure, when the\ndriver layer fails to execute extend share, we should record this\nasynchronous error into database. This commit modify this behavior, and\nnow this asynchronows error is recorded in the database.\n\nCloses-Bug:#1850264\nChange-Id: I06a9bf24ab3d4aa5f4f5446d344bf55d71803e47\n'}, {'number': 8, 'created': '2020-01-13 08:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/83ed3f31e192c944ffd1c081b6b66723738ecc24', 'message': 'Add asynchronous error info into messages when share extend error\n\nThe database table messages is used to record various asynchronous error\nmessages, extend share is an asynchronously invoked procedure, when the\ndriver layer fails to execute extend share, we should record this\nasynchronous error into database. This commit modify this behavior, and\nnow this asynchronows error is recorded in the database.\n\nCloses-Bug:#1850264\nChange-Id: I06a9bf24ab3d4aa5f4f5446d344bf55d71803e47\n'}, {'number': 9, 'created': '2020-02-04 13:29:19.000000000', 'files': ['releasenotes/notes/bug-1850264-add-async-error-when-share-extend-error-a0c458204b395994.yaml', 'manila/share/manager.py', 'manila/message/message_field.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/be149c4c6bf354048bfb9f31d27c4a1b64de3fe1', 'message': 'Add asynchronous error info into messages when share extend error\n\nThe database table messages is used to record various asynchronous error\nmessages, extend share is an asynchronously invoked procedure, when the\ndriver layer fails to execute extend share, we should record this\nasynchronous error into database. This commit modify this behavior, and\nnow this asynchronows error is recorded in the database.\n\nCloses-Bug:#1850264\nChange-Id: I06a9bf24ab3d4aa5f4f5446d344bf55d71803e47\n'}]",13,692079,be149c4c6bf354048bfb9f31d27c4a1b64de3fe1,121,18,9,30407,,,0,"Add asynchronous error info into messages when share extend error

The database table messages is used to record various asynchronous error
messages, extend share is an asynchronously invoked procedure, when the
driver layer fails to execute extend share, we should record this
asynchronous error into database. This commit modify this behavior, and
now this asynchronows error is recorded in the database.

Closes-Bug:#1850264
Change-Id: I06a9bf24ab3d4aa5f4f5446d344bf55d71803e47
",git fetch https://review.opendev.org/openstack/manila refs/changes/79/692079/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/manager.py', 'manila/message/message_field.py']",2,5d230a8ca401861c0829c7971a253701252d97b5,bug/1850264," EXTEND_SHARE = ('008', _('extend share')) DELETE, EXTEND_SHARE) DRIVER_FAILED_EXTEND = ( '015', _(""Share Driver failed to extend share."")) FILTER_REPLICATION, DRIVER_FAILED_EXTEND)", DELETE) FILTER_REPLICATION),15,3
openstack%2Ftripleo-ansible~stable%2Ftrain~Ic4ee6f4a150200531491cdd78ca3c4f66e5d1ffb,openstack/tripleo-ansible,stable/train,Ic4ee6f4a150200531491cdd78ca3c4f66e5d1ffb,Add support for Octavia amphora log offloading,MERGED,2020-06-04 21:55:54.000000000,2020-06-11 01:13:34.000000000,2020-06-10 23:25:21.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 11628}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-04 21:55:54.000000000', 'files': ['tripleo_ansible/roles/octavia_common/defaults/main.yml', 'tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia_controller_post_config/templates/10-octavia.conf.j2', 'tripleo_ansible/roles/octavia-controller-post-config/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/53f80f2cb6f922e977fc69379e0c7259fbb1167c', 'message': 'Add support for Octavia amphora log offloading\n\nThis patch configures Octavia to enable amphora log offloading\nto the Octavia rsyslog container if the OctaviaOffloadAllLogs\nparameter is True.\n\nDepends-On: https://review.opendev.org/#/c/733711\nChange-Id: Ic4ee6f4a150200531491cdd78ca3c4f66e5d1ffb\n(cherry picked from commit ce53777c62370cdd88e038d95e2685dffcc1ecb9)\n'}]",0,733713,53f80f2cb6f922e977fc69379e0c7259fbb1167c,12,6,1,11628,,,0,"Add support for Octavia amphora log offloading

This patch configures Octavia to enable amphora log offloading
to the Octavia rsyslog container if the OctaviaOffloadAllLogs
parameter is True.

Depends-On: https://review.opendev.org/#/c/733711
Change-Id: Ic4ee6f4a150200531491cdd78ca3c4f66e5d1ffb
(cherry picked from commit ce53777c62370cdd88e038d95e2685dffcc1ecb9)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/13/733713/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/octavia_common/defaults/main.yml', 'tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia_controller_post_config/templates/10-octavia.conf.j2', 'tripleo_ansible/roles/octavia-controller-post-config/tasks/main.yml']",4,53f80f2cb6f922e977fc69379e0c7259fbb1167c,,"- name: configure amphora log offloading block: - name: create ip list (rsyslog) set_fact: o_rsyslog_ip_list: ""{% for octavia_node in groups['octavia_nodes'] %}{{ hostvars[octavia_node].mgmt_port_ip }}:514, {%endfor%}"" - name: create ip list (remove the last two characters) (rsyslog) set_fact: o_rsyslog_ip_list: ""{{ o_rsyslog_ip_list[:-2] }}"" - name: create /etc/rsyslog.d become: true become_user: root file: state: directory path: ""{{ octavia_confd_prefix }}/etc/rsyslog.d"" selevel: s0 setype: svirt_sandbox_file_t - name: create rsyslog 10-octavia.conf become: true become_user: root template: src: templates/10-octavia.conf.j2 dest: ""{{ octavia_confd_prefix }}/etc/rsyslog.d/10-octavia.conf"" selevel: s0 setype: svirt_sandbox_file_t when: enable_log_offloading | bool - name: setting [amphora_agent]/tenant_log_targets become: true become_user: root ini_file: section: ""amphora_agent"" option: ""tenant_log_targets"" value: ""{{ o_rsyslog_ip_list }}"" path: ""{{ octavia_confd_prefix }}/etc/octavia/post-deploy.conf"" selevel: s0 setype: svirt_sandbox_file_t when: - enable_log_offloading | bool - name: setting [amphora_agent]/admin_log_targets become: true become_user: root ini_file: section: ""amphora_agent"" option: ""admin_log_targets"" value: ""{{ o_rsyslog_ip_list }}"" path: ""{{ octavia_confd_prefix }}/etc/octavia/post-deploy.conf"" selevel: s0 setype: svirt_sandbox_file_t when: - enable_log_offloading | bool ",,71,0
openstack%2Fsenlin~master~I9008ef07ccdf0c5efe6610f617d1103bfe3776f1,openstack/senlin,master,I9008ef07ccdf0c5efe6610f617d1103bfe3776f1,Monkey patch original current_thread _active,ABANDONED,2020-05-08 10:30:45.000000000,2020-06-11 01:08:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 27224}]","[{'number': 1, 'created': '2020-05-08 10:30:45.000000000', 'files': ['senlin/cmd/__init__.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/458df86bf06058c59490ed9eadba8298239f4c67', 'message': 'Monkey patch original current_thread _active\n\nMonkey patch the original current_thread to use the up-to-date _active\nglobal variable. This solution is based on that documented at:\nhttps://github.com/eventlet/eventlet/issues/592\n\nCloses-Bug: #1863021\nChange-Id: I9008ef07ccdf0c5efe6610f617d1103bfe3776f1\n'}]",1,726333,458df86bf06058c59490ed9eadba8298239f4c67,4,2,1,30077,,,0,"Monkey patch original current_thread _active

Monkey patch the original current_thread to use the up-to-date _active
global variable. This solution is based on that documented at:
https://github.com/eventlet/eventlet/issues/592

Closes-Bug: #1863021
Change-Id: I9008ef07ccdf0c5efe6610f617d1103bfe3776f1
",git fetch https://review.opendev.org/openstack/senlin refs/changes/33/726333/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/cmd/__init__.py'],1,458df86bf06058c59490ed9eadba8298239f4c67,bug/1863021,# Monkey patch the original current_thread to use the up-to-date _active # global variable. See https://bugs.launchpad.net/bugs/1863021 and # https://github.com/eventlet/eventlet/issues/592 import __original_module_threading as orig_threading # noqa import threading # noqa orig_threading.current_thread.__globals__['_active'] = threading._active ,,7,0
openstack%2Fnova-specs~master~I1e2056b2e21704d1cdea7c0ad89bf0bceb89d90d,openstack/nova-specs,master,I1e2056b2e21704d1cdea7c0ad89bf0bceb89d90d,specify mac for creating instance,ABANDONED,2019-12-23 11:54:16.000000000,2020-06-11 01:08:15.000000000,,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30077}]","[{'number': 1, 'created': '2019-12-23 11:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f96523bb5e8a08bd02fb9cdb1ecac067cfa4f81a', 'message': ""specify mac for creating instance\n\nAs an end user, to better manage servers, I would like to specify the\nserver's MAC when booting, to ensure that the server's MAC is within my\nplanning range.\n\nhttps://blueprints.launchpad.net/nova/+spec/specify-mac-for-creating-instance\n\nChange-Id: I1e2056b2e21704d1cdea7c0ad89bf0bceb89d90d\n""}, {'number': 2, 'created': '2020-02-05 10:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ea26ca453b4f42032a155421a80f664f43a853c4', 'message': ""specify mac for creating instance\n\nAs an end user, to better manage servers, I would like to specify the\nserver's MAC when booting, to ensure that the server's MAC is within my\nplanning range.\n\nhttps://blueprints.launchpad.net/nova/+spec/specify-mac-for-creating-instance\n\nChange-Id: I1e2056b2e21704d1cdea7c0ad89bf0bceb89d90d\n""}, {'number': 3, 'created': '2020-02-06 03:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3497cd80ea485594a38ffdbb225103387bcd06e5', 'message': ""specify mac for creating instance\n\nAs an end user, to better manage servers, I would like to specify the\nserver's MAC when booting, to ensure that the server's MAC is within my\nplanning range.\n\nhttps://blueprints.launchpad.net/nova/+spec/specify-mac-for-creating-instance\n\nChange-Id: I1e2056b2e21704d1cdea7c0ad89bf0bceb89d90d\n""}, {'number': 4, 'created': '2020-05-12 11:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/85990db20363cc4d1e8dcbbba6ace6a2902675cc', 'message': ""specify mac for creating instance\n\nAs an end user, to better manage servers, I would like to specify the\nserver's MAC when booting, to ensure that the server's MAC is within my\nplanning range.\n\nhttps://blueprints.launchpad.net/nova/+spec/specify-mac-for-creating-instance\n\nChange-Id: I1e2056b2e21704d1cdea7c0ad89bf0bceb89d90d\n""}, {'number': 5, 'created': '2020-05-20 04:46:03.000000000', 'files': ['specs/victoria/approved/specify-mac-for-creating-instance.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/83e319a628a9aa90bfc169c280540c67abfcac2b', 'message': ""specify mac for creating instance\n\nAs an end user, to better manage servers, I would like to specify the\nserver's MAC when booting, to ensure that the server's MAC is within my\nplanning range.\n\nhttps://blueprints.launchpad.net/nova/+spec/specify-mac-for-creating-instance\n\nChange-Id: I1e2056b2e21704d1cdea7c0ad89bf0bceb89d90d\n""}]",16,700429,83e319a628a9aa90bfc169c280540c67abfcac2b,25,7,5,30077,,,0,"specify mac for creating instance

As an end user, to better manage servers, I would like to specify the
server's MAC when booting, to ensure that the server's MAC is within my
planning range.

https://blueprints.launchpad.net/nova/+spec/specify-mac-for-creating-instance

Change-Id: I1e2056b2e21704d1cdea7c0ad89bf0bceb89d90d
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/29/700429/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/ussuri/approved/specify-mac-for-creating-instance.rst'],1,f96523bb5e8a08bd02fb9cdb1ecac067cfa4f81a,bp/specify-mac-for-creating-instance,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================= Specify mac for creating instance ================================= https://blueprints.launchpad.net/nova/+spec/specify-mac-for-creating-instance The blueprint proposes to alloow specify MAC when creating a server. Problem description =================== Currently, we can boot a server with specifing a fixed-ip, but we if we want to get the server's MAC, we need to log in to the instance to configure the MAC address. In large-scale scenarios, if there are multiple servers that need to be set up for Mac to facilitate better management, then this configuration method is more complicated. Use Cases --------- As an end user, to better manage servers, I would like to specify the server's MAC when booting, to ensure that the server's MAC is within my planning range. Proposed change =============== Add a new microversion to the create server API. Add ``fixed_mac`` in the create server request body. Alternatives ------------ None Data model impact ----------------- None. The specifying ``fixed_mac`` will be recorded in ``address`` column of the ``virtual_interfaces`` table in nova database. REST API impact --------------- Add a new microversion. URL: /servers * Request method: POST (Create Server) * Create Server API: .. code-block:: json { ""server"" : { ""name"" : ""device-tagging-server"", ""flavorRef"" : ""http://openstack.example.com/flavors/1"", ""networks"" : [{ ""uuid"" : ""3cb9bc59-5699-4588-a4b1-b87f96708bc6"", ""tag"": ""nic1"", ""fixed_mac"": ""fa:01:02:03:04:05"" }], ""block_device_mapping_v2"": [{ ""uuid"": ""70a599e0-31e7-49b7-b260-868f441e862b"", ""source_type"": ""image"", ""destination_type"": ""volume"", ""boot_index"": 0, ""volume_size"": ""1"", ""tag"": ""disk1"" }] } } When creating an instance, add ``fixed_mac`` parameter in the request body to specify the MAC address for the instance. If the ``fixed_mac`` is None, assigned a MAC address randomly for the instance. Specifying MAC address create a network port and using the port create a server. But this is troublesome, especially creatng many instances. Security impact --------------- None. The specifying ``fixed_mac`` will be recorded in the already exist column ``address`` in the ``virtual_interfaces`` table, and it's **varchar (255)** size column so it should be large enough to be filled. Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- python-novaclient and python-openstackclient will need to be updated to support the new ``fixed_mac`` when creating a server. Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Qiu Fossen Other contributors: Brin Zhang Feature Liaison --------------- Feature liaison: Liaison Needed Work Items ---------- * Add a new microversion to the create server API. * Add ``fixed_mac`` to the create server API's request body. * Add related tests * Docs for the new microversion. * Add ``fixed_mac`` support in python-novaclient and python-openstackclient. Dependencies ============ None Testing ======= * Add related unit test for negative scenarios. * Add related functional test (API samples). Documentation Impact ==================== None References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Ussuri - Introduced ",,183,0
openstack%2Fcookbook-openstack-integration-test~master~I74963bd15968500f11bb70fed85eaa39381495d3,openstack/cookbook-openstack-integration-test,master,I74963bd15968500f11bb70fed85eaa39381495d3,Updates for Train,MERGED,2020-05-30 04:52:21.000000000,2020-06-11 00:57:48.000000000,2020-06-11 00:57:48.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-30 04:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/45986dea67e06bb5fda91874539377823bb0ff90', 'message': ""Updates for Train\n\nChanged:\n- Update release to train\n- Fix ChefDeprecations/LogResourceNotifications in run_tempest recipe and use\n  notify_group instead.\n- Require Chef >= 15.8 since we're using notify_group now\n\nRemoved:\n- Unused rubocop rules\n\nChange-Id: I74963bd15968500f11bb70fed85eaa39381495d3\nDepends-On: https://review.opendev.org/731859\nDepends-On: https://review.opendev.org/731877\nDepends-On: https://review.opendev.org/731860\n""}, {'number': 2, 'created': '2020-05-30 05:07:01.000000000', 'files': ['.rubocop_todo.yml', 'README.rst', 'recipes/setup.rb', 'recipes/run_tempest.rb', '.rubocop.yml', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/cb7643daefb90683479cb4803f946dd2db2f0c59', 'message': ""Updates for Train\n\nChanged:\n- Update release to train\n- Fix ChefDeprecations/LogResourceNotifications in run_tempest recipe and use\n  notify_group instead.\n- Require Chef >= 15.8 since we're using notify_group now\n\nRemoved:\n- Unused rubocop rules\n\nChange-Id: I74963bd15968500f11bb70fed85eaa39381495d3\nDepends-On: https://review.opendev.org/731859\nDepends-On: https://review.opendev.org/731877\nDepends-On: https://review.opendev.org/731860\nDepends-On: https://review.opendev.org/731865\n""}]",0,731880,cb7643daefb90683479cb4803f946dd2db2f0c59,8,3,2,21961,,,0,"Updates for Train

Changed:
- Update release to train
- Fix ChefDeprecations/LogResourceNotifications in run_tempest recipe and use
  notify_group instead.
- Require Chef >= 15.8 since we're using notify_group now

Removed:
- Unused rubocop rules

Change-Id: I74963bd15968500f11bb70fed85eaa39381495d3
Depends-On: https://review.opendev.org/731859
Depends-On: https://review.opendev.org/731877
Depends-On: https://review.opendev.org/731860
Depends-On: https://review.opendev.org/731865
",git fetch https://review.opendev.org/openstack/cookbook-openstack-integration-test refs/changes/80/731880/1 && git format-patch -1 --stdout FETCH_HEAD,"['.rubocop_todo.yml', 'README.rst', 'recipes/setup.rb', 'recipes/run_tempest.rb', '.rubocop.yml', 'metadata.rb']",6,45986dea67e06bb5fda91874539377823bb0ff90,train-updates,"version '20.0.0'depends 'openstack-common', '>= 20.0.0' depends 'openstack-dns', '>= 20.0.0' depends 'openstack-image', '>= 20.0.0'chef_version '>= 15.8'","version '19.0.0'depends 'openstack-common', '>= 19.0.0' depends 'openstack-dns', '>= 19.0.0' depends 'openstack-image', '>= 19.0.0'chef_version '>= 15.0'",11,53
openstack%2Fcookbook-openstack-dashboard~master~I8aa404752480497b139f6a9eba961c926071f409,openstack/cookbook-openstack-dashboard,master,I8aa404752480497b139f6a9eba961c926071f409,Updates for Train,MERGED,2020-05-30 04:43:28.000000000,2020-06-11 00:57:47.000000000,2020-06-11 00:57:47.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-30 04:43:28.000000000', 'files': ['.rubocop_todo.yml', 'README.rst', '.rubocop.yml', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/2c761a06b638da00e1c38b50afc1b7c8b0bbff06', 'message': 'Updates for Train\n\nChanged:\n- Update release to train\n- Update to apache2 ~> 8.1\n\nRemoved:\n- Unused rubocop rules\n\nChange-Id: I8aa404752480497b139f6a9eba961c926071f409\nDepends-On: https://review.opendev.org/731859\n'}]",0,731878,2c761a06b638da00e1c38b50afc1b7c8b0bbff06,7,3,1,21961,,,0,"Updates for Train

Changed:
- Update release to train
- Update to apache2 ~> 8.1

Removed:
- Unused rubocop rules

Change-Id: I8aa404752480497b139f6a9eba961c926071f409
Depends-On: https://review.opendev.org/731859
",git fetch https://review.opendev.org/openstack/cookbook-openstack-dashboard refs/changes/78/731878/1 && git format-patch -1 --stdout FETCH_HEAD,"['.rubocop_todo.yml', 'README.rst', '.rubocop.yml', 'metadata.rb']",4,2c761a06b638da00e1c38b50afc1b7c8b0bbff06,train-updates,"version '20.0.0'depends 'apache2', '~> 8.1' depends 'openstack-common', '>= 20.0.0' depends 'openstack-identity', '>= 20.0.0'","version '19.0.0'depends 'apache2', '~> 8.0' depends 'openstack-common', '>= 19.0.0' depends 'openstack-identity', '>= 19.0.0'",8,43
openstack%2Fcookbook-openstack-dns~master~Ibd5949820b50e05c07b39d893547416e0096193c,openstack/cookbook-openstack-dns,master,Ibd5949820b50e05c07b39d893547416e0096193c,Updates for Train,MERGED,2020-05-30 04:39:43.000000000,2020-06-11 00:57:46.000000000,2020-06-11 00:57:46.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-30 04:39:43.000000000', 'files': ['.rubocop_todo.yml', 'README.rst', '.rubocop.yml', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dns/commit/f1f112aff340abd045d09360462a690ec9fd01ce', 'message': 'Updates for Train\n\nChanged:\n-Update release to train\n\nRemoved:\n- Unused rubocop rules\n\nChange-Id: Ibd5949820b50e05c07b39d893547416e0096193c\nDepends-On: https://review.opendev.org/731849\nDepends-On: https://review.opendev.org/731861\n'}]",0,731877,f1f112aff340abd045d09360462a690ec9fd01ce,7,3,1,21961,,,0,"Updates for Train

Changed:
-Update release to train

Removed:
- Unused rubocop rules

Change-Id: Ibd5949820b50e05c07b39d893547416e0096193c
Depends-On: https://review.opendev.org/731849
Depends-On: https://review.opendev.org/731861
",git fetch https://review.opendev.org/openstack/cookbook-openstack-dns refs/changes/77/731877/1 && git format-patch -1 --stdout FETCH_HEAD,"['.rubocop_todo.yml', 'README.rst', '.rubocop.yml', 'metadata.rb']",4,f1f112aff340abd045d09360462a690ec9fd01ce,train-updates,"version '20.0.0'depends 'openstack-common', '>= 20.0.0' depends 'openstack-identity', '>= 20.0.0' depends 'openstack-network', '>= 20.0.0'","version '19.0.0'depends 'openstack-common', '>= 19.0.0' depends 'openstack-identity', '>= 19.0.0' depends 'openstack-network', '>= 19.0.0'",8,43
openstack%2Fcookbook-openstack-telemetry~master~Iea9ced8eee44bf351b803b5171196c511ab572f5,openstack/cookbook-openstack-telemetry,master,Iea9ced8eee44bf351b803b5171196c511ab572f5,Updates for Train,MERGED,2020-05-30 00:59:51.000000000,2020-06-11 00:55:24.000000000,2020-06-11 00:55:24.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-30 00:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-telemetry/commit/325c45f39449657a49971e5a9bcd3a47d8f6a8f1', 'message': 'Updates for Train\n\nChanged:\n- Update release to train\n- Update to apache2 ~> 8.1\n\nRemoved:\n- Unused rubocop rules\n\nChange-Id: Iea9ced8eee44bf351b803b5171196c511ab572f5\nDepends-On: https://review.opendev.org/731859\n'}, {'number': 2, 'created': '2020-06-09 17:19:38.000000000', 'files': ['.rubocop_todo.yml', 'README.rst', 'spec/aodh_spec.rb', 'spec/gnocchi_configure_spec.rb', '.rubocop.yml', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-telemetry/commit/68ab6acf427c7bbeeb8b34d07a5dc88b0e3477f8', 'message': 'Updates for Train\n\nChanged:\n- Update release to train\n- Update to apache2 ~> 8.1\n\nFixed:\n- ChefSpec\n\nRemoved:\n- Unused rubocop rules\n\nChange-Id: Iea9ced8eee44bf351b803b5171196c511ab572f5\nDepends-On: https://review.opendev.org/731859\n'}]",0,731870,68ab6acf427c7bbeeb8b34d07a5dc88b0e3477f8,10,3,2,21961,,,0,"Updates for Train

Changed:
- Update release to train
- Update to apache2 ~> 8.1

Fixed:
- ChefSpec

Removed:
- Unused rubocop rules

Change-Id: Iea9ced8eee44bf351b803b5171196c511ab572f5
Depends-On: https://review.opendev.org/731859
",git fetch https://review.opendev.org/openstack/cookbook-openstack-telemetry refs/changes/70/731870/1 && git format-patch -1 --stdout FETCH_HEAD,"['.rubocop_todo.yml', 'README.rst', '.rubocop.yml', 'metadata.rb']",4,325c45f39449657a49971e5a9bcd3a47d8f6a8f1,train-updates,"version '20.0.0'depends 'apache2', '~> 8.1'depends 'openstack-common', '>= 20.0.0' depends 'openstack-identity', '>= 20.0.0'","version '19.0.0'depends 'apache2', '~> 8.0'depends 'openstack-common', '>= 19.0.0' depends 'openstack-identity', '>= 19.0.0'",8,44
openstack%2Fcookbook-openstack-bare-metal~master~I1b83fcc4dade8ef01cf76c2ffa02c6fba087b97a,openstack/cookbook-openstack-bare-metal,master,I1b83fcc4dade8ef01cf76c2ffa02c6fba087b97a,Updates for Train,MERGED,2020-05-30 00:56:24.000000000,2020-06-11 00:55:23.000000000,2020-06-11 00:55:23.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-30 00:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/2d1a1c4e3652c28aa6c0c13daa08adcc3ae95c73', 'message': 'Updates for Train\n\nChanged:\n- Update release to train\n- Update to apache2 ~> 8.1\n\nRemoved:\n- Unused rubocop rules\n\nChange-Id: I1b83fcc4dade8ef01cf76c2ffa02c6fba087b97a\nDepends-On: https://review.opendev.org/731859\nDepends-On: https://review.opendev.org/731860\nDepends-On: https://review.opendev.org/731861\n'}, {'number': 2, 'created': '2020-06-09 15:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/830e39fb29eaab5708ac9d04d139098132b1e15e', 'message': 'Updates for Train\n\nChanged:\n- Update release to train\n- Update to apache2 ~> 8.1\n\nChange-Id: I1b83fcc4dade8ef01cf76c2ffa02c6fba087b97a\nDepends-On: https://review.opendev.org/731859\nDepends-On: https://review.opendev.org/731860\nDepends-On: https://review.opendev.org/731861\n'}, {'number': 3, 'created': '2020-06-09 16:36:53.000000000', 'files': ['README.rst', 'spec/api_spec.rb', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/61e5ab5421fe1a4d0b42692375ecc69488889639', 'message': 'Updates for Train\n\nChanged:\n- Update release to train\n- Update to apache2 ~> 8.1\n\nChange-Id: I1b83fcc4dade8ef01cf76c2ffa02c6fba087b97a\nDepends-On: https://review.opendev.org/731859\nDepends-On: https://review.opendev.org/731860\nDepends-On: https://review.opendev.org/731861\n'}]",1,731869,61e5ab5421fe1a4d0b42692375ecc69488889639,14,3,3,21961,,,0,"Updates for Train

Changed:
- Update release to train
- Update to apache2 ~> 8.1

Change-Id: I1b83fcc4dade8ef01cf76c2ffa02c6fba087b97a
Depends-On: https://review.opendev.org/731859
Depends-On: https://review.opendev.org/731860
Depends-On: https://review.opendev.org/731861
",git fetch https://review.opendev.org/openstack/cookbook-openstack-bare-metal refs/changes/69/731869/3 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'metadata.rb']",2,2d1a1c4e3652c28aa6c0c13daa08adcc3ae95c73,train-updates,"version '20.0.0'depends 'apache2', '~> 8.1' depends 'openstack-common', '>= 20.0.0' depends 'openstack-identity', '>= 20.0.0' depends 'openstack-image', '>= 20.0.0' depends 'openstack-network', '>= 20.0.0'","version '19.0.0'depends 'apache2', '~> 8.0' depends 'openstack-common', '>= 19.0.0' depends 'openstack-identity', '>= 19.0.0' depends 'openstack-image', '>= 19.0.0' depends 'openstack-network', '>= 19.0.0'",12,12
openstack%2Fcookbook-openstack-block-storage~master~I804485a93475cdfd651ccee21c93fce844872b3b,openstack/cookbook-openstack-block-storage,master,I804485a93475cdfd651ccee21c93fce844872b3b,Updates for Train,MERGED,2020-05-30 00:51:45.000000000,2020-06-11 00:55:22.000000000,2020-06-11 00:55:22.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-30 00:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-block-storage/commit/ec4bd73405e75595f2dc8f4a90f47c7e2d358e07', 'message': 'Updates for Train\n\nChanged:\n- Update release to train\n- Update to apache2 ~> 8.1\n\nRemoved:\n- Unused rubocop rules\n\nChange-Id: I804485a93475cdfd651ccee21c93fce844872b3b\nDepends-On: https://review.opendev.org/731859\nDepends-On: https://review.opendev.org/731860\n'}, {'number': 2, 'created': '2020-06-09 17:14:59.000000000', 'files': ['README.rst', 'spec/api_spec.rb', '.rubocop.yml', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-block-storage/commit/1600e4752dc8d775f0c688a2a6f266744028fd03', 'message': 'Updates for Train\n\nChanged:\n- Update release to train\n- Update to apache2 ~> 8.1\n\nFixed:\n- ChefSpec\n\nRemoved:\n- Unused rubocop rules\n\nChange-Id: I804485a93475cdfd651ccee21c93fce844872b3b\nDepends-On: https://review.opendev.org/731859\nDepends-On: https://review.opendev.org/731860\n'}]",0,731867,1600e4752dc8d775f0c688a2a6f266744028fd03,10,3,2,21961,,,0,"Updates for Train

Changed:
- Update release to train
- Update to apache2 ~> 8.1

Fixed:
- ChefSpec

Removed:
- Unused rubocop rules

Change-Id: I804485a93475cdfd651ccee21c93fce844872b3b
Depends-On: https://review.opendev.org/731859
Depends-On: https://review.opendev.org/731860
",git fetch https://review.opendev.org/openstack/cookbook-openstack-block-storage refs/changes/67/731867/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', '.rubocop.yml', 'metadata.rb']",3,ec4bd73405e75595f2dc8f4a90f47c7e2d358e07,train-updates,"version '20.0.0'depends 'apache2', '~> 8.1'depends 'openstack-common', '>= 20.0.0' depends 'openstack-identity', '>= 20.0.0' depends 'openstack-image', '>= 20.0.0'","version '19.0.0'depends 'apache2', '~> 8.0'depends 'openstack-common', '>= 19.0.0' depends 'openstack-identity', '>= 19.0.0' depends 'openstack-image', '>= 19.0.0'",10,24
openstack%2Fcookbook-openstack-orchestration~master~I9e8f6ed90089a98b9cdb05bd1d468a57ec0bd30e,openstack/cookbook-openstack-orchestration,master,I9e8f6ed90089a98b9cdb05bd1d468a57ec0bd30e,Updates for Train,MERGED,2020-05-30 00:48:08.000000000,2020-06-11 00:53:24.000000000,2020-06-11 00:53:24.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-30 00:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-orchestration/commit/fc503986f3da51de07a78461041db09ab0443000', 'message': 'Updates for Train\n\nChanged:\n- Update release to train\n\nRemoved:\n- Unused rubocop rules\n\nChange-Id: I9e8f6ed90089a98b9cdb05bd1d468a57ec0bd30e\nDepends-On: https://review.opendev.org/731859\n'}, {'number': 2, 'created': '2020-05-30 01:04:19.000000000', 'files': ['.rubocop_todo.yml', 'README.rst', '.rubocop.yml', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-orchestration/commit/a23298670bd80f0ef9695451f9c556b26be6fe37', 'message': 'Updates for Train\n\nChanged:\n- Update release to train\n\nRemoved:\n- Unused rubocop rules\n\nChange-Id: I9e8f6ed90089a98b9cdb05bd1d468a57ec0bd30e\nDepends-On: https://review.opendev.org/731859\nDepends-On: https://review.opendev.org/731865\n'}]",0,731866,a23298670bd80f0ef9695451f9c556b26be6fe37,8,3,2,21961,,,0,"Updates for Train

Changed:
- Update release to train

Removed:
- Unused rubocop rules

Change-Id: I9e8f6ed90089a98b9cdb05bd1d468a57ec0bd30e
Depends-On: https://review.opendev.org/731859
Depends-On: https://review.opendev.org/731865
",git fetch https://review.opendev.org/openstack/cookbook-openstack-orchestration refs/changes/66/731866/1 && git format-patch -1 --stdout FETCH_HEAD,"['.rubocop_todo.yml', 'README.rst', '.rubocop.yml', 'metadata.rb']",4,fc503986f3da51de07a78461041db09ab0443000,train-updates,"version '20.0.0'depends 'openstack-common', '>= 20.0.0' depends 'openstack-identity', '>= 20.0.0'","version '19.0.0'depends 'openstack-common', '>= 19.0.0' depends 'openstack-identity', '>= 19.0.0'",6,41
openstack%2Fcookbook-openstack-compute~master~I996bcd2f63a080e10fadf0c7adf9a0ddcb0b5c7a,openstack/cookbook-openstack-compute,master,I996bcd2f63a080e10fadf0c7adf9a0ddcb0b5c7a,Updates for Train,MERGED,2020-05-30 00:44:32.000000000,2020-06-11 00:53:23.000000000,2020-06-11 00:53:23.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-30 00:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/d2cd496a4535bf2ffe83f6256d17ab125cebef98', 'message': ""Updates for Train\n\nThe major change in this release is that the placement-api code base has been\nremoved from nova and put into it's own project called placement [1]. Users who\nare coming from Stein will need to follow the upgrade guide [2] to properly\nupgrade to the new service.\n\nAll attributes related to placement-api have been moved into their own files\nincluding configuration file attributes for placement.conf.\n\nAdded:\n- Template to manage /etc/placement/placement.conf\n- Include openstack-compute::_nova_cell recipe to nova-setup so that the db\n  migrations happen properly\n\nChanged:\n- Update release to train\n- Migrated from nova-placement-api to placement-api [1]\n\nFixed:\n- Cookstyle\n- Ordering of db syncs which was causing issues for Train\n\nRemoved:\n- Removed references to nova-consoleauth which has been removed upstream [3]\n- Removed references to xvpvnc which was removed upstream\n- Unused .rubocop.yml and .rubocop_todo.yml\n\n[1] https://docs.openstack.org/releasenotes/placement/train.html\n[2] https://docs.openstack.org/placement/latest/admin/upgrade-to-stein.html\n[3] https://docs.openstack.org/releasenotes/nova/train.html#prelude\n\nChange-Id: I996bcd2f63a080e10fadf0c7adf9a0ddcb0b5c7a\nDepends-On: https://review.opendev.org/731859\nDepends-On: https://review.opendev.org/731860\nDepends-On: https://review.opendev.org/731861\n""}, {'number': 2, 'created': '2020-06-09 17:11:31.000000000', 'files': ['attributes/placement_conf.rb', 'spec/placement_api-redhat_spec.rb', 'spec/api-metadata_spec.rb', 'attributes/placement.rb', 'spec/_nova_cell_spec.rb', '.rubocop_todo.yml', 'README.rst', 'spec/vncproxy-redhat_spec.rb', '.rubocop.yml', 'recipes/_nova_cell.rb', 'spec/nova-common_spec.rb', 'spec/vncproxy_spec.rb', 'Berksfile', 'recipes/vncproxy.rb', 'spec/placement_api_spec.rb', 'spec/api-os-compute_spec.rb', 'recipes/placement_api.rb', 'spec/spec_helper.rb', 'attributes/default.rb', 'recipes/nova-setup.rb', 'metadata.rb', 'attributes/nova_conf.rb', 'recipes/nova-common.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/6c69ce58b1a34e189cceefc1ad24d81637c58f39', 'message': ""Updates for Train\n\nThe major change in this release is that the placement-api code base has been\nremoved from nova and put into it's own project called placement [1]. Users who\nare coming from Stein will need to follow the upgrade guide [2] to properly\nupgrade to the new service.\n\nAll attributes related to placement-api have been moved into their own files\nincluding configuration file attributes for placement.conf.\n\nAdded:\n- Template to manage /etc/placement/placement.conf\n- Include openstack-compute::_nova_cell recipe to nova-setup so that the db\n  migrations happen properly\n\nChanged:\n- Update release to train\n- Migrated from nova-placement-api to placement-api [1]\n\nFixed:\n- Cookstyle & ChefSpec\n- Ordering of db syncs which was causing issues for Train\n- Set default['openstack']['compute']['syslog']['use'] to false by default\n- Various comments\n\nRemoved:\n- Removed references to nova-consoleauth which has been removed upstream [3]\n- Removed references to xvpvnc which was removed upstream\n- Unused .rubocop.yml and .rubocop_todo.yml\n\n[1] https://docs.openstack.org/releasenotes/placement/train.html\n[2] https://docs.openstack.org/placement/latest/admin/upgrade-to-stein.html\n[3] https://docs.openstack.org/releasenotes/nova/train.html#prelude\n\nChange-Id: I996bcd2f63a080e10fadf0c7adf9a0ddcb0b5c7a\nDepends-On: https://review.opendev.org/731859\nDepends-On: https://review.opendev.org/731860\nDepends-On: https://review.opendev.org/731861\n""}]",17,731865,6c69ce58b1a34e189cceefc1ad24d81637c58f39,12,3,2,21961,,,0,"Updates for Train

The major change in this release is that the placement-api code base has been
removed from nova and put into it's own project called placement [1]. Users who
are coming from Stein will need to follow the upgrade guide [2] to properly
upgrade to the new service.

All attributes related to placement-api have been moved into their own files
including configuration file attributes for placement.conf.

Added:
- Template to manage /etc/placement/placement.conf
- Include openstack-compute::_nova_cell recipe to nova-setup so that the db
  migrations happen properly

Changed:
- Update release to train
- Migrated from nova-placement-api to placement-api [1]

Fixed:
- Cookstyle & ChefSpec
- Ordering of db syncs which was causing issues for Train
- Set default['openstack']['compute']['syslog']['use'] to false by default
- Various comments

Removed:
- Removed references to nova-consoleauth which has been removed upstream [3]
- Removed references to xvpvnc which was removed upstream
- Unused .rubocop.yml and .rubocop_todo.yml

[1] https://docs.openstack.org/releasenotes/placement/train.html
[2] https://docs.openstack.org/placement/latest/admin/upgrade-to-stein.html
[3] https://docs.openstack.org/releasenotes/nova/train.html#prelude

Change-Id: I996bcd2f63a080e10fadf0c7adf9a0ddcb0b5c7a
Depends-On: https://review.opendev.org/731859
Depends-On: https://review.opendev.org/731860
Depends-On: https://review.opendev.org/731861
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/65/731865/1 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/placement_conf.rb', 'spec/placement_api-redhat_spec.rb', 'attributes/placement.rb', 'spec/_nova_cell_spec.rb', '.rubocop_todo.yml', 'README.rst', 'spec/vncproxy-redhat_spec.rb', '.rubocop.yml', 'recipes/_nova_cell.rb', 'spec/nova-common_spec.rb', 'spec/vncproxy_spec.rb', 'Berksfile', 'recipes/vncproxy.rb', 'spec/placement_api_spec.rb', 'recipes/placement_api.rb', 'spec/spec_helper.rb', 'attributes/default.rb', 'recipes/nova-setup.rb', 'metadata.rb', 'recipes/nova-common.rb']",20,d2cd496a4535bf2ffe83f6256d17ab125cebef98,train-updates,,"xvpvnc_endpoint = public_endpoint 'compute-xvpvnc' xvpvnc_bind = node['openstack']['bind_service']['all']['compute-xvpvnc'] xvpvnc_bind_address = bind_address xvpvnc_bindChef::Log.debug(""openstack-compute::nova-common:xvpvnc_endpoint|#{xvpvnc_endpoint}"") conf['vnc']['xvpvncproxy_base_url'] = xvpvnc_endpoint.to_s conf['vnc']['xvpvncproxy_host'] = xvpvnc_bind_address conf['vnc']['xvpvncproxy_port'] = xvpvnc_bind['port']",295,204
openstack%2Fironic~master~I4c5722b5e515f6edfa6a1bac0a443c71312c34d8,openstack/ironic,master,I4c5722b5e515f6edfa6a1bac0a443c71312c34d8,Add `get_node_network_data` to non-Neutron NetworkInterface,MERGED,2019-10-12 09:22:13.000000000,2020-06-11 00:51:26.000000000,2020-06-11 00:49:39.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}, {'_account_id': 30100}]","[{'number': 1, 'created': '2019-10-12 09:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7711322c3d9287e7a34503441f14ef94ec303ff7', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing Nova network metadata\n(AKA network_data.json) taken from the `network_data` field of\nironic port/portgroup objects associated with the node.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 2, 'created': '2019-10-14 15:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ba4751a321fcbafccb55614fc3a9e75a036fa6e6', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing Nova network metadata\n(AKA network_data.json) taken from the `network_data` field of\nironic port/portgroup objects associated with the node.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 3, 'created': '2019-10-14 17:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b3eca2e2d1b44c7fac3bae1fd524851b0eb73742', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing Nova network metadata\n(AKA network_data.json) taken from the `network_data` field of\nironic port/portgroup objects associated with the node.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 4, 'created': '2019-10-15 12:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4f7aeb028cfb48dd308c1a425737a24593e70cd3', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing Nova network metadata\n(AKA network_data.json) taken from the `network_data` field of\nironic port/portgroup objects associated with the node.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 5, 'created': '2019-10-21 16:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1cc2869fe07c922fe7742475e7f19fb784b1f2f9', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing Nova network metadata\n(AKA network_data.json) taken from the `network_data` field of\nironic port/portgroup objects associated with the node.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 6, 'created': '2019-10-23 05:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/447b0fbce291456ece8a50321a4cf6f87dfd9b58', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing Nova network metadata\n(AKA network_data.json) taken from the `network_data` field of\nironic port/portgroup objects associated with the node.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 7, 'created': '2019-11-04 12:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/02704cdfa5fceb431b2112be8f9d9b7baefdb82f', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing Nova network metadata\n(AKA network_data.json) taken from the `network_data` field of\nironic port/portgroup objects associated with the node.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 8, 'created': '2019-11-21 11:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b828bc6448b748f59aba6c5e39bf32b32ae787ef', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing Nova network metadata\n(AKA network_data.json) taken from the `network_data` field of\nironic port/portgroup objects associated with the node.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 9, 'created': '2019-11-26 17:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4f554e3427f8ddbe6efea8518aa578df8751cc78', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing Nova network metadata\n(AKA network_data.json) taken from the `network_data` field of\nironic port/portgroup objects associated with the node.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 10, 'created': '2019-11-27 10:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4975ab6798900f872f1993da4e9ad8194e27a993', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing Nova network metadata\n(AKA network_data.json) taken from the `network_data` field of\nironic port/portgroup objects associated with the node.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 11, 'created': '2020-03-25 15:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/79998d06fcec61d781a6c264072bcaca6b0ea5c5', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing network configuration for the node\ntaken from the `network_data` field of the ironic node object.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 12, 'created': '2020-04-01 13:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/35e6051ec8839aadf73ec72009c6d30a7fc7b6b5', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing network configuration for the node\ntaken from the `network_data` field of the ironic node object.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 13, 'created': '2020-04-01 22:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7d0106e7b3e6efb65242ea3c7b6cba5ea15d1bc7', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing network configuration for the node\ntaken from the `network_data` field of the ironic node object.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 14, 'created': '2020-04-06 09:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9cef1aa732da3968eacc185a9dd4aae7d6972515', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing network configuration for the node\ntaken from the `network_data` field of the ironic node object.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 15, 'created': '2020-04-07 11:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3daf8017307ddecb5b33eb51f6e5a3572ff4550c', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing network configuration for the node\ntaken from the `network_data` field of the ironic node object.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 16, 'created': '2020-04-07 11:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1c9f6c60552eb3d2ab96ca863e434f164b694e52', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing network configuration for the node\ntaken from the `network_data` field of the ironic node object.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 17, 'created': '2020-04-09 09:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ead98fdb4cc326be508c26da409ae0973481e96f', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing network configuration for the node\ntaken from the `network_data` field of the ironic node object.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 18, 'created': '2020-04-09 13:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/35bf2a3411a16f2da036ce339b874031d0544ce0', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing network configuration for the node\ntaken from the `network_data` field of the ironic node object.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 19, 'created': '2020-04-14 17:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/923085fcdf3329fae491c25ba060ab3494908386', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing network configuration for the node\ntaken from the `network_data` field of the ironic node object.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 20, 'created': '2020-04-15 18:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2b20475d9b98365cd47d4960c757c56e791d94c4', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing network configuration for the node\ntaken from the `network_data` field of the ironic node object.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 21, 'created': '2020-04-17 08:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4052bf2a770abc3a09862837ee18e6f012754bac', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing network configuration for the node\ntaken from the `network_data` field of the ironic node object.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 22, 'created': '2020-04-20 08:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9bad451a73b8c54a799926b1ca841bd674214973', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing network configuration for the node\ntaken from the `network_data` field of the ironic node object.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 23, 'created': '2020-04-20 08:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8fa5f5455970be76a797225a92ca8d85512375ad', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing network configuration for the node\ntaken from the `network_data` field of the ironic node object.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 24, 'created': '2020-05-05 14:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e30e7d9e5c26b0c6d9002b797a82c6f22c09830b', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing network configuration for the node\ntaken from the `network_data` field of the ironic node object.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}, {'number': 25, 'created': '2020-05-25 16:20:42.000000000', 'files': ['ironic/tests/unit/drivers/modules/network/test_common.py', 'ironic/drivers/modules/network/common.py', 'ironic/tests/unit/drivers/modules/network/json_samples/network_data.json'], 'web_link': 'https://opendev.org/openstack/ironic/commit/734a0a0cb9188c4d686b749b6b809240a4bae8c0', 'message': 'Add `get_node_network_data` to non-Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nnon-Neutron networks providing network configuration for the node\ntaken from the `network_data` field of the ironic node object.\n\nChange-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8\nStory: 2006691\nTask: 37070\n'}]",3,688266,734a0a0cb9188c4d686b749b6b809240a4bae8c0,121,10,25,26340,,,0,"Add `get_node_network_data` to non-Neutron NetworkInterface

Implements `get_node_network_data` network interface method for
non-Neutron networks providing network configuration for the node
taken from the `network_data` field of the ironic node object.

Change-Id: I4c5722b5e515f6edfa6a1bac0a443c71312c34d8
Story: 2006691
Task: 37070
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/688266/7 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/network/test_common.py', 'releasenotes/notes/add-nw-data-non-neutron-8b4c022a22a17ddf.yaml', 'ironic/drivers/modules/network/common.py', 'ironic/tests/unit/drivers/modules/network/json_samples/network_data.json']",4,7711322c3d9287e7a34503441f14ef94ec303ff7,05-add-nw-data-non-neutron,"{ ""links"": [ { ""id"": ""interface2"", ""type"": ""vif"", ""ethernet_mac_address"": ""a0:36:9f:2c:e8:70"", ""vif_id"": ""e1c90e9f-eafc-4e2d-8ec9-58b91cebb53d"", ""mtu"": 1500 }, { ""id"": ""interface0"", ""type"": ""phy"", ""ethernet_mac_address"": ""a0:36:9f:2c:e8:80"", ""mtu"": 9000 }, { ""id"": ""interface1"", ""type"": ""phy"", ""ethernet_mac_address"": ""a0:36:9f:2c:e8:81"", ""mtu"": 9000 }, { ""id"": ""bond0"", ""type"": ""bond"", ""bond_links"": [ ""interface0"", ""interface1"" ], ""ethernet_mac_address"": ""a0:36:9f:2c:e8:82"", ""bond_mode"": ""802.1ad"", ""bond_xmit_hash_policy"": ""layer3+4"", ""bond_miimon"": 100 }, { ""id"": ""vlan0"", ""type"": ""vlan"", ""vlan_link"": ""bond0"", ""vlan_id"": 101, ""vlan_mac_address"": ""a0:36:9f:2c:e8:80"", ""vif_id"": ""e1c90e9f-eafc-4e2d-8ec9-58b91cebb53f"" } ], ""networks"": [ { ""id"": ""private-ipv4"", ""type"": ""ipv4"", ""link"": ""interface0"", ""ip_address"": ""10.184.0.244"", ""netmask"": ""255.255.240.0"", ""routes"": [ { ""network"": ""10.0.0.0"", ""netmask"": ""255.0.0.0"", ""gateway"": ""11.0.0.1"" }, { ""network"": ""0.0.0.0"", ""netmask"": ""0.0.0.0"", ""gateway"": ""23.253.157.1"" } ], ""network_id"": ""da5bb487-5193-4a65-a3df-4a0055a8c0d7"" }, { ""id"": ""private-ipv4"", ""type"": ""ipv6"", ""link"": ""interface0"", ""ip_address"": ""2001:cdba::3257:9652/24"", ""routes"": [ { ""network"": ""::"", ""netmask"": ""::"", ""gateway"": ""fd00::1"" }, { ""network"": ""::"", ""netmask"": ""ffff:ffff:ffff::"", ""gateway"": ""fd00::1:1"" } ], ""network_id"": ""da5bb487-5193-4a65-a3df-4a0055a8c0d8"" }, { ""id"": ""publicnet-ipv4"", ""type"": ""ipv4"", ""link"": ""vlan0"", ""ip_address"": ""23.253.157.244"", ""netmask"": ""255.255.255.0"", ""dns_nameservers"": [ ""69.20.0.164"", ""69.20.0.196"" ], ""routes"": [ { ""network"": ""0.0.0.0"", ""netmask"": ""0.0.0.0"", ""gateway"": ""23.253.157.1"" } ], ""network_id"": ""62611d6f-66cb-4270-8b1f-503ef0dd4736"" } ], ""services"": [ { ""type"": ""dns"", ""address"": ""8.8.8.8"" }, { ""type"": ""dns"", ""address"": ""8.8.4.4"" } ] }",,212,0
openstack%2Ftripleo-heat-templates~master~I770227b2f4f1ea447cf0138f57a6ed66c034d225,openstack/tripleo-heat-templates,master,I770227b2f4f1ea447cf0138f57a6ed66c034d225,Add composible service for tls enrollment,MERGED,2020-05-20 16:23:30.000000000,2020-06-11 00:48:37.000000000,2020-06-11 00:48:37.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9592}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-05-20 16:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1c42edf2faf7e18a77afecb514bb584066f77505', 'message': ""Add composible service for tls enrollment\n\nThis commit attempts to build out a composible service that enrolls the\nundercloud as a FreeIPA host using an OTP. This is similar to what we've\ndone in the past for tls-everywhere except we're not using novajoin.\n\nChange-Id: I770227b2f4f1ea447cf0138f57a6ed66c034d225\n""}, {'number': 2, 'created': '2020-05-21 15:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/631130a54f905c4a1bcc521143a4e375eaeaaee4', 'message': ""Add composible service for tls enrollment\n\nThis commit attempts to build out a composible service that enrolls the\nundercloud as a FreeIPA host using an OTP. This is similar to what we've\ndone in the past for tls-everywhere except we're not using novajoin.\n\nChange-Id: I770227b2f4f1ea447cf0138f57a6ed66c034d225\n""}, {'number': 3, 'created': '2020-05-22 19:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f4b4ef330a99ef6d4e60e7d27ed771f072fd24ef', 'message': ""Add composible service for tls enrollment\n\nThis commit attempts to build out a composible service that enrolls the\nundercloud as a FreeIPA host using an OTP. This is similar to what we've\ndone in the past for tls-everywhere except we're not using novajoin.\n\nChange-Id: I770227b2f4f1ea447cf0138f57a6ed66c034d225\n""}, {'number': 4, 'created': '2020-05-22 20:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c0ffb988cd9f34f3781fb127d6c483778c0f1ec', 'message': ""Add composible service for tls enrollment\n\nThis commit attempts to build out a composible service that enrolls the\nundercloud as a FreeIPA host using an OTP. This is similar to what we've\ndone in the past for tls-everywhere except we're not using novajoin.\n\nChange-Id: I770227b2f4f1ea447cf0138f57a6ed66c034d225\n""}, {'number': 5, 'created': '2020-05-22 21:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2dc7c7b8e0d1275306897c536cbab5aabe71b06d', 'message': ""Add composible service for tls enrollment\n\nThis commit attempts to build out a composible service that enrolls the\nundercloud as a FreeIPA host using an OTP. This is similar to what we've\ndone in the past for tls-everywhere except we're not using novajoin.\n\nChange-Id: I770227b2f4f1ea447cf0138f57a6ed66c034d225\n""}, {'number': 6, 'created': '2020-05-22 22:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c153efae1f302f240ace9ea2a00aeafef4f58677', 'message': ""Add composible service for tls enrollment\n\nThis commit attempts to build out a composible service that enrolls the\nundercloud as a FreeIPA host using an OTP. This is similar to what we've\ndone in the past for tls-everywhere except we're not using novajoin.\n\nChange-Id: I770227b2f4f1ea447cf0138f57a6ed66c034d225\n""}, {'number': 7, 'created': '2020-05-23 00:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6507cdf1cb804c3629b5c84b706460c7b306d399', 'message': ""Add composible service for tls enrollment\n\nThis commit attempts to build out a composible service that enrolls the\nundercloud as a FreeIPA host using an OTP. This is similar to what we've\ndone in the past for tls-everywhere except we're not using novajoin.\n\nChange-Id: I770227b2f4f1ea447cf0138f57a6ed66c034d225\n""}, {'number': 8, 'created': '2020-05-26 15:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f310f672cd6b50e0895219701741e52e4161f0b', 'message': ""Add composible service for tls enrollment\n\nThis commit attempts to build out a composible service that enrolls the\nundercloud as a FreeIPA host using an OTP. This is similar to what we've\ndone in the past for tls-everywhere except we're not using novajoin.\n\nChange-Id: I770227b2f4f1ea447cf0138f57a6ed66c034d225\n""}, {'number': 9, 'created': '2020-05-26 16:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/767e35a4bc8dba66218a411a01b8220a73ff6fb2', 'message': ""Add composible service for tls enrollment\n\nThis commit attempts to build out a composible service that enrolls the\nundercloud as a FreeIPA host using an OTP. This is similar to what we've\ndone in the past for tls-everywhere except we're not using novajoin.\n\nChange-Id: I770227b2f4f1ea447cf0138f57a6ed66c034d225\n""}, {'number': 10, 'created': '2020-06-03 18:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d3d73d767c923ce92afa15a259f1f60b87723f8a', 'message': ""Add composible service for tls enrollment\n\nThis commit attempts to build out a composible service that enrolls the\nundercloud as a FreeIPA host using an OTP. This is similar to what we've\ndone in the past for tls-everywhere except we're not using novajoin.\n\nChange-Id: I770227b2f4f1ea447cf0138f57a6ed66c034d225\n""}, {'number': 11, 'created': '2020-06-08 19:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eded463dc7bd628109646da4d3745511f8c52a29', 'message': ""Add composible service for tls enrollment\n\nThis commit attempts to build out a composible service that enrolls the\nundercloud as a FreeIPA host using an OTP. This is similar to what we've\ndone in the past for tls-everywhere except we're not using novajoin.\n\nChange-Id: I770227b2f4f1ea447cf0138f57a6ed66c034d225\n""}, {'number': 12, 'created': '2020-06-09 17:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d355a3c2cad25530258d958abe8c98bf6702838b', 'message': ""Add composible service for tls enrollment\n\nThis commit attempts to build out a composible service that enrolls the\nundercloud as a FreeIPA host using an OTP. This is similar to what we've\ndone in the past for tls-everywhere except we're not using novajoin.\n\nChange-Id: I770227b2f4f1ea447cf0138f57a6ed66c034d225\n""}, {'number': 13, 'created': '2020-06-09 19:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f2b16bbd830eafc811f59b7a549501babc19aff', 'message': ""Add composible service for tls enrollment\n\nThis commit attempts to build out a composible service that enrolls the\nundercloud as a FreeIPA host using an OTP. This is similar to what we've\ndone in the past for tls-everywhere except we're not using novajoin.\n\nChange-Id: I770227b2f4f1ea447cf0138f57a6ed66c034d225\n""}, {'number': 14, 'created': '2020-06-09 20:49:58.000000000', 'files': ['ci/environments/scenario000-standalone.yaml', 'sample-env-generator/undercloud-minion.yaml', 'environments/services/undercloud-tls.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/undercloud/undercloud-minion.yaml', 'roles_data_undercloud.yaml', 'roles/Undercloud.yaml', 'deployment/tls/undercloud-tls.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e99ceda4bddf1498b03ab1ef1c2f927b6d7d1f2', 'message': ""Add composible service for tls enrollment\n\nThis commit attempts to build out a composible service that enrolls the\nundercloud as a FreeIPA host using an OTP. This is similar to what we've\ndone in the past for tls-everywhere except we're not using novajoin.\n\nChange-Id: I770227b2f4f1ea447cf0138f57a6ed66c034d225\n""}]",11,729653,0e99ceda4bddf1498b03ab1ef1c2f927b6d7d1f2,48,9,14,7414,,,0,"Add composible service for tls enrollment

This commit attempts to build out a composible service that enrolls the
undercloud as a FreeIPA host using an OTP. This is similar to what we've
done in the past for tls-everywhere except we're not using novajoin.

Change-Id: I770227b2f4f1ea447cf0138f57a6ed66c034d225
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/729653/9 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/undercloud-tls.yaml', 'roles/Undercloud.yaml', 'deployment/tls/undercloud-tls.yaml']",3,1c42edf2faf7e18a77afecb514bb584066f77505,scenario1,"heat_template_version: rocky description: Enables TLS for the overcloud with deployed servers parameters: RoleNetIpMap: default: {} type: json ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json DefaultPasswords: default: {} type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json UndercloudIpaOtp: default: '' description: The OTP to use to enroll to FreeIPA type: string outputs: role_data: description: Role data for enrolling the undercloud into FreeIPA. value: service_name: tls-enroll upgrade_tasks: [] deploy_steps_tasks: # https://bugs.launchpad.net/tripleo/+bug/1821139 # This is here only for split stack environments to make sure # openssl-perl is installed which provides /etc/pki/CA on RHEL8 - name: Ensure openssl-perl package is present on RHEL8 when: - ansible_os_family == 'RedHat' - ansible_distribution_major_version == '8' package: name: openssl-perl state: present - name: Ensure FreeIPA Client package is present package: name: ipa-client state: present - name: Set FreeIPA OTP fact set_fact: ipa_otp: {get_param: UndercloudIpaOtp} no_log: true - name: Enroll to FreeIPA command: ipa-client-install -U --password={{ ipa_otp }} args: creates: /etc/ipa/default.conf when: ipa_otp != '' - name: Request kerberos keytab shell: ""/usr/bin/kinit -kt /etc/krb5.keytab && ipa-getkeytab -s $(grep xmlrpc_uri /etc/ipa/default.conf | cut -d/ -f3) -p nova/{{ ansible_nodename }} -k /etc/novajoin/krb5.keytab"" args: creates: /etc/novajoin/krb5.keytab ",,80,0
openstack%2Ftripleo-heat-templates~master~Ia97a5b0054bed697fc0390674fe4dba8317386a1,openstack/tripleo-heat-templates,master,Ia97a5b0054bed697fc0390674fe4dba8317386a1,Elevated privs are required to access files in home directory,MERGED,2020-06-07 00:43:28.000000000,2020-06-11 00:48:35.000000000,2020-06-11 00:48:35.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29244}, {'_account_id': 30073}]","[{'number': 1, 'created': '2020-06-07 00:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cbbec84355f5a0f506b515ec9e4dfefc6b52a8e4', 'message': 'Elevated privs are required to access files in home directory\n\nNow that the config-download playbooks are located in the home\ndirectory. We (tripleo-admin) needs elevated privs on the tasks\nthat require access to those file. This patch adds the required\nbecome: true statements to those tasks.\n\nChange-Id: Ia97a5b0054bed697fc0390674fe4dba8317386a1\nCloses-Bug: #1881420\n'}, {'number': 2, 'created': '2020-06-07 00:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2154db4ff6cbcac2fd6ff9db629304ec1830fed2', 'message': 'Elevated privs are required to access files in home directory\n\nNow that the config-download playbooks are located in the home\ndirectory. We (tripleo-admin) needs elevated privs on the tasks\nthat require access to those file. This patch adds the required\nbecome: true statements to those tasks.\n\nChange-Id: Ia97a5b0054bed697fc0390674fe4dba8317386a1\nCloses-Bug: #1881420\n'}, {'number': 3, 'created': '2020-06-07 10:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/92ef9bedc87a8026908d337b92c4a524effc34d4', 'message': ""Elevated privs are required to access files in home directory\n\nNow that the config-download playbooks are located in the home\ndirectory. We (tripleo-admin) needs elevated privs on the tasks\nthat require access to those file. This patch adds the required\nbecome: true statements to those tasks.\n\nAdditionally, the current playbook looks for a specific ssh key,\nif that key doesn't exist, it fails to ssh to the overcloud nodes.\nTo fix this, we can reference the ENV variable we're already\nsetting during the config-download deployment.\n\nChange-Id: Ia97a5b0054bed697fc0390674fe4dba8317386a1\nCloses-Bug: #1881420\n""}, {'number': 4, 'created': '2020-06-07 11:48:46.000000000', 'files': ['deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/96e26ef81280d108d5c26ede1fd6b5a908ecd27e', 'message': ""Elevated privs are required to access files in home directory\n\nNow that the config-download playbooks are located in the home\ndirectory. We (tripleo-admin) needs elevated privs on the tasks\nthat require access to those file. This patch adds the required\nbecome: true statements to those tasks.\n\nAdditionally, the current playbook looks for a specific ssh key,\nif that key doesn't exist, it fails to ssh to the overcloud nodes.\nTo fix this, we can reference the ENV variable we're already\nsetting during the config-download deployment.\n\nChange-Id: Ia97a5b0054bed697fc0390674fe4dba8317386a1\nCloses-Bug: #1881420\n""}]",0,733975,96e26ef81280d108d5c26ede1fd6b5a908ecd27e,21,9,4,30073,,,0,"Elevated privs are required to access files in home directory

Now that the config-download playbooks are located in the home
directory. We (tripleo-admin) needs elevated privs on the tasks
that require access to those file. This patch adds the required
become: true statements to those tasks.

Additionally, the current playbook looks for a specific ssh key,
if that key doesn't exist, it fails to ssh to the overcloud nodes.
To fix this, we can reference the ENV variable we're already
setting during the config-download deployment.

Change-Id: Ia97a5b0054bed697fc0390674fe4dba8317386a1
Closes-Bug: #1881420
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/733975/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-deployment-config.j2.yaml'],1,cbbec84355f5a0f506b515ec9e4dfefc6b52a8e4,, become: true become: true,,2,0
openstack%2Fmurano-agent~master~I9d33976afc6b4d475f11f3f6b751ae7093cf2a04,openstack/murano-agent,master,I9d33976afc6b4d475f11f3f6b751ae7093cf2a04,Use unittest.mock instead of mock,MERGED,2020-06-08 23:27:06.000000000,2020-06-11 00:41:24.000000000,2020-06-11 00:41:24.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 23:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/8415ca263d28a99be3145612f6e37b7d8d44db41', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I9d33976afc6b4d475f11f3f6b751ae7093cf2a04\n'}, {'number': 2, 'created': '2020-06-10 09:31:10.000000000', 'files': ['lower-constraints.txt', 'muranoagent/tests/unit/executors/test_chef.py'], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/08273d5c234fbefd9e2090b11a10c043ed1f385d', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I9d33976afc6b4d475f11f3f6b751ae7093cf2a04\n'}]",1,734385,08273d5c234fbefd9e2090b11a10c043ed1f385d,8,2,2,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I9d33976afc6b4d475f11f3f6b751ae7093cf2a04
",git fetch https://review.opendev.org/openstack/murano-agent refs/changes/85/734385/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'muranoagent/tests/unit/executors/test_chef.py']",2,8415ca263d28a99be3145612f6e37b7d8d44db41,drop_mock,from unittest.mock import ANY,from mock import ANY,1,2
openstack%2Fcookbook-openstack-network~master~I4c7f58ea60c02704877531fe3e7849c47aacf7ae,openstack/cookbook-openstack-network,master,I4c7f58ea60c02704877531fe3e7849c47aacf7ae,Updates for Train,MERGED,2020-05-29 23:36:23.000000000,2020-06-11 00:40:41.000000000,2020-06-11 00:40:40.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 23:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/04313e1358b416d49cf7dbab955cdbcb59fa7927', 'message': ""Updates for Train\n\nDeprecated:\n- LBaaS has been removed as it's been deprecated upstream [1]\n\nChanged:\n- Update release to train\n\n[1] https://docs.openstack.org/releasenotes/neutron/train.html#relnotes-15-0-0-stable-train-deprecation-notes\n\nChange-Id: I4c7f58ea60c02704877531fe3e7849c47aacf7ae\nDepends-On: https://review.opendev.org/731859\n""}, {'number': 2, 'created': '2020-05-30 00:18:42.000000000', 'files': ['attributes/neutron_conf.rb', 'recipes/db_migration.rb', 'README.rst', 'spec/db_migration_spec.rb', 'spec/default_spec.rb', 'templates/default/neutron-server.erb', '.rubocop.yml', 'spec/server_spec.rb', 'recipes/server.rb', 'recipes/lbaas.rb', 'attributes/default.rb', 'spec/lbaas-redhat_spec.rb', 'spec/lbaas_spec.rb', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/dac0c7c8d4c818b17f7003a5eb2cd8e8d793ee85', 'message': ""Updates for Train\n\nDeprecated:\n- LBaaS has been removed as it's been deprecated upstream [1]\n\nChanged:\n- Update release to train\n\nFixed:\n- Cookstyle\n\nRemoved:\n- Unused .rubocop.yml\n\n[1] https://docs.openstack.org/releasenotes/neutron/train.html#relnotes-15-0-0-stable-train-deprecation-notes\n\nChange-Id: I4c7f58ea60c02704877531fe3e7849c47aacf7ae\nDepends-On: https://review.opendev.org/731859\n""}]",1,731861,dac0c7c8d4c818b17f7003a5eb2cd8e8d793ee85,11,3,2,21961,,,0,"Updates for Train

Deprecated:
- LBaaS has been removed as it's been deprecated upstream [1]

Changed:
- Update release to train

Fixed:
- Cookstyle

Removed:
- Unused .rubocop.yml

[1] https://docs.openstack.org/releasenotes/neutron/train.html#relnotes-15-0-0-stable-train-deprecation-notes

Change-Id: I4c7f58ea60c02704877531fe3e7849c47aacf7ae
Depends-On: https://review.opendev.org/731859
",git fetch https://review.opendev.org/openstack/cookbook-openstack-network refs/changes/61/731861/1 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/neutron_conf.rb', 'recipes/db_migration.rb', 'README.rst', 'spec/db_migration_spec.rb', 'spec/default_spec.rb', 'templates/default/neutron-server.erb', 'spec/server_spec.rb', 'recipes/server.rb', 'recipes/lbaas.rb', 'attributes/default.rb', 'spec/lbaas-redhat_spec.rb', 'spec/lbaas_spec.rb', 'metadata.rb']",13,04313e1358b416d49cf7dbab955cdbcb59fa7927,train-updates,"version '20.0.0'depends 'openstack-common', '>= 20.0.0' depends 'openstack-identity', '>= 20.0.0'","version '19.0.0'depends 'openstack-common', '>= 19.0.0' depends 'openstack-identity', '>= 19.0.0'",8,380
openstack%2Fcookbook-openstack-image~master~I19c1ff463a70a81e4d08bacb86e480e0a3951789,openstack/cookbook-openstack-image,master,I19c1ff463a70a81e4d08bacb86e480e0a3951789,Updates for Train,MERGED,2020-05-29 23:19:42.000000000,2020-06-11 00:40:40.000000000,2020-06-11 00:40:40.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 23:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-image/commit/b78522f42fbb47af6918eaf7b8fffa9204fb9b71', 'message': 'Updates for Train\n\nChanged\n- Update release to train\n- Migrated to using multi-store feature which has been deemed stable\n\nChange-Id: I19c1ff463a70a81e4d08bacb86e480e0a3951789\nDepends-On: https://review.opendev.org/731859\n'}, {'number': 2, 'created': '2020-05-30 00:17:56.000000000', 'files': ['.rubocop_todo.yml', 'README.rst', 'attributes/glance_api_conf.rb', 'spec/api_spec.rb', '.rubocop.yml', 'recipes/swift_store.rb', 'recipes/api.rb', 'metadata.rb', 'Berksfile'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-image/commit/a78e903e12d180e4ee16555f8a612c5f27dfbc39', 'message': 'Updates for Train\n\nChanged\n- Update release to train\n- Migrated to using multi-store feature which has been deemed stable\n\nFixed\n- Cookstyle\n\nRemoved:\n- Unused rubocop rules\n\nChange-Id: I19c1ff463a70a81e4d08bacb86e480e0a3951789\nDepends-On: https://review.opendev.org/731859\n'}]",0,731860,a78e903e12d180e4ee16555f8a612c5f27dfbc39,11,3,2,21961,,,0,"Updates for Train

Changed
- Update release to train
- Migrated to using multi-store feature which has been deemed stable

Fixed
- Cookstyle

Removed:
- Unused rubocop rules

Change-Id: I19c1ff463a70a81e4d08bacb86e480e0a3951789
Depends-On: https://review.opendev.org/731859
",git fetch https://review.opendev.org/openstack/cookbook-openstack-image refs/changes/60/731860/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'attributes/glance_api_conf.rb', 'spec/api_spec.rb', 'recipes/swift_store.rb', 'metadata.rb', 'recipes/api.rb']",6,b78522f42fbb47af6918eaf7b8fffa9204fb9b71,train-updates,if node['openstack']['image_api']['conf']['glance_store']['default_backend'] == 'file',if node['openstack']['image_api']['conf']['glance_store']['default_store'] == 'file',12,12
openstack%2Fcookbook-openstack-identity~master~I2dc8c767ac4f6bb0635ffa4a64d6e8e47fc29093,openstack/cookbook-openstack-identity,master,I2dc8c767ac4f6bb0635ffa4a64d6e8e47fc29093,Updates for Train,MERGED,2020-05-29 23:10:25.000000000,2020-06-11 00:40:39.000000000,2020-06-11 00:40:39.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 23:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/737d5c104e049285643c9554a820c769c2d6ecb2', 'message': 'Updates for Train\n\nChanged:\n- Update release to train\n- Update to apache2 ~> 8.1\n\nChange-Id: I2dc8c767ac4f6bb0635ffa4a64d6e8e47fc29093\nDepends-On: https://review.opendev.org/731850\nDepends-On: https://review.opendev.org/731851\nDepends-On: https://review.opendev.org/731855\nDepends-On: https://review.opendev.org/731858\n'}, {'number': 2, 'created': '2020-05-30 00:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/e3283db4433e92ab9d382f532212f75cae570e2e', 'message': 'Updates for Train\n\nChanged:\n- Update release to train\n- Update to apache2 ~> 8.1\n\nFixed:\n- Cookstyle\n\nRemoved:\n- Unused .rubocop.yml\n\nChange-Id: I2dc8c767ac4f6bb0635ffa4a64d6e8e47fc29093\nDepends-On: https://review.opendev.org/731850\nDepends-On: https://review.opendev.org/731851\nDepends-On: https://review.opendev.org/731855\nDepends-On: https://review.opendev.org/731858\n'}, {'number': 3, 'created': '2020-06-09 16:58:20.000000000', 'files': ['spec/server-apache_spec.rb', 'README.rst', '.rubocop.yml', 'metadata.rb', 'Berksfile'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-identity/commit/368296c9e50d10e626b6e64316ef0962fc2e22e7', 'message': 'Updates for Train\n\nChanged:\n- Update release to train\n- Update to apache2 ~> 8.1\n\nFixed:\n- Cookstyle\n- ChefSpec\n\nRemoved:\n- Unused .rubocop.yml\n\nChange-Id: I2dc8c767ac4f6bb0635ffa4a64d6e8e47fc29093\nDepends-On: https://review.opendev.org/731850\nDepends-On: https://review.opendev.org/731851\nDepends-On: https://review.opendev.org/731855\nDepends-On: https://review.opendev.org/731858\n'}]",0,731859,368296c9e50d10e626b6e64316ef0962fc2e22e7,14,3,3,21961,,,0,"Updates for Train

Changed:
- Update release to train
- Update to apache2 ~> 8.1

Fixed:
- Cookstyle
- ChefSpec

Removed:
- Unused .rubocop.yml

Change-Id: I2dc8c767ac4f6bb0635ffa4a64d6e8e47fc29093
Depends-On: https://review.opendev.org/731850
Depends-On: https://review.opendev.org/731851
Depends-On: https://review.opendev.org/731855
Depends-On: https://review.opendev.org/731858
",git fetch https://review.opendev.org/openstack/cookbook-openstack-identity refs/changes/59/731859/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'metadata.rb']",2,737d5c104e049285643c9554a820c769c2d6ecb2,train-updates,"version '20.0.0'depends 'apache2', '~> 8.1'depends 'openstack-common', '>= 20.0.0'","version '19.0.0'depends 'apache2', '~> 8.0'depends 'openstack-common', '>= 19.0.0'",6,6
openstack%2Fcookbook-openstack-ops-messaging~master~I73e62794e32bbec2549b4bc34b860591ffd6bd0a,openstack/cookbook-openstack-ops-messaging,master,I73e62794e32bbec2549b4bc34b860591ffd6bd0a,Updates for Train,MERGED,2020-05-29 23:04:27.000000000,2020-06-11 00:40:38.000000000,2020-06-11 00:40:38.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 23:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-messaging/commit/dc579c272be90eef6cc17f86f69ca5f195941f23', 'message': 'Updates for Train\n\nChanged:\n- Update release to train\n\nDepends-On: https://review.opendev.org/731851\nChange-Id: I73e62794e32bbec2549b4bc34b860591ffd6bd0a\n'}, {'number': 2, 'created': '2020-05-30 00:14:53.000000000', 'files': ['README.rst', '.rubocop.yml', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-messaging/commit/c85c7d9e45e35162ac4a1f9750417f36d76820dc', 'message': 'Updates for Train\n\nChanged:\n- Update release to train\n\nRemoved:\n- Unused .rubocop.yml\n\nDepends-On: https://review.opendev.org/731851\nChange-Id: I73e62794e32bbec2549b4bc34b860591ffd6bd0a\n'}]",0,731858,c85c7d9e45e35162ac4a1f9750417f36d76820dc,9,3,2,21961,,,0,"Updates for Train

Changed:
- Update release to train

Removed:
- Unused .rubocop.yml

Depends-On: https://review.opendev.org/731851
Change-Id: I73e62794e32bbec2549b4bc34b860591ffd6bd0a
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-messaging refs/changes/58/731858/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'metadata.rb']",2,dc579c272be90eef6cc17f86f69ca5f195941f23,train-updates,"version '20.0.0'depends 'openstack-common', '>= 20.0.0'","version '19.0.0'depends 'openstack-common', '>= 19.0.0'",4,4
openstack%2Fcookbook-openstack-ops-database~master~Ia705cf4fb00098ba5d34f22268c0e409b82580a0,openstack/cookbook-openstack-ops-database,master,Ia705cf4fb00098ba5d34f22268c0e409b82580a0,Updates for Train,MERGED,2020-05-29 23:01:10.000000000,2020-06-11 00:40:37.000000000,2020-06-11 00:40:37.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 23:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/18e32e5cb426f1bb0de6341a0b34947a2067addf', 'message': 'Train fixes\n\nChanged:\n- Update release to train\n- Update to mariadb ~> 4.0\n\nFixed:\n- Migrate to using Chef::Log.warn instead of the log resource to fix\n  idempotency issues.\n\nDepends-On: https://review.opendev.org/731851\nChange-Id: Ia705cf4fb00098ba5d34f22268c0e409b82580a0\n'}, {'number': 2, 'created': '2020-05-29 23:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/34868fd8e8599ec6d3331e74aa6e22e134ac5de9', 'message': 'Updates for Train\n\nChanged:\n- Update release to train\n- Update to mariadb ~> 4.0\n\nFixed:\n- Migrate to using Chef::Log.warn instead of the log resource to fix\n  idempotency issues.\n\nDepends-On: https://review.opendev.org/731851\nChange-Id: Ia705cf4fb00098ba5d34f22268c0e409b82580a0\n'}, {'number': 3, 'created': '2020-05-30 00:14:14.000000000', 'files': ['README.rst', 'Rakefile', '.rubocop.yml', 'recipes/openstack-db.rb', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/38d0a27c661da859b95cc6e290e3f534cb2ad7e7', 'message': 'Updates for Train\n\nChanged:\n- Update release to train\n- Update to mariadb ~> 4.0\n\nFixed:\n- Migrate to using Chef::Log.warn instead of the log resource to fix\n  idempotency issues.\n- Cookstyle\n\nRemoved:\n- Unused .rubocop.yml\n\nDepends-On: https://review.opendev.org/731851\nChange-Id: Ia705cf4fb00098ba5d34f22268c0e409b82580a0\n'}]",0,731855,38d0a27c661da859b95cc6e290e3f534cb2ad7e7,12,3,3,21961,,,0,"Updates for Train

Changed:
- Update release to train
- Update to mariadb ~> 4.0

Fixed:
- Migrate to using Chef::Log.warn instead of the log resource to fix
  idempotency issues.
- Cookstyle

Removed:
- Unused .rubocop.yml

Depends-On: https://review.opendev.org/731851
Change-Id: Ia705cf4fb00098ba5d34f22268c0e409b82580a0
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-database refs/changes/55/731855/3 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'recipes/openstack-db.rb', 'metadata.rb']",3,18e32e5cb426f1bb0de6341a0b34947a2067addf,train-updates,"version '20.0.0'depends 'openstack-common', '>= 20.0.0' depends 'mariadb', '~> 4.0'","version '19.0.0'depends 'openstack-common', '>= 19.0.0' depends 'mariadb', '~> 3.1'",7,7
openstack%2Fcookbook-openstack-common~master~I3e809350541e9c7beab311e5b3e768df1612d9f5,openstack/cookbook-openstack-common,master,I3e809350541e9c7beab311e5b3e768df1612d9f5,Updates for Train,MERGED,2020-05-29 21:55:55.000000000,2020-06-11 00:40:37.000000000,2020-06-11 00:40:36.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 21:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/9ab19ba775ef486b2b58c663cbcd151598b9662c', 'message': 'Train fixes\n\nAdded:\n- Placement service\n\nChanged:\n- Update release to train\n- Cookstyle fixes\n- Update to mariadb ~> 4.0\n\nFixed:\n- ChefSpec for wrapper now correctly works with node.role?\n\nDepends-On: https://review.opendev.org/731849\nChange-Id: I3e809350541e9c7beab311e5b3e768df1612d9f5\n'}, {'number': 2, 'created': '2020-05-29 22:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/e0350ae5344cbc34af475312207e90e0560ab033', 'message': 'Train fixes\n\nAdded:\n- Placement service\n\nChanged:\n- Update release to train\n- Cookstyle fixes\n- Update to mariadb ~> 4.0\n\nFixed:\n- ChefSpec for wrapper now correctly works with node.role?\n\nDepends-On: https://review.opendev.org/731849\nChange-Id: I3e809350541e9c7beab311e5b3e768df1612d9f5\n'}, {'number': 3, 'created': '2020-05-29 22:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/f7b1dd5f936d8f37076d16613956d68bec6b7731', 'message': 'Updates for Train\n\nAdded:\n- Placement service\n\nChanged:\n- Update release to train\n- Cookstyle fixes\n- Update to mariadb ~> 4.0\n\nFixed:\n- ChefSpec for wrapper now correctly works with node.role?\n\nDepends-On: https://review.opendev.org/731849\nChange-Id: I3e809350541e9c7beab311e5b3e768df1612d9f5\n'}, {'number': 4, 'created': '2020-05-30 00:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/1ae361862f755fd47caf6d1c8b8df9b6599d8260', 'message': 'Updates for Train\n\nAdded:\n- Placement service\n\nChanged:\n- Update release to train\n- Cookstyle fixes\n- Update to mariadb ~> 4.0\n\nRemoved:\n- Unused rubocop rules\n\nFixed:\n- ChefSpec for wrapper now correctly works with node.role?\n\nDepends-On: https://review.opendev.org/731849\nChange-Id: I3e809350541e9c7beab311e5b3e768df1612d9f5\n'}, {'number': 5, 'created': '2020-05-30 00:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/e2851b63784cab0a18a5d5f4dd97381bc13d841f', 'message': 'Updates for Train\n\nAdded:\n- Placement service\n\nChanged:\n- Update release to train\n- Cookstyle fixes\n- Update to mariadb ~> 4.0\n\nRemoved:\n- Unused rubocop rules\n\nFixed:\n- ChefSpec for wrapper now correctly works with node.role?\n\nDepends-On: https://review.opendev.org/731849\nChange-Id: I3e809350541e9c7beab311e5b3e768df1612d9f5\n'}, {'number': 6, 'created': '2020-05-30 00:29:17.000000000', 'files': ['attributes/messaging.rb', '.rubocop_todo.yml', 'README.rst', 'attributes/default.rb', 'spec/default_spec.rb', 'spec/wrappers_spec.rb', '.rubocop.yml', 'libraries/matchers.rb', 'metadata.rb', 'libraries/wrappers.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/a45cea15d7041691af3d3d2942babc01567fcb2a', 'message': 'Updates for Train\n\nAdded:\n- Placement service\n\nChanged:\n- Update release to train\n- Cookstyle fixes\n- Update to mariadb ~> 4.0\n\nRemoved:\n- Unused rubocop rules\n\nFixed:\n- ChefSpec for wrapper now correctly works with node.role?\n\nDepends-On: https://review.opendev.org/731849\nChange-Id: I3e809350541e9c7beab311e5b3e768df1612d9f5\n'}]",3,731851,a45cea15d7041691af3d3d2942babc01567fcb2a,17,3,6,21961,,,0,"Updates for Train

Added:
- Placement service

Changed:
- Update release to train
- Cookstyle fixes
- Update to mariadb ~> 4.0

Removed:
- Unused rubocop rules

Fixed:
- ChefSpec for wrapper now correctly works with node.role?

Depends-On: https://review.opendev.org/731849
Change-Id: I3e809350541e9c7beab311e5b3e768df1612d9f5
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/51/731851/1 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/messaging.rb', 'README.rst', 'attributes/default.rb', 'spec/default_spec.rb', 'spec/wrappers_spec.rb', 'metadata.rb', 'libraries/wrappers.rb']",7,9ab19ba775ef486b2b58c663cbcd151598b9662c,train-updates, node.role?(role), node['roles'].include?(role),57,33
openstack%2Fcookbook-openstackclient~master~I8fb2c0e451b552136303215d234dc581d813c5b4,openstack/cookbook-openstackclient,master,I8fb2c0e451b552136303215d234dc581d813c5b4,Updates for Train,MERGED,2020-05-29 21:55:38.000000000,2020-06-11 00:40:36.000000000,2020-06-11 00:40:36.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 21:55:38.000000000', 'files': ['metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstackclient/commit/53d52da8f330873d3626784607efc88881766709', 'message': 'Updates for Train\n\nChanged:\n- Bumped version in metadata\n\nDepends-On: https://review.opendev.org/731849\nChange-Id: I8fb2c0e451b552136303215d234dc581d813c5b4\n'}]",0,731850,53d52da8f330873d3626784607efc88881766709,9,3,1,21961,,,0,"Updates for Train

Changed:
- Bumped version in metadata

Depends-On: https://review.opendev.org/731849
Change-Id: I8fb2c0e451b552136303215d234dc581d813c5b4
",git fetch https://review.opendev.org/openstack/cookbook-openstackclient refs/changes/50/731850/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.rb'],1,53d52da8f330873d3626784607efc88881766709,train-updates,version '20.0.0',version '19.0.0',1,1
openstack%2Ffreezer~master~Ib9d49da612dc2b5601cff15b1457f71fdbb8669c,openstack/freezer,master,Ib9d49da612dc2b5601cff15b1457f71fdbb8669c,Stop to use the __future__ module.,MERGED,2020-06-02 18:13:12.000000000,2020-06-11 00:36:54.000000000,2020-06-11 00:35:29.000000000,"[{'_account_id': 19098}, {'_account_id': 21069}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-06-02 18:13:12.000000000', 'files': ['freezer/common/config.py', 'freezer/engine/osbrick/client.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/caa84f12182b8add2cd02a58510c98ec9dd4d92b', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: Ib9d49da612dc2b5601cff15b1457f71fdbb8669c\n""}]",0,732837,caa84f12182b8add2cd02a58510c98ec9dd4d92b,10,4,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: Ib9d49da612dc2b5601cff15b1457f71fdbb8669c
",git fetch https://review.opendev.org/openstack/freezer refs/changes/37/732837/1 && git format-patch -1 --stdout FETCH_HEAD,"['freezer/common/config.py', 'freezer/engine/osbrick/client.py']",2,caa84f12182b8add2cd02a58510c98ec9dd4d92b,drop_future_imports,,from __future__ import print_function ,0,3
openstack%2Fopenstack-chef~master~I53a28de6aad000a246ff8f610b64dd5201c03b27,openstack/openstack-chef,master,I53a28de6aad000a246ff8f610b64dd5201c03b27,Start Train development,MERGED,2020-05-29 21:53:51.000000000,2020-06-11 00:35:45.000000000,2020-06-11 00:33:29.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 21:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/85b781ccad9254126eead7237d23bdd340e18f73', 'message': 'Start Train development\n\nChanged:\n- Temporarily disable voting during development\n- Update git URI for bind cookbook to use upstream master\n- Renamed .kitchen.yml -> kitchen.yml\n- Genealogy updated\n\nFixed:\n- Idempotency with use of apt_update resource\n- InSpec tests to work with Train\n\nAdded:\n- Data bag for placement service\n- Set deprecations_as_errors to true in kitchen.yml\n\nRemoved:\n- Unused statsd cookbook in Berksfile\n\nDeprecated:\n- LBaaS recipes and tests. This has been deprecated upstream.\n\nChange-Id: I53a28de6aad000a246ff8f610b64dd5201c03b27\n'}, {'number': 2, 'created': '2020-05-29 22:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/3dd840657028d9cd717a7d8a80f83a311fd4eb57', 'message': 'Start Train development\n\nChanged:\n- Temporarily disable voting during development\n- Update git URI for bind cookbook to use upstream master\n- Renamed .kitchen.yml -> kitchen.yml\n- Genealogy updated\n\nFixed:\n- Idempotency with use of apt_update resource\n- InSpec tests to work with Train\n\nAdded:\n- Data bag for placement service\n- Set deprecations_as_errors to true in kitchen.yml\n\nRemoved:\n- Unused statsd cookbook in Berksfile\n\nDeprecated:\n- LBaaS recipes and tests. This has been deprecated upstream.\n\nChange-Id: I53a28de6aad000a246ff8f610b64dd5201c03b27\n'}, {'number': 3, 'created': '2020-05-30 00:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/65148bb18341cb6961052d615bbd0c9bf97831a4', 'message': 'Start Train development\n\nChanged:\n- Temporarily disable voting during development\n- Update git URI for bind cookbook to use upstream master\n- Renamed .kitchen.yml -> kitchen.yml\n- Genealogy updated\n\nFixed:\n- Idempotency with use of apt_update resource\n- InSpec tests to work with Train\n- Cookstyle\n\nAdded:\n- Data bag for placement service\n- Set deprecations_as_errors to true in kitchen.yml\n\nRemoved:\n- Unused statsd cookbook in Berksfile\n- Unused .rubocop.yml\n\nDeprecated:\n- LBaaS recipes and tests. This has been deprecated upstream.\n\nChange-Id: I53a28de6aad000a246ff8f610b64dd5201c03b27\n'}, {'number': 4, 'created': '2020-06-08 17:59:14.000000000', 'files': ['data_bags/db_passwords/placement.json', 'README.rst', '.zuul.yaml', 'test/integration/block-storage/inspec/block_storage_spec.rb', 'test/integration/network/inspec/network_spec.rb', 'doc/source/conf.py', '.rubocop.yml', 'test/integration/common/inspec/common_spec.rb', 'Berksfile', 'test/cookbooks/openstack_test/recipes/default.rb', 'test/integration/network-optional/inspec/network_optional_spec.rb', 'test/integration/compute/inspec/compute_spec.rb', 'test/integration/image/inspec/image_spec.rb', 'Rakefile', 'test/integration/integration/inspec/integration_spec.rb', 'environments/integration.json', 'kitchen.yml', 'deploy-guide/source/genealogy.rst'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/89f4b5c1e78b2337c1f2d4fd5361c2d5fd4635c4', 'message': 'Start Train development\n\nChanged:\n- Temporarily disable voting during development\n- Update git URI for bind cookbook to use upstream master\n- Renamed .kitchen.yml -> kitchen.yml\n- Genealogy updated\n\nFixed:\n- Idempotency with use of apt_update resource\n- InSpec tests to work with Train\n- Cookstyle\n\nAdded:\n- Data bag for placement service\n- Set deprecations_as_errors to true in kitchen.yml\n\nRemoved:\n- Unused statsd cookbook in Berksfile\n- Unused .rubocop.yml\n\nDeprecated:\n- LBaaS recipes and tests. This has been deprecated upstream.\n\nChange-Id: I53a28de6aad000a246ff8f610b64dd5201c03b27\n'}]",2,731849,89f4b5c1e78b2337c1f2d4fd5361c2d5fd4635c4,15,3,4,21961,,,0,"Start Train development

Changed:
- Temporarily disable voting during development
- Update git URI for bind cookbook to use upstream master
- Renamed .kitchen.yml -> kitchen.yml
- Genealogy updated

Fixed:
- Idempotency with use of apt_update resource
- InSpec tests to work with Train
- Cookstyle

Added:
- Data bag for placement service
- Set deprecations_as_errors to true in kitchen.yml

Removed:
- Unused statsd cookbook in Berksfile
- Unused .rubocop.yml

Deprecated:
- LBaaS recipes and tests. This has been deprecated upstream.

Change-Id: I53a28de6aad000a246ff8f610b64dd5201c03b27
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/49/731849/1 && git format-patch -1 --stdout FETCH_HEAD,"['data_bags/db_passwords/placement.json', 'README.rst', '.zuul.yaml', 'test/integration/block-storage/inspec/block_storage_spec.rb', 'test/integration/network/inspec/network_spec.rb', 'doc/source/conf.py', 'test/integration/common/inspec/common_spec.rb', 'Berksfile', 'test/cookbooks/openstack_test/recipes/default.rb', 'test/integration/network-optional/inspec/network_optional_spec.rb', 'test/integration/compute/inspec/compute_spec.rb', 'test/integration/image/inspec/image_spec.rb', 'test/integration/integration/inspec/integration_spec.rb', 'environments/integration.json', 'kitchen.yml', 'deploy-guide/source/genealogy.rst']",16,85b781ccad9254126eead7237d23bdd340e18f73,train-updates,| 19.y.z | Stein | yes || 20.y.z | Train | yes (current master) || 22.y.z | Victoria | Future | +----------------------------+------------------------------+------------------------+,| 19.y.z | Stein | yes (current master) || 20.y.z | Train | Future |,66,95
openstack%2Fzun~stable%2Fussuri~Ia2a4b7befc3be9541846d8b20bd532888c4391c0,openstack/zun,stable/ussuri,Ia2a4b7befc3be9541846d8b20bd532888c4391c0,Fix init container status - docker,MERGED,2020-05-25 02:58:21.000000000,2020-06-11 00:24:08.000000000,2020-06-11 00:22:23.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-25 02:58:21.000000000', 'files': ['zun/container/docker/driver.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/f455bffc418096ad223caf27b860e07ec96535c5', 'message': 'Fix init container status - docker\n\nSave capsule init containers status to db on creation\n\nChange-Id: Ia2a4b7befc3be9541846d8b20bd532888c4391c0\nRelated-Bug: #1880358\n(cherry picked from commit 895d211aa2cfe9643be9b803994672c0b473fbc3)\n'}]",0,730549,f455bffc418096ad223caf27b860e07ec96535c5,7,2,1,11536,,,0,"Fix init container status - docker

Save capsule init containers status to db on creation

Change-Id: Ia2a4b7befc3be9541846d8b20bd532888c4391c0
Related-Bug: #1880358
(cherry picked from commit 895d211aa2cfe9643be9b803994672c0b473fbc3)
",git fetch https://review.opendev.org/openstack/zun refs/changes/49/730549/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/container/docker/driver.py'],1,f455bffc418096ad223caf27b860e07ec96535c5,bug/1880358-stable/ussuri, container.save(context),,1,0
openstack%2Fzun~stable%2Ftrain~Ia2a4b7befc3be9541846d8b20bd532888c4391c0,openstack/zun,stable/train,Ia2a4b7befc3be9541846d8b20bd532888c4391c0,Fix init container status - docker,MERGED,2020-05-24 16:19:14.000000000,2020-06-11 00:23:40.000000000,2020-06-11 00:22:24.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-24 16:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/f2fd7fc6d4c4a2a88e7065fd3ec08d47078bef04', 'message': 'Fix init container status - docker\n\nSave capsule init containers status to db on creation\n\nChange-Id: Ia2a4b7befc3be9541846d8b20bd532888c4391c0\nRelated-Bug: #1880358\n'}, {'number': 4, 'created': '2020-05-25 13:43:50.000000000', 'files': ['zun/container/docker/driver.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/e14c7f785d06e79d68f467f2cb56c57887844f48', 'message': 'Fix init container status - docker\n\nSave capsule init containers status to db on creation\n\nRelated-Bug: #1880358\nChange-Id: Ia2a4b7befc3be9541846d8b20bd532888c4391c0\n(cherry picked from commit 895d211aa2cfe9643be9b803994672c0b473fbc3)\n'}]",0,730513,e14c7f785d06e79d68f467f2cb56c57887844f48,12,2,2,11536,,,0,"Fix init container status - docker

Save capsule init containers status to db on creation

Related-Bug: #1880358
Change-Id: Ia2a4b7befc3be9541846d8b20bd532888c4391c0
(cherry picked from commit 895d211aa2cfe9643be9b803994672c0b473fbc3)
",git fetch https://review.opendev.org/openstack/zun refs/changes/13/730513/4 && git format-patch -1 --stdout FETCH_HEAD,['zun/container/docker/driver.py'],1,f2fd7fc6d4c4a2a88e7065fd3ec08d47078bef04,bug/1880358, container.save(context),,1,0
openstack%2Ftripleo-validations~stable%2Ftrain~I40bed1fdc9cd39295a1b9f9aaed21d3814d7e2b5,openstack/tripleo-validations,stable/train,I40bed1fdc9cd39295a1b9f9aaed21d3814d7e2b5,Update Ceph role's Get OSD stat to use new data structure,MERGED,2020-06-08 12:46:31.000000000,2020-06-11 00:22:22.000000000,2020-06-11 00:22:22.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 12:46:31.000000000', 'files': ['roles/ceph/tasks/ceph-health.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/08f469d7e85c16aa28e8a3f43450089778ea3d00', 'message': ""Update Ceph role's Get OSD stat to use new data structure\n\nThe variables for 'num_osds' and similar are now enclosed\nin an additional map whose key is 'osdmap' so we need to\nuse that key when extracting them.\n\nChange-Id: I40bed1fdc9cd39295a1b9f9aaed21d3814d7e2b5\nCloses-Bug: #1882387\n(cherry picked from commit aa330a8e99e7280c87ee8b1988b7951f6c5addb0)\n""}]",0,734069,08f469d7e85c16aa28e8a3f43450089778ea3d00,9,2,1,18002,,,0,"Update Ceph role's Get OSD stat to use new data structure

The variables for 'num_osds' and similar are now enclosed
in an additional map whose key is 'osdmap' so we need to
use that key when extracting them.

Change-Id: I40bed1fdc9cd39295a1b9f9aaed21d3814d7e2b5
Closes-Bug: #1882387
(cherry picked from commit aa330a8e99e7280c87ee8b1988b7951f6c5addb0)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/69/734069/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ceph/tasks/ceph-health.yaml'],1,08f469d7e85c16aa28e8a3f43450089778ea3d00,bug/1882387, jq_osd_percentage_filter: '( (.osdmap.num_in_osds) / (.osdmap.num_osds) ) * 100', jq_osd_percentage_filter: '( (.num_in_osds) / (.num_osds) ) * 100',1,1
openstack%2Ftripleo-heat-templates~master~I65339e92d3ab1a7904ca0477666b32367295808d,openstack/tripleo-heat-templates,master,I65339e92d3ab1a7904ca0477666b32367295808d,Deprecating Old ScaleIO  Volume Config,MERGED,2020-05-18 01:02:41.000000000,2020-06-11 00:19:44.000000000,2020-06-11 00:18:17.000000000,"[{'_account_id': 3153}, {'_account_id': 7160}, {'_account_id': 10379}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-05-18 01:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cbfcdaaf2f8b8343850f74c06f9d7ac7a646b618', 'message': 'Deprecating Old ScaleIO  Volume Config\n\nNew Dell EMC VxFlexOS Volume config is now\nadded. See https://review.opendev.org/#/c/728727/\nDeprecating the old resource.\n\nChange-Id: I65339e92d3ab1a7904ca0477666b32367295808d\n'}, {'number': 2, 'created': '2020-05-18 19:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a9e527480a0e3f60360be4ad49ac2d3fc2480689', 'message': 'Deprecating Old ScaleIO  Volume Config\n\nNew Dell EMC VxFlexOS Volume config is now\nadded. See https://review.opendev.org/#/c/728727/\nDeprecating the old resource.\n\nChange-Id: I65339e92d3ab1a7904ca0477666b32367295808d\n'}, {'number': 3, 'created': '2020-05-20 23:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7acd19667254017b57f8f54e3e3ed3f168c93ce1', 'message': 'Deprecating Old ScaleIO  Volume Config\n\nNew Dell EMC VxFlexOS Volume config is now\nadded. See https://review.opendev.org/#/c/728727/\nDeprecating the old resource.\n\nChange-Id: I65339e92d3ab1a7904ca0477666b32367295808d\n'}, {'number': 4, 'created': '2020-05-26 20:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cdb73edc793fcbc3dbfc49567a71a7be3d796d0f', 'message': 'Deprecating Old ScaleIO  Volume Config\n\nNew Dell EMC VxFlexOS Volume config is now\nadded. See https://review.opendev.org/#/c/728727/\nDeprecating the old resource.\n\nChange-Id: I65339e92d3ab1a7904ca0477666b32367295808d\n'}, {'number': 5, 'created': '2020-06-01 19:42:16.000000000', 'files': ['deployment/deprecated/cinder/cinder-backend-scaleio-puppet.yaml', 'releasenotes/notes/scaleio-deprecate-old-driver-ab28e372280c44e6.yaml', 'environments/cinder-scaleio-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5e4f319edca2d9ee567c94794a47d6516ea1db26', 'message': 'Deprecating Old ScaleIO  Volume Config\n\nNew Dell EMC VxFlexOS Volume config is now\nadded. See https://review.opendev.org/#/c/728727/\nDeprecating the old resource.\n\nChange-Id: I65339e92d3ab1a7904ca0477666b32367295808d\n'}]",6,728729,5e4f319edca2d9ee567c94794a47d6516ea1db26,47,8,5,10379,,,0,"Deprecating Old ScaleIO  Volume Config

New Dell EMC VxFlexOS Volume config is now
added. See https://review.opendev.org/#/c/728727/
Deprecating the old resource.

Change-Id: I65339e92d3ab1a7904ca0477666b32367295808d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/728729/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/scaleio-deprecate-old-driver-ab28e372280c44e6.yaml', 'environments/cinder-scaleio-config.yaml', 'deployment/cinder/cinder-backend-scaleio-puppet.yaml']",3,cbfcdaaf2f8b8343850f74c06f9d7ac7a646b618,scaleio_deprecate," Please note, this template is deprecated now. Use Cinder Dell EMC VxFlexOSC backend template defined in cinder-backend-dellemc-vxflexos-puppet.yaml. parameter_groups: - label: deprecated description: | The following parameters are deprecated and will be removed. parameters: - CinderEnableScaleIOBackend - CinderScaleIOBackendName - CinderScaleIOSanIp - CinderScaleIOSanLogin - CinderScaleIOSanPassword - CinderScaleIORestServerPort - CinderScaleIOVerifyServerCertificate - CinderScaleIOServerCertificatePath - CinderScaleIOProtectionDomainName - CinderScaleIOStoragePoolName - CinderScaleIOStoragePools - CinderScaleIORoundVolumeCapacity - CinderScaleIOUnmapVolumeBeforeDeletion - CinderScaleIOMaxOverSubscriptionRatio - CinderScaleIOSanThinProvision ",,33,1
openstack%2Fkuryr-kubernetes~master~I9221b6bc9166597837a4b53382862aa6c6f3e94c,openstack/kuryr-kubernetes,master,I9221b6bc9166597837a4b53382862aa6c6f3e94c,CNI: Don't wait for missing pods on DEL,MERGED,2020-06-04 14:52:43.000000000,2020-06-11 00:06:25.000000000,2020-06-11 00:04:37.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-06-04 14:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b26d3281686ded5445ae4e2c41b5f6e77d99a2e7', 'message': ""CNI: Don't wait for missing pods on DEL\n\nWe've seen some issues related to the fact that on CNI DEL we wait for\npod annotation to appear in CNI registry:\n\n1. Overloaded kuryr-daemon HTTP server, because many stale DEL requests\n   from CRI will saturate the number of free connections, causing CNI to\n   answer requests extremely slowly.\n2. Some CRI's will not delete network namespace before getting a\n   successful CNI DEL. If we'll assign the same IP (or vlan) to a next\n   pod, we might end up with an IP or vlan conflict and NetlinkError.\n\nThis commit makes sure we only wait for VIFs up to 5 seconds on DEL\nrequests, enough time for watcher to populate registry on restart. Also\nsome code got moved around to make implementating the above simpler.\n\nChange-Id: I9221b6bc9166597837a4b53382862aa6c6f3e94c\nCloses-Bug: 1882083\nRelated-Bug: 1854928\n""}, {'number': 2, 'created': '2020-06-04 14:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/99cdc288fa6acd937a711f7adadde778bc64393b', 'message': ""CNI: Don't wait for missing pods on DEL\n\nWe've seen some issues related to the fact that on CNI DEL we wait for\npod annotation to appear in CNI registry:\n\n1. Overloaded kuryr-daemon HTTP server, because many stale DEL requests\n   from CRI will saturate the number of free connections, causing CNI to\n   answer requests extremely slowly.\n2. Some CRI's will not delete network namespace before getting a\n   successful CNI DEL. If we'll assign the same IP (or vlan) to a next\n   pod, we might end up with an IP or vlan conflict and NetlinkError.\n\nThis commit makes sure we only wait for VIFs up to 5 seconds on DEL\nrequests, enough time for watcher to populate registry on restart. Also\nsome code got moved around to make implementating the above simpler.\n\nChange-Id: I9221b6bc9166597837a4b53382862aa6c6f3e94c\nCloses-Bug: 1882083\nRelated-Bug: 1854928\n""}, {'number': 3, 'created': '2020-06-09 15:26:03.000000000', 'files': ['kuryr_kubernetes/cni/daemon/service.py', 'kuryr_kubernetes/cni/plugins/k8s_cni_registry.py', 'kuryr_kubernetes/cni/binding/nested.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bd46075acde3f2282ff35f0846ebf96711904d1e', 'message': ""CNI: Don't wait for missing pods on DEL\n\nWe've seen some issues related to the fact that on CNI DEL we wait for\npod annotation to appear in CNI registry:\n\n1. Overloaded kuryr-daemon HTTP server, because many stale DEL requests\n   from CRI will saturate the number of free connections, causing CNI to\n   answer requests extremely slowly.\n2. Some CRI's will not delete network namespace before getting a\n   successful CNI DEL. If we'll assign the same IP (or vlan) to a next\n   pod, we might end up with an IP or vlan conflict and NetlinkError.\n\nThis commit makes sure we only wait for VIFs up to 5 seconds on DEL\nrequests, enough time for watcher to populate registry on restart. Also\nsome code got moved around to make implementating the above simpler and\nsome logs got clarified to make debugging of such issues easier later\non.\n\nChange-Id: I9221b6bc9166597837a4b53382862aa6c6f3e94c\nCloses-Bug: 1882083\nRelated-Bug: 1854928\n""}]",0,733637,bd46075acde3f2282ff35f0846ebf96711904d1e,28,4,3,11600,,,0,"CNI: Don't wait for missing pods on DEL

We've seen some issues related to the fact that on CNI DEL we wait for
pod annotation to appear in CNI registry:

1. Overloaded kuryr-daemon HTTP server, because many stale DEL requests
   from CRI will saturate the number of free connections, causing CNI to
   answer requests extremely slowly.
2. Some CRI's will not delete network namespace before getting a
   successful CNI DEL. If we'll assign the same IP (or vlan) to a next
   pod, we might end up with an IP or vlan conflict and NetlinkError.

This commit makes sure we only wait for VIFs up to 5 seconds on DEL
requests, enough time for watcher to populate registry on restart. Also
some code got moved around to make implementating the above simpler and
some logs got clarified to make debugging of such issues easier later
on.

Change-Id: I9221b6bc9166597837a4b53382862aa6c6f3e94c
Closes-Bug: 1882083
Related-Bug: 1854928
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/37/733637/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/cni/daemon/service.py', 'kuryr_kubernetes/cni/plugins/k8s_cni_registry.py']",2,b26d3281686ded5445ae4e2c41b5f6e77d99a2e7,bug/1882083," timeout = CONF.cni_daemon.vif_annotation_timeout # Try to confirm if pod in the registry is not stale cache. If it is, # remove it. with lockutils.lock(pod_name, external=True): if pod_name in self.registry: cached_pod = self.registry[pod_name]['pod'] try: pod = self.k8s.get(cached_pod['metadata']['selfLink']) except Exception: LOG.exception('Error when getting pod %s', pod_name) raise exceptions.ResourceNotReady(pod_name) if pod['metadata']['uid'] != cached_pod['metadata']['uid']: LOG.warning('Stale pod %s detected in cache. (API ' 'uid=%s, cached uid=%s). Removing it from ' 'cache.', pod_name, pod['metadata']['uid'], cached_pod['metadata']['uid']) del self.registry[pod_name] vifs = self._do_work(params, b_base.connect, timeout) # Passing arbitrary 3 seconds as timeout, as it does not make any sense # to wait on CNI DEL. If pod got deleted from API - VIF info is gone. # If pod got the annotation removed - it is now gone too. self._do_work(params, b_base.disconnect, 3) def _do_work(self, params, fn, timeout):"," vifs = self._do_work(params, b_base.connect, confirm=True) # Wait for VIFs to become active. timeout = CONF.cni_daemon.vif_annotation_timeout self._do_work(params, b_base.disconnect) def _do_work(self, params, fn, confirm=False): timeout = CONF.cni_daemon.vif_annotation_timeout if confirm: # Try to confirm if pod in the registry is not stale cache. with lockutils.lock(pod_name, external=True): if pod_name in self.registry: cached_pod = self.registry[pod_name]['pod'] try: pod = self.k8s.get(cached_pod['metadata']['selfLink']) except Exception: LOG.exception('Error when getting pod %s', pod_name) raise exceptions.ResourceNotReady(pod_name) if pod['metadata']['uid'] != cached_pod['metadata']['uid']: LOG.warning('Stale pod %s detected in cache. (API ' 'uid=%s, cached uid=%s). Removing it from ' 'cache.', pod_name, pod['metadata']['uid'], cached_pod['metadata']['uid']) del self.registry[pod_name] ",30,29
openstack%2Fsearchlight~master~I4e363df276220f6889d2f130aa27d8fa62069727,openstack/searchlight,master,I4e363df276220f6889d2f130aa27d8fa62069727,Remove translation sections from setup.cfg,ABANDONED,2020-05-14 12:33:09.000000000,2020-06-11 00:02:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-14 12:33:09.000000000', 'files': ['babel.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/fc2d02be28e979974b243427770792e6c2c7b0b0', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nChange-Id: I4e363df276220f6889d2f130aa27d8fa62069727\n'}]",0,728065,fc2d02be28e979974b243427770792e6c2c7b0b0,3,1,1,17130,,,0,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Change-Id: I4e363df276220f6889d2f130aa27d8fa62069727
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/65/728065/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'setup.cfg']",2,fc2d02be28e979974b243427770792e6c2c7b0b0,,, [compile_catalog] directory = searchlight/locale domain = searchlight [update_catalog] domain = searchlight output_dir = searchlight/locale input_file = searchlight/locale/searchlight.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = searchlight/locale/searchlight.pot,0,15
openstack%2Ftrove-specs~master~If8b2b90a9caeacff48b528d83e809b6fb0296411,openstack/trove-specs,master,If8b2b90a9caeacff48b528d83e809b6fb0296411,Rename review.openstack.org to review.opendev.org,ABANDONED,2019-05-13 15:41:52.000000000,2020-06-11 00:01:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-13 15:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/e95fc7554ece37c56e7c7ce068c5face8a028343', 'message': 'Rename review.openstack.org to review.opendev.org\n\nThere are many references to review.openstack.org, and while the\nredirect should work, we can also go ahead and fix them.\n\nChange-Id: If8b2b90a9caeacff48b528d83e809b6fb0296411\n'}, {'number': 2, 'created': '2019-05-13 17:13:51.000000000', 'files': ['specs/mitaka/move-to-oslo-db.rst', 'specs/newton/scheduled-backup.rst', 'specs/template.rst', 'specs/mitaka/cassandra-cluster.rst', 'specs/mitaka/cassandra-root-enable.rst', 'specs/liberty/root-disable.rst', 'specs/liberty/datastore-registration-api.rst', 'specs/kilo/mgmt-show-deleted.rst', 'specs/kilo/guest-rpc-ping-pong.rst', 'requirements.txt', 'specs/ocata/trove-integration-redstack.rst', 'specs/pike/sample.rst', 'specs/kilo/datastore-visibility.rst', 'specs/kilo/native-os-heat-resources.rst', 'specs/ocata/cluster-upgrade.rst', 'specs/kilo/rsync-optional.rst', 'specs/kilo/switch-to-oslo-messaging.rst', 'specs/newton/datastore-version-volume-type-support.rst', 'specs/mitaka/remove-sql-schema-downgrades.rst', 'specs/kilo/moving-trove-guestagent.rst'], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/7b408f382133f4353cb913c6ccbff534ba455527', 'message': 'Rename review.openstack.org to review.opendev.org\n\nThere are many references to review.openstack.org, and while the\nredirect should work, we can also go ahead and fix them.\n\nChange-Id: If8b2b90a9caeacff48b528d83e809b6fb0296411\n'}]",0,658850,7b408f382133f4353cb913c6ccbff534ba455527,5,1,2,17130,,,0,"Rename review.openstack.org to review.opendev.org

There are many references to review.openstack.org, and while the
redirect should work, we can also go ahead and fix them.

Change-Id: If8b2b90a9caeacff48b528d83e809b6fb0296411
",git fetch https://review.opendev.org/openstack/trove-specs refs/changes/50/658850/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/mitaka/move-to-oslo-db.rst', 'specs/newton/scheduled-backup.rst', 'specs/template.rst', 'specs/mitaka/cassandra-cluster.rst', 'specs/mitaka/cassandra-root-enable.rst', 'specs/liberty/root-disable.rst', 'specs/liberty/datastore-registration-api.rst', 'specs/kilo/mgmt-show-deleted.rst', 'specs/kilo/guest-rpc-ping-pong.rst', 'specs/ocata/trove-integration-redstack.rst', 'specs/pike/sample.rst', 'specs/kilo/datastore-visibility.rst', 'specs/kilo/native-os-heat-resources.rst', 'specs/ocata/cluster-upgrade.rst', 'specs/kilo/rsync-optional.rst', 'specs/kilo/switch-to-oslo-messaging.rst', 'specs/newton/datastore-version-volume-type-support.rst', 'specs/mitaka/remove-sql-schema-downgrades.rst', 'specs/kilo/moving-trove-guestagent.rst']",19,e95fc7554ece37c56e7c7ce068c5face8a028343,,e.https://review.opendev.org/#/c/119425/,..https://review.openstack.org/#/c/119425/,34,34
openstack%2Fkuryr-kubernetes~master~I6e736b5c39f46fab78a538bab66089168fb69b54,openstack/kuryr-kubernetes,master,I6e736b5c39f46fab78a538bab66089168fb69b54,Handle binding_failed error when creating neutron port,MERGED,2020-04-17 09:51:52.000000000,2020-06-10 23:53:02.000000000,2020-06-10 23:51:49.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14570}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 27032}, {'_account_id': 29615}]","[{'number': 1, 'created': '2020-04-17 09:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bf58d8ec076c0930cc34e05935858affe8c0b9cc', 'message': 'Handle binding_failed error when creating neutron port\n\nChange-Id: I6e736b5c39f46fab78a538bab66089168fb69b54\nSigned-off-by: Nayan Deshmukh <n.deshmukh@samsung.com>\n'}, {'number': 2, 'created': '2020-04-23 00:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/45b517a7b97cd5f7da9277e0524ec7c00a091147', 'message': 'Handle binding_failed error when creating neutron port\n\nDue to an errors on the neutron side we might get a port on\ncreate_port request, with the binding_failed error and hence\nthe port will not become active, leaving the pod in\nContainerCreating state. We should instead delete the port\nand raise an error.\n\nChange-Id: I6e736b5c39f46fab78a538bab66089168fb69b54\nSigned-off-by: Nayan Deshmukh <n.deshmukh@samsung.com>\n'}, {'number': 3, 'created': '2020-04-27 09:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/acd0c808934d6b36df6bbd0d4c5e92b28a178585', 'message': 'Handle binding_failed error when creating neutron port\n\nDue to an errors on the neutron side we might get a port on\ncreate_port request, with the binding_failed error and hence\nthe port will not become active, leaving the pod in\nContainerCreating state. We should instead delete the port\nand raise an error.\n\nChange-Id: I6e736b5c39f46fab78a538bab66089168fb69b54\nSigned-off-by: Nayan Deshmukh <n.deshmukh@samsung.com>\n'}, {'number': 4, 'created': '2020-05-14 01:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/648714f4198060200e1542033d4f22aca2a8500d', 'message': 'Handle binding_failed error when creating neutron port\n\nDue to errors on the neutron side we might get a port on\ncreate_port request, with the binding_failed error and hence\nthe port will not become active, leaving the pod in\nContainerCreating state. We should instead delete the port\nand raise an error.\n\nChange-Id: I6e736b5c39f46fab78a538bab66089168fb69b54\nSigned-off-by: Nayan Deshmukh <n.deshmukh@samsung.com>\n'}, {'number': 5, 'created': '2020-05-18 09:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f028950ce774fdb521e1abb51f33c5b543593cfd', 'message': 'Handle binding_failed error when creating neutron port\n\nDue to errors on the neutron side we might get a port on\ncreate_port request, with the binding_failed error and hence\nthe port will not become active, leaving the pod in\nContainerCreating state. We should instead delete the port\nand raise an error.\n\nChange-Id: I6e736b5c39f46fab78a538bab66089168fb69b54\nSigned-off-by: Nayan Deshmukh <n.deshmukh@samsung.com>\n'}, {'number': 6, 'created': '2020-05-21 10:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2e3c3bd986fc85f42ecc988c11df483c714a4a93', 'message': 'Handle binding_failed error when creating neutron port\n\nDue to errors on the neutron side we might get a port on\ncreate_port request, with the binding_failed error and hence\nthe port will not become active, leaving the pod in\nContainerCreating state. We should instead delete the port\nand raise an error.\n\nChange-Id: I6e736b5c39f46fab78a538bab66089168fb69b54\nSigned-off-by: Nayan Deshmukh <n.deshmukh@samsung.com>\n'}, {'number': 7, 'created': '2020-05-22 02:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0aa198897cb320e255f4702e1c8e809f5b405119', 'message': 'Handle binding_failed error when creating neutron port\n\nDue to errors on the neutron side we might get a port on\ncreate_port request, with the binding_failed error and hence\nthe port will not become active, leaving the pod in\nContainerCreating state. We should instead delete the port\nand raise an error.\n\nChange-Id: I6e736b5c39f46fab78a538bab66089168fb69b54\nSigned-off-by: Nayan Deshmukh <n.deshmukh@samsung.com>\n'}, {'number': 8, 'created': '2020-05-26 23:37:19.000000000', 'files': ['kuryr_kubernetes/controller/drivers/nested_macvlan_vif.py', 'kuryr_kubernetes/controller/drivers/neutron_vif.py', 'kuryr_kubernetes/controller/drivers/nested_vlan_vif.py', 'kuryr_kubernetes/controller/drivers/sriov.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0e82d8005fd15309ab27107b939d72be220877a1', 'message': 'Handle binding_failed error when creating neutron port\n\nDue to errors on the neutron side we might get a port on\ncreate_port request, with the binding_failed error and hence\nthe port will not become active, leaving the pod in\nContainerCreating state. We should instead delete the port\nand raise an error.\n\nChange-Id: I6e736b5c39f46fab78a538bab66089168fb69b54\nSigned-off-by: Nayan Deshmukh <n.deshmukh@samsung.com>\n'}]",22,720676,0e82d8005fd15309ab27107b939d72be220877a1,83,8,8,29615,,,0,"Handle binding_failed error when creating neutron port

Due to errors on the neutron side we might get a port on
create_port request, with the binding_failed error and hence
the port will not become active, leaving the pod in
ContainerCreating state. We should instead delete the port
and raise an error.

Change-Id: I6e736b5c39f46fab78a538bab66089168fb69b54
Signed-off-by: Nayan Deshmukh <n.deshmukh@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/76/720676/8 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/neutron_vif.py'],1,bf58d8ec076c0930cc34e05935858affe8c0b9cc,," if port.binding_vif_type == ""binding_failed"": clients.get_network_client().delete_port(port.id) LOG.exception(""Binding failed for port: %s"", port) raise k_exc.ResourceNotReady(port) ",,5,0
openstack%2Fopenstack-helm-infra~master~Ia98fec8c623486f80054877e40e0753e4b939e8e,openstack/openstack-helm-infra,master,Ia98fec8c623486f80054877e40e0753e4b939e8e,ceph-osd: Simplify failure domain config using map,MERGED,2020-06-05 08:09:38.000000000,2020-06-10 23:35:35.000000000,2020-06-10 23:33:54.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 14029}, {'_account_id': 16374}, {'_account_id': 17119}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 29408}, {'_account_id': 29974}]","[{'number': 1, 'created': '2020-06-05 08:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dc4be307cdd7b1d416f7dcc344453dff4f8de8d5', 'message': ""ceph-osd: Simplify failure domain config using map\n\nUsing a subset of the characters in the hostname to determine the\nfailure domain is not always possible, and using overrides based on\nhostnames is in some ways overkill.\n\nThis change provides a simple way to map hostnames to failure domains.\nIt is used only when 'failure_domain' is set other than 'host', and when\n'failure_domain_by_hostname' is 'false'. Any hosts not referenced in the\nmap will be given the default treatment (root=default host=hostname)\n\nExample usage:\n\n    conf:\n      storage:\n        failure_domain: rack\n        failure_domain_by_hostname_map:\n          hostfoo: rack1\n          hostbar: rack1\n          hostbaz: rack2\n          hostqux: rack2\n\nChange-Id: Ia98fec8c623486f80054877e40e0753e4b939e8e\n""}, {'number': 2, 'created': '2020-06-08 19:45:00.000000000', 'files': ['ceph-osd/templates/bin/osd/ceph-disk/_common.sh.tpl', 'ceph-osd/templates/bin/osd/ceph-volume/_common.sh.tpl', 'ceph-osd/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/577dcd5d199510dd8bff894e52ec724a684e7b66', 'message': ""ceph-osd: Simplify failure domain config using map\n\nUsing a subset of the characters in the hostname to determine the\nfailure domain is not always possible, and using overrides based on\nhostnames is in some ways overkill.\n\nThis change provides a simple way to map hostnames to failure domains.\nIt is used only when 'failure_domain' is set other than 'host', and when\n'failure_domain_by_hostname' is 'false'. Any hosts not referenced in the\nmap will be given the default treatment (root=default host=hostname)\n\nExample usage:\n\n    conf:\n      storage:\n        failure_domain: rack\n        failure_domain_by_hostname_map:\n          hostfoo: rack1\n          hostbar: rack1\n          hostbaz: rack2\n          hostqux: rack2\n\nChange-Id: Ia98fec8c623486f80054877e40e0753e4b939e8e\n""}]",0,733763,577dcd5d199510dd8bff894e52ec724a684e7b66,17,10,2,28719,,,0,"ceph-osd: Simplify failure domain config using map

Using a subset of the characters in the hostname to determine the
failure domain is not always possible, and using overrides based on
hostnames is in some ways overkill.

This change provides a simple way to map hostnames to failure domains.
It is used only when 'failure_domain' is set other than 'host', and when
'failure_domain_by_hostname' is 'false'. Any hosts not referenced in the
map will be given the default treatment (root=default host=hostname)

Example usage:

    conf:
      storage:
        failure_domain: rack
        failure_domain_by_hostname_map:
          hostfoo: rack1
          hostbar: rack1
          hostbaz: rack2
          hostqux: rack2

Change-Id: Ia98fec8c623486f80054877e40e0753e4b939e8e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/63/733763/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/templates/bin/osd/ceph-disk/_common.sh.tpl', 'ceph-osd/templates/bin/osd/ceph-volume/_common.sh.tpl', 'ceph-osd/values.yaml']",3,dc4be307cdd7b1d416f7dcc344453dff4f8de8d5,," # `failure_domain_by_hostname_map`: Explicit mapping of hostname to failure domain, as a simpler alternative to overrides. failure_domain_by_hostname_map: {} # Example: # failure_domain_map_hostname_map: # hostfoo: rack1 # hostbar: rack1 # hostbaz: rack2 # hostqux: rack2",,14,0
openstack%2Fopenstack-helm~master~I140a43a3eeb8fcf180cabcc93b9b7e3ccf075509,openstack/openstack-helm,master,I140a43a3eeb8fcf180cabcc93b9b7e3ccf075509,DNM: keystone: enable strong encryption,ABANDONED,2020-06-10 22:03:02.000000000,2020-06-10 23:30:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-10 22:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/378509d879e13955958e2191f9ef5aac68e58c4a', 'message': 'DNM: keystone: enable strong encryption\n\nChange-Id: I140a43a3eeb8fcf180cabcc93b9b7e3ccf075509\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2020-06-10 22:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c45294091ced3d591e9584070c281c15928f3568', 'message': 'DNM: keystone: enable strong encryption\n\nChange-Id: I140a43a3eeb8fcf180cabcc93b9b7e3ccf075509\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2020-06-10 23:04:58.000000000', 'files': ['keystone/values.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0dca577114a2bdcde0c15cb16f4effa6de41f521', 'message': 'DNM: keystone: enable strong encryption\n\nChange-Id: I140a43a3eeb8fcf180cabcc93b9b7e3ccf075509\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,735018,0dca577114a2bdcde0c15cb16f4effa6de41f521,6,1,3,20466,,,0,"DNM: keystone: enable strong encryption

Change-Id: I140a43a3eeb8fcf180cabcc93b9b7e3ccf075509
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/18/735018/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/values.yaml'],1,378509d879e13955958e2191f9ef5aac68e58c4a,tls/cipher, SSLCipherSuite ECDHE-ECDSA-AES256-GCM-SHA384,,1,0
openstack%2Ftripleo-ansible~stable%2Fussuri~Iaf2f83a8f13bcb9cf0c37acff627a456005057de,openstack/tripleo-ansible,stable/ussuri,Iaf2f83a8f13bcb9cf0c37acff627a456005057de,Fix error when display_ok_hosts is false,MERGED,2020-06-09 20:22:48.000000000,2020-06-10 23:25:20.000000000,2020-06-10 23:25:20.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-09 20:22:48.000000000', 'files': ['tripleo_ansible/ansible_plugins/callback/tripleo_dense.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b52c5501175157e04793c5e8a4b2765652789ed9', 'message': ""Fix error when display_ok_hosts is false\n\nIf display_ok_hosts is false, we were returning None but the function is\nexpected to return a tuple. So let's return a tuple of (None, None) and\ncheck if we don't have a line then return.\n\nChange-Id: Iaf2f83a8f13bcb9cf0c37acff627a456005057de\n(cherry picked from commit 3ff730bc6f5926a4c5db1a4b9669e0baec91b2ce)\n""}]",0,734693,b52c5501175157e04793c5e8a4b2765652789ed9,11,4,1,3153,,,0,"Fix error when display_ok_hosts is false

If display_ok_hosts is false, we were returning None but the function is
expected to return a tuple. So let's return a tuple of (None, None) and
check if we don't have a line then return.

Change-Id: Iaf2f83a8f13bcb9cf0c37acff627a456005057de
(cherry picked from commit 3ff730bc6f5926a4c5db1a4b9669e0baec91b2ce)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/93/734693/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/callback/tripleo_dense.py'],1,b52c5501175157e04793c5e8a4b2765652789ed9,callback-improvements-stable/ussuri," return (None, None) if not line: return if not line: return", return,5,1
openstack%2Ftrove~master~I909cd37b34466f41ae4cca0e85cb8a917ba163cc,openstack/trove,master,I909cd37b34466f41ae4cca0e85cb8a917ba163cc,Show replicas info for listing instances,MERGED,2020-06-10 11:07:07.000000000,2020-06-10 23:21:46.000000000,2020-06-10 23:20:10.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 11:07:07.000000000', 'files': ['trove/instance/views.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/fb70d24c3f2e7edb13f0c687958b4a7e96f4cd39', 'message': 'Show replicas info for listing instances\n\nChange-Id: I909cd37b34466f41ae4cca0e85cb8a917ba163cc\n'}]",0,734796,fb70d24c3f2e7edb13f0c687958b4a7e96f4cd39,7,2,1,6732,,,0,"Show replicas info for listing instances

Change-Id: I909cd37b34466f41ae4cca0e85cb8a917ba163cc
",git fetch https://review.opendev.org/openstack/trove refs/changes/96/734796/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/instance/views.py'],1,fb70d24c3f2e7edb13f0c687958b4a7e96f4cd39,list-show-replicas," if self.instance.slaves: instance_dict['replicas'] = self._build_slaves_info() def _build_slaves_info(self): data = [] for slave in self.instance.slaves: data.append({ ""id"": slave.id, ""links"": create_links(""instances"", self.req, slave.id) }) return data "," if self.instance.slaves: result['instance']['replicas'] = self._build_slaves_info() def _build_slaves_info(self): data = [] for slave in self.instance.slaves: data.append({ ""id"": slave.id, ""links"": create_links(""instances"", self.req, slave.id) }) return data ",13,12
openstack%2Fpython-troveclient~master~Ibc7c191a3dbbe8d03cfbc9d41e30833b47ab429f,openstack/python-troveclient,master,Ibc7c191a3dbbe8d03cfbc9d41e30833b47ab429f,Support to create datastore version,MERGED,2020-06-10 12:13:24.000000000,2020-06-10 23:08:07.000000000,2020-06-10 23:05:35.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 12:13:24.000000000', 'files': ['troveclient/tests/osc/v1/test_datastores.py', 'releasenotes/notes/victoria-create-datastore-version.yaml', 'troveclient/osc/v1/datastores.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/b86ff27e35054f0129022a8dca08a912132973af', 'message': 'Support to create datastore version\n\nChange-Id: Ibc7c191a3dbbe8d03cfbc9d41e30833b47ab429f\n'}]",0,734808,b86ff27e35054f0129022a8dca08a912132973af,7,2,1,6732,,,0,"Support to create datastore version

Change-Id: Ibc7c191a3dbbe8d03cfbc9d41e30833b47ab429f
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/08/734808/1 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/tests/osc/v1/test_datastores.py', 'releasenotes/notes/victoria-create-datastore-version.yaml', 'troveclient/osc/v1/datastores.py', 'setup.cfg']",4,b86ff27e35054f0129022a8dca08a912132973af,create-ds, datastore_version_create = troveclient.osc.v1.datastores:CreateDatastoreVersion,,73,0
openstack%2Ftrove~master~Icc4eece2f265cb5a5c48c4f1024a9189d11b4687,openstack/trove,master,Icc4eece2f265cb5a5c48c4f1024a9189d11b4687,Support subnet and IP for instance creation,MERGED,2020-06-10 10:51:23.000000000,2020-06-10 23:06:57.000000000,2020-06-10 23:05:33.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 10:51:23.000000000', 'files': ['api-ref/source/parameters.yaml', 'trove/common/exception.py', 'trove/instance/models.py', 'trove/common/apischema.py', 'trove/common/clients_admin.py', 'trove/instance/service.py', 'releasenotes/notes/victoria-support-subnet-and-ip-address.yaml', 'trove/tests/unittests/taskmanager/test_models.py', 'trove/common/neutron.py', 'trove/common/cfg.py', 'trove/taskmanager/models.py', 'trove/tests/unittests/instance/test_instance_controller.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/535417240709694080255c064c9d84a5ab1d5372', 'message': ""Support subnet and IP for instance creation\n\nSupport ``subnet_id`` and ``ip_address`` for creating instance. When\ncreating instance, trove will check the network conflicts between user's\nnetwork and the management network, additionally, the cloud admin is\nable to define other reserved networks by configuring\n``reserved_network_cidrs``.\n\nChange-Id: Icc4eece2f265cb5a5c48c4f1024a9189d11b4687\n""}]",0,734794,535417240709694080255c064c9d84a5ab1d5372,7,2,1,6732,,,0,"Support subnet and IP for instance creation

Support ``subnet_id`` and ``ip_address`` for creating instance. When
creating instance, trove will check the network conflicts between user's
network and the management network, additionally, the cloud admin is
able to define other reserved networks by configuring
``reserved_network_cidrs``.

Change-Id: Icc4eece2f265cb5a5c48c4f1024a9189d11b4687
",git fetch https://review.opendev.org/openstack/trove refs/changes/94/734794/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'trove/common/exception.py', 'trove/instance/models.py', 'trove/common/apischema.py', 'trove/common/clients_admin.py', 'trove/instance/service.py', 'releasenotes/notes/victoria-support-subnet-and-ip-address.yaml', 'trove/tests/unittests/taskmanager/test_models.py', 'trove/common/neutron.py', 'trove/common/cfg.py', 'trove/taskmanager/models.py', 'trove/tests/unittests/instance/test_instance_controller.py']",12,535417240709694080255c064c9d84a5ab1d5372,user-ip,"import copy import uuid from testtools.matchers import Equals from testtools.matchers import Is def test_validate_create_valid_nics(self): body = copy.copy(self.instance) body['instance']['nics'] = [ { 'network_id': str(uuid.uuid4()), 'subnet_id': str(uuid.uuid4()), 'ip_address': '192.168.1.11' } ] schema = self.controller.get_schema('create', body) validator = jsonschema.Draft4Validator(schema) self.assertTrue(validator.is_valid(body)) ","from testtools.matchers import Is, Equals",171,39
openstack%2Fpython-troveclient~master~Ibd6a1ce15abc12524f49f4091acb38d6841a8476,openstack/python-troveclient,master,Ibd6a1ce15abc12524f49f4091acb38d6841a8476,Remove unnecessary API call for listing instances,MERGED,2020-06-10 11:25:06.000000000,2020-06-10 23:06:54.000000000,2020-06-10 23:05:34.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 11:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/442fa6346ea7042733aa582b67a88bd903773acf', 'message': 'Remove unnecessary API call\n\nChange-Id: Ibd6a1ce15abc12524f49f4091acb38d6841a8476\n'}, {'number': 2, 'created': '2020-06-10 11:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/075b6d27670d6ce4cd9b0550e9bbabdced011ee9', 'message': 'Remove unnecessary API call for listing instances\n\nChange-Id: Ibd6a1ce15abc12524f49f4091acb38d6841a8476\n'}, {'number': 3, 'created': '2020-06-10 12:10:42.000000000', 'files': ['troveclient/tests/fakes.py', 'troveclient/osc/v1/database_instances.py', 'troveclient/tests/osc/v1/test_database_instances.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/6e440c35bd558f677bc76db75a0911420eab5e31', 'message': 'Remove unnecessary API call for listing instances\n\nChange-Id: Ibd6a1ce15abc12524f49f4091acb38d6841a8476\n'}]",0,734800,6e440c35bd558f677bc76db75a0911420eab5e31,10,2,3,6732,,,0,"Remove unnecessary API call for listing instances

Change-Id: Ibd6a1ce15abc12524f49f4091acb38d6841a8476
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/00/734800/3 && git format-patch -1 --stdout FETCH_HEAD,['troveclient/osc/v1/database_instances.py'],1,442fa6346ea7042733aa582b67a88bd903773acf,remove-apicall," # To avoid invoking GET request to trove. instance_info = instance.to_dict() if 'volume' in instance_info: setattr(instance, 'role', '') if 'replica_of' in instance_info: if 'replicas' in instance_info: if 'datastore' in instance_info:"," if hasattr(instance, 'volume'): if hasattr(instance, 'ip'): addresses = ', '.join(instance.ip) setattr(instance, 'addresses', addresses) # If 'replica_of' not in instance, the client will invoke a GET # instance request to API. if hasattr(instance, 'replica_of'): if hasattr(instance, 'replicas'): if hasattr(instance, 'datastore'):",8,11
openstack%2Fironic-python-agent~master~I1c5c5a29e073774e93a6df6d754e1eb97aa9b86b,openstack/ironic-python-agent,master,I1c5c5a29e073774e93a6df6d754e1eb97aa9b86b,Add ffi development lib to bindep,MERGED,2020-06-05 12:35:43.000000000,2020-06-10 22:42:55.000000000,2020-06-10 22:41:36.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-05 12:35:43.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4da53ab7d4fdd65f209b432b058a12145a017047', 'message': 'Add ffi development lib to bindep\n\nThe ffi development library is necessary to build ipa.\n\nChange-Id: I1c5c5a29e073774e93a6df6d754e1eb97aa9b86b\n'}]",0,733821,4da53ab7d4fdd65f209b432b058a12145a017047,27,5,1,23851,,,0,"Add ffi development lib to bindep

The ffi development library is necessary to build ipa.

Change-Id: I1c5c5a29e073774e93a6df6d754e1eb97aa9b86b
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/21/733821/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,4da53ab7d4fdd65f209b432b058a12145a017047,add-libffi-dev,libffi-dev [platform:dpkg test] libffi-devel [platform:rpm test],,2,0
openstack%2Ftripleo-image-elements~stable%2Fqueens~I88eb15289415ccb227365bd3ddfed024469106e2,openstack/tripleo-image-elements,stable/queens,I88eb15289415ccb227365bd3ddfed024469106e2,Removing debug output of 51-hosts,MERGED,2020-05-27 20:52:06.000000000,2020-06-10 22:37:09.000000000,2020-06-10 22:37:09.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-05-27 20:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/c854bc7e39e67c53d0cde248ddb4d2a86bcb5538', 'message': 'Removing debug output of 51-hosts\n\nThis floods the logs for no real value added.\n\nChange-Id: I88eb15289415ccb227365bd3ddfed024469106e2\nCloses-bug: #1872528\n(cherry picked from commit 5ed09ac4e7fb5cebf789f2a4af04820f15d4d220)\n'}, {'number': 2, 'created': '2020-05-28 12:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/1cb4a8db0af23f6e7b787cd8b1ec8cd40022cae7', 'message': 'Removing debug output of 51-hosts\n\nThis floods the logs for no real value added.\n\nDepends-On: https://review.opendev.org/#/c/731498\nChange-Id: I88eb15289415ccb227365bd3ddfed024469106e2\nCloses-bug: #1872528\n(cherry picked from commit 5ed09ac4e7fb5cebf789f2a4af04820f15d4d220)\n'}, {'number': 3, 'created': '2020-05-29 14:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/dc787f484dce0dfe6af4b6a96a35133ebd6aad45', 'message': 'Removing debug output of 51-hosts\n\nThis floods the logs for no real value added.\n\nDepends-On: https://review.opendev.org/#/c/731498\nDepends-On: https://review.opendev.org/#/c/731752\nChange-Id: I88eb15289415ccb227365bd3ddfed024469106e2\nCloses-bug: #1872528\n(cherry picked from commit 5ed09ac4e7fb5cebf789f2a4af04820f15d4d220)\n'}, {'number': 4, 'created': '2020-06-03 17:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/2b44110be357c420a4d72b257608c8c47e034e7f', 'message': 'Removing debug output of 51-hosts\n\nThis floods the logs for no real value added.\n\nChange-Id: I88eb15289415ccb227365bd3ddfed024469106e2\nCloses-bug: #1872528\n(cherry picked from commit 5ed09ac4e7fb5cebf789f2a4af04820f15d4d220)\n'}, {'number': 5, 'created': '2020-06-09 14:20:05.000000000', 'files': ['elements/hosts/os-refresh-config/configure.d/51-hosts'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/6c32035489104d9694411b9bbb4ca531fe43633b', 'message': 'Removing debug output of 51-hosts\n\nThis floods the logs for no real value added.\n\nChange-Id: I88eb15289415ccb227365bd3ddfed024469106e2\nCloses-bug: #1872528\n(cherry picked from commit 5ed09ac4e7fb5cebf789f2a4af04820f15d4d220)\n'}]",0,731338,6c32035489104d9694411b9bbb4ca531fe43633b,39,5,5,3153,,,0,"Removing debug output of 51-hosts

This floods the logs for no real value added.

Change-Id: I88eb15289415ccb227365bd3ddfed024469106e2
Closes-bug: #1872528
(cherry picked from commit 5ed09ac4e7fb5cebf789f2a4af04820f15d4d220)
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/38/731338/3 && git format-patch -1 --stdout FETCH_HEAD,['elements/hosts/os-refresh-config/configure.d/51-hosts'],1,c854bc7e39e67c53d0cde248ddb4d2a86bcb5538,,set -eu,set -eux,1,1
openstack%2Fcinder~stable%2Ftrain~I5cd729bdd1fb97b07610b1971232c786bad7917d,openstack/cinder,stable/train,I5cd729bdd1fb97b07610b1971232c786bad7917d,NetApp ONTAP NFS driver fail to flexclone glance image.,MERGED,2020-05-14 18:22:37.000000000,2020-06-10 22:06:50.000000000,2020-06-10 22:05:15.000000000,"[{'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 18058}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-05-14 18:22:37.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/nfs_base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c33838f6e40566b0d19e18bf2068982a1c5cf16', 'message': 'NetApp ONTAP NFS driver fail to flexclone glance image.\n\nWhen the driver is trying to perform a flexclone from glance is\nmaking a bad reference to a non-existent methond utils.resolve_hostname\nthe correct method is volume_utils.resolve_hostname\n\nChange-Id: I5cd729bdd1fb97b07610b1971232c786bad7917d\nCloses-Bug: #1875959\n(cherry picked from commit 2da53ac02b2e27eaee6a0c3e996a910cce9e53d9)\n(cherry picked from commit f248f73e0b39239e33ab1bbc0359b82ee87288af)\n'}]",0,728215,8c33838f6e40566b0d19e18bf2068982a1c5cf16,23,16,1,21232,,,0,"NetApp ONTAP NFS driver fail to flexclone glance image.

When the driver is trying to perform a flexclone from glance is
making a bad reference to a non-existent methond utils.resolve_hostname
the correct method is volume_utils.resolve_hostname

Change-Id: I5cd729bdd1fb97b07610b1971232c786bad7917d
Closes-Bug: #1875959
(cherry picked from commit 2da53ac02b2e27eaee6a0c3e996a910cce9e53d9)
(cherry picked from commit f248f73e0b39239e33ab1bbc0359b82ee87288af)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/728215/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/netapp/dataontap/nfs_base.py'],1,8c33838f6e40566b0d19e18bf2068982a1c5cf16,bug/1875959-stable/ussuri-stable/train, ip = volume_utils.resolve_hostname(host), ip = utils.resolve_hostname(host),1,1
openstack%2Freleases~master~I7d59705ec8d5fc6cf4dbc44899e31ffc227f64a6,openstack/releases,master,I7d59705ec8d5fc6cf4dbc44899e31ffc227f64a6,Release horizon for stable/train,ABANDONED,2020-06-10 21:03:37.000000000,2020-06-10 21:58:40.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-06-10 21:03:37.000000000', 'files': ['deliverables/train/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7eacda8db38eb2b49b96a6e74eb959099dc58f9d', 'message': 'Release horizon for stable/train\n\nThis release picks up new commits to horizon since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nChange-Id: I7d59705ec8d5fc6cf4dbc44899e31ffc227f64a6\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,734927,7eacda8db38eb2b49b96a6e74eb959099dc58f9d,4,4,1,11904,,,0,"Release horizon for stable/train

This release picks up new commits to horizon since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Change-Id: I7d59705ec8d5fc6cf4dbc44899e31ffc227f64a6
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/27/734927/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/horizon.yaml'],1,7eacda8db38eb2b49b96a6e74eb959099dc58f9d,train-stable, - version: 16.2.0 projects: - repo: openstack/horizon hash: fa839516e52b6a2418f48489d106e9931640b2cd,,4,0
openstack%2Fswift~master~I0dd3b72e374b9eb93a13ed7ef5fd24cd28e66396,openstack/swift,master,I0dd3b72e374b9eb93a13ed7ef5fd24cd28e66396,s3api: Add config option to include uploadId in GET/HEAD responses,ABANDONED,2020-05-15 23:13:04.000000000,2020-06-10 21:42:47.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-15 23:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8b5a513fb0bfe600cb0b3b4c3a43abcb80fb0be3', 'message': 's3api: Add config option to include uploadId in GET/HEAD responses\n\nThis may be useful for clients trying to decide whether to retry a failed upload.\n\nChange-Id: I0dd3b72e374b9eb93a13ed7ef5fd24cd28e66396\n'}, {'number': 2, 'created': '2020-05-16 04:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/affac56609732876c78524f5326145827e264ad2', 'message': 's3api: Add config option to include uploadId in GET/HEAD responses\n\nThis may be useful for clients trying to decide whether to retry a failed upload.\n\nChange-Id: I0dd3b72e374b9eb93a13ed7ef5fd24cd28e66396\n'}, {'number': 3, 'created': '2020-06-05 19:06:43.000000000', 'files': ['swift/common/middleware/s3api/controllers/obj.py', 'etc/proxy-server.conf-sample', 'swift/common/middleware/s3api/controllers/multi_upload.py', 'swift/common/middleware/s3api/s3api.py', 'test/functional/s3api/test_multi_upload.py', 'test/unit/common/middleware/s3api/test_multi_upload.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6bc8b7ebcb842623e5c6ef668c441e9a26a1fbd9', 'message': 's3api: Add config option to include uploadId in GET/HEAD responses\n\nThis may be useful for clients trying to decide whether to retry a failed upload.\n\nChange-Id: I0dd3b72e374b9eb93a13ed7ef5fd24cd28e66396\n'}]",8,728589,6bc8b7ebcb842623e5c6ef668c441e9a26a1fbd9,11,3,3,15343,,,0,"s3api: Add config option to include uploadId in GET/HEAD responses

This may be useful for clients trying to decide whether to retry a failed upload.

Change-Id: I0dd3b72e374b9eb93a13ed7ef5fd24cd28e66396
",git fetch https://review.opendev.org/openstack/swift refs/changes/89/728589/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/controllers/obj.py', 'etc/proxy-server.conf-sample', 'swift/common/middleware/s3api/controllers/multi_upload.py', 'swift/common/middleware/s3api/s3api.py', 'test/functional/s3api/test_multi_upload.py', 'test/unit/common/middleware/s3api/test_multi_upload.py']",6,8b5a513fb0bfe600cb0b3b4c3a43abcb80fb0be3,upload-id," self.assertEqual(headers.get('X-Object-Sysmeta-S3Api-Upload-Id'), 'X')",,25,3
openstack%2Fhorizon~stable%2Fstein~I3744d8b7a0a37918962c9d9a2ac319002de93851,openstack/horizon,stable/stein,I3744d8b7a0a37918962c9d9a2ac319002de93851,Incoming tenant id when creating a subnet on create network form,MERGED,2020-06-08 09:15:21.000000000,2020-06-10 21:20:57.000000000,2020-06-10 21:19:23.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-06-08 09:15:21.000000000', 'files': ['openstack_dashboard/dashboards/project/networks/tests.py', 'openstack_dashboard/dashboards/admin/networks/tests.py', 'openstack_dashboard/dashboards/project/networks/workflows.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/32129b3a61f49e9f38f268761a10dae1fc86e7b1', 'message': 'Incoming tenant id when creating a subnet on create network form\n\nOn admin panel, when creating a network and creating a subnet,\nthe tenant to which the network belongs and the tenant to which\nthe subnet belongs are inconsistent.\nThis patch uniform network and subnet tenant ID\n\nChange-Id: I3744d8b7a0a37918962c9d9a2ac319002de93851\nCloses-Bug: #1823627\n(cherry picked from commit 8de1e272f08bcc294b10ce548616f181ee7bc800)\n'}]",0,734043,32129b3a61f49e9f38f268761a10dae1fc86e7b1,9,5,1,29071,,,0,"Incoming tenant id when creating a subnet on create network form

On admin panel, when creating a network and creating a subnet,
the tenant to which the network belongs and the tenant to which
the subnet belongs are inconsistent.
This patch uniform network and subnet tenant ID

Change-Id: I3744d8b7a0a37918962c9d9a2ac319002de93851
Closes-Bug: #1823627
(cherry picked from commit 8de1e272f08bcc294b10ce548616f181ee7bc800)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/43/734043/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/networks/tests.py', 'openstack_dashboard/dashboards/admin/networks/tests.py', 'openstack_dashboard/dashboards/project/networks/workflows.py']",3,32129b3a61f49e9f38f268761a10dae1fc86e7b1,bug/1823627-stable/stein," subnet = self._create_subnet(request, data, network, no_redirect=True, tenant_id=network.tenant_id)"," subnet = self._create_subnet(request, data, network, no_redirect=True)",8,2
openstack%2Fcastellan~master~I25d7c93b1ed0d185e181acee7098f36654177b84,openstack/castellan,master,I25d7c93b1ed0d185e181acee7098f36654177b84,Update lower-constraints versions,MERGED,2020-06-10 14:58:18.000000000,2020-06-10 21:19:18.000000000,2020-06-10 21:17:37.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-06-10 14:58:18.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/castellan/commit/a7de07ca4ac78bd6aa95a7af08f361bfafcb8048', 'message': 'Update lower-constraints versions\n\nThis updates lower constraints to versions that will work with py38 so\nthat when we move to running on focal nodes, which has py38 as its\ndefault py3 runtime, the lower-constraints job will continue to pass.\n\nIt also cleans out some secondary requirements that are no longer needed\ndue to our direct dependencies being updated.\n\nLinters are removed that are kept in the global requirements blacklist\nas those are not version tracked and are not relevant for our\nlower-constraints unit test runs.\n\nChange-Id: I25d7c93b1ed0d185e181acee7098f36654177b84\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,734868,a7de07ca4ac78bd6aa95a7af08f361bfafcb8048,8,3,1,11904,,,0,"Update lower-constraints versions

This updates lower constraints to versions that will work with py38 so
that when we move to running on focal nodes, which has py38 as its
default py3 runtime, the lower-constraints job will continue to pass.

It also cleans out some secondary requirements that are no longer needed
due to our direct dependencies being updated.

Linters are removed that are kept in the global requirements blacklist
as those are not version tracked and are not relevant for our
lower-constraints unit test runs.

Change-Id: I25d7c93b1ed0d185e181acee7098f36654177b84
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/castellan refs/changes/68/734868/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,a7de07ca4ac78bd6aa95a7af08f361bfafcb8048,lower-constraints,certifi==2020.4.5.2 cffi==1.13.2 chardet==3.0.4entrypoints==0.3future==0.18.2six==1.15.0stevedore==1.20.0 testrepository==0.0.20urllib3==1.21.1 voluptuous==0.11.7,alabaster==0.7.10bandit==1.1.0 cffi==1.7.0docutils==0.11 dulwich==0.15.0flake8==2.5.5hacking==0.12.0imagesize==0.7.1Jinja2==2.10MarkupSafe==1.0 mccabe==0.2.1pep8==1.5.7pyflakes==0.8.1 Pygments==2.2.0snowballstemmer==1.2.1 stevedore==1.20.0,10,16
openstack%2Ftripleo-ansible~stable%2Ftrain~I34dd9121bbd650b79cb523e4dbed5949a0e7d52d,openstack/tripleo-ansible,stable/train,I34dd9121bbd650b79cb523e4dbed5949a0e7d52d,Preserve inode when updating /etc/hosts,MERGED,2020-06-10 13:47:49.000000000,2020-06-10 21:16:36.000000000,2020-06-10 21:16:36.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-10 13:47:49.000000000', 'files': ['tripleo_ansible/roles/tripleo-hosts-entries/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/34696209fda1a51e6d2f18b6439fd5451d9e59fb', 'message': 'Preserve inode when updating /etc/hosts\n\nContainers configured by tripleo bind-mount /etc/hosts directly,\nwhich means any change to that file has to preserve the original\ninode, otherwise the containers will get out of sync with the\nhost and will not see updates.\n\nChange tripleo_host_entries to not depend on atomic semantics of\nansible, which changes inodes on update. Instead, perform a\nnon-atomic update to preserve inodes, and rely on the retry\nlogics of openstack containers to recover from unexpected\nbehaviour in case /etc/hosts is consumed while it is being updated.\n\nCloses-Bug: #1882290\nChange-Id: I34dd9121bbd650b79cb523e4dbed5949a0e7d52d\n(cherry picked from commit 7761249774b8a6e9bebc60db69e0bc56ad9f7622)\n'}]",0,734843,34696209fda1a51e6d2f18b6439fd5451d9e59fb,8,4,1,20778,,,0,"Preserve inode when updating /etc/hosts

Containers configured by tripleo bind-mount /etc/hosts directly,
which means any change to that file has to preserve the original
inode, otherwise the containers will get out of sync with the
host and will not see updates.

Change tripleo_host_entries to not depend on atomic semantics of
ansible, which changes inodes on update. Instead, perform a
non-atomic update to preserve inodes, and rely on the retry
logics of openstack containers to recover from unexpected
behaviour in case /etc/hosts is consumed while it is being updated.

Closes-Bug: #1882290
Change-Id: I34dd9121bbd650b79cb523e4dbed5949a0e7d52d
(cherry picked from commit 7761249774b8a6e9bebc60db69e0bc56ad9f7622)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/43/734843/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-hosts-entries/tasks/main.yml'],1,34696209fda1a51e6d2f18b6439fd5451d9e59fb,etc-hosts-stable/train,"- name: Create temporary file for hosts become: true tempfile: state: file suffix: tmphosts register: tripleo_hosts_entries_tmp_hosts check_mode: false tags: - tripleo_hosts_entries - name: Prepare temporary /etc/hosts become: true copy: remote_src: true src: ""{{ tripleo_hosts_entries_hosts_path }}"" dest: ""{{ tripleo_hosts_entries_tmp_hosts.path }}"" mode: preserve tags: - tripleo_hosts_entries path: ""{{ tripleo_hosts_entries_tmp_hosts.path }}"" register: tripleo_hosts_entries_heat_marker- name: Prepare new /etc/hosts path: ""{{ tripleo_hosts_entries_tmp_hosts.path }}"" register: tripleo_hosts_entries_new_entries tags: - tripleo_hosts_entries - name: Update /etc/hosts contents (if changed) become: true # cp preserves the inode of the existing file tripleo_hosts_entries_hosts_path command: cp ""{{ tripleo_hosts_entries_tmp_hosts.path }}"" ""{{ tripleo_hosts_entries_hosts_path }}"" when: tripleo_hosts_entries_heat_marker.changed or tripleo_hosts_entries_new_entries.changed tags: - tripleo_hosts_entries - name: Clean up temporary hosts file file: path: ""{{ tripleo_hosts_entries_tmp_hosts.path }}"" state: absent when: tripleo_hosts_entries_tmp_hosts.path is defined"," path: ""{{ tripleo_hosts_entries_hosts_path }}""- name: Update /etc/hosts path: ""{{ tripleo_hosts_entries_hosts_path }}""",41,3
openstack%2Fopenstacksdk~master~Iaef2ff204c2e65feda8cf30c3e5497e22dc33059,openstack/openstacksdk,master,Iaef2ff204c2e65feda8cf30c3e5497e22dc33059,Do not clean keypairs in the project cleanup,MERGED,2020-06-08 06:51:41.000000000,2020-06-10 21:09:41.000000000,2020-06-10 21:07:58.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-08 06:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ff40b22aae165e036bf9b81f949179e8384168e4', 'message': 'Do not clean keypairs in the project cleanup\n\nWe can delete only keypairs of the user, which is invoking project\ncleanup, while others will remain. On the other hand we might also drop\nkeypairs, which are still active in other projects, since KP is not\nproject related, but user related.\n\nChange-Id: Iaef2ff204c2e65feda8cf30c3e5497e22dc33059\n'}, {'number': 2, 'created': '2020-06-08 11:56:37.000000000', 'files': ['openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8ce2b1c97deabd04143ae39b8f625dd760a17598', 'message': 'Do not clean keypairs in the project cleanup\n\nWe can delete only keypairs of the user, which is invoking project\ncleanup, while others will remain. On the other hand we might also drop\nkeypairs, which are still active in other projects, since KP is not\nproject related, but user related.\n\nChange-Id: Iaef2ff204c2e65feda8cf30c3e5497e22dc33059\n'}]",1,734019,8ce2b1c97deabd04143ae39b8f625dd760a17598,15,5,2,27900,,,0,"Do not clean keypairs in the project cleanup

We can delete only keypairs of the user, which is invoking project
cleanup, while others will remain. On the other hand we might also drop
keypairs, which are still active in other projects, since KP is not
project related, but user related.

Change-Id: Iaef2ff204c2e65feda8cf30c3e5497e22dc33059
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/19/734019/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/compute/v2/_proxy.py'],1,ff40b22aae165e036bf9b81f949179e8384168e4,project_cleanup, for obj in self.servers(): if status_queue: status_queue.put(obj) if not dry_run: self.delete_server(obj)," for obj in self.servers(details=False): self._service_cleanup_del_res(self.delete_server, obj, dry_run, status_queue) for obj in self.keypairs(): self._service_cleanup_del_res(self.delete_keypair, obj, dry_run, status_queue)",5,11
openstack%2Frequirements~master~I03d4e2cb87246fe867092dd4d95b2983b824b57a,openstack/requirements,master,I03d4e2cb87246fe867092dd4d95b2983b824b57a,Updated from generate-constraints,MERGED,2020-06-09 06:25:49.000000000,2020-06-10 20:52:25.000000000,2020-06-10 20:50:01.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 06:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a0352511a43b437de268dd00e48a8ee2fc976122', 'message': 'Updated from generate-constraints\n\nChange-Id: I03d4e2cb87246fe867092dd4d95b2983b824b57a\n'}, {'number': 2, 'created': '2020-06-09 22:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7b8cec9a5525a1804e4f6b3d040409dfbfd9b28d', 'message': 'Updated from generate-constraints\n\nChange-Id: I03d4e2cb87246fe867092dd4d95b2983b824b57a\n'}, {'number': 3, 'created': '2020-06-10 03:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/530f316432870f8e7eb0b9bcd310e99d09d62d25', 'message': 'Updated from generate-constraints\n\nChange-Id: I03d4e2cb87246fe867092dd4d95b2983b824b57a\n'}, {'number': 4, 'created': '2020-06-10 15:59:35.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/78205a1ee9369719f13171433d05757fd0170d42', 'message': 'Updated from generate-constraints\n\nheld back mock, msgpack and docutils\n\nChange-Id: I03d4e2cb87246fe867092dd4d95b2983b824b57a\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",1,734425,78205a1ee9369719f13171433d05757fd0170d42,19,3,4,11131,,,0,"Updated from generate-constraints

held back mock, msgpack and docutils

Change-Id: I03d4e2cb87246fe867092dd4d95b2983b824b57a
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/25/734425/4 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a0352511a43b437de268dd00e48a8ee2fc976122,openstack/requirements/constraints/noclob,certifi===2020.4.5.2google-api-core===1.19.1wcwidth===0.2.4ifaddr===0.1.7mock===4.0.2libvirt-python===6.4.0importlib-metadata===1.6.1docutils===0.16boto3===1.13.25msgpack===1.0.0 Sphinx===3.1.0botocore===1.16.25storops===1.2.5sortedcontainers===2.2.2,certifi===2020.4.5.1google-api-core===1.19.0wcwidth===0.2.3ifaddr===0.1.6mock===3.0.5libvirt-python===6.3.0importlib-metadata===1.6.0docutils===0.15.2boto3===1.13.23msgpack===0.6.1 Sphinx===3.0.4botocore===1.16.23storops===1.2.4sortedcontainers===2.1.0,14,14
openstack%2Fopenstack-helm-infra~master~I9ff79f98a0f1874411c0df19cb07b5473d82992a,openstack/openstack-helm-infra,master,I9ff79f98a0f1874411c0df19cb07b5473d82992a,Add 32GB nodeset definition,MERGED,2020-06-09 16:02:22.000000000,2020-06-10 20:29:37.000000000,2020-06-10 20:25:56.000000000,"[{'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 16:02:22.000000000', 'files': ['zuul.d/nodesets.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/377286efd833ceecb772c4484f8baf53b84cfe45', 'message': 'Add 32GB nodeset definition\n\nThis change defines the 32GB node option to be used in rare cases\nwhen a particular check requires more resources than a normal\nrun can provide.\n\nChange-Id: I9ff79f98a0f1874411c0df19cb07b5473d82992a\n'}]",0,734635,377286efd833ceecb772c4484f8baf53b84cfe45,9,4,1,21420,,,0,"Add 32GB nodeset definition

This change defines the 32GB node option to be used in rare cases
when a particular check requires more resources than a normal
run can provide.

Change-Id: I9ff79f98a0f1874411c0df19cb07b5473d82992a
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/35/734635/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/nodesets.yaml'],1,377286efd833ceecb772c4484f8baf53b84cfe45,add-32gb-nodeset, - nodeset: name: openstack-helm-single-32GB-node nodes: - name: primary label: ubuntu-bionic-32GB groups: - name: primary nodes: - primary,,10,0
openstack%2Foslo.cache~master~Iaa0f324c0a3ca3be1948452289f8989ba61a1543,openstack/oslo.cache,master,Iaa0f324c0a3ca3be1948452289f8989ba61a1543,Update lower-constraints versions,MERGED,2020-06-09 21:34:31.000000000,2020-06-10 19:58:58.000000000,2020-06-10 19:57:10.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-09 21:34:31.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/9b2da3c70f003561deaffb3aeb0c67a25a4e9877', 'message': 'Update lower-constraints versions\n\nThis updates lower constraints to versions that will work with py38 so\nthat when we move to running on focal nodes, which has py38 as its\ndefault py3 runtime, the lower-constraints job will continue to pass.\n\nIt also cleans out some secondary requirements that are no longer needed\ndue to our direct dependencies being updated.\n\nLinters are removed that are kept in the global requirements blacklist\nas those are not version tracked and are not relevant for our\nlower-constraints unit test runs.\n\nChange-Id: Iaa0f324c0a3ca3be1948452289f8989ba61a1543\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,734706,9b2da3c70f003561deaffb3aeb0c67a25a4e9877,9,3,1,11904,,,0,"Update lower-constraints versions

This updates lower constraints to versions that will work with py38 so
that when we move to running on focal nodes, which has py38 as its
default py3 runtime, the lower-constraints job will continue to pass.

It also cleans out some secondary requirements that are no longer needed
due to our direct dependencies being updated.

Linters are removed that are kept in the global requirements blacklist
as those are not version tracked and are not relevant for our
lower-constraints unit test runs.

Change-Id: Iaa0f324c0a3ca3be1948452289f8989ba61a1543
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/06/734706/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,9b2da3c70f003561deaffb3aeb0c67a25a4e9877,lower-constraints,cffi==1.13.1cliff==3.1.0 cmd2==0.8.9 debtcollector==2.1.0 decorator==4.4.2 dogpile.cache==0.9.2 entrypoints==0.3future==0.18.2 futurist==2.2.0mock==4.0.2msgpack==1.0.0netifaces==0.10.9oslo.config==8.1.0 oslo.context==3.1.0 oslo.i18n==5.0.0 oslo.log==4.2.1 oslo.serialization==3.2.0 oslo.utils==4.2.0prettytable==0.7.2pyperclip==1.8.0 python-dateutil==2.8.1pytz==2020.1rfc3986==1.4.0testrepository==0.0.20voluptuous==0.11.7 wcwidth==0.2.4 wrapt==1.12.1,Babel==2.5.3 bandit==1.1.0cffi==1.11.5click==6.7 daiquiri==1.3.0 debtcollector==1.19.0 dogpile.cache==0.6.2Jinja2==2.10MarkupSafe==1.0 monotonic==1.4msgpack==0.5.6netifaces==0.10.6 openstack-requirements==1.2.0oslo.config==5.2.0 oslo.context==2.20.0 oslo.i18n==3.15.3 oslo.log==3.36.0 oslo.serialization==2.25.0 oslo.utils==3.33.0packaging==17.1 Parsley==1.3psutil==5.4.3python-dateutil==2.7.0pytz==2018.3rfc3986==1.1.0wrapt==1.10.11,32,31
openstack%2Fopenstack-helm-infra~master~I879c8e0977c13fd98a3f1b49afa95176e4c5954b,openstack/openstack-helm-infra,master,I879c8e0977c13fd98a3f1b49afa95176e4c5954b,Create dbutils which will be used for database backup/restore.,ABANDONED,2020-06-02 10:51:21.000000000,2020-06-10 19:50:46.000000000,,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 18236}, {'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 23140}, {'_account_id': 24780}, {'_account_id': 30746}]","[{'number': 1, 'created': '2020-06-02 10:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4954e8cc0f41e444b5f96a7dcac4b0915c0641fe', 'message': '[WIP] Create dbutils which will be used for database backup/restore\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 2, 'created': '2020-06-02 11:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b92954e2693e1f41229d38d2d0537a9e61a35e49', 'message': '[WIP] Create dbutils which will be used for database backup/restore\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 3, 'created': '2020-06-02 11:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e5e0c61005bddcec00fa243955d2c66fe8a42b10', 'message': '[WIP] Create dbutils which will be used for database backup/restore\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 4, 'created': '2020-06-02 11:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/03b317bec2e804692183c5756dcb08d38c59a654', 'message': '[WIP] Create dbutils which will be used for database backup/restore\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 5, 'created': '2020-06-02 20:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/637e13634b641ee26bb5e34394c0641a78a79a3c', 'message': '[WIP] Create dbutils which will be used for database backup/restore\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 6, 'created': '2020-06-02 20:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/af572f7f8f1ebee608c2b0e795c6e9f38ba1bad1', 'message': '[WIP] Create dbutils which will be used for database backup/restore\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 7, 'created': '2020-06-02 23:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/afd7727c05267b26a6b5fc8a1659c27c0589e3c2', 'message': '[WIP] Create dbutils which will be used for database backup/restore\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 8, 'created': '2020-06-02 23:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cd25a55b473dcef39715e354588f00f4d51c81a2', 'message': '[WIP] Create dbutils which will be used for database backup/restore\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 9, 'created': '2020-06-03 05:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9100d6ba2be73200fab0c30d8f6bebe3805477fa', 'message': 'Create dbutils which will be used for database backup/restore as well as\nother database related utilites.\n\ndbutils will work along these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 10, 'created': '2020-06-03 06:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a72529f0f52353772e635396632aba997da81f9a', 'message': 'Create dbutils which will be used for database backup/restore as well as\nother database related utilites.\n\ndbutils will work along these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 11, 'created': '2020-06-03 14:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f4fdb36e2f079ad3a8a8cd45fb7202441f39bc56', 'message': 'Create dbutils which will be used for database backup/restore as well as\nother database related utilites.\n\ndbutils will work along these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 12, 'created': '2020-06-03 14:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d782fdf280f6a150241065f6aede99247a3ca759', 'message': 'Create dbutils which will be used for database backup/restore as well as\nother database related utilites.\n\ndbutils will work along these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 13, 'created': '2020-06-03 16:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eeab96ddbce538eb86d60216754fa7cd60620225', 'message': 'Create dbutils which will be used for database backup/restore as well as\nother database related utilites.\n\ndbutils will work along these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 14, 'created': '2020-06-03 18:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aabeef5035be12e159a550f22dedf3132a6fee9c', 'message': 'Create dbutils which will be used for database backup/restore as well as\nother database related utilites.\n\ndbutils will work along these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 15, 'created': '2020-06-03 19:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d43d5c91c4ad83ebeea1a597e6886a22dc7632d1', 'message': 'Create dbutils which will be used for database backup/restore as well as\nother database related utilites.\n\ndbutils will work along these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 16, 'created': '2020-06-03 21:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/978dda5b8769a83edbb53093df3c729dd73bbb18', 'message': 'Create dbutils which will be used for database backup/restore as well as\nother database related utilites.\n\ndbutils will work along these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 17, 'created': '2020-06-04 08:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f09904c34192b5a1c8c2f8ed1f6326940c362172', 'message': 'Create dbutils which will be used for database backup/restore as well as\nother database related utilites.\n\ndbutils will work along these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 18, 'created': '2020-06-04 08:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ae74f72ef3d93e1f47bd5ab34871866e32d559a8', 'message': 'Create dbutils which will be used for database backup/restore as well as\nother database related utilites.\n\ndbutils will work along these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 19, 'created': '2020-06-04 08:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c57773ebb19fc73f9bd7bb220c423cf6815509a6', 'message': 'Create dbutils which will be used for database backup/restore as well as\nother database related utilites.\n\ndbutils will work along these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 20, 'created': '2020-06-04 09:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7e134c1c6bffbeb391294a9cdb42128641506bfe', 'message': 'Create dbutils which will be used for database backup/restore as well as\nother database related utilites.\n\ndbutils will work along these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 21, 'created': '2020-06-04 09:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d106dcff17e22cc90ccee1e0a04106948c023827', 'message': 'Create dbutils which will be used for database backup/restore as well as\nother database related utilites.\n\ndbutils will work along these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 22, 'created': '2020-06-04 09:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0ea86a53d4ee01986077f79d4bbace82be1d91ba', 'message': 'Create dbutils which will be used for database backup/restore as well as\nother database related utilites.\n\ndbutils will work along these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 23, 'created': '2020-06-04 13:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1bdd7b56d318de04117fabdfb2ee77bc68c7989b', 'message': 'Create dbutils which will be used for database backup/restore as well as\nother database related utilites.\n\ndbutils will work along these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 24, 'created': '2020-06-04 14:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e97b1ae137830c102eb1e71f03e0243b0537e23b', 'message': 'Create dbutils which will be used for database backup/restore as well as\nother database related utilites.\n\ndbutils will work along these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 25, 'created': '2020-06-04 14:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b9b32f28329fa8ce28bd05742baa147d8c94583b', 'message': 'Create dbutils which will be used for database backup/restore as well as\nother database related utilites.\n\ndbutils will work along these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 26, 'created': '2020-06-04 15:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1cb36152cc29cae641a62bb08c148e37eb08c295', 'message': 'Create dbutils which will be used for database backup/restore as well as\nother database related utilites.\n\ndbutils will work along these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 27, 'created': '2020-06-07 01:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4097865e0220ad440c7516fa3104aae41e03ce01', 'message': 'Create dbutils which will be used for database backup/restore as well as\nother database related utilites.\n\ndbutils will work along these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 28, 'created': '2020-06-07 01:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8a22cd78a96612d3c463fa919299b73aaf7c535b', 'message': 'Create dbutils which will be used for database backup/restore as well as\nother database related utilites.\n\ndbutils will work along these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 29, 'created': '2020-06-08 07:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/84584cf6b5d4964e0bf31a09d88b3003287cc56e', 'message': 'Create dbutils which will be used for database backup/restore.\n\ndbutils will work alongside these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 30, 'created': '2020-06-08 07:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7d8591202334a6168ca40bdaba9ceb5b80b257dd', 'message': 'Create dbutils which will be used for database backup/restore.\n\ndbutils will work alongside these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 31, 'created': '2020-06-08 07:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5378a736858a3ed80c3c42661cc6b5da231abc7c', 'message': 'Create dbutils which will be used for database backup/restore.\n\ndbutils will work alongside these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 32, 'created': '2020-06-08 15:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a944d962c3c9e74c03df3b74dd85c18eb629fe9e', 'message': 'Create dbutils which will be used for database backup/restore.\n\ndbutils will work alongside these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 33, 'created': '2020-06-09 12:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1519fca66d6085395145f3d2a4a419f5d8f75dd8', 'message': 'Create dbutils which will be used for database backup/restore.\n\ndbutils will work alongside these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}, {'number': 34, 'created': '2020-06-09 15:21:43.000000000', 'files': ['helm-toolkit/templates/scripts/db-backup-restore/_dbutils.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/544b81843656eaed163ff4767f477eb8d1176daf', 'message': 'Create dbutils which will be used for database backup/restore.\n\ndbutils will work alongside these patchsets:\nPostgresql: https://review.opendev.org/#/c/729032/\nMariadb: https://review.opendev.org/#/c/725724/\nEtcd: https://review.opendev.org/#/c/729032/\n\nChange-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b\n'}]",69,732520,544b81843656eaed163ff4767f477eb8d1176daf,95,11,34,30746,,,0,"Create dbutils which will be used for database backup/restore.

dbutils will work alongside these patchsets:
Postgresql: https://review.opendev.org/#/c/729032/
Mariadb: https://review.opendev.org/#/c/725724/
Etcd: https://review.opendev.org/#/c/729032/

Change-Id: I879c8e0977c13fd98a3f1b49afa95176e4c5954b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/20/732520/1 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/scripts/db-backup-restore/_dbutils.tpl'],1,4954e8cc0f41e444b5f96a7dcac4b0915c0641fe,,"{{- define ""helm-toolkit.scripts.db-backup-restore.dbutils"" }} #!/bin/bash # This file contains database utility scripts which a user can execute # to perform database specific tasks such as backup, restore, and showing # tables. # # The user can execute this script by calling: # dbutils # # No arguments required. However the script will require the # following variables to be exported: # # export BACKUP_RESTORE_SCOPE The name of the DBMS being used (postgresql, mariadb, or etcd) # export BACKUP_RESTORE_NAMESPACE_LIST A comma deliminated list of the namespaces the databases can be found in # export DB_PODNAME The master pod which the script will connect to for all commands trap do_quit SIGINT SIGTERM SIGTSTP ARGS=(""$@"") {{- $envAll := . }} function setup() { if [[ ""$SCOPE"" == ""postgresql"" ]]; then export ONDEMAND_JOB=""postgresql-ondemand"" export DB_PODNAME=""postgresql-0"" export DB_SHORTNAME=""pg"" elif [[ ""$SCOPE"" == ""mysql"" || ""$SCOPE"" == ""mariadb"" ]]; then export SCOPE=""mariadb"" export ONDEMAND_JOB=""mariadb-ondemand"" export DB_PODNAME=""mariadb-server-0"" elif [[ ""$SCOPE"" == ""etcd"" ]]; then export SCOPE=""etcd"" export ONDEMAND_JOB=""etcd-ondemand"" else echo ""ERROR: Scope could not be determined"" return 1 fi return 0 } function auth() { echo ""Authentication is required in order to continue. Please enter your username and password."" read -r -p ""Enter Username: "" OS_USERNAME read -r -s -p ""Enter Password: "" OS_PASSWORD export OS_USERNAME export OS_PASSWORD return 0 } # Obtain a new keystone token function get_token() { return 0 } function check_args() { ARGS_COUNT=$1 ARGS_MIN=$2 ARGS_MAX=$3 ARGS_REMOTE=$4 export LOC_STRING=""local"" export LOCATION="""" if [[ $ARGS_COUNT -lt $ARGS_MIN ]]; then echo ""ERROR: not enough arguments"" help return 1 elif [[ $ARGS_COUNT -gt $ARGS_MAX ]]; then echo ""ERROR: too many arguments"" help return 1 elif [[ $ARGS_MIN -ne $ARGS_MAX && $ARGS_COUNT -eq $ARGS_MAX ]]; then if [[ ""$ARGS_REMOTE"" != ""remote"" ]]; then echo ""ERROR: invalid location: $ARGS_REMOTE"" help return 1 fi export LOC_STRING=""remote RGW"" export LOCATION=""remote"" fi } # Ensure that the ondemand pod is running function ensure_ondemand_pod_exists() { POD_LISTING=$(kubectl get pod -n ""$NAMESPACE"" | grep ""$ONDEMAND_JOB"") if [[ -z ""$POD_LISTING"" ]]; then echo ""Creating on-demand job in the $NAMESPACE namespace..."" /tmp/${DB_SHORTNAME}-ondemand-job.sh ""$NAMESPACE"" if [[ $? -ne 0 ]]; then return 1 fi fi STATUS=$(echo ""$POD_LISTING"" | awk '{print $3}') CONTAINERS=$(echo ""$POD_LISTING"" | awk '{print $2}') if [[ $STATUS != ""Running"" || $CONTAINERS != ""1/1"" ]]; then echo ""Found old on-demand job which is not running...killing it"" remove_job $ONDEMAND_JOB if [[ $? -ne 0 ]]; then return 1 fi echo ""Creating new on-demand job in the $NAMESPACE namespace..."" /tmp/${DB_SHORTNAME}-ondemand-job.sh ""$NAMESPACE"" if [[ $? -ne 0 ]]; then return 1 fi else # Pod is already running and ready return 0 fi # Wait for the job to be running wait_for_pod $ONDEMAND_JOB Running if [[ $? -ne 0 ]]; then return 1 fi return 0 } #Setup the NAMESPACE env, prompting the user to select if there are multiple function setup_namespace() { IFS=', ' read -r -a NAMESPACE_ARRAY <<< ""$NAMESPACE_LIST"" if [[ ${#NAMESPACE_ARRAY[@]} -gt 1 ]]; then echo ""Multiple namespaces detected, which namespace do you want to execute commands on?"" echo ""Available namespaces: ${NAMESPACE_ARRAY[*]}"" read -r NAMESPACE while [[ ""${NAMESPACE_ARRAY[@]}"" =~ ""$NAMESPACE"" ]] do echo ""Please reenter"" read -r NAMESPACE done else NAMESPACE=${NAMESPACE_ARRAY[0]} fi } # Wait for a pod to enter a specific state function wait_for_pod() { POD=$1 TARGET_STATE=$2 CONTAINER_STATE=${3:-""1/1""} TIMEOUT=${4:-300} DONE=false SLEEP=5 TIMEOUT_EXP=$(( $(date +%s) + TIMEOUT )) while [[ $DONE == ""false"" ]]; do POD_LISTING=$(kubectl get pod -n ""$NAMESPACE"" | grep ""$POD"") STATUS=$(echo ""$POD_LISTING"" | awk '{print $3}') CONTAINERS=$(echo ""$POD_LISTING"" | awk '{print $2}') DELTA=$(( TIMEOUT_EXP - $(date +%s) )) if [[ $STATUS == ""$TARGET_STATE"" ]]; then if [[ $TARGET_STATE == ""Running"" ]]; then if [[ $CONTAINERS == ""$CONTAINER_STATE"" ]]; then DONE=true fi else DONE=true fi elif [[ $DELTA -lt 0 ]]; then DONE=true echo ""ERROR: timed out waiting on $NAMESPACE pod $POD to become $TARGET_STATE"" return 1 else sleep $SLEEP fi done return 0 } function wait_for_pod_death() { POD=$1 TIMEOUT=${2:-300} DONE=false SLEEP=5 TIMEOUT_EXP=$(( $(date +%s) + TIMEOUT )) while [[ $DONE == ""false"" ]]; do POD_LISTING=$(kubectl get pod -n ""$NAMESPACE"" | grep ""$POD"") DELTA=$(( TIMEOUT_EXP - $(date +%s) )) if [[ $POD_LISTING == """" ]]; then DONE=true elif [[ $DELTA -lt 0 ]]; then DONE=true echo ""ERROR: timed out waiting on pod $POD to die."" return 1 else sleep $SLEEP fi done return 0 } function pod_name() { JOB=$1 # There should only be one matching pod POD=$(kubectl get pods -n ""$NAMESPACE"" | grep ""$JOB"" | awk '{print $1}') echo ""$POD"" } function remove_job() { JOB=$1 # Cleanup the last attempted job if there is one kubectl get job -n ""$NAMESPACE"" ""$JOB"" 2>/dev/null if [[ $? -eq 0 ]]; then kubectl delete job -n ""$NAMESPACE"" ""$JOB"" wait_for_pod_death ""$JOB"" if [[ $? -ne 0 ]]; then echo ""ERROR: could not destroy the $NAMESPACE $JOB job."" return 1 fi fi } function do_backup() { setup_namespace # Be sure that an ondemand pod is ready (start if not started) ensure_ondemand_pod_exists if [[ $? -ne 0 ]]; then return 1 fi POD=$(pod_name ""$ONDEMAND_JOB"") # Execute the command in the on-demand pod kubectl exec -i -n ""$NAMESPACE"" ""$POD"" -- /tmp/backup_${SCOPE}.sh } # Params: [remote] function do_list_archives() { LIST_ARGS=(""$@"") check_args ""${#LIST_ARGS[@]}"" 1 2 ""${LIST_ARGS[-1]}"" if [[ $? -ne 0 ]]; then return 1 fi setup_namespace # Be sure that an ondemand pod is ready (start if not started) ensure_ondemand_pod_exists if [[ $? -ne 0 ]]; then return 1 fi POD=$(pod_name $ONDEMAND_JOB) # Execute the command in the on-demand pod kubectl exec -i -n ""$NAMESPACE"" ""$POD"" -- /tmp/restore_""${SCOPE}"".sh list_archives ""$LOCATION"" } # Params: <archive> [remote] function do_list_databases() { if [[ ""$SCOPE"" == ""etcd"" ]]; then echo ""$FUNCNAME is not available for $SCOPE databases."" return 1 fi LIST_ARGS=(""$@"") check_args ""${#LIST_ARGS[@]}"" 2 3 ""${LIST_ARGS[-1]}"" if [[ $? -ne 0 ]]; then return 1 fi setup_namespace ARCHIVE=${LIST_ARGS[1]} # Be sure that an ondemand pod is ready (start if not started) ensure_ondemand_pod_exists if [[ $? -ne 0 ]]; then return 1 fi POD=$(pod_name $ONDEMAND_JOB) # Execute the command in the on-demand pod kubectl exec -i -n ""$NAMESPACE"" ""$POD"" -- /tmp/restore_${SCOPE}.sh list_databases ""$ARCHIVE"" ""$LOCATION"" } # Params: <archive> <database> [remote] function do_list_tables() { if [[ ""$SCOPE"" == ""etcd"" ]]; then echo ""$FUNCNAME is not available for $SCOPE databases."" return 1 fi LIST_ARGS=(""$@"") check_args ""${#LIST_ARGS[@]}"" 3 4 ""${LIST_ARGS[-1]}"" if [[ $? -ne 0 ]]; then return 1 fi setup_namespace ARCHIVE=${LIST_ARGS[1]} DATABASE=${LIST_ARGS[2]} # Be sure that an ondemand pod is ready (start if not started) ensure_ondemand_pod_exists if [[ $? -ne 0 ]]; then return 1 fi POD=$(pod_name $ONDEMAND_JOB) # Execute the command in the on-demand pod kubectl exec -i -n ""$NAMESPACE"" ""$POD"" -- /tmp/restore_${SCOPE}.sh list_tables ""$ARCHIVE"" ""$DATABASE"" ""$LOCATION"" } # Params: <archive> <database> <table> [remote] function do_list_rows() { if [[ ""$SCOPE"" == ""etcd"" ]]; then echo ""$FUNCNAME is not available for $SCOPE databases."" return 1 fi LIST_ARGS=(""$@"") check_args ""${#LIST_ARGS[@]}"" 4 5 ""${LIST_ARGS[-1]}"" if [[ $? -ne 0 ]]; then return 1 fi setup_namespace ARCHIVE=${LIST_ARGS[1]} DATABASE=${LIST_ARGS[2]} TABLE=${LIST_ARGS[3]} # Be sure that an ondemand pod is ready (start if not started) ensure_ondemand_pod_exists if [[ $? -ne 0 ]]; then return 1 fi POD=$(pod_name $ONDEMAND_JOB) # Execute the command in the on-demand pod kubectl exec -i -n ""$NAMESPACE"" ""$POD"" -- /tmp/restore_${SCOPE}.sh list_rows ""$ARCHIVE"" ""$DATABASE"" ""$TABLE"" ""$LOCATION"" } # Params: <archive> <database> <table> [remote] function do_list_schema() { if [[ ""$SCOPE"" == ""etcd"" ]]; then echo ""$FUNCNAME is not available for $SCOPE databases."" return 1 fi LIST_ARGS=(""$@"") check_args ""${#LIST_ARGS[@]}"" 4 5 ""${LIST_ARGS[-1]}"" if [[ $? -ne 0 ]]; then return 1 fi setup_namespace ARCHIVE=${LIST_ARGS[1]} DATABASE=${LIST_ARGS[2]} TABLE=${LIST_ARGS[3]} # Be sure that an ondemand pod is ready (start if not started) ensure_ondemand_pod_exists if [[ $? -ne 0 ]]; then return 1 fi POD=$(pod_name $ONDEMAND_JOB) # Execute the command in the on-demand pod kubectl exec -i -n ""$NAMESPACE"" ""$POD"" -- /tmp/restore_${SCOPE}.sh list_schema ""$ARCHIVE"" ""$DATABASE"" ""$TABLE"" ""$LOCATION"" } function database_cmd() { if [[ ""$SCOPE"" == ""postgresql"" ]]; then get_postgres_password() { PW=$(kubectl get secret -n ""$NAMESPACE"" postgresql-admin -o yaml | grep POSTGRES_PASSWORD | awk '{print $2}' | base64 -d) echo ""$PW"" } POSTGRES_PWD=$(get_postgres_password) POSTGRES_CREDS=""postgresql://postgres:${POSTGRES_PWD}@postgresql.${NAMESPACE}.svc.cluster.local?sslmode=disable"" SQL_CMD=""PGPASSWORD=password psql \""$POSTGRES_CREDS\"""" elif [[ ""$SCOPE"" == ""mariadb"" ]]; then SQL_CMD="""" fi echo $SQL_CMD } function do_show_databases() { if [[ ""$SCOPE"" == ""etcd"" ]]; then echo ""$FUNCNAME is not available for $SCOPE databases."" return 1 fi LIST_ARGS=(""$@"") check_args ""${#LIST_ARGS[@]}"" 1 1 ""${LIST_ARGS[-1]}"" if [[ $? -ne 0 ]]; then return 1 fi setup_namespace DB_CMD=$(database_cmd) kubectl exec -it -n ""$NAMESPACE"" ""$DB_PODNAME"" -- /bin/bash -c ""${DB_CMD} << EOF \l EOF"" } #Params: <database> function do_show_tables() { if [[ ""$SCOPE"" == ""etcd"" ]]; then echo ""$FUNCNAME is not available for $SCOPE databases."" return 1 fi LIST_ARGS=(""$@"") check_args ""${#LIST_ARGS[@]}"" 2 2 ""${LIST_ARGS[-1]}"" if [[ $? -ne 0 ]]; then return 1 fi setup_namespace DATABASE=${LIST_ARGS[1]} DB_CMD=$(database_cmd) kubectl exec -it -n ""$NAMESPACE"" ""$DB_PODNAME"" -- /bin/bash -c ""${DB_CMD} << EOF \connect ${DATABASE}; \dt EOF"" } # Params: <database> <table> function do_show_rows() { if [[ ""$SCOPE"" == ""etcd"" ]]; then echo ""$FUNCNAME is not available for $SCOPE databases."" return 1 fi LIST_ARGS=(""$@"") check_args ""${#LIST_ARGS[@]}"" 3 3 ""${LIST_ARGS[-1]}"" if [[ $? -ne 0 ]]; then return 1 fi setup_namespace DATABASE=${LIST_ARGS[1]} TABLE=${LIST_ARGS[2]} DB_CMD=$(database_cmd) kubectl exec -it -n ""${NAMESPACE}"" ""$DB_PODNAME"" -- /bin/bash -c ""${DB_CMD} << EOF \connect ${DATABASE}; SELECT * FROM ${TABLE}; EOF"" } # Params: <database> <table> function do_show_schema() { if [[ ""$SCOPE"" == ""etcd"" ]]; then echo ""$FUNCNAME is not available for $SCOPE databases."" return 1 fi LIST_ARGS=(""$@"") check_args ""${#LIST_ARGS[@]}"" 3 3 ""${LIST_ARGS[-1]}"" if [[ $? -ne 0 ]]; then return 1 fi setup_namespace if [[ ${#LIST_ARGS[@]} -lt 3 ]]; then echo ""ERROR: not enough arguments"" help return 1 elif [[ ${#LIST_ARGS[@]} -gt 3 ]]; then echo ""ERROR: too many arguments"" help return 1 fi DATABASE=${LIST_ARGS[1]} TABLE=${LIST_ARGS[2]} DB_CMD=$(database_cmd) kubectl exec -it -n ""$NAMESPACE"" ""$DB_PODNAME"" -- /bin/bash -c ""${DB_CMD} << EOF \connect ${DATABASE}; \d ${TABLE}; EOF"" } # Params: <archive> <db_name> [remote] function do_restore() { RESTORE_ARGS=(""$@"") check_args ""${#RESTORE_ARGS[@]}"" 3 4 ""${RESTORE_ARGS[-1]}"" if [[ $? -ne 0 ]]; then return 1 fi setup_namespace ARCHIVE=${RESTORE_ARGS[1]} DATABASE=${RESTORE_ARGS[2]} # Be sure that an ondemand pod is ready (start if not started) ensure_ondemand_pod_exists if [[ $? -ne 0 ]]; then return 1 fi POD=$(pod_name $ONDEMAND_JOB) # Execute the command in the on-demand pod kubectl exec -i -n ""$NAMESPACE"" ""$POD"" -- /tmp/restore_${SCOPE}.sh restore ""$ARCHIVE"" ""$DATABASE"" ""$LOCATION"" } function do_cleanup() { setup_namespace echo ""Removing on-demand job ${NAMESPACE} $ONDEMAND_JOB"" remove_job $ONDEMAND_JOB if [[ $? -ne 0 ]]; then return 1 fi echo ""Cleanup complete."" } function help() { echo ""Usage:"" echo "" utilscli dbutils backup"" echo "" Performs a manual backup of all databases within $SCOPE"" echo """" echo "" utilscli dbutils list_archives [remote]"" echo "" Retrieves the list of archives, either locally (no 'remote'"" echo "" flag) or from the remote RGW (using 'remote' flag)."" echo """" echo "" utilscli dbutils list_databases <archive> [remote]"" echo "" Retrieves the list of databases contained within the given"" echo "" archive tarball. The 'remote' flag is used to retrieve the"" echo "" archive from the remote RGW; otherwise the database list"" echo "" will be retrieved from the archive on the local filesystem."" echo """" echo "" utilscli dbutils list_tables <archive> <database> [remote]"" echo "" Retrieves the list of tables contained within the given"" echo "" database from the given archive tarball. The 'remote' flag"" echo "" is used to retrieve the archive from the remote RGW;"" echo "" otherwise the table list will be retrieved from the archive"" echo "" on the local filesystem."" echo """" echo "" utilscli dbutils list_rows <archive> <database> <table> [remote]"" echo "" Retrieves the list of rows in the given table contained"" echo "" within the given database from the given archive tarball."" echo "" The 'remote' flag is used to retrieve the archive from the"" echo "" remote RGW; otherwise the table rows will be retrieved from"" echo "" the archive on the local filesystem."" echo """" echo "" utilscli dbutils show_databases"" echo "" Retrieves the list of databases in the currently active"" echo "" $SCOPE database system."" echo """" echo "" utilscli dbutils show_tables <database>"" echo "" Retrieves the list of tables of the given database in the"" echo "" currently active $SCOPE database system."" echo """" echo "" utilscli dbutils show_rows <database> <table>"" echo "" Retrieves the list of rows in the given table of the given"" echo "" database from the currently active $SCOPE database system."" echo """" echo "" utilscli dbutils show_schema <database> <table>"" echo "" Retrieves the table schema information for the given table"" echo "" of the given database from the currently active $SCOPE"" echo "" database system."" echo """" echo "" utilscli dbutils restore <archive> <db_name> [remote]"" echo "" where <db_name> can be either a database name or 'all', which"" echo "" means all databases are to be restored"" echo "" Restores the specified database(s) from an archive located"" echo "" on either the remote RGW ('remote' flag specified) or from"" echo "" the local filesystem (no 'remote' flag)"" echo """" echo "" utilscli dbutils cleanup"" echo "" Cleans up (kills) any jobs/pods which are left running."" } function do_quit() { do_cleanup exit 0 } function main() { auth #AUTHRESULT=$? while [ AUTHRESULT -ne 0 ] do echo ""An error occured in authentication. Please try again."" auth AUTHRESULT=$? done while [[ ${ARGS[0]} != ""quit"" && ${ARGS[0]} != ""q"" ]] do read -rp ""Please select from the available options:"" ARGS echo ""${ARGS[*]}"" case ""${ARGS[0]}"" in ""backup"") do_backup;; ""list_archives"") do_list_archives ""${ARGS[@]}"";; ""list_databases"") do_list_databases ""${ARGS[@]}"";; ""list_tables"") do_list_tables ""${ARGS[@]}"";; ""list_rows"") do_list_rows ""${ARGS[@]}"";; ""show_databases"") do_show_databases ""${ARGS[@]}"";; ""show_tables"") do_show_tables ""${ARGS[@]}"";; ""show_rows"") do_show_rows ""${ARGS[@]}"";; ""show_schema"") do_show_schema ""${ARGS[@]}"";; ""restore"") do_restore ""${ARGS[@]}"";; ""cleanup"") do_cleanup ""${ARGS[@]}"";; ""quit"") do_quit;; ""q"") do_quit;; *) help;; esac done } # Begin program setup if [[ $? -ne 0 ]]; then exit fi main ",,685,0
openstack%2Fhorizon~master~I50970073b081987a8796ac40c2b4f9d9b44fc381,openstack/horizon,master,I50970073b081987a8796ac40c2b4f9d9b44fc381,Imported Translations from Zanata,MERGED,2020-05-29 06:51:48.000000000,2020-06-10 19:49:47.000000000,2020-06-10 19:47:43.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 06:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/188bbb315d99bb73f1bfeaa2f845323c2867ab42', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I50970073b081987a8796ac40c2b4f9d9b44fc381\n'}, {'number': 2, 'created': '2020-06-03 06:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5f2f616d41fffa6c3a6567cb091624aeeac39251', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I50970073b081987a8796ac40c2b4f9d9b44fc381\n'}, {'number': 3, 'created': '2020-06-04 07:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/385233099cdb7ade3c1532708dae287448547c9c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I50970073b081987a8796ac40c2b4f9d9b44fc381\n'}, {'number': 4, 'created': '2020-06-05 07:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/03f63cd30919d1d66acb894209b98fd6ca2d5e5b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I50970073b081987a8796ac40c2b4f9d9b44fc381\n'}, {'number': 5, 'created': '2020-06-09 07:27:04.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'horizon/locale/en_GB/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/dd62fd386e0899ff84cdf9418c63f98caf66cf33', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I50970073b081987a8796ac40c2b4f9d9b44fc381\n'}]",0,731666,dd62fd386e0899ff84cdf9418c63f98caf66cf33,15,2,5,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I50970073b081987a8796ac40c2b4f9d9b44fc381
",git fetch https://review.opendev.org/openstack/horizon refs/changes/66/731666/4 && git format-patch -1 --stdout FETCH_HEAD,['horizon/locale/en_GB/LC_MESSAGES/django.po'],1,188bbb315d99bb73f1bfeaa2f845323c2867ab42,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2020. #zanata""POT-Creation-Date: 2020-05-28 19:35+0000\n""""PO-Revision-Date: 2020-05-28 11:04+0000\n""msgid ""&laquo;&laquo;&nbsp;First"" msgstr ""&laquo;&laquo;&nbsp;First"" msgid ""&laquo;&nbsp;Prev&nbsp;"" msgstr ""&laquo;&nbsp;Prev&nbsp;"" msgid ""Last&nbsp;&raquo;&raquo;"" msgstr ""Last&nbsp;&raquo;&raquo;"" ","""POT-Creation-Date: 2020-01-08 17:19+0000\n""""PO-Revision-Date: 2019-11-14 11:13+0000\n""",12,2
openstack%2Fopenstack-ansible~stable%2Fstein~I8db8e1d3f8a05b10848e189ca03a65de45354d7b,openstack/openstack-ansible,stable/stein,I8db8e1d3f8a05b10848e189ca03a65de45354d7b,Rewrite CI provided apt sources to be http instead of https on bionic,MERGED,2020-05-31 19:19:12.000000000,2020-06-10 19:49:12.000000000,2020-06-10 19:43:31.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-05-31 19:19:12.000000000', 'files': ['zuul.d/playbooks/pre-gate-cleanup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1c10c8303d35f0c99f32f57e34589cc783d6fac1', 'message': 'Rewrite CI provided apt sources to be http instead of https on bionic\n\nCauses failure during LXC cache prep as the base image does not contain\nca-certificates and fails to apt-update.\n\nChange-Id: I8db8e1d3f8a05b10848e189ca03a65de45354d7b\n'}]",0,732064,1c10c8303d35f0c99f32f57e34589cc783d6fac1,8,3,1,28619,,,0,"Rewrite CI provided apt sources to be http instead of https on bionic

Causes failure during LXC cache prep as the base image does not contain
ca-certificates and fails to apt-update.

Change-Id: I8db8e1d3f8a05b10848e189ca03a65de45354d7b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/64/732064/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/playbooks/pre-gate-cleanup.yml'],1,1c10c8303d35f0c99f32f57e34589cc783d6fac1,," - name: Switch apt source from https to http replace: path: /etc/apt/sources.list regexp: 'https' replace: ""http"" when: - ansible_distribution_release in ['bionic'] ",,8,0
openstack%2Foslo.config~master~Ied58e8aeb700c15354f1c040b2623f498d636061,openstack/oslo.config,master,Ied58e8aeb700c15354f1c040b2623f498d636061,Update lower-constraints versions,MERGED,2020-06-09 21:49:37.000000000,2020-06-10 19:42:10.000000000,2020-06-10 19:39:36.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-09 21:49:37.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/04d5280c3d90ca6f8d495c945143c5f2858024a1', 'message': 'Update lower-constraints versions\n\nThis updates lower constraints to versions that will work with py38 so\nthat when we move to running on focal nodes, which has py38 as its\ndefault py3 runtime, the lower-constraints job will continue to pass.\n\nIt also cleans out some secondary requirements that are no longer needed\ndue to our direct dependencies being updated.\n\nLinters are removed that are kept in the global requirements blacklist\nas those are not version tracked and are not relevant for our\nlower-constraints unit test runs.\n\nChange-Id: Ied58e8aeb700c15354f1c040b2623f498d636061\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,734710,04d5280c3d90ca6f8d495c945143c5f2858024a1,8,3,1,11904,,,0,"Update lower-constraints versions

This updates lower constraints to versions that will work with py38 so
that when we move to running on focal nodes, which has py38 as its
default py3 runtime, the lower-constraints job will continue to pass.

It also cleans out some secondary requirements that are no longer needed
due to our direct dependencies being updated.

Linters are removed that are kept in the global requirements blacklist
as those are not version tracked and are not relevant for our
lower-constraints unit test runs.

Change-Id: Ied58e8aeb700c15354f1c040b2623f498d636061
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/10/734710/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,04d5280c3d90ca6f8d495c945143c5f2858024a1,lower-constraints,certifi==2020.4.5.2 chardet==3.0.4 cliff==3.1.0 cmd2==0.8.9doc8==0.8.1entrypoints==0.3future==0.18.2idna==2.5mock==4.0.2 monotonic==1.5msgpack==1.0.0mypy-extensions==0.4.3netifaces==0.10.9oslo.context==3.1.0oslo.serialization==3.2.0 oslo.utils==4.2.0packaging==20.4prettytable==0.7.2pyinotify==0.9.6 pyparsing==2.4.7 pyperclip==1.8.0 python-dateutil==2.8.1requests-mock==1.5.0restructuredtext-lint==1.3.1six==1.15.0sphinxcontrib-apidoc==0.3.0testrepository==0.0.20typed-ast==1.4.1 typing-extensions==3.7.4.2urllib3==1.21.1 voluptuous==0.11.7 wcwidth==0.2.4,bandit==1.4.0requests_mock==1.5.0,32,2
openstack%2Fopenstack-helm-images~master~I9f6ed6f286a50a70380625411b8447709bc64d42,openstack/openstack-helm-images,master,I9f6ed6f286a50a70380625411b8447709bc64d42,Change kubectl binary to kubernetes library,MERGED,2020-03-12 22:10:30.000000000,2020-06-10 19:33:43.000000000,2020-06-10 19:30:04.000000000,"[{'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-12 22:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0dcec6ba51da82e1d1bc855aff8bd0cc4ef11ce3', 'message': 'Change kubectl binary to kubernetes library\n\nChange-Id: I9f6ed6f286a50a70380625411b8447709bc64d42\n'}, {'number': 2, 'created': '2020-03-13 16:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f563737fa15e2a3813b535ea61cf867c99cda750', 'message': 'Change kubectl binary to kubernetes library\n\nChange-Id: I9f6ed6f286a50a70380625411b8447709bc64d42\n'}, {'number': 3, 'created': '2020-03-20 17:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/83d0ffeb681f9da0f6ce7d5f2ff44d24a21f36a5', 'message': 'Change kubectl binary to kubernetes library\n\nChange-Id: I9f6ed6f286a50a70380625411b8447709bc64d42\n'}, {'number': 4, 'created': '2020-03-20 17:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/05a10a038e91aac30cd551f24880dde78f687a0d', 'message': 'Change kubectl binary to kubernetes library\n\nChange-Id: I9f6ed6f286a50a70380625411b8447709bc64d42\n'}, {'number': 5, 'created': '2020-03-20 17:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4e1517c65d43a300e56efc422f5603e36ca5d04b', 'message': 'Change kubectl binary to kubernetes library\n\nChange-Id: I9f6ed6f286a50a70380625411b8447709bc64d42\n'}, {'number': 6, 'created': '2020-03-20 20:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/41fffda9bb140160694a269adcf963ce96fb6cbf', 'message': 'Change kubectl binary to kubernetes library\n\nChange-Id: I9f6ed6f286a50a70380625411b8447709bc64d42\n'}, {'number': 7, 'created': '2020-06-09 13:56:30.000000000', 'files': ['nagios/plugins/pvc_pv_rbd_monitoring.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/b0746f732b7120e05a15b3e9e8d186d07cb941c5', 'message': 'Change kubectl binary to kubernetes library\n\nChange-Id: I9f6ed6f286a50a70380625411b8447709bc64d42\n'}]",0,712808,b0746f732b7120e05a15b3e9e8d186d07cb941c5,21,5,7,10108,,,0,"Change kubectl binary to kubernetes library

Change-Id: I9f6ed6f286a50a70380625411b8447709bc64d42
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/08/712808/3 && git format-patch -1 --stdout FETCH_HEAD,['nagios/plugins/pvc_pv_rbd_monitoring.py'],1,0dcec6ba51da82e1d1bc855aff8bd0cc4ef11ce3,,"#!/usr/bin/env pythonimport astfrom kubernetes import client from kubernetes import config from kubernetes.client.rest import ApiException from kubernetes.stream import stream def get_pod_list(api_instance): """""" get list of all pods in all namespaces """""" # Configs can be set in Configuration class directly or using helper utility logger.debug(""Listing pods:"") try: pod_list = api_instance.list_pod_for_all_namespaces(pretty='false', timeout_seconds=60) except ApiException as e: logger.error(""Exception when calling CoreV1Api->list_pods: %s\n"" % e) return pod_list.items def get_name_and_namespace(resource_list): logger.debug(""Getting resource names in all namespaces"") for item in resource_list: podnames.append({""name"":item.metadata.name, ""namespace"":item.metadata.namespace}) except ApiException as e: print(""Exception when calling CoreV1Api->list_node: %s\n"" % e)def exec_command(api_instance, name, namespace, exec_command): """""" execute command inside pod """""" resp = None try: resp = api_instance.read_namespaced_pod(name=name, namespace=namespace) except ApiException as e: if e.status != 404: logger.error(""Unknown error: %s"" % e) exit(1) # Calling exec and waiting for response resp = stream(api_instance.connect_get_namespaced_pod_exec, name, namespace, command=exec_command, stderr=True, stdin=False, stdout=True, tty=False) return resp def get_pvc_list(api_instance): logger.debug(""Listing pvc:"") ret = api_instance.list_persistent_volume_claim_for_all_namespaces() return ret.items def get_pv_list(api_instance): logger.debug(""Listing pv:"") ret = api_instance.list_persistent_volume() return ret.items def get_list_namespaces(api_instance): # Configs can be set in Configuration class directly or using helper utility ret = api_instance.list_namespace() return ret.items def get_rbd_list(api_instance): """""" return list of rbd in json format """""" logger.debug(""Getting list of rbd"") ceph_mon = api_instance.list_pod_for_all_namespaces(label_selector=""application=ceph,component=mon,release_group=clcp-ucp-ceph-mon"", limit=1) ceph_pod = get_name_and_namespace(ceph_mon.items) command = [ ""rbd"", ""ls"", ""--format"", ""json""] rbd_list_str = exec_command(api_instance, ceph_pod[0]['name'], ceph_pod[0]['namespace'], command) rbd_list = ast.literal_eval(rbd_list_str) # rbd = rbd_list_str[1:-1].split(',') # rbd_list = [] # for i in rbd: # rbd_list.append(i[2:-1].replace(""'"", '')) return rbd_list def check_rbd_status(api_instance, rbd): ceph_mon = api_instance.list_pod_for_all_namespaces(label_selector=""application=ceph,component=mon,release_group=clcp-ucp-ceph-mon"", limit=1) ceph_pod = get_name_and_namespace(ceph_mon.items) command = [""rbd"", ""status"", ""--format"", ""json"", ""{rbd}"".format(rbd=rbd)] rbd_status_str = exec_command(api_instance, ceph_pod[0]['name'], ceph_pod[0]['namespace'], command) status = ast.literal_eval(rbd_status_str) rbd_status = json.dumps(status) return rbd_status def monitoring_pvc(api_instance): logger.debug(""PVCs aren't associated with RBD"") rbds = get_rbd_list(api_instance) pvs = get_pv_list(api_instance) for pv in pvs: rbd = pv.spec.rbd.image if rbd not in rbds: print (""pvc_doesnot_have_rbd:{{namespace={},name={}}} 0"".format(ns, pv['metadata']['name'])) def monitoring_rbd(api_instance): logger.debug(""RBD volumes aren't associated with PVC"") r = get_rbd_list(api_instance) pvs = get_pv_list(api_instance) for pv in pvs: rbd = pv.spec.rbd.image rbds.append(rbd) logger.debug(rbd) logger.debug(""rbd {i} not in pv list"".format(i=i)) print (""rbd_doesnot_have_pvc:{{name={}}} {}"".format(i, len(json.loads(check_rbd_status(api_instance,i))['watchers']))) def monitoring_pv(api_instance): logger.debug(""PVs aren't associated with PVC "") pvs = get_pv_list(api_instance) for pv in pvs: if pv.status.phase == ""Released"": print (""pv_released:{{name={},status={}}} 0"".format(pv.metadatai.name, pv.status.phase)) monitoring_rbd() monitoring_pvc() # monitoring_pv() config.load_kube_config() kube_api = client.CoreV1Api() logger.debug(""all"") monitoring() if options.rbd: logger.debug(""rbd"") monitoring_rbd(kube_api) if options.pvc: logger.debug(""pvc"") monitoring_pvc(kube_api) if options.pv: logger.debug(""pv"") monitoring_pv(kube_api) sys.exit(1)","#!/usr/bin/env python3 # need to export path to configuration file. should work faster if os.environ[""KUBECONFIG""] !="""": CONFIG = ""KUBECONFIG={}"".format(os.environ[""KUBECONFIG""]) else: CONFIG = ""KUBECONFIG=/etc/kubernetes/admin/kubeconfig.yaml"" if os.environ[""KUBECTL""] != """": KUBECTL = os.environ[""KUBECTL""] else: KUBECTL = ""/usr/local/bin/kubectl"" OPTIONS = { 'read': ""-o json"", 'ns': ""-n"", 'exec': """" }kubectl = ""{config} {kubectl} {options} {namespace}"".format(config=CONFIG, kubectl=KUBECTL, namespace=OPTIONS[""ns""], options=OPTIONS[""read""]) kubectl_exec = ""{config} {kubectl} {options} {namespace}"".format(config=CONFIG, kubectl=KUBECTL, namespace=OPTIONS[""ns""], options=OPTIONS[""exec""]) OK = 0 # 0 - Service is OK WARNING = 1 # 1 - Service has a WARNING. CRITICAL = 2 # 2 - Service is in a CRITICAL status. UNKNOWN = 3 # 3 - Service status is UNKNOWN # configuration options g.add_argument(""--bin"", ""-e"", action=""store_const"", const=KUBECTL, help=""path to kubecl binary"") g.add_argument(""--config"", ""-c"", action=""store_const"", const=CONFIG, help=""path to kubecl config"") def get_podname(label, namespace): logger.debug(""Getting pod names with labels {label} in namespcae {namespace}"".format(label=label, namespace=namespace)) command = ""{command} {namespace} get pods -l {label}"".format(command=kubectl, namespace=namespace, label=label) logger.debug(command) try: output = run_command(command) except Exception as e: logger.error(""Getting pod names for labels {label} in namespace {namespace}"".format(label=label, namespace=namespace)) sys.exit(1) out = json.loads(output) for item in out[""items""]: if item['kind'] == ""Pod"": podnames.append(item['metadata']['name']) except Exception as e: sys.exit(1) def run_command(command): """""" run command in linux shell and return a result """""" try: result = subprocess.check_output(command, shell=True).strip().decode('utf-8') except Exception as e: logger.error(e) sys.exit(1) return result def check_rbd_status(namespace, rbd): ceph_mon = get_podname(""application=ceph,component=mon"", namespace)[0] command = ""{command} {namespace} exec -it {pod} -- rbd status --format json {rbd}"".format(command=kubectl_exec, namespace=namespace, rbd=rbd, pod=ceph_mon) out = run_command(command) try: output = json.loads(out) except Exception as e: output = ""{{'rbd': {}, 'status': {} }}"".format(rbd, e) return output def get_pvc(namespace): """""" return list of permanent volume claim in specific namespace """""" command = ""{command} {namespace} get pvc"".format(command=kubectl, namespace=namespace) out = run_command(command) try: output = json.loads(out) except Exception as e: # output = {'namespace': namespace, 'status': e} output = [] return output def get_pv(persistentvolume, namespace): """""" return list of persistent volumes in specific namespace """""" command = ""{command} {namespace} get pv {pv}"".format(command=kubectl, namespace=namespace, pv=persistentvolume) out = run_command(command) try: output = json.loads(out) except Exception as e: output = {'persistentvolume': namespace, 'status': e} return output def get_namespaces(): """""" return list of namespaces """""" command = ""{command} {namespace} get ns -o json"".format(command=kubectl_exec, namespace=""ceph"") out = run_command(command) try: output = json.loads(out) except Exception as e: output = {""Error"": e} return output def get_rbd_list(namespace): """""" return list of rbd in json format """""" ceph_mon = get_podname(""application=ceph,component=mon"", namespace)[0] command = ""{command} {namespace} exec -it {pod} -- rbd ls --format json"".format(command=kubectl_exec, namespace=namespace, pod=ceph_mon) out = run_command(command) logger.debug(out) try: output = json.loads(out) except Exception as e: output = ""{{'namaspace': {}, 'status': {} }}"".format(namespace, e) logger.error(""parse json rbd list output: {}"".format(e)) return output def monitoring_pvc(): logger.info(""PVCs aren't associated with RBD"") rbds = get_rbd_list(""ceph"") logger.info(""Gettign list of namespaces"") namespaces = get_namespaces() return_code = OK for namespace in namespaces['items']: ns = namespace['metadata']['name'] logger.info(""Checking namespace: {}"".format(ns)) pvc = get_pvc(ns) for pv in pvc['items']: rbd = get_pv(pv['spec']['volumeName'], ns) rbd = rbd['spec']['rbd']['image'] if rbd not in rbds: return_code = WARNING print (""pvc_doesnot_have_rbd:{{namespace={},name={}}} 0"".format(ns, pv['metadata']['name'])) return return_code def monitoring_rbd(): logger.info(""RBD volumes aren't associated with PVC"") r = get_rbd_list(""ceph"") namespaces = get_namespaces() return_code = OK for namespace in namespaces['items']: ns = namespace['metadata']['name'] pvc = get_pvc(ns) for pv in pvc['items']: rbd = get_pv(pv['spec']['volumeName'], ns) rbd = rbd['spec']['rbd']['image'] rbds.append(rbd) logger.info(rbd) return_code = WARNING logger.debug(i) print (""rbd_doesnot_have_pvc:{{name={}}} {}"".format(i, len(check_rbd_status(""ceph"", i)['watchers']))) return return_code def monitoring_pv(): logger.info(""PVs aren't associated with PVC "") command = ""{config} {kubectl} get pv -o json"".format(config=CONFIG, kubectl=KUBECTL) logger.debug(command) out = run_command(command) return_code = OK logger.debug(out) try: output = json.loads(out) if len(output['items']) == 0: return_code = OK else: return_code = WARNING for pv in output['items']: if pv['status']['phase'] == ""Released"": print (""pv_released:{{name={},status={}}} 0"".format(pv['metadata']['name'], pv['status']['phase'])) except Exception as e: logger.error(""gettign rbd list: {}"".format(e)) return_code = UNKNOWN return return_code return_code = [] return_code.append(monitoring_rbd()) return_code.append(monitoring_pvc()) return_code.append(monitoring_pv()) return max(return_code) return_code = OK logger.info(""all"") return_code = monitoring() if options.rbd: logger.info(""rbd"") return_code = monitoring_rbd() if options.pvc: logger.info(""pvc"") return_code = monitoring_pvc() if options.pv: logger.info(""pv"") return_code = monitoring_pv() sys.exit(return_code)",121,208
openstack%2Fheat-tempest-plugin~master~I379ddaf644d199e3c1b609d31e28942fb1a1f12f,openstack/heat-tempest-plugin,master,I379ddaf644d199e3c1b609d31e28942fb1a1f12f,Fixing typo for cert_validate,MERGED,2020-06-09 17:53:44.000000000,2020-06-10 19:23:42.000000000,2020-06-10 19:23:42.000000000,"[{'_account_id': 4257}, {'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 17:53:44.000000000', 'files': ['heat_tempest_plugin/tests/api/test_heat_api.py'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/9f622d86d4ed98f19e759f9ed02a342e8f8344fe', 'message': 'Fixing typo for cert_validate\n\nDue to this typo cert_validate had been recognized as tuple but\nnot boolean.\n\nChange-Id: I379ddaf644d199e3c1b609d31e28942fb1a1f12f\n'}]",0,734660,9f622d86d4ed98f19e759f9ed02a342e8f8344fe,7,4,1,29954,,,0,"Fixing typo for cert_validate

Due to this typo cert_validate had been recognized as tuple but
not boolean.

Change-Id: I379ddaf644d199e3c1b609d31e28942fb1a1f12f
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/60/734660/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_tempest_plugin/tests/api/test_heat_api.py'],1,9f622d86d4ed98f19e759f9ed02a342e8f8344fe,, cert_validate = not conf.disable_ssl_certificate_validation," cert_validate = not conf.disable_ssl_certificate_validation,",1,1
openstack%2Fopenstack-helm~master~Ifd56ae737958c58e50fe78054770ca6354fe9b4e,openstack/openstack-helm,master,Ifd56ae737958c58e50fe78054770ca6354fe9b4e,chore(deployment): parallelize OpenStack infra charts,ABANDONED,2020-06-09 23:49:20.000000000,2020-06-10 19:10:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-09 23:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8a2728a10e43c925286fe26a5d8b6673ed6fcab7', 'message': 'DNM: parallelize deployment\n\nChange-Id: Ifd56ae737958c58e50fe78054770ca6354fe9b4e\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2020-06-10 17:40:04.000000000', 'files': ['tools/deployment/component/common/os-infra.sh', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2b6cfc482e130109579ad2d8f504fe00614e548b', 'message': 'chore(deployment): parallelize OpenStack infra charts\n\nMariaDB, RMQ and memcached, used by all OpenStack services, are\ncurrently deployed serially and each with a wait. These services\ndo not have explicit dependency on each other and should be\ndeployed parallelly. This patch set adds in a new script to do this.\nThe old scripts are left in place for users who needs to deploy\nindividual charts.\n\nThe gate performance gain seems to be ~5 minutes.\n\nChange-Id: Ifd56ae737958c58e50fe78054770ca6354fe9b4e\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,734720,2b6cfc482e130109579ad2d8f504fe00614e548b,5,1,2,20466,,,0,"chore(deployment): parallelize OpenStack infra charts

MariaDB, RMQ and memcached, used by all OpenStack services, are
currently deployed serially and each with a wait. These services
do not have explicit dependency on each other and should be
deployed parallelly. This patch set adds in a new script to do this.
The old scripts are left in place for users who needs to deploy
individual charts.

The gate performance gain seems to be ~5 minutes.

Change-Id: Ifd56ae737958c58e50fe78054770ca6354fe9b4e
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/20/734720/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/component/common/os-infra.sh', 'zuul.d/jobs-openstack-helm.yaml']",2,8a2728a10e43c925286fe26a5d8b6673ed6fcab7,speed-up, - ./tools/deployment/component/common/os-infra.sh - ./tools/deployment/component/common/os-infra.sh - ./tools/deployment/component/common/os-infra.sh, - ./tools/deployment/component/common/mariadb.sh - ./tools/deployment/component/common/memcached.sh - ./tools/deployment/component/common/rabbitmq.sh - ./tools/deployment/component/common/mariadb.sh - ./tools/deployment/component/common/memcached.sh - ./tools/deployment/component/common/rabbitmq.sh - ./tools/deployment/component/common/mariadb.sh - ./tools/deployment/component/common/memcached.sh - ./tools/deployment/component/common/rabbitmq.sh,51,9
openstack%2Fnova~stable%2Fussuri~Id610a24c066707de5ddc0507e7ef26c421ba366c,openstack/nova,stable/ussuri,Id610a24c066707de5ddc0507e7ef26c421ba366c,Remove stale nested backport from InstancePCIRequests,MERGED,2020-05-06 16:44:48.000000000,2020-06-10 18:50:30.000000000,2020-06-10 18:45:25.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-06 16:44:48.000000000', 'files': ['nova/tests/unit/objects/test_instance_pci_requests.py', 'nova/objects/instance_pci_requests.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e61d0025303b33ef00aa95ebd934f6121d320cbb', 'message': ""Remove stale nested backport from InstancePCIRequests\n\nSometime in 2015, we removed the hard-coded obj_relationships mapping\nfrom parent objects which facilitated semi-automated child version\nbackports.  This was replaced by a manifest-of-versions mechanism\nwhere the client reports all the supported objects and versions\nduring a backport request to conductor. The InstancePCIRequests object\nisn't technically an ObjectListBase, despite acting like one, and thus\nwasn't using the obj_relationships. Because of this, it was doing\nits own backporting of its child object, which was not removed in\nthe culling of the static mechanism. Because we now no longer need to\nworry about sub-object backport chaining, when version 1.2 was added,\nno backport rule was added, and since the object does not call the\nbase class' generic routine, proper backporting of the child object\nwas not happening.\n\nAll we need to do is remove the override to allow the base\ninfrastructure to do the work.\n\nChange-Id: Id610a24c066707de5ddc0507e7ef26c421ba366c\nCloses-Bug: #1868033\n(cherry picked from commit d3ca7356860d64555eef6f5138501cb38f50ecc8)\n""}]",0,725931,e61d0025303b33ef00aa95ebd934f6121d320cbb,25,10,1,15334,,,0,"Remove stale nested backport from InstancePCIRequests

Sometime in 2015, we removed the hard-coded obj_relationships mapping
from parent objects which facilitated semi-automated child version
backports.  This was replaced by a manifest-of-versions mechanism
where the client reports all the supported objects and versions
during a backport request to conductor. The InstancePCIRequests object
isn't technically an ObjectListBase, despite acting like one, and thus
wasn't using the obj_relationships. Because of this, it was doing
its own backporting of its child object, which was not removed in
the culling of the static mechanism. Because we now no longer need to
worry about sub-object backport chaining, when version 1.2 was added,
no backport rule was added, and since the object does not call the
base class' generic routine, proper backporting of the child object
was not happening.

All we need to do is remove the override to allow the base
infrastructure to do the work.

Change-Id: Id610a24c066707de5ddc0507e7ef26c421ba366c
Closes-Bug: #1868033
(cherry picked from commit d3ca7356860d64555eef6f5138501cb38f50ecc8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/725931/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_instance_pci_requests.py', 'nova/objects/instance_pci_requests.py']",2,e61d0025303b33ef00aa95ebd934f6121d320cbb,bug/1868033,," def obj_make_compatible(self, primitive, target_version): target_version = versionutils.convert_version_to_tuple(target_version) if target_version < (1, 1) and 'requests' in primitive: for index, request in enumerate(self.requests): request.obj_make_compatible( primitive['requests'][index]['nova_object.data'], '1.0') primitive['requests'][index]['nova_object.version'] = '1.0' ",0,22
openstack%2Frequirements~master~I1fe60a9207c5d4517b701c48d98e1db853bf3a48,openstack/requirements,master,I1fe60a9207c5d4517b701c48d98e1db853bf3a48,update constraint for cliff to new release 3.2.0,MERGED,2020-06-10 13:17:24.000000000,2020-06-10 18:48:41.000000000,2020-06-10 18:45:29.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 13:17:24.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/63f772afe9bfde4429a4ed6a9352e565c4fcef68', 'message': 'update constraint for cliff to new release 3.2.0\n\nChange-Id: I1fe60a9207c5d4517b701c48d98e1db853bf3a48\nmeta:version: 3.2.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Monty Taylor <mordred@inaugust.com>\nmeta:release:Commit: Monty Taylor <mordred@inaugust.com>\nmeta:release:Change-Id: Icfdb876e7fdb174ec54b97d30d53b592339700e4\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\n'}]",0,734831,63f772afe9bfde4429a4ed6a9352e565c4fcef68,9,3,1,11131,,,0,"update constraint for cliff to new release 3.2.0

Change-Id: I1fe60a9207c5d4517b701c48d98e1db853bf3a48
meta:version: 3.2.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Monty Taylor <mordred@inaugust.com>
meta:release:Commit: Monty Taylor <mordred@inaugust.com>
meta:release:Change-Id: Icfdb876e7fdb174ec54b97d30d53b592339700e4
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/31/734831/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,63f772afe9bfde4429a4ed6a9352e565c4fcef68,new-release,cliff===3.2.0,cliff===3.1.0,1,1
openstack%2Fneutron~master~I3f2e18fabf4556cd708c6e544b5aaf37f72b44df,openstack/neutron,master,I3f2e18fabf4556cd708c6e544b5aaf37f72b44df,port_forwarding: extend support for OVN usage (cont.),MERGED,2020-06-08 23:00:24.000000000,2020-06-10 18:48:34.000000000,2020-06-10 18:45:10.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-08 23:00:24.000000000', 'files': ['neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb46081150a4ca4e2007cabfcadd134cbc85435e', 'message': 'port_forwarding: extend support for OVN usage (cont.)\n\nThis is a follow up from commit 102c442bcfa39074787e3292818880ecf238ac61\n\nThe call to resources_rpc.ResourcesPushRpcApi() will fail in situations\nwhere RPC is not available. That is the case for neutron_ovn_db_sync_util.\n\nThe changes here will only set push_api if any of the configured service\nplugins need it. This is a behavior similar to what is done for the QOS\nplugin.\n\nRelated-Bug: #1877447\nChange-Id: I3f2e18fabf4556cd708c6e544b5aaf37f72b44df\n'}]",3,734344,eb46081150a4ca4e2007cabfcadd134cbc85435e,15,9,1,11952,,,0,"port_forwarding: extend support for OVN usage (cont.)

This is a follow up from commit 102c442bcfa39074787e3292818880ecf238ac61

The call to resources_rpc.ResourcesPushRpcApi() will fail in situations
where RPC is not available. That is the case for neutron_ovn_db_sync_util.

The changes here will only set push_api if any of the configured service
plugins need it. This is a behavior similar to what is done for the QOS
plugin.

Related-Bug: #1877447
Change-Id: I3f2e18fabf4556cd708c6e544b5aaf37f72b44df
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/734344/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py']",2,eb46081150a4ca4e2007cabfcadd134cbc85435e,ovn/port_forwarding," exp_default_plugins = ['router'] TC = namedtuple('TC', 'input exp_plugins exp_uses_rpc description') TC([], exp_default_plugins, True, ""default from empty cfg""), TC(['foo'], exp_default_plugins, True, ""default from unexpected cfg""), TC(['foo', 123], exp_default_plugins, True, ""default from unexpected cfg""), TC(['foo', 'router'], exp_default_plugins, True, ""default from valid cfg""), TC(['router'], same_as_input, True, ""valid cfg 1""), TC(['router'], same_as_input, True, ""valid cfg 1""), TC(['ovn-router'], same_as_input, False, ""valid cfg 2""), TC(['ovn-router', 'router'], supported_plugins, True, ""valid cfg 3""), TC(['router', 'ovn-router'], supported_plugins, True, ""valid cfg 4""), TC(['bar', 'router', 'foo'], ['router'], True, ""valid cfg 5""), TC(['bar', 'ovn-router', 'foo'], ['ovn-router'], False, ""valid cfg 6""), supported_plugins, True, ""valid cfg 7""), plugins, rpc_required = pf_plugin._required_service_plugins() if tc.exp_plugins == same_as_input: self.assertEqual( (tc.input, tc.exp_uses_rpc), (plugins, rpc_required), tc.description) else: self.assertEqual( (tc.exp_plugins, tc.exp_uses_rpc), (plugins, rpc_required), tc.description) plugins, rpc_required = pf_plugin._required_service_plugins() self.assertEqual( (['router'], True), (plugins, rpc_required), description)"," exp_default = ['router'] TC = namedtuple('TC', 'input expected description') TC([], exp_default, ""default from empty cfg""), TC(['foo'], exp_default, ""default from unexpected cfg""), TC(['foo', 123], exp_default, ""default from unexpected cfg""), TC(['foo', 'router'], exp_default, ""default from valid cfg""), TC(['router'], same_as_input, ""valid cfg 1""), TC(['router'], same_as_input, ""valid cfg 1""), TC(['ovn-router'], same_as_input, ""valid cfg 2""), TC(['ovn-router', 'router'], supported_plugins, ""valid cfg 3""), TC(['router', 'ovn-router'], supported_plugins, ""valid cfg 4""), TC(['bar', 'router', 'foo'], ['router'], ""valid cfg 5""), TC(['bar', 'ovn-router', 'foo'], ['ovn-router'], ""valid cfg 6""), supported_plugins, ""valid cfg 7""), result = pf_plugin._required_service_plugins() if tc.expected == same_as_input: self.assertEqual(tc.input, result, tc.description) else: self.assertEqual(tc.expected, result, tc.description) result = pf_plugin._required_service_plugins() self.assertEqual(['router'], result, description)",57,33
openstack%2Fnova~stable%2Fussuri~I9f95a054de9d43ecaa50ff7ffc9343490e212d53,openstack/nova,stable/ussuri,I9f95a054de9d43ecaa50ff7ffc9343490e212d53,compute: Allow snapshots to be created from PAUSED volume backed instances,MERGED,2020-05-19 08:47:21.000000000,2020-06-10 18:47:46.000000000,2020-06-10 18:45:18.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-19 08:47:21.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a270eeeb9b1a65045c3a8bf3cfad5eee6415f63c', 'message': 'compute: Allow snapshots to be created from PAUSED volume backed instances\n\nIabeb44f843c3c04f767c4103038fcf6c52966ff3 allowed snapshots to be\ncreated from PAUSED non-volume backed instances but missed the volume\nbacked use case.\n\nThis change simply adds PAUSED to the list of acceptable vm_states when\ncreating a snapshot from a volume backed instance in addition to the\nalready supported ACTIVE, STOPPED and SUSPENDED vm_states.\n\nCloses-Bug: #1878583\nChange-Id: I9f95a054de9d43ecaa50ff7ffc9343490e212d53\n(cherry picked from commit cfde53e4b402e71d7f53b6e0ab232854dba160dc)\n'}]",0,729174,a270eeeb9b1a65045c3a8bf3cfad5eee6415f63c,14,9,1,10135,,,0,"compute: Allow snapshots to be created from PAUSED volume backed instances

Iabeb44f843c3c04f767c4103038fcf6c52966ff3 allowed snapshots to be
created from PAUSED non-volume backed instances but missed the volume
backed use case.

This change simply adds PAUSED to the list of acceptable vm_states when
creating a snapshot from a volume backed instance in addition to the
already supported ACTIVE, STOPPED and SUSPENDED vm_states.

Closes-Bug: #1878583
Change-Id: I9f95a054de9d43ecaa50ff7ffc9343490e212d53
(cherry picked from commit cfde53e4b402e71d7f53b6e0ab232854dba160dc)
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/729174/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",2,a270eeeb9b1a65045c3a8bf3cfad5eee6415f63c,bug/1878583," vm_states.PAUSED, vm_states.SUSPENDED])", vm_states.SUSPENDED]),6,1
openstack%2Fneutron~stable%2Ftrain~I1ead1eee48a0c56193f20797ab35be36a0458270,openstack/neutron,stable/train,I1ead1eee48a0c56193f20797ab35be36a0458270,"Set OpenFlow 1.0, 1.3 and 1.4 by default on bridges",MERGED,2020-06-04 18:14:44.000000000,2020-06-10 18:47:27.000000000,2020-06-10 18:45:03.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 11805}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-04 18:14:44.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d9742004643d97fe76e9d461ab24090f2f705fa', 'message': ""Set OpenFlow 1.0, 1.3 and 1.4 by default on bridges\n\nThere is a bug in OVS 2.12 where it's impossible to change protocol on\na bridge. This patch should be reverted once OVS is fixed. More\ninformation about the bug at [1].\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1782834\n\nRelated-Bug: #1852221\n\nChange-Id: I1ead1eee48a0c56193f20797ab35be36a0458270\n(cherry picked from commit 0643ab44d8204cde78fb7e8713fdd46dad0d87df)\n""}]",0,733674,7d9742004643d97fe76e9d461ab24090f2f705fa,15,8,1,11805,,,0,"Set OpenFlow 1.0, 1.3 and 1.4 by default on bridges

There is a bug in OVS 2.12 where it's impossible to change protocol on
a bridge. This patch should be reverted once OVS is fixed. More
information about the bug at [1].

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1782834

Related-Bug: #1852221

Change-Id: I1ead1eee48a0c56193f20797ab35be36a0458270
(cherry picked from commit 0643ab44d8204cde78fb7e8713fdd46dad0d87df)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/733674/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/test_ovs_lib.py']",2,7d9742004643d97fe76e9d461ab24090f2f705fa,ovs2.12-stable/train," expected = self.br.initial_protocols.union(protocols) self.assertItemsEqual(expected, self.br.db_get_val('Bridge', self.br.br_name, ""protocols""))"," self.assertEqual(protocols, self.br.db_get_val('Bridge', self.br.br_name, ""protocols""))",13,4
openstack%2Frequirements~master~I8bf7446df2a46bbfa6a5e58f326cc9eb7b821ba2,openstack/requirements,master,I8bf7446df2a46bbfa6a5e58f326cc9eb7b821ba2,"Revert ""Remove virtualbmc package""",MERGED,2020-06-10 13:08:46.000000000,2020-06-10 18:47:15.000000000,2020-06-10 18:45:13.000000000,"[{'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-10 13:08:46.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0029ce22ea87bfae6b170d9c6d1f1f5ceadc5a19', 'message': 'Revert ""Remove virtualbmc package""\n\nIt is used by most ironic CI jobs, which are now broken.\n\nThis reverts commit bded0f0c3e945569dbbaf6a6fc44b407454a6408.\n\nChange-Id: I8bf7446df2a46bbfa6a5e58f326cc9eb7b821ba2\n'}]",0,734828,0029ce22ea87bfae6b170d9c6d1f1f5ceadc5a19,14,5,1,10239,,,0,"Revert ""Remove virtualbmc package""

It is used by most ironic CI jobs, which are now broken.

This reverts commit bded0f0c3e945569dbbaf6a6fc44b407454a6408.

Change-Id: I8bf7446df2a46bbfa6a5e58f326cc9eb7b821ba2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/28/734828/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,0029ce22ea87bfae6b170d9c6d1f1f5ceadc5a19,virtualbmc,virtualbmc===2.1.0,,2,0
openstack%2Frequirements~stable%2Fstein~Ibfa97acab34cc8e17966b4eea87455482b24f4e0,openstack/requirements,stable/stein,Ibfa97acab34cc8e17966b4eea87455482b24f4e0,update constraint for oslo.log to new release 3.42.5,MERGED,2020-06-10 13:12:26.000000000,2020-06-10 18:45:28.000000000,2020-06-10 18:45:28.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 13:12:26.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d091e1ac3e1790d7633bd5e4592fd3e2a923ec6c', 'message': 'update constraint for oslo.log to new release 3.42.5\n\nChange-Id: Ibfa97acab34cc8e17966b4eea87455482b24f4e0\nmeta:version: 3.42.5\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I19da401c42fd4453c91955c51baaca13a601b68d\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\n'}]",0,734829,d091e1ac3e1790d7633bd5e4592fd3e2a923ec6c,7,3,1,11131,,,0,"update constraint for oslo.log to new release 3.42.5

Change-Id: Ibfa97acab34cc8e17966b4eea87455482b24f4e0
meta:version: 3.42.5
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I19da401c42fd4453c91955c51baaca13a601b68d
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/29/734829/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d091e1ac3e1790d7633bd5e4592fd3e2a923ec6c,new-release,oslo.log===3.42.5,oslo.log===3.42.4,1,1
openstack%2Fneutron-tempest-plugin~master~Ifc9bc6c60d5d44e5524f6e1338eb3ceeb0a900a9,openstack/neutron-tempest-plugin,master,Ifc9bc6c60d5d44e5524f6e1338eb3ceeb0a900a9,Add timeout to check_connectivity method,MERGED,2020-05-29 14:47:22.000000000,2020-06-10 18:45:15.000000000,2020-06-10 18:45:15.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 29350}, {'_account_id': 31291}, {'_account_id': 31450}]","[{'number': 1, 'created': '2020-05-29 14:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2cb192ffabfb6456b4528734b1902511068ca56f', 'message': 'Add timeout to check_connectivity method\n\nEspecially for negative tests, when connectivity loss is expected,\nallowing the definition of a lower SSH timeout is needed, since default\nvalue of 300 seconds is too high\n\nChange-Id: Ifc9bc6c60d5d44e5524f6e1338eb3ceeb0a900a9\n'}, {'number': 2, 'created': '2020-06-01 13:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/932fe059c98d1d8ab6e1d184fac8f115f1d7ea9c', 'message': 'Add timeout to check_connectivity method\n\nEspecially for negative tests, when connectivity loss is expected,\nallowing the definition of a lower SSH timeout is needed, since default\nvalue of 300 seconds is too high\n\nChange-Id: Ifc9bc6c60d5d44e5524f6e1338eb3ceeb0a900a9\n'}, {'number': 3, 'created': '2020-06-05 07:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/29ddbe04aaf0f1254a1fb288717e128ec74b7b83', 'message': 'Add timeout to check_connectivity method\n\nEspecially for negative tests, when connectivity loss is expected,\nallowing the definition of a lower SSH timeout is needed, since default\nvalue of 300 seconds is too high\n\nChange-Id: Ifc9bc6c60d5d44e5524f6e1338eb3ceeb0a900a9\n'}, {'number': 4, 'created': '2020-06-05 16:52:06.000000000', 'files': ['neutron_tempest_plugin/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3eb1228cc687201872f018724406850076cbbe07', 'message': 'Add timeout to check_connectivity method\n\nEspecially for negative tests, when connectivity loss is expected,\nallowing the definition of a lower SSH timeout is needed, since default\nvalue of 300 seconds is too high\n\nChange-Id: Ifc9bc6c60d5d44e5524f6e1338eb3ceeb0a900a9\n'}]",3,731778,3eb1228cc687201872f018724406850076cbbe07,33,7,4,31291,,,0,"Add timeout to check_connectivity method

Especially for negative tests, when connectivity loss is expected,
allowing the definition of a lower SSH timeout is needed, since default
value of 300 seconds is too high

Change-Id: Ifc9bc6c60d5d44e5524f6e1338eb3ceeb0a900a9
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/78/731778/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/base.py'],1,2cb192ffabfb6456b4528734b1902511068ca56f,," def check_connectivity(self, host, ssh_user, ssh_key, servers=None, ssh_timeout=None): ssh_client = ssh.Client(host, ssh_user, pkey=ssh_key, timeout=ssh_timeout)"," def check_connectivity(self, host, ssh_user, ssh_key, servers=None): ssh_client = ssh.Client(host, ssh_user, pkey=ssh_key)",4,2
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ib33504757a3d4b695f9bac23c9b6fc5e62d17ebf,openstack/tripleo-heat-templates,stable/ussuri,Ib33504757a3d4b695f9bac23c9b6fc5e62d17ebf,FFWD: post Leapp package fixups,ABANDONED,2020-06-10 11:31:24.000000000,2020-06-10 18:43:18.000000000,,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-10 11:31:24.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/40a6eb49919938755a345783be89916113915f13', 'message': 'FFWD: post Leapp package fixups\n\nDuring the UpgradeInit command we set repos and we might be enabling\nmodules. To ensure proper state we run dnf distro-sync after. This\nway we prevent bugs where container-selinux is updated after installing\nopenstack-selinux package.\n\nWe remove ceph-common we should also reinstall it after leep.\n\nChange-Id: Ib33504757a3d4b695f9bac23c9b6fc5e62d17ebf\n(cherry picked from commit ca6fa6a2cd1d5dea296fb718e953fe0c57bbb079)\n'}]",0,734802,40a6eb49919938755a345783be89916113915f13,4,3,1,6816,,,0,"FFWD: post Leapp package fixups

During the UpgradeInit command we set repos and we might be enabling
modules. To ensure proper state we run dnf distro-sync after. This
way we prevent bugs where container-selinux is updated after installing
openstack-selinux package.

We remove ceph-common we should also reinstall it after leep.

Change-Id: Ib33504757a3d4b695f9bac23c9b6fc5e62d17ebf
(cherry picked from commit ca6fa6a2cd1d5dea296fb718e953fe0c57bbb079)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/734802/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,40a6eb49919938755a345783be89916113915f13,ffwd-upgrade2-stable/ussuri, - name: Ensure EL modules are in proper state shell: dnf -y distro-sync - ceph-common,,3,0
openstack%2Fnova-powervm~master~I045079282b1b734639cebf6e7d32c878b3e12b4c,openstack/nova-powervm,master,I045079282b1b734639cebf6e7d32c878b3e12b4c,Use unittest.mock instead of mock,NEW,2020-06-09 08:49:43.000000000,2020-06-10 18:21:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-09 08:49:43.000000000', 'files': ['nova_powervm/tests/virt/powervm/volume/test_nfs.py', 'nova_powervm/tests/virt/powervm/test_vm.py', 'test-requirements.txt', 'nova_powervm/tests/virt/powervm/volume/test_local.py', 'nova_powervm/tests/virt/powervm/disk/test_driver.py', 'nova_powervm/tests/virt/powervm/volume/test_npiv.py', 'nova_powervm/tests/virt/powervm/tasks/test_vm.py', 'nova_powervm/tests/virt/powervm/test_event.py', 'nova_powervm/tests/virt/powervm/test_host.py', 'nova_powervm/tests/virt/powervm/test_slot.py', 'nova_powervm/tests/virt/powervm/tasks/test_image.py', 'nova_powervm/tests/virt/powervm/volume/test_rbd.py', 'nova_powervm/tests/virt/powervm/fixtures.py', 'nova_powervm/tests/virt/powervm/volume/test_gpfs.py', 'nova_powervm/tests/virt/powervm/test_driver.py', 'nova_powervm/tests/virt/powervm/volume/test_fileio.py', 'nova_powervm/tests/virt/powervm/test_media.py', 'nova_powervm/tests/virt/powervm/tasks/test_storage.py', 'nova_powervm/tests/virt/powervm/disk/test_ssp.py', 'nova_powervm/tests/virt/powervm/nvram/test_swift.py', 'nova_powervm/tests/virt/powervm/volume/test_driver.py', 'lower-constraints.txt', 'nova_powervm/tests/virt/powervm/test_mgmt.py', 'nova_powervm/tests/virt/powervm/tasks/test_slot.py', 'nova_powervm/tests/virt/powervm/test_live_migration.py', 'nova_powervm/tests/virt/powervm/disk/test_imagecache.py', 'nova_powervm/tests/virt/powervm/disk/test_localdisk.py', 'nova_powervm/tests/virt/powervm/tasks/test_network.py', 'nova_powervm/tests/virt/powervm/volume/test_vscsi.py', 'nova_powervm/tests/virt/powervm/nvram/test_manager.py', 'nova_powervm/tests/virt/powervm/test_vif.py', 'nova_powervm/tests/virt/powervm/volume/test_iscsi.py', 'nova_powervm/tests/virt/powervm/test_image.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/f0ff18358603646de870411a7bc9aece31dce6b5', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I045079282b1b734639cebf6e7d32c878b3e12b4c\n'}]",0,734448,f0ff18358603646de870411a7bc9aece31dce6b5,3,2,1,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I045079282b1b734639cebf6e7d32c878b3e12b4c
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/48/734448/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova_powervm/tests/virt/powervm/volume/test_nfs.py', 'nova_powervm/tests/virt/powervm/test_vm.py', 'test-requirements.txt', 'nova_powervm/tests/virt/powervm/volume/test_local.py', 'nova_powervm/tests/virt/powervm/disk/test_driver.py', 'nova_powervm/tests/virt/powervm/volume/test_npiv.py', 'nova_powervm/tests/virt/powervm/tasks/test_vm.py', 'nova_powervm/tests/virt/powervm/test_event.py', 'nova_powervm/tests/virt/powervm/test_host.py', 'nova_powervm/tests/virt/powervm/test_slot.py', 'nova_powervm/tests/virt/powervm/tasks/test_image.py', 'nova_powervm/tests/virt/powervm/volume/test_rbd.py', 'nova_powervm/tests/virt/powervm/fixtures.py', 'nova_powervm/tests/virt/powervm/volume/test_gpfs.py', 'nova_powervm/tests/virt/powervm/test_driver.py', 'nova_powervm/tests/virt/powervm/volume/test_fileio.py', 'nova_powervm/tests/virt/powervm/test_media.py', 'nova_powervm/tests/virt/powervm/tasks/test_storage.py', 'nova_powervm/tests/virt/powervm/disk/test_ssp.py', 'nova_powervm/tests/virt/powervm/nvram/test_swift.py', 'nova_powervm/tests/virt/powervm/volume/test_driver.py', 'lower-constraints.txt', 'nova_powervm/tests/virt/powervm/test_mgmt.py', 'nova_powervm/tests/virt/powervm/tasks/test_slot.py', 'nova_powervm/tests/virt/powervm/test_live_migration.py', 'nova_powervm/tests/virt/powervm/disk/test_imagecache.py', 'nova_powervm/tests/virt/powervm/disk/test_localdisk.py', 'nova_powervm/tests/virt/powervm/tasks/test_network.py', 'nova_powervm/tests/virt/powervm/volume/test_vscsi.py', 'nova_powervm/tests/virt/powervm/nvram/test_manager.py', 'nova_powervm/tests/virt/powervm/test_vif.py', 'nova_powervm/tests/virt/powervm/volume/test_iscsi.py', 'nova_powervm/tests/virt/powervm/test_image.py']",33,f0ff18358603646de870411a7bc9aece31dce6b5,drop_mock,from unittest import mock,import mock,31,33
openstack%2Fneutron~master~I140ae0c476bf9e19b4429ce388ddc7cc3f4cd421,openstack/neutron,master,I140ae0c476bf9e19b4429ce388ddc7cc3f4cd421,ovn-migration: Stop ml2/ovs agents before installing OVN resources,MERGED,2020-05-13 07:45:31.000000000,2020-06-10 18:16:44.000000000,2020-06-10 17:48:12.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-05-13 07:45:31.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/defaults/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/vars/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/tasks/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/ovn-migration.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/tasks/cleanup.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d5b9a62b97dfa7245efc92cadda4e4c7d0e406a', 'message': 'ovn-migration: Stop ml2/ovs agents before installing OVN resources\n\nTripleO used to uninstall services if the resources were set to None. It\nwas not intentional and TripleO no longer does that. This patch manually\nremoves dhcp, l3, metadata and ovs agents from controller and compute\nnodes, including its systemd service files.\n\nCloses-Bug: #1878358\nChange-Id: I140ae0c476bf9e19b4429ce388ddc7cc3f4cd421\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n'}]",5,727648,4d5b9a62b97dfa7245efc92cadda4e4c7d0e406a,15,8,1,8655,,,0,"ovn-migration: Stop ml2/ovs agents before installing OVN resources

TripleO used to uninstall services if the resources were set to None. It
was not intentional and TripleO no longer does that. This patch manually
removes dhcp, l3, metadata and ovs agents from controller and compute
nodes, including its systemd service files.

Closes-Bug: #1878358
Change-Id: I140ae0c476bf9e19b4429ce388ddc7cc3f4cd421
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/727648/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/defaults/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/vars/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/tasks/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/ovn-migration.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/tasks/cleanup.yml']",5,4d5b9a62b97dfa7245efc92cadda4e4c7d0e406a,bug/1878358,"--- - name: ""stop and disable {{ service.name }} services and healthchecks"" systemd: name: ""{{ item }}"" state: stopped enabled: no become: yes loop: - ""{{ service.healthcheck_timer_file }}"" - ""{{ service.healthcheck_service_file }}"" - ""{{ service.service_file }}"" - name: delete ml2 ovs systemd service files file: path: ""{{ systemd_service_file_dir }}/{{ item }}"" state: absent loop: - ""{{ service.service_file }}"" - ""{{ service.healthcheck_service_file }}"" - ""{{ service.healthcheck_timer_file }}"" become: yes ",,69,0
openstack%2Fnetworking-ovn~stable%2Ftrain~I0a656f6ad74c43924770989560a9828100f76c09,openstack/networking-ovn,stable/train,I0a656f6ad74c43924770989560a9828100f76c09,Correctly initialize HashRingIsEmpty class,MERGED,2020-05-29 09:45:44.000000000,2020-06-10 17:58:25.000000000,2020-06-10 17:56:23.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 09:45:44.000000000', 'files': ['networking_ovn/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/01fb38baffb64eca7ed7078be3a0afd80081d51f', 'message': ""Correctly initialize HashRingIsEmpty class\n\nShould be using 'message' instead of '_message'.\n\nChange-Id: I0a656f6ad74c43924770989560a9828100f76c09\nCloses-bug: #1853057\n(cherry picked from commit e9e48e405d9c277494c82ea4bb95ca46f300f90e)\n""}]",0,731708,01fb38baffb64eca7ed7078be3a0afd80081d51f,14,4,1,8655,,,0,"Correctly initialize HashRingIsEmpty class

Should be using 'message' instead of '_message'.

Change-Id: I0a656f6ad74c43924770989560a9828100f76c09
Closes-bug: #1853057
(cherry picked from commit e9e48e405d9c277494c82ea4bb95ca46f300f90e)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/08/731708/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/common/exceptions.py'],1,01fb38baffb64eca7ed7078be3a0afd80081d51f,bug/1853057-stable/train," message = _('Hash Ring returned empty when hashing ""%(key)s"". ' 'This should never happen in a normal situation, please ' 'check the status of your cluster')"," _message = _('Hash Ring returned empty when hashing ""%(key)s"". ' 'This should never happen in a normal situation, please ' 'check the status of your cluster')",3,3
openstack%2Fkayobe-config~stable%2Fussuri~I5961bd1b6c47910403193436286b6ce7bd36598e,openstack/kayobe-config,stable/ussuri,I5961bd1b6c47910403193436286b6ce7bd36598e,Update TOX_CONSTRAINTS_FILE for stable/ussuri,MERGED,2020-06-10 12:49:10.000000000,2020-06-10 17:57:52.000000000,2020-06-10 17:57:52.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 12:49:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/c8a1640fb7aed22e8846b55cbde626b1ab2f6a48', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I5961bd1b6c47910403193436286b6ce7bd36598e\n'}]",0,734821,c8a1640fb7aed22e8846b55cbde626b1ab2f6a48,7,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I5961bd1b6c47910403193436286b6ce7bd36598e
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/21/734821/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c8a1640fb7aed22e8846b55cbde626b1ab2f6a48,create-ussuri, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fkayobe-config-dev~stable%2Fussuri~Ia35aa8880e6bfae1b5bbdaace4cca4ae9c2ef19f,openstack/kayobe-config-dev,stable/ussuri,Ia35aa8880e6bfae1b5bbdaace4cca4ae9c2ef19f,Update TOX_CONSTRAINTS_FILE for stable/ussuri,MERGED,2020-06-10 12:49:21.000000000,2020-06-10 17:57:51.000000000,2020-06-10 17:57:51.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 12:49:21.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/43e9dda65bc9dcbdb6547e2410638815ae3bb4bf', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ia35aa8880e6bfae1b5bbdaace4cca4ae9c2ef19f\n'}]",0,734823,43e9dda65bc9dcbdb6547e2410638815ae3bb4bf,7,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ia35aa8880e6bfae1b5bbdaace4cca4ae9c2ef19f
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/23/734823/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,43e9dda65bc9dcbdb6547e2410638815ae3bb4bf,create-ussuri, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fkayobe-config~stable%2Fussuri~I339bfa219801951507f453bd4d91dfc6333bea6e,openstack/kayobe-config,stable/ussuri,I339bfa219801951507f453bd4d91dfc6333bea6e,Update .gitreview for stable/ussuri,MERGED,2020-06-10 12:49:07.000000000,2020-06-10 17:57:51.000000000,2020-06-10 17:57:51.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 12:49:07.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/7b82cc2ec4de3d7f02764b9e61c3bb8880bb191a', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: I339bfa219801951507f453bd4d91dfc6333bea6e\n'}]",0,734819,7b82cc2ec4de3d7f02764b9e61c3bb8880bb191a,7,3,1,22816,,,0,"Update .gitreview for stable/ussuri

Change-Id: I339bfa219801951507f453bd4d91dfc6333bea6e
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/19/734819/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,7b82cc2ec4de3d7f02764b9e61c3bb8880bb191a,create-ussuri,defaultbranch=stable/ussuri,,1,0
openstack%2Fkayobe-config-dev~stable%2Fussuri~Ic65324f3d09234420f8c1857770ab4ce75c9a605,openstack/kayobe-config-dev,stable/ussuri,Ic65324f3d09234420f8c1857770ab4ce75c9a605,Update .gitreview for stable/ussuri,MERGED,2020-06-10 12:49:19.000000000,2020-06-10 17:57:50.000000000,2020-06-10 17:57:50.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 12:49:19.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/e0477312d0d7188c19dc2a137cef961231ef2754', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: Ic65324f3d09234420f8c1857770ab4ce75c9a605\n'}]",0,734822,e0477312d0d7188c19dc2a137cef961231ef2754,7,3,1,22816,,,0,"Update .gitreview for stable/ussuri

Change-Id: Ic65324f3d09234420f8c1857770ab4ce75c9a605
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/22/734822/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,e0477312d0d7188c19dc2a137cef961231ef2754,create-ussuri,defaultbranch=stable/ussuri,,1,0
openstack%2Ftripleo-ansible~master~I200efe00b735a17a996fbfe64e3f0f4d4c813f73,openstack/tripleo-ansible,master,I200efe00b735a17a996fbfe64e3f0f4d4c813f73,Add toggle for sensitive data within keystone,MERGED,2020-05-26 13:35:07.000000000,2020-06-10 17:54:50.000000000,2020-06-10 17:42:52.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-05-26 13:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f93caf551d70117199dc6edcc5ddb2a482b800fa', 'message': 'Add toggle for sensitive data within keystone\n\nThis change will allow deployers to expose sensitive data as needed.\n\nChange-Id: I200efe00b735a17a996fbfe64e3f0f4d4c813f73\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-05-28 18:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/abda532e5d6a0337e6f780dcc5c3e97664f3d8db', 'message': 'Add toggle for sensitive data within keystone\n\nThis change will allow deployers to expose sensitive data as needed.\n\nChange-Id: I200efe00b735a17a996fbfe64e3f0f4d4c813f73\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-06-06 00:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b507c5501a3e516cc0430d5eaae04340b78209da', 'message': 'Add toggle for sensitive data within keystone\n\nThis change will allow deployers to expose sensitive data as needed.\n\nChange-Id: I200efe00b735a17a996fbfe64e3f0f4d4c813f73\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-06-06 02:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/09160396f7e2268070bcc276a845d4c4ff98ef33', 'message': 'Add toggle for sensitive data within keystone\n\nThis change will allow deployers to expose sensitive data as needed.\n\nChange-Id: I200efe00b735a17a996fbfe64e3f0f4d4c813f73\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-06-10 02:12:09.000000000', 'files': ['tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/test_deps/tasks/tripleo-setup.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/endpoints.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/admin.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/defaults/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/services.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/users.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8cc51067d83ad8245ced0a0d62084de8717415d1', 'message': 'Add toggle for sensitive data within keystone\n\nThis change will allow deployers to expose sensitive data as needed. \n\n> This change also fixes the tests for keystone. The role test was\n  broken because the use of test-deps needed to be updated for the new\n  repo layout.\n\nChange-Id: I200efe00b735a17a996fbfe64e3f0f4d4c813f73\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",7,730815,8cc51067d83ad8245ced0a0d62084de8717415d1,32,7,5,7353,,,0,"Add toggle for sensitive data within keystone

This change will allow deployers to expose sensitive data as needed. 

> This change also fixes the tests for keystone. The role test was
  broken because the use of test-deps needed to be updated for the new
  repo layout.

Change-Id: I200efe00b735a17a996fbfe64e3f0f4d4c813f73
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/15/730815/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_keystone_resources/tasks/endpoints.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/admin.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/defaults/main.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/services.yml', 'tripleo_ansible/roles/tripleo_keystone_resources/tasks/users.yml']",5,f93caf551d70117199dc6edcc5ddb2a482b800fa,mistral_to_ansible," no_log: ""{{ tripleo_keystone_resources_hide_sensitive_logs | bool }}"" no_log: ""{{ not (tripleo_keystone_resources_debug | bool) }}""", no_log: true no_log: true,9,7
openstack%2Fcharm-octavia~master~Ib4b0dc8c47b77ec80845bd8987ebba11388604ab,openstack/charm-octavia,master,Ib4b0dc8c47b77ec80845bd8987ebba11388604ab,"Add basic, running services only, NRPE support to the charm",MERGED,2020-06-09 16:14:06.000000000,2020-06-10 17:49:51.000000000,2020-06-10 17:49:51.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 16:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/17127c609edd045be8ed7d2d191b40785bf81c47', 'message': 'Add basic, running services, NRPE support to the charm\n\nChange-Id: Ib4b0dc8c47b77ec80845bd8987ebba11388604ab\nCloses-Bug: #1871655\n'}, {'number': 2, 'created': '2020-06-09 17:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/0a7b2376765029e4efde16e4e230fe341059f59b', 'message': '[WIP] Add basic, running services only, NRPE support to the charm\n\nChange-Id: Ib4b0dc8c47b77ec80845bd8987ebba11388604ab\nCloses-Bug: #1871655\n'}, {'number': 3, 'created': '2020-06-09 22:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/af4e2e9cbe7078a53d64e5e16d114201f6940b93', 'message': '[WIP] Add basic, running services only, NRPE support to the charm\n\nChange-Id: Ib4b0dc8c47b77ec80845bd8987ebba11388604ab\nCloses-Bug: #1871655\n'}, {'number': 4, 'created': '2020-06-10 09:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/aa9d9b0b30d86b0e3de40eb3f3e3091ba7a03071', 'message': '[WIP] Add basic, running services only, NRPE support to the charm\n\nChange-Id: Ib4b0dc8c47b77ec80845bd8987ebba11388604ab\nCloses-Bug: #1871655\n'}, {'number': 5, 'created': '2020-06-10 10:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/2442fc49c8f4c240617095b3f2cb9419ad5fc7cc', 'message': 'Add basic, running services only, NRPE support to the charm\n\nChange-Id: Ib4b0dc8c47b77ec80845bd8987ebba11388604ab\nCloses-Bug: #1871655\n'}, {'number': 6, 'created': '2020-06-10 13:12:08.000000000', 'files': ['src/config.yaml', 'src/reactive/octavia_handlers.py', 'unit_tests/test_octavia_handlers.py', 'src/metadata.yaml', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/283521f62abd4c149ea265363824851d771dfc6b', 'message': 'Add basic, running services only, NRPE support to the charm\n\nChange-Id: Ib4b0dc8c47b77ec80845bd8987ebba11388604ab\nCloses-Bug: #1871655\n'}]",1,734639,283521f62abd4c149ea265363824851d771dfc6b,23,3,6,31836,,,0,"Add basic, running services only, NRPE support to the charm

Change-Id: Ib4b0dc8c47b77ec80845bd8987ebba11388604ab
Closes-Bug: #1871655
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/39/734639/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/reactive/octavia_handlers.py', 'src/metadata.yaml', 'src/layer.yaml']",4,17127c609edd045be8ed7d2d191b40785bf81c47,bug/1871655, - interface:nrpe-external-master,,40,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Iaf2f83a8f13bcb9cf0c37acff627a456005057de,openstack/tripleo-ansible,stable/train,Iaf2f83a8f13bcb9cf0c37acff627a456005057de,Fix error when display_ok_hosts is false,MERGED,2020-06-09 20:22:58.000000000,2020-06-10 17:42:51.000000000,2020-06-10 17:42:51.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-09 20:22:58.000000000', 'files': ['tripleo_ansible/ansible_plugins/callback/tripleo_dense.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/42d2d9707d069eead7cefcab15fa8339bff40748', 'message': ""Fix error when display_ok_hosts is false\n\nIf display_ok_hosts is false, we were returning None but the function is\nexpected to return a tuple. So let's return a tuple of (None, None) and\ncheck if we don't have a line then return.\n\nChange-Id: Iaf2f83a8f13bcb9cf0c37acff627a456005057de\n(cherry picked from commit 3ff730bc6f5926a4c5db1a4b9669e0baec91b2ce)\n""}]",0,734694,42d2d9707d069eead7cefcab15fa8339bff40748,7,3,1,3153,,,0,"Fix error when display_ok_hosts is false

If display_ok_hosts is false, we were returning None but the function is
expected to return a tuple. So let's return a tuple of (None, None) and
check if we don't have a line then return.

Change-Id: Iaf2f83a8f13bcb9cf0c37acff627a456005057de
(cherry picked from commit 3ff730bc6f5926a4c5db1a4b9669e0baec91b2ce)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/94/734694/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/callback/tripleo_dense.py'],1,42d2d9707d069eead7cefcab15fa8339bff40748,callback-improvements-stable/train," return (None, None) if not line: return if not line: return", return,5,1
openstack%2Ftripleo-heat-templates~master~Iabd3e90a46fd087c8e780796e04fcc050c5277ab,openstack/tripleo-heat-templates,master,Iabd3e90a46fd087c8e780796e04fcc050c5277ab,Use unittest.mock instead of mock,MERGED,2020-06-09 10:17:34.000000000,2020-06-10 17:41:03.000000000,2020-06-10 17:37:40.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-06-09 10:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f8ddef49aaf9b404bd594af63479ab8dea7195be', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Iabd3e90a46fd087c8e780796e04fcc050c5277ab\n'}, {'number': 2, 'created': '2020-06-09 16:41:55.000000000', 'files': ['test-requirements.txt', 'container_config_scripts/tests/test_nova_statedir_ownership.py', 'tripleo_heat_templates/tests/test_environment_generator.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/11f84b63021a199d43668cf0d78f241c67a162ca', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Iabd3e90a46fd087c8e780796e04fcc050c5277ab\n'}]",2,734568,11f84b63021a199d43668cf0d78f241c67a162ca,15,6,2,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Iabd3e90a46fd087c8e780796e04fcc050c5277ab
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/734568/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'container_config_scripts/tests/test_nova_statedir_ownership.py', 'tripleo_heat_templates/tests/test_environment_generator.py', 'lower-constraints.txt']",4,f8ddef49aaf9b404bd594af63479ab8dea7195be,drop_mock,,mock==2.0.0,2,4
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib0abcbd25117ecd587f4a92698746e5e256e6e8e,openstack/tripleo-heat-templates,stable/train,Ib0abcbd25117ecd587f4a92698746e5e256e6e8e,Remove ValidateNtp,MERGED,2020-06-08 19:24:13.000000000,2020-06-10 17:39:48.000000000,2020-06-10 17:37:34.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-08 19:24:13.000000000', 'files': ['ci/common/all-nodes-validation-disabled.yaml', 'validation-scripts/all-nodes.sh', 'common/deploy-steps.j2', 'releasenotes/notes/remove-ValidateNtp-15724eaa8345aa4f.yaml', 'all-nodes-validation.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b6f9ea097594fe7a8a060b031ba5db31c226f878', 'message': ""Remove ValidateNtp\n\nWe already do this in the time configuration and it is no longer a\nconfigurable item due to containers. Let's stop doing this in the all\nnodes validation and let the time configuration handle the failure\nmessaging.\n\nChange-Id: Ib0abcbd25117ecd587f4a92698746e5e256e6e8e\n(cherry picked from commit ed2df1a05f7a19de798fe2a1b5e2a625b261c551)\n""}]",0,734177,b6f9ea097594fe7a8a060b031ba5db31c226f878,11,4,1,3153,,,0,"Remove ValidateNtp

We already do this in the time configuration and it is no longer a
configurable item due to containers. Let's stop doing this in the all
nodes validation and let the time configuration handle the failure
messaging.

Change-Id: Ib0abcbd25117ecd587f4a92698746e5e256e6e8e
(cherry picked from commit ed2df1a05f7a19de798fe2a1b5e2a625b261c551)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/734177/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/common/all-nodes-validation-disabled.yaml', 'validation-scripts/all-nodes.sh', 'common/deploy-steps.j2', 'releasenotes/notes/remove-ValidateNtp-15724eaa8345aa4f.yaml', 'all-nodes-validation.yaml']",5,b6f9ea097594fe7a8a060b031ba5db31c226f878,cleanup-stable/train,, ValidateNtp: default: true description: Validation to ensure at least one time source is accessible. type: boolean - name: validate_ntp default: {get_param: ValidateNtp},8,58
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ie5dc774509c31effe9f90f7f22c0394eee0b7746,openstack/tripleo-heat-templates,stable/ussuri,Ie5dc774509c31effe9f90f7f22c0394eee0b7746,Fix dry-run for NetworkConfig tasks,MERGED,2020-06-09 16:15:31.000000000,2020-06-10 17:37:38.000000000,2020-06-10 17:37:38.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-09 16:15:31.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ac4735cc5bd8cc0353232583c1632a033bf8e6d', 'message': 'Fix dry-run for NetworkConfig tasks\n\nDo not run the NetworkConfig script in check mode, and the next tasks\nwill be skipped as well.\n\nChange-Id: Ie5dc774509c31effe9f90f7f22c0394eee0b7746\n(cherry picked from commit cfc6dac882153992ba069f304b044f3d5c823cde)\n'}]",0,734642,3ac4735cc5bd8cc0353232583c1632a033bf8e6d,7,3,1,3153,,,0,"Fix dry-run for NetworkConfig tasks

Do not run the NetworkConfig script in check mode, and the next tasks
will be skipped as well.

Change-Id: Ie5dc774509c31effe9f90f7f22c0394eee0b7746
(cherry picked from commit cfc6dac882153992ba069f304b044f3d5c823cde)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/734642/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,3ac4735cc5bd8cc0353232583c1632a033bf8e6d,network/dry-stable/ussuri, when: - not ansible_check_mode when: - NetworkConfig_result.rc is defined when: - NetworkConfig_result.rc is defined,,6,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ida54f59fc1415122241493c02a0fc764d09ae6c1,openstack/tripleo-heat-templates,stable/ussuri,Ida54f59fc1415122241493c02a0fc764d09ae6c1,Fix reserved name variable,MERGED,2020-06-08 19:24:38.000000000,2020-06-10 17:37:36.000000000,2020-06-10 17:37:36.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-08 19:24:38.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da727d0c46710f9d6483cdbc8ee51ea997801a84', 'message': 'Fix reserved name variable\n\nThe scale down actions appear to fail under newer versions of ansible if\nthe nodes are unavailable. In the logs we see:\n\n[WARNING]: Found variable using reserved name: ignore_unreachable\n\nThis change renames our variable to not collide with ignore_unreachable\n\nChange-Id: Ida54f59fc1415122241493c02a0fc764d09ae6c1\n(cherry picked from commit 5843a7667c93ded7c7ed3e59d408ddd5ca4876fd)\n'}]",0,734178,da727d0c46710f9d6483cdbc8ee51ea997801a84,10,4,1,3153,,,0,"Fix reserved name variable

The scale down actions appear to fail under newer versions of ansible if
the nodes are unavailable. In the logs we see:

[WARNING]: Found variable using reserved name: ignore_unreachable

This change renames our variable to not collide with ignore_unreachable

Change-Id: Ida54f59fc1415122241493c02a0fc764d09ae6c1
(cherry picked from commit 5843a7667c93ded7c7ed3e59d408ddd5ca4876fd)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/734178/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps-playbooks-common.yaml', 'common/deploy-steps.j2']",2,da727d0c46710f9d6483cdbc8ee51ea997801a84,fix-scale-playbook-stable/ussuri, scale_ignore_unreachable: true, ignore_unreachable: true,7,7
openstack%2Fkayobe~master~Ie2c272d1f185083537274adb534001b2d8664154,openstack/kayobe,master,Ie2c272d1f185083537274adb534001b2d8664154,Add Python3 victoria unit tests,MERGED,2020-06-10 12:49:00.000000000,2020-06-10 17:33:25.000000000,2020-06-10 17:26:39.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2020-06-10 12:49:00.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4b960d94b84e874cdcdacdacbf94e06670f3eb61', 'message': 'Add Python3 victoria unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for victoria.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ie2c272d1f185083537274adb534001b2d8664154\n'}]",0,734818,4b960d94b84e874cdcdacdacbf94e06670f3eb61,9,3,1,22816,,,0,"Add Python3 victoria unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for victoria.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ie2c272d1f185083537274adb534001b2d8664154
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/18/734818/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,4b960d94b84e874cdcdacdacbf94e06670f3eb61,add-victoria-python-jobtemplates, - openstack-python3-victoria-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Fkayobe~stable%2Fussuri~I2b19e51b7b319b0243edab77065bba20820bebbf,openstack/kayobe,stable/ussuri,I2b19e51b7b319b0243edab77065bba20820bebbf,Update TOX_CONSTRAINTS_FILE for stable/ussuri,MERGED,2020-06-10 12:48:55.000000000,2020-06-10 17:32:29.000000000,2020-06-10 17:26:37.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2020-06-10 12:48:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/38dd36f98c1064845a336b0c69338a98e05468f4', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I2b19e51b7b319b0243edab77065bba20820bebbf\n'}]",0,734816,38dd36f98c1064845a336b0c69338a98e05468f4,9,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I2b19e51b7b319b0243edab77065bba20820bebbf
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/16/734816/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,38dd36f98c1064845a336b0c69338a98e05468f4,create-ussuri, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri},6,6
openstack%2Fkayobe~master~Iee73855fa78f80150b89e32cc9f3f79b98e5f95e,openstack/kayobe,master,Iee73855fa78f80150b89e32cc9f3f79b98e5f95e,Update master for stable/ussuri,MERGED,2020-06-10 12:48:57.000000000,2020-06-10 17:31:42.000000000,2020-06-10 17:26:37.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2020-06-10 12:48:57.000000000', 'files': ['releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/34499fa56a9211ae5b42b641a3654e79ec3ab294', 'message': 'Update master for stable/ussuri\n\nAdd file to the reno documentation build to show release notes for\nstable/ussuri.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/ussuri.\n\nChange-Id: Iee73855fa78f80150b89e32cc9f3f79b98e5f95e\nSem-Ver: feature\n'}]",0,734817,34499fa56a9211ae5b42b641a3654e79ec3ab294,8,3,1,22816,,,0,"Update master for stable/ussuri

Add file to the reno documentation build to show release notes for
stable/ussuri.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/ussuri.

Change-Id: Iee73855fa78f80150b89e32cc9f3f79b98e5f95e
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/17/734817/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst']",2,34499fa56a9211ae5b42b641a3654e79ec3ab294,reno-ussuri, ussuri,,7,0
openstack%2Fkayobe~stable%2Fussuri~Id397e1aa7323212aad86a9d848904ec72d22bd26,openstack/kayobe,stable/ussuri,Id397e1aa7323212aad86a9d848904ec72d22bd26,Update .gitreview for stable/ussuri,MERGED,2020-06-10 12:48:52.000000000,2020-06-10 17:29:48.000000000,2020-06-10 17:26:36.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2020-06-10 12:48:52.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2d8d85ea84da43e48bd5fc5795c7eb4491406edb', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: Id397e1aa7323212aad86a9d848904ec72d22bd26\n'}]",0,734815,2d8d85ea84da43e48bd5fc5795c7eb4491406edb,9,3,1,22816,,,0,"Update .gitreview for stable/ussuri

Change-Id: Id397e1aa7323212aad86a9d848904ec72d22bd26
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/15/734815/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,2d8d85ea84da43e48bd5fc5795c7eb4491406edb,create-ussuri,defaultbranch=stable/ussuri,,1,0
openstack%2Fneutron~stable%2Fussuri~I710f00f0f542bcf7fa2fc60800797b90f9f77e14,openstack/neutron,stable/ussuri,I710f00f0f542bcf7fa2fc60800797b90f9f77e14,[DVR] Reconfigure re-created physical bridges for dvr routers,MERGED,2020-05-27 18:44:51.000000000,2020-06-10 17:24:50.000000000,2020-06-10 17:21:16.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-05-27 18:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d902688ff8de044e525a5a6cbfeaa9eb086f8d85', 'message': ""[DVR] Reconfigure re-created physical bridges for dvr routers\n\nIn case when physical bridge is removed and created again it\nis initialized by neutron-ovs-agent.\nBut if agent has enabled distributed routing, dvr related\nflows wasn't configured again and that lead to connectivity issues\nin case of DVR routers.\n\nThis patch fixes it by adding configuration of dvr related flows\nif distributed routing is enabled in agent's configuration.\n\nIt also adds reset list of phys_brs in dvr_agent. Without that there\nwere different objects used in ovs agent and dvr_agent classes thus\ne.g. 2 various cookie ids were set on flows in physical bridge.\nThis was also the same issue in case when openvswitch was restarted and\nall bridges were reconfigured.\nNow in such case there is correctly new cookie_id configured for all\nflows.\n\nChange-Id: I710f00f0f542bcf7fa2fc60800797b90f9f77e14\nCloses-Bug: #1864822\n(cherry picked from commit 91f0bf3c8511bf3b0cc63746f767d8d4dce601bd)\n""}, {'number': 2, 'created': '2020-05-27 20:15:47.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b03f9d4c433dbe32d1d18e2b2e6b19cd1f1905b2', 'message': ""[DVR] Reconfigure re-created physical bridges for dvr routers\n\nIn case when physical bridge is removed and created again it\nis initialized by neutron-ovs-agent.\nBut if agent has enabled distributed routing, dvr related\nflows wasn't configured again and that lead to connectivity issues\nin case of DVR routers.\n\nThis patch fixes it by adding configuration of dvr related flows\nif distributed routing is enabled in agent's configuration.\n\nIt also adds reset list of phys_brs in dvr_agent. Without that there\nwere different objects used in ovs agent and dvr_agent classes thus\ne.g. 2 various cookie ids were set on flows in physical bridge.\nThis was also the same issue in case when openvswitch was restarted and\nall bridges were reconfigured.\nNow in such case there is correctly new cookie_id configured for all\nflows.\n\nChange-Id: I710f00f0f542bcf7fa2fc60800797b90f9f77e14\nCloses-Bug: #1864822\n(cherry picked from commit 91f0bf3c8511bf3b0cc63746f767d8d4dce601bd)\n""}]",0,731294,b03f9d4c433dbe32d1d18e2b2e6b19cd1f1905b2,34,8,2,16011,,,0,"[DVR] Reconfigure re-created physical bridges for dvr routers

In case when physical bridge is removed and created again it
is initialized by neutron-ovs-agent.
But if agent has enabled distributed routing, dvr related
flows wasn't configured again and that lead to connectivity issues
in case of DVR routers.

This patch fixes it by adding configuration of dvr related flows
if distributed routing is enabled in agent's configuration.

It also adds reset list of phys_brs in dvr_agent. Without that there
were different objects used in ovs agent and dvr_agent classes thus
e.g. 2 various cookie ids were set on flows in physical bridge.
This was also the same issue in case when openvswitch was restarted and
all bridges were reconfigured.
Now in such case there is correctly new cookie_id configured for all
flows.

Change-Id: I710f00f0f542bcf7fa2fc60800797b90f9f77e14
Closes-Bug: #1864822
(cherry picked from commit 91f0bf3c8511bf3b0cc63746f767d8d4dce601bd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/731294/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",3,d902688ff8de044e525a5a6cbfeaa9eb086f8d85,bug/1864822-stable/ussuri," def test_ext_br_recreated(self): self._setup_for_dvr_test() reset_methods = ( 'reset_ovs_parameters', 'reset_dvr_parameters', 'setup_dvr_flows_on_integ_br', 'setup_dvr_flows_on_tun_br', 'setup_dvr_flows_on_phys_br', 'setup_dvr_mac_flows_on_all_brs') for method in reset_methods: mock.patch.object(self.agent.dvr_agent, method).start() bridge_mappings = {'physnet0': 'br-ex0', 'physnet1': 'br-ex1'} ex_br_mocks = [mock.Mock(br_name='br-ex0'), mock.Mock(br_name='br-ex1')] phys_bridges = {'physnet0': ex_br_mocks[0], 'physnet1': ex_br_mocks[1]}, bridges_added = ['br-ex0'] with mock.patch.object(self.agent, 'check_ovs_status', return_value=constants.OVS_NORMAL), \ mock.patch.object(self.agent, '_agent_has_updates', side_effect=TypeError('loop exit')), \ mock.patch.dict(self.agent.bridge_mappings, bridge_mappings, clear=True), \ mock.patch.dict(self.agent.phys_brs, phys_bridges, clear=True), \ mock.patch.object(self.agent, 'setup_physical_bridges') as \ setup_physical_bridges, \ mock.patch.object(self.agent.ovs.ovsdb, 'idl_monitor') as \ mock_idl_monitor: mock_idl_monitor.bridges_added = bridges_added try: self.agent.rpc_loop(polling_manager=mock.Mock()) except TypeError: pass # Setup bridges should be called once even if it will raise Runtime # Error because TypeError is raised in _agent_has_updates to stop # agent after first loop iteration setup_physical_bridges.assert_called_once_with({'physnet0': 'br-ex0'}) # Ensure dvr_agent methods were called correctly self.agent.dvr_agent.reset_ovs_parameters.assert_called_once_with( self.agent.int_br, self.agent.tun_br, self.agent.phys_brs, self.agent.patch_int_ofport, self.agent.patch_tun_ofport) self.agent.dvr_agent.reset_dvr_parameters.assert_called_once_with() (self.agent.dvr_agent.setup_dvr_flows_on_phys_br. assert_called_once_with({'physnet0': 'br-ex0'})) (self.agent.dvr_agent.setup_dvr_flows_on_integ_br. assert_called_once_with()) (self.agent.dvr_agent.setup_dvr_flows_on_tun_br. assert_called_once_with()) (self.agent.dvr_agent.setup_dvr_mac_flows_on_all_brs. assert_called_once_with()) ",,76,14
openstack%2Fneutron~stable%2Fussuri~Ia4b986146c77edf0616015380359e37233df80fc,openstack/neutron,stable/ussuri,Ia4b986146c77edf0616015380359e37233df80fc,[OVN] Don't set virtual port type on ports with similar addresses,MERGED,2020-06-04 12:57:00.000000000,2020-06-10 17:23:00.000000000,2020-06-10 17:16:49.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-04 12:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7d8ee929e6747d27a2a77fe11603e3af15cd911', 'message': ""[OVN] Don't set virtual port type on ports with similar addresses\n\nBecause of broken check why one port has similar address to the other\none, the first one by mistake could be set as virtual.\nExample:\n port_1: 10.11.1.100\n port_2: 10.11.1.10\n\nOn create of port_2 it is set as 'virtual', but shouldn't.\n\nThis patch fixes that bug by using common function\nutils.get_ovn_port_addresses().\n\nChange-Id: Ia4b986146c77edf0616015380359e37233df80fc\nCloses-Bug: #1881759\n(cherry picked from commit e6023ecb482ee0dc7e29739b94e009c275cc24a1)\n""}, {'number': 2, 'created': '2020-06-09 07:46:04.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0dfb50a9a849020f0f4818982dd83081823b3f9', 'message': ""[OVN] Don't set virtual port type on ports with similar addresses\n\nBecause of broken check why one port has similar address to the other\none, the first one by mistake could be set as virtual.\nExample:\n port_1: 10.11.1.100\n port_2: 10.11.1.10\n\nOn create of port_2 it is set as 'virtual', but shouldn't.\n\nThis patch fixes that bug by using common function\nutils.get_ovn_port_addresses().\n\nChange-Id: Ia4b986146c77edf0616015380359e37233df80fc\nCloses-Bug: #1881759\n(cherry picked from commit e6023ecb482ee0dc7e29739b94e009c275cc24a1)\n""}]",0,733602,a0dfb50a9a849020f0f4818982dd83081823b3f9,25,5,2,24791,,,0,"[OVN] Don't set virtual port type on ports with similar addresses

Because of broken check why one port has similar address to the other
one, the first one by mistake could be set as virtual.
Example:
 port_1: 10.11.1.100
 port_2: 10.11.1.10

On create of port_2 it is set as 'virtual', but shouldn't.

This patch fixes that bug by using common function
utils.get_ovn_port_addresses().

Change-Id: Ia4b986146c77edf0616015380359e37233df80fc
Closes-Bug: #1881759
(cherry picked from commit e6023ecb482ee0dc7e29739b94e009c275cc24a1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/733602/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py']",2,e7d8ee929e6747d27a2a77fe11603e3af15cd911,bug/1881759-stable/ussuri," def test_virtual_port_not_set_similiar_address(self): # Create one port self._create_port(fixed_ip='10.0.0.110') # Create second port with similar IP, so that # string matching will return True second_port = self._create_port(fixed_ip='10.0.0.11') # Assert the virtual port has not been set. ovn_vport = self._find_port_row(second_port['id']) self.assertEqual("""", ovn_vport.type) self.assertNotIn(ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY, ovn_vport.options) self.assertNotIn(ovn_const.LSP_OPTIONS_VIRTUAL_IP_KEY, ovn_vport.options) ",,18,2
openstack%2Fnova~stable%2Fussuri~I764481966c96a67d993da6e902dc9fc3ad29ee36,openstack/nova,stable/ussuri,I764481966c96a67d993da6e902dc9fc3ad29ee36,libvirt: Don't delete disks on shared storage during evacuate,MERGED,2020-05-27 15:37:33.000000000,2020-06-10 17:22:57.000000000,2020-06-10 17:17:20.000000000,"[{'_account_id': 4690}, {'_account_id': 9555}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-27 15:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d298f7763b709cfc01f89222de31f566310748b3', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 083df01a4d90e155c1b4ef9e954d8be14a02d830)\n(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)\n""}, {'number': 2, 'created': '2020-06-10 00:05:34.000000000', 'files': ['nova/tests/functional/libvirt/test_evacuate.py', 'nova/virt/libvirt/driver.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/functional/regressions/test_bug_1595962.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8b48ca672d9c0eb108c71b7f9f3f089d9ecf688a', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)\n""}]",2,731248,8b48ca672d9c0eb108c71b7f9f3f089d9ecf688a,23,10,2,10135,,,0,"libvirt: Don't delete disks on shared storage during evacuate

When evacuating an instance between compute hosts on shared storage,
during the rebuild operation we call spawn() on the destination
compute. spawn() currently assumes that it should cleanup all
resources on failure, which results in user data being deleted in the
evacuate case.

This change modifies spawn in the libvirt driver such that it only
cleans up resources it created.

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Closes-Bug: #1550919
Change-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36
(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/731248/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_evacuate.py', 'nova/virt/libvirt/driver.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/functional/regressions/test_bug_1595962.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",5,d298f7763b709cfc01f89222de31f566310748b3,bug/1550919," mock.patch.object(drvr, '_cleanup')): '_create_image', lambda *a, **kw: (False, False)) cleanup_instance_dir=False, cleanup_instance_disks=False): mock.patch.object(drvr, '_cleanup')): @mock.patch.object(drvr, '_cleanup') self.assertRaises( test.TestingException, drvr._create_domain_and_network, self.context, 'xml', instance, [], None, cleanup_instance_dir=mock.sentinel.cleanup_instance_dir, cleanup_instance_disks=mock.sentinel.cleanup_instance_disks) mock_cleanup.assert_called_once_with( self.context, instance, [], None, None, cleanup_instance_dir=mock.sentinel.cleanup_instance_dir, cleanup_instance_disks=mock.sentinel.cleanup_instance_disks) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: drvr._cleanup_failed_start( None, None, None, None, None, False, False) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: drvr._cleanup_failed_start( None, None, None, None, guest, False, False) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: drvr._cleanup_failed_start( None, None, None, None, guest, False, False) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: None, None, None, None, guest, False, False) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: self.assertRaises( test.TestingException, drvr._cleanup_failed_start, None, None, None, None, guest, cleanup_instance_dir=mock.sentinel.cleanup_instance_dir, cleanup_instance_disks=mock.sentinel.cleanup_instance_disks) mock_cleanup.assert_called_once_with( None, None, None, block_device_info=None, destroy_vifs=True, cleanup_instance_dir=mock.sentinel.cleanup_instance_dir, cleanup_instance_disks=mock.sentinel.cleanup_instance_disks)"," mock.patch.object(drvr, 'cleanup')): '_create_image', lambda *a, **kw: None) destroy_disks_on_failure=False): mock.patch.object(drvr, 'cleanup')): @mock.patch.object(drvr, 'cleanup') self.assertRaises(test.TestingException, drvr._create_domain_and_network, self.context, 'xml', instance, [], None) mock_cleanup.assert_called_once_with(self.context, instance, [], None, None, False) # destroy_disks_on_failure=True, used only by spawn() mock_cleanup.reset_mock() self.assertRaises(test.TestingException, drvr._create_domain_and_network, self.context, 'xml', instance, [], None, destroy_disks_on_failure=True) mock_cleanup.assert_called_once_with(self.context, instance, [], None, None, True) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: drvr._cleanup_failed_start(None, None, None, None, None, False) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: drvr._cleanup_failed_start(None, None, None, None, guest, False) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: drvr._cleanup_failed_start(None, None, None, None, guest, False) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: None, None, None, None, guest, False) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: self.assertRaises(test.TestingException, drvr._cleanup_failed_start, None, None, None, None, guest, True) mock_cleanup.assert_called_once_with(None, None, network_info=None, block_device_info=None, destroy_disks=True)",185,91
openstack%2Fnetworking-ovn~stable%2Ftrain~Id0dc8a478b903b80cf8afdfa3d2b23e90d22e112,openstack/networking-ovn,stable/train,Id0dc8a478b903b80cf8afdfa3d2b23e90d22e112,Do not send status update in case of IpAddressAlreadyAllocated,MERGED,2020-06-10 09:11:22.000000000,2020-06-10 17:22:49.000000000,2020-06-10 17:20:33.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2020-06-10 09:11:22.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/18091f0ba1c69dbd988512a97ad5aec00a337834', 'message': ""Do not send status update in case of IpAddressAlreadyAllocated\n\nIf IpAddressAlreadyAllocated is raised and the created VIP with\nthe same IP address allocated is not owned by LB that we're trying\nto create, we should raise DriverError instead passing the status\nupdate to Octavia API.\n\nCherry-picked from OVN-Octavia-Provider: https://review.opendev.org/#/c/734634/\nChange-Id: Id0dc8a478b903b80cf8afdfa3d2b23e90d22e112\nCloses-Bug: 1882724\n(cherry picked from commit 2448c4925b7c2b2e4f4287a14bc67fa5e8360002)\n""}]",0,734772,18091f0ba1c69dbd988512a97ad5aec00a337834,9,4,1,24791,,,0,"Do not send status update in case of IpAddressAlreadyAllocated

If IpAddressAlreadyAllocated is raised and the created VIP with
the same IP address allocated is not owned by LB that we're trying
to create, we should raise DriverError instead passing the status
update to Octavia API.

Cherry-picked from OVN-Octavia-Provider: https://review.opendev.org/#/c/734634/
Change-Id: Id0dc8a478b903b80cf8afdfa3d2b23e90d22e112
Closes-Bug: 1882724
(cherry picked from commit 2448c4925b7c2b2e4f4287a14bc67fa5e8360002)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/72/734772/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py']",2,18091f0ba1c69dbd988512a97ad5aec00a337834,," self.assertRaises( n_exc.IpAddressAlreadyAllocatedClient, self.helper.create_vip_port, self.helper._update_status_to_octavia.assert_not_called()"," ret = self.helper.create_vip_port( self.assertIsNone(ret) self.helper._update_status_to_octavia.assert_called_once_with( {'loadbalancers': [{'id': self.loadbalancer_id, 'provisioning_status': 'ERROR', 'operating_status': 'ERROR'}]})",12,15
openstack%2Fneutron~stable%2Fpike~I7f56adc2bf4df704302f87e3e57bc2b769b89d68,openstack/neutron,stable/pike,I7f56adc2bf4df704302f87e3e57bc2b769b89d68,[Pike-only]: make grenade jobs non-voting,MERGED,2020-06-03 11:57:48.000000000,2020-06-10 17:17:04.000000000,2020-06-10 17:17:03.000000000,"[{'_account_id': 1131}, {'_account_id': 2733}, {'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-03 11:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/694f2a1a6623e90257339439e8fbfbdfed1e4b8f', 'message': '[Pike-only]: make grenade jobs non-voting\n\nAs tempest constantly fails on Ocata (see [1]) greande will not pass on\nPike, so grenade jobs can be non-voting, and later even removed from\nstable/pike CI.\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2020-May/015112.html\n\nChange-Id: I7f56adc2bf4df704302f87e3e57bc2b769b89d68\n'}, {'number': 2, 'created': '2020-06-03 12:22:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d4f75f0ab07c028b443d55ae9ce9169e92134a3e', 'message': '[Pike-only]: make grenade jobs non-voting\n\nAs tempest constantly fails on Ocata (see [1]) greande will not pass on\nPike, so grenade jobs can be non-voting, and remove them from gate jobs.\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2020-May/015112.html\n\nChange-Id: I7f56adc2bf4df704302f87e3e57bc2b769b89d68\n'}]",3,733120,d4f75f0ab07c028b443d55ae9ce9169e92134a3e,18,6,2,8313,,,0,"[Pike-only]: make grenade jobs non-voting

As tempest constantly fails on Ocata (see [1]) greande will not pass on
Pike, so grenade jobs can be non-voting, and remove them from gate jobs.

[1]: http://lists.openstack.org/pipermail/openstack-discuss/2020-May/015112.html

Change-Id: I7f56adc2bf4df704302f87e3e57bc2b769b89d68
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/733120/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,694f2a1a6623e90257339439e8fbfbdfed1e4b8f,nonvoting_greande_pike, voting: false voting: false voting: false,,3,0
openstack%2Fneutron~stable%2Fussuri~I427321fbb87865931b2b28abf7687d37e8d01a53,openstack/neutron,stable/ussuri,I427321fbb87865931b2b28abf7687d37e8d01a53,Fix iptables rules comments,MERGED,2020-06-04 12:34:08.000000000,2020-06-10 17:16:59.000000000,2020-06-10 17:16:59.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-04 12:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b109cb8954f281792e7c0c96e1ffa20579d2bc3a', 'message': 'Fix iptables rules comments\n\nIn case when value of port[\'device\'] don\'t starts with ""tap_"",\nin comments to the conntrack or stateless rules in the iptables there\nshould be full port[\'device\'] written. It will make things easier to\ndebug for the operators e.g. when using iptables_hybrid driver.\n\nChange-Id: I427321fbb87865931b2b28abf7687d37e8d01a53\nCloses-bug: #1880691\n(cherry picked from commit d8eac6fa50f237b94739522bc527a7a5ca93c328)\n'}, {'number': 2, 'created': '2020-06-10 06:57:14.000000000', 'files': ['neutron/agent/linux/iptables_firewall.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fde6fc3ecdb982235e8aefe879f68253fe921de9', 'message': 'Fix iptables rules comments\n\nIn case when value of port[\'device\'] don\'t starts with ""tap_"",\nin comments to the conntrack or stateless rules in the iptables there\nshould be full port[\'device\'] written. It will make things easier to\ndebug for the operators e.g. when using iptables_hybrid driver.\n\nChange-Id: I427321fbb87865931b2b28abf7687d37e8d01a53\nCloses-bug: #1880691\n(cherry picked from commit d8eac6fa50f237b94739522bc527a7a5ca93c328)\n'}]",0,733587,fde6fc3ecdb982235e8aefe879f68253fe921de9,16,5,2,11975,,,0,"Fix iptables rules comments

In case when value of port['device'] don't starts with ""tap_"",
in comments to the conntrack or stateless rules in the iptables there
should be full port['device'] written. It will make things easier to
debug for the operators e.g. when using iptables_hybrid driver.

Change-Id: I427321fbb87865931b2b28abf7687d37e8d01a53
Closes-bug: #1880691
(cherry picked from commit d8eac6fa50f237b94739522bc527a7a5ca93c328)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/733587/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/iptables_firewall.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py']",2,b109cb8954f281792e7c0c96e1ffa20579d2bc3a,bug/1880691," def test__get_port_device_name(self): self.assertEqual( ""name"", self.firewall._get_port_device_name({'device': 'name'})) self.assertEqual( ""name"", self.firewall._get_port_device_name( {'device': '%s_name' % constants.TAP_DEVICE_PREFIX})) ",,16,2
openstack%2Fkolla-ansible~master~If6fe17873cfb8b4c1135f9dc04ddd378c682ec8b,openstack/kolla-ansible,master,If6fe17873cfb8b4c1135f9dc04ddd378c682ec8b,Implementing blueprint multiple-globals-files,ABANDONED,2020-06-10 16:48:09.000000000,2020-06-10 17:12:32.000000000,,[],"[{'number': 1, 'created': '2020-06-10 16:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/96081391c6f0f88a12b0c6334d2407f6768680c0', 'message': 'Adding the changes to the tools/kolla-ansible script and to the\nuser/quickstart documentations,  in order to implement the\nmultiple-globals-files blueprint. Also fixed some very long single\nlines in the spec file for the blueprint.\n\nChange-Id: If6fe17873cfb8b4c1135f9dc04ddd378c682ec8b\nImplements: blueprint multiple-globals-files\n'}, {'number': 2, 'created': '2020-06-10 16:52:12.000000000', 'files': ['doc/source/user/quickstart.rst', 'specs/multiple-globals-files.rst', 'tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d87db1746ffc31993d000c78a4fcfcff2711204f', 'message': 'Implementing blueprint multiple-globals-files\n\nAdding the changes to the tools/kolla-ansible script and to the\nuser/quickstart documentations,  in order to implement the\nmultiple-globals-files blueprint. Also fixed some very long single\nlines in the spec file for the blueprint.\n\nChange-Id: If6fe17873cfb8b4c1135f9dc04ddd378c682ec8b\nImplements: blueprint multiple-globals-files\n'}]",0,734887,d87db1746ffc31993d000c78a4fcfcff2711204f,3,0,2,29303,,,0,"Implementing blueprint multiple-globals-files

Adding the changes to the tools/kolla-ansible script and to the
user/quickstart documentations,  in order to implement the
multiple-globals-files blueprint. Also fixed some very long single
lines in the spec file for the blueprint.

Change-Id: If6fe17873cfb8b4c1135f9dc04ddd378c682ec8b
Implements: blueprint multiple-globals-files
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/87/734887/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/quickstart.rst', 'specs/multiple-globals-files.rst', 'tools/kolla-ansible']",3,96081391c6f0f88a12b0c6334d2407f6768680c0,bp/multiple-globals-files,"GLOBALS_DIR=""/etc/kolla/globals.d"" if [ -d ""${GLOBALS_DIR}"" ]; then for file in ${GLOBALS_DIR}/*.yml do EXTRA_GLOBALS=""${EXTRA_GLOBALS} -e @${file}"" done fi CONFIG_OPTS=""-e @${CONFIG_DIR}/globals.yml ${EXTRA_GLOBALS} -e @${PASSWORDS_FILE} -e CONFIG_DIR=${CONFIG_DIR}""","CONFIG_OPTS=""-e @${CONFIG_DIR}/globals.yml -e @${PASSWORDS_FILE} -e CONFIG_DIR=${CONFIG_DIR}""",32,4
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I3bafda2dd8049b93d9e049c8b9fe9940784bfac9,openstack/tripleo-heat-templates,stable/train,I3bafda2dd8049b93d9e049c8b9fe9940784bfac9,Add the ability to offload amphora logs,MERGED,2020-06-04 21:49:48.000000000,2020-06-10 17:07:56.000000000,2020-06-10 17:05:44.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-04 21:49:48.000000000', 'files': ['releasenotes/notes/octavia-log-offload-d1617e767f688da1.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6cbee27e9725150f4d85ea96485d1edd61bdc8a4', 'message': 'Add the ability to offload amphora logs\n\nThis patch adds the ability to enable log offloading from the amphora\ninstances to an Octavia rsyslog container.\n\nDepends-On: https://review.opendev.org/#/c/733709\nChange-Id: I3bafda2dd8049b93d9e049c8b9fe9940784bfac9\n(cherry picked from commit af90b51c53f7ea0ff9e8b899e45723548e753043)\n'}]",0,733711,6cbee27e9725150f4d85ea96485d1edd61bdc8a4,10,5,1,11628,,,0,"Add the ability to offload amphora logs

This patch adds the ability to enable log offloading from the amphora
instances to an Octavia rsyslog container.

Depends-On: https://review.opendev.org/#/c/733709
Change-Id: I3bafda2dd8049b93d9e049c8b9fe9940784bfac9
(cherry picked from commit af90b51c53f7ea0ff9e8b899e45723548e753043)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/733711/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/octavia-log-offload-d1617e767f688da1.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml']",3,6cbee27e9725150f4d85ea96485d1edd61bdc8a4,," OctaviaLogOffload: default: false description: When true, log messages from the amphora will be forwarded to the administrative log endponts and will be stored with the controller logs. type: boolean enable_log_offloading: { get_param: OctaviaLogOffload }",,77,18
openstack%2Fproject-team-guide~master~I7ee87c4bd111935638dd74a277782a1f4d82e754,openstack/project-team-guide,master,I7ee87c4bd111935638dd74a277782a1f4d82e754,Switch to newer openstackdocstheme version,MERGED,2020-06-10 14:06:43.000000000,2020-06-10 17:07:17.000000000,2020-06-10 17:05:31.000000000,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 14:06:43.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/be9f8f1c7bc6895e973ccaa158f6128f2a84e20b', 'message': ""Switch to newer openstackdocstheme version\n\nSwitch to openstackdocstheme 2.2.1 version. Using\nthis version will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_version to not auto-version the documents.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: I7ee87c4bd111935638dd74a277782a1f4d82e754\n""}]",0,734851,be9f8f1c7bc6895e973ccaa158f6128f2a84e20b,8,3,1,6547,,,0,"Switch to newer openstackdocstheme version

Switch to openstackdocstheme 2.2.1 version. Using
this version will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

Disable openstackdocs_auto_version to not auto-version the documents.

Disable openstackdocs_auto_name to use 'project' variable as name.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: I7ee87c4bd111935638dd74a277782a1f4d82e754
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/51/734851/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt']",2,be9f8f1c7bc6895e973ccaa158f6128f2a84e20b,reno-openstackdocstheme,"openstackdocstheme>=2.2.1 # Apache-2.0 sphinx>=2.0.0,!=2.1.0 # BSD",openstackdocstheme>=1.32.1 # Apache-2.0 sphinx>=1.6.2 # BSD,10,6
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib3e82d641d0fa9e688a8a2c3b72c1ea28a21bf88,openstack/tripleo-heat-templates,stable/train,Ib3e82d641d0fa9e688a8a2c3b72c1ea28a21bf88,Add support for lunasa hsm in barbican,MERGED,2020-05-14 15:42:25.000000000,2020-06-10 17:05:42.000000000,2020-06-10 17:05:42.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-05-14 15:42:25.000000000', 'files': ['environments/barbican-backend-pkcs11-lunasa.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/41e85635628bd084b5ff619f5301faa0ac0cff9e', 'message': 'Add support for lunasa hsm in barbican\n\nChange-Id: Ib3e82d641d0fa9e688a8a2c3b72c1ea28a21bf88\n(cherry picked from commit 1472d971af3d15a5218f08ad58bbf628f1189c67)\n'}]",7,728119,41e85635628bd084b5ff619f5301faa0ac0cff9e,17,8,1,9914,,,0,"Add support for lunasa hsm in barbican

Change-Id: Ib3e82d641d0fa9e688a8a2c3b72c1ea28a21bf88
(cherry picked from commit 1472d971af3d15a5218f08ad58bbf628f1189c67)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/728119/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/barbican-backend-pkcs11-lunasa.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml']",2,41e85635628bd084b5ff619f5301faa0ac0cff9e,add_barbican_lunasa-stable/train," BarbicanPkcs11CryptoLunasaEnabled: type: boolean default: false LunasaVars: default: {} description: Hash of lunasa-hsm role variables used to install Lunasa client software. type: json service_debug_unset: {equals : [{get_param: BarbicanDebug}, '']} lunasa_hsm_enabled: {equals: [{get_param: BarbicanPkcs11CryptoLunasaEnabled}, true]} thales_or_atos_or_lunasa_hsm_enabled: - lunasa_hsm_enabled - thales_or_atos_or_lunasa_hsm_enabled - if: - lunasa_hsm_enabled - - name: Lunasa client install when: step|int == 2 block: - name: install the lunasa client include_role: name: lunasa_hsm vars: {get_param: LunasaVars} - name: set the slot id in hieradata include_role: name: tripleo_hieradata tasks_from: ansible_hieradata.yml vars: hieradata_ansible_data: barbican::plugins::p11_crypto::p11_crypto_plugin_slot_id: ""{{ lunasa_ha_slot }}"" when: lunasa_ha_slot - null - if: - lunasa_hsm_enabled - - /etc/Chrystoki.conf:/etc/Chrystoki.conf - /usr/lib/libCryptoki2_64.so:/usr/lib/libCryptoki2_64.so - /usr/safenet/lunaclient:/usr/safenet/lunaclient - null - if: - lunasa_hsm_enabled - - /etc/Chrystoki.conf:/etc/Chrystoki.conf - /usr/lib/libCryptoki2_64.so:/usr/lib/libCryptoki2_64.so - /usr/safenet/lunaclient:/usr/safenet/lunaclient - null - if: - lunasa_hsm_enabled - - /etc/Chrystoki.conf:/etc/Chrystoki.conf - /usr/lib/libCryptoki2_64.so:/usr/lib/libCryptoki2_64.so - /usr/safenet/lunaclient:/usr/safenet/lunaclient - null"," service_debug_unset: {equals : [{get_param: BarbicanDebug}, '']} thales_or_atos_hsm_enabled: - thales_or_atos_hsm_enabled",99,3
openstack%2Ftripleo-common~stable%2Ftrain~I3ce6808379790e2e4d96027d5f92384249c8c783,openstack/tripleo-common,stable/train,I3ce6808379790e2e4d96027d5f92384249c8c783,Add Octavia use of the rsyslog image,MERGED,2020-06-04 21:40:48.000000000,2020-06-10 16:55:44.000000000,2020-06-10 16:50:46.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-04 21:40:48.000000000', 'files': ['container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c8b92cb3606e93465fb7f1f0ffff11b73204ed6d', 'message': 'Add Octavia use of the rsyslog image\n\nOctavia is adding a container to collect logs from inside the\namphora instances. This patch adds Octavia to the list of services\nleveraging the existing rsyslog container.\n\nChange-Id: I3ce6808379790e2e4d96027d5f92384249c8c783\n(cherry picked from commit 32c96fe430feddfbf353d076eda36f6cfcdbfd1a)\n(cherry picked from commit 284376145b371dfd64243b2a4460fb09c4e6f8aa)\n'}]",0,733709,c8b92cb3606e93465fb7f1f0ffff11b73204ed6d,10,5,1,11628,,,0,"Add Octavia use of the rsyslog image

Octavia is adding a container to collect logs from inside the
amphora instances. This patch adds Octavia to the list of services
leveraging the existing rsyslog container.

Change-Id: I3ce6808379790e2e4d96027d5f92384249c8c783
(cherry picked from commit 32c96fe430feddfbf353d076eda36f6cfcdbfd1a)
(cherry picked from commit 284376145b371dfd64243b2a4460fb09c4e6f8aa)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/09/733709/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/overcloud_containers.yaml.j2'],1,c8b92cb3606e93465fb7f1f0ffff11b73204ed6d,, - ContainerOctaviaRsyslogImage - OS::TripleO::Services::OctaviaHealthManager,,2,0
openstack%2Fopenstack-helm~master~I07e7989bbddc8305835e9998c02df02673725806,openstack/openstack-helm,master,I07e7989bbddc8305835e9998c02df02673725806,WIP: enable tls for neutron,ABANDONED,2020-06-09 22:52:27.000000000,2020-06-10 16:54:40.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 22:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/43228f3a3ec473fe1d7e4767cddc9c5ff03208fb', 'message': 'WIP: enable tls for neutron\n\nDepends-on: https://review.opendev.org/#/c/733289\n\nChange-Id: I07e7989bbddc8305835e9998c02df02673725806\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2020-06-09 22:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ac8dd564209f587ad3853f5c392896ba86eba6df', 'message': 'WIP: enable tls for neutron\n\nDepends-on: https://review.opendev.org/#/c/733289\n\nChange-Id: I07e7989bbddc8305835e9998c02df02673725806\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2020-06-09 23:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e8f27ab1e14ca157c9739959391d4a79bf11c301', 'message': 'WIP: enable tls for neutron\n\nDepends-on: https://review.opendev.org/#/c/733289\n\nChange-Id: I07e7989bbddc8305835e9998c02df02673725806\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2020-06-10 02:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/26a8e34451c5ae22229924a3fe067f8ce43a9c7a', 'message': 'WIP: enable tls for neutron\n\nDepends-on: https://review.opendev.org/#/c/733289\n\nChange-Id: I07e7989bbddc8305835e9998c02df02673725806\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 5, 'created': '2020-06-10 07:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e14f2e3ca0105cade818a7074b41d64104f7f709', 'message': 'WIP: enable tls for neutron\n\nDepends-on: https://review.opendev.org/#/c/733289\n\nChange-Id: I07e7989bbddc8305835e9998c02df02673725806\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 6, 'created': '2020-06-10 10:27:16.000000000', 'files': ['neutron/templates/deployment-server.yaml', 'neutron/templates/bin/_nginx.sh.tpl', 'neutron/templates/job-ks-user.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'neutron/templates/ingress-server.yaml', 'neutron/templates/job-ks-service.yaml', 'neutron/templates/certificates.yaml', 'neutron/templates/job-bootstrap.yaml', 'neutron/templates/configmap-bin.yaml', 'neutron/templates/job-ks-endpoints.yaml', 'zuul.d/project.yaml', 'neutron/values.yaml', 'neutron/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2059357ba5c5b8d0a13c6a799e192d6e9d24f2e6', 'message': 'WIP: enable tls for neutron\n\nDepends-on: https://review.opendev.org/#/c/733289\n\nChange-Id: I07e7989bbddc8305835e9998c02df02673725806\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,734717,2059357ba5c5b8d0a13c6a799e192d6e9d24f2e6,12,2,6,20466,,,0,"WIP: enable tls for neutron

Depends-on: https://review.opendev.org/#/c/733289

Change-Id: I07e7989bbddc8305835e9998c02df02673725806
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/17/734717/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/deployment-server.yaml', 'neutron/templates/job-ks-service.yaml', 'neutron/templates/certificates.yaml', 'neutron/templates/job-bootstrap.yaml', 'neutron/templates/job-ks-user.yaml', 'neutron/templates/job-ks-endpoints.yaml', 'neutron/values.yaml', 'neutron/templates/ingress-server.yaml']",8,43228f3a3ec473fe1d7e4767cddc9c5ff03208fb,tls/neutron,"{{- $envAll := . -}} {{- $ingressOpts := dict ""envAll"" $envAll ""backendService"" ""server"" ""backendServiceType"" ""network"" ""backendPort"" ""q-api"" -}} {{- $secretName := $envAll.Values.secrets.tls.network.server.internal -}} {{- if and .Values.manifests.certificates $secretName -}} {{- $issuerName := index .Values.endpoints.image.certs ($secretName | replace ""-"" ""_"") ""issuerRef"" ""name"" -}} {{- $_ := set $ingressOpts ""certIssuer"" $issuerName -}} {{- end -}}","{{- $ingressOpts := dict ""envAll"" . ""backendService"" ""server"" ""backendServiceType"" ""network"" ""backendPort"" ""q-api"" -}}",99,7
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I3bafda2dd8049b93d9e049c8b9fe9940784bfac9,openstack/tripleo-heat-templates,stable/ussuri,I3bafda2dd8049b93d9e049c8b9fe9940784bfac9,Add the ability to offload amphora logs,MERGED,2020-06-04 21:41:55.000000000,2020-06-10 16:53:51.000000000,2020-06-10 16:50:48.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-04 21:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af90b51c53f7ea0ff9e8b899e45723548e753043', 'message': 'Add the ability to offload amphora logs\n\nThis patch adds the ability to enable log offloading from the amphora\ninstances to an Octavia rsyslog container.\n\nhttps://review.opendev.org/#/c/731027\nChange-Id: I3bafda2dd8049b93d9e049c8b9fe9940784bfac9\n(cherry picked from commit f186f8e459a843c4127fed014de7e21eeb9d463d)\n'}, {'number': 2, 'created': '2020-06-04 21:50:09.000000000', 'files': ['releasenotes/notes/octavia-log-offload-d1617e767f688da1.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/31f2658df8e5b0a13776bda76bc71eaa6ac43734', 'message': 'Add the ability to offload amphora logs\n\nThis patch adds the ability to enable log offloading from the amphora\ninstances to an Octavia rsyslog container.\n\nDepends-On: https://review.opendev.org/#/c/731027\nChange-Id: I3bafda2dd8049b93d9e049c8b9fe9940784bfac9\n(cherry picked from commit f186f8e459a843c4127fed014de7e21eeb9d463d)\n'}]",0,733710,31f2658df8e5b0a13776bda76bc71eaa6ac43734,13,5,2,11628,,,0,"Add the ability to offload amphora logs

This patch adds the ability to enable log offloading from the amphora
instances to an Octavia rsyslog container.

Depends-On: https://review.opendev.org/#/c/731027
Change-Id: I3bafda2dd8049b93d9e049c8b9fe9940784bfac9
(cherry picked from commit f186f8e459a843c4127fed014de7e21eeb9d463d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/733710/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/octavia-log-offload-d1617e767f688da1.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml']",3,af90b51c53f7ea0ff9e8b899e45723548e753043,octavia-rsyslog-stable/ussuri," OctaviaLogOffload: default: false description: When true, log messages from the amphora will be forwarded to the administrative log endponts and will be stored with the controller logs. type: boolean enable_log_offloading: { get_param: OctaviaLogOffload }",,77,18
openstack%2Ftripleo-quickstart~master~Ib073e31f5c0237e4c7a2fb9caefaaf2eeac6ef35,openstack/tripleo-quickstart,master,Ib073e31f5c0237e4c7a2fb9caefaaf2eeac6ef35,need more than one test defined for 062,MERGED,2020-06-03 02:03:44.000000000,2020-06-10 16:53:26.000000000,2020-06-10 16:50:39.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-03 02:03:44.000000000', 'files': ['config/general_config/featureset062.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a908540d1df9be17a22a30a2e672067c0a926e81', 'message': ""need more than one test defined for 062\n\nIf you only have one test defined in tempest\nthe tests can not be skipped.  Let's add some more\nbasic network validation\n\nChange-Id: Ib073e31f5c0237e4c7a2fb9caefaaf2eeac6ef35\n""}]",2,733038,a908540d1df9be17a22a30a2e672067c0a926e81,21,6,1,9592,,,0,"need more than one test defined for 062

If you only have one test defined in tempest
the tests can not be skipped.  Let's add some more
basic network validation

Change-Id: Ib073e31f5c0237e4c7a2fb9caefaaf2eeac6ef35
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/38/733038/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset062.yml'],1,a908540d1df9be17a22a30a2e672067c0a926e81,, - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps',,1,0
openstack%2Ftripleo-heat-templates~master~I9e8e3b4395c25a0458d28b15666768152736c752,openstack/tripleo-heat-templates,master,I9e8e3b4395c25a0458d28b15666768152736c752,Support for Dell EMC VXFlexOS Backend,MERGED,2020-05-18 00:46:06.000000000,2020-06-10 16:53:15.000000000,2020-06-10 16:50:44.000000000,"[{'_account_id': 3153}, {'_account_id': 7160}, {'_account_id': 10379}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-18 00:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/53d1529230bf1a34ed6005c920c5fb77d89f4777', 'message': 'Support for Dell EMC VXFlexOS Backend\n\nAdding support for VXFlexOS Volume Backend\n\nChange-Id: I9e8e3b4395c25a0458d28b15666768152736c752\nCloses-Bug: 1875176\n'}, {'number': 2, 'created': '2020-05-18 00:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32e2884ba1df0d8f7cc2d0d40dc2665abda3a617', 'message': 'Support for Dell EMC VXFlexOS Backend\n\nAdding support for VXFlexOS Volume Backend\n\nChange-Id: I9e8e3b4395c25a0458d28b15666768152736c752\nCloses-Bug: 1875176\n'}, {'number': 3, 'created': '2020-05-28 22:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8ef835e1b873e15c9c9021b2551966076dc941a', 'message': 'Support for Dell EMC VXFlexOS Backend\n\nAdding support for VXFlexOS Volume Backend\n\nChange-Id: I9e8e3b4395c25a0458d28b15666768152736c752\nCloses-Bug: 1875176\n'}, {'number': 4, 'created': '2020-05-28 22:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/82196ba8c34ea825904d7a7c5851d8dcfd6e1358', 'message': 'Support for Dell EMC VXFlexOS Backend\n\nAdding support for VXFlexOS Volume Backend\n\nChange-Id: I9e8e3b4395c25a0458d28b15666768152736c752\nCloses-Bug: 1875176\n'}, {'number': 5, 'created': '2020-05-28 22:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/46c8332752bf4f7164c091702f6992f45368c9b6', 'message': 'Support for Dell EMC VXFlexOS Backend\n\nAdding support for VXFlexOS Volume Backend\n\nChange-Id: I9e8e3b4395c25a0458d28b15666768152736c752\nCloses-Bug: 1875176\n'}, {'number': 6, 'created': '2020-05-28 22:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae065293719079ab6c590bf8b8f1d37e59c88a8b', 'message': 'Support for Dell EMC VXFlexOS Backend\n\nAdding support for VXFlexOS Volume Backend\n\nChange-Id: I9e8e3b4395c25a0458d28b15666768152736c752\nCloses-Bug: 1875176\n'}, {'number': 7, 'created': '2020-05-29 15:50:41.000000000', 'files': ['environments/cinder-dellemc-vxflexos-config.yaml', 'releasenotes/notes/vxflexos-driver-bec8e372280c44e6.yaml', 'deployment/cinder/cinder-backend-dellemc-vxflexos-puppet.yaml', 'roles/Standalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/ControllerNoCeph.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles_data.yaml', 'roles/Controller.yaml', 'roles/ControllerStorageDashboard.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57652b8efed61e5ab038338d305ce5a68075b0ab', 'message': 'Support for Dell EMC VXFlexOS Backend\n\nAdding support for VXFlexOS Volume Backend\n\nChange-Id: I9e8e3b4395c25a0458d28b15666768152736c752\nCloses-Bug: 1875176\n'}]",13,728727,57652b8efed61e5ab038338d305ce5a68075b0ab,30,7,7,10379,,,0,"Support for Dell EMC VXFlexOS Backend

Adding support for VXFlexOS Volume Backend

Change-Id: I9e8e3b4395c25a0458d28b15666768152736c752
Closes-Bug: 1875176
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/728727/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/cinder-dellemc-vxflexos-config.yaml', 'releasenotes/notes/vxflexos-driver-bec8e372280c44e6.yaml', 'deployment/cinder/cinder-backend-dellemc-vxflexos-puppet.yaml', 'roles/Standalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/ControllerNoCeph.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/Controller.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml']",11,53d1529230bf1a34ed6005c920c5fb77d89f4777,bug/1875176, - OS::TripleO::Services::CinderBackendDellEMCVxFlexOS,,175,0
openstack%2Ftripleo-common~stable%2Ftrain~I54539f7dd694e0804006470221e55fd3cafea539,openstack/tripleo-common,stable/train,I54539f7dd694e0804006470221e55fd3cafea539,Modify roles to remove unused services,MERGED,2020-06-10 03:07:25.000000000,2020-06-10 16:52:50.000000000,2020-06-10 16:50:41.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-10 03:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ad615a5d358ef9da1b59bbe696ba7f4ef0541f42', 'message': ""Modify roles to remove unused services\n\nHistorically we've included unused services in all the roles as a way\nfor users to enable the services for a given role. By default many are\nset to OS::Heat::None which Heat will create an empty ServiceChain for.\nFor large scale deployments this results in many extra stacks having to\nbe manged by Heat.\n\nThis change adds a function to look at the resource registry of the\nenvironment and will remove any unused services from the roles data.\nRemoving these services from the roles data reduces the time Heat takes\nto build and manage the stack. This function is rerun on updates so that\nservices will be added if they get enabled after initial deployment\nas well.\n\nChange-Id: I54539f7dd694e0804006470221e55fd3cafea539\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Thomas Herve <therve@redhat.com>\n""}, {'number': 2, 'created': '2020-06-10 06:04:30.000000000', 'files': ['tripleo_common/tests/actions/test_deployment.py', 'tripleo_common/actions/deployment.py', 'tripleo_common/actions/templates.py', 'tripleo_common/tests/actions/test_templates.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/90c79df86a9a9643235adbbd009a2fac37d07a9c', 'message': ""Modify roles to remove unused services\n\nHistorically we've included unused services in all the roles as a way\nfor users to enable the services for a given role. By default many are\nset to OS::Heat::None. For large scale deployments this results in many\nextra resources managed by heat.\n\nThis change adds a function to look at the resource registry of the\nenvironment and will remove any unused services from the roles data.\nRemoving these services from the roles data reduces number of heat\nresource and hence possibly little deployment time.\n\nChange-Id: I54539f7dd694e0804006470221e55fd3cafea539\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Thomas Herve <therve@redhat.com>\n""}]",0,734736,90c79df86a9a9643235adbbd009a2fac37d07a9c,15,5,2,8833,,,0,"Modify roles to remove unused services

Historically we've included unused services in all the roles as a way
for users to enable the services for a given role. By default many are
set to OS::Heat::None. For large scale deployments this results in many
extra resources managed by heat.

This change adds a function to look at the resource registry of the
environment and will remove any unused services from the roles data.
Removing these services from the roles data reduces number of heat
resource and hence possibly little deployment time.

Change-Id: I54539f7dd694e0804006470221e55fd3cafea539
Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Co-Authored-By: Thomas Herve <therve@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/36/734736/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/actions/test_deployment.py', 'tripleo_common/actions/deployment.py', 'tripleo_common/actions/templates.py', 'tripleo_common/tests/actions/test_templates.py']",4,ad615a5d358ef9da1b59bbe696ba7f4ef0541f42,," j2_loader = templates.J2SwiftLoader(self._setup_swift(), None, '') j2_loader = templates.J2SwiftLoader(self._setup_swift(), None, '') j2_loader = templates.J2SwiftLoader(self._setup_swift(), 'bar', '') 'customrole-config.yaml', swift) swift) swift)"," j2_loader = templates.J2SwiftLoader(self._setup_swift(), None) j2_loader = templates.J2SwiftLoader(self._setup_swift(), None) j2_loader = templates.J2SwiftLoader(self._setup_swift(), 'bar') mock_ctx = mock.MagicMock() 'customrole-config.yaml', context=mock_ctx) mock_ctx = mock.MagicMock() context=mock_ctx) mock_ctx = mock.MagicMock() context=mock_ctx)",205,35
openstack%2Ftripleo-quickstart-extras~master~I8c6b4baa50867d8f82c244ef755556e87e81c942,openstack/tripleo-quickstart-extras,master,I8c6b4baa50867d8f82c244ef755556e87e81c942,Fix debug deploy arg for standalone,MERGED,2020-05-28 10:16:51.000000000,2020-06-10 16:50:42.000000000,2020-06-10 16:50:42.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30126}]","[{'number': 1, 'created': '2020-05-28 10:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6682bb59f6047bdd15cc763ed4e01a2c2d7a8bcd', 'message': 'Fix debug deploy arg for standalone\n\nSet it default to False and fix the var name to become\ntripleo_deploy_debug_arg.\n\nAdditionally, make ConfigDebug and DockerPuppetDebug extra debug settings\nto be controlled by tripleo_deploy_debug_arg.\n\nDepends-On: https://review.opendev.org/731128\n\nChange-Id: I8c6b4baa50867d8f82c244ef755556e87e81c942\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2020-05-28 10:24:06.000000000', 'files': ['roles/standalone/templates/standalone.sh.j2', 'roles/standalone/tasks/main.yml', 'roles/standalone/README.md', 'roles/standalone/templates/standalone_config.yaml.j2', 'roles/standalone/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bc5bfed2477075665e29b1d334880c9dcc350f92', 'message': 'Fix debug deploy arg for standalone\n\nSet it default to False and fix the var name to become\nstandalone_tripleo_deploy_debug_arg.\n\nAdditionally, make ConfigDebug and DockerPuppetDebug extra debug settings\nto be controlled by that parameter as well.\n\nDepends-On: https://review.opendev.org/731128\n\nChange-Id: I8c6b4baa50867d8f82c244ef755556e87e81c942\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",2,731489,bc5bfed2477075665e29b1d334880c9dcc350f92,56,10,2,6926,,,0,"Fix debug deploy arg for standalone

Set it default to False and fix the var name to become
standalone_tripleo_deploy_debug_arg.

Additionally, make ConfigDebug and DockerPuppetDebug extra debug settings
to be controlled by that parameter as well.

Depends-On: https://review.opendev.org/731128

Change-Id: I8c6b4baa50867d8f82c244ef755556e87e81c942
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/89/731489/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone/templates/standalone.sh.j2', 'roles/standalone/tasks/main.yml', 'roles/standalone/templates/standalone_config.yaml.j2', 'roles/standalone/defaults/main.yml']",4,6682bb59f6047bdd15cc763ed4e01a2c2d7a8bcd,debug_logs, tripleo_deploy_debug_arg: false,,6,1
openstack%2Fvalidations-libs~stable%2Fussuri~Id884c9fd606ba03cb7d7fb02491582f1f88c3857,openstack/validations-libs,stable/ussuri,Id884c9fd606ba03cb7d7fb02491582f1f88c3857,Add asynchronous option to validation libs,MERGED,2020-05-27 13:35:36.000000000,2020-06-10 16:50:40.000000000,2020-06-10 16:50:40.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-05-27 13:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/16a262b827a23c15952e31f9379781e2b8785027', 'message': 'Add asynchronous option to validation libs\n\nIn order to run ansible on its own and get validations\nprogress and result with the CLI, the review adds an\noption to run ansible asynchronously\n\nChange-Id: Id884c9fd606ba03cb7d7fb02491582f1f88c3857\n(cherry picked from commit 6e1ab6f89370538f2e97b62c45c194780f5ea6c7)\n'}, {'number': 2, 'created': '2020-06-10 06:55:01.000000000', 'files': ['validations_libs/validation_actions.py', 'validations_libs/validation_logs.py', 'validations_libs/ansible.py', 'validations_libs/tests/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/497c367dd1c837f288922201d3332d2865a3b875', 'message': 'Add asynchronous option to validation libs\n\nIn order to run ansible on its own and get validations\nprogress and result with the CLI, the review adds an\noption to run ansible asynchronously\n\nChange-Id: Id884c9fd606ba03cb7d7fb02491582f1f88c3857\n(cherry picked from commit 6e1ab6f89370538f2e97b62c45c194780f5ea6c7)\n'}]",0,731209,497c367dd1c837f288922201d3332d2865a3b875,11,3,2,16515,,,0,"Add asynchronous option to validation libs

In order to run ansible on its own and get validations
progress and result with the CLI, the review adds an
option to run ansible asynchronously

Change-Id: Id884c9fd606ba03cb7d7fb02491582f1f88c3857
(cherry picked from commit 6e1ab6f89370538f2e97b62c45c194780f5ea6c7)
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/09/731209/2 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/validation_actions.py', 'validations_libs/ansible.py', 'validations_libs/tests/test_ansible.py']",3,16a262b827a23c15952e31f9379781e2b8785027,async/ansible-stable/ussuri," @mock.patch('os.path.exists', return_value=True) @mock.patch('os.makedirs') @mock.patch.object(Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.utils.dump_artifact', autospec=True, return_value=""/foo/inventory.yaml"") @mock.patch('six.moves.builtins.open') @mock.patch('ansible_runner.runner_config.RunnerConfig') def test_run_success_run_async(self, mock_config, mock_open, mock_dump_artifact, mock_run, mock_mkdirs, mock_exists ): _playbook, _rc, _status = self.run.run( playbook='existing.yaml', inventory='localhost,', workdir='/tmp', connection='local', run_async=True ) self.assertEquals((_playbook, _rc, _status), ('existing.yaml', None, 'unstarted'))",,38,15
openstack%2Fdiskimage-builder~master~I8281675ec5f0951b3e190a8d6727744a1a5cd8d7,openstack/diskimage-builder,master,I8281675ec5f0951b3e190a8d6727744a1a5cd8d7,Fix yumdownloader cache dir,MERGED,2019-12-12 19:23:52.000000000,2020-06-10 16:27:52.000000000,2020-06-10 16:24:52.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-12 19:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/094b36839dd26b372acb23525139ed69d01aa3a4', 'message': 'DNM: Fix yumdownloader cache dir\n\nTMPDIR env is not being honored as cache dir in EL 8 it seems.\n\nChange-Id: I8281675ec5f0951b3e190a8d6727744a1a5cd8d7\n'}, {'number': 2, 'created': '2019-12-12 22:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/43a96399fd54b365b35a9559c8ce68e90072055f', 'message': 'DNM: Fix yumdownloader cache dir\n\nTMPDIR env is not being honored as cache dir in EL 8 it seems.\n\nAlso fix package manager hardcoded to yum.\n\nChange-Id: I8281675ec5f0951b3e190a8d6727744a1a5cd8d7\n'}, {'number': 3, 'created': '2020-01-17 06:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f3ff6ce1781eb03c9a67f037c1d541e3a3385090', 'message': 'DNM: Fix yumdownloader cache dir\n\nTMPDIR env is not being honored as cache dir in EL 8 it seems.\n\nAlso fix package manager hardcoded to yum.\n\nChange-Id: I8281675ec5f0951b3e190a8d6727744a1a5cd8d7\n'}, {'number': 4, 'created': '2020-06-07 17:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4e7b44b60a0b3349c5f12b067324c34524394a98', 'message': 'DNM: Fix yumdownloader cache dir\n\nTMPDIR env is not being honored as cache dir in EL 8 it seems.\n\nAlso fix package manager hardcoded to yum.\n\nChange-Id: I8281675ec5f0951b3e190a8d6727744a1a5cd8d7\n'}, {'number': 5, 'created': '2020-06-07 19:59:20.000000000', 'files': ['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9d9dd9249c581693364a2535802bc08f0323e437', 'message': 'Fix yumdownloader cache dir\n\nTMPDIR env is not being honored as cache dir in EL 8.\n\nChange-Id: I8281675ec5f0951b3e190a8d6727744a1a5cd8d7\n'}]",1,698788,9d9dd9249c581693364a2535802bc08f0323e437,35,5,5,6469,,,0,"Fix yumdownloader cache dir

TMPDIR env is not being honored as cache dir in EL 8.

Change-Id: I8281675ec5f0951b3e190a8d6727744a1a5cd8d7
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/88/698788/4 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot'],1,094b36839dd26b372acb23525139ed69d01aa3a4,centos8, --setopt=cachedir=$temp_tmp \,,1,0
openstack%2Fpython-heatclient~master~Iefc83ad854c2175003f4842e37d317592e4225fc,openstack/python-heatclient,master,Iefc83ad854c2175003f4842e37d317592e4225fc,Use unittest.mock instead of mock,ABANDONED,2020-06-09 09:55:16.000000000,2020-06-10 16:24:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-09 09:55:16.000000000', 'files': ['heatclient/tests/unit/test_shell.py', 'test-requirements.txt', 'heatclient/tests/unit/osc/v1/test_event.py', 'heatclient/tests/unit/test_utils.py', 'heatclient/tests/unit/osc/v1/test_software_config.py', 'heatclient/tests/unit/test_software_configs.py', 'heatclient/tests/unit/osc/v1/test_snapshot.py', 'heatclient/tests/unit/test_common_http.py', 'heatclient/tests/unit/osc/v1/fakes.py', 'heatclient/tests/unit/test_resources.py', 'heatclient/tests/unit/test_template_format.py', 'heatclient/tests/unit/test_stacks.py', 'heatclient/tests/unit/osc/utils.py', 'heatclient/tests/unit/test_environment_format.py', 'heatclient/tests/unit/test_resource_types.py', 'heatclient/tests/unit/osc/v1/test_template.py', 'heatclient/tests/unit/osc/v1/test_resource.py', 'heatclient/tests/unit/test_template_utils.py', 'heatclient/tests/unit/osc/v1/test_build_info.py', 'heatclient/tests/unit/test_deployment_utils.py', 'heatclient/tests/unit/test_events.py', 'heatclient/tests/unit/test_software_deployments.py', 'heatclient/tests/unit/osc/v1/test_stack_failures.py', 'heatclient/tests/unit/test_build_info.py', 'lower-constraints.txt', 'heatclient/tests/unit/v1/test_hooks.py', 'heatclient/tests/unit/test_event_utils.py', 'heatclient/tests/unit/osc/v1/test_software_deployment.py', 'heatclient/tests/unit/osc/v1/test_stack.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/69dfc30b4c11bcbc9ee708dbd650a4902fef790e', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Iefc83ad854c2175003f4842e37d317592e4225fc\n'}]",23,734510,69dfc30b4c11bcbc9ee708dbd650a4902fef790e,3,1,1,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Iefc83ad854c2175003f4842e37d317592e4225fc
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/10/734510/1 && git format-patch -1 --stdout FETCH_HEAD,"['heatclient/tests/unit/test_shell.py', 'test-requirements.txt', 'heatclient/tests/unit/osc/v1/test_event.py', 'heatclient/tests/unit/test_utils.py', 'heatclient/tests/unit/osc/v1/test_software_config.py', 'heatclient/tests/unit/test_software_configs.py', 'heatclient/tests/unit/osc/v1/test_snapshot.py', 'heatclient/tests/unit/test_common_http.py', 'heatclient/tests/unit/osc/v1/fakes.py', 'heatclient/tests/unit/test_resources.py', 'heatclient/tests/unit/test_template_format.py', 'heatclient/tests/unit/test_stacks.py', 'heatclient/tests/unit/osc/utils.py', 'heatclient/tests/unit/test_environment_format.py', 'heatclient/tests/unit/test_resource_types.py', 'heatclient/tests/unit/osc/v1/test_template.py', 'heatclient/tests/unit/osc/v1/test_resource.py', 'heatclient/tests/unit/test_template_utils.py', 'heatclient/tests/unit/osc/v1/test_build_info.py', 'heatclient/tests/unit/test_deployment_utils.py', 'heatclient/tests/unit/test_events.py', 'heatclient/tests/unit/test_software_deployments.py', 'heatclient/tests/unit/osc/v1/test_stack_failures.py', 'heatclient/tests/unit/test_build_info.py', 'lower-constraints.txt', 'heatclient/tests/unit/v1/test_hooks.py', 'heatclient/tests/unit/test_event_utils.py', 'heatclient/tests/unit/osc/v1/test_software_deployment.py', 'heatclient/tests/unit/osc/v1/test_stack.py']",29,69dfc30b4c11bcbc9ee708dbd650a4902fef790e,drop_mock,from unittest import mock,import mock,27,29
openstack%2Fbifrost~master~Ia7a2698344f8f1a14356dbfe9cd68ce667019606,openstack/bifrost,master,Ia7a2698344f8f1a14356dbfe9cd68ce667019606,Set default deploy/rescue kernel/ramdisk in ironic.conf,MERGED,2020-06-05 14:41:41.000000000,2020-06-10 15:58:01.000000000,2020-06-10 15:55:55.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-05 14:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/079581bc84273e1de16627436846b3ce22d4c92d', 'message': ""Set default deploy/rescue kernel/ramdisk in ironic.conf\n\nMost likely people will use the kernel/ramdisk we provide, let's set\nthe defaults.\n\nChange-Id: Ia7a2698344f8f1a14356dbfe9cd68ce667019606\n""}, {'number': 2, 'created': '2020-06-06 14:53:42.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'releasenotes/notes/default-ipa-fe012dfdba580bf4.yaml', 'playbooks/roles/ironic-enroll-dynamic/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0477e45cd9df39e5f9efcdfe9a24e3c21620b7f3', 'message': ""Set default deploy/rescue kernel/ramdisk in ironic.conf\n\nMost likely people will use the kernel/ramdisk we provide, let's set\nthe defaults.\n\nChange-Id: Ia7a2698344f8f1a14356dbfe9cd68ce667019606\n""}]",0,733860,0477e45cd9df39e5f9efcdfe9a24e3c21620b7f3,14,4,2,10239,,,0,"Set default deploy/rescue kernel/ramdisk in ironic.conf

Most likely people will use the kernel/ramdisk we provide, let's set
the defaults.

Change-Id: Ia7a2698344f8f1a14356dbfe9cd68ce667019606
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/60/733860/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'releasenotes/notes/default-ipa-fe012dfdba580bf4.yaml', 'playbooks/roles/ironic-enroll-dynamic/tasks/main.yml']",3,079581bc84273e1de16627436846b3ce22d4c92d,bifrost-cli,," deploy: deploy_kernel: ""{{ ipa_kernel_url }}"" deploy_ramdisk: ""{{ ipa_ramdisk_url }}""",9,3
openstack%2Fnova-specs~master~I3179413b91e528b5b5d86825768fef98c9dae33c,openstack/nova-specs,master,I3179413b91e528b5b5d86825768fef98c9dae33c,Encrypted Emulated Virtual TPM,MERGED,2020-05-15 16:55:59.000000000,2020-06-10 15:40:10.000000000,2020-06-10 15:08:38.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-15 16:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9673728c387036c4568bf053ba4c5e91c929113e', 'message': 'Encrypted Emulated Virtual TPM\n\nThere are a class of applications which expect to use a TPM device to\nstore secrets. In order to run these applications in a virtual machine,\nit would be useful to expose a virtual TPM device within the guest.\nThis spec describes adding flavor/image properties which cause such a\ndevice to be added to the VM.\n\nChange-Id: I3179413b91e528b5b5d86825768fef98c9dae33c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2020-06-08 10:41:05.000000000', 'files': ['specs/victoria/approved/add-emulated-virtual-tpm.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/97f088befb82f5bbbc433727b8754bb278ac7d8e', 'message': 'Encrypted Emulated Virtual TPM\n\nThere are a class of applications which expect to use a TPM device to\nstore secrets. In order to run these applications in a virtual machine,\nit would be useful to expose a virtual TPM device within the guest.\nThis spec describes adding flavor/image properties which cause such a\ndevice to be added to the VM.\n\nChange-Id: I3179413b91e528b5b5d86825768fef98c9dae33c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",18,728505,97f088befb82f5bbbc433727b8754bb278ac7d8e,15,6,2,15334,,,0,"Encrypted Emulated Virtual TPM

There are a class of applications which expect to use a TPM device to
store secrets. In order to run these applications in a virtual machine,
it would be useful to expose a virtual TPM device within the guest.
This spec describes adding flavor/image properties which cause such a
device to be added to the VM.

Change-Id: I3179413b91e528b5b5d86825768fef98c9dae33c
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/05/728505/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/approved/add-emulated-virtual-tpm.rst'],1,9673728c387036c4568bf053ba4c5e91c929113e,bp/add-emulated-virtual-tpm,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================== Add support for encrypted emulated virtual TPM ============================================== https://blueprints.launchpad.net/nova/+spec/add-emulated-virtual-tpm There are a class of applications which expect to use a TPM device to store secrets. In order to run these applications in a virtual machine, it would be useful to expose a virtual TPM device within the guest. Accordingly, the suggestion is to add flavor/image properties which a) translate to placement traits for scheduling and b) cause such a device to be added to the VM by the relevant virt driver. Problem description =================== Currently there is no way to create virtual machines within nova that provide a virtual TPM device to the guest. Use Cases --------- Support the virtualizing of existing applications and operating systems which expect to make use of physical TPM devices. At least one hypervisor (libvirt/qemu) currently supports the creation of an emulated TPM device which is associated with a per-VM ``swtpm`` process on the host, but there is no way to tell nova to enable it. Proposed change =============== In recent libvirt and qemu (and possibly other hypervisors as well) there is support for an emulated vTPM device. We propose to modify nova to make use of this capability. This spec describes only the libvirt implementation. XML --- The desired libvirt XML arguments are something like this (`source <https://libvirt.org/formatdomain.html#elementsTpm>`_):: ... <devices> <tpm model='tpm-tis'> <backend type='emulator' version='2.0'> <encryption secret='6dd3e4a5-1d76-44ce-961f-f119f5aad935'/> </backend> </tpm> </devices> ... Prerequisites ------------- Support for encrypted emulated TPM requires at least: * libvirt version 5.6.0 or greater. * qemu 2.11 at a minimum, though qemu 2.12 is recommended. The virt driver code should add suitable version checks (in the case of LibvirtDriver, this would include checks for both libvirt and qemu). Currently emulated TPM is only supported for x86, though this is an implementation detail rather than an architectural limitation. * The ``swtpm`` binary and libraries on the host. * Access to a castellan-compatible key manager, such as barbican, for storing the passphrase used to encrypt the virtual device's data. (The key manager implementation's public methods must be capable of consuming the user's auth token from the ``context`` parameter which is part of the interface.) * Access to an object-store service, such as swift, for storing the file the host uses for the virtual device data during operations such as shelve. Config ------ All of the following apply to the compute (not conductor/scheduler/API) configs: * A new config option will be introduced to act as a ""master switch"" enabling vTPM. This config option would apply to future drivers' implementations as well, but since this spec and current implementation are specific to libvirt, it is in the ``libvirt`` rather than the ``compute`` group:: [libvirt] vtpm_enabled = $bool (default False) * To enable move operations (anything involving rebuilding a vTPM on a new host), nova must be able to lay down the vTPM data with the correct ownership -- that of the ``swtpm`` process libvirt will create -- but we can't detect a priori what that ownership will be. Thus we need a pair of config options on the compute indicating the user and group that should own vTPM data on that host:: [libvirt] swtpm_user = $str (default 'tss') swtpm_group = $str (default 'tss') * (Existing, known) options for ``[key_manager]``. * New standard keystoneauth1 auth/session/adapter options for ``[swift]`` will be introduced. Traits, Extra Specs, Image Meta ------------------------------- In order to support this functionality we propose to: * Use the existing ``COMPUTE_SECURITY_TPM_1_2`` and ``COMPUTE_SECURITY_TPM_2_0`` traits. These represent the two different versions of the TPM spec that are currently supported. (Note that 2.0 is not backward compatible with 1.2, so we can't just ignore 1.2. A summary of the differences between the two versions is currently available here_.) When all the Prerequisites_ have been met and the Config_ switch is on, the libvirt compute driver will set both of these traits on the compute node resource provider. * Support the following new flavor extra_specs and their corresponding image metadata properties (which are simply ``s/:/_/`` of the below): * ``hw:tpm_version={1.2|2.0}``. This will be: * translated to the corresponding ``required=COMPUTE_SECURITY_TPM_{1_2|2_0}`` in the allocation candidate request to ensure the instance lands on a host capable of vTPM at the requested version * used by the libvirt compute driver to inject the appropriate guest XML_. .. note:: Whereas it would be possible to specify ``trait:COMPUTE_SECURITY_TPM_{1_2|2_0}=required`` directly in the flavor extra_specs or image metadata, this would only serve to land the instance on a capable host; it would not trigger the libvirt driver to create the virtual TPM device. Therefore, to avoid confusion, this will not be documented as a possibility. * ``hw:tpm_model={TIS|CRB}``. Indicates the emulated model to be used. If omitted, the default is ``TIS`` (this corresponds to the libvirt default). ``CRB`` is only compatible with TPM version 2.0; if ``CRB`` is requested with version 1.2, an error will be raised from the API. To summarize, all and only the following combinations are supported, and are mutually exclusive (none are inter-compatible): * Version 1.2, Model TIS * Version 2.0, Model TIS * Version 2.0, Model CRB Note that since the TPM is emulated (a process/file on the host), the ""inventory"" is effectively unlimited. Thus there are no resource classes associated with this feature. If both the flavor and the image specify a TPM trait or device model and the two values do not match, an exception will be raised from the API by the flavor/image validator. .. _here: https://en.wikipedia.org/wiki/Trusted_Platform_Module#TPM_1.2_vs_TPM_2.0 Instance Lifecycle Operations ----------------------------- Descriptions below are libvirt driver-specific. However, it is left to the implementation which pieces are performed by the compute manager vs. the libvirt ComputeDriver itself. .. note:: In deciding whether/how to support a given operation, we use ""How does this work on baremetal"" as a starting point. If we can support a VM operation without introducing inordinate complexity or user-facing weirdness, we do. Spawn ~~~~~ #. Even though swift is not required for spawn, ensure a swift endpoint is present in the service catalog (and reachable? version discovery? implementation detail) so that a future unshelve doesn't break the instance. #. Nova generates a random passphrase and stores it in the configured key manager, yielding a UUID, hereinafter referred to as ``$secret_uuid``. #. Nova saves the ``$secret_uuid`` in the instance's ``system_metadata`` under key ``tpm_secret_uuid``. #. Nova uses the ``virSecretDefineXML`` API to define a private (value can't be listed), ephemeral (state is stored only in memory, never on disk) secret whose ``name`` is the instance UUID, and whose UUID is the ``$secret_uuid``. The ``virSecretSetValue`` API is then used to set its value to the generated passphrase. #. Nova injects the XML_ into the instance's domain. The ``model`` and ``version`` are gleaned from the flavor/image properties, and the ``secret`` is ``$secret_uuid``. #. Once libvirt has created the guest, nova uses the ``virSecretUndefine`` API to delete the secret. The instance's emulated TPM continues to function. .. note:: Spawning from an image created by snapshotting a VM with a vTPM will result in a fresh, empty vTPM, even if that snapshot was created by ``shelve``. By contrast, `spawn during unshelve`_ will restore such vTPM data. Cold Boot ~~~~~~~~~ ...and any other operation that starts the guest afresh. (Depending on the `key manager`_ security model, these may be restricted to the instance owner.) #. Pull the ``$secret_uuid`` from the ``tpm_secret_uuid`` of the instance's ``system_metadata``. #. Retrieve the passphrase associated with ``$secret_uuid`` via the configured key manager API. Then perform steps 4-6 as described under Spawn_. Migrations and their ilk ~~~~~~~~~~~~~~~~~~~~~~~~ For the libvirt implementation, the emulated TPM data is stored in ``/var/lib/libvirt/swtpm/<instance>``. Certain lifecycle operations require that directory to be copied verbatim to the ""destination"". For (cold/live) migrations, only the user that nova-compute runs as is guaranteed to be able to have SSH keys set up for passwordless access, and it's only guaranteed to be able to copy files to the instance directory on the destination node. We therefore propose the following procedure for relevant lifecycle operations: * Copy the directory into the local instance directory, changing the ownership to match it. * Perform the move, which will automatically carry the data along. * Change ownership back and move the directory out to ``/var/lib/libvirt/swtpm/<instance>`` on the destination. * On confirm/revert, delete the directory from the source/destination, respectively. (This is done automatically by libvirt when the guest is torn down.) * On revert, the data directory must be restored (with proper permissions) on the source. Since the expected ownership on the target may be different than on the source, and is (we think) impossible to detect, the admin must inform us of it via the new ``[libvirt]swtpm_user`` and ``[libvirt]swtpm_group`` Config_ options if different from the default of ``tss``. This should allow support of cold/live migration and resizes that don't change the device. .. todo:: Confirm that the above ""manual"" copying around is actually necessary for migration. It's unclear from reading https://github.com/qemu/qemu/blob/6a5d22083d50c76a3fdc0bffc6658f42b3b37981/docs/specs/tpm.txt#L324-L383 Resize can potentially add a vTPM to an instance that didn't have one before, or remove the vTPM from an instance that did have one, and those should ""just work"". When resizing from one version/model to a different one the data can't and won't carry over (for same-host resize, we must *remove* the old backing file). If both old and new flavors have the same model/version, we must ensure we convey the virtual device data as described above (for same-host resize, we must *preserve* the existing backing file). Shelve (offload) and Unshelve ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Restoring vTPM data when unshelving a shelve-offloaded server requires the vTPM data to be persisted somewhere. We can't put it with the image itself, as it's data external to the instance disk. So we propose to put it in object-store (swift) and maintain reference to the swift object in the instance's ``system_metadata``. The shelve operation needs to: #. Save the vTPM data directory to swift. #. Save the swift object ID and digital signature (sha256) of the directory to the instance's ``system_metadata`` under the (new) ``tpm_object_id`` and ``tpm_object_sha256`` keys. #. Create the appropriate ``hw_tpm_version`` and/or ``hw_tpm_model`` metadata properties on the image. (This is to close the gap where the vTPM on original VM was created at the behest of image, rather than flavor, properties. It ensures the proper scheduling on unshelve, and that the correct version/model is created on the target.) The unshelve operation on a shelved (but not offloaded) instance should ""just work"" (except for deleting the swift object; see below). The code path for unshelving an offloaded instance needs to: #. Ensure we land on a host capable of the necessary vTPM version and model (we get this for free via the common scheduling code paths, because we did step 3 during shelve). #. Look for ``tpm_object_{id|sha256}`` and ``tpm_secret_uuid`` in the instance's ``system_metadata``. #. Download the swift object. Validate its checksum and fail if it doesn't match. #. Assign ownership of the data directory according to ``[libvirt]swtpm_{user|group}`` on the host. #. Retrieve the secret and feed it to libvirt; and generate the appropriate domain XML (we get this for free via ``spawn()``). #. Delete the object from swift, and the ``tpm_object_{id|sha256}`` from the instance ``system_metadata``. This step must be done from both code paths (i.e. whether the shelved instance was offloaded or not). .. note:: There are a couple of ways a user can still ""outsmart"" our checks and make horrible things happen on unshelve. For example: * The flavor specifies no vTPM properties. * The *original* image specified version 2.0. * Between shelve and unshelve, edit the snapshot to specify version 1.2. We will happily create a v1.2 vTPM and restore the (v2.0) data into it. The VM will (probably) boot just fine, but unpredictable things will happen when the vTPM is accessed. We can't prevent *all* stupidity. .. note:: As mentioned in `Security impact`_, if shelve is performed by the admin, only the admin will be able to perform the corresponding unshelve operation. And depending on the `key manager`_ security model, if shelve is performed by the user, the admin may not be able to perform the corresponding unshelve operation. Since the backing device data is virt driver-specific, it must be managed by the virt driver; but we want the object-store interaction to be done by compute manager. We therefore propose the following interplay between compute manager and virt driver: The ``ComputeDriver.snapshot()`` contract currently does not specify a return value. It will be changed to allow returning a file-like with the (prepackaged) backing device data. The libvirt driver implementation will open a ``tar`` pipe and return that handle. The compute manager is responsible for reading from that handle and pushing the contents into the swift object. (Implementation detail: we only do the swift thing for snapshots during shelve, so a) the virt driver should not produce the handle except when the VM is in ``SHELVE[_OFFLOADED]`` state; and/or the compute manager should explicitly close the handle from other invocations of ``snapshot()``.) .. _`spawn during unshelve`: The compute driver touchpoint for unshelving an offloaded instance is ``spawn()``. This method will get a new kwarg which is a file-like. If not ``None``, virt driver implementations are responsible for streaming from that handle and reversing whatever was done during ``snapshot()`` (in this case un-\ ``tar``\ -ing). For the unshelve path for offloaded instances, the compute manager will pull down the swift object and stream it to ``spawn()`` via this kwarg. createImage and createBackup ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Because vTPM data is associated with the **instance**, not the **image**, the ``createImage`` and ``createBackup`` flows will not be changed. In particular, they will not attempt to save the vTPM backing device to swift. This, along with the fact that fresh Spawn_ will not attempt to restore vTPM data (even if given an image created via ``shelve``) also prevents ""cloning"" of vTPMs. This is analogous to the baremetal case, where spawning from an image/backup on a ""clean"" system would get you a ""clean"" (or no) TPM. Rebuild ~~~~~~~ Since the instance is staying on the same host, we have the ability to leave the existing vTPM backing file intact. This is analogous to baremetal behavior, where restoring a backup on an existing system will not touch the TPM (or any other devices) so you get whatever's already there. However, it is also possible to lock your instance out of its vTPM by rebuilding with a different image, and/or one with different metadata. A certain amount of responsibility is placed on the user to avoid scenarios like using the TPM to create a master key and not saving that master key (in your rebuild image, or elsewhere). That said, rebuild will cover the following scenarios: * If there is no existing vTPM backing data, and the rebuild image asks for a vTPM, create a fresh one, just like Spawn_. * If there is an existing vTPM and neither the flavor nor the image asks for one, delete it. * If there is an existing vTPM and the flavor or image asks for one, leave the backing file alone. However, if different versions/models are requested by the old and new image in combination with the flavor, we will fail the rebuild. Evacuate ~~~~~~~~ Because the vTPM data belongs to libvirt rather than being stored in the instance disk, the vTPM is lost on evacuate, *even if the instance is volume-backed*. This is analogous to baremetal behavior, where the (hardware) TPM is left behind even if the rest of the state is resurrected on another system via shared storage. (It may be possible to mitigate this by mounting ``/var/lib/libvirt/swtpm/`` on shared storage, though libvirt's management of that directory on guest creation/teardown may stymie such attempts. This would also bring in additional security concerns. In any case, it would be an exercise for the admin; nothing will be done in nova to support or prevent it.) Destroy ~~~~~~~ #. Delete the key manager secret associated with ``system_metadata['tpm_secret_uuid']``. #. libvirt deletes the vTPM data directory as part of guest teardown. #. If ``system_metadata['tpm_object_id']`` exists, the *API side* will delete the swift object it identifies. Since this metadata only exists while an instance is shelved, this should only be applicable in corner cases like: * If the ``destroy()`` is performed between shelve and offload. * Cleaning up a VM in ``ERROR`` state from a shelve, offload, or unshelve that failed (at just the right time). * Cleaning up a VM that is deleted while the host was down. Limitations ----------- This is a summary of odd or unexpected behaviors resulting from this design. * Except for migrations and shelve-offload, vTPM data sticks with the instance+host. In particular: * vTPM data is lost on Evacuate_. * vTPM data is not carried with ""reusable snapshots"" (``createBackup``/``createImage``). * The ability of instance owners or admins to perform certain instance lifecycle operations may be limited depending on the `security model <security impact_>`_ used for the `key manager`_. * Since secret management is done by the virt driver, deleting an instance when the compute host is down can orphan its secret. If the host comes back up, the secret will be reaped when compute invokes the virt driver's ``destroy``. But if the host never comes back up, it would have to be deleted manually. Alternatives ------------ * Rather than using a trait, we could instead use arbitrarily large inventories of ``1_2``/``2_0`` resource classes. Unless it can be shown that there's an actual limit we can discover, this just isn't how we do things. * Instead of using specialized ``hw:tpm*`` extra_spec/image_meta properties, implicitly configure based on the placement-ese syntax (``resources:COMPUTE_SECURITY_TPM_*``). Rejected because we're trying to move away from this way of doing things in general, preferring instead to support syntax specific to the feature, rather than asking the admin to understand how the feature maps to placement syntax. Also, whereas in some cases the mapping may be straightforward, in other cases additional configuration is required at the virt driver level that can't be inferred from the placement syntax, which would require mixing and matching placement and non-placement syntax. * That being the case, forbid placement-ese syntax using ``resources[$S]:COMPUTE_SECURITY_TPM_*``. Rejected mainly due to the (unnecessary) additional complexity, and because we don't want to get in the business of assuming there's no use case for ""land me on a vTPM (in)capable host, but don't set one up (yet)"". * Use physical passthrough (``<backend type='passthrough'>``) of a real (hardware) TPM device. This is not feasible with current TPM hardware because (among other things) changing ownership of the secrets requires a host reboot. * Block the operations that require object store. This is deemed nonviable, particularly since cross-cell resize uses shelve under the covers. * Use glance or the key manager instead of swift to store the vTPM data for those operations. NACKed because those services really aren't intended for that purpose, and (at least glance) may block such usages in the future. * Save vTPM data on any snapshot operation (including ``createImage`` and ``createBackup``). This adds complexity as well as some unintended behaviors, such as the ability to ""clone"" vTPMs. Users will be less surprised when their vTPM acts like a (hardware) TPM in these cases. * Rather than checking for swift at spawn time, add an extra spec / image prop like ``vtpm_I_promise_I_will_never_shelve_offload=True`` or ``vtpm_is_totally_ephemeral=True`` which would either error or simply not back up the vTPM, respectively, on shelve-offload. Data model impact ----------------- The ``ImageMetaProps`` and ``ImageMetaPropsPayload`` objects need new versions adding: * ``hw_tpm_version`` * ``hw_tpm_model`` * ``tpm_object_id`` * ``tpm_object_sha256`` REST API impact --------------- The image/flavor validator will get new checks for consistency of properties. No new microversion is needed. Security impact --------------- The guest will be able to use the emulated TPM for all the security enhancing functionality that a physical TPM provides, in order to protect itself against attacks from within the guest. The `key manager`_ and `object store`_ services are assumed to be adequately hardened against external attack. However, the deployment must consider the issue of authorized access to these services, as discussed below. Data theft ~~~~~~~~~~ The vTPM data file is encrypted on disk, and is therefore ""safe"" (within the bounds of encryption) from simple data theft. We will use a passphrase of 384 bytes, which is the default size of an SSH key, generated from ``/dev/urandom``. It may be desirable to make this size configurable in the future. Compromised root ~~~~~~~~~~~~~~~~ It is assumed that the root user on the compute node would be able to glean (e.g. by inspecting memory) the vTPM's contents and/or the passphrase while it's in flight. Beyond using private+ephemeral secrets in libvirt, no further attempt is made to guard against a compromised root user. Object store ~~~~~~~~~~~~ The object store service allows full access to an object by the admin user, regardless of who created the object. There is currently no facility for restricting admins to e.g. only deleting objects. Thus, if a ``shelve`` has been performed, the contents of the vTPM device will be available to the admin. They are encrypted, so without access to the key, we are still trusting the strength of the encryption to protect the data. However, this increases the attack surface, assuming the object store admin is different from whoever has access to the original file on the compute host. By the same token (heh) if ``shelve`` is performed by the admin, the vTPM data object will be created and owned by the admin, and therefore only the admin will be able to ``unshelve`` that instance. Key manager ~~~~~~~~~~~ The secret stored in the key manager is more delicate, since it can be used to decrypt the contents of the vTPM device. The barbican implementation scopes access to secrets at the project level, so the deployment must take care to limit the project to users who should all be trusted with a common set of secrets. Also note that project-scoped admins are by default allowed to access and decrypt secrets owned by any project; if the admin is not to be trusted, this should be restricted via policy. However, castellan backends are responsible for their own authentication mechanisms. Thus, the deployment may wish to use a backend that scopes decryption to only the individual user who created the secret. (In any case it is important that admins be allowed to delete secrets so that operations such as VM deletion can be performed by admins without leaving secrets behind.) Note that, if the admin is restricted from decrypting secrets, lifecycle operations performed by the admin cannot result in a running VM. This includes rebooting the host: even with `resume_guests_state_on_host_boot`_ set, an instance with a vTPM will not boot automatically, and will instead have to be powered on manually by its owner. Other lifecycle operations which are by default admin-only will only work when performed by the VM owner, meaning the owner must be given the appropriate policy roles to do so; otherwise these operations will be in effect disabled. ...except live migration, since the (already decrypted) running state of the vTPM is carried along to the destination. (To clarify: live migration, unlike other operations, would actually work if performed by the admin because of the above.) .. _resume_guests_state_on_host_boot: https://docs.openstack.org/nova/latest/configuration/config.html#DEFAULT.resume_guests_state_on_host_boot Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ * An additional API call to the key manager is needed during spawn (to register the passphrase), cold boot (to retrieve it), and destroy (to remove it). * Additional API calls to libvirt are needed during spawn and other boot-like operations to define, set the value, and undefine the vTPM's secret in libvirt. * Additional API calls to the object store (swift) are needed to create (during shelve), retrieve (unshelve), and delete (unshelve/destroy) the vTPM device data object. Other deployer impact --------------------- None Developer impact ---------------- The various virt drivers would be able to implement the emulated vTPM as desired. Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: stephenfin Other contributors: cfriesen efried Feature Liaison --------------- stephenfin Work Items ---------- * API changes to prevalidate the flavor and image properties. * Scheduler changes to translate flavor/image properties to placement-isms. * Libvirt driver changes to * detect Prerequisites_ and Config_ and report traits to placement. * communicate with the key manager API. * manage libvirt secrets via the libvirt API. * translate flavor/image properties to domain XML_. * copy vTPM files on relevant `Instance Lifecycle Operations`_. * communicate with object store to save/restore the vTPM files on (other) relevant `Instance Lifecycle Operations`_. * Testing_ Dependencies ============ None Testing ======= Unit and functional testing will be added. New fixtures for object store and key manager services will likely be necessary. Because of the eccentricities of a) user authentication for accessing the encryption secret, and b) management of the virtual device files for some operations, CI coverage will be added for: - Live migration - Cold migration - Host reboot (how?) - Shelve (offload) and unshelve - Backup and rebuild Documentation Impact ==================== Operations Guide and End User Guide will be updated appropriately. Feature support matrix will be updated. References ========== * TPM on Wikipedia: https://en.wikipedia.org/wiki/Trusted_Platform_Module * ``swtpm``: https://github.com/stefanberger/swtpm/wiki * Qemu docs on tpm: https://github.com/qemu/qemu/blob/master/docs/specs/tpm.txt * Libvirt XML to request emulated TPM device: https://libvirt.org/formatdomain.html#elementsTpm History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Stein - Introduced * - Train - Re-proposed * - Ussuri - Re-proposed with refinements including encryption pieces * - Victoria - Re-proposed ",,691,0
openstack%2Fironic~master~I5d221d9a798209cb990aad1e3f3b7854547f1ff6,openstack/ironic,master,I5d221d9a798209cb990aad1e3f3b7854547f1ff6,virtualbmc no longer in global requirements,ABANDONED,2020-06-10 06:26:46.000000000,2020-06-10 15:35:34.000000000,,"[{'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-10 06:26:46.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ecabbbb509ee7aa783b143e2bef6afdc4c33cbaf', 'message': 'virtualbmc no longer in global requirements\n\nsince virtualbmc is no longer in global requirements as a\nresult of not being referenced in any openstack project\nrequirements.txt, it should be installed via regular pip\n\nChange-Id: I5d221d9a798209cb990aad1e3f3b7854547f1ff6\n'}]",0,734748,ecabbbb509ee7aa783b143e2bef6afdc4c33cbaf,8,5,1,6994,,,0,"virtualbmc no longer in global requirements

since virtualbmc is no longer in global requirements as a
result of not being referenced in any openstack project
requirements.txt, it should be installed via regular pip

Change-Id: I5d221d9a798209cb990aad1e3f3b7854547f1ff6
",git fetch https://review.opendev.org/openstack/ironic refs/changes/48/734748/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,ecabbbb509ee7aa783b143e2bef6afdc4c33cbaf,vbmc_gr," pip_install ""virtualbmc"""," pip_install_gr ""virtualbmc""",1,1
openstack%2Fansible-collections-openstack~master~Ied2ac325af5aee174fc0d20d9aada67a859fa81b,openstack/ansible-collections-openstack,master,Ied2ac325af5aee174fc0d20d9aada67a859fa81b,Add notes to README about deps and versions,MERGED,2020-06-09 10:13:57.000000000,2020-06-10 15:17:48.000000000,2020-06-10 15:17:48.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-06-09 10:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fa0897c14b803f7081b4c7557dfb6e7e04bab785', 'message': 'Add notes to README about deps and versions\n\nChange-Id: Ied2ac325af5aee174fc0d20d9aada67a859fa81b\n'}, {'number': 2, 'created': '2020-06-09 12:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/95369bcc90ead81359121d9915d351839b2b47d2', 'message': 'Add notes to README about deps and versions\n\nChange-Id: Ied2ac325af5aee174fc0d20d9aada67a859fa81b\n'}, {'number': 3, 'created': '2020-06-09 14:33:45.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/dfa7983a7803e272ef571e518419c8816df6dc77', 'message': 'Add notes to README about deps and versions\n\nChange-Id: Ied2ac325af5aee174fc0d20d9aada67a859fa81b\n'}]",5,734557,dfa7983a7803e272ef571e518419c8816df6dc77,14,5,3,10969,,,0,"Add notes to README about deps and versions

Change-Id: Ied2ac325af5aee174fc0d20d9aada67a859fa81b
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/57/734557/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,fa0897c14b803f7081b4c7557dfb6e7e04bab785,readme2,"### Installing dependencies For using Openstack Cloud collection firstly need to install `ansible` and `openstacksdk` Python modules on Ansible controller. For example with pip: ```bash pip install ansible openstacksdk ``` --- #### NOTE OpenstackSDK is better to be the last stable version. It should NOT be installed on Openstack nodes, but rather on operators host (aka ""Ansible controller""). OpenstackSDK from last version supports operations on all Openstack cloud versions. Therefore OpenstackSDK module version should not match Openstack cloud version usually. --- ",,20,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I34dd9121bbd650b79cb523e4dbed5949a0e7d52d,openstack/tripleo-ansible,stable/ussuri,I34dd9121bbd650b79cb523e4dbed5949a0e7d52d,Preserve inode when updating /etc/hosts,MERGED,2020-06-09 16:49:17.000000000,2020-06-10 15:11:02.000000000,2020-06-10 15:11:02.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-09 16:49:17.000000000', 'files': ['tripleo_ansible/roles/tripleo_hosts_entries/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c6b06129f81bd3fd61edc261953693da6daf2ca3', 'message': 'Preserve inode when updating /etc/hosts\n\nContainers configured by tripleo bind-mount /etc/hosts directly,\nwhich means any change to that file has to preserve the original\ninode, otherwise the containers will get out of sync with the\nhost and will not see updates.\n\nChange tripleo_host_entries to not depend on atomic semantics of\nansible, which changes inodes on update. Instead, perform a\nnon-atomic update to preserve inodes, and rely on the retry\nlogics of openstack containers to recover from unexpected\nbehaviour in case /etc/hosts is consumed while it is being updated.\n\nCloses-Bug: #1882290\nChange-Id: I34dd9121bbd650b79cb523e4dbed5949a0e7d52d\n(cherry picked from commit 7761249774b8a6e9bebc60db69e0bc56ad9f7622)\n'}]",0,734651,c6b06129f81bd3fd61edc261953693da6daf2ca3,10,4,1,3153,,,0,"Preserve inode when updating /etc/hosts

Containers configured by tripleo bind-mount /etc/hosts directly,
which means any change to that file has to preserve the original
inode, otherwise the containers will get out of sync with the
host and will not see updates.

Change tripleo_host_entries to not depend on atomic semantics of
ansible, which changes inodes on update. Instead, perform a
non-atomic update to preserve inodes, and rely on the retry
logics of openstack containers to recover from unexpected
behaviour in case /etc/hosts is consumed while it is being updated.

Closes-Bug: #1882290
Change-Id: I34dd9121bbd650b79cb523e4dbed5949a0e7d52d
(cherry picked from commit 7761249774b8a6e9bebc60db69e0bc56ad9f7622)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/51/734651/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_hosts_entries/tasks/main.yml'],1,c6b06129f81bd3fd61edc261953693da6daf2ca3,etc-hosts-stable/ussuri,"- name: Create temporary file for hosts become: true tempfile: state: file suffix: tmphosts register: tripleo_hosts_entries_tmp_hosts check_mode: false tags: - tripleo_hosts_entries - name: Prepare temporary /etc/hosts become: true copy: remote_src: true src: ""{{ tripleo_hosts_entries_hosts_path }}"" dest: ""{{ tripleo_hosts_entries_tmp_hosts.path }}"" mode: preserve tags: - tripleo_hosts_entries path: ""{{ tripleo_hosts_entries_tmp_hosts.path }}"" register: tripleo_hosts_entries_heat_marker- name: Prepare new /etc/hosts path: ""{{ tripleo_hosts_entries_tmp_hosts.path }}"" register: tripleo_hosts_entries_new_entries tags: - tripleo_hosts_entries - name: Update /etc/hosts contents (if changed) become: true # cp preserves the inode of the existing file tripleo_hosts_entries_hosts_path command: cp ""{{ tripleo_hosts_entries_tmp_hosts.path }}"" ""{{ tripleo_hosts_entries_hosts_path }}"" when: tripleo_hosts_entries_heat_marker.changed or tripleo_hosts_entries_new_entries.changed tags: - tripleo_hosts_entries - name: Clean up temporary hosts file file: path: ""{{ tripleo_hosts_entries_tmp_hosts.path }}"" state: absent when: tripleo_hosts_entries_tmp_hosts.path is defined"," path: ""{{ tripleo_hosts_entries_hosts_path }}""- name: Update /etc/hosts path: ""{{ tripleo_hosts_entries_hosts_path }}""",41,3
openstack%2Fovn-octavia-provider~stable%2Fussuri~Id0dc8a478b903b80cf8afdfa3d2b23e90d22e112,openstack/ovn-octavia-provider,stable/ussuri,Id0dc8a478b903b80cf8afdfa3d2b23e90d22e112,Do not send status update in case of IpAddressAlreadyAllocated,MERGED,2020-06-10 09:06:09.000000000,2020-06-10 14:55:10.000000000,2020-06-10 14:52:35.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2020-06-10 09:06:09.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/2448c4925b7c2b2e4f4287a14bc67fa5e8360002', 'message': ""Do not send status update in case of IpAddressAlreadyAllocated\n\nIf IpAddressAlreadyAllocated is raised and the created VIP with\nthe same IP address allocated is not owned by LB that we're trying\nto create, we should raise DriverError instead passing the status\nupdate to Octavia API.\n\nConflicts:\n      ovn_octavia_provider/helper.py\n      ovn_octavia_provider/tests/unit/test_helper.py\n\nChange-Id: Id0dc8a478b903b80cf8afdfa3d2b23e90d22e112\nCloses-Bug: 1882724\n(cherry picked from commit ac4d0272a824da72427bebb4db92e61f4cd4b302)\n""}]",0,734770,2448c4925b7c2b2e4f4287a14bc67fa5e8360002,9,4,1,24791,,,0,"Do not send status update in case of IpAddressAlreadyAllocated

If IpAddressAlreadyAllocated is raised and the created VIP with
the same IP address allocated is not owned by LB that we're trying
to create, we should raise DriverError instead passing the status
update to Octavia API.

Conflicts:
      ovn_octavia_provider/helper.py
      ovn_octavia_provider/tests/unit/test_helper.py

Change-Id: Id0dc8a478b903b80cf8afdfa3d2b23e90d22e112
Closes-Bug: 1882724
(cherry picked from commit ac4d0272a824da72427bebb4db92e61f4cd4b302)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/70/734770/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",2,2448c4925b7c2b2e4f4287a14bc67fa5e8360002,," except n_exc.IpAddressAlreadyAllocatedClient as e: raise e kwargs = {} if hasattr(e, 'message'): kwargs = {'user_fault_string': e.message, 'operator_fault_string': e.message} raise driver_exceptions.DriverError( **kwargs)"," except n_exc.IpAddressAlreadyAllocatedClient: status = {'loadbalancers': [{ ""id"": lb_id, ""provisioning_status"": constants.ERROR, ""operating_status"": constants.ERROR}]} self._update_status_to_octavia(status) return raise driver_exceptions.DriverError(e)",12,15
openstack%2Fironic~master~I2e0a01071f0444bf6ee45e17f5b64ad86728db32,openstack/ironic,master,I2e0a01071f0444bf6ee45e17f5b64ad86728db32,Release greenthread when computing checksum,ABANDONED,2020-06-08 16:14:26.000000000,2020-06-10 14:43:16.000000000,,"[{'_account_id': 6928}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 16:14:26.000000000', 'files': ['ironic/drivers/modules/deploy_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9683ee8aa46bc04fd342325eab9465cb0f723445', 'message': 'Release greenthread when computing checksum\n\nHaving time.sleep(0) after reading each block of data for computing\nchecksum will allow other greenthreads to run (like for example\nconductor state reporting).\n\nTask: 40004\nStory: 2007778\nChange-Id: I2e0a01071f0444bf6ee45e17f5b64ad86728db32\n'}]",4,734136,9683ee8aa46bc04fd342325eab9465cb0f723445,10,6,1,12356,,,0,"Release greenthread when computing checksum

Having time.sleep(0) after reading each block of data for computing
checksum will allow other greenthreads to run (like for example
conductor state reporting).

Task: 40004
Story: 2007778
Change-Id: I2e0a01071f0444bf6ee45e17f5b64ad86728db32
",git fetch https://review.opendev.org/openstack/ironic refs/changes/36/734136/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/deploy_utils.py'],1,9683ee8aa46bc04fd342325eab9465cb0f723445,release-greenthread-computing-checksum,"import hashlib checksum = hashlib.new(algorithm) # Raises appropriate exceptions. with open(image_path, 'rb') as f: for chunk in iter(lambda: f.read(65536), b''): checksum.update(chunk) time.sleep(0) checksum_hash = checksum.hexdigest() return checksum_hash"," checksum = fileutils.compute_file_checksum(image_path, algorithm=algorithm) return checksum",8,3
openstack%2Fpuppet-openstack-specs~master~I18d94eec1ae2ded0c15e1b458021d853deedd8c9,openstack/puppet-openstack-specs,master,I18d94eec1ae2ded0c15e1b458021d853deedd8c9,Drop obsolete files,MERGED,2020-06-09 09:06:29.000000000,2020-06-10 14:35:23.000000000,2020-06-10 14:32:42.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 09:06:29.000000000', 'files': ['babel.cfg', 'openstack-common.conf', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-specs/commit/a37891321a0ff688786617702b9e182ae2179429', 'message': 'Drop obsolete files\n\n- Remove unused files babel.cfg and openstack-common.conf.\n- Use TOX_CONSTRAINTS_FILE instead of obsolete UPPER_CONSTRAINTS_FILE.\n\nChange-Id: I18d94eec1ae2ded0c15e1b458021d853deedd8c9\n'}]",0,734474,a37891321a0ff688786617702b9e182ae2179429,8,3,1,6547,,,0,"Drop obsolete files

- Remove unused files babel.cfg and openstack-common.conf.
- Use TOX_CONSTRAINTS_FILE instead of obsolete UPPER_CONSTRAINTS_FILE.

Change-Id: I18d94eec1ae2ded0c15e1b458021d853deedd8c9
",git fetch https://review.opendev.org/openstack/puppet-openstack-specs refs/changes/74/734474/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'openstack-common.conf', 'tox.ini']",3,a37891321a0ff688786617702b9e182ae2179429,cleanup, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,8
openstack%2Ftripleo-quickstart~master~I5ddeb8b7e89ec58b6fb2a2f6a4ac9543c01b6762,openstack/tripleo-quickstart,master,I5ddeb8b7e89ec58b6fb2a2f6a4ac9543c01b6762,Fix logic for periodic job,MERGED,2020-06-02 09:56:07.000000000,2020-06-10 14:22:33.000000000,2020-06-10 14:20:26.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-02 09:56:07.000000000', 'files': ['config/general_config/featureset052.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/97fa906c39e9927406a6b4e378a0096341ac9262', 'message': 'Fix logic for periodic job\n\nThis patch fix the logic to execute the tests in the skiplist in the\nperiodic pipeline.\n\nChange-Id: I5ddeb8b7e89ec58b6fb2a2f6a4ac9543c01b6762\n'}]",0,732510,97fa906c39e9927406a6b4e378a0096341ac9262,15,10,1,8367,,,0,"Fix logic for periodic job

This patch fix the logic to execute the tests in the skiplist in the
periodic pipeline.

Change-Id: I5ddeb8b7e89ec58b6fb2a2f6a4ac9543c01b6762
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/10/732510/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset052.yml'],1,97fa906c39e9927406a6b4e378a0096341ac9262,fs052-skiplist, {% if (('periodic' in zuul.pipeline and not job.force_non_periodic|default(false)|bool) or (job.force_periodic|default(false)|bool)) and not tempest_run_skipped | default(false) | bool -%}, {% if ('periodic' in zuul.pipeline and not job.force_non_periodic|default(false)|bool) or (job.force_periodic|default(false)|bool) -%},1,1
openstack%2Fpuppet-placement~master~I6d624ad4c6e0e72cfef1894c773a10f4ec250f97,openstack/puppet-placement,master,I6d624ad4c6e0e72cfef1894c773a10f4ec250f97,"Revert ""Refactor placement::api""",ABANDONED,2020-06-05 15:53:57.000000000,2020-06-10 14:21:39.000000000,,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-05 15:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/ceaf8c759b2323e4e36d0170c6189e052c850580', 'message': 'Revert ""Refactor placement::api""\n\nIt\'s breaking tripleo gate, let\'s revert it for now until we provide a backward compatible patch.\n\nThis reverts commit 425180f5b8789852cba3511e16218fcb9c4607e2.\n\nChange-Id: I6d624ad4c6e0e72cfef1894c773a10f4ec250f97\n'}, {'number': 2, 'created': '2020-06-05 15:56:23.000000000', 'files': ['releasenotes/notes/placement-api-fdecbcf65b84b5f8.yaml', 'manifests/wsgi/apache.pp', 'spec/classes/placement_api_spec.rb', 'manifests/api.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/b125d5d4b357f9b60f34465d09b9f333d3f635a4', 'message': 'Revert ""Refactor placement::api""\n\nIt\'s breaking tripleo gate, let\'s revert it for now until we provide a backward compatible patch.\n\nThis reverts commit 425180f5b8789852cba3511e16218fcb9c4607e2.\n\nChange-Id: I6d624ad4c6e0e72cfef1894c773a10f4ec250f97\n'}]",0,733877,b125d5d4b357f9b60f34465d09b9f333d3f635a4,9,4,2,3153,,,0,"Revert ""Refactor placement::api""

It's breaking tripleo gate, let's revert it for now until we provide a backward compatible patch.

This reverts commit 425180f5b8789852cba3511e16218fcb9c4607e2.

Change-Id: I6d624ad4c6e0e72cfef1894c773a10f4ec250f97
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/77/733877/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/placement-api-fdecbcf65b84b5f8.yaml', 'manifests/wsgi/apache.pp', 'spec/classes/placement_api_spec.rb', 'manifests/api.pp', 'manifests/params.pp']",5,ceaf8c759b2323e4e36d0170c6189e052c850580,api-non-debian, $service_name = 'httpd' $service_name = 'httpd', $service_name = false $service_name = false,42,130
openstack%2Fpuppet-placement~stable%2Fussuri~If43aea76cad59d1e82c08d4a443f1ac543db5f4d,openstack/puppet-placement,stable/ussuri,If43aea76cad59d1e82c08d4a443f1ac543db5f4d,"Revert ""Refactor placement::api""",ABANDONED,2020-06-05 15:51:40.000000000,2020-06-10 14:21:35.000000000,,"[{'_account_id': 6476}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-05 15:51:40.000000000', 'files': ['manifests/wsgi/apache.pp', 'spec/classes/placement_api_spec.rb', 'manifests/api.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/9037d2a3c25098e165144d40d7cce8081a367e08', 'message': 'Revert ""Refactor placement::api""\n\nIt\'s breaking tripleo gate, let\'s revert it for now until we provide a backward compatible patch.\nThis reverts commit dbafc9438384318cb66438f098858d608e042785.\n\nChange-Id: If43aea76cad59d1e82c08d4a443f1ac543db5f4d\n'}]",0,733875,9037d2a3c25098e165144d40d7cce8081a367e08,6,5,1,3153,,,0,"Revert ""Refactor placement::api""

It's breaking tripleo gate, let's revert it for now until we provide a backward compatible patch.
This reverts commit dbafc9438384318cb66438f098858d608e042785.

Change-Id: If43aea76cad59d1e82c08d4a443f1ac543db5f4d
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/75/733875/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'spec/classes/placement_api_spec.rb', 'manifests/api.pp', 'manifests/params.pp']",4,9037d2a3c25098e165144d40d7cce8081a367e08,api-non-debian, $service_name = 'httpd' $service_name = 'httpd', $service_name = false $service_name = false,42,124
openstack%2Ftripleo-quickstart-extras~master~Ib71ccaa9f375c2c1dece18f58d34086516c7afa8,openstack/tripleo-quickstart-extras,master,Ib71ccaa9f375c2c1dece18f58d34086516c7afa8,Remove horizon from skiplist,MERGED,2020-06-09 16:13:20.000000000,2020-06-10 14:20:25.000000000,2020-06-10 14:20:25.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-09 16:13:20.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip_train.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0f3875d92c1b70e03c1e046b4b842f767b943927', 'message': 'Remove horizon from skiplist\n\nHorizon is supported on TripleO and having this job on skiplist make it\nnot run in the puppet-horizon-tripleo-standalone job\n\nChange-Id: Ib71ccaa9f375c2c1dece18f58d34086516c7afa8\n'}]",0,734638,0f3875d92c1b70e03c1e046b4b842f767b943927,10,4,1,8367,,,0,"Remove horizon from skiplist

Horizon is supported on TripleO and having this job on skiplist make it
not run in the puppet-horizon-tripleo-standalone job

Change-Id: Ib71ccaa9f375c2c1dece18f58d34086516c7afa8
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/38/734638/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip_train.yml'],1,0f3875d92c1b70e03c1e046b4b842f767b943927,remove-horizon,, - test: 'tempest_horizon' reason: 'Not supported in TripleO',0,2
openstack%2Fovn-octavia-provider~master~I5d9764b13a30f09a0b8b4b81faa73f2917cd5ee7,openstack/ovn-octavia-provider,master,I5d9764b13a30f09a0b8b4b81faa73f2917cd5ee7,drop mock from lower-constraints,MERGED,2020-06-09 09:51:02.000000000,2020-06-10 14:19:08.000000000,2020-06-10 14:17:22.000000000,"[{'_account_id': 1131}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-09 09:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/fc1b6460d58e5612a9e3ae885f0483c09739fd25', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I5d9764b13a30f09a0b8b4b81faa73f2917cd5ee7\n""}, {'number': 2, 'created': '2020-06-09 18:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/3245a7b5f45a026ab3de1c4445b8fe4bd4303ffc', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I5d9764b13a30f09a0b8b4b81faa73f2917cd5ee7\n""}, {'number': 3, 'created': '2020-06-10 08:26:05.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/9abf035dc454ff91f9aa396dc657b145b181fc04', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I5d9764b13a30f09a0b8b4b81faa73f2917cd5ee7\n""}]",0,734494,9abf035dc454ff91f9aa396dc657b145b181fc04,14,4,3,28522,,,0,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: I5d9764b13a30f09a0b8b4b81faa73f2917cd5ee7
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/94/734494/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,fc1b6460d58e5612a9e3ae885f0483c09739fd25,drop_mock,,mock==2.0.0,0,1
openstack%2Fproject-team-guide~master~I20ed958dd1c00b12093295a4e69c6b8524bb0e1b,openstack/project-team-guide,master,I20ed958dd1c00b12093295a4e69c6b8524bb0e1b,Update retirement instructions,MERGED,2020-06-10 13:23:45.000000000,2020-06-10 13:59:05.000000000,2020-06-10 13:57:12.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 13:23:45.000000000', 'files': ['doc/source/repository.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/3ac4a40d2f464af1a0ad8b3321e9fcd8c2c4b362', 'message': 'Update retirement instructions\n\nofficial-openstack-repo-jobs is new and needs to stay until step 3.\n\nChange-Id: I20ed958dd1c00b12093295a4e69c6b8524bb0e1b\n'}]",0,734835,3ac4a40d2f464af1a0ad8b3321e9fcd8c2c4b362,8,3,1,6547,,,0,"Update retirement instructions

official-openstack-repo-jobs is new and needs to stay until step 3.

Change-Id: I20ed958dd1c00b12093295a4e69c6b8524bb0e1b
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/35/734835/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/repository.rst'],1,3ac4a40d2f464af1a0ad8b3321e9fcd8c2c4b362,retire-githubsync,"In step 2, keep the template ``official-openstack-repo-jobs`` besides ``noop-jobs``, this is needed to sync changes to GitHub. It will be removed in step 3. ",,4,0
openstack%2Fcharm-swift-proxy~master~I9134eb88b16e5ffe18f16ce30e03e469027b6670,openstack/charm-swift-proxy,master,I9134eb88b16e5ffe18f16ce30e03e469027b6670,set-weight/remove-devices actions are leader-only,MERGED,2020-06-09 23:04:08.000000000,2020-06-10 13:47:12.000000000,2020-06-10 13:47:12.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 25011}]","[{'number': 1, 'created': '2020-06-09 23:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/b3a331c5b981df9d2e7174f7c1866ea74b9cdedc', 'message': ""set-weight/remove-devices actions are leader-only\n\nWhen running set-weight and remove-devices actions, they must be run\non the leader of the swift-proxy cluster.  Lacking this validation,\nthe ring builder file on a non-leader would get updated, but the\nbalance_rings action would fail, and the changes to the ring files\nwould not propogate to the remainder of the swift cluster.\n\nWhile addressing this bug, I've also included a bit of code that would\nensure that if disable_ring_rebalance is set to true in the charm\nconfig, these actions will not automatically cause rebalance and sync of\nrings without other charm configuration update to allow for rebalancing\nof the rings.  This will allow for multiple set-weight or remove-disk\nactions to be run as a batch before a rebalance is performed.\n\nChange-Id: I9134eb88b16e5ffe18f16ce30e03e469027b6670\nCloses-Bug: 1882250\n""}, {'number': 2, 'created': '2020-06-09 23:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/7625333d47e64c6fccad193a0652068bf947e3c2', 'message': ""set-weight/remove-devices actions are leader-only\n\nWhen running set-weight and remove-devices actions, they must be run\non the leader of the swift-proxy cluster.  Lacking this validation,\nthe ring builder file on a non-leader would get updated, but the\nbalance_rings action would fail, and the changes to the ring files\nwould not propogate to the remainder of the swift cluster.\n\nWhile addressing this bug, I've also included a bit of code that would\nensure that if disable_ring_rebalance is set to true in the charm\nconfig, these actions will not automatically cause rebalance and sync of\nrings without other charm configuration update to allow for rebalancing\nof the rings.  This will allow for multiple set-weight or remove-disk\nactions to be run as a batch before a rebalance is performed.\n\nChange-Id: I9134eb88b16e5ffe18f16ce30e03e469027b6670\nCloses-Bug: 1882250\n""}, {'number': 3, 'created': '2020-06-09 23:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/b3157da97e7c60093646dfc6c0b76916f1b0e5e7', 'message': ""set-weight/remove-devices actions are leader-only\n\nWhen running set-weight and remove-devices actions, they must be run\non the leader of the swift-proxy cluster.  Lacking this validation,\nthe ring builder file on a non-leader would get updated, but the\nbalance_rings action would fail, and the changes to the ring files\nwould not propogate to the remainder of the swift cluster.\n\nWhile addressing this bug, I've also included a bit of code that would\nensure that if disable_ring_rebalance is set to true in the charm\nconfig, these actions will not automatically cause rebalance and sync of\nrings without other charm configuration update to allow for rebalancing\nof the rings.  This will allow for multiple set-weight or remove-disk\nactions to be run as a batch before a rebalance is performed.\n\nChange-Id: I9134eb88b16e5ffe18f16ce30e03e469027b6670\nCloses-Bug: 1882250\n""}, {'number': 4, 'created': '2020-06-10 00:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/20566f364da52e7b57451106e566caddca36459e', 'message': ""set-weight/remove-devices actions are leader-only\n\nWhen running set-weight and remove-devices actions, they must be run\non the leader of the swift-proxy cluster.  Lacking this validation,\nthe ring builder file on a non-leader would get updated, but the\nbalance_rings action would fail, and the changes to the ring files\nwould not propogate to the remainder of the swift cluster.\n\nWhile addressing this bug, I've also included a bit of code that would\nensure that if disable_ring_rebalance is set to true in the charm\nconfig, these actions will not automatically cause rebalance and sync of\nrings without other charm configuration update to allow for rebalancing\nof the rings.  This will allow for multiple set-weight or remove-disk\nactions to be run as a batch before a rebalance is performed.\n\nChange-Id: I9134eb88b16e5ffe18f16ce30e03e469027b6670\nCloses-Bug: 1882250\n""}, {'number': 5, 'created': '2020-06-10 13:04:30.000000000', 'files': ['actions/actions.py', 'unit_tests/test_actions.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/0ce1ee67f8ee69f7c6fada10979aaf1415c7cf68', 'message': 'set-weight/remove-devices actions are leader-only\n\nWhen running set-weight and remove-devices actions, they must be run\non the leader of the swift-proxy cluster.  Lacking this validation,\nthe ring builder file on a non-leader would get updated, but the\nbalance_rings action would fail, and the changes to the ring files\nwould not propogate to the remainder of the swift cluster.\n\nChange-Id: I9134eb88b16e5ffe18f16ce30e03e469027b6670\nCloses-Bug: 1882250\n'}]",1,734718,0ce1ee67f8ee69f7c6fada10979aaf1415c7cf68,21,4,5,25011,,,0,"set-weight/remove-devices actions are leader-only

When running set-weight and remove-devices actions, they must be run
on the leader of the swift-proxy cluster.  Lacking this validation,
the ring builder file on a non-leader would get updated, but the
balance_rings action would fail, and the changes to the ring files
would not propogate to the remainder of the swift cluster.

Change-Id: I9134eb88b16e5ffe18f16ce30e03e469027b6670
Closes-Bug: 1882250
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/18/734718/4 && git format-patch -1 --stdout FETCH_HEAD,['actions/actions.py'],1,b3a331c5b981df9d2e7174f7c1866ea74b9cdedc,bug/1882250,"from charmhelpers.contrib.hahelpers.cluster import ( is_elected_leader, ) SWIFT_HA_RES, sync_builders_and_rings_if_changed,@sync_builders_and_rings_if_changed if not is_elected_leader(SWIFT_HA_RES): action_fail('Must run action on leader unit') return @sync_builders_and_rings_if_changed if not is_elected_leader(SWIFT_HA_RES): action_fail('Must run action on leader unit') return "," balance_rings, balance_rings() balance_rings()",16,3
openstack%2Fcharms.openstack~master~I993ad31ea96ed0eaa67ef16c6798436b44dfa299,openstack/charms.openstack,master,I993ad31ea96ed0eaa67ef16c6798436b44dfa299,Specialise TrilioVault subordinate configure_source,MERGED,2020-06-10 06:34:04.000000000,2020-06-10 13:38:09.000000000,2020-06-10 13:38:09.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-06-10 06:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/42433f12e2eff607828a92c94efc34758fb50541', 'message': ""Specialise TrilioVault subordinate configure_source\n\nDon't call super class configure_source - suboridnates don't have\nopenstack-origin so this will always fail.\n\nChange-Id: I993ad31ea96ed0eaa67ef16c6798436b44dfa299\n""}, {'number': 2, 'created': '2020-06-10 13:18:49.000000000', 'files': ['charms_openstack/plugins/classes.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/a13a44b617f75b5fdf040ca1bae8462108d02d21', 'message': ""Specialise TrilioVault subordinate configure_source\n\nDon't call super class configure_source - subordinates don't have\nopenstack-origin so this will always fail.\n\nChange-Id: I993ad31ea96ed0eaa67ef16c6798436b44dfa299\n""}]",2,734750,a13a44b617f75b5fdf040ca1bae8462108d02d21,9,2,2,935,,,0,"Specialise TrilioVault subordinate configure_source

Don't call super class configure_source - subordinates don't have
openstack-origin so this will always fail.

Change-Id: I993ad31ea96ed0eaa67ef16c6798436b44dfa299
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/50/734750/2 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/plugins/classes.py'],1,42433f12e2eff607828a92c94efc34758fb50541,trilio-subordinate," with open( ""/etc/apt/sources.list.d/trilio-gemfury-sources.list"", ""w"" ) as tsources: tsources.write(ch_core.hookenv.config(""triliovault-pkg-source""))", super().configure_source(),4,1
openstack%2Foslo.utils~master~I6e547d206de9e3e333e29ccad52bf6b519a86ff9,openstack/oslo.utils,master,I6e547d206de9e3e333e29ccad52bf6b519a86ff9,Release greenthread when computing checksum,MERGED,2020-06-08 16:42:37.000000000,2020-06-10 13:32:04.000000000,2020-06-10 13:29:36.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 16:42:37.000000000', 'files': ['oslo_utils/fileutils.py', 'oslo_utils/tests/test_fileutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/b9938230f992935e8332b6e288937be890724cd2', 'message': 'Release greenthread when computing checksum\n\nHaving time.sleep(0) after reading each block of data for computing\nchecksum will allow other greenthreads to run.\n\nCloses-Bug: 1882569\nChange-Id: I6e547d206de9e3e333e29ccad52bf6b519a86ff9\n'}]",0,734145,b9938230f992935e8332b6e288937be890724cd2,8,3,1,12356,,,0,"Release greenthread when computing checksum

Having time.sleep(0) after reading each block of data for computing
checksum will allow other greenthreads to run.

Closes-Bug: 1882569
Change-Id: I6e547d206de9e3e333e29ccad52bf6b519a86ff9
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/45/734145/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/fileutils.py', 'oslo_utils/tests/test_fileutils.py']",2,b9938230f992935e8332b6e288937be890724cd2,release-greenthread-computing-checksum,"import time from unittest import mock def test_compute_checksum_sleep_0_called(self): path = fileutils.write_to_tempfile(self.content) self.assertTrue(os.path.exists(path)) self.check_file_content(self.content, path) expected_checksum = hashlib.sha256() expected_checksum.update(self.content) with mock.patch.object(time, ""sleep"") as sleep_mock: actual_checksum = fileutils.compute_file_checksum( path, read_chunksize=4) sleep_mock.assert_has_calls([mock.call(0)] * 3) # Just to make sure that there were exactly 3 calls self.assertEqual(3, sleep_mock.call_count) self.assertEqual(expected_checksum.hexdigest(), actual_checksum) ",,22,0
openstack%2Fopenstack-ansible-os_horizon~stable%2Ftrain~I9f1b8e4c6f5b4fe2601e5ee1dacf90bded60f93d,openstack/openstack-ansible-os_horizon,stable/train,I9f1b8e4c6f5b4fe2601e5ee1dacf90bded60f93d,Horizon configuration to support domains dropdown,MERGED,2020-04-14 12:36:38.000000000,2020-06-10 13:20:21.000000000,2020-05-12 18:35:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29230}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-04-14 12:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/5c7b59699548575f6a76a421bebc979965058704', 'message': 'Horizon configuration to support domains dropdown\n\nAn openstack-ansible deployment does not have options to set the local_settings.py params\nfor Horizon to support Keystone V3 multiple domains dropdown menu and its variants to choose.\n\nThese options in local_settings.py are:\nOPENSTACK_KEYSTONE_DOMAIN_CHOICES - default value to ""((\'Default\', \'Default\'))""\n\nChange-Id: I9f1b8e4c6f5b4fe2601e5ee1dacf90bded60f93d\nCloses-Bug: 1795788\n(cherry picked from commit d86285b377221fb5522207a9da6cbfbdea4dd1e9)\n'}, {'number': 2, 'created': '2020-05-12 10:11:45.000000000', 'files': ['defaults/main.yml', 'templates/horizon_local_settings.py.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/e3326b77086b3865202cff9bce95377937aa6f07', 'message': 'Horizon configuration to support domains dropdown\n\nAn openstack-ansible deployment does not have options to set the local_settings.py params\nfor Horizon to support Keystone V3 multiple domains dropdown menu and its variants to choose.\n\nThese options in local_settings.py are:\nOPENSTACK_KEYSTONE_DOMAIN_CHOICES - default value to ""((\'Default\', \'Default\'))""\n\nChange-Id: I9f1b8e4c6f5b4fe2601e5ee1dacf90bded60f93d\nCloses-Bug: 1795788\n(cherry picked from commit d86285b377221fb5522207a9da6cbfbdea4dd1e9)\n'}]",0,719934,e3326b77086b3865202cff9bce95377937aa6f07,25,5,2,28619,,,0,"Horizon configuration to support domains dropdown

An openstack-ansible deployment does not have options to set the local_settings.py params
for Horizon to support Keystone V3 multiple domains dropdown menu and its variants to choose.

These options in local_settings.py are:
OPENSTACK_KEYSTONE_DOMAIN_CHOICES - default value to ""(('Default', 'Default'))""

Change-Id: I9f1b8e4c6f5b4fe2601e5ee1dacf90bded60f93d
Closes-Bug: 1795788
(cherry picked from commit d86285b377221fb5522207a9da6cbfbdea4dd1e9)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/34/719934/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'templates/horizon_local_settings.py.j2']",2,5c7b59699548575f6a76a421bebc979965058704,bug/1795788-stable/train,"{% else %} OPENSTACK_KEYSTONE_DOMAIN_DROPDOWN = ""{{ horizon_keystone_multidomain_dropdown | bool }}"" OPENSTACK_KEYSTONE_DOMAIN_CHOICES = ""{{ horizon_keystone_multidomain_choices }}""",{% if horizon_keystone_multidomain_support | bool %} OPENSTACK_KEYSTONE_DOMAIN_DROPDOWN = {{ horizon_keystone_multidomain_dropdown | bool }} {% endif %} ,8,4
openstack%2Fmistral~stable%2Frocky~I01bf47f7a83102a1a16b15bf0bbb4021707e11fe,openstack/mistral,stable/rocky,I01bf47f7a83102a1a16b15bf0bbb4021707e11fe,Mask sensitive data when logging action results,MERGED,2019-11-18 09:21:58.000000000,2020-06-10 13:14:07.000000000,2019-11-21 09:16:20.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 30755}]","[{'number': 1, 'created': '2019-11-18 09:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/077e5eb65bb448055fa4ad0900c59f651963d313', 'message': 'Mask sensitive data when logging action results\n\nWhen passwords or other sensible data is returned by a Action, they can\nbe logged by Mistral. This change uses the password masking\nfunctionality used in mistral-lib and privided by oslo-utils.\n\nThis function uses the standard cut_repr method in mistral-lib, which\nalso means the output is more standardised.\n\nRelated-Bug: #1850843\nChange-Id: I01bf47f7a83102a1a16b15bf0bbb4021707e11fe\n(cherry picked from commit a25c8fab881decff0e61deffe1895f1d99132f9f)\n'}, {'number': 2, 'created': '2019-11-20 16:36:13.000000000', 'files': ['mistral/engine/actions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/4d3ef8887fb765c9edd36f62cc66904aff4c1b0e', 'message': 'Mask sensitive data when logging action results\n\nWhen passwords or other sensible data is returned by a Action, they can\nbe logged by Mistral. This change uses the password masking\nfunctionality used in mistral-lib and privided by oslo-utils.\n\nThis function uses the standard cut_repr method in mistral-lib, which\nalso means the output is more standardised.\n\nRelated-Bug: #1850843\nChange-Id: I01bf47f7a83102a1a16b15bf0bbb4021707e11fe\n(cherry picked from commit a25c8fab881decff0e61deffe1895f1d99132f9f)\n'}]",0,694733,4d3ef8887fb765c9edd36f62cc66904aff4c1b0e,27,4,2,9712,,,0,"Mask sensitive data when logging action results

When passwords or other sensible data is returned by a Action, they can
be logged by Mistral. This change uses the password masking
functionality used in mistral-lib and privided by oslo-utils.

This function uses the standard cut_repr method in mistral-lib, which
also means the output is more standardised.

Related-Bug: #1850843
Change-Id: I01bf47f7a83102a1a16b15bf0bbb4021707e11fe
(cherry picked from commit a25c8fab881decff0e61deffe1895f1d99132f9f)
",git fetch https://review.opendev.org/openstack/mistral refs/changes/33/694733/2 && git format-patch -1 --stdout FETCH_HEAD,['mistral/engine/actions.py'],1,077e5eb65bb448055fa4ad0900c59f651963d313,bug/1850843, result.cut_repr())," def _result_msg(): if state == states.ERROR: return ""error = %s"" % utils.cut(result.error) return ""result = %s"" % utils.cut(result.data) _result_msg())",1,7
openstack%2Frequirements~master~Ib4462e35d59ef5f530b46c50517c4f305e2feaa3,openstack/requirements,master,Ib4462e35d59ef5f530b46c50517c4f305e2feaa3,Remove virtualbmc package,MERGED,2020-06-08 15:27:14.000000000,2020-06-10 13:13:59.000000000,2020-06-09 21:55:02.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 15:27:14.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bded0f0c3e945569dbbaf6a6fc44b407454a6408', 'message': ""Remove virtualbmc package\n\nThis isn't used by any openstack/ repos anymore.\n\nChange-Id: Ib4462e35d59ef5f530b46c50517c4f305e2feaa3\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,734125,bded0f0c3e945569dbbaf6a6fc44b407454a6408,11,2,1,11904,,,0,"Remove virtualbmc package

This isn't used by any openstack/ repos anymore.

Change-Id: Ib4462e35d59ef5f530b46c50517c4f305e2feaa3
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/25/734125/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,bded0f0c3e945569dbbaf6a6fc44b407454a6408,virtualbmc,,virtualbmc===2.1.0,0,2
openstack%2Freleases~master~Icfdb876e7fdb174ec54b97d30d53b592339700e4,openstack/releases,master,Icfdb876e7fdb174ec54b97d30d53b592339700e4,Release 3.2.0 of cliff,MERGED,2020-06-09 16:46:27.000000000,2020-06-10 13:02:55.000000000,2020-06-10 13:02:55.000000000,"[{'_account_id': 2}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-09 16:46:27.000000000', 'files': ['deliverables/victoria/cliff.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c7430a94dd477d489769ec3e1a080e1a7d7f7165', 'message': 'Release 3.2.0 of cliff\n\nChange-Id: Icfdb876e7fdb174ec54b97d30d53b592339700e4\n'}]",0,734650,c7430a94dd477d489769ec3e1a080e1a7d7f7165,10,4,1,2,,,0,"Release 3.2.0 of cliff

Change-Id: Icfdb876e7fdb174ec54b97d30d53b592339700e4
",git fetch https://review.opendev.org/openstack/releases refs/changes/50/734650/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/cliff.yaml'],1,c7430a94dd477d489769ec3e1a080e1a7d7f7165,,releases: - version: 3.2.0 projects: - repo: openstack/cliff hash: 7268eea70b959655cd058e6178b85f0a69dda7c5,,5,0
openstack%2Fcharm-rabbitmq-server~stable%2F20.05~Id30ba53b17fb015e8336127ab1479faf7d8f4779,openstack/charm-rabbitmq-server,stable/20.05,Id30ba53b17fb015e8336127ab1479faf7d8f4779,Do not attempt to remove a unit during clustering,MERGED,2020-06-03 17:19:01.000000000,2020-06-10 12:59:04.000000000,2020-06-10 12:59:04.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-06-03 17:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/1da986566daa3ac2681f30d5a9812ef3960a4679', 'message': 'Do not attempt to remove a unit during clustering\n\nDo not attempt to remove a node while in the act of clustering.\n\nChange-Id: Id30ba53b17fb015e8336127ab1479faf7d8f4779\nPartial-Bug: #1818260\n(cherry picked from commit f1c3deac35138a5e0c8ecc5a3004a838f0322b95)\n'}, {'number': 2, 'created': '2020-06-09 15:51:42.000000000', 'files': ['tests/bundles/trusty-mitaka.yaml', 'hooks/rabbitmq_server_relations.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/2cd2962c2b3582339577b6aabddcb95e681c8f03', 'message': 'Do not attempt to remove a unit during clustering\n\nDo not attempt to remove a node while in the act of clustering.\n\nChange-Id: Id30ba53b17fb015e8336127ab1479faf7d8f4779\nPartial-Bug: #1818260\n(cherry picked from commit f1c3deac35138a5e0c8ecc5a3004a838f0322b95)\n'}]",0,733285,2cd2962c2b3582339577b6aabddcb95e681c8f03,25,5,2,20805,,,0,"Do not attempt to remove a unit during clustering

Do not attempt to remove a node while in the act of clustering.

Change-Id: Id30ba53b17fb015e8336127ab1479faf7d8f4779
Partial-Bug: #1818260
(cherry picked from commit f1c3deac35138a5e0c8ecc5a3004a838f0322b95)
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/85/733285/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/rabbitmq_server_relations.py'],1,1da986566daa3ac2681f30d5a9812ef3960a4679,bug/1818260-stable/20.05," kvstore = kv() if (is_leader() and not is_unit_paused_set() and not kvstore.get(INITIAL_CLIENT_UPDATE_KEY, False)):", if is_leader() and not is_unit_paused_set():,3,1
openstack%2Fnova-specs~master~Ic2919940bc12180dbc577f15a7d3bbd78b6465ae,openstack/nova-specs,master,Ic2919940bc12180dbc577f15a7d3bbd78b6465ae,spec update: virtual-persistent-memory,MERGED,2020-05-08 06:24:21.000000000,2020-06-10 12:55:30.000000000,2020-06-10 12:52:32.000000000,"[{'_account_id': 5754}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-08 06:24:21.000000000', 'files': ['specs/train/implemented/virtual-persistent-memory.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6c9ee546577e7442fbfa0957d532f022f823ea77', 'message': 'spec update: virtual-persistent-memory\n\nAlign the spec with implementation. If guest NUMA topology is not\nspecified in the flavor, a guest NUMA node 0 is constructed\nimplicitly at Nova API layer.\n\nChange-Id: Ic2919940bc12180dbc577f15a7d3bbd78b6465ae\n'}]",0,726284,6c9ee546577e7442fbfa0957d532f022f823ea77,9,5,1,23598,,,0,"spec update: virtual-persistent-memory

Align the spec with implementation. If guest NUMA topology is not
specified in the flavor, a guest NUMA node 0 is constructed
implicitly at Nova API layer.

Change-Id: Ic2919940bc12180dbc577f15a7d3bbd78b6465ae
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/84/726284/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/implemented/virtual-persistent-memory.rst'],1,6c9ee546577e7442fbfa0957d532f022f823ea77,,"at the Nova API, which means the NUMA topology logic in the scheduler is applied. And from the perspective of any other parts of Nova, this guest is a NUMA guest.","at the libvirt driver while the guest libvirt domain specification is being built up. The NUMA topology logic in the scheduler is not applied. And from the perspective of any other parts of Nova, this guest is still a non-NUMA guest.",3,4
openstack%2Freleases~master~I19da401c42fd4453c91955c51baaca13a601b68d,openstack/releases,master,I19da401c42fd4453c91955c51baaca13a601b68d,oslo.log 3.42.5 (stein),MERGED,2020-06-08 21:38:01.000000000,2020-06-10 12:53:47.000000000,2020-06-10 12:53:47.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-08 21:38:01.000000000', 'files': ['deliverables/stein/oslo.log.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/52149f958aeac2a067df2e5724fc738815dc914f', 'message': 'oslo.log 3.42.5 (stein)\n\nChange-Id: I19da401c42fd4453c91955c51baaca13a601b68d\n'}]",0,734305,52149f958aeac2a067df2e5724fc738815dc914f,8,3,1,6928,,,0,"oslo.log 3.42.5 (stein)

Change-Id: I19da401c42fd4453c91955c51baaca13a601b68d
",git fetch https://review.opendev.org/openstack/releases refs/changes/05/734305/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/oslo.log.yaml'],1,52149f958aeac2a067df2e5724fc738815dc914f,oslo-stein, - version: 3.42.5 projects: - repo: openstack/oslo.log hash: ef23f7085059a7844be308db454a20168fbc97e1,,4,0
openstack%2Freleases~master~I58f45a86ae55327f59639a9030bb67da4e4f4340,openstack/releases,master,I58f45a86ae55327f59639a9030bb67da4e4f4340,Release Bifrost 8.1.0 for Ussuri,MERGED,2020-06-09 12:51:25.000000000,2020-06-10 12:52:32.000000000,2020-06-10 12:52:32.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-09 12:51:25.000000000', 'files': ['deliverables/ussuri/bifrost.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9a1c20d2a85f7810ca881b12c3fe72f650babc62', 'message': 'Release Bifrost 8.1.0 for Ussuri\n\nChange-Id: I58f45a86ae55327f59639a9030bb67da4e4f4340\n'}]",0,734599,9a1c20d2a85f7810ca881b12c3fe72f650babc62,8,5,1,14826,,,0,"Release Bifrost 8.1.0 for Ussuri

Change-Id: I58f45a86ae55327f59639a9030bb67da4e4f4340
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/734599/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/bifrost.yaml'],1,9a1c20d2a85f7810ca881b12c3fe72f650babc62,, - version: 8.1.0 projects: - repo: openstack/bifrost hash: aaf2c016ae243b8b4853ccf60844b6a08d7d7801,,4,0
openstack%2Fdiskimage-builder~master~I61ec2eae6f650a002ed2209898e12b4a3a5d8fc2,openstack/diskimage-builder,master,I61ec2eae6f650a002ed2209898e12b4a3a5d8fc2,[DNM] test: qemu-img convert cache=writethrough,ABANDONED,2020-06-09 19:12:37.000000000,2020-06-10 12:51:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-09 19:12:37.000000000', 'files': ['diskimage_builder/elements/redhat-common/bin/extract-image', 'diskimage_builder/lib/img-functions'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1b420db5f27429655ebba5285fc21530b5619c9c', 'message': ""[DNM] test: qemu-img convert cache=writethrough\n\n'unsafe' (default for convert) might be missing files\n\nChange-Id: I61ec2eae6f650a002ed2209898e12b4a3a5d8fc2\n""}]",0,734677,1b420db5f27429655ebba5285fc21530b5619c9c,5,2,1,8175,,,0,"[DNM] test: qemu-img convert cache=writethrough

'unsafe' (default for convert) might be missing files

Change-Id: I61ec2eae6f650a002ed2209898e12b4a3a5d8fc2
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/77/734677/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/redhat-common/bin/extract-image', 'diskimage_builder/lib/img-functions']",2,1b420db5f27429655ebba5285fc21530b5619c9c,qemu-img-convert, qemu-img convert ${COMPRESS_IMAGE:+-c} -t writethrough -f raw -O $IMAGE_TYPE $EXTRA_OPTIONS $TMP_IMAGE_PATH $1-new, qemu-img convert ${COMPRESS_IMAGE:+-c} -f raw -O $IMAGE_TYPE $EXTRA_OPTIONS $TMP_IMAGE_PATH $1-new,2,2
openstack%2Ftripleo-common~master~I3f5ce22055d74078c46ae55b32a4775ac12262b5,openstack/tripleo-common,master,I3f5ce22055d74078c46ae55b32a4775ac12262b5,[DNM] Test dib default fs,ABANDONED,2020-06-10 03:31:47.000000000,2020-06-10 12:51:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-10 03:31:47.000000000', 'files': ['image-yaml/overcloud-images-centos8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e564f0673ce773c532f61e5679c7f96ed3e44a7d', 'message': '[DNM] Test dib default fs\n\nChange-Id: I3f5ce22055d74078c46ae55b32a4775ac12262b5\n'}]",0,734738,e564f0673ce773c532f61e5679c7f96ed3e44a7d,4,2,1,8175,,,0,"[DNM] Test dib default fs

Change-Id: I3f5ce22055d74078c46ae55b32a4775ac12262b5
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/38/734738/1 && git format-patch -1 --stdout FETCH_HEAD,['image-yaml/overcloud-images-centos8.yaml'],1,e564f0673ce773c532f61e5679c7f96ed3e44a7d,image_sanity,, environment: FS_TYPE: xfs,0,2
openstack%2Freleases~master~Ie0f3a95fcf7e1997895cec78ceb0c82218a6df85,openstack/releases,master,Ie0f3a95fcf7e1997895cec78ceb0c82218a6df85,Release Kayobe 8.0.0.0rc1 and branch for Ussuri,MERGED,2020-06-09 13:22:07.000000000,2020-06-10 12:44:58.000000000,2020-06-10 12:44:58.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-09 13:22:07.000000000', 'files': ['deliverables/ussuri/kayobe.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4413d768aa1bb323ccbd9c67caa9b8e7e7c2e730', 'message': 'Release Kayobe 8.0.0.0rc1 and branch for Ussuri\n\nChange-Id: Ie0f3a95fcf7e1997895cec78ceb0c82218a6df85\n'}]",0,734607,4413d768aa1bb323ccbd9c67caa9b8e7e7c2e730,8,3,1,14826,,,0,"Release Kayobe 8.0.0.0rc1 and branch for Ussuri

Change-Id: Ie0f3a95fcf7e1997895cec78ceb0c82218a6df85
",git fetch https://review.opendev.org/openstack/releases refs/changes/07/734607/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/kayobe.yaml'],1,4413d768aa1bb323ccbd9c67caa9b8e7e7c2e730,,releases: - version: 8.0.0.0rc1 projects: - repo: openstack/kayobe hash: fe4dea965dd72ec85a70a09c708160457dcd92e3 - repo: openstack/kayobe-config hash: 96cea012cfa5030b1df6e6fe13fa436d1095cba2 - repo: openstack/kayobe-config-dev hash: 0460b0b73956d74d0d82f485b0d4fc0a6956ff92 branches: - name: stable/ussuri location: 8.0.0.0rc1,,12,0
openstack%2Fpython-tripleoclient~master~I0443da140020540917396cdfe00da8ac29d20297,openstack/python-tripleoclient,master,I0443da140020540917396cdfe00da8ac29d20297,Implement validations-libs framework for ALL validator commands,MERGED,2020-03-24 12:55:53.000000000,2020-06-10 12:29:49.000000000,2020-06-10 12:28:24.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-03-24 12:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9c04f5bc3df597004f68916600b9131c2779d109', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 2, 'created': '2020-03-24 13:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f41b37c039956a4042c794233943d06cc6cfb711', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 3, 'created': '2020-03-24 15:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e5d6c7ef5da4c57bb98a2ce8c5271db5fb4eca99', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 4, 'created': '2020-03-27 08:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f29a8214859131002953c8bec7d55f25f5526d80', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 5, 'created': '2020-03-31 08:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4b9ee2ea8ea94e2b450f2e015978cc3953c34e0f', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 6, 'created': '2020-03-31 08:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5e0eea3f671380418d57119f16692d8a569f315d', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 7, 'created': '2020-04-06 07:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e6585adff129bec4465da776872f6e59156b3df9', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 8, 'created': '2020-04-06 07:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4a19ce139599cc5a1ccf7c9f704a51b5823baf16', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 9, 'created': '2020-04-22 19:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c2869f048786ad89c0b14f84cdc146c8f1631a97', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 10, 'created': '2020-04-22 20:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dcf68bbda65d92b9c897fded1a64feb10c13984e', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 11, 'created': '2020-04-22 20:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/05214158231fb6c2ab8fabf5167d7e704723049f', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 12, 'created': '2020-04-22 20:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a6b9577b262c557b6d7eedb10e3b1b845346ba98', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 13, 'created': '2020-04-22 20:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f95107fddbb030a85dec081b9495696bcbd0cfd3', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 14, 'created': '2020-04-23 12:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/02f32478db8c017fa435f7b3c271f9701c879e99', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 15, 'created': '2020-04-28 15:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e2b452f62bfa83a5ed644cbb20ad5ea6b7f44779', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 16, 'created': '2020-04-29 11:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/36255fd7321ab4b949f19d25b2f691b83c577008', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 17, 'created': '2020-05-04 07:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/418dc1c40d258a3f2ea96a1f7eadb37c14f6c97f', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 18, 'created': '2020-05-18 13:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/511a1df314b3cddad196a9d80adb7ad0a69dadc6', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 19, 'created': '2020-05-18 13:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c09c31662a8a750e974cdaf5af76561b99153c46', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 20, 'created': '2020-05-18 13:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/40e910e49fec1724ebb8b09d9aeec16735d26944', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 21, 'created': '2020-05-28 06:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e24b553b417cf2134c435990563d967d2a79b4b9', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 22, 'created': '2020-06-09 13:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7f82a4d593fbac4f3d914323c05d2ca99736ec06', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}, {'number': 23, 'created': '2020-06-09 17:13:59.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'requirements.txt', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6dee93a9e7833cea4582385c09ada5655a2b167a', 'message': 'Implement validations-libs framework for ALL validator commands\n\nImplement All command with validations libs framework\n\nChange-Id: I0443da140020540917396cdfe00da8ac29d20297\n'}]",11,714629,6dee93a9e7833cea4582385c09ada5655a2b167a,92,9,23,16515,,,0,"Implement validations-libs framework for ALL validator commands

Implement All command with validations libs framework

Change-Id: I0443da140020540917396cdfe00da8ac29d20297
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/29/714629/18 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tripleoclient/v1/tripleo_validator.py']",2,9c04f5bc3df597004f68916600b9131c2779d109,validations/libs/cli,"from validations_libs.validation_actions import ValidationActions from validations_libs.validation_logs import ValidationLogs from validations_libs import constants as v_consts actions = ValidationActions(constants.ANSIBLE_VALIDATION_DIR) return actions.group_information(constants.VALIDATION_GROUPS_INFO) LOG.debug(_('Show validation result')) try: actions = ValidationActions(constants.ANSIBLE_VALIDATION_DIR, parsed_args.group) data = actions.show_validation(parsed_args.validation_id) return data.keys(), data.values() except Exception as e: raise RuntimeError(_(""Validations listing finished with errors\n"" ""Output: {}"").format(e)) def take_action(self, parsed_args): actions = ValidationActions(constants.ANSIBLE_VALIDATION_DIR) return actions.show_validations_parameters(parsed_args.validation_name, parsed_args.group) actions = ValidationActions(constants.ANSIBLE_VALIDATION_DIR, parsed_args.group) return actions.list_validations() parser.add_argument( '--quiet', action='store', default=True, help=_( ""Run Ansible in silent mode."" ) ) parser.add_argument( '--limit', action='store', required=False, help=_( ""A string that identifies a single node or comma-separated"" ""list of nodes to be upgraded in parallel in this upgrade"" "" run invocation. For example: --limit \""compute-0,"" "" compute-1, compute-5\""."") ) parser.add_argument('--playbook', nargs=""*"", default=None, help=_(""List of Ansible playbook to use for "" ""validations. It could be a playbook path "" ""or a list of playbook."") ) extra_vars_group.add_argument( '--extra-env-vars', action='store', default={}, type=json.loads, help=_( ""A dictionary as extra environment variables you may need "" ""to provide to your Ansible execution example:"" ""ANSIBLE_STDOUT_CALLBACK=default"") ) limit = parsed_args.limit playbook = parsed_args.playbook v_consts.DEFAULT_VALIDATIONS_BASEDIR = constants.DEFAULT_VALIDATIONS_BASEDIR actions = ValidationActions() results = actions.run_validations( playbook=(playbook if playbook else []), inventory=static_inventory, group=parsed_args.group, extra_vars=parsed_args.extra_vars, validations_dir=constants.ANSIBLE_VALIDATION_DIR, validation_name=parsed_args.validation_name, extra_env_vars=parsed_args.extra_env_vars, quiet=parsed_args.quiet) # Build output t = PrettyTable(border=True, header=True, padding_width=1) # Set Field name by getting the result dict keys t.field_names = results[0].keys() for r in results: h = [] for host in r['Status_by_Host'].split(', '): _name, _status = host.split(',') color = (GREEN if _status == 'PASSED' else RED) _name = '{}{}{}'.format(color, _name, RESET) h.append(_name) r['Status_by_Host'] = ', '.join(h) t.add_row(r.values()) print t vlogs = ValidationLogs() data = vlogs.get_logfile_content_by_uuid(parsed_args.uuid) if data: if parsed_args.full: for d in data: print(d) else: for d in data: print(d['tasks']) actions = ValidationActions(constants.ANSIBLE_VALIDATION_DIR) return actions.show_history(parsed_args.validation)","from concurrent.futures import ThreadPoolExecutor group = oooutils.prepare_validation_groups_for_display() if not group: raise exceptions.CommandError( ""Could not find groups information file %s"" % GROUP_FILE) group_info = [] for gp in group: validations = oooutils.parse_all_validations_on_disk( constants.ANSIBLE_VALIDATION_DIR, gp[0]) group_info.append((gp[0], gp[1], len(validations))) column_name = (""Groups"", ""Description"", ""Number of Validations"") return (column_name, group_info) validation = self.get_validations_details(parsed_args.validation_id) logfile_contents = oooutils.parse_all_validations_logs_on_disk( validation_id=parsed_args.validation_id) if not validation: raise exceptions.CommandError( ""Could not find validation %s"" % parsed_args.validation_id) return self.format_validation(validation, logfile_contents) def get_validations_details(self, validation): results = oooutils.parse_all_validations_on_disk( constants.ANSIBLE_VALIDATION_DIR) for r in results: if r['id'] == validation: return r return [] def format_validation(self, validation, logfile): column_names = [""ID""] data = [validation.pop('id')] if 'name' in validation: column_names.append(""Name"") data.append(validation.pop('name')) if 'description' in validation: column_names.append(""Description"") data.append(textwrap.fill(validation.pop('description'))) if 'groups' in validation: column_names.append(""Groups"") data.append("", "".join(validation.pop('groups'))) other_fields = list(validation.keys()) other_fields.sort() for field in other_fields: column_names.append(field.capitalize()) data.append(validation[field]) # history, stats ... total_number = 0 failed_number = 0 passed_number = 0 last_execution = None dates = [] if logfile: total_number = len(logfile) for run in logfile: if 'validation_output' in run and run.get('validation_output'): failed_number += 1 else: passed_number += 1 date_time = \ run['plays'][0]['play']['duration'].get('start').split('T') date_start = date_time[0] time_start = date_time[1].split('Z')[0] newdate = \ time.strptime(date_start + time_start, '%Y-%m-%d%H:%M:%S.%f') dates.append(newdate) if dates: last_execution = time.strftime('%Y-%m-%d %H:%M:%S', max(dates)) column_names.append(""Number of execution"") data.append(""Total: {}, Passed: {}, Failed: {}"".format(total_number, passed_number, failed_number)) column_names.append(""Last execution date"") data.append(last_execution) return column_names, data def _create_variables_file(self, data, varsfile): msg = (_(""The file %s already exists on the filesystem, "" ""do you still want to continue [y/N] "")) if varsfile[0] not in ['json', 'yaml']: raise RuntimeError(_('Wrong file type: %s') % varsfile[0]) else: LOG.debug(_('Launch variables file creation')) try: if os.path.exists(varsfile[-1]): confirm = oooutils.prompt_user_for_confirmation( message=msg % varsfile[-1], logger=LOG) if not confirm: raise RuntimeError(_(""Action not confirmed, exiting"")) with open(varsfile[-1], 'w') as f: params = {} for val_name in list(data.keys()): for k, v in data[val_name].get('parameters').items(): params[k] = v if varsfile[0] == 'json': f.write(oooutils.get_validations_json(params)) elif varsfile[0] == 'yaml': f.write(oooutils.get_validations_yaml(params)) print( _('The file %s has been created successfully') % varsfile[-1]) except Exception as e: print(_(""Creating variables file finished with errors"")) print('Output: {}'.format(e)) def _run_validator_show_parameter(self, parsed_args): LOG.debug(_('Launch showing parameters for the validations')) try: validations = oooutils.parse_all_validations_on_disk( constants.ANSIBLE_VALIDATION_DIR) out = oooutils.get_validations_parameters( {'validations': validations}, parsed_args.validation_name, parsed_args.group ) if parsed_args.download: self._create_variables_file(out, parsed_args.download) else: if parsed_args.format == 'yaml': print(oooutils.get_validations_yaml(out)) else: print(oooutils.get_validations_json(out)) except Exception as e: raise RuntimeError(_(""Validations Show Parameters "" ""finished with errors\n"" ""Output: {}"").format(e)) def take_action(self, parsed_args): self._run_validator_show_parameter(parsed_args) validations = oooutils.parse_all_validations_on_disk( constants.ANSIBLE_VALIDATION_DIR, parsed_args.group) return_values = [] column_name = ('ID', 'Name', 'Groups') for val in validations: return_values.append((val.get('id'), val.get('name'), "", "".join(val.get('groups')))) return (column_name, return_values) playbooks = [] extra_vars_input = {} if parsed_args.extra_vars: extra_vars_input = parsed_args.extra_vars if parsed_args.extra_vars_file: extra_vars_input = parsed_args.extra_vars_file if parsed_args.group: LOG.debug(_('Getting the validations list by group')) try: output = oooutils.parse_all_validations_on_disk( constants.ANSIBLE_VALIDATION_DIR, parsed_args.group) for val in output: playbooks.append(val.get('id') + '.yaml') except Exception as e: print( _(""Getting Validations list by group name"" ""finished with errors"")) print('Output: {}'.format(e)) else: for pb in parsed_args.validation_name: if pb not in oooutils.get_validation_group_name_list(): playbooks.append(pb + '.yaml') else: raise exceptions.CommandError( ""Please, use '--group' argument instead of "" ""'--validation' to run validation(s) by their name(s)."" ) failed_val = False with oooutils.TempDirs() as tmp: with ThreadPoolExecutor(max_workers=parsed_args.workers) as exe: LOG.debug(_('Running the validations with Ansible')) tasks_exec = { exe.submit( oooutils.run_ansible_playbook, plan=parsed_args.plan, workdir=tmp, playbook=playbook, playbook_dir=constants.ANSIBLE_VALIDATION_DIR, parallel_run=True, inventory=static_inventory, output_callback='validation_json', quiet=True, extra_vars=extra_vars_input, gathering_policy='explicit'): playbook for playbook in playbooks } results = [] for tk, pl in six.iteritems(tasks_exec): try: _rc, output = tk.result() results.append({ 'validation': { 'validation_id': pl, 'logfile': None, 'status': 'PASSED', 'output': output }}) except Exception as e: failed_val = True results.append({ 'validation': { 'validation_id': pl, 'logfile': None, 'status': 'FAILED', 'output': str(e) }}) if results: new_log_files = oooutils.get_new_validations_logs_on_disk() for i in new_log_files: val_id = ""{}.yaml"".format(i.split('_')[1]) for res in results: if res['validation'].get('validation_id') == val_id: res['validation']['logfile'] = \ os.path.join(constants.VALIDATIONS_LOG_BASEDIR, i) t = PrettyTable(border=True, header=True, padding_width=1) t.field_names = [ ""UUID"", ""Validations"", ""Status"", ""Host Group(s)"", ""Status by Host"", ""Unreachable Host(s)"", ""Duration""] for validation in results: r = [] logfile = validation['validation'].get('logfile', None) if logfile and os.path.exists(logfile): with open(logfile, 'r') as val: contents = json.load(val) for i in contents['plays']: host = [x for x in i['play'].get('host').split(', ')] val_id = i['play'].get('validation_id') time_elapsed = \ i['play']['duration'].get('time_elapsed', None) r.append(contents['plays'][0]['play'].get('id')) r.append(val_id) if validation['validation'].get('status') == ""PASSED"": r.append(PASSED_VALIDATION) else: r.append(FAILED_VALIDATION) unreachable_hosts = [] hosts_result = [] for ht in list(contents['stats'].keys()): if contents['stats'][ht]['unreachable'] != 0: unreachable_hosts.append(ht) elif contents['stats'][ht]['failures'] != 0: hosts_result.append(""{}{}{}"".format( RED, ht, RESET)) else: hosts_result.append(""{}{}{}"".format( GREEN, ht, RESET)) r.append("", "".join(host)) r.append("", "".join(hosts_result)) r.append(""{}{}{}"".format(RED, "", "".join(unreachable_hosts), RESET)) r.append(time_elapsed) t.add_row(r) t.sortby = ""UUID"" for field in t.field_names: if field == ""Status"": t.align['Status'] = ""l"" else: t.align[field] = ""l"" print(t) if len(new_log_files) > len(results): LOG.warn(_('Looks like we have more log files than ' 'executed validations')) for i in new_log_files: os.rename( ""{}/{}"".format(constants.VALIDATIONS_LOG_BASEDIR, i), ""{}/processed_{}"".format( constants.VALIDATIONS_LOG_BASEDIR, i)) if failed_val: raise exceptions.CommandError( _('One or more validations have failed!')) logfile_contents = oooutils.parse_all_validations_logs_on_disk( uuid_run=parsed_args.uuid) if len(logfile_contents) > 1: raise exceptions.CommandError( ""Multiple log files found for UUID: %s"" % parsed_args.uuid) if logfile_contents: if parsed_args.full: print(oooutils.get_validations_json(logfile_contents[0])) else: for data in logfile_contents: for tasks in data['validation_output']: print(oooutils.get_validations_json(tasks)) logfile_contents = oooutils.parse_all_validations_logs_on_disk( validation_id=parsed_args.validation) if not logfile_contents: msg = ""No History Found"" if parsed_args.validation: raise exceptions.CommandError( ""{} for {}."".format( msg, parsed_args.validation)) else: raise exceptions.CommandError( ""{}."".format(msg, parsed_args.validation)) return_values = [] column_name = ('UUID', 'Validations', 'Status', 'Execution at', 'Duration') for run in logfile_contents: status = PASSED_VALIDATION if 'plays' in run and run.get('plays'): date_time = \ run['plays'][0]['play']['duration'].get('start').split('T') time_elapsed = \ run['plays'][0]['play']['duration'].get('time_elapsed') date_start = date_time[0] time_start = date_time[1].split('Z')[0] for k, v in six.iteritems(run['stats']): if v.get('failures') != 0: status = FAILED_VALIDATION return_values.append( (run['plays'][0]['play'].get('id'), run['plays'][0]['play'].get('validation_id'), status, ""{} {}"".format(date_start, time_start), time_elapsed)) return (column_name, return_values)",94,360
openstack%2Fkuryr-libnetwork~master~I0adb8922f36365b9c0e3f436341bd03f77b8a5f7,openstack/kuryr-libnetwork,master,I0adb8922f36365b9c0e3f436341bd03f77b8a5f7,Add blueprints link to README,MERGED,2020-06-10 01:03:48.000000000,2020-06-10 12:08:01.000000000,2020-06-10 12:06:10.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 01:03:48.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/3fc01f57fdddfefc540f11bf5347ea46e3e55095', 'message': 'Add blueprints link to README\n\nChange-Id: I0adb8922f36365b9c0e3f436341bd03f77b8a5f7\n'}]",0,734726,3fc01f57fdddfefc540f11bf5347ea46e3e55095,8,3,1,23314,,,0,"Add blueprints link to README

Change-Id: I0adb8922f36365b9c0e3f436341bd03f77b8a5f7
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/26/734726/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,3fc01f57fdddfefc540f11bf5347ea46e3e55095,bp/s,* Blueprints: https://blueprints.launchpad.net/kuryr-libnetwork,,1,0
openstack%2Foctavia-tempest-plugin~master~Ib9954b8d634fc791e8cf0da73ad76ac8ff3e85b8,openstack/octavia-tempest-plugin,master,Ib9954b8d634fc791e8cf0da73ad76ac8ff3e85b8,Pin DIB to Python 2 compatible version on py2 jobs,MERGED,2020-06-05 08:52:26.000000000,2020-06-10 11:59:17.000000000,2020-06-10 11:56:42.000000000,"[{'_account_id': 6469}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-06-05 08:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f4af0c101bc2ffea0760792cc141a7215c7831a7', 'message': 'Pin DIB to Python 2 compatible version on py2 jobs\n\nDiskimage-builder dropped Python 2 support in 3.0.0. We need to pin the\n-py2 jobs to a Python 2 compatible version. We set to 2.30.0 as per\nlatest upper-constraints.txt [1].\n\n[1] https://opendev.org/openstack/requirements/src/commit/4ae10f52cec8f6d870c7d862d22c66a64ce74f9f/upper-constraints.txt#L612\n\nChange-Id: Ib9954b8d634fc791e8cf0da73ad76ac8ff3e85b8\n'}, {'number': 2, 'created': '2020-06-05 09:21:34.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ea5d3743a3fbae48a88aa2190e19df73edbba522', 'message': 'Pin DIB to Python 2 compatible version on py2 jobs\n\nDiskimage-builder dropped Python 2 support in 3.0.0. We need to pin the\n-py2 jobs to a Python 2 compatible version. We set to 2.30.0 as per\nlatest upper-constraints.txt [1].\n\nNote that Python 3 devstack installs will also have to be pinned to same\nversion because stable/stein devstack ensures that all libs being used\nfor development are installed under both versions of Python [2].\n\n[1] https://opendev.org/openstack/requirements/src/commit/4ae10f52cec8f6d870c7d862d22c66a64ce74f9f/upper-constraints.txt#L612\n[2] https://opendev.org/openstack/devstack/src/commit/ab86ced64cb6c053cf3340ab4d8a1d988a6b76c4/inc/python#L379-L388\n\nChange-Id: Ib9954b8d634fc791e8cf0da73ad76ac8ff3e85b8\n'}]",0,733778,ea5d3743a3fbae48a88aa2190e19df73edbba522,26,5,2,6469,,,0,"Pin DIB to Python 2 compatible version on py2 jobs

Diskimage-builder dropped Python 2 support in 3.0.0. We need to pin the
-py2 jobs to a Python 2 compatible version. We set to 2.30.0 as per
latest upper-constraints.txt [1].

Note that Python 3 devstack installs will also have to be pinned to same
version because stable/stein devstack ensures that all libs being used
for development are installed under both versions of Python [2].

[1] https://opendev.org/openstack/requirements/src/commit/4ae10f52cec8f6d870c7d862d22c66a64ce74f9f/upper-constraints.txt#L612
[2] https://opendev.org/openstack/devstack/src/commit/ab86ced64cb6c053cf3340ab4d8a1d988a6b76c4/inc/python#L379-L388

Change-Id: Ib9954b8d634fc791e8cf0da73ad76ac8ff3e85b8
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/78/733778/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,f4af0c101bc2ffea0760792cc141a7215c7831a7,, required-projects: - name: openstack/diskimage-builder override-checkout: 2.30.0 required-projects: - name: openstack/diskimage-builder override-checkout: 2.30.0 required-projects: - name: openstack/diskimage-builder override-checkout: 2.30.0 required-projects: - name: openstack/diskimage-builder override-checkout: 2.30.0,,12,0
openstack%2Ftripleo-heat-templates~master~I9767953383a82f8baa50289e88ba279798bbfe92,openstack/tripleo-heat-templates,master,I9767953383a82f8baa50289e88ba279798bbfe92,Unify metrics_qdr name to underscore,MERGED,2020-05-07 09:44:34.000000000,2020-06-10 11:49:40.000000000,2020-06-09 05:25:20.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 6924}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-05-07 09:44:34.000000000', 'files': ['deployment/metrics/qdr-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8dbaed0c3188bd1c3392e86f64148b71227b2fd8', 'message': 'Unify metrics_qdr name to underscore\n\nSome parameter values of the MetricsQdr service used ""metrics-qdr""\nand some ""metrics-qdr"". This patch unifies to the one with underscore.\n\nChange-Id: I9767953383a82f8baa50289e88ba279798bbfe92\n'}]",0,726076,8dbaed0c3188bd1c3392e86f64148b71227b2fd8,19,7,1,5241,,,0,"Unify metrics_qdr name to underscore

Some parameter values of the MetricsQdr service used ""metrics-qdr""
and some ""metrics-qdr"". This patch unifies to the one with underscore.

Change-Id: I9767953383a82f8baa50289e88ba279798bbfe92
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/726076/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/qdr-container-puppet.yaml'],1,8dbaed0c3188bd1c3392e86f64148b71227b2fd8,," file: /var/log/containers/qdrouterd/metrics_qdr.log service_name: metrics_qdr qdr::log_output: '/var/log/qdrouterd/metrics_qdr.log' template: ""metrics_qdr/%{hiera('fqdn_NETWORK')}"" - service: metrics_qdr config_volume: metrics_qdr /var/lib/kolla/config_files/metrics_qdr.json: - /var/log/containers/metrics_qdr:/var/log/qdrouterd:z - /var/lib/kolla/config_files/metrics_qdr.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/metrics_qdr:/var/lib/kolla/config_files/src:ro - /var/lib/metrics_qdr:/var/lib/qdrouterd:z - /var/log/containers/metrics_qdr:/var/log/qdrouterd:z - { 'path': /var/log/containers/metrics_qdr, 'setype': container_file_t, 'mode': '0750' } - { 'path': /var/lib/metrics_qdr, 'setype': container_file_t }"," file: /var/log/containers/qdrouterd/metrics-qdr.log service_name: metrics-qdr qdr::log_output: '/var/log/qdrouterd/metrics-qdr.log' template: ""metrics-qdr/%{hiera('fqdn_NETWORK')}"" - service: metrics-qdr config_volume: metrics-qdr /var/lib/kolla/config_files/metrics-qdr.json: - /var/log/containers/metrics-qdr:/var/log/qdrouterd:z - /var/lib/kolla/config_files/metrics-qdr.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/metrics-qdr:/var/lib/kolla/config_files/src:ro - /var/lib/metrics-qdr:/var/lib/qdrouterd:z - /var/log/containers/metrics-qdr:/var/log/qdrouterd:z - { 'path': /var/log/containers/metrics-qdr, 'setype': container_file_t, 'mode': '0750' } - { 'path': /var/lib/metrics-qdr, 'setype': container_file_t }",14,14
openstack%2Fpuppet-tripleo~master~I6ae1ceca7ed4ae313c10e6d8be9803d20d68957d,openstack/puppet-tripleo,master,I6ae1ceca7ed4ae313c10e6d8be9803d20d68957d,Finish HAProxy config for metrics_qdr,MERGED,2020-03-18 11:26:20.000000000,2020-06-10 11:49:01.000000000,2020-06-03 03:58:54.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 6924}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-18 11:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/30627a18fbbe33e6edcbd46b527129f0cf5a9223', 'message': 'Finish HAProxy config for metrics_qdr\n\nThis patch is fixing following issues:\n  - currently HAProxy is not enabled by default\n  - it make more sense to create additional listener for external\n    connections than switching the whole communication\n\nChange-Id: I6ae1ceca7ed4ae313c10e6d8be9803d20d68957d\n'}, {'number': 2, 'created': '2020-03-19 09:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/330f50376f5c8f553cbf3d7498d6dfbe6bca5dd9', 'message': 'Finish HAProxy config for metrics_qdr\n\nThis patch is fixing following issues:\n  - currently HAProxy is not enabled by default\n  - it make more sense to create additional listener for external\n    connections than switching the whole communication\n\nChange-Id: I6ae1ceca7ed4ae313c10e6d8be9803d20d68957d\n'}, {'number': 3, 'created': '2020-03-20 21:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/02812fbeb728b635cec05e76ac1cbf6d816441e3', 'message': 'Finish HAProxy config for metrics_qdr\n\nThis patch is fixing following issues:\n  - currently HAProxy is not enabled by default\n  - it make more sense to create additional listener for external\n    connections than switching the whole communication\n\nChange-Id: I6ae1ceca7ed4ae313c10e6d8be9803d20d68957d\n'}, {'number': 4, 'created': '2020-03-20 21:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c7cb620362beb4b7225b91b5b647e0eb89f62c97', 'message': 'Finish HAProxy config for metrics_qdr\n\nThis patch is fixing following issues:\n  - currently HAProxy is not enabled by default\n  - the load balanced services are running only controllers and listening\n    on internal_api interfaces, so the pacemaker_nodes are reused for this\n    configuration.\n\nChange-Id: I6ae1ceca7ed4ae313c10e6d8be9803d20d68957d\n'}, {'number': 5, 'created': '2020-03-23 10:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9ba04de05c0b1c6dd8db29afad3f1a04d7dc01b5', 'message': 'Finish HAProxy config for metrics_qdr\n\nThis patch is fixing following issues:\n  - currently HAProxy is not enabled by default because of wrong hiera key\n  - QDR connections are not http connections\n  - the load balanced services are running only controllers and listening\n    on internal_api interfaces, so the pacemaker_nodes are reused for this\n    configuration.\n\nChange-Id: I6ae1ceca7ed4ae313c10e6d8be9803d20d68957d\n'}, {'number': 6, 'created': '2020-03-26 09:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e121f8c176b0d871bd73d00a41a4e37c413b91b5', 'message': 'Finish HAProxy config for metrics_qdr\n\nThis patch is fixing following issues:\n  - currently HAProxy is not enabled by default because of wrong hiera key\n  - QDR connections are not http connections\n  - the load balanced services are running only controllers and listening\n    on internal_api interfaces, so the pacemaker_nodes are reused for this\n    configuration.\n\nChange-Id: I6ae1ceca7ed4ae313c10e6d8be9803d20d68957d\n'}, {'number': 7, 'created': '2020-05-07 10:15:13.000000000', 'files': ['manifests/haproxy.pp', 'manifests/profile/base/metrics/qdr.pp', 'manifests/profile/base/metrics/collectd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f0f031b26982f89320dbaa20e282adc7cfaa4e05', 'message': 'Finish HAProxy config for metrics_qdr\n\nThis patch is fixing following issues:\n  - currently HAProxy is not enabled by default because of wrong hiera key\n  - QDR connections are not http connections\n  - the load balanced services are running only controllers and listening\n    on internal_api interfaces, so the pacemaker_nodes are reused for this\n    configuration.\n\nChange-Id: I6ae1ceca7ed4ae313c10e6d8be9803d20d68957d\n'}]",5,713627,f0f031b26982f89320dbaa20e282adc7cfaa4e05,43,7,7,5241,,,0,"Finish HAProxy config for metrics_qdr

This patch is fixing following issues:
  - currently HAProxy is not enabled by default because of wrong hiera key
  - QDR connections are not http connections
  - the load balanced services are running only controllers and listening
    on internal_api interfaces, so the pacemaker_nodes are reused for this
    configuration.

Change-Id: I6ae1ceca7ed4ae313c10e6d8be9803d20d68957d
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/27/713627/5 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_metrics_qdr_spec.rb', 'manifests/haproxy.pp', 'manifests/profile/base/metrics/qdr.pp', 'manifests/profile/base/metrics/collectd.pp']",4,30627a18fbbe33e6edcbd46b527129f0cf5a9223,haproxy-qdr," host => $amqp_host,","# [*amqp_external_host*] # (Optional) String. Host which QDR service, to which collectd should be connected, # is using for external connections. # Defaults to hiera('tripleo::profile::base::metrics::qdr::external_listener_addr', 'localhost') ## [*qdr_listens_on_external*] # (Optional) Boolean. Whether QDR service, to which collectd should be connected, # is listening for connections on amqp_external_host rather than amqp_host. # Defaults to hiera('tripleo::profile::base::metrics::qdr::listen_on_external', false) # $amqp_external_host = hiera('tripleo::profile::base::metrics::qdr::external_listener_addr', 'localhost'), $qdr_listens_on_external = hiera('tripleo::profile::base::metrics::qdr::listen_on_external', false), if $qdr_listens_on_external and $qdr_mode == 'interior' { $connect_to = $amqp_external_host } else { $connect_to = $amqp_host } host => $connect_to,",43,30
openstack%2Fironic-python-agent~stable%2Fussuri~I44fec2e0cb54486328ce71263613d8592e384870,openstack/ironic-python-agent,stable/ussuri,I44fec2e0cb54486328ce71263613d8592e384870,Make the install_bootloader command asynchronous,MERGED,2020-06-09 12:32:22.000000000,2020-06-10 11:34:33.000000000,2020-06-10 11:33:07.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-09 12:32:22.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ed3f00f07ab610960a41691cd55a28b2d7af0457', 'message': 'Make the install_bootloader command asynchronous\n\nIt does not return anything, so it makes no point for it to be\nsynchronous. Ironic always calls it with wait=True, so there is\nno problem with backward compatibility either.\n\nChange-Id: I44fec2e0cb54486328ce71263613d8592e384870\n(cherry picked from commit 7e5fe1121e23fad43a7c6b418bdad9fbe69981a1)\n'}]",0,734594,ed3f00f07ab610960a41691cd55a28b2d7af0457,10,4,1,10239,,,0,"Make the install_bootloader command asynchronous

It does not return anything, so it makes no point for it to be
synchronous. Ironic always calls it with wait=True, so there is
no problem with backward compatibility either.

Change-Id: I44fec2e0cb54486328ce71263613d8592e384870
(cherry picked from commit 7e5fe1121e23fad43a7c6b418bdad9fbe69981a1)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/94/734594/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",2,ed3f00f07ab610960a41691cd55a28b2d7af0457,story/2006963-stable/ussuri, @base.async_command('install_bootloader'), @base.sync_command('install_bootloader'),13,12
openstack%2Fneutron~master~I71379e21a307326d6fca5798a588630ed3ff5263,openstack/neutron,master,I71379e21a307326d6fca5798a588630ed3ff5263,Remove unnecessary check if agent object from db is not None,MERGED,2020-03-17 12:58:39.000000000,2020-06-10 11:29:28.000000000,2020-06-10 03:10:08.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-17 12:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc937abd4a885b5ad85245b8e531c9407001fddf', 'message': 'Remove unnecessary check if agent object from db is not None\n\nIn create_fip_agent_gw_port_if_not_exists() method in\nneutron.db.l3_dvr_db module, there was unnecessary check if\nobject returned from _get_agent_by_type_and_host() method\nis not None or not empty dict.\nBut in fact this method will always return not empty dict or\nraise an AgentNotFoundByTypeHost exception which is already\nproperly handled.\n\nTrivialFix\n\nChange-Id: I71379e21a307326d6fca5798a588630ed3ff5263\n'}, {'number': 2, 'created': '2020-05-26 07:21:53.000000000', 'files': ['neutron/db/l3_dvr_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/60723a48f8ddc338053c83a12a1cae23214761f2', 'message': 'Remove unnecessary check if agent object from db is not None\n\nIn create_fip_agent_gw_port_if_not_exists() method in\nneutron.db.l3_dvr_db module, there was unnecessary check if\nobject returned from _get_agent_by_type_and_host() method\nis not None or not empty dict.\nBut in fact this method will always return not empty dict or\nraise an AgentNotFoundByTypeHost exception which is already\nproperly handled.\n\nTrivialFix\n\nChange-Id: I71379e21a307326d6fca5798a588630ed3ff5263\n'}]",0,713432,60723a48f8ddc338053c83a12a1cae23214761f2,33,10,2,11975,,,0,"Remove unnecessary check if agent object from db is not None

In create_fip_agent_gw_port_if_not_exists() method in
neutron.db.l3_dvr_db module, there was unnecessary check if
object returned from _get_agent_by_type_and_host() method
is not None or not empty dict.
But in fact this method will always return not empty dict or
raise an AgentNotFoundByTypeHost exception which is already
properly handled.

TrivialFix

Change-Id: I71379e21a307326d6fca5798a588630ed3ff5263
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/713432/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_dvr_db.py'],1,cc937abd4a885b5ad85245b8e531c9407001fddf,clean-dvr-db-code,, if not l3_agent_db: return,0,2
openstack%2Fmonasca-statsd~master~I8d9549e4653f4df7ec9f34f54f15bf0a18c9d8e2,openstack/monasca-statsd,master,I8d9549e4653f4df7ec9f34f54f15bf0a18c9d8e2,Use unittest.mock instead of mock,MERGED,2020-06-08 23:25:55.000000000,2020-06-10 11:19:30.000000000,2020-06-10 11:19:29.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2020-06-08 23:25:55.000000000', 'files': ['tests/test_monascastatsd.py', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/8621c5439776729a49f19a1cb55caad2f49b654e', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I8d9549e4653f4df7ec9f34f54f15bf0a18c9d8e2\n'}]",0,734381,8621c5439776729a49f19a1cb55caad2f49b654e,6,2,1,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I8d9549e4653f4df7ec9f34f54f15bf0a18c9d8e2
",git fetch https://review.opendev.org/openstack/monasca-statsd refs/changes/81/734381/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_monascastatsd.py', 'test-requirements.txt', 'lower-constraints.txt']",3,8621c5439776729a49f19a1cb55caad2f49b654e,drop_mock,,mock==2.0.0,1,3
openstack%2Ftripleo-ansible~stable%2Ftrain~Iea01c7d6ef19ed2f0a2b7ecab15de0c30fcb4f8c,openstack/tripleo-ansible,stable/train,Iea01c7d6ef19ed2f0a2b7ecab15de0c30fcb4f8c,Do not set lo.disable_ipv6=0 by default,MERGED,2020-06-05 06:45:23.000000000,2020-06-10 11:16:28.000000000,2020-06-10 11:16:28.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2020-06-05 06:45:23.000000000', 'files': ['tripleo_ansible/roles/tripleo-kernel/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e0d5797368e21c7910bfab1731882bc55d8f03f0', 'message': ""Do not set lo.disable_ipv6=0 by default\n\nForcing lo.disable_ipv6=0 in tripleo-ansible may result in such\nvalue being placed in /etc/sysctl.d/99-tripleo.conf *before*\nnet.ipv6.conf.all.disable_ipv6 = 1, thus effectively being ignored.\n\nSee rhbz#1841522 for an example of a side effect of this, where\n'KernelDisableIPv6: 1' results in epmd/rabbitmq being unable to start.\n\nDepends-on: https://review.opendev.org/#/c/733522\n\n(cherry picked from commit 10d5cf8e6e0529190ed9f2550fbcd906a0217d34)\n\nChange-Id: Iea01c7d6ef19ed2f0a2b7ecab15de0c30fcb4f8c\n""}]",0,733754,e0d5797368e21c7910bfab1731882bc55d8f03f0,13,4,1,30126,,,0,"Do not set lo.disable_ipv6=0 by default

Forcing lo.disable_ipv6=0 in tripleo-ansible may result in such
value being placed in /etc/sysctl.d/99-tripleo.conf *before*
net.ipv6.conf.all.disable_ipv6 = 1, thus effectively being ignored.

See rhbz#1841522 for an example of a side effect of this, where
'KernelDisableIPv6: 1' results in epmd/rabbitmq being unable to start.

Depends-on: https://review.opendev.org/#/c/733522

(cherry picked from commit 10d5cf8e6e0529190ed9f2550fbcd906a0217d34)

Change-Id: Iea01c7d6ef19ed2f0a2b7ecab15de0c30fcb4f8c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/54/733754/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-kernel/vars/main.yml'],1,e0d5797368e21c7910bfab1731882bc55d8f03f0,,, net.ipv6.conf.lo.disable_ipv6: value: 0,0,2
openstack%2Fmonasca-notification~master~Ib7c9cca06dcfe14440ab9711cc0b76a5b4fe4e1c,openstack/monasca-notification,master,Ib7c9cca06dcfe14440ab9711cc0b76a5b4fe4e1c,Use unittest.mock instead of mock,MERGED,2020-06-08 23:25:15.000000000,2020-06-10 11:04:56.000000000,2020-06-10 11:04:56.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2020-06-08 23:25:15.000000000', 'files': ['tests/test_utils.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/7faa2184cd0e2cd9c95785431984bf9cb1b6e987', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ib7c9cca06dcfe14440ab9711cc0b76a5b4fe4e1c\n'}]",0,734379,7faa2184cd0e2cd9c95785431984bf9cb1b6e987,6,2,1,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Ib7c9cca06dcfe14440ab9711cc0b76a5b4fe4e1c
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/79/734379/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_utils.py', 'lower-constraints.txt']",2,7faa2184cd0e2cd9c95785431984bf9cb1b6e987,drop_mock,,mock==2.0.0,1,2
openstack%2Fmonasca-common~master~Ie7239e6651feb358cd0f00fe2709452ebeb3a811,openstack/monasca-common,master,Ie7239e6651feb358cd0f00fe2709452ebeb3a811,drop mock from lower-constraints,MERGED,2020-06-08 23:24:21.000000000,2020-06-10 10:55:48.000000000,2020-06-10 10:55:47.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2020-06-08 23:24:21.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/3a7030d1684c3f3ca98007818db62e5543a3381f', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: Ie7239e6651feb358cd0f00fe2709452ebeb3a811\n""}]",0,734376,3a7030d1684c3f3ca98007818db62e5543a3381f,6,2,1,28522,,,0,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: Ie7239e6651feb358cd0f00fe2709452ebeb3a811
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/76/734376/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,3a7030d1684c3f3ca98007818db62e5543a3381f,drop_mock,,mock==2.0.0,0,1
openstack%2Fkolla-ansible~stable%2Ftrain~Ibf6ba63bc21b31b9f7bb967e0a0abc43ed451e5d,openstack/kolla-ansible,stable/train,Ibf6ba63bc21b31b9f7bb967e0a0abc43ed451e5d,[DNM] test,ABANDONED,2020-06-09 19:46:03.000000000,2020-06-10 10:52:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-09 19:46:03.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cfb8a8ecd662bcb0af28fcc5da1102bf0cf6e6d4', 'message': '[DNM] test\n\nChange-Id: Ibf6ba63bc21b31b9f7bb967e0a0abc43ed451e5d\n'}]",0,734685,cfb8a8ecd662bcb0af28fcc5da1102bf0cf6e6d4,5,2,1,30491,,,0,"[DNM] test

Change-Id: Ibf6ba63bc21b31b9f7bb967e0a0abc43ed451e5d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/734685/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,cfb8a8ecd662bcb0af28fcc5da1102bf0cf6e6d4,dnm-touch, dnm: testmehuh,,1,0
openstack%2Fcompute-hyperv~master~If97e25f781fe76d5d13fc9a08f89340f6be1623f,openstack/compute-hyperv,master,If97e25f781fe76d5d13fc9a08f89340f6be1623f,Add releasenotes link to README,MERGED,2020-06-10 06:07:39.000000000,2020-06-10 10:44:47.000000000,2020-06-10 10:44:47.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 06:07:39.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/e0bada0f4765a2cc333de63f0649229d99c997bd', 'message': 'Add releasenotes link to README\n\nChange-Id: If97e25f781fe76d5d13fc9a08f89340f6be1623f\n'}]",0,734746,e0bada0f4765a2cc333de63f0649229d99c997bd,6,2,1,23314,,,0,"Add releasenotes link to README

Change-Id: If97e25f781fe76d5d13fc9a08f89340f6be1623f
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/46/734746/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,e0bada0f4765a2cc333de63f0649229d99c997bd,,* Release Notes: https://docs.openstack.org/releasenotes/compute-hyperv,,1,0
openstack%2Fkolla-ansible~master~I3033b6268a2e955f3e86b1b7000db17c1bb18c47,openstack/kolla-ansible,master,I3033b6268a2e955f3e86b1b7000db17c1bb18c47,Support customizing skydive.conf file,MERGED,2020-06-02 13:22:12.000000000,2020-06-10 10:38:58.000000000,2020-06-10 10:37:17.000000000,"[{'_account_id': 167}, {'_account_id': 22348}, {'_account_id': 27420}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-06-02 13:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c3d2baf2f3f6502ec76ea59e541abbddb858113', 'message': 'Support customizing skydive.conf file\n\nChange-Id: I3033b6268a2e955f3e86b1b7000db17c1bb18c47\n'}, {'number': 2, 'created': '2020-06-02 14:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f68b4abd64d45060a0e3178fa28e5a0161bba0bb', 'message': 'Support customizing skydive.conf file\n\nProvides mechanism to deploy custom skydive.conf files.\n\nChange-Id: I3033b6268a2e955f3e86b1b7000db17c1bb18c47\n'}, {'number': 3, 'created': '2020-06-09 16:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dc94ea9ed17ef333433f80286a06ae08567a6348', 'message': 'Support customizing skydive.conf file\n\nProvides mechanism to deploy custom skydive.conf files.\n\nChange-Id: I3033b6268a2e955f3e86b1b7000db17c1bb18c47\n'}, {'number': 4, 'created': '2020-06-09 16:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b9049177480eda1994f690f9abf7accde8d560bd', 'message': 'Support customizing skydive.conf file\n\nProvides mechanism to deploy custom skydive.conf files.\n\nChange-Id: I3033b6268a2e955f3e86b1b7000db17c1bb18c47\n'}, {'number': 5, 'created': '2020-06-10 06:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ffa3521130752435e14e751a72d0e464b4525d0c', 'message': 'Support customizing skydive.conf file\n\nProvides mechanism to deploy custom skydive.conf files.\n\nChange-Id: I3033b6268a2e955f3e86b1b7000db17c1bb18c47\n'}, {'number': 6, 'created': '2020-06-10 07:11:57.000000000', 'files': ['ansible/roles/skydive/tasks/config.yml', 'releasenotes/notes/skydive-custom-config-4f9f523cf72acaba.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cb0715a04dfdce52c75b1128e97c21600d6f4072', 'message': 'Support customizing skydive.conf file\n\nProvides mechanism to deploy custom skydive.conf files.\n\nChange-Id: I3033b6268a2e955f3e86b1b7000db17c1bb18c47\n'}]",2,732620,cb0715a04dfdce52c75b1128e97c21600d6f4072,23,5,6,27420,,,0,"Support customizing skydive.conf file

Provides mechanism to deploy custom skydive.conf files.

Change-Id: I3033b6268a2e955f3e86b1b7000db17c1bb18c47
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/20/732620/3 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/skydive/tasks/config.yml'],1,3c3d2baf2f3f6502ec76ea59e541abbddb858113,," merge_yaml: sources: - ""{{ role_path }}/templates/{{ item.key }}.conf.j2"" - ""{{ node_custom_config }}/skydive/{{ item.key }}/skydive.conf"" - ""{{ node_custom_config }}/skydive/{{ inventory_hostname }}/{{ item.key }}/skydive.conf"""," template: src: ""{{ item.key }}.conf.j2""",5,2
openstack%2Ftripleo-ci~master~I97aa7c8d00b5e7a24e4540c529504fbee0d75bfa,openstack/tripleo-ci,master,I97aa7c8d00b5e7a24e4540c529504fbee0d75bfa,Ensure packages are up to date with repos setup,MERGED,2020-06-09 13:02:41.000000000,2020-06-10 10:37:45.000000000,2020-06-10 10:37:45.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31075}]","[{'number': 1, 'created': '2020-06-09 13:02:41.000000000', 'files': ['roles/tripleo-repos/tasks/main.yml', 'roles/build-containers/tasks/post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/49143d8b6196aa5fa071fdbf21c5e45b62074503', 'message': ""Ensure packages are up to date with repos setup\n\nSince repos are setup with tripleo-repos role, and\nit's possible some packages are installed from other repos\nbefor setting up new repos, let's ensure packages are up\nto date with new repos so issues like #1882534 can be avoided.\n\nAlso collect installed packages list in container build\njob for debugging.\n\nRelated-Bug: #1882534\nChange-Id: I97aa7c8d00b5e7a24e4540c529504fbee0d75bfa\n""}]",0,734605,49143d8b6196aa5fa071fdbf21c5e45b62074503,12,7,1,13861,,,0,"Ensure packages are up to date with repos setup

Since repos are setup with tripleo-repos role, and
it's possible some packages are installed from other repos
befor setting up new repos, let's ensure packages are up
to date with new repos so issues like #1882534 can be avoided.

Also collect installed packages list in container build
job for debugging.

Related-Bug: #1882534
Change-Id: I97aa7c8d00b5e7a24e4540c529504fbee0d75bfa
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/05/734605/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-repos/tasks/main.yml', 'roles/build-containers/tasks/post.yaml']",2,49143d8b6196aa5fa071fdbf21c5e45b62074503,bug/1882534, # Collect installed packages {{ ansible_pkg_mgr }} list installed &>{{ workspace }}/logs/system/installed_pkgs.txt ,,9,0
openstack%2Fopenstack-helm-infra~master~Ia763fd7fdedb0b82bc7cc173d0407d7acc59d310,openstack/openstack-helm-infra,master,Ia763fd7fdedb0b82bc7cc173d0407d7acc59d310,"ingress-vip (keepalived mode), security_context variable is not applied",ABANDONED,2020-06-10 08:19:16.000000000,2020-06-10 10:10:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-10 08:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9cd0a63108a36e649ce3e4413443d4e275de0a8e', 'message': '\nIf ingress-vip is used in keepalived mode, the security_context variable is not applied, so the ingress-vip container is not executed.\nSo, modify deployment-ingress.yaml to apply security_context variable.\n\nChange-Id: Ia763fd7fdedb0b82bc7cc173d0407d7acc59d310\n'}, {'number': 2, 'created': '2020-06-10 08:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2082e99fd5f1e066b82afd28d9bd514f65e7764b', 'message': 'If ingress-vip is used in keepalived mode, security_context variable is not applied\nIf ingress-vip is used in keepalived mode, the security_context variable is not applied, so the ingress-vip container is not executed.\nSo, modify deployment-ingress.yaml to apply security_context variable.\n\nChange-Id: Ia763fd7fdedb0b82bc7cc173d0407d7acc59d310\n'}, {'number': 3, 'created': '2020-06-10 08:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2e3c07f944a5069cca2019726036dec8b5f122c4', 'message': 'ingress-vip (keepalived mode), security_context variable is not applied\n\nIf ingress-vip is used in keepalived mode, the security_context variable is not applied, so the ingress-vip container is not executed.\nSo, modify deployment-ingress.yaml to apply security_context variable.\n\nChange-Id: Ia763fd7fdedb0b82bc7cc173d0407d7acc59d310\n'}, {'number': 4, 'created': '2020-06-10 08:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1a4630189a46d4374b5ce260def9612e1ef0ba43', 'message': 'ingress-vip (keepalived mode), security_context variable is not applied\n\nIf ingress-vip is used in keepalived mode, the security_context variable is not applied, so the ingress-vip container is not executed.\nSo, modify deployment-ingress.yaml to apply security_context variable.\n\nhttps://storyboard.openstack.org/#!/story/2007788\n\nChange-Id: Ia763fd7fdedb0b82bc7cc173d0407d7acc59d310\n'}]",0,734761,1a4630189a46d4374b5ce260def9612e1ef0ba43,10,1,4,32077,,,0,"ingress-vip (keepalived mode), security_context variable is not applied

If ingress-vip is used in keepalived mode, the security_context variable is not applied, so the ingress-vip container is not executed.
So, modify deployment-ingress.yaml to apply security_context variable.

https://storyboard.openstack.org/#!/story/2007788

Change-Id: Ia763fd7fdedb0b82bc7cc173d0407d7acc59d310
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/61/734761/4 && git format-patch -1 --stdout FETCH_HEAD,[],0,9cd0a63108a36e649ce3e4413443d4e275de0a8e,keepalived-security-context,,,0,0
openstack%2Fcharms.openstack~master~Id672a267a2bf57f9bda8fd44d54cd1a13b0b24af,openstack/charms.openstack,master,Id672a267a2bf57f9bda8fd44d54cd1a13b0b24af,Mock charmhelpers.contrib.charmsupport as well,MERGED,2020-06-09 22:37:37.000000000,2020-06-10 10:07:57.000000000,2020-06-10 10:07:57.000000000,"[{'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-06-09 22:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/dbee752979ec7ecacbf6a46cb8810393d5a42911', 'message': 'Mock charmhelpers.contrib.charmsupport as well\n\nThis mock is necessary for this change:\nhttps://review.opendev.org/#/c/679423/\n\nChange-Id: Id672a267a2bf57f9bda8fd44d54cd1a13b0b24af\n'}, {'number': 2, 'created': '2020-06-10 08:02:12.000000000', 'files': ['charms_openstack/test_mocks.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/d791b9531e2ce1a71a05c9f81d594880043796f0', 'message': 'Mock charmhelpers.contrib.charmsupport as well\n\nThis mock is necessary for this change:\nhttps://review.opendev.org/#/c/734639/\n\nChange-Id: Id672a267a2bf57f9bda8fd44d54cd1a13b0b24af\n'}]",0,734714,d791b9531e2ce1a71a05c9f81d594880043796f0,8,2,2,31836,,,0,"Mock charmhelpers.contrib.charmsupport as well

This mock is necessary for this change:
https://review.opendev.org/#/c/734639/

Change-Id: Id672a267a2bf57f9bda8fd44d54cd1a13b0b24af
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/14/734714/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/test_mocks.py'],1,dbee752979ec7ecacbf6a46cb8810393d5a42911,mock-contrib-charmsupport, sys.modules['charmhelpers.contrib.charmsupport'] = ( charmhelpers.contrib.charmsupport),,2,0
openstack%2Fvirtualbmc~master~Ia64b1a6d120dbe37108218da0a12bcfc5063cf7f,openstack/virtualbmc,master,Ia64b1a6d120dbe37108218da0a12bcfc5063cf7f,Remove unneded Babel config,MERGED,2020-05-29 07:51:39.000000000,2020-06-10 09:53:05.000000000,2020-06-10 09:51:24.000000000,"[{'_account_id': 6547}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-05-29 07:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/936aee93bdfeccec3ee7317ae9477c66215708f7', 'message': 'Remove unneded Babel config.\n\nAlso remove entry from lower-constraints.\n\nChange-Id: Ia64b1a6d120dbe37108218da0a12bcfc5063cf7f\n'}, {'number': 2, 'created': '2020-05-29 07:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/1b7ff0eba68186fc4c1aef42f29e36addbc8615e', 'message': 'Remove unneded Babel config\n\nAlso remove entry from lower-constraints.\n\nChange-Id: Ia64b1a6d120dbe37108218da0a12bcfc5063cf7f\n'}, {'number': 3, 'created': '2020-05-30 13:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/5a1d8186dc84166aa36230db5ae0b88a0824a454', 'message': 'Remove unneded Babel config\n\nAlso remove entry from lower-constraints.\n\nChange-Id: Ia64b1a6d120dbe37108218da0a12bcfc5063cf7f\n'}, {'number': 4, 'created': '2020-05-30 13:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/e0c11582f29f1e083fd302e947d9f76b19e6452a', 'message': 'Remove unneded Babel config\n\nAlso remove entry from lower-constraints.\n\nChange-Id: Ia64b1a6d120dbe37108218da0a12bcfc5063cf7f\n'}, {'number': 5, 'created': '2020-05-30 13:48:08.000000000', 'files': ['babel.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/3c4390a3c0db9f8034337900361d60ad37328ffc', 'message': 'Remove unneded Babel config\n\nChange-Id: Ia64b1a6d120dbe37108218da0a12bcfc5063cf7f\n'}]",2,731679,3c4390a3c0db9f8034337900361d60ad37328ffc,16,5,5,23851,,,0,"Remove unneded Babel config

Change-Id: Ia64b1a6d120dbe37108218da0a12bcfc5063cf7f
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/79/731679/4 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'lower-constraints.txt', 'setup.cfg']",3,936aee93bdfeccec3ee7317ae9477c66215708f7,no-babel,,[compile_catalog] directory = virtualbmc/locale domain = virtualbmc [update_catalog] domain = virtualbmc output_dir = virtualbmc/locale input_file = virtualbmc/locale/virtualbmc.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = virtualbmc/locale/virtualbmc.pot,0,16
openstack%2Fovn-octavia-provider~master~Id0dc8a478b903b80cf8afdfa3d2b23e90d22e112,openstack/ovn-octavia-provider,master,Id0dc8a478b903b80cf8afdfa3d2b23e90d22e112,Do not send status update in case of IpAddressAlreadyAllocated,MERGED,2020-06-09 15:51:54.000000000,2020-06-10 09:51:01.000000000,2020-06-10 09:48:49.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2020-06-09 15:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/f1920e861e4771695501e60ae290416c2c90fa4e', 'message': ""Do not send status update in case of IpAddressAlreadyAllocated\n\nIf IpAddressAlreadyAllocated is raised and the created VIP with\nthe same IP address allocated is not owned by LB that we're trying\nto create, we should raise DriverError instead passing the status\nupdate to Octavia API.\n\nChange-Id: Id0dc8a478b903b80cf8afdfa3d2b23e90d22e112\nCloses-Bug: 1882724\n""}, {'number': 2, 'created': '2020-06-09 15:52:25.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/ac4d0272a824da72427bebb4db92e61f4cd4b302', 'message': ""Do not send status update in case of IpAddressAlreadyAllocated\n\nIf IpAddressAlreadyAllocated is raised and the created VIP with\nthe same IP address allocated is not owned by LB that we're trying\nto create, we should raise DriverError instead passing the status\nupdate to Octavia API.\n\nChange-Id: Id0dc8a478b903b80cf8afdfa3d2b23e90d22e112\nCloses-Bug: 1882724\n""}]",1,734634,ac4d0272a824da72427bebb4db92e61f4cd4b302,10,4,2,24791,,,0,"Do not send status update in case of IpAddressAlreadyAllocated

If IpAddressAlreadyAllocated is raised and the created VIP with
the same IP address allocated is not owned by LB that we're trying
to create, we should raise DriverError instead passing the status
update to Octavia API.

Change-Id: Id0dc8a478b903b80cf8afdfa3d2b23e90d22e112
Closes-Bug: 1882724
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/34/734634/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/driver.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",3,f1920e861e4771695501e60ae290416c2c90fa4e,," self.assertRaises( n_exc.IpAddressAlreadyAllocatedClient, self.helper.create_vip_port, self.helper._update_status_to_octavia.assert_not_called()"," ret = self.helper.create_vip_port( self.assertIsNone(ret) self.helper._update_status_to_octavia.assert_called_once_with( {'loadbalancers': [{'id': self.loadbalancer_id, 'provisioning_status': 'ERROR', 'operating_status': 'ERROR'}]})",12,16
openstack%2Fvirtualbmc~master~Iccbcd6deddc1d246d214a2c52086a0cc8d911882,openstack/virtualbmc,master,Iccbcd6deddc1d246d214a2c52086a0cc8d911882,drop mock from lower-constraints,MERGED,2020-06-09 10:19:29.000000000,2020-06-10 09:46:59.000000000,2020-06-10 09:45:18.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-09 10:19:29.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/1dbfd44806cece4c04299b7909691f3729419a50', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: Iccbcd6deddc1d246d214a2c52086a0cc8d911882\n""}]",0,734573,1dbfd44806cece4c04299b7909691f3729419a50,8,3,1,28522,,,0,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: Iccbcd6deddc1d246d214a2c52086a0cc8d911882
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/73/734573/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,1dbfd44806cece4c04299b7909691f3729419a50,drop_mock,,mock==2.0.0,0,1
openstack%2Fsushy~master~Ib525de0e7638ca3affcd08512be1159cebacd38f,openstack/sushy,master,Ib525de0e7638ca3affcd08512be1159cebacd38f,Make Volume/VolumeCollection operations blocking,MERGED,2020-05-26 20:53:36.000000000,2020-06-10 09:45:07.000000000,2020-06-10 09:42:58.000000000,"[{'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-05-26 20:53:36.000000000', 'files': ['sushy/resources/system/storage/volume.py', 'sushy/tests/unit/resources/system/storage/test_volume.py', 'releasenotes/notes/make-volume-ops-blocking-de5c2ae032041d5d.yaml'], 'web_link': 'https://opendev.org/openstack/sushy/commit/461a962be9a396bf96f36238108dcddd0fb2aa67', 'message': 'Make Volume/VolumeCollection operations blocking\n\nThe operations in Volume and VolumeCollection (initialize_volume,\ndelete_volume, and create_volume) may be handled asynchronously by\nthe Redfish service. This patch will leverage the new blocking\nparameter in the sushy connector module to make these POST/DELETE\ncalls blocking. The logic to do the task monitoring will then be\nhandled in connector.py.\n\nChange-Id: Ib525de0e7638ca3affcd08512be1159cebacd38f\nStory: 2003514\nTask: 39863\n'}]",0,730990,461a962be9a396bf96f36238108dcddd0fb2aa67,11,4,1,28128,,,0,"Make Volume/VolumeCollection operations blocking

The operations in Volume and VolumeCollection (initialize_volume,
delete_volume, and create_volume) may be handled asynchronously by
the Redfish service. This patch will leverage the new blocking
parameter in the sushy connector module to make these POST/DELETE
calls blocking. The logic to do the task monitoring will then be
handled in connector.py.

Change-Id: Ib525de0e7638ca3affcd08512be1159cebacd38f
Story: 2003514
Task: 39863
",git fetch https://review.opendev.org/openstack/sushy refs/changes/90/730990/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/system/storage/volume.py', 'sushy/tests/unit/resources/system/storage/test_volume.py', 'releasenotes/notes/make-volume-ops-blocking-de5c2ae032041d5d.yaml']",3,461a962be9a396bf96f36238108dcddd0fb2aa67,task/39863,--- features: - | Make POST and DELETE operations in Volume and VolumeCollection blocking. ,,14,13
openstack%2Fnova-specs~master~Id6d2c26202c5b9fe8c807c0c446ad18faf969abc,openstack/nova-specs,master,Id6d2c26202c5b9fe8c807c0c446ad18faf969abc,Stop to use the __future__ module.,MERGED,2020-06-02 18:31:48.000000000,2020-06-10 09:42:07.000000000,2020-06-10 09:39:28.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-02 18:31:48.000000000', 'files': ['tools/move_spec.py', 'tools/move_implemented_specs.py', 'tools/abandon_spec.py'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9bda5fe3d1da8a9e71edb0be3767cdfd061f911a', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: Id6d2c26202c5b9fe8c807c0c446ad18faf969abc\n""}]",0,732879,9bda5fe3d1da8a9e71edb0be3767cdfd061f911a,8,3,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: Id6d2c26202c5b9fe8c807c0c446ad18faf969abc
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/79/732879/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/move_spec.py', 'tools/move_implemented_specs.py', 'tools/abandon_spec.py']",3,9bda5fe3d1da8a9e71edb0be3767cdfd061f911a,drop_future_imports,,from __future__ import print_function ,0,6
openstack%2Fopenstack-manuals~master~Ie8488845313e135bd52471ceab3bc6950fde222c,openstack/openstack-manuals,master,Ie8488845313e135bd52471ceab3bc6950fde222c,Imported Translations from Zanata,MERGED,2020-06-10 08:33:46.000000000,2020-06-10 09:38:16.000000000,2020-06-10 09:10:41.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 08:33:46.000000000', 'files': ['doc/install-guide/source/locale/bn_IN/LC_MESSAGES/install-guide.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7255392efc8ad36d5c050d1a227ffa550e179fd4', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie8488845313e135bd52471ceab3bc6950fde222c\n'}]",0,734765,7255392efc8ad36d5c050d1a227ffa550e179fd4,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie8488845313e135bd52471ceab3bc6950fde222c
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/65/734765/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/source/locale/bn_IN/LC_MESSAGES/install-guide.po'],1,7255392efc8ad36d5c050d1a227ffa550e179fd4,zanata/translations,"""POT-Creation-Date: 2020-06-07 06:45+0000\n""""PO-Revision-Date: 2020-06-09 10:44+0000\n""""Block Storage service – `cinder installation for Pike <https://docs."" ""openstack.org/cinder/pike/install/>`_"" msgstr """" ""ব্লক স্টোরেজ সার্ভিস - পাইকের জন্য সিন্ডার ইনস্টলেশন <https://docs.openstack.org/"" ""cinder/pike/install/>`_"" msgid """" ""Block Storage service – `cinder installation for Queens <https://docs."" ""openstack.org/cinder/queens/install/>`_"" msgstr """" ""ব্লক স্টোরেজ সার্ভিস - কুইন্সের জন্য সিন্ডার ইনস্টলেশন <https://docs.openstack.org/"" ""cinder/queens/install/>`_"" msgid """"""Compute service – `nova installation for Pike <https://docs.openstack.org/"" ""nova/pike/install/>`_"" msgstr """" ""কম্পিউট সার্ভিস- পাইকের জন্য নোভা ইনস্টলেশন <https://docs.openstack.org/nova/"" ""pike/install/>`_"" msgid """" ""Compute service – `nova installation for Queens <https://docs.openstack.org/"" ""nova/queens/install/>`_"" msgstr """" ""কম্পিউট সার্ভিস- কুইন্সের জন্য নোভা ইনস্টলেশন <https://docs.openstack.org/nova/"" ""queens/install/>`_"" msgid """"""Dashboard – `horizon installation for Pike <https://docs.openstack.org/"" ""horizon/pike/install/>`_"" msgstr """" ""ড্যাশবোর্ড - পাইকের জন্য হরিজন ইনস্টলেশন <https://docs.openstack.org/horizon/"" ""pike/install/>`_"" msgid """" ""Dashboard – `horizon installation for Queens <https://docs.openstack.org/"" ""horizon/queens/install/>`_"" msgstr """" ""ড্যাশবোর্ড - কুইন্সের জন্য হরিজন ইনস্টলেশন <https://docs.openstack.org/horizon/"" ""queens/install/>`_"" msgid """"""Identity service – `keystone installation for Pike <https://docs.openstack."" ""org/keystone/pike/install/>`_"" msgstr """" ""আইডেন্টেটি সার্ভিস - পাইকের জন্য `কীস্টোন ইনস্টলেশন <https://docs.openstack.org/"" ""keystone/pike/install/>`_"" msgid """" ""Identity service – `keystone installation for Queens <https://docs.openstack."" ""org/keystone/queens/install/>`_"" msgstr """" ""আইডেন্টেটি সার্ভিস - কুইন্সের জন্য কীস্টোন ইনস্টলেশন <https://docs.openstack.org/"" ""keystone/queens/install/>`_"" msgid """"""Image service – `glance installation for Pike <https://docs.openstack.org/"" ""glance/pike/install/>`_"" msgstr """" ""ইমেজ সার্ভিস- পাইকের জন্য গ্রেন্স ইনস্টলেশন <https://docs.openstack.org/glance/"" ""pike/install/>`_"" msgid """" ""Image service – `glance installation for Queens <https://docs.openstack.org/"" ""glance/queens/install/>`_"" msgstr """" ""ইমেজ সার্ভিস - কুইন্সের জন্য গ্রেন্স ইনস্টলেশন <https://docs.openstack.org/glance/"" ""queens/install/>`_"" msgid """"msgid ""Minimal deployment for Pike"" msgstr ""পাইকের জন্য সর্বনিম্ন ড্যাপ্লোমেন্ট দেখুন"" msgid ""Minimal deployment for Queens"" msgstr ""কুইন্সের জন্য ন্যূনতম ড্যাপ্লোমেন্ট দেখুন"" ""Networking service – `neutron installation for Pike <https://docs.openstack."" ""org/neutron/pike/install/>`_"" msgstr """" ""নেটওয়ার্কিং সার্ভিস - পাইকের জন্য নিউট্রন ইনস্টলেশন <https://docs.openstack.org/"" ""neutron/pike/install/>`_"" msgid """" ""Networking service – `neutron installation for Queens <https://docs."" ""openstack.org/neutron/queens/install/>`_"" msgstr """" ""নেটওয়ার্কিং সার্ভিস - কুইন্সের জন্য নিউট্রন ইনস্টলেশন <https://docs.openstack.org/"" ""neutron/queens/install/>`_"" msgid """"msgstr ""সংক্ষিপ্ত বিবরণ""","""POT-Creation-Date: 2020-06-04 10:31+0000\n""""PO-Revision-Date: 2020-06-04 12:37+0000\n""msgstr ""একনজর""",93,3
openstack%2Fnova~stable%2Fussuri~I1062b3e74382734edbb2142a09ff0073c66af8db,openstack/nova,stable/ussuri,I1062b3e74382734edbb2142a09ff0073c66af8db,Add functional test for bug 1550919,MERGED,2020-05-27 15:37:33.000000000,2020-06-10 09:38:05.000000000,2020-06-10 09:35:48.000000000,"[{'_account_id': 4690}, {'_account_id': 9555}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-27 15:37:33.000000000', 'files': ['nova/tests/functional/libvirt/test_evacuate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6ccd13f8aeeb97c2139c1abc93cb976fd57d57dd', 'message': 'Add functional test for bug 1550919\n\nThis adds a failing test, which we fix in change I76448196.\n\nAn earlier version of this change was previously merged as\nchange I5619728d. This was later reverted, as it was failing in the\ngate. However, on inspection these failures seem to have been simply\ntimeouts due to load.\n\nChanges from previous version:\n\n- Increase the timeouts which were previously triggering, and\n  serialise server creation to reduce the chance of this recurring.\n- Add an LVM test, which highlights the requirement to flag the\n  creation of ephemeral and swap disks.\n- Add an Qcow2 test, essentially the same as the Flat test but ensures\n  coverage of the most common backends.\n- Each test now uses a separate instances_path allowing for cleanup\n  without racing against other active tests.\n- Some nits addressed.\n\nFor the time being this test does not make use of the recently improved\nnova.tests.functional.libvirt.base.ServersTestBase class to ease\nbackports. Future changes should be made to use this class removing some\nof the common setUp logic from _LibvirtEvacuateTest.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1550919\nChange-Id: I1062b3e74382734edbb2142a09ff0073c66af8db\n(cherry picked from commit 90e0e874bde38937380d09ab27a7defbb5475cc2)\n'}]",0,731247,6ccd13f8aeeb97c2139c1abc93cb976fd57d57dd,12,7,1,10135,,,0,"Add functional test for bug 1550919

This adds a failing test, which we fix in change I76448196.

An earlier version of this change was previously merged as
change I5619728d. This was later reverted, as it was failing in the
gate. However, on inspection these failures seem to have been simply
timeouts due to load.

Changes from previous version:

- Increase the timeouts which were previously triggering, and
  serialise server creation to reduce the chance of this recurring.
- Add an LVM test, which highlights the requirement to flag the
  creation of ephemeral and swap disks.
- Add an Qcow2 test, essentially the same as the Flat test but ensures
  coverage of the most common backends.
- Each test now uses a separate instances_path allowing for cleanup
  without racing against other active tests.
- Some nits addressed.

For the time being this test does not make use of the recently improved
nova.tests.functional.libvirt.base.ServersTestBase class to ease
backports. Future changes should be made to use this class removing some
of the common setUp logic from _LibvirtEvacuateTest.

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1550919
Change-Id: I1062b3e74382734edbb2142a09ff0073c66af8db
(cherry picked from commit 90e0e874bde38937380d09ab27a7defbb5475cc2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/731247/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_evacuate.py'],1,6ccd13f8aeeb97c2139c1abc93cb976fd57d57dd,bug/1550919,"# Copyright 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import collections import fixtures import mock import os.path from oslo_utils import fileutils from oslo_utils.fixture import uuidsentinel as uuids from oslo_utils import units from nova import conf from nova import context from nova import exception from nova import objects from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit import fake_network from nova.tests.unit import fake_notifier import nova.tests.unit.image.fake as fake_image from nova.tests.unit.virt.libvirt import fakelibvirt from nova.virt.libvirt import config as libvirt_config CONF = conf.CONF FLAVOR_FIXTURES = [ {'flavorid': 'root_only', 'name': 'root_only', 'vcpus': 1, 'memory_mb': 512, 'root_gb': 1, 'ephemeral_gb': 0, 'swap': 0}, {'flavorid': 'with_ephemeral', 'name': 'with_ephemeral', 'vcpus': 1, 'memory_mb': 512, 'root_gb': 1, 'ephemeral_gb': 1, 'swap': 0}, {'flavorid': 'with_swap', 'name': 'with_swap', 'vcpus': 1, 'memory_mb': 512, 'root_gb': 1, 'ephemeral_gb': 0, 'swap': 1}, ] # Choice of image id is arbitrary, but fixed for consistency. IMAGE_ID = fake_image.AUTO_DISK_CONFIG_ENABLED_IMAGE_UUID # NOTE(mdbooth): Change I76448196 tests for creation of any local disk, and # short-circuits as soon as it sees one created. Disks are created in order: # root disk, ephemeral disks, swap disk. Therefore to test correct handling of # ephemeral disks we must ensure there is no root disk, and to test swap disks # we must ensure there is no root or ephemeral disks. Each of the following # fixtures intentionally has only a single local disk (or none for bfv), # ensuring we cover all local disks. SERVER_FIXTURES = [ # Local root disk only {'name': 'local_root', 'imageRef': IMAGE_ID, 'flavorRef': 'root_only', }, # No local disks {'name': 'bfv', 'flavorRef': 'root_only', 'block_device_mapping_v2': [{ 'boot_index': 0, 'uuid': uuids.vol1, 'source_type': 'volume', 'destination_type': 'volume', }], }, # Local eph disk only {'name': 'bfv_with_eph', 'flavorRef': 'with_ephemeral', 'block_device_mapping_v2': [{ 'boot_index': 0, 'uuid': uuids.vol2, 'source_type': 'volume', 'destination_type': 'volume', }], }, # Local swap disk only {'name': 'bfv_with_swap', 'flavorRef': 'with_swap', 'block_device_mapping_v2': [{ 'boot_index': 0, 'uuid': uuids.vol3, 'source_type': 'volume', 'destination_type': 'volume', }], }, ] SERVER_DISKS = { 'local_root': 'disk', 'bfv': None, 'bfv_with_eph': 'disk.eph0', 'bfv_with_swap': 'disk.swap', } class _FileTest(object): """"""A base class for the _FlatTest and _Qcow2Test mixin test classes"""""" def setUp(self): super(_FileTest, self).setUp() def assert_disks_nonshared_instancedir(self, server): name = server['name'] disk = SERVER_DISKS[name] if not disk: return source_root_disk = os.path.join(self.source_instance_path(server), disk) dest_root_disk = os.path.join(self.dest_instance_path(server), disk) self.assertTrue(os.path.exists(source_root_disk), ""Source root disk %s for server %s does not exist"" % (source_root_disk, name)) self.assertFalse(os.path.exists(dest_root_disk), ""Destination root disk %s for server %s exists"" % (dest_root_disk, name)) def assert_disks_shared_instancedir(self, server): name = server['name'] disk = SERVER_DISKS[name] if not disk: return source_root_disk = os.path.join( self.source_instance_path(server), disk) # FIXME(mdbooth): We should not have deleted a shared disk self.assertFalse(os.path.exists(source_root_disk), ""Source root disk %s for server %s exists"" % (source_root_disk, name)) class _FlatTest(_FileTest): """"""A mixin which configures the flat imagebackend, and provides assertions for the expected state of the flat imagebackend after an evacuation. We mock create_image to touch a file so we can assert its existence/removal in tests. """""" def setUp(self): super(_FlatTest, self).setUp() self.flags(group='libvirt', images_type='flat') def fake_create_image(_self, *args, **kwargs): # Simply ensure the file exists open(_self.path, 'a').close() self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Flat.create_image', fake_create_image)) # Mocked to reduce runtime self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.imagebackend.Flat.correct_format')) class _Qcow2Test(_FileTest): """"""A mixin which configures the qcow2 imagebackend, and provides assertions for the expected state of the flat imagebackend after an evacuation. We mock create_image to touch a file so we can assert its existence/removal in tests. """""" def setUp(self): super(_Qcow2Test, self).setUp() self.flags(group='libvirt', images_type='qcow2') def fake_create_image(_self, *args, **kwargs): # Simply ensure the file exists open(_self.path, 'a').close() self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Qcow2.create_image', fake_create_image)) class _RbdTest(object): """"""A mixin which configures the rbd imagebackend, and provides assertions for the expected state of the rbd imagebackend after an evacuation. We mock RBDDriver so we don't need an actual ceph cluster. We mock create_image to store which rbd volumes would have been created, and exists to reference that store. """""" def setUp(self): super(_RbdTest, self).setUp() self.flags(group='libvirt', images_type='rbd') self.flags(group='libvirt', rbd_secret_uuid='1234') self.created = set() def fake_create_image(_self, *args, **kwargs): self.created.add(_self.rbd_name) def fake_exists(_self): return _self.rbd_name in self.created self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Rbd.create_image', fake_create_image)) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Rbd.exists', fake_exists)) # We never want to actually touch rbd self.mock_rbd_driver = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.storage.rbd_utils.RBDDriver')).mock.return_value self.mock_rbd_driver.get_mon_addrs.return_value = ([], []) self.mock_rbd_driver.size.return_value = 10 * units.Gi self.mock_rbd_driver.rbd_user = 'rbd' def _assert_disks(self, server): name = server['name'] disk = SERVER_DISKS[name] if not disk: return # Check that we created a root disk and haven't called _cleanup_rbd at # all self.assertIn(""%s_%s"" % (server['id'], disk), self.created) # FIXME(mdbooth): we should not have deleted shared disks self.assertGreater(self.mock_rbd_driver.cleanup_volumes.call_count, 0) # We never want to cleanup rbd disks during evacuate, regardless of # instance shared storage assert_disks_nonshared_instancedir = _assert_disks assert_disks_shared_instancedir = _assert_disks class FakeLVM(object): def __init__(self): self.volumes = set() def _exists(self, vg, lv): return any([v for v in self.volumes if v[0] == vg and v[1] == lv]) def _vg_exists(self, vg): return any([v for v in self.volumes if v[0] == vg]) def _find_vol_from_path(self, path): info = self.volume_info(path) for vol in self.volumes: if vol[0] == info['VG'] and vol[1] == info['LV']: return vol return None def create_volume(self, vg, lv, size, sparse=False): self.volumes.add((vg, lv, size)) def list_volumes(self, vg_path): _, vg = os.path.split(vg_path) return [vol[1] for vol in self.volumes if vol[0] == vg] def volume_info(self, path): path, lv = os.path.split(path) path, vg = os.path.split(path) return {'VG': vg, 'LV': lv} def get_volume_size(self, path): vol = self._find_vol_from_path(path) if vol is not None: return vol[2] raise exception.VolumeBDMPathNotFound(path=path) def remove_volumes(self, paths): for path in paths: vol = self._find_vol_from_path(path) if vol is not None: self.volumes.remove(vol) class _LVMTest(object): """"""A mixin which configures the LVM imagebackend, and provides assertions for the expected state of the LVM imagebackend after an evacuation. We need to track logical volumes on each compute separately, which we do by mocking the nova.virt.libvirt.storage.lvm module immediately before starting a new compute. """""" def setUp(self): super(_LVMTest, self).setUp() self.flags(group='libvirt', images_type='lvm', images_volume_group='fake_vg') # A map of compute service name: fake libvirt module self.fake_lvms = collections.defaultdict(FakeLVM) # The fake libvirt module in use by the compute service which is # running currently self.fake_lvm = None def fake_create_image(_self, prepare_template, base, size, *args, **kwargs): self.fake_lvm.create_volume(_self.vg, _self.lv, size) def fake_exists(_self, *args, **kwargs): return self.fake_lvm._exists(_self.vg, _self.lv) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Lvm.create_image', fake_create_image)) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.Lvm.exists', fake_exists)) orig_path_exists = os.path.exists def fake_path_exists(path): if path.startswith('/dev/'): paths = path.split(os.sep)[2:] if len(paths) == 0: # For completeness: /dev exists return True if len(paths) == 1: return self.fake_lvm._vg_exists(*paths) if len(paths) == 2: return self.fake_lvm._exists(*paths) return False else: return orig_path_exists(path) self.useFixture(fixtures.MonkeyPatch( 'os.path.exists', fake_path_exists)) def _start_compute(self, name): compute = super(_LVMTest, self)._start_compute(name) # We need each compute to have its own fake LVM. These mocks replace # the previous mocks, globally. This only works because in this test we # only ever run one of the computes at a time. self.fake_lvm = self.fake_lvms[name] self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.driver.lvm', self.fake_lvm)) self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.imagebackend.lvm', self.fake_lvm)) return compute def _assert_disks(self, server): name = server['name'] disk = SERVER_DISKS[name] if not disk: return vg = CONF.libvirt.images_volume_group lv = '{uuid}_{disk}'.format(uuid=server['id'], disk=disk) compute0 = self.fake_lvms['compute0'] compute1 = self.fake_lvms['compute1'] self.assertTrue(compute0._exists(vg, lv), 'Disk ""{disk}"" of server {server} does not exist on ' 'source'.format(disk=disk, server=name)) self.assertFalse(compute1._exists(vg, lv), 'Disk ""{disk}"" of server {server} still exists on ' 'destination'.format(disk=disk, server=name)) # We always want to cleanup LVM disks on failure, regardless of shared # instance directory assert_disks_nonshared_instancedir = _assert_disks assert_disks_shared_instancedir = _assert_disks class _LibvirtEvacuateTest(integrated_helpers.InstanceHelperMixin): """"""The main libvirt evacuate test. This configures a set of stub services with 2 computes and defines 2 tests, both of which create a server on compute0 and then evacuate it to compute1. test_evacuate_failure_nonshared_instancedir does this with a non-shared instance directory, and test_evacuate_failure_shared_instancedir does this with a shared instance directory. This class requires one of the mixins _FlatTest, _RbdTest, _LVMTest, or _Qcow2Test to execute. These configure an imagebackend, and define the assertions assert_disks_nonshared_instancedir and assert_disks_shared_instancedir to assert the expected state of that imagebackend after an evacuation. By combining shared and non-shared instance directory tests in this class with these mixins we get test coverage of all combinations of shared/nonshared instanace directories and block storage. """""" def _start_compute(self, name): # NOTE(mdbooth): fakelibvirt's getHostname currently returns a # hardcoded 'compute1', which is undesirable if we want multiple fake # computes. There's no good way to pre-initialise get_connection() to # return a fake libvirt with a custom return for getHostname. # # Here we mock the class during service creation to return our custom # hostname, but we can't leave this in place because then both computes # will still get the same value from their libvirt Connection. Once the # service has started, we poke a custom getHostname into the # instantiated object to do the same thing, but only for that object. with mock.patch.object(fakelibvirt.Connection, 'getHostname', return_value=name): compute = self.start_service('compute', host=name) compute.driver._host.get_connection().getHostname = lambda: name return compute def setUp(self): super(_LibvirtEvacuateTest, self).setUp() self.useFixture(nova_fixtures.CinderFixture(self)) self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(func_fixtures.PlacementFixture()) fake_network.set_stub_network_methods(self) api_fixture = self.useFixture( nova_fixtures.OSAPIFixture(api_version='v2.1')) self.api = api_fixture.admin_api # force_down and evacuate without onSharedStorage self.api.microversion = '2.14' fake_image.stub_out_image_service(self) self.addCleanup(fake_image.FakeImageService_reset) fake_notifier.stub_notifier(self) self.addCleanup(fake_notifier.reset) self.useFixture(fakelibvirt.FakeLibvirtFixture()) # Fake out all the details of volume connection self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver.get_volume_connector')) self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._connect_volume')) # For cleanup self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._disconnect_volume')) volume_config = libvirt_config.LibvirtConfigGuestDisk() volume_config.driver_name = 'fake-volume-driver' volume_config.source_path = 'fake-source-path' volume_config.target_dev = 'fake-target-dev' volume_config.target_bus = 'fake-target-bus' get_volume_config = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._get_volume_config')).mock get_volume_config.return_value = volume_config # Ensure our computes report lots of available disk, vcpu, and ram lots = 10000000 get_local_gb_info = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._get_local_gb_info')).mock get_local_gb_info.return_value = { 'total': lots, 'free': lots, 'used': 1} get_vcpu_available = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_available')).mock get_vcpu_available.return_value = set(cpu for cpu in range(24)) get_memory_mb_total = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.host.Host.get_memory_mb_total')).mock get_memory_mb_total.return_value = lots # Mock out adding rng devices self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.driver.LibvirtDriver._add_rng_device')).mock self.start_service('conductor') self.start_service('scheduler') self.flags(compute_driver='libvirt.LibvirtDriver') ctxt = context.get_admin_context() for flavor in FLAVOR_FIXTURES: objects.Flavor(context=ctxt, **flavor).create() @staticmethod def source_instance_path(server): return os.path.join(CONF.instances_path, server['id']) @staticmethod def dest_instance_path(server): return os.path.join(CONF.instances_path, 'dest', server['id']) def _create_servers(self): def _create_server(server): # NOTE(mdbooth): We could do all the server creations concurrently # to improve throughput, but we have seen this result in timeouts # on a loaded CI worker. server = self.api.post_server({'server': server}) # Wait for server to become ACTIVE, and return its updated state # NOTE(mdbooth): Increase max_retries from default to reduce # chances of timeout. return self._wait_for_state_change(server, 'ACTIVE', max_retries=30) return [_create_server(server) for server in SERVER_FIXTURES] def _swap_computes(self, compute0): # Force compute0 down compute0.stop() self.api.force_down_service('compute0', 'nova-compute', True) # Start compute1 return self._start_compute('compute1') def _evacuate_with_failure(self, server, compute1): # Perform an evacuation during which we experience a failure on the # destination host instance_uuid = server['id'] with mock.patch.object(compute1.driver, 'plug_vifs') as plug_vifs: plug_vifs.side_effect = test.TestingException self.api.post_server_action(instance_uuid, {'evacuate': {'host': 'compute1'}}) # Wait for the rebuild to start, then complete fake_notifier.wait_for_versioned_notifications( 'instance.rebuild.start') self._wait_for_migration_status(server, ['failed']) server = self._wait_for_server_parameter( server, {'OS-EXT-STS:task_state': None}) # Meta-test plug_vifs.assert_called() plug_vifs.reset_mock() # Return fresh server state after evacuate return server def test_evacuate_failure_nonshared_instancedir(self): """"""Assert the failure cleanup behaviour of non-shared instance storage If we fail during evacuate and the instance directory didn't previously exist on the destination, we should delete it """""" # Use a unique instances_path per test to allow cleanup self.flags(instances_path=self.useFixture(fixtures.TempDir()).path) # Create instances on compute0 compute0 = self._start_compute('compute0') servers = self._create_servers() compute1 = self._swap_computes(compute0) # Create a 'pass-through' mock for ensure_tree so we can log its calls orig_ensure_tree = fileutils.ensure_tree mock_ensure_tree = self.useFixture(fixtures.MockPatch( 'oslo_utils.fileutils.ensure_tree', side_effect=orig_ensure_tree)).mock for server in servers: name = server['name'] source_instance_path = self.source_instance_path(server) dest_instance_path = self.dest_instance_path(server) # Check that we've got an instance directory on the source and not # on the dest self.assertTrue(os.path.exists(source_instance_path), ""Source instance directory %s for server %s does "" ""not exist"" % (source_instance_path, name)) self.assertFalse(os.path.exists(dest_instance_path), ""Destination instance directory %s for server %s "" ""exists"" % (dest_instance_path, name)) # By default our 2 compute hosts share the same instance directory # on the test runner. Force a different directory while running # evacuate on compute1 so we don't have shared storage. def dest_get_instance_path(instance, relative=False): if relative: return instance.uuid return dest_instance_path with mock.patch('nova.virt.libvirt.utils.get_instance_path') \ as get_instance_path: get_instance_path.side_effect = dest_get_instance_path server = self._evacuate_with_failure(server, compute1) # Check that we've got an instance directory on the source and not # on the dest, but that the dest was created self.assertTrue(os.path.exists(source_instance_path), ""Source instance directory %s for server %s does "" ""not exist"" % (source_instance_path, name)) self.assertFalse(os.path.exists(dest_instance_path), ""Destination instance directory %s for server %s "" ""exists"" % (dest_instance_path, name)) mock_ensure_tree.assert_called_with(dest_instance_path) self.assert_disks_nonshared_instancedir(server) # Check we're still on the failed source host self.assertEqual('compute0', server['OS-EXT-SRV-ATTR:host']) def test_evacuate_failure_shared_instancedir(self): """"""Assert the failure cleanup behaviour of shared instance storage If we fail during evacuate and the instance directory was already present on the destination, we should leave it there By default our 2 compute hosts share the same instance directory on the test runner. """""" # Use a unique instances_path per test to allow cleanup self.flags(instances_path=self.useFixture(fixtures.TempDir()).path) # Create test instances on compute0 compute0 = self._start_compute('compute0') servers = self._create_servers() compute1 = self._swap_computes(compute0) for server in servers: name = server['name'] shared_instance_path = self.source_instance_path(server) # Check that we've got an instance directory on the source self.assertTrue(os.path.exists(shared_instance_path), ""Shared instance directory %s for server %s does "" ""not exist"" % (shared_instance_path, name)) server = self._evacuate_with_failure(server, compute1) # Check that the instance directory still exists # FIXME(mdbooth): the shared instance directory should still exist self.assertFalse(os.path.exists(shared_instance_path), ""Shared instance directory %s for server %s "" ""exists"" % (shared_instance_path, name)) self.assert_disks_shared_instancedir(server) # Check we're still on the failed source host self.assertEqual('compute0', server['OS-EXT-SRV-ATTR:host']) class LibvirtFlatEvacuateTest(_FlatTest, _LibvirtEvacuateTest, test.TestCase): pass class LibvirtQcowEvacuateTest(_Qcow2Test, _LibvirtEvacuateTest, test.TestCase): pass class LibvirtRbdEvacuateTest(_RbdTest, _LibvirtEvacuateTest, test.TestCase): pass class LibvirtLVMEvacuateTest(_LVMTest, _LibvirtEvacuateTest, test.TestCase): pass ",,660,0
openstack%2Fnova~master~I764481966c96a67d993da6e902dc9fc3ad29ee36,openstack/nova,master,I764481966c96a67d993da6e902dc9fc3ad29ee36,libvirt: Don't delete disks on shared storage during evacuate,MERGED,2018-06-28 15:22:45.000000000,2020-06-10 09:20:21.000000000,2020-05-27 12:47:15.000000000,"[{'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 8768}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23676}, {'_account_id': 26286}, {'_account_id': 26515}, {'_account_id': 27076}, {'_account_id': 27594}, {'_account_id': 29963}]","[{'number': 1, 'created': '2018-06-28 15:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9d7f7d8a3fedaf60d52a35d5c8034ec4129ae49', 'message': ""Don't delete disks on shared storage during evacuate\n\nIf we experience a failure when re-creating an instance during evacuate\nwe currently unconditionally delete the instance disks. This isn't\ncorrect behaviour if we're on shared storage, as it causes us to lose\ndata which would not otherwise have been lost. This change allows us to\ndisable the cleanup behaviour of spawn in that case.\n\nI've avoided refactoring the driver interface here in order to ease a\nbackport, and to reduce the scope of the bug fix. Unfortunately this has\nmeant some code duplication.\n\nTODO: Tests.\n\nFixes: bug 1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 2, 'created': '2018-08-14 15:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b90b5654dc3bba0628e165ede227b68857f5013f', 'message': ""Don't delete disks on shared storage during evacuate\n\nIf we experience a failure when re-creating an instance during evacuate\nwe currently unconditionally delete the instance disks. This isn't\ncorrect behaviour if we're on shared storage, as it causes us to lose\ndata which would not otherwise have been lost. This change allows us to\ndisable the cleanup behaviour of spawn in that case.\n\nI've avoided refactoring the driver interface here in order to ease a\nbackport, and to reduce the scope of the bug fix. Unfortunately this has\nmeant some code duplication.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 3, 'created': '2018-08-15 14:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc02c06ebe755dc644ad90ea10605c5a18e2e3bf', 'message': ""Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute.  spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 4, 'created': '2018-08-15 14:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3973810af87626450fdcfcf643cd17bde12d7da6', 'message': ""Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute.  spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 5, 'created': '2018-08-15 14:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6184d7c24b07326eba5ede2d53b8cce2e347ad86', 'message': ""Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute.  spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 6, 'created': '2018-08-16 09:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3d56c9b872f3611fefc3f53745bd51bbb077382', 'message': ""Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute.  spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 7, 'created': '2018-08-16 13:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6609ba4156aa52c8ab207db90d5fc0ae346456cb', 'message': ""Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute.  spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 8, 'created': '2018-09-12 21:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0549b8405c1872426ddc97cc5738ce089ff1c4fe', 'message': ""Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute.  spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 9, 'created': '2018-09-14 17:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0a6f424c963220740faa832aeaf55d2d301d199', 'message': ""Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute.  spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 10, 'created': '2018-09-21 16:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f825416e8bc3e5c477152fb0e14e5cdd3bc670d2', 'message': ""Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute.  spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 11, 'created': '2018-09-25 10:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b40b92fefeddeffab3dd30847488516600d7913', 'message': ""Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute.  spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 12, 'created': '2018-09-25 17:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5c1425bd524b818997ff1f33f6d8e875d217774', 'message': ""Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute.  spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 13, 'created': '2018-09-26 16:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c2af201eea9f18cee9b54b0fed53b01439c6ae6', 'message': ""Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute.  spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 14, 'created': '2018-09-27 10:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d12855d25beeb5fedaca48e4c1b8197c46c9307a', 'message': ""Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute.  spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 15, 'created': '2018-10-01 09:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7e8a154f869e4b2ac286457bd42e6a69572cb99', 'message': ""Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute.  spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 16, 'created': '2018-10-23 14:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d2abc1b78500c6922b79457c3137fa5c8c0c242', 'message': ""Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute.  spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 17, 'created': '2018-10-24 08:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58b1415f7f349a27e36b384761b8035f26b229e9', 'message': ""Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute.  spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 18, 'created': '2018-11-29 14:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39f910502929d5413eabb9ded5098ed5b1acf0f0', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 19, 'created': '2018-11-29 15:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8d7a522a9886bd1097e8e15912e56a9ccaab680', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 20, 'created': '2018-11-29 17:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/879b4344ba82a315d1cec1c1d1b97a8c02a9a3e2', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 21, 'created': '2019-01-16 18:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4039365ae44647c0f9153b494d0857a5514754aa', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 22, 'created': '2019-05-28 15:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b7f31c53b503f02570d6de32085b4ebc4666fb1', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 23, 'created': '2019-06-11 13:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/762bd73564743f30b55541ce8fd9c6276942cf03', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 24, 'created': '2019-06-21 13:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0ca72a3839eecd53fa39f51b33658e49e6ce7fb', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 25, 'created': '2020-05-12 18:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c63ece56aa05ea52e1fb6f8e6041d73a9776aec', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 26, 'created': '2020-05-13 10:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a52173b55559ade8c04cb2118d4f4c66bf802b1', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 27, 'created': '2020-05-13 13:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0b749958983e5fe1736f8d2cf029931110025dd', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 28, 'created': '2020-05-14 11:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a7b6f74ebccc57e92fc6e8e658923c6c4be9e0a', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 29, 'created': '2020-05-18 14:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/083df01a4d90e155c1b4ef9e954d8be14a02d830', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n""}, {'number': 30, 'created': '2020-05-21 11:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3b9fdaa3abe8ddcecd3c4f769480afa065e7172', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 083df01a4d90e155c1b4ef9e954d8be14a02d830)\n""}, {'number': 31, 'created': '2020-05-21 11:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84c7ef0054ef8849cd181ece1f8fe9c5bc9351e3', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 083df01a4d90e155c1b4ef9e954d8be14a02d830)\n""}, {'number': 32, 'created': '2020-05-21 14:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee1447ed440e6ea3a300489caec7af240524adb1', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 083df01a4d90e155c1b4ef9e954d8be14a02d830)\n""}, {'number': 33, 'created': '2020-05-26 09:45:52.000000000', 'files': ['nova/tests/functional/libvirt/test_evacuate.py', 'nova/virt/libvirt/driver.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/functional/regressions/test_bug_1595962.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/497360b0ea970f1e68912be8229ef8c3f5454e9e', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 083df01a4d90e155c1b4ef9e954d8be14a02d830)\n""}]",109,578846,497360b0ea970f1e68912be8229ef8c3f5454e9e,460,28,33,9555,,,0,"libvirt: Don't delete disks on shared storage during evacuate

When evacuating an instance between compute hosts on shared storage,
during the rebuild operation we call spawn() on the destination
compute. spawn() currently assumes that it should cleanup all
resources on failure, which results in user data being deleted in the
evacuate case.

This change modifies spawn in the libvirt driver such that it only
cleans up resources it created.

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Closes-Bug: #1550919
Change-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36
(cherry picked from commit 083df01a4d90e155c1b4ef9e954d8be14a02d830)
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/578846/25 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/compute/manager.py']",2,c9d7f7d8a3fedaf60d52a35d5c8034ec4129ae49,bug/1550919," # NOTE(mdbooth): This code was cut/paste to LibvirtDriver.rebuild(). If # changing this code, please consider if the changes would apply to the # libvirt driver. # TODO(mdbooth): Refactor the driver interface to avoid code # duplication.",,72,1
openstack%2Fpuppet-horizon~stable%2Ftrain~Ie3e3cfa1cc55b257bb30a42306dce3395c8026b3,openstack/puppet-horizon,stable/train,Ie3e3cfa1cc55b257bb30a42306dce3395c8026b3,DNM: check train gate status,ABANDONED,2020-06-03 13:50:12.000000000,2020-06-10 09:20:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-03 13:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/dfab6fc9779c83f61970c451f51a621bbf04f85e', 'message': 'DNM: check train gate status\n\nChange-Id: Ie3e3cfa1cc55b257bb30a42306dce3395c8026b3\n'}, {'number': 2, 'created': '2020-06-03 17:15:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/887e70a6369e6b2732b562e4040f8b9431219e2e', 'message': 'DNM: check train gate status\n\nChange-Id: Ie3e3cfa1cc55b257bb30a42306dce3395c8026b3\n'}]",0,733149,887e70a6369e6b2732b562e4040f8b9431219e2e,5,1,2,9816,,,0,"DNM: check train gate status

Change-Id: Ie3e3cfa1cc55b257bb30a42306dce3395c8026b3
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/49/733149/1 && git format-patch -1 --stdout FETCH_HEAD,['dnm'],1,dfab6fc9779c83f61970c451f51a621bbf04f85e,train-gate,,,0,0
openstack%2Fironic-ui~master~I86c18b4c73f9b3dc0b3d804559d825dac5a78436,openstack/ironic-ui,master,I86c18b4c73f9b3dc0b3d804559d825dac5a78436,Cleanup py27 support,MERGED,2020-06-09 12:02:40.000000000,2020-06-10 09:04:40.000000000,2020-06-10 09:02:00.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-09 12:02:40.000000000', 'files': ['ironic_ui/api/ironic_rest_api.py', 'test-requirements.txt', 'ironic_ui/test/settings.py', 'setup.py', 'lower-constraints.txt', 'ironic_ui/content/ironic/panel.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/6d253ca7f1542c758dc1d55074fc5fba13060153', 'message': ""Cleanup py27 support\n\nThis repo is now testing only with Python 3, so let's make\na few cleanups:\n- Remove python 2.7 stanza from setup.py\n- Add requires on python >= 3.6 to setup.cfg so that pypi and pip\n  know about the requirement\n- Remove obsolete sections from setup.cfg\n- Update classifiers\n- Remove install_command from tox.ini, the default is fine\n- Use TOX_CONSTRAINTS_FILE instead of obsolete UPPER_CONSTRAINTS_FILE.\n- Update hacking to current version 3.1.0, fix problems found.\n\nChange-Id: I86c18b4c73f9b3dc0b3d804559d825dac5a78436\n""}]",0,734593,6d253ca7f1542c758dc1d55074fc5fba13060153,8,3,1,6547,,,0,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py
- Add requires on python >= 3.6 to setup.cfg so that pypi and pip
  know about the requirement
- Remove obsolete sections from setup.cfg
- Update classifiers
- Remove install_command from tox.ini, the default is fine
- Use TOX_CONSTRAINTS_FILE instead of obsolete UPPER_CONSTRAINTS_FILE.
- Update hacking to current version 3.1.0, fix problems found.

Change-Id: I86c18b4c73f9b3dc0b3d804559d825dac5a78436
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/93/734593/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_ui/api/ironic_rest_api.py', 'ironic_ui/test/settings.py', 'test-requirements.txt', 'setup.py', 'lower-constraints.txt', 'ironic_ui/content/ironic/panel.py', 'setup.cfg', 'tox.ini']",8,6d253ca7f1542c758dc1d55074fc5fba13060153,cleanup-py27-support,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}# [W503] Line break before binary operator. ignore = W503 -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},19,37
openstack%2Fkolla-ansible~stable%2Fstein~I1c723fb2b89adf48cba856beaac85cab37f07695,openstack/kolla-ansible,stable/stein,I1c723fb2b89adf48cba856beaac85cab37f07695,Do not require kolla-ansible to be installed,MERGED,2020-06-09 19:17:26.000000000,2020-06-10 09:03:10.000000000,2020-06-10 09:00:05.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-06-09 19:17:26.000000000', 'files': ['tools/kolla-ansible', 'releasenotes/notes/bug-1882780-4e71976ce57a0d7c.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d0f72c604011886a15c11db989cfac6d3e52cfec', 'message': 'Do not require kolla-ansible to be installed\n\nStein only.\n\nIt seems the checks backport was not amended properly for Stein.\nThe installation requirement is only present (and documented)\nsince Train.\n\nChange-Id: I1c723fb2b89adf48cba856beaac85cab37f07695\nCloses-bug: #1882780\n'}]",0,734681,d0f72c604011886a15c11db989cfac6d3e52cfec,9,4,1,30491,,,0,"Do not require kolla-ansible to be installed

Stein only.

It seems the checks backport was not amended properly for Stein.
The installation requirement is only present (and documented)
since Train.

Change-Id: I1c723fb2b89adf48cba856beaac85cab37f07695
Closes-bug: #1882780
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/81/734681/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/kolla-ansible', 'releasenotes/notes/bug-1882780-4e71976ce57a0d7c.yaml']",2,d0f72c604011886a15c11db989cfac6d3e52cfec,bug/1882780,--- fixes: - | Do not require kolla-ansible to be installed (Stein only). `LP#1882780 <https://launchpad.net/bugs/1882780>`__ ,,5,7
openstack%2Fpython-neutronclient~master~Ia7226d968b8594677fc8dea664b58a80ba193ac5,openstack/python-neutronclient,master,Ia7226d968b8594677fc8dea664b58a80ba193ac5,Use unittest.mock instead of mock,MERGED,2020-06-09 09:58:30.000000000,2020-06-10 08:59:56.000000000,2020-06-10 08:57:42.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 09:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/9954bce4fb161c1b0cfce3de5742de4394dd2c95', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ia7226d968b8594677fc8dea664b58a80ba193ac5\n'}, {'number': 2, 'created': '2020-06-09 17:01:25.000000000', 'files': ['neutronclient/tests/unit/osc/v2/trunk/test_network_trunk.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/f751dd3782d0d674d8e717e7be6d8bc99518b237', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ia7226d968b8594677fc8dea664b58a80ba193ac5\n'}]",1,734521,f751dd3782d0d674d8e717e7be6d8bc99518b237,10,3,2,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Ia7226d968b8594677fc8dea664b58a80ba193ac5
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/21/734521/1 && git format-patch -1 --stdout FETCH_HEAD,['neutronclient/tests/unit/osc/v2/trunk/test_network_trunk.py'],1,9954bce4fb161c1b0cfce3de5742de4394dd2c95,drop_mock,from unittest.mock import call,from mock import call,1,1
openstack%2Fcliff~master~I8c926152aa43359be376ec3dea83c42ecc499e80,openstack/cliff,master,I8c926152aa43359be376ec3dea83c42ecc499e80,Fix compatibility with new cmd2,MERGED,2020-03-12 00:17:56.000000000,2020-06-10 08:51:10.000000000,2020-06-10 08:49:00.000000000,"[{'_account_id': 2}, {'_account_id': 8556}, {'_account_id': 10068}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-03-12 00:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/6c1ddf273f026d9a0daff8305cd98b4516b8f447', 'message': 'Fix compatibility with new cmd2\n\nChange-Id: I8c926152aa43359be376ec3dea83c42ecc499e80\n'}, {'number': 2, 'created': '2020-06-09 15:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/90723e118fdde95bb95726cfffa37fcf6c17ad8a', 'message': 'Fix compatibility with new cmd2\n\nCloses-Bug: #1810213\nChange-Id: I8c926152aa43359be376ec3dea83c42ecc499e80\n'}, {'number': 3, 'created': '2020-06-09 19:20:04.000000000', 'files': ['cliff/interactive.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/b0fb8daff0f4c01bdc526691e24d2cedc6e08e10', 'message': 'Fix compatibility with new cmd2\n\nCloses-Bug: #1810213\nChange-Id: I8c926152aa43359be376ec3dea83c42ecc499e80\n'}]",10,712591,b0fb8daff0f4c01bdc526691e24d2cedc6e08e10,14,7,3,18841,,,0,"Fix compatibility with new cmd2

Closes-Bug: #1810213
Change-Id: I8c926152aa43359be376ec3dea83c42ecc499e80
",git fetch https://review.opendev.org/openstack/cliff refs/changes/91/712591/1 && git format-patch -1 --stdout FETCH_HEAD,"['cliff/interactive.py', 'requirements.txt']",2,6c1ddf273f026d9a0daff8305cd98b4516b8f447,new-cmd2,"cmd2!=0.8.3,<0.9.0;python_version<'3.0' # MIT cmd2!=0.8.3;python_version>='3.0' # MIT","cmd2>=0.8.0,!=0.8.3,<0.9.0 # MIT",12,4
openstack%2Fsushy-cli~master~I80deea52ea2a54fa35fe85bb544ebd64a1d7c024,openstack/sushy-cli,master,I80deea52ea2a54fa35fe85bb544ebd64a1d7c024,drop mock from lower-constraints,MERGED,2020-06-09 10:13:40.000000000,2020-06-10 08:49:05.000000000,2020-06-10 08:45:21.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-09 10:13:40.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/0e0f8c48ff65da75cca96120860cace38d2206c2', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I80deea52ea2a54fa35fe85bb544ebd64a1d7c024\n""}]",0,734556,0e0f8c48ff65da75cca96120860cace38d2206c2,8,3,1,28522,,,0,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: I80deea52ea2a54fa35fe85bb544ebd64a1d7c024
",git fetch https://review.opendev.org/openstack/sushy-cli refs/changes/56/734556/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,0e0f8c48ff65da75cca96120860cace38d2206c2,drop_mock,,mock==4.0.2,0,1
openstack%2Fopenstack-helm~master~I14efb6f6e73242641d836df65b16189e63982b7b,openstack/openstack-helm,master,I14efb6f6e73242641d836df65b16189e63982b7b,"If ingress-vip is used in keepalived mode, security_context variable is not applied",ABANDONED,2020-06-10 08:42:13.000000000,2020-06-10 08:46:31.000000000,,[{'_account_id': 10068}],"[{'number': 1, 'created': '2020-06-10 08:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fbc2b565268d4394bb54b9481393d2f16d1f67e5', 'message': 'If ingress-vip is used in keepalived mode, security_context variable is not applied\n\nIf ingress-vip is used in keepalived mode, the security_context variable is not applied, so the ingress-vip container is not executed.\nSo, modify deployment-ingress.yaml to apply security_context variable\n\nChange-Id: I14efb6f6e73242641d836df65b16189e63982b7b\n'}]",0,734767,fbc2b565268d4394bb54b9481393d2f16d1f67e5,3,1,1,20978,,,0,"If ingress-vip is used in keepalived mode, security_context variable is not applied

If ingress-vip is used in keepalived mode, the security_context variable is not applied, so the ingress-vip container is not executed.
So, modify deployment-ingress.yaml to apply security_context variable

Change-Id: I14efb6f6e73242641d836df65b16189e63982b7b
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/67/734767/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,fbc2b565268d4394bb54b9481393d2f16d1f67e5,keepalived-ingress-vip,,,0,0
openstack%2Fkolla~master~I2c80080a5b2203c6b22c361f2b6126d65c0c50dc,openstack/kolla,master,I2c80080a5b2203c6b22c361f2b6126d65c0c50dc,Remove tripleoclient container from Kolla,MERGED,2020-05-04 17:35:26.000000000,2020-06-10 08:35:14.000000000,2020-06-10 08:31:47.000000000,"[{'_account_id': 167}, {'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-04 17:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b897303e2dddaf7e9222e4ed09c3afc30e352f21', 'message': ""Remove tripleoclient container from Kolla\n\nThis container was never needed or useful so far; let's remove it from\nKolla.\n\nDepends-On: https://review.opendev.org/725349\nChange-Id: I2c80080a5b2203c6b22c361f2b6126d65c0c50dc\n""}, {'number': 2, 'created': '2020-05-05 14:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/58bdffa13e571a832463ee0089e02cae3e9f487d', 'message': ""Remove tripleoclient container from Kolla\n\nThis container was never needed or useful so far; let's remove it from\nKolla.\n\nDepends-On: https://review.opendev.org/725349\nChange-Id: I2c80080a5b2203c6b22c361f2b6126d65c0c50dc\n""}, {'number': 3, 'created': '2020-05-05 14:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0b4410e063095ae6050e376881a3059e7363489e', 'message': ""Remove tripleoclient container from Kolla\n\nThis container was never needed or useful so far; let's remove it from\nKolla.\n\nDepends-On: https://review.opendev.org/725349\nChange-Id: I2c80080a5b2203c6b22c361f2b6126d65c0c50dc\n""}, {'number': 4, 'created': '2020-05-29 08:09:11.000000000', 'files': ['kolla/image/build.py', 'doc/source/matrix_x86.csv', 'releasenotes/notes/tripleoclient_removal-7b131be589aa580f.yaml', 'docker/tripleoclient/create_super_user.sh', 'doc/source/matrix_aarch64.csv', 'kolla/common/config.py', 'docker/tripleoclient/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1a41c298cfcfba53956cb73208035f28c0a3d4a0', 'message': ""Remove tripleoclient container from Kolla\n\nThis container was never needed or useful so far; let's remove it from\nKolla.\n\nDepends-On: https://review.opendev.org/725349\nChange-Id: I2c80080a5b2203c6b22c361f2b6126d65c0c50dc\n""}]",0,725352,1a41c298cfcfba53956cb73208035f28c0a3d4a0,33,9,4,3153,,,0,"Remove tripleoclient container from Kolla

This container was never needed or useful so far; let's remove it from
Kolla.

Depends-On: https://review.opendev.org/725349
Change-Id: I2c80080a5b2203c6b22c361f2b6126d65c0c50dc
",git fetch https://review.opendev.org/openstack/kolla refs/changes/52/725352/2 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'doc/source/matrix_x86.csv', 'doc/source/matrix_aarch64.csv', 'docker/tripleoclient/create_super_user.sh', 'kolla/common/config.py', 'docker/tripleoclient/Dockerfile.j2']",6,b897303e2dddaf7e9222e4ed09c3afc30e352f21,tripleocl,,"FROM {{ namespace }}/{{ image_prefix }}base:{{ tag }} {% block labels %} LABEL maintainer=""{{ maintainer }}"" name=""{{ image_name }}"" build-date=""{{ build_date }}"" {% endblock %} {% block tripleoclient_header %}{% endblock %} {% import ""macros.j2"" as macros with context %} {% if install_type == 'binary' %} {% if base_package_type == 'rpm' %} {% set tripleoclient_packages = [ 'e2fsprogs', 'git', 'openssh-clients', 'openstack-tripleo-validations', 'puppet-tripleo', 'python3-openstackclient', 'python3-tripleoclient', 'xfsprogs' ] %} {{ macros.install_packages(tripleoclient_packages | customizable(""packages"")) }} {% else %} RUN echo 'tripleoclient not yet available for {{ base_distro }}' && /bin/false {% endif %} {% elif install_type == 'source' %} RUN echo 'tripleoclient not yet available for {{ base_distro }} source installs' && /bin/false {% endif %} COPY create_super_user.sh /usr/local/bin/create_super_user.sh RUN chmod 750 /usr/local/bin/create_super_user.sh {% block tripleoclient_footer %}{% endblock %} {% block footer %}{% endblock %} ",0,69
openstack%2Fheat-specs~master~Id706786bed4b20682704d524986850b7c71e225d,openstack/heat-specs,master,Id706786bed4b20682704d524986850b7c71e225d,Cleanup docs building,MERGED,2020-06-04 07:35:55.000000000,2020-06-10 08:33:01.000000000,2020-06-10 08:27:14.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-04 07:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/f21b6b4f698cf3d38a07e551f7e8b567f7cd45a4', 'message': 'Cleanup docs building\n\na few cleanups:\n- Remove obsolete sections from setup.cfg\n- Switch to using sphinx-build\n- Remove install_command from tox.ini, the default is fine\n\nChange-Id: Id706786bed4b20682704d524986850b7c71e225d\n'}, {'number': 2, 'created': '2020-06-04 07:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/9e0aba16a180d95be3369d5da29f522dfeea2754', 'message': 'Cleanup docs building\n\na few cleanups:\n- Remove obsolete sections from setup.cfg\n- Switch to using sphinx-build\n- Remove install_command from tox.ini, the default is fine\n- Update pbr requirements\n\nChange-Id: Id706786bed4b20682704d524986850b7c71e225d\n'}, {'number': 3, 'created': '2020-06-04 08:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/8e4cabfcd946ddcffbfec491f83f3a347dcdfa40', 'message': 'Cleanup docs building\n\na few cleanups:\n- Remove obsolete sections from setup.cfg\n- Switch to using sphinx-build\n- Remove install_command from tox.ini, the default is fine\n- Update pbr requirements\n- Fix problems, mainly ""Could not lex literal block""\n\nChange-Id: Id706786bed4b20682704d524986850b7c71e225d\n'}, {'number': 4, 'created': '2020-06-04 08:16:08.000000000', 'files': ['specs/ocata/nova-quota-resource.rst', 'requirements.txt', 'specs/backlog/resource-capabilities.rst', '.zuul.yaml', 'specs/mitaka/mistral-wf-signal-json-format.rst', 'setup.cfg', 'specs/ocata/neutron-quota-resource.rst', 'tox.ini', 'specs/newton/cinder-quota-resource.rst'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/f26534191ebf6c99439b5eff261bdbea7c403ce0', 'message': 'Cleanup docs building\n\na few cleanups:\n- Remove obsolete sections from setup.cfg\n- Switch to using sphinx-build\n- Remove install_command from tox.ini, the default is fine\n- Update pbr requirements\n- Fix problems, mainly ""Could not lex literal block""\n- Use py38 job for Victoria cycle\n\nChange-Id: Id706786bed4b20682704d524986850b7c71e225d\n'}]",0,733464,f26534191ebf6c99439b5eff261bdbea7c403ce0,12,2,4,6547,,,0,"Cleanup docs building

a few cleanups:
- Remove obsolete sections from setup.cfg
- Switch to using sphinx-build
- Remove install_command from tox.ini, the default is fine
- Update pbr requirements
- Fix problems, mainly ""Could not lex literal block""
- Use py38 job for Victoria cycle

Change-Id: Id706786bed4b20682704d524986850b7c71e225d
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/64/733464/4 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,f21b6b4f698cf3d38a07e551f7e8b567f7cd45a4,cleanup-py27-support,commands = sphinx-build -W -b html doc/source doc/build/html,install_command = pip install -U {opts} {packages}commands = python setup.py build_sphinx,1,13
openstack%2Fheat-cfntools~master~Ie7e24b96ec7c191a1aad5a27ac16ae64fbc3bb13,openstack/heat-cfntools,master,Ie7e24b96ec7c191a1aad5a27ac16ae64fbc3bb13,Remove publish-to-pypi template,MERGED,2020-05-26 07:52:51.000000000,2020-06-10 08:32:30.000000000,2020-06-10 08:27:16.000000000,"[{'_account_id': 6547}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-26 07:52:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/562e87d5f88d7fb6e82b633bf8a28c8de94ac3a6', 'message': 'Remove publish-to-pypi template\n\nThis template needs to be in project-config since the jobs are not\nbranch aware. The template is already setup in project-config, so just\nremove the extra line here.\n\nChange-Id: Ie7e24b96ec7c191a1aad5a27ac16ae64fbc3bb13\n'}]",0,730723,562e87d5f88d7fb6e82b633bf8a28c8de94ac3a6,9,3,1,6547,,,0,"Remove publish-to-pypi template

This template needs to be in project-config since the jobs are not
branch aware. The template is already setup in project-config, so just
remove the extra line here.

Change-Id: Ie7e24b96ec7c191a1aad5a27ac16ae64fbc3bb13
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/23/730723/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,562e87d5f88d7fb6e82b633bf8a28c8de94ac3a6,publish-to-pypi,, - publish-to-pypi,0,1
openstack%2Fneutron-lib~master~Iaa74ec5d569a3dee65f7e788394ffe063748bab6,openstack/neutron-lib,master,Iaa74ec5d569a3dee65f7e788394ffe063748bab6,Correctly define DHCP port numbers for IPv4,MERGED,2020-06-08 19:31:53.000000000,2020-06-10 08:13:41.000000000,2020-06-10 08:11:32.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 19:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9607530a99233a736514415217d96c17fb822acf', 'message': 'Correctly define DHCP port numbers for IPv4\n\nThe client and server DHCP port numbers are opposite\nof what they should be according to the IANA definitions.\n\nChange-Id: Iaa74ec5d569a3dee65f7e788394ffe063748bab6\nCloses-bug: #1882588\n'}, {'number': 2, 'created': '2020-06-08 19:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/dcdc0b88fe85172454573a441f88740fb5b83506', 'message': 'Correctly define DHCP port numbers for IPv4\n\nThe client and server DHCP port numbers are opposite\nof what they should be according to the IANA definitions.\n\nChange-Id: Iaa74ec5d569a3dee65f7e788394ffe063748bab6\nCloses-bug: #1882588\n'}, {'number': 3, 'created': '2020-06-08 20:10:36.000000000', 'files': ['releasenotes/notes/correct-dhcp-ipv4-port-numbers-6e22c6aa26009cdc.yaml', 'neutron_lib/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d7900610163705a624493a9924c72abfbc338b49', 'message': 'Correctly define DHCP port numbers for IPv4\n\nThe client and server DHCP port numbers are opposite\nof what they should be according to the IANA definitions.\n\nChange-Id: Iaa74ec5d569a3dee65f7e788394ffe063748bab6\nCloses-bug: #1882588\n'}]",0,734181,d7900610163705a624493a9924c72abfbc338b49,11,4,3,1131,,,0,"Correctly define DHCP port numbers for IPv4

The client and server DHCP port numbers are opposite
of what they should be according to the IANA definitions.

Change-Id: Iaa74ec5d569a3dee65f7e788394ffe063748bab6
Closes-bug: #1882588
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/81/734181/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/constants.py'],1,9607530a99233a736514415217d96c17fb822acf,bug/1882588,DHCP_CLIENT_PORT = 68 DHCP_RESPONSE_PORT = 67,DHCP_CLIENT_PORT = 67 DHCP_RESPONSE_PORT = 68,2,2
openstack%2Fkolla-ansible~stable%2Ftrain~I6eb44ac1967a95fcc9a3305ca70ce416d5d4f384,openstack/kolla-ansible,stable/train,I6eb44ac1967a95fcc9a3305ca70ce416d5d4f384,Make kibana success in a noncontinuous deployment,ABANDONED,2020-05-21 13:29:30.000000000,2020-06-10 08:04:26.000000000,,"[{'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-21 13:29:30.000000000', 'files': ['ansible/roles/kibana/tasks/post_config.yml', 'releasenotes/notes/fix-issue-1875812-453d6d8a7f77e9a4.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8a83770efba5147d10c483deeb4824a9c1551fd6', 'message': 'Make kibana success in a noncontinuous deployment\n\nTry to make kibana work in second try in deploy by skipping the creation\nof `.kibana` index which was already created in the last deploy\n\nChange-Id: I6eb44ac1967a95fcc9a3305ca70ce416d5d4f384\nCloses-Bug: #1875812\n'}]",0,729951,8a83770efba5147d10c483deeb4824a9c1551fd6,4,2,1,27336,,,0,"Make kibana success in a noncontinuous deployment

Try to make kibana work in second try in deploy by skipping the creation
of `.kibana` index which was already created in the last deploy

Change-Id: I6eb44ac1967a95fcc9a3305ca70ce416d5d4f384
Closes-Bug: #1875812
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/729951/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kibana/tasks/post_config.yml', 'releasenotes/notes/fix-issue-1875812-453d6d8a7f77e9a4.yaml']",2,8a83770efba5147d10c483deeb4824a9c1551fd6,train_issue_1875812,--- fixes: - | the upstream elasticsearch have changed their error pattern when kolla-ansible trying to creating a duplicated index in second try. So we should move on. ,,8,2
openstack%2Fkolla-ansible~master~I6eb44ac1967a95fcc9a3305ca70ce416d5d4f384,openstack/kolla-ansible,master,I6eb44ac1967a95fcc9a3305ca70ce416d5d4f384,Make kibana success in a noncontinuous deployment,ABANDONED,2020-04-30 02:51:48.000000000,2020-06-10 08:03:53.000000000,,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27336}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-04-30 02:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b1c747b8340ff6444907683dc944933f3e0c54ad', 'message': 'Try to make kibana work in second try in deploy by skipping the creation\nof `.kibana` index which was already created in the last deploy\n\nChange-Id: I6eb44ac1967a95fcc9a3305ca70ce416d5d4f384\nCloses-Bug: 1875812\n'}, {'number': 2, 'created': '2020-04-30 04:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0dec958cb4465238fe3d65ac153ac20970347007', 'message': 'Try to make kibana work in second try in deploy by skipping the creation\nof `.kibana` index which was already created in the last deploy\n\nChange-Id: I6eb44ac1967a95fcc9a3305ca70ce416d5d4f384\nCloses-Bug: #1875812\n'}, {'number': 3, 'created': '2020-05-07 05:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fab85f3c0c106d0ac8558ff5dce82cc83db39dab', 'message': 'Fix bug 1875812\n\nTry to make kibana work in second try in deploy by skipping the creation\nof `.kibana` index which was already created in the last deploy\n\nChange-Id: I6eb44ac1967a95fcc9a3305ca70ce416d5d4f384\nCloses-Bug: #1875812\n'}, {'number': 4, 'created': '2020-05-07 07:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/590c6c73bd158d547f2de29411c1736838828bc6', 'message': 'Fix bug 1875812\n\nTry to make kibana work in second try in deploy by skipping the creation\nof `.kibana` index which was already created in the last deploy\n\nChange-Id: I6eb44ac1967a95fcc9a3305ca70ce416d5d4f384\nCloses-Bug: #1875812\n'}, {'number': 5, 'created': '2020-05-07 07:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d84237c8d216ebaf09e6527b27d55d592364dcce', 'message': 'Fix bug 1875812\n\nTry to make kibana work in second try in deploy by skipping the creation\nof `.kibana` index which was already created in the last deploy\n\nChange-Id: I6eb44ac1967a95fcc9a3305ca70ce416d5d4f384\nCloses-Bug: #1875812\n'}, {'number': 6, 'created': '2020-05-07 07:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/31e2322490e238b34fa99b96670ff62ff312b30b', 'message': 'Fix bug 1875812\n\nTry to make kibana work in second try in deploy by skipping the creation\nof `.kibana` index which was already created in the last deploy\n\nChange-Id: I6eb44ac1967a95fcc9a3305ca70ce416d5d4f384\nCloses-Bug: #1875812\n'}, {'number': 7, 'created': '2020-05-12 02:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/05957289d19fcd2caa6cb5a592ac4437ca37fd78', 'message': 'Make kibana success in a noncontinuous deployment\n\nTry to make kibana work in second try in deploy by skipping the creation\nof `.kibana` index which was already created in the last deploy\n\nChange-Id: I6eb44ac1967a95fcc9a3305ca70ce416d5d4f384\nCloses-Bug: #1875812\n'}, {'number': 8, 'created': '2020-05-17 02:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2be34fe6bcacaa239cf59a60727577f96132f4c6', 'message': 'Make kibana success in a noncontinuous deployment\n\nTry to make kibana work in second try in deploy by skipping the creation\nof `.kibana` index which was already created in the last deploy\n\nChange-Id: I6eb44ac1967a95fcc9a3305ca70ce416d5d4f384\nCloses-Bug: #1875812\n'}, {'number': 9, 'created': '2020-05-20 07:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9975e8c4e91560d1102b145394b034a29f58346c', 'message': 'Make kibana success in a noncontinuous deployment\n\nTry to make kibana work in second try in deploy by skipping the creation\nof `.kibana` index which was already created in the last deploy\n\nChange-Id: I6eb44ac1967a95fcc9a3305ca70ce416d5d4f384\nCloses-Bug: #1875812\n'}, {'number': 10, 'created': '2020-05-20 09:03:47.000000000', 'files': ['ansible/roles/kibana/tasks/post_config.yml', 'releasenotes/notes/fix-issue-1875812-453d6d8a7f77e9a4.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0ae8fc3be88b40e3e7cae484897945cba5618ab2', 'message': 'Make kibana success in a noncontinuous deployment\n\nTry to make kibana work in second try in deploy by skipping the creation\nof `.kibana` index which was already created in the last deploy\n\nChange-Id: I6eb44ac1967a95fcc9a3305ca70ce416d5d4f384\nCloses-Bug: #1875812\n'}]",11,724460,0ae8fc3be88b40e3e7cae484897945cba5618ab2,34,5,10,27336,,,0,"Make kibana success in a noncontinuous deployment

Try to make kibana work in second try in deploy by skipping the creation
of `.kibana` index which was already created in the last deploy

Change-Id: I6eb44ac1967a95fcc9a3305ca70ce416d5d4f384
Closes-Bug: #1875812
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/724460/10 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kibana/tasks/post_config.yml'],1,b1c747b8340ff6444907683dc944933f3e0c54ad,issue_1875812,"- name: Check kibana index in elasticsearch become: true kolla_toolbox: module_name: uri module_args: url: ""{{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ elasticsearch_port }}/.kibana"" method: HEAD status_code: 200 validate_certs: ""no"" register: kibana_index_status when: kibana_index_status.status == 404"," # Format: {""json"": {""error"": {""type"": ""index_already_exists_exception""}}} - result.get('json', {}).get('error', {}).get('type') != 'index_already_exists_exception'",12,2
openstack%2Fneutron~master~Ib29e2fefe74932d9cdae2bc509b135071863bfea,openstack/neutron,master,Ib29e2fefe74932d9cdae2bc509b135071863bfea,[OVN] List a few missing feature parity gaps,MERGED,2020-06-08 10:04:27.000000000,2020-06-10 07:36:06.000000000,2020-06-10 07:33:33.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-08 10:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1272bc81b2070e0247c5c0deec52eaf5cb7fefa3', 'message': '[OVN] List a few missing feature parity gaps\n\nWhat the first line of the commit says :-)\n\nChange-Id: Ib29e2fefe74932d9cdae2bc509b135071863bfea\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-06-08 12:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7de5d4cba41b0c26c21ba6194b84dd734bf47ff', 'message': '[OVN] List a few missing feature parity gaps\n\nWhat the first line of the commit says :-)\n\nChange-Id: Ib29e2fefe74932d9cdae2bc509b135071863bfea\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2020-06-09 08:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a662cd317883d7d4dd5e6e584265a8077a505763', 'message': '[OVN] List a few missing feature parity gaps\n\nWhat the first line of the commit says :-)\n\nChange-Id: Ib29e2fefe74932d9cdae2bc509b135071863bfea\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2020-06-09 09:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a7e3e9b35e3aebdfc9949c9895621096bf77913', 'message': '[OVN] List a few missing feature parity gaps\n\nWhat the first line of the commit says :-)\n\nChange-Id: Ib29e2fefe74932d9cdae2bc509b135071863bfea\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2020-06-09 19:12:25.000000000', 'files': ['doc/source/ovn/gaps.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0daa49d6e15317b649991f1232495a9ed8308b3', 'message': '[OVN] List a few missing feature parity gaps\n\nWhat the first line of the commit says :-)\n\nChange-Id: Ib29e2fefe74932d9cdae2bc509b135071863bfea\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",20,734056,d0daa49d6e15317b649991f1232495a9ed8308b3,38,10,5,6773,,,0,"[OVN] List a few missing feature parity gaps

What the first line of the commit says :-)

Change-Id: Ib29e2fefe74932d9cdae2bc509b135071863bfea
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/734056/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/ovn/gaps.rst'],1,1272bc81b2070e0247c5c0deec52eaf5cb7fefa3,ovn-gaps,"* Baremetal provisioning with iPXE The core OVN DHCP server implementation does not have support for sending different boot options based on the ``gpxe`` DHCP Option (no. 175). Also, Ironic uses dnsmasq syntax when configuring the DHCP options for Neutron [6]_ which is not understood by the OVN driver. * Availability Zones Availability zones are used to make network resources highly available by grouping nodes in separated zones which resources will be scheduled to. Neutron supports two types of availability zones: Network (DHCP agent) and router (L3 agent). The OVN driver needs to add support for those and take in consideration the availability zones when scheduling resources, for example: Scheduling router ports on nodes matching the router's availability zones hints [7]_. * Routed provider networks Routed provider network allows for a single provider network to represent multiple L2 domains (segments). The OVN driver does not understand this feature yet and end up allocating all ports to the same OVN Logical Switch (a network in Neutron terms) [8]_. .. [6] https://github.com/openstack/ironic/blob/123cb22c731f93d0c608d791b41e05884fe18c04/ironic/common/pxe_utils.py#L447-L462> .. [7] https://docs.openstack.org/neutron/latest/admin/config-az.html .. [8] https://bugs.launchpad.net/neutron/+bug/1865889",,28,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57,openstack/tripleo-heat-templates,stable/ussuri,Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57,Check transfer data flag to skip pacemaker normal upgrade.,MERGED,2020-06-02 18:14:40.000000000,2020-06-10 07:17:30.000000000,2020-06-10 07:17:30.000000000,"[{'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-06-02 18:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0a76d1577a7f4e46e95f0a627c0b2042c3ce00b8', 'message': 'Check transfer data flag to skip pacemaker normal upgrade.\n\nWhen the operating system upgrade is performed a\ntransfer data step must be executed (to allow the\ndb import once the operating system upgrades). During\nthis step the pacemaker cluster is stopped, so we can\ncreate a new cluster with the newly OS upgraded node.\nTherefore, as the pacemaker cluster is down we need\nto skip some of the tasks which would be executed\nduring a normal upgrade (check pcs status, stop pcs and\nstart pcs) from the upgrade_tasks.\n\nThis patch removes the use of UpgradeLeappEnabled heat\nparameter to identify this and uses the existence of\nthe flag file created during the transfer_data to skip\nthe normal pacemaker upgrade tasks.\n\nChange-Id: Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57\n'}, {'number': 2, 'created': '2020-06-02 18:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d82f01fbd630d9bca7b92f64c30000159fed7e52', 'message': 'Check transfer data flag to skip pacemaker normal upgrade.\n\nWhen the operating system upgrade is performed a\ntransfer data step must be executed (to allow the\ndb import once the operating system upgrades). During\nthis step the pacemaker cluster is stopped, so we can\ncreate a new cluster with the newly OS upgraded node.\nTherefore, as the pacemaker cluster is down we need\nto skip some of the tasks which would be executed\nduring a normal upgrade (check pcs status, stop pcs and\nstart pcs) from the upgrade_tasks.\n\nThis patch removes the use of UpgradeLeappEnabled heat\nparameter to identify this and uses the existence of\nthe flag file created during the transfer_data to skip\nthe normal pacemaker upgrade tasks.\n\nChange-Id: Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57\n(cherry picked from commit 5845c0a72aa68eb2dbbbdbd42fc1a6406aa92100)\n'}, {'number': 3, 'created': '2020-06-03 14:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/45d53d207689c9c82a141fc6e6581360f350667d', 'message': 'Check transfer data flag to skip pacemaker normal upgrade.\n\nWhen the operating system upgrade is performed a\ntransfer data step must be executed (to allow the\ndb import once the operating system upgrades). During\nthis step the pacemaker cluster is stopped, so we can\ncreate a new cluster with the newly OS upgraded node.\nTherefore, as the pacemaker cluster is down we need\nto skip some of the tasks which would be executed\nduring a normal upgrade (check pcs status, stop pcs and\nstart pcs) from the upgrade_tasks.\n\nThis patch removes the use of UpgradeLeappEnabled heat\nparameter to identify this and uses the existence of\nthe flag file created during the transfer_data to skip\nthe normal pacemaker upgrade tasks by setting a new\nfact, cluster_recreate, if this file exists.\n\nChange-Id: Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57\n(cherry picked from commit 5845c0a72aa68eb2dbbbdbd42fc1a6406aa92100)\n'}, {'number': 4, 'created': '2020-06-03 18:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eabbb867132cfa263baf15919e54e336c7ae9469', 'message': 'Check transfer data flag to skip pacemaker normal upgrade.\n\nWhen the operating system upgrade is performed a\ntransfer data step must be executed (to allow the\ndb import once the operating system upgrades). During\nthis step the pacemaker cluster is stopped, so we can\ncreate a new cluster with the newly OS upgraded node.\nTherefore, as the pacemaker cluster is down we need\nto skip some of the tasks which would be executed\nduring a normal upgrade (check pcs status, stop pcs and\nstart pcs) from the upgrade_tasks.\n\nThis patch removes the use of UpgradeLeappEnabled heat\nparameter to identify this and uses the existence of\nthe flag file created during the transfer_data to skip\nthe normal pacemaker upgrade tasks by setting a new\nfact, cluster_recreate, if this file exists.\n\nChange-Id: Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57\n(cherry picked from commit 5845c0a72aa68eb2dbbbdbd42fc1a6406aa92100)\n'}, {'number': 5, 'created': '2020-06-04 08:59:48.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ee2f7418824226b7c96a72e5804bfd49250da90', 'message': 'Check transfer data flag to skip pacemaker normal upgrade.\n\nWhen the operating system upgrade is performed a\ntransfer data step must be executed (to allow the\ndb import once the operating system upgrades). During\nthis step the pacemaker cluster is stopped, so we can\ncreate a new cluster with the newly OS upgraded node.\nTherefore, as the pacemaker cluster is down we need\nto skip some of the tasks which would be executed\nduring a normal upgrade (check pcs status, stop pcs and\nstart pcs) from the upgrade_tasks.\n\nThis patch removes the use of UpgradeLeappEnabled heat\nparameter to identify this and uses the existence of\nthe flag file created during the transfer_data to skip\nthe normal pacemaker upgrade tasks by setting a new\nfact, cluster_recreate, if this file exists.\n\nChange-Id: Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57\n(cherry picked from commit 5845c0a72aa68eb2dbbbdbd42fc1a6406aa92100)\n'}]",1,732844,9ee2f7418824226b7c96a72e5804bfd49250da90,27,7,5,11090,,,0,"Check transfer data flag to skip pacemaker normal upgrade.

When the operating system upgrade is performed a
transfer data step must be executed (to allow the
db import once the operating system upgrades). During
this step the pacemaker cluster is stopped, so we can
create a new cluster with the newly OS upgraded node.
Therefore, as the pacemaker cluster is down we need
to skip some of the tasks which would be executed
during a normal upgrade (check pcs status, stop pcs and
start pcs) from the upgrade_tasks.

This patch removes the use of UpgradeLeappEnabled heat
parameter to identify this and uses the existence of
the flag file created during the transfer_data to skip
the normal pacemaker upgrade tasks by setting a new
fact, cluster_recreate, if this file exists.

Change-Id: Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57
(cherry picked from commit 5845c0a72aa68eb2dbbbdbd42fc1a6406aa92100)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/732844/5 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,0a76d1577a7f4e46e95f0a627c0b2042c3ce00b8,ffwd-upgrade2-stable/ussuri," # If performing an upgrade which requires operating system upgrading # a transfer data step needs to be run. During this step, the whole # pacemaker cluster is stopped so we can't check the cluster status. # Once the transfer_data step is executed, a flag file is stored. # This code checks the existence of this file to know if we should # avoid doing a normal pacemaker upgrade or not. As with the # operating system upgrade a new cluster will be created in which # the other nodes will be added. - name: check flag file existence in destination host stat: path: ""/var/lib/tripleo/transfer-flags/var-lib-mysql"" register: tripleo_transfer_flag_stat become: true delegate_to: ""{{ mysql_short_bootstrap_node_name }}"" - name: Set fact cluster_recreate set_fact: cluster_recreate: ""{{ tripleo_transfer_flag_stat.stat.exists|bool }}"" when: not cluster_recreate|bool when: not cluster_recreate|bool when: not cluster_recreate|bool"," UpgradeLeappEnabled: description: Use Leapp for operating system upgrade type: boolean default: false - name: Gather missing facts setup: gather_subset: ""distribution"" when: >- ansible_facts['distribution'] is not defined or ansible_facts['distribution_major_version'] is not defined tags: - always - name: Set fact upgrade_leapp_enabled set_fact: upgrade_leapp_enabled: >- {{ _upgradeLeappEnabled | bool and ansible_facts['distribution'] == 'RedHat' and ansible_facts['distribution_major_version'] is version('7', '==') }} vars: _upgradeLeappEnabled: {get_param: UpgradeLeappEnabled} tags: - always when: not upgrade_leapp_enabled|bool when: not upgrade_leapp_enabled when: not upgrade_leapp_enabled",19,24
openstack%2Fdevstack-tools~master~I235cf10f6a619fa6c41e688a17337385a1034aa2,openstack/devstack-tools,master,I235cf10f6a619fa6c41e688a17337385a1034aa2,Cleanup py27 support,MERGED,2020-05-19 09:07:41.000000000,2020-06-10 06:56:48.000000000,2020-06-10 06:53:05.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-19 09:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/e626d79d5d06d9b7396b771c2e41c2ba86fa640a', 'message': ""Cleanup py27 support\n\nThis repo is now testing only with Python 3, so let's make\na few cleanups:\n- Remove python 2.7 stanza from setup.py\n- Remove obsolete sections from setup.cfg\n- Update classifiers\n- Update requirements, no need for python_version anymore\n- Remove install_command from tox.ini, the default is fine\n- Remove babel.cfg, it's not needed anymore.\n- Use TOX_CONSTRAINTS_FILE, UPPER_CONSTRAINTS_FILE is obsolete\n\nChange-Id: I235cf10f6a619fa6c41e688a17337385a1034aa2\n""}, {'number': 2, 'created': '2020-05-19 11:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/a969ff8051144ef905f916e0af6c041bcf7525a1', 'message': ""Cleanup py27 support\n\nThis repo is now testing only with Python 3, so let's make\na few cleanups:\n- Remove python 2.7 stanza from setup.py\n- Remove obsolete sections from setup.cfg\n- Update classifiers\n- Update requirements, no need for python_version anymore\n- Remove install_command from tox.ini, the default is fine\n- Remove babel.cfg, it's not needed anymore.\n- Use TOX_CONSTRAINTS_FILE, UPPER_CONSTRAINTS_FILE is obsolete\n\nChange-Id: I235cf10f6a619fa6c41e688a17337385a1034aa2\n""}, {'number': 3, 'created': '2020-05-31 14:47:08.000000000', 'files': ['babel.cfg', 'setup.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/fb7843ec5a0f006139376218564785e0e5391f1f', 'message': ""Cleanup py27 support\n\nThis repo is now testing only with Python 3, so let's make\na few cleanups:\n- Remove python 2.7 stanza from setup.py\n- Remove obsolete sections from setup.cfg\n- Update classifiers\n- Remove install_command from tox.ini, the default is fine\n- Remove babel.cfg, it's not needed anymore.\n- Use TOX_CONSTRAINTS_FILE, UPPER_CONSTRAINTS_FILE is obsolete\n\nChange-Id: I235cf10f6a619fa6c41e688a17337385a1034aa2\n""}]",0,729183,fb7843ec5a0f006139376218564785e0e5391f1f,13,4,3,6547,,,0,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py
- Remove obsolete sections from setup.cfg
- Update classifiers
- Remove install_command from tox.ini, the default is fine
- Remove babel.cfg, it's not needed anymore.
- Use TOX_CONSTRAINTS_FILE, UPPER_CONSTRAINTS_FILE is obsolete

Change-Id: I235cf10f6a619fa6c41e688a17337385a1034aa2
",git fetch https://review.opendev.org/openstack/devstack-tools refs/changes/83/729183/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'babel.cfg', 'setup.py', 'setup.cfg', 'tox.ini']",5,e626d79d5d06d9b7396b771c2e41c2ba86fa640a,cleanup-py27-support,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/test-requirements.txt -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = {[testenv:docs]docs},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages}deps = -r{toxinidir}/test-requirements.txt -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},8,46
openstack%2Fneutron~master~I62765a14d376664ccc2ca3009bb9e970c9f25c03,openstack/neutron,master,I62765a14d376664ccc2ca3009bb9e970c9f25c03,[OVN] Override notify_nova config in neutron-ovn-db-sync-util,MERGED,2020-06-04 08:40:04.000000000,2020-06-10 06:55:44.000000000,2020-06-05 20:52:27.000000000,"[{'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13686}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-04 08:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2ff4ccd2cb99784be41daaa0d5292dee75e3029', 'message': ""[OVN] Override notify_nova config in neutron-ovn-db-sync-util\n\nIf either ``notify_nova_on_port_status_changes`` or\n``notify_nova_on_port_data_changes`` is set in the neutron\nconfiguration provided to the ``neutron-ovn-db-sync-util`` tool it\nwill stop with a Traceback.\n\nWe are already overriding other parts of the ML2 Notification code\nas we do not want it executing while syncing, so let's override\nthese configuration options if set as well.\n\nChange-Id: I62765a14d376664ccc2ca3009bb9e970c9f25c03\nCloses-Bug: #1882020\n""}, {'number': 2, 'created': '2020-06-04 12:12:50.000000000', 'files': ['neutron/tests/unit/cmd/ovn/__init__.py', 'neutron/tests/unit/cmd/ovn/test_neutron_ovn_db_sync_util.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/559ae06bdf1f11ca861234a92434771a26ec27d8', 'message': ""[OVN] Override notify_nova config in neutron-ovn-db-sync-util\n\nIf either ``notify_nova_on_port_status_changes`` or\n``notify_nova_on_port_data_changes`` is set in the neutron\nconfiguration provided to the ``neutron-ovn-db-sync-util`` tool it\nwill stop with a Traceback.\n\nWe are already overriding other parts of the ML2 Notification code\nas we do not want it executing while syncing, so let's override\nthese configuration options if set as well.\n\nChange-Id: I62765a14d376664ccc2ca3009bb9e970c9f25c03\nCloses-Bug: #1882020\n""}]",2,733481,559ae06bdf1f11ca861234a92434771a26ec27d8,26,7,2,13686,,,0,"[OVN] Override notify_nova config in neutron-ovn-db-sync-util

If either ``notify_nova_on_port_status_changes`` or
``notify_nova_on_port_data_changes`` is set in the neutron
configuration provided to the ``neutron-ovn-db-sync-util`` tool it
will stop with a Traceback.

We are already overriding other parts of the ML2 Notification code
as we do not want it executing while syncing, so let's override
these configuration options if set as well.

Change-Id: I62765a14d376664ccc2ca3009bb9e970c9f25c03
Closes-Bug: #1882020
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/733481/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/cmd/ovn/__init__.py', 'neutron/tests/unit/cmd/ovn/test_neutron_ovn_db_sync_util.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py']",3,c2ff4ccd2cb99784be41daaa0d5292dee75e3029,bug/1882020," # Override Nova notify configuration LP: #1882020 cfg.CONF.set_override('notify_nova_on_port_status_changes', False) cfg.CONF.set_override('notify_nova_on_port_data_changes', False)",,36,0
openstack%2Ftripleo-common~master~If667a16757ffc67cd5c1fce5661257547f811364,openstack/tripleo-common,master,If667a16757ffc67cd5c1fce5661257547f811364,Remove tripleoclient container,MERGED,2020-05-04 17:33:11.000000000,2020-06-10 06:53:40.000000000,2020-06-10 00:08:47.000000000,"[{'_account_id': 167}, {'_account_id': 360}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 11090}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-04 17:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8628026f5a9eab5ad7dc73a1f54ea298f9e063cd', 'message': ""Remove tripleoclient container\n\nThis was never used nor helpful, let's just remove it.\n\nChange-Id: If667a16757ffc67cd5c1fce5661257547f811364\n""}, {'number': 2, 'created': '2020-05-28 20:38:51.000000000', 'files': ['container-images/overcloud_containers.yaml', 'container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4e23fd936cab8dad3639762cefbbc73c86c18acb', 'message': ""Remove tripleoclient container\n\nThis was never used nor helpful, let's just remove it.\n\nChange-Id: If667a16757ffc67cd5c1fce5661257547f811364\n""}]",0,725349,4e23fd936cab8dad3639762cefbbc73c86c18acb,59,11,2,3153,,,0,"Remove tripleoclient container

This was never used nor helpful, let's just remove it.

Change-Id: If667a16757ffc67cd5c1fce5661257547f811364
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/49/725349/2 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/overcloud_containers.yaml', 'container-images/overcloud_containers.yaml.j2']",2,8628026f5a9eab5ad7dc73a1f54ea298f9e063cd,tripleocl,,"# NOTE: the TripleoClient service will likely be just a stub to allow # us to obtain this container via the prepare commands. - imagename: ""{{namespace}}/{{name_prefix}}tripleoclient{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerTripleoclientImage services: - OS::TripleO::Services::TripleoClient ",0,11
openstack%2Fproject-config~master~I9d728ec43b71626fc21d719067b155803ea86eed,openstack/project-config,master,I9d728ec43b71626fc21d719067b155803ea86eed,"Revert ""Wheel publish jobs: include system-config roles""",MERGED,2020-06-10 03:40:22.000000000,2020-06-10 05:26:23.000000000,2020-06-10 05:26:23.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 03:40:22.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7fc1d3f88070301c0710910d7646cfab2e5b7481', 'message': 'Revert ""Wheel publish jobs: include system-config roles""\n\nThis reverts commit 42755a081994fd8e27558aa3c371c3b130de186d.\n\nIt turns out that because this is done in a pre-run job, the role\ninclude needs to be on the parent.  See\nI9e5c0d128e5669e5354c5568bdbc00a3aa27e95b.\n\nChange-Id: I9d728ec43b71626fc21d719067b155803ea86eed\n'}]",0,734739,7fc1d3f88070301c0710910d7646cfab2e5b7481,6,2,1,7118,,,0,"Revert ""Wheel publish jobs: include system-config roles""

This reverts commit 42755a081994fd8e27558aa3c371c3b130de186d.

It turns out that because this is done in a pre-run job, the role
include needs to be on the parent.  See
I9e5c0d128e5669e5354c5568bdbc00a3aa27e95b.

Change-Id: I9d728ec43b71626fc21d719067b155803ea86eed
",git fetch https://review.opendev.org/openstack/project-config refs/changes/39/734739/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,7fc1d3f88070301c0710910d7646cfab2e5b7481,wheel-release-soft,, roles: - zuul: opendev/system-config roles: - zuul: opendev/system-config roles: - zuul: opendev/system-config roles: - zuul: opendev/system-config roles: - zuul: opendev/system-config roles: - zuul: opendev/system-config roles: - zuul: opendev/system-config roles: - zuul: opendev/system-config roles: - zuul: opendev/system-config roles: - zuul: opendev/system-config roles: - zuul: opendev/system-config,0,22
openstack%2Foslo.messaging~stable%2Fussuri~I5ca930cada523bc77c644703a0f02b9160816231,openstack/oslo.messaging,stable/ussuri,I5ca930cada523bc77c644703a0f02b9160816231,Print warning message when connection running out,MERGED,2020-05-29 14:07:15.000000000,2020-06-10 04:26:31.000000000,2020-06-04 14:41:36.000000000,"[{'_account_id': 8770}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-29 14:07:15.000000000', 'files': ['oslo_messaging/_drivers/pool.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/39f770f55b3331b7a99b3ea42a34982a20635cf2', 'message': ""Print warning message when connection running out\n\nI believe when connection pool running out of available\nresources, there will be all kinds of weird consequences\nfollowing. So let's print warning logs when we are going\nto waiting indefinitely for the lock\n\nChange-Id: I5ca930cada523bc77c644703a0f02b9160816231\nRelated-bug: #1871813\n(cherry picked from commit 96300a32213d1a9bf114b90bef6971d69b839d1d)\n""}]",0,731761,39f770f55b3331b7a99b3ea42a34982a20635cf2,9,3,1,29071,,,0,"Print warning message when connection running out

I believe when connection pool running out of available
resources, there will be all kinds of weird consequences
following. So let's print warning logs when we are going
to waiting indefinitely for the lock

Change-Id: I5ca930cada523bc77c644703a0f02b9160816231
Related-bug: #1871813
(cherry picked from commit 96300a32213d1a9bf114b90bef6971d69b839d1d)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/61/731761/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/pool.py'],1,39f770f55b3331b7a99b3ea42a34982a20635cf2,bug/1871813-stable/ussuri," LOG.warning(""Connection pool limit exceeded: "" ""current size %s surpasses max "" ""configured rpc_conn_pool_size %s"", self._current_size, self._max_size)",,4,0
openstack%2Fopenstack-zuul-jobs~master~I9e5c0d128e5669e5354c5568bdbc00a3aa27e95b,openstack/openstack-zuul-jobs,master,I9e5c0d128e5669e5354c5568bdbc00a3aa27e95b,Wheel build jobs: include system-config roles,MERGED,2020-06-10 01:24:56.000000000,2020-06-10 04:17:28.000000000,2020-06-10 03:13:11.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 01:24:56.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/7f0458d4b2bf8e053414fc4eb476c0a0b349b94f', 'message': 'Wheel build jobs: include system-config roles\n\nAs the zuul manual says\n\n  If a child job inherits from a parent which defines a pre and post\n  playbook, then the pre and post playbooks it inherits from the\n  parent job will run only with the roles that were defined on the\n  parent.\n\nThis is to stop role inheritance altering the parent job.  So include\nthe system-config roles here.\n\nChange-Id: I9e5c0d128e5669e5354c5568bdbc00a3aa27e95b\n'}]",0,734728,7f0458d4b2bf8e053414fc4eb476c0a0b349b94f,8,2,1,7118,,,0,"Wheel build jobs: include system-config roles

As the zuul manual says

  If a child job inherits from a parent which defines a pre and post
  playbook, then the pre and post playbooks it inherits from the
  parent job will run only with the roles that were defined on the
  parent.

This is to stop role inheritance altering the parent job.  So include
the system-config roles here.

Change-Id: I9e5c0d128e5669e5354c5568bdbc00a3aa27e95b
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/28/734728/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,7f0458d4b2bf8e053414fc4eb476c0a0b349b94f,wheel-jobs-sysconfig-roles," # The publish jobs use kerberos/openafs roles in pre/post # playbooks, so this needs to be included here in the parent. roles: - zuul: opendev/system-config",,4,0
openstack%2Fswift~master~Idf7f4ddc947abbc581688e47ded0b68ff0876552,openstack/swift,master,Idf7f4ddc947abbc581688e47ded0b68ff0876552,wip: watcher ideas,ABANDONED,2020-06-01 19:40:48.000000000,2020-06-10 04:11:06.000000000,,"[{'_account_id': 597}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-01 19:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cbda376158282593037a104cee6102ce41c04be3', 'message': 'wip: watcher ideas\n\nChange-Id: Idf7f4ddc947abbc581688e47ded0b68ff0876552\n'}, {'number': 2, 'created': '2020-06-01 20:32:49.000000000', 'files': ['test/probe/common.py', 'test/unit/obj/test_auditor.py', 'swift/obj/auditor.py', 'swift/obj/audit_dark_data.py', 'test/probe/test_sharder.py', 'test/probe/test_dark_data.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e2d99f88d1129d228324de282974f099d9205c59', 'message': 'wip: watcher ideas\n\nChange-Id: Idf7f4ddc947abbc581688e47ded0b68ff0876552\n'}]",4,732441,e2d99f88d1129d228324de282974f099d9205c59,5,2,2,15343,,,0,"wip: watcher ideas

Change-Id: Idf7f4ddc947abbc581688e47ded0b68ff0876552
",git fetch https://review.opendev.org/openstack/swift refs/changes/41/732441/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/common.py', 'swift/obj/auditor.py', 'swift/obj/audit_dark_data.py', 'test/probe/test_sharder.py', 'test/probe/test_dark_data.py']",5,cbda376158282593037a104cee6102ce41c04be3,auditor_212824_alt,"import collectionsfrom swift.common.storage_policy import get_policy_stringfrom swift.common.manager import Manager, Server from swift.common.utils import readconf, list_from_csv class TestDarkDataWatcher(ReplProbeTest): watcher_configs = set() for conf_file in Server('object-auditor').conf_files(): config = readconf(conf_file).get('object-auditor', {}) watcher_configs.add(config.get('watchers', '')) if len(watcher_configs) > 1: self.skipTest('Multiple watcher configurations across nodes') watchers = list_from_csv(watcher_configs.pop()) print(watchers) if not {'egg:swift#dark_data_watcher', 'swift#dark_data_watcher', 'dark_data_watcher'}.intersection(watchers): self.skipTest('Dark data watcher is not configured') super(TestDarkDataWatcher, self).setUp() def gather_object_files_by_ext(self): result = collections.defaultdict(set) for node in self.brain.nodes: for path, _, files in os.walk(os.path.join( self.device_dir('object', node), get_policy_string('objects', self.policy))): for file in files: if file in ('.lock', 'hashes.pkl', 'hashes.invalid'): continue _, ext = os.path.splitext(file) result[ext].add(os.path.join(path, file)) return result self.brain.put_object() self.brain.stop_handoff_half() self.brain.delete_object() Manager(['object-updater']).once() Manager(['container-replicator']).once() # Sanity check: # * all containers are empty # * primaries that are still up have two .ts files # * primary that's down has one .data file for index, (headers, items) in self.direct_get_container( container=self.container_name).items(): self.assertEqual(headers['X-Container-Object-Count'], '0') self.assertEqual(items, []) files = self.gather_object_files_by_ext() self.assertLengthEqual(files, 2) self.assertLengthEqual(files['.ts'], 2) self.assertLengthEqual(files['.data'], 1) # Simulate a reclaim_age passing, so the tombstones all got cleaned up for file_path in files['.ts']: os.unlink(file_path) # Old node gets reintroduced to the cluster self.brain.start_handoff_half() # ...so replication thinks its got some work to do Manager(['object-replicator']).once() # Now we're back to *three* .data files files = self.gather_object_files_by_ext() self.assertLengthEqual(files, 1) self.assertLengthEqual(files['.data'], 3) # But that's OK, audit watchers to the rescue! Manager(['object-auditor']).once() # Verify that the policy was applied self.fail()","import io# TODO remove undesired imports from swift.common import utils # from swift.common.direct_client import direct_get_suffix_hashes # from swift.common.exceptions import DiskFileDeleted # from swift.common.internal_client import UnexpectedResponse from swift.common.ring import Ring from swift.common.storage_policy import POLICIES from swift.container.backend import ContainerBroker from swift.obj.diskfile import DiskFileManagerfrom sqlite3 import connect from swiftclient import client from swift.common.manager import Manager from swift.common.utils import readconf class Test(ReplProbeTest): super(Test, self).setUp() self.container_brain = BrainSplitter(self.url, self.token, self.container_name) self.int_client = self.make_internal_client() def _get_object_info(self, account, container, obj, number): obj_conf = self.configs['object-server'] config_path = obj_conf[number] options = utils.readconf(config_path, 'app:object-server') swift_dir = options.get('swift_dir', '/etc/swift') ring = POLICIES.get_object_ring(int(self.policy), swift_dir) part, nodes = ring.get_nodes(account, container, obj) for node in nodes: # assumes one to one mapping if node['port'] == int(options.get('bind_port')): device = node['device'] break else: return None mgr = DiskFileManager(options, utils.get_logger(options)) disk_file = mgr.get_diskfile(device, part, account, container, obj, self.policy) info = disk_file.read_metadata() return info def _update_object_table(self, account, container): server_type = 'container' obj_conf = self.configs['%s-server' % server_type] config_path = obj_conf[1] # TODO no magic num options = utils.readconf(config_path, 'app:container-server') root = options.get('devices') swift_dir = options.get('swift_dir', '/etc/swift') ring = Ring(swift_dir, ring_name=server_type) part, nodes = ring.get_nodes(account, container) for node in nodes: # assumes one to one mapping if node['port'] == int(options.get('bind_port')): device = node['device'] break else: return None path_hash = utils.hash_path(account, container) _dir = utils.storage_directory('%ss' % server_type, part, path_hash) db_dir = os.path.join(root, device, _dir) db_file = os.path.join(db_dir, '%s.db' % path_hash) db_conn = connect(db_file) cur = db_conn.cursor() # TODO add try catch # to avoid verifications imposed by .schema for object table cur.execute('DROP TRIGGER object_insert_policy_stat') from nose.tools import set_trace; set_trace() # add dark data object record sqlite_insert_query = """"""INSERT INTO object (ROWID, name, created_at, size, content_type, etag) VALUES (""1"", ""foo"", ""10-10-2020"", ""3"", ""raw"", ""foo"")"""""" cur.execute(sqlite_insert_query); # cur.execute('UPDATE container_stat SET reported_object_count = 0') cur.close() db_conn.commit() # commit the change # db = ContainerBroker(db_file) def _update_container_db(self): self._update_object_table(self.account, self.container_name) def _assert_object_metadata_matches_listing(self, listing, metadata): self.assertEqual(listing['bytes'], int(metadata['content-length'])) self.assertEqual(listing['hash'], metadata['etag']) self.assertEqual(listing['content_type'], metadata['content-type']) modified = utils.Timestamp(metadata['x-timestamp']).isoformat self.assertEqual(listing['last_modified'], modified) def _put_object(self, headers=None, body=b'stuff'): headers = headers or {} self.int_client.upload_object(io.BytesIO(body), self.account, self.container_name, self.object_name, headers) def _get_object(self, headers=None, expect_statuses=(2,)): return self.int_client.get_object(self.account, self.container_name, self.object_name, headers, acceptable_statuses=expect_statuses) def _get_object_metadata(self): return self.int_client.get_object_metadata(self.account, self.container_name, self.object_name) self._put_object(headers={'Content-Type': 'new', 'X-Object-Sysmeta-Test': 'new', 'X-Object-Meta-Test': 'new'}) metadata = self._get_object_metadata() self.assertEqual(metadata['x-object-meta-test'], 'new') self.assertEqual(metadata['content-type'], 'new') # check container listing metadata container_metadata, objs = client.get_container(self.url, self.token, self.container_name) for obj in objs: if obj['name'] == self.object_name: break self.assertEqual(obj['content_type'], 'new') self._assert_object_metadata_matches_listing(obj, metadata) self._update_container_db() # update configuration to enable dark_data_watcher ''' stub_config = """""" [object-replicator] [object-auditor] reclaim_age = 60 """""" with open(config_path, 'w') as f: f.write(textwrap.dedent(stub_config)) conf = readconf(config_path, 'object-auditor') for node_id in range(1, 4): conf = readconf(self.configs['object-auditor'][node_id]) device_path = conf['app:object-server']['devices'] for dev in self.object_ring.devs: if dev['port'] == int(conf['app:object-server']['bind_port']): device = dev['device'] path_list.append(os.path.join(device_path, device)) ''' # Start object auditor service # Manager(['object-auditor']) is not working and os.command is not used in probe tests # TODO: check if can be used # os.command(""swift-init start object-auditor"") # And verify that the policy was applied",119,226
openstack%2Fmanila~master~Id9d248857c9a02eca486185d41b1fc22520d0919,openstack/manila,master,Id9d248857c9a02eca486185d41b1fc22520d0919,[Unity]: Failed to enabled ACE for share,MERGED,2020-04-26 12:57:41.000000000,2020-06-10 03:22:19.000000000,2020-06-09 15:52:16.000000000,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 18742}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26114}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-04-26 12:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/179de23d0521635b1529d5ad14d8b90f1997101c', 'message': '[Unity]: Failed to enabled ACE for share\n\nIt is no need to enable ACE when creating CIFS share, so\nremove this process.\n\nChange-Id: Id9d248857c9a02eca486185d41b1fc22520d0919\nCloses-bug: #1841035\n'}, {'number': 2, 'created': '2020-04-27 05:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5f73a17f3d3476588dd9ee9333afeed23c51e9eb', 'message': '[Unity]: Failed to enabled ACE for share\n\nIt is no need to enable ACE when creating CIFS share, so\nremove this process.\n\nChange-Id: Id9d248857c9a02eca486185d41b1fc22520d0919\nCloses-bug: #1841035\n'}, {'number': 3, 'created': '2020-04-27 10:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9d7a322d0128e3d464ab7679976980c62d903c0e', 'message': '[Unity]: Failed to enabled ACE for share\n\nIt is no need to enable ACE when creating CIFS share, so\nremove this process.\n\nChange-Id: Id9d248857c9a02eca486185d41b1fc22520d0919\nCloses-bug: #1841035\n'}, {'number': 4, 'created': '2020-05-25 06:24:59.000000000', 'files': ['releasenotes/notes/1841035-dellemc-unity-fix-ace-enable-error-b00281bb306d176b.yaml', 'manila/share/drivers/dell_emc/plugins/unity/connection.py', 'manila/share/drivers/dell_emc/plugins/unity/client.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/47b90fa8fba882f86491ccc3959dc520271a26bd', 'message': '[Unity]: Failed to enabled ACE for share\n\nIt is no need to enable ACE when creating CIFS share, so\nremove this process.\n\nChange-Id: Id9d248857c9a02eca486185d41b1fc22520d0919\nCloses-bug: #1841035\n'}]",2,723221,47b90fa8fba882f86491ccc3959dc520271a26bd,39,12,4,26114,,,0,"[Unity]: Failed to enabled ACE for share

It is no need to enable ACE when creating CIFS share, so
remove this process.

Change-Id: Id9d248857c9a02eca486185d41b1fc22520d0919
Closes-bug: #1841035
",git fetch https://review.opendev.org/openstack/manila refs/changes/21/723221/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/dell_emc/plugins/unity/connection.py', 'manila/share/drivers/dell_emc/plugins/unity/client.py']",2,179de23d0521635b1529d5ad14d8b90f1997101c,unity_remove_enable_ace_process,, try: # bug on unity: the enable ace API has bug for snap # based share. Log the internal error if it happens. share.enable_ace() except storops_ex.UnityException: msg = ('Failed to enabled ACE for share: {}.') LOG.exception(msg.format(share_name)),2,8
openstack%2Fneutron~master~If38105ceaa48a0520ae8243982b736d0bc99ec3a,openstack/neutron,master,If38105ceaa48a0520ae8243982b736d0bc99ec3a,Bump oslo.log to version 4.2.1,MERGED,2020-06-05 18:53:30.000000000,2020-06-10 03:08:52.000000000,2020-06-10 03:06:53.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-05 18:53:30.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'neutron/services/logapi/drivers/openvswitch/ovs_firewall_log.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4be0baa8cd1e994973adf1d53a9929c855a5d918', 'message': 'Bump oslo.log to version 4.2.1\n\nThere were a couple of versions of oslo.log that were\nnot backwards-compatible. Now that a fixed version was\nreleased, bump lower-constraints to require it and\nremove the temporary workaround.\n\nChange-Id: If38105ceaa48a0520ae8243982b736d0bc99ec3a\nRelated-bug: #1871840\n'}]",0,733910,4be0baa8cd1e994973adf1d53a9929c855a5d918,34,9,1,1131,,,0,"Bump oslo.log to version 4.2.1

There were a couple of versions of oslo.log that were
not backwards-compatible. Now that a fixed version was
released, bump lower-constraints to require it and
remove the temporary workaround.

Change-Id: If38105ceaa48a0520ae8243982b736d0bc99ec3a
Related-bug: #1871840
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/733910/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'neutron/services/logapi/drivers/openvswitch/ovs_firewall_log.py']",3,4be0baa8cd1e994973adf1d53a9929c855a5d918,oslo.log-4.2.1, journal_handler = handlers.OSJournalHandler()," # TODO(haleyb): remove when oslo.log is fixed, related bug #1871840 journal_handler = handlers.OSJournalHandler(facility=None)",3,4
openstack%2Fkolla-ansible~master~I155efc4b1e0691da0aaf6ef19ca709e9dc2d9168,openstack/kolla-ansible,master,I155efc4b1e0691da0aaf6ef19ca709e9dc2d9168,permission denied when enable_kolla_dev_mod,MERGED,2020-06-07 11:36:51.000000000,2020-06-10 02:34:10.000000000,2020-06-10 02:32:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-06-07 11:36:51.000000000', 'files': ['ansible/roles/designate/tasks/clone.yml', 'ansible/roles/mistral/tasks/clone.yml', 'ansible/roles/sahara/tasks/clone.yml', 'ansible/roles/zun/tasks/clone.yml', 'ansible/roles/blazar/tasks/clone.yml', 'ansible/roles/senlin/tasks/clone.yml', 'ansible/roles/manila/tasks/clone.yml', 'ansible/roles/placement/tasks/clone.yml', 'ansible/roles/solum/tasks/clone.yml', 'ansible/roles/murano/tasks/clone.yml', 'ansible/roles/cinder/tasks/clone.yml', 'ansible/roles/cyborg/tasks/clone.yml', 'ansible/roles/masakari/tasks/clone.yml', 'ansible/roles/nova/tasks/clone.yml', 'ansible/roles/ironic/tasks/clone.yml', 'ansible/roles/watcher/tasks/clone.yml', 'ansible/roles/magnum/tasks/clone.yml', 'ansible/roles/tacker/tasks/clone.yml', 'ansible/roles/trove/tasks/clone.yml', 'ansible/roles/neutron/tasks/clone.yml', 'ansible/roles/heat/tasks/clone.yml', 'ansible/roles/horizon/tasks/clone.yml', 'ansible/roles/cloudkitty/tasks/clone.yml', 'ansible/roles/freezer/tasks/clone.yml', 'ansible/roles/vitrage/tasks/clone.yml', 'ansible/roles/glance/tasks/clone.yml', 'ansible/roles/barbican/tasks/clone.yml', 'ansible/roles/nova-cell/tasks/clone.yml', 'ansible/roles/ceilometer/tasks/clone.yml', 'ansible/roles/congress/tasks/clone.yml', 'ansible/roles/keystone/tasks/clone.yml', 'ansible/roles/qinling/tasks/clone.yml', 'ansible/roles/aodh/tasks/clone.yml', 'ansible/roles/kuryr/tasks/clone.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3e9a648601e011efbbc9d929382bf74745e6224d', 'message': 'permission denied when enable_kolla_dev_mod\n\nnon-root user has no permission to create directory under /opt\ndirectory. use ""become: true"" to resolve it.\n\nChange-Id: I155efc4b1e0691da0aaf6ef19ca709e9dc2d9168\n'}]",0,733986,3e9a648601e011efbbc9d929382bf74745e6224d,18,6,1,26285,,,0,"permission denied when enable_kolla_dev_mod

non-root user has no permission to create directory under /opt
directory. use ""become: true"" to resolve it.

Change-Id: I155efc4b1e0691da0aaf6ef19ca709e9dc2d9168
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/86/733986/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/designate/tasks/clone.yml', 'ansible/roles/mistral/tasks/clone.yml', 'ansible/roles/sahara/tasks/clone.yml', 'ansible/roles/zun/tasks/clone.yml', 'ansible/roles/blazar/tasks/clone.yml', 'ansible/roles/senlin/tasks/clone.yml', 'ansible/roles/manila/tasks/clone.yml', 'ansible/roles/placement/tasks/clone.yml', 'ansible/roles/solum/tasks/clone.yml', 'ansible/roles/murano/tasks/clone.yml', 'ansible/roles/cinder/tasks/clone.yml', 'ansible/roles/cyborg/tasks/clone.yml', 'ansible/roles/masakari/tasks/clone.yml', 'ansible/roles/nova/tasks/clone.yml', 'ansible/roles/ironic/tasks/clone.yml', 'ansible/roles/watcher/tasks/clone.yml', 'ansible/roles/magnum/tasks/clone.yml', 'ansible/roles/tacker/tasks/clone.yml', 'ansible/roles/trove/tasks/clone.yml', 'ansible/roles/neutron/tasks/clone.yml', 'ansible/roles/heat/tasks/clone.yml', 'ansible/roles/horizon/tasks/clone.yml', 'ansible/roles/cloudkitty/tasks/clone.yml', 'ansible/roles/freezer/tasks/clone.yml', 'ansible/roles/vitrage/tasks/clone.yml', 'ansible/roles/glance/tasks/clone.yml', 'ansible/roles/barbican/tasks/clone.yml', 'ansible/roles/nova-cell/tasks/clone.yml', 'ansible/roles/ceilometer/tasks/clone.yml', 'ansible/roles/congress/tasks/clone.yml', 'ansible/roles/keystone/tasks/clone.yml', 'ansible/roles/qinling/tasks/clone.yml', 'ansible/roles/aodh/tasks/clone.yml', 'ansible/roles/kuryr/tasks/clone.yml']",34,3e9a648601e011efbbc9d929382bf74745e6224d,fix-bug, become: true become: true,,39,0
openstack%2Fblazar-dashboard~stable%2Fussuri~I71fc293f037c42157ebcb307f2b9efcc65fd282c,openstack/blazar-dashboard,stable/ussuri,I71fc293f037c42157ebcb307f2b9efcc65fd282c,Update .gitreview for stable/ussuri,MERGED,2020-04-22 16:23:22.000000000,2020-06-10 02:32:16.000000000,2020-06-10 02:30:57.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2020-04-22 16:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/bdba932790bfae67e389dd3d36dc9bcc14f5cc4d', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: I71fc293f037c42157ebcb307f2b9efcc65fd282c\n'}, {'number': 2, 'created': '2020-06-09 10:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/db0e680a9b66c050c22b6170840b756bc25cb982', 'message': 'Update .gitreview for stable/ussuri\n\nNOTE(priteau): Also fix docs publishing to unbreak CI\n\nChange-Id: I71fc293f037c42157ebcb307f2b9efcc65fd282c\n'}, {'number': 3, 'created': '2020-06-09 10:03:57.000000000', 'files': ['.gitreview', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/70c77cc76619b6d69eec870522a27685268e6d30', 'message': 'Update .gitreview for stable/ussuri\n\nAlso fix docs publishing to unbreak CI.\n\nChange-Id: I71fc293f037c42157ebcb307f2b9efcc65fd282c\n'}]",0,722067,70c77cc76619b6d69eec870522a27685268e6d30,17,3,3,22816,,,0,"Update .gitreview for stable/ussuri

Also fix docs publishing to unbreak CI.

Change-Id: I71fc293f037c42157ebcb307f2b9efcc65fd282c
",git fetch https://review.opendev.org/openstack/blazar-dashboard refs/changes/67/722067/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,bdba932790bfae67e389dd3d36dc9bcc14f5cc4d,create-ussuri,defaultbranch=stable/ussuri,,1,0
openstack%2Fnova~master~I3dc2a83cf8cd7db026a184bf551c9715cf602218,openstack/nova,master,I3dc2a83cf8cd7db026a184bf551c9715cf602218,Add checks for volume status when rebuilding,ABANDONED,2015-08-27 07:48:20.000000000,2020-06-10 02:02:46.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10224}, {'_account_id': 10385}, {'_account_id': 14025}, {'_account_id': 14101}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15309}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16053}, {'_account_id': 16376}, {'_account_id': 16839}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17106}, {'_account_id': 20566}, {'_account_id': 20683}, {'_account_id': 31960}]","[{'number': 1, 'created': '2015-08-27 07:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65adf17b4210f2fd04c9a30b189e663f1ac4f1c2', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 2, 'created': '2015-08-27 09:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a54bcc65d6c9ced3d97ceb2053e3d69729b2a8c', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 3, 'created': '2015-08-27 10:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/872d97563a57ab1837b7d8e0044ff5062c3fa573', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 4, 'created': '2015-08-28 03:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5224df3b3534d7069b1e3b789b14b39c5605030c', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 5, 'created': '2015-08-28 04:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ecc2e2ccee8e4195a3d885c870f92a0a690dc95c', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 6, 'created': '2015-08-28 06:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25c6a92c67976704670d1d15affa52d346b02238', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 7, 'created': '2015-08-28 07:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e00248b35a54adfe6dc0a44466143a650494d0d9', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 8, 'created': '2015-08-28 09:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d26a6d717825ab643df9a22d826664c6efec4f04', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 9, 'created': '2015-08-28 10:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3807e8cb288a76d6d78b25c4a10c1c71c90c17e', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 10, 'created': '2015-08-28 10:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e45b0d4636d06ec7a4164367790beea31986dc30', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 11, 'created': '2015-08-29 03:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57266367de31b6f53cf0bbf1407a37fed2c6d832', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 12, 'created': '2015-08-29 03:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b3647429a1c9115edbc74acec890841fcac1c77', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 13, 'created': '2015-09-01 03:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/652e540b52e765b1986d37799bed352be9674e5c', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 14, 'created': '2015-09-01 06:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02fe660a46348a8237e45abf199c78d8741b38a9', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 15, 'created': '2015-09-01 06:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b6f41f8c04c4ec89fcb488cd3240f92e8a7ed6f', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 16, 'created': '2015-09-01 06:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bdf4161f90eec7622025243a220e2d4eb13fe06e', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 17, 'created': '2015-09-08 09:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92ba67acbe728c9335c2bb189a27b1cc367fad3c', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 18, 'created': '2015-09-08 09:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74bb8c13b86e688a0585dd2fd6b82683b4f678eb', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 19, 'created': '2015-09-08 12:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c59849bada018ed393b9deb038ef267aee0f1391', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 20, 'created': '2015-09-09 07:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/edb2674531f795d204a5fceb9fc5d299945e5858', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 21, 'created': '2015-09-15 07:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ccc32d1354ba20c27efb8719bded18011e82598', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 22, 'created': '2015-09-15 09:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92fc4afbfedf80886de54cf62f538f1ee6c75059', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 23, 'created': '2015-09-21 03:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c0b126663d5096475a102c53cc70cb7e1c29453', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 24, 'created': '2015-09-21 07:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d2c01a7ce55c53ba136cba66374dba264bbae63', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 25, 'created': '2015-09-21 08:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64e2be1e75d249d75df123124407a47387c66c37', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 26, 'created': '2015-09-21 08:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d829992f0f8ab6740b9065864fb990d2e27948a1', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 27, 'created': '2015-09-23 02:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8bcf1d4afa9149decb268581d6d639aff2e12167', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 28, 'created': '2015-09-28 02:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a66445aaf9abbe5509d4c30fc98f7e6136e76c6', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 29, 'created': '2015-10-02 14:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fd32c35c32043c58e3ab272026edaa8120e2e7d', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 30, 'created': '2015-10-08 01:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6779f0c4c986121552506adeefe357c8b812a63b', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 31, 'created': '2015-10-12 01:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae9887cfd1cace9b8d03c09ea7e20a1660f2ee5c', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 32, 'created': '2015-10-13 11:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3cec701581a82309bb182d4103bf7b75c252e9ac', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 33, 'created': '2015-10-15 01:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e59bb57509e9f17dbd7eb9857abaf37ff1b08fc', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 34, 'created': '2015-10-15 06:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a99e132a4dc9d78c4f85c1dccfc42ed18e910651', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 35, 'created': '2015-12-17 09:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/893649c2ddc3ca7c219515194988e54ebcb52547', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 36, 'created': '2015-12-18 01:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18ee4ecb06b9e2f89a7d320c46bda2d8ed202f22', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 37, 'created': '2015-12-20 09:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51aa866bfa07efcdca9346e63c6dc8da435165e7', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 38, 'created': '2016-01-15 01:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8079249183755447bec60fd32a50e6821c8e1a2f', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 39, 'created': '2016-01-15 09:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eda2ecd2bd47792820d83b859519a86c113e709a', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 40, 'created': '2016-01-19 03:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90c4242fc987bd37b8b1569a4371986871d9f2e8', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 41, 'created': '2016-01-25 02:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/810dd314cf27cdfa63fa0d7236b24e2851d2e6f0', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 42, 'created': '2016-01-25 06:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab57f6218bc00aa413275b22270bffe3bb31fbbb', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 43, 'created': '2016-01-26 03:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a86515ae5278c2062995b3b803e0cb1a191f0a1', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 44, 'created': '2016-01-29 03:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c62761f25c5b3f9abc9a9794b8970464d98eccb8', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 45, 'created': '2016-02-01 01:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fa0420c4f9d305c6142d32ee112e4d85931262f', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 46, 'created': '2016-02-29 01:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f0191c4e2f72d35e78651ae030b8cddc47ac33a', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 47, 'created': '2016-03-09 02:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/394697097521a1971b473453c71fb51b5715f62b', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-bug: #1489304\n""}, {'number': 48, 'created': '2016-03-09 03:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed6165a323aab0568e958afa4c538782c139a8b5', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-Bug: #1489304\n""}, {'number': 49, 'created': '2016-03-25 02:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49ed5dd3164eb4dfd9b78efa17916b8a0ec03f9a', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-Bug: #1489304\n""}, {'number': 50, 'created': '2016-04-13 08:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87f5d3dd9f8b7053f5e2684be38b86132e9a99f4', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-Bug: #1489304\n""}, {'number': 51, 'created': '2016-04-19 12:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a371c78b508f756d66a4c2050926fbfe06997c0', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-Bug: #1489304\n""}, {'number': 52, 'created': '2016-04-27 07:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/762953260889d90f63de9c47bdcb2b2965a5244f', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-Bug: #1489304\n""}, {'number': 53, 'created': '2016-05-06 02:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/103fe8e4df0fa4f100c3376eec679ac8148fd08f', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-Bug: #1489304\n""}, {'number': 54, 'created': '2016-05-18 08:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82affc1157c3b107fc0378cc178dd37a6dbb5276', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-Bug: #1489304\n""}, {'number': 55, 'created': '2016-05-23 13:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dff5b9c27254da8089c9b5d9240adf65b0c42fa2', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-Bug: #1489304\n""}, {'number': 56, 'created': '2016-06-08 03:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/593355f60bd8513c57b482e3a4af5177a4f61cb0', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-Bug: #1489304\n""}, {'number': 57, 'created': '2016-06-14 09:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c55c69325e25aecc39ac5a338e1820b8d38610f', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-Bug: #1489304\n""}, {'number': 58, 'created': '2016-06-22 09:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5dde3b3cf1633aa8c5ddd9b352c1b65646fa686d', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-Bug: #1489304\n""}, {'number': 59, 'created': '2016-07-04 01:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43fc519a4d5fd3d0c2499f7197942659e2f67a25', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-Bug: #1489304\n""}, {'number': 60, 'created': '2016-07-05 02:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65b4210f4f2856f055e7a4a6ea1601dc9dcf996c', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-Bug: #1489304\n""}, {'number': 61, 'created': '2016-07-07 01:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/991d16ec910fcf0df49dc4ab1ff200722cedaae6', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-Bug: #1489304\n""}, {'number': 62, 'created': '2016-07-07 02:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f73e3c53317b22c51ee4a833bf26c1db67a8510', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-Bug: #1489304\n""}, {'number': 63, 'created': '2016-07-07 05:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa13a64065cba84604b655c51e1aed82210da7d0', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-Bug: #1489304\n""}, {'number': 64, 'created': '2016-07-07 07:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9bbbcd2d85f1ea09db522a886a6d85d19f9d87f', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-Bug: #1489304\n""}, {'number': 65, 'created': '2016-07-07 09:51:52.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c14a63465b701790f84725370d0a204c08887ad7', 'message': ""Add checks for volume status when rebuilding\n\nCurrently, when rebuilding an instance with volume\nattached, the Nova compute manager will directly call\n_detach_volume() which will skip the checks of volume\nstatus (volume_api.check_detach) and setting the\nvolume to 'detaching' (volume_api.begin_detaching)\nat Cinder side. This is different with the normal\nvolume detach process.\n\nBesides, when rebuilding, we should only allow detaching\nthe volume with 'in-use' status, volume in status\nsuch as 'retyping' should not allowed.\n\nChange-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218\nCloses-Bug: #1489304\n""}]",54,217567,c14a63465b701790f84725370d0a204c08887ad7,691,30,65,15888,,,0,"Add checks for volume status when rebuilding

Currently, when rebuilding an instance with volume
attached, the Nova compute manager will directly call
_detach_volume() which will skip the checks of volume
status (volume_api.check_detach) and setting the
volume to 'detaching' (volume_api.begin_detaching)
at Cinder side. This is different with the normal
volume detach process.

Besides, when rebuilding, we should only allow detaching
the volume with 'in-use' status, volume in status
such as 'retyping' should not allowed.

Change-Id: I3dc2a83cf8cd7db026a184bf551c9715cf602218
Closes-Bug: #1489304
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/217567/65 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,65adf17b4210f2fd04c9a30b189e663f1ac4f1c2,bug/1489304," self.volume_api.check_detach(context, bdm) self.volume_api.begin_detaching(context, bdm.volume_id)",,2,0
openstack%2Fmagnum-ui~master~I3debdfe332a5d6374eccb0c99bef29703fc2700c,openstack/magnum-ui,master,I3debdfe332a5d6374eccb0c99bef29703fc2700c,drop mock from lower-constraints,MERGED,2020-06-08 23:20:55.000000000,2020-06-10 01:47:27.000000000,2020-06-10 01:46:13.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-06-08 23:20:55.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/8b3bf823f6f40d80a86b2f23cee0182f9ff262c5', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I3debdfe332a5d6374eccb0c99bef29703fc2700c\n""}]",0,734366,8b3bf823f6f40d80a86b2f23cee0182f9ff262c5,8,3,1,28522,,,0,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: I3debdfe332a5d6374eccb0c99bef29703fc2700c
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/66/734366/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,8b3bf823f6f40d80a86b2f23cee0182f9ff262c5,drop_mock,,mock==2.0.0,0,1
openstack%2Fzaqar-ui~master~Ia50cc4538bf4e148f3870dafb414109d4ca9ccc1,openstack/zaqar-ui,master,Ia50cc4538bf4e148f3870dafb414109d4ca9ccc1,Use unittest.mock instead of mock,MERGED,2020-06-09 10:20:54.000000000,2020-06-10 01:43:46.000000000,2020-06-10 01:42:18.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-06-09 10:20:54.000000000', 'files': ['zaqar_ui/test/helpers.py', 'test-requirements.txt', 'zaqar_ui/test/api_tests/test_rest_api.py', 'lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/zaqar-ui/commit/60f3442e1364302a36335b12c27c5c9190d93e25', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ia50cc4538bf4e148f3870dafb414109d4ca9ccc1\n'}]",0,734577,60f3442e1364302a36335b12c27c5c9190d93e25,8,3,1,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Ia50cc4538bf4e148f3870dafb414109d4ca9ccc1
",git fetch https://review.opendev.org/openstack/zaqar-ui refs/changes/77/734577/1 && git format-patch -1 --stdout FETCH_HEAD,"['zaqar_ui/test/helpers.py', 'test-requirements.txt', 'zaqar_ui/test/api_tests/test_rest_api.py', 'lower-constraints.txt', 'doc/requirements.txt']",5,60f3442e1364302a36335b12c27c5c9190d93e25,drop_mock,,mock>=2.0.0 # BSD,2,5
openstack%2Fsenlin-dashboard~master~Ib6c6e3ffae0a1310c111f2fadbf97a8e6ce0c67f,openstack/senlin-dashboard,master,Ib6c6e3ffae0a1310c111f2fadbf97a8e6ce0c67f,drop mock from lower-constraints,MERGED,2020-06-09 10:12:01.000000000,2020-06-10 01:43:16.000000000,2020-06-10 01:41:58.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-06-09 10:12:01.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/d85fb42d42e06ea515323a4ee48a8c638e4b7383', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: Ib6c6e3ffae0a1310c111f2fadbf97a8e6ce0c67f\n""}]",0,734551,d85fb42d42e06ea515323a4ee48a8c638e4b7383,8,3,1,28522,,,0,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: Ib6c6e3ffae0a1310c111f2fadbf97a8e6ce0c67f
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/51/734551/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,d85fb42d42e06ea515323a4ee48a8c638e4b7383,drop_mock,,mock==2.0.0,0,1
openstack%2Fsolum~master~I787414dcf25143c0ce2dc31a672d36e9fe75b746,openstack/solum,master,I787414dcf25143c0ce2dc31a672d36e9fe75b746,drop mock from lower-constraints,MERGED,2020-06-09 10:12:49.000000000,2020-06-10 01:36:11.000000000,2020-06-10 01:34:58.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 10:12:49.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/solum/commit/e17ac204c6963591cb58748487f8b999c1483e3f', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I787414dcf25143c0ce2dc31a672d36e9fe75b746\n""}]",0,734553,e17ac204c6963591cb58748487f8b999c1483e3f,7,2,1,28522,,,0,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: I787414dcf25143c0ce2dc31a672d36e9fe75b746
",git fetch https://review.opendev.org/openstack/solum refs/changes/53/734553/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,e17ac204c6963591cb58748487f8b999c1483e3f,drop_mock,,mock==2.0.0,0,1
openstack%2Fpython-muranoclient~master~I754ae15755b41d8ae449904917b92aa02677bde9,openstack/python-muranoclient,master,I754ae15755b41d8ae449904917b92aa02677bde9,drop mock from lower-constraints,MERGED,2020-06-09 09:58:08.000000000,2020-06-10 01:35:14.000000000,2020-06-10 01:33:55.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 09:58:08.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/acc71afab36f11f42847878835396c4f907a8990', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I754ae15755b41d8ae449904917b92aa02677bde9\n""}]",0,734520,acc71afab36f11f42847878835396c4f907a8990,7,2,1,28522,,,0,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: I754ae15755b41d8ae449904917b92aa02677bde9
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/20/734520/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,acc71afab36f11f42847878835396c4f907a8990,drop_mock,,mock==2.0.0,0,1
openstack%2Fsolum-dashboard~master~If4c8be03f0f6d7fcc73a2674a368268f8b0fab2e,openstack/solum-dashboard,master,If4c8be03f0f6d7fcc73a2674a368268f8b0fab2e,drop mock from lower-constraints and requirements,MERGED,2020-06-09 10:13:07.000000000,2020-06-10 01:03:29.000000000,2020-06-10 01:03:29.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-06-09 10:13:07.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/solum-dashboard/commit/eff94f91ccf5364d348f58c604b08751575a4726', 'message': ""drop mock from lower-constraints and requirements\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints and requirements.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: If4c8be03f0f6d7fcc73a2674a368268f8b0fab2e\n""}]",0,734554,eff94f91ccf5364d348f58c604b08751575a4726,7,3,1,28522,,,0,"drop mock from lower-constraints and requirements

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints and requirements.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: If4c8be03f0f6d7fcc73a2674a368268f8b0fab2e
",git fetch https://review.opendev.org/openstack/solum-dashboard refs/changes/54/734554/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,eff94f91ccf5364d348f58c604b08751575a4726,drop_mock,,mock==2.0.0,0,2
openstack%2Fmurano-dashboard~master~I6240c4a3ba79858cfbdb9341b26d72a3910c0b7d,openstack/murano-dashboard,master,I6240c4a3ba79858cfbdb9341b26d72a3910c0b7d,drop mock from lower-constraints,MERGED,2020-06-08 23:27:31.000000000,2020-06-10 01:02:06.000000000,2020-06-10 01:02:06.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-06-08 23:27:31.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/faf77e9561d6729b22c36e4d58cd2f101eb8fda4', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I6240c4a3ba79858cfbdb9341b26d72a3910c0b7d\n""}]",0,734386,faf77e9561d6729b22c36e4d58cd2f101eb8fda4,7,3,1,28522,,,0,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: I6240c4a3ba79858cfbdb9341b26d72a3910c0b7d
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/86/734386/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,faf77e9561d6729b22c36e4d58cd2f101eb8fda4,drop_mock,,mock==2.0.0,0,1
openstack%2Fpython-solumclient~master~I5a9d8d0eadb5272b6956a7ee118209ac7ec1ae76,openstack/python-solumclient,master,I5a9d8d0eadb5272b6956a7ee118209ac7ec1ae76,drop mock from lower-constraints,MERGED,2020-06-09 10:00:29.000000000,2020-06-10 01:00:01.000000000,2020-06-10 00:58:45.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 10:00:29.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/7ce486b566444ab41476bad7622ed7b25138f3bc', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I5a9d8d0eadb5272b6956a7ee118209ac7ec1ae76\n""}]",0,734525,7ce486b566444ab41476bad7622ed7b25138f3bc,7,2,1,28522,,,0,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: I5a9d8d0eadb5272b6956a7ee118209ac7ec1ae76
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/25/734525/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,7ce486b566444ab41476bad7622ed7b25138f3bc,drop_mock,,mock==2.0.0,0,1
openstack%2Fmurano~stable%2Frocky~I0771a0789346a46a96278de1a11948ab561593c3,openstack/murano,stable/rocky,I0771a0789346a46a96278de1a11948ab561593c3,Remove retired congress,MERGED,2020-05-29 08:22:54.000000000,2020-06-10 00:58:36.000000000,2020-06-10 00:56:09.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 08:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/ee658955ea3ef29ae015cb3c237b68073d1dc411', 'message': 'Remove retired congress\n\nCongress has been retired, remove the jobs.\n\nSee https://review.opendev.org/721742\n\nChange-Id: I0771a0789346a46a96278de1a11948ab561593c3\n(cherry picked from commit 8afa49124a7e98917eff8b9dfa2f7eb20b032080)\n'}, {'number': 2, 'created': '2020-06-08 00:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/dba70b88bb172a02a8b859f571d71447526e9c93', 'message': 'Remove retired congress\n\nCongress has been retired, remove the jobs.\n\nSee https://review.opendev.org/721742\n\nChange-Id: I0771a0789346a46a96278de1a11948ab561593c3\n(cherry picked from commit 8afa49124a7e98917eff8b9dfa2f7eb20b032080)\n'}, {'number': 3, 'created': '2020-06-09 18:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/682512861dd3d021affebf56f661e7f915857c49', 'message': 'Remove retired congress\n\nCongress has been retired, remove the jobs.\n\nSee https://review.opendev.org/721742\n\nChange-Id: I0771a0789346a46a96278de1a11948ab561593c3\n(cherry picked from commit 8afa49124a7e98917eff8b9dfa2f7eb20b032080)\n'}, {'number': 4, 'created': '2020-06-09 18:13:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/murano/commit/1c8479f7ee0ca9feb399ba5096bc759248d04958', 'message': 'Remove retired congress\n\nCongress has been retired, remove the jobs.\n\nSee https://review.opendev.org/721742\n\nThe rally and api jobs fail on this branch, make them non-voting to\nallow other changes to merge.\n\nChange-Id: I0771a0789346a46a96278de1a11948ab561593c3\n(cherry picked from commit 8afa49124a7e98917eff8b9dfa2f7eb20b032080)\n'}]",0,731690,1c8479f7ee0ca9feb399ba5096bc759248d04958,15,2,4,6547,,,0,"Remove retired congress

Congress has been retired, remove the jobs.

See https://review.opendev.org/721742

The rally and api jobs fail on this branch, make them non-voting to
allow other changes to merge.

Change-Id: I0771a0789346a46a96278de1a11948ab561593c3
(cherry picked from commit 8afa49124a7e98917eff8b9dfa2f7eb20b032080)
",git fetch https://review.opendev.org/openstack/murano refs/changes/90/731690/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ee658955ea3ef29ae015cb3c237b68073d1dc411,rocky/backport/731592,, - murano-congress-devstack- job: name: murano-congress-devstack parent: murano-tempest-base voting: false timeout: 4200 irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - ^doc/.*$ - ^.*\.rst$ - ^releasenotes/.*$ - ^murano/tests/.*$ required-projects: - openstack/congress - openstack/congress-dashboard - openstack/mistral - openstack/mistral-dashboard - openstack/python-congressclient - openstack/python-heatclient - openstack/python-mistralclient - openstack/python-muranoclient vars: devstack_services: tls-proxy: false devstack_localrc: MURANO_ENABLE_MODEL_POLICY_ENFORCEMENT: true devstack_plugins: congress: https://opendev.org/openstack/congress mistral: https://opendev.org/openstack/mistral tempest_test_regex: functional,0,31
openstack%2Fmurano-pkg-check~master~I7ac61e3349c62faee0baabd7566e658042a8aefe,openstack/murano-pkg-check,master,I7ac61e3349c62faee0baabd7566e658042a8aefe,drop mock from lower-constraints,MERGED,2020-06-08 23:27:46.000000000,2020-06-10 00:57:30.000000000,2020-06-10 00:57:30.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 23:27:46.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/murano-pkg-check/commit/9de373c0c5d5afe2c8455d43f87947ed602e0ea4', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I7ac61e3349c62faee0baabd7566e658042a8aefe\n""}]",0,734387,9de373c0c5d5afe2c8455d43f87947ed602e0ea4,6,2,1,28522,,,0,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: I7ac61e3349c62faee0baabd7566e658042a8aefe
",git fetch https://review.opendev.org/openstack/murano-pkg-check refs/changes/87/734387/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,9de373c0c5d5afe2c8455d43f87947ed602e0ea4,drop_mock,,mock==2.0.0,0,1
openstack%2Fcinder~master~I3a40a5865cfed8e29dd58d31d955840ec6370a69,openstack/cinder,master,I3a40a5865cfed8e29dd58d31d955840ec6370a69,tintri: Enable SSL with requests,MERGED,2018-07-31 13:56:03.000000000,2020-06-10 00:33:50.000000000,2018-08-02 16:34:28.000000000,"[{'_account_id': 24}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-07-31 13:56:03.000000000', 'files': ['cinder/volume/drivers/tintri.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7d85fa9a0cc484af24a688f6db568e15d82acaa0', 'message': 'tintri: Enable SSL with requests\n\nSSL requests are not being verified when contacting the\nREST API. Use the driver_ssl_cert_verify config option\nto turn on or off. Defaults to False.\n\nChange-Id: I3a40a5865cfed8e29dd58d31d955840ec6370a69\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}]",0,587445,7d85fa9a0cc484af24a688f6db568e15d82acaa0,45,31,1,24,,,0,"tintri: Enable SSL with requests

SSL requests are not being verified when contacting the
REST API. Use the driver_ssl_cert_verify config option
to turn on or off. Defaults to False.

Change-Id: I3a40a5865cfed8e29dd58d31d955840ec6370a69
Signed-off-by: Chuck Short <chucks@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/587445/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/tintri.py'],1,7d85fa9a0cc484af24a688f6db568e15d82acaa0,," self.verify_ssl = getattr(self.configuration, 'driver_ssl_cert_verify') self.ssl_cert_path = getattr(self.configuration, 'driver_ssl_cert_path') params=query, verify=self.verify_ssl, cert=self.ssl_cert_path) return requests.delete(url, headers=self.headers, verify=self.verify_ssl, cert=self.ssl_cert_path) headers=self.headers, verify=self.verify_ssl, cert=self.ssl_cert_path) headers=self.headers, verify=self.verify_ssl, cert=self.ssl_cert_path) headers=headers, verify=self.verify_ssl, cert=self.ssl_cert_path) requests.get(url, headers=self.headers, verify=self.verify_ssl, cert=self.ssl_cert_path)"," params=query, verify=False) return requests.delete(url, headers=self.headers, verify=False) headers=self.headers, verify=False) headers=self.headers, verify=False) headers=headers, verify=False) requests.get(url, headers=self.headers, verify=False)",20,6
openstack%2Fcinder~master~If15948a19a0df2d57f2da84c0774bc4ceb1fff60,openstack/cinder,master,If15948a19a0df2d57f2da84c0774bc4ceb1fff60,nimble: Fix missing ssl support,MERGED,2018-08-01 12:55:30.000000000,2020-06-10 00:26:05.000000000,2018-08-02 09:01:49.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-08-01 12:55:30.000000000', 'files': ['cinder/volume/drivers/nimble.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c25c30245c7bf53687f71af43b78b7414ac022c5', 'message': 'nimble: Fix missing ssl support\n\nThe requests.get in the get_query method was always disabling the\nssl certificate checck. Use the ""nimble_verify_certificate""\nconfiguration option to allow the user to enable or disable it\nlike the rest of the requests usage in the driver.\n\nChange-Id: If15948a19a0df2d57f2da84c0774bc4ceb1fff60\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}]",1,587811,c25c30245c7bf53687f71af43b78b7414ac022c5,32,26,1,24,,,0,"nimble: Fix missing ssl support

The requests.get in the get_query method was always disabling the
ssl certificate checck. Use the ""nimble_verify_certificate""
configuration option to allow the user to enable or disable it
like the rest of the requests usage in the driver.

Change-Id: If15948a19a0df2d57f2da84c0774bc4ceb1fff60
Signed-off-by: Chuck Short <chucks@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/587811/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/nimble.py'],1,c25c30245c7bf53687f71af43b78b7414ac022c5,ssl," params=query, verify=self.verify)"," params=query, verify=False)",1,1
openstack%2Fmanila~stable%2Fussuri~I91fa2222743da06557ceb52fcbae0f8928d0752c,openstack/manila,stable/ussuri,I91fa2222743da06557ceb52fcbae0f8928d0752c,Add documentation for share replica quotas,MERGED,2020-06-09 20:35:08.000000000,2020-06-10 00:23:23.000000000,2020-06-10 00:21:33.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 20:35:08.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/samples/limits-response.json', 'api-ref/source/samples/quota-classes-show-response.json', 'api-ref/source/samples/quota-update-response.json', 'api-ref/source/limits.inc', 'api-ref/source/quota-sets.inc', 'doc/source/admin/shared-file-systems-manage-and-unmanage-share.rst', 'doc/source/admin/shared-file-systems-share-resize.rst', 'api-ref/source/samples/quota-show-detail-response.json', 'doc/source/admin/shared-file-systems-quotas.rst', 'api-ref/source/samples/quota-show-response.json', 'api-ref/source/samples/quota-update-request.json', 'doc/source/configuration/shared-file-systems/overview.rst', 'api-ref/source/samples/quota-classes-update-response.json', 'api-ref/source/quota-classes.inc', 'doc/source/admin/shared-file-systems-share-replication.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/c1bebf39d4575539a0fe7d00af3c7926568e1cd6', 'message': 'Add documentation for share replica quotas\n\nUpdate documentation to fit into the new manila quota keys:\n- `share_replicas`\n- `replica_gigabytes`\n\nCloses-Bug: #1881921\nChange-Id: I91fa2222743da06557ceb52fcbae0f8928d0752c\n(cherry picked from commit 7bc4886a03d9490517448e25be531246a7e76b2e)\n'}]",0,734697,c1bebf39d4575539a0fe7d00af3c7926568e1cd6,8,2,1,29632,,,0,"Add documentation for share replica quotas

Update documentation to fit into the new manila quota keys:
- `share_replicas`
- `replica_gigabytes`

Closes-Bug: #1881921
Change-Id: I91fa2222743da06557ceb52fcbae0f8928d0752c
(cherry picked from commit 7bc4886a03d9490517448e25be531246a7e76b2e)
",git fetch https://review.opendev.org/openstack/manila refs/changes/97/734697/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/samples/limits-response.json', 'api-ref/source/samples/quota-classes-show-response.json', 'api-ref/source/samples/quota-update-response.json', 'api-ref/source/limits.inc', 'api-ref/source/quota-sets.inc', 'doc/source/admin/shared-file-systems-manage-and-unmanage-share.rst', 'doc/source/admin/shared-file-systems-share-resize.rst', 'api-ref/source/samples/quota-show-detail-response.json', 'doc/source/admin/shared-file-systems-quotas.rst', 'api-ref/source/samples/quota-show-response.json', 'api-ref/source/samples/quota-update-request.json', 'doc/source/configuration/shared-file-systems/overview.rst', 'api-ref/source/samples/quota-classes-update-response.json', 'api-ref/source/quota-classes.inc', 'doc/source/admin/shared-file-systems-share-replication.rst']",16,c1bebf39d4575539a0fe7d00af3c7926568e1cd6,bug/1881921," From API version 2.53, when creating a replicated share, the manila quota system will reserve and consume resources for two additional quotas: ``share_replicas`` and ``replica_gigabytes``. ",,187,10
openstack%2Fproject-config~master~Ie947c516c1012d165c163e274e0baf6abcedbb07,openstack/project-config,master,Ie947c516c1012d165c163e274e0baf6abcedbb07,Add Backport-Candidate label for Kolla deliverables,MERGED,2020-06-03 16:46:55.000000000,2020-06-10 00:11:44.000000000,2020-06-10 00:05:49.000000000,"[{'_account_id': 167}, {'_account_id': 782}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 18368}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 28048}, {'_account_id': 28522}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-06-03 16:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1ce090707912893937243f578288e66ff2d1bd47', 'message': 'Add Backport-Candidate label for Kolla deliverables\n\nChange-Id: Ie947c516c1012d165c163e274e0baf6abcedbb07\n'}, {'number': 2, 'created': '2020-06-03 16:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f5f15a00b83fed4af7769299856fb36302b6d2f9', 'message': 'Add Backport-Candidate label for Kolla deliverables\n\nChange-Id: Ie947c516c1012d165c163e274e0baf6abcedbb07\n'}, {'number': 3, 'created': '2020-06-04 08:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8fd10fdc82ce717713e1dc3b0c890d47a2d472d2', 'message': 'Add Backport-Candidate label for Kolla deliverables\n\nChange-Id: Ie947c516c1012d165c163e274e0baf6abcedbb07\n'}, {'number': 4, 'created': '2020-06-04 08:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e49094fdebe0085409de4ed78edfd0420d360c33', 'message': 'Add Backport-Candidate label for Kolla deliverables\n\nChange-Id: Ie947c516c1012d165c163e274e0baf6abcedbb07\n'}, {'number': 5, 'created': '2020-06-05 12:41:24.000000000', 'files': ['gerrit/acls/openstack/kolla-ansible.config', 'gerrit/acls/openstack/kolla.config', 'gerrit/acls/openstack/kayobe.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/267c5908b6522cd1251d4eb83d0e3fb44c8aca67', 'message': 'Add Backport-Candidate label for Kolla deliverables\n\nChange-Id: Ie947c516c1012d165c163e274e0baf6abcedbb07\n'}]",6,733243,267c5908b6522cd1251d4eb83d0e3fb44c8aca67,33,21,5,15197,,,0,"Add Backport-Candidate label for Kolla deliverables

Change-Id: Ie947c516c1012d165c163e274e0baf6abcedbb07
",git fetch https://review.opendev.org/openstack/project-config refs/changes/43/733243/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/kolla-ansible.config', 'gerrit/acls/openstack/kolla-cli.config', 'gerrit/acls/openstack/kolla.config', 'gerrit/acls/openstack/kayobe.config']",4,1ce090707912893937243f578288e66ff2d1bd47,kolla-backport-candidate,"label-Backport-Candidate = -2..+2 group kayobe-core label-Backport-Candidate = -1..+1 group Registered Users[label ""Backport-Candidate""] copyAllScoresIfNoCodeChange = true copyAllScoresOnTrivialRebase = true defaultValue = 0 function = NoBlock value = -2 Do Not Backport value = -1 Not A Backport Candidate value = 0 Backport Review Needed value = +1 Proposed Backport value = +2 Should Backport ",,52,0
openstack%2Frequirements~master~Ia0ce53896ce268ce9a47620d1e473e11d2e10fc3,openstack/requirements,master,Ia0ce53896ce268ce9a47620d1e473e11d2e10fc3,Remove grenade jobs,MERGED,2020-06-09 19:16:05.000000000,2020-06-10 00:11:36.000000000,2020-06-10 00:08:49.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 19:16:05.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/cb3412cf61e334bb542ccfb64af8dfba3488cda2', 'message': 'Remove grenade jobs\n\nChange-Id: Ia0ce53896ce268ce9a47620d1e473e11d2e10fc3\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,734679,cb3412cf61e334bb542ccfb64af8dfba3488cda2,8,2,1,11904,,,0,"Remove grenade jobs

Change-Id: Ia0ce53896ce268ce9a47620d1e473e11d2e10fc3
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/79/734679/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,cb3412cf61e334bb542ccfb64af8dfba3488cda2,nogrenade,, - neutron-grenade-multinode: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - grenade: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - neutron-grenade-multinode: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - grenade: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$,0,16
openstack%2Ftripleo-common~stable%2Ftrain~Iefe87eb869e248ea1e98d9ae34cdeeea57aa5426,openstack/tripleo-common,stable/train,Iefe87eb869e248ea1e98d9ae34cdeeea57aa5426,Do not rotate CephX secrets,MERGED,2020-05-21 17:19:50.000000000,2020-06-10 00:10:30.000000000,2020-06-10 00:08:42.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-05-21 17:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/edac61c3eb5bfbfd20e866fa42144d81be47d2f7', 'message': 'Do not rotate CephX secrets\n\nwe do not want the CephX keys to rotate by default, some cannot\nbe changed at all after the cluster has been deployed\n\nChange-Id: Iefe87eb869e248ea1e98d9ae34cdeeea57aa5426\n(cherry picked from commit 621ebcea78d76a9aa5f0b655cf88394e7f3bf298)\n'}, {'number': 2, 'created': '2020-05-22 12:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c4b52d5e2c782888e596de930921e4f20687576f', 'message': 'Do not rotate CephX secrets\n\nwe do not want the CephX keys to rotate by default, some cannot\nbe changed at all after the cluster has been deployed\n\nChange-Id: Iefe87eb869e248ea1e98d9ae34cdeeea57aa5426\n(cherry picked from commit 621ebcea78d76a9aa5f0b655cf88394e7f3bf298)\n'}, {'number': 3, 'created': '2020-06-09 11:36:05.000000000', 'files': ['tripleo_common/constants.py', 'tripleo_common/utils/passwords.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6945b14796986d444062e2118fd8701fbeed991c', 'message': 'Do not rotate CephX secrets\n\nwe do not want the CephX keys to rotate by default, some cannot\nbe changed at all after the cluster has been deployed\n\nChange-Id: Iefe87eb869e248ea1e98d9ae34cdeeea57aa5426\n(cherry picked from commit 621ebcea78d76a9aa5f0b655cf88394e7f3bf298)\n'}]",0,730079,6945b14796986d444062e2118fd8701fbeed991c,28,6,3,6796,,,0,"Do not rotate CephX secrets

we do not want the CephX keys to rotate by default, some cannot
be changed at all after the cluster has been deployed

Change-Id: Iefe87eb869e248ea1e98d9ae34cdeeea57aa5426
(cherry picked from commit 621ebcea78d76a9aa5f0b655cf88394e7f3bf298)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/79/730079/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/constants.py', 'tripleo_common/utils/passwords.py']",2,edac61c3eb5bfbfd20e866fa42144d81be47d2f7,," elif name in ('CephClientKey', 'CephManilaClientKey', 'CephRgwKey'): # CephX keys aren't random strings passwords[name] = create_cephx_key() elif name == ""CephClusterFSID"": # The FSID must be a UUID passwords[name] = six.text_type(uuid.uuid4())"," elif name.startswith(""Ceph""): if name == ""CephClusterFSID"": # The FSID must be a UUID passwords[name] = six.text_type(uuid.uuid4()) else: # CephX keys aren't random strings passwords[name] = create_cephx_key()",10,7
openstack%2Fpuppet-tripleo~master~I333852460dd9e3bda55de7e2a11cf6cdab03ed35,openstack/puppet-tripleo,master,I333852460dd9e3bda55de7e2a11cf6cdab03ed35,Deprecating Dell EMC Xtremio Iscsi Volume Config,MERGED,2020-04-24 20:11:50.000000000,2020-06-10 00:10:18.000000000,2020-06-10 00:08:46.000000000,"[{'_account_id': 3153}, {'_account_id': 7160}, {'_account_id': 10379}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-04-24 20:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/694af6075facbfdf7e8fdbda85a9fda22bda0e0f', 'message': 'Deprecating Dell EMC Xtremio Iscsi Volume Config\n\nA new Dell EMC Xtremio volume config which supports\nboth iSCSI and FC drivers is added. Deprecating the\nold Xtremio Iscsi config.\nhttps://review.opendev.org/#/c/723020/\n\nChange-Id: I333852460dd9e3bda55de7e2a11cf6cdab03ed35\n'}, {'number': 2, 'created': '2020-04-28 19:05:02.000000000', 'files': ['manifests/profile/base/cinder/volume/dellemc_xtremio_iscsi.pp', 'releasenotes/notes/xtremio_old_driver_deprecation_3368457faab68824.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e5612139c2060bd239583e5c3f6def92682cc5b2', 'message': 'Deprecating Dell EMC Xtremio Iscsi Volume Config\n\nA new Dell EMC Xtremio volume config which supports\nboth iSCSI and FC drivers is added. Deprecating the\nold Xtremio Iscsi config.\nhttps://review.opendev.org/#/c/723020/\n\nChange-Id: I333852460dd9e3bda55de7e2a11cf6cdab03ed35\n'}]",0,723028,e5612139c2060bd239583e5c3f6def92682cc5b2,20,7,2,10379,,,0,"Deprecating Dell EMC Xtremio Iscsi Volume Config

A new Dell EMC Xtremio volume config which supports
both iSCSI and FC drivers is added. Deprecating the
old Xtremio Iscsi config.
https://review.opendev.org/#/c/723020/

Change-Id: I333852460dd9e3bda55de7e2a11cf6cdab03ed35
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/28/723028/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/cinder/volume/dellemc_xtremio_iscsi.pp', 'releasenotes/notes/xtremio_old_driver_deprecation_3368457faab68824.yaml']",2,694af6075facbfdf7e8fdbda85a9fda22bda0e0f,xtremio_old_deprecate,--- deprecations: - Resource tripleo::profile::base::cinder::volume::dellemc_xtremio_iscsi will be removed in V-Release. ,,7,0
openstack%2Ftripleo-image-elements~stable%2Fqueens~Ieb6a897aa5801ea43bf6a9e2022dadbec3f5164a,openstack/tripleo-image-elements,stable/queens,Ieb6a897aa5801ea43bf6a9e2022dadbec3f5164a,Fixed queens pep8,MERGED,2020-06-09 14:19:57.000000000,2020-06-10 00:10:17.000000000,2020-06-10 00:08:43.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 14:19:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/018646a398e2798fe25dc06bac01e3ca4638e607', 'message': 'Fixed queens pep8\n\n- fixed wrong url in constraints url\n- enforce use of python2.7 because that was the only supported version\n  at that time. Code fails with python3.5\n\nTaken from https://review.opendev.org/#/c/731752\n\nChange-Id: Ieb6a897aa5801ea43bf6a9e2022dadbec3f5164a\nRelated-Bug: #1881288\n'}]",0,734614,018646a398e2798fe25dc06bac01e3ca4638e607,7,2,1,3153,,,0,"Fixed queens pep8

- fixed wrong url in constraints url
- enforce use of python2.7 because that was the only supported version
  at that time. Code fails with python3.5

Taken from https://review.opendev.org/#/c/731752

Change-Id: Ieb6a897aa5801ea43bf6a9e2022dadbec3f5164a
Related-Bug: #1881288
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/14/734614/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,018646a398e2798fe25dc06bac01e3ca4638e607,queens/lint, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/queens}basepython = python2.7, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens},2,1
openstack%2Ftripleo-ci~master~Idcd5394e26a2199efd732f9e0140e1592c9455a4,openstack/tripleo-ci,master,Idcd5394e26a2199efd732f9e0140e1592c9455a4,Enable and fix image_sanity check,MERGED,2020-06-08 14:53:27.000000000,2020-06-10 00:08:44.000000000,2020-06-10 00:08:44.000000000,"[{'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-08 14:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/337ee285a6b5b650248fbd218a8aebefe45215b8', 'message': 'Fix image_sanity check\n\nmissing dirs check should only report failure if the file/dir is\nin rpm -Va output and marked as ""missing"".\n\nThis is reporting false negative results.\n\nChange-Id: Idcd5394e26a2199efd732f9e0140e1592c9455a4\n'}, {'number': 2, 'created': '2020-06-08 19:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dcc222beb10f6581092d434ebf20683c4785c5f0', 'message': 'Fix image_sanity check\n\nmissing dirs check should only report failure if the file/dir is\nin rpm -Va output and marked as ""missing"".\n\nThis is reporting false negative results.\n\nChange-Id: Idcd5394e26a2199efd732f9e0140e1592c9455a4\n'}, {'number': 3, 'created': '2020-06-08 20:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5ad81da5083297f8f5480a8e7f349fe60315920e', 'message': 'Fix image_sanity check\n\nmissing dirs check should only report failure if the file/dir is\nin rpm -Va output and marked as ""missing"".\n\nThis is reporting false negative results.\n\nChange-Id: Idcd5394e26a2199efd732f9e0140e1592c9455a4\n'}, {'number': 4, 'created': '2020-06-09 12:45:44.000000000', 'files': ['roles/oooci-build-images/tasks/image_sanity.yaml', 'roles/oooci-build-images/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f0c58c4527624b0e7344388bb62af9245dfb9e35', 'message': 'Enable and fix image_sanity check\n\nmissing dirs check should only report failure if the file/dir is\nin rpm -Va output and marked as ""missing"".\n\nSwitch image_sanity ON for check jobs. It still only fail if\nmissing files on periodic jobs.\n\nChange-Id: Idcd5394e26a2199efd732f9e0140e1592c9455a4\n'}]",0,734112,f0c58c4527624b0e7344388bb62af9245dfb9e35,21,5,4,8175,,,0,"Enable and fix image_sanity check

missing dirs check should only report failure if the file/dir is
in rpm -Va output and marked as ""missing"".

Switch image_sanity ON for check jobs. It still only fail if
missing files on periodic jobs.

Change-Id: Idcd5394e26a2199efd732f9e0140e1592c9455a4
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/12/734112/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/tasks/image_sanity.yaml'],1,337ee285a6b5b650248fbd218a8aebefe45215b8,image-sanity," grep ""missing"" rpm_va.txt | grep -v ""{{ item }}""", grep {{ item }} rpm_va.txt,1,1
openstack%2Fproject-config~master~I983d23c33f7780e5708aa728c829c3262fc99ea0,openstack/project-config,master,I983d23c33f7780e5708aa728c829c3262fc99ea0,Be more explicit about using python3 to run tools/,MERGED,2020-06-08 23:42:09.000000000,2020-06-10 00:05:20.000000000,2020-06-10 00:05:20.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 23:42:09.000000000', 'files': ['tools/ci2project.py', 'tools/add-projects-to-main.py', 'tools/normalize_channels_yaml.py', 'tools/check_gerrit_projects_changed.sh', 'tools/fix-neutron-stadium.py', 'tools/normalize_projects_yaml.py', 'tools/batch_update_projects.py', 'tools/normalize_acl.py', 'tools/check_irc_access.py', 'tools/zuul-projects-checks.py', 'tools/irc_tests.py', 'tools/check_gerrit_projects_changed.py', 'tools/check_valid_gerrit_projects.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/180cc6aedacaa09db8d9c8faa8c6fe91f752be7e', 'message': ""Be more explicit about using python3 to run tools/\n\nWe have python scripts in the tools/ dir the vast majority of which we\nrun regularly with python3 via our python3 default basepython in tox.\nHowever, most of these use a `python` shebang line which can be\nconfusing as to whether or not these scripts run under python3 or not.\n\nTo make this more clear set them to python3. I've confirmed the scripts\nrunning under tox are happy with these changes. For the ones that don't\nrun under tox I've done a quick review and they look happy too.\n\nChange-Id: I983d23c33f7780e5708aa728c829c3262fc99ea0\n""}]",0,734393,180cc6aedacaa09db8d9c8faa8c6fe91f752be7e,8,3,1,4146,,,0,"Be more explicit about using python3 to run tools/

We have python scripts in the tools/ dir the vast majority of which we
run regularly with python3 via our python3 default basepython in tox.
However, most of these use a `python` shebang line which can be
confusing as to whether or not these scripts run under python3 or not.

To make this more clear set them to python3. I've confirmed the scripts
running under tox are happy with these changes. For the ones that don't
run under tox I've done a quick review and they look happy too.

Change-Id: I983d23c33f7780e5708aa728c829c3262fc99ea0
",git fetch https://review.opendev.org/openstack/project-config refs/changes/93/734393/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ci2project.py', 'tools/add-projects-to-main.py', 'tools/normalize_channels_yaml.py', 'tools/check_gerrit_projects_changed.sh', 'tools/fix-neutron-stadium.py', 'tools/normalize_projects_yaml.py', 'tools/batch_update_projects.py', 'tools/normalize_acl.py', 'tools/check_irc_access.py', 'tools/zuul-projects-checks.py', 'tools/irc_tests.py', 'tools/check_gerrit_projects_changed.py', 'tools/check_valid_gerrit_projects.py']",13,180cc6aedacaa09db8d9c8faa8c6fe91f752be7e,explicit-python3,#!/usr/bin/env python3,#!/usr/bin/env python,13,13
openstack%2Fproject-config~master~I3488d94c6ec16df4da486add6e6333a0ac9d5e70,openstack/project-config,master,I3488d94c6ec16df4da486add6e6333a0ac9d5e70,Wheel publish jobs: include system-config roles,MERGED,2020-06-09 21:29:59.000000000,2020-06-10 00:03:45.000000000,2020-06-10 00:03:45.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 21:29:59.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/42755a081994fd8e27558aa3c371c3b130de186d', 'message': 'Wheel publish jobs: include system-config roles\n\nThese jobs need the system-config roles for\nkerberos-client/openafs-client roles.  These are not needed in the\nbuild roles in o-z-j; only here for the publishing step.  Add\ndependency.\n\nChange-Id: I3488d94c6ec16df4da486add6e6333a0ac9d5e70\n'}]",0,734704,42755a081994fd8e27558aa3c371c3b130de186d,7,3,1,7118,,,0,"Wheel publish jobs: include system-config roles

These jobs need the system-config roles for
kerberos-client/openafs-client roles.  These are not needed in the
build roles in o-z-j; only here for the publishing step.  Add
dependency.

Change-Id: I3488d94c6ec16df4da486add6e6333a0ac9d5e70
",git fetch https://review.opendev.org/openstack/project-config refs/changes/04/734704/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,42755a081994fd8e27558aa3c371c3b130de186d,wheel-publish-sys-config, roles: - zuul: opendev/system-config roles: - zuul: opendev/system-config roles: - zuul: opendev/system-config roles: - zuul: opendev/system-config roles: - zuul: opendev/system-config roles: - zuul: opendev/system-config roles: - zuul: opendev/system-config roles: - zuul: opendev/system-config roles: - zuul: opendev/system-config roles: - zuul: opendev/system-config roles: - zuul: opendev/system-config,,22,0
openstack%2Ftripleo-common~stable%2Ftrain~I2441d293c56775a723ae5979596d9e70ec1a4182,openstack/tripleo-common,stable/train,I2441d293c56775a723ae5979596d9e70ec1a4182,"Remove unnecessary Ceph{Admin,Mon,Mds}Key constants",MERGED,2020-05-21 17:19:50.000000000,2020-06-09 23:58:11.000000000,2020-06-09 23:56:51.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-05-21 17:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3e9e9ff400a51a458f8e7ff470c423ba0aa7509a', 'message': 'Remove unnecessary Ceph{Admin,Mon,Mds}Key constants\n\nthese are not necessary because ceph-ansible will generate them\nrandomly and completely ignored in recent versions of the templates\n\nChange-Id: I2441d293c56775a723ae5979596d9e70ec1a4182\nDepends-On: If77935345de70ae261b091b8bf49b997dc71a781\nRelated-Bug: 1878014\n(cherry picked from commit c3b4705161cb74169ef8fa9ec5796d8a6c7c0f16)\n'}, {'number': 2, 'created': '2020-05-22 12:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d0bfc16892e2b0343b7e4370f6fb2e6734fd6eb8', 'message': 'Remove unnecessary Ceph{Admin,Mon,Mds}Key constants\n\nthese are not necessary because ceph-ansible will generate them\nrandomly and completely ignored in recent versions of the templates\n\nChange-Id: I2441d293c56775a723ae5979596d9e70ec1a4182\nDepends-On: If77935345de70ae261b091b8bf49b997dc71a781\nRelated-Bug: 1878014\n(cherry picked from commit c3b4705161cb74169ef8fa9ec5796d8a6c7c0f16)\n'}, {'number': 3, 'created': '2020-06-09 11:35:58.000000000', 'files': ['tripleo_common/constants.py', 'tripleo_common/tests/actions/test_parameters.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/17b2e731a9a90e1d0144acf6d062b220c09c1384', 'message': 'Remove unnecessary Ceph{Admin,Mon,Mds}Key constants\n\nthese are not necessary because ceph-ansible will generate them\nrandomly and completely ignored in recent versions of the templates\n\nChange-Id: I2441d293c56775a723ae5979596d9e70ec1a4182\nDepends-On: If77935345de70ae261b091b8bf49b997dc71a781\nRelated-Bug: 1878014\n(cherry picked from commit c3b4705161cb74169ef8fa9ec5796d8a6c7c0f16)\n'}]",0,730078,17b2e731a9a90e1d0144acf6d062b220c09c1384,37,8,3,6796,,,0,"Remove unnecessary Ceph{Admin,Mon,Mds}Key constants

these are not necessary because ceph-ansible will generate them
randomly and completely ignored in recent versions of the templates

Change-Id: I2441d293c56775a723ae5979596d9e70ec1a4182
Depends-On: If77935345de70ae261b091b8bf49b997dc71a781
Related-Bug: 1878014
(cherry picked from commit c3b4705161cb74169ef8fa9ec5796d8a6c7c0f16)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/78/730078/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/constants.py'],1,3e9e9ff400a51a458f8e7ff470c423ba0aa7509a,,," 'CephAdminKey', 'CephMdsKey', 'CephMonKey',",0,3
openstack%2Frequirements~master~I7d2cc431d9fd0a80e29c176da6ba612b1262dfda,openstack/requirements,master,I7d2cc431d9fd0a80e29c176da6ba612b1262dfda,Remove ujson package,MERGED,2020-06-08 15:26:24.000000000,2020-06-09 23:55:19.000000000,2020-06-09 23:52:34.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 15:26:24.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/463049460ba0e7942fce07cc121deef584b5bdec', 'message': ""Remove ujson package\n\nThis isn't used by any openstack/ projects anymore.\n\nChange-Id: I7d2cc431d9fd0a80e29c176da6ba612b1262dfda\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,734124,463049460ba0e7942fce07cc121deef584b5bdec,12,3,1,11904,,,0,"Remove ujson package

This isn't used by any openstack/ projects anymore.

Change-Id: I7d2cc431d9fd0a80e29c176da6ba612b1262dfda
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/24/734124/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,463049460ba0e7942fce07cc121deef584b5bdec,ujson,,ujson===3.0.0,0,2
openstack%2Fneutron~master~Ie6453cb7a2ef0c43baf540c49a03079f4c8d3818,openstack/neutron,master,Ie6453cb7a2ef0c43baf540c49a03079f4c8d3818,Limit ml2_vlan_allocations.vlan_id value in DB backend,MERGED,2020-04-02 17:42:28.000000000,2020-06-09 23:39:41.000000000,2020-06-09 23:37:42.000000000,"[{'_account_id': 7249}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2020-04-02 17:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/698477d9942c8deabee550f529e09087ffd64358', 'message': 'Limit ml2_vlan_allocations.vlan_id value in DB backend\n\nLimit ""ml2_vlan_allocations.vlan_id"" values stored in the DB by\nadding a check constraint in the DB engine. This check will\nverify that vlan_id is in the interval [1, 4094].\n\nChange-Id: Ie6453cb7a2ef0c43baf540c49a03079f4c8d3818\nCloses-Bug: #1870400\n'}, {'number': 2, 'created': '2020-04-03 09:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b11003961c6135e0acc6df52830feb07762ae1fc', 'message': 'Limit ml2_vlan_allocations.vlan_id value in DB backend\n\nLimit ""ml2_vlan_allocations.vlan_id"" values stored in the DB by\nadding a check constraint in the DB engine. This check will\nverify that vlan_id is in the interval [1, 4094].\n\nChange-Id: Ie6453cb7a2ef0c43baf540c49a03079f4c8d3818\nCloses-Bug: #1870400\n'}, {'number': 3, 'created': '2020-04-06 12:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/62ff06b400ccc1f45a724fe962b41796654af418', 'message': 'Limit ml2_vlan_allocations.vlan_id value in DB backend\n\nLimit ""ml2_vlan_allocations.vlan_id"" values stored in the DB by\nadding a check constraint in the DB engine. This check will\nverify that vlan_id is in the interval [1, 4094].\n\nChange-Id: Ie6453cb7a2ef0c43baf540c49a03079f4c8d3818\nCloses-Bug: #1870400\n'}, {'number': 4, 'created': '2020-04-08 14:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b844b34dfcbd128a859434e4fce9b4aeab7a41e', 'message': 'Limit ml2_vlan_allocations.vlan_id value in DB backend\n\nLimit ""ml2_vlan_allocations.vlan_id"" values stored in the DB by\nadding a check constraint in the DB engine. This check will\nverify that vlan_id is in the interval [1, 4094].\n\nChange-Id: Ie6453cb7a2ef0c43baf540c49a03079f4c8d3818\nCloses-Bug: #1870400\n'}, {'number': 5, 'created': '2020-04-14 12:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e223b71a470776ee3baa2df3737c5ce46639119a', 'message': 'Limit ml2_vlan_allocations.vlan_id value in DB backend\n\nLimit ""ml2_vlan_allocations.vlan_id"" values stored in the DB by\nadding a check constraint in the DB engine. This check will\nverify that vlan_id is in the interval [1, 4094].\n\nChange-Id: Ie6453cb7a2ef0c43baf540c49a03079f4c8d3818\nCloses-Bug: #1870400\n'}, {'number': 6, 'created': '2020-04-17 08:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/703124493368fa64e31a7d0152149916bf78dc14', 'message': 'Limit ml2_vlan_allocations.vlan_id value in DB backend\n\nLimit ""ml2_vlan_allocations.vlan_id"" values stored in the DB by\nadding a check constraint in the DB engine. This check will\nverify that vlan_id is in the interval [1, 4094].\n\nChange-Id: Ie6453cb7a2ef0c43baf540c49a03079f4c8d3818\nCloses-Bug: #1870400\n'}, {'number': 7, 'created': '2020-04-28 09:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/94bfa193197b891e6fce658b29e25f5436de7f9f', 'message': 'Limit ml2_vlan_allocations.vlan_id value in DB backend\n\nLimit ""ml2_vlan_allocations.vlan_id"" values stored in the DB by\nadding a check constraint in the DB engine. This check will\nverify that vlan_id is in the interval [1, 4094].\n\nChange-Id: Ie6453cb7a2ef0c43baf540c49a03079f4c8d3818\nCloses-Bug: #1870400\n'}, {'number': 8, 'created': '2020-05-05 11:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c6ece525f2b73cbfd41c725a4bd1c2ec163950e', 'message': 'Limit ml2_vlan_allocations.vlan_id value in DB backend\n\nLimit ""ml2_vlan_allocations.vlan_id"" values stored in the DB by\nadding a check constraint in the DB engine. This check will\nverify that vlan_id is in the interval [1, 4094].\n\nChange-Id: Ie6453cb7a2ef0c43baf540c49a03079f4c8d3818\nCloses-Bug: #1870400\n'}, {'number': 9, 'created': '2020-05-06 08:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7219ec36c14a4079dd7a970be0cacce338511752', 'message': 'Limit ml2_vlan_allocations.vlan_id value in DB backend\n\nLimit ""ml2_vlan_allocations.vlan_id"" values stored in the DB by\nadding a check constraint in the DB engine. This check will\nverify that vlan_id is in the interval [1, 4094].\n\nChange-Id: Ie6453cb7a2ef0c43baf540c49a03079f4c8d3818\nCloses-Bug: #1870400\n'}, {'number': 10, 'created': '2020-05-08 14:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15aef4138fb24ecee0e417982bee7c0cecd62c78', 'message': 'Limit ml2_vlan_allocations.vlan_id value in DB backend\n\nLimit ""ml2_vlan_allocations.vlan_id"" values stored in the DB by\nadding a check constraint in the DB engine. This check will\nverify that vlan_id is in the interval [1, 4094].\n\nChange-Id: Ie6453cb7a2ef0c43baf540c49a03079f4c8d3818\nCloses-Bug: #1870400\n'}, {'number': 11, 'created': '2020-05-11 11:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1af7c16a702c74c8dae72291b6439d4e5720f5b', 'message': 'Limit ml2_vlan_allocations.vlan_id value in DB backend\n\nLimit ""ml2_vlan_allocations.vlan_id"" values stored in the DB by\nadding a check constraint in the DB engine. This check will\nverify that vlan_id is in the interval [1, 4094].\n\nChange-Id: Ie6453cb7a2ef0c43baf540c49a03079f4c8d3818\nCloses-Bug: #1870400\n'}, {'number': 12, 'created': '2020-05-13 17:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d44ba59ce26353281f7d37b28cb3c72577bbda2c', 'message': 'Limit ml2_vlan_allocations.vlan_id value in DB backend\n\nLimit ""ml2_vlan_allocations.vlan_id"" values stored in the DB by\nadding a check constraint in the DB engine. This check will\nverify that vlan_id is in the interval [1, 4094].\n\nChange-Id: Ie6453cb7a2ef0c43baf540c49a03079f4c8d3818\nCloses-Bug: #1870400\n'}, {'number': 13, 'created': '2020-05-25 17:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb469fc00b1bbefd80123b9afeddb4d266f4d397', 'message': 'Limit ml2_vlan_allocations.vlan_id value in DB backend\n\nLimit ""ml2_vlan_allocations.vlan_id"" values stored in the DB by\nadding a check constraint in the DB engine. This check will\nverify that vlan_id is in the interval [1, 4094].\n\nChange-Id: Ie6453cb7a2ef0c43baf540c49a03079f4c8d3818\nCloses-Bug: #1870400\n'}, {'number': 14, 'created': '2020-06-05 10:04:54.000000000', 'files': ['neutron/cmd/upgrade_checks/checks.py', 'neutron/db/migration/alembic_migrations/versions/victoria/expand/dfe425060830_limit_vlan_allocation_id_values.py', 'releasenotes/notes/limit_vlan_allocations_in_db-93083c6c4923403a.yaml', 'neutron/db/models/plugins/ml2/vlanallocation.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/tests/unit/cmd/upgrade_checks/test_checks.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/795aa6b9fa792ec31c211cb690cae905c067dcf5', 'message': 'Limit ml2_vlan_allocations.vlan_id value in DB backend\n\nLimit ""ml2_vlan_allocations.vlan_id"" values stored in the DB by\nadding a check constraint in the DB engine. This check will\nverify that vlan_id is in the interval [1, 4094].\n\nChange-Id: Ie6453cb7a2ef0c43baf540c49a03079f4c8d3818\nCloses-Bug: #1870400\n'}]",17,717083,795aa6b9fa792ec31c211cb690cae905c067dcf5,122,10,14,16688,,,0,"Limit ml2_vlan_allocations.vlan_id value in DB backend

Limit ""ml2_vlan_allocations.vlan_id"" values stored in the DB by
adding a check constraint in the DB engine. This check will
verify that vlan_id is in the interval [1, 4094].

Change-Id: Ie6453cb7a2ef0c43baf540c49a03079f4c8d3818
Closes-Bug: #1870400
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/717083/10 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/versions/ussuri/expand/dfe425060830_limit_vlan_allocation_id_values.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD']",2,698477d9942c8deabee550f529e09087ffd64358,bug/1870400,dfe425060830,18a7e90ae768,43,1
openstack%2Frequirements~master~I33687e8935845a606d97deb55dd5573354867e1b,openstack/requirements,master,I33687e8935845a606d97deb55dd5573354867e1b,Remove six from local requirements,MERGED,2020-06-09 18:55:13.000000000,2020-06-09 23:39:22.000000000,2020-06-09 23:37:45.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 18:55:13.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9ee3854a500af72efd5d2147745d02e2fba2dd1a', 'message': ""Remove six from local requirements\n\nWe don't use six anywhere in the requirements code, only in some test\nfiles that are only used for running tests against. This removes six\nfrom our requirements.txt file since it does not need to be installed.\n\nChange-Id: I33687e8935845a606d97deb55dd5573354867e1b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,734673,9ee3854a500af72efd5d2147745d02e2fba2dd1a,7,2,1,11904,,,0,"Remove six from local requirements

We don't use six anywhere in the requirements code, only in some test
files that are only used for running tests against. This removes six
from our requirements.txt file since it does not need to be installed.

Change-Id: I33687e8935845a606d97deb55dd5573354867e1b
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/73/734673/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9ee3854a500af72efd5d2147745d02e2fba2dd1a,drop_mock,,six>=1.10.0 # MIT,0,1
openstack%2Fnetworking-ovn~stable%2Ftrain~Ia4b986146c77edf0616015380359e37233df80fc,openstack/networking-ovn,stable/train,Ia4b986146c77edf0616015380359e37233df80fc,[OVN] Don't set virtual port type on ports with similar addresses,MERGED,2020-06-04 14:33:51.000000000,2020-06-09 23:24:45.000000000,2020-06-09 23:23:08.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-04 14:33:51.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/functional/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/539036aaaaa4e21ca3b13cc10c6cfec30bc878f8', 'message': ""[OVN] Don't set virtual port type on ports with similar addresses\n\nBecause of broken check why one port has similar address to the other\none, the first one by mistake could be set as virtual.\nExample:\n port_1: 10.11.1.100\n port_2: 10.11.1.10\n\nOn create of port_2 it is set as 'virtual', but shouldn't.\n\nThis patch fixes that bug by using common function\nutils.get_ovn_port_addresses().\n\nCherry-picked from neutron: https://review.opendev.org/#/c/732690/\n\nChange-Id: Ia4b986146c77edf0616015380359e37233df80fc\nCloses-Bug: #1881759\n(cherry picked from commit e6023ecb482ee0dc7e29739b94e009c275cc24a1)\n""}]",0,733628,539036aaaaa4e21ca3b13cc10c6cfec30bc878f8,8,3,1,24791,,,0,"[OVN] Don't set virtual port type on ports with similar addresses

Because of broken check why one port has similar address to the other
one, the first one by mistake could be set as virtual.
Example:
 port_1: 10.11.1.100
 port_2: 10.11.1.10

On create of port_2 it is set as 'virtual', but shouldn't.

This patch fixes that bug by using common function
utils.get_ovn_port_addresses().

Cherry-picked from neutron: https://review.opendev.org/#/c/732690/

Change-Id: Ia4b986146c77edf0616015380359e37233df80fc
Closes-Bug: #1881759
(cherry picked from commit e6023ecb482ee0dc7e29739b94e009c275cc24a1)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/28/733628/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/functional/test_mech_driver.py']",2,539036aaaaa4e21ca3b13cc10c6cfec30bc878f8,," def test_virtual_port_not_set_similiar_address(self): # Create one port self._create_port(fixed_ip='10.0.0.110') # Create second port with similar IP, so that # string matching will return True second_port = self._create_port(fixed_ip='10.0.0.11') # Assert the virtual port has not been set. ovn_vport = self._find_port_row(second_port['id']) self.assertEqual("""", ovn_vport.type) self.assertNotIn(ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY, ovn_vport.options) self.assertNotIn(ovn_const.LSP_OPTIONS_VIRTUAL_IP_KEY, ovn_vport.options) ",,18,2
openstack%2Ftripleo-quickstart~master~If20a0e479cbbc3362cf59d817f3c6969648f32ba,openstack/tripleo-quickstart,master,If20a0e479cbbc3362cf59d817f3c6969648f32ba,Use upper constraints for quickstart requirements,MERGED,2020-06-04 07:51:44.000000000,2020-06-09 23:13:45.000000000,2020-06-09 23:12:23.000000000,"[{'_account_id': 5241}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-06-04 07:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/645d6b84535bebfcc63bd42fabe855f507f96cb1', 'message': 'Use upper constraints for quickstart requirements\n\nWith [1][2] only CI cases were handled but also need\nto handle for installation outside of CI.\n\n[1] https://review.opendev.org/#/c/730199\n[2] https://review.opendev.org/#/c/732091\n\nRelated-Bug: #1881646\nChange-Id: If20a0e479cbbc3362cf59d817f3c6969648f32ba\n'}, {'number': 2, 'created': '2020-06-04 15:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b4e79f8c4a1e43e0b04a683c2b67c1daa068a6cc', 'message': 'Use upper constraints for quickstart requirements\n\nWith [1][2] only CI cases were handled but also need\nto handle for installation outside of CI.\n\nMany projects have dropped py2 support and with upper\nconstraints when running in py2 distros will ensure\nonly py2 compatible dependencies are installed.\n\n[1] https://review.opendev.org/#/c/730199\n[2] https://review.opendev.org/#/c/732091\n\nRelated-Bug: #1881646\nChange-Id: If20a0e479cbbc3362cf59d817f3c6969648f32ba\n'}, {'number': 3, 'created': '2020-06-05 08:09:11.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3c7b218e0d8c4ff9f89e085656c244fbad8dc65d', 'message': 'Use upper constraints for quickstart requirements\n\nWith [1][2] only CI cases were handled but also need\nto handle for installation outside of CI.\n\nMany projects have dropped py2 support and with upper\nconstraints when running in py2 distros will ensure\nonly py2 compatible dependencies are installed.\n\n[1] https://review.opendev.org/#/c/730199\n[2] https://review.opendev.org/#/c/732091\n\nRelated-Bug: #1881646\nChange-Id: If20a0e479cbbc3362cf59d817f3c6969648f32ba\n'}]",4,733471,3c7b218e0d8c4ff9f89e085656c244fbad8dc65d,36,9,3,13861,,,0,"Use upper constraints for quickstart requirements

With [1][2] only CI cases were handled but also need
to handle for installation outside of CI.

Many projects have dropped py2 support and with upper
constraints when running in py2 distros will ensure
only py2 compatible dependencies are installed.

[1] https://review.opendev.org/#/c/730199
[2] https://review.opendev.org/#/c/732091

Related-Bug: #1881646
Change-Id: If20a0e479cbbc3362cf59d817f3c6969648f32ba
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/71/733471/1 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,645d6b84535bebfcc63bd42fabe855f507f96cb1,bug/1881646, export TARGET_RELEASE=$(awk '/release:/ { print $2}' config/release/$OPT_RELEASE.yml) export PIP_CONSTRAINT=${PIP_CONSTRAINT:-https://releases.openstack.org/constraints/upper/${TARGET_RELEASE:-master}},,2,0
openstack%2Fmonasca-api~master~I06a83cb2337b86cf4674d337272e2732e0d4e0fb,openstack/monasca-api,master,I06a83cb2337b86cf4674d337272e2732e0d4e0fb,[WIP] Add support for events services,NEW,2020-03-02 12:09:33.000000000,2020-06-09 23:07:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-03-02 12:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/87573a1783656dc9ace7b14dfac12448d23448df', 'message': '[WIP] Add support for events services\n\nChange-Id: I06a83cb2337b86cf4674d337272e2732e0d4e0fb\n'}, {'number': 2, 'created': '2020-03-04 15:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/e80e749702eea6b24bff1bdcf93a47427070b6d2', 'message': '[WIP] Add support for events services\n\nChange-Id: I06a83cb2337b86cf4674d337272e2732e0d4e0fb\n'}, {'number': 3, 'created': '2020-05-06 15:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/6d62b87fb278e2df612c8c2e3ac4d627d4fe7d5a', 'message': '[WIP] Add support for events services\n\nChange-Id: I06a83cb2337b86cf4674d337272e2732e0d4e0fb\n'}, {'number': 4, 'created': '2020-06-08 11:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/8867ab6fd871ec1f5ca3049cf6c1e5665f0f8920', 'message': '[WIP] Add support for events services\n\nChange-Id: I06a83cb2337b86cf4674d337272e2732e0d4e0fb\n'}, {'number': 5, 'created': '2020-06-08 12:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/2b18f6333e51e690ad5ba62f404714c5133469ef', 'message': '[WIP] Add support for events services\n\nChange-Id: I06a83cb2337b86cf4674d337272e2732e0d4e0fb\n'}, {'number': 6, 'created': '2020-06-09 12:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/bd68d59fbc558cd36d2bdf9f469f4110418f8518', 'message': '[WIP] Add support for events services\n\nChange-Id: I06a83cb2337b86cf4674d337272e2732e0d4e0fb\n'}, {'number': 7, 'created': '2020-06-09 19:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/3d33315b44f19809d99b2882fbea688097a7cc2b', 'message': '[WIP] Add support for events services\n\nChange-Id: I06a83cb2337b86cf4674d337272e2732e0d4e0fb\n'}, {'number': 8, 'created': '2020-06-09 21:59:08.000000000', 'files': ['devstack/lib/persister.sh', 'devstack/lib/ui.sh', 'devstack/lib/monasca-log.sh', 'devstack/lib/ELK.sh', 'devstack/Vagrantfile', 'devstack/plugin.sh', 'devstack/lib/monasca-events.sh'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/503c4a7eac00fc3b23719cf7b24252347cef92d4', 'message': '[WIP] Add support for events services\n\nChange-Id: I06a83cb2337b86cf4674d337272e2732e0d4e0fb\n'}]",10,710748,503c4a7eac00fc3b23719cf7b24252347cef92d4,15,1,8,26141,,,0,"[WIP] Add support for events services

Change-Id: I06a83cb2337b86cf4674d337272e2732e0d4e0fb
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/48/710748/6 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/monasca-log.sh', 'devstack/lib/ELK.sh', 'devstack/Vagrantfile', 'devstack/plugin.sh', 'devstack/lib/monasca-events.sh']",5,87573a1783656dc9ace7b14dfac12448d23448df,event-devstack,"#!/usr/bin/env bash # # Copyright 2020 FUJITSU LIMITED # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # _XTRACE_MON_EVENTS=$(set +o | grep xtrace) set +o xtrace _ERREXIT_MON_EVENTS=$(set +o | grep errexit) set -o errexit function configure_monasca-events { configure_kafka } function configure_kafka { echo_summary ""Configuring Kafka topics"" /opt/kafka/bin/kafka-topics.sh --create --zookeeper localhost:2181 \ --replication-factor 1 --partitions 3 --topic openstack-events } function delete_kafka_topics { echo_summary ""Deleting Kafka topics"" /opt/kafka/bin/kafka-topics.sh --delete --zookeeper localhost:2181 \ --topic evetns || true } function create_events_management_accounts { echo_summary ""Enable events Management in Keystone"" get_or_create_service ""events"" ""events"" ""Monasca Events service"" get_or_create_endpoint \ ""logs"" \ ""$REGION_NAME"" \ ""$MONASCA_API_URI_V2"" \ ""$MONASCA_API_URI_V2"" \ ""$MONASCA_API_URI_V2"" } #Restore errexit ${_ERREXIT_MON_EVENTS} # Restore xtrace ${_XTRACE_MON_EVENTS} ",,322,43
openstack%2Frequirements~master~Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0,openstack/requirements,master,Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0,CI: add requirements-tox-py3x-check-uc job on AArch64,MERGED,2020-05-18 09:15:46.000000000,2020-06-09 22:54:42.000000000,2020-06-09 22:50:57.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-05-18 09:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/30f1139415e15cd2c4ba3d5bb6f105ade0af916b', 'message': 'CI: add requirements-tox-py3x-check-uc jobs on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n'}, {'number': 2, 'created': '2020-05-18 09:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/70bc3a31b8433fa602b7418410b8da7b58fe6916', 'message': 'CI: add requirements-tox-py3x-check-uc jobs on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n'}, {'number': 3, 'created': '2020-05-18 09:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a0edf2fdc4a0d28d04a1797ba6311d2c9ad65d63', 'message': 'CI: add requirements-tox-py3x-check-uc jobs on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nDepends-on: https://review.opendev.org/728800\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n'}, {'number': 4, 'created': '2020-05-18 10:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2b0e12a730940ba8815a86f1d23db2ba0f9999ec', 'message': 'CI: add requirements-tox-py3x-check-uc jobs on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n'}, {'number': 5, 'created': '2020-05-18 10:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/31a768b977f1223a6ad6af6a1a0bd254a76005a0', 'message': 'CI: add requirements-tox-py3x-check-uc jobs on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nDepends-on: https://review.opendev.org/728800\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n'}, {'number': 6, 'created': '2020-05-18 10:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/03be8e7b6d99bfc3703e2e1115e8dedce12b8ccd', 'message': 'CI: add requirements-tox-py3x-check-uc jobs on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n'}, {'number': 7, 'created': '2020-05-18 11:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ac7a10b38cc0733556c84a2c67774ffe3045a835', 'message': 'CI: add requirements-tox-py3x-check-uc jobs on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nDepends-on: https://review.opendev.org/728810\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n'}, {'number': 8, 'created': '2020-05-18 11:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5759226a3b8edbd5bf495f68b2222fd7163fd858', 'message': 'CI: add requirements-tox-py3x-check-uc jobs on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n'}, {'number': 9, 'created': '2020-05-18 11:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9c87fdb33f383d1bf9663b6afde976d835d6a2aa', 'message': 'CI: add requirements-tox-py3x-check-uc jobs on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n'}, {'number': 10, 'created': '2020-05-18 14:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/75043af2274ac89b592de56c200a310654afd30a', 'message': 'CI: add requirements-tox-py3x-check-uc jobs on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n'}, {'number': 11, 'created': '2020-05-18 14:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f5d0d4e9199aaabb649de6b5a18cebb32322ee6d', 'message': 'CI: add requirements-tox-py3x-check-uc jobs on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n'}, {'number': 12, 'created': '2020-05-18 14:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b180436a7458afbbd406e4f3002dcaeeed5de4bc', 'message': 'CI: add requirements-tox-py3x-check-uc jobs on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n'}, {'number': 13, 'created': '2020-05-18 15:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d76304f248679cc2985e2eca4b99994e21cabe17', 'message': 'CI: add requirements-tox-py3x-check-uc jobs on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n'}, {'number': 14, 'created': '2020-05-19 07:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/672d01f61ba255a8d1d31e36433eadbead593494', 'message': 'CI: add requirements-tox-py3x-check-uc job on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n'}, {'number': 15, 'created': '2020-05-19 07:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/31d254c01327ae42123e7aa9f2c6d10c02840591', 'message': 'CI: add requirements-tox-py3x-check-uc job on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n'}, {'number': 16, 'created': '2020-05-20 15:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/41d93a790a6f0cf45b1b818c0ee80aaa8b33e608', 'message': 'CI: add requirements-tox-py3x-check-uc job on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nUpdated bindep to cover all missing build dependencies.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n'}, {'number': 17, 'created': '2020-05-21 17:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8ff2c9d25599736e6245f4e5b6abf19a20a0a39e', 'message': ""CI: add requirements-tox-py3x-check-uc job on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nUpdated bindep to cover all missing build dependencies.\n\nAs we need librdkafka 1.4.0+ we build version from Debian 'testing'.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n""}, {'number': 18, 'created': '2020-05-21 17:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b53429ab4a75d819a7473e4f4655ac99b7d4ae51', 'message': ""CI: add requirements-tox-py3x-check-uc job on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nUpdated bindep to cover all missing build dependencies.\n\nAs we need librdkafka 1.4.0+ we build version from Debian 'testing'.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n""}, {'number': 19, 'created': '2020-05-21 17:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e1e4e17adf897b2d74ab1ed2f0ab290eaf0668f2', 'message': ""CI: add requirements-tox-py3x-check-uc job on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nUpdated bindep to cover all missing build dependencies.\n\nAs we need librdkafka 1.4.0+ we build version from Debian 'testing'.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n""}, {'number': 20, 'created': '2020-05-21 18:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9a76ec84de49146352e2ea721778ae4777e40858', 'message': ""CI: add requirements-tox-py3x-check-uc job on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nUpdated bindep to cover all missing build dependencies.\n\nAs we need librdkafka 1.4.0+ we build version from Debian 'testing'.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n""}, {'number': 21, 'created': '2020-05-21 18:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/328a526ec2816ebdb4f1429a00b988102958d587', 'message': ""CI: add requirements-tox-py3x-check-uc job on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nUpdated bindep to cover all missing build dependencies.\n\nAs we need librdkafka 1.4.0+ we build version from Debian 'testing'.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n""}, {'number': 22, 'created': '2020-05-21 18:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/af4e658acef03a5d9932ed5b0cc221226a348237', 'message': ""CI: add requirements-tox-py3x-check-uc job on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nUpdated bindep to cover all missing build dependencies.\n\nAs we need librdkafka 1.4.0+ we build version from Debian 'testing'.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n""}, {'number': 23, 'created': '2020-05-21 18:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e2bc121e0f879a75f136b25e9c0ce1a29eb0bff1', 'message': ""CI: add requirements-tox-py3x-check-uc job on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nUpdated bindep to cover all missing build dependencies.\n\nAs we need librdkafka 1.4.0+ we build version from Debian 'testing'.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n""}, {'number': 24, 'created': '2020-05-21 19:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7e12528c0a9c59b797bb32a9aeff8fedb22cf3fd', 'message': ""CI: add requirements-tox-py3x-check-uc job on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nUpdated bindep to cover all missing build dependencies.\n\nAs we need librdkafka 1.4.0+ we build version from Debian 'testing'.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n""}, {'number': 25, 'created': '2020-05-21 20:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0904d0345fa934197bc43638ecb0ba4da8ff62ea', 'message': ""CI: add requirements-tox-py3x-check-uc job on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nUpdated bindep to cover all missing build dependencies.\n\nAs we need librdkafka 1.4.0+ we build version from Debian 'testing'.\n\nNOTE: dropped other CI jobs\nNOTE: protobuf downgraded to 3.11.3\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n""}, {'number': 26, 'created': '2020-05-22 09:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2b3f85f2d2728df7861783d731d2a111eede0d0e', 'message': ""CI: add requirements-tox-py3x-check-uc job on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nUpdated bindep to cover all missing build dependencies.\n\nAs we need librdkafka 1.4.0+ we build version from Debian 'testing'.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n""}, {'number': 27, 'created': '2020-06-08 09:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e60178ecc1b706f008b92ce250e4ed16b830d415', 'message': ""CI: add requirements-tox-py3x-check-uc job on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nAs we need librdkafka 1.4.0+ we build version from Debian 'testing'.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n""}, {'number': 28, 'created': '2020-06-08 09:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/723fac0a9b1362ca44a45b91572c20f1572f7c16', 'message': ""CI: add requirements-tox-py3x-check-uc job on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nAs we need librdkafka 1.4.0+ we build version from Debian 'testing'.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n""}, {'number': 29, 'created': '2020-06-08 09:26:53.000000000', 'files': ['.zuul.d/project.yaml', 'playbooks/build-kafka.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/23111ad39a44bb23ef4b9ec2c15922b7d6ad10d2', 'message': ""CI: add requirements-tox-py3x-check-uc job on AArch64\n\nThere are moments when bumping versions breaks all non-x86 builds\nbecause upstream forgets to upload source tarball to Pypi.\n\nAs we need librdkafka 1.4.0+ we build version from Debian 'testing'.\n\nChange-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0\n""}]",7,728798,23111ad39a44bb23ef4b9ec2c15922b7d6ad10d2,88,4,29,24072,,,0,"CI: add requirements-tox-py3x-check-uc job on AArch64

There are moments when bumping versions breaks all non-x86 builds
because upstream forgets to upload source tarball to Pypi.

As we need librdkafka 1.4.0+ we build version from Debian 'testing'.

Change-Id: Ib4a4eac5e5f14eab8104fb8fe4f49c90e333dab0
",git fetch https://review.opendev.org/openstack/requirements refs/changes/98/728798/26 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/jobs.yaml']",2,30f1139415e15cd2c4ba3d5bb6f105ade0af916b,,- job: name: requirements-tox-py36-check-uc-aarch64 parent: requirements-tox-py36-check-uc nodeset: ubuntu-bionic-arm64 - job: name: requirements-tox-py38-check-uc-aarch64 parent: requirements-tox-py38-check-uc nodeset: ubuntu-bionic-arm64,,13,0
openstack%2Ftempest~master~Ia32df8e2be29bb0951efd08db9eed9e67d749e1f,openstack/tempest,master,Ia32df8e2be29bb0951efd08db9eed9e67d749e1f,Don't use deprecated configparser.readfp,MERGED,2020-05-05 11:32:48.000000000,2020-06-09 22:54:21.000000000,2020-06-09 22:50:55.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30742}]","[{'number': 1, 'created': '2020-05-05 11:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/97d2c2e6b213402ff6d5e48ff4bd62bc5557c42a', 'message': ""Don't use deprecated configparser.readfp\n\nRunning verify_tempest_config, it complains with:\n  /opt/stack/tempest/tempest/cmd/verify_tempest_config.py:444:\n  DeprecationWarning: This method will be removed in future versions.\n  Use 'parser.read_file()' instead.\n\nUse read_file.\n\nAlso, remove one extra use of six in this file.\n\nChange-Id: Ia32df8e2be29bb0951efd08db9eed9e67d749e1f\n""}, {'number': 2, 'created': '2020-05-05 13:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7235010a676dd14430cc289f124665ee4a0ceded', 'message': ""Don't use deprecated configparser.readfp\n\nRunning verify_tempest_config, it complains with:\n  /opt/stack/tempest/tempest/cmd/verify_tempest_config.py:444:\n  DeprecationWarning: This method will be removed in future versions.\n  Use 'parser.read_file()' instead.\n\nUse read_file.\n\nAlso, remove one extra use of six in this file.\n\nChange-Id: Ia32df8e2be29bb0951efd08db9eed9e67d749e1f\n""}, {'number': 3, 'created': '2020-05-05 16:21:51.000000000', 'files': ['tempest/cmd/verify_tempest_config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2f273243fc4c80a0d9fab5c32bad7abfea57694a', 'message': ""Don't use deprecated configparser.readfp\n\nRunning verify_tempest_config, it complains with:\n  /opt/stack/tempest/tempest/cmd/verify_tempest_config.py:444:\n  DeprecationWarning: This method will be removed in future versions.\n  Use 'parser.read_file()' instead.\n\nUse read_file.\n\nAlso, remove one extra use of six in this file.\n\nChange-Id: Ia32df8e2be29bb0951efd08db9eed9e67d749e1f\n""}]",3,725536,2f273243fc4c80a0d9fab5c32bad7abfea57694a,13,4,3,6547,,,0,"Don't use deprecated configparser.readfp

Running verify_tempest_config, it complains with:
  /opt/stack/tempest/tempest/cmd/verify_tempest_config.py:444:
  DeprecationWarning: This method will be removed in future versions.
  Use 'parser.read_file()' instead.

Use read_file.

Also, remove one extra use of six in this file.

Change-Id: Ia32df8e2be29bb0951efd08db9eed9e67d749e1f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/36/725536/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/cmd/verify_tempest_config.py'],1,97d2c2e6b213402ff6d5e48ff4bd62bc5557c42a,parser,from urllib import parse as urlparse CONF_PARSER = configparser.ConfigParser() CONF_PARSER.read_file(conf_file),from six import moves from six.moves.urllib import parse as urlparse CONF_PARSER = moves.configparser.ConfigParser() CONF_PARSER.readfp(conf_file),3,4
openstack%2Fopenstack-ansible-os_neutron~stable%2Fussuri~I69a4e5deed4b21e70afd7dac747375b81e98cb22,openstack/openstack-ansible-os_neutron,stable/ussuri,I69a4e5deed4b21e70afd7dac747375b81e98cb22,Update OVN metadata agent binary name,MERGED,2020-06-05 14:05:13.000000000,2020-06-09 22:42:23.000000000,2020-06-09 22:40:55.000000000,"[{'_account_id': 13095}, {'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-06-05 14:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/5c876ae1f2838df15a9fef8bf20bef9bdd93f027', 'message': 'Update OVN metadata agent binary name\n\nDuring the transition from networking-ovn to the neutron tree, the name\nof the metadata agent binary changed from networking-ovn-metadata-agent to\nneutron-ovn-metadata-agent. This patch updates the service definition to\nallow the metadata agent to function.\n\nChange-Id: I69a4e5deed4b21e70afd7dac747375b81e98cb22\n(cherry picked from commit fccf1b75ced3a21e2b165a6e5fd626c3a0d6066b)\n'}, {'number': 2, 'created': '2020-06-08 15:30:18.000000000', 'files': ['templates/neutron_ovn_metadata_agent.ini.j2', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/672ae0e31908effc349a0a7d570c6a63024b86e4', 'message': 'Update OVN metadata agent binary name\n\nDuring the transition from networking-ovn to the neutron tree, the name\nof the metadata agent binary changed from networking-ovn-metadata-agent to\nneutron-ovn-metadata-agent. This patch updates the service definition to\nallow the metadata agent to function.\n\nDepends-On: https://review.opendev.org/734129\nChange-Id: I69a4e5deed4b21e70afd7dac747375b81e98cb22\n(cherry picked from commit fccf1b75ced3a21e2b165a6e5fd626c3a0d6066b)\n'}]",0,733849,672ae0e31908effc349a0a7d570c6a63024b86e4,17,4,2,13095,,,0,"Update OVN metadata agent binary name

During the transition from networking-ovn to the neutron tree, the name
of the metadata agent binary changed from networking-ovn-metadata-agent to
neutron-ovn-metadata-agent. This patch updates the service definition to
allow the metadata agent to function.

Depends-On: https://review.opendev.org/734129
Change-Id: I69a4e5deed4b21e70afd7dac747375b81e98cb22
(cherry picked from commit fccf1b75ced3a21e2b165a6e5fd626c3a0d6066b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/49/733849/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/neutron_ovn_metadata_agent.ini.j2', 'vars/main.yml']",2,5c876ae1f2838df15a9fef8bf20bef9bdd93f027,," neutron-ovn-metadata-agent: service_name: neutron-ovn-metadata-agent service_conf: neutron_ovn_metadata_agent.ini execstarts: ""{{ neutron_bin }}/neutron-ovn-metadata-agent --config-file {{ neutron_conf_dir }}/neutron.conf --config-file {{ neutron_conf_dir }}/plugins/ml2/ml2_conf.ini --config-file {{ neutron_conf_dir }}/neutron_ovn_metadata_agent.ini"""," networking-ovn-metadata-agent: service_name: networking-ovn-metadata-agent service_conf: networking_ovn_metadata_agent.ini execstarts: ""{{ neutron_bin }}/networking-ovn-metadata-agent --config-file {{ neutron_conf_dir }}/neutron.conf --config-file {{ neutron_conf_dir }}/plugins/ml2/ml2_conf.ini --config-file {{ neutron_conf_dir }}/networking_ovn_metadata_agent.ini""",4,4
openstack%2Fneutron~stable%2Fussuri~Ic9bbb43aa832ad6cc45d57328b40afe4468ddfca,openstack/neutron,stable/ussuri,Ic9bbb43aa832ad6cc45d57328b40afe4468ddfca,Blacklist the OVN tempest IPv6 hotplug test,MERGED,2020-06-05 09:15:12.000000000,2020-06-09 22:27:14.000000000,2020-06-09 22:23:57.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13686}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-05 09:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9de9cd8c0d41c7b83cbd8b09e38515579b539dde', 'message': ""Bump oslo.log to version 4.1.2\n\nVersions of oslo.log >= 4.1.2 require a second argument when\ninitializing the OSJournalHandler class. While I've started\na review to fix that regression [0], bump oslo.log to a later\nversion that requires this new flag and pass it to fix the\ngate.\n\nAlso had to blacklist the OVN tempest IPv6 hotplug test\nsince it is failing too much to pass the check jobs.\n\n[0] https://review.opendev.org/732457\n\nChange-Id: Ic9bbb43aa832ad6cc45d57328b40afe4468ddfca\nRelated-bug: #1871840\nRelated-bug: #1881558\n(cherry picked from commit 1a3811448d0a108e8e16bb32810e4f59db226a4b)\n""}, {'number': 2, 'created': '2020-06-05 18:43:29.000000000', 'files': ['zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d09b1b40b6bded2490ea980bd9c0d3718600de00', 'message': 'Blacklist the OVN tempest IPv6 hotplug test\n\nBlacklist the OVN tempest IPv6 hotplug test since it is\nfailing too much to pass the check jobs.\n\nPartial cherry pick of 1a3811448d0a108e8e16bb32810e4f59db226a4b\n\nChange-Id: Ic9bbb43aa832ad6cc45d57328b40afe4468ddfca\nRelated-bug: #1881558\n(cherry picked from commit 1a3811448d0a108e8e16bb32810e4f59db226a4b)\n'}]",0,733785,d09b1b40b6bded2490ea980bd9c0d3718600de00,67,10,2,8313,,,0,"Blacklist the OVN tempest IPv6 hotplug test

Blacklist the OVN tempest IPv6 hotplug test since it is
failing too much to pass the check jobs.

Partial cherry pick of 1a3811448d0a108e8e16bb32810e4f59db226a4b

Change-Id: Ic9bbb43aa832ad6cc45d57328b40afe4468ddfca
Related-bug: #1881558
(cherry picked from commit 1a3811448d0a108e8e16bb32810e4f59db226a4b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/733785/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'zuul.d/tempest-singlenode.yaml', 'lower-constraints.txt', 'neutron/services/logapi/drivers/openvswitch/ovs_firewall_log.py']",4,9de9cd8c0d41c7b83cbd8b09e38515579b539dde,bug/1871840-stable/ussuri," # TODO(haleyb): remove when oslo.log is fixed, related bug #1871840 journal_handler = handlers.OSJournalHandler(facility=None)", journal_handler = handlers.OSJournalHandler(),15,11
openstack%2Fmanila~stable%2Fussuri~I5137cd972ec7737d70865038d7b82cfe13b9566c,openstack/manila,stable/ussuri,I5137cd972ec7737d70865038d7b82cfe13b9566c,Add user message when share shrinking fails at the driver,MERGED,2020-06-04 03:02:56.000000000,2020-06-09 22:07:56.000000000,2020-06-09 22:06:16.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}, {'_account_id': 31213}]","[{'number': 1, 'created': '2020-06-04 03:02:56.000000000', 'files': ['manila/share/manager.py', 'releasenotes/notes/bug-1802424-add-user-message-when-shrinking-fails-83d0f60ead6f4a4b.yaml', 'manila/message/message_field.py', 'manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/3cbceccc4061a8931d682285419c716eafafb6cd', 'message': 'Add user message when share shrinking fails at the driver\n\nNot all drivers support share shrinking.\nThis patch adds a user message when shrinking fails due to operation\nnot being supported.\n\nChange-Id: I5137cd972ec7737d70865038d7b82cfe13b9566c\nCloses-Bug: #1802424\n(cherry picked from commit 853d4fbceb1fffbe4fe4ae91846ac8531aa5d516)\n'}]",0,733427,3cbceccc4061a8931d682285419c716eafafb6cd,11,5,1,16643,,,0,"Add user message when share shrinking fails at the driver

Not all drivers support share shrinking.
This patch adds a user message when shrinking fails due to operation
not being supported.

Change-Id: I5137cd972ec7737d70865038d7b82cfe13b9566c
Closes-Bug: #1802424
(cherry picked from commit 853d4fbceb1fffbe4fe4ae91846ac8531aa5d516)
",git fetch https://review.opendev.org/openstack/manila refs/changes/27/733427/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/manager.py', 'releasenotes/notes/bug-1802424-add-user-message-when-shrinking-fails-83d0f60ead6f4a4b.yaml', 'manila/message/message_field.py', 'manila/tests/share/test_manager.py']",4,3cbceccc4061a8931d682285419c716eafafb6cd,bug/1802424-stable/ussuri," def test_shrink_share_not_supported(self): share = db_utils.create_share(size=2) new_size = 1 share_id = share['id'] self.mock_object(self.share_manager.db, 'share_get', mock.Mock(return_value=share)) self.mock_object(self.share_manager, 'driver') self.mock_object(self.share_manager.db, 'share_update') self.mock_object(quota.QUOTAS, 'reserve') self.mock_object(quota.QUOTAS, 'rollback') self.mock_object(self.share_manager.driver, 'shrink_share', mock.Mock(side_effect=NotImplementedError)) self.assertRaises( exception.ShareShrinkingError, self.share_manager.shrink_share, self.context, share_id, new_size) self.share_manager.driver.shrink_share.assert_called_once_with( utils.IsAMatcher(models.ShareInstance), new_size, share_server=None ) self.share_manager.db.share_update.assert_called_once_with( mock.ANY, share_id, {'status': constants.STATUS_AVAILABLE} ) quota.QUOTAS.reserve.assert_called_once_with( mock.ANY, gigabytes=-1, project_id=share['project_id'], share_type_id=None, user_id=share['user_id'], ) quota.QUOTAS.rollback.assert_called_once_with( mock.ANY, mock.ANY, project_id=share['project_id'], share_type_id=None, user_id=share['user_id'], ) self.assertTrue(self.share_manager.db.share_get.called) self.share_manager.message_api.create.assert_called_once_with( utils.IsAMatcher(context.RequestContext), message_field.Action.SHRINK, share['project_id'], resource_type=message_field.Resource.SHARE, resource_id=share_id, detail=message_field.Detail.DRIVER_FAILED_SHRINK) ",,67,1
openstack%2Fopenstack-helm-infra~master~I66674a8e5a8d68cf05aac032935b7f01c3c3f4a4,openstack/openstack-helm-infra,master,I66674a8e5a8d68cf05aac032935b7f01c3c3f4a4,Restart rgw pods on when bootstrap script is updated,ABANDONED,2020-06-08 16:57:40.000000000,2020-06-09 22:00:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-08 16:57:40.000000000', 'files': ['ceph-rgw/templates/deployment-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0b914272615cd868ed8b19ae9787be172596223e', 'message': 'Restart rgw pods on when bootstrap script is updated\n\nSome changes to rgw config like zone or zonegroup changes that can\nbe done during bootstrap process require rgw restart.\nHaving bootstrap hash should allow this.\n\nChange-Id: I66674a8e5a8d68cf05aac032935b7f01c3c3f4a4\n'}]",0,734153,0b914272615cd868ed8b19ae9787be172596223e,3,1,1,14029,,,0,"Restart rgw pods on when bootstrap script is updated

Some changes to rgw config like zone or zonegroup changes that can
be done during bootstrap process require rgw restart.
Having bootstrap hash should allow this.

Change-Id: I66674a8e5a8d68cf05aac032935b7f01c3c3f4a4
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/53/734153/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-rgw/templates/deployment-rgw.yaml'],1,0b914272615cd868ed8b19ae9787be172596223e,," bootstrap-sh-hash: {{ tuple ""bin/_bootstrap.sh.tpl"" . | include ""helm-toolkit.utils.hash"" }}",,1,0
openstack%2Fosprofiler~master~I88e5f5961d0b4b0a71dc55141155fe23a9676a9a,openstack/osprofiler,master,I88e5f5961d0b4b0a71dc55141155fe23a9676a9a,drop mock from lower-constraints,MERGED,2020-06-09 09:50:45.000000000,2020-06-09 21:47:34.000000000,2020-06-09 21:45:36.000000000,"[{'_account_id': 5950}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 09:50:45.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/8569b6d65fa1d35db6f8c9b6a4ca95ece88f7e4b', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I88e5f5961d0b4b0a71dc55141155fe23a9676a9a\n""}]",0,734493,8569b6d65fa1d35db6f8c9b6a4ca95ece88f7e4b,7,2,1,28522,,,0,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: I88e5f5961d0b4b0a71dc55141155fe23a9676a9a
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/93/734493/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,8569b6d65fa1d35db6f8c9b6a4ca95ece88f7e4b,drop_mock,,mock===2.0.0,0,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57,openstack/tripleo-heat-templates,stable/train,Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57,Check transfer data flag to skip pacemaker normal upgrade.,MERGED,2020-06-02 18:14:23.000000000,2020-06-09 21:26:39.000000000,2020-06-09 21:26:39.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-06-02 18:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d836078aa45bff041dc34289a4b2c233aa72fb7d', 'message': 'Check transfer data flag to skip pacemaker normal upgrade.\n\nWhen the operating system upgrade is performed a\ntransfer data step must be executed (to allow the\ndb import once the operating system upgrades). During\nthis step the pacemaker cluster is stopped, so we can\ncreate a new cluster with the newly OS upgraded node.\nTherefore, as the pacemaker cluster is down we need\nto skip some of the tasks which would be executed\nduring a normal upgrade (check pcs status, stop pcs and\nstart pcs) from the upgrade_tasks.\n\nThis patch removes the use of UpgradeLeappEnabled heat\nparameter to identify this and uses the existence of\nthe flag file created during the transfer_data to skip\nthe normal pacemaker upgrade tasks.\n\nChange-Id: Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57\n'}, {'number': 2, 'created': '2020-06-02 18:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d5146773f331f7ed023d01f491e698f0739c47b', 'message': 'Check transfer data flag to skip pacemaker normal upgrade.\n\nWhen the operating system upgrade is performed a\ntransfer data step must be executed (to allow the\ndb import once the operating system upgrades). During\nthis step the pacemaker cluster is stopped, so we can\ncreate a new cluster with the newly OS upgraded node.\nTherefore, as the pacemaker cluster is down we need\nto skip some of the tasks which would be executed\nduring a normal upgrade (check pcs status, stop pcs and\nstart pcs) from the upgrade_tasks.\n\nThis patch removes the use of UpgradeLeappEnabled heat\nparameter to identify this and uses the existence of\nthe flag file created during the transfer_data to skip\nthe normal pacemaker upgrade tasks.\n\nChange-Id: Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57\n(cherry picked from commit 5845c0a72aa68eb2dbbbdbd42fc1a6406aa92100)\n'}, {'number': 3, 'created': '2020-06-02 19:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/87b01900d76f356ba0e8655f9a90c501463906f4', 'message': 'Check transfer data flag to skip pacemaker normal upgrade.\n\nWhen the operating system upgrade is performed a\ntransfer data step must be executed (to allow the\ndb import once the operating system upgrades). During\nthis step the pacemaker cluster is stopped, so we can\ncreate a new cluster with the newly OS upgraded node.\nTherefore, as the pacemaker cluster is down we need\nto skip some of the tasks which would be executed\nduring a normal upgrade (check pcs status, stop pcs and\nstart pcs) from the upgrade_tasks.\n\nThis patch removes the use of UpgradeLeappEnabled heat\nparameter to identify this and uses the existence of\nthe flag file created during the transfer_data to skip\nthe normal pacemaker upgrade tasks.\n\nChange-Id: Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57\n(cherry picked from commit 5845c0a72aa68eb2dbbbdbd42fc1a6406aa92100)\n'}, {'number': 4, 'created': '2020-06-03 13:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/87e12a0ca059853b1f80da2f6ee9ea7b4139ca1a', 'message': 'Check transfer data flag to skip pacemaker normal upgrade.\n\nWhen the operating system upgrade is performed a\ntransfer data step must be executed (to allow the\ndb import once the operating system upgrades). During\nthis step the pacemaker cluster is stopped, so we can\ncreate a new cluster with the newly OS upgraded node.\nTherefore, as the pacemaker cluster is down we need\nto skip some of the tasks which would be executed\nduring a normal upgrade (check pcs status, stop pcs and\nstart pcs) from the upgrade_tasks.\n\nThis patch removes the use of UpgradeLeappEnabled heat\nparameter to identify this and uses the existence of\nthe flag file created during the transfer_data to skip\nthe normal pacemaker upgrade tasks by setting a new\nfact, cluster_recreate, if this file exists.\n\nChange-Id: Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57\n(cherry picked from commit 5845c0a72aa68eb2dbbbdbd42fc1a6406aa92100)\n'}, {'number': 5, 'created': '2020-06-04 12:25:44.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/238d751b6ade573352db6237e5ce2e6b9004fde1', 'message': 'Check transfer data flag to skip pacemaker normal upgrade.\n\nWhen the operating system upgrade is performed a\ntransfer data step must be executed (to allow the\ndb import once the operating system upgrades). During\nthis step the pacemaker cluster is stopped, so we can\ncreate a new cluster with the newly OS upgraded node.\nTherefore, as the pacemaker cluster is down we need\nto skip some of the tasks which would be executed\nduring a normal upgrade (check pcs status, stop pcs and\nstart pcs) from the upgrade_tasks.\n\nThis patch removes the use of UpgradeLeappEnabled heat\nparameter to identify this and uses the existence of\nthe flag file created during the transfer_data to skip\nthe normal pacemaker upgrade tasks by setting a new\nfact, cluster_recreate, if this file exists.\n\nChange-Id: Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57\n(cherry picked from commit 5845c0a72aa68eb2dbbbdbd42fc1a6406aa92100)\n'}]",0,732842,238d751b6ade573352db6237e5ce2e6b9004fde1,21,6,5,11090,,,0,"Check transfer data flag to skip pacemaker normal upgrade.

When the operating system upgrade is performed a
transfer data step must be executed (to allow the
db import once the operating system upgrades). During
this step the pacemaker cluster is stopped, so we can
create a new cluster with the newly OS upgraded node.
Therefore, as the pacemaker cluster is down we need
to skip some of the tasks which would be executed
during a normal upgrade (check pcs status, stop pcs and
start pcs) from the upgrade_tasks.

This patch removes the use of UpgradeLeappEnabled heat
parameter to identify this and uses the existence of
the flag file created during the transfer_data to skip
the normal pacemaker upgrade tasks by setting a new
fact, cluster_recreate, if this file exists.

Change-Id: Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57
(cherry picked from commit 5845c0a72aa68eb2dbbbdbd42fc1a6406aa92100)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/732842/5 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,d836078aa45bff041dc34289a4b2c233aa72fb7d,ffwd-upgrade2-stable/train," # If performing an upgrade which requires operating system upgrading # a transfer data step needs to be run. During this step, the whole # pacemaker cluster is stopped so we can't check the cluster status. # Once the transfer_data step is executed, a flag file is stored. # This code checks the existence of this file to know if we should # avoid doing a normal pacemaker upgrade or not. As with the # operating system upgrade a new cluster will be created in which # the other nodes will be added. - name: check flag file existence in destination host stat: path: ""/var/lib/tripleo/transfer-flags/var-lib-mysql"" register: tripleo_transfer_flag_stat become: true delegate_to: ""{{ mysql_short_bootstrap_node_name }}"" - name: Set fact cluster_recreate set_fact: cluster_recreate: ""{{ tripleo_transfer_flag_stat.stat.exists|bool }}"" when: not cluster_recreate|bool when: not cluster_recreate|bool when: not cluster_recreate|bool"," UpgradeLeappEnabled: description: Use Leapp for operating system upgrade type: boolean default: false - name: Gather missing facts setup: gather_subset: ""distribution"" when: >- ansible_facts['distribution'] is not defined or ansible_facts['distribution_major_version'] is not defined tags: - always - name: Set fact upgrade_leapp_enabled set_fact: upgrade_leapp_enabled: >- {{ _upgradeLeappEnabled | bool and ansible_facts['distribution'] == 'RedHat' and ansible_facts['distribution_major_version'] is version('7', '==') }} vars: _upgradeLeappEnabled: {get_param: UpgradeLeappEnabled} tags: - always when: not upgrade_leapp_enabled|bool when: not upgrade_leapp_enabled when: not upgrade_leapp_enabled",19,24
openstack%2Fpython-tripleoclient~stable%2Fstein~Ie239f3fc11bbf95dc9af9786b288f6e8aef1193a,openstack/python-tripleoclient,stable/stein,Ie239f3fc11bbf95dc9af9786b288f6e8aef1193a,[TRAIN-AND-OLDER] Improve timeout error handling,MERGED,2020-06-08 13:38:36.000000000,2020-06-09 21:17:39.000000000,2020-06-09 21:15:54.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-08 13:38:36.000000000', 'files': ['tripleoclient/plugin.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ac5d1d906ac2cc7212273105df8455e5144abbc4', 'message': ""[TRAIN-AND-OLDER] Improve timeout error handling\n\nFor many releases we have seen overall deployment and workflow exections\nthat timeout throw a json decode error. This is usually because either\nthe mistral execution completely failed (unhandled exception),\nsomething during the deployment hangs (bad network config), or the\n--timeout was less than the time it takes to run an action. If we get an\nexception waiting for timeouts that isn't already a websocket timeout or\nsomething to that effect, we should catch it and print some useful\nmessaging that the user can use to begin their troubleshooting.\n\nChange-Id: Ie239f3fc11bbf95dc9af9786b288f6e8aef1193a\nCloses-Bug: #1882134\n(cherry picked from commit ecf22416686ace0bfeb1631f15ba2978c3b8c929)\n""}]",0,734084,ac5d1d906ac2cc7212273105df8455e5144abbc4,9,3,1,14985,,,0,"[TRAIN-AND-OLDER] Improve timeout error handling

For many releases we have seen overall deployment and workflow exections
that timeout throw a json decode error. This is usually because either
the mistral execution completely failed (unhandled exception),
something during the deployment hangs (bad network config), or the
--timeout was less than the time it takes to run an action. If we get an
exception waiting for timeouts that isn't already a websocket timeout or
something to that effect, we should catch it and print some useful
messaging that the user can use to begin their troubleshooting.

Change-Id: Ie239f3fc11bbf95dc9af9786b288f6e8aef1193a
Closes-Bug: #1882134
(cherry picked from commit ecf22416686ace0bfeb1631f15ba2978c3b8c929)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/84/734084/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/plugin.py'],1,ac5d1d906ac2cc7212273105df8455e5144abbc4,bug/1882134-stable/stein," except Exception as e: err = (""An exception occurred while waiting for messages. "" ""This can indicate a timeout or a failure in the "" ""workflow execution. To troubleshoot, check the "" ""workflow executions for failures and/or the "" ""ansible logs. Exception: {0!r}"".format(e)) raise exceptions.WorkflowServiceError(err)",,7,0
openstack%2Ftripleo-common~stable%2Fussuri~Iefe87eb869e248ea1e98d9ae34cdeeea57aa5426,openstack/tripleo-common,stable/ussuri,Iefe87eb869e248ea1e98d9ae34cdeeea57aa5426,Do not rotate CephX secrets,MERGED,2020-05-28 08:34:00.000000000,2020-06-09 21:17:30.000000000,2020-06-09 21:15:58.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-28 08:34:00.000000000', 'files': ['tripleo_common/constants.py', 'tripleo_common/utils/passwords.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e15ad2c2c1d50997d68c15ec9c94c0f12953d206', 'message': 'Do not rotate CephX secrets\n\nwe do not want the CephX keys to rotate by default, some cannot\nbe changed at all after the cluster has been deployed\n\nChange-Id: Iefe87eb869e248ea1e98d9ae34cdeeea57aa5426\n(cherry picked from commit d1662ad41108ba3543f9b59277c8dd7e84969f68)\n'}]",0,731463,e15ad2c2c1d50997d68c15ec9c94c0f12953d206,11,4,1,6796,,,0,"Do not rotate CephX secrets

we do not want the CephX keys to rotate by default, some cannot
be changed at all after the cluster has been deployed

Change-Id: Iefe87eb869e248ea1e98d9ae34cdeeea57aa5426
(cherry picked from commit d1662ad41108ba3543f9b59277c8dd7e84969f68)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/63/731463/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/constants.py', 'tripleo_common/utils/passwords.py']",2,e15ad2c2c1d50997d68c15ec9c94c0f12953d206,," elif name in ('CephClientKey', 'CephManilaClientKey', 'CephRgwKey'): # CephX keys aren't random strings passwords[name] = create_cephx_key() elif name == ""CephClusterFSID"": # The FSID must be a UUID passwords[name] = six.text_type(uuid.uuid4())"," elif name.startswith(""Ceph""): if name == ""CephClusterFSID"": # The FSID must be a UUID passwords[name] = six.text_type(uuid.uuid4()) else: # CephX keys aren't random strings passwords[name] = create_cephx_key()",10,7
openstack%2Fpython-tripleoclient~stable%2Fqueens~Ie239f3fc11bbf95dc9af9786b288f6e8aef1193a,openstack/python-tripleoclient,stable/queens,Ie239f3fc11bbf95dc9af9786b288f6e8aef1193a,[TRAIN-AND-OLDER] Improve timeout error handling,MERGED,2020-06-08 13:38:47.000000000,2020-06-09 21:15:57.000000000,2020-06-09 21:15:56.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-08 13:38:47.000000000', 'files': ['tripleoclient/plugin.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dc91fc41758257f0c240128328ce5b952ea2db82', 'message': ""[TRAIN-AND-OLDER] Improve timeout error handling\n\nFor many releases we have seen overall deployment and workflow exections\nthat timeout throw a json decode error. This is usually because either\nthe mistral execution completely failed (unhandled exception),\nsomething during the deployment hangs (bad network config), or the\n--timeout was less than the time it takes to run an action. If we get an\nexception waiting for timeouts that isn't already a websocket timeout or\nsomething to that effect, we should catch it and print some useful\nmessaging that the user can use to begin their troubleshooting.\n\nChange-Id: Ie239f3fc11bbf95dc9af9786b288f6e8aef1193a\nCloses-Bug: #1882134\n(cherry picked from commit ecf22416686ace0bfeb1631f15ba2978c3b8c929)\n""}]",0,734086,dc91fc41758257f0c240128328ce5b952ea2db82,8,3,1,14985,,,0,"[TRAIN-AND-OLDER] Improve timeout error handling

For many releases we have seen overall deployment and workflow exections
that timeout throw a json decode error. This is usually because either
the mistral execution completely failed (unhandled exception),
something during the deployment hangs (bad network config), or the
--timeout was less than the time it takes to run an action. If we get an
exception waiting for timeouts that isn't already a websocket timeout or
something to that effect, we should catch it and print some useful
messaging that the user can use to begin their troubleshooting.

Change-Id: Ie239f3fc11bbf95dc9af9786b288f6e8aef1193a
Closes-Bug: #1882134
(cherry picked from commit ecf22416686ace0bfeb1631f15ba2978c3b8c929)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/86/734086/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/plugin.py'],1,dc91fc41758257f0c240128328ce5b952ea2db82,bug/1882134-stable/queens," except Exception as e: err = (""An exception occurred while waiting for messages. "" ""This can indicate a timeout or a failure in the "" ""workflow execution. To troubleshoot, check the "" ""workflow executions for failures and/or the "" ""ansible logs. Exception: {0!r}"".format(e)) raise exceptions.WorkflowServiceError(err)",,7,0
openstack%2Fpython-tripleoclient~stable%2Frocky~Ie239f3fc11bbf95dc9af9786b288f6e8aef1193a,openstack/python-tripleoclient,stable/rocky,Ie239f3fc11bbf95dc9af9786b288f6e8aef1193a,[TRAIN-AND-OLDER] Improve timeout error handling,MERGED,2020-06-08 13:38:42.000000000,2020-06-09 21:15:55.000000000,2020-06-09 21:15:55.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-08 13:38:42.000000000', 'files': ['tripleoclient/plugin.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bd95d65fec565241e9f1f7ab38968be77ec54b82', 'message': ""[TRAIN-AND-OLDER] Improve timeout error handling\n\nFor many releases we have seen overall deployment and workflow exections\nthat timeout throw a json decode error. This is usually because either\nthe mistral execution completely failed (unhandled exception),\nsomething during the deployment hangs (bad network config), or the\n--timeout was less than the time it takes to run an action. If we get an\nexception waiting for timeouts that isn't already a websocket timeout or\nsomething to that effect, we should catch it and print some useful\nmessaging that the user can use to begin their troubleshooting.\n\nChange-Id: Ie239f3fc11bbf95dc9af9786b288f6e8aef1193a\nCloses-Bug: #1882134\n(cherry picked from commit ecf22416686ace0bfeb1631f15ba2978c3b8c929)\n""}]",0,734085,bd95d65fec565241e9f1f7ab38968be77ec54b82,8,3,1,14985,,,0,"[TRAIN-AND-OLDER] Improve timeout error handling

For many releases we have seen overall deployment and workflow exections
that timeout throw a json decode error. This is usually because either
the mistral execution completely failed (unhandled exception),
something during the deployment hangs (bad network config), or the
--timeout was less than the time it takes to run an action. If we get an
exception waiting for timeouts that isn't already a websocket timeout or
something to that effect, we should catch it and print some useful
messaging that the user can use to begin their troubleshooting.

Change-Id: Ie239f3fc11bbf95dc9af9786b288f6e8aef1193a
Closes-Bug: #1882134
(cherry picked from commit ecf22416686ace0bfeb1631f15ba2978c3b8c929)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/85/734085/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/plugin.py'],1,bd95d65fec565241e9f1f7ab38968be77ec54b82,bug/1882134-stable/rocky," except Exception as e: err = (""An exception occurred while waiting for messages. "" ""This can indicate a timeout or a failure in the "" ""workflow execution. To troubleshoot, check the "" ""workflow executions for failures and/or the "" ""ansible logs. Exception: {0!r}"".format(e)) raise exceptions.WorkflowServiceError(err)",,7,0
openstack%2Finstack-undercloud~stable%2Fqueens~I3aed39398bad04c4a19f387a98a6a494943aa5e2,openstack/instack-undercloud,stable/queens,I3aed39398bad04c4a19f387a98a6a494943aa5e2,Increase zaqar max_messages_post_size to 2097152,MERGED,2020-06-09 08:58:33.000000000,2020-06-09 21:15:53.000000000,2020-06-09 21:15:53.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-09 08:58:33.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/3ebac65539a8546840fc67df35edc730dfc08f38', 'message': 'Increase zaqar max_messages_post_size to 2097152\n\nWe still seem to be hitting the error ""Message collection size is\ntoo large. Max size 1048576"" during upgrades. Let\'s increase the\nmax size allowed.\n\nChange-Id: I3aed39398bad04c4a19f387a98a6a494943aa5e2\n'}]",0,734467,3ebac65539a8546840fc67df35edc730dfc08f38,8,3,1,8833,,,0,"Increase zaqar max_messages_post_size to 2097152

We still seem to be hitting the error ""Message collection size is
too large. Max size 1048576"" during upgrades. Let's increase the
max size allowed.

Change-Id: I3aed39398bad04c4a19f387a98a6a494943aa5e2
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/67/734467/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.yaml.template'],1,3ebac65539a8546840fc67df35edc730dfc08f38,,zaqar::max_messages_post_size: 2097152,zaqar::max_messages_post_size: 1048576,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia747103aca99f3f45d7705248c6c1ef19aa93d71,openstack/tripleo-heat-templates,stable/train,Ia747103aca99f3f45d7705248c6c1ef19aa93d71,Ensure net.ipv6.conf.lo.disable_ipv6=0,MERGED,2020-06-04 10:25:15.000000000,2020-06-09 21:15:52.000000000,2020-06-09 21:15:52.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2020-06-04 10:25:15.000000000', 'files': ['deployment/kernel/kernel-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa1e82707bea309be72dc700e55958e4c0334952', 'message': 'Ensure net.ipv6.conf.lo.disable_ipv6=0\n\nAlong the same lines as https://review.opendev.org/#/c/580460/.\n\nCurrently, the Erlang Port Mapper Daemon requires that the loopback\ninterface supports IPv6 in order to initialize properly.\nWithout that, rabbitmq-server cannot start and deployment fails at step 2.\n\nUntil the startup behaviour of epmd is amended, do not disable inet6 support\non loopback device to workaround the problem.\n\nChange-Id: Ia747103aca99f3f45d7705248c6c1ef19aa93d71\n(cherry picked from commit 7bf8d77207b24ef5a6edfdfa44f6a97fd209b45d)\n'}]",0,733522,fa1e82707bea309be72dc700e55958e4c0334952,24,4,1,30126,,,0,"Ensure net.ipv6.conf.lo.disable_ipv6=0

Along the same lines as https://review.opendev.org/#/c/580460/.

Currently, the Erlang Port Mapper Daemon requires that the loopback
interface supports IPv6 in order to initialize properly.
Without that, rabbitmq-server cannot start and deployment fails at step 2.

Until the startup behaviour of epmd is amended, do not disable inet6 support
on loopback device to workaround the problem.

Change-Id: Ia747103aca99f3f45d7705248c6c1ef19aa93d71
(cherry picked from commit 7bf8d77207b24ef5a6edfdfa44f6a97fd209b45d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/733522/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/kernel/kernel-baremetal-ansible.yaml'],1,fa1e82707bea309be72dc700e55958e4c0334952,, net.ipv6.conf.lo.disable_ipv6: value: 0,,2,0
openstack%2Frequirements~master~Ib598b237dc7c856b67ae5fa35943bce650934c9d,openstack/requirements,master,Ib598b237dc7c856b67ae5fa35943bce650934c9d,Remove PuLP package,MERGED,2020-06-08 15:25:45.000000000,2020-06-09 20:59:09.000000000,2020-06-09 20:55:57.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 15:25:45.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b15f2e95e9a93d38e334498c9768b1932cd3b8b7', 'message': ""Remove PuLP package\n\nThis isn't used by any openstack/ projects anymore.\n\nChange-Id: Ib598b237dc7c856b67ae5fa35943bce650934c9d\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,734123,b15f2e95e9a93d38e334498c9768b1932cd3b8b7,8,2,1,11904,,,0,"Remove PuLP package

This isn't used by any openstack/ projects anymore.

Change-Id: Ib598b237dc7c856b67ae5fa35943bce650934c9d
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/23/734123/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,b15f2e95e9a93d38e334498c9768b1932cd3b8b7,pulp,,PuLP===2.1,0,2
openstack%2Frequirements~master~Id8801ead9923bf11d6646659cf4e699af215ae14,openstack/requirements,master,Id8801ead9923bf11d6646659cf4e699af215ae14,Remove mox library,MERGED,2020-06-08 14:46:51.000000000,2020-06-09 20:57:25.000000000,2020-06-09 20:55:56.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 14:46:51.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2567bf17d3b492d97f63dc81e18edc220c0b7d31', 'message': 'Remove mox library\n\nmox is a py2-only lib that is no longer being used. This cleans it up\nfrom global requirements and upper constraints.\n\nChange-Id: Id8801ead9923bf11d6646659cf4e699af215ae14\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,734110,2567bf17d3b492d97f63dc81e18edc220c0b7d31,8,2,1,11904,,,0,"Remove mox library

mox is a py2-only lib that is no longer being used. This cleans it up
from global requirements and upper constraints.

Change-Id: Id8801ead9923bf11d6646659cf4e699af215ae14
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/10/734110/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,2567bf17d3b492d97f63dc81e18edc220c0b7d31,remove-mox,,mox===0.5.3,0,2
openstack%2Frequirements~stable%2Ftrain~If4cb8631086d220812611e5a3e401b47901821c4,openstack/requirements,stable/train,If4cb8631086d220812611e5a3e401b47901821c4,update constraint for oslo.log to new release 3.44.3,MERGED,2020-06-05 21:34:03.000000000,2020-06-09 20:55:55.000000000,2020-06-09 20:55:55.000000000,"[{'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 14288}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-05 21:34:03.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a1f4bcf307e9c9a53f37e94614380ea5ed830e49', 'message': 'update constraint for oslo.log to new release 3.44.3\n\nChange-Id: If4cb8631086d220812611e5a3e401b47901821c4\nmeta:version: 3.44.3\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I9dd65750056376db22929be3e6543feecdb9dfb8\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,733927,a1f4bcf307e9c9a53f37e94614380ea5ed830e49,10,6,1,11131,,,0,"update constraint for oslo.log to new release 3.44.3

Change-Id: If4cb8631086d220812611e5a3e401b47901821c4
meta:version: 3.44.3
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I9dd65750056376db22929be3e6543feecdb9dfb8
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/27/733927/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a1f4bcf307e9c9a53f37e94614380ea5ed830e49,new-release,oslo.log===3.44.3,oslo.log===3.44.2,1,1
openstack%2Frequirements~stable%2Ftrain~Ic36058ce44cd8b8aa069aca633f44a34a4c82f31,openstack/requirements,stable/train,Ic36058ce44cd8b8aa069aca633f44a34a4c82f31,update constraint for oslo.context to new release 2.23.1,MERGED,2020-06-05 21:32:53.000000000,2020-06-09 20:55:53.000000000,2020-06-09 20:55:53.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-05 21:32:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/964dc10e4ca0c481a3f9a2ee795f50a05c4bbabe', 'message': 'update constraint for oslo.context to new release 2.23.1\n\nChange-Id: Ic36058ce44cd8b8aa069aca633f44a34a4c82f31\nmeta:version: 2.23.1\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I9dd65750056376db22929be3e6543feecdb9dfb8\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,733926,964dc10e4ca0c481a3f9a2ee795f50a05c4bbabe,7,3,1,11131,,,0,"update constraint for oslo.context to new release 2.23.1

Change-Id: Ic36058ce44cd8b8aa069aca633f44a34a4c82f31
meta:version: 2.23.1
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I9dd65750056376db22929be3e6543feecdb9dfb8
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/26/733926/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,964dc10e4ca0c481a3f9a2ee795f50a05c4bbabe,new-release,oslo.context===2.23.1,oslo.context===2.23.0,1,1
openstack%2Frequirements~master~I0ff9e781a7470e3432129408114048b4dbdf2478,openstack/requirements,master,I0ff9e781a7470e3432129408114048b4dbdf2478,Blacklist some versions of oslo.log,MERGED,2020-06-05 21:00:24.000000000,2020-06-09 20:51:14.000000000,2020-06-09 20:49:27.000000000,"[{'_account_id': 1131}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-05 21:00:24.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f835dc2832e04f6b4e820cdb485b5a18389dbe48', 'message': 'Blacklist some versions of oslo.log\n\nVersions 3.44.2, 4.1.2 and 4.2.0 of oslo.log were not\nbackwards-compatible and caused failures in the neutron repo.\nSince versions 3.44.3, 4.1.3 and 4.2.1 have been released, go\nahead and remove the bad versions from global-requirements.txt\n\nDepends-on: https://review.opendev.org/#/c/733878/\n\nChange-Id: I0ff9e781a7470e3432129408114048b4dbdf2478\n'}]",0,733918,f835dc2832e04f6b4e820cdb485b5a18389dbe48,11,5,1,1131,,,0,"Blacklist some versions of oslo.log

Versions 3.44.2, 4.1.2 and 4.2.0 of oslo.log were not
backwards-compatible and caused failures in the neutron repo.
Since versions 3.44.3, 4.1.3 and 4.2.1 have been released, go
ahead and remove the bad versions from global-requirements.txt

Depends-on: https://review.opendev.org/#/c/733878/

Change-Id: I0ff9e781a7470e3432129408114048b4dbdf2478
",git fetch https://review.opendev.org/openstack/requirements refs/changes/18/733918/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,f835dc2832e04f6b4e820cdb485b5a18389dbe48,oslo.log-blacklist,"oslo.log!=3.44.2,!=4.1.2,!=4.2.0 # Apache-2.0",oslo.log # Apache-2.0,1,1
openstack%2Foctavia-dashboard~master~Ia04b2e11608d6dac359b0acf0e712ade2e7894e5,openstack/octavia-dashboard,master,Ia04b2e11608d6dac359b0acf0e712ade2e7894e5,Bump the minimum openstacksdk version,MERGED,2020-06-09 20:03:14.000000000,2020-06-09 20:48:33.000000000,2020-06-09 20:47:05.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 20:03:14.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/6db692e5fa8eadbb137d85443a76b2a3863550da', 'message': 'Bump the minimum openstacksdk version\n\nThe availability zone updates for octavia-dashboard require a\nminimum version of 0.46.0 openstacksdk[1].\nThis patch bumps that minimum in the lower-constraints and\nrequirements.txt file.\n\n[1] https://docs.openstack.org/releasenotes/openstacksdk/ussuri.html#relnotes-0-46-0-stable-ussuri\n\nChange-Id: Ia04b2e11608d6dac359b0acf0e712ade2e7894e5\n'}]",0,734688,6db692e5fa8eadbb137d85443a76b2a3863550da,8,3,1,11628,,,0,"Bump the minimum openstacksdk version

The availability zone updates for octavia-dashboard require a
minimum version of 0.46.0 openstacksdk[1].
This patch bumps that minimum in the lower-constraints and
requirements.txt file.

[1] https://docs.openstack.org/releasenotes/openstacksdk/ussuri.html#relnotes-0-46-0-stable-ussuri

Change-Id: Ia04b2e11608d6dac359b0acf0e712ade2e7894e5
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/88/734688/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,6db692e5fa8eadbb137d85443a76b2a3863550da,,openstacksdk==0.46.0,openstacksdk==0.24.0,2,2
openstack%2Fdesignate~master~If884105510494a4f286c515305601da1f10d9061,openstack/designate,master,If884105510494a4f286c515305601da1f10d9061,Adds the --update_zones to designate-manage pool update.,ABANDONED,2020-06-09 20:30:40.000000000,2020-06-09 20:37:46.000000000,,[],"[{'number': 1, 'created': '2020-06-09 20:30:40.000000000', 'files': ['designate/backend/impl_akamai.py', 'designate/backend/impl_nsd4.py', 'designate/tests/unit/backend/test_bind9.py', 'designate/manage/pool.py', 'designate/tests/unit/backend/test_pdns4.py', 'designate/backend/impl_designate.py', 'designate/backend/impl_bind9.py', 'designate/tests/test_manage/__init__.py', 'designate/backend/impl_pdns4.py', 'designate/tests/unit/backend/test_akamai_v2.py', 'designate/backend/impl_akamai_v2.py', 'designate/backend/impl_dynect.py', 'designate/tests/test_manage/test_update_pool.py', 'designate/tests/unit/backend/test_designate.py', 'designate/backend/impl_infoblox/__init__.py', 'designate/backend/base.py', 'designate/backend/impl_fake.py', 'designate/tests/unit/backend/test_nsd4.py', 'designate/tests/unit/backend/test_dynect.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/f2936fb34cd399f78d2029e6708c9231cd93cb95', 'message': ""Adds the --update_zones to designate-manage pool update.\n\nThis change allows operators running designate-manage\nto enforce the propagation of new masters to the zones\nbelong to a given pool, using pool's defined target(s) masters\nservers and force a update_zone.\n\nThis change also, moves the backend base class update_zone\nmethod as an abstract method, allowing to each backend\nimplementation to create its own update logic. For the\ncase of bind9 its extended to allow running a rndc modzone\nwith the new given masters for the zone fixing the behavior\nexposed on LP: #1879798.\n\nFixes-Bug: #1879798\n\nChange-Id: If884105510494a4f286c515305601da1f10d9061\nSigned-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>\n""}]",0,734696,f2936fb34cd399f78d2029e6708c9231cd93cb95,2,0,1,2276,,,0,"Adds the --update_zones to designate-manage pool update.

This change allows operators running designate-manage
to enforce the propagation of new masters to the zones
belong to a given pool, using pool's defined target(s) masters
servers and force a update_zone.

This change also, moves the backend base class update_zone
method as an abstract method, allowing to each backend
implementation to create its own update logic. For the
case of bind9 its extended to allow running a rndc modzone
with the new given masters for the zone fixing the behavior
exposed on LP: #1879798.

Fixes-Bug: #1879798

Change-Id: If884105510494a4f286c515305601da1f10d9061
Signed-off-by: Jorge Niedbalski <jorge.niedbalski@canonical.com>
",git fetch https://review.opendev.org/openstack/designate refs/changes/96/734696/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/backend/impl_akamai.py', 'designate/backend/impl_nsd4.py', 'designate/tests/unit/backend/test_bind9.py', 'designate/manage/pool.py', 'designate/tests/unit/backend/test_pdns4.py', 'designate/backend/impl_designate.py', 'designate/backend/impl_bind9.py', 'designate/tests/test_manage/__init__.py', 'designate/backend/impl_pdns4.py', 'designate/tests/unit/backend/test_akamai_v2.py', 'designate/backend/impl_akamai_v2.py', 'designate/backend/impl_dynect.py', 'designate/tests/test_manage/test_update_pool.py', 'designate/tests/unit/backend/test_designate.py', 'designate/backend/impl_infoblox/__init__.py', 'designate/backend/base.py', 'designate/backend/impl_fake.py', 'designate/tests/unit/backend/test_nsd4.py', 'designate/tests/unit/backend/test_dynect.py']",19,f2936fb34cd399f78d2029e6708c9231cd93cb95,bug/1879798,"from unittest import mockfrom designate.mdns import rpcapi as mdns_rpcapi @mock.patch.object(mdns_rpcapi.MdnsAPI, 'notify_zone_changed') def test_update_zone(self, mock_notify_zone_changed): self.backend.update_zone(self.context, self.zone) mock_notify_zone_changed.assert_called_with( self.context, self.zone, '127.0.0.1', 53, 30, 15, 10, 5)",,301,7
openstack%2Fmanila~master~I91fa2222743da06557ceb52fcbae0f8928d0752c,openstack/manila,master,I91fa2222743da06557ceb52fcbae0f8928d0752c,Add documentation for share replica quotas,MERGED,2020-05-27 16:36:16.000000000,2020-06-09 20:35:39.000000000,2020-06-09 14:13:02.000000000,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-05-27 16:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8685195eeadcc972999a0c5e6e220f722e84ca80', 'message': 'Add documentation for share replica quotas\n\nUpdate documentation to fit into the new manila quota keys:\n- `share_replicas`\n- `replica_gigabytes`\n\nChange-Id: I91fa2222743da06557ceb52fcbae0f8928d0752c\n'}, {'number': 2, 'created': '2020-06-03 14:31:40.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/samples/limits-response.json', 'api-ref/source/samples/quota-classes-show-response.json', 'api-ref/source/samples/quota-update-response.json', 'api-ref/source/limits.inc', 'api-ref/source/quota-sets.inc', 'doc/source/admin/shared-file-systems-manage-and-unmanage-share.rst', 'doc/source/admin/shared-file-systems-share-resize.rst', 'api-ref/source/samples/quota-show-detail-response.json', 'doc/source/admin/shared-file-systems-quotas.rst', 'api-ref/source/samples/quota-show-response.json', 'api-ref/source/samples/quota-update-request.json', 'doc/source/configuration/shared-file-systems/overview.rst', 'api-ref/source/samples/quota-classes-update-response.json', 'api-ref/source/quota-classes.inc', 'doc/source/admin/shared-file-systems-share-replication.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/7bc4886a03d9490517448e25be531246a7e76b2e', 'message': 'Add documentation for share replica quotas\n\nUpdate documentation to fit into the new manila quota keys:\n- `share_replicas`\n- `replica_gigabytes`\n\nCloses-Bug: #1881921\nChange-Id: I91fa2222743da06557ceb52fcbae0f8928d0752c\n'}]",16,731270,7bc4886a03d9490517448e25be531246a7e76b2e,26,10,2,29632,,,0,"Add documentation for share replica quotas

Update documentation to fit into the new manila quota keys:
- `share_replicas`
- `replica_gigabytes`

Closes-Bug: #1881921
Change-Id: I91fa2222743da06557ceb52fcbae0f8928d0752c
",git fetch https://review.opendev.org/openstack/manila refs/changes/70/731270/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/samples/limits-response.json', 'api-ref/source/samples/quota-classes-show-response.json', 'api-ref/source/samples/quota-update-response.json', 'api-ref/source/limits.inc', 'api-ref/source/quota-sets.inc', 'doc/source/admin/shared-file-systems-manage-and-unmanage-share.rst', 'doc/source/admin/shared-file-systems-share-resize.rst', 'api-ref/source/samples/quota-show-detail-response.json', 'doc/source/admin/shared-file-systems-quotas.rst', 'api-ref/source/samples/quota-show-response.json', 'api-ref/source/samples/quota-update-request.json', 'doc/source/configuration/shared-file-systems/overview.rst', 'api-ref/source/samples/quota-classes-update-response.json', 'api-ref/source/quota-classes.inc', 'doc/source/admin/shared-file-systems-share-replication.rst']",16,8685195eeadcc972999a0c5e6e220f722e84ca80,bug/1881921," From API version 2.53, when the creation of a share that supports replication is requested, the manila quota system will reserve and consume resources for two additional quotas: ``share_replicas`` and ``replica_gigabytes``. ",,185,7
openstack%2Fkolla-ansible~master~Idd2a05ed0594dcca6fa9881dee63f5550cb6dc0e,openstack/kolla-ansible,master,Idd2a05ed0594dcca6fa9881dee63f5550cb6dc0e,Remove the unnecessary task for octavia,MERGED,2020-06-09 16:14:19.000000000,2020-06-09 20:32:26.000000000,2020-06-09 20:27:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-09 16:14:19.000000000', 'files': ['ansible/roles/octavia/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a7c290765b6a8fde01e351a9a29704e71b2a4fae', 'message': 'Remove the unnecessary task for octavia\n\nSince the Victoria released, the unnecessary task should be clean up.\n\nChange-Id: Idd2a05ed0594dcca6fa9881dee63f5550cb6dc0e\n'}]",0,734641,a7c290765b6a8fde01e351a9a29704e71b2a4fae,10,4,1,30356,,,0,"Remove the unnecessary task for octavia

Since the Victoria released, the unnecessary task should be clean up.

Change-Id: Idd2a05ed0594dcca6fa9881dee63f5550cb6dc0e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/41/734641/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/octavia/tasks/upgrade.yml'],1,a7c290765b6a8fde01e351a9a29704e71b2a4fae,,," # TODO(mgoddard): Remove this task in Victoria. - name: Removing octavia user from admin project become: true kolla_toolbox: module_name: ""os_user_role"" module_args: user: ""{{ octavia_keystone_user }}"" role: admin state: absent project: ""{{ keystone_admin_project }}"" auth: ""{{ openstack_octavia_auth }}"" endpoint_type: ""{{ openstack_interface }}"" cacert: ""{{ openstack_cacert }}"" run_once: True",0,15
openstack%2Ftripleo-ansible~master~Iaf2f83a8f13bcb9cf0c37acff627a456005057de,openstack/tripleo-ansible,master,Iaf2f83a8f13bcb9cf0c37acff627a456005057de,Fix error when display_ok_hosts is false,MERGED,2020-06-09 14:29:04.000000000,2020-06-09 20:22:58.000000000,2020-06-09 20:18:32.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 14:29:04.000000000', 'files': ['tripleo_ansible/ansible_plugins/callback/tripleo_dense.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3ff730bc6f5926a4c5db1a4b9669e0baec91b2ce', 'message': ""Fix error when display_ok_hosts is false\n\nIf display_ok_hosts is false, we were returning None but the function is\nexpected to return a tuple. So let's return a tuple of (None, None) and\ncheck if we don't have a line then return.\n\nChange-Id: Iaf2f83a8f13bcb9cf0c37acff627a456005057de\n""}]",0,734617,3ff730bc6f5926a4c5db1a4b9669e0baec91b2ce,9,3,1,14985,,,0,"Fix error when display_ok_hosts is false

If display_ok_hosts is false, we were returning None but the function is
expected to return a tuple. So let's return a tuple of (None, None) and
check if we don't have a line then return.

Change-Id: Iaf2f83a8f13bcb9cf0c37acff627a456005057de
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/17/734617/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/callback/tripleo_dense.py'],1,3ff730bc6f5926a4c5db1a4b9669e0baec91b2ce,callback-improvements," return (None, None) if not line: return if not line: return", return,5,1
openstack%2Fmanila~stable%2Fussuri~I077d12785f94c940716f0e479d43dbb29ddc3c3c,openstack/manila,stable/ussuri,I077d12785f94c940716f0e479d43dbb29ddc3c3c,[devstack] Allow cephfs daemon port access,MERGED,2020-06-09 00:05:22.000000000,2020-06-09 20:22:38.000000000,2020-06-09 20:20:50.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-06-09 00:05:22.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/5d1c30676e8deb906eddc59852a9b1b60d3ee7d6', 'message': ""[devstack] Allow cephfs daemon port access\n\nIf the cephfs protocol is enabled, clients\nneed to access the ceph daemons.\n\nWe also don't need to enable access to NFS\nports when not using NFS.\n\nChange-Id: I077d12785f94c940716f0e479d43dbb29ddc3c3c\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 341b5777b2350cf07d06327e998394f3795cb283)\n""}]",0,734396,5d1c30676e8deb906eddc59852a9b1b60d3ee7d6,14,5,1,16643,,,0,"[devstack] Allow cephfs daemon port access

If the cephfs protocol is enabled, clients
need to access the ceph daemons.

We also don't need to enable access to NFS
ports when not using NFS.

Change-Id: I077d12785f94c940716f0e479d43dbb29ddc3c3c
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 341b5777b2350cf07d06327e998394f3795cb283)
",git fetch https://review.opendev.org/openstack/manila refs/changes/96/734396/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,5d1c30676e8deb906eddc59852a9b1b60d3ee7d6,improve-host-port-rules-stable/ussuri," if [[ $MANILA_ENABLED_SHARE_PROTOCOLS =~ NFS ]]; then # 111 and 2049 are for rpcbind and NFS # Other ports are for NFSv3 statd, mountd and lockd daemons MANILA_TCP_PORTS=(2049 111 32803 892 875 662) MANILA_UDP_PORTS=(111 32769 892 875 662) fi if [[ $MANILA_ENABLED_SHARE_PROTOCOLS =~ CEPHFS ]]; then # clients need access to the ceph daemons MANILA_TCP_PORTS=(${MANILA_TCP_PORTS[*]} 6789 6800:7300) fi if [[ -v MANILA_TCP_PORTS || -v MANILA_UDP_PORTS ]]; then for ipcmd in iptables ip6tables; do sudo $ipcmd -N manila-storage sudo $ipcmd -I INPUT 1 -j manila-storage for port in ${MANILA_TCP_PORTS[*]}; do sudo $ipcmd -A manila-storage -m tcp -p tcp --dport $port -j ACCEPT done for port in ${MANILA_UDP_PORTS[*]}; do sudo $ipcmd -A manila-storage -m udp -p udp --dport $port -j ACCEPT done fi", TCP_PORTS=(2049 111 32803 892 875 662) UDP_PORTS=(111 32769 892 875 662) for ipcmd in iptables ip6tables; do # (aovchinnikov): extra rules are needed to allow instances talk to # host. sudo $ipcmd -N manila-nfs sudo $ipcmd -I INPUT 1 -j manila-nfs for port in ${TCP_PORTS[*]}; do sudo $ipcmd -A manila-nfs -m tcp -p tcp --dport $port -j ACCEPT for port in ${UDP_PORTS[*]}; do sudo $ipcmd -A manila-nfs -m udp -p udp --dport $port -j ACCEPT done done,22,13
openstack%2Frequirements~master~Ib4184a05e753c3d1368167b91fc43bcc64a176c3,openstack/requirements,master,Ib4184a05e753c3d1368167b91fc43bcc64a176c3,Use unittest.mock instead of mock,MERGED,2020-06-09 10:08:22.000000000,2020-06-09 20:19:05.000000000,2020-06-09 20:17:21.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 10:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4ca77a05a85f17fc309a6b40ae01fc0675a2f601', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ib4184a05e753c3d1368167b91fc43bcc64a176c3\n'}, {'number': 2, 'created': '2020-06-09 17:16:45.000000000', 'files': ['openstack_requirements/tests/test_update.py', 'test-requirements.txt', 'openstack_requirements/tests/test_check_constraints.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/55387a4f4a6f4b6444cc3bdf5407bcd3f5278ca5', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ib4184a05e753c3d1368167b91fc43bcc64a176c3\n'}]",2,734539,55387a4f4a6f4b6444cc3bdf5407bcd3f5278ca5,10,3,2,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Ib4184a05e753c3d1368167b91fc43bcc64a176c3
",git fetch https://review.opendev.org/openstack/requirements refs/changes/39/734539/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_requirements/tests/test_update.py', 'test-requirements.txt', 'openstack_requirements/tests/test_check_constraints.py']",3,4ca77a05a85f17fc309a6b40ae01fc0675a2f601,drop_mock,from unittest import mock,import mock,2,3
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I57fd151512c3a215d02667a6e1c4e755b88e4b05,openstack/tripleo-heat-templates,stable/ussuri,I57fd151512c3a215d02667a6e1c4e755b88e4b05,enable dpdk plugin on neutron ovn and ovs,MERGED,2020-05-29 08:37:30.000000000,2020-06-09 20:12:33.000000000,2020-06-09 20:12:33.000000000,"[{'_account_id': 3153}, {'_account_id': 4264}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 31988}]","[{'number': 1, 'created': '2020-05-29 08:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f2fd2af6c69f0f8a8652d13c683e35e4020b3ff', 'message': 'enable dpdk plugin on neutron ovn and ovs\n\nThis patch causes the dpdk_telemetry plugin will be installed only\non nodes with the dpdk role\n\nChange-Id: I57fd151512c3a215d02667a6e1c4e755b88e4b05\n(cherry picked from commit 1666f1ec31ae801e8ae2e5c807c7b944f3a531fa)\n'}, {'number': 2, 'created': '2020-06-08 11:01:48.000000000', 'files': ['deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/neutron/neutron-ovn-dpdk-config-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/201f4db587738633e0b620e65e449f40f420155c', 'message': 'enable dpdk plugin on neutron ovn and ovs\n\nThis patch causes the dpdk_telemetry plugin will be installed only\non nodes with the dpdk role\n\nChange-Id: I57fd151512c3a215d02667a6e1c4e755b88e4b05\n(cherry picked from commit 1666f1ec31ae801e8ae2e5c807c7b944f3a531fa)\n'}]",0,731694,201f4db587738633e0b620e65e449f40f420155c,16,9,2,16515,,,0,"enable dpdk plugin on neutron ovn and ovs

This patch causes the dpdk_telemetry plugin will be installed only
on nodes with the dpdk role

Change-Id: I57fd151512c3a215d02667a6e1c4e755b88e4b05
(cherry picked from commit 1666f1ec31ae801e8ae2e5c807c7b944f3a531fa)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/731694/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/neutron/neutron-ovn-dpdk-config-container-puppet.yaml']",2,4f2fd2af6c69f0f8a8652d13c683e35e4020b3ff,dpdk_neutron_ovs_ovn-stable/ussuri," service_config_settings: map_merge: - get_attr: [OpenvswitchDpdk, role_data, service_config_settings] - collectd: tripleo.collectd.plugins.neutron_ovn_dpdk: - dpdk_telemetry",,11,1
openstack%2Fos-testr~master~If9a4d4ca32793fef56b3e5c9a6508f7383476558,openstack/os-testr,master,If9a4d4ca32793fef56b3e5c9a6508f7383476558,Switch to newer openstackdocstheme and reno versions,MERGED,2020-06-02 12:20:18.000000000,2020-06-09 20:04:06.000000000,2020-06-09 20:01:08.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 12:20:18.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/os-testr/commit/ea0e88e9ced69a1988a0dc55cf4db508caddbf3d', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nDisable openstackdocs_auto_name to use 'project' variable as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: If9a4d4ca32793fef56b3e5c9a6508f7383476558\n""}]",0,732558,ea0e88e9ced69a1988a0dc55cf4db508caddbf3d,9,4,1,6547,,,0,"Switch to newer openstackdocstheme and reno versions

Switch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using
these versions will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

Disable openstackdocs_auto_name to use 'project' variable as name.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: If9a4d4ca32793fef56b3e5c9a6508f7383476558
",git fetch https://review.opendev.org/openstack/os-testr refs/changes/58/732558/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py']",3,ea0e88e9ced69a1988a0dc55cf4db508caddbf3d,reno-openstackdocstheme,openstackdocs_repo_name = 'openstack/os-testr' openstackdocs_auto_name = False openstackdocs_bug_project = 'os-testr' openstackdocs_bug_tag = ''pygments_style = 'native',"repository_name = 'openstack/os-testr' bug_project = 'os-testr' bug_tag = '' # Must set this variable to include year, month, day, hours, and minutes. html_last_updated_fmt = '%Y-%m-%d %H:%M'pygments_style = 'sphinx'",13,14
openstack%2Fansible-hardening~stable%2Fussuri~I21bcbde8acc8d4fd83b28026bcec33f388e69912,openstack/ansible-hardening,stable/ussuri,I21bcbde8acc8d4fd83b28026bcec33f388e69912,Enable syncing of docs,MERGED,2020-06-04 12:07:12.000000000,2020-06-09 20:03:10.000000000,2020-06-09 20:01:26.000000000,"[{'_account_id': 6547}, {'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-06-04 12:07:12.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/f03507f9d4c79e019e25b3e5e74d0d4f4db2bfcf', 'message': 'Enable syncing of docs\n\nThe docs job is failing in https://review.opendev.org/671840 and thus\nnothing is synced in from openstack-ansible-tests. The failure is due to\nthe removal of entries from doc/requirements.txt. Add those\nto test-requirements.txt instead.\n\nChange-Id: I21bcbde8acc8d4fd83b28026bcec33f388e69912\n(cherry picked from commit 1fa67fd90d7c3ed63c502f99545a1216da3c1b06)\n'}]",0,733571,f03507f9d4c79e019e25b3e5e74d0d4f4db2bfcf,12,4,1,6547,,,0,"Enable syncing of docs

The docs job is failing in https://review.opendev.org/671840 and thus
nothing is synced in from openstack-ansible-tests. The failure is due to
the removal of entries from doc/requirements.txt. Add those
to test-requirements.txt instead.

Change-Id: I21bcbde8acc8d4fd83b28026bcec33f388e69912
(cherry picked from commit 1fa67fd90d7c3ed63c502f99545a1216da3c1b06)
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/71/733571/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,f03507f9d4c79e019e25b3e5e74d0d4f4db2bfcf,fix-docs-stable/ussuri, -r{toxinidir}/test-requirements.txt,,7,2
openstack%2Fpython-octaviaclient~master~Iecc1ba5dc5f27bc160bf39fc0c6fa91f89405093,openstack/python-octaviaclient,master,Iecc1ba5dc5f27bc160bf39fc0c6fa91f89405093,Add Python3 victoria unit tests,MERGED,2020-04-10 01:56:55.000000000,2020-06-09 20:03:03.000000000,2020-06-09 19:58:49.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-10 01:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/282a248a255b468e6ed48802d88a0eecd446e48d', 'message': 'Add Python3 victoria unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for victoria.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Iecc1ba5dc5f27bc160bf39fc0c6fa91f89405093\n'}, {'number': 2, 'created': '2020-05-05 22:03:13.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/32466131f4c90386b5f7f082639aefc1779567fc', 'message': 'Add Python3 victoria unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for victoria.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Iecc1ba5dc5f27bc160bf39fc0c6fa91f89405093\n'}]",1,718873,32466131f4c90386b5f7f082639aefc1779567fc,16,5,2,22816,,,0,"Add Python3 victoria unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for victoria.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Iecc1ba5dc5f27bc160bf39fc0c6fa91f89405093
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/73/718873/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,282a248a255b468e6ed48802d88a0eecd446e48d,add-victoria-python-jobtemplates, - openstack-python3-victoria-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Fkolla-ansible~master~Iea3f4f3d2e5c6040c1e0bc7bfae8719cc7d8ac55,openstack/kolla-ansible,master,Iea3f4f3d2e5c6040c1e0bc7bfae8719cc7d8ac55,Remove XenAPI integration,MERGED,2020-06-08 19:31:49.000000000,2020-06-09 20:01:09.000000000,2020-06-09 19:58:38.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-08 19:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/137e6fb3ba8049cc7902a1cb5ab369fbb83b7d82', 'message': 'Remove XenAPI integration\n\nChange-Id: Iea3f4f3d2e5c6040c1e0bc7bfae8719cc7d8ac55\n'}, {'number': 2, 'created': '2020-06-09 11:56:29.000000000', 'files': ['doc/source/reference/compute/index.rst', 'ansible/roles/nova-cell/tasks/bootstrap_xenapi.yml', 'ansible/roles/neutron/defaults/main.yml', 'etc/kolla/passwords.yml', 'ansible/roles/neutron/tasks/config.yml', 'doc/source/reference/compute/xenserver-guide.rst', 'ansible/roles/nova-cell/tasks/deploy.yml', 'ansible/roles/nova-cell/tasks/config.yml', 'doc/source/reference/compute/masakari-guide.rst', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/neutron/templates/openvswitch_agent_xenapi.ini.j2', 'ansible/roles/ceilometer/templates/ceilometer.conf.j2', 'ansible/roles/neutron/handlers/main.yml', 'releasenotes/notes/remove-xenapi-94ea90ffd61bae20.yaml', 'ansible/group_vars/all.yml', 'doc/source/reference/compute/nova-guide.rst', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/60e03d7bf30f536812fb3f61fb5f1a1db53851f8', 'message': 'Remove XenAPI integration\n\nChange-Id: Iea3f4f3d2e5c6040c1e0bc7bfae8719cc7d8ac55\n'}]",2,734180,60e03d7bf30f536812fb3f61fb5f1a1db53851f8,14,3,2,167,,,0,"Remove XenAPI integration

Change-Id: Iea3f4f3d2e5c6040c1e0bc7bfae8719cc7d8ac55
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/80/734180/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/compute/index.rst', 'ansible/roles/nova-cell/tasks/bootstrap_xenapi.yml', 'ansible/roles/neutron/defaults/main.yml', 'etc/kolla/passwords.yml', 'ansible/roles/neutron/tasks/config.yml', 'doc/source/reference/compute/xenserver-guide.rst', 'ansible/roles/nova-cell/tasks/deploy.yml', 'ansible/roles/nova-cell/tasks/config.yml', 'doc/source/reference/compute/masakari-guide.rst', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/neutron/templates/openvswitch_agent_xenapi.ini.j2', 'ansible/roles/ceilometer/templates/ceilometer.conf.j2', 'ansible/roles/neutron/handlers/main.yml', 'releasenotes/notes/remove-xenapi-94ea90ffd61bae20.yaml', 'ansible/group_vars/all.yml', 'doc/source/reference/compute/nova-guide.rst', 'etc/kolla/globals.yml']",17,137e6fb3ba8049cc7902a1cb5ab369fbb83b7d82,remove-xenapi,"# Valid options are [ qemu, kvm, vmware ]","# Valid options are [ qemu, kvm, vmware, xenapi ]####################################### # XenAPI - Support XenAPI for XenServer ####################################### # NOTE: XenAPI support has been deprecated and will be removed in the Victoria cycle. # XenAPI driver use HIMN(Host Internal Management Network) # to communicate with XenServer host. #xenserver_himn_ip: #xenserver_username: #xenserver_connect_protocol: ",11,312
openstack%2Fovn-octavia-provider~master~Ibc90380a5b11a40e8f5adf171416d997f3452bed,openstack/ovn-octavia-provider,master,Ibc90380a5b11a40e8f5adf171416d997f3452bed,Switch to newer openstackdocstheme and reno versions,MERGED,2020-05-18 21:04:20.000000000,2020-06-09 19:45:34.000000000,2020-06-09 19:43:50.000000000,"[{'_account_id': 1131}, {'_account_id': 6547}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-18 21:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/cc6e0bb7e348f3cb846b6c1367f43dbbd7aebb03', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.0 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nRemove docs requirements from lower-constraints, they are not needed\nduring install or test but only for docs building.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSet openstackdocs_pdf_link to link to PDF file. Note that\nthe link to the published document only works on docs.openstack.org\nwhere the PDF file is placed in the top-level html directory. The\nsite-preview places the PDF in a pdf directory.\n\nSet openstackdocs_auto_name to use 'project' as name.\n\nDepends-On: https://review.opendev.org/728938\nChange-Id: Ibc90380a5b11a40e8f5adf171416d997f3452bed\n""}, {'number': 2, 'created': '2020-05-19 13:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/3d0257cb0c9c707a9ae7c4e0b77fc6ec4fe1bc90', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.0 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nRemove docs requirements from lower-constraints, they are not needed\nduring install or test but only for docs building.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSet openstackdocs_pdf_link to link to PDF file. Note that\nthe link to the published document only works on docs.openstack.org\nwhere the PDF file is placed in the top-level html directory. The\nsite-preview places the PDF in a pdf directory.\n\nSet openstackdocs_auto_name to use 'project' as name.\n\nDepends-On: https://review.opendev.org/728938\nChange-Id: Ibc90380a5b11a40e8f5adf171416d997f3452bed\n""}, {'number': 3, 'created': '2020-05-20 20:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5023f80957927c8537398ab40ae720f6bd11227d', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nRemove docs requirements from lower-constraints, they are not needed\nduring install or test but only for docs building.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSet openstackdocs_pdf_link to link to PDF file. Note that\nthe link to the published document only works on docs.openstack.org\nwhere the PDF file is placed in the top-level html directory. The\nsite-preview places the PDF in a pdf directory.\n\nSet openstackdocs_auto_name to use 'project' as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nChange-Id: Ibc90380a5b11a40e8f5adf171416d997f3452bed\n""}, {'number': 4, 'created': '2020-06-09 18:05:08.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/52f9f82033478117207cfcde148ccf4fb6fa8b16', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nRemove docs requirements from lower-constraints, they are not needed\nduring install or test but only for docs building.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nSet openstackdocs_pdf_link to link to PDF file. Note that\nthe link to the published document only works on docs.openstack.org\nwhere the PDF file is placed in the top-level html directory. The\nsite-preview places the PDF in a pdf directory.\n\nSet openstackdocs_auto_name to use 'project' as name.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nChange-Id: Ibc90380a5b11a40e8f5adf171416d997f3452bed\n""}]",3,729042,52f9f82033478117207cfcde148ccf4fb6fa8b16,23,6,4,1131,,,0,"Switch to newer openstackdocstheme and reno versions

Switch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using
these versions will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

Remove docs requirements from lower-constraints, they are not needed
during install or test but only for docs building.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

Set openstackdocs_pdf_link to link to PDF file. Note that
the link to the published document only works on docs.openstack.org
where the PDF file is placed in the top-level html directory. The
site-preview places the PDF in a pdf directory.

Set openstackdocs_auto_name to use 'project' as name.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

Change-Id: Ibc90380a5b11a40e8f5adf171416d997f3452bed
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/42/729042/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini', 'releasenotes/source/conf.py']",5,cc6e0bb7e348f3cb846b6c1367f43dbbd7aebb03,reno-openstackdocstheme,openstackdocs_repo_name = 'openstack/ovn-octavia-provider' openstackdocs_pdf_link = True openstackdocs_bug_project = 'neutron' openstackdocs_bug_tag = 'ovn-octavia-provider',repository_name = 'openstack/ovn-octavia-provider' bug_project = 'neutron' bug_tag = 'ovn-octavia-provider',11,20
openstack%2Fopenstack-helm~master~I0b1bdd348e1f424afda9aa2183c0e876afd12968,openstack/openstack-helm,master,I0b1bdd348e1f424afda9aa2183c0e876afd12968,Fix wrong parameter reference,MERGED,2020-05-30 09:06:58.000000000,2020-06-09 19:39:35.000000000,2020-06-09 19:36:21.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30858}]","[{'number': 1, 'created': '2020-05-30 09:06:58.000000000', 'files': ['nova/templates/bin/_nova-console-compute-init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ceac2083578da69b0299c0d877bc51d7567f02b5', 'message': 'Fix wrong parameter reference\n\nThere is a reference error in the parameter ""client_interface"" in the ""_\nnova-console-compute-init.sh.tpl"" file, now fix it.\n\nChange-Id: I0b1bdd348e1f424afda9aa2183c0e876afd12968\n'}]",0,731936,ceac2083578da69b0299c0d877bc51d7567f02b5,13,6,1,30858,,,0,"Fix wrong parameter reference

There is a reference error in the parameter ""client_interface"" in the ""_
nova-console-compute-init.sh.tpl"" file, now fix it.

Change-Id: I0b1bdd348e1f424afda9aa2183c0e876afd12968
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/36/731936/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/templates/bin/_nova-console-compute-init.sh.tpl'],1,ceac2083578da69b0299c0d877bc51d7567f02b5,," client_interface=""{{- .Values.console.novnc.compute.vncserver_proxyclient_interface -}}"""," client_interface=""{{- .Values.console.novnc.compute.server_proxyclient_interface -}}""",1,1
openstack%2Fovn-octavia-provider~master~Id186bc325693726e26a95b420b1774810fd9ece6,openstack/ovn-octavia-provider,master,Id186bc325693726e26a95b420b1774810fd9ece6,Remove python modules related to coding style checks,MERGED,2020-05-07 18:17:47.000000000,2020-06-09 19:39:24.000000000,2020-06-09 19:37:56.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-05-07 18:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/2f33445b56da5f541e93a7acb74422ebe7cf2cf9', 'message': 'Remove python modules related to coding style checks\n\nPython modules related to coding style checks (listed in blacklist.txt in\nopenstack/requirements repo) are dropped from lower-constraints.txt\nas they are not actually used in tests (other than pep8).\n\nChange-Id: Id186bc325693726e26a95b420b1774810fd9ece6\n'}, {'number': 2, 'created': '2020-06-09 18:05:21.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/9ebd86a528b042befdf034789109b025fc49dec6', 'message': 'Remove python modules related to coding style checks\n\nPython modules related to coding style checks (listed in blacklist.txt in\nopenstack/requirements repo) are dropped from lower-constraints.txt\nas they are not actually used in tests (other than pep8).\n\nChange-Id: Id186bc325693726e26a95b420b1774810fd9ece6\n'}]",0,726218,9ebd86a528b042befdf034789109b025fc49dec6,17,4,2,1131,,,0,"Remove python modules related to coding style checks

Python modules related to coding style checks (listed in blacklist.txt in
openstack/requirements repo) are dropped from lower-constraints.txt
as they are not actually used in tests (other than pep8).

Change-Id: Id186bc325693726e26a95b420b1774810fd9ece6
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/18/726218/2 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,2f33445b56da5f541e93a7acb74422ebe7cf2cf9,hacking-update,,flake8==2.6.2 flake8-import-order==0.12hacking==1.1.0mccabe==0.2.1pep8==1.5.7pycodestyle==2.4.0pyflakes==0.8.1,0,7
openstack%2Fovn-octavia-provider~master~I291dc43d282502457af4527678fe1359de066e24,openstack/ovn-octavia-provider,master,I291dc43d282502457af4527678fe1359de066e24,Remove unnecessary libraries from lower-constraints,MERGED,2020-05-15 18:08:26.000000000,2020-06-09 19:13:00.000000000,2020-06-09 19:09:59.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-05-15 18:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/81e0272aed0236fcf619f53a360b8fc34ee9e73a', 'message': ""Remove unnecessary libraries from lower-constraints\n\nRemove hacking and other related dependencies from lower-constraints\nas theose are blacklisted requirements and do not need to be present\nnow that we're using hacking 3.0.1.\n\nChange-Id: I291dc43d282502457af4527678fe1359de066e24\n""}, {'number': 2, 'created': '2020-06-09 18:05:30.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/6a45069618b60181438aadc3d4580898d614bd96', 'message': ""Remove unnecessary libraries from lower-constraints\n\nRemove hacking and other related dependencies from lower-constraints\nas theose are blacklisted requirements and do not need to be present\nnow that we're using hacking 3.0.1.\n\nChange-Id: I291dc43d282502457af4527678fe1359de066e24\n""}]",0,728539,6a45069618b60181438aadc3d4580898d614bd96,13,3,2,1131,,,0,"Remove unnecessary libraries from lower-constraints

Remove hacking and other related dependencies from lower-constraints
as theose are blacklisted requirements and do not need to be present
now that we're using hacking 3.0.1.

Change-Id: I291dc43d282502457af4527678fe1359de066e24
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/39/728539/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,81e0272aed0236fcf619f53a360b8fc34ee9e73a,fix-lower-constraints,,flake8==2.6.2 flake8-import-order==0.12hacking==1.1.0pep8==1.5.7pyflakes==0.8.1,0,5
openstack%2Fheat-cfntools~master~Ib23175e76a321adc1c2684242a5e80aba76d100b,openstack/heat-cfntools,master,Ib23175e76a321adc1c2684242a5e80aba76d100b,Use unittest.mock instead of mock,ABANDONED,2020-06-08 23:13:47.000000000,2020-06-09 19:11:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-08 23:13:47.000000000', 'files': ['heat_cfntools/tests/test_cfn_hup.py', 'test-requirements.txt', 'heat_cfntools/tests/test_cfn_helper.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/c8bfec27bc758e85581253f66ccecd6377c906a5', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Ib23175e76a321adc1c2684242a5e80aba76d100b\n'}]",2,734348,c8bfec27bc758e85581253f66ccecd6377c906a5,3,1,1,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Ib23175e76a321adc1c2684242a5e80aba76d100b
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/48/734348/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat_cfntools/tests/test_cfn_hup.py', 'test-requirements.txt', 'heat_cfntools/tests/test_cfn_helper.py', 'lower-constraints.txt']",4,c8bfec27bc758e85581253f66ccecd6377c906a5,drop_mock,,mock==1.0,2,4
openstack%2Fironic~stable%2Fussuri~I1d0194e7c7ae9fcdd4665e6115ee26d10b14e480,openstack/ironic,stable/ussuri,I1d0194e7c7ae9fcdd4665e6115ee26d10b14e480,New configuration parameter to use ipmitool retries,MERGED,2020-05-29 07:38:21.000000000,2020-06-09 18:41:32.000000000,2020-06-09 18:39:00.000000000,"[{'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-05-29 07:38:21.000000000', 'files': ['releasenotes/notes/ipmitool-use_ipmitool_retries-b55b2b8ed5cab603.yaml', 'ironic/conf/ipmi.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0adedb2e6c17bea0b1eb4588ba694c4a90f92b93', 'message': 'New configuration parameter to use ipmitool retries\n\nAdd a new ``[ipmi]use_ipmitool_retries`` option. When set to\n``True`` and timing is supported by ipmitool, the number of\nretries and command interval will be passed to ipmitool so\nthat ipmitool will do the retries.  When set to ``False``,\nironic will do the retries.\n\nThe default is ``True``, so this will not change the current\nbehaviour which is to have ipmitool do the retries when\ntiming is supported.\n\nSetting to ``False`` will help with certain BMCs which do\nnot support the Cipher Suites command.  In this case ipmitool\ncan take up to 10 seconds for each retry which results in a\ntotal time exceeding ``[ipmi]command_retry_timeout``.\n\nChange-Id: I1d0194e7c7ae9fcdd4665e6115ee26d10b14e480\nStory: 2007632\nTask: 39676\n(cherry picked from commit 6520b373f456a6392e1b0ee6fdfaa632ce0d0dc3)\n'}]",0,731676,0adedb2e6c17bea0b1eb4588ba694c4a90f92b93,42,7,1,10239,,,0,"New configuration parameter to use ipmitool retries

Add a new ``[ipmi]use_ipmitool_retries`` option. When set to
``True`` and timing is supported by ipmitool, the number of
retries and command interval will be passed to ipmitool so
that ipmitool will do the retries.  When set to ``False``,
ironic will do the retries.

The default is ``True``, so this will not change the current
behaviour which is to have ipmitool do the retries when
timing is supported.

Setting to ``False`` will help with certain BMCs which do
not support the Cipher Suites command.  In this case ipmitool
can take up to 10 seconds for each retry which results in a
total time exceeding ``[ipmi]command_retry_timeout``.

Change-Id: I1d0194e7c7ae9fcdd4665e6115ee26d10b14e480
Story: 2007632
Task: 39676
(cherry picked from commit 6520b373f456a6392e1b0ee6fdfaa632ce0d0dc3)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/76/731676/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ipmitool-use_ipmitool_retries-b55b2b8ed5cab603.yaml', 'ironic/conf/ipmi.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py']",4,0adedb2e6c17bea0b1eb4588ba694c4a90f92b93,ipmitool-use-retries-stable/ussuri," @mock.patch.object(ipmi, '_is_option_supported', autospec=True) @mock.patch.object(ipmi, '_make_password_file', _make_password_file_stub) @mock.patch.object(utils, 'execute', autospec=True) def test__exec_ipmitool_with_ironic_retries( self, mock_exec, mock_support): args = [ 'ipmitool', '-I', 'lanplus', '-H', self.info['address'], '-L', self.info['priv_level'], '-U', self.info['username'], '-v', '-R', '1', '-N', '1', '-f', awesome_password_filename, 'A', 'B', 'C', ] mock_support.return_value = True mock_exec.return_value = (None, None) self.config(use_ipmitool_retries=False, group='ipmi') ipmi._exec_ipmitool(self.info, 'A B C') mock_support.assert_called_once_with('timing') mock_exec.assert_called_once_with(*args) @mock.patch.object(ipmi, '_is_option_supported', autospec=True) @mock.patch.object(ipmi, '_make_password_file', _make_password_file_stub) @mock.patch.object(utils, 'execute', autospec=True) def test__exec_ipmitool_with_ironic_retries_multiple( self, mock_exec, mock_support): mock_exec.side_effect = [ processutils.ProcessExecutionError( stderr=""Unknown"" ), processutils.ProcessExecutionError( stderr=""Unknown"" ), processutils.ProcessExecutionError( stderr=""Unknown"" ), ] self.config(min_command_interval=1, group='ipmi') self.config(command_retry_timeout=3, group='ipmi') self.config(use_ipmitool_retries=False, group='ipmi') self.assertRaises(processutils.ProcessExecutionError, ipmi._exec_ipmitool, self.info, 'A B C') mock_support.assert_called_once_with('timing') self.assertEqual(3, mock_exec.call_count) ",,93,3
openstack%2Fspecs-cookiecutter~master~I4e5abc8485103f5b830759056db24185670c5ec2,openstack/specs-cookiecutter,master,I4e5abc8485103f5b830759056db24185670c5ec2,Update to openstackdocstheme,MERGED,2020-06-01 13:47:23.000000000,2020-06-09 18:41:08.000000000,2020-06-09 18:41:07.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-01 13:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/specs-cookiecutter/commit/32013a2bcb900926a0e348489a2cc3b008e2d36a', 'message': 'Update to openstackdocstheme\n\noslosphinx is dead, convert to openstackdocstheme and update for\npython3.\n\nChange-Id: I4e5abc8485103f5b830759056db24185670c5ec2\n'}, {'number': 2, 'created': '2020-06-09 07:04:50.000000000', 'files': ['{{cookiecutter.repo_name}}/setup.cfg', '{{cookiecutter.repo_name}}/doc/source/conf.py', '{{cookiecutter.repo_name}}/tox.ini', '{{cookiecutter.repo_name}}/requirements.txt'], 'web_link': 'https://opendev.org/openstack/specs-cookiecutter/commit/9238dbe1c09bcfeb14c0577ba13d3e64b6eba82d', 'message': 'Update to openstackdocstheme\n\noslosphinx is dead, convert to openstackdocstheme and update for\npython3.\n\nChange-Id: I4e5abc8485103f5b830759056db24185670c5ec2\n'}]",1,732365,9238dbe1c09bcfeb14c0577ba13d3e64b6eba82d,10,4,2,6547,,,0,"Update to openstackdocstheme

oslosphinx is dead, convert to openstackdocstheme and update for
python3.

Change-Id: I4e5abc8485103f5b830759056db24185670c5ec2
",git fetch https://review.opendev.org/openstack/specs-cookiecutter refs/changes/65/732365/2 && git format-patch -1 --stdout FETCH_HEAD,"['{{cookiecutter.repo_name}}/doc/source/conf.py', '{{cookiecutter.repo_name}}/setup.cfg', '{{cookiecutter.repo_name}}/tox.ini', '{{cookiecutter.repo_name}}/requirements.txt']",4,32013a2bcb900926a0e348489a2cc3b008e2d36a,openstackdocstheme,"openstackdocstheme>=2.2.1 # Apache2 sphinx>=2.0.0,!=2.1.0 # BSD","oslosphinx sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",13,18
openstack%2Fcookbook-openstackclient~stable%2Fqueens~I0ed3ffabab5f8b0959c3b2c50a3619f378e59c9e,openstack/cookbook-openstackclient,stable/queens,I0ed3ffabab5f8b0959c3b2c50a3619f378e59c9e,Fixes user and project search by name in openstack_user resource,MERGED,2020-05-25 08:33:43.000000000,2020-06-09 18:34:34.000000000,2020-06-09 18:34:34.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-25 08:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstackclient/commit/d5ff9fd59717c6c0ad581486e6df360aaa08ce49', 'message': 'Fixes user and project search by name in openstack_user resource\n\nAs project and user names are only unique for each domain and some\nKeystone settings may filter user listing, any user or project search by\nname needs to include the associated domain.\n\nThis change fixes any search done by name of a project or user in the\nopenstack_user resource. It is\nassumed that if no domain is specified and there are multiple elements\nwith the same name, the first search result is\nchosen.\n\nCloses-Bug: #1871144\n\nChange-Id: I0ed3ffabab5f8b0959c3b2c50a3619f378e59c9e\nSigned-off-by: Henrique Santos <hfigueiredosantos@tecnico.ulisboa.pt>\n'}, {'number': 2, 'created': '2020-05-25 09:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstackclient/commit/13c7b8f53585320fd07d12c8a2d84b3c2df57960', 'message': 'Fixes user and project search by name in openstack_user resource\n\nAs project and user names are only unique for each domain and some\nKeystone settings may filter user listing, any user or project search by\nname needs to include the associated domain.\n\nThis change fixes any search done by name of a project or user in the\nopenstack_user resource. It is\nassumed that if no domain is specified and there are multiple elements\nwith the same name, the first search result is\nchosen.\n\nCloses-Bug: #1871144\n\nChange-Id: I0ed3ffabab5f8b0959c3b2c50a3619f378e59c9e\nSigned-off-by: Henrique Santos <hfigueiredosantos@tecnico.ulisboa.pt>\n'}, {'number': 3, 'created': '2020-05-25 10:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstackclient/commit/0ead9626eb99be1a2e915deb3a8020ac6571ba76', 'message': 'Fixes user and project search by name in openstack_user resource\n\nAs project and user names are only unique for each domain and some\nKeystone settings may filter user listing, any user or project search by\nname needs to include the associated domain.\n\nThis change fixes any search done by name of a project or user in the\nopenstack_user resource. It is\nassumed that if no domain is specified and there are multiple elements\nwith the same name, the first search result is\nchosen.\n\nCloses-Bug: #1871144\n\nChange-Id: I0ed3ffabab5f8b0959c3b2c50a3619f378e59c9e\nSigned-off-by: Henrique Santos <hfigueiredosantos@tecnico.ulisboa.pt>\n'}, {'number': 4, 'created': '2020-06-02 00:36:13.000000000', 'files': ['libraries/openstack_user.rb', 'spec/user_spec.rb', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstackclient/commit/bd26a63da98d62eee898fa4e4005293fd89e133a', 'message': 'Fixes user and project search by name in openstack_user resource\n\nAs project and user names are only unique for each domain and some\nKeystone settings may filter user listing, any user or project search by\nname needs to include the associated domain.\n\nThis change fixes any search done by name of a project or user in the\nopenstack_user resource. It is\nassumed that if no domain is specified and there are multiple elements\nwith the same name, the first search result is\nchosen.\n\nCloses-Bug: #1871144\n\nChange-Id: I0ed3ffabab5f8b0959c3b2c50a3619f378e59c9e\nSigned-off-by: Henrique Santos <hfigueiredosantos@tecnico.ulisboa.pt>\n'}]",0,730579,bd26a63da98d62eee898fa4e4005293fd89e133a,13,2,4,31353,,,0,"Fixes user and project search by name in openstack_user resource

As project and user names are only unique for each domain and some
Keystone settings may filter user listing, any user or project search by
name needs to include the associated domain.

This change fixes any search done by name of a project or user in the
openstack_user resource. It is
assumed that if no domain is specified and there are multiple elements
with the same name, the first search result is
chosen.

Closes-Bug: #1871144

Change-Id: I0ed3ffabab5f8b0959c3b2c50a3619f378e59c9e
Signed-off-by: Henrique Santos <hfigueiredosantos@tecnico.ulisboa.pt>
",git fetch https://review.opendev.org/openstack/cookbook-openstackclient refs/changes/79/730579/1 && git format-patch -1 --stdout FETCH_HEAD,"['libraries/openstack_user.rb', 'spec/user_spec.rb']",2,d5ff9fd59717c6c0ad581486e6df360aaa08ce49,bug/1871144, find_by_name: [] find_by_name: [ found_user ], find: nil find: found_user,41,15
openstack%2Fcookbook-openstackclient~stable%2Frocky~I0ed3ffabab5f8b0959c3b2c50a3619f378e59c9e,openstack/cookbook-openstackclient,stable/rocky,I0ed3ffabab5f8b0959c3b2c50a3619f378e59c9e,Fixes user and project search by name in openstack_user resource,MERGED,2020-05-25 09:36:55.000000000,2020-06-09 18:34:33.000000000,2020-06-09 18:34:33.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}, {'_account_id': 31353}]","[{'number': 1, 'created': '2020-05-25 09:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstackclient/commit/3118dca1709919166e5ddbb106f48091ad1af050', 'message': 'Fixes user and project search by name in openstack_user resource\n\nAs project and user names are only unique for each domain and some\nKeystone settings may filter user listing, any user or project search by\nname needs to include the associated domain.\n\nThis change fixes any search done by name of a project or user in the\nopenstack_user resource. It is\nassumed that if no domain is specified and there are multiple elements\nwith the same name, the first search result is\nchosen.\n\nCloses-Bug: #1871144\n\nChange-Id: I0ed3ffabab5f8b0959c3b2c50a3619f378e59c9e\nSigned-off-by: Henrique Santos <hfigueiredosantos@tecnico.ulisboa.pt>\n(cherry picked from commit 3085252eab26a937f3c583013084dbfda002d98d)\n'}, {'number': 2, 'created': '2020-05-25 11:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstackclient/commit/64c0797c3da2d0cc5df73826e50e6198d4137641', 'message': 'Fixes user and project search by name in openstack_user resource\n\nAs project and user names are only unique for each domain and some\nKeystone settings may filter user listing, any user or project search by\nname needs to include the associated domain.\n\nThis change fixes any search done by name of a project or user in the\nopenstack_user resource. It is\nassumed that if no domain is specified and there are multiple elements\nwith the same name, the first search result is\nchosen.\n\nCloses-Bug: #1871144\n\nChange-Id: I0ed3ffabab5f8b0959c3b2c50a3619f378e59c9e\nSigned-off-by: Henrique Santos <hfigueiredosantos@tecnico.ulisboa.pt>\n(cherry picked from commit 3085252eab26a937f3c583013084dbfda002d98d)\n'}, {'number': 3, 'created': '2020-06-02 00:34:45.000000000', 'files': ['libraries/openstack_user.rb', 'spec/user_spec.rb', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstackclient/commit/6fd801ac2af464c7e074ba2a367733904b7c62cf', 'message': 'Fixes user and project search by name in openstack_user resource\n\nAs project and user names are only unique for each domain and some\nKeystone settings may filter user listing, any user or project search by\nname needs to include the associated domain.\n\nThis change fixes any search done by name of a project or user in the\nopenstack_user resource. It is\nassumed that if no domain is specified and there are multiple elements\nwith the same name, the first search result is\nchosen.\n\nCloses-Bug: #1871144\n\nChange-Id: I0ed3ffabab5f8b0959c3b2c50a3619f378e59c9e\nSigned-off-by: Henrique Santos <hfigueiredosantos@tecnico.ulisboa.pt>\n(cherry picked from commit 3085252eab26a937f3c583013084dbfda002d98d)\n'}]",0,730601,6fd801ac2af464c7e074ba2a367733904b7c62cf,12,3,3,13252,,,0,"Fixes user and project search by name in openstack_user resource

As project and user names are only unique for each domain and some
Keystone settings may filter user listing, any user or project search by
name needs to include the associated domain.

This change fixes any search done by name of a project or user in the
openstack_user resource. It is
assumed that if no domain is specified and there are multiple elements
with the same name, the first search result is
chosen.

Closes-Bug: #1871144

Change-Id: I0ed3ffabab5f8b0959c3b2c50a3619f378e59c9e
Signed-off-by: Henrique Santos <hfigueiredosantos@tecnico.ulisboa.pt>
(cherry picked from commit 3085252eab26a937f3c583013084dbfda002d98d)
",git fetch https://review.opendev.org/openstack/cookbook-openstackclient refs/changes/01/730601/1 && git format-patch -1 --stdout FETCH_HEAD,"['libraries/openstack_user.rb', 'spec/user_spec.rb']",2,3118dca1709919166e5ddbb106f48091ad1af050,bug/1871144, find_by_name: [] find_by_name: [ found_user ], find: nil find: found_user,41,15
openstack%2Fpython-octaviaclient~master~Ia7a5ebbfc32f354ba733cc404539239fd6009e7a,openstack/python-octaviaclient,master,Ia7a5ebbfc32f354ba733cc404539239fd6009e7a,Add the ability to specify TLS protocols for a pool,MERGED,2020-04-28 22:52:43.000000000,2020-06-09 18:34:06.000000000,2020-06-09 18:32:29.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-28 22:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/8bc3001acbfb60940787cf9ab23f421732fc218d', 'message': 'Add the ability to specify TLS protocols for a poo\n\nUpdated the pool create and set parameters to add\nan argumet ""--tls-versions"" for passing a string of accepted\ntls versions\n\nChange-Id: Ia7a5ebbfc32f354ba733cc404539239fd6009e7a\nStory: 2006733\nTask: 37175\n'}, {'number': 2, 'created': '2020-04-28 22:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/b34d2ff1a0cf6fd88ec7c3cc30ea2397f836fe0e', 'message': 'Add the ability to specify TLS protocols for a pool\n\nUpdated the pool create and set parameters to add\nan argumet ""--tls-versions"" for passing a string of accepted\ntls versions\n\nChange-Id: Ia7a5ebbfc32f354ba733cc404539239fd6009e7a\nStory: 2006733\nTask: 37175\n'}, {'number': 3, 'created': '2020-05-06 19:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/f5eafd61a4ecf51f550a87bc80300b128a2177c7', 'message': 'Add the ability to specify TLS protocols for a pool\n\nUpdated the pool create and set parameters to add\nan argumet ""--tls-version"" for passing a string of accepted\ntls versions\n\nChange-Id: Ia7a5ebbfc32f354ba733cc404539239fd6009e7a\nStory: 2006733\nTask: 37175\nDepends-On: I480b7fb9756d98ba9dbcdfd1d4b193ce6868e291\n'}, {'number': 4, 'created': '2020-05-06 19:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/e704c3e22a8230d129b6d87bac4dfb17db8c8f9b', 'message': 'Add the ability to specify TLS protocols for a pool\n\nUpdated the pool create and set parameters to add\nan argumet ""--tls-version"" for passing a string of accepted\ntls versions\n\nChange-Id: Ia7a5ebbfc32f354ba733cc404539239fd6009e7a\nStory: 2006733\nTask: 37175\nDepends-On: I480b7fb9756d98ba9dbcdfd1d4b193ce6868e291\n'}, {'number': 5, 'created': '2020-05-06 20:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/99bcd7bb7f4954b5a4d3b81afdf0fabcea80106a', 'message': 'Add the ability to specify TLS protocols for a pool\n\nUpdated the pool create and set parameters to add\na repeatable  argumet ""--tls-version"" for passing TLS\nProtocols\n\nChange-Id: Ia7a5ebbfc32f354ba733cc404539239fd6009e7a\nStory: 2006733\nTask: 37175\nDepends-On: I480b7fb9756d98ba9dbcdfd1d4b193ce6868e291\n'}, {'number': 6, 'created': '2020-05-06 20:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/5adbd968e4ebc1cf471b7df7ca9e277d61ffff5d', 'message': 'Add the ability to specify TLS protocols for a pool\n\nUpdated the pool create and set parameters to add\na repeatable  argumet ""--tls-version"" for passing TLS\nProtocols\n\nChange-Id: Ia7a5ebbfc32f354ba733cc404539239fd6009e7a\nStory: 2006733\nTask: 37175\nDepends-On: I480b7fb9756d98ba9dbcdfd1d4b193ce6868e291\n'}, {'number': 7, 'created': '2020-05-06 22:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/77ede069280b9e0249265b54d402081049467e80', 'message': 'Add the ability to specify TLS protocols for a pool\n\nUpdated the pool create and set parameters to add\na repeatable  argumet ""--tls-version"" for passing TLS\nProtocols\n\nChange-Id: Ia7a5ebbfc32f354ba733cc404539239fd6009e7a\nStory: 2006733\nTask: 37175\nDepends-On: I480b7fb9756d98ba9dbcdfd1d4b193ce6868e291\n'}, {'number': 8, 'created': '2020-05-18 23:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/1c5cafe3f0bf2ae62bf73ff2f9fc2bd29ea3ce02', 'message': 'Add the ability to specify TLS protocols for a pool\n\nUpdated the pool create and set parameters to add\na repeatable  argumet ""--tls-version"" for passing TLS\nProtocols\n\nChange-Id: Ia7a5ebbfc32f354ba733cc404539239fd6009e7a\nStory: 2006733\nTask: 37175\nDepends-On: I480b7fb9756d98ba9dbcdfd1d4b193ce6868e291\n'}, {'number': 9, 'created': '2020-05-18 23:43:49.000000000', 'files': ['releasenotes/notes/add-tls-version-support-to-pools-852f02b034f436f9.yaml', 'octaviaclient/tests/unit/osc/v2/constants.py', 'octaviaclient/osc/v2/constants.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'octaviaclient/osc/v2/pool.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/fc9df662cfcb55f913301e151258ef22064b18ba', 'message': 'Add the ability to specify TLS protocols for a pool\n\nUpdated the pool create and set parameters to add\na repeatable  argumet ""--tls-version"" for passing TLS\nProtocols\n\nChange-Id: Ia7a5ebbfc32f354ba733cc404539239fd6009e7a\nStory: 2006733\nTask: 37175\nDepends-On: I480b7fb9756d98ba9dbcdfd1d4b193ce6868e291\n'}]",7,724194,fc9df662cfcb55f913301e151258ef22064b18ba,24,3,9,31565,,,0,"Add the ability to specify TLS protocols for a pool

Updated the pool create and set parameters to add
a repeatable  argumet ""--tls-version"" for passing TLS
Protocols

Change-Id: Ia7a5ebbfc32f354ba733cc404539239fd6009e7a
Story: 2006733
Task: 37175
Depends-On: I480b7fb9756d98ba9dbcdfd1d4b193ce6868e291
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/94/724194/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-tls-version-support-to-pools-852f02b034f436f9.yaml', 'octaviaclient/tests/unit/osc/v2/constants.py', 'octaviaclient/osc/v2/constants.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'octaviaclient/osc/v2/pool.py']",6,8bc3001acbfb60940787cf9ab23f421732fc218d,tls-protocol-pool," parser.add_argument( '--tls-versions', metavar='<tls_versions>', help=""Set the TLS protocol versions to be used "" ""by the pool in a colon seperated string, "" ""accepted versions depend on haproxy version"" ) parser.add_argument( '--tls-versions', metavar='<tls_versions>', help=""Set the TLS protocol versions to be used "" ""by the pool in a colon seperated string, "" ""accepted versions depend on haproxy version"" )",,38,7
openstack%2Fpython-octaviaclient~master~Icb3171a7722e3b3028a108345506e907132bb856,openstack/python-octaviaclient,master,Icb3171a7722e3b3028a108345506e907132bb856,Add the ability to specify TLS protocols for a listener,MERGED,2020-04-23 18:48:54.000000000,2020-06-09 18:32:35.000000000,2020-06-09 18:30:28.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-23 18:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/c9943a6a96b8f941f2470b465f3582ca83d1534e', 'message': 'Add the ability to specify TLS protocols for a listener\n\nUpdated the listener create and set parameters to add\nan argumet ""--tls-versions"" for passing a string of accepted\ntls versions\n\nChange-Id: Icb3171a7722e3b3028a108345506e907132bb856\nStory: 2006733\nTask: 37174\n'}, {'number': 2, 'created': '2020-05-04 22:17:08.000000000', 'files': ['octaviaclient/tests/unit/osc/v2/constants.py', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'releasenotes/notes/add-tls-version-support-for-listeners-4a6a661af5f9de9a.yaml', 'octaviaclient/osc/v2/constants.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/osc/v2/listener.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/8635219f5d9490ffc5c5e193ae5d4abd9a962768', 'message': 'Add the ability to specify TLS protocols for a listener\n\nUpdated the listener create and set parameters to add\nan argumet ""--tls-version"" for passing TLS protocol versions\n\nChange-Id: Icb3171a7722e3b3028a108345506e907132bb856\nStory: 2006733\nTask: 37174\nDepends-On: Ic33d9b9a256490ae1b048cdfd2475d6340509fdb\n'}]",8,722426,8635219f5d9490ffc5c5e193ae5d4abd9a962768,12,3,2,31565,,,0,"Add the ability to specify TLS protocols for a listener

Updated the listener create and set parameters to add
an argumet ""--tls-version"" for passing TLS protocol versions

Change-Id: Icb3171a7722e3b3028a108345506e907132bb856
Story: 2006733
Task: 37174
Depends-On: Ic33d9b9a256490ae1b048cdfd2475d6340509fdb
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/26/722426/1 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/tests/unit/osc/v2/constants.py', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'releasenotes/notes/add-tls-version-support-for-listeners-4a6a661af5f9de9a.yaml', 'octaviaclient/osc/v2/constants.py', 'octaviaclient/osc/v2/listener.py', 'octaviaclient/osc/v2/utils.py']",6,c9943a6a96b8f941f2470b465f3582ca83d1534e,," 'tls_versions': ('tls_versions', str),",,39,6
openstack%2Fpython-heatclient~master~I5cf252c1a22977d3c87898e723e5001cc87a0d87,openstack/python-heatclient,master,I5cf252c1a22977d3c87898e723e5001cc87a0d87,Use unittest.mock instead of third party mock,MERGED,2020-04-07 13:53:09.000000000,2020-06-09 18:15:51.000000000,2020-06-09 18:14:00.000000000,"[{'_account_id': 4257}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2020-04-07 13:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/e3ca118b3b47652119b71ecf29dafc5134492548', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I5cf252c1a22977d3c87898e723e5001cc87a0d87\n'}, {'number': 2, 'created': '2020-04-07 14:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/6cbe41ba0445b8a1398b86e4f4ff5584d8ce0b0a', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I5cf252c1a22977d3c87898e723e5001cc87a0d87\n'}, {'number': 3, 'created': '2020-04-08 14:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/943b7ba23469aaa80dc2ec06fc1c9dc88f140027', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I5cf252c1a22977d3c87898e723e5001cc87a0d87\n'}, {'number': 4, 'created': '2020-05-06 05:43:23.000000000', 'files': ['heatclient/tests/unit/test_shell.py', 'test-requirements.txt', 'heatclient/tests/unit/osc/v1/test_event.py', 'heatclient/tests/unit/test_utils.py', 'heatclient/tests/unit/osc/v1/test_software_config.py', 'heatclient/tests/unit/test_software_configs.py', 'heatclient/tests/unit/osc/v1/test_snapshot.py', 'heatclient/tests/unit/test_common_http.py', 'heatclient/tests/unit/osc/v1/fakes.py', 'heatclient/tests/unit/test_resources.py', 'heatclient/tests/unit/test_template_format.py', 'heatclient/tests/unit/test_stacks.py', 'heatclient/tests/unit/osc/utils.py', 'heatclient/tests/unit/test_environment_format.py', 'heatclient/tests/unit/test_resource_types.py', 'heatclient/tests/unit/osc/v1/test_template.py', 'heatclient/tests/unit/osc/v1/test_resource.py', 'heatclient/tests/unit/test_template_utils.py', 'heatclient/tests/unit/osc/v1/test_build_info.py', 'heatclient/tests/unit/test_deployment_utils.py', 'heatclient/tests/unit/test_events.py', 'heatclient/tests/unit/test_software_deployments.py', 'heatclient/tests/unit/osc/v1/test_stack_failures.py', 'heatclient/tests/unit/test_build_info.py', 'lower-constraints.txt', 'heatclient/tests/unit/v1/test_hooks.py', 'heatclient/tests/unit/test_event_utils.py', 'heatclient/tests/unit/osc/v1/test_software_deployment.py', 'heatclient/tests/unit/osc/v1/test_stack.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/8a9566864f678913bdcfcdfc7aac0e04e98d78b7', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I5cf252c1a22977d3c87898e723e5001cc87a0d87\n'}]",7,718115,8a9566864f678913bdcfcdfc7aac0e04e98d78b7,16,4,4,28614,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: I5cf252c1a22977d3c87898e723e5001cc87a0d87
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/15/718115/4 && git format-patch -1 --stdout FETCH_HEAD,"['heatclient/tests/unit/test_shell.py', 'test-requirements.txt', 'heatclient/tests/unit/osc/v1/test_event.py', 'heatclient/tests/unit/test_utils.py', 'heatclient/tests/unit/osc/v1/test_software_config.py', 'heatclient/tests/unit/test_software_configs.py', 'heatclient/tests/unit/osc/v1/test_snapshot.py', 'heatclient/tests/unit/test_common_http.py', 'heatclient/tests/unit/osc/v1/fakes.py', 'heatclient/tests/unit/test_resources.py', 'heatclient/tests/unit/test_template_format.py', 'heatclient/tests/unit/test_stacks.py', 'heatclient/tests/unit/osc/utils.py', 'heatclient/tests/unit/test_environment_format.py', 'heatclient/tests/unit/test_resource_types.py', 'heatclient/tests/unit/osc/v1/test_template.py', 'heatclient/tests/unit/osc/v1/test_resource.py', 'heatclient/tests/unit/test_template_utils.py', 'heatclient/tests/unit/osc/v1/test_build_info.py', 'heatclient/tests/unit/test_deployment_utils.py', 'heatclient/tests/unit/test_events.py', 'heatclient/tests/unit/test_software_deployments.py', 'heatclient/tests/unit/osc/v1/test_stack_failures.py', 'heatclient/tests/unit/test_build_info.py', 'lower-constraints.txt', 'heatclient/tests/unit/v1/test_hooks.py', 'heatclient/tests/unit/test_event_utils.py', 'heatclient/tests/unit/osc/v1/test_software_deployment.py', 'heatclient/tests/unit/osc/v1/test_stack.py']",29,e3ca118b3b47652119b71ecf29dafc5134492548,unittest.mock,from unittest import mock,import mock,27,29
openstack%2Fmurano~stable%2Frocky~I25fe4aae198af9a4980ddd908074a38cd0f4d9c5,openstack/murano,stable/rocky,I25fe4aae198af9a4980ddd908074a38cd0f4d9c5,Make broken jobs non-voting,ABANDONED,2020-06-09 18:10:33.000000000,2020-06-09 18:13:58.000000000,,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 18:10:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/murano/commit/0bc5b5e6d1405c22e1b5b32e103ee82795e25ecb', 'message': 'Make broken jobs non-voting\n\nThe rally and api jobs fail on this branch, make them non-voting to\nallow other changes to merge.\n\nChange-Id: I25fe4aae198af9a4980ddd908074a38cd0f4d9c5\n'}]",2,734662,0bc5b5e6d1405c22e1b5b32e103ee82795e25ecb,3,2,1,6547,,,0,"Make broken jobs non-voting

The rally and api jobs fail on this branch, make them non-voting to
allow other changes to merge.

Change-Id: I25fe4aae198af9a4980ddd908074a38cd0f4d9c5
",git fetch https://review.opendev.org/openstack/murano refs/changes/62/734662/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0bc5b5e6d1405c22e1b5b32e103ee82795e25ecb,, - murano-rally-task: voting: false - murano-tempest-api: voting: false, - murano-rally-task - murano-tempest-api - murano-tempest-api,4,3
openstack%2Fopenstacksdk~master~I8548fa6fc7daa4101e86c839ec3c7b44fed29511,openstack/openstacksdk,master,I8548fa6fc7daa4101e86c839ec3c7b44fed29511,Fix AttributeError exception during authorization,MERGED,2020-05-14 13:21:17.000000000,2020-06-09 18:13:11.000000000,2020-06-09 18:11:10.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-14 13:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/50711aa4e9ad454901b08590d11dc9e80bf5c768', 'message': ""Fix AttributeError exception during authorization\n\nWhen we can't authorize at minimum wrap keystoneauth1 error, instead of\ngenerating new problem by looking into not existing property of the\nexception\n\nChange-Id: I8548fa6fc7daa4101e86c839ec3c7b44fed29511\n""}, {'number': 2, 'created': '2020-05-29 07:03:31.000000000', 'files': ['openstack/tests/unit/test_connection.py', 'openstack/connection.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f39fe6eb916079529ce0538afa36a7ba529b1bee', 'message': ""Fix AttributeError exception during authorization\n\nWhen we can't authorize at minimum wrap keystoneauth1 error, instead of\ngenerating new problem by looking into not existing property of the\nexception.\nThis error masks the cause of real failure resulting in huge stack\ntraces on connection problems (epsecially valid for Ansible modules).\n\nChange-Id: I8548fa6fc7daa4101e86c839ec3c7b44fed29511\n""}]",0,728077,f39fe6eb916079529ce0538afa36a7ba529b1bee,15,4,2,27900,,,0,"Fix AttributeError exception during authorization

When we can't authorize at minimum wrap keystoneauth1 error, instead of
generating new problem by looking into not existing property of the
exception.
This error masks the cause of real failure resulting in huge stack
traces on connection problems (epsecially valid for Ansible modules).

Change-Id: I8548fa6fc7daa4101e86c839ec3c7b44fed29511
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/77/728077/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/connection.py'],1,50711aa4e9ad454901b08590d11dc9e80bf5c768,, raise exceptions.SDKException(e), raise exceptions.raise_from_response(e.response),1,1
openstack%2Fswift~master~I3d10e121b403de7533cc3671604bcbdecb02c795,openstack/swift,master,I3d10e121b403de7533cc3671604bcbdecb02c795,swift-get-nodes: Allow users to specify either quoted or unquoted paths,MERGED,2020-04-28 19:42:22.000000000,2020-06-09 17:58:55.000000000,2020-06-09 17:54:26.000000000,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-28 19:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a08d8bd2c10c482339a0b48c15b6004d61b4757a', 'message': 'swift-get-nodes: Allow users to specify either quoted or unquoted paths\n\nNow that we can have null bytes in Swift paths, we need a way for\noperators to be able to locate such containers and objects. Our usual\ntrick of making sure the name is properly quoted for the shell won\'t\nsuffice; running something like\n\n   swift-get-nodes /etc/swift/container.ring.gz $\'AUTH_test/\\0versions\\0container\'\n\nhas the path get cut off after ""AUTH_test/"" because of how argv works.\n\nSo, add a new option, --quoted, to let operators indicate that they\nalready quoted the path. Since it seems like we should have been working\nlike that from the beginning, immediately deprecate the old behavior and\nindicate that the default may change in a future release. Add a\n--no-quoted option to explicitly opt-in to the old behavior (and\nsuppress the warning).\n\nDrive-bys:\n\n  * If account, container, or object are explicitly blank, treat them\n    as though they were not provided. This provides better errors when\n    account is explicitly blank, for example.\n  * If account, container, or object are not provided or explicitly\n    blank, skip printing them. This resolves abiguities about things\n    like objects whose name is actually ""None"".\n  * When displaying account, container, and object, quote them (since\n    they may contain newlines or other control characters).\n\nChange-Id: I3d10e121b403de7533cc3671604bcbdecb02c795\nRelated-Change: If912f71d8b0d03369680374e8233da85d8d38f85\nCloses-Bug: #1875734\nCloses-Bug: #1875735\nCloses-Bug: #1875736\nRelated-Bug: #1791302\n'}, {'number': 2, 'created': '2020-05-26 21:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f2a9f0619045a3babf88ecbf400e381c054bf8f7', 'message': 'swift-get-nodes: Unquote paths before working with them\n\nNow that we can have null bytes in Swift paths, we need a way for\noperators to be able to locate such containers and objects. Our old\ntrick of making sure the name is properly quoted for the shell won\'t\nsuffice; running something like\n\n   swift-get-nodes /etc/swift/container.ring.gz $\'AUTH_test/\\0versions\\0container\'\n\nhas the path get cut off after ""AUTH_test/"" because of how argv works.\n\nSo, unquote all paths coming from the commandline. This lets users run\n\n   swift-get-nodes /etc/swift/container.ring.gz AUTH_test/%00versions%00container\n\nand have it actually find the versions container.\n\nUpgradeImpact\n=============\n\nThis subtly changes the behavior of swift-get-nodes in a\nbackwards-incompatible way. *In most cases*, this unquoting\nwill be a no-op, as\n\n   unquote(\'AUTH_test/container\') == \'AUTH_test/container\'\n   unquote(\'string with spaces\') == \'string with spaces\'\n   unquote(\'100% beef\') == \'100% beef\'\n   unquote(\'☃\') == \'☃\'\n\nBut, some paths (such as \'100%beef\') will now need to be quoted.\n\nDrive-bys:\n\n  * If account, container, or object are explicitly blank, treat them\n    as though they were not provided. This provides better errors when\n    account is explicitly blank, for example.\n  * If account, container, or object are not provided or explicitly\n    blank, skip printing them. This resolves abiguities about things\n    like objects whose name is actually ""None"".\n  * When displaying account, container, and object, quote them (since\n    they may contain newlines or other control characters).\n\nChange-Id: I3d10e121b403de7533cc3671604bcbdecb02c795\nRelated-Change: If912f71d8b0d03369680374e8233da85d8d38f85\nCloses-Bug: #1875734\nCloses-Bug: #1875735\nCloses-Bug: #1875736\nRelated-Bug: #1791302\n'}, {'number': 3, 'created': '2020-06-08 19:05:03.000000000', 'files': ['swift/cli/info.py', 'bin/swift-get-nodes', 'test/unit/cli/test_info.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1dfa41dada30c139129cb2771b0d68c95fd84e32', 'message': 'swift-get-nodes: Allow users to specify either quoted or unquoted paths\n\nNow that we can have null bytes in Swift paths, we need a way for\noperators to be able to locate such containers and objects. Our usual\ntrick of making sure the name is properly quoted for the shell won\'t\nsuffice; running something like\n\n   swift-get-nodes /etc/swift/container.ring.gz $\'AUTH_test/\\0versions\\0container\'\n\nhas the path get cut off after ""AUTH_test/"" because of how argv works.\n\nSo, add a new option, --quoted, to let operators indicate that they\nalready quoted the path.\n\nDrive-bys:\n\n  * If account, container, or object are explicitly blank, treat them\n    as though they were not provided. This provides better errors when\n    account is explicitly blank, for example.\n  * If account, container, or object are not provided or explicitly\n    blank, skip printing them. This resolves abiguities about things\n    like objects whose name is actually ""None"".\n  * When displaying account, container, and object, quote them (since\n    they may contain newlines or other control characters).\n\nChange-Id: I3d10e121b403de7533cc3671604bcbdecb02c795\nRelated-Change: If912f71d8b0d03369680374e8233da85d8d38f85\nCloses-Bug: #1875734\nCloses-Bug: #1875735\nCloses-Bug: #1875736\nRelated-Bug: #1791302\n'}]",0,724141,1dfa41dada30c139129cb2771b0d68c95fd84e32,23,4,3,15343,,,0,"swift-get-nodes: Allow users to specify either quoted or unquoted paths

Now that we can have null bytes in Swift paths, we need a way for
operators to be able to locate such containers and objects. Our usual
trick of making sure the name is properly quoted for the shell won't
suffice; running something like

   swift-get-nodes /etc/swift/container.ring.gz $'AUTH_test/\0versions\0container'

has the path get cut off after ""AUTH_test/"" because of how argv works.

So, add a new option, --quoted, to let operators indicate that they
already quoted the path.

Drive-bys:

  * If account, container, or object are explicitly blank, treat them
    as though they were not provided. This provides better errors when
    account is explicitly blank, for example.
  * If account, container, or object are not provided or explicitly
    blank, skip printing them. This resolves abiguities about things
    like objects whose name is actually ""None"".
  * When displaying account, container, and object, quote them (since
    they may contain newlines or other control characters).

Change-Id: I3d10e121b403de7533cc3671604bcbdecb02c795
Related-Change: If912f71d8b0d03369680374e8233da85d8d38f85
Closes-Bug: #1875734
Closes-Bug: #1875735
Closes-Bug: #1875736
Related-Bug: #1791302
",git fetch https://review.opendev.org/openstack/swift refs/changes/41/724141/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/info.py', 'bin/swift-get-nodes', 'test/unit/cli/test_info.py']",3,a08d8bd2c10c482339a0b48c15b6004d61b4757a,bug/1719860-patch1," self.assertNotIn('Account', out.getvalue()) self.assertNotIn('Container', out.getvalue()) self.assertNotIn('Object', out.getvalue()) self.assertNotIn('Account', out.getvalue()) self.assertNotIn('Container', out.getvalue()) self.assertNotIn('Object', out.getvalue()) self.assertNotIn('Container', out.getvalue()) self.assertNotIn('Object', out.getvalue()) self.assertNotIn('Container', out.getvalue()) self.assertNotIn('Object', out.getvalue()) self.assertNotIn('Object', out.getvalue()) self.assertNotIn('Object', out.getvalue()) options = Namespace(policy_name=None, partition=None, quoted=None) options = Namespace(policy_name=None, partition=None, quoted=None) options = Namespace(policy_name=None, partition=None, quoted=None) options = Namespace(policy_name=None, partition=None, quoted=None) options = Namespace(policy_name=None, partition=None, quoted=None) options = Namespace(policy_name=None, partition=None, quoted=None) options = Namespace(policy_name=None, partition=None, quoted=None) options = Namespace(policy_name=None, partition=None, quoted=None) options = Namespace(policy_name=None, partition=None, quoted=None) options = Namespace(policy_name='zero', partition=None, quoted=None) options = Namespace(policy_name='one', partition=None, quoted=None) options = Namespace(policy_name='one', partition=None, quoted=None) options = Namespace(policy_name='one', partition=None, quoted=None) options = Namespace(policy_name='one', partition=None, quoted=None) options = Namespace(policy_name='two', partition=None, quoted=None) options = Namespace(policy_name='zero', partition='1', quoted=None) options = Namespace(policy_name='one', partition='1', quoted=None) options = Namespace(policy_name='two', partition='1', quoted=None) options = Namespace(policy_name=None, partition=None, quoted=None) options = Namespace(policy_name=None, partition=None, quoted=None) options = Namespace(policy_name=None, partition=None, quoted=None) options = Namespace(policy_name=None, partition=None, quoted=None) options = Namespace(policy_name=None, quoted=None) options = Namespace(policy_name=None, quoted=None) options = Namespace(policy_name=None, quoted=None) options = Namespace(policy_name=None, quoted=None) options = Namespace(policy_name=None, quoted=None) options = Namespace(policy_name=None, quoted=None) options = Namespace(policy_name=None, quoted=None) options = Namespace(policy_name=None, quoted=None) options = Namespace(policy_name=None, quoted=None) options = Namespace(policy_name=None, partition='1', quoted=None) options = Namespace(policy_name=None, partition='1', quoted=None) options = Namespace(policy_name=None, partition='1', quoted=None) options = Namespace(policy_name=None, partition='1', quoted=None) options = Namespace(policy_name=None, partition='1', quoted=None) options = Namespace(policy_name=None, partition='1', quoted=None) options = Namespace(all=True, policy_name=None, quoted=None) options = Namespace(all=True, policy_name=None, quoted=None) options = Namespace(all=True, policy_name=None, quoted=None) options = Namespace(policy_name=None, partition=None, quoted=None) options = Namespace(policy_name=None, partition=None, quoted=None) options = Namespace(policy_name=None, partition=None, quoted=None) # Object name has special characters # object.ring.gz /account/container/obj\nwith%0anewline options = Namespace(policy_name=None, partition=None, quoted=None) args = ['object.ring.gz', 'account/container/obj\nwith%0anewline'] with mock.patch('swift.cli.info.os.path.exists') as exists: exists.return_value = True ring_path, args = parse_get_node_args(options, args) self.assertEqual(ring_path, 'object.ring.gz') self.assertEqual(args, ['account', 'container', 'obj\nwith%0anewline']) options = Namespace(policy_name=None, partition=None, quoted=True) args = ['object.ring.gz', 'account/container/obj\nwith%0anewline'] with mock.patch('swift.cli.info.os.path.exists') as exists: exists.return_value = True ring_path, args = parse_get_node_args(options, args) self.assertEqual(ring_path, 'object.ring.gz') self.assertEqual(args, ['account', 'container', 'obj\nwith\nnewline']) options = Namespace(policy_name=None, partition=None, quoted=False) args = ['object.ring.gz', 'account/container/obj\nwith%0anewline'] with mock.patch('swift.cli.info.os.path.exists') as exists: exists.return_value = True ring_path, args = parse_get_node_args(options, args) self.assertEqual(ring_path, 'object.ring.gz') self.assertEqual(args, ['account', 'container', 'obj\nwith%0anewline']) "," exp_acct_msg = 'Account \tNone' exp_cont_msg = 'Container\tNone' exp_obj_msg = 'Object \tNone' self.assertIn(exp_acct_msg, out.getvalue()) self.assertIn(exp_cont_msg, out.getvalue()) self.assertIn(exp_obj_msg, out.getvalue()) exp_acct_msg = 'Account \tNone' exp_cont_msg = 'Container\tNone' exp_obj_msg = 'Object \tNone' self.assertIn(exp_acct_msg, out.getvalue()) self.assertIn(exp_cont_msg, out.getvalue()) self.assertIn(exp_obj_msg, out.getvalue()) exp_cont_msg = 'Container\tNone' exp_obj_msg = 'Object \tNone' self.assertIn(exp_cont_msg, out.getvalue()) self.assertIn(exp_obj_msg, out.getvalue()) exp_cont_msg = 'Container\tNone' exp_obj_msg = 'Object \tNone' self.assertIn(exp_cont_msg, out.getvalue()) self.assertIn(exp_obj_msg, out.getvalue()) exp_obj_msg = 'Object \tNone' self.assertIn(exp_obj_msg, out.getvalue()) exp_obj_msg = 'Object \tNone' self.assertIn(exp_obj_msg, out.getvalue()) options = Namespace(policy_name=None, partition=None) options = Namespace(policy_name=None, partition=None) options = Namespace(policy_name=None, partition=None) options = Namespace(policy_name=None, partition=None) options = Namespace(policy_name=None, partition=None) options = Namespace(policy_name=None, partition=None) options = Namespace(policy_name=None, partition=None) options = Namespace(policy_name=None, partition=None) options = Namespace(policy_name=None, partition=None) options = Namespace(policy_name='zero', partition=None) options = Namespace(policy_name='one', partition=None) options = Namespace(policy_name='one', partition=None) options = Namespace(policy_name='one', partition=None) options = Namespace(policy_name='one', partition=None) options = Namespace(policy_name='two', partition=None) options = Namespace(policy_name='zero', partition='1') options = Namespace(policy_name='one', partition='1') options = Namespace(policy_name='two', partition='1') options = Namespace(policy_name=None, partition=None) options = Namespace(policy_name=None, partition=None) options = Namespace(policy_name=None, partition=None) options = Namespace(policy_name=None, partition=None) options = Namespace(policy_name=None) options = Namespace(policy_name=None) options = Namespace(policy_name=None) options = Namespace(policy_name=None) options = Namespace(policy_name=None) options = Namespace(policy_name=None) options = Namespace(policy_name=None) options = Namespace(policy_name=None) options = Namespace(policy_name=None) options = Namespace(policy_name=None, partition='1') options = Namespace(policy_name=None, partition='1') options = Namespace(policy_name=None, partition='1') options = Namespace(policy_name=None, partition='1') options = Namespace(policy_name=None, partition='1') options = Namespace(policy_name=None, partition='1') options = Namespace(all=True, policy_name=None) options = Namespace(all=True, policy_name=None) options = Namespace(all=True, policy_name=None) options = Namespace(policy_name=None, partition=None) options = Namespace(policy_name=None, partition=None) options = Namespace(policy_name=None, partition=None)",101,73
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ic95e55a007ea6db9336e81574c7a49185590eaee,openstack/tripleo-heat-templates,stable/train,Ic95e55a007ea6db9336e81574c7a49185590eaee,Add an option to adjust help URL in horizon,MERGED,2020-06-05 13:03:53.000000000,2020-06-09 17:56:46.000000000,2020-06-09 17:56:46.000000000,"[{'_account_id': 14985}, {'_account_id': 19234}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-05 13:03:53.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6108044f7d7d3c91ff268d0359f2cbeb6513846a', 'message': 'Add an option to adjust help URL in horizon\n\nThere is a help button in horizon dashboard that has various\nuse cases:\n\n- by default it should point to upstream documentation;\n- OpenStack vendor could adjust this URL, so it will point\n  to his documentation;\n- every cloud operator could adjust this URL, so users will\n  be re-directed to some custom portal.\n\nThis patch adds an option to configure custom URL for Help\nbutton using HorizonHelpURL parameter.\n\nChange-Id: Ic95e55a007ea6db9336e81574c7a49185590eaee\nCloses-Bug: #1879522\nRelated: rhbz#1835820\n(cherry picked from commit d7624171067e959de593da33d05c88b8496160ca)\n'}]",0,733829,6108044f7d7d3c91ff268d0359f2cbeb6513846a,15,4,1,3153,,,0,"Add an option to adjust help URL in horizon

There is a help button in horizon dashboard that has various
use cases:

- by default it should point to upstream documentation;
- OpenStack vendor could adjust this URL, so it will point
  to his documentation;
- every cloud operator could adjust this URL, so users will
  be re-directed to some custom portal.

This patch adds an option to configure custom URL for Help
button using HorizonHelpURL parameter.

Change-Id: Ic95e55a007ea6db9336e81574c7a49185590eaee
Closes-Bug: #1879522
Related: rhbz#1835820
(cherry picked from commit d7624171067e959de593da33d05c88b8496160ca)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/733829/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/horizon/horizon-container-puppet.yaml'],1,6108044f7d7d3c91ff268d0359f2cbeb6513846a,bug/1879522-stable/train, HorizonHelpURL: default: 'http://docs.openstack.org' description: On top of dashboard there is a Help button. This button could be used to re-direct user to vendor documentation or dedicated help portal. type: string horizon::help_url: {get_param: HorizonHelpURL},,6,0
openstack%2Fkolla-ansible~master~I1a9c9a14af351cd3e8b01a40f323a82ffa673d35,openstack/kolla-ansible,master,I1a9c9a14af351cd3e8b01a40f323a82ffa673d35,CI: drop pre-ussuri upgrade support,MERGED,2020-05-28 10:16:01.000000000,2020-06-09 17:55:56.000000000,2020-06-09 17:53:14.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-28 10:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1e16f41c42594dd15ce9c7b98e09ccf0223bf219', 'message': 'CI: drop pre-ussuri stuff\n\nUssuri is Py3 everywhere. We are free to drop any py2 leftovers.\n\nChange-Id: I1a9c9a14af351cd3e8b01a40f323a82ffa673d35\n'}, {'number': 2, 'created': '2020-05-29 16:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7e5cd93b1289b2a08690902d4d89275e9e958c8e', 'message': 'CI: drop pre-ussuri upgrade support\n\nUssuri is Py3 everywhere. We are free to drop any py2 leftovers.\n\nDepends-On: https://review.opendev.org/731805\nChange-Id: I1a9c9a14af351cd3e8b01a40f323a82ffa673d35\n'}, {'number': 3, 'created': '2020-05-30 15:23:47.000000000', 'files': ['tests/templates/nova-compute-overrides.j2', 'tests/templates/ceph-ansible-upgrade/cinder-backup.conf.j2', 'tests/run.yml', 'tests/pre.yml', 'tests/templates/ceph-ansible-upgrade/glance-api.conf.j2', 'tests/templates/ceph-ansible-upgrade/cinder-volume.conf.j2', 'tests/templates/inventory.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/09ab5fd0ba31942e8f601ade1482f7521a4792eb', 'message': 'CI: drop pre-ussuri upgrade support\n\nUssuri is Py3 everywhere. We are free to drop any py2 leftovers.\n\nDepends-On: https://review.opendev.org/731805\nChange-Id: I1a9c9a14af351cd3e8b01a40f323a82ffa673d35\n'}]",0,731487,09ab5fd0ba31942e8f601ade1482f7521a4792eb,25,5,3,24072,,,0,"CI: drop pre-ussuri upgrade support

Ussuri is Py3 everywhere. We are free to drop any py2 leftovers.

Depends-On: https://review.opendev.org/731805
Change-Id: I1a9c9a14af351cd3e8b01a40f323a82ffa673d35
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/87/731487/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'tests/pre.yml']",2,1e16f41c42594dd15ce9c7b98e09ccf0223bf219,,," # FIXME(hrw): drop when previous_release == ussuri - name: Install Python2 modules for stable/train package: name: - python-pip - python-setuptools - python-virtualenv - python-wheel become: true when: - is_upgrade - previous_release == 'train' - not (ansible_os_family == ""RedHat"" and ansible_distribution_major_version | int == 8) ",2,55
openstack%2Fkeystone-tempest-plugin~master~I659a8736195ff621032b4fb3bd7a72fa616cf8c6,openstack/keystone-tempest-plugin,master,I659a8736195ff621032b4fb3bd7a72fa616cf8c6,"Update docs building, cleanup",MERGED,2020-05-03 09:28:03.000000000,2020-06-09 17:54:27.000000000,2020-06-09 17:54:27.000000000,"[{'_account_id': 5046}, {'_account_id': 6547}, {'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-03 09:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/3b522b5409ac037eb451fc3343a640a6a9dacfb0', 'message': ""Update docs building, cleanup\n\nUpdate docs building and cleanup a bit:\n* Update requirements for Sphinx and openstackdocstheme for\n  python 3, create doc/requirements.txt for these\n* Remove unneeded doc and translation sections from setup.cfg\n* Remove install_command, it's unneeded, the default is fine,\n  move constraints into deps, use TOX_CONSTRAINTS instead of\n  obsolete UPPER_CONSTRAINTS\n\nChange-Id: I659a8736195ff621032b4fb3bd7a72fa616cf8c6\n""}, {'number': 2, 'created': '2020-06-09 05:51:53.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'doc/requirements.txt', 'setup.cfg', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/fd5ab8adeacb363c30c40fb38a2cf21567d67504', 'message': ""Update docs building, cleanup\n\nUpdate docs building and cleanup a bit:\n* Update requirements for Sphinx and openstackdocstheme for\n  python 3, create doc/requirements.txt for these\n* Remove unneeded doc and translation sections from setup.cfg\n* Remove install_command, it's unneeded, the default is fine,\n  move constraints into deps, use TOX_CONSTRAINTS instead of\n  obsolete UPPER_CONSTRAINTS\n* Use new variables from updated openstackdocstheme\n\nChange-Id: I659a8736195ff621032b4fb3bd7a72fa616cf8c6\n""}]",2,725083,fd5ab8adeacb363c30c40fb38a2cf21567d67504,17,7,2,6547,,,0,"Update docs building, cleanup

Update docs building and cleanup a bit:
* Update requirements for Sphinx and openstackdocstheme for
  python 3, create doc/requirements.txt for these
* Remove unneeded doc and translation sections from setup.cfg
* Remove install_command, it's unneeded, the default is fine,
  move constraints into deps, use TOX_CONSTRAINTS instead of
  obsolete UPPER_CONSTRAINTS
* Use new variables from updated openstackdocstheme

Change-Id: I659a8736195ff621032b4fb3bd7a72fa616cf8c6
",git fetch https://review.opendev.org/openstack/keystone-tempest-plugin refs/changes/83/725083/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",4,3b522b5409ac037eb451fc3343a640a6a9dacfb0,docs-cleanup,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/test-requirements.txtdeps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txtdeps = {[testenv:docs]deps},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages}deps = -r{toxinidir}/test-requirements.txt,12,31
openstack%2Fcinder~master~I1f9d4143d1ad2637a2173090b290f6f96b64c492,openstack/cinder,master,I1f9d4143d1ad2637a2173090b290f6f96b64c492,3PAR - Fix renaming volume after migration,MERGED,2020-05-19 02:05:59.000000000,2020-06-09 17:49:44.000000000,2020-05-20 18:28:35.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20813}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29122}, {'_account_id': 29466}, {'_account_id': 29502}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 31470}, {'_account_id': 31854}]","[{'number': 1, 'created': '2020-05-19 02:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3ff78c7c309f77a05943047a22b75843bda60908', 'message': ""3PAR - Fix renaming volume after migration\n\nAfter migrating a volume, if the original and new volumes are on\nthe same 3PAR backend, then the volume names are swapped. However,\nif the original volume is not in the same 3PAR backend, the new\nvolume is renamed to the original volume's name.\n\nCloses-Bug: 1858119\nChange-Id: I1f9d4143d1ad2637a2173090b290f6f96b64c492\n""}, {'number': 2, 'created': '2020-05-19 05:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6f1a72d86e42e2eeb93be8a478991b6e6fce0b64', 'message': ""3PAR - Fix renaming volume after migration\n\nAfter migrating a volume, if the original and new volumes are on\nthe same 3PAR backend, then the volume names are swapped. However,\nif the original volume is not in the same 3PAR backend, the new\nvolume is renamed to the original volume's name.\n\nCloses-Bug: 1858119\nChange-Id: I1f9d4143d1ad2637a2173090b290f6f96b64c492\n""}, {'number': 3, 'created': '2020-05-19 17:45:37.000000000', 'files': ['releasenotes/notes/fix-3par-migrate-rename-662d984e070a1de2.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d8062063a35ab2307edbe36826f350f2767ea08d', 'message': ""3PAR - Fix renaming volume after migration\n\nAfter migrating a volume, if the original and new volumes are on\nthe same 3PAR backend, then the volume names are swapped. However,\nif the original volume is not in the same 3PAR backend, the new\nvolume is renamed to the original volume's name.\n\nCloses-Bug: 1858119\nChange-Id: I1f9d4143d1ad2637a2173090b290f6f96b64c492\n""}]",13,729082,d8062063a35ab2307edbe36826f350f2767ea08d,108,37,3,21129,,,0,"3PAR - Fix renaming volume after migration

After migrating a volume, if the original and new volumes are on
the same 3PAR backend, then the volume names are swapped. However,
if the original volume is not in the same 3PAR backend, the new
volume is renamed to the original volume's name.

Closes-Bug: 1858119
Change-Id: I1f9d4143d1ad2637a2173090b290f6f96b64c492
",git fetch https://review.opendev.org/openstack/cinder refs/changes/82/729082/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-3par-migrate-rename-662d984e070a1de2.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",3,3ff78c7c309f77a05943047a22b75843bda60908,bug/1858119," new_volume_renamed = False temp_name = self._get_3par_vol_name(volume['id'], temp_vol=True) # In case the original volume is on the same backend, try # renaming it to a temporary name. original_volume_renamed = False try: volumeTempMods = {'newName': temp_name} self.client.modifyVolume(original_name, volumeTempMods) original_volume_renamed = True except hpeexceptions.HTTPNotFound as e: pass except Exception as e: LOG.error(""Changing the original volume name from %(orig)s to "" ""%(temp)s failed because %(reason)s"", {'orig': original_name, 'temp': temp_name, 'reason': e}) # change the current volume name to the original new_volume_renamed = True LOG.info(""Current volume changed from %(cur)s to %(orig)s"", {'cur': current_name, 'orig': original_name}) except Exception as e: LOG.error(""Changing the migrating volume name from %(cur)s to "" {'cur': current_name, 'orig': original_name, # If it was renamed, rename the original volume again to the # migrated volume's name (effectively swapping the names). If # this operation fails, the newly migrated volume is OK but the # original volume (with the temp name) may need to be manually # cleaned up on the backend. if original_volume_renamed: try: volumeCurrentMods = {'newName': current_name} self.client.modifyVolume(temp_name, volumeCurrentMods) except Exception as e: LOG.error(""Changing the original volume name from "" ""%(tmp)s to %(cur)s failed because %(reason)s"", {'tmp': temp_name, 'cur': current_name, 'reason': e}) if new_volume_renamed: name_id = None provider_location = None"," name_id = None provider_location = None temp_name = self._get_3par_vol_name(volume['id'], temp_vol=True) volumeTempMods = {'newName': temp_name} volumeCurrentMods = {'newName': current_name} # swap volume name in backend self.client.modifyVolume(original_name, volumeTempMods) self.client.modifyVolume(temp_name, volumeCurrentMods) LOG.info(""Volume name changed from %(tmp)s to %(orig)s"", {'tmp': current_name, 'orig': original_name}) except Exception as e: LOG.error(""Changing the volume name from %(tmp)s to "" {'tmp': current_name, 'orig': original_name, name_id = new_volume['_name_id'] or new_volume['id'] provider_location = new_volume['provider_location']",83,20
openstack%2Fheat-cfntools~master~Ib6e4e7f89a9990cfb42afa209878812340109ecf,openstack/heat-cfntools,master,Ib6e4e7f89a9990cfb42afa209878812340109ecf,Use unittest.mock instead of third party mock,MERGED,2020-04-18 16:53:09.000000000,2020-06-09 17:49:14.000000000,2020-06-09 17:46:46.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-18 16:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/4527e4c855e6dbd170e6010d6308d6bacd9b3530', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: Ib6e4e7f89a9990cfb42afa209878812340109ecf\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-06-09 14:59:08.000000000', 'files': ['heat_cfntools/tests/test_cfn_hup.py', 'test-requirements.txt', 'heat_cfntools/tests/test_cfn_helper.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/5c2557dbaf9aeee96d7ecc5b93c4620acd290215', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: Ib6e4e7f89a9990cfb42afa209878812340109ecf\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,720917,5c2557dbaf9aeee96d7ecc5b93c4620acd290215,9,2,2,11904,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: Ib6e4e7f89a9990cfb42afa209878812340109ecf
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/17/720917/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat_cfntools/tests/test_cfn_hup.py', 'test-requirements.txt', 'heat_cfntools/tests/test_cfn_helper.py']",3,4527e4c855e6dbd170e6010d6308d6bacd9b3530,unittest.mock,from unittest import mock,import mock,2,3
openstack%2Fkolla-ansible~master~I36f252c77339a6b810413810efd6bb32e0b69e29,openstack/kolla-ansible,master,I36f252c77339a6b810413810efd6bb32e0b69e29,Set previous release to Ussuri,MERGED,2020-05-29 16:33:13.000000000,2020-06-09 17:43:49.000000000,2020-06-09 17:38:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-29 16:33:13.000000000', 'files': ['ansible/group_vars/all.yml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac9c74bda942128ae5c307b78dfee6d01ce20432', 'message': 'Set previous release to Ussuri\n\nNow that the stable/ussuri branch has been cut, we can set the previous\nrelease to Ussuri. This is done in kolla-ansible for rolling upgrades,\nand in CI configuration for upgrade tests.\n\nChange-Id: I36f252c77339a6b810413810efd6bb32e0b69e29\n'}]",0,731805,ac9c74bda942128ae5c307b78dfee6d01ce20432,22,4,1,14826,,,0,"Set previous release to Ussuri

Now that the stable/ussuri branch has been cut, we can set the previous
release to Ussuri. This is done in kolla-ansible for rolling upgrades,
and in CI configuration for upgrade tests.

Change-Id: I36f252c77339a6b810413810efd6bb32e0b69e29
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/731805/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'zuul.d/base.yaml']",2,ac9c74bda942128ae5c307b78dfee6d01ce20432,, previous_release: ussuri, previous_release: train,2,2
openstack%2Fos-brick~master~I98c332841323d5d8bf29d795a3d0ba6e53604eea,openstack/os-brick,master,I98c332841323d5d8bf29d795a3d0ba6e53604eea,Add oslo.context dependency,MERGED,2020-04-28 15:20:18.000000000,2020-06-09 17:41:28.000000000,2020-06-09 17:37:20.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-04-28 15:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/bb2f173adfbaed1431441a3af28b9508c3ed83ae', 'message': 'Add oslo.context dependency\n\nThis is used in os_brick/executor.py.\n\nChange-Id: I98c332841323d5d8bf29d795a3d0ba6e53604eea\n'}, {'number': 2, 'created': '2020-04-29 19:46:23.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/720270d1e570f10af3e63f213d31ac20dcb099e4', 'message': 'Add oslo.context dependency\n\nThis is used in os_brick/executor.py.\n\nChange-Id: I98c332841323d5d8bf29d795a3d0ba6e53604eea\n'}]",1,724066,720270d1e570f10af3e63f213d31ac20dcb099e4,45,17,2,4523,,,0,"Add oslo.context dependency

This is used in os_brick/executor.py.

Change-Id: I98c332841323d5d8bf29d795a3d0ba6e53604eea
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/66/724066/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,bb2f173adfbaed1431441a3af28b9508c3ed83ae,,oslo.context>=2.23.0 # Apache-2.0,,1,0
openstack%2Fkolla-ansible~stable%2Fussuri~I2f618d52b1f1c5a8803d0cd563de391de2d0f223,openstack/kolla-ansible,stable/ussuri,I2f618d52b1f1c5a8803d0cd563de391de2d0f223,Add 'ovn' to list of valid values of neutron_plugin_agent,MERGED,2020-06-09 10:07:23.000000000,2020-06-09 17:39:05.000000000,2020-06-09 17:36:55.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-09 10:07:23.000000000', 'files': ['ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/915860dc5d70be8e56a1ee2990dfcba4197aff2b', 'message': ""Add 'ovn' to list of valid values of neutron_plugin_agent\n\nChange-Id: I2f618d52b1f1c5a8803d0cd563de391de2d0f223\n(cherry picked from commit 78037f9582d0bd551cb9f3fb68bebc0eb7f73027)\n""}]",0,734536,915860dc5d70be8e56a1ee2990dfcba4197aff2b,14,3,1,14826,,,0,"Add 'ovn' to list of valid values of neutron_plugin_agent

Change-Id: I2f618d52b1f1c5a8803d0cd563de391de2d0f223
(cherry picked from commit 78037f9582d0bd551cb9f3fb68bebc0eb7f73027)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/734536/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,915860dc5d70be8e56a1ee2990dfcba4197aff2b,add-ovn-value-stable/ussuri,"# Valid options are [ openvswitch, ovn, linuxbridge, vmware_nsxv, vmware_nsxv3, vmware_dvs ]","# Valid options are [ openvswitch, linuxbridge, vmware_nsxv, vmware_nsxv3, vmware_dvs ]",1,1
openstack%2Fpython-heatclient~master~I80f73055ded5ab5ab00b5a32ef6aaed384dc2e9f,openstack/python-heatclient,master,I80f73055ded5ab5ab00b5a32ef6aaed384dc2e9f,Use unittest.mock instead of third party mock,ABANDONED,2020-04-18 16:58:24.000000000,2020-06-09 17:36:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-04-18 16:58:24.000000000', 'files': ['heatclient/tests/unit/test_shell.py', 'test-requirements.txt', 'heatclient/tests/unit/osc/v1/test_event.py', 'heatclient/tests/unit/test_utils.py', 'heatclient/tests/unit/osc/v1/test_software_config.py', 'heatclient/tests/unit/test_software_configs.py', 'heatclient/tests/unit/osc/v1/test_snapshot.py', 'heatclient/tests/unit/test_common_http.py', 'heatclient/tests/unit/osc/v1/fakes.py', 'heatclient/tests/unit/test_resources.py', 'heatclient/tests/unit/test_template_format.py', 'heatclient/tests/unit/test_stacks.py', 'heatclient/tests/unit/osc/utils.py', 'heatclient/tests/unit/test_environment_format.py', 'heatclient/tests/unit/test_resource_types.py', 'heatclient/tests/unit/osc/v1/test_template.py', 'heatclient/tests/unit/osc/v1/test_resource.py', 'heatclient/tests/unit/test_template_utils.py', 'heatclient/tests/unit/osc/v1/test_build_info.py', 'heatclient/tests/unit/test_deployment_utils.py', 'heatclient/tests/unit/test_events.py', 'heatclient/tests/unit/test_software_deployments.py', 'heatclient/tests/unit/osc/v1/test_stack_failures.py', 'heatclient/tests/unit/test_build_info.py', 'heatclient/tests/unit/v1/test_hooks.py', 'heatclient/tests/unit/test_event_utils.py', 'heatclient/tests/unit/osc/v1/test_software_deployment.py', 'heatclient/tests/unit/osc/v1/test_stack.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/6d82e854676732eefc92bd3cbf8f79481df3a9db', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I80f73055ded5ab5ab00b5a32ef6aaed384dc2e9f\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,720985,6d82e854676732eefc92bd3cbf8f79481df3a9db,3,1,1,11904,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: I80f73055ded5ab5ab00b5a32ef6aaed384dc2e9f
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/85/720985/1 && git format-patch -1 --stdout FETCH_HEAD,"['heatclient/tests/unit/test_shell.py', 'test-requirements.txt', 'heatclient/tests/unit/osc/v1/test_event.py', 'heatclient/tests/unit/test_utils.py', 'heatclient/tests/unit/osc/v1/test_software_config.py', 'heatclient/tests/unit/test_software_configs.py', 'heatclient/tests/unit/osc/v1/test_snapshot.py', 'heatclient/tests/unit/test_common_http.py', 'heatclient/tests/unit/osc/v1/fakes.py', 'heatclient/tests/unit/test_resources.py', 'heatclient/tests/unit/test_template_format.py', 'heatclient/tests/unit/test_stacks.py', 'heatclient/tests/unit/osc/utils.py', 'heatclient/tests/unit/test_environment_format.py', 'heatclient/tests/unit/test_resource_types.py', 'heatclient/tests/unit/osc/v1/test_template.py', 'heatclient/tests/unit/osc/v1/test_resource.py', 'heatclient/tests/unit/test_template_utils.py', 'heatclient/tests/unit/osc/v1/test_build_info.py', 'heatclient/tests/unit/test_deployment_utils.py', 'heatclient/tests/unit/test_events.py', 'heatclient/tests/unit/test_software_deployments.py', 'heatclient/tests/unit/osc/v1/test_stack_failures.py', 'heatclient/tests/unit/test_build_info.py', 'heatclient/tests/unit/v1/test_hooks.py', 'heatclient/tests/unit/test_event_utils.py', 'heatclient/tests/unit/osc/v1/test_software_deployment.py', 'heatclient/tests/unit/osc/v1/test_stack.py']",28,6d82e854676732eefc92bd3cbf8f79481df3a9db,unittest.mock,from unittest import mock , import mock,33,28
openstack%2Fupstream-institute-virtual-environment~master~I21e71d73efc7cac5cc0bb59b12a84dff133f6b0e,openstack/upstream-institute-virtual-environment,master,I21e71d73efc7cac5cc0bb59b12a84dff133f6b0e,Remove reference to mox3,MERGED,2020-06-08 14:39:11.000000000,2020-06-09 17:26:47.000000000,2020-06-09 17:26:47.000000000,"[{'_account_id': 9562}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-08 14:39:11.000000000', 'files': ['elements/upstream-training/static/tmp/requirements.txt'], 'web_link': 'https://opendev.org/openstack/upstream-institute-virtual-environment/commit/2da8de4254fd79c922791608fe7452ef49511a10', 'message': ""Remove reference to mox3\n\nThis lib isn't used in this repo, but it's presence in a requirements\nfile makes it show up as in use in global searches. This removes it from\nthe repo so we can remove it from global requirements.\n\nChange-Id: I21e71d73efc7cac5cc0bb59b12a84dff133f6b0e\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,734103,2da8de4254fd79c922791608fe7452ef49511a10,9,4,1,11904,,,0,"Remove reference to mox3

This lib isn't used in this repo, but it's presence in a requirements
file makes it show up as in use in global searches. This removes it from
the repo so we can remove it from global requirements.

Change-Id: I21e71d73efc7cac5cc0bb59b12a84dff133f6b0e
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/upstream-institute-virtual-environment refs/changes/03/734103/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/upstream-training/static/tmp/requirements.txt'],1,2da8de4254fd79c922791608fe7452ef49511a10,remove-mox3,,mox3==0.28.0,0,1
openstack%2Fopenstack-helm-infra~master~I2818cad57ada671b307c2ba92729d56e210d8b44,openstack/openstack-helm-infra,master,I2818cad57ada671b307c2ba92729d56e210d8b44,Kibana Make Probes Toggleable,ABANDONED,2020-06-08 16:26:59.000000000,2020-06-09 17:22:24.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 28719}, {'_account_id': 30582}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-06-08 16:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/982eae296ae95b9644029fe5a9935a052d7e59e4', 'message': '[test] Change Kibana Readiness Probe to File\n\nThis is to get around an akward situation where kibana does not\nbecome ready until all ES data pods of a previous version have\nleft the cluster.\n\nChange-Id: I2818cad57ada671b307c2ba92729d56e210d8b44\n'}, {'number': 2, 'created': '2020-06-08 20:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/341b0e93f2944a2d15b769c04aa285759bcf2f97', 'message': 'Change Kibana Readiness Probe to File\n\nThis is to get around an akward situation where kibana does not\nbecome ready until all ES data pods of a previous version have\nleft the cluster.\n\nChange-Id: I2818cad57ada671b307c2ba92729d56e210d8b44\n'}, {'number': 3, 'created': '2020-06-09 03:08:14.000000000', 'files': ['kibana/templates/deployment.yaml', 'kibana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9d49e2d01fe441897f7672e4d5622ae2fdb2079f', 'message': 'Kibana Make Probes Toggleable\n\nThis is to get around an akward situation where kibana does not\nbecome ready until all ES data pods of a previous version have\nleft the cluster.\n\nChange-Id: I2818cad57ada671b307c2ba92729d56e210d8b44\n'}]",7,734140,9d49e2d01fe441897f7672e4d5622ae2fdb2079f,14,5,3,30777,,,0,"Kibana Make Probes Toggleable

This is to get around an akward situation where kibana does not
become ready until all ES data pods of a previous version have
left the cluster.

Change-Id: I2818cad57ada671b307c2ba92729d56e210d8b44
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/40/734140/1 && git format-patch -1 --stdout FETCH_HEAD,"['kibana/templates/deployment.yaml', 'kibana/templates/bin/_kibana.sh.tpl']",2,982eae296ae95b9644029fe5a9935a052d7e59e4,, touch /tmp/started,,9,1
openstack%2Fopenstack-zuul-jobs~master~I400a638a8c42f14e5232f8c9748dc571dfaa830e,openstack/openstack-zuul-jobs,master,I400a638a8c42f14e5232f8c9748dc571dfaa830e,Remove package-afs-centos jobs,MERGED,2020-06-04 07:20:16.000000000,2020-06-09 17:17:08.000000000,2020-06-09 17:12:06.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-04 07:20:16.000000000', 'files': ['playbooks/package-afs-centos/centos8/post.yaml', 'playbooks/package-afs-centos/centos8/run.yaml', 'playbooks/package-afs-centos/centos7/post.yaml', 'playbooks/package-afs-centos/centos7/run.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/9c98497b76f08c496076e664c0faa63196398be0', 'message': 'Remove package-afs-centos jobs\n\nThese have been replaced with gate build jobs\n\nChange-Id: I400a638a8c42f14e5232f8c9748dc571dfaa830e\nDepends-On: https://review.opendev.org/733049\n'}]",0,733457,9c98497b76f08c496076e664c0faa63196398be0,13,2,1,7118,,,0,"Remove package-afs-centos jobs

These have been replaced with gate build jobs

Change-Id: I400a638a8c42f14e5232f8c9748dc571dfaa830e
Depends-On: https://review.opendev.org/733049
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/57/733457/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/package-afs-centos/centos8/post.yaml', 'playbooks/package-afs-centos/centos8/run.yaml', 'playbooks/package-afs-centos/centos7/post.yaml', 'playbooks/package-afs-centos/centos7/run.yaml', 'zuul.d/jobs.yaml']",5,9c98497b76f08c496076e664c0faa63196398be0,openafs-arm64,," name: project-config-build-openafs-centos description: | There are no official builds for AFS on Centos 7, hence we build our own and publish them to tarballs.openstack.org for our centos hosts that need access to the mirror to consume. parent: publish-openstack-artifacts run: playbooks/package-afs-centos/centos7/run.yaml post-run: playbooks/package-afs-centos/centos7/post.yaml nodeset: centos-7 - job: name: project-config-build-openafs-centos8 description: | There are no official builds for AFS on CentOS 8, hence we build our own and publish them to tarballs.openstack.org for our centos hosts that need access to the mirror to consume. parent: publish-openstack-artifacts run: playbooks/package-afs-centos/centos8/run.yaml post-run: playbooks/package-afs-centos/centos8/post.yaml nodeset: centos-8 - job:",0,170
openstack%2Fovn-octavia-provider~master~I7741a441a55e67354bc0887e5db2f8137073b5b4,openstack/ovn-octavia-provider,master,I7741a441a55e67354bc0887e5db2f8137073b5b4,Fix the Backend class for ovsbapp index changes,MERGED,2020-06-09 15:03:04.000000000,2020-06-09 16:58:59.000000000,2020-06-09 16:56:26.000000000,"[{'_account_id': 1131}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-06-09 15:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4b5de024a6456127b821761ef5395f5bf4b9cdcb', 'message': 'Fix the Backend class for ovsbapp index changes\n\nThe Backend class in ovsdbapp was modified when adding index\nsupport. Different projects wanted different scopes for their\novsdb_connections, and this was moved to a property in ovsdbapp.\nFor now, we can just set ovsdb_connection = None on the backend\nclass to get the behavior we desire.\n\nChange-Id: I7741a441a55e67354bc0887e5db2f8137073b5b4\n'}, {'number': 2, 'created': '2020-06-09 15:15:12.000000000', 'files': ['ovn_octavia_provider/tests/unit/ovsdb/test_impl_idl_ovn.py', 'ovn_octavia_provider/ovsdb/impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/28c311ccd737cf8257c34d203ff90800114b19b6', 'message': 'Fix the Backend class for ovsbapp index changes\n\nThe Backend class in ovsdbapp was modified when adding index\nsupport. Different projects wanted different scopes for their\novsdb_connections, and this was moved to a property in ovsdbapp.\nFor now, we can just set ovsdb_connection = None on the backend\nclass to get the behavior we desire.\n\nAlso mocks out autocreate_indicies for a unit test.\n\nChange-Id: I7741a441a55e67354bc0887e5db2f8137073b5b4\n'}]",0,734625,28c311ccd737cf8257c34d203ff90800114b19b6,9,3,2,5756,,,0,"Fix the Backend class for ovsbapp index changes

The Backend class in ovsdbapp was modified when adding index
support. Different projects wanted different scopes for their
ovsdb_connections, and this was moved to a property in ovsdbapp.
For now, we can just set ovsdb_connection = None on the backend
class to get the behavior we desire.

Also mocks out autocreate_indicies for a unit test.

Change-Id: I7741a441a55e67354bc0887e5db2f8137073b5b4
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/25/734625/2 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/ovsdb/impl_idl_ovn.py'],1,4b5de024a6456127b821761ef5395f5bf4b9cdcb,, ovsdb_connection = None,,1,0
openstack%2Fnova~master~I3af5a1116bdf6ccbc7391a265eb9543d9605e302,openstack/nova,master,I3af5a1116bdf6ccbc7391a265eb9543d9605e302,Use unittest.mock instead of mock,ABANDONED,2020-06-09 08:49:22.000000000,2020-06-09 16:56:26.000000000,,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 28522}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-06-09 08:49:22.000000000', 'files': ['nova/tests/unit/policies/test_flavor_manage.py', 'nova/tests/unit/virt/powervm/tasks/test_storage.py', 'nova/tests/unit/cmd/test_scheduler.py', 'nova/tests/functional/api_sample_tests/test_networks.py', 'nova/tests/functional/db/test_host_mapping.py', 'nova/tests/functional/regressions/test_bug_1849165.py', 'nova/tests/unit/api/openstack/compute/test_limits.py', 'nova/tests/unit/virt/disk/mount/test_api.py', 'nova/tests/functional/api_sample_tests/test_server_password.py', 'nova/tests/functional/api_sample_tests/test_evacuate.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py', 'nova/tests/unit/virt/powervm/volume/test_fcvscsi.py', 'nova/tests/unit/api/openstack/compute/test_server_migrations.py', 'nova/tests/unit/virt/libvirt/volume/test_mount.py', 'nova/tests/unit/policies/test_assisted_volume_snapshots.py', 'nova/tests/unit/scheduler/filters/test_aggregate_multitenancy_isolation_filters.py', 'nova/tests/unit/virt/powervm/test_vm.py', 'nova/tests/unit/virt/zvm/test_guest.py', 'nova/tests/unit/objects/test_console_auth_token.py', 'nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/tests/unit/virt/xenapi/image/test_vdi_stream.py', 'nova/tests/unit/virt/hyperv/test_snapshotops.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/tests/unit/virt/xenapi/test_network_utils.py', 'nova/tests/unit/scheduler/filters/test_affinity_filters.py', 'nova/tests/unit/test_hacking.py', 'nova/tests/unit/objects/test_instance_action.py', 'nova/tests/unit/virt/powervm/test_image.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/tests/functional/regressions/test_bug_1554631.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/virt/hyperv/test_migrationops.py', 'nova/tests/unit/virt/libvirt/volume/test_net.py', 'nova/tests/functional/db/api/test_migrations.py', 'nova/tests/unit/objects/test_external_event.py', 'nova/tests/unit/api/openstack/test_common.py', 'nova/tests/unit/compute/monitors/test_monitors.py', 'nova/tests/unit/objects/test_block_device.py', 'nova/tests/unit/scheduler/filters/test_num_instances_filters.py', 'nova/tests/unit/virt/libvirt/volume/test_storpool.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/tests/unit/virt/hyperv/test_volumeops.py', 'nova/tests/unit/objects/test_flavor.py', 'nova/tests/unit/scheduler/test_manager.py', 'nova/tests/functional/db/test_aggregate.py', 'nova/tests/unit/scheduler/filters/test_type_filters.py', 'nova/tests/unit/virt/hyperv/test_serialconsolehandler.py', 'nova/tests/unit/objects/test_instance_mapping.py', 'nova/tests/unit/virt/xenapi/image/test_utils.py', 'nova/tests/unit/virt/test_virt.py', 'nova/tests/unit/pci/test_manager.py', 'nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/tests/unit/api/openstack/compute/test_hypervisor_status.py', 'nova/tests/functional/db/test_instance_group.py', 'nova/tests/functional/test_boot_from_volume.py', 'nova/tests/unit/virt/test_imagecache.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/tests/unit/policies/test_attach_interfaces.py', 'nova/tests/unit/policies/test_server_metadata.py', 'nova/tests/unit/console/test_websocketproxy.py', 'nova/tests/unit/policies/test_suspend_server.py', 'nova/tests/unit/virt/libvirt/test_blockinfo.py', 'nova/tests/functional/api_sample_tests/test_simple_tenant_usage.py', 'nova/tests/unit/db/test_sqlalchemy_migration.py', 'nova/tests/functional/db/test_compute_api.py', 'nova/tests/unit/objects/test_instance_numa.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/api/openstack/compute/test_rescue.py', 'nova/tests/unit/notifications/objects/test_flavor.py', 'nova/tests/unit/objects/test_bandwidth_usage.py', 'nova/tests/unit/compute/test_keypairs.py', 'nova/tests/functional/test_compute_mgr.py', 'nova/tests/unit/objects/test_fields.py', 'nova/tests/unit/objects/test_migration_context.py', 'nova/tests/functional/regressions/test_bug_1843090.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/tests/unit/privsep/test_utils.py', 'nova/tests/unit/scheduler/filters/test_core_filters.py', 'nova/tests/unit/virt/hyperv/test_vif.py', 'nova/tests/functional/test_server_group.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/tests/unit/test_notifications.py', 'nova/tests/unit/virt/xenapi/stubs.py', 'nova/tests/unit/virt/xenapi/test_vif.py', 'nova/tests/unit/virt/ironic/test_client_wrapper.py', 'nova/tests/functional/libvirt/test_vgpu.py', 'nova/tests/unit/scheduler/filters/test_io_ops_filters.py', 'nova/test.py', 'nova/tests/unit/api/openstack/compute/test_extension_info.py', 'nova/tests/unit/virt/vmwareapi/test_volumeops.py', 'nova/tests/unit/policies/test_remote_consoles.py', 'nova/tests/unit/virt/disk/mount/test_nbd.py', 'nova/tests/unit/virt/libvirt/volume/test_disco.py', 'nova/tests/unit/console/rfb/test_authnone.py', 'nova/tests/unit/objects/test_security_group.py', 'nova/tests/unit/api/openstack/compute/test_flavor_manage.py', 'nova/tests/unit/api/openstack/compute/test_multinic.py', 'nova/tests/unit/scheduler/weights/test_weights_affinity.py', 'nova/tests/functional/libvirt/test_report_cpu_traits.py', 'nova/tests/unit/cmd/test_nova_api.py', 'nova/tests/unit/virt/xenapi/image/test_glance.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/virt/libvirt/volume/test_vzstorage.py', 'nova/tests/unit/virt/zvm/test_hypervisor.py', 'nova/tests/unit/api/openstack/compute/test_hosts.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/virt/hyperv/test_livemigrationops.py', 'nova/tests/unit/test_availability_zones.py', 'nova/tests/unit/virt/hyperv/test_eventhandler.py', 'nova/tests/unit/api/openstack/compute/test_floating_ips.py', 'nova/tests/unit/test_json_ref.py', 'nova/tests/functional/regressions/test_bug_1862633.py', 'nova/tests/unit/test_policy.py', 'nova/tests/unit/api/openstack/compute/admin_only_action_common.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/tests/unit/virt/hyperv/test_base.py', 'nova/tests/unit/virt/powervm/disk/test_ssp.py', 'nova/tests/unit/api/openstack/compute/test_tenant_networks.py', 'nova/tests/functional/db/test_quota.py', 'nova/tests/unit/api/openstack/compute/test_simple_tenant_usage.py', 'nova/tests/unit/network/test_security_group.py', 'nova/tests/unit/pci/test_request.py', 'lower-constraints.txt', 'nova/tests/unit/policies/test_quota_sets.py', 'nova/tests/unit/api/openstack/compute/test_image_metadata.py', 'nova/tests/unit/notifications/objects/test_service.py', 'nova/tests/unit/test_cache.py', 'nova/tests/unit/objects/test_agent.py', 'nova/tests/unit/virt/xenapi/test_driver.py', 'nova/tests/unit/virt/libvirt/volume/test_drbd.py', 'nova/tests/unit/virt/libvirt/volume/test_nfs.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/scheduler/filters/test_disk_filters.py', 'nova/tests/unit/test_service_auth.py', 'nova/tests/unit/scheduler/filters/test_pci_passthrough_filters.py', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_disk_config.py', 'nova/tests/unit/virt/libvirt/volume/test_volume.py', 'nova/tests/unit/privsep/test_libvirt.py', 'nova/tests/unit/virt/zvm/test_utils.py', 'nova/tests/unit/test_wsgi.py', 'nova/tests/unit/virt/test_images.py', 'nova/tests/fixtures.py', 'nova/tests/unit/test_quota.py', 'nova/tests/unit/scheduler/client/test_query.py', 'nova/tests/unit/virt/hyperv/test_rdpconsoleops.py', 'nova/tests/unit/virt/hyperv/test_block_device_manager.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/tests/unit/policies/test_server_diagnostics.py', 'nova/tests/unit/compute/test_compute_xen.py', 'nova/tests/unit/db/test_migrations.py', 'nova/tests/unit/policies/test_migrate_server.py', 'nova/tests/unit/scheduler/filters/test_compute_filters.py', 'nova/tests/unit/api/openstack/compute/test_floating_ip_pools.py', 'nova/tests/unit/virt/powervm/tasks/test_network.py', 'nova/tests/unit/virt/powervm/disk/test_driver.py', 'nova/tests/unit/compute/monitors/cpu/test_virt_driver.py', 'nova/tests/unit/policies/test_server_groups.py', 'nova/tests/unit/cmd/test_baseproxy.py', 'nova/tests/unit/virt/xenapi/test_volume_utils.py', 'nova/tests/unit/policies/test_quota_class_sets.py', 'nova/tests/unit/virt/libvirt/test_imagecache.py', 'nova/tests/unit/objects/test_build_request.py', 'nova/tests/functional/api_sample_tests/test_hypervisors.py', 'nova/tests/unit/policies/test_instance_usage_audit_log.py', 'nova/tests/unit/privsep/test_idmapshift.py', 'nova/tests/unit/image/test_glance.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/api/openstack/compute/test_agents.py', 'nova/tests/unit/cmd/test_status.py', 'nova/tests/unit/policies/test_pause_server.py', 'nova/tests/unit/virt/powervm/test_driver.py', 'nova/tests/unit/virt/libvirt/volume/test_fibrechannel.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/tests/functional/compute/test_init_host.py', 'nova/tests/unit/db/test_db_api.py', 'nova/tests/unit/policies/test_flavor_access.py', 'nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/scheduler/test_filters.py', 'nova/tests/unit/privsep/test_qemu.py', 'nova/tests/unit/test_weights.py', 'nova/tests/unit/virt/xenapi/test_vmops.py', 'nova/tests/unit/test_service.py', 'nova/tests/functional/test_report_client.py', 'nova/tests/unit/virt/libvirt/storage/test_lvm.py', 'nova/tests/unit/virt/disk/mount/test_loop.py', 'nova/tests/unit/virt/libvirt/volume/test_aoe.py', 'nova/tests/unit/virt/vmwareapi/test_vif.py', 'nova/tests/unit/objects/test_cell_mapping.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py', 'nova/tests/unit/scheduler/filters/test_numa_topology_filters.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/objects/test_volume_usage.py', 'nova/tests/unit/objects/test_compute_node.py', 'nova/tests/unit/policies/test_rescue.py', 'nova/tests/unit/objects/test_resource.py', 'nova/tests/unit/test_conf.py', 'nova/tests/unit/api/openstack/compute/test_server_password.py', 'nova/tests/unit/policies/test_shelve.py', 'nova/tests/functional/regressions/test_bug_1781286.py', 'nova/tests/unit/virt/powervm/test_media.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/scheduler/test_host_manager.py', 'nova/tests/functional/libvirt/test_evacuate.py', 'nova/tests/unit/virt/hyperv/test_driver.py', 'test-requirements.txt', 'nova/tests/functional/db/test_instance_mapping.py', 'nova/tests/unit/test_cinder.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/test_servers_provider_tree.py', 'nova/tests/unit/virt/libvirt/fake_imagebackend.py', 'nova/tests/unit/virt/vmwareapi/test_configdrive.py', 'nova/tests/unit/policies/test_migrations.py', 'nova/tests/unit/policies/test_agents.py', 'nova/tests/unit/virt/powervm/tasks/test_vm.py', 'nova/tests/unit/virt/libvirt/volume/test_iscsi.py', 'nova/tests/unit/api/openstack/compute/test_images.py', 'nova/tests/unit/virt/xenapi/test_volumeops.py', 'nova/tests/unit/api/openstack/compute/test_lock_server.py', 'nova/tests/unit/api/openstack/compute/test_server_diagnostics.py', 'nova/tests/unit/policies/test_hypervisors.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/api/openstack/compute/test_flavors.py', 'nova/tests/unit/virt/libvirt/test_designer.py', 'nova/tests/unit/api/openstack/compute/test_flavor_access.py', 'nova/tests/unit/objects/test_service.py', 'nova/tests/unit/policies/test_instance_actions.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_quotas.py', 'nova/tests/unit/virt/xenapi/image/test_vdi_through_dev.py', 'nova/tests/functional/notification_sample_tests/test_libvirt.py', 'nova/tests/unit/test_context.py', 'nova/tests/unit/virt/zvm/test_driver.py', 'nova/tests/unit/policies/test_server_tags.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/unit/virt/powervm/test_mgmt.py', 'nova/tests/unit/policies/test_admin_password.py', 'nova/tests/unit/virt/libvirt/volume/test_smbfs.py', 'nova/tests/functional/test_cross_cell_migrate.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/functional/api_sample_tests/test_baremetal_nodes.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/virt/hyperv/test_hostops.py', 'nova/tests/unit/api/openstack/compute/test_instance_actions.py', 'nova/tests/unit/policies/test_server_password.py', 'nova/tests/unit/scheduler/filters/test_aggregate_instance_extra_specs_filters.py', 'nova/tests/unit/api/openstack/compute/test_shelve.py', 'nova/tests/unit/console/rfb/test_auth.py', 'nova/tests/unit/api/openstack/compute/test_deferred_delete.py', 'nova/tests/unit/virt/libvirt/volume/test_vrtshyperscale.py', 'nova/tests/unit/api/openstack/compute/test_server_groups.py', 'nova/tests/unit/test_utils.py', 'nova/tests/functional/regressions/test_bug_1845291.py', 'nova/tests/functional/api_sample_tests/test_create_backup.py', 'nova/tests/functional/db/test_virtual_interface.py', 'nova/tests/unit/virt/xenapi/test_vgpu.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/disk/test_api.py', 'nova/tests/functional/regressions/test_bug_1595962.py', 'nova/tests/unit/compute/test_virtapi.py', 'nova/tests/unit/api/openstack/compute/test_server_metadata.py', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/unit/notifications/test_base.py', 'nova/tests/unit/virt/hyperv/test_serialproxy.py', 'nova/tests/unit/policies/test_volumes.py', 'nova/tests/unit/api/openstack/compute/test_server_topology.py', 'nova/tests/unit/policies/test_console_auth_tokens.py', 'nova/tests/unit/accelerator/test_cyborg.py', 'nova/tests/unit/virt/powervm/test_host.py', 'nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/tests/unit/scheduler/test_request_filter.py', 'nova/tests/unit/scheduler/filters/test_availability_zone_filters.py', 'nova/tests/unit/servicegroup/test_db_servicegroup.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/tests/unit/policies/test_servers.py', 'nova/tests/unit/utils.py', 'nova/tests/unit/test_crypto.py', 'nova/tests/unit/virt/hyperv/test_serialconsoleops.py', 'nova/tests/unit/objects/test_host_mapping.py', 'nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/tests/unit/objects/test_task_log.py', 'nova/tests/unit/virt/libvirt/volume/test_remotefs.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util.py', 'nova/tests/unit/policies/test_simple_tenant_usage.py', 'nova/tests/unit/cmd/test_cmd_db_blocks.py', 'nova/tests/unit/objects/test_instance.py', 'nova/tests/unit/virt/xenapi/test_agent.py', 'nova/tests/unit/conductor/tasks/test_base.py', 'nova/tests/unit/api/openstack/compute/test_console_auth_tokens.py', 'nova/tests/unit/api/openstack/compute/test_server_start_stop.py', 'nova/tests/unit/api/openstack/compute/test_extended_hypervisors.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/virt/libvirt/volume/test_nvme.py', 'nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/tests/unit/virt/test_osinfo.py', 'nova/tests/unit/objects/test_tag.py', 'nova/tests/unit/virt/powervm/test_vif.py', 'nova/tests/functional/test_instance_actions.py', 'nova/tests/functional/test_server_faults.py', 'nova/tests/unit/compute/test_claims.py', 'nova/tests/unit/test_metadata.py', 'nova/tests/unit/api/openstack/compute/test_snapshots.py', 'nova/tests/unit/objects/test_virtual_interface.py', 'nova/tests/unit/policies/test_create_backup.py', 'nova/tests/unit/privsep/test_linux_net.py', 'nova/tests/unit/api/openstack/compute/test_baremetal_nodes.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/functional/api_sample_tests/test_migrate_server.py', 'nova/tests/unit/objects/test_trusted_certs.py', 'nova/tests/unit/api/openstack/compute/test_server_group_quotas.py', 'nova/tests/unit/cmd/test_policy.py', 'nova/tests/unit/api/openstack/compute/test_server_tags.py', 'nova/tests/unit/policies/test_admin_actions.py', 'nova/tests/unit/policies/test_aggregates.py', 'nova/tests/unit/objects/test_keypair.py', 'nova/tests/unit/pci/fakes.py', 'nova/tests/unit/privsep/test_fs.py', 'nova/tests/unit/virt/libvirt/volume/test_scaleio.py', 'nova/tests/unit/scheduler/filters/test_ram_filters.py', 'nova/tests/unit/pci/test_utils.py', 'nova/tests/functional/libvirt/test_reshape.py', 'nova/tests/functional/test_cold_migrate.py', 'nova/tests/unit/policies/test_console_output.py', 'nova/tests/unit/test_exception.py', 'nova/tests/unit/pci/test_stats.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/unit/api/openstack/compute/test_availability_zone.py', 'nova/tests/unit/cmd/test_manage.py', 'nova/tests/unit/privsep/test_path.py', 'nova/tests/unit/pci/test_devspec.py', 'nova/tests/unit/virt/xenapi/test_vm_utils.py', 'nova/tests/unit/scheduler/filters/test_aggregate_image_properties_isolation_filters.py', 'nova/tests/unit/virt/vmwareapi/test_images.py', 'nova/tests/functional/regressions/test_bug_1830747.py', 'nova/tests/unit/objects/test_instance_device_metadata.py', 'nova/tests/unit/notifications/objects/test_instance.py', 'nova/tests/unit/api/openstack/compute/test_suspend_server.py', 'nova/tests/unit/virt/powervm/tasks/test_image.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/api_sample_tests/test_compare_result.py', 'nova/tests/unit/scheduler/test_rpcapi.py', 'nova/tests/unit/test_test.py', 'nova/tests/unit/api/openstack/compute/test_server_external_events.py', 'nova/tests/unit/api/openstack/compute/test_create_backup.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/tests/unit/test_rpc.py', 'nova/tests/unit/test_identity.py', 'nova/tests/unit/conductor/tasks/test_migrate.py', 'nova/tests/unit/objects/test_ec2.py', 'nova/tests/unit/api/openstack/compute/test_microversions.py', 'nova/tests/unit/policies/test_lock_server.py', 'nova/tests/unit/objects/test_instance_pci_requests.py', 'nova/tests/unit/api/openstack/test_wsgi.py', 'nova/tests/unit/api/openstack/compute/test_remote_consoles.py', 'nova/tests/unit/objects/test_migration.py', 'nova/tests/unit/cmd/test_common.py', 'nova/tests/unit/policies/test_services.py', 'nova/tests/unit/api/openstack/compute/test_quotas.py', 'nova/tests/unit/policies/test_availability_zone.py', 'nova/tests/unit/virt/disk/vfs/test_localfs.py', 'nova/tests/unit/api/openstack/compute/test_admin_password.py', 'nova/tests/unit/api/openstack/compute/test_console_output.py', 'nova/tests/unit/api/openstack/compute/test_flavors_extra_specs.py', 'nova/tests/unit/api/openstack/test_faults.py', 'nova/tests/unit/policies/test_flavor_extra_specs.py', 'nova/tests/unit/objects/test_instance_group.py', 'nova/tests/unit/servicegroup/test_api.py', 'nova/tests/unit/objects/test_aggregate.py', 'nova/tests/unit/test_notifier.py', 'nova/tests/unit/virt/vmwareapi/test_imagecache.py', 'nova/tests/unit/api/openstack/compute/test_keypairs.py', 'nova/tests/unit/compute/test_instance_list.py', 'nova/tests/unit/scheduler/test_filter_scheduler.py', 'nova/tests/unit/api/openstack/compute/test_services.py', 'nova/tests/unit/virt/powervm/disk/test_localdisk.py', 'nova/tests/unit/policies/test_evacuate.py', 'nova/tests/unit/volume/test_cinder.py', 'nova/tests/unit/virt/libvirt/volume/test_hgst.py', 'nova/tests/unit/objects/test_instance_fault.py', 'nova/tests/functional/regressions/test_bug_1831771.py', 'nova/tests/unit/policies/test_security_groups.py', 'nova/tests/unit/test_fixtures.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/api_sample_tests/test_server_migrations.py', 'nova/tests/unit/objects/test_instance_info_cache.py', 'nova/tests/unit/policies/test_keypairs.py', 'nova/tests/unit/test_configdrive2.py', 'nova/tests/unit/policies/test_server_migrations.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/console/test_serial.py', 'nova/tests/unit/conductor/tasks/test_cross_cell_migrate.py', 'nova/tests/unit/policies/test_limits.py', 'nova/tests/unit/servicegroup/test_mc_servicegroup.py', 'nova/tests/unit/api/openstack/test_requestlog.py', 'nova/tests/unit/policies/test_deferred_delete.py', 'nova/tests/unit/api/test_auth.py', 'nova/tests/unit/virt/hyperv/test_pathutils.py', 'nova/tests/unit/policies/test_server_external_events.py', 'nova/tests/unit/api/openstack/compute/test_attach_interfaces.py', 'nova/tests/unit/virt/libvirt/storage/test_dmcrypt.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/tests/unit/virt/libvirt/volume/test_fs.py', 'nova/tests/unit/compute/test_multi_cell_list.py', 'nova/tests/unit/console/rfb/test_authvencrypt.py', 'nova/tests/unit/console/securityproxy/test_rfb.py', 'nova/tests/unit/virt/disk/vfs/test_guestfs.py', 'nova/tests/unit/virt/vmwareapi/test_network_util.py', 'nova/tests/unit/virt/hyperv/test_imagecache.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/api/openstack/compute/test_migrations.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/api/openstack/compute/test_server_reset_state.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/virt/libvirt/volume/test_quobyte.py', 'nova/tests/unit/api/openstack/compute/test_evacuate.py', 'nova/tests/unit/scheduler/test_scheduler_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7849bda7a908d062c41a1897eb01e85735bc9771', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I3af5a1116bdf6ccbc7391a265eb9543d9605e302\n'}]",288,734447,7849bda7a908d062c41a1897eb01e85735bc9771,14,10,1,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I3af5a1116bdf6ccbc7391a265eb9543d9605e302
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/734447/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/policies/test_flavor_manage.py', 'nova/tests/unit/virt/powervm/tasks/test_storage.py', 'nova/tests/unit/cmd/test_scheduler.py', 'nova/tests/functional/api_sample_tests/test_networks.py', 'nova/tests/functional/db/test_host_mapping.py', 'nova/tests/functional/regressions/test_bug_1849165.py', 'nova/tests/unit/api/openstack/compute/test_limits.py', 'nova/tests/unit/virt/disk/mount/test_api.py', 'nova/tests/functional/api_sample_tests/test_server_password.py', 'nova/tests/functional/api_sample_tests/test_evacuate.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py', 'nova/tests/unit/virt/powervm/volume/test_fcvscsi.py', 'nova/tests/unit/api/openstack/compute/test_server_migrations.py', 'nova/tests/unit/virt/libvirt/volume/test_mount.py', 'nova/tests/unit/policies/test_assisted_volume_snapshots.py', 'nova/tests/unit/scheduler/filters/test_aggregate_multitenancy_isolation_filters.py', 'nova/tests/unit/virt/powervm/test_vm.py', 'nova/tests/unit/virt/zvm/test_guest.py', 'nova/tests/unit/objects/test_console_auth_token.py', 'nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/tests/unit/virt/xenapi/image/test_vdi_stream.py', 'nova/tests/unit/virt/hyperv/test_snapshotops.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/tests/unit/virt/xenapi/test_network_utils.py', 'nova/tests/unit/scheduler/filters/test_affinity_filters.py', 'nova/tests/unit/test_hacking.py', 'nova/tests/unit/objects/test_instance_action.py', 'nova/tests/unit/virt/powervm/test_image.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/tests/functional/regressions/test_bug_1554631.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/virt/hyperv/test_migrationops.py', 'nova/tests/unit/virt/libvirt/volume/test_net.py', 'nova/tests/functional/db/api/test_migrations.py', 'nova/tests/unit/objects/test_external_event.py', 'nova/tests/unit/api/openstack/test_common.py', 'nova/tests/unit/compute/monitors/test_monitors.py', 'nova/tests/unit/objects/test_block_device.py', 'nova/tests/unit/scheduler/filters/test_num_instances_filters.py', 'nova/tests/unit/virt/libvirt/volume/test_storpool.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/tests/unit/virt/hyperv/test_volumeops.py', 'nova/tests/unit/objects/test_flavor.py', 'nova/tests/unit/scheduler/test_manager.py', 'nova/tests/functional/db/test_aggregate.py', 'nova/tests/unit/scheduler/filters/test_type_filters.py', 'nova/tests/unit/virt/hyperv/test_serialconsolehandler.py', 'nova/tests/unit/objects/test_instance_mapping.py', 'nova/tests/unit/virt/xenapi/image/test_utils.py', 'nova/tests/unit/virt/test_virt.py', 'nova/tests/unit/pci/test_manager.py', 'nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/tests/unit/api/openstack/compute/test_hypervisor_status.py', 'nova/tests/functional/db/test_instance_group.py', 'nova/tests/functional/test_boot_from_volume.py', 'nova/tests/unit/virt/test_imagecache.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/tests/unit/policies/test_attach_interfaces.py', 'nova/tests/unit/policies/test_server_metadata.py', 'nova/tests/unit/console/test_websocketproxy.py', 'nova/tests/unit/policies/test_suspend_server.py', 'nova/tests/unit/virt/libvirt/test_blockinfo.py', 'nova/tests/functional/api_sample_tests/test_simple_tenant_usage.py', 'nova/tests/unit/db/test_sqlalchemy_migration.py', 'nova/tests/functional/db/test_compute_api.py', 'nova/tests/unit/objects/test_instance_numa.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/api/openstack/compute/test_rescue.py', 'nova/tests/unit/notifications/objects/test_flavor.py', 'nova/tests/unit/objects/test_bandwidth_usage.py', 'nova/tests/unit/compute/test_keypairs.py', 'nova/tests/functional/test_compute_mgr.py', 'nova/tests/unit/objects/test_fields.py', 'nova/tests/unit/objects/test_migration_context.py', 'nova/tests/functional/regressions/test_bug_1843090.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/tests/unit/privsep/test_utils.py', 'nova/tests/unit/scheduler/filters/test_core_filters.py', 'nova/tests/unit/virt/hyperv/test_vif.py', 'nova/tests/functional/test_server_group.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/tests/unit/test_notifications.py', 'nova/tests/unit/virt/xenapi/stubs.py', 'nova/tests/unit/virt/xenapi/test_vif.py', 'nova/tests/unit/virt/ironic/test_client_wrapper.py', 'nova/tests/functional/libvirt/test_vgpu.py', 'nova/tests/unit/scheduler/filters/test_io_ops_filters.py', 'nova/test.py', 'nova/tests/unit/api/openstack/compute/test_extension_info.py', 'nova/tests/unit/virt/vmwareapi/test_volumeops.py', 'nova/tests/unit/policies/test_remote_consoles.py', 'nova/tests/unit/virt/disk/mount/test_nbd.py', 'nova/tests/unit/virt/libvirt/volume/test_disco.py', 'nova/tests/unit/console/rfb/test_authnone.py', 'nova/tests/unit/objects/test_security_group.py', 'nova/tests/unit/api/openstack/compute/test_flavor_manage.py', 'nova/tests/unit/api/openstack/compute/test_multinic.py', 'nova/tests/unit/scheduler/weights/test_weights_affinity.py', 'nova/tests/functional/libvirt/test_report_cpu_traits.py', 'nova/tests/unit/cmd/test_nova_api.py', 'nova/tests/unit/virt/xenapi/image/test_glance.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/virt/libvirt/volume/test_vzstorage.py', 'nova/tests/unit/virt/zvm/test_hypervisor.py', 'nova/tests/unit/api/openstack/compute/test_hosts.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/virt/hyperv/test_livemigrationops.py', 'nova/tests/unit/test_availability_zones.py', 'nova/tests/unit/virt/hyperv/test_eventhandler.py', 'nova/tests/unit/api/openstack/compute/test_floating_ips.py', 'nova/tests/unit/test_json_ref.py', 'nova/tests/functional/regressions/test_bug_1862633.py', 'nova/tests/unit/test_policy.py', 'nova/tests/unit/api/openstack/compute/admin_only_action_common.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/tests/unit/virt/hyperv/test_base.py', 'nova/tests/unit/virt/powervm/disk/test_ssp.py', 'nova/tests/unit/api/openstack/compute/test_tenant_networks.py', 'nova/tests/functional/db/test_quota.py', 'nova/tests/unit/api/openstack/compute/test_simple_tenant_usage.py', 'nova/tests/unit/network/test_security_group.py', 'nova/tests/unit/pci/test_request.py', 'lower-constraints.txt', 'nova/tests/unit/policies/test_quota_sets.py', 'nova/tests/unit/api/openstack/compute/test_image_metadata.py', 'nova/tests/unit/notifications/objects/test_service.py', 'nova/tests/unit/test_cache.py', 'nova/tests/unit/objects/test_agent.py', 'nova/tests/unit/virt/xenapi/test_driver.py', 'nova/tests/unit/virt/libvirt/volume/test_drbd.py', 'nova/tests/unit/virt/libvirt/volume/test_nfs.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/scheduler/filters/test_disk_filters.py', 'nova/tests/unit/test_service_auth.py', 'nova/tests/unit/scheduler/filters/test_pci_passthrough_filters.py', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_disk_config.py', 'nova/tests/unit/virt/libvirt/volume/test_volume.py', 'nova/tests/unit/privsep/test_libvirt.py', 'nova/tests/unit/virt/zvm/test_utils.py', 'nova/tests/unit/test_wsgi.py', 'nova/tests/unit/virt/test_images.py', 'nova/tests/fixtures.py', 'nova/tests/unit/test_quota.py', 'nova/tests/unit/scheduler/client/test_query.py', 'nova/tests/unit/virt/hyperv/test_rdpconsoleops.py', 'nova/tests/unit/virt/hyperv/test_block_device_manager.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/tests/unit/policies/test_server_diagnostics.py', 'nova/tests/unit/compute/test_compute_xen.py', 'nova/tests/unit/db/test_migrations.py', 'nova/tests/unit/policies/test_migrate_server.py', 'nova/tests/unit/scheduler/filters/test_compute_filters.py', 'nova/tests/unit/api/openstack/compute/test_floating_ip_pools.py', 'nova/tests/unit/virt/powervm/tasks/test_network.py', 'nova/tests/unit/virt/powervm/disk/test_driver.py', 'nova/tests/unit/compute/monitors/cpu/test_virt_driver.py', 'nova/tests/unit/policies/test_server_groups.py', 'nova/tests/unit/cmd/test_baseproxy.py', 'nova/tests/unit/virt/xenapi/test_volume_utils.py', 'nova/tests/unit/policies/test_quota_class_sets.py', 'nova/tests/unit/virt/libvirt/test_imagecache.py', 'nova/tests/unit/objects/test_build_request.py', 'nova/tests/functional/api_sample_tests/test_hypervisors.py', 'nova/tests/unit/policies/test_instance_usage_audit_log.py', 'nova/tests/unit/privsep/test_idmapshift.py', 'nova/tests/unit/image/test_glance.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/api/openstack/compute/test_agents.py', 'nova/tests/unit/cmd/test_status.py', 'nova/tests/unit/policies/test_pause_server.py', 'nova/tests/unit/virt/powervm/test_driver.py', 'nova/tests/unit/virt/libvirt/volume/test_fibrechannel.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/tests/functional/compute/test_init_host.py', 'nova/tests/unit/db/test_db_api.py', 'nova/tests/unit/policies/test_flavor_access.py', 'nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/scheduler/test_filters.py', 'nova/tests/unit/privsep/test_qemu.py', 'nova/tests/unit/test_weights.py', 'nova/tests/unit/virt/xenapi/test_vmops.py', 'nova/tests/unit/test_service.py', 'nova/tests/functional/test_report_client.py', 'nova/tests/unit/virt/libvirt/storage/test_lvm.py', 'nova/tests/unit/virt/disk/mount/test_loop.py', 'nova/tests/unit/virt/libvirt/volume/test_aoe.py', 'nova/tests/unit/virt/vmwareapi/test_vif.py', 'nova/tests/unit/objects/test_cell_mapping.py', 'nova/tests/unit/api/openstack/compute/test_security_groups.py', 'nova/tests/unit/scheduler/filters/test_numa_topology_filters.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/tests/unit/objects/test_volume_usage.py', 'nova/tests/unit/objects/test_compute_node.py', 'nova/tests/unit/policies/test_rescue.py', 'nova/tests/unit/objects/test_resource.py', 'nova/tests/unit/test_conf.py', 'nova/tests/unit/api/openstack/compute/test_server_password.py', 'nova/tests/unit/policies/test_shelve.py', 'nova/tests/functional/regressions/test_bug_1781286.py', 'nova/tests/unit/virt/powervm/test_media.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/scheduler/test_host_manager.py', 'nova/tests/functional/libvirt/test_evacuate.py', 'nova/tests/unit/virt/hyperv/test_driver.py', 'test-requirements.txt', 'nova/tests/functional/db/test_instance_mapping.py', 'nova/tests/unit/test_cinder.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/test_servers_provider_tree.py', 'nova/tests/unit/virt/libvirt/fake_imagebackend.py', 'nova/tests/unit/virt/vmwareapi/test_configdrive.py', 'nova/tests/unit/policies/test_migrations.py', 'nova/tests/unit/policies/test_agents.py', 'nova/tests/unit/virt/powervm/tasks/test_vm.py', 'nova/tests/unit/virt/libvirt/volume/test_iscsi.py', 'nova/tests/unit/api/openstack/compute/test_images.py', 'nova/tests/unit/virt/xenapi/test_volumeops.py', 'nova/tests/unit/api/openstack/compute/test_lock_server.py', 'nova/tests/unit/api/openstack/compute/test_server_diagnostics.py', 'nova/tests/unit/policies/test_hypervisors.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/api/openstack/compute/test_flavors.py', 'nova/tests/unit/virt/libvirt/test_designer.py', 'nova/tests/unit/api/openstack/compute/test_flavor_access.py', 'nova/tests/unit/objects/test_service.py', 'nova/tests/unit/policies/test_instance_actions.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_quotas.py', 'nova/tests/unit/virt/xenapi/image/test_vdi_through_dev.py', 'nova/tests/functional/notification_sample_tests/test_libvirt.py', 'nova/tests/unit/test_context.py', 'nova/tests/unit/virt/zvm/test_driver.py', 'nova/tests/unit/policies/test_server_tags.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/unit/virt/powervm/test_mgmt.py', 'nova/tests/unit/policies/test_admin_password.py', 'nova/tests/unit/virt/libvirt/volume/test_smbfs.py', 'nova/tests/functional/test_cross_cell_migrate.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/functional/api_sample_tests/test_baremetal_nodes.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/virt/hyperv/test_hostops.py', 'nova/tests/unit/api/openstack/compute/test_instance_actions.py', 'nova/tests/unit/policies/test_server_password.py', 'nova/tests/unit/scheduler/filters/test_aggregate_instance_extra_specs_filters.py', 'nova/tests/unit/api/openstack/compute/test_shelve.py', 'nova/tests/unit/console/rfb/test_auth.py', 'nova/tests/unit/api/openstack/compute/test_deferred_delete.py', 'nova/tests/unit/virt/libvirt/volume/test_vrtshyperscale.py', 'nova/tests/unit/api/openstack/compute/test_server_groups.py', 'nova/tests/unit/test_utils.py', 'nova/tests/functional/regressions/test_bug_1845291.py', 'nova/tests/functional/api_sample_tests/test_create_backup.py', 'nova/tests/functional/db/test_virtual_interface.py', 'nova/tests/unit/virt/xenapi/test_vgpu.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/disk/test_api.py', 'nova/tests/functional/regressions/test_bug_1595962.py', 'nova/tests/unit/compute/test_virtapi.py', 'nova/tests/unit/api/openstack/compute/test_server_metadata.py', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/unit/notifications/test_base.py', 'nova/tests/unit/virt/hyperv/test_serialproxy.py', 'nova/tests/unit/policies/test_volumes.py', 'nova/tests/unit/api/openstack/compute/test_server_topology.py', 'nova/tests/unit/policies/test_console_auth_tokens.py', 'nova/tests/unit/accelerator/test_cyborg.py', 'nova/tests/unit/virt/powervm/test_host.py', 'nova/tests/unit/api/openstack/compute/test_aggregates.py', 'nova/tests/unit/scheduler/test_request_filter.py', 'nova/tests/unit/scheduler/filters/test_availability_zone_filters.py', 'nova/tests/unit/servicegroup/test_db_servicegroup.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/tests/unit/policies/test_servers.py', 'nova/tests/unit/utils.py', 'nova/tests/unit/test_crypto.py', 'nova/tests/unit/virt/hyperv/test_serialconsoleops.py', 'nova/tests/unit/objects/test_host_mapping.py', 'nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/tests/unit/objects/test_task_log.py', 'nova/tests/unit/virt/libvirt/volume/test_remotefs.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util.py', 'nova/tests/unit/policies/test_simple_tenant_usage.py', 'nova/tests/unit/cmd/test_cmd_db_blocks.py', 'nova/tests/unit/objects/test_instance.py', 'nova/tests/unit/virt/xenapi/test_agent.py', 'nova/tests/unit/conductor/tasks/test_base.py', 'nova/tests/unit/api/openstack/compute/test_console_auth_tokens.py', 'nova/tests/unit/api/openstack/compute/test_server_start_stop.py', 'nova/tests/unit/api/openstack/compute/test_extended_hypervisors.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/virt/libvirt/volume/test_nvme.py', 'nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/tests/unit/virt/test_osinfo.py', 'nova/tests/unit/objects/test_tag.py', 'nova/tests/unit/virt/powervm/test_vif.py', 'nova/tests/functional/test_instance_actions.py', 'nova/tests/functional/test_server_faults.py', 'nova/tests/unit/compute/test_claims.py', 'nova/tests/unit/test_metadata.py', 'nova/tests/unit/api/openstack/compute/test_snapshots.py', 'nova/tests/unit/objects/test_virtual_interface.py', 'nova/tests/unit/policies/test_create_backup.py', 'nova/tests/unit/privsep/test_linux_net.py', 'nova/tests/unit/api/openstack/compute/test_baremetal_nodes.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/functional/api_sample_tests/test_migrate_server.py', 'nova/tests/unit/objects/test_trusted_certs.py', 'nova/tests/unit/api/openstack/compute/test_server_group_quotas.py', 'nova/tests/unit/cmd/test_policy.py', 'nova/tests/unit/api/openstack/compute/test_server_tags.py', 'nova/tests/unit/policies/test_admin_actions.py', 'nova/tests/unit/policies/test_aggregates.py', 'nova/tests/unit/objects/test_keypair.py', 'nova/tests/unit/pci/fakes.py', 'nova/tests/unit/privsep/test_fs.py', 'nova/tests/unit/virt/libvirt/volume/test_scaleio.py', 'nova/tests/unit/scheduler/filters/test_ram_filters.py', 'nova/tests/unit/pci/test_utils.py', 'nova/tests/functional/libvirt/test_reshape.py', 'nova/tests/functional/test_cold_migrate.py', 'nova/tests/unit/policies/test_console_output.py', 'nova/tests/unit/test_exception.py', 'nova/tests/unit/pci/test_stats.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/unit/api/openstack/compute/test_availability_zone.py', 'nova/tests/unit/cmd/test_manage.py', 'nova/tests/unit/privsep/test_path.py', 'nova/tests/unit/pci/test_devspec.py', 'nova/tests/unit/virt/xenapi/test_vm_utils.py', 'nova/tests/unit/scheduler/filters/test_aggregate_image_properties_isolation_filters.py', 'nova/tests/unit/virt/vmwareapi/test_images.py', 'nova/tests/functional/regressions/test_bug_1830747.py', 'nova/tests/unit/objects/test_instance_device_metadata.py', 'nova/tests/unit/notifications/objects/test_instance.py', 'nova/tests/unit/api/openstack/compute/test_suspend_server.py', 'nova/tests/unit/virt/powervm/tasks/test_image.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/api_sample_tests/test_compare_result.py', 'nova/tests/unit/scheduler/test_rpcapi.py', 'nova/tests/unit/test_test.py', 'nova/tests/unit/api/openstack/compute/test_server_external_events.py', 'nova/tests/unit/api/openstack/compute/test_create_backup.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/tests/unit/test_rpc.py', 'nova/tests/unit/test_identity.py', 'nova/tests/unit/conductor/tasks/test_migrate.py', 'nova/tests/unit/objects/test_ec2.py', 'nova/tests/unit/api/openstack/compute/test_microversions.py', 'nova/tests/unit/policies/test_lock_server.py', 'nova/tests/unit/objects/test_instance_pci_requests.py', 'nova/tests/unit/api/openstack/test_wsgi.py', 'nova/tests/unit/api/openstack/compute/test_remote_consoles.py', 'nova/tests/unit/objects/test_migration.py', 'nova/tests/unit/cmd/test_common.py', 'nova/tests/unit/policies/test_services.py', 'nova/tests/unit/api/openstack/compute/test_quotas.py', 'nova/tests/unit/policies/test_availability_zone.py', 'nova/tests/unit/virt/disk/vfs/test_localfs.py', 'nova/tests/unit/api/openstack/compute/test_admin_password.py', 'nova/tests/unit/api/openstack/compute/test_console_output.py', 'nova/tests/unit/api/openstack/compute/test_flavors_extra_specs.py', 'nova/tests/unit/api/openstack/test_faults.py', 'nova/tests/unit/policies/test_flavor_extra_specs.py', 'nova/tests/unit/objects/test_instance_group.py', 'nova/tests/unit/servicegroup/test_api.py', 'nova/tests/unit/objects/test_aggregate.py', 'nova/tests/unit/test_notifier.py', 'nova/tests/unit/virt/vmwareapi/test_imagecache.py', 'nova/tests/unit/api/openstack/compute/test_keypairs.py', 'nova/tests/unit/compute/test_instance_list.py', 'nova/tests/unit/scheduler/test_filter_scheduler.py', 'nova/tests/unit/api/openstack/compute/test_services.py', 'nova/tests/unit/virt/powervm/disk/test_localdisk.py', 'nova/tests/unit/policies/test_evacuate.py', 'nova/tests/unit/volume/test_cinder.py', 'nova/tests/unit/virt/libvirt/volume/test_hgst.py', 'nova/tests/unit/objects/test_instance_fault.py', 'nova/tests/functional/regressions/test_bug_1831771.py', 'nova/tests/unit/policies/test_security_groups.py', 'nova/tests/unit/test_fixtures.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/api_sample_tests/test_server_migrations.py', 'nova/tests/unit/objects/test_instance_info_cache.py', 'nova/tests/unit/policies/test_keypairs.py', 'nova/tests/unit/test_configdrive2.py', 'nova/tests/unit/policies/test_server_migrations.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/console/test_serial.py', 'nova/tests/unit/conductor/tasks/test_cross_cell_migrate.py', 'nova/tests/unit/policies/test_limits.py', 'nova/tests/unit/servicegroup/test_mc_servicegroup.py', 'nova/tests/unit/api/openstack/test_requestlog.py', 'nova/tests/unit/policies/test_deferred_delete.py', 'nova/tests/unit/api/test_auth.py', 'nova/tests/unit/virt/hyperv/test_pathutils.py', 'nova/tests/unit/policies/test_server_external_events.py', 'nova/tests/unit/api/openstack/compute/test_attach_interfaces.py', 'nova/tests/unit/virt/libvirt/storage/test_dmcrypt.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/tests/unit/virt/libvirt/volume/test_fs.py', 'nova/tests/unit/compute/test_multi_cell_list.py', 'nova/tests/unit/console/rfb/test_authvencrypt.py', 'nova/tests/unit/console/securityproxy/test_rfb.py', 'nova/tests/unit/virt/disk/vfs/test_guestfs.py', 'nova/tests/unit/virt/vmwareapi/test_network_util.py', 'nova/tests/unit/virt/hyperv/test_imagecache.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/api/openstack/compute/test_migrations.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/api/openstack/compute/test_server_reset_state.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/virt/libvirt/volume/test_quobyte.py', 'nova/tests/unit/api/openstack/compute/test_evacuate.py', 'nova/tests/unit/scheduler/test_scheduler_utils.py']",419,7849bda7a908d062c41a1897eb01e85735bc9771,drop_mock,from unittest import mock,import mock,417,419
openstack%2Fpython-manilaclient~master~Id53f264f0f23db7bfa6881607fbacdba4bc8f8ae,openstack/python-manilaclient,master,Id53f264f0f23db7bfa6881607fbacdba4bc8f8ae,Use unittest.mock instead of mock,ABANDONED,2020-06-09 09:57:13.000000000,2020-06-09 16:53:03.000000000,,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-09 09:57:13.000000000', 'files': ['manilaclient/tests/unit/osc/osc_fakes.py', 'manilaclient/tests/unit/test_shell.py', 'test-requirements.txt', 'manilaclient/tests/unit/v2/test_client.py', 'manilaclient/tests/unit/v2/test_services.py', 'manilaclient/tests/unit/common/test_httpclient.py', 'manilaclient/tests/unit/osc/v2/test_share_type.py', 'manilaclient/tests/unit/v2/test_share_networks.py', 'manilaclient/tests/unit/v2/test_scheduler_stats.py', 'manilaclient/tests/unit/v2/test_security_services.py', 'manilaclient/tests/unit/v2/test_share_servers.py', 'manilaclient/tests/unit/v2/test_share_snapshots.py', 'manilaclient/tests/unit/v2/test_shares.py', 'manilaclient/tests/unit/v2/test_share_instances.py', 'manilaclient/tests/unit/v2/test_share_replica_export_locations.py', 'manilaclient/tests/unit/test_api_versions.py', 'manilaclient/tests/unit/v2/test_share_groups.py', 'manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/tests/unit/osc/v2/fakes.py', 'manilaclient/tests/unit/v2/test_types.py', 'manilaclient/tests/unit/v2/test_quotas.py', 'manilaclient/tests/unit/v2/test_share_instance_export_locations.py', 'lower-constraints.txt', 'manilaclient/tests/unit/v2/test_share_snapshot_instances.py', 'manilaclient/tests/unit/v2/test_share_group_types.py', 'manilaclient/tests/unit/v2/test_availability_zones.py', 'manilaclient/tests/unit/v2/test_share_export_locations.py', 'manilaclient/tests/unit/v2/test_share_network_subnets.py', 'manilaclient/tests/unit/v2/test_share_group_type_access.py', 'manilaclient/tests/unit/v2/test_type_access.py', 'manilaclient/tests/unit/utils.py', 'manilaclient/tests/unit/osc/v2/test_share.py', 'manilaclient/tests/unit/test_client.py', 'manilaclient/tests/unit/v2/test_share_replicas.py', 'manilaclient/tests/unit/v2/test_quota_classes.py', 'manilaclient/tests/unit/v2/test_share_group_snapshots.py', 'manilaclient/tests/unit/test_base.py', 'manilaclient/tests/unit/v2/test_limits.py', 'manilaclient/tests/unit/v2/test_messages.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a4bb22249a92590221026a9f6c45c11c9308dd4e', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Id53f264f0f23db7bfa6881607fbacdba4bc8f8ae\n'}]",7,734517,a4bb22249a92590221026a9f6c45c11c9308dd4e,5,4,1,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Id53f264f0f23db7bfa6881607fbacdba4bc8f8ae
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/17/734517/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/osc/osc_fakes.py', 'manilaclient/tests/unit/test_shell.py', 'test-requirements.txt', 'manilaclient/tests/unit/v2/test_client.py', 'manilaclient/tests/unit/v2/test_services.py', 'manilaclient/tests/unit/common/test_httpclient.py', 'manilaclient/tests/unit/osc/v2/test_share_type.py', 'manilaclient/tests/unit/v2/test_share_networks.py', 'manilaclient/tests/unit/v2/test_scheduler_stats.py', 'manilaclient/tests/unit/v2/test_security_services.py', 'manilaclient/tests/unit/v2/test_share_servers.py', 'manilaclient/tests/unit/v2/test_share_snapshots.py', 'manilaclient/tests/unit/v2/test_shares.py', 'manilaclient/tests/unit/v2/test_share_instances.py', 'manilaclient/tests/unit/v2/test_share_replica_export_locations.py', 'manilaclient/tests/unit/test_api_versions.py', 'manilaclient/tests/unit/v2/test_share_groups.py', 'manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/tests/unit/osc/v2/fakes.py', 'manilaclient/tests/unit/v2/test_types.py', 'manilaclient/tests/unit/v2/test_quotas.py', 'manilaclient/tests/unit/v2/test_share_instance_export_locations.py', 'lower-constraints.txt', 'manilaclient/tests/unit/v2/test_share_snapshot_instances.py', 'manilaclient/tests/unit/v2/test_share_group_types.py', 'manilaclient/tests/unit/v2/test_availability_zones.py', 'manilaclient/tests/unit/v2/test_share_export_locations.py', 'manilaclient/tests/unit/v2/test_share_network_subnets.py', 'manilaclient/tests/unit/v2/test_share_group_type_access.py', 'manilaclient/tests/unit/v2/test_type_access.py', 'manilaclient/tests/unit/utils.py', 'manilaclient/tests/unit/osc/v2/test_share.py', 'manilaclient/tests/unit/test_client.py', 'manilaclient/tests/unit/v2/test_share_replicas.py', 'manilaclient/tests/unit/v2/test_quota_classes.py', 'manilaclient/tests/unit/v2/test_share_group_snapshots.py', 'manilaclient/tests/unit/test_base.py', 'manilaclient/tests/unit/v2/test_limits.py', 'manilaclient/tests/unit/v2/test_messages.py']",39,a4bb22249a92590221026a9f6c45c11c9308dd4e,drop_mock,from unittest import mock,import mock,38,40
openstack%2Freviewstats~master~I04651d3113e8b0ff3e05a79839a9af7f48fea3d0,openstack/reviewstats,master,I04651d3113e8b0ff3e05a79839a9af7f48fea3d0,drop mock from lower-constraints and requirements,ABANDONED,2020-06-09 10:08:39.000000000,2020-06-09 16:51:55.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-09 10:08:39.000000000', 'files': ['test-requirements.txt', 'reviewstats/tests/test_projectinfo.py'], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/818a2a22f9f00c84314f277e1eb76af56a88bcb5', 'message': ""drop mock from lower-constraints and requirements\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints and requirements.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I04651d3113e8b0ff3e05a79839a9af7f48fea3d0\n""}]",0,734540,818a2a22f9f00c84314f277e1eb76af56a88bcb5,5,3,1,28522,,,0,"drop mock from lower-constraints and requirements

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints and requirements.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: I04651d3113e8b0ff3e05a79839a9af7f48fea3d0
",git fetch https://review.opendev.org/openstack/reviewstats refs/changes/40/734540/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'reviewstats/tests/test_projectinfo.py']",2,818a2a22f9f00c84314f277e1eb76af56a88bcb5,drop_mock,from unittest import mock,import mock,1,2
openstack%2Ftripleo-ansible~master~I34dd9121bbd650b79cb523e4dbed5949a0e7d52d,openstack/tripleo-ansible,master,I34dd9121bbd650b79cb523e4dbed5949a0e7d52d,Preserve inode when updating /etc/hosts,MERGED,2020-06-05 21:15:02.000000000,2020-06-09 16:49:17.000000000,2020-06-09 16:46:50.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-05 21:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5a6b43b7f0ee38a73ff0844f9e80fdc82d408afa', 'message': 'Preserve inode when updating /etc/hosts\n\nContainers configured by tripleo bind-mount /etc/hosts directly,\nwhich means any change to that file has to preserve the original\ninode, otherwise the containers will get out of sync with the\nhost and will not see updates.\n\nChange tripleo_host_entries to not depend on atomic semantics of\nansible, which changes inodes on update. Instead, perform a\nnon-atomic update to preserve inodes, and rely on the retry\nlogics of openstack containers to recover from unexpected\nbehaviour in case /etc/hosts is consumed while it is being updated.\n\nCloses-Bug: #1882290\nChange-Id: I34dd9121bbd650b79cb523e4dbed5949a0e7d52d\n'}, {'number': 2, 'created': '2020-06-08 19:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4d6a3f4e36098e4f207099dcbfb2b94354e47247', 'message': 'Preserve inode when updating /etc/hosts\n\nContainers configured by tripleo bind-mount /etc/hosts directly,\nwhich means any change to that file has to preserve the original\ninode, otherwise the containers will get out of sync with the\nhost and will not see updates.\n\nChange tripleo_host_entries to not depend on atomic semantics of\nansible, which changes inodes on update. Instead, perform a\nnon-atomic update to preserve inodes, and rely on the retry\nlogics of openstack containers to recover from unexpected\nbehaviour in case /etc/hosts is consumed while it is being updated.\n\nCloses-Bug: #1882290\nChange-Id: I34dd9121bbd650b79cb523e4dbed5949a0e7d52d\n'}, {'number': 3, 'created': '2020-06-09 06:52:05.000000000', 'files': ['tripleo_ansible/roles/tripleo_hosts_entries/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7761249774b8a6e9bebc60db69e0bc56ad9f7622', 'message': 'Preserve inode when updating /etc/hosts\n\nContainers configured by tripleo bind-mount /etc/hosts directly,\nwhich means any change to that file has to preserve the original\ninode, otherwise the containers will get out of sync with the\nhost and will not see updates.\n\nChange tripleo_host_entries to not depend on atomic semantics of\nansible, which changes inodes on update. Instead, perform a\nnon-atomic update to preserve inodes, and rely on the retry\nlogics of openstack containers to recover from unexpected\nbehaviour in case /etc/hosts is consumed while it is being updated.\n\nCloses-Bug: #1882290\nChange-Id: I34dd9121bbd650b79cb523e4dbed5949a0e7d52d\n'}]",2,733921,7761249774b8a6e9bebc60db69e0bc56ad9f7622,21,7,3,20778,,,0,"Preserve inode when updating /etc/hosts

Containers configured by tripleo bind-mount /etc/hosts directly,
which means any change to that file has to preserve the original
inode, otherwise the containers will get out of sync with the
host and will not see updates.

Change tripleo_host_entries to not depend on atomic semantics of
ansible, which changes inodes on update. Instead, perform a
non-atomic update to preserve inodes, and rely on the retry
logics of openstack containers to recover from unexpected
behaviour in case /etc/hosts is consumed while it is being updated.

Closes-Bug: #1882290
Change-Id: I34dd9121bbd650b79cb523e4dbed5949a0e7d52d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/21/733921/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_hosts_entries/tasks/main.yml'],1,5a6b43b7f0ee38a73ff0844f9e80fdc82d408afa,etc-hosts,"- name: Create temporary file for hosts become: true tempfile: state: file suffix: tmphosts register: tripleo_hosts_entries_tmp_hosts tags: - tripleo_hosts_entries - name: Prepare temporary /etc/hosts become: true copy: remote_src: yes src: ""{{ tripleo_hosts_entries_hosts_path }}"" dest: ""{{ tripleo_hosts_entries_tmp_hosts.path }}"" mode: preserve tags: - tripleo_hosts_entries path: ""{{ tripleo_hosts_entries_tmp_hosts.path }}"" register: tripleo_hosts_entries_heat_marker- name: Prepare new /etc/hosts path: ""{{ tripleo_hosts_entries_tmp_hosts.path }}"" register: tripleo_hosts_entries_new_entries - name: Update /etc/hosts contents (if changed) become: true # cp preserves the inode of the existing file tripleo_hosts_entries_hosts_path command: cp -a ""{{ tripleo_hosts_entries_tmp_hosts.path }}"" ""{{ tripleo_hosts_entries_hosts_path }}"" when: tripleo_hosts_entries_heat_marker.changed or tripleo_hosts_entries_new_entries.changed tags: - tripleo_hosts_entries - name: Clean up temporary hosts file file: path: ""{{ tripleo_hosts_entries_tmp_hosts.path }}"" state: absent when: tripleo_hosts_entries_tmp_hosts.path is defined"," path: ""{{ tripleo_hosts_entries_hosts_path }}""- name: Update /etc/hosts path: ""{{ tripleo_hosts_entries_hosts_path }}""",38,3
openstack%2Fcliff~master~Ia0260d2607f4a240b39e90da4b5b09e7cdfde04f,openstack/cliff,master,Ia0260d2607f4a240b39e90da4b5b09e7cdfde04f,Import command group support from osc-lib,MERGED,2020-06-06 14:32:53.000000000,2020-06-09 16:39:03.000000000,2020-06-09 16:36:11.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-06-06 14:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/8411df3fc33798f608a22484c89549aa0f655962', 'message': ""Import command group support from osc-lib\n\nosc-lib adds support for named groups of commands. There's nothing\nparticularly openstackclient about this support, so add it here.\nAdditionally, update it to work with defered plugin loading\n\nChange-Id: Ia0260d2607f4a240b39e90da4b5b09e7cdfde04f\n""}, {'number': 2, 'created': '2020-06-06 17:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/5f5d9d6118d7f3bd90a0eade668394649912a0d2', 'message': ""Import command group support from osc-lib\n\nosc-lib adds support for named groups of commands. There's nothing\nparticularly openstackclient about this support, so add it here.\nAdditionally, update it to work with defered plugin loading\n\nChange-Id: Ia0260d2607f4a240b39e90da4b5b09e7cdfde04f\n""}, {'number': 3, 'created': '2020-06-06 17:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/9c7572adfae396a44ffbdd355f569cbbffc1d122', 'message': ""Import command group support from osc-lib\n\nosc-lib adds support for named groups of commands. There's nothing\nparticularly openstackclient about this support, so add it here.\nAdditionally, update it to work with defered plugin loading\n\nChange-Id: Ia0260d2607f4a240b39e90da4b5b09e7cdfde04f\n""}, {'number': 4, 'created': '2020-06-06 17:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/8c978b0b92dbbc0dadc7b7f69e6a72cbc1e361c3', 'message': ""Import command group support from osc-lib\n\nosc-lib adds support for named groups of commands. There's nothing\nparticularly openstackclient about this support, so add it here.\nAdditionally, update it to work with defered plugin loading\n\nChange-Id: Ia0260d2607f4a240b39e90da4b5b09e7cdfde04f\n""}, {'number': 5, 'created': '2020-06-06 19:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/1f3962628f0d2a4cc08ba428db97ada42da64ce0', 'message': ""Import command group support from osc-lib\n\nosc-lib adds support for named groups of commands. There's nothing\nparticularly openstackclient about this support, so add it here.\nAdditionally, update it to work with defered plugin loading\n\nChange-Id: Ia0260d2607f4a240b39e90da4b5b09e7cdfde04f\n""}, {'number': 6, 'created': '2020-06-06 20:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/150619ae066926be6e4e51b08f96750b01b3fd28', 'message': ""Import command group support from osc-lib\n\nosc-lib adds support for named groups of commands. There's nothing\nparticularly openstackclient about this support, so add it here.\nAdditionally, update it to work with defered plugin loading\n\nChange-Id: Ia0260d2607f4a240b39e90da4b5b09e7cdfde04f\n""}, {'number': 7, 'created': '2020-06-07 14:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/ca40f30a049e76098549fb2f10b3b0e2afac36c9', 'message': ""Import command group support from osc-lib\n\nosc-lib adds support for named groups of commands. There's nothing\nparticularly openstackclient about this support, so add it here.\nThis way when we add defered plugin loading, it'll work.\n\nChange-Id: Ia0260d2607f4a240b39e90da4b5b09e7cdfde04f\n""}, {'number': 8, 'created': '2020-06-07 16:11:15.000000000', 'files': ['cliff/tests/test_commandmanager.py', 'cliff/commandmanager.py', 'releasenotes/notes/command-group-8c00f260340a130c.yaml'], 'web_link': 'https://opendev.org/openstack/cliff/commit/8477c4dbd0cf651b9b4ba4a4934de69d5942bfc2', 'message': ""Import command group support from osc-lib\n\nosc-lib adds support for named groups of commands. There's nothing\nparticularly openstackclient about this support, so add it here.\nThis way when we add defered plugin loading, it'll work.\n\nChange-Id: Ia0260d2607f4a240b39e90da4b5b09e7cdfde04f\n""}]",6,733964,8477c4dbd0cf651b9b4ba4a4934de69d5942bfc2,21,4,8,2,,,0,"Import command group support from osc-lib

osc-lib adds support for named groups of commands. There's nothing
particularly openstackclient about this support, so add it here.
This way when we add defered plugin loading, it'll work.

Change-Id: Ia0260d2607f4a240b39e90da4b5b09e7cdfde04f
",git fetch https://review.opendev.org/openstack/cliff refs/changes/64/733964/8 && git format-patch -1 --stdout FETCH_HEAD,"['cliff/tests/test_commandmanager.py', 'cliff/commandmanager.py', 'releasenotes/notes/command-group-8c00f260340a130c.yaml']",3,8411df3fc33798f608a22484c89549aa0f655962,osc-plugin-optimize,--- features: - | Added support for command groups. This was originally added in osc_lib downstream. ,,131,3
openstack%2Frpm-packaging~stable%2Ftrain~I58e730b67f8fad1e4a54cbea0b38d90e2e824fa1,openstack/rpm-packaging,stable/train,I58e730b67f8fad1e4a54cbea0b38d90e2e824fa1,Train updates,MERGED,2020-06-05 09:50:33.000000000,2020-06-09 16:23:55.000000000,2020-06-09 16:23:55.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-05 09:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9d9cbff473ab250b8d692ac73cb604f0e338f73e', 'message': 'Train updates\n\nChange-Id: I58e730b67f8fad1e4a54cbea0b38d90e2e824fa1\n'}, {'number': 2, 'created': '2020-06-05 11:00:22.000000000', 'files': ['openstack/ironic-lib/ironic-lib.spec.j2', 'openstack/python-ironic-inspector-client/python-ironic-inspector-client.spec.j2', 'openstack/openstacksdk/openstacksdk.spec.j2', 'openstack/os-brick/os-brick.spec.j2', 'openstack/python-magnumclient/python-magnumclient.spec.j2', 'openstack/python-cinderclient/python-cinderclient.spec.j2', 'openstack/castellan/castellan.spec.j2', 'openstack/sushy/sushy.spec.j2', 'openstack/tooz/tooz.spec.j2', 'openstack/oslo.log/oslo.log.spec.j2', 'openstack/ovsdbapp/ovsdbapp.spec.j2', 'openstack/python-ironicclient/python-ironicclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/dc2da9882dd57267130a6a1536eeb91f5f4be714', 'message': 'Train updates\n\nChange-Id: I58e730b67f8fad1e4a54cbea0b38d90e2e824fa1\n'}]",0,733799,dc2da9882dd57267130a6a1536eeb91f5f4be714,19,6,2,6593,,,0,"Train updates

Change-Id: I58e730b67f8fad1e4a54cbea0b38d90e2e824fa1
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/99/733799/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/ironic-lib/ironic-lib.spec.j2', 'openstack/python-ironic-inspector-client/python-ironic-inspector-client.spec.j2', 'openstack/openstacksdk/openstacksdk.spec.j2', 'openstack/os-brick/os-brick.spec.j2', 'openstack/python-magnumclient/python-magnumclient.spec.j2', 'openstack/python-cinderclient/python-cinderclient.spec.j2', 'openstack/castellan/castellan.spec.j2', 'openstack/sushy/sushy.spec.j2', 'openstack/tooz/tooz.spec.j2', 'openstack/oslo.log/oslo.log.spec.j2', 'openstack/ovsdbapp/ovsdbapp.spec.j2', 'openstack/python-ironicclient/python-ironicclient.spec.j2']",12,9d9cbff473ab250b8d692ac73cb604f0e338f73e,,{% set upstream_version = upstream_version('3.1.2') %},{% set upstream_version = upstream_version('3.1.1') %},13,13
openstack%2Fironic~stable%2Ftrain~I9e951aaaa13981602151bff3f2eebfa338113f6c,openstack/ironic,stable/train,I9e951aaaa13981602151bff3f2eebfa338113f6c,devstack: increase concurrency and worker timeout for sushy-tools,MERGED,2020-06-09 12:34:23.000000000,2020-06-09 16:19:58.000000000,2020-06-09 16:16:22.000000000,"[{'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-09 12:34:23.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/555494870cb2ac8e7874427720534394e20c281b', 'message': 'devstack: increase concurrency and worker timeout for sushy-tools\n\nSometimes sushy-tools hits worker timeout in gunicorn when handing\na virtual media ISO, causing a request to be aborted and deployment\nto fail. Increase the timeout from 30 to 90 seconds and add some\nconcurrency to ensure that more than one deployment can run.\n\nChange-Id: I9e951aaaa13981602151bff3f2eebfa338113f6c\n(cherry picked from commit 7a455a3ff3af8a1542e32578f4f5a1c65d021c3d)\n'}]",0,734596,555494870cb2ac8e7874427720534394e20c281b,9,4,1,10239,,,0,"devstack: increase concurrency and worker timeout for sushy-tools

Sometimes sushy-tools hits worker timeout in gunicorn when handing
a virtual media ISO, causing a request to be aborted and deployment
to fail. Increase the timeout from 30 to 90 seconds and add some
concurrency to ensure that more than one deployment can run.

Change-Id: I9e951aaaa13981602151bff3f2eebfa338113f6c
(cherry picked from commit 7a455a3ff3af8a1542e32578f4f5a1c65d021c3d)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/734596/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,555494870cb2ac8e7874427720534394e20c281b,sushy-tools-workers-stable/train," # NOTE(dtantsur): handling virtual media ISO can take time, so increase # both concurrency and the worker timeout. cmd+="" --workers 2 --threads 2 --timeout 90""",,3,0
openstack%2Fcharms.openstack~master~I6fbde855ba8f83ef5e265bd5b5dfb0d01eae830b,openstack/charms.openstack,master,I6fbde855ba8f83ef5e265bd5b5dfb0d01eae830b,plugins/ceph: Add support for core Ceph charms,MERGED,2020-06-09 14:01:37.000000000,2020-06-09 16:19:41.000000000,2020-06-09 16:19:41.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 14:01:37.000000000', 'files': ['charms_openstack/plugins/classes.py', 'unit_tests/charms_openstack/plugins/test_classes.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/e03f6a6a1cb1ab0811bc97f8a65789b358925f1a', 'message': 'plugins/ceph: Add support for core Ceph charms\n\nAlso adds missing release combinations to package_codenames.\n\nChange-Id: I6fbde855ba8f83ef5e265bd5b5dfb0d01eae830b\nRelated-Bug: #1879072\n'}]",0,734611,e03f6a6a1cb1ab0811bc97f8a65789b358925f1a,6,2,1,13686,,,0,"plugins/ceph: Add support for core Ceph charms

Also adds missing release combinations to package_codenames.

Change-Id: I6fbde855ba8f83ef5e265bd5b5dfb0d01eae830b
Related-Bug: #1879072
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/11/734611/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/plugins/classes.py', 'unit_tests/charms_openstack/plugins/test_classes.py']",2,e03f6a6a1cb1ab0811bc97f8a65789b358925f1a,bug/1879072,"class FakeCephCharm(cpl.CephCharm): abstract_class = True def __init__(self, **kwargs): super().__init__(**kwargs) self.hostname = 'somehost' super(TestCephCharm, self).setUp(FakeCephCharm, {'source': None}) self.target.snaps = [] self.target.ceph_service_type = self.target.CephServiceType.mds self.assertEqual( self.target.ceph_keyring_path, '/var/lib/ceph/charmname/ceph-somehost') self.target.snaps = ['somecephsnap'] self.assertEqual( self.target.ceph_keyring_path, os.path.join(cpl.SNAP_PATH_PREFIX_FORMAT.format('gnocchi'), '/var/lib/ceph/charmname/ceph-somehost')) self.target.ceph_service_type = self.target.CephServiceType.mds self.target.configure_ceph_keyring(key) self.isdir.assert_called_with('/var/lib/ceph/sarepta/ceph-somehost') self.mkdir.assert_called_with('/var/lib/ceph/sarepta/ceph-somehost', owner='root', group='root', perms=0o750) self.check_call.assert_called_with([ 'ceph-authtool', '/var/lib/ceph/sarepta/ceph-somehost/keyring', '--create-keyring', '--name=sarepta', '--add-key', 'KEY', '--mode', '0600', ]) self.exists.assert_not_called() self.readlink.assert_not_called() self.symlink.assert_not_called() self.target.ceph_service_type = self.target.CephServiceType.client self.remove.reset_mock() self.target.ceph_service_type = self.target.CephServiceType.mds self.target.delete_ceph_keyring() self.remove.assert_called_once_with( '/var/lib/ceph/sarepta/ceph-somehost/keyring')"," super(TestCephCharm, self).setUp(cpl.CephCharm, {'source': None})",105,12
openstack%2Fironic-python-agent~master~If9d29dd00a8c35fe679e1f54d1574eed0a79470c,openstack/ironic-python-agent,master,If9d29dd00a8c35fe679e1f54d1574eed0a79470c,Document how to output journal to console,MERGED,2020-06-08 22:16:20.000000000,2020-06-09 16:18:59.000000000,2020-06-09 16:16:24.000000000,"[{'_account_id': 10342}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-06-08 22:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d8a31ee4e4c68d3b265baa160d35aebf4998e14f', 'message': 'Document how to output journal to console\n\nHaving all logs from the device visible on console may be useful for\ndeployers who do not enable login access to IPA ramdisks as a matter of\npolicy.\n\nChange-Id: If9d29dd00a8c35fe679e1f54d1574eed0a79470c\n'}, {'number': 2, 'created': '2020-06-09 14:30:27.000000000', 'files': ['doc/source/admin/troubleshooting.rst'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/3dd929eb92cdd99146eaea1f5712f2aae811354f', 'message': 'Document how to output journal to console\n\nHaving all logs from the device visible on console may be useful for\ndeployers who do not enable login access to IPA ramdisks as a matter of\npolicy.\n\nChange-Id: If9d29dd00a8c35fe679e1f54d1574eed0a79470c\n'}]",1,734339,3dd929eb92cdd99146eaea1f5712f2aae811354f,13,5,2,10342,,,0,"Document how to output journal to console

Having all logs from the device visible on console may be useful for
deployers who do not enable login access to IPA ramdisks as a matter of
policy.

Change-Id: If9d29dd00a8c35fe679e1f54d1574eed0a79470c
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/39/734339/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/troubleshooting.rst'],1,d8a31ee4e4c68d3b265baa160d35aebf4998e14f,DocumentJournalToConsole," - if using a diskimage-builder ramdisk, it may be configured to output all contents of the journal, including ironic-python-agent logs, by enabing the `journal-to-console element <https://docs.openstack.org/diskimage-builder/latest/elements/journal-to-console/README.html>`_.",,3,0
openstack%2Ftripleo-common~stable%2Fussuri~I3ed31f5ae982ee97d66e497d800bcc5caf171ac8,openstack/tripleo-common,stable/ussuri,I3ed31f5ae982ee97d66e497d800bcc5caf171ac8,[Ussuri Only] Sync template overrides with Kolla,MERGED,2020-06-05 09:28:12.000000000,2020-06-09 16:18:36.000000000,2020-06-09 16:15:16.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-06-05 09:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/01ab68c798b4c88aa5fdf8b4d362263f1c64cd68', 'message': ""Sync template overrides with Kolla\n\nKolla moved to 'centos-release-openstack-ussuri' package so make sure it\ngets removed.\n\nAlso EPEL handling got changed.\n\nChange-Id: I3ed31f5ae982ee97d66e497d800bcc5caf171ac8\n""}, {'number': 2, 'created': '2020-06-05 13:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4e8a146b5d38a958b98c8c2b7c91b8a4510a89dc', 'message': ""Sync template overrides with Kolla\n\nKolla moved to 'centos-release-openstack-ussuri' package so make sure it\ngets removed.\n\nAlso EPEL handling got changed.\n\nChange-Id: I3ed31f5ae982ee97d66e497d800bcc5caf171ac8\n""}, {'number': 3, 'created': '2020-06-08 06:09:49.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/422a39ea7d564fd89ba48b12b169d210af6a218e', 'message': ""[Ussuri Only] Sync template overrides with Kolla\n\nKolla moved to 'centos-release-openstack-ussuri' package[1] so make sure\nit gets removed as TripleO build image jobs runs with delorean trunk\nrepos, and mixing trunk repos with CloudSIG repos can cause issues.\n\nAlso EPEL handling got changed.\n\n[1] https://review.opendev.org/#/c/731798/\n\nCloses-Bug: #1882246\nChange-Id: I3ed31f5ae982ee97d66e497d800bcc5caf171ac8\n""}]",0,733790,422a39ea7d564fd89ba48b12b169d210af6a218e,32,10,3,24072,,,0,"[Ussuri Only] Sync template overrides with Kolla

Kolla moved to 'centos-release-openstack-ussuri' package[1] so make sure
it gets removed as TripleO build image jobs runs with delorean trunk
repos, and mixing trunk repos with CloudSIG repos can cause issues.

Also EPEL handling got changed.

[1] https://review.opendev.org/#/c/731798/

Closes-Bug: #1882246
Change-Id: I3ed31f5ae982ee97d66e497d800bcc5caf171ac8
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/90/733790/2 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,01ab68c798b4c88aa5fdf8b4d362263f1c64cd68,ussuri," 'centos-release-openstack-ussuri',{% set base_centos_yum_repos_to_disable_remove = [ 'centos-rabbitmq-38', 'centos-opstools', 'epel', 'epel-modular', 'influxdb'{% endif %}"," 'centos-release-openstack-train',{% set base_centos_yum_repos_to_disable_remove = ['centos-rabbitmq-38', 'centos-opstools', 'influxdb'] %} {% endif %} {% set base_centos_yum_repo_packages_append = [ 'centos-release-opstools'",8,6
openstack%2Fzaqar~master~I84d93837b6ae3c6989f481320999de69986659bb,openstack/zaqar,master,I84d93837b6ae3c6989f481320999de69986659bb,Use unittest.mock instead of mock,ABANDONED,2020-06-09 10:20:36.000000000,2020-06-09 16:18:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-09 10:20:36.000000000', 'files': ['test-requirements.txt', 'zaqar/tests/unit/transport/websocket/v2/test_subscriptions.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_health.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_health.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_subscriptions.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_claims.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_claims.py', 'zaqar/tests/unit/transport/websocket/v2/test_auth.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_messages.py', 'zaqar/tests/unit/storage/test_utils.py', 'zaqar/tests/unit/transport/websocket/v2/test_messages.py', 'zaqar/tests/unit/transport/wsgi/v1/test_queue_lifecycle.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_topic_lifecycle.py', 'zaqar/tests/unit/storage/sqlalchemy_migration/test_db_manage_cli.py', 'zaqar/tests/unit/storage/test_pool_catalog_new.py', 'zaqar/tests/unit/storage/test_impl_mongodb.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_queue_lifecycle.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_messages.py', 'zaqar/tests/unit/notification/test_notifier.py', 'zaqar/tests/unit/storage/test_impl_redis.py', 'zaqar/tests/unit/transport/wsgi/v1/test_messages.py', 'lower-constraints.txt', 'zaqar/tests/unit/transport/websocket/v2/test_queue_lifecycle.py', 'zaqar/tests/unit/storage/base.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_queue_lifecycle.py', 'zaqar/tests/unit/transport/websocket/v2/test_claims.py', 'zaqar/tests/unit/transport/wsgi/v1/test_claims.py', 'zaqar/tests/unit/transport/websocket/test_protocol.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/95b741a415bb18bc4a32b93aa7ee023d4e7e5962', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I84d93837b6ae3c6989f481320999de69986659bb\n'}]",20,734576,95b741a415bb18bc4a32b93aa7ee023d4e7e5962,3,1,1,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I84d93837b6ae3c6989f481320999de69986659bb
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/76/734576/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'zaqar/tests/unit/transport/websocket/v2/test_subscriptions.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_health.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_health.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_subscriptions.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_claims.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_claims.py', 'zaqar/tests/unit/transport/websocket/v2/test_auth.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_messages.py', 'zaqar/tests/unit/storage/test_utils.py', 'zaqar/tests/unit/transport/websocket/v2/test_messages.py', 'zaqar/tests/unit/transport/wsgi/v1/test_queue_lifecycle.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_topic_lifecycle.py', 'zaqar/tests/unit/storage/sqlalchemy_migration/test_db_manage_cli.py', 'zaqar/tests/unit/storage/test_pool_catalog_new.py', 'zaqar/tests/unit/storage/test_impl_mongodb.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_queue_lifecycle.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_messages.py', 'zaqar/tests/unit/notification/test_notifier.py', 'zaqar/tests/unit/storage/test_impl_redis.py', 'zaqar/tests/unit/transport/wsgi/v1/test_messages.py', 'lower-constraints.txt', 'zaqar/tests/unit/transport/websocket/v2/test_queue_lifecycle.py', 'zaqar/tests/unit/storage/base.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_queue_lifecycle.py', 'zaqar/tests/unit/transport/websocket/v2/test_claims.py', 'zaqar/tests/unit/transport/wsgi/v1/test_claims.py', 'zaqar/tests/unit/transport/websocket/test_protocol.py']",28,95b741a415bb18bc4a32b93aa7ee023d4e7e5962,drop_mock,from unittest import mock,import mock,26,28
openstack%2Ftricircle~master~I218e89dc47c5e67492ff1dbc9055030f736160dd,openstack/tricircle,master,I218e89dc47c5e67492ff1dbc9055030f736160dd,Use unittest.mock instead of mock,ABANDONED,2020-06-09 10:15:59.000000000,2020-06-09 16:17:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-09 10:15:59.000000000', 'files': ['tricircle/tests/functional/api/controllers/test_job.py', 'tricircle/tests/unit/api/controllers/test_job.py', 'tricircle/tests/unit/network/test_local_plugin.py', 'test-requirements.txt', 'tricircle/tests/functional/api/controllers/test_pod.py', 'tricircle/tests/unit/api/controllers/test_pod.py', 'tricircle/tests/unit/cmd/test_cmd.py', 'lower-constraints.txt', 'tricircle/tests/unit/xjob/test_xmanager.py', 'tricircle/tests/unit/common/test_client.py', 'tricircle/tests/unit/network/test_central_trunk_driver.py', 'tricircle/tests/unit/network/test_central_plugin.py', 'tricircle/tests/unit/api/controllers/test_routing.py', 'tricircle/tests/unit/network/test_helper.py', 'tricircle/tests/unit/common/test_httpclient.py', 'tricircle/tests/unit/common/test_resource_handle.py', 'tricircle/tests/unit/common/test_utils.py', 'tricircle/tests/unit/xjob/test_xservice.py', 'tricircle/tests/unit/network/test_central_trunk_plugin.py', 'tricircle/tests/unit/network/test_segment_plugin.py', 'tricircle/tests/unit/network/test_central_sfc_plugin.py'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/ecae484e10b43414b3da9dd5b3f9d8a72e7875fe', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I218e89dc47c5e67492ff1dbc9055030f736160dd\n'}]",18,734565,ecae484e10b43414b3da9dd5b3f9d8a72e7875fe,3,1,1,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I218e89dc47c5e67492ff1dbc9055030f736160dd
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/65/734565/1 && git format-patch -1 --stdout FETCH_HEAD,"['tricircle/tests/functional/api/controllers/test_job.py', 'tricircle/tests/unit/api/controllers/test_job.py', 'tricircle/tests/unit/network/test_local_plugin.py', 'test-requirements.txt', 'tricircle/tests/functional/api/controllers/test_pod.py', 'tricircle/tests/unit/api/controllers/test_pod.py', 'tricircle/tests/unit/cmd/test_cmd.py', 'lower-constraints.txt', 'tricircle/tests/unit/xjob/test_xmanager.py', 'tricircle/tests/unit/common/test_client.py', 'tricircle/tests/unit/network/test_central_trunk_driver.py', 'tricircle/tests/unit/network/test_central_plugin.py', 'tricircle/tests/unit/api/controllers/test_routing.py', 'tricircle/tests/unit/network/test_helper.py', 'tricircle/tests/unit/common/test_httpclient.py', 'tricircle/tests/unit/common/test_resource_handle.py', 'tricircle/tests/unit/common/test_utils.py', 'tricircle/tests/unit/xjob/test_xservice.py', 'tricircle/tests/unit/network/test_central_trunk_plugin.py', 'tricircle/tests/unit/network/test_segment_plugin.py', 'tricircle/tests/unit/network/test_central_sfc_plugin.py']",21,ecae484e10b43414b3da9dd5b3f9d8a72e7875fe,drop_mock,from unittest.mock import patch,from mock import patch,27,29
openstack%2Ftripleo-heat-templates~master~Ie5dc774509c31effe9f90f7f22c0394eee0b7746,openstack/tripleo-heat-templates,master,Ie5dc774509c31effe9f90f7f22c0394eee0b7746,Fix dry-run for NetworkConfig tasks,MERGED,2020-06-05 15:28:53.000000000,2020-06-09 16:15:40.000000000,2020-06-09 16:15:11.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-06-05 15:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e7dba55f1dc63e06e056f0f3fa6ff456a0b2d0e', 'message': 'Fix dry-run for NetworkConfig tasks\n\nDo not run the NetworkConfig script in check mode, and the next tasks\nwill be skipped as well.\n\nChange-Id: Ie5dc774509c31effe9f90f7f22c0394eee0b7746\n'}, {'number': 2, 'created': '2020-06-08 19:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/503a776affce58e0e37d91efc6a4b320f88be93c', 'message': 'Fix dry-run for NetworkConfig tasks\n\nDo not run the NetworkConfig script in check mode, and the next tasks\nwill be skipped as well.\n\nChange-Id: Ie5dc774509c31effe9f90f7f22c0394eee0b7746\n'}, {'number': 3, 'created': '2020-06-08 19:22:14.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cfc6dac882153992ba069f304b044f3d5c823cde', 'message': 'Fix dry-run for NetworkConfig tasks\n\nDo not run the NetworkConfig script in check mode, and the next tasks\nwill be skipped as well.\n\nChange-Id: Ie5dc774509c31effe9f90f7f22c0394eee0b7746\n'}]",1,733868,cfc6dac882153992ba069f304b044f3d5c823cde,17,5,3,3153,,,0,"Fix dry-run for NetworkConfig tasks

Do not run the NetworkConfig script in check mode, and the next tasks
will be skipped as well.

Change-Id: Ie5dc774509c31effe9f90f7f22c0394eee0b7746
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/733868/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,3e7dba55f1dc63e06e056f0f3fa6ff456a0b2d0e,network/dry, check_mode: false when: - NetworkConfig_result.rc is defined when: - NetworkConfig_result.rc is defined,,5,0
openstack%2Ftripleo-heat-templates~master~Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57,openstack/tripleo-heat-templates,master,Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57,Check transfer data flag to skip pacemaker normal upgrade.,MERGED,2020-06-02 15:48:00.000000000,2020-06-09 16:15:14.000000000,2020-06-09 16:15:13.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-06-02 15:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/60ce484b5aa19d6decceaa225689a164db7e585b', 'message': 'Check transfer data flag to skip pacemaker normal upgrade.\n\nWhen the operating system upgrade is performed a\ntransfer data step must be executed (to allow the\ndb import once the operating system upgrades). During\nthis step the pacemaker cluster is stopped, so we can\ncreate a new cluster with the newly OS upgraded node.\nTherefore, as the pacemaker cluster is down we need\nto skip some of the tasks which would be executed\nduring a normal upgrade (check pcs status, stop pcs and\nstart pcs) from the upgrade_tasks.\n\nThis patch removes the use of UpgradeLeappEnabled heat\nparameter to identify this and uses the existence of\nthe flag file created during the transfer_data to skip\nthe normal pacemaker upgrade tasks.\n\nChange-Id: Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57\n'}, {'number': 2, 'created': '2020-06-02 17:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5845c0a72aa68eb2dbbbdbd42fc1a6406aa92100', 'message': 'Check transfer data flag to skip pacemaker normal upgrade.\n\nWhen the operating system upgrade is performed a\ntransfer data step must be executed (to allow the\ndb import once the operating system upgrades). During\nthis step the pacemaker cluster is stopped, so we can\ncreate a new cluster with the newly OS upgraded node.\nTherefore, as the pacemaker cluster is down we need\nto skip some of the tasks which would be executed\nduring a normal upgrade (check pcs status, stop pcs and\nstart pcs) from the upgrade_tasks.\n\nThis patch removes the use of UpgradeLeappEnabled heat\nparameter to identify this and uses the existence of\nthe flag file created during the transfer_data to skip\nthe normal pacemaker upgrade tasks.\n\nChange-Id: Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57\n'}, {'number': 3, 'created': '2020-06-03 14:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/310b1ed4553498e0ca1167266452aa06dbe23046', 'message': 'Check transfer data flag to skip pacemaker normal upgrade.\n\nWhen the operating system upgrade is performed a\ntransfer data step must be executed (to allow the\ndb import once the operating system upgrades). During\nthis step the pacemaker cluster is stopped, so we can\ncreate a new cluster with the newly OS upgraded node.\nTherefore, as the pacemaker cluster is down we need\nto skip some of the tasks which would be executed\nduring a normal upgrade (check pcs status, stop pcs and\nstart pcs) from the upgrade_tasks.\n\nThis patch removes the use of UpgradeLeappEnabled heat\nparameter to identify this and uses the existence of\nthe flag file created during the transfer_data to skip\nthe normal pacemaker upgrade tasks by setting a new\nfact, cluster_recreate, if this file exists.\n\nChange-Id: Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57\n'}, {'number': 4, 'created': '2020-06-05 11:10:54.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b7fbb7b835791c9e80eecc43147755440a390805', 'message': 'Check transfer data flag to skip pacemaker normal upgrade.\n\nWhen the operating system upgrade is performed a\ntransfer data step must be executed (to allow the\ndb import once the operating system upgrades). During\nthis step the pacemaker cluster is stopped, so we can\ncreate a new cluster with the newly OS upgraded node.\nTherefore, as the pacemaker cluster is down we need\nto skip some of the tasks which would be executed\nduring a normal upgrade (check pcs status, stop pcs and\nstart pcs) from the upgrade_tasks.\n\nThis patch removes the use of UpgradeLeappEnabled heat\nparameter to identify this and uses the existence of\nthe flag file created during the transfer_data to skip\nthe normal pacemaker upgrade tasks by setting a new\nfact, cluster_recreate, if this file exists.\n\nChange-Id: Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57\n'}]",1,732722,b7fbb7b835791c9e80eecc43147755440a390805,24,11,4,26343,,,0,"Check transfer data flag to skip pacemaker normal upgrade.

When the operating system upgrade is performed a
transfer data step must be executed (to allow the
db import once the operating system upgrades). During
this step the pacemaker cluster is stopped, so we can
create a new cluster with the newly OS upgraded node.
Therefore, as the pacemaker cluster is down we need
to skip some of the tasks which would be executed
during a normal upgrade (check pcs status, stop pcs and
start pcs) from the upgrade_tasks.

This patch removes the use of UpgradeLeappEnabled heat
parameter to identify this and uses the existence of
the flag file created during the transfer_data to skip
the normal pacemaker upgrade tasks by setting a new
fact, cluster_recreate, if this file exists.

Change-Id: Iba85e99f59258ce6ef4e05ccae737b9eeb6cfc57
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/732722/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,60ce484b5aa19d6decceaa225689a164db7e585b,ffwd-upgrade2," # If performing an upgrade which requires operating system upgrading # a transfer data step needs to be run. During this step, the whole # pacemaker cluster is stopped so we can't check the cluster status. # Once the transfer_data step is executed, a flag file is stored. # This code checks the existence of this file to know if we should # avoid doing a normal pacemaker upgrade or not. As with the # operating system upgrade a new cluster will be created in which # the other nodes will be added. - name: check flag file existence in destination host stat: path: ""/var/lib/tripleo/transfer-flags/var-lib-mysql"" register: tripleo_transfer_flag_stat become: true delegate_to: ""{{ hostvars[groups['overcloud'][0]]['mysql_short_bootstrap_node_name'] }}"" - name: Set fact cluster_recreate set_fact: cluster_recreate: ""{{ tripleo_transfer_flag_stat.stat.exists|bool }}"" when: not cluster_recreate|bool when: not cluster_recreate|bool when: not cluster_recreate|bool"," UpgradeLeappEnabled: description: Use Leapp for operating system upgrade type: boolean default: false - name: Gather missing facts setup: gather_subset: ""distribution"" when: >- ansible_facts['distribution'] is not defined or ansible_facts['distribution_major_version'] is not defined tags: - always - name: Set fact upgrade_leapp_enabled set_fact: upgrade_leapp_enabled: >- {{ _upgradeLeappEnabled | bool and ansible_facts['distribution'] == 'RedHat' and ansible_facts['distribution_major_version'] is version('7', '==') }} vars: _upgradeLeappEnabled: {get_param: UpgradeLeappEnabled} tags: - always when: not upgrade_leapp_enabled|bool when: not upgrade_leapp_enabled when: not upgrade_leapp_enabled",19,24
openstack%2Fpython-barbicanclient~master~Iba352ba35ac98b73efa1ec4afc23c64bd89f6954,openstack/python-barbicanclient,master,Iba352ba35ac98b73efa1ec4afc23c64bd89f6954,Use unittest.mock instead of mock,ABANDONED,2020-06-09 09:52:39.000000000,2020-06-09 16:14:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-09 09:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/fe37f7de706e73e8a5ef27121ccc041d5f7d62e2', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Iba352ba35ac98b73efa1ec4afc23c64bd89f6954\n'}, {'number': 2, 'created': '2020-06-09 15:04:24.000000000', 'files': ['lower-constraints.txt', 'barbicanclient/tests/test_client.py'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/e3ec78e18bd5dd377657256318e5dcecb663d75c', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: Iba352ba35ac98b73efa1ec4afc23c64bd89f6954\n'}]",3,734500,e3ec78e18bd5dd377657256318e5dcecb663d75c,5,1,2,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: Iba352ba35ac98b73efa1ec4afc23c64bd89f6954
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/00/734500/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'barbicanclient/tests/v1/test_containers.py', 'lower-constraints.txt', 'barbicanclient/tests/test_client.py']",4,fe37f7de706e73e8a5ef27121ccc041d5f7d62e2,drop_mock,from unittest import mock,import mock,2,4
openstack%2Fpython-cinderclient~master~I21660db47719ea2775592bb597bf7fc74d12327a,openstack/python-cinderclient,master,I21660db47719ea2775592bb597bf7fc74d12327a,Use unittest.mock instead of mock,ABANDONED,2020-06-09 09:53:32.000000000,2020-06-09 16:11:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-09 09:53:32.000000000', 'files': ['cinderclient/tests/unit/test_shell.py', 'cinderclient/tests/unit/test_http.py', 'test-requirements.txt', 'cinderclient/tests/unit/test_utils.py', 'cinderclient/tests/unit/v2/test_limits.py', 'cinderclient/tests/unit/test_client.py', 'lower-constraints.txt', 'cinderclient/tests/unit/v2/test_auth.py', 'cinderclient/tests/unit/test_base.py', 'cinderclient/tests/unit/test_exceptions.py', 'cinderclient/tests/unit/v2/test_shell.py', 'cinderclient/tests/unit/utils.py', 'cinderclient/tests/unit/v3/test_shell.py', 'cinderclient/tests/unit/test_api_versions.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/30abe6b2d31c93ca3341d759e89af11cf1b8a9c1', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I21660db47719ea2775592bb597bf7fc74d12327a\n'}]",11,734503,30abe6b2d31c93ca3341d759e89af11cf1b8a9c1,3,1,1,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I21660db47719ea2775592bb597bf7fc74d12327a
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/03/734503/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/tests/unit/test_shell.py', 'cinderclient/tests/unit/test_http.py', 'test-requirements.txt', 'cinderclient/tests/unit/test_utils.py', 'cinderclient/tests/unit/v2/test_limits.py', 'cinderclient/tests/unit/test_client.py', 'lower-constraints.txt', 'cinderclient/tests/unit/v2/test_auth.py', 'cinderclient/tests/unit/test_base.py', 'cinderclient/tests/unit/test_exceptions.py', 'cinderclient/tests/unit/v2/test_shell.py', 'cinderclient/tests/unit/utils.py', 'cinderclient/tests/unit/v3/test_shell.py', 'cinderclient/tests/unit/test_api_versions.py']",14,30abe6b2d31c93ca3341d759e89af11cf1b8a9c1,drop_mock,from unittest import mock,import mock,12,14
openstack%2Fpython-barbicanclient~stable%2Fussuri~Idcfcec1c39399544ca47f7840a81bf78e547bd9c,openstack/python-barbicanclient,stable/ussuri,Idcfcec1c39399544ca47f7840a81bf78e547bd9c,Update .gitreview for stable/ussuri,MERGED,2020-04-11 18:49:28.000000000,2020-06-09 16:08:51.000000000,2020-06-09 16:03:27.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-04-11 18:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/a7d80af6c56d421c32ac5516382676e27612b88f', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: Idcfcec1c39399544ca47f7840a81bf78e547bd9c\n'}, {'number': 2, 'created': '2020-06-09 14:33:13.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/3a306b3cb51c345fb131adc749657a509c94e2ae', 'message': 'Update .gitreview for stable/ussuri\n\nChange-Id: Idcfcec1c39399544ca47f7840a81bf78e547bd9c\n'}]",0,719271,3a306b3cb51c345fb131adc749657a509c94e2ae,10,3,2,22816,,,0,"Update .gitreview for stable/ussuri

Change-Id: Idcfcec1c39399544ca47f7840a81bf78e547bd9c
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/71/719271/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,a7d80af6c56d421c32ac5516382676e27612b88f,create-ussuri,defaultbranch=stable/ussuri,,1,1
openstack%2Fpython-barbicanclient~stable%2Fussuri~I415c2d6e558bab07227b241587782d0431c8e01d,openstack/python-barbicanclient,stable/ussuri,I415c2d6e558bab07227b241587782d0431c8e01d,Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri,MERGED,2020-04-11 18:49:34.000000000,2020-06-09 16:06:03.000000000,2020-06-09 16:03:27.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-04-11 18:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/6b1c3722eb6d17f4296c8f7508d9d8ede7c857df', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I415c2d6e558bab07227b241587782d0431c8e01d\n'}, {'number': 2, 'created': '2020-06-09 14:33:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/2f98774be282b47ac4628db70591cec13a248c1b', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ussuri branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I415c2d6e558bab07227b241587782d0431c8e01d\n'}]",0,719281,2f98774be282b47ac4628db70591cec13a248c1b,10,3,2,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ussuri branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I415c2d6e558bab07227b241587782d0431c8e01d
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/81/719281/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6b1c3722eb6d17f4296c8f7508d9d8ede7c857df,create-ussuri, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Fpython-barbicanclient~stable%2Fussuri~Id55914141099650752027aa9dc0ad8a90528a2e9,openstack/python-barbicanclient,stable/ussuri,Id55914141099650752027aa9dc0ad8a90528a2e9,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-06-09 14:32:40.000000000,2020-06-09 15:55:06.000000000,2020-06-09 15:53:34.000000000,"[{'_account_id': 7973}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-06-09 14:32:40.000000000', 'files': ['doc/source/contributor/testing.rst', 'releasenotes/notes/drop-py-2-7-50042a0e2227c095.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/25c584c41a134c041147c4110f1226073d2f4391', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\npython-barbicanclient is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Id55914141099650752027aa9dc0ad8a90528a2e9\n(cherry picked from commit 69a14917e5f98f82dd1f4cdf33a49e6f3f708c13)\n'}]",0,734618,25c584c41a134c041147c4110f1226073d2f4391,8,4,1,6547,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

python-barbicanclient is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: Id55914141099650752027aa9dc0ad8a90528a2e9
(cherry picked from commit 69a14917e5f98f82dd1f4cdf33a49e6f3f708c13)
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/18/734618/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/testing.rst', 'releasenotes/notes/drop-py-2-7-50042a0e2227c095.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini']",5,25c584c41a134c041147c4110f1226073d2f4391,drop-py27-support-stable/ussuri,"minversion = 3.1.1 envlist = py37,py36,pep8ignore_basepython_conflict = Truebasepython = python3","minversion = 2.0 envlist = py35,py36,py27,pep8basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",16,16
openstack%2Fcharm-nova-cloud-controller~master~I523f4cbd22f65faa0959943324101a114fa16ae8,openstack/charm-nova-cloud-controller,master,I523f4cbd22f65faa0959943324101a114fa16ae8,Updates for 20.08 cycle start for groovy and libs,MERGED,2020-06-02 13:34:44.000000000,2020-06-09 15:52:56.000000000,2020-06-09 15:52:56.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-06-02 13:34:44.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/peerstorage/__init__.py', 'Makefile', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/385b65439b8253fa3c11cb91adf060b0bc23bbe3', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: I523f4cbd22f65faa0959943324101a114fa16ae8\n'}]",0,732663,385b65439b8253fa3c11cb91adf060b0bc23bbe3,12,5,1,20870,,,0,"Updates for 20.08 cycle start for groovy and libs

- Adds groovy to the series in the metadata
- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Change-Id: I523f4cbd22f65faa0959943324101a114fa16ae8
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/63/732663/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/peerstorage/__init__.py', 'Makefile', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'metadata.yaml']",6,385b65439b8253fa3c11cb91adf060b0bc23bbe3,batch-groovy-ch-libs," OpenStack is a reliable cloud infrastructure. Its mission is to produce the ubiquitous cloud computing platform that will meet the needs of public and private cloud providers regardless of size, by being simple to implement and massively scalable. . OpenStack Compute, codenamed Nova, is a cloud computing fabric controller. In addition to its ""native"" API (the OpenStack API), it also supports the Amazon EC2 API. . This charm provides the cloud controller service for OpenStack Nova and includes nova-scheduler, nova-api and nova-conductor services. tags: - openstack series: - xenial - bionic - eoan - focal - trusty - groovy"," OpenStack is a reliable cloud infrastructure. Its mission is to produce the ubiquitous cloud computing platform that will meet the needs of public and private cloud providers regardless of size, by being simple to implement and massively scalable. . OpenStack Compute, codenamed Nova, is a cloud computing fabric controller. In addition to its ""native"" API (the OpenStack API), it also supports the Amazon EC2 API. . This charm provides the cloud controller service for OpenStack Nova and includes nova-scheduler, nova-api and nova-conductor services. tags: - openstack series: - xenial - bionic - eoan - focal - trusty",59,32
openstack%2Fcharm-cinder-backup~master~If6e4867583375ed34ab97aa18d22bdb87548a51e,openstack/charm-cinder-backup,master,If6e4867583375ed34ab97aa18d22bdb87548a51e,Updates for 20.08 cycle start for groovy and libs,MERGED,2020-06-02 13:29:22.000000000,2020-06-09 15:52:40.000000000,2020-06-09 15:52:39.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-06-02 13:29:22.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/snap.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/65389e858cccde598e708c683a60302a2cc6866a', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: If6e4867583375ed34ab97aa18d22bdb87548a51e\n'}]",0,732635,65389e858cccde598e708c683a60302a2cc6866a,11,5,1,20870,,,0,"Updates for 20.08 cycle start for groovy and libs

- Adds groovy to the series in the metadata
- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Change-Id: If6e4867583375ed34ab97aa18d22bdb87548a51e
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/35/732635/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/fetch/snap.py', 'metadata.yaml']",4,65389e858cccde598e708c683a60302a2cc6866a,batch-groovy-ch-libs, Cinder is the block storage service for the Openstack project. . This subordinate charm configures the Cinder backup service. tags: - miscellaneous series: - xenial - bionic - eoan - trusty - focal - groovy, Cinder is the block storage service for the Openstack project. . This subordinate charm configures the Cinder backup service. tags: - miscellaneous series: - xenial - bionic - eoan - trusty - focal,16,15
openstack%2Fcharm-neutron-openvswitch~master~I11e93eb9e6426fdaad1aea43e451523a251870f6,openstack/charm-neutron-openvswitch,master,I11e93eb9e6426fdaad1aea43e451523a251870f6,Updates for 20.08 cycle start for groovy and libs,MERGED,2020-06-02 13:34:21.000000000,2020-06-09 15:52:21.000000000,2020-06-09 15:52:21.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-06-02 13:34:21.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/snap.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/1a155e8769fbc4a3c1eb48eb171c0724b9d09f54', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: I11e93eb9e6426fdaad1aea43e451523a251870f6\n'}]",0,732661,1a155e8769fbc4a3c1eb48eb171c0724b9d09f54,14,6,1,20870,,,0,"Updates for 20.08 cycle start for groovy and libs

- Adds groovy to the series in the metadata
- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Change-Id: I11e93eb9e6426fdaad1aea43e451523a251870f6
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/61/732661/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/fetch/snap.py', 'metadata.yaml']",4,1a155e8769fbc4a3c1eb48eb171c0724b9d09f54,batch-groovy-ch-libs,- openstack series: - xenial - bionic - eoan - focal - trusty - groovy, - openstack series: - xenial - bionic - eoan - focal - trusty,13,12
openstack%2Fkolla-ansible~master~I12b009ccc768171c8b994e12621101a2536e8032,openstack/kolla-ansible,master,I12b009ccc768171c8b994e12621101a2536e8032,Fix wrong value for neutron_ovn_metadata_agent_image,ABANDONED,2020-06-08 20:24:37.000000000,2020-06-09 15:51:04.000000000,,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-08 20:24:37.000000000', 'files': ['ansible/roles/neutron/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/72a1e19d80f0c7dac429aa2e2bd0f1c97a97f801', 'message': 'Fix wrong value for neutron_ovn_metadata_agent_image\n\nChange-Id: I12b009ccc768171c8b994e12621101a2536e8032\n'}]",1,734224,72a1e19d80f0c7dac429aa2e2bd0f1c97a97f801,11,5,1,167,,,0,"Fix wrong value for neutron_ovn_metadata_agent_image

Change-Id: I12b009ccc768171c8b994e12621101a2536e8032
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/734224/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/defaults/main.yml'],1,72a1e19d80f0c7dac429aa2e2bd0f1c97a97f801,fix-neutron_ovn_metadata_agent_image,"neutron_ovn_metadata_agent_image: ""{{ docker_registry ~ '/' if docker_registry else '' }}{{ docker_namespace }}/{{ kolla_base_distro }}-{{ neutron_install_type }}-neutron-metadata-agent-ovn""","neutron_ovn_metadata_agent_image: ""{{ docker_registry ~ '/' if docker_registry else '' }}{{ docker_namespace }}/{{ kolla_base_distro }}-{{ neutron_install_type }}-neutron-metadata-agent""",1,1
openstack%2Fcharms.openstack~master~Ibe6c920f577326dfe0f6c3339de69a3cc060eb36,openstack/charms.openstack,master,Ibe6c920f577326dfe0f6c3339de69a3cc060eb36,Add TrilioVault charm classes,MERGED,2020-06-08 09:18:52.000000000,2020-06-09 15:42:46.000000000,2020-06-09 15:42:46.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-08 09:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/a1d090aee19da12d92c730a87511be27c9e0e22b', 'message': 'Add TrilioVault charm classes\n\nAdd two helper classes to support common behaviour across the\ntrilio charm set.\n\nChange-Id: Ibe6c920f577326dfe0f6c3339de69a3cc060eb36\n'}, {'number': 2, 'created': '2020-06-08 09:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/eac175a4a3b685d6ff4f1e30b444acbecb8e5fd2', 'message': 'Add TrilioVault charm classes\n\nAdd two helper classes to support common behaviour across the\ntrilio charm set.\n\nChange-Id: Ibe6c920f577326dfe0f6c3339de69a3cc060eb36\n'}, {'number': 3, 'created': '2020-06-08 10:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/46f95813fc627bf34e5a05e8518b148589b983f6', 'message': 'Add TrilioVault charm classes\n\nAdd two helper classes to support common behaviour across the\ntrilio charm set.\n\nChange-Id: Ibe6c920f577326dfe0f6c3339de69a3cc060eb36\n'}, {'number': 4, 'created': '2020-06-08 10:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/33af657ca24598c002d7430bf5a045626dc70025', 'message': 'Add TrilioVault charm classes\n\nAdd two helper classes to support common behaviour across the\ntrilio charm set.\n\nChange-Id: Ibe6c920f577326dfe0f6c3339de69a3cc060eb36\n'}, {'number': 5, 'created': '2020-06-09 13:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/dd9910d30754b3881582a1533c0bd29b8620b504', 'message': 'Add TrilioVault charm classes\n\nAdd two helper classes to support common behaviour across the\nTrilioVault charm set.\n\nChange-Id: Ibe6c920f577326dfe0f6c3339de69a3cc060eb36\n'}, {'number': 6, 'created': '2020-06-09 13:57:40.000000000', 'files': ['charms_openstack/plugins/classes.py', 'unit_tests/charms_openstack/plugins/test_classes.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/037ea8bdf7262f736e1aae998316c53000ff3f7f', 'message': 'Add TrilioVault charm classes\n\nAdd two helper classes to support common behaviour across the\nTrilioVault charm set.\n\nChange-Id: Ibe6c920f577326dfe0f6c3339de69a3cc060eb36\n'}]",0,734047,037ea8bdf7262f736e1aae998316c53000ff3f7f,16,2,6,935,,,0,"Add TrilioVault charm classes

Add two helper classes to support common behaviour across the
TrilioVault charm set.

Change-Id: Ibe6c920f577326dfe0f6c3339de69a3cc060eb36
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/47/734047/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/plugins/classes.py', 'unit_tests/charms_openstack/plugins/test_classes.py']",2,a1d090aee19da12d92c730a87511be27c9e0e22b,triliovault-base-class," class TestTrilioCharmGhostShareAction(BaseOpenStackCharmTest): _nfs_shares = ""10.20.30.40:/srv/trilioshare"" _ghost_shares = ""50.20.30.40:/srv/trilioshare"" def setUp(self): super().setUp(cpl.TrilioVaultCharm, {}) self.patch_object(cpl.ch_core.hookenv, ""config"") self.patch_object(cpl.ch_core.host, ""mounts"") self.patch_object(cpl.ch_core.host, ""mount"") self.patch_object(cpl.os.path, ""exists"") self.patch_object(cpl.os, ""mkdir"") self.trilio_charm = cpl.TrilioVaultCharm() self._nfs_path = os.path.join( cpl.TV_MOUNTS, self.trilio_charm._encode_endpoint(self._nfs_shares), ) self._ghost_path = os.path.join( cpl.TV_MOUNTS, self.trilio_charm._encode_endpoint(self._ghost_shares), ) def test_ghost_share(self): self.config.return_value = self._nfs_shares self.mounts.return_value = [ [""/srv/nova"", ""/dev/sda""], [self._nfs_path, self._nfs_shares], ] self.exists.return_value = False self.trilio_charm.ghost_nfs_share(self._ghost_shares) self.exists.assert_called_once_with(self._ghost_path) self.mkdir.assert_called_once_with(self._ghost_path) self.mount.assert_called_once_with( self._nfs_path, self._ghost_path, options=""bind"" ) def test_ghost_share_already_bound(self): self.config.return_value = self._nfs_shares self.mounts.return_value = [ [""/srv/nova"", ""/dev/sda""], [self._nfs_path, self._nfs_shares], [self._ghost_path, self._nfs_shares], ] with self.assertRaises(cpl.GhostShareAlreadyMountedException): self.trilio_charm.ghost_nfs_share(self._ghost_shares) self.mount.assert_not_called() def test_ghost_share_nfs_unmounted(self): self.config.return_value = self._nfs_shares self.mounts.return_value = [[""/srv/nova"", ""/dev/sda""]] self.exists.return_value = False with self.assertRaises(cpl.NFSShareNotMountedException): self.trilio_charm.ghost_nfs_share(self._ghost_shares) self.mount.assert_not_called()",,182,0
openstack%2Fcliff~stable%2Fpike~I05552c957ee6ca2dab73d4e79366c8979392eba0,openstack/cliff,stable/pike,I05552c957ee6ca2dab73d4e79366c8979392eba0,Correctly fetch upper constraints from opendev.org,ABANDONED,2019-04-25 12:42:35.000000000,2020-06-09 15:40:46.000000000,,"[{'_account_id': 2472}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-25 12:42:35.000000000', 'files': ['tools/tox_install.sh'], 'web_link': 'https://opendev.org/openstack/cliff/commit/aed29ee00b4e5b14df1a535e97a5a1bf20d92d0d', 'message': 'Correctly fetch upper constraints from opendev.org\n\ntox_install.sh uses curl w/o -L switch so it fails to account for\nredirects that are now in place for backward compat with\ngit.openstack.org.\n\n-L option added allowing curl to redirect\n\nChange-Id: I05552c957ee6ca2dab73d4e79366c8979392eba0\n'}]",0,655682,aed29ee00b4e5b14df1a535e97a5a1bf20d92d0d,5,3,1,27838,,,0,"Correctly fetch upper constraints from opendev.org

tox_install.sh uses curl w/o -L switch so it fails to account for
redirects that are now in place for backward compat with
git.openstack.org.

-L option added allowing curl to redirect

Change-Id: I05552c957ee6ca2dab73d4e79366c8979392eba0
",git fetch https://review.opendev.org/openstack/cliff refs/changes/82/655682/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tox_install.sh'],1,aed29ee00b4e5b14df1a535e97a5a1bf20d92d0d,upper_const_redirect_stable_pike,"curl ""$CONSTRAINTS_FILE"" -L --insecure --progress-bar --output ""$localfile""","curl ""$CONSTRAINTS_FILE"" --insecure --progress-bar --output ""$localfile""",1,1
openstack%2Fcliff~master~I09aa6a330e988070ad5b3a20b56b1c301386d657,openstack/cliff,master,I09aa6a330e988070ad5b3a20b56b1c301386d657,Switch to stestr,ABANDONED,2018-07-11 04:28:58.000000000,2020-06-09 15:40:22.000000000,,"[{'_account_id': 2}, {'_account_id': 2472}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25903}, {'_account_id': 28956}]","[{'number': 1, 'created': '2018-07-11 04:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/fad4b8ee55498d8327f3ea4b69c6fabe78bad038', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I09aa6a330e988070ad5b3a20b56b1c301386d657\n""}, {'number': 2, 'created': '2018-07-11 06:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/ddd4ab9de0500613c3461cec7bb50c652a47533e', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I09aa6a330e988070ad5b3a20b56b1c301386d657\n""}, {'number': 3, 'created': '2018-07-11 08:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/b964896fc0d9489a804152058c40ded6960efab4', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I09aa6a330e988070ad5b3a20b56b1c301386d657\n""}, {'number': 4, 'created': '2019-05-04 15:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cliff/commit/8034e45aabdcf149bf94f2a84303ea014c9abe3e', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I09aa6a330e988070ad5b3a20b56b1c301386d657\n""}, {'number': 5, 'created': '2019-10-02 15:41:46.000000000', 'files': ['requirements.txt', '.gitignore', 'test-requirements.txt', 'integration-tests/openstackclient-tip.sh', '.testr.conf', 'integration-tests/neutronclient-tip.sh', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cliff/commit/36d7d1cfc5372a1cd557493964cd71b08b478f75', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I09aa6a330e988070ad5b3a20b56b1c301386d657\n""}]",0,581564,36d7d1cfc5372a1cd557493964cd71b08b478f75,27,6,5,25903,,,0,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: I09aa6a330e988070ad5b3a20b56b1c301386d657
",git fetch https://review.opendev.org/openstack/cliff refs/changes/64/581564/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', 'integration-tests/openstackclient-tip.sh', '.testr.conf', 'integration-tests/neutronclient-tip.sh', 'lower-constraints.txt']",6,fad4b8ee55498d8327f3ea4b69c6fabe78bad038,stestr,stestr==2.0.0,testrepository==0.0.18,4,12
