id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fos-net-config~stable%2Frocky~I85fc4a617532bf8ebd19f54dc87f49b5a2e3810f,openstack/os-net-config,stable/rocky,I85fc4a617532bf8ebd19f54dc87f49b5a2e3810f,Add ETHTOOL_OPTS support for LinuxBond class,MERGED,2019-07-24 17:53:59.000000000,2019-07-25 17:37:47.000000000,2019-07-25 17:37:47.000000000,"[{'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25613}]","[{'number': 1, 'created': '2019-07-24 17:53:59.000000000', 'files': ['os_net_config/schema.yaml', 'os_net_config/tests/test_objects.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/objects.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/012f636811f608bde4ca8ce290c46122b983e8de', 'message': 'Add ETHTOOL_OPTS support for LinuxBond class\n\nLinuxBonding accepts ETHTOOL_OPTS.\nThis commit adds ETHTOOL_OPTS support for LinuxBond class.\n\nCloses-bug: 1837764\nChange-Id: I85fc4a617532bf8ebd19f54dc87f49b5a2e3810f\n(cherry picked from commit 35fc5d66ab5e88d5f28d6b6c47b5c4440ca8d089)\n'}]",0,672570,012f636811f608bde4ca8ce290c46122b983e8de,8,6,1,12398,,,0,"Add ETHTOOL_OPTS support for LinuxBond class

LinuxBonding accepts ETHTOOL_OPTS.
This commit adds ETHTOOL_OPTS support for LinuxBond class.

Closes-bug: 1837764
Change-Id: I85fc4a617532bf8ebd19f54dc87f49b5a2e3810f
(cherry picked from commit 35fc5d66ab5e88d5f28d6b6c47b5c4440ca8d089)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/70/672570/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/schema.yaml', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_objects.py', 'os_net_config/objects.py']",4,012f636811f608bde4ca8ce290c46122b983e8de,bug/1837764," domain=None, ethtool_opts=None): self.ethtool_opts = ethtool_opts ethtool_opts = json.get('ethtool_opts', None) domain=domain, ethtool_opts=ethtool_opts)", domain=None): domain=domain),75,12
openstack%2Fos-net-config~stable%2Fstein~I85fc4a617532bf8ebd19f54dc87f49b5a2e3810f,openstack/os-net-config,stable/stein,I85fc4a617532bf8ebd19f54dc87f49b5a2e3810f,Add ETHTOOL_OPTS support for LinuxBond class,MERGED,2019-07-24 17:51:33.000000000,2019-07-25 17:37:47.000000000,2019-07-25 17:37:47.000000000,"[{'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25613}]","[{'number': 1, 'created': '2019-07-24 17:51:33.000000000', 'files': ['os_net_config/schema.yaml', 'os_net_config/tests/test_objects.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/objects.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/3fc167f17d67235023feb87187ed88f75677b744', 'message': 'Add ETHTOOL_OPTS support for LinuxBond class\n\nLinuxBonding accepts ETHTOOL_OPTS.\nThis commit adds ETHTOOL_OPTS support for LinuxBond class.\n\nCloses-bug: 1837764\nChange-Id: I85fc4a617532bf8ebd19f54dc87f49b5a2e3810f\n(cherry picked from commit 35fc5d66ab5e88d5f28d6b6c47b5c4440ca8d089)\n'}]",0,672569,3fc167f17d67235023feb87187ed88f75677b744,10,6,1,12398,,,0,"Add ETHTOOL_OPTS support for LinuxBond class

LinuxBonding accepts ETHTOOL_OPTS.
This commit adds ETHTOOL_OPTS support for LinuxBond class.

Closes-bug: 1837764
Change-Id: I85fc4a617532bf8ebd19f54dc87f49b5a2e3810f
(cherry picked from commit 35fc5d66ab5e88d5f28d6b6c47b5c4440ca8d089)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/69/672569/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/schema.yaml', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_objects.py', 'os_net_config/objects.py']",4,3fc167f17d67235023feb87187ed88f75677b744,bug/1837764," domain=None, ethtool_opts=None): self.ethtool_opts = ethtool_opts ethtool_opts = json.get('ethtool_opts', None) domain=domain, ethtool_opts=ethtool_opts)", domain=None): domain=domain),75,12
openstack%2Fpatrole~stable%2Fstein~I0e7db56bb10b0e390bfd6f7d230a1bfc9faff09f,openstack/patrole,stable/stein,I0e7db56bb10b0e390bfd6f7d230a1bfc9faff09f,Remove .zuul.yaml in stein to fix jobs in master,ABANDONED,2019-07-19 13:56:54.000000000,2019-07-25 17:37:36.000000000,,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 23140}, {'_account_id': 23186}, {'_account_id': 28719}]","[{'number': 1, 'created': '2019-07-19 13:56:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/patrole/commit/980d4c29dee5a5f80fd0cee6afe53471b5d23688', 'message': 'Remove .zuul.yaml in stein to fix jobs in master\n\nZuul jobs in master are failing because Zuul merges the configuration\nof .zuul.yaml in all branches [0]. A change in devstack [1] affected\nthe quoting of variables, resulting in extra quotes around the var\nTEMPEST_PLUGINS. This was fixed in master by moving to a new syntax\nfor selecting tempest plugins [2], but the presence of the old variable\nhere causes conflicts. Removing the file as a workaround until the\nbranch is deleted [3].\n\nReferences:\n[0] https://zuul-ci.org/docs/zuul/user/config.html#configuration-loading\n[1] https://review.opendev.org/636078\n[2] https://review.opendev.org/670229\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007740.html\n\nChange-Id: I0e7db56bb10b0e390bfd6f7d230a1bfc9faff09f\n'}]",0,671732,980d4c29dee5a5f80fd0cee6afe53471b5d23688,7,5,1,28719,,,0,"Remove .zuul.yaml in stein to fix jobs in master

Zuul jobs in master are failing because Zuul merges the configuration
of .zuul.yaml in all branches [0]. A change in devstack [1] affected
the quoting of variables, resulting in extra quotes around the var
TEMPEST_PLUGINS. This was fixed in master by moving to a new syntax
for selecting tempest plugins [2], but the presence of the old variable
here causes conflicts. Removing the file as a workaround until the
branch is deleted [3].

References:
[0] https://zuul-ci.org/docs/zuul/user/config.html#configuration-loading
[1] https://review.opendev.org/636078
[2] https://review.opendev.org/670229
[3] http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007740.html

Change-Id: I0e7db56bb10b0e390bfd6f7d230a1bfc9faff09f
",git fetch https://review.opendev.org/openstack/patrole refs/changes/32/671732/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,980d4c29dee5a5f80fd0cee6afe53471b5d23688,,,"- job: name: patrole-base parent: devstack-tempest description: | Patrole base job for admin and member roles. This job executes RBAC tests for all the ""core"" services that Tempest covers, excluding Swift. required-projects: - name: openstack/tempest - name: openstack/patrole timeout: 7800 roles: - zuul: openstack/devstack # Define common irrelevant files to use everywhere else irrelevant-files: &patrole-irrelevant-files - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.* - ^etc/.*$ - ^patrole_tempest_plugin/tests/unit/.*$ - ^patrole_tempest_plugin/hacking/.*$ - ^releasenotes/.* - ^setup.cfg$ vars: devstack_localrc: TEMPEST_PLUGINS: ""'/opt/stack/patrole'"" devstack_plugins: patrole: git://opendev.org/openstack/patrole.git devstack_services: tempest: true neutron: true neutron-trunk: true tempest_concurrency: 2 tempest_test_regex: (?!.*\[.*\bslow\b.*\])(^patrole_tempest_plugin\.tests\.api) tox_envlist: all tox_extra_args: --sitepackages - job: name: patrole-base-multinode parent: tempest-multinode-full description: |- Patrole base job for multinode and ""slow"" tests where ""slow"" tests include: * Tests that take more than ~30 seconds to run. * Tests that experience spurious failures related to servers, volumes, backups and similar resources failing to build. timeout: 7800 branches: - master required-projects: - openstack/devstack-gate - openstack/tempest - openstack/patrole irrelevant-files: *patrole-irrelevant-files vars: devstack_localrc: TEMPEST_PLUGINS: ""'{{ ansible_user_dir }}/src/opendev.org/openstack/patrole'"" devstack_plugins: patrole: git://opendev.org/openstack/patrole.git devstack_services: tempest: true neutron: true tempest_concurrency: 1 tempest_test_regex: (?=.*\[.*\bslow\b.*\])(^patrole_tempest_plugin\.tests\.api) tox_envlist: all tox_extra_args: --sitepackages - job: name: patrole-admin parent: patrole-base description: Patrole job for admin role. vars: devstack_localrc: RBAC_TEST_ROLES: admin - job: name: patrole-member parent: patrole-base description: Patrole job for member role. # This currently works from stable/pike onward. branches: ^(?!stable/ocata).*$ vars: devstack_localrc: RBAC_TEST_ROLES: member - job: name: patrole-reader parent: patrole-base description: Patrole job for reader role. # This currently works from stable/stein onward. branches: ^(?!stable/(ocata|pike|queens|rocky)).*$ voting: false vars: devstack_localrc: RBAC_TEST_ROLES: reader - job: name: patrole-member-rocky nodeset: openstack-single-node-xenial parent: patrole-member override-checkout: stable/rocky - job: name: patrole-member-queens nodeset: openstack-single-node-xenial parent: patrole-member override-checkout: stable/queens - job: name: patrole-member-pike nodeset: openstack-single-node-xenial parent: patrole-member override-checkout: stable/pike - job: name: patrole-multinode-admin parent: patrole-base-multinode voting: false vars: devstack_localrc: RBAC_TEST_ROLES: admin - job: name: patrole-multinode-member parent: patrole-base-multinode voting: false vars: devstack_localrc: RBAC_TEST_ROLES: member - job: name: patrole-py35-member parent: patrole-base description: Patrole py35 job for member role. vars: devstack_localrc: # Use member for py35 because arguably negative testing is more # important than admin, which is already covered by patrole-admin job. RBAC_TEST_ROLES: member USE_PYTHON3: true devstack_services: s-account: false s-container: false s-object: false s-proxy: false # Without Swift, c-bak cannot run (in the gate at least). c-bak: false - job: name: patrole-extension-base parent: patrole-base description: | Patrole plugin job for admin and member roles which runs RBAC tests for neutron-tempest-plugin APIs (if the plugin is installed). Covers Neutron extension functionality only. Should not be used for supporting Neutron plugins like fwaas. required-projects: - name: openstack/tempest - name: openstack/patrole - name: openstack/neutron-tempest-plugin vars: devstack_localrc: TEMPEST_PLUGINS: ""'/opt/stack/patrole /opt/stack/neutron-tempest-plugin'"" devstack_plugins: neutron: git://opendev.org/openstack/neutron.git patrole: git://opendev.org/openstack/patrole.git neutron-tempest-plugin: git://opendev.org/openstack/neutron-tempest-plugin.git devstack_services: tempest: true neutron: true neutron-segments: true neutron-qos: true tempest_test_regex: (?=.*ExtRbacTest)(^patrole_tempest_plugin\.tests\.api) - job: name: patrole-extension-admin parent: patrole-extension-base voting: false vars: devstack_localrc: RBAC_TEST_ROLES: admin - job: name: patrole-extension-member parent: patrole-extension-base voting: false vars: devstack_localrc: RBAC_TEST_ROLES: member - project: templates: - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python36-jobs - openstack-python37-jobs - openstack-python-jobs - openstack-python35-jobs - check-requirements - publish-openstack-docs-pti - release-notes-jobs-python3 check: jobs: - patrole-admin - patrole-member - patrole-reader - patrole-member-rocky - patrole-member-queens - patrole-member-pike - patrole-py35-member - patrole-multinode-admin - patrole-multinode-member - patrole-extension-admin - patrole-extension-member gate: jobs: - patrole-admin - patrole-member periodic-stable: jobs: - patrole-member-rocky - patrole-member-queens - patrole-member-pike ",0,223
openstack%2Ftripleo-heat-templates~master~I9e13491b6f86143f507d2b56fa1eed83204418d0,openstack/tripleo-heat-templates,master,I9e13491b6f86143f507d2b56fa1eed83204418d0,Fix resume_guests_state_on_host_boot_enabled fact,MERGED,2019-07-24 13:28:48.000000000,2019-07-25 17:32:43.000000000,2019-07-25 17:32:43.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-24 13:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18b3014e27dfabd959567aaa04285f922e235918', 'message': 'Fix resume_guests_state_on_host_boot_enabled fact\n\nNovaResumeGuestsStateOnHostBoot is a role parameter so we\nneed to get the value from there.\n\nChange-Id: I9e13491b6f86143f507d2b56fa1eed83204418d0\nCloses-Bug: 1837731\n'}, {'number': 2, 'created': '2019-07-24 13:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94dc62f742ece27aa1b7ee8f124eacf1020bf68c', 'message': 'Fix resume_guests_state_on_host_boot_enabled fact\n\nNovaResumeGuestsStateOnHostBoot is a role parameter so we\nneed to get the value from there.\n\nChange-Id: I9e13491b6f86143f507d2b56fa1eed83204418d0\nCloses-Bug: 1837731\n'}, {'number': 3, 'created': '2019-07-24 13:40:37.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/835dcd56c95c304830ed14c8393a99ce2881ed5e', 'message': 'Fix resume_guests_state_on_host_boot_enabled fact\n\nNovaResumeGuestsStateOnHostBoot is a role parameter so we\nneed to get the value from there.\n\nChange-Id: I9e13491b6f86143f507d2b56fa1eed83204418d0\nCloses-Bug: 1837731\n'}]",0,672521,835dcd56c95c304830ed14c8393a99ce2881ed5e,15,8,3,17216,,,0,"Fix resume_guests_state_on_host_boot_enabled fact

NovaResumeGuestsStateOnHostBoot is a role parameter so we
need to get the value from there.

Change-Id: I9e13491b6f86143f507d2b56fa1eed83204418d0
Closes-Bug: 1837731
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/672521/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,18b3014e27dfabd959567aaa04285f922e235918,bug/1837731," resume_guests_state_on_host_boot_enabled: {get_attr: [RoleParametersValue, value, nova::compute::resume_guests_state_on_host_boot]}", resume_guests_state_on_host_boot_enabled: {get_param: NovaResumeGuestsStateOnHostBoot},1,1
openstack%2Fkeystone~master~I26ee11571b6d0f700a5fe3a62ad2e8fc7f5316fe,openstack/keystone,master,I26ee11571b6d0f700a5fe3a62ad2e8fc7f5316fe,implement system scope for application credential,MERGED,2019-07-15 23:58:39.000000000,2019-07-25 17:27:26.000000000,2019-07-25 17:27:26.000000000,"[{'_account_id': 1916}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-07-15 23:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7b4edad5692bdcc76fa040c58201b2b7148df8d9', 'message': 'implement system scope for application credential\n\nChange-Id: I26ee11571b6d0f700a5fe3a62ad2e8fc7f5316fe\nCloses-Bug: 1818725\n'}, {'number': 2, 'created': '2019-07-16 07:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b92060e9f93fb971d1b621836d1ff64d51080765', 'message': ""implement system scope for application credential\n\nImplement system scopes, namely 'admin', 'reader', and 'member' for\nthe application credential API. Thus, making it consistent with other\nsystem-scoped policy definitions.\n\nFor the application credential API, the follow policies will be enforced:\n\n- system admin can fetch, list, lookup, and delete user's application\n  credentials.\n- system member and reader can only fetch, list, and lookup user's application\n  credentials. Deleting a user's application credential other their own is\n  strictly prohibitted.\n- domain and project admins can no longer touch user's application credentials\n  other their own.\n- create an application credential can only be done by the owner. No one else\n  can create an application credential on behalf of another user.\n\nTest cases are added to guard the above policy changes.\n\nChange-Id: I26ee11571b6d0f700a5fe3a62ad2e8fc7f5316fe\nCloses-Bug: 1818725\n""}, {'number': 3, 'created': '2019-07-17 00:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/49a5a5f2349cfc4f8572cff095ff9d76240be9ef', 'message': ""implement system scope for application credential\n\nImplement system scopes, namely 'admin', 'reader', and 'member' for\nthe application credential API. Thus, making it consistent with other\nsystem-scoped policy definitions.\n\nFor the application credential API, the follow policies will be enforced:\n\n- system admin can fetch, list, lookup, and delete user's application\n  credentials.\n- system member and reader can only fetch, list, and lookup user's application\n  credentials. Deleting a user's application credential other their own is\n  strictly prohibitted.\n- domain and project admins can no longer touch user's application credentials\n  other their own.\n- create an application credential can only be done by the owner. No one else\n  can create an application credential on behalf of another user.\n\nTest cases are added to guard the above policy changes.\n\nChange-Id: I26ee11571b6d0f700a5fe3a62ad2e8fc7f5316fe\nCloses-Bug: 1818725\nCloses-Bug: 1750615\n""}, {'number': 4, 'created': '2019-07-17 17:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ca73912fb93d30eae8b4bde4a21b33e0fca52fc1', 'message': ""implement system scope for application credential\n\nImplement system scopes, namely 'admin', 'reader', and 'member' for\nthe application credential API. Thus, making it consistent with other\nsystem-scoped policy definitions.\n\nFor the application credential API, the follow policies will be enforced:\n\n- system admin can fetch, list, lookup, and delete user's application\n  credentials.\n- system member and reader can only fetch, list, and lookup user's application\n  credentials. Deleting a user's application credential other their own is\n  strictly prohibitted.\n- domain and project admins can no longer touch user's application credentials\n  other their own.\n- create an application credential can only be done by the owner. No one else\n  can create an application credential on behalf of another user.\n\nTest cases are added to guard the above policy changes.\n\nChange-Id: I26ee11571b6d0f700a5fe3a62ad2e8fc7f5316fe\nCloses-Bug: 1818725\nCloses-Bug: 1750615\n""}, {'number': 5, 'created': '2019-07-19 00:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a6eee5bf28917250c2a89507d7f48a8d4cd80d1d', 'message': ""implement system scope for application credential\n\nImplement system scopes, namely 'admin', 'reader', and 'member' for\nthe application credential API. Thus, making it consistent with other\nsystem-scoped policy definitions.\n\nFor the application credential API, the follow policies will be enforced:\n\n- system admin can fetch, list, lookup, and delete user's application\n  credentials.\n- system member and reader can only fetch, list, and lookup user's application\n  credentials. Deleting a user's application credential other their own is\n  strictly prohibitted.\n- domain and project admins can no longer touch user's application credentials\n  other their own.\n- domain and project readers cannot touch user's application credentials\n  other their own.\n- domain and project members cannot touch user's application credentials\n  other their own.\n- create an application credential can only be done by the owner. No one else\n  can create an application credential on behalf of another user.\n\nTest cases are added to guard the above policy changes.\n\nChange-Id: I26ee11571b6d0f700a5fe3a62ad2e8fc7f5316fe\nCloses-Bug: 1818725\nCloses-Bug: 1750615\n""}, {'number': 6, 'created': '2019-07-20 00:53:26.000000000', 'files': ['releasenotes/notes/bug-1818725-96d698e22e648764.yaml', 'keystone/common/policies/application_credential.py', 'keystone/common/policies/base.py', 'keystone/tests/unit/core.py', 'keystone/tests/unit/protection/v3/test_application_credential.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/52da4d0e129048d1b808bdde07364cde698cf475', 'message': ""implement system scope for application credential\n\nImplement system scopes, namely 'admin', 'reader', and 'member' for\nthe application credential API. Thus, making it consistent with other\nsystem-scoped policy definitions.\n\nFor the application credential API, the follow policies will be enforced:\n\n- system admin can fetch, list, lookup, and delete user's application\n  credentials.\n- system member and reader can only fetch, list, and lookup user's application\n  credentials. Deleting a user's application credential other their own is\n  strictly prohibitted.\n- domain and project admins can no longer touch user's application credentials\n  other their own.\n- domain and project readers cannot touch user's application credentials\n  other their own.\n- domain and project members cannot touch user's application credentials\n  other their own.\n- create an application credential can only be done by the owner. No one else\n  can create an application credential on behalf of another user.\n\nTest cases are added to guard the above policy changes.\n\nChange-Id: I26ee11571b6d0f700a5fe3a62ad2e8fc7f5316fe\nCloses-Bug: 1818725\nCloses-Bug: 1750615\n""}]",57,670926,52da4d0e129048d1b808bdde07364cde698cf475,35,5,6,1916,,,0,"implement system scope for application credential

Implement system scopes, namely 'admin', 'reader', and 'member' for
the application credential API. Thus, making it consistent with other
system-scoped policy definitions.

For the application credential API, the follow policies will be enforced:

- system admin can fetch, list, lookup, and delete user's application
  credentials.
- system member and reader can only fetch, list, and lookup user's application
  credentials. Deleting a user's application credential other their own is
  strictly prohibitted.
- domain and project admins can no longer touch user's application credentials
  other their own.
- domain and project readers cannot touch user's application credentials
  other their own.
- domain and project members cannot touch user's application credentials
  other their own.
- create an application credential can only be done by the owner. No one else
  can create an application credential on behalf of another user.

Test cases are added to guard the above policy changes.

Change-Id: I26ee11571b6d0f700a5fe3a62ad2e8fc7f5316fe
Closes-Bug: 1818725
Closes-Bug: 1750615
",git fetch https://review.opendev.org/openstack/keystone refs/changes/26/670926/6 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/policies/application_credential.py', 'keystone/common/policies/base.py', 'keystone/tests/unit/core.py', 'keystone/tests/unit/protection/v3/test_application_credential.py']",4,7b4edad5692bdcc76fa040c58201b2b7148df8d9,bug/1818725,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import uuid from oslo_serialization import jsonutils from six.moves import http_client from keystone.common.policies import project as pp from keystone.common import provider_api import keystone.conf from keystone.tests.common import auth as common_auth from keystone.tests import unit from keystone.tests.unit import base_classes from keystone.tests.unit import ksfixtures from keystone.tests.unit.ksfixtures import temporaryfile CONF = keystone.conf.CONF PROVIDERS = provider_api.ProviderAPIs class _TestCaseWithBootstrapAppCred(base_classes.TestCaseWithBootstrap): """"""bootstrap with an application credential for testing"""""" def setUp(self): super(_TestCaseWithBootstrapAppCred, self).setUp() # bootstrap a user with app credential new_user_ref = unit.new_user_ref( domain_id=CONF.identity.default_domain_id ) app_cred_user_ref = PROVIDERS.identity_api.create_user( new_user_ref ) self.app_cred_user_id = app_cred_user_ref['id'] self.app_cred_user_password = new_user_ref['password'] app_cred_project_ref = PROVIDERS.resource_api.create_project( uuid.uuid4().hex, unit.new_project_ref(domain_id=CONF.identity.default_domain_id) ) self.app_cred_project_id = app_cred_project_ref['id'] PROVIDERS.assignment_api.create_grant( self.bootstrapper.member_role_id, user_id=self.app_cred_user_id, project_id=app_cred_project_ref['id'] ) self.app_cred_user_token = None def _auth_app_cred_user(self): if not self.app_cred_user_token: # auth as app credential test user and create an app credential auth = self.build_authentication_request( user_id=self.app_cred_user_id, password=self.app_cred_user_password, project_id=self.app_cred_project_id ) with self.test_client() as c: r = c.post('/v3/auth/tokens', json=auth) self.app_cred_user_token = r.headers['X-Subject-Token'] def _create_application_credential(self): self._auth_app_cred_user() app_cred_body = { 'application_credential': unit.new_application_credential_ref() } with self.test_client() as c: r = c.post( '/v3/users/%s/application_credentials' % self.app_cred_user_id, json=app_cred_body, expected_status_code=http_client.CREATED, headers={'X-Auth-Token': self.app_cred_user_token}) return r.json['application_credential'] class _SystemUserTests(object): """"""Common default functionality for all system users."""""" def test_user_can_list_application_credentials(self): # create a couple of application credentials self._create_application_credential() self._create_application_credential() with self.test_client() as c: r = c.get('/v3/users/%s/application_credentials' % ( self.app_cred_user_id), headers=self.headers) self.assertEqual(2, len(r.json['application_credentials'])) def test_user_can_get_application_credential(self): app_cred = self._create_application_credential() with self.test_client() as c: r = c.get('/v3/users/%s/application_credentials/%s' % ( self.app_cred_user_id, app_cred['id']), headers=self.headers) actual_app_cred = r.json['application_credential'] self.assertEqual(app_cred['id'], actual_app_cred['id']) def test_user_can_lookup_application_credential(self): app_cred = self._create_application_credential() with self.test_client() as c: r = c.get('/v3/users/%s/application_credentials?name=%s' % ( self.app_cred_user_id, app_cred['name']), headers=self.headers) self.assertEqual(1, len(r.json['application_credentials'])) actual_app_cred = r.json['application_credentials'][0] self.assertEqual(app_cred['id'], actual_app_cred['id']) def test_user_cannot_create_app_credential_for_another_user(self): # make sure we are not operating under the same user self.assertNotEqual(self.user_id, self.app_cred_user_id) app_cred_body = { 'application_credential': unit.new_application_credential_ref( roles=[{'id': self.bootstrapper.member_role_id}]) } with self.test_client() as c: r = c.post( '/v3/users/%s/application_credentials' % self.app_cred_user_id, json=app_cred_body, expected_status_code=http_client.FORBIDDEN, headers=self.headers) def _test_delete_application_credential( self, expected_status_code=http_client.NO_CONTENT): app_cred = self._create_application_credential() with self.test_client() as c: r = c.delete('/v3/users/%s/application_credentials/%s' % ( self.app_cred_user_id, app_cred['id']), expected_status_code=expected_status_code, headers=self.headers) class SystemReaderTests(_TestCaseWithBootstrapAppCred, common_auth.AuthTestMixin, _SystemUserTests): def setUp(self): super(SystemReaderTests, self).setUp() self.loadapp() self.useFixture(ksfixtures.Policy(self.config_fixture)) self.config_fixture.config(group='oslo_policy', enforce_scope=True) system_reader = unit.new_user_ref( domain_id=CONF.identity.default_domain_id ) self.user_id = PROVIDERS.identity_api.create_user( system_reader )['id'] PROVIDERS.assignment_api.create_system_grant_for_user( self.user_id, self.bootstrapper.reader_role_id ) auth = self.build_authentication_request( user_id=self.user_id, password=system_reader['password'], system=True ) # Grab a token using the persona we're testing and prepare headers # for requests we'll be making in the tests. with self.test_client() as c: r = c.post('/v3/auth/tokens', json=auth) self.token_id = r.headers['X-Subject-Token'] self.headers = {'X-Auth-Token': self.token_id} def test_system_reader_cannot_delete_application_credential_for_user(self): self._test_delete_application_credential( expected_status_code=http_client.FORBIDDEN) class SystemAdminTests(_TestCaseWithBootstrapAppCred, common_auth.AuthTestMixin, _SystemUserTests): def setUp(self): super(SystemAdminTests, self).setUp() self.loadapp() self.useFixture(ksfixtures.Policy(self.config_fixture)) self.config_fixture.config(group='oslo_policy', enforce_scope=True) self.user_id = self.bootstrapper.admin_user_id auth = self.build_authentication_request( user_id=self.user_id, password=self.bootstrapper.admin_password, system=True ) # Grab a token using the persona we're testing and prepare headers # for requests we'll be making in the tests. with self.test_client() as c: r = c.post('/v3/auth/tokens', json=auth) self.token_id = r.headers['X-Subject-Token'] self.headers = {'X-Auth-Token': self.token_id} def test_system_admin_can_delete_application_credential_for_user(self): self._test_delete_application_credential() ",,298,11
openstack%2Fneutron~master~Icc80f1befd9073f1e2be4687e9819a2f7db1a63b,openstack/neutron,master,Icc80f1befd9073f1e2be4687e9819a2f7db1a63b,[FUP] Add functional test for IPDevice link attributes,MERGED,2019-07-24 08:29:56.000000000,2019-07-25 17:27:24.000000000,2019-07-25 17:27:23.000000000,"[{'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 12171}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-07-24 08:29:56.000000000', 'files': ['neutron/tests/functional/privileged/agent/linux/test_ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8cc31d5342fb85bf65e38865c7f3cc98f4b52f7', 'message': '[FUP] Add functional test for IPDevice link attributes\n\nThe test retrieves the link attributes and ensures\ndesired attributes are present.\n\nChange-Id: Icc80f1befd9073f1e2be4687e9819a2f7db1a63b\n'}]",0,672465,b8cc31d5342fb85bf65e38865c7f3cc98f4b52f7,15,8,1,28714,,,0,"[FUP] Add functional test for IPDevice link attributes

The test retrieves the link attributes and ensures
desired attributes are present.

Change-Id: Icc80f1befd9073f1e2be4687e9819a2f7db1a63b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/672465/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/privileged/agent/linux/test_ip_lib.py'],1,b8cc31d5342fb85bf65e38865c7f3cc98f4b52f7,interface-kind-property," def test_get_link_attributes(self): expected_attr = ['mtu', 'qlen', 'state', 'qdisc', 'brd', 'link/ether', 'alias', 'allmulticast', 'link_kind'] attr = self.device.link.attributes self.assertSetEqual(set(expected_attr), set(attr.keys()))",,6,0
openstack%2Fneutron~master~Icbdb011a639475f416ca1b98fdf3ce2f52482c7c,openstack/neutron,master,Icbdb011a639475f416ca1b98fdf3ce2f52482c7c,Add interface kind property,MERGED,2019-07-14 13:25:38.000000000,2019-07-25 17:27:21.000000000,2019-07-25 17:27:20.000000000,"[{'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 12171}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-07-14 13:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ba8d2fd86711730261d4776d995fe8651d431660', 'message': '[POC][DNM] Add interface kind property\n\n- Add a new propery to LinuxInterfaceDriver that allows\n  to query the kind of interface created during plug()\n\n- Add a new property to IPDevice to allow us to identify\n  the kind of the interface.\n\nThis change is required as an out of tree interface driver\nwhich supports operations on a per-physnet basis\nneeds to be aware of the kind of interface an interface driver\ncreates in order to correlate between an interface driver\nand an interface created by it.\n\nTODO: add unit test\n\nChange-Id: Icbdb011a639475f416ca1b98fdf3ce2f52482c7c\nPartial-Bug: #1834176\n'}, {'number': 2, 'created': '2019-07-15 10:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99e2496673e8eb7103b1fee1d9d0abb56327ac47', 'message': '[POC][DNM] Add interface kind property\n\n- Add a new property to IPDevice to allow us to identify\n  the kind of the interface.\n\nThis change is required as an out of tree interface driver\nwhich supports operations on a per-physnet basis\nneeds to be aware of the kind of interface an interface driver\ncreated in order to correlate between an interface driver\nand an interface created by it.\n\nTODO: add unit test\n\nChange-Id: Icbdb011a639475f416ca1b98fdf3ce2f52482c7c\nPartial-Bug: #1834176\n'}, {'number': 3, 'created': '2019-07-21 13:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac5d4708f2026e3b8382f493fbfdb8e869da9efc', 'message': 'Add interface kind property\n\n- Add a new property to IPDevice to allow us to identify\n  the kind of the interface.\n\nThis change is required as an out of tree interface driver\nwhich supports operations on a per-physnet basis\nneeds to be aware of the kind of interface an interface driver\ncreated in order to correlate between an interface driver\nand an interface created by it.\n\nChange-Id: Icbdb011a639475f416ca1b98fdf3ce2f52482c7c\nPartial-Bug: #1834176\n'}, {'number': 4, 'created': '2019-07-21 14:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c91b76c83cc7b3f2df0ef8d4f93ed93eeee41ef', 'message': 'Add interface kind property\n\n- Add a new property to IPDevice to allow us to identify\n  the kind of the interface.\n\nThis change is required as an out of tree interface driver\nwhich supports operations on a per-physnet basis\nneeds to be aware of the kind of interface an interface driver\ncreated in order to correlate between an interface driver\nand an interface created by it.\n\nChange-Id: Icbdb011a639475f416ca1b98fdf3ce2f52482c7c\nPartial-Bug: #1834176\n'}, {'number': 5, 'created': '2019-07-23 11:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/459bd946ce50e96f8e19702a105bc8558f742f37', 'message': 'Add interface kind property\n\n- Add a new property to IPDevice to allow us to identify\n  the kind of the interface.\n\nThis change is required as an out of tree interface driver\nwhich supports operations on a per-physnet basis\nneeds to be aware of the kind of interface an interface driver\ncreated in order to correlate between an interface driver\nand an interface created by it.\n\nChange-Id: Icbdb011a639475f416ca1b98fdf3ce2f52482c7c\nPartial-Bug: #1834176\n'}, {'number': 6, 'created': '2019-07-23 15:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/09c6c89ed5ad69c572650cba41188621de65b27a', 'message': 'Add interface kind property\n\n- Add a new property to IPDevice to allow us to identify\n  the kind of the interface.\n\nThis change is required as an out of tree interface driver\nwhich supports operations on a per-physnet basis\nneeds to be aware of the kind of interface an interface driver\ncreated in order to correlate between an interface driver\nand an interface created by it.\n\nChange-Id: Icbdb011a639475f416ca1b98fdf3ce2f52482c7c\nPartial-Bug: #1834176\n'}, {'number': 7, 'created': '2019-07-24 08:29:56.000000000', 'files': ['neutron/agent/linux/ip_lib.py', 'neutron/tests/functional/privileged/agent/linux/test_ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b51ba4b28349e7a1943bec4a2f567dbd7b8a55a9', 'message': 'Add interface kind property\n\n- Add a new property to IPDevice to allow us to identify\n  the kind of the interface.\n\nThis change is required as an out of tree interface driver\nwhich supports operations on a per-physnet basis\nneeds to be aware of the kind of interface an interface driver\ncreated in order to correlate between an interface driver\nand an interface created by it.\n\nChange-Id: Icbdb011a639475f416ca1b98fdf3ce2f52482c7c\nPartial-Bug: #1834176\n'}]",26,670721,b51ba4b28349e7a1943bec4a2f567dbd7b8a55a9,43,8,7,28714,,,0,"Add interface kind property

- Add a new property to IPDevice to allow us to identify
  the kind of the interface.

This change is required as an out of tree interface driver
which supports operations on a per-physnet basis
needs to be aware of the kind of interface an interface driver
created in order to correlate between an interface driver
and an interface created by it.

Change-Id: Icbdb011a639475f416ca1b98fdf3ce2f52482c7c
Partial-Bug: #1834176
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/670721/7 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/interface.py', 'neutron/agent/linux/ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py']",3,ba8d2fd86711730261d4776d995fe8651d431660,interface-kind-property," 'allmulticast': bool(link['flags'] & ifinfmsg.IFF_ALLMULTI), 'kind': link.get_nested('IFLA_LINKINFO', 'IFLA_INFO_KIND')", 'allmulticast': bool(link['flags'] & ifinfmsg.IFF_ALLMULTI),22,1
openstack%2Fnova~master~I7d761dc269f8c12c4a76ba14201ccdd82a04d01d,openstack/nova,master,I7d761dc269f8c12c4a76ba14201ccdd82a04d01d,"Revert ""[libvirt] Filter hypervisor_type by virt_type""",MERGED,2019-07-24 16:22:52.000000000,2019-07-25 17:24:56.000000000,2019-07-25 14:01:04.000000000,"[{'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 21030}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-24 16:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81a82d9d8036a324e879e0805af4564722ee1e00', 'message': 'Revert ""[libvirt] Filter hypervisor_type by virt_type""\n\nThis reverts commit eaa766ee2093c24fd61c61e52f46bdd9ff9e93d2.\n\nThe change regressed the behavior of the ImagePropertiesFilter\nbecause existing images with hypervisor_type=QEMU, which would\nmatch what is reported for hypervisor_type in the API for both\nqemu/kvm virt_type nodes, will now get filtered out for hosts\nwhere the configured virt_type is kvm.\n\nNote that both the ImagePropertiesFilter docs [1] and\nhypervisor_type image property docs [2] mention that for both\nqemu and kvm nodes the value to use is qemu since that is the\nactual hypervisor.\n\nPresumably the change was made for a deployment with some\nhosts configured with virt_type=qemu and other hosts configured\nwith virt_type=kvm and there were separate images with\nhypervisor_type=qemu and hypervisor_type=kvm to match those hosts\nfor scheduler filter, but as noted this was a regression in\nbehavior for something that could have been achieved using\nhost aggregates and the AggregateImagePropertiesIsolation filter.\n\nWe could even use traits and a placement request pre-filter these\ndays for a more modern approach.\n\nAlso, since the API continues to report hypervisor_type=QEMU it\'s\ndoubly confusing for operators to have to configure their images\nto use hypervisor_type=kvm (despite the docs).\n\nAnd finally, any existing instances which have hypervisor_type=qemu\nembedded in their RequestSpec can no longer be migrated to kvm\nhosts without manually fixing the entries in the request_specs\ntable in the API DB.\n\n[1] https://docs.openstack.org/nova/latest/admin/configuration/schedulers.html#imagepropertiesfilter\n[2] https://docs.openstack.org/glance/latest/admin/useful-image-properties.html\n\nChange-Id: I7d761dc269f8c12c4a76ba14201ccdd82a04d01d\nCloses-Bug: #1837756\n'}, {'number': 2, 'created': '2019-07-24 16:28:34.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/743dc083bb5628554d9abfa82665738233ed47e9', 'message': 'Revert ""[libvirt] Filter hypervisor_type by virt_type""\n\nThis reverts commit eaa766ee2093c24fd61c61e52f46bdd9ff9e93d2.\n\nThe change regressed the behavior of the ImagePropertiesFilter\nbecause existing images with hypervisor_type=QEMU, which would\nmatch what is reported for hypervisor_type in the API for both\nqemu/kvm virt_type nodes, will now get filtered out for hosts\nwhere the configured virt_type is kvm.\n\nNote that both the ImagePropertiesFilter docs [1] and\nhypervisor_type image property docs [2] mention that for both\nqemu and kvm nodes the value to use is qemu since that is the\nactual hypervisor.\n\nPresumably the change was made for a deployment with some\nhosts configured with virt_type=qemu and other hosts configured\nwith virt_type=kvm and there were separate images with\nhypervisor_type=qemu and hypervisor_type=kvm to match those hosts\nfor scheduler filter, but as noted this was a regression in\nbehavior for something that could have been achieved using\nhost aggregates and the AggregateImagePropertiesIsolation filter.\n\nWe could even use traits and a placement request pre-filter these\ndays for a more modern approach.\n\nAlso, since the API continues to report hypervisor_type=QEMU it\'s\ndoubly confusing for operators to have to configure their images\nto use hypervisor_type=kvm (despite the docs).\n\nAnd finally, any existing instances which have hypervisor_type=qemu\nembedded in their RequestSpec can no longer be migrated to kvm\nhosts without manually fixing the entries in the request_specs\ntable in the API DB.\n\nNote that this is not a clean revert because of change\nI5d95bd50279a6bf903a5793ad5f3ae9d06f085f4 made in Stein.\n\n[1] https://docs.openstack.org/nova/latest/admin/configuration/schedulers.html#imagepropertiesfilter\n[2] https://docs.openstack.org/glance/latest/admin/useful-image-properties.html\n\nChange-Id: I7d761dc269f8c12c4a76ba14201ccdd82a04d01d\nCloses-Bug: #1837756\n'}]",0,672559,743dc083bb5628554d9abfa82665738233ed47e9,21,24,2,6873,,,0,"Revert ""[libvirt] Filter hypervisor_type by virt_type""

This reverts commit eaa766ee2093c24fd61c61e52f46bdd9ff9e93d2.

The change regressed the behavior of the ImagePropertiesFilter
because existing images with hypervisor_type=QEMU, which would
match what is reported for hypervisor_type in the API for both
qemu/kvm virt_type nodes, will now get filtered out for hosts
where the configured virt_type is kvm.

Note that both the ImagePropertiesFilter docs [1] and
hypervisor_type image property docs [2] mention that for both
qemu and kvm nodes the value to use is qemu since that is the
actual hypervisor.

Presumably the change was made for a deployment with some
hosts configured with virt_type=qemu and other hosts configured
with virt_type=kvm and there were separate images with
hypervisor_type=qemu and hypervisor_type=kvm to match those hosts
for scheduler filter, but as noted this was a regression in
behavior for something that could have been achieved using
host aggregates and the AggregateImagePropertiesIsolation filter.

We could even use traits and a placement request pre-filter these
days for a more modern approach.

Also, since the API continues to report hypervisor_type=QEMU it's
doubly confusing for operators to have to configure their images
to use hypervisor_type=kvm (despite the docs).

And finally, any existing instances which have hypervisor_type=qemu
embedded in their RequestSpec can no longer be migrated to kvm
hosts without manually fixing the entries in the request_specs
table in the API DB.

Note that this is not a clean revert because of change
I5d95bd50279a6bf903a5793ad5f3ae9d06f085f4 made in Stein.

[1] https://docs.openstack.org/nova/latest/admin/configuration/schedulers.html#imagepropertiesfilter
[2] https://docs.openstack.org/glance/latest/admin/useful-image-properties.html

Change-Id: I7d761dc269f8c12c4a76ba14201ccdd82a04d01d
Closes-Bug: #1837756
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/672559/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,81a82d9d8036a324e879e0805af4564722ee1e00,bug/1195361," def test_get_instance_capabilities(self): want = [(fields.Architecture.X86_64, 'kvm', 'hvm'), (fields.Architecture.X86_64, 'qemu', 'hvm'), (fields.Architecture.I686, 'kvm', 'hvm')]"," def _test_get_instance_capabilities(self, want): '''Base test for 'get_capabilities' function. ''' def test_get_instance_capabilities_kvm(self): self.flags(virt_type='kvm', group='libvirt') # Because virt_type is set to kvm, we get only # capabilities where the hypervisor_type is kvm want = [(fields.Architecture.X86_64, 'kvm', 'hvm'), (fields.Architecture.I686, 'kvm', 'hvm')] self._test_get_instance_capabilities(want) def test_get_instance_capabilities_qemu(self): self.flags(virt_type='qemu', group='libvirt') # Because virt_type is set to qemu, we get only # capabilities where the hypervisor_type is qemu want = [(fields.Architecture.X86_64, 'qemu', 'hvm')] self._test_get_instance_capabilities(want) ",4,26
openstack%2Fnova-specs~master~I48c7ddab4dae201530231d9061f2ade0aa600c07,openstack/nova-specs,master,I48c7ddab4dae201530231d9061f2ade0aa600c07,Boot a VM with an unaddressed port,MERGED,2019-03-07 13:55:07.000000000,2019-07-25 17:09:47.000000000,2019-07-23 13:46:37.000000000,"[{'_account_id': 1131}, {'_account_id': 6873}, {'_account_id': 9373}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 25733}]","[{'number': 1, 'created': '2019-03-07 13:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a3374e2202f4e8c3aa0d741c811a4e3404e09aae', 'message': ""Boot a VM with an unaddressed port\n\nCurrently Nova only allows to boot a VM if all ports attached:\n- Have an IP assigned.\n- The IP allocation is deferred.\n\nBut Nova doesn't allow to spawn a VM with a port without an IP assigned.\nHowever, some kind of applications (e.g.: routers) need a port which may\nbe receiving traffic for several addresses, already configured in other\ndevices.\n\nAt the moment, Neutron permits to create a port, assigned to a network\nwith the corresponding subnetworks and IP pools, without an IP.\n\nbp boot-vm-with-unaddressed-port\n\nChange-Id: I48c7ddab4dae201530231d9061f2ade0aa600c07\n""}, {'number': 2, 'created': '2019-03-07 14:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/63c0f3f0e3dad7657d37e93b65bd228f2af64390', 'message': ""Boot a VM with an unaddressed port\n\nCurrently Nova only allows to boot a VM if all ports attached:\n- Have an IP assigned.\n- The IP allocation is deferred.\n\nBut Nova doesn't allow to spawn a VM with a port without an IP assigned.\nHowever, some kind of applications (e.g.: routers) need a port which may\nbe receiving traffic for several addresses, already configured in other\ndevices.\n\nAt the moment, Neutron permits to create a port, assigned to a network\nwith the corresponding subnetworks and IP pools, without an IP.\n\nbp boot-vm-with-unaddressed-port\n\nChange-Id: I48c7ddab4dae201530231d9061f2ade0aa600c07\n""}, {'number': 3, 'created': '2019-07-04 13:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/dd2a9b9f325733dc0059bd3b3045f7672e543722', 'message': ""Boot a VM with an unaddressed port\n\nCurrently Nova only allows to boot a VM if all ports attached:\n- Have an IP assigned.\n- The IP allocation is deferred.\n\nBut Nova doesn't allow to spawn a VM with a port without an IP assigned.\nHowever, some kind of applications (e.g.: routers) need a port which may\nbe receiving traffic for several addresses, already configured in other\ndevices.\n\nAt the moment, Neutron permits to create a port, assigned to a network\nwith the corresponding subnetworks and IP pools, without an IP.\n\nbp boot-vm-with-unaddressed-port\n\nChange-Id: I48c7ddab4dae201530231d9061f2ade0aa600c07\n""}, {'number': 4, 'created': '2019-07-05 14:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/cc2e415a6afa01ae83312555e5e443dc1991a4f3', 'message': ""Boot a VM with an unaddressed port\n\nCurrently Nova only allows to boot a VM if all ports attached:\n- Have an IP assigned.\n- The IP allocation is deferred.\n\nBut Nova doesn't allow to spawn a VM with a port without an IP assigned.\nHowever, some kind of applications (e.g.: routers) need a port which may\nbe receiving traffic for several addresses, already configured in other\ndevices.\n\nAt the moment, Neutron permits to create a port, assigned to a network\nwith the corresponding subnetworks and IP pools, without an IP.\n\nbp boot-vm-with-unaddressed-port\n\nChange-Id: I48c7ddab4dae201530231d9061f2ade0aa600c07\n""}, {'number': 5, 'created': '2019-07-17 14:12:49.000000000', 'files': ['specs/train/approved/vm-boot-with-unaddressed-port.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8c4ba3b53d35833fa2c93df23b112ed73a97725a', 'message': ""Boot a VM with an unaddressed port\n\nCurrently Nova only allows to boot a VM if all ports attached:\n- Have an IP assigned.\n- The IP allocation is deferred.\n\nBut Nova doesn't allow to spawn a VM with a port without an IP assigned.\nHowever, some kind of applications (e.g.: routers) need a port which may\nbe receiving traffic for several addresses, already configured in other\ndevices.\n\nAt the moment, Neutron permits to create a port, assigned to a network\nwith the corresponding subnetworks and IP pools, without an IP.\n\nbp boot-vm-with-unaddressed-port\n\nChange-Id: I48c7ddab4dae201530231d9061f2ade0aa600c07\n""}]",88,641670,8c4ba3b53d35833fa2c93df23b112ed73a97725a,34,10,5,16688,,,0,"Boot a VM with an unaddressed port

Currently Nova only allows to boot a VM if all ports attached:
- Have an IP assigned.
- The IP allocation is deferred.

But Nova doesn't allow to spawn a VM with a port without an IP assigned.
However, some kind of applications (e.g.: routers) need a port which may
be receiving traffic for several addresses, already configured in other
devices.

At the moment, Neutron permits to create a port, assigned to a network
with the corresponding subnetworks and IP pools, without an IP.

bp boot-vm-with-unaddressed-port

Change-Id: I48c7ddab4dae201530231d9061f2ade0aa600c07
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/70/641670/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/vm-boot-with-unaddressed-port.rst'],1,a3374e2202f4e8c3aa0d741c811a4e3404e09aae,bp/boot-vm-with-unaddressed-port,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================== Boot a VM with an unaddressed port ================================== https://blueprints.launchpad.net/nova/+spec/boot-vm-with-unaddressed-port This blueprint aims to allow a VM to boot with an attached port without any IP assigned. Problem description =================== Currently Neutron permits to create a port, assigned to a network with the corresponding subnetworks and IP pools, without an IP address assigned. However Nova only allows to create a VM with a port without an IP only if this address assignation is deferred; that means that the port is expected to have an IP address but Neutron deferred the IP allocation until the host to which the port will be bound is populated. However, there some network applications (e.g.: routers) often forward traffic that is not intended for them. Those applications have an interface without a primary L3 address which may be receiving traffic for so many disparate address that configuring all of them in Neutron is a point less burden. Use Cases --------- A typical use case is when a user wishes to deploy a VM which accepts traffic that is neither IPv4 nor IPv6 in nature. For example, a CMTS (Cable Modem Termination System). Another use case could be a VM that accepts traffic for a very wide address range (for either forwarding or termination) and where the port has no primary address. In such cases, the VM is not a conventional application VM. Proposed change =============== This spec proposes to allow to spawn a VM with a manually created port without IP address assignation. When a port in Neutron is created with the option ""--no-fixed-ip"", the port parameter `ip_allocation`_ will be `populated with ""none""`_. This way Neutron marks a port not to have an IP address. Nova, during the instance creation, validates the build options; in particular the ports provided to be bound to this new VM. To be able to use an unaddressed port, Nova needs to modify the logic where `IP assignation is tested`_. Alternatives ------------ As commented in the use cases, some applications will accepts traffic that is neither IPv4 nor IPv6. Having an IP address in irrelevant on those ports but doesn't affect the application. In other cases, like in the routing application, there is no alternative. It's not possible to define in Neutron all the possible IP addresses. Data model impact ----------------- None The Neutron port contains the information needed in the ""ip_allocation"" parameter. REST API impact --------------- None Security impact --------------- Those ports without an assigned IP doesn't work with the Neutron in-tree firewalls (iptables and OVS Open Flows based). Both firewall will filter the egress and the ingress traffic depending on several parameters, including the IP address. To let the traffic come into the virtual interface, the firewall should be disabled in the compute node hosting the VM. Notifications impact -------------------- None Other end user impact --------------------- To be able to access remotely to the created VM, the user needs to add an addressed port to the VM. This ""management"" port must have an IP address. Performance Impact ------------------ None Other deployer impact --------------------- Some L2 driver, like ""l2-pop"", maybe have problem when deal with this kind of port because it use arp proxy to answer arp from known ip address. ""novnc"" service won't work for a port without an IP address. This is why it's recommended to create a VM with at least one management port, with an assigned IP address. Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Rodolfo Alonso <rodolfo-alonso-hernandez> (ralonsoh@redhat.com) Work Items ---------- Works items: - Change the logic of how thew `IP assignation is tested`_. Dependencies ============ None Neutron has the ability to create an unaddressed port and mark it, by populating the ""ip_allocation"" parameter with ""none"". This feature was implemented in `Allow vm to boot without l3 address(subnet)`_. Documentation Impact ==================== - Make a reference of this feature in the user document `Launch instaces`_. References ========== .. _`ip_allocation`: https://github.com/openstack/neutron/blob/stable/rocky/releasenotes/notes/add-port-ip-allocation-attr-294a580641998240.yaml .. _`populated with ""none""`: https://github.com/openstack/neutron/blob/stable/rocky/neutron/db/db_base_plugin_v2.py#L1323 .. _`IP assignation is tested`: https://github.com/openstack/nova/blob/stable/rocky/nova/network/neutronv2/api.py#L2078-L2086 .. _`Allow vm to boot without l3 address(subnet)`: https://blueprints.launchpad.net/neutron/+spec/vm-without-l3-address .. _`Launch instances`: https://github.com/openstack/nova/blob/stable/rocky/doc/source/user/launch-instances.rst ",,168,0
openstack%2Fpuppet-neutron~stable%2Frocky~I8248ad80e6ff88aec252919fa687018bda78a60b,openstack/puppet-neutron,stable/rocky,I8248ad80e6ff88aec252919fa687018bda78a60b,Ensure tunnel types are absent if not configured,MERGED,2019-06-19 17:10:08.000000000,2019-07-25 16:59:47.000000000,2019-07-25 16:59:47.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 17:10:08.000000000', 'files': ['spec/classes/neutron_agents_ml2_ovs_spec.rb', 'manifests/agents/ml2/ovs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f55b869b508494328b3cbee39c4a2451d912f170', 'message': ""Ensure tunnel types are absent if not configured\n\nThis patch fixes a bug where updating a configuration wouldn't remove\nagent/tunnel_types configuration when required.\n\nConflicts:\n  spec/classes/neutron_agents_ml2_ovs_spec.rb\n\nChange-Id: I8248ad80e6ff88aec252919fa687018bda78a60b\nCloses-Bug: #1832251\n(cherry picked from commit 6c34ce2a42ae8c445a1fbe14ab18d4ee59e09c9b)\n""}]",0,666406,f55b869b508494328b3cbee39c4a2451d912f170,17,3,1,6681,,,0,"Ensure tunnel types are absent if not configured

This patch fixes a bug where updating a configuration wouldn't remove
agent/tunnel_types configuration when required.

Conflicts:
  spec/classes/neutron_agents_ml2_ovs_spec.rb

Change-Id: I8248ad80e6ff88aec252919fa687018bda78a60b
Closes-Bug: #1832251
(cherry picked from commit 6c34ce2a42ae8c445a1fbe14ab18d4ee59e09c9b)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/06/666406/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_agents_ml2_ovs_spec.rb', 'manifests/agents/ml2/ovs.pp']",2,f55b869b508494328b3cbee39c4a2451d912f170,bug/1832251, 'agent/tunnel_types': ensure => absent;,,2,0
openstack%2Fnova~master~Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0,openstack/nova,master,Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0,compute: Use source_bdms to reset attachment_ids during LM rollback,MERGED,2019-04-15 23:39:17.000000000,2019-07-25 16:37:48.000000000,2019-07-24 23:51:28.000000000,"[{'_account_id': 782}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-15 23:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/abd0f329f9453f9458d3d1cb21dafd79665dcc98', 'message': 'WIP compute: Use source_bdms to reset attachment_ids during LM rollback\n\nAs we now provide the original source bdms during rollback we can also\nuse them to reset any volume attachment ids to the ids used by the\nsource compute host.\n\nChange-Id: Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0\n'}, {'number': 2, 'created': '2019-04-16 00:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0ad912e0ecd6c83fd129898f9847f9ea1bedcc9', 'message': 'compute: Use source_bdms to reset attachment_ids during LM rollback\n\nAs we now provide the original source bdms during rollback we can also\nuse them to reset any volume attachment ids to the ids used by the\nsource compute host.\n\nChange-Id: Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0\n'}, {'number': 3, 'created': '2019-04-16 10:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/307ba6aa358d27735e145e6ffcea437192a68c07', 'message': 'compute: Use source_bdms to reset attachment_ids during LM rollback\n\nAs we now provide the original source bdms during rollback we can also\nuse them to reset any volume attachment ids to the ids used by the\nsource compute host.\n\nChange-Id: Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0\n'}, {'number': 4, 'created': '2019-05-01 12:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8b9bb0d4a4c6d3609efb3fb7618f2735d882391', 'message': 'compute: Use source_bdms to reset attachment_ids during LM rollback\n\nAs we now provide the original source bdms during rollback we can also\nuse them to reset any volume attachment ids to the ids used by the\nsource compute host.\n\nChange-Id: Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0\n'}, {'number': 5, 'created': '2019-05-20 13:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62d0b8ef06857071742b0d8f5e647b37a86a7bfd', 'message': 'compute: Use source_bdms to reset attachment_ids during LM rollback\n\nAs we now provide the original source bdms during rollback we can also\nuse them to reset any volume attachment ids to the ids used by the\nsource compute host.\n\nChange-Id: Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0\n'}, {'number': 6, 'created': '2019-07-24 15:35:51.000000000', 'files': ['nova/objects/migrate_data.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0eea5041c4047bf3ab8bf71973926d80592e5e5c', 'message': 'compute: Use source_bdms to reset attachment_ids during LM rollback\n\nAs we now provide the original source bdms during rollback we can also\nuse them to reset any volume attachment ids to the ids used by the\nsource compute host.\n\nChange-Id: Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0\n'}]",1,652800,0eea5041c4047bf3ab8bf71973926d80592e5e5c,80,18,6,10135,,,0,"compute: Use source_bdms to reset attachment_ids during LM rollback

As we now provide the original source bdms during rollback we can also
use them to reset any volume attachment ids to the ids used by the
source compute host.

Change-Id: Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/652800/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/migrate_data.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']",3,abd0f329f9453f9458d3d1cb21dafd79665dcc98,live-migration-volume-bdm-rollback-rework," # host since change Ibe9215c0. We can't remove it until we source_bdm = source_bdms_by_volid[bdm.volume_id] # NOTE(lyarwood): Catch the failure case where new attachment # ids have not been saved to the bdms before we started rolling # back the LM. If the current ids match the originals provided # by the source_bdms then assume there's no clean up required # and continue. if (bdm.attachment_id and source_bdm.attachment_id and bdm.attachment_id != source_bdm.attachment_id): # NOTE(lyarwood): 3.44 cinder api flow. Delete the # attachment used by the destination and reset the bdm # attachment_id to the old attachment of the source host. self.volume_api.attachment_delete(context, bdm.attachment_id) bdm.attachment_id = source_bdm.attachment_id"," # host since change I0390c9ff. We can't remove it until we if bdm.attachment_id: # 3.44 cinder api flow. Set the bdm's # attachment_id to the old attachment of the source # host. If old_attachments is not there, then # there was an error before the new attachment was made. # TODO(lyarwood): migrate_data.old_vol_attachment_ids can # be removed now as we can lookup the original # attachment_ids from the source_bdms list here. old_attachments = migrate_data.old_vol_attachment_ids \ if 'old_vol_attachment_ids' in migrate_data else None if old_attachments and bdm.volume_id in old_attachments: self.volume_api.attachment_delete(context, bdm.attachment_id) bdm.attachment_id = old_attachments[bdm.volume_id] source_bdm = source_bdms_by_volid[bdm.volume_id]",25,21
openstack%2Fmanila~master~Ia5fd26c30c6aaeb97ae1b524c5fd58b890fdb054,openstack/manila,master,Ia5fd26c30c6aaeb97ae1b524c5fd58b890fdb054,Run tempest jobs under python3,MERGED,2019-07-16 13:18:18.000000000,2019-07-25 16:35:00.000000000,2019-07-25 16:35:00.000000000,"[{'_account_id': 2417}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 18058}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-07-16 13:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/38ed532f2eef7a4be7ffebca74dd0f199e77ac9d', 'message': 'Run lvm job under python3\n\nChange-Id: Ia5fd26c30c6aaeb97ae1b524c5fd58b890fdb054\n'}, {'number': 2, 'created': '2019-07-16 15:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/00e1ba293d30b8fc21a4081ea5473c730c4e5a68', 'message': 'Run tempest jobs under python3\n\nAdd py2 dummy jobs to keep some python 2 coverage through the\nTrain release, but convert all the other tempest jobs to python 3.\n\nChange-Id: Ia5fd26c30c6aaeb97ae1b524c5fd58b890fdb054\n'}, {'number': 3, 'created': '2019-07-16 19:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c6bc71a45c2740f2a4cd110ba0cc6ca8de5af304', 'message': 'Run tempest jobs under python3\n\nAdd py2 dummy jobs to keep some python 2 coverage through the\nTrain release, but convert all the other tempest jobs to python 3.\n\nChange-Id: Ia5fd26c30c6aaeb97ae1b524c5fd58b890fdb054\n'}, {'number': 4, 'created': '2019-07-18 11:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8d12c78442718c39bcc695d123dfe9a3fdebb365', 'message': 'Run tempest jobs under python3\n\nAdd py2 dummy jobs to keep some python 2 coverage through the\nTrain release, but convert all the other tempest jobs to python 3.\n\nChange-Id: Ia5fd26c30c6aaeb97ae1b524c5fd58b890fdb054\n'}, {'number': 5, 'created': '2019-07-18 13:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c0cf01c5c8c6a618fd183c7c5caa9856058312b9', 'message': 'Run tempest jobs under python3\n\nAdd py2 dummy jobs to keep some python 2 coverage through the\nTrain release, but convert all the other tempest jobs to python 3.\n\nChange-Id: Ia5fd26c30c6aaeb97ae1b524c5fd58b890fdb054\n'}, {'number': 6, 'created': '2019-07-18 17:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/86352b0e04ae3038518ed5ed2796d5c51130f630', 'message': 'Run tempest jobs under python3\n\nAdd py2 dummy jobs to keep some python 2 coverage through the\nTrain release, but convert all the other tempest jobs to python 3.\n\nChange-Id: Ia5fd26c30c6aaeb97ae1b524c5fd58b890fdb054\n'}, {'number': 7, 'created': '2019-07-18 19:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c96780ed59e7ed5e4e3dafb82cbdb0de3c1d05d3', 'message': 'Run tempest jobs under python3\n\nAdd py2 dummy jobs to keep some python 2 coverage through the\nTrain release, but convert all the other tempest jobs to python 3.\n\nChange-Id: Ia5fd26c30c6aaeb97ae1b524c5fd58b890fdb054\n'}, {'number': 8, 'created': '2019-07-19 16:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/af0ab53ddf21bd049cc2b3c2aa6019ac99541333', 'message': 'Run tempest jobs under python3\n\nAdd py2 dummy jobs to keep some python 2 coverage through the\nTrain release, but convert all the other tempest jobs to python 3.\n\nChange-Id: Ia5fd26c30c6aaeb97ae1b524c5fd58b890fdb054\n'}, {'number': 9, 'created': '2019-07-19 17:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/37f45fad58fbe9f87c315a535b4ad70c6156a08f', 'message': 'Run tempest jobs under python3\n\nAdd py2 dummy jobs to keep some python 2 coverage through the\nTrain release, but convert all the other tempest jobs to python 3.\n\nChange-Id: Ia5fd26c30c6aaeb97ae1b524c5fd58b890fdb054\n'}, {'number': 10, 'created': '2019-07-24 12:43:57.000000000', 'files': ['playbooks/legacy/manila-tempest-dsvm-generic-no-share-servers/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-dummy-py2/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-mysql-generic/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-dummy-py2/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-lvm/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-container/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-generic-singlebackend/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-zfsonlinux/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-dummy/run.yaml', '.zuul.yaml', 'playbooks/legacy/manila-tempest-dsvm-scenario/run.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/cbe7056832c95da83e9a2e8574b7de5f3dc5f34a', 'message': 'Run tempest jobs under python3\n\nAdd py2 dummy jobs to keep some python 2 coverage through the\nTrain release, but convert all the other tempest jobs to python 3.\n\nChange-Id: Ia5fd26c30c6aaeb97ae1b524c5fd58b890fdb054\n'}]",5,671031,cbe7056832c95da83e9a2e8574b7de5f3dc5f34a,90,14,10,9003,,,0,"Run tempest jobs under python3

Add py2 dummy jobs to keep some python 2 coverage through the
Train release, but convert all the other tempest jobs to python 3.

Change-Id: Ia5fd26c30c6aaeb97ae1b524c5fd58b890fdb054
",git fetch https://review.opendev.org/openstack/manila refs/changes/31/671031/10 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/manila-tempest-minimal-dsvm-lvm/run.yaml'],1,38ed532f2eef7a4be7ffebca74dd0f199e77ac9d,python3-default, enable_plugin manila-tempest-plugin https://opendev.org/openstack/manila-tempest-plugin export DEVSTACK_GATE_USE_PYTHON3=True ,,3,0
openstack%2Ftripleo-ansible~master~I43b828d5c892a0b33c7a3cbae4034267ce493dc0,openstack/tripleo-ansible,master,I43b828d5c892a0b33c7a3cbae4034267ce493dc0,Add molecule test structure to ceph roles,MERGED,2019-06-29 15:40:09.000000000,2019-07-25 16:33:18.000000000,2019-07-25 16:33:18.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-29 15:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/09e61e0090d0853ff897595242d059bcdf8c548d', 'message': 'WIP: Add molecule test structure to ceph roles\n\nAdd molecule test structure for each ceph role.\nAlso add missing doc/*tripleo-ceph-*.rst files.\n\nChange-Id: I43b828d5c892a0b33c7a3cbae4034267ce493dc0\nTask: 34717 34718 34719 34720\nStory: 2006041\n'}, {'number': 2, 'created': '2019-07-03 22:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2724be9f3214ab698b136ceca67f75e58b00e906', 'message': 'WIP: Add molecule test structure to ceph roles\n\nAdd molecule test structure for each ceph role.\nAlso add missing doc/*tripleo-ceph-*.rst files.\n\nChange-Id: I43b828d5c892a0b33c7a3cbae4034267ce493dc0\nTask: 34717 34718 34719 34720\nStory: 2006041\n'}, {'number': 3, 'created': '2019-07-04 15:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cabd0c671ce1a3512d9825a75dca0450f1f9a41f', 'message': 'WIP: Add molecule test structure to ceph roles\n\nAdd molecule test structure for each ceph role.\nAlso add missing doc/*tripleo-ceph-*.rst files.\n\nChange-Id: I43b828d5c892a0b33c7a3cbae4034267ce493dc0\nTask: 34717 34718 34719 34720\nStory: 2006041\n'}, {'number': 4, 'created': '2019-07-04 20:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9ee2ee490bbb6757950701d2c9ec30ac39a957d9', 'message': 'WIP: Add molecule test structure to ceph roles\n\nAdd molecule test structure for each ceph role.\nAlso add missing doc/*tripleo-ceph-*.rst files.\n\nChange-Id: I43b828d5c892a0b33c7a3cbae4034267ce493dc0\nTask: 34717 34718 34719 34720\nStory: 2006041\n'}, {'number': 5, 'created': '2019-07-05 16:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/173d9ed0fec21f2b1f74a4952cc7808e431d3d5e', 'message': 'WIP: Add molecule test structure to ceph roles\n\nAdd molecule test structure for each ceph role.\nAlso add missing doc/*tripleo-ceph-*.rst files.\n\nChange-Id: I43b828d5c892a0b33c7a3cbae4034267ce493dc0\nTask: 34717 34718 34719 34720\nStory: 2006041\n'}, {'number': 6, 'created': '2019-07-05 16:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/795064903aa850f7b2b126c3e6a159d7936009a3', 'message': 'WIP: Add molecule test structure to ceph roles\n\nAdd molecule test structure for each ceph role.\nAlso add missing doc/*tripleo-ceph-*.rst files.\n\nChange-Id: I43b828d5c892a0b33c7a3cbae4034267ce493dc0\nTask: 34717 34718 34719 34720\nStory: 2006041\n'}, {'number': 7, 'created': '2019-07-05 17:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/835aa1b3e00db26c8f9089ce91a1b27f93b6660a', 'message': 'Add molecule test structure to ceph roles\n\nAdd molecule test structure for each ceph role.\nAlso add missing doc/*tripleo-ceph-*.rst files.\n\nChange-Id: I43b828d5c892a0b33c7a3cbae4034267ce493dc0\nTask: 34717 34718 34719 34720\nStory: 2006041\n'}, {'number': 8, 'created': '2019-07-05 17:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7d2d87a58bf1b7677feb94591c6746c1f9a6b8d8', 'message': 'Add molecule test structure to ceph roles\n\nAdd molecule test structure for each ceph role.\nAlso add missing doc/*tripleo-ceph-*.rst files.\n\nChange-Id: I43b828d5c892a0b33c7a3cbae4034267ce493dc0\nTask: 34717 34718 34719 34720\nStory: 2006041\n'}, {'number': 9, 'created': '2019-07-05 17:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/79f00c06050f514f7f3e411bf50144837816f191', 'message': 'Add molecule test structure to ceph roles\n\nAdd molecule test structure for each ceph role.\nAlso add missing doc/*tripleo-ceph-*.rst files.\n\nChange-Id: I43b828d5c892a0b33c7a3cbae4034267ce493dc0\nTask: 34717\nTask: 34718\nTask: 34719\nTask: 34720\nStory: 2006041\n'}, {'number': 10, 'created': '2019-07-05 20:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0b742523e5e37b50a6076eb56be4cbf670383b80', 'message': 'Add molecule test structure to ceph roles\n\nAdd molecule test structure for each ceph role.\nAlso add missing doc/*tripleo-ceph-*.rst files.\n\nChange-Id: I43b828d5c892a0b33c7a3cbae4034267ce493dc0\nTask: 34717\nTask: 34718\nTask: 34719\nTask: 34720\nStory: 2006041\n'}, {'number': 11, 'created': '2019-07-07 13:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2f956cd8f9eff2b1c9b5b23c8533fd6a9f294512', 'message': 'Add molecule test structure to ceph roles\n\nAdd molecule test structure for each ceph role.\nAlso add missing doc/*tripleo-ceph-*.rst files.\n\nChange-Id: I43b828d5c892a0b33c7a3cbae4034267ce493dc0\nTask: 34717\nTask: 34718\nTask: 34719\nTask: 34720\nStory: 2006041\n'}, {'number': 12, 'created': '2019-07-08 18:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/172def6bc6d8690694c588409a9143c5bb1e6d75', 'message': 'Add molecule test structure to ceph roles\n\nAdd molecule test structure for each ceph role. Also\nadd missing doc/*tripleo-ceph-*.rst files.\n\nLocal test setup changes have been made in support of\nthese roles.\n\nChange-Id: I43b828d5c892a0b33c7a3cbae4034267ce493dc0\nTask: 34717\nTask: 34718\nTask: 34719\nTask: 34720\nStory: 2006041\n'}, {'number': 13, 'created': '2019-07-08 18:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e97fb590c6d9450c906d98e906e87851a36d26d0', 'message': 'Add molecule test structure to ceph roles\n\nAdd molecule test structure for each ceph role. Also\nadd missing doc/*tripleo-ceph-*.rst files.\n\nLocal test setup changes have been made in support of\nthese roles.\n\nChange-Id: I43b828d5c892a0b33c7a3cbae4034267ce493dc0\nTask: 34717\nTask: 34718\nTask: 34719\nTask: 34720\nStory: 2006041\n'}, {'number': 14, 'created': '2019-07-15 13:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/41f71fa7fa624900cabfae9ea26c6b28ef9dc9ac', 'message': 'Add molecule test structure to ceph roles\n\nAdd molecule test structure for each ceph role. Also\nadd missing doc/*tripleo-ceph-*.rst files.\n\nLocal test setup changes have been made in support of\nthese roles.\n\nChange-Id: I43b828d5c892a0b33c7a3cbae4034267ce493dc0\nTask: 34717\nTask: 34718\nTask: 34719\nTask: 34720\nStory: 2006041\n'}, {'number': 15, 'created': '2019-07-15 15:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d9f69229292c75a07f6e476797cf80d9d425f629', 'message': 'Add molecule test structure to ceph roles\n\nAdd molecule test structure for each ceph role. Also\nadd missing doc/*tripleo-ceph-*.rst files.\n\nLocal test setup changes have been made in support of\nthese roles.\n\nChange-Id: I43b828d5c892a0b33c7a3cbae4034267ce493dc0\nTask: 34717\nTask: 34718\nTask: 34719\nTask: 34720\nStory: 2006041\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 16, 'created': '2019-07-18 16:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/52aca0b06150f59bda172649a7f00a9ddd6bfe9e', 'message': 'Add molecule test structure to ceph roles\n\nAdd molecule test structure for each ceph role. Also\nadd missing doc/*tripleo-ceph-*.rst files.\n\nLocal test setup changes have been made in support of\nthese roles.\n\nChange-Id: I43b828d5c892a0b33c7a3cbae4034267ce493dc0\nTask: 34717\nTask: 34718\nTask: 34719\nTask: 34720\nStory: 2006041\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 17, 'created': '2019-07-24 15:47:42.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-common/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-ceph-uuid/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-ceph-uuid/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-ceph-common/defaults/main.yml', 'tripleo_ansible/roles/tripleo-ceph-work-dir/molecule/default/playbook.yml', 'ansible-test-env.rc', 'tripleo_ansible/roles/tripleo-ceph-common/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-ceph-common/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-ceph-uuid/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-ceph-uuid/tasks/gather.yml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-ceph-work-dir/molecule/default/prepare.yml', 'doc/source/roles/role-tripleo-ceph-run-ansible.rst', 'tripleo_ansible/roles/tripleo-ceph-work-dir/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-ceph-work-dir/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-ceph-uuid/molecule/default/verify.yml', 'zuul.d/playbooks/run.yml', 'tripleo_ansible/roles/tripleo-ceph-common/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-ceph-uuid/molecule/default/molecule.yml', 'doc/source/roles/role-tripleo-ceph-uuid.rst', 'scripts/run-local-test', 'tripleo_ansible/roles/tripleo-ceph-work-dir/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-ceph-common/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-ceph-work-dir/tasks/prepare.yml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d762e27dc70e97cc06a7ef80a7eae29b78a0c5ea', 'message': 'Add molecule test structure to ceph roles\n\nAdd molecule test structure for each ceph role. Also\nadd missing doc/*tripleo-ceph-*.rst files.\n\nLocal test setup changes have been made in support of\nthese roles.\n\nChange-Id: I43b828d5c892a0b33c7a3cbae4034267ce493dc0\nTask: 34717\nTask: 34718\nTask: 34719\nTask: 34720\nStory: 2006041\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",14,668294,d762e27dc70e97cc06a7ef80a7eae29b78a0c5ea,64,8,17,18002,,,0,"Add molecule test structure to ceph roles

Add molecule test structure for each ceph role. Also
add missing doc/*tripleo-ceph-*.rst files.

Local test setup changes have been made in support of
these roles.

Change-Id: I43b828d5c892a0b33c7a3cbae4034267ce493dc0
Task: 34717
Task: 34718
Task: 34719
Task: 34720
Story: 2006041
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/94/668294/17 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-ceph-uuid/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-ceph-uuid/molecule/default/Dockerfile', 'doc/source/roles/role-tripleo-ceph-common.rst', 'tripleo_ansible/roles/tripleo-ceph-work-dir/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-ceph-work-dir/molecule/default/ansible-errors.json', 'tripleo_ansible/roles/tripleo-ceph-uuid/molecule/default/prepare.yml', 'doc/source/roles/role-tripleo-ceph-work-dir.rst', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/molecule/default/ansible-errors.json', 'tripleo_ansible/roles/tripleo-ceph-work-dir/molecule/default/prepare.yml', 'doc/source/roles/role-tripleo-ceph-run-ansible.rst', 'tripleo_ansible/roles/tripleo-ceph-work-dir/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-ceph-work-dir/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-ceph-uuid/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-ceph-common/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ceph-uuid/molecule/default/ansible-errors.json', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/molecule/default/molecule.yml', 'doc/source/roles/role-tripleo-ceph-fetch-dir.rst', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-ceph-uuid/molecule/default/molecule.yml', 'doc/source/roles/role-tripleo-ceph-uuid.rst', 'tripleo_ansible/roles/tripleo-ceph-work-dir/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/molecule/default/ansible-errors.json', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/molecule/default/playbook.yml', 'tox.ini']",32,09e61e0090d0853ff897595242d059bcdf8c548d,ceph_refactor,[testenv:mol-tripleo-ceph-common] basepython = {[testenv:mol]basepython} deps = {[testenv:mol]deps} changedir = {toxinidir}/tripleo_ansible/roles/tripleo-ceph-common commands = python -m pytest --color=yes --html={envlogdir}/reports.html --self-contained-html {tty:-s} {toxinidir}/tests/test_molecule.py [testenv:mol-tripleo-ceph-fetch-dir] basepython = {[testenv:mol]basepython} deps = {[testenv:mol]deps} changedir = {toxinidir}/tripleo_ansible/roles/tripleo-ceph-fetch-dir commands = python -m pytest --color=yes --html={envlogdir}/reports.html --self-contained-html {tty:-s} {toxinidir}/tests/test_molecule.py [testenv:mol-tripleo-ceph-run-ansible] basepython = {[testenv:mol]basepython} deps = {[testenv:mol]deps} changedir = {toxinidir}/tripleo_ansible/roles/tripleo-ceph-run-ansible commands = python -m pytest --color=yes --html={envlogdir}/reports.html --self-contained-html {tty:-s} {toxinidir}/tests/test_molecule.py [testenv:mol-tripleo-ceph-uuid] basepython = {[testenv:mol]basepython} deps = {[testenv:mol]deps} changedir = {toxinidir}/tripleo_ansible/roles/tripleo-ceph-uuid commands = python -m pytest --color=yes --html={envlogdir}/reports.html --self-contained-html {tty:-s} {toxinidir}/tests/test_molecule.py [testenv:mol-tripleo-ceph-work-dir] basepython = {[testenv:mol]basepython} deps = {[testenv:mol]deps} changedir = {toxinidir}/tripleo_ansible/roles/tripleo-ceph-work-dir commands = python -m pytest --color=yes --html={envlogdir}/reports.html --self-contained-html {tty:-s} {toxinidir}/tests/test_molecule.py,,821,0
openstack%2Fzun-ui~master~I604956ff7397c1891044bb46a91fb2a7bd3d7986,openstack/zun-ui,master,I604956ff7397c1891044bb46a91fb2a7bd3d7986,Add Python 3 Train unit tests,ABANDONED,2019-07-05 21:08:33.000000000,2019-07-25 16:23:19.000000000,,"[{'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-07-05 21:08:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/e043e84ff703053ead7bfb9bb6eaef2fbcea219a', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I604956ff7397c1891044bb46a91fb2a7bd3d7986\nStory: #2005924\nTask: #34259\n'}]",1,669535,e043e84ff703053ead7bfb9bb6eaef2fbcea219a,4,2,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I604956ff7397c1891044bb46a91fb2a7bd3d7986
Story: #2005924
Task: #34259
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/35/669535/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e043e84ff703053ead7bfb9bb6eaef2fbcea219a,python3-train,"envlist = py37,pep8,py27-local,py36-local,py3-dj111-local,eslint,karma-local,docs-local,releasenotes,lower-constraints-local","envlist = pep8,py37,py27-local,py36-local,py3-dj111-local,eslint,karma-local,docs-local,releasenotes,lower-constraints-local",1,1
openstack%2Foctavia-lib~master~I605f44f0f50219aa003df477de9bae4062f3c308,openstack/octavia-lib,master,I605f44f0f50219aa003df477de9bae4062f3c308,Add new LB Algorithm - SOURCE_IP_PORT,MERGED,2019-07-23 12:27:59.000000000,2019-07-25 16:21:42.000000000,2019-07-25 16:21:42.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-07-23 12:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/027a30534ac16da83307fdb96bec384b4a42e644', 'message': 'Add new LB Algorithm - SOURCE_IP_PORT\n\nLB_ALGORITHM_SOURCE_IP_PORT is an algorithm used by OVN\nLoad Balancer [0].\n\n[0] https://review.opendev.org/#/c/660369\n\nChange-Id: I605f44f0f50219aa003df477de9bae4062f3c308\n'}, {'number': 2, 'created': '2019-07-24 08:09:55.000000000', 'files': ['octavia_lib/common/constants.py', 'releasenotes/notes/add-lb-algorithm-source-ip-port-5cc83a9e3fcf4763.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/11b299bcbc7d7098ef7effd0678ec85163c6b4b0', 'message': 'Add new LB Algorithm - SOURCE_IP_PORT\n\nLB_ALGORITHM_SOURCE_IP_PORT is an algorithm used by OVN\nLoad Balancer [0].\n\n[0] https://review.opendev.org/#/c/660369\n\nStory: 2006264\nTask: 35951\n\nChange-Id: I605f44f0f50219aa003df477de9bae4062f3c308\n'}]",0,672275,11b299bcbc7d7098ef7effd0678ec85163c6b4b0,13,5,2,24791,,,0,"Add new LB Algorithm - SOURCE_IP_PORT

LB_ALGORITHM_SOURCE_IP_PORT is an algorithm used by OVN
Load Balancer [0].

[0] https://review.opendev.org/#/c/660369

Story: 2006264
Task: 35951

Change-Id: I605f44f0f50219aa003df477de9bae4062f3c308
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/75/672275/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_lib/common/constants.py'],1,027a30534ac16da83307fdb96bec384b4a42e644,source_ip_port_octavia_ovn,"LB_ALGORITHM_SOURCE_IP_PORT = 'SOURCE_IP_PORT' LB_ALGORITHM_SOURCE_IP, LB_ALGORITHM_SOURCE_IP_PORT)", LB_ALGORITHM_SOURCE_IP),3,1
openstack%2Fnetworking-l2gw~master~Ibdafaa8b7f946c99a9083874296df82921ad770b,openstack/networking-l2gw,master,Ibdafaa8b7f946c99a9083874296df82921ad770b,Add Python 3 Train unit tests,MERGED,2019-07-19 14:37:11.000000000,2019-07-25 16:19:58.000000000,2019-07-25 16:19:57.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 11805}, {'_account_id': 17685}, {'_account_id': 21626}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-19 14:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/cc1f42a2e5b80f5424acf2da72bd588ce472957e', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nAs per below ML thread, we are good to drop the py35\ntesting also:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\nStory: #2005924\nTask: #34225\n\nChange-Id: Ibdafaa8b7f946c99a9083874296df82921ad770b\n'}, {'number': 2, 'created': '2019-07-22 14:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/47f76020dfb3de7bfc226a0ffb74b47203c78848', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nAs per below ML thread, we are good to drop the py35\ntesting also:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\nStory: #2005924\nTask: #34225\n\nChange-Id: Ibdafaa8b7f946c99a9083874296df82921ad770b\n'}, {'number': 3, 'created': '2019-07-23 11:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/90e47341660b2f57f591498030da9ed40a9577f6', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nAs per below ML thread, we are good to drop the py35\ntesting also:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\nStory: #2005924\nTask: #34225\n\nChange-Id: Ibdafaa8b7f946c99a9083874296df82921ad770b\n'}, {'number': 4, 'created': '2019-07-24 07:30:35.000000000', 'files': ['bindep.txt', '.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/364dd0a3cf8f122f78f52d3bea3f062eb1c4645c', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nAs per below ML thread, we are good to drop the py35\ntesting also:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\nStory: #2005924\nTask: #34225\n\nChange-Id: Ibdafaa8b7f946c99a9083874296df82921ad770b\n'}]",4,671748,364dd0a3cf8f122f78f52d3bea3f062eb1c4645c,24,6,4,8313,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

As per below ML thread, we are good to drop the py35
testing also:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html
Story: #2005924
Task: #34225

Change-Id: Ibdafaa8b7f946c99a9083874296df82921ad770b
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/48/671748/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,cc1f42a2e5b80f5424acf2da72bd588ce472957e,dropping-py35-testing,"envlist = py37,py27,pep8","envlist = py36,py35,py34,py27,pep8",4,1
openstack%2Fhorizon~master~I9c431dbb03f90bab84a4a6a3e3ea8fd5a5498b5b,openstack/horizon,master,I9c431dbb03f90bab84a4a6a3e3ea8fd5a5498b5b,Avoid using nova volume test data for cinder API mocking,MERGED,2019-07-17 19:19:06.000000000,2019-07-25 16:15:21.000000000,2019-07-25 16:15:21.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-07-17 19:19:06.000000000', 'files': ['openstack_dashboard/dashboards/admin/volumes/tests.py', 'openstack_dashboard/test/test_data/cinder_data.py', 'openstack_dashboard/dashboards/project/volumes/tests.py', 'openstack_dashboard/dashboards/project/instances/tests.py', 'openstack_dashboard/test/test_data/nova_data.py', 'openstack_dashboard/dashboards/project/backups/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/363802d9e957fbd68fea8dba9bfc962954346b8b', 'message': ""Avoid using nova volume test data for cinder API mocking\n\nself.volumes from nova test data is used as return values\nof cinder API wrapper mock. Nova test data is based on\nnovaclient.v2.volumes.Volume class. This is not correct.\nThey should be based on cinderclient Volume class.\n\nThis commit changes to use cinder test data for\nreturn values of openstack_dashboard.api.cinder mock.\n'bootable' attribute is required, so it is added to cinder_data.\n\nThis confusion comes from the naming of self.volumes.\nThis commit renames self.volumes to self.nova_volumes\nto avoid further confusions.\n\nNote that api.nova.instance_volumes_list() calls get_server_volumes\nfrom novaclient and it is correct to use self.nova_volumes.\n\nChange-Id: I9c431dbb03f90bab84a4a6a3e3ea8fd5a5498b5b\n""}]",0,671352,363802d9e957fbd68fea8dba9bfc962954346b8b,8,4,1,841,,,0,"Avoid using nova volume test data for cinder API mocking

self.volumes from nova test data is used as return values
of cinder API wrapper mock. Nova test data is based on
novaclient.v2.volumes.Volume class. This is not correct.
They should be based on cinderclient Volume class.

This commit changes to use cinder test data for
return values of openstack_dashboard.api.cinder mock.
'bootable' attribute is required, so it is added to cinder_data.

This confusion comes from the naming of self.volumes.
This commit renames self.volumes to self.nova_volumes
to avoid further confusions.

Note that api.nova.instance_volumes_list() calls get_server_volumes
from novaclient and it is correct to use self.nova_volumes.

Change-Id: I9c431dbb03f90bab84a4a6a3e3ea8fd5a5498b5b
",git fetch https://review.opendev.org/openstack/horizon refs/changes/52/671352/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/admin/volumes/tests.py', 'openstack_dashboard/test/test_data/cinder_data.py', 'openstack_dashboard/dashboards/project/volumes/tests.py', 'openstack_dashboard/dashboards/project/instances/tests.py', 'openstack_dashboard/test/test_data/nova_data.py', 'openstack_dashboard/dashboards/project/backups/tests.py']",6,363802d9e957fbd68fea8dba9bfc962954346b8b,volume-test-data, volume = self.cinder_volumes.first() # The third volume in the cinder test volume data is in-use volume = self.cinder_volumes.list()[2], volume = self.volumes.first() # The second volume in the cinder test volume data is in-use volume = self.volumes.list()[1],47,48
openstack%2Fkolla-ansible~stable%2Frocky~I871ee02e39236a81f66b14c0ce9fe9fc4baa4149,openstack/kolla-ansible,stable/rocky,I871ee02e39236a81f66b14c0ce9fe9fc4baa4149,WIP: [Rocky-only] CI: Fix ceph (multinode) jobs,ABANDONED,2019-07-25 14:39:36.000000000,2019-07-25 16:13:25.000000000,,[{'_account_id': 30491}],"[{'number': 1, 'created': '2019-07-25 14:39:36.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/919833f34bb1d176f5e68b0c238970829986c930', 'message': 'WIP: [Rocky-only] CI: Fix ceph (multinode) jobs\n\nExample failure: http://logs.openstack.org/86/668286/3/check/kolla-ansible-centos-source-ceph/4c90e43/ara-report/\n\n""""""\nCould not find or access \'/var/lib/zuul/builds/4c90e43dcb9e4336924158c9eb5461ea/work/src/opendev.org/openstack/kolla-ansible/tests/templates/inventory.j2\' on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option\n""""""\n\nChange-Id: I871ee02e39236a81f66b14c0ce9fe9fc4baa4149\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,672749,919833f34bb1d176f5e68b0c238970829986c930,4,1,1,30491,,,0,"WIP: [Rocky-only] CI: Fix ceph (multinode) jobs

Example failure: http://logs.openstack.org/86/668286/3/check/kolla-ansible-centos-source-ceph/4c90e43/ara-report/

""""""
Could not find or access '/var/lib/zuul/builds/4c90e43dcb9e4336924158c9eb5461ea/work/src/opendev.org/openstack/kolla-ansible/tests/templates/inventory.j2' on the Ansible Controller.
If you are using a module and expect the file to exist on the remote, see the remote_src option
""""""

Change-Id: I871ee02e39236a81f66b14c0ce9fe9fc4baa4149
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/672749/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,919833f34bb1d176f5e68b0c238970829986c930,,," delegate_to: ""primary""",0,1
openstack%2Fkolla-ansible~master~Ia7e4294508e6d445638c176359a939af32fdfb12,openstack/kolla-ansible,master,Ia7e4294508e6d445638c176359a939af32fdfb12,Add kolla-ansible to zuul job dependencies,MERGED,2018-12-18 10:38:12.000000000,2019-07-25 16:12:48.000000000,2018-12-19 07:04:33.000000000,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-12-18 10:38:12.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8d523dabd8646e14f7eb671766091a0ce35de773', 'message': 'Add kolla-ansible to zuul job dependencies\n\nThis means we can pull in the job from other repositories without\nexplicitly adding the dependency on kolla-ansible in that project.\n\nChange-Id: Ia7e4294508e6d445638c176359a939af32fdfb12\n'}]",0,625874,8d523dabd8646e14f7eb671766091a0ce35de773,8,3,1,14826,,,0,"Add kolla-ansible to zuul job dependencies

This means we can pull in the job from other repositories without
explicitly adding the dependency on kolla-ansible in that project.

Change-Id: Ia7e4294508e6d445638c176359a939af32fdfb12
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/74/625874/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,8d523dabd8646e14f7eb671766091a0ce35de773,zuul-job-deps, - openstack/kolla-ansible,,1,0
openstack%2Fsahara~master~Ic13d8cfb3aeb425a7ad28ec1b8fc95629fafcc2f,openstack/sahara,master,Ic13d8cfb3aeb425a7ad28ec1b8fc95629fafcc2f,devstack: do not use configure_auth_token_middleware,MERGED,2019-06-28 17:33:09.000000000,2019-07-25 15:57:49.000000000,2019-07-25 15:57:49.000000000,"[{'_account_id': 8556}, {'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-06-28 17:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/93c602aaec941bb9957290b02779f5379f5fcdfe', 'message': 'DNM devstack: do not use configure_auth_token_middleware\n\nThe devstack function configure_auth_token_middleware is deprecated,\nbecause it specify an option (signing_dir) which has been removed\nsome time ago.\nUse the new configure_keystone_token_middleware function, which does\nnot use the removed parameter. Remove also all the logic related\nto that parameter.\n\nDepends-On: https://review.opendev.org/628651\nChange-Id: Ic13d8cfb3aeb425a7ad28ec1b8fc95629fafcc2f\n'}, {'number': 2, 'created': '2019-06-28 19:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/fee08c5c296e0cbbbcdc94321f060eb3623f7dea', 'message': 'DNM devstack: do not use configure_auth_token_middleware\n\nThe devstack function configure_auth_token_middleware is deprecated,\nbecause it specify an option (signing_dir) which has been removed\nsome time ago.\nUse the new configure_keystone_token_middleware function, which does\nnot use the removed parameter. Remove also all the logic related\nto that parameter.\n\nDepends-On: https://review.opendev.org/628651\nChange-Id: Ic13d8cfb3aeb425a7ad28ec1b8fc95629fafcc2f\n'}, {'number': 3, 'created': '2019-06-30 09:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/bc116d979e6d4725b0430de43c839a5cdb6cd11e', 'message': 'devstack: do not use configure_auth_token_middleware\n\nThe devstack function configure_auth_token_middleware is deprecated,\nbecause it specify an option (signing_dir) which has been removed\nsome time ago.\nUse the new configure_keystone_token_middleware function, which does\nnot use the removed parameter. Remove also all the logic related\nto that parameter.\n\nDepends-On: https://review.opendev.org/628651\nChange-Id: Ic13d8cfb3aeb425a7ad28ec1b8fc95629fafcc2f\n'}, {'number': 4, 'created': '2019-06-30 10:36:16.000000000', 'files': ['devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/sahara/commit/c7fc57b42a1b720489f50a95ba4d8cc394db5e73', 'message': 'devstack: do not use configure_auth_token_middleware\n\nThe devstack function configure_auth_token_middleware is deprecated,\nbecause it specifies an option (signing_dir) which has been removed\na few releases ago.\nUse the new configure_keystone_token_middleware function, which does\nnot use the removed parameter. Remove also all the logic related\nto that parameter.\n\nDepends-On: https://review.opendev.org/628651\nChange-Id: Ic13d8cfb3aeb425a7ad28ec1b8fc95629fafcc2f\n'}]",0,668219,c7fc57b42a1b720489f50a95ba4d8cc394db5e73,13,4,4,10459,,,0,"devstack: do not use configure_auth_token_middleware

The devstack function configure_auth_token_middleware is deprecated,
because it specifies an option (signing_dir) which has been removed
a few releases ago.
Use the new configure_keystone_token_middleware function, which does
not use the removed parameter. Remove also all the logic related
to that parameter.

Depends-On: https://review.opendev.org/628651
Change-Id: Ic13d8cfb3aeb425a7ad28ec1b8fc95629fafcc2f
",git fetch https://review.opendev.org/openstack/sahara refs/changes/19/668219/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,93c602aaec941bb9957290b02779f5379f5fcdfe,removed-keystone-signing-dir, configure_keystone_token_middleware $SAHARA_CONF_FILE sahara, sudo rm -rf $SAHARA_AUTH_CACHE_DIR # Create auth cache dir sudo install -d -o $STACK_USER -m 700 $SAHARA_AUTH_CACHE_DIR rm -rf $SAHARA_AUTH_CACHE_DIR/* configure_auth_token_middleware \ $SAHARA_CONF_FILE sahara $SAHARA_AUTH_CACHE_DIR,1,7
openstack%2Fmonasca-log-api~master~Idc2a5a6bd0e9e2675883f2188d4856b01ba5fdb8,openstack/monasca-log-api,master,Idc2a5a6bd0e9e2675883f2188d4856b01ba5fdb8,Return valid url when querying versions endpoint,MERGED,2019-07-01 16:01:11.000000000,2019-07-25 15:54:09.000000000,2019-07-25 15:54:08.000000000,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-07-01 16:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/de8d455b796dd21ee4b1a9fe6282cff362be84ce', 'message': 'Return valid url when querying versions endpoint\n\nUse rsplit instead of replace to do a more targeted stripping of path to\nrender a correct base_uri.\n\nChange-Id: Idc2a5a6bd0e9e2675883f2188d4856b01ba5fdb8\nStory: 2006147\nTask: 35643\n'}, {'number': 2, 'created': '2019-07-01 16:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/82d56fce619a4efd3c37ca965ed16c6ac1a3f253', 'message': 'Return valid url when querying versions endpoint\n\nUse rpartition instead of replace to do a more targeted stripping of\npath to render a correct base_uri.\n\nChange-Id: Idc2a5a6bd0e9e2675883f2188d4856b01ba5fdb8\nStory: 2006147\nTask: 35643\n'}, {'number': 3, 'created': '2019-07-10 08:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/3ccc556e41b976de0d2d22628d0992bc97a866fa', 'message': 'Return valid url when querying versions endpoint\n\nUse rpartition instead of replace to do a more targeted stripping of\npath to render a correct base_uri.\n\nChange-Id: Idc2a5a6bd0e9e2675883f2188d4856b01ba5fdb8\nStory: 2006147\nTask: 35643\n'}, {'number': 4, 'created': '2019-07-10 08:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/4909e94d4c86b42259662b94992e3e5f5205acb4', 'message': 'Return valid url when querying versions endpoint\n\nUse rpartition instead of replace to do a more targeted stripping of\npath to render a correct base_uri.\n\nChange-Id: Idc2a5a6bd0e9e2675883f2188d4856b01ba5fdb8\nStory: 2006147\nTask: 35643\n'}, {'number': 5, 'created': '2019-07-10 08:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/3e35ea1577b5bf845b72d1f99b13d32198026b9b', 'message': 'Return valid url when querying versions endpoint\n\nUse rpartition instead of replace to do a more targeted stripping of\npath to render a correct base_uri.\n\nChange-Id: Idc2a5a6bd0e9e2675883f2188d4856b01ba5fdb8\nStory: 2006147\nTask: 35643\n'}, {'number': 6, 'created': '2019-07-25 09:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/e3e4b9c84e0ee74513e65220cd8dc3b4df2910bd', 'message': 'Return valid url when querying versions endpoint\n\nUse rpartition instead of replace to do a more targeted stripping of\npath to render a correct base_uri.\n\nChange-Id: Idc2a5a6bd0e9e2675883f2188d4856b01ba5fdb8\nStory: 2006147\nTask: 35643\n'}, {'number': 7, 'created': '2019-07-25 13:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/642ac86e91160e95394b32ac3745635c1995cb09', 'message': 'Return valid url when querying versions endpoint\n\nUse rpartition instead of replace to do a more targeted stripping of\npath to render a correct base_uri.\n\nChange-Id: Idc2a5a6bd0e9e2675883f2188d4856b01ba5fdb8\nStory: 2006147\nTask: 35643\n'}, {'number': 8, 'created': '2019-07-25 13:42:50.000000000', 'files': ['monasca_log_api/tests/test_versions.py', 'monasca_log_api/app/controller/versions.py'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/2f2593fcce64cf384f236423961e830b5d38e6a6', 'message': 'Return valid url when querying versions endpoint\n\nUse rpartition instead of replace to do a more targeted stripping of\npath to render a correct base_uri.\n\nChange-Id: Idc2a5a6bd0e9e2675883f2188d4856b01ba5fdb8\nStory: 2006147\nTask: 35643\n'}]",3,668507,2f2593fcce64cf384f236423961e830b5d38e6a6,22,4,8,28022,,,0,"Return valid url when querying versions endpoint

Use rpartition instead of replace to do a more targeted stripping of
path to render a correct base_uri.

Change-Id: Idc2a5a6bd0e9e2675883f2188d4856b01ba5fdb8
Story: 2006147
Task: 35643
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/07/668507/8 && git format-patch -1 --stdout FETCH_HEAD,['monasca_log_api/app/controller/versions.py'],1,de8d455b796dd21ee4b1a9fe6282cff362be84ce,story/2006147, base_uri = self_uri.rsplit(req.path).pop(0) base_uri = self_uri.rsplit(req.path).pop(0)," base_uri = self_uri.replace(req.path, '') base_uri = self_uri.replace(req.path, '')",2,2
openstack%2Fpython-saharaclient~master~Iad4a6e933ad416eb67a2f144540fe79e97938bec,openstack/python-saharaclient,master,Iad4a6e933ad416eb67a2f144540fe79e97938bec,py3: use the train test template and other updates,MERGED,2019-06-25 10:10:08.000000000,2019-07-25 15:52:42.000000000,2019-07-25 15:52:42.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-06-25 10:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/8f7e96b222f084450561b82239a2161f80f89cc9', 'message': 'py3: use the train test template and other updates\n\nUse the unified unit test Zuul template for train, according the\ncommunity goal. Also, update the setup.cfg classifiers accordingly.\n\nFinally, update the debug test environment. Adding ""debug-py36""\nis enough; if a distribution supports 3.7, the ""debug"" tox environment\ncan be used.\n\nChange-Id: Iad4a6e933ad416eb67a2f144540fe79e97938bec\n'}, {'number': 2, 'created': '2019-07-11 14:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/ecc448421b905de3bf93752dbb4bb13a77f562aa', 'message': 'py3: use the train test template and other updates\n\nUse the unified unit test Zuul template for train, according the\ncommunity goal. Also, update the setup.cfg classifiers accordingly.\n\nUpdate the debug test environment. Adding ""debug-py36"" is enough;\nif a distribution supports 3.7, the ""debug"" tox environment\ncan be used.\n\nFinally, keep only the most recent environment in the default\nset executed when calling tox.\n\nChange-Id: Iad4a6e933ad416eb67a2f144540fe79e97938bec\n'}, {'number': 3, 'created': '2019-07-11 19:33:52.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/3107b452467537f4eef3d9ecfb5e35d110d19662', 'message': 'py3: use the train test template and other updates\n\nUse the unified unit test Zuul template for train, according the\ncommunity goal. Also, update the setup.cfg classifiers accordingly.\n\nUpdate the debug test environment. Adding ""debug-py36"" is enough;\nif a distribution supports 3.7, the ""debug"" tox environment\ncan be used.\n\nFinally, keep only the most recent environment in the default\nset executed when calling tox.\n\nStory: #2005924\nTask: #34244\n\nChange-Id: Iad4a6e933ad416eb67a2f144540fe79e97938bec\n'}]",0,667319,3107b452467537f4eef3d9ecfb5e35d110d19662,18,5,3,10459,,,0,"py3: use the train test template and other updates

Use the unified unit test Zuul template for train, according the
community goal. Also, update the setup.cfg classifiers accordingly.

Update the debug test environment. Adding ""debug-py36"" is enough;
if a distribution supports 3.7, the ""debug"" tox environment
can be used.

Finally, keep only the most recent environment in the default
set executed when calling tox.

Story: #2005924
Task: #34244

Change-Id: Iad4a6e933ad416eb67a2f144540fe79e97938bec
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/19/667319/3 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,8f7e96b222f084450561b82239a2161f80f89cc9,python3-train,[testenv:debug-py36] basepython = python3.6,[testenv:debug-py35] basepython = python3.5,4,6
openstack%2Fswift~master~Ib78e3da37bc291561072da60f00335b95477f165,openstack/swift,master,Ib78e3da37bc291561072da60f00335b95477f165,Probe tests for 'ignore 404s from handoff nodes',ABANDONED,2019-07-23 11:43:05.000000000,2019-07-25 15:45:25.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 11:43:05.000000000', 'files': ['test/probe/test_object_handoff.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/05d0b50405ab7cb54fd10c4fcac3cab5ee430918', 'message': ""Probe tests for 'ignore 404s from handoff nodes'\n\nChange-Id: Ib78e3da37bc291561072da60f00335b95477f165\n""}]",0,672268,05d0b50405ab7cb54fd10c4fcac3cab5ee430918,5,3,1,9625,,,0,"Probe tests for 'ignore 404s from handoff nodes'

Change-Id: Ib78e3da37bc291561072da60f00335b95477f165
",git fetch https://review.opendev.org/openstack/swift refs/changes/68/672268/1 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_object_handoff.py'],1,05d0b50405ab7cb54fd10c4fcac3cab5ee430918,probe_ignore_handoff," def test_missing_primaries(self): # Create container container = 'container-%s' % uuid4() client.put_container(self.url, self.token, container, headers={'X-Storage-Policy': self.policy.name}) # Create container/obj (goes to all three primaries) obj = 'object-%s' % uuid4() client.put_object(self.url, self.token, container, obj, 'VERIFY') odata = client.get_object(self.url, self.token, container, obj)[-1] if odata != 'VERIFY': raise Exception('Object GET did not return VERIFY, instead it ' 'returned: %s' % repr(odata)) # Kill all primaries obj server obj = 'object-%s' % uuid4() opart, onodes = self.object_ring.get_nodes( self.account, container, obj) for onode in onodes: kill_server((onode['ip'], onode['port']), self.ipport2server) # Indirectly (i.e., through proxy) try to GET object, it should return # a 503, since all primaries will Timeout and handoffs return a 404. try: client.get_object(self.url, self.token, container, obj) except client.ClientException as err: self.assertEqual(err.http_status, 503) else: self.fail(""Expected ClientException but didn't get it"") # Restart the first container/obj primary server again onode = onodes[0] start_server((onode['ip'], onode['port']), self.ipport2server) # Send a delete that will reach first primary and handoff. # Sure, the DELETE will return a 404 since the handoff doesn't # have a .data file, but object server will still write a # Tombstone in the handoff node! try: client.delete_object(self.url, self.token, container, obj) except client.ClientException as err: self.assertEqual(err.http_status, 404) # kill the first container/obj primary server again kill_server((onode['ip'], onode['port']), self.ipport2server) # a new GET should return a 404, since all primaries will Timeout # and the handoff will return a 404 but this time with a tombstone try: client.get_object(self.url, self.token, container, obj) except client.ClientException as err: self.assertEqual(err.http_status, 404) else: self.fail(""Expected ClientException but didn't get it"") def test_ec_primary_timeout(self): container_name = 'container-%s' % uuid4() object_name = 'object-%s' % uuid4() # create EC container headers = {'X-Storage-Policy': self.policy.name} client.put_container(self.url, self.token, container_name, headers=headers) # PUT object, should go to primary nodes old_contents = Body() client.put_object(self.url, self.token, container_name, object_name, contents=old_contents) # get our node lists opart, onodes = self.object_ring.get_nodes( self.account, container_name, object_name) # shutdown three of the primary data nodes for i in range(3): failed_primary = onodes[i] failed_primary_device_path = self.device_dir('object', failed_primary) self.kill_drive(failed_primary_device_path) # Indirectly (i.e., through proxy) try to GET object, it should return # a 503, since all primaries will Timeout and handoffs return a 404. try: client.get_object(self.url, self.token, container_name, object_name) except client.ClientException as err: self.assertEqual(err.http_status, 503) else: self.fail(""Expected ClientException but didn't get it"") # Send a delete to write down tombstones in the handoff nodes client.delete_object(self.url, self.token, container_name, object_name) # Now a new GET should return 404 because the handoff nodes # return a 404 with a Tombstone. try: client.get_object(self.url, self.token, container_name, object_name) except client.ClientException as err: self.assertEqual(err.http_status, 404) else: self.fail(""Expected ClientException but didn't get it"") ",,105,0
openstack%2Fglance~master~I57dcd6b18b0039e824e8adbe77de59079360a34f,openstack/glance,master,I57dcd6b18b0039e824e8adbe77de59079360a34f,Image deletion returns 500 if 'file' store is not enabled,MERGED,2019-07-11 06:14:09.000000000,2019-07-25 15:04:48.000000000,2019-07-25 14:01:46.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-11 06:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/88494445e460f60e5b95da0ab12d687db34d0ae2', 'message': ""Image deletion returns 500 if 'file' store is not enabled\n\nWhen image import fails during image is uploading from staging area,\nimage remains in uploading state and data remains in staging area. In\nthis scenario if 'file' store is not enabled then while deleting the\nimage glance-api returns 500 status code with error 'file' scheme is\nUnknwon.\n\nUsed os module to unlink the file present in staging area explicitly to\ndelete the data from staging area.\n\nChange-Id: I57dcd6b18b0039e824e8adbe77de59079360a34f\nCloses-Bug: #1836140\n""}, {'number': 2, 'created': '2019-07-22 06:04:20.000000000', 'files': ['glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/7f74a92338894d01feebf706663b1b5a10d99ece', 'message': ""Image deletion returns 500 if 'file' store is not enabled\n\nWhen image import fails during image is uploading from staging area,\nimage remains in uploading state and data remains in staging area. In\nthis scenario if 'file' store is not enabled then while deleting the\nimage glance-api returns 500 status code with error 'file' scheme is\nUnknwon.\n\nUsed os module to unlink the file present in staging area explicitly to\ndelete the data from staging area.\n\nChange-Id: I57dcd6b18b0039e824e8adbe77de59079360a34f\nCloses-Bug: #1836140\n""}]",0,670236,7f74a92338894d01feebf706663b1b5a10d99ece,15,6,2,9303,,,0,"Image deletion returns 500 if 'file' store is not enabled

When image import fails during image is uploading from staging area,
image remains in uploading state and data remains in staging area. In
this scenario if 'file' store is not enabled then while deleting the
image glance-api returns 500 status code with error 'file' scheme is
Unknwon.

Used os module to unlink the file present in staging area explicitly to
delete the data from staging area.

Change-Id: I57dcd6b18b0039e824e8adbe77de59079360a34f
Closes-Bug: #1836140
",git fetch https://review.opendev.org/openstack/glance refs/changes/36/670236/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py']",2,88494445e460f60e5b95da0ab12d687db34d0ae2,bp/rethinking-filesystem-access,"import os """"""Ensure uploading image is deleted (LP bug #1733289) Ensure image stuck in uploading state is deleted (LP bug #1836140) """""" with mock.patch.object(os.path, 'exists') as mock_exists: mock_exists.return_value = True with mock.patch.object(os, ""unlink"") as mock_unlik: self.controller.delete(request, image_id) self.assertEqual(1, mock_exists.call_count) self.assertEqual(1, mock_unlik.call_count) # Ensure that image is deleted image = self.db.image_get(request.context, image_id, force_show_deleted=True) self.assertTrue(image['deleted']) self.assertEqual('deleted', image['status']) def test_deletion_of_staging_data_failed(self): """"""Ensure uploading image is deleted (LP bug #1733289) Ensure image stuck in uploading state is deleted (LP bug #1836140) """""" request = unit_test_utils.get_fake_request(is_admin=True) image = self.db.image_create(request.context, {'status': 'uploading'}) image_id = image['id'] with mock.patch.object(os.path, 'exists') as mock_exists: mock_exists.return_value = False with mock.patch.object(os, ""unlink"") as mock_unlik: self.controller.delete(request, image_id) self.assertEqual(1, mock_exists.call_count) self.assertEqual(0, mock_unlik.call_count) # Ensure that image is deleted"," """"""Ensure status of uploading image is updated (LP bug #1733289)"""""" with mock.patch.object(self.store, 'delete_from_backend') as mock_store: self.controller.delete(request, image_id) # Ensure delete_from_backend is called self.assertEqual(1, mock_store.call_count) ",51,10
openstack%2Ftempest~master~I1bc8aec563f4f7920c555298896271e1e7111818,openstack/tempest,master,I1bc8aec563f4f7920c555298896271e1e7111818,Use password as fallback option during SSH to instance,ABANDONED,2019-07-25 11:38:20.000000000,2019-07-25 14:54:43.000000000,,[{'_account_id': 11975}],"[{'number': 1, 'created': '2019-07-25 11:38:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d1acc102d11973af04a21a5e90a25183ed5d5a47', 'message': 'Use password as fallback option during SSH to instance\n\nAs we have some known issues with configuring ssh key on\nthe instance using metadata service (see related bugs) maybe\nusing password as fallback authentication method while\nssh to the cirros based vms will help to make our CI jobs more\ngreen.\n\nChange-Id: I1bc8aec563f4f7920c555298896271e1e7111818\nRelated-Bug: #1821912\nRelated-Bug: #1836642\n'}]",0,672702,d1acc102d11973af04a21a5e90a25183ed5d5a47,3,1,1,11975,,,0,"Use password as fallback option during SSH to instance

As we have some known issues with configuring ssh key on
the instance using metadata service (see related bugs) maybe
using password as fallback authentication method while
ssh to the cirros based vms will help to make our CI jobs more
green.

Change-Id: I1bc8aec563f4f7920c555298896271e1e7111818
Related-Bug: #1821912
Related-Bug: #1836642
",git fetch https://review.opendev.org/openstack/tempest refs/changes/02/672702/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d1acc102d11973af04a21a5e90a25183ed5d5a47,bug/1821912," validation: image_ssh_password: ""gocubsgo""",,2,0
openstack%2Fneutron-tempest-plugin~master~I04c4e63442f22ffe90062c007f5920be63855f2f,openstack/neutron-tempest-plugin,master,I04c4e63442f22ffe90062c007f5920be63855f2f,Use password as fallback option during SSH to instance,ABANDONED,2019-07-23 14:48:19.000000000,2019-07-25 14:54:16.000000000,,"[{'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 24797}, {'_account_id': 30156}]","[{'number': 1, 'created': '2019-07-23 14:48:19.000000000', 'files': ['.zuul.yaml', 'neutron_tempest_plugin/common/ssh.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6d05a3146889f9edca52eb2dc60c766e682d6e7c', 'message': 'Use password as fallback option during SSH to instance\n\nAs we have some known issues with configuring ssh key on\nthe instance using metadata service (see related bugs) maybe\nusing password as fallback authentication method while\nssh to the cirros based vms will help to make our CI jobs more\ngreen.\n\nChange-Id: I04c4e63442f22ffe90062c007f5920be63855f2f\nRelated-Bug: #1821912\nRelated-Bug: #1836642\n'}]",3,672303,6d05a3146889f9edca52eb2dc60c766e682d6e7c,12,5,1,11975,,,0,"Use password as fallback option during SSH to instance

As we have some known issues with configuring ssh key on
the instance using metadata service (see related bugs) maybe
using password as fallback authentication method while
ssh to the cirros based vms will help to make our CI jobs more
green.

Change-Id: I04c4e63442f22ffe90062c007f5920be63855f2f
Related-Bug: #1821912
Related-Bug: #1836642
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/03/672303/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'neutron_tempest_plugin/common/ssh.py']",2,6d05a3146889f9edca52eb2dc60c766e682d6e7c,bug/1821912, password = password or CONF.validation.image_ssh_password,,3,0
openstack%2Fopenstack-ansible-os_ironic~stable%2Fstein~I89be92c55be9d892afc133d3a95a8227174d0b80,openstack/openstack-ansible-os_ironic,stable/stein,I89be92c55be9d892afc133d3a95a8227174d0b80,Add missing variable file for Redhat,MERGED,2019-07-24 20:16:28.000000000,2019-07-25 14:39:01.000000000,2019-07-25 14:39:01.000000000,"[{'_account_id': 1004}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-24 20:16:28.000000000', 'files': ['vars/redhat-7.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/5517867fb4136d0c029da3ca52d0306eaa665a4e', 'message': 'Add missing variable file for Redhat\n\nChange-Id: I89be92c55be9d892afc133d3a95a8227174d0b80\nSigned-off-by: Nicolas Bock <nicolas.bock@suse.com>\n(cherry picked from commit d7377d877e28ff983e55f00c099b8293f6063117)\n'}]",0,672588,5517867fb4136d0c029da3ca52d0306eaa665a4e,7,4,1,28008,,,0,"Add missing variable file for Redhat

Change-Id: I89be92c55be9d892afc133d3a95a8227174d0b80
Signed-off-by: Nicolas Bock <nicolas.bock@suse.com>
(cherry picked from commit d7377d877e28ff983e55f00c099b8293f6063117)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/88/672588/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'meta/main.yml']",2,5517867fb4136d0c029da3ca52d0306eaa665a4e,, - name: Debian versions: - stretch - name: Ubuntu versions: - xenial - bionic - name: opensuse versions: - 15 - name: EL versions: - 7, - name: Debian versions: - stretch - name: Ubuntu versions: - xenial - bionic,57,7
openstack%2Fopenstack-helm~master~Ia187ceea37f815a16048a1565d4d4cdb317c755e,openstack/openstack-helm,master,Ia187ceea37f815a16048a1565d4d4cdb317c755e,Imported Translations from Zanata,MERGED,2019-07-17 08:58:32.000000000,2019-07-25 14:36:35.000000000,2019-07-25 14:36:35.000000000,"[{'_account_id': 8749}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23625}]","[{'number': 1, 'created': '2019-07-17 08:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fda9edee3985d89fae8e81d0ba8f62e0ff8ca0e3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia187ceea37f815a16048a1565d4d4cdb317c755e\n'}, {'number': 2, 'created': '2019-07-18 08:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3661bd9b3deca480905b2589c23156420c79e131', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia187ceea37f815a16048a1565d4d4cdb317c755e\n'}, {'number': 3, 'created': '2019-07-20 08:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4e21e8fa17fe70e100414cb7693bf59241819c14', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia187ceea37f815a16048a1565d4d4cdb317c755e\n'}, {'number': 4, 'created': '2019-07-25 08:52:34.000000000', 'files': ['doc/source/locale/id/LC_MESSAGES/doc-devref.po', 'doc/source/locale/de/LC_MESSAGES/doc-devref.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-devref.po'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c5f7192b346f994736a332a8534c0300014161c5', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia187ceea37f815a16048a1565d4d4cdb317c755e\n'}]",0,671214,c5f7192b346f994736a332a8534c0300014161c5,18,5,4,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia187ceea37f815a16048a1565d4d4cdb317c755e
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/14/671214/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/id/LC_MESSAGES/doc-devref.po', 'doc/source/locale/de/LC_MESSAGES/doc-devref.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-devref.po']",3,fda9edee3985d89fae8e81d0ba8f62e0ff8ca0e3,zanata/translations,"""POT-Creation-Date: 2019-07-16 12:06+0000\n""","""POT-Creation-Date: 2019-05-27 21:13+0000\n""""Also note that other non-overridden values are inherited by hosts and labels "" ""with overrides. The following shows a set of example hosts and the values "" ""fed into the configmap for each:"" msgstr """" ""또한 다른 오버라이드되지 않은 값들은 오버라이드된 호스트와 라벨에 의해 상속됨"" ""을 참고하십시오. 다음은 호스트 예시 세트와 각 configmap 에 입력된 값들을 보여"" ""줍니다:"" msgid """"msgid ""Node and label specific configurations"" msgstr ""노드와 라벨 특정 구성"" ""There are situations where we need to define configuration differently for "" ""different nodes in the environment. For example, we may require that some "" ""nodes have a different vcpu_pin_set or other hardware specific deltas in "" ""nova.conf."" msgstr """" ""환경의 각각의 노드들에 대해 구성을 다르게 정의해야 하는 상황이 있습니다. 예"" ""를 들어, 어떤 노드가 nova.conf 에서 다른 vcpu_pi_set 또는 다른 하드웨어 특정 "" ""delta를 갖도록 요구할 수 있습니다."" msgid """"""To do this, we can specify overrides in the values fed to the chart. Ex:"" msgstr ""이를 위해, 차트에 입력된 값의 오버라이드를 명시할 수 있습니다. 예시:"" msgid """"",185,101
openstack%2Fopenstack-helm~master~I700133263273e04dad5b3e69d5e1f8255323e560,openstack/openstack-helm,master,I700133263273e04dad5b3e69d5e1f8255323e560,Nova: Update Cell management to allow db updates and improve rabbit,MERGED,2019-07-25 12:29:43.000000000,2019-07-25 14:31:15.000000000,2019-07-25 14:31:15.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-25 12:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2ca0670a1df091c395d9ff2afdfd002d2f7faac5', 'message': 'Nova: Update Cell management to allow db updates and improve rabbit\n\nThis PS allows the db connection string for the singular cell that OSH\ncurrently supports to be updated, and also uses the full connection\nstring for the transport url.\n\nChange-Id: I700133263273e04dad5b3e69d5e1f8255323e560\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-07-25 12:30:09.000000000', 'files': ['nova/templates/job-db-sync.yaml', 'nova/templates/bin/_db-sync.sh.tpl', 'nova/templates/secret_rabbitmq.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/09616b4f3fad451a15062eb3c2b794b11c51a035', 'message': 'Nova: Update Cell management to allow db updates and improve rabbit\n\nThis PS allows the db connection string for the singular cell that OSH\ncurrently supports to be updated, and also uses the full connection\nstring for the transport url.\n\nChange-Id: I700133263273e04dad5b3e69d5e1f8255323e560\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,672710,09616b4f3fad451a15062eb3c2b794b11c51a035,8,3,2,23928,,,0,"Nova: Update Cell management to allow db updates and improve rabbit

This PS allows the db connection string for the singular cell that OSH
currently supports to be updated, and also uses the full connection
string for the transport url.

Change-Id: I700133263273e04dad5b3e69d5e1f8255323e560
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/10/672710/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/job-db-sync.yaml', 'nova/templates/bin/_db-sync.sh.tpl', 'nova/templates/secret_rabbitmq.yaml']",3,2ca0670a1df091c395d9ff2afdfd002d2f7faac5,cell-management," TRANSPORT_URL: {{ tuple ""oslo_messaging"" ""internal"" $userClass ""amqp"" $envAll | include ""helm-toolkit.endpoints.authenticated_transport_endpoint_uri_lookup"" | b64enc }}"," TRANSPORT_URL: {{ tuple ""oslo_messaging"" ""internal"" $userClass ""amqp"" $envAll | include ""helm-toolkit.endpoints.authenticated_endpoint_uri_lookup"" | b64enc }}",23,11
openstack%2Fcharm-nova-cloud-controller~master~I3f74f18f649786fefa113fc3d8fa7c24010a185d,openstack/charm-nova-cloud-controller,master,I3f74f18f649786fefa113fc3d8fa7c24010a185d,stein: install python3-mysqldb for sqlalchemy dialect change,MERGED,2019-07-23 15:50:06.000000000,2019-07-25 14:25:30.000000000,2019-07-25 14:25:30.000000000,"[{'_account_id': 935}, {'_account_id': 7730}, {'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 15:50:06.000000000', 'files': ['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/3c806a23f6dada5b1bc4417099d328f97e5c7e2a', 'message': ""stein: install python3-mysqldb for sqlalchemy dialect change\n\nAt Stein, the default mysql dialect in SQLAlchemy switched back\nto MySQLDB in Ubuntu; as a result the db connection URL's stored\nin the nova_api database for Nova cells are stale and need to\nprefixed mysql+pymysql:// to work with the pymysql dialect.\n\nHowever at this point in time there is no way to update the DB\nURL for Nova Cell 0.\n\nThis fix works around this problem by installing python3-mysqldb\nwhich provides the default dialect needed when using mysql://\nprefixed DB connection URI's.\n\nChange-Id: I3f74f18f649786fefa113fc3d8fa7c24010a185d\nRelated-Bug: 1835037\n""}]",0,672321,3c806a23f6dada5b1bc4417099d328f97e5c7e2a,25,6,1,935,,,0,"stein: install python3-mysqldb for sqlalchemy dialect change

At Stein, the default mysql dialect in SQLAlchemy switched back
to MySQLDB in Ubuntu; as a result the db connection URL's stored
in the nova_api database for Nova cells are stale and need to
prefixed mysql+pymysql:// to work with the pymysql dialect.

However at this point in time there is no way to update the DB
URL for Nova Cell 0.

This fix works around this problem by installing python3-mysqldb
which provides the default dialect needed when using mysql://
prefixed DB connection URI's.

Change-Id: I3f74f18f649786fefa113fc3d8fa7c24010a185d
Related-Bug: 1835037
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/21/672321/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py']",2,3c806a23f6dada5b1bc4417099d328f97e5c7e2a,bug/1835037," if release >= 'stein': # NOTE(jamespage): # workaround to deal with lack of functionality to update the db # connection for Cell 0. At stein, the default SQLAlchemy dialect # switched to mysqldb, which requires use of mysql+pymysql:// in # all connection strings, but there is no way to update the # db url for cell0 as stored in the nova_api DB. packages.append('python3-mysqldb')",,25,1
openstack%2Fhorizon~master~Ie69f094bdee11eb7bdd9a005320a07715befb655,openstack/horizon,master,Ie69f094bdee11eb7bdd9a005320a07715befb655,Replace spaces with &nbsp;,NEW,2019-03-11 09:12:26.000000000,2019-07-25 14:10:49.000000000,,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-03-11 09:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/84e1c2a686a2daddeea5957d12362bea344c9598', 'message': ""add 'white-space:pre' to table\n\nIf there are multiple spaces in the middle of the name,\nmultiple spaces are displayed\n\nChange-Id: Ie69f094bdee11eb7bdd9a005320a07715befb655\nCloses-Bug: #1819424\n""}, {'number': 2, 'created': '2019-03-25 02:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d36ee19577c9db749efcf9a78df1c3970c178c08', 'message': 'Replace spaces with &nbsp;\n\nIf there are multiple spaces in the middle of the name,\nmultiple spaces are displayed\n\nChange-Id: Ie69f094bdee11eb7bdd9a005320a07715befb655\nCloses-Bug: #1819424\n'}, {'number': 3, 'created': '2019-03-25 06:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/cccf94ef58c81a68f394adec3a20d3cb8372b6ec', 'message': 'Replace spaces with &nbsp;\n\nIf there are multiple spaces in the middle of the name,\nmultiple spaces are displayed\n\nChange-Id: Ie69f094bdee11eb7bdd9a005320a07715befb655\nCloses-Bug: #1819424\n'}, {'number': 4, 'created': '2019-03-25 07:34:06.000000000', 'files': ['horizon/test/unit/utils/test_filters.py', 'openstack_dashboard/dashboards/project/instances/templates/instances/_detail_overview.html', 'horizon/tables/base.py', 'horizon/utils/filters.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/741ea2d6d17d010e07cef7295582b9ba4cbeabf3', 'message': 'Replace spaces with &nbsp;\n\nIf there are multiple spaces in the middle of the name,\nmultiple spaces are displayed\n\nChange-Id: Ie69f094bdee11eb7bdd9a005320a07715befb655\nCloses-Bug: #1819424\n'}]",4,642388,741ea2d6d17d010e07cef7295582b9ba4cbeabf3,11,3,4,27822,,,0,"Replace spaces with &nbsp;

If there are multiple spaces in the middle of the name,
multiple spaces are displayed

Change-Id: Ie69f094bdee11eb7bdd9a005320a07715befb655
Closes-Bug: #1819424
",git fetch https://review.opendev.org/openstack/horizon refs/changes/88/642388/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/templates/horizon/common/_data_table_cell.html'],1,84e1c2a686a2daddeea5957d12362bea344c9598,bug/1819424," <td{{ cell.attr_string|safe }} style=""white-space:pre;""> <td{{ cell.attr_string|safe }} style=""white-space:pre;""> <td{{ cell.attr_string|safe }} style=""white-space:pre;"">", <td{{ cell.attr_string|safe }}> <td{{ cell.attr_string|safe }}> <td{{ cell.attr_string|safe }}>,3,3
openstack%2Fproject-config~master~I7c2d8ef4cb52712e95cb76464f8120872ec2a4a6,openstack/project-config,master,I7c2d8ef4cb52712e95cb76464f8120872ec2a4a6,Cleanup in-tree removed jobs,MERGED,2019-07-18 06:55:47.000000000,2019-07-25 14:03:55.000000000,2019-07-25 14:03:55.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 7069}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-18 06:55:47.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/af39e14758178e900b31832fe000047068247b7f', 'message': 'Cleanup in-tree removed jobs\n\nopendev/subunit2sql repo has created in-tree jobs but not removed jobs\nand templates from project-config yet. So, this commit just removes\nthem.\n\nDepends-On: If0e74b8939dc86924e4fea73ddb1e5e7495629fe\nChange-Id: I7c2d8ef4cb52712e95cb76464f8120872ec2a4a6\n'}]",0,671412,af39e14758178e900b31832fe000047068247b7f,10,5,1,5689,,,0,"Cleanup in-tree removed jobs

opendev/subunit2sql repo has created in-tree jobs but not removed jobs
and templates from project-config yet. So, this commit just removes
them.

Depends-On: If0e74b8939dc86924e4fea73ddb1e5e7495629fe
Change-Id: I7c2d8ef4cb52712e95cb76464f8120872ec2a4a6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/12/671412/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,af39e14758178e900b31832fe000047068247b7f,cleanup-in-tree-removed-jobs,, - openstack-python-jobs-no-constraints - openstack-python35-jobs-no-constraints - release-notes-jobs - publish-openstack-docs-pti,0,4
openstack%2Fnova~master~Ibf08a9a9653bdc48ab1099a26fc9f9a9f70a33e2,openstack/nova,master,Ibf08a9a9653bdc48ab1099a26fc9f9a9f70a33e2,Remove old TODO about forced_host policy check,MERGED,2019-07-05 19:21:47.000000000,2019-07-25 14:01:35.000000000,2019-07-25 14:01:35.000000000,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-05 19:21:47.000000000', 'files': ['nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2db7d1e53e0ea7667e7d1c68732b6581b23a6876', 'message': 'Remove old TODO about forced_host policy check\n\nThe TODO added in Kilo [1] is removed here since\nwe have consolidated the server create extension\ncode into the main servers controller [2] which\nmakes the TODO irrelevant.\n\n[1] If3c68af8a438e77045b2b719873fc39e8473b6ea\n[2] I4d817e5516c8bea8f3bffb28683a1e041303dae9\n\nChange-Id: Ibf08a9a9653bdc48ab1099a26fc9f9a9f70a33e2\n'}]",0,669474,2db7d1e53e0ea7667e7d1c68732b6581b23a6876,16,11,1,6873,,,0,"Remove old TODO about forced_host policy check

The TODO added in Kilo [1] is removed here since
we have consolidated the server create extension
code into the main servers controller [2] which
makes the TODO irrelevant.

[1] If3c68af8a438e77045b2b719873fc39e8473b6ea
[2] I4d817e5516c8bea8f3bffb28683a1e041303dae9

Change-Id: Ibf08a9a9653bdc48ab1099a26fc9f9a9f70a33e2
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/669474/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/servers.py'],1,2db7d1e53e0ea7667e7d1c68732b6581b23a6876,remove-old-az-policy-check-todo,," # TODO(Shao He, Feng) move this policy check to os-availability-zone # extension after refactor it.",0,2
openstack%2Fnova~master~Id1c5493a7270f2d0594e918df8704f671416a221,openstack/nova,master,Id1c5493a7270f2d0594e918df8704f671416a221,Disambiguate logs in delete_allocation_for_instance,MERGED,2019-07-19 22:03:40.000000000,2019-07-25 14:01:27.000000000,2019-07-25 14:01:27.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}]","[{'number': 1, 'created': '2019-07-19 22:03:40.000000000', 'files': ['nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d02de0e149e14d9d507d125f8dec075e1e08ad85', 'message': 'Disambiguate logs in delete_allocation_for_instance\n\nTwo different error conditions in\nSchedulerReportClient.delete_allocation_for_instance printed the same\nwarning log, which could be confusing. Reword one of them to\ndisambiguate.\n\nChange-Id: Id1c5493a7270f2d0594e918df8704f671416a221\n'}]",2,671869,d02de0e149e14d9d507d125f8dec075e1e08ad85,21,11,1,14070,,,0,"Disambiguate logs in delete_allocation_for_instance

Two different error conditions in
SchedulerReportClient.delete_allocation_for_instance printed the same
warning log, which could be confusing. Reword one of them to
disambiguate.

Change-Id: Id1c5493a7270f2d0594e918df8704f671416a221
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/671869/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/client/report.py'],1,d02de0e149e14d9d507d125f8dec075e1e08ad85,disambiguate-message," '%(uuid)s. Got %(code)i while retrieving existing ' 'allocations: (%(text)s)',"," '%(uuid)s: (%(code)i %(text)s)',",2,1
openstack%2Fnova~master~I61cee4245e612b4bef1ffaacc634a8302cf836e9,openstack/nova,master,I61cee4245e612b4bef1ffaacc634a8302cf836e9,Fix cleaning up console tokens,MERGED,2019-02-19 07:38:45.000000000,2019-07-25 14:01:19.000000000,2019-07-25 14:01:19.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10338}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23312}, {'_account_id': 23498}, {'_account_id': 26233}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-02-19 07:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9139f5f15aea6e29ca81a38f457261d1a9831a0f', 'message': ""Fix cleaning up console tokens\n\nThe periodic task to clean up expired console_auth tokens\ndoes not work properly because there are cases that\n'host' in the 'console_auth_tokens' table is different from\nhosts where nova-compute processes run.\n\nThis patch fixes cases that host in the table is\none of configuration option values.\n\nThe subsequent patch will fix other cases.\n\nChange-Id: I61cee4245e612b4bef1ffaacc634a8302cf836e9\nPartial-Bug: #1816399\n""}, {'number': 2, 'created': '2019-03-08 01:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfc431c3b9960638a4517f4238a10014ebad2cdf', 'message': ""Fix cleaning up console tokens\n\nThe periodic task to clean up expired console_auth tokens\ndoes not work properly because there are cases that\n'host' in the 'console_auth_tokens' table is different from\nhosts where nova-compute processes run.\n\nThis patch fixes cases that host in the table is\none of configuration option values.\n\nThe subsequent patch will fix other cases.\n\nChange-Id: I61cee4245e612b4bef1ffaacc634a8302cf836e9\nPartial-Bug: #1816399\n""}, {'number': 3, 'created': '2019-03-14 21:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f825a6268688f260f678b62dab2551e0ca32da17', 'message': ""Fix cleaning up console tokens\n\nThe periodic task to clean up expired console_auth tokens\ndoes not work properly because there are cases that\n'host' in the 'console_auth_tokens' table is different from\nhosts where nova-compute processes run.\n\nThis patch fixes cases that host in the table is\none of configuration option values.\n\nThe subsequent patch will fix other cases.\n\nChange-Id: I61cee4245e612b4bef1ffaacc634a8302cf836e9\nPartial-Bug: #1816399\n""}, {'number': 4, 'created': '2019-03-26 01:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e43cac524dc2084de54092ea55b19a30e73f30f', 'message': ""Fix cleaning up console tokens\n\nThe periodic task to clean up expired console_auth tokens\ndoes not work properly because there are cases that\n'host' in the 'console_auth_tokens' table is different from\nhosts where nova-compute processes run.\n\nThis patch fixes cases that host in the table is\none of configuration option values.\n\nThe subsequent patch will fix other cases.\n\nChange-Id: I61cee4245e612b4bef1ffaacc634a8302cf836e9\nPartial-Bug: #1816399\n""}, {'number': 5, 'created': '2019-04-05 01:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6020ac5fd65e1dfc0fd9790de077ed7d3e33a7d', 'message': ""Fix cleaning up console tokens\n\nThe periodic task to clean up expired console_auth tokens\ndoes not work properly because there are cases that\n'host' in the 'console_auth_tokens' table is different from\nhosts where nova-compute processes run.\n\nThis patch fixes cases that host in the table is\none of configuration option values.\n\nThe subsequent patch will fix other cases.\n\nChange-Id: I61cee4245e612b4bef1ffaacc634a8302cf836e9\nPartial-Bug: #1816399\n""}, {'number': 6, 'created': '2019-04-15 03:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0011b78017591b488291de2d0e1e88efdceae810', 'message': ""Fix cleaning up console tokens\n\nThe periodic task to clean up expired console_auth tokens\ndoes not work properly because there are cases that\n'host' in the 'console_auth_tokens' table is different from\nhosts where nova-compute processes run.\n\nThis patch fixes cases that host in the table is\none of configuration option values.\n\nThe subsequent patch will fix other cases.\n\nChange-Id: I61cee4245e612b4bef1ffaacc634a8302cf836e9\nPartial-Bug: #1816399\n""}, {'number': 7, 'created': '2019-04-18 06:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5176635fcee0f90f1ec888f44983a0dbf98b76a9', 'message': ""Fix cleaning up console tokens\n\nThe periodic task to clean up expired console_auth tokens\ndoes not work properly because there are cases that\n'host' in the 'console_auth_tokens' table is different from\nhosts where nova-compute processes run.\n\nThis patch fixes cases that host in the table is\none of configuration option values.\n\nThe subsequent patch will fix other cases.\n\nChange-Id: I61cee4245e612b4bef1ffaacc634a8302cf836e9\nPartial-Bug: #1816399\n""}, {'number': 8, 'created': '2019-04-25 21:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82cf666cdbbe096720a0168c362c5c4a07e801bf', 'message': ""Fix cleaning up console tokens\n\nThe periodic task to clean up expired console_auth tokens\ndoes not work properly because there are cases that\n'host' in the 'console_auth_tokens' table is different from\nhosts where nova-compute processes run.\n\nThis patch fixes cases that host in the table is\none of configuration option values.\n\nThe subsequent patch will fix other cases.\n\nChange-Id: I61cee4245e612b4bef1ffaacc634a8302cf836e9\nPartial-Bug: #1816399\n""}, {'number': 9, 'created': '2019-05-03 14:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba00b35da0c3bcaf83882b820c467c6a10fc8deb', 'message': ""Fix cleaning up console tokens\n\nThe periodic task to clean up expired console_auth tokens\ndoes not work properly because there are cases that 'host'\nin the 'console_auth_tokens' table is different from\nhosts where nova-compute processes run.\n\nSo make the periodic task to clear all expired console tokens\nregardless of hosts where nova-compute processes run.\n\nChange-Id: I61cee4245e612b4bef1ffaacc634a8302cf836e9\nPartial-Bug: #1816399\n""}, {'number': 10, 'created': '2019-05-03 14:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8298127675a3b9efa41751f5479345dba188242f', 'message': ""Fix cleaning up console tokens\n\nThe periodic task to clean up expired console_auth tokens\ndoes not work properly because there are cases that 'host'\nin the 'console_auth_tokens' table is different from\nhosts where nova-compute processes run.\n\nSo make the periodic task to clear all expired console tokens\nregardless of hosts where nova-compute processes run.\n\nChange-Id: I61cee4245e612b4bef1ffaacc634a8302cf836e9\nPartial-Bug: #1816399\n""}, {'number': 11, 'created': '2019-05-03 15:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e97f12bf993b12bf3a82dffc8db8f008cfe5ab7', 'message': ""Fix cleaning up console tokens\n\nThe periodic task to clean up expired console_auth tokens\ndoes not work properly because there are cases that 'host'\nin the 'console_auth_tokens' table is different from\nhosts where nova-compute processes run.\n\nSo make the periodic task to clear all expired console tokens\nregardless of hosts where nova-compute processes run.\n\nChange-Id: I61cee4245e612b4bef1ffaacc634a8302cf836e9\nCloses-Bug: #1816399\n""}, {'number': 12, 'created': '2019-05-13 04:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62cf3cd834e960f6dfc4ca76208f911a088f4322', 'message': ""Fix cleaning up console tokens\n\nThe periodic task to clean up expired console_auth tokens\ndoes not work properly because there are cases that 'host'\nin the 'console_auth_tokens' table is different from\nhosts where nova-compute processes run.\n\nSo make the periodic task to clear all expired console tokens\nregardless of hosts where nova-compute processes run.\n\nChange-Id: I61cee4245e612b4bef1ffaacc634a8302cf836e9\nCloses-Bug: #1816399\n""}, {'number': 13, 'created': '2019-05-28 01:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c3f8b71078b5c39c8016b641d64ae5c1a20c63b', 'message': ""Fix cleaning up console tokens\n\nThe periodic task to clean up expired console_auth tokens\ndoes not work properly because there are cases that 'host'\nin the 'console_auth_tokens' table is different from\nhosts where nova-compute processes run.\n\nSo make the periodic task to clear all expired console tokens\nregardless of hosts where nova-compute processes run.\n\nChange-Id: I61cee4245e612b4bef1ffaacc634a8302cf836e9\nCloses-Bug: #1816399\n""}, {'number': 14, 'created': '2019-06-06 23:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38483811196bb125c109b47701714b49b4e43ad6', 'message': ""Fix cleaning up console tokens\n\nThe periodic task to clean up expired console_auth tokens\ndoes not work properly because there are cases that 'host'\nin the 'console_auth_tokens' table is different from\nhosts where nova-compute processes run.\n\nSo make the periodic task to clear all expired console tokens\nregardless of hosts where nova-compute processes run.\n\nChange-Id: I61cee4245e612b4bef1ffaacc634a8302cf836e9\nCloses-Bug: #1816399\n""}, {'number': 15, 'created': '2019-06-13 08:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45f6c73537ff6f1a051140451715b507437d5ce7', 'message': ""Fix cleaning up console tokens\n\nThe periodic task to clean up expired console_auth tokens\ndoes not work properly because there are cases that 'host'\nin the 'console_auth_tokens' table is different from\nhosts where nova-compute processes run.\n\nSo make the periodic task to clear all expired console tokens\nregardless of hosts where nova-compute processes run.\n\nChange-Id: I61cee4245e612b4bef1ffaacc634a8302cf836e9\nCloses-Bug: #1816399\n""}, {'number': 16, 'created': '2019-06-21 04:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6290653591a3ed4f9812b70ef9bb72290517f500', 'message': ""Fix cleaning up console tokens\n\nThe periodic task to clean up expired console_auth tokens\ndoes not work properly because there are cases that 'host'\nin the 'console_auth_tokens' table is different from\nhosts where nova-compute processes run.\n\nSo make the periodic task to clear all expired console tokens\nregardless of hosts where nova-compute processes run.\n\nChange-Id: I61cee4245e612b4bef1ffaacc634a8302cf836e9\nCloses-Bug: #1816399\n""}, {'number': 17, 'created': '2019-06-27 07:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bdcac2b1ec86b4d9db8d28c55a59ecee0f7a0571', 'message': ""Fix cleaning up console tokens\n\nThe periodic task to clean up expired console_auth tokens\ndoes not work properly because there are cases that 'host'\nin the 'console_auth_tokens' table is different from\nhosts where nova-compute processes run.\n\nSo make the periodic task to clear all expired console tokens\nregardless of hosts where nova-compute processes run.\n\nChange-Id: I61cee4245e612b4bef1ffaacc634a8302cf836e9\nCloses-Bug: #1816399\n""}, {'number': 18, 'created': '2019-07-07 22:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0ef360757ba421bbc833cb0d842a06227b72e91', 'message': ""Fix cleaning up console tokens\n\nThe periodic task to clean up expired console_auth tokens\ndoes not work properly because there are cases that 'host'\nin the 'console_auth_tokens' table is different from\nhosts where nova-compute processes run.\n\nSo make the periodic task to clear all expired console tokens\nregardless of hosts where nova-compute processes run.\n\nChange-Id: I61cee4245e612b4bef1ffaacc634a8302cf836e9\nCloses-Bug: #1816399\n""}, {'number': 19, 'created': '2019-07-18 21:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59f9c455e6072940f4a60c28e26a37ce14da6825', 'message': ""Fix cleaning up console tokens\n\nThe periodic task to clean up expired console_auth tokens\ndoes not work properly because there are cases that 'host'\nin the 'console_auth_tokens' table is different from\nhosts where nova-compute processes run.\n\nSo make the periodic task to clear all expired console tokens\nregardless of hosts where nova-compute processes run.\n\nChange-Id: I61cee4245e612b4bef1ffaacc634a8302cf836e9\nCloses-Bug: #1816399\n""}, {'number': 20, 'created': '2019-07-19 02:38:41.000000000', 'files': ['nova/tests/unit/objects/test_console_auth_token.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_objects.py', 'nova/objects/console_auth_token.py', 'nova/compute/manager.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/57112a7174945cdcd9f395d20fd6a242cecf5072', 'message': ""Fix cleaning up console tokens\n\nThe periodic task to clean up expired console_auth tokens\ndoes not work properly because there are cases that 'host'\nin the 'console_auth_tokens' table is different from\nhosts where nova-compute processes run.\n\nSo make the periodic task to clear all expired console tokens\nregardless of hosts where nova-compute processes run.\n\nChange-Id: I61cee4245e612b4bef1ffaacc634a8302cf836e9\nCloses-Bug: #1816399\n""}]",13,637716,57112a7174945cdcd9f395d20fd6a242cecf5072,258,20,20,7634,,,0,"Fix cleaning up console tokens

The periodic task to clean up expired console_auth tokens
does not work properly because there are cases that 'host'
in the 'console_auth_tokens' table is different from
hosts where nova-compute processes run.

So make the periodic task to clear all expired console tokens
regardless of hosts where nova-compute processes run.

Change-Id: I61cee4245e612b4bef1ffaacc634a8302cf836e9
Closes-Bug: #1816399
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/637716/15 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,9139f5f15aea6e29ca81a38f457261d1a9831a0f,bug/1816399," for host in self._get_console_hosts(): objects.ConsoleAuthToken.\ clean_expired_console_auths_for_host(context, host) def _get_console_hosts(self): hosts = [CONF.vnc.server_proxyclient_address, CONF.spice.server_proxyclient_address, CONF.serial_console.proxyclient_address, CONF.my_ip] # TODO(takashin): The following cases should be added. # 1. Serial console in libvirt # 2. Serial console in Ironic # 3. VNC console in VMware # 4. MKS console in VMware return list(set(hosts))"," objects.ConsoleAuthToken.\ clean_expired_console_auths_for_host(context, self.host)",47,5
openstack%2Fnova~master~I60f251cf76eeb7ec0953ad085f3606b0edf5535c,openstack/nova,master,I60f251cf76eeb7ec0953ad085f3606b0edf5535c,Consts for need_healing,MERGED,2019-07-23 13:05:13.000000000,2019-07-25 14:01:12.000000000,2019-07-25 14:01:12.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-23 13:05:13.000000000', 'files': ['nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7df7029056245f2d8306bca055ceaa3b7063b35f', 'message': 'Consts for need_healing\n\nFollowup for [1], this creates private module-level constants for the\n``need_healing`` toggle used in the code, indicating whether the\nallocations need to be healed by creating them or by updating existing\nallocations.\n\n[1] https://review.opendev.org/#/c/668925/7/nova/cmd/manage.py@2069\n\nChange-Id: I60f251cf76eeb7ec0953ad085f3606b0edf5535c\n'}]",0,672284,7df7029056245f2d8306bca055ceaa3b7063b35f,21,12,1,14070,,,0,"Consts for need_healing

Followup for [1], this creates private module-level constants for the
``need_healing`` toggle used in the code, indicating whether the
allocations need to be healed by creating them or by updating existing
allocations.

[1] https://review.opendev.org/#/c/668925/7/nova/cmd/manage.py@2069

Change-Id: I60f251cf76eeb7ec0953ad085f3606b0edf5535c
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/672284/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,7df7029056245f2d8306bca055ceaa3b7063b35f,bug/1819923,# Consts indicating whether allocations need to be healed by creating them or # by updating existing allocations. _CREATE = 'create' _UPDATE = 'update' need_healing = _CREATE need_healing = _UPDATE need_healing = need_healing or _UPDATE if need_healing == _CREATE: elif need_healing == _UPDATE: if need_healing == _CREATE: elif need_healing == _UPDATE:, need_healing = 'create' need_healing = 'update' need_healing = need_healing or 'update' if need_healing == 'create': elif need_healing == 'update': if need_healing == 'create': elif need_healing == 'update':,11,7
openstack%2Freleases~master~I971bc29e2ab12999c3384385a8c55a4ed0a3c361,openstack/releases,master,I971bc29e2ab12999c3384385a8c55a4ed0a3c361,Release Tempest 21.0.0,MERGED,2019-07-13 16:00:57.000000000,2019-07-25 13:57:36.000000000,2019-07-25 13:57:36.000000000,"[{'_account_id': 308}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2019-07-13 16:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c7ab6dbd21ca284d4aa5df4430bae5a05841ac5c', 'message': 'Release Tempest 21.0.0\n\nRelease 21.0.0 for Tempest marks end of support for Pike,\nas Pike is now EM.\n\nChange-Id: I971bc29e2ab12999c3384385a8c55a4ed0a3c361\n'}, {'number': 2, 'created': '2019-07-22 08:37:49.000000000', 'files': ['deliverables/train/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/314001f20fea9b57d9631690f36a5a57eab72da6', 'message': 'Release Tempest 21.0.0\n\nRelease 21.0.0 for Tempest marks end of support for Pike,\nas Pike is now EM.\n\nChange-Id: I971bc29e2ab12999c3384385a8c55a4ed0a3c361\n'}]",0,670700,314001f20fea9b57d9631690f36a5a57eab72da6,13,8,2,8556,,,0,"Release Tempest 21.0.0

Release 21.0.0 for Tempest marks end of support for Pike,
as Pike is now EM.

Change-Id: I971bc29e2ab12999c3384385a8c55a4ed0a3c361
",git fetch https://review.opendev.org/openstack/releases refs/changes/00/670700/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/tempest.yaml'],1,c7ab6dbd21ca284d4aa5df4430bae5a05841ac5c,release-tempest-21.0.0,releases: - projects: - repo: openstack/tempest hash: d605315e7f7e1f71cc20437049daca6430f3cfb4 version: 21.0.0,,5,0
openstack%2Fmonasca-transform~master~Ie61fac97b10ce6bf3a9eaf078d8ab10030e6d8a2,openstack/monasca-transform,master,Ie61fac97b10ce6bf3a9eaf078d8ab10030e6d8a2,do not set INFLUXDB_VERSION,MERGED,2019-07-10 14:44:53.000000000,2019-07-25 13:55:25.000000000,2019-07-25 13:55:25.000000000,"[{'_account_id': 16222}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-10 14:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/367972a9c35a17c33ba52022e461cda09f78c066', 'message': 'WIP do not set INFLUXDB_VERSION\n\ninfluxdb was updated to 1.7.6 and older config is no longer updated.\nalso we are using python version of monasca-api and 0.9.5 is needed for\njava version.\nso removing this default to let monasca-api handle it\n\nChange-Id: Ie61fac97b10ce6bf3a9eaf078d8ab10030e6d8a2\n'}, {'number': 2, 'created': '2019-07-11 08:26:31.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/9ae88c7af4d4ef52f9472ea2250a4120cc2c2722', 'message': 'do not set INFLUXDB_VERSION\n\ninfluxdb was updated to 1.7.6[1].\n\nAlso we are using python version of monasca-api and 0.9.5 is needed for\njava version.\nSo removing this default to let monasca-api handle the variables value\n\n1 - I14f441f5fee46fa273bc4ea1d57662c2e4ac60c2\n\nChange-Id: Ie61fac97b10ce6bf3a9eaf078d8ab10030e6d8a2\n'}]",0,670080,9ae88c7af4d4ef52f9472ea2250a4120cc2c2722,10,3,2,23735,,,0,"do not set INFLUXDB_VERSION

influxdb was updated to 1.7.6[1].

Also we are using python version of monasca-api and 0.9.5 is needed for
java version.
So removing this default to let monasca-api handle the variables value

1 - I14f441f5fee46fa273bc4ea1d57662c2e4ac60c2

Change-Id: Ie61fac97b10ce6bf3a9eaf078d8ab10030e6d8a2
",git fetch https://review.opendev.org/openstack/monasca-transform refs/changes/80/670080/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,367972a9c35a17c33ba52022e461cda09f78c066,,,INFLUXDB_VERSION=${INFLUXDB_VERSION:-0.9.5},0,1
openstack%2Freleases~master~If4aa87189b00d1fab32841f1f05a66e6c69a852f,openstack/releases,master,If4aa87189b00d1fab32841f1f05a66e6c69a852f,Release new version of neutron-tempest-plugin,MERGED,2019-07-22 09:04:43.000000000,2019-07-25 13:52:04.000000000,2019-07-25 13:52:04.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 29350}, {'_account_id': 30156}]","[{'number': 1, 'created': '2019-07-22 09:04:43.000000000', 'files': ['deliverables/train/neutron-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f95292ccbe9cc59a46cf2e21310c7dc7098ce3d3', 'message': ""Release new version of neutron-tempest-plugin\n\nThis patch propose to release new version of neutron-tempest-plugin\n(version 0.4.0) as it has some important fixes, like [1] which aren't\nincluded in e.g. 0.3.0 version and having new release with this patch\nwill help packaging projects (like RDO).\nIt also switches back release model of neutron-tempest-plugin from\n'cycly-automatic' to 'cycle-with-intermediary'.\n\n[1] https://review.opendev.org/#/c/619207/\n\nChange-Id: If4aa87189b00d1fab32841f1f05a66e6c69a852f\n""}]",0,671994,f95292ccbe9cc59a46cf2e21310c7dc7098ce3d3,12,8,1,11975,,,0,"Release new version of neutron-tempest-plugin

This patch propose to release new version of neutron-tempest-plugin
(version 0.4.0) as it has some important fixes, like [1] which aren't
included in e.g. 0.3.0 version and having new release with this patch
will help packaging projects (like RDO).
It also switches back release model of neutron-tempest-plugin from
'cycly-automatic' to 'cycle-with-intermediary'.

[1] https://review.opendev.org/#/c/619207/

Change-Id: If4aa87189b00d1fab32841f1f05a66e6c69a852f
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/671994/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/neutron-tempest-plugin.yaml'],1,f95292ccbe9cc59a46cf2e21310c7dc7098ce3d3,new-neutron-tempest-plugin,release-model: cycle-with-intermediaryreleases: - projects: - hash: a7bb1619d43b413eb8d5849eb6df8d0dee260660 repo: openstack/neutron-tempest-plugin version: 0.4.0,release-model: cycle-automatic,6,1
openstack%2Fnova~master~Iea1e25ce8364353634de91274756fcbb94c4fdb8,openstack/nova,master,Iea1e25ce8364353634de91274756fcbb94c4fdb8,[libvirt] Avoid create swap definition in xml,ABANDONED,2018-04-13 04:51:06.000000000,2019-07-25 13:51:56.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-13 04:51:06.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/812d10b880efa5d981dee3b9352fe529bfc33712', 'message': ""[libvirt] Avoid create swap definition in xml\n\nwhen resize instance, it's possible that resize from\nflavor with swap to flavor without swap, this leaves\ndisk_mapping has swap defintion while the target instance's\nswap is 0; if we don't do check , we will create defintion\nin xml file but no disk exists on the host and lead to error.\n\nNot sure this is right fix so will add UT later on\n\nChange-Id: Iea1e25ce8364353634de91274756fcbb94c4fdb8\nCloses-Bug: 1762423\n""}]",0,561122,812d10b880efa5d981dee3b9352fe529bfc33712,14,12,1,6062,,,0,"[libvirt] Avoid create swap definition in xml

when resize instance, it's possible that resize from
flavor with swap to flavor without swap, this leaves
disk_mapping has swap defintion while the target instance's
swap is 0; if we don't do check , we will create defintion
in xml file but no disk exists on the host and lead to error.

Not sure this is right fix so will add UT later on

Change-Id: Iea1e25ce8364353634de91274756fcbb94c4fdb8
Closes-Bug: 1762423
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/561122/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,812d10b880efa5d981dee3b9352fe529bfc33712,bug/1762423, if 'disk.swap' in disk_mapping and inst_type['swap'] > 0:, if 'disk.swap' in disk_mapping:,1,1
openstack%2Fnova~master~I2df5010f50c032ae57adb2d128824a05a9189f9d,openstack/nova,master,I2df5010f50c032ae57adb2d128824a05a9189f9d,Remove super old unnecessary TODO from API start() method,MERGED,2019-07-23 17:05:41.000000000,2019-07-25 13:43:37.000000000,2019-07-25 13:43:37.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-23 17:05:41.000000000', 'files': ['nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7e85335f2ef12082bc14e7ea72cf401840cd6700', 'message': 'Remove super old unnecessary TODO from API start() method\n\nThe ec2 API is not in tree nor does the start instance flow\ndeal with injected files or availability zones so remove the\nreally old TODO from when the API method was added in 2011.\n\nChange-Id: I2df5010f50c032ae57adb2d128824a05a9189f9d\n'}]",0,672330,7e85335f2ef12082bc14e7ea72cf401840cd6700,15,11,1,6873,,,0,"Remove super old unnecessary TODO from API start() method

The ec2 API is not in tree nor does the start instance flow
deal with injected files or availability zones so remove the
really old TODO from when the API method was added in 2011.

Change-Id: I2df5010f50c032ae57adb2d128824a05a9189f9d
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/672330/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,7e85335f2ef12082bc14e7ea72cf401840cd6700,rm-old-start-api-todo,, # TODO(yamahata): injected_files isn't supported right now. # It is used only for osapi. not for ec2 api. # availability_zone isn't used by run_instance.,0,3
openstack%2Fcloudkitty~master~I7aadc314ceb5e36277bb51f55065ef558f10a7f2,openstack/cloudkitty,master,I7aadc314ceb5e36277bb51f55065ef558f10a7f2,Remove usage of unix timestamps,MERGED,2019-06-05 12:02:04.000000000,2019-07-25 13:29:33.000000000,2019-07-25 13:29:33.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-06-05 12:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/0cdd14e99daa654020b9fb22046be8a037c62210', 'message': ""Remove usage of unix timestamps\n\nThis removes usage of unix timestamps in the codebase. They're replaced by\ndatetime objects. This is part of a larger effort aiming at making cloudkitty\ntimezone-aware. Timezone information will be added to the datetime objects\nin another patch.\n\nChange-Id: I7aadc314ceb5e36277bb51f55065ef558f10a7f2\nStory: 2005319\nTask: 30235\n""}, {'number': 2, 'created': '2019-07-04 14:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/c49fad9e0caf06c43fc790189398b3745601da78', 'message': ""Remove usage of unix timestamps\n\nThis removes usage of unix timestamps in the codebase. They're replaced by\ndatetime objects. This is part of a larger effort aiming at making cloudkitty\ntimezone-aware. Timezone information will be added to the datetime objects\nin another patch.\n\nChange-Id: I7aadc314ceb5e36277bb51f55065ef558f10a7f2\nStory: 2005319\nTask: 30235\n""}, {'number': 3, 'created': '2019-07-05 08:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/e7670f3098b00ad5a22f25187908255eb719890e', 'message': ""Remove usage of unix timestamps\n\nThis removes usage of unix timestamps in the codebase. They're replaced by\ndatetime objects. This is part of a larger effort aiming at making cloudkitty\ntimezone-aware. Timezone information will be added to the datetime objects\nin another patch.\n\nChange-Id: I7aadc314ceb5e36277bb51f55065ef558f10a7f2\nStory: 2005319\nTask: 30235\n""}, {'number': 4, 'created': '2019-07-05 09:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/e3d8483ccb0a22767af5a92e5261daa9ae8cbce2', 'message': ""Remove usage of unix timestamps\n\nThis removes usage of unix timestamps in the codebase. They're replaced by\ndatetime objects. This is part of a larger effort aiming at making cloudkitty\ntimezone-aware. Timezone information will be added to the datetime objects\nin another patch.\n\nChange-Id: I7aadc314ceb5e36277bb51f55065ef558f10a7f2\nStory: 2005319\nTask: 30235\n""}, {'number': 5, 'created': '2019-07-19 09:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/770162d4745ad01ef996b0a23d7dadbe1b9812d6', 'message': ""Remove usage of unix timestamps\n\nThis removes usage of unix timestamps in the codebase. They're replaced by\ndatetime objects. This is part of a larger effort aiming at making cloudkitty\ntimezone-aware. Timezone information will be added to the datetime objects\nin another patch.\n\nChange-Id: I7aadc314ceb5e36277bb51f55065ef558f10a7f2\nStory: 2005319\nTask: 30235\n""}, {'number': 6, 'created': '2019-07-24 12:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/8ff1eccaa5a2d4a3f301c63ec92e172d122a4bed', 'message': ""Remove usage of unix timestamps\n\nThis removes usage of unix timestamps in the codebase. They're replaced by\ndatetime objects. This is part of a larger effort aiming at making cloudkitty\ntimezone-aware. Timezone information will be added to the datetime objects\nin another patch.\n\nChange-Id: I7aadc314ceb5e36277bb51f55065ef558f10a7f2\nStory: 2005319\nTask: 30235\n""}, {'number': 7, 'created': '2019-07-24 12:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/9f22adb577dc4ccf6006517479a3c5ab5faf9676', 'message': ""Remove usage of unix timestamps\n\nThis removes usage of unix timestamps in the codebase. They're replaced by\ndatetime objects. This is part of a larger effort aiming at making cloudkitty\ntimezone-aware. Timezone information will be added to the datetime objects\nin another patch.\n\nChange-Id: I7aadc314ceb5e36277bb51f55065ef558f10a7f2\nStory: 2005319\nTask: 30235\n""}, {'number': 8, 'created': '2019-07-24 14:42:46.000000000', 'files': ['cloudkitty/storage/v1/__init__.py', 'cloudkitty/storage/v1/sqlalchemy/models.py', 'cloudkitty/storage/v1/sqlalchemy/__init__.py', 'cloudkitty/api/v1/controllers/storage.py', 'cloudkitty/api/v2/scope/state.py', 'cloudkitty/collector/__init__.py', 'cloudkitty/tests/storage/v2/influx_utils.py', 'cloudkitty/orchestrator.py', 'cloudkitty/collector/prometheus.py', 'cloudkitty/tests/collectors/test_prometheus.py', 'cloudkitty/tests/gabbi/fixtures.py', 'cloudkitty/storage_state/__init__.py', 'cloudkitty/tests/samples.py', 'cloudkitty/storage/v1/hybrid/__init__.py', 'cloudkitty/utils.py', 'cloudkitty/tests/storage/v1/test_storage.py', 'cloudkitty/storage/v2/influx.py', 'cloudkitty/tests/collectors/test_monasca.py', 'cloudkitty/tests/utils.py', 'cloudkitty/collector/gnocchi.py', 'cloudkitty/collector/monasca.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/0c1546d4aa46b44a8e4674c096cbf1c027069b63', 'message': ""Remove usage of unix timestamps\n\nThis removes usage of unix timestamps in the codebase. They're replaced by\ndatetime objects. This is part of a larger effort aiming at making cloudkitty\ntimezone-aware. Timezone information will be added to the datetime objects\nin another patch.\n\nChange-Id: I7aadc314ceb5e36277bb51f55065ef558f10a7f2\nStory: 2005319\nTask: 30235\n""}]",0,663308,0c1546d4aa46b44a8e4674c096cbf1c027069b63,25,3,8,23060,,,0,"Remove usage of unix timestamps

This removes usage of unix timestamps in the codebase. They're replaced by
datetime objects. This is part of a larger effort aiming at making cloudkitty
timezone-aware. Timezone information will be added to the datetime objects
in another patch.

Change-Id: I7aadc314ceb5e36277bb51f55065ef558f10a7f2
Story: 2005319
Task: 30235
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/08/663308/8 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/storage/v1/__init__.py', 'cloudkitty/storage/v1/sqlalchemy/__init__.py', 'cloudkitty/api/v1/controllers/storage.py', 'cloudkitty/collector/__init__.py', 'cloudkitty/orchestrator.py', 'cloudkitty/collector/prometheus.py', 'cloudkitty/tests/gabbi/fixtures.py', 'cloudkitty/storage_state/__init__.py', 'cloudkitty/tests/samples.py', 'cloudkitty/storage/v1/hybrid/__init__.py', 'cloudkitty/utils.py', 'cloudkitty/tests/storage/v1/test_storage.py', 'cloudkitty/storage/v2/influx.py', 'cloudkitty/tests/utils.py', 'cloudkitty/collector/gnocchi.py', 'cloudkitty/collector/monasca.py']",16,0cdd14e99daa654020b9fb22046be8a037c62210,add-tzinfo," start_time=start, end_time=end, start_time=start, end_time=end,"," start_time=ck_utils.ts2dt(start), end_time=ck_utils.ts2dt(end), start_time=ck_utils.ts2dt(start), end_time=ck_utils.ts2dt(end),",135,126
openstack%2Fopenstack-ansible~master~Ic62887c7d8faa6a7a95021c012b1bf4f733edc33,openstack/openstack-ansible,master,Ic62887c7d8faa6a7a95021c012b1bf4f733edc33,Allow for skipping custom env.d file checks,MERGED,2019-04-23 21:24:26.000000000,2019-07-25 13:23:17.000000000,2019-04-25 15:23:49.000000000,"[{'_account_id': 290}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-04-23 21:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7effebd5260d17264a7fa902f6b3fccd34b3a4a9', 'message': ""Allow for skipping custom env.d file checks\n\nCurrently if the env.d check fails and halts the upgrade, re-running\nthe run-upgrade.sh script doesn't pass the skip-tags flag to\nAnsible.  This prompts the user to set the env variable if they want\nto further skip checks and then passes the skip-tags as necessary.\n\nChange-Id: Ic62887c7d8faa6a7a95021c012b1bf4f733edc33\n""}, {'number': 2, 'created': '2019-04-24 16:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6e49ebb15aa06267c1af755ad148cfb1ed768460', 'message': ""Allow for skipping custom env.d file checks\n\nCurrently if the env.d check fails and halts the upgrade, re-running\nthe run-upgrade.sh script doesn't pass the skip-tags flag to\nAnsible.  This prompts the user to set the env variable if they want\nto further skip checks and then passes the skip-tags as necessary.\n\nChange-Id: Ic62887c7d8faa6a7a95021c012b1bf4f733edc33\n""}, {'number': 3, 'created': '2019-04-24 16:14:27.000000000', 'files': ['scripts/upgrade-utilities/deploy-config-changes.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/85981996c41d2ff63ce3dc4d66fb31a2f3508c5d', 'message': ""Allow for skipping custom env.d file checks\n\nCurrently if the env.d check fails and halts the upgrade, re-running\nthe run-upgrade.sh script doesn't pass the skip-tags flag to\nAnsible.  This prompts the user to set the env variable if they want\nto further skip checks and then passes the skip-tags as necessary.\n\nChange-Id: Ic62887c7d8faa6a7a95021c012b1bf4f733edc33\n""}]",4,655249,85981996c41d2ff63ce3dc4d66fb31a2f3508c5d,21,4,3,290,,,0,"Allow for skipping custom env.d file checks

Currently if the env.d check fails and halts the upgrade, re-running
the run-upgrade.sh script doesn't pass the skip-tags flag to
Ansible.  This prompts the user to set the env variable if they want
to further skip checks and then passes the skip-tags as necessary.

Change-Id: Ic62887c7d8faa6a7a95021c012b1bf4f733edc33
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/49/655249/3 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/upgrade-utilities/deploy-config-changes.yml', 'scripts/run-upgrade.sh']",2,7effebd5260d17264a7fa902f6b3fccd34b3a4a9,skip_envd_checks," if [ -v SKIP_CUSTOM_ENVD_CHECK ]; then RUN_TASKS+=(""${SCRIPTS_PATH}/upgrade-utilities/deploy-config-changes.yml --skip-tags custom-envd-file-check"") else RUN_TASKS+=(""${SCRIPTS_PATH}/upgrade-utilities/deploy-config-changes.yml"") fi"," RUN_TASKS+=(""${SCRIPTS_PATH}/upgrade-utilities/deploy-config-changes.yml"")",7,2
openstack%2Fcinder-specs~master~Ia9961f24c4ce78eec61601bd8308868a31a673d6,openstack/cinder-specs,master,Ia9961f24c4ce78eec61601bd8308868a31a673d6,Leverage compression hardware accelerator,MERGED,2019-04-14 11:42:01.000000000,2019-07-25 13:10:42.000000000,2019-07-25 13:10:41.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 28948}]","[{'number': 1, 'created': '2019-04-14 11:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/820355304ae4c494c748ba9ced756cb472beb037', 'message': '[WIP] Leverage compression hardware accelerator\n\nThis blueprint proposes to leverage hardware compression accelerator to\naccelerate the image compression when uploading volume to glance as image.\n\nChange-Id: Ia9961f24c4ce78eec61601bd8308868a31a673d6\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 2, 'created': '2019-04-14 11:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/04e441983bd4a1b9bce24b7b3e0e9b6aec46d0cf', 'message': '[WIP] Leverage compression hardware accelerator\n\nThis blueprint proposes to leverage hardware compression accelerator to\naccelerate the image compression when uploading volume to glance as image.\n\nChange-Id: Ia9961f24c4ce78eec61601bd8308868a31a673d6\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 3, 'created': '2019-07-03 09:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/5c305df679c42cc4c341d3dc4fb68ed90ed17648', 'message': 'Leverage compression hardware accelerator\n\nThis blueprint proposes to leverage hardware compression accelerator to\naccelerate the image compression when uploading volume to glance as image.\n\nChange-Id: Ia9961f24c4ce78eec61601bd8308868a31a673d6\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 4, 'created': '2019-07-09 07:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/55493da36669c2034cb39e856e5c436ffed3b978', 'message': 'Leverage compression hardware accelerator\n\nThis blueprint proposes to leverage hardware compression accelerator to\naccelerate the image compression when uploading volume to glance as image.\n\nChange-Id: Ia9961f24c4ce78eec61601bd8308868a31a673d6\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 5, 'created': '2019-07-12 08:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/ce129bc1819695e3fde8dd91febd682fc5e53cc7', 'message': 'Leverage compression hardware accelerator\n\nThis spec proposes to leverage hardware compression accelerator to accelerate:\n1) Image compression when uploading volume to glance as image.\n2) Image decompression when creating volume from image\n\nChange-Id: Ia9961f24c4ce78eec61601bd8308868a31a673d6\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 6, 'created': '2019-07-18 08:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/93d4de55743795d220f96784e4cdda1ea97c7558', 'message': 'Leverage compression hardware accelerator\n\nThis spec proposes to leverage hardware compression accelerator to accelerate:\n1) Image compression when uploading volume to glance as image.\n2) Image decompression when creating volume from image\n\nChange-Id: Ia9961f24c4ce78eec61601bd8308868a31a673d6\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 7, 'created': '2019-07-19 04:04:34.000000000', 'files': ['specs/train/leverage-compression-accelerator.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/65d68b89fe08bde2ef8df7d7a84beaa8e74598c7', 'message': 'Leverage compression hardware accelerator\n\nThis spec proposes to leverage hardware compression accelerator to accelerate:\n1) Image compression when uploading volume to glance as image.\n2) Image decompression when creating volume from image\n\nChange-Id: Ia9961f24c4ce78eec61601bd8308868a31a673d6\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}]",60,652275,65d68b89fe08bde2ef8df7d7a84beaa8e74598c7,38,6,7,28948,,,0,"Leverage compression hardware accelerator

This spec proposes to leverage hardware compression accelerator to accelerate:
1) Image compression when uploading volume to glance as image.
2) Image decompression when creating volume from image

Change-Id: Ia9961f24c4ce78eec61601bd8308868a31a673d6
Signed-off-by: Liang Fang <liang.a.fang@intel.com>
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/75/652275/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/leverage-compression-accelerator.rst'],1,820355304ae4c494c748ba9ced756cb472beb037,bp/proposes,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================ Leverage compression accelerator ================================ https://blueprints.launchpad.net/cinder/+spec/leverage-compression-accelerator This blueprint proposes to leverage hardware compression accelerator to accelerate the image compression when uploading volume to glance as image. Problem description =================== When trying to upload volume to glance as image, currently all the format transformation is done by software and the performance is not good. For example, when uploading a volume of size 30GB with 12GB data resides, select qcow2 as the target image format, currently the tool used to do the transformation is qemu-img. This has below problems: #. Low compression rate After transforming, the output size is 12GB. #. High CPU consuming During the transforming, CPU usage is about 100%-170% (~ two cores). #. Long duration The time to transform the volume is about 23 seconds. As a contrast, if using hardware accelerator to do the format transformation, choose 'gz' as the target format, the performance is much better. Take Intel QAT as the accelerator for example, performance data would be: #. Compression rate After transforming, the output size is 2.3GB. #. CPU consuming During the transforming, CPU usage is about 97% (one core). #. Duration The time to transform the volume is about 9 seconds. So the compressed size is only a quarter of its original size, but takes less than half the time. Use Cases ========= * User want to upload volume to glance as a compressed image Proposed change =============== - Add a new disk format 'gz' In api schema, add format 'gz' so that cinder api can accept this format from client, e.g. horizon - Add compression tool of famous hardware accelerators into file volume.filters The compression tool such as 'qzip' will be added in volume.filters so that it can be run by root wrapper - Show 'gz' in the disk format list when selecting a volume to upload This need to be done in cinder client and horizon - Check if there are some hardware accelerators exist in the system Go through the accelerator tool list to find if any hardware accelerator exist. If not exist, return failure to caller if gz format is selected. - Switch to hardware accelerator in _convert_image() when target format is gz Call the existing accelerator's tool to do the compression. e.g. if Intel QAT device is identified, then call qzip here to do the compression - When creating volume from image, call hardware accelerator to do the decompression Alternatives ------------ REST API impact --------------- Data model impact ----------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Liang Fang <liang.a.fang@intel.com> Work Items ---------- Dependencies ============ None Testing ======= Unit-tests, tempest and other related tests will be implemented. Documentation Impact ==================== References ========== .. [1] ",,160,0
openstack%2Fhorizon~master~Ibd70e030445a073d9a62da9867850f4893135a89,openstack/horizon,master,Ibd70e030445a073d9a62da9867850f4893135a89,Define default settings explicitly (openstack_dashboard 5/5),MERGED,2019-04-23 17:33:39.000000000,2019-07-25 13:05:44.000000000,2019-07-25 13:05:44.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-04-23 17:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3a117ae1d8b96267d2d0af55e61b69e7d4232e5f', 'message': 'Define default settings explicitly (openstack_dashboard 5/5)\n\nThis commit mainly covers settings in the remaining files\nunder openstack_dashboard.\n\nNote that HORIZON_CONFIG, horizon and openstack_auth are not covered.\nThey will be covered by follow-up patches.\n\nPart of blueprint ini-based-configuration\nChange-Id: Ibd70e030445a073d9a62da9867850f4893135a89\n'}, {'number': 2, 'created': '2019-07-08 09:21:05.000000000', 'files': ['openstack_dashboard/templatetags/context_selection.py', 'openstack_dashboard/contrib/developer/dashboard.py', 'openstack_dashboard/views.py', 'openstack_dashboard/contrib/developer/profiler/middleware.py', 'openstack_dashboard/context_processors.py', 'openstack_dashboard/local/local_settings.py.example', 'openstack_dashboard/settings.py', 'openstack_dashboard/test/settings.py', 'openstack_dashboard/usage/base.py', 'openstack_dashboard/contrib/developer/profiler/api.py', 'horizon/views.py', 'openstack_dashboard/dashboards/settings/user/forms.py', 'openstack_dashboard/test/helpers.py', 'openstack_dashboard/defaults.py', 'openstack_dashboard/contrib/developer/profiler/panel.py', 'openstack_dashboard/urls.py', 'openstack_dashboard/test/unit/api/test_glance.py', 'openstack_dashboard/test/unit/api/test_nova.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/2f1e1899d34344bb04c27276a980b12d575ed150', 'message': 'Define default settings explicitly (openstack_dashboard 5/5)\n\nThis commit mainly covers settings in the remaining files\nunder openstack_dashboard.\n\nNote that HORIZON_CONFIG, horizon and openstack_auth are not covered.\nThey will be covered by follow-up patches.\n\nPart of blueprint ini-based-configuration\nChange-Id: Ibd70e030445a073d9a62da9867850f4893135a89\n'}]",0,655210,2f1e1899d34344bb04c27276a980b12d575ed150,13,8,2,841,,,0,"Define default settings explicitly (openstack_dashboard 5/5)

This commit mainly covers settings in the remaining files
under openstack_dashboard.

Note that HORIZON_CONFIG, horizon and openstack_auth are not covered.
They will be covered by follow-up patches.

Part of blueprint ini-based-configuration
Change-Id: Ibd70e030445a073d9a62da9867850f4893135a89
",git fetch https://review.opendev.org/openstack/horizon refs/changes/10/655210/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/templatetags/context_selection.py', 'openstack_dashboard/contrib/developer/dashboard.py', 'openstack_dashboard/views.py', 'openstack_dashboard/contrib/developer/profiler/middleware.py', 'openstack_dashboard/context_processors.py', 'openstack_dashboard/local/local_settings.py.example', 'openstack_dashboard/settings.py', 'openstack_dashboard/test/settings.py', 'openstack_dashboard/usage/base.py', 'openstack_dashboard/contrib/developer/profiler/api.py', 'horizon/views.py', 'openstack_dashboard/dashboards/settings/user/forms.py', 'openstack_dashboard/test/helpers.py', 'openstack_dashboard/defaults.py', 'openstack_dashboard/contrib/developer/profiler/panel.py', 'openstack_dashboard/urls.py', 'openstack_dashboard/test/unit/api/test_glance.py', 'openstack_dashboard/test/unit/api/test_nova.py']",18,3a117ae1d8b96267d2d0af55e61b69e7d4232e5f,bp/ini-based-configuration, page_size = settings.API_RESULT_PAGE_SIZE page_size = settings.API_RESULT_PAGE_SIZE page_size = settings.API_RESULT_PAGE_SIZE page_size = settings.API_RESULT_PAGE_SIZE," page_size = getattr(settings, 'API_RESULT_PAGE_SIZE', 20) page_size = getattr(settings, 'API_RESULT_PAGE_SIZE', 1) page_size = getattr(settings, 'API_RESULT_PAGE_SIZE', 20) page_size = getattr(settings, 'API_RESULT_PAGE_SIZE', 1)",121,112
openstack%2Fhorizon~master~Ibb174f62d0047a10b2832dd2ff350f5f32955b08,openstack/horizon,master,Ibb174f62d0047a10b2832dd2ff350f5f32955b08,Define default settings explicitly (openstack_dashboard 4/5),MERGED,2019-04-23 17:33:39.000000000,2019-07-25 12:57:11.000000000,2019-07-25 12:57:11.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-04-23 17:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/060c1bec37dbdf7a36dc17f46ea38524ee6550e7', 'message': 'Define default settings explicitly (openstack_dashboard 4/5)\n\nThis commit mainly covers settings\nin openstack_dashboard/dashboards/identity/.\n\nPart of blueprint ini-based-configuration\nChange-Id: Ibb174f62d0047a10b2832dd2ff350f5f32955b08\n'}, {'number': 2, 'created': '2019-07-05 05:51:53.000000000', 'files': ['openstack_dashboard/dashboards/identity/users/views.py', 'openstack_dashboard/dashboards/identity/domains/tables.py', 'openstack_dashboard/dashboards/identity/projects/tabs.py', 'openstack_dashboard/dashboards/identity/domains/workflows.py', 'openstack_dashboard/dashboards/identity/projects/views.py', 'openstack_dashboard/defaults.py', 'openstack_dashboard/dashboards/identity/users/forms.py', 'openstack_dashboard/local/local_settings.py.example', 'openstack_dashboard/dashboards/identity/users/tabs.py', 'openstack_dashboard/dashboards/identity/projects/workflows.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/8653f718f209ce2351e0571286aee47b87e50cc1', 'message': 'Define default settings explicitly (openstack_dashboard 4/5)\n\nThis commit mainly covers settings\nin openstack_dashboard/dashboards/identity/.\n\nPart of blueprint ini-based-configuration\nChange-Id: Ibb174f62d0047a10b2832dd2ff350f5f32955b08\n'}]",0,655209,8653f718f209ce2351e0571286aee47b87e50cc1,13,6,2,841,,,0,"Define default settings explicitly (openstack_dashboard 4/5)

This commit mainly covers settings
in openstack_dashboard/dashboards/identity/.

Part of blueprint ini-based-configuration
Change-Id: Ibb174f62d0047a10b2832dd2ff350f5f32955b08
",git fetch https://review.opendev.org/openstack/horizon refs/changes/09/655209/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/identity/domains/tables.py', 'openstack_dashboard/dashboards/identity/projects/tabs.py', 'openstack_dashboard/dashboards/identity/users/views.py', 'openstack_dashboard/dashboards/identity/domains/workflows.py', 'openstack_dashboard/dashboards/identity/projects/views.py', 'openstack_dashboard/defaults.py', 'openstack_dashboard/dashboards/identity/users/forms.py', 'openstack_dashboard/local/local_settings.py.example', 'openstack_dashboard/dashboards/identity/users/tabs.py', 'openstack_dashboard/dashboards/identity/projects/workflows.py']",10,060c1bec37dbdf7a36dc17f46ea38524ee6550e7,bp/ini-based-configuration, EXTRA_INFO = settings.PROJECT_TABLE_EXTRA_INFO EXTRA_INFO = settings.PROJECT_TABLE_EXTRA_INFO default = settings.OPENSTACK_KEYSTONE_DEFAULT_ROLE default = settings.OPENSTACK_KEYSTONE_DEFAULT_ROLE EXTRA_INFO = settings.PROJECT_TABLE_EXTRA_INFO EXTRA_INFO = settings.PROJECT_TABLE_EXTRA_INFO EXTRA_INFO = settings.PROJECT_TABLE_EXTRA_INFO," EXTRA_INFO = getattr(settings, 'PROJECT_TABLE_EXTRA_INFO', {}) EXTRA_INFO = getattr(settings, 'PROJECT_TABLE_EXTRA_INFO', {}) default = getattr(settings, ""OPENSTACK_KEYSTONE_DEFAULT_ROLE"", None) default = getattr(settings, ""OPENSTACK_KEYSTONE_DEFAULT_ROLE"", None) EXTRA_INFO = getattr(settings, 'PROJECT_TABLE_EXTRA_INFO', {}) EXTRA_INFO = getattr(settings, 'PROJECT_TABLE_EXTRA_INFO', {}) EXTRA_INFO = getattr(settings, 'PROJECT_TABLE_EXTRA_INFO', {})",35,40
openstack%2Fmonasca-log-api~master~I3feb2652470606ace2a5ea13faeff58121bd085d,openstack/monasca-log-api,master,I3feb2652470606ace2a5ea13faeff58121bd085d,Switch python3 versions of test jobs to match Train PTI,ABANDONED,2019-06-24 10:32:20.000000000,2019-07-25 12:57:08.000000000,,"[{'_account_id': 8556}, {'_account_id': 10068}, {'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 23735}]","[{'number': 1, 'created': '2019-06-24 10:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/980d1e0899e01014149a20dce8c4d9f4849473f8', 'message': 'Switch python3 versions of test jobs to match Train PTI\n\nIn Train, we will use python 3.6 and 3.7 for python3 runtime\nin our gate jobs [1]. This commit also adds python 3.7.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I3feb2652470606ace2a5ea13faeff58121bd085d\n'}, {'number': 2, 'created': '2019-07-15 08:30:47.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/57f311b038668ab5cdb83a7a65e60a796d6c1a36', 'message': 'Switch python3 versions of test jobs to match Train PTI\n\nIn Train, we will use python 3.6 and 3.7 for python3 runtime\nin our gate jobs [1]. This commit also adds python 3.7.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I3feb2652470606ace2a5ea13faeff58121bd085d\n'}]",2,667058,57f311b038668ab5cdb83a7a65e60a796d6c1a36,15,5,2,30618,,,0,"Switch python3 versions of test jobs to match Train PTI

In Train, we will use python 3.6 and 3.7 for python3 runtime
in our gate jobs [1]. This commit also adds python 3.7.

[1] https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I3feb2652470606ace2a5ea13faeff58121bd085d
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/58/667058/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,980d1e0899e01014149a20dce8c4d9f4849473f8,python3-train,"envlist = py{27,36,37},pep8,cover","envlist = py{27,36},pep8,cover",3,2
openstack%2Fmonasca-api~master~Id4a141b0ed42a29b941f925334b1531c460c4719,openstack/monasca-api,master,Id4a141b0ed42a29b941f925334b1531c460c4719,Add Python 3 Train unit tests,ABANDONED,2019-02-18 07:30:01.000000000,2019-07-25 12:55:39.000000000,,"[{'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 23735}]","[{'number': 1, 'created': '2019-02-18 07:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/c42b3f2bcff6c8b37d13d6cfd0ce25006d008326', 'message': 'add python 3.7 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.7.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: Id4a141b0ed42a29b941f925334b1531c460c4719\n'}, {'number': 2, 'created': '2019-02-18 09:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/6a0c68f271310b43b804884164562316201e0f27', 'message': 'add python 3.7 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.7.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: Id4a141b0ed42a29b941f925334b1531c460c4719\nDepends-On: https://review.openstack.org/#/c/637494/\n'}, {'number': 3, 'created': '2019-07-05 17:05:35.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/5c96abc37341ffabf5d243897b56e6f85c74c424', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Id4a141b0ed42a29b941f925334b1531c460c4719\nStory: #2005924\nTask: #34223\n'}]",0,637478,5c96abc37341ffabf5d243897b56e6f85c74c424,9,3,3,9414,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Id4a141b0ed42a29b941f925334b1531c460c4719
Story: #2005924
Task: #34223
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/78/637478/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c42b3f2bcff6c8b37d13d6cfd0ce25006d008326,python3-train, - openstack-python37-jobs,,1,0
openstack%2Fopenstack-manuals~master~I3337ae1479e42640ab9dca66605e92935c2d3264,openstack/openstack-manuals,master,I3337ae1479e42640ab9dca66605e92935c2d3264,Imported Translations from Zanata,MERGED,2019-07-25 09:02:24.000000000,2019-07-25 12:30:08.000000000,2019-07-25 12:30:07.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-25 09:02:24.000000000', 'files': ['doc/common/source/locale/de/LC_MESSAGES/common.po', 'doc/api-quick-start/source/locale/de/LC_MESSAGES/api-quick-start.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b009456e66f394af14450fc10b64cd550c4515c0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I3337ae1479e42640ab9dca66605e92935c2d3264\n'}]",0,672663,b009456e66f394af14450fc10b64cd550c4515c0,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I3337ae1479e42640ab9dca66605e92935c2d3264
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/63/672663/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/common/source/locale/de/LC_MESSAGES/common.po', 'doc/api-quick-start/source/locale/de/LC_MESSAGES/api-quick-start.po']",2,b009456e66f394af14450fc10b64cd550c4515c0,zanata/translations,"""POT-Creation-Date: 2019-07-24 22:17+0000\n""""PO-Revision-Date: 2019-07-24 12:16+0000\n""msgid """" ""The notation '(microversions)' next to the link to an API reference "" ""indicates that the API follows a `pattern established by the Compute service "" ""<https://docs.openstack.org/api-guide/compute/microversions.html>`__ to "" ""enable small, documented changes to the API on a resource-by-resource basis."" msgstr """" ""Die Bezeichung '(microversions)' neben einer API Referenz zeigt an, dass das "" ""API einem `vom Compute Dienst eingeführten Muster folgt <https://docs."" ""openstack.org/api-guide/compute/microversions.html>`__ um kleinere, "" ""dokumentierte Änderungen an dem API auf einer Ressourcen-Basis zu "" ""ermöglichen."" ""This section shows how to make some basic Compute API calls. For a complete "" ""list of Compute API calls, see `Compute API <https://docs.openstack.org/api-"" ""ref/compute/>`__."" msgstr """" ""Diese Sektion zeigt wie man einfache Compute API Aufrufe tätigt. Für die "" ""komplette Liste der Compute API Aufrufe lesen Sie `Compute API <https://docs."" ""openstack.org/api-ref/compute/>`__."" msgid """"""`Acceleration API v1 <https://docs.openstack.org/api-ref/accelerator/v1/>`__"" msgstr """" ""`Acceleration API v1 <https://docs.openstack.org/api-ref/accelerator/v1/>`__"" msgid """" ""`Application Catalog API v1 <https://docs.openstack.org/api-ref/application-"" ""catalog/v1/>`__"" msgstr """" ""`Application Catalog API v1 <https://docs.openstack.org/api-ref/application-"" ""catalog/v1/>`__"" msgid """" ""`Application Container Service API <https://docs.openstack.org/api-ref/"" ""application-container/>`__ (microversions)"" msgstr """" ""`Application Container Service API <https://docs.openstack.org/api-ref/"" ""application-container/>`__ (microversions)"" msgid ""`Backup API v1 <https://docs.openstack.org/api-ref/backup/v1/>`__"" msgstr ""`Backup API v1 <https://docs.openstack.org/api-ref/backup/v1/>`__"" msgid """" ""`Bare Metal API v1 <https://docs.openstack.org/api-ref/baremetal/>`__ "" ""(microversions)"" msgstr """" ""`Bare Metal API v1 <https://docs.openstack.org/api-ref/baremetal/>`__ "" ""(microversions)"" msgid """" ""`Block Storage API v3 <https://docs.openstack.org/api-ref/block-storage/v3/"" "">`__ (microversions)"" msgstr """" ""`Blockspeicher API v3 <https://docs.openstack.org/api-ref/block-storage/v3/"" "">`__"" msgid """"","""POT-Creation-Date: 2019-07-24 04:41+0000\n""""PO-Revision-Date: 2019-07-22 07:10+0000\n""",64,4
openstack%2Fkolla-ansible~master~Iac04082ad39a9d823c515ba11c5db9af50ed225f,openstack/kolla-ansible,master,Iac04082ad39a9d823c515ba11c5db9af50ed225f,CI: clean up requirements installation,MERGED,2019-07-15 18:54:57.000000000,2019-07-25 11:59:41.000000000,2019-07-25 11:59:41.000000000,"[{'_account_id': 14826}, {'_account_id': 16006}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-15 18:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/83ef9bc011f4bab8ebc5eed8c1a727004499bf45', 'message': ""CI: clean up requirements installation\n\nWe install kolla-ansible requirements in Zuul's Ansible playbooks.\nThis patch cleans up the installation in scripts so that they are\nonly concerned with auxiliary requirements:\n- ansible (since we do not track it in requirements)\n- ara (for log summaries)\n- openstack clients (for first init and tests after deployment)\n\nAdditionally this patch installs openstack clients in a separate\nvirtualenv.\nNote that all kolla-ansible requirements, ansible and ara are still\ninstalled system-wide.\n\nChange-Id: Iac04082ad39a9d823c515ba11c5db9af50ed225f\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 2, 'created': '2019-07-15 19:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/922552982292ec58c1af527f07332540312e8382', 'message': ""CI: clean up requirements installation\n\nWe install kolla-ansible requirements in Zuul's Ansible playbooks.\nThis patch cleans up the installation in scripts so that they are\nonly concerned with auxiliary requirements:\n- ansible (since we do not track it in requirements)\n- ara (for log summaries)\n- openstack clients (for first init and tests after deployment)\n\nAdditionally this patch installs openstack clients in a separate\nvirtualenv.\nNote that all kolla-ansible requirements, ansible and ara are still\ninstalled system-wide.\n\nChange-Id: Iac04082ad39a9d823c515ba11c5db9af50ed225f\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 3, 'created': '2019-07-16 18:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cac90b48010c5e1f8fbc9f215f708a9b7a0836c7', 'message': ""CI: clean up requirements installation\n\nWe install kolla-ansible requirements in Zuul's Ansible playbooks.\nThis patch cleans up the installation in scripts so that they are\nonly concerned with auxiliary requirements:\n- ansible (since we do not track it in requirements)\n- ara (for log summaries)\n- openstack clients (for first init and tests after deployment)\n\nAdditionally this patch installs openstack clients in a separate\nvirtualenv.\nNote that all kolla-ansible requirements, ansible and ara are still\ninstalled system-wide.\n\nChange-Id: Iac04082ad39a9d823c515ba11c5db9af50ed225f\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 4, 'created': '2019-07-16 18:43:38.000000000', 'files': ['tests/test-openstack.sh', 'tests/deploy.sh', 'tests/test-scenario-nfv.sh', 'tools/setup_gate.sh', 'tests/test-ironic.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8a543098d68a4b945e62ce5c92ece0f5d73946bc', 'message': ""CI: clean up requirements installation\n\nWe install kolla-ansible requirements in Zuul's Ansible playbooks.\nThis patch cleans up the installation in scripts so that they are\nonly concerned with auxiliary requirements:\n- ansible (since we do not track it in requirements)\n- ara (for log summaries)\n- openstack clients (for first init and tests after deployment)\n\nAdditionally this patch installs openstack clients in a separate\nvirtualenv.\nNote that all kolla-ansible requirements, ansible and ara are still\ninstalled system-wide.\n\nChange-Id: Iac04082ad39a9d823c515ba11c5db9af50ed225f\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}]",2,670900,8a543098d68a4b945e62ce5c92ece0f5d73946bc,23,6,4,30491,,,0,"CI: clean up requirements installation

We install kolla-ansible requirements in Zuul's Ansible playbooks.
This patch cleans up the installation in scripts so that they are
only concerned with auxiliary requirements:
- ansible (since we do not track it in requirements)
- ara (for log summaries)
- openstack clients (for first init and tests after deployment)

Additionally this patch installs openstack clients in a separate
virtualenv.
Note that all kolla-ansible requirements, ansible and ara are still
installed system-wide.

Change-Id: Iac04082ad39a9d823c515ba11c5db9af50ed225f
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/670900/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-openstack.sh', 'tests/deploy.sh', 'tests/test-scenario-nfv.sh', 'tools/setup_gate.sh', 'tests/test-ironic.sh']",5,83ef9bc011f4bab8ebc5eed8c1a727004499bf45,ci-cleanup-req-install, . ~/openstackclient-venv/bin/activate, . ~/ironic-venv/bin/activate,17,8
openstack%2Fplacement~master~Ia19ea2b4ecdde25323579edf60ad6269d05e75a2,openstack/placement,master,Ia19ea2b4ecdde25323579edf60ad6269d05e75a2,Make a TraitCache similar to ResourceClassCache,MERGED,2019-07-23 14:25:12.000000000,2019-07-25 11:55:39.000000000,2019-07-25 11:55:39.000000000,"[{'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 14:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/72222b81b4ef05da740271616b7d6216b7b695d6', 'message': ""Make a TraitCache similar to ResourceClassCache\n\nThe Trait and ResourceClass db objects have the same essential\nstructure and are used throughout the code in similar ways:\n\n* turn a name into an id\n* turn an id into a name\n* get an unfiltered list of names\n* make a mapping of ids to names\n\nIn I409a5e819a72d64e66ee390e4528da0c503d8d05 we made the resource\nclass cache request specific. Doing that work made it pretty clear\nwe could have a similar cache for traits and as a result visit the\ntraits db fewer times per request.\n\nTesting will be required to determine if this has any impact (positive\nor negative) and this large patch could be broken into smaller pieces\nbut I wanted to get some early feedback (from humans and zuul).\n\nThe implementation is straightforward: make an AttributeCache super\nclass that is a parent to ResourceClassCache. Create TraitCache as\na sibling. The sole difference is the table used for the data authority\nand the exception raised when an attribute is not found.\n\nA 'get_all' method is added to the cache to list the full collection\nof dicts it contains. That can be be directly transformed into Trait\nand ResourceClass objects.\n\nFrom the API, listing traits and resource classes (without filters) now\nuses the cache instead of going to the db. Where filters (in traits) are\nrequired, the db is accessed.\n\nThe research_context turns lists of trait names into id, name maps for\nrequired and forbidden traits.\n\nFurther, anywhere the traits table was joined to create a name of an id,\nthe cache is used instead. This allows to drop some joins and operate\nfully in-process and in-RAM. No additional loops are added to make this\nhappen: the translation is done in existing loops.\n\nThe upshot of these changes is that unless there is a write operation on\na trait or resource class, both tables are scanned at most once in any\nrequest. And when they are scanned it is to list their entire contents.\n\nChange-Id: Ia19ea2b4ecdde25323579edf60ad6269d05e75a2\n""}, {'number': 2, 'created': '2019-07-23 17:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/9ec1f40266386343392d54904d7341a529c38a09', 'message': ""Make a TraitCache similar to ResourceClassCache\n\nThe Trait and ResourceClass db objects have the same essential\nstructure and are used throughout the code in similar ways:\n\n* turn a name into an id\n* turn an id into a name\n* get an unfiltered list of names\n* make a mapping of ids to names\n\nIn I409a5e819a72d64e66ee390e4528da0c503d8d05 we made the resource\nclass cache request specific. Doing that work made it pretty clear\nwe could have a similar cache for traits and as a result visit the\ntraits db fewer times per request.\n\nThe implementation is straightforward: make an AttributeCache super\nclass that is a parent to ResourceClassCache. Create TraitCache as\na sibling. The sole difference is the table used for the data authority\nand the exception raised when an attribute is not found.\n\nThe new super class has been refactored to use private attributes and\nmethods.\n\nA 'get_all' method is added to the cache to list the full collection\nof dicts it contains. That can be be directly transformed into Trait\nand ResourceClass objects. The order of the results of this method\nare not predictable, and sorting them would add cost for no benefit,\nso gabbi tests which had previously relied on the ordered of returned\nresource classes have been removed.\n\nFrom the API, listing traits and resource classes (without filters) now\nuses the cache instead of going to the db. Where filters (in traits) are\nrequired, the db is accessed.\n\nThe research_context turns lists of trait names into id, name maps for\nrequired and forbidden traits.\n\nFurther, anywhere the traits table was joined to create a name of an id,\nthe cache is used instead. This allows to drop some joins and operate\nfully in-process and in-RAM. No additional loops are added to make this\nhappen: the translation is done in existing loops.\n\nThe upshot of these changes is that unless there is a write operation on\na trait or resource class, both tables are scanned at most once in any\nrequest. And when they are scanned it is to list their entire contents.\n\nChange-Id: Ia19ea2b4ecdde25323579edf60ad6269d05e75a2\n""}, {'number': 3, 'created': '2019-07-24 10:27:39.000000000', 'files': ['placement/resource_class_cache.py', 'placement/objects/research_context.py', 'placement/objects/resource_class.py', 'placement/attribute_cache.py', 'placement/exception.py', 'placement/tests/functional/gabbits/resource-classes.yaml', 'placement/context.py', 'placement/objects/resource_provider.py', 'placement/tests/unit/base.py', 'placement/objects/trait.py', 'placement/tests/functional/db/test_attribute_cache.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/b09f2f917fb41479c5e5b98e9fe07d080d304e52', 'message': ""Make a TraitCache similar to ResourceClassCache\n\nThe Trait and ResourceClass db objects have the same essential\nstructure and are used throughout the code in similar ways:\n\n* turn a name into an id\n* turn an id into a name\n* get an unfiltered list of names\n* make a mapping of ids to names\n\nIn I409a5e819a72d64e66ee390e4528da0c503d8d05 we made the resource\nclass cache request specific. Doing that work made it pretty clear\nwe could have a similar cache for traits and as a result visit the\ntraits db fewer times per request.\n\nThe implementation is straightforward: make an _AttributeCache super\nclass that is a parent to ResourceClassCache. Create TraitCache as\na sibling. The sole difference is the table used for the data authority\nand the exception raised when an attribute is not found.\n\nThe new super class has been refactored to use private attributes and\nmethods.\n\nA 'get_all' method is added to the cache to list the full collection\nof dicts it contains. That can be be directly transformed into Trait\nand ResourceClass objects. The order of the results of this method\nare not predictable, and sorting them would add cost for no benefit,\nso gabbi tests which had previously relied on the ordered of returned\nresource classes have been removed.\n\nFrom the API, listing traits and resource classes (without filters) now\nuses the cache instead of going to the db. Where filters (in traits) are\nrequired, the db is accessed.\n\nThe research_context turns lists of trait names into id, name maps for\nrequired and forbidden traits.\n\nFurther, anywhere the traits table was joined to create a name of an id,\nthe cache is used instead. This allows to drop some joins and operate\nfully in-process and in-RAM. No additional loops are added to make this\nhappen: the translation is done in existing loops.\n\nThe upshot of these changes is that unless there is a write operation on\na trait or resource class, both tables are scanned at most once in any\nrequest. And when they are scanned it is to list their entire contents.\n\nAs noted in the _AttributeCache docstring there are restrictions\non what kinds of entities can use the cache and some necessary\nprecautions.\n\nChange-Id: Ia19ea2b4ecdde25323579edf60ad6269d05e75a2\n""}]",73,672298,b09f2f917fb41479c5e5b98e9fe07d080d304e52,28,5,3,11564,,,0,"Make a TraitCache similar to ResourceClassCache

The Trait and ResourceClass db objects have the same essential
structure and are used throughout the code in similar ways:

* turn a name into an id
* turn an id into a name
* get an unfiltered list of names
* make a mapping of ids to names

In I409a5e819a72d64e66ee390e4528da0c503d8d05 we made the resource
class cache request specific. Doing that work made it pretty clear
we could have a similar cache for traits and as a result visit the
traits db fewer times per request.

The implementation is straightforward: make an _AttributeCache super
class that is a parent to ResourceClassCache. Create TraitCache as
a sibling. The sole difference is the table used for the data authority
and the exception raised when an attribute is not found.

The new super class has been refactored to use private attributes and
methods.

A 'get_all' method is added to the cache to list the full collection
of dicts it contains. That can be be directly transformed into Trait
and ResourceClass objects. The order of the results of this method
are not predictable, and sorting them would add cost for no benefit,
so gabbi tests which had previously relied on the ordered of returned
resource classes have been removed.

From the API, listing traits and resource classes (without filters) now
uses the cache instead of going to the db. Where filters (in traits) are
required, the db is accessed.

The research_context turns lists of trait names into id, name maps for
required and forbidden traits.

Further, anywhere the traits table was joined to create a name of an id,
the cache is used instead. This allows to drop some joins and operate
fully in-process and in-RAM. No additional loops are added to make this
happen: the translation is done in existing loops.

The upshot of these changes is that unless there is a write operation on
a trait or resource class, both tables are scanned at most once in any
request. And when they are scanned it is to list their entire contents.

As noted in the _AttributeCache docstring there are restrictions
on what kinds of entities can use the cache and some necessary
precautions.

Change-Id: Ia19ea2b4ecdde25323579edf60ad6269d05e75a2
",git fetch https://review.opendev.org/openstack/placement refs/changes/98/672298/2 && git format-patch -1 --stdout FETCH_HEAD,"['placement/resource_class_cache.py', 'placement/objects/research_context.py', 'placement/objects/resource_class.py', 'placement/attribute_cache.py', 'placement/exception.py', 'placement/context.py', 'placement/objects/resource_provider.py', 'placement/objects/trait.py', 'placement/tests/unit/base.py', 'placement/tests/functional/db/test_resource_class_cache.py']",10,72222b81b4ef05da740271616b7d6216b7b695d6,cd/no-traits,from placement import attribute_cache as rc_cache,from placement import resource_class_cache as rc_cache,201,169
openstack%2Fmonasca-persister~stable%2Fstein~I6b7636a52e8bdb2ce8ad97f839acb6184cd58a8b,openstack/monasca-persister,stable/stein,I6b7636a52e8bdb2ce8ad97f839acb6184cd58a8b,Update all columns in metrics on an update to refresh TTL,MERGED,2019-07-22 12:52:44.000000000,2019-07-25 11:41:05.000000000,2019-07-25 11:41:05.000000000,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-22 12:52:44.000000000', 'files': ['java/src/main/java/monasca/persister/repository/cassandra/CassandraCluster.java', 'java/src/main/java/monasca/persister/repository/cassandra/CassandraMetricRepo.java'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/e6f0bff1b7d05d858e6f7d2af9a1fb6254bb781c', 'message': 'Update all columns in metrics on an update to refresh TTL\n\nCassandra Time to Live (TTL) is applied per-column in a\nrow, and with a default TTL for the table.  The Cassandra\ndriver appears to have been written with a misunderstanding\nthat the TTL was per-row, and as a result the update\nstatements were written to avoid writing all cells.\nBut that results in some cells in the row not being updated,\nand after their TTL expires they are removed, so a metric\nquery may result in partial data (updated_at set but\nmetric_id and created_at missing).\n\nThis fix changes the statement used when a new measurement\nis received to use the same insert statement for the metric\nrow and thus refresh the TTL for all the columns.\n\nA follow on patch should be created to remove the Update\nstatements for Measurements, and consider refactoring/removing\nthe caching model.\n\nChange-Id: I6b7636a52e8bdb2ce8ad97f839acb6184cd58a8b\nStory: 2005832\nTask: 35872\n'}]",0,672034,e6f0bff1b7d05d858e6f7d2af9a1fb6254bb781c,40,4,1,16222,,,0,"Update all columns in metrics on an update to refresh TTL

Cassandra Time to Live (TTL) is applied per-column in a
row, and with a default TTL for the table.  The Cassandra
driver appears to have been written with a misunderstanding
that the TTL was per-row, and as a result the update
statements were written to avoid writing all cells.
But that results in some cells in the row not being updated,
and after their TTL expires they are removed, so a metric
query may result in partial data (updated_at set but
metric_id and created_at missing).

This fix changes the statement used when a new measurement
is received to use the same insert statement for the metric
row and thus refresh the TTL for all the columns.

A follow on patch should be created to remove the Update
statements for Measurements, and consider refactoring/removing
the caching model.

Change-Id: I6b7636a52e8bdb2ce8ad97f839acb6184cd58a8b
Story: 2005832
Task: 35872
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/34/672034/1 && git format-patch -1 --stdout FETCH_HEAD,"['java/src/main/java/monasca/persister/repository/cassandra/CassandraCluster.java', 'java/src/main/java/monasca/persister/repository/cassandra/CassandraMetricRepo.java']",2,e6f0bff1b7d05d858e6f7d2af9a1fb6254bb781c,cassandra-java-ttl-issues-stable/stein," // MUST update all relevant columns to ensure TTL consistency in a row batches.addMetricQuery(cluster.getMetricInsertStmt().bind(retention, defIdShaHash.getSha1HashByteBuffer(), new Timestamp(metric.getTimestamp()), "," batches.addMetricQuery(cluster.getMetricUpdateStmt().bind(retention, ",6,11
openstack%2Fnova~master~I8ca6f0f37a18f81d024286a0e158353ed25fa2b5,openstack/nova,master,I8ca6f0f37a18f81d024286a0e158353ed25fa2b5,Pass extra_specs to flavor in vif tests,MERGED,2019-05-31 19:37:39.000000000,2019-07-25 11:36:41.000000000,2019-07-25 11:36:41.000000000,"[{'_account_id': 2394}, {'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-31 19:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d54ce5837093700ea7458a1b5c682b1287c6e256', 'message': ""Pass extra_specs to flavor in vif tests\n\nIn real life extra_specs is always present, even if empty.\n\nAlthough it doesn't cause test failures right now, it is fixed as part\nof prepartion for blueprint: amd-sev-libvirt-support , where extra_specs\nare used to check the traits\n\nChange-Id: I8ca6f0f37a18f81d024286a0e158353ed25fa2b5\nblueprint: amd-sev-libvirt-support\n""}, {'number': 2, 'created': '2019-06-11 15:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6358876235637a68cc0173ccb70e9728c0f8f7e0', 'message': ""Pass extra_specs to flavor in vif tests\n\nOutside the test environment, extra_specs is usually present, even if\nempty.\n\nAlthough it doesn't cause test failures right now, it is fixed as part\nof preparation for the amd-sev-libvirt-support blueprint, where\nextra_specs can be used to request SEV functionality.\n\nChange-Id: I8ca6f0f37a18f81d024286a0e158353ed25fa2b5\nblueprint: amd-sev-libvirt-support\n""}, {'number': 3, 'created': '2019-06-12 11:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4bbd056aa76ed310950cd16b5e377559d7a5813b', 'message': ""Pass extra_specs to flavor in vif tests\n\nOutside the test environment, extra_specs is usually present, even if\nempty.\n\nAlthough it doesn't cause test failures right now, it is fixed as part\nof preparation for the amd-sev-libvirt-support blueprint, where\nextra_specs can be used to request SEV functionality.\n\nChange-Id: I8ca6f0f37a18f81d024286a0e158353ed25fa2b5\nblueprint: amd-sev-libvirt-support\n""}, {'number': 4, 'created': '2019-06-17 18:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/407a4b849e3ec4b3a4b0c0d3e160c886df4ec279', 'message': ""Pass extra_specs to flavor in vif tests\n\nOutside the test environment, extra_specs is usually present, even if\nempty.\n\nAlthough it doesn't cause test failures right now, it is fixed as part\nof preparation for the amd-sev-libvirt-support blueprint, where\nextra_specs can be used to request SEV functionality.\n\nChange-Id: I8ca6f0f37a18f81d024286a0e158353ed25fa2b5\nblueprint: amd-sev-libvirt-support\n""}, {'number': 5, 'created': '2019-06-18 01:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f3fd1f505ace4368f837db324d6fc6a83288069', 'message': ""Pass extra_specs to flavor in vif tests\n\nOutside the test environment, extra_specs is usually present, even if\nempty.\n\nAlthough it doesn't cause test failures right now, it is fixed as part\nof preparation for the amd-sev-libvirt-support blueprint, where\nextra_specs can be used to request SEV functionality.\n\nChange-Id: I8ca6f0f37a18f81d024286a0e158353ed25fa2b5\nblueprint: amd-sev-libvirt-support\n""}, {'number': 6, 'created': '2019-06-19 18:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb6495db882aa9fc288df9768be4cc6b59ddf265', 'message': ""Pass extra_specs to flavor in vif tests\n\nOutside the test environment, extra_specs is usually present, even if\nempty.\n\nAlthough it doesn't cause test failures right now, it is fixed as part\nof preparation for the amd-sev-libvirt-support blueprint, where\nextra_specs can be used to request SEV functionality.\n\nChange-Id: I8ca6f0f37a18f81d024286a0e158353ed25fa2b5\nblueprint: amd-sev-libvirt-support\n""}, {'number': 7, 'created': '2019-06-19 20:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7ccb6e246ca79b12f0b942ca3d2045db51be35c', 'message': ""Pass extra_specs to flavor in vif tests\n\nOutside the test environment, extra_specs is usually present, even if\nempty.\n\nAlthough it doesn't cause test failures right now, it is fixed as part\nof preparation for the amd-sev-libvirt-support blueprint, where\nextra_specs can be used to request SEV functionality.\n\nChange-Id: I8ca6f0f37a18f81d024286a0e158353ed25fa2b5\nblueprint: amd-sev-libvirt-support\n""}, {'number': 8, 'created': '2019-06-20 13:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42a3d59063e5abdb03ffae37ffe78439f703e250', 'message': ""Pass extra_specs to flavor in vif tests\n\nOutside the test environment, extra_specs is usually present, even if\nempty.\n\nAlthough it doesn't cause test failures right now, it is fixed as part\nof preparation for the amd-sev-libvirt-support blueprint, where\nextra_specs can be used to request SEV functionality.\n\nChange-Id: I8ca6f0f37a18f81d024286a0e158353ed25fa2b5\nblueprint: amd-sev-libvirt-support\n""}, {'number': 9, 'created': '2019-06-20 15:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b9f8c61405a4108df85f82d3732cb662f948811', 'message': ""Pass extra_specs to flavor in vif tests\n\nOutside the test environment, extra_specs is usually present, even if\nempty.\n\nAlthough it doesn't cause test failures right now, it is fixed as part\nof preparation for the amd-sev-libvirt-support blueprint, where\nextra_specs can be used to request SEV functionality.\n\nChange-Id: I8ca6f0f37a18f81d024286a0e158353ed25fa2b5\nblueprint: amd-sev-libvirt-support\n""}, {'number': 10, 'created': '2019-06-20 20:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69890b3fcac62d01a84a7b57645b0ad2deba4fce', 'message': ""Pass extra_specs to flavor in vif tests\n\nOutside the test environment, extra_specs is usually present, even if\nempty.\n\nAlthough it doesn't cause test failures right now, it is fixed as part\nof preparation for the amd-sev-libvirt-support blueprint, where\nextra_specs can be used to request SEV functionality.\n\nChange-Id: I8ca6f0f37a18f81d024286a0e158353ed25fa2b5\nblueprint: amd-sev-libvirt-support\n""}, {'number': 11, 'created': '2019-06-21 09:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f3a9bf4b16ad97357eb09a5319f3cc79d427aea', 'message': ""Pass extra_specs to flavor in vif tests\n\nOutside the test environment, extra_specs is usually present, even if\nempty.\n\nAlthough it doesn't cause test failures right now, it is fixed as part\nof preparation for the amd-sev-libvirt-support blueprint, where\nextra_specs can be used to request SEV functionality.\n\nChange-Id: I8ca6f0f37a18f81d024286a0e158353ed25fa2b5\nblueprint: amd-sev-libvirt-support\n""}, {'number': 12, 'created': '2019-07-24 11:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78477b84ade801a854270d8d0e910f6b50ef1ca9', 'message': ""Pass extra_specs to flavor in vif tests\n\nOutside the test environment, extra_specs is usually present, even if\nempty.\n\nAlthough it doesn't cause test failures right now, it is fixed just\nin case it might in the future.\n\nChange-Id: I8ca6f0f37a18f81d024286a0e158353ed25fa2b5\n""}, {'number': 13, 'created': '2019-07-24 11:08:19.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_vif.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e38e64157210b50f3fac0fc209b1b12704e8adb9', 'message': ""Pass extra_specs to flavor in vif tests\n\nOutside the test environment, extra_specs is usually present, even if\nempty.\n\nAlthough it doesn't cause test failures right now, it is fixed just\nin case it might in the future.\n\nChange-Id: I8ca6f0f37a18f81d024286a0e158353ed25fa2b5\n""}]",6,662556,e38e64157210b50f3fac0fc209b1b12704e8adb9,100,16,13,13478,,,0,"Pass extra_specs to flavor in vif tests

Outside the test environment, extra_specs is usually present, even if
empty.

Although it doesn't cause test failures right now, it is fixed just
in case it might in the future.

Change-Id: I8ca6f0f37a18f81d024286a0e158353ed25fa2b5
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/662556/12 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/test_vif.py'],1,d54ce5837093700ea7458a1b5c682b1287c6e256,vif-tests-extra-specs," id=2, disabled=False, rxtx_factor=1.0, extra_specs={})"," id=2, disabled=False, rxtx_factor=1.0)",2,1
openstack%2Fnova~master~I2936ce8cb293dc80e1a426094fdae6e675461470,openstack/nova,master,I2936ce8cb293dc80e1a426094fdae6e675461470,"Remove deprecated CPU, RAM, disk claiming in resource tracker",MERGED,2018-03-08 22:47:12.000000000,2019-07-25 11:36:30.000000000,2019-07-25 11:36:30.000000000,"[{'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-08 22:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9804fee2c1d0b23a9e06a01b2e47a3c2977e5e4', 'message': ""[WIP] Remove deprecated cpu,ram,disk claiming in resource tracker\n\nA while ago, we deprecated the scheduler filters for CPU, RAM, and Disk in\nfavor of relying on placement. That means we're not passing limits down\nto the resource tracker, and thus thus treating everything in the claim\nprocess as unlimited.\n\nAs a step towards making BFV instances first class citizens in Nova, we\nneed to fix things like failing to claim unrelated root disk space on\ncompute nodes and reporting volumes as used disk space on compute nodes.\n\nIn order to do that, we need to pull out a lot of the handling of these\nbasic three resources from the compute node's resource tracker. This patch\nis the first step towards that goal: removing the claim tests for these\nresource types.\n\nChange-Id: I2936ce8cb293dc80e1a426094fdae6e675461470\nPartial-Bug: #1469179\n""}, {'number': 2, 'created': '2019-07-22 16:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ffddf1de8755471eefdab7caf536b334ce4afe8', 'message': ""Remove deprecated CPU, RAM, disk claiming in resource tracker\n\nA while ago, we deprecated the scheduler filters for CPU, RAM, and Disk in\nfavor of relying on placement. That means we're not passing limits down\nto the resource tracker, and thus thus treating everything in the claim\nprocess as unlimited.\n\nAs a step towards making BFV instances first class citizens in Nova, we\nneed to fix things like failing to claim unrelated root disk space on\ncompute nodes and reporting volumes as used disk space on compute nodes.\n\nIn order to do that, we need to pull out a lot of the handling of these\nbasic three resources from the compute node's resource tracker. This patch\nis the first step towards that goal: removing the claim tests for these\nresource types.\n\nChange-Id: I2936ce8cb293dc80e1a426094fdae6e675461470\nCo-Authored-By: Stephen Finucane <sfinucan@redhat.com>\nPartial-Bug: #1469179\n""}, {'number': 3, 'created': '2019-07-23 10:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68926b13dfd92930aa0e2bd61078beafcbbc11fd', 'message': ""Remove deprecated CPU, RAM, disk claiming in resource tracker\n\nA while ago, we deprecated the scheduler filters for CPU, RAM, and Disk in\nfavor of relying on placement. That means we're not passing limits down\nto the resource tracker, and thus thus treating everything in the claim\nprocess as unlimited.\n\nAs a step towards making BFV instances first class citizens in Nova, we\nneed to fix things like failing to claim unrelated root disk space on\ncompute nodes and reporting volumes as used disk space on compute nodes.\n\nIn order to do that, we need to pull out a lot of the handling of these\nbasic three resources from the compute node's resource tracker. This patch\nis the first step towards that goal: removing the claim tests for these\nresource types.\n\nChange-Id: I2936ce8cb293dc80e1a426094fdae6e675461470\nCo-Authored-By: Stephen Finucane <sfinucan@redhat.com>\nPartial-Bug: #1469179\n""}, {'number': 4, 'created': '2019-07-23 14:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/691239a52f807adf2de9c9042d5faa11a961f7a1', 'message': ""Remove deprecated CPU, RAM, disk claiming in resource tracker\n\nA while ago, we deprecated the scheduler filters for CPU, RAM, and Disk in\nfavor of relying on placement. That means we're not passing limits down\nto the resource tracker, and thus thus treating everything in the claim\nprocess as unlimited.\n\nAs a step towards making BFV instances first class citizens in Nova, we\nneed to fix things like failing to claim unrelated root disk space on\ncompute nodes and reporting volumes as used disk space on compute nodes.\n\nIn order to do that, we need to pull out a lot of the handling of these\nbasic three resources from the compute node's resource tracker. This patch\nis the first step towards that goal: removing the claim tests for these\nresource types.\n\nChange-Id: I2936ce8cb293dc80e1a426094fdae6e675461470\nCo-Authored-By: Stephen Finucane <sfinucan@redhat.com>\nPartial-Bug: #1469179\n""}, {'number': 5, 'created': '2019-07-24 15:29:42.000000000', 'files': ['nova/tests/unit/compute/test_claims.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/claims.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5406c8bd9b8740a27c60a0ac7983c84e440f0d35', 'message': 'Remove deprecated CPU, RAM, disk claiming in resource tracker\n\nIn change Id62136d293da55e4bb639635ea5421a33b6c3ea2, we deprecated the\nscheduler filters for CPU, RAM, and Disk since they were no longer\nnecessary in the new placement-based world. With these filters disabled,\nwe are no longer passing limits down to the resource tracker meaning we\nare treating everything in the claim process as unlimited. This means\nmost of the claiming code here, NUMA stuff aside, is now a no-op and can\nbe removed. Do just that.\n\nChange-Id: I2936ce8cb293dc80e1a426094fdae6e675461470\nCo-Authored-By: Stephen Finucane <sfinucan@redhat.com>\nPartial-Bug: #1469179\n'}]",14,551026,5406c8bd9b8740a27c60a0ac7983c84e440f0d35,63,19,5,4393,,,0,"Remove deprecated CPU, RAM, disk claiming in resource tracker

In change Id62136d293da55e4bb639635ea5421a33b6c3ea2, we deprecated the
scheduler filters for CPU, RAM, and Disk since they were no longer
necessary in the new placement-based world. With these filters disabled,
we are no longer passing limits down to the resource tracker meaning we
are treating everything in the claim process as unlimited. This means
most of the claiming code here, NUMA stuff aside, is now a no-op and can
be removed. Do just that.

Change-Id: I2936ce8cb293dc80e1a426094fdae6e675461470
Co-Authored-By: Stephen Finucane <sfinucan@redhat.com>
Partial-Bug: #1469179
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/551026/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_claims.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/claims.py', 'nova/compute/resource_tracker.py']",5,c9804fee2c1d0b23a9e06a01b2e47a3c2977e5e4,bp/cpu-resources," pci_requests, limits=limits) new_pci_requests,"," # get the overhead required to build this instance: overhead = self.driver.estimate_instance_overhead(instance) LOG.debug(""Memory overhead for %(flavor)d MB instance; %(overhead)d "" ""MB"", {'flavor': instance.flavor.memory_mb, 'overhead': overhead['memory_mb']}) LOG.debug(""Disk overhead for %(flavor)d GB instance; %(overhead)d "" ""GB"", {'flavor': instance.flavor.root_gb, 'overhead': overhead.get('disk_gb', 0)}) LOG.debug(""CPU overhead for %(flavor)d vCPUs instance; %(overhead)d "" ""vCPU(s)"", {'flavor': instance.flavor.vcpus, 'overhead': overhead.get('vcpus', 0)}) pci_requests, overhead=overhead, limits=limits) # get memory overhead required to build this instance: overhead = self.driver.estimate_instance_overhead(new_instance_type) LOG.debug(""Memory overhead for %(flavor)d MB instance; %(overhead)d "" ""MB"", {'flavor': new_instance_type.memory_mb, 'overhead': overhead['memory_mb']}) LOG.debug(""Disk overhead for %(flavor)d GB instance; %(overhead)d "" ""GB"", {'flavor': instance.flavor.root_gb, 'overhead': overhead.get('disk_gb', 0)}) LOG.debug(""CPU overhead for %(flavor)d vCPUs instance; %(overhead)d "" ""vCPU(s)"", {'flavor': instance.flavor.vcpus, 'overhead': overhead.get('vcpus', 0)}) new_pci_requests, overhead=overhead,",16,299
openstack%2Fmanila~master~Id8bf1e3ed7be9a7a3050479273ce5ec4fa093234,openstack/manila,master,Id8bf1e3ed7be9a7a3050479273ce5ec4fa093234,[tests] run all dsvm jobs with python3,ABANDONED,2019-03-24 11:22:19.000000000,2019-07-25 11:33:36.000000000,,"[{'_account_id': 2417}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 16643}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-03-24 11:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a42ce07dd34bd1f2195c14b0cfee73acdf4a5678', 'message': '[tests] run all dsvm jobs with python3\n\nAlso override the services enabled in devstack so that\nonly those run that are actually needed.\n\nChange-Id: Id8bf1e3ed7be9a7a3050479273ce5ec4fa093234\n'}, {'number': 2, 'created': '2019-03-26 12:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/38f17512846cacaddabdcd725056f55c1dd09120', 'message': '[tests] run all dsvm jobs with python3\n\nexcept add a python2 version of the dummy job since we\nneed to maintain coverage for python2 through the Train\nrelease.\n\nAlso override the services enabled in devstack so that\nonly those run that are actually needed and run all dsvm\njobs with tls-proxy service.\n\nChange-Id: Id8bf1e3ed7be9a7a3050479273ce5ec4fa093234\n'}, {'number': 3, 'created': '2019-03-26 14:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/76df2ae6bbd8f845653758e6cf7b542ecd64cbc6', 'message': '[tests] run all dsvm jobs with python3\n\nexcept add a python2 version of the dummy job since we\nneed to maintain coverage for python2 through the Train\nrelease.\n\nAlso override the services enabled in devstack so that\nonly those run that are actually needed and run all dsvm\njobs with tls-proxy service.\n\nChange-Id: Id8bf1e3ed7be9a7a3050479273ce5ec4fa093234\n'}, {'number': 4, 'created': '2019-03-28 16:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ee4b203540a0cd1ae615b935bad85b4f79e43931', 'message': '[tests] run all dsvm jobs with python3\n\nexcept add a python2 version of the dummy job since we\nneed to maintain coverage for python2 through the Train\nrelease.\n\nAlso override the services enabled in devstack so that\nonly those run that are actually needed and run all dsvm\njobs with tls-proxy service.\n\nDepends-on: https://review.openstack.org/#/c/629493/\nChange-Id: Id8bf1e3ed7be9a7a3050479273ce5ec4fa093234\n'}, {'number': 5, 'created': '2019-03-28 18:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e154d8e35914e0601445f40af517809e0edce6de', 'message': '[tests] run all dsvm jobs with python3\n\nexcept add a python2 version of the dummy job since we\nneed to maintain coverage for python2 through the Train\nrelease.\n\nAlso override the services enabled in devstack so that\nonly those run that are actually needed and run all dsvm\njobs with tls-proxy service.\n\nDepends-on: https://review.openstack.org/648505\nDepends-on: https://review.openstack.org/#/c/629493/\nChange-Id: Id8bf1e3ed7be9a7a3050479273ce5ec4fa093234\n'}, {'number': 6, 'created': '2019-03-28 20:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c0d3f5ccc1eb11dcbece3c8c7eaa393cd240f031', 'message': '[tests] run all dsvm jobs with python3\n\nexcept add a python2 version of the dummy job since we\nneed to maintain coverage for python2 through the Train\nrelease.\n\nAlso override the services enabled in devstack so that\nonly those run that are actually needed and run all dsvm\njobs with tls-proxy service.\n\nDepends-on: https://review.openstack.org/648505\nDepends-on: https://review.openstack.org/#/c/629493/\nChange-Id: Id8bf1e3ed7be9a7a3050479273ce5ec4fa093234\n'}, {'number': 7, 'created': '2019-03-29 14:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/03b8a58aa8b5701e10eae61eced8d3310eb83f6f', 'message': '[tests] run all dsvm jobs with python3\n\nexcept add a python2 version of the dummy job since we\nneed to maintain coverage for python2 through the Train\nrelease.\n\nAlso override the services enabled in devstack so that\nonly those run that are actually needed and run all dsvm\njobs with tls-proxy service.\n\nDepends-on: https://review.openstack.org/648505\nDepends-on: https://review.openstack.org/#/c/629493/\nChange-Id: Id8bf1e3ed7be9a7a3050479273ce5ec4fa093234\n'}, {'number': 8, 'created': '2019-03-29 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/17e814f44e27a36b794809daa63954b5180bd9cd', 'message': '[tests] run all dsvm jobs with python3\n\nexcept add a python2 version of the dummy job since we\nneed to maintain coverage for python2 through the Train\nrelease.\n\nAlso override the services enabled in devstack so that\nonly those run that are actually needed and run all dsvm\njobs with tls-proxy service.\n\nFinally, use the new devstack hook in manila-tempest-plugin\nand enable it via the various run playbooks in the same\nmanner that we plug in manila itself.\n\nDepends-on: https://review.openstack.org/648505\nDepends-on: https://review.openstack.org/#/c/629493/\nChange-Id: Id8bf1e3ed7be9a7a3050479273ce5ec4fa093234\n'}, {'number': 9, 'created': '2019-03-29 20:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c27b0d9800986fd43b41a0191ed680ba1abed74a', 'message': '[tests] run all dsvm jobs with python3\n\nexcept add a python2 version of the dummy job since we\nneed to maintain coverage for python2 through the Train\nrelease.\n\nAlso override the services enabled in devstack so that\nonly those run that are actually needed and run all dsvm\njobs with tls-proxy service.\n\nFinally, use the new devstack hook in manila-tempest-plugin\nand enable it via the various run playbooks in the same\nmanner that we plug in manila itself.\n\nDepends-on: https://review.openstack.org/#/c/648716/\nDepends-on: https://review.openstack.org/648505\nDepends-on: https://review.openstack.org/#/c/629493/\nChange-Id: Id8bf1e3ed7be9a7a3050479273ce5ec4fa093234\n'}, {'number': 10, 'created': '2019-03-29 21:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fede6f0b11e7fdd2da0212cc68cc050c816dabfd', 'message': '[tests] run all dsvm jobs with python3\n\nexcept add a python2 version of the dummy job since we\nneed to maintain coverage for python2 through the Train\nrelease.\n\nAlso override the services enabled in devstack so that\nonly those run that are actually needed and run all dsvm\njobs with tls-proxy service.\n\nFinally, use the new devstack hook in manila-tempest-plugin\nand enable it via the various run playbooks in the same\nmanner that we plug in manila itself.\n\nDepends-on: https://review.openstack.org/#/c/648716/\nDepends-on: https://review.openstack.org/648505\nDepends-on: https://review.openstack.org/#/c/629493/\nChange-Id: Id8bf1e3ed7be9a7a3050479273ce5ec4fa093234\n'}, {'number': 11, 'created': '2019-04-01 12:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f25beb30b32efbfd7cf98b8cb426189af2c11e83', 'message': '[tests] run all dsvm jobs with python3\n\nexcept add a python2 version of the dummy job since we\nneed to maintain coverage for python2 through the Train\nrelease.\n\nAlso override the services enabled in devstack so that\nonly those run that are actually needed and run all dsvm\njobs with tls-proxy service.\n\nFinally, use the new devstack hook in manila-tempest-plugin\nand enable it via the various run playbooks in the same\nmanner that we plug in manila itself.\n\nDepends-on: https://review.openstack.org/#/c/648716/\nDepends-on: https://review.openstack.org/648505\nDepends-on: https://review.openstack.org/#/c/629493/\nChange-Id: Id8bf1e3ed7be9a7a3050479273ce5ec4fa093234\n'}, {'number': 12, 'created': '2019-04-01 20:39:03.000000000', 'files': ['playbooks/legacy/manila-tempest-minimal-py35-dsvm-cephfs-nfs-centos-7/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-lvm/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-zfsonlinux/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-hdfs/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-container-scenario-custom-image/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native-centos-7/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-dummy-py2/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-container/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-generic-singlebackend/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-generic-scenario-custom-image/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-generic-no-share-servers/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-dummy-py2/post.yaml', 'playbooks/legacy/manila-tempest-dsvm-mysql-generic/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-native-heketi/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-nfs/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-dummy/run.yaml', '.zuul.yaml', 'playbooks/legacy/manila-tempest-minimal-py35-dsvm-cephfs-native-centos-7/run.yaml', 'devstack/plugin.sh', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-nfs-heketi/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs-centos-7/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-scenario/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-native/run.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/6d95c6e286306004e3142de91702c26f79c37eda', 'message': '[tests] run all dsvm jobs with python3\n\nexcept add a python2 version of the dummy job since we\nneed to maintain coverage for python2 through the Train\nrelease.\n\nAlso override the services enabled in devstack so that\nonly those run that are actually needed and run all dsvm\njobs with tls-proxy service.\n\nFinally, use the new devstack hook in manila-tempest-plugin\nand enable it via the various run playbooks in the same\nmanner that we plug in manila itself.\n\nDepends-on: https://review.openstack.org/#/c/648716/\nChange-Id: Id8bf1e3ed7be9a7a3050479273ce5ec4fa093234\n'}]",16,646037,6d95c6e286306004e3142de91702c26f79c37eda,110,13,12,9003,,,0,"[tests] run all dsvm jobs with python3

except add a python2 version of the dummy job since we
need to maintain coverage for python2 through the Train
release.

Also override the services enabled in devstack so that
only those run that are actually needed and run all dsvm
jobs with tls-proxy service.

Finally, use the new devstack hook in manila-tempest-plugin
and enable it via the various run playbooks in the same
manner that we plug in manila itself.

Depends-on: https://review.openstack.org/#/c/648716/
Change-Id: Id8bf1e3ed7be9a7a3050479273ce5ec4fa093234
",git fetch https://review.opendev.org/openstack/manila refs/changes/37/646037/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/manila-tempest-dsvm-generic-no-share-servers/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-mysql-generic/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-lvm/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-native-heketi/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-nfs/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-zfsonlinux/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-dummy/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-hdfs/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-container-scenario-custom-image/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-nfs-heketi/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native-centos-7/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-container/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-postgres-generic-singlebackend/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs-centos-7/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-scenario/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-generic-scenario-custom-image/run.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs/run.yaml', 'playbooks/legacy/manila-tempest-dsvm-glusterfs-native/run.yaml']",19,a42ce07dd34bd1f2195c14b0cfee73acdf4a5678,python3-default," OVERRIDE_ENABLED_SERVICES=key,mysql,rabbit,tempest export OVERRIDE_ENABLED_SERVICES export DEVSTACK_GATE_USE_PYTHON3=True ", export ENABLED_SERVICES=tempest,180,31
openstack%2Fcyborg~master~Ic9f7f55173d3de6f90e8c6a0777df9ae238ff847,openstack/cyborg,master,Ic9f7f55173d3de6f90e8c6a0777df9ae238ff847,Placement report,ABANDONED,2019-07-25 11:27:07.000000000,2019-07-25 11:29:37.000000000,,[],"[{'number': 1, 'created': '2019-07-25 11:27:07.000000000', 'files': ['cyborg/common/rc_fields.py', 'cyborg/common/constants.py', 'cyborg/services/client/report.py', 'cyborg/objects/driver_objects/driver_device.py', 'cyborg/common/exception.py', 'cyborg/objects/driver_objects/driver_deployable.py', 'cyborg/accelerator/drivers/fpga/intel/sysinfo.py', 'cyborg/conductor/manager.py', 'cyborg/objects/driver_objects/driver_attribute.py', 'cyborg/objects/deployable.py', 'cyborg/common/placement_client.py', 'cyborg/objects/device.py', 'cyborg/conductor/provider_tree.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6a4be6de6bba090961c8ce31810ce5af5fc3a833', 'message': 'Placement report\n\n1. Create resource provider, resource class, traits.\n2. Nested resource provider is supported in this patch.\n3. According to the comments and reply in:\nhttps://review.opendev.org/#/c/626057/10/cyborg/common/placement_client.py,\nwe should make a class to invoke Placement API. This has also been done in\nthis patch.\n4. Convert cyborg/objects/driver_objects/driver_device.py file type from dos to\nunix, to avoid ^M at the end of each line.\n4. More info for driver developers:  each driver should report resource class\nand traits in driver_attribute field in order that cyborg-conductor can parse\nit and report to placement.\n\nChange-Id: Ic9f7f55173d3de6f90e8c6a0777df9ae238ff847\n'}]",0,672699,6a4be6de6bba090961c8ce31810ce5af5fc3a833,2,0,1,25738,,,0,"Placement report

1. Create resource provider, resource class, traits.
2. Nested resource provider is supported in this patch.
3. According to the comments and reply in:
https://review.opendev.org/#/c/626057/10/cyborg/common/placement_client.py,
we should make a class to invoke Placement API. This has also been done in
this patch.
4. Convert cyborg/objects/driver_objects/driver_device.py file type from dos to
unix, to avoid ^M at the end of each line.
4. More info for driver developers:  each driver should report resource class
and traits in driver_attribute field in order that cyborg-conductor can parse
it and report to placement.

Change-Id: Ic9f7f55173d3de6f90e8c6a0777df9ae238ff847
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/99/672699/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/common/rc_fields.py', 'cyborg/common/constants.py', 'cyborg/services/client/report.py', 'cyborg/objects/driver_objects/driver_device.py', 'cyborg/common/exception.py', 'cyborg/objects/driver_objects/driver_deployable.py', 'cyborg/accelerator/drivers/fpga/intel/sysinfo.py', 'cyborg/conductor/manager.py', 'cyborg/objects/driver_objects/driver_attribute.py', 'cyborg/objects/deployable.py', 'cyborg/common/placement_client.py', 'cyborg/objects/device.py', 'cyborg/conductor/provider_tree.py']",13,6a4be6de6bba090961c8ce31810ce5af5fc3a833,placement,,,868,2176
openstack%2Fcinder~master~I3c1c2dadb953483208c4c3df7b1adf23f7c61964,openstack/cinder,master,I3c1c2dadb953483208c4c3df7b1adf23f7c61964,First attempt at a naive implementation for Peer Persistence volumes in the HPE 3PAR driver for Cinder.,NEW,2018-11-20 15:28:45.000000000,2019-07-25 11:14:22.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-11-20 15:28:45.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_base.py', 'cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a1939070497fa4ab32bf4b893812615617c0c5ef', 'message': 'First attempt at a naive implementation for Peer Persistence volumes in the\nHPE 3PAR driver for Cinder.\n\nThis is a cleaned-up version of a patch we are currently using on a\nstandalone Cinder installation (non-OpenStack). This means that the basic\nfunctionality of being able to create cinder volumes with peer persistence\nhas been validated. However, a multitude of tests will be required in order\nto merge this functionality upstream.\n\nA first attempt at listing the tests to be executed:\n\n- Validation of the ""replication:peer_persistence"" setting\n- Double-check implementation/configuration of peerpersistent volumes\n- Validate creation of peerpersistent volumes when one 3PAR instance is\n  unavailable\n- Validate automatic fail-over of an existing peerpersistent volume when\n  a 3PAR instance goes offline\n- Validate manual fail-over of a peerpersistent volumes\n- Evaluate retype functionality for peerpersistent volumes\n- Apply changes after code-review\n\nChange-Id: I3c1c2dadb953483208c4c3df7b1adf23f7c61964\n'}]",3,619020,a1939070497fa4ab32bf4b893812615617c0c5ef,35,32,1,28394,,,0,"First attempt at a naive implementation for Peer Persistence volumes in the
HPE 3PAR driver for Cinder.

This is a cleaned-up version of a patch we are currently using on a
standalone Cinder installation (non-OpenStack). This means that the basic
functionality of being able to create cinder volumes with peer persistence
has been validated. However, a multitude of tests will be required in order
to merge this functionality upstream.

A first attempt at listing the tests to be executed:

- Validation of the ""replication:peer_persistence"" setting
- Double-check implementation/configuration of peerpersistent volumes
- Validate creation of peerpersistent volumes when one 3PAR instance is
  unavailable
- Validate automatic fail-over of an existing peerpersistent volume when
  a 3PAR instance goes offline
- Validate manual fail-over of a peerpersistent volumes
- Evaluate retype functionality for peerpersistent volumes
- Apply changes after code-review

Change-Id: I3c1c2dadb953483208c4c3df7b1adf23f7c61964
",git fetch https://review.opendev.org/openstack/cinder refs/changes/20/619020/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hpe/hpe_3par_base.py', 'cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",3,a1939070497fa4ab32bf4b893812615617c0c5ef,feature/cinder-hpe3par-peer-persistence," EXTRA_SPEC_REP_PEERPERSISTENCE = ""replication:peer_persistence"" DEFAULT_REP_PEERPERSISTENCE = False replication_peer_persistence = extra_specs.get( self.EXTRA_SPEC_REP_PEERPERSISTENCE, self.DEFAULT_REP_PEERPERSISTENCE) if replication_peer_persistence: # 'sync_targets_peer' added to enable Peer Persistence on # these volumes sync_targets_peer = [] # define peer-persistent volume objects if replication_peer_persistence: sync_target_peer = {'targetName': target['backend_id'], 'policies': {'autoRecover': True, 'autoFailover': True, 'pathManagement': True } } sync_targets_peer.append(sync_target_peer) # If peer persistence is enabled, add the necessary options if replication_peer_persistence: opt = {'targets': sync_targets_peer} try: self.client.modifyRemoteCopyGroup(rcg_name, opt) except Exception as ex: msg = (_(""There was an error setting the peer persistence "" ""for the remote copy group: %s."") % six.text_type(ex)) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) ",,199,2
openstack%2Ftripleo-common~master~Ifcc81fb0d31d0d2578c88242c3ba87cf12bc19aa,openstack/tripleo-common,master,Ifcc81fb0d31d0d2578c88242c3ba87cf12bc19aa,Add script to help export cellv2 multicell information,ABANDONED,2019-07-01 10:41:01.000000000,2019-07-25 11:08:48.000000000,,"[{'_account_id': 7144}, {'_account_id': 17216}, {'_account_id': 18002}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-01 10:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/aed872fb117b407fbfbadccad3c7d1199295ee72', 'message': 'Add script to help export cellv2 multicell information\n\n[1] provided steps on how to setup multiple cells using tripleo.\nThis requires to extract deployment information from the overcloud\n/main heat stack which then is used as input for the cell deployment.\n\nWith this patch we provide a script to help automate the export\nsteps from [1] and automates the steps:\n* Export the default cell EndpointMap\n* Export the default cell HostsEntry\n* Export AllNodesConfig and GlobalConfig information\n* Export passwords\n\n[1] https://docs.openstack.org/tripleo-docs/latest/install/advanced_deployment/deploy_cellv2.html#deploy-an-additional-nova-cell-v2\n\nChange-Id: Ifcc81fb0d31d0d2578c88242c3ba87cf12bc19aa\n'}, {'number': 2, 'created': '2019-07-01 12:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8ba1569d936a754c9fbef856a74b735081fdadeb', 'message': 'Add script to help export cellv2 multicell information\n\n[1] provided steps on how to setup multiple cells using tripleo.\nThis requires to extract deployment information from the overcloud\n/main heat stack which then is used as input for the cell deployment.\n\nWith this patch we provide a script to help automate the export\nsteps from [1] and automates the steps:\n* Export the default cell EndpointMap\n* Export the default cell HostsEntry\n* Export AllNodesConfig and GlobalConfig information\n* Export passwords\n\n[1] https://docs.openstack.org/tripleo-docs/latest/install/advanced_deployment/deploy_cellv2.html#deploy-an-additional-nova-cell-v2\n\nChange-Id: Ifcc81fb0d31d0d2578c88242c3ba87cf12bc19aa\n'}, {'number': 3, 'created': '2019-07-01 14:03:43.000000000', 'files': ['releasenotes/notes/tripleo-export-cell-information_script-209768d75bbf1929.yaml', 'scripts/tripleo-export-cell-information'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b9b567a10b96a3d3e4b04b0af31b60aa455bb05e', 'message': 'Add script to help export cellv2 multicell information\n\n[1] provided steps on how to setup multiple cells using tripleo.\nThis requires to extract deployment information from the overcloud\n/main heat stack which then is used as input for the cell deployment.\n\nWith this patch we provide a script to help automate the export\nsteps from [1] and automates the steps:\n* Export the default cell EndpointMap\n* Export the default cell HostsEntry\n* Export AllNodesConfig and GlobalConfig information\n* Export passwords\n\n[1] https://docs.openstack.org/tripleo-docs/latest/install/advanced_deployment/deploy_cellv2.html#deploy-an-additional-nova-cell-v2\n\nChange-Id: Ifcc81fb0d31d0d2578c88242c3ba87cf12bc19aa\n'}]",3,668414,b9b567a10b96a3d3e4b04b0af31b60aa455bb05e,12,8,3,17216,,,0,"Add script to help export cellv2 multicell information

[1] provided steps on how to setup multiple cells using tripleo.
This requires to extract deployment information from the overcloud
/main heat stack which then is used as input for the cell deployment.

With this patch we provide a script to help automate the export
steps from [1] and automates the steps:
* Export the default cell EndpointMap
* Export the default cell HostsEntry
* Export AllNodesConfig and GlobalConfig information
* Export passwords

[1] https://docs.openstack.org/tripleo-docs/latest/install/advanced_deployment/deploy_cellv2.html#deploy-an-additional-nova-cell-v2

Change-Id: Ifcc81fb0d31d0d2578c88242c3ba87cf12bc19aa
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/14/668414/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/tripleo-export-cell-information_script-209768d75bbf1929.yaml', 'scripts/tripleo-export-cell-information']",2,aed872fb117b407fbfbadccad3c7d1199295ee72,cell_export,"#!/usr/bin/python3 -s # Copyright 2019 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from __future__ import print_function from datetime import datetime import logging from optparse import OptionParser import os import sys import time import json import yaml from shutil import copyfile from keystoneauth1 import loading from keystoneauth1 import session from heatclient import client as heatclient from swiftclient import client as swiftclient logging.basicConfig(stream=sys.stdout, level=logging.INFO) LOG = logging.getLogger('export_cell_information') now = datetime.now().strftime('%Y%m%d%H%M%S') def _parse_args(): parser = OptionParser(description='Export stack information ' 'can be used as input for additional cell', usage=""usage: %prog [options]"") parser.add_option( '--control-plane-stack', '-s', dest='control_plane_stack', metavar=""CONTROL-PLANE-STACK"", help='Name of the environment main Heat stack to export ' 'information from. ' 'Default: overcloud', action='store', default='overcloud') parser.add_option( '--cell-stack', '-e', dest='cellstack', metavar=""CELL-STACK"", help='Name of the controller cell Heat stack to export information ' 'from. Used in case of: control plane stack -> cell controller ' 'stack -> multiple compute stacks', action='store', default='') parser.add_option( '--cell', '-c', dest='cell', metavar=""CELL"", help='Name of the stack used for the additional cell.', action='store', default='') parser.add_option( '--dir', '-d', dest='dir', metavar=""DIR"", help='Path to export the information to. Default current ' 'directory and create a subdir with what is provided ' 'in ""--cell"" parameter', action='store', type='string', default=os.getcwd()) return parser.parse_args() def _write_file(file, data): """""" Write the export data files :param file: file to write to :param data: data to write to file """""" try: with open(file, ""w"") as outfile: outfile.write(data) except IOError, e: LOG.error(""An error happened writing file %s: %s"" % (file, str(e))) sys.exit(1) def _export_heat_data(heat, stack, output): """""" Exports the heat stack output API call - openstack stack output show <stack> <export_key> :param heat: heat client :param stack: heat stack name :param output: the heat output to query Returns the heat output. """""" try: return heat.stacks.output_show(stack, output) except Exception as e: LOG.error(""An error happened while exporting the %s: %s"" % (output, str(e))) sys.exit(1) def _check_env(): """""" Checks if all required OS environment variables are set to access the OpenStack API endpoints. """""" vars_all = [p in os.environ for p in [ 'OS_AUTH_URL', 'OS_USERNAME', 'OS_PASSWORD', 'OS_PROJECT_NAME', 'OS_PROJECT_DOMAIN_NAME', 'OS_USER_DOMAIN_NAME']] if not all(vars_all): LOG.error(""Not all environment variables set. Make sure to source "" ""environment file containing: OS_AUTH_URL, OS_USERNAME, "" ""OS_PASSWORD, OS_PROJECT_NAME, OS_PROJECT_DOMAIN_NAME and "" ""OS_USER_DOMAIN_NAME"") sys.exit(1) def _create_cell_dir(opt_cell, opt_stack, opt_dir): """""" Create the directory where the cell export information gets written to :param opt_cell: Name of the cell Heat stack of the additional cell. This is used to create a directory to store write the exported files to. If non is specified it is created from stack name -cellexport- time stamp. :param opt_stack: Name of the Heat stack to export information from. Default: overcloud :param opt_dir: Base path where the export directory should be created in. Default: pwd Returns the created export directory """""" if not opt_cell: opt_cell = opt_stack + '-cellexport-' + now LOG.info('No cell specified using: %s', opt_cell) export_dir = opt_dir + '/' + opt_cell LOG.info('Create cell export dir: %s', export_dir) if not os.path.exists(export_dir): try: os.makedirs(export_dir) except OSError as e: LOG.error(""Creation of cell export dir %s failed: %s"" % (export_dir, str(e))) sys.exit(1) return export_dir def main(): # check the needed env variables are set _check_env() (options, args) = _parse_args() LOG.info('Running at %s with parameters %s', now, options) # create the export directory export_dir = _create_cell_dir(options.cell, options.control_plane_stack, options.dir) # prepare clients for heat and swift loader = loading.get_plugin_loader('password') auth = loader.load_from_options( auth_url=os.environ.get('OS_AUTH_URL'), username=os.environ.get('OS_USERNAME'), password=os.environ.get('OS_PASSWORD'), project_name=os.environ.get('OS_PROJECT_NAME'), project_domain_name=os.environ.get('OS_PROJECT_DOMAIN_NAME'), user_domain_name=os.environ.get('OS_USER_DOMAIN_NAME')) sess = session.Session(auth=auth) heat = heatclient.Client('1', session=sess) swift = swiftclient.Connection(session=sess) # data to export # parameter: Parameter to be exported # file: file to store exported data # filter: in case only specific settings should be # exported from parameter data. export_data = { ""EndpointMap"": { ""parameter"": ""EndpointMapOverride"", ""file"": ""endpoint-map.json""}, ""HostsEntry"": { ""parameter"": ""ExtraHostFileEntries"", ""file"": ""extra-host-file-entries.json""}, ""AllNodesConfig"": { ""parameter"": ""AllNodesExtraMapData"", ""file"": ""all-nodes-extra-map-data.json"", ""filter"": [""oslo_messaging_notify_short_bootstrap_node_name"", ""oslo_messaging_notify_node_names"", ""oslo_messaging_rpc_node_names"", ""memcached_node_ips""]}, ""GlobalConfig"": { ""parameter"": ""AllNodesExtraMapData"", ""file"": ""all-nodes-extra-map-data.json""}} # export above specified data data_real = {} stack_to_export = options.control_plane_stack if options.cellstack: stack_to_export = options.cellstack for export_key, export_param in export_data.items(): # get data from heat data = _export_heat_data(heat, stack_to_export, export_key) file = export_param[""file""] param = export_param[""parameter""] # do we just want a subset of entries? # When we export information from a cell controller stack # we don't want to filter. if ""filter"" in export_param and not options.cellstack: data_real[file] = {'parameter_defaults': {param: {}}} for x in export_param[""filter""]: element = {x: data[""output""][""output_value""][x]} data_real[file][""parameter_defaults""][param].update(element) else: # if the same file names are specified, just update with the # data to add if file in data_real: data_real[file][""parameter_defaults""][param]. \ update(data[""output""][""output_value""]) else: # otherwise full export to ""parameter"" section in # paramater_defaults data_real[file] = {'parameter_defaults': { param: data[""output""][""output_value""]}} # write the files for file, data in data_real.items(): export_file = export_dir + ""/"" + file data = json.dumps(data, indent=2, sort_keys=True) _write_file(export_file, data) LOG.info(""exported %s"" % (export_file)) # Export the passwords from swift obj = 'plan-environment.yaml' container = options.control_plane_stack try: resp_headers, content = swift.get_object(container, obj) except Exception as e: LOG.error(""An error happened while exporting the password file from "" ""swift: %s"", str(e)) sys.exit(1) # write the password.yaml file export_file = export_dir + ""/passwords.yaml"" try: data = yaml.dump( {""parameter_defaults"": yaml.load(content)[""passwords""]}) except Exception as e: LOG.exception(""An error happened while creating the password yaml:"" ""%s"", str(e)) sys.exit(1) _write_file(export_file, data) LOG.info(""Passwords exported to %s"", export_file) print(""\n\n"" ""Next steps:\n"" ""===========\n\n"" ""* Create roles file for cell stack, e.g.:\n"" "" openstack overcloud roles generate --roles-path \\\n"" "" /usr/share/openstack-tripleo-heat-templates/roles \\\n"" "" -o $DIR/cell_roles_data.yaml Compute CellController\n"" ""* Create new flavor used to tag the cell controller\n"" ""* Tag cell controller nodes into the new flavor\n"" ""* Create cell parameter file as explained in bellow doc link\n"" ""* Deploy the cell and make sure to add the following information"" "" to the deploy command:\n"" "" - --stack <cellname>"" "" - additional environment files used for overcloud stack\n"" "" - role and parameter files from %s\n"" "" - other specific parameter files for the cell\n\n"" ""For more details check https://docs.openstack.org/tripleo-docs/"" ""latest/install/advanced_deployment/deploy_cellv2.html#"" ""deploy-the-cell"", export_dir) if __name__ == '__main__': main() # vim: set et ts=4 sw=4 : ",,321,0
openstack%2Fhorizon~master~I15e391ef45ff5f721437d7c42b3b783a850c9d58,openstack/horizon,master,I15e391ef45ff5f721437d7c42b3b783a850c9d58,Fix the filter value of 'state' in the response of list_availability_zones,NEW,2019-07-19 07:29:29.000000000,2019-07-25 10:57:48.000000000,,"[{'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 27738}]","[{'number': 1, 'created': '2019-07-19 07:29:29.000000000', 'files': ['openstack_dashboard/dashboards/admin/networks/forms.py', 'openstack_dashboard/dashboards/project/routers/tests.py', 'openstack_dashboard/dashboards/project/networks/tests.py', 'openstack_dashboard/dashboards/admin/networks/tests.py', 'openstack_dashboard/dashboards/project/networks/workflows.py', 'openstack_dashboard/dashboards/project/routers/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/91e766b2a7550d1f22d93911876f2573afd8a5fd', 'message': ""Fix the filter value of 'state' in the response of list_availability_zones\n\nThe response of list_availability_zones have changed the values of\n'state' from 'available'/'unavailable' to 'True'/'False'. Sync this\nchange.\n\nBased on neutron patch:\nhttps://review.opendev.org/#/c/566182/10/neutron/db/agents_db.py\n\nChange-Id: I15e391ef45ff5f721437d7c42b3b783a850c9d58\n""}]",7,671665,91e766b2a7550d1f22d93911876f2573afd8a5fd,13,6,1,27738,,,0,"Fix the filter value of 'state' in the response of list_availability_zones

The response of list_availability_zones have changed the values of
'state' from 'available'/'unavailable' to 'True'/'False'. Sync this
change.

Based on neutron patch:
https://review.opendev.org/#/c/566182/10/neutron/db/agents_db.py

Change-Id: I15e391ef45ff5f721437d7c42b3b783a850c9d58
",git fetch https://review.opendev.org/openstack/horizon refs/changes/65/671665/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/admin/networks/forms.py', 'openstack_dashboard/dashboards/project/routers/tests.py', 'openstack_dashboard/dashboards/project/networks/tests.py', 'openstack_dashboard/dashboards/admin/networks/tests.py', 'openstack_dashboard/dashboards/project/networks/workflows.py', 'openstack_dashboard/dashboards/project/routers/forms.py']",6,91e766b2a7550d1f22d93911876f2573afd8a5fd,," self.request, 'router', True)"," self.request, 'router', 'available')",6,6
openstack%2Fkolla-ansible~stable%2Fstein~I77af534fbe824cfbe95782ab97838b358c17b928,openstack/kolla-ansible,stable/stein,I77af534fbe824cfbe95782ab97838b358c17b928,Do not require valid migration_interface for controllers,MERGED,2019-07-16 18:10:39.000000000,2019-07-25 10:40:46.000000000,2019-07-25 10:40:46.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30381}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-16 18:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/327a513a16e97f6b3fa874bb40a8f248d2f4965f', 'message': ""Do not require valid migration_interface for controllers\n\nControllers lacking compute should not be required to provide\nvalid migration_interface as it is not used there (and prechecks\ndo not check that either).\n\nInclusion of libvirt conf section is now conditional on service type.\nlibvirt conf section has been moved to separate included file to\navoid evaluation of the undefined variable (conditional block did not\nprevent it and using 'default' filter may hide future issues).\nSee https://github.com/ansible/ansible/issues/58835\nAdditionally this fixes the improper nesting of 'if' blocks for libvirt.\n\nChange-Id: I77af534fbe824cfbe95782ab97838b358c17b928\nCloses-Bug: #1835713\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit b166d2550e2672e2a55554474438e47f96191e82)\n""}, {'number': 2, 'created': '2019-07-16 18:13:03.000000000', 'files': ['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/nova/templates/nova.conf.d/libvirt.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c28e02e20eff2bdb302cb0adaf9c120cc995c134', 'message': ""Do not require valid migration_interface for controllers\n\nControllers lacking compute should not be required to provide\nvalid migration_interface as it is not used there (and prechecks\ndo not check that either).\n\nInclusion of libvirt conf section is now conditional on service type.\nlibvirt conf section has been moved to separate included file to\navoid evaluation of the undefined variable (conditional block did not\nprevent it and using 'default' filter may hide future issues).\nSee https://github.com/ansible/ansible/issues/58835\nAdditionally this fixes the improper nesting of 'if' blocks for libvirt.\n\nChange-Id: I77af534fbe824cfbe95782ab97838b358c17b928\nCloses-Bug: #1835713\nDepends-On: https://review.opendev.org/671127\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit b166d2550e2672e2a55554474438e47f96191e82)\n""}]",0,671126,c28e02e20eff2bdb302cb0adaf9c120cc995c134,10,5,2,30491,,,0,"Do not require valid migration_interface for controllers

Controllers lacking compute should not be required to provide
valid migration_interface as it is not used there (and prechecks
do not check that either).

Inclusion of libvirt conf section is now conditional on service type.
libvirt conf section has been moved to separate included file to
avoid evaluation of the undefined variable (conditional block did not
prevent it and using 'default' filter may hide future issues).
See https://github.com/ansible/ansible/issues/58835
Additionally this fixes the improper nesting of 'if' blocks for libvirt.

Change-Id: I77af534fbe824cfbe95782ab97838b358c17b928
Closes-Bug: #1835713
Depends-On: https://review.opendev.org/671127
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit b166d2550e2672e2a55554474438e47f96191e82)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/26/671126/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/nova/templates/nova.conf.d/libvirt.conf.j2']",2,327a513a16e97f6b3fa874bb40a8f248d2f4965f,bug/1835713-stable/stein,"[libvirt] connection_uri = ""qemu+tcp://{{ migration_interface_address }}/system"" {% if enable_ceph | bool and nova_backend == ""rbd"" %} images_type = rbd images_rbd_pool = {{ ceph_nova_pool_name }} images_rbd_ceph_conf = /etc/ceph/ceph.conf rbd_user = nova disk_cachemodes=""network=writeback"" {% if nova_hw_disk_discard != '' %} hw_disk_discard = {{ nova_hw_disk_discard }} {% endif %} {% endif %} {% if nova_backend == ""rbd"" and external_ceph_cephx_enabled | bool %} rbd_secret_uuid = {{ rbd_secret_uuid }} {% endif %} virt_type = {{ nova_compute_virt_type }} {% if nova_libvirt_cpu_mode %} cpu_mode = {{ nova_libvirt_cpu_mode }} {% endif %} ",,23,18
openstack%2Fkolla-ansible~stable%2Fstein~I83804d3cf5f17eb2302a2dfe49229c6277b1e25f,openstack/kolla-ansible,stable/stein,I83804d3cf5f17eb2302a2dfe49229c6277b1e25f,Enhance merge_* action plugins to allow expected relative includes,MERGED,2019-07-16 18:12:04.000000000,2019-07-25 10:40:45.000000000,2019-07-25 10:40:45.000000000,"[{'_account_id': 16006}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30381}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-16 18:12:04.000000000', 'files': ['releasenotes/notes/enhance-merge-action-plugins-with-relative-includes-bd0a16cce82707d1.yaml', 'ansible/action_plugins/merge_yaml.py', 'ansible/action_plugins/merge_configs.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a1c0f9715503a856748984142f9212ffb1d38b1f', 'message': ""Enhance merge_* action plugins to allow expected relative includes\n\nThis mimics behavior of core 'template' module to allow relative\nincludes from the same dir as merged template, base dir of\nplaybook/role (usually role for us) and its 'templates' subdir.\n\nAdditionally old unused code was removed.\n\nChange-Id: I83804d3cf5f17eb2302a2dfe49229c6277b1e25f\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 0c00915c4141c5e3e6dcdaf52148da9f14dbf8f2)\n""}]",0,671127,a1c0f9715503a856748984142f9212ffb1d38b1f,10,6,1,30491,,,0,"Enhance merge_* action plugins to allow expected relative includes

This mimics behavior of core 'template' module to allow relative
includes from the same dir as merged template, base dir of
playbook/role (usually role for us) and its 'templates' subdir.

Additionally old unused code was removed.

Change-Id: I83804d3cf5f17eb2302a2dfe49229c6277b1e25f
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 0c00915c4141c5e3e6dcdaf52148da9f14dbf8f2)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/27/671127/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/enhance-merge-action-plugins-with-relative-includes-bd0a16cce82707d1.yaml', 'ansible/action_plugins/merge_configs.py', 'ansible/action_plugins/merge_yaml.py']",3,a1c0f9715503a856748984142f9212ffb1d38b1f,feature/enhance-merge-action-plugins-stable/stein," # set search path to mimic 'template' module behavior searchpath = [ self._loader._basedir, os.path.join(self._loader._basedir, 'templates'), os.path.dirname(source), ] self._templar.environment.loader.searchpath = searchpath del tmp # not used ","import inspect # NOTE(jeffrey4l): Ansible 2.1 add a remote_user param to the # _make_tmp_path function. inspect the number of the args here. In # this way, ansible 2.0 and ansible 2.1 are both supported make_tmp_path_args = inspect.getargspec(self._make_tmp_path)[0] if not tmp and len(make_tmp_path_args) == 1: tmp = self._make_tmp_path() if not tmp and len(make_tmp_path_args) == 2: remote_user = (task_vars.get('ansible_user') or self._play_context.remote_user) tmp = self._make_tmp_path(remote_user)",26,23
openstack%2Ftripleo-heat-templates~master~Ib139a1d77f71fc32a49c9878d1b4a6d07564e9dc,openstack/tripleo-heat-templates,master,Ib139a1d77f71fc32a49c9878d1b4a6d07564e9dc,Force removal of docker container in tripleo-docker-rm.,MERGED,2019-07-15 09:02:51.000000000,2019-07-25 10:33:42.000000000,2019-07-25 10:33:42.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-07-15 09:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/549209e217e5e5c11f38cea1f281b24875bad899', 'message': 'Force removal of docker container in tripleo-docker-rm.\n\nThe tripleo-docker-rm role has been replaced by tripleo-container-rm [0].\nThis role will identify the docker engine via the container_cli variable\nand perform a deletion of that container. However, these tasks inside the\npost_upgrade_tasks section were thought to remove the old docker containers\nafter upgrading from rocky to stein, in which podman starts to be the\ncontainer engine by default.\n\nFor that reason, we need to ensure that the container engine in which the\ncontainers are removed is docker, as otherwise we will be removing the\npodman container and the deployment steps will fail.\n\nCloses-Bug: #1836531\n[0] - https://github.com/openstack/tripleo-ansible/commit/2135446a351eb6f6d57d86eca548d583d4c8bfb1\n\nChange-Id: Ib139a1d77f71fc32a49c9878d1b4a6d07564e9dc\n'}, {'number': 2, 'created': '2019-07-16 07:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f42beec5aa766e82aa64e587d763486f75bc135b', 'message': 'Force removal of docker container in tripleo-docker-rm.\n\nThe tripleo-docker-rm role has been replaced by tripleo-container-rm [0].\nThis role will identify the docker engine via the container_cli variable\nand perform a deletion of that container. However, these tasks inside the\npost_upgrade_tasks section were thought to remove the old docker containers\nafter upgrading from rocky to stein, in which podman starts to be the\ncontainer engine by default.\n\nFor that reason, we need to ensure that the container engine in which the\ncontainers are removed is docker, as otherwise we will be removing the\npodman container and the deployment steps will fail.\n\nCloses-Bug: #1836531\n[0] - https://github.com/openstack/tripleo-ansible/commit/2135446a351eb6f6d57d86eca548d583d4c8bfb1\n\nDepends-On: https://review.opendev.org/#/c/670971/\nChange-Id: Ib139a1d77f71fc32a49c9878d1b4a6d07564e9dc\n'}, {'number': 3, 'created': '2019-07-18 13:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0a2c6e254e664db46b5ea40a156018eea7a1e5d2', 'message': 'Force removal of docker container in tripleo-docker-rm.\n\nThe tripleo-docker-rm role has been replaced by tripleo-container-rm [0].\nThis role will identify the docker engine via the container_cli variable\nand perform a deletion of that container. However, these tasks inside the\npost_upgrade_tasks section were thought to remove the old docker containers\nafter upgrading from rocky to stein, in which podman starts to be the\ncontainer engine by default.\n\nFor that reason, we need to ensure that the container engine in which the\ncontainers are removed is docker, as otherwise we will be removing the\npodman container and the deployment steps will fail.\n\nCloses-Bug: #1836531\n[0] - https://github.com/openstack/tripleo-ansible/commit/2135446a351eb6f6d57d86eca548d583d4c8bfb1\n\nDepends-On: https://review.opendev.org/#/c/670971/\nChange-Id: Ib139a1d77f71fc32a49c9878d1b4a6d07564e9dc\n'}, {'number': 4, 'created': '2019-07-19 10:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad9be46a8998eff0bd3cd71c95a3b2ac5849938c', 'message': 'Force removal of docker container in tripleo-docker-rm.\n\nThe tripleo-docker-rm role has been replaced by tripleo-container-rm [0].\nThis role will identify the docker engine via the container_cli variable\nand perform a deletion of that container. However, these tasks inside the\npost_upgrade_tasks section were thought to remove the old docker containers\nafter upgrading from rocky to stein, in which podman starts to be the\ncontainer engine by default.\n\nFor that reason, we need to ensure that the container engine in which the\ncontainers are removed is docker, as otherwise we will be removing the\npodman container and the deployment steps will fail.\n\nCloses-Bug: #1836531\n[0] - https://github.com/openstack/tripleo-ansible/commit/2135446a351eb6f6d57d86eca548d583d4c8bfb1\n\nDepends-On: https://review.opendev.org/#/c/671698/\nChange-Id: Ib139a1d77f71fc32a49c9878d1b4a6d07564e9dc\n'}, {'number': 5, 'created': '2019-07-19 12:37:35.000000000', 'files': ['deployment/deprecated/monitoring/sensu-client-container-puppet.yaml', 'deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/mistral/mistral-engine-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/cavium/liquidio-compute-config-container-puppet.yaml', 'deployment/deprecated/opendaylight/opendaylight-api-container-puppet.yaml', 'deployment/tacker/tacker-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/keepalived/keepalived-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/sahara/sahara-engine-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/deprecated/nova/nova-consoleauth-container-puppet.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/multipathd/multipathd-container.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/experimental/designate/designate-mdns-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/pacemaker/clustercheck-container-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/experimental/designate/designate-sink-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/experimental/designate/designate-producer-container-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'deployment/mistral/mistral-event-engine-container-puppet.yaml', 'deployment/deprecated/logging/fluentd-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/logrotate/logrotate-crond-container-puppet.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d1035703b79545fb018e6bdc5b4c0c392c3dcc7a', 'message': 'Force removal of docker container in tripleo-docker-rm.\n\nThe tripleo-docker-rm role has been replaced by tripleo-container-rm [0].\nThis role will identify the docker engine via the container_cli variable\nand perform a deletion of that container. However, these tasks inside the\npost_upgrade_tasks section were thought to remove the old docker containers\nafter upgrading from rocky to stein, in which podman starts to be the\ncontainer engine by default.\n\nFor that reason, we need to ensure that the container engine in which the\ncontainers are removed is docker, as otherwise we will be removing the\npodman container and the deployment steps will fail.\n\nCloses-Bug: #1836531\n[0] - https://github.com/openstack/tripleo-ansible/commit/2135446a351eb6f6d57d86eca548d583d4c8bfb1\n\nDepends-On: https://review.opendev.org/#/c/671698/\nChange-Id: Ib139a1d77f71fc32a49c9878d1b4a6d07564e9dc\n'}]",0,670796,d1035703b79545fb018e6bdc5b4c0c392c3dcc7a,40,11,5,26343,,,0,"Force removal of docker container in tripleo-docker-rm.

The tripleo-docker-rm role has been replaced by tripleo-container-rm [0].
This role will identify the docker engine via the container_cli variable
and perform a deletion of that container. However, these tasks inside the
post_upgrade_tasks section were thought to remove the old docker containers
after upgrading from rocky to stein, in which podman starts to be the
container engine by default.

For that reason, we need to ensure that the container engine in which the
containers are removed is docker, as otherwise we will be removing the
podman container and the deployment steps will fail.

Closes-Bug: #1836531
[0] - https://github.com/openstack/tripleo-ansible/commit/2135446a351eb6f6d57d86eca548d583d4c8bfb1

Depends-On: https://review.opendev.org/#/c/671698/
Change-Id: Ib139a1d77f71fc32a49c9878d1b4a6d07564e9dc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/670796/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/deprecated/monitoring/sensu-client-container-puppet.yaml', 'deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/ironic/ironic-neutron-agent-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/mistral/mistral-engine-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/cavium/liquidio-compute-config-container-puppet.yaml', 'deployment/deprecated/opendaylight/opendaylight-api-container-puppet.yaml', 'deployment/tacker/tacker-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/keepalived/keepalived-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/sahara/sahara-engine-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/deprecated/nova/nova-consoleauth-container-puppet.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/multipathd/multipathd-container.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/experimental/designate/designate-mdns-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/pacemaker/clustercheck-container-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/experimental/designate/designate-sink-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/experimental/designate/designate-producer-container-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'deployment/mistral/mistral-event-engine-container-puppet.yaml', 'deployment/deprecated/logging/fluentd-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/logrotate/logrotate-crond-container-puppet.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml']",94,549209e217e5e5c11f38cea1f281b24875bad899,," tripleo_container_cli: ""docker""",,94,0
openstack%2Fdiskimage-builder~master~I690a8afda066a225c8eb6ea87bbe07c4f13a6fda,openstack/diskimage-builder,master,I690a8afda066a225c8eb6ea87bbe07c4f13a6fda,Adding new dib element,NEW,2018-06-28 11:50:49.000000000,2019-07-25 10:04:02.000000000,,"[{'_account_id': 6133}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29018}]","[{'number': 1, 'created': '2018-06-28 11:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4e59da4aecbdb096ea70746bd5be30d6706bc662', 'message': ""Adding new dib element\n\nThis commit adds new element 'sles' for\nsuse linux enterprise distribution to create user image.\n\nChange-Id: I690a8afda066a225c8eb6ea87bbe07c4f13a6fda\n""}, {'number': 2, 'created': '2018-10-10 12:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ee678d3bef506f9a5b389304b5acdbe1d3d80976', 'message': ""Adding new dib element\n\nThis commit adds new element 'sles' for\nsuse linux enterprise distribution to create user image.\n\nChange-Id: I690a8afda066a225c8eb6ea87bbe07c4f13a6fda\n""}, {'number': 3, 'created': '2019-07-25 06:18:07.000000000', 'files': ['diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/sles/root.d/10-sles-cloud-image', 'diskimage_builder/elements/pkg-map/README.rst', 'diskimage_builder/elements/sles/bin/extract-image', 'diskimage_builder/elements/sles/element-deps', 'diskimage_builder/elements/sles/README.rst', 'diskimage_builder/elements/bootloader/pkg-map', 'diskimage_builder/elements/grub2/pkg-map', 'diskimage_builder/elements/dib-python/environment.d/50-dib-python-version', 'diskimage_builder/elements/sles/element-provides', 'diskimage_builder/elements/dib-python/pre-install.d/01-dib-python', 'diskimage_builder/elements/sles/environment.d/10-sles-distro-name.bash'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/19f2bbc004b6d58fdbd6d7df47f7470f8105ade1', 'message': ""Adding new dib element\n\nThis commit adds new element 'sles' for\nsuse linux enterprise distribution to create user image.\n\nChange-Id: I690a8afda066a225c8eb6ea87bbe07c4f13a6fda\n""}]",0,578773,19f2bbc004b6d58fdbd6d7df47f7470f8105ade1,17,6,3,19604,,,0,"Adding new dib element

This commit adds new element 'sles' for
suse linux enterprise distribution to create user image.

Change-Id: I690a8afda066a225c8eb6ea87bbe07c4f13a6fda
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/73/578773/2 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/grub2/pkg-map', 'diskimage_builder/elements/sles/root.d/10-sles-cloud-image', 'diskimage_builder/elements/dib-python/environment.d/50-dib-python-version', 'diskimage_builder/elements/pkg-map/README.rst', 'diskimage_builder/elements/sles/element-provides', 'diskimage_builder/elements/sles/bin/extract-image', 'diskimage_builder/elements/sles/element-deps', 'diskimage_builder/elements/sles/README.rst', 'diskimage_builder/elements/sles/environment.d/10-sles-distro-name.bash']",10,4e59da4aecbdb096ea70746bd5be30d6706bc662,,export DISTRO_NAME=sles ,,198,3
openstack%2Fopenstack-ansible~stable%2Fqueens~I36e83d478d0ac3860da3f12531c75621ac30f284,openstack/openstack-ansible,stable/queens,I36e83d478d0ac3860da3f12531c75621ac30f284,Bump SHAs for stable/queens,ABANDONED,2019-06-30 14:24:05.000000000,2019-07-25 09:31:15.000000000,,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-30 14:24:05.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bc69bc5c7ab5d4117e05929d8313350b1a8e0f71', 'message': 'Bump SHAs for stable/queens\n\nChange-Id: I36e83d478d0ac3860da3f12531c75621ac30f284\n'}]",0,668329,bc69bc5c7ab5d4117e05929d8313350b1a8e0f71,7,3,1,17068,,,0,"Bump SHAs for stable/queens

Change-Id: I36e83d478d0ac3860da3f12531c75621ac30f284
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/29/668329/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml']",2,bc69bc5c7ab5d4117e05929d8313350b1a8e0f71,bump_osa,gnocchi_git_install_branch: e24e2b620168721557faeea32313e009821d863d # HEAD as of 30.06.2019,gnocchi_git_install_branch: e24e2b620168721557faeea32313e009821d863d # HEAD as of 16.06.2019,40,40
openstack%2Fopenstack-ansible~stable%2Frocky~If06ebb7f5cb93d4abd746dc88c976b4a5a47ed12,openstack/openstack-ansible,stable/rocky,If06ebb7f5cb93d4abd746dc88c976b4a5a47ed12,Bump SHAs for stable/rocky,ABANDONED,2019-06-30 14:21:22.000000000,2019-07-25 09:31:05.000000000,,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-30 14:21:22.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1ff7c7bc8242aa4d3c80a1267406b5b5e0fde629', 'message': 'Bump SHAs for stable/rocky\n\nChange-Id: If06ebb7f5cb93d4abd746dc88c976b4a5a47ed12\n'}]",0,668327,1ff7c7bc8242aa4d3c80a1267406b5b5e0fde629,7,3,1,17068,,,0,"Bump SHAs for stable/rocky

Change-Id: If06ebb7f5cb93d4abd746dc88c976b4a5a47ed12
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/27/668327/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml']",3,1ff7c7bc8242aa4d3c80a1267406b5b5e0fde629,bump_osa, version: 1850b420d35b560ee35dab2add587b563cf8adc2 version: fde216d7e4c39adc7fa955ad8bd3a42bb0625dfa version: c0f45f93d4ab5c25c094783bdcb3db5db5e82479 version: 891d49b92831d2f9c0eaa502906e67089e1caab0 version: 61b32fc84057f2340f68cbc4d37d3a7b0cdff3ba version: 806986c4b3c06414ad7fbb053f5a6a7abbfa861c version: 3fc4e1a9d16e5e6757937965c18a2f7a715149a0 version: 82f5bfb87260d673fd2935e1e25db09376478cd3 version: 501083372cc2afacd6154dd3930ac69c3a5c5b24 version: 93c60b6382d4b911836a30cdbd82864d1cee1fe3 version: bc8948040897dc1551220b33978ef60811759c53 version: deaa4f36c53886050c9fa336e5d1730d99134517 version: f81cb507a082f91f5f656e29be8829a70405a306 version: 376be585f09dcd12e4f7801a8a0ab9d2cc0b4f87 version: 059788c1d3e4d22b28fa31e66f08a0d05ccbb665 version: 7f94abb6502c0678228530ed9b3c07238ded1ca9 version: 1ffebc798f0cd7b5fccb74b7ad12b756f38dce2c version: da5c7a504cd41925c64385f95a3faa85d3deff61, version: 8703d6a232b3a017a5f0f6e74aa4cd8c0d09b1d5 version: 52a70e898b71247d59623d4559b3bda748b22be6 version: 2d9d5ebc231a60cd6467d3c278e900dc9308c29d version: cc75435835c2dbdd159ba0def69bc0e7096aa0ed version: a2f327ae21d36efc884dcf0136f14d28e21106b2 version: 113c6bbdaa9a873e37810971c233e3307eb77953 version: 9d883ecfcc4da663772187d025d12d4b0b28966c version: d9b3b3e2312b8d1dd825901dbbafeae85ab1f1b3 version: 39b1624ec5d46c4eecbdc39cce8f484516909075 version: e74b7477b8dd6968eb233da3cc6a796cbfa00e5e version: 9ebde5b0dcce0df84c56af48c330a38a3b4ec667 version: 27ea89b839faa60376a0973906ae8b77edec8af9 version: baaf97d1bab78ca55f1eb44c2f7bee895fc2b041 version: 4cb1eacbaf7d6f3b594459eae70a07a9a004e9d6 version: 557c6201f025abc5652f6debba0db75f7b05aea1 version: c269b29e690b8f9bedc8e25ef0bcf65d585c3ba9 version: dadf1e1f7bb5b4162fb648487be2edc9063f594a version: e11a9d8a7e589a4d613e4a100b810f1b13784fcd,57,57
openstack%2Fopenstack-ansible~master~Ia4d3e02a5d9302a349507a7f4b36c2f468c66f65,openstack/openstack-ansible,master,Ia4d3e02a5d9302a349507a7f4b36c2f468c66f65,Bump SHAs for master,ABANDONED,2019-06-16 14:14:23.000000000,2019-07-25 09:30:45.000000000,,"[{'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-16 14:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/54bc91ee31a7ec6c0e0de65d1f0a03423ce4c8e2', 'message': 'Bump SHAs for master\n\nChange-Id: Ia4d3e02a5d9302a349507a7f4b36c2f468c66f65\n'}, {'number': 2, 'created': '2019-06-28 07:00:15.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/drop-powervm-6fed6605a4bf72cf.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fba19e0a8524bdcd22bdd15d56138da710ad27e0', 'message': 'Bump SHAs for master\n\nChange-Id: Ia4d3e02a5d9302a349507a7f4b36c2f468c66f65\n'}]",0,665541,fba19e0a8524bdcd22bdd15d56138da710ad27e0,7,2,2,17068,,,0,"Bump SHAs for master

Change-Id: Ia4d3e02a5d9302a349507a7f4b36c2f468c66f65
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/41/665541/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/drop-powervm-6fed6605a4bf72cf.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml']",5,54bc91ee31a7ec6c0e0de65d1f0a03423ce4c8e2,bump_osa,tempest_git_install_branch: a2a3ff70ad1f8251ed7394037fc62476bb2433b6 # HEAD as of 16.06.2019,tempest_git_install_branch: 558eb2c8fd7840980827edcb78005974cb2a5f4c # HEAD as of 02.06.2019,54,49
openstack%2Fmonasca-log-api~master~I7b93ead6885bf7f2a71b982f2fb215456f178ec5,openstack/monasca-log-api,master,I7b93ead6885bf7f2a71b982f2fb215456f178ec5,Update api-ref location,MERGED,2019-07-22 16:51:07.000000000,2019-07-25 09:12:57.000000000,2019-07-25 09:12:56.000000000,"[{'_account_id': 6547}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2019-07-22 16:51:07.000000000', 'files': ['api-guide/source/index.rst', 'README.rst', 'doc/source/deprecation_note.inc'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/deb5ae0a6d7c36e21430727740f8eee52df57fbe', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I7b93ead6885bf7f2a71b982f2fb215456f178ec5\n""}]",0,672104,deb5ae0a6d7c36e21430727740f8eee52df57fbe,9,4,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I7b93ead6885bf7f2a71b982f2fb215456f178ec5
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/04/672104/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-guide/source/index.rst', 'README.rst', 'doc/source/deprecation_note.inc']",3,deb5ae0a6d7c36e21430727740f8eee52df57fbe,retire-api-site, <https://docs.openstack.org/api-ref/monitoring-log-api/#logs>`_ instead of version 2, <https://developer.openstack.org/api-ref/monitoring-log-api/#logs>`_ instead of version 2,4,4
openstack%2Fapi-site~master~I3acd294314ba05da29611f789d75ed9fc8b21faf,openstack/api-site,master,I3acd294314ba05da29611f789d75ed9fc8b21faf,Cleanup repo,MERGED,2019-07-24 16:03:24.000000000,2019-07-25 09:04:06.000000000,2019-07-25 09:04:06.000000000,"[{'_account_id': 14482}, {'_account_id': 15334}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 16:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/b3949c4d889b8dd579415c9691d7c870f25cc2db', 'message': 'Cleanup repo\n\nRemove unused content, update README.\n\nUpdate requirements to what should be needed.\n\nChange-Id: I3acd294314ba05da29611f789d75ed9fc8b21faf\n'}, {'number': 2, 'created': '2019-07-24 16:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/d19497dae129ef5ed2e9ab381581fc26d6c0cedf', 'message': 'Cleanup repo\n\nRemove unused content, update README.\n\nUpdate requirements to what should be needed.\n\nChange-Id: I3acd294314ba05da29611f789d75ed9fc8b21faf\n'}, {'number': 3, 'created': '2019-07-24 16:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/701bd0ddbce75e149ced345c1c31bf2be5880674', 'message': 'Cleanup repo\n\nRemove unused content, update README.\n\nUpdate requirements to what should be needed.\n\nChange-Id: I3acd294314ba05da29611f789d75ed9fc8b21faf\n'}, {'number': 4, 'created': '2019-07-24 16:42:26.000000000', 'files': ['bindep.txt', 'test-requirements.txt', 'README.rst', 'api-ref/README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/api-site/commit/f2f69c47ba2018958ca30f51b9c8a0990ac75c13', 'message': 'Cleanup repo\n\nRemove unused content, update README.\n\nUpdate requirements to what should be needed.\n\nChange-Id: I3acd294314ba05da29611f789d75ed9fc8b21faf\n'}]",0,672553,f2f69c47ba2018958ca30f51b9c8a0990ac75c13,15,4,4,6547,,,0,"Cleanup repo

Remove unused content, update README.

Update requirements to what should be needed.

Change-Id: I3acd294314ba05da29611f789d75ed9fc8b21faf
",git fetch https://review.opendev.org/openstack/api-site refs/changes/53/672553/4 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'test-requirements.txt', 'README.rst', 'api-ref/README.rst', 'tox.ini']",5,b3949c4d889b8dd579415c9691d7c870f25cc2db,retire-api-site,envlist = checkbuild,"envlist = linters,checkbuild[testenv:linters] commands = doc8 api-quick-start [doc8] # Settings for doc8: # Ignore target directories ignore-path = common/ # File extensions to use extensions = .rst,.txt # Ignore lines longer than 79 chars ignore = D001",8,63
openstack%2Fnova~master~I1c05d59ebf1fda6319df5ee305c2b8a6a9562242,openstack/nova,master,I1c05d59ebf1fda6319df5ee305c2b8a6a9562242,Correct project/user id descriptions for os-instance-actions,MERGED,2019-07-10 10:08:54.000000000,2019-07-25 08:58:04.000000000,2019-07-25 08:58:04.000000000,"[{'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 9742}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26490}, {'_account_id': 26515}, {'_account_id': 30077}, {'_account_id': 30384}]","[{'number': 1, 'created': '2019-07-10 10:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15bdc7415b8f61e1685172e7a7ab801fc466553d', 'message': ""Correct  project/user id descriptions with nova-server-actions\n\nThe 'user_id' and 'project_id' parameter descriptions for server actions\nimply that they are the value of the user/project that owns the server,\nbut that is incorrect - they are the project/user id of whoever made the\nrequest/initiated the action:\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nCloses-Bug: #1835063\nChange-Id: I1c05d59ebf1fda6319df5ee305c2b8a6a9562242\n""}, {'number': 2, 'created': '2019-07-22 19:24:51.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/os-instance-actions.inc', 'api-ref/source/os-cloudpipe.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/6b3aa31458ba1f40bf68c54f5a1e840e8e504893', 'message': ""Correct project/user id descriptions for os-instance-actions\n\nThe 'user_id' and 'project_id' parameter descriptions for server actions\nimply that they are the value of the user/project that owns the server,\nbut that is incorrect - they are the project/user id of whoever made the\nrequest/initiated the action.\n\nThe existing project_id_instance_action parameter variable, which is only\nused by the os-cloudpipe reference, is renamed to avoid confusion with\ninstance actions.\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nCloses-Bug: #1835063\nChange-Id: I1c05d59ebf1fda6319df5ee305c2b8a6a9562242\n""}]",9,670027,6b3aa31458ba1f40bf68c54f5a1e840e8e504893,30,17,2,30077,,,0,"Correct project/user id descriptions for os-instance-actions

The 'user_id' and 'project_id' parameter descriptions for server actions
imply that they are the value of the user/project that owns the server,
but that is incorrect - they are the project/user id of whoever made the
request/initiated the action.

The existing project_id_instance_action parameter variable, which is only
used by the os-cloudpipe reference, is renamed to avoid confusion with
instance actions.

Co-Authored-By: Brin Zhang <zhangbailin@inspur.com>

Closes-Bug: #1835063
Change-Id: I1c05d59ebf1fda6319df5ee305c2b8a6a9562242
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/670027/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/os-instance-actions.inc']",2,15bdc7415b8f61e1685172e7a7ab801fc466553d,bug/1835063, - project_id: project_id_server_action - user_id: user_id_server_action - project_id: project_id_server_action - user_id: user_id_server_action, - project_id: project_id_instance_action - user_id: user_id - project_id: project_id_instance_action - user_id: user_id,18,4
openstack%2Fnetworking-odl~master~I869fe85921fee995f9fef986d89f024f6fa85811,openstack/networking-odl,master,I869fe85921fee995f9fef986d89f024f6fa85811,py37: fix regex unknown escapes,MERGED,2019-05-17 10:01:38.000000000,2019-07-25 08:43:17.000000000,2019-07-25 08:43:17.000000000,"[{'_account_id': 5367}, {'_account_id': 8313}, {'_account_id': 9361}, {'_account_id': 11975}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 25550}]","[{'number': 1, 'created': '2019-05-17 10:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7da130a98d2837761133c0b1188cf9be941317bd', 'message': 'py37: fix regex unknown escapes\n\nhttps://docs.python.org/3/library/re.html#re.sub\n\nChange-Id: I869fe85921fee995f9fef986d89f024f6fa85811\n'}, {'number': 2, 'created': '2019-05-17 11:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/79a35c920855f6e359e80796cb71d1ed6710c6ae', 'message': 'py37: fix regex unknown escapes\n\nhttps://docs.python.org/3/library/re.html#re.sub\n\nChange-Id: I869fe85921fee995f9fef986d89f024f6fa85811\n'}, {'number': 3, 'created': '2019-06-14 16:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/8710b583be05cfa05e20697d8fe161f563925081', 'message': 'py37: fix regex unknown escapes\n\nhttps://docs.python.org/3/library/re.html#re.sub\n\nChange-Id: I869fe85921fee995f9fef986d89f024f6fa85811\n'}, {'number': 4, 'created': '2019-07-08 14:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/07a308a1177c18c4f7d7a919f3cb1d1a003a8d2b', 'message': 'py37: fix regex unknown escapes\n\nhttps://docs.python.org/3/library/re.html#re.sub\n\nChange-Id: I869fe85921fee995f9fef986d89f024f6fa85811\n'}, {'number': 5, 'created': '2019-07-19 09:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/51b54567fddbadc032c3da367d0a54c30291a09f', 'message': 'py37: fix regex unknown escapes\n\nFor details see the official python re documentation:\nhttps://docs.python.org/3/library/re.html#re.sub\n\nChange-Id: I869fe85921fee995f9fef986d89f024f6fa85811\n'}, {'number': 6, 'created': '2019-07-22 13:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/fa77a4c427e3a522c2509cf4a9b8efe035281a0b', 'message': 'py37: fix regex unknown escapes\n\nFor details see the official python re documentation:\nhttps://docs.python.org/3/library/re.html#re.sub\n\nChange-Id: I869fe85921fee995f9fef986d89f024f6fa85811\n'}, {'number': 7, 'created': '2019-07-22 15:50:15.000000000', 'files': ['networking_odl/cmd/analyze_journal.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/389b6daa90923b028de27ce8a1af3eda9e7152f7', 'message': 'py37: fix regex unknown escapes\n\nFor details see the official python re documentation:\nhttps://docs.python.org/3/library/re.html#re.sub\n\nChange-Id: I869fe85921fee995f9fef986d89f024f6fa85811\n'}]",4,659767,389b6daa90923b028de27ce8a1af3eda9e7152f7,32,7,7,8313,,,0,"py37: fix regex unknown escapes

For details see the official python re documentation:
https://docs.python.org/3/library/re.html#re.sub

Change-Id: I869fe85921fee995f9fef986d89f024f6fa85811
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/67/659767/6 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/cmd/analyze_journal.py'],1,7da130a98d2837761133c0b1188cf9be941317bd,py37-job," re.sub(KEY_TEMP_PATTERN, r'(\\S+)', re.escape("," re.sub(KEY_TEMP_PATTERN, r'(\S+)', re.escape(",1,1
openstack%2Fcinder~stable%2Frocky~I02c208142f5b342f894666831449243863eccbfe,openstack/cinder,stable/rocky,I02c208142f5b342f894666831449243863eccbfe,"FC: Ignore some HBAs from map for single WWNN Current FC OS-Brick code only checks for single WWNN to exclude some HBAs from scanning when we don't receive an initiator_target_map from the backend. There are storage arrays,like XtremIO, that due to their architecture and design have all target ports automatically mapped to LUNs and are returning the initiator_target_map, but some of those ports may not be connected to our HBAs, so we end up with another case of bug #1765000. This patch makes sure that we always check if the target implements single WWNN, not only when we don't receive the initiator_target_map. With this we decrease the likelihood of ending with unexpected devices in our system, because now we will ignore unconnected HBAs (even if reported in the initiator_target_map) if we are working with single WWNN target. Related-Bug: #1765000 Closes-Bug: #1828440 Change-Id: I02c208142f5b342f894666831449243863eccbfe (cherry picked from commit 70899a9aa3e4bdd3f1b1a7024807390cd55c4958) (cherry picked from commit 1ee6acb509910d7de1213fb71cd0d6166991609a)",ABANDONED,2019-06-24 10:06:38.000000000,2019-07-25 08:39:43.000000000,,"[{'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 13144}, {'_account_id': 19235}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-06-24 10:06:38.000000000', 'files': ['releasenotes/notes/fc-always-check-single-wwnn-1595689da0eb673b.yaml', 'os_brick/initiator/linuxfc.py', 'os_brick/tests/initiator/test_linuxfc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2844bd4dfaade32abed6504f27db5d88374317ba', 'message': ""FC: Ignore some HBAs from map for single WWNN\nCurrent FC OS-Brick code only checks for single WWNN to exclude some\nHBAs from scanning when we don't receive an initiator_target_map from\nthe backend.\nThere are storage arrays,like XtremIO, that due to their architecture\nand design have all target ports automatically mapped to LUNs and are\nreturning the initiator_target_map, but some of those ports may not be\nconnected to our HBAs, so we end up with another case of bug #1765000.\nThis patch makes sure that we always check if the target implements\nsingle WWNN, not only when we don't receive the initiator_target_map.\nWith this we decrease the likelihood of ending with unexpected devices\nin our system, because now we will ignore unconnected HBAs (even if\nreported in the initiator_target_map) if we are working with single WWNN\ntarget.\nRelated-Bug: #1765000\nCloses-Bug: #1828440\nChange-Id: I02c208142f5b342f894666831449243863eccbfe\n(cherry picked from commit 70899a9aa3e4bdd3f1b1a7024807390cd55c4958)\n(cherry picked from commit 1ee6acb509910d7de1213fb71cd0d6166991609a)\n""}]",0,667055,2844bd4dfaade32abed6504f27db5d88374317ba,17,16,1,21570,,,0,"FC: Ignore some HBAs from map for single WWNN
Current FC OS-Brick code only checks for single WWNN to exclude some
HBAs from scanning when we don't receive an initiator_target_map from
the backend.
There are storage arrays,like XtremIO, that due to their architecture
and design have all target ports automatically mapped to LUNs and are
returning the initiator_target_map, but some of those ports may not be
connected to our HBAs, so we end up with another case of bug #1765000.
This patch makes sure that we always check if the target implements
single WWNN, not only when we don't receive the initiator_target_map.
With this we decrease the likelihood of ending with unexpected devices
in our system, because now we will ignore unconnected HBAs (even if
reported in the initiator_target_map) if we are working with single WWNN
target.
Related-Bug: #1765000
Closes-Bug: #1828440
Change-Id: I02c208142f5b342f894666831449243863eccbfe
(cherry picked from commit 70899a9aa3e4bdd3f1b1a7024807390cd55c4958)
(cherry picked from commit 1ee6acb509910d7de1213fb71cd0d6166991609a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/667055/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fc-always-check-single-wwnn-1595689da0eb673b.yaml', 'os_brick/initiator/linuxfc.py', 'os_brick/tests/initiator/test_linuxfc.py']",3,2844bd4dfaade32abed6504f27db5d88374317ba,,"# (c) Copyright 2013 Hewlett-Packard Development Company, L.P. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os.path import mock from os_brick.initiator import linuxfc from os_brick.tests import base class LinuxFCTestCase(base.TestCase): def setUp(self): super(LinuxFCTestCase, self).setUp() self.cmds = [] self.mock_object(os.path, 'exists', return_value=True) self.mock_object(os.path, 'isdir', return_value=True) self.lfc = linuxfc.LinuxFibreChannel(None, execute=self.fake_execute) def fake_execute(self, *cmd, **kwargs): self.cmds.append("" "".join(cmd)) return """", None def test_has_fc_support(self): self.mock_object(os.path, 'isdir', return_value=False) has_fc = self.lfc.has_fc_support() self.assertFalse(has_fc) self.mock_object(os.path, 'isdir', return_value=True) has_fc = self.lfc.has_fc_support() self.assertTrue(has_fc) @staticmethod def __get_rescan_info(zone_manager=False): connection_properties = { 'initiator_target_map': {'50014380186af83c': ['514f0c50023f6c00'], '50014380186af83e': ['514f0c50023f6c01']}, 'initiator_target_lun_map': { '50014380186af83c': [('514f0c50023f6c00', 1)], '50014380186af83e': [('514f0c50023f6c01', 1)] }, 'target_discovered': False, 'target_lun': 1, 'target_wwn': ['514f0c50023f6c00', '514f0c50023f6c01'], 'targets': [ ('514f0c50023f6c00', 1), ('514f0c50023f6c01', 1), ] } hbas = [ {'device_path': ('/sys/devices/pci0000:00/0000:00:02.0/' '0000:04:00.0/host6/fc_host/host6'), 'host_device': 'host6', 'node_name': '50014380186af83d', 'port_name': '50014380186af83c'}, {'device_path': ('/sys/devices/pci0000:00/0000:00:02.0/' '0000:04:00.1/host7/fc_host/host7'), 'host_device': 'host7', 'node_name': '50014380186af83f', 'port_name': '50014380186af83e'}, ] if not zone_manager: del connection_properties['initiator_target_map'] del connection_properties['initiator_target_lun_map'] return hbas, connection_properties def test__get_hba_channel_scsi_target_single_wwpn(self): execute_results = ('/sys/class/fc_transport/target6:0:1/port_name\n', '') hbas, con_props = self.__get_rescan_info() con_props['target_wwn'] = con_props['target_wwn'][0] con_props['targets'] = con_props['targets'][0:1] with mock.patch.object(self.lfc, '_execute', return_value=execute_results) as execute_mock: res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) execute_mock.assert_called_once_with( 'grep -Gil ""514f0c50023f6c00"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True) expected = [['0', '1', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_with_initiator_target_map(self): execute_results = ('/sys/class/fc_transport/target6:0:1/port_name\n', '') hbas, con_props = self.__get_rescan_info(zone_manager=True) con_props['target_wwn'] = con_props['target_wwn'][0] con_props['targets'] = con_props['targets'][0:1] hbas[0]['port_name'] = '50014380186af83e' with mock.patch.object(self.lfc, '_execute', return_value=execute_results) as execute_mock: res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) execute_mock.assert_called_once_with( 'grep -Gil ""514f0c50023f6c01"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True) expected = [['0', '1', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_with_initiator_target_map_none(self): execute_results = ('/sys/class/fc_transport/target6:0:1/port_name\n', '') hbas, con_props = self.__get_rescan_info() con_props['target_wwn'] = con_props['target_wwn'][0] con_props['targets'] = con_props['targets'][0:1] con_props['initiator_target_map'] = None hbas[0]['port_name'] = '50014380186af83e' with mock.patch.object(self.lfc, '_execute', return_value=execute_results) as execute_mock: res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) execute_mock.assert_called_once_with( 'grep -Gil ""514f0c50023f6c00"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True) expected = [['0', '1', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_multiple_wwpn(self): execute_results = [ ['/sys/class/fc_transport/target6:0:1/port_name\n', ''], ['/sys/class/fc_transport/target6:0:2/port_name\n', ''], ] hbas, con_props = self.__get_rescan_info() with mock.patch.object(self.lfc, '_execute', side_effect=execute_results) as execute_mock: res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) expected_cmds = [ mock.call('grep -Gil ""514f0c50023f6c00"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True), mock.call('grep -Gil ""514f0c50023f6c01"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True), ] execute_mock.assert_has_calls(expected_cmds) expected = [['0', '1', 1], ['0', '2', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_multiple_wwpn_and_luns(self): execute_results = [ ['/sys/class/fc_transport/target6:0:1/port_name\n', ''], ['/sys/class/fc_transport/target6:0:2/port_name\n', ''], ] hbas, con_props = self.__get_rescan_info() con_props['target_lun'] = [1, 7] con_props['targets'] = [ ('514f0c50023f6c00', 1), ('514f0c50023f6c01', 7), ] with mock.patch.object(self.lfc, '_execute', side_effect=execute_results) as execute_mock: res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) expected_cmds = [ mock.call('grep -Gil ""514f0c50023f6c00"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True), mock.call('grep -Gil ""514f0c50023f6c01"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True), ] execute_mock.assert_has_calls(expected_cmds) expected = [['0', '1', 1], ['0', '2', 7]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_zone_manager(self): execute_results = ('/sys/class/fc_transport/target6:0:1/port_name\n', '') hbas, con_props = self.__get_rescan_info(zone_manager=True) with mock.patch.object(self.lfc, '_execute', return_value=execute_results) as execute_mock: res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) execute_mock.assert_called_once_with( 'grep -Gil ""514f0c50023f6c00"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True) expected = [['0', '1', 1]] self.assertListEqual(expected, res) def test__get_hba_channel_scsi_target_not_found(self): hbas, con_props = self.__get_rescan_info(zone_manager=True) with mock.patch.object(self.lfc, '_execute', return_value=('', '')) as execute_mock: res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) execute_mock.assert_called_once_with( 'grep -Gil ""514f0c50023f6c00"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True) self.assertListEqual([], res) def test__get_hba_channel_scsi_target_exception(self): hbas, con_props = self.__get_rescan_info(zone_manager=True) with mock.patch.object(self.lfc, '_execute', side_effect=Exception) as execute_mock: res = self.lfc._get_hba_channel_scsi_target(hbas[0], con_props) execute_mock.assert_called_once_with( 'grep -Gil ""514f0c50023f6c00"" ' '/sys/class/fc_transport/target6:*/port_name', shell=True) self.assertEqual(res, [['-', '-', 1]]) def test_rescan_hosts_initiator_map(self): """"""Test FC rescan with initiator map and not every HBA connected."""""" get_chan_results = [[['2', '3', 1], ['4', '5', 1]], [['6', '7', 1]]] hbas, con_props = self.__get_rescan_info(zone_manager=True) # This HBA is not in the initiator map, so we should not scan it or try # to get the channel and target hbas.append({'device_path': ('/sys/devices/pci0000:00/0000:00:02.0/' '0000:04:00.2/host8/fc_host/host8'), 'host_device': 'host8', 'node_name': '50014380186af83g', 'port_name': '50014380186af83h'}) with mock.patch.object(self.lfc, '_execute', return_value=None) as execute_mock, \ mock.patch.object(self.lfc, '_get_hba_channel_scsi_target', side_effect=get_chan_results) as mock_get_chan: self.lfc.rescan_hosts(hbas, con_props) expected_commands = [ mock.call('tee', '-a', '/sys/class/scsi_host/host6/scan', process_input='2 3 1', root_helper=None, run_as_root=True), mock.call('tee', '-a', '/sys/class/scsi_host/host6/scan', process_input='4 5 1', root_helper=None, run_as_root=True), mock.call('tee', '-a', '/sys/class/scsi_host/host7/scan', process_input='6 7 1', root_helper=None, run_as_root=True)] execute_mock.assert_has_calls(expected_commands) self.assertEqual(len(expected_commands), execute_mock.call_count) expected_calls = [mock.call(hbas[0], con_props), mock.call(hbas[1], con_props)] mock_get_chan.assert_has_calls(expected_calls) def test_rescan_hosts_single_wwnn(self): """"""Test FC rescan with no initiator map and single WWNN for ports."""""" get_chan_results = [ [['2', '3', 1], ['4', '5', 1]], [['6', '7', 1]], [['-', '-', 1]], ] hbas, con_props = self.__get_rescan_info(zone_manager=False) # This HBA is the one that is not included in the single WWNN. hbas.append({'device_path': ('/sys/devices/pci0000:00/0000:00:02.0/' '0000:04:00.2/host8/fc_host/host8'), 'host_device': 'host8', 'node_name': '50014380186af83g', 'port_name': '50014380186af83h'}) with mock.patch.object(self.lfc, '_execute', return_value=None) as execute_mock, \ mock.patch.object(self.lfc, '_get_hba_channel_scsi_target', side_effect=get_chan_results) as mock_get_chan: self.lfc.rescan_hosts(hbas, con_props) expected_commands = [ mock.call('tee', '-a', '/sys/class/scsi_host/host6/scan', process_input='2 3 1', root_helper=None, run_as_root=True), mock.call('tee', '-a', '/sys/class/scsi_host/host6/scan', process_input='4 5 1', root_helper=None, run_as_root=True), mock.call('tee', '-a', '/sys/class/scsi_host/host7/scan', process_input='6 7 1', root_helper=None, run_as_root=True)] execute_mock.assert_has_calls(expected_commands) self.assertEqual(len(expected_commands), execute_mock.call_count) expected_calls = [mock.call(hbas[0], con_props), mock.call(hbas[1], con_props)] mock_get_chan.assert_has_calls(expected_calls) def test_rescan_hosts_initiator_map_single_wwnn(self): """"""Test FC rescan with initiator map and single WWNN."""""" get_chan_results = [[['2', '3', 1], ['4', '5', 1]], [['-', '-', 1]]] hbas, con_props = self.__get_rescan_info(zone_manager=True) with mock.patch.object(self.lfc, '_execute', return_value=None) as execute_mock, \ mock.patch.object(self.lfc, '_get_hba_channel_scsi_target', side_effect=get_chan_results) as mock_get_chan: self.lfc.rescan_hosts(hbas, con_props) expected_commands = [ mock.call('tee', '-a', '/sys/class/scsi_host/host6/scan', process_input='2 3 1', root_helper=None, run_as_root=True), mock.call('tee', '-a', '/sys/class/scsi_host/host6/scan', process_input='4 5 1', root_helper=None, run_as_root=True)] execute_mock.assert_has_calls(expected_commands) self.assertEqual(len(expected_commands), execute_mock.call_count) expected_calls = [mock.call(hbas[0], con_props), mock.call(hbas[1], con_props)] mock_get_chan.assert_has_calls(expected_calls) def test_rescan_hosts_wildcard(self): """"""Test when we don't have initiator map or target is single WWNN."""""" get_chan_results = [[['-', '-', 1]], [['-', '-', 1]]] hbas, con_props = self.__get_rescan_info(zone_manager=True) # Remove the initiator map con_props.pop('initiator_target_map') con_props.pop('initiator_target_lun_map') with mock.patch.object(self.lfc, '_get_hba_channel_scsi_target', side_effect=get_chan_results), \ mock.patch.object(self.lfc, '_execute', side_effect=None) as execute_mock: self.lfc.rescan_hosts(hbas, con_props) expected_commands = [ mock.call('tee', '-a', '/sys/class/scsi_host/host6/scan', process_input='- - 1', root_helper=None, run_as_root=True), mock.call('tee', '-a', '/sys/class/scsi_host/host7/scan', process_input='- - 1', root_helper=None, run_as_root=True)] execute_mock.assert_has_calls(expected_commands) self.assertEqual(len(expected_commands), execute_mock.call_count) def test_get_fc_hbas_fail(self): def fake_exec1(a, b, c, d, run_as_root=True, root_helper='sudo'): raise OSError def fake_exec2(a, b, c, d, run_as_root=True, root_helper='sudo'): return None, 'None found' self.lfc._execute = fake_exec1 hbas = self.lfc.get_fc_hbas() self.assertEqual(0, len(hbas)) self.lfc._execute = fake_exec2 hbas = self.lfc.get_fc_hbas() self.assertEqual(0, len(hbas)) def test_get_fc_hbas(self): def fake_exec(a, b, c, d, run_as_root=True, root_helper='sudo'): return SYSTOOL_FC, None self.lfc._execute = fake_exec hbas = self.lfc.get_fc_hbas() self.assertEqual(2, len(hbas)) hba1 = hbas[0] self.assertEqual(""host0"", hba1[""ClassDevice""]) hba2 = hbas[1] self.assertEqual(""host2"", hba2[""ClassDevice""]) def test_get_fc_hbas_info(self): def fake_exec(a, b, c, d, run_as_root=True, root_helper='sudo'): return SYSTOOL_FC, None self.lfc._execute = fake_exec hbas_info = self.lfc.get_fc_hbas_info() expected_info = [{'device_path': '/sys/devices/pci0000:20/' '0000:20:03.0/0000:21:00.0/' 'host0/fc_host/host0', 'host_device': 'host0', 'node_name': '50014380242b9751', 'port_name': '50014380242b9750'}, {'device_path': '/sys/devices/pci0000:20/' '0000:20:03.0/0000:21:00.1/' 'host2/fc_host/host2', 'host_device': 'host2', 'node_name': '50014380242b9753', 'port_name': '50014380242b9752'}, ] self.assertEqual(expected_info, hbas_info) def test_get_fc_wwpns(self): def fake_exec(a, b, c, d, run_as_root=True, root_helper='sudo'): return SYSTOOL_FC, None self.lfc._execute = fake_exec wwpns = self.lfc.get_fc_wwpns() expected_wwpns = ['50014380242b9750', '50014380242b9752'] self.assertEqual(expected_wwpns, wwpns) def test_get_fc_wwnns(self): def fake_exec(a, b, c, d, run_as_root=True, root_helper='sudo'): return SYSTOOL_FC, None self.lfc._execute = fake_exec wwnns = self.lfc.get_fc_wwpns() expected_wwnns = ['50014380242b9750', '50014380242b9752'] self.assertEqual(expected_wwnns, wwnns) SYSTOOL_FC = """""" Class = ""fc_host"" Class Device = ""host0"" Class Device path = ""/sys/devices/pci0000:20/0000:20:03.0/\ 0000:21:00.0/host0/fc_host/host0"" dev_loss_tmo = ""16"" fabric_name = ""0x100000051ea338b9"" issue_lip = <store method only> max_npiv_vports = ""0"" node_name = ""0x50014380242b9751"" npiv_vports_inuse = ""0"" port_id = ""0x960d0d"" port_name = ""0x50014380242b9750"" port_state = ""Online"" port_type = ""NPort (fabric via point-to-point)"" speed = ""8 Gbit"" supported_classes = ""Class 3"" supported_speeds = ""1 Gbit, 2 Gbit, 4 Gbit, 8 Gbit"" symbolic_name = ""QMH2572 FW:v4.04.04 DVR:v8.03.07.12-k"" system_hostname = """" tgtid_bind_type = ""wwpn (World Wide Port Name)"" uevent = vport_create = <store method only> vport_delete = <store method only> Device = ""host0"" Device path = ""/sys/devices/pci0000:20/0000:20:03.0/0000:21:00.0/host0"" edc = <store method only> optrom_ctl = <store method only> reset = <store method only> uevent = ""DEVTYPE=scsi_host"" Class Device = ""host2"" Class Device path = ""/sys/devices/pci0000:20/0000:20:03.0/\ 0000:21:00.1/host2/fc_host/host2"" dev_loss_tmo = ""16"" fabric_name = ""0x100000051ea33b79"" issue_lip = <store method only> max_npiv_vports = ""0"" node_name = ""0x50014380242b9753"" npiv_vports_inuse = ""0"" port_id = ""0x970e09"" port_name = ""0x50014380242b9752"" port_state = ""Online"" port_type = ""NPort (fabric via point-to-point)"" speed = ""8 Gbit"" supported_classes = ""Class 3"" supported_speeds = ""1 Gbit, 2 Gbit, 4 Gbit, 8 Gbit"" symbolic_name = ""QMH2572 FW:v4.04.04 DVR:v8.03.07.12-k"" system_hostname = """" tgtid_bind_type = ""wwpn (World Wide Port Name)"" uevent = vport_create = <store method only> vport_delete = <store method only> Device = ""host2"" Device path = ""/sys/devices/pci0000:20/0000:20:03.0/0000:21:00.1/host2"" edc = <store method only> optrom_ctl = <store method only> reset = <store method only> uevent = ""DEVTYPE=scsi_host"" """""" class LinuxFCS390XTestCase(LinuxFCTestCase): def setUp(self): super(LinuxFCS390XTestCase, self).setUp() self.cmds = [] self.lfc = linuxfc.LinuxFibreChannelS390X(None, execute=self.fake_execute) def test_get_fc_hbas_info(self): def fake_exec(a, b, c, d, run_as_root=True, root_helper='sudo'): return SYSTOOL_FC_S390X, None self.lfc._execute = fake_exec hbas_info = self.lfc.get_fc_hbas_info() expected = [{'device_path': '/sys/devices/css0/0.0.02ea/' '0.0.3080/host0/fc_host/host0', 'host_device': 'host0', 'node_name': '1234567898765432', 'port_name': 'c05076ffe680a960'}] self.assertEqual(expected, hbas_info) @mock.patch.object(os.path, 'exists', return_value=False) def test_configure_scsi_device(self, mock_execute): device_number = ""0.0.2319"" target_wwn = ""0x50014380242b9751"" lun = 1 self.lfc.configure_scsi_device(device_number, target_wwn, lun) expected_commands = [('tee -a /sys/bus/ccw/drivers/zfcp/0.0.2319/' 'port_rescan'), ('tee -a /sys/bus/ccw/drivers/zfcp/0.0.2319/' '0x50014380242b9751/unit_add')] self.assertEqual(expected_commands, self.cmds) def test_deconfigure_scsi_device(self): device_number = ""0.0.2319"" target_wwn = ""0x50014380242b9751"" lun = 1 self.lfc.deconfigure_scsi_device(device_number, target_wwn, lun) expected_commands = [('tee -a /sys/bus/ccw/drivers/zfcp/' '0.0.2319/0x50014380242b9751/unit_remove')] self.assertEqual(expected_commands, self.cmds) SYSTOOL_FC_S390X = """""" Class = ""fc_host"" Class Device = ""host0"" Class Device path = ""/sys/devices/css0/0.0.02ea/0.0.3080/host0/fc_host/host0"" active_fc4s = ""0x00 0x00 0x01 0x00 0x00 0x00 0x00 0x00 0x00 0x00 \ 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 \ 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 "" dev_loss_tmo = ""60"" maxframe_size = ""2112 bytes"" node_name = ""0x1234567898765432"" permanent_port_name = ""0xc05076ffe6803081"" port_id = ""0x010014"" port_name = ""0xc05076ffe680a960"" port_state = ""Online"" port_type = ""NPIV VPORT"" serial_number = ""IBM00000000000P30"" speed = ""8 Gbit"" supported_classes = ""Class 2, Class 3"" supported_fc4s = ""0x00 0x00 0x01 0x00 0x00 0x00 0x00 0x00 0x00 0x00 \ 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 \ 0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 "" supported_speeds = ""2 Gbit, 4 Gbit"" symbolic_name = ""IBM 2827 00000000000P30 \ PCHID: 0308 NPIV UlpId: 01EA0A00 DEVNO: 0.0.1234 NAME: dummy"" tgtid_bind_type = ""wwpn (World Wide Port Name)"" uevent = Device = ""host0"" Device path = ""/sys/devices/css0/0.0.02ea/0.0.3080/host0"" uevent = ""DEVTYPE=scsi_host"" """""" ",,873,0
openstack%2Fi18n~master~Ie418b079d99567a9b0d5f267c94c84b5d8ac1dc9,openstack/i18n,master,Ie418b079d99567a9b0d5f267c94c84b5d8ac1dc9,Imported Translations from Zanata,MERGED,2019-07-24 07:26:57.000000000,2019-07-25 08:31:19.000000000,2019-07-25 08:31:19.000000000,"[{'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 07:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/c93e2ce30d712fa25ca18fa85f403289a4c69773', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie418b079d99567a9b0d5f267c94c84b5d8ac1dc9\n'}, {'number': 2, 'created': '2019-07-25 07:36:50.000000000', 'files': ['doc/source/locale/ko_KR/LC_MESSAGES/doc.po'], 'web_link': 'https://opendev.org/openstack/i18n/commit/b824c9e5c7679a20aad1b087d3ee78b04ae1bfc1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie418b079d99567a9b0d5f267c94c84b5d8ac1dc9\n'}]",0,672413,b824c9e5c7679a20aad1b087d3ee78b04ae1bfc1,8,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie418b079d99567a9b0d5f267c94c84b5d8ac1dc9
",git fetch https://review.opendev.org/openstack/i18n refs/changes/13/672413/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/locale/ko_KR/LC_MESSAGES/doc.po'],1,c93e2ce30d712fa25ca18fa85f403289a4c69773,zanata/translations,"# Ian Y. Choi <ianyrchoi@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-05-11 14:36+0000\n""""PO-Revision-Date: 2019-07-23 09:14+0000\n"" ""Last-Translator: Ian Y. Choi <ianyrchoi@gmail.com>\n""""All upstream OpenStack documents in ``openstack-manuals`` and project "" ""repositories use ``master`` branch and can have stable branches depending on "" ""release models and maintaining documents in different project teams. Cross-"" ""project liaisons are strongly encouraged to communicate with I18n team so "" ""that I18n team can discuss and decide which stable documents are the target "" ""in I18n team and when translators start to translate stable documents."" msgstr """" ""``openstack-manuals``에 있는 모든 upstream OpenStack 문서와 프로젝트 저장소"" ""는 ``master`` 브랜치를 사용하며 릴리즈 모델에 따라 안정 브랜치를 가질 수 있"" ""고 다른 프로젝트 팀들에서 문서를 관리할 수 있습니다. 크로스 프로젝트 연락 조"" ""직은 I18n 팀과의 의사소통을 강력히 권장하여 I18n 팀이 I18n 팀에서 어떤 안정"" ""된 문서가 대상이 되고 언제 번역자들이 안정된 문서를 번역하기 시작할지 토론하"" ""고 결정할 수 있도록 합니다."" msgid """"msgid """" ""Before you start contribution, you'll have to `agree to the contributor "" ""license agreement <http://docs.openstack.org/infra/manual/developers."" ""html#account-setup>`_. (You can preview the full text of `the OpenStack "" ""Individual Contributor License Agreement <https://review.opendev.org/static/"" ""cla.html>`_ first if you want.)"" msgstr """" ""컨트리뷰션을 시작하기 전에, `컨트리뷰션 라이선스 동의서에 동의 <http://docs."" ""openstack.org/infra/manual/developers.html#account-setup>`_ 해야 합니다. (원"" ""하는 경우 `OpenStack Individual Contributor License Agreement <https://"" ""review.opendev.org/static/cla.html>`_ 전체 텍스트를 먼저 미리 살펴볼 수 있습"" ""니다.)"" msgid """" ""Carries out the second Zuul job (Syncing into repos) by executing "" ""`propose_translation_update.sh <https://opendev.org/openstack-infra/"" ""openstack-zuul-jobs/src/roles/prepare-zanata-client/files/"" ""propose_translation_update.sh>`__"" msgstr """" ""`propose_translation_update.sh <https://opendev.org/openstack-infra/"" ""openstack-zuul-jobs/src/roles/prepare-zanata-client/files/"" ""propose_translation_update.sh>`__ 를 실행하여 두 번째 Zuul 작업 (저장소와 동"" ""기화)를 수행합니다."" msgid """" ""Check from time to time open reviews on `I18n repo <https://review.opendev."" ""org/#/q/project:openstack/i18n+status:open>`__. In addition to the PTL, the "" ""core reviewers are responsible."" msgstr """" ""수시로 `I18n repo <https://review.opendev.org/#/q/project:openstack/i18n"" ""+status:open>`__에 열린 리뷰들을 확인합니다. PTL 외에 코어 리뷰어들에게도 책"" ""임이 있습니다."" ""Every day, new translations get imported into the repositories using a "" ""proposal job. These need to have a review on whether the bot worked "" ""properly. You can see all open reviews in `Gerrit <https://review.opendev."" ""org/#/q/status:open+topic:zanata/translations,n,z>`_. The subject of these "" ""patches is always \""Imported Translations from Zanata\""."" msgstr """" ""매일, 새로운 번역이 proposal 작업을 통해 저장소로 가져오기를 수행합니다. 해"" ""당 bot이 올바르게 동작하는지 아닌지에 대한 리뷰를 필요로 합니다. `Gerrit "" ""<https://review.opendev.org/#/q/status:open+topic:zanata/translations,n,z>`_ "" ""에서 오픈되어 있는 리뷰 확인이 가능합니다. 해당 패치 제목은 항상 \""Imported "" ""Translations from Zanata\"" 입니다."" msgid """"msgid """" ""Every odd week: `16:00 UTC, Thursday <https://www.timeanddate.com/worldclock/"" ""fixedtime.html?hour=16&min=00&sec=0>`_"" msgstr """" ""매 홀수 주: `16:00 UTC, Thursday <https://www.timeanddate.com/worldclock/"" ""fixedtime.html?hour=16&min=00&sec=0>`_"" msgid """" ""Everybody can propose agenda topics on `I18nTeamMeeting Wiki Page <https://"" ""wiki.openstack.org/wiki/Meetings/I18nTeamMeeting#Agenda_for_next_meeting>`_. "" ""If there are no topics proposed, the meeting might be canceled for that week."" msgstr """" ""누구든지 `I18nTeamMeeting Wiki Page <https://wiki.openstack.org/wiki/"" ""Meetings/I18nTeamMeeting#Agenda_for_next_meeting>`_ 에서 아젠다 주제를 제안"" ""할 수 있습니다. 제안된 주제가 없는 경우, 미팅은 다음 주를 위해 취소될 수 있습"" ""니다."" ""If your Zanata ID is different from your launchpad ID, Stackalytics will not "" ""find your translation statistics. You need to let Stackalytics know your ID "" ""mappings. To do this, you need to add your user data into ``detault_data."" ""json`` in `the Stackalytics repository <https://github.com/stackalytics/"" ""default_data/>`__."" msgstr """" ""Zanata ID가 Launchpad ID와 다른 경우, Stackalytics는 번역 통계를 찾지 않습니"" ""다. Stackalytics에 ID 매핑을 알릴 필요가 있습니다. 이렇게 하려면, 사용자 데이"" ""터를 `Stackalytics 저장소 <https://github.com/stackalytics/default_data/>`__ "" ""의 ``detault_data.json`` 에 추가해야 합니다."" msgid """"msgid """" ""Implements the first Zuul job (Syncing to Zanata) by executing "" ""`upstream_translation_update.sh <https://opendev.org/openstack-infra/"" ""openstack-zuul-jobs/src/roles/prepare-zanata-client/files/"" ""upstream_translation_update.sh>`__"" msgstr """" ""`upstream_translation_update.sh <https://opendev.org/openstack-infra/"" ""openstack-zuul-jobs/src/roles/prepare-zanata-client/files/"" ""upstream_translation_update.sh>`__ 를 실행하여 첫 번째 Zuul 작업 (Syncing to "" ""Zanata)을 구현합니다."" ""Is your Zanata ID included in the `translator list <https://opendev.org/"" ""openstack/i18n/src/tools/zanata/translation_team.yaml>`__?"" msgstr """" ""Zanata ID가 `translator list <https://opendev.org/openstack/i18n/src/tools/"" ""zanata/translation_team.yaml>`__ 내에 포함되어 있습니까?"" msgid """"msgid ""Launchpad bugs, Gerrit reviews, and broken Zuul jobs"" msgstr ""Launchpad 버그, Gerrit 리뷰, 및 문제가 생긴 Zuul 작업"" ""Once you find location(s) of a string you would like to check, you can check "" ""more detail context where the string is used by looking at the code in the "" ""git repository. Zanata project and git repository are one-to-one "" ""relationship. If Zanata project name is ``<Zanata-project-name>``, the "" ""corresponding git repository location is ``https://opendev.org/openstack/"" ""<Zanata-project-name>/``. For example, if you are translating ``horizon``, "" ""the git repository is found at https://opendev.org/openstack/horizon/."" msgstr """" ""확인하려는 문자열의 위치를 찾으면 git 저장소의 코드를 보고 문자열이 사용 된 "" ""세부 정보 컨텍스트를 확인할 수 있습니다. Zanata 프로젝트와 git 저장소는 대응 "" ""관계입니다. Zanata 프로젝트 이름이``<Zanata-project-name>`` 이라면, 해당 git "" ""저장소 위치는 ``https://opendev.org/openstack/<Zanata-project-name>/`` 입니"" ""다. 예를 들어,``horizon``을 번역한다면, git 저장소는 https://opendev.org/"" ""openstack/horizon/에 있습니다."" msgid """"msgid """" ""PTLs are elected by ATCs for each cycle. Please read `Governance Election "" ""Page <https://governance.openstack.org/election/>`__. Time and rules are "" ""announced there and on `OpenStack Discuss Mailing List <http://lists."" ""openstack.org/cgi-bin/mailman/listinfo/openstack-discuss>`__. Your candidacy "" ""is highly encouraged to share via there and on `OpenStack I18n Mailing List "" ""<http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-i18n>`__ . "" ""The proposal must be submitted to election repository (e.g. `https://review."" ""opendev.org/#/c/425775/ <https://review.opendev.org/#/c/425775/>`__). For "" ""this reason it is a good idea to subscribe to these mailing lists before :-)"" msgstr """" ""PTL은 각 (릴리즈) 주기에 해당하는 ATC에 의해 선출이 이루어집니다. "" ""`Governance Election Page <https://governance.openstack.org/election/>`__ 를 "" ""살펴보십시오. 시기 및 규칙은 `OpenStack Discuss Mailing List <http://lists."" ""openstack.org/cgi-bin/mailman/listinfo/openstack-discuss>`__ 에 공지가 이루어"" ""집니다. 출마 선언은 위 메일링리스트 및 `OpenStack I18n Mailing List <http://"" ""lists.openstack.org/cgi-bin/mailman/listinfo/openstack-i18n>`__ 에 공유하기"" ""를 매우 권장합니다. 출마 제안서는 election 저장소 (예: `https://review."" ""opendev.org/#/c/425775/ <https://review.opendev.org/#/c/425775/>`__)에 제출되"" ""어야만 합니다. 이러한 이유로 위 메일링리스트들을 구독하는 것은 좋은 생각입니"" ""다 :-)"" msgid """" ""Patch on governance repository: https://review.opendev.org/#/c/213989/ "" ""(`diff <https://opendev.org/openstack/governance/commit/"" ""a229d38469c5135af496d3c739695acbe1146a76>`__)"" msgstr """" ""governance 저장소 패치: https://review.opendev.org/#/c/213989/ (`diff "" ""<https://opendev.org/openstack/governance/commit/"" ""a229d38469c5135af496d3c739695acbe1146a76>`__)"" msgid """" ""Patch on governance repository: https://review.opendev.org/#/c/281145/ "" ""(`diff <https://opendev.org/openstack/governance/"" ""commit/8b3c83f28102c7b47688fbaca970a52a76eb6de5>`__)"" msgstr """" ""governance 저장소 패치: https://review.opendev.org/#/c/281145/ (`diff "" ""<https://opendev.org/openstack/governance/"" ""commit/8b3c83f28102c7b47688fbaca970a52a76eb6de5>`__)"" msgid """" ""Patch on governance repository: https://review.opendev.org/#/c/351480/ "" ""(`diff <https://opendev.org/openstack/governance/"" ""commit/3aa6cb3e52944f8bed250e0714c7373605b2ebc5>`__)"" msgstr """" ""governance 저장소 패치: https://review.opendev.org/#/c/351480/ (`diff "" ""<https://opendev.org/openstack/governance/"" ""commit/3aa6cb3e52944f8bed250e0714c7373605b2ebc5>`__)"" msgid """" ""Patch on governance repository: https://review.opendev.org/#/c/417569/ "" ""(`diff <https://opendev.org/openstack/governance/commit/"" ""bd71cefff1302ed04fc21faac5cf967365a7d7c7>`__)"" msgstr """" ""governance 저장소 패치: https://review.opendev.org/#/c/417569/ (`diff "" ""<https://opendev.org/openstack/governance/commit/"" ""bd71cefff1302ed04fc21faac5cf967365a7d7c7>`__)"" msgid ""Patch on governance repository: https://review.opendev.org/483452"" msgstr ""governance 저장소 패치: https://review.opendev.org/483452"" msgid ""Patch on governance repository: https://review.opendev.org/532982"" msgstr ""governance 저장소 패치: https://review.opendev.org/532982"" msgid ""Patch on governance repository: https://review.opendev.org/586751"" msgstr ""governance 저장소 패치: https://review.opendev.org/586751"" msgid ""Patch on governance repository: https://review.opendev.org/633398"" msgstr ""governance 저장소 패치: https://review.opendev.org/633398"" msgid ""Period: 2018-07-10 to 2019-01-25"" msgstr ""기간: 2018년 7월 10일 - 2019년 1월 25일"" msgid """" ""Schedules and rules for the team meeting are described in chapter :doc:"" ""`i18n_team_meeting` PTL is chairing the meeting or determines someone to "" ""takeover. He (the PTL) also has to check if the meeting time suits most "" ""people. Configuration of chair and time is done by `irc-meeting repo "" ""<https://opendev.org/openstack-infra/irc-meetings>`__."" msgstr """" ""팀 미팅에 대한 일정 및 규칙은 :doc:`i18n_team_meeting` 에 설명되어 있습니다. "" ""PTL은 미팅을 진행하거나 다른 사람에게 권한을 위임하도록 부탁합니다. PTL은 미"" ""팅 시간대가 대부분의 사람에게 적절한지를 확인해야 합니다. 진행자 및 시간대에 "" ""대한 구성은 `irc-meeting 저장소 <https://opendev.org/openstack-infra/irc-"" ""meetings>`__ 에서 이루어집니다."" msgid """" ""The I18n team holds weekly Team Meetings on Thursdays at alternating times "" ""in #openstack-meeting IRC channel. To download ICS file, please visit "" ""`eavesdrop <http://eavesdrop.openstack.org/#I18N_Team_Meeting>`_ page."" msgstr """" ""I18n 팀은 주간 팀 미팅을 #openstack-meeting IRC 채널에서 시간을 번갈아가면서 "" ""목요일에 개최합니다. ICS 파일을 다운로드하려면, `eavesdrop <http://eavesdrop."" ""openstack.org/#I18N_Team_Meeting>`_ 페이지에 방문합니다."" ""The OpenStack infra scripts executed by tasks currently download new files "" ""that are at least **75 percent** translated and if files grow over time but "" ""do not get new translations (or strings change too much), they will be "" ""removed again automatically from the project with a lower threshold of "" ""currently **40 percent**."" msgstr """" ""Task에 의해 실행이 이루어지는 OpenStack 인프라 스크립트는 현재 **75 퍼센트** "" ""이상 번역된 새로운 파일을 다운로드하며, 시간이 지나 새로운 번역을 얻지 못하였"" ""거나 문자열이 너무 많이 변경된 경우에는, 현재 **40 퍼센트** 최저 임계치를 적"" ""용하여 프로젝트에서 자동으로 다시 제거가 이루어질 것입니다."" msgid """"msgid """" ""The PTL is supported in the work by the `I18n core team <https://review."" ""opendev.org/#/admin/groups/1132,members>`__. He designates such kind of "" ""project team members and reviews the list from time to time. The work of the "" ""core team is described in the `Project Team Guide <https://docs.openstack."" ""org/project-team-guide/ptl.html>`__. Of course, core team member be can also "" ""proposed by the project team."" msgstr """" ""`I18n core team <https://review.opendev.org/#/admin/groups/1132,members>`__ "" ""에 의한 작업 내에서 PTL은 지원을 받습니다. PTL은 해당 종류의 프로젝트 팀 구성"" ""원을 지정하고 수시로 목록을 검토합니다. 코어 팀 작업은 `Project Team Guide "" ""<https://docs.openstack.org/project-team-guide/ptl.html>`__ 에 설명되어 있습"" ""니다. 물론, 프로젝트 팀에서 코어 팀 멤버에 대한 제안이 이루어질 수 있습니다."" ""The meeting is interconnected with the `Documentation Team Meeting <http://"" ""eavesdrop.openstack.org/#Documentation_Team_Meeting>`_. The first 30 minutes "" ""are reserved for I18n topics and the second part is for Documentation Team "" ""topics."" msgstr """" ""본 미팅은 `Documentation Team Meeting <http://eavesdrop.openstack.org/"" ""#Documentation_Team_Meeting>`_ 과 서로 연결되어 있습니다. 첫 30분은 I18n 주제"" ""로, 그리고 다음 파트는 문서화 팀 주제로 예약되어 있습니다."" msgid """"msgid """" ""The statistics are calculated using `a Python script <https://opendev.org/"" ""openstack/i18n/src/tools/zanata/zanata_stats.py>`__ powered by `Zanata "" ""statistics API <http://zanata.org/zanata-platform/rest-api-docs/"" ""resource_StatisticsResource.html>`__ Translator list is maintained by "" ""`translation_team.yaml <https://opendev.org/openstack/i18n/src/tools/zanata/"" ""translation_team.yaml>`__ stored in `openstack/i18n git repository <https://"" ""opendev.org/openstack/i18n>`__."" msgstr """" ""통계는 `Python 스크립트 <https://opendev.org/openstack/i18n/src/tools/zanata/"" ""zanata_stats.py>`__ 를 사용해 계산되며 `Zanata 통계 API <http://zanata.org/"" ""zanata-platform/rest-api-docs/resource_StatisticsResource.html>`__ 를 활용합"" ""니다. 번역자 목록은 `translation_team_yaml <https://opendev.org/openstack/"" ""i18n/src/tools/zanata/translation_team.yaml>`__ 을 통해 유지되며 `openstack/"" ""i18n git 저장소 <https://opendev.org/openstack/i18n>`__ 에 있습니다."" ""This `Script in I18n repo <https://opendev.org/openstack/i18n/src/tools/"" ""zanata/zanata_users.py>`__ collects all users and their activities."" msgstr """" ""`Script in I18n repo <https://opendev.org/openstack/i18n/src/tools/zanata/"" ""zanata_users.py>`__ 는 모든 사용자 및 활동을 수집합니다."" msgid """"""This following statistics data is calculated using up-to-date "" ""`translation_team.yaml <https://opendev.org/openstack/i18n/src/commit/"" ""a67e08d86cc78907da38d5f09b8be6f71d1979a0/tools/zanata/translation_team."" ""yaml>`__ (date: Jan 15, 2017)."" msgstr """" ""다음 통계 데이터는 가장 최신 `translation_team.yaml <https://opendev.org/"" ""openstack/i18n/src/commit/a67e08d86cc78907da38d5f09b8be6f71d1979a0/tools/"" ""zanata/translation_team.yaml>`__ (date: Jan 15, 2017) 데이터를 기반으로 계산"" ""이 이루어졌습니다."" msgid """"msgid ""Train cycle"" msgstr ""Train 주기"" ""Translation infrastructure tasks are stored and managed in `openstack-infra/"" ""project-config <https://opendev.org/openstack/project-config/>`__ "" ""repository. The translation infrastructure scripts are stored and managed in "" ""`openstack-infra/openstack-zuul-jobs <https://opendev.org/openstack-infra/"" ""openstack-zuul-jobs>`__ repository."" msgstr """" ""번역 인프라 단계들은 `openstack-infra/project-config <https://opendev.org/"" ""openstack/project-config/>`__ 저장소에서 저장 및 관리가 이루어집니다. 번역 인"" ""프라 스크립트들은 `openstack-infra/openstack-zuul-jobs <https://opendev.org/"" ""openstack-infra/openstack-zuul-jobs>`__ 저장소엣 ㅓ저장 및 관리가 이루어집니"" ""다."" msgid """"""We have two types of Zuul jobs for translations: syncing source strings into "" ""Zanata with the latest repositories and pushing translations from Zanata "" ""into the repositories. The first job is for Zanata-side updates. Up-to-date "" ""source strings to be translated are compared and updated between OpenStack "" ""project repositories and Zanata. If source texts in OpenStack project "" ""repositories are changed, then change sets are pushed into Zanata so "" ""translators deal with up-to-date source strings. On the other hand, the "" ""second job is aimed to reflect changes in translated strings in Zanata "" ""(after translators do translation activities) into corresponding OpenStack "" ""project repositories. The job will propose changes as :doc:`Translation "" ""Import <reviewing-translation-import>` Gerrit patches."" msgstr """" ""번역을 위한 Zuul 작업에는 두 가지 유형이 있습니다. 소스 문자열을 Zanata에 최"" ""신의 저장소와 동기화하고, Zanata에서 번역본을 저장소에 푸시하는 것입니다. 첫 "" ""번째 작업은 Zanata측 업데이트입니다. 번역할 최신 소스 문자열은 OpenStack 프로"" ""젝트 저장소와 Zanata 간에 비교되고 업데이트됩니다. OpenStack 프로젝트 저장소"" ""의 소스 텍스트가 변경되면, 변경된 집합이 Zanata로 푸시되므로, 번역자가 최신"" ""의 소스 문자열을 처리하게 됩니다. 한편, 두 번째 작업은 Zanata의 번역된 문자열"" ""(번역자가 번역을 수행한 후)의 변경 사항을 해당 OpenStack 프로젝트 저장소에 반"" ""영하는 것입니다. 해당 작업은 다음과 같이 변경 사항을 제안합니다. :doc:"" ""`Translation Import <reviewing-translation-import>`Gerrit patches. "" msgid """"""When proposing extra ATCs at that time, some translators were not included "" ""in `translation_team.yaml <https://opendev.org/openstack/i18n/src/"" ""commit/73a36041dbdc45212051c60cbeef3f7783200fd2/tools/zanata/"" ""translation_team.yaml>`__ file. It seems that 1) new translators were joined "" ""and the statistics was calculated but the file was already created, or 2) "" ""there might be some lack of communication with language coordinators, since "" ""I18n encouraged each language coordinator to update this file."" msgstr """" ""추가 ATC가 제안되었는데도 `translation_team.yaml <https://opendev.org/"" ""openstack/i18n/src/commit/73a36041dbdc45212051c60cbeef3f7783200fd2/tools/"" ""zanata/translation_team.yaml>`__ 파일에 번역자들이 포함되지 않은 경우에는 "" ""1) 새로운 번역자들이 참가했고 통계에 집계되었지만 파일이 이미 생성되었을 경우"" ""이였거나, 2) 언어 코디네이터들은 해당 파일을 업데이트해야 함에도 불구하고 코"" ""디네이터간의 의사소통 부족으로 업데이트가 되지 않은 것이 원인으로 보일 수 있"" ""습니다."" msgid """"""You can check on `Gerrit <https://review.opendev.org/#/q/topic:zanata/"" ""translations+(status:open+OR+status:merged)>`__, if the translated strings "" ""are imported by the project teams. Core reviewers in each repository are "" ""strong encouraged to approve translation sync patches but do not be sad if "" ""the translations are not accepted. Zanata Sync jobs are repeated every day "" ""until they are merged."" msgstr """" ""번역이 이루어진 문자열을 프로젝트 팀에서 가져오는 항목에 대해서는 `Gerrit "" ""<https://review.opendev.org/#/q/topic:zanata/translations+(status:open+OR"" ""+status:merged)>`__ 에서 확인할 수 있습니다. 각 저장소 내 코어 리뷰어들에게"" ""는 번역 동기화에 대한 패치를 승인하도록 권장하고 있습니다. 그러나 번역이 수용"" ""되지 않는다고 하여 낙담하지는 마십시오. Zanata 동기화 작업은 머지가 이루어질 "" ""때까지 매일 계속 반복합니다."" msgid """"msgid """" ""You can refer to `previous meeting logs with their notes <http://eavesdrop."" ""openstack.org/meetings/openstack_i18n_team_meeting/>`_."" msgstr """" ""`이전 미팅 로그 및 기록 <http://eavesdrop.openstack.org/meetings/"" ""openstack_i18n_team_meeting/>`_ 을 확인하실 수 있습니다."" msgid """" ""`Broken Translation Jobs on Zuul <http://zuul.openstack.org/builds?"" ""job_name=upstream-translation-update&job_name=propose-translation-"" ""update&result=Failure>`_"" msgstr """" ""`Broken Translation Jobs on Zuul <http://zuul.openstack.org/builds?"" ""job_name=upstream-translation-update&job_name=propose-translation-"" ""update&result=Failure>`_"" ""`Open reviews in openstack/i18n <https://review.opendev.org/#/q/status:open"" ""+project:openstack/i18n>`_"" msgstr """" ""`Open reviews in openstack/i18n <https://review.opendev.org/#/q/status:open"" ""+project:openstack/i18n>`_"" msgid """"""`common_translation_update.sh <https://opendev.org/openstack-infra/openstack-"" ""zuul-jobs/src/roles/prepare-zanata-client/files/common_translation_update."" ""sh>`__"" msgstr """" ""`common_translation_update.sh <https://opendev.org/openstack-infra/openstack-"" ""zuul-jobs/src/roles/prepare-zanata-client/files/common_translation_update."" ""sh>`__"" msgid """" ""`create-zanata-xml.py <https://opendev.org/openstack-infra/openstack-zuul-"" ""jobs/src/roles/prepare-zanata-client/files/create-zanata-xml.py>`__"" msgstr """" ""`create-zanata-xml.py <https://opendev.org/openstack-infra/openstack-zuul-"" ""jobs/src/roles/prepare-zanata-client/files/create-zanata-xml.py>`__"" msgid """" ""`https://review.opendev.org/#/c/451625/ <https://review.opendev.org/#/"" ""c/451625/>`__"" msgstr """" ""`https://review.opendev.org/#/c/451625/ <https://review.opendev.org/#/"" ""c/451625/>`__"" msgid """" ""`https://review.opendev.org/#/c/483452/ <https://review.opendev.org/#/"" ""c/483452/>`__"" msgstr """" ""`https://review.opendev.org/#/c/483452/ <https://review.opendev.org/#/"" ""c/483452/>`__"" msgid """" ""`https://review.opendev.org/#/c/488226/ <https://review.opendev.org/#/"" ""c/488226/>`__"" msgstr """" ""`https://review.opendev.org/#/c/488226/ <https://review.opendev.org/#/"" ""c/488226/>`__"" msgid """"msgid """" ""`propose-translation-update.yaml <https://opendev.org/openstack-infra/"" ""project-config/src/playbooks/translation/propose-translation-update.yaml>`__"" msgstr """" ""`propose-translation-update.yaml <https://opendev.org/openstack-infra/"" ""project-config/src/playbooks/translation/propose-translation-update.yaml>`__"" msgid """" ""`releasenotes/pre.yaml <https://opendev.org/openstack-infra/project-config/"" ""src/playbooks/releasenotes/pre.yaml>`__"" msgstr """" ""`releasenotes/pre.yaml <https://opendev.org/openstack-infra/project-config/"" ""src/playbooks/releasenotes/pre.yaml>`__"" msgid """" ""`releasenotes/run.yaml <https://opendev.org/openstack-infra/project-config/"" ""src/playbooks/releasenotes/run.yaml>`__"" msgstr """" ""`releasenotes/run.yaml <https://opendev.org/openstack-infra/project-config/"" ""src/playbooks/releasenotes/run.yaml>`__"" msgid """" ""`upstream-translation-update.yaml <https://opendev.org/openstack-infra/"" ""project-config/src/playbooks/translation/upstream-translation-update.yaml>`__"" msgstr """" ""`upstream-translation-update.yaml <https://opendev.org/openstack-infra/"" ""project-config/src/playbooks/translation/upstream-translation-update.yaml>`__"" ","""POT-Creation-Date: 2019-05-03 22:59+0000\n""""PO-Revision-Date: 2018-09-23 10:51+0000\n"" ""Last-Translator: Soonyeul Park <ardentpark@gmail.com>\n""",455,3
openstack%2Fopenstack-ansible~master~I75d480362827c8d6f9ae218240b08c63a68ac3fe,openstack/openstack-ansible,master,I75d480362827c8d6f9ae218240b08c63a68ac3fe,Update sha of global requirements repo to fix pyparsing,ABANDONED,2019-07-24 12:35:07.000000000,2019-07-25 07:42:27.000000000,,"[{'_account_id': 8367}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 12:35:07.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/00dff2ef7d496973092fdf509818727a307ee10d', 'message': 'Update sha of global requirements repo to fix pyparsing\n\nSee https://review.opendev.org/#/c/672395/\n\nChange-Id: I75d480362827c8d6f9ae218240b08c63a68ac3fe\n'}]",0,672514,00dff2ef7d496973092fdf509818727a307ee10d,4,2,1,25023,,,0,"Update sha of global requirements repo to fix pyparsing

See https://review.opendev.org/#/c/672395/

Change-Id: I75d480362827c8d6f9ae218240b08c63a68ac3fe
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/14/672514/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/defaults/repo_packages/openstack_services.yml'],1,00dff2ef7d496973092fdf509818727a307ee10d,,requirements_git_install_branch: e86ba789bd1a77ce6b2ce03b1651c510e00275eb # HEAD as of 24.07.2019,requirements_git_install_branch: 1329f56a3ca3dfaf2a1e65a5808736632ed20be0 # HEAD as of 14.07.2019,1,1
openstack%2Fopenstack-ansible~master~Iee738770003cd388d95ae4c5696b68d2fb78b4d6,openstack/openstack-ansible,master,Iee738770003cd388d95ae4c5696b68d2fb78b4d6,Run galera client role against galera hosts,ABANDONED,2019-07-19 19:30:49.000000000,2019-07-25 07:42:17.000000000,,"[{'_account_id': 14805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-19 19:30:49.000000000', 'files': ['playbooks/galera-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/997f064b3df7fc7502ad38ed03033fb3afba075a', 'message': 'Run galera client role against galera hosts\n\nThe galera hosts are delegation targets for the db_setup tasks\nso should be set up as database clients as well as servers.\n\nChange-Id: Iee738770003cd388d95ae4c5696b68d2fb78b4d6\n'}]",0,671849,997f064b3df7fc7502ad38ed03033fb3afba075a,4,2,1,25023,,,0,"Run galera client role against galera hosts

The galera hosts are delegation targets for the db_setup tasks
so should be set up as database clients as well as servers.

Change-Id: Iee738770003cd388d95ae4c5696b68d2fb78b4d6
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/49/671849/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/galera-install.yml'],1,997f064b3df7fc7502ad38ed03033fb3afba075a,," - role: ""galera_client""",,1,0
openstack%2Fkeystone~master~I704f346e8e7e3a0d007d68a055f6218fbb1b218e,openstack/keystone,master,I704f346e8e7e3a0d007d68a055f6218fbb1b218e,Make application credentials work with group-assigned roles,ABANDONED,2019-07-09 15:03:50.000000000,2019-07-25 06:13:59.000000000,,"[{'_account_id': 7923}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-07-09 15:03:50.000000000', 'files': ['keystone/models/token_model.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5c48d165ecacbba485d12552cb4751c8c684221c', 'message': 'Make application credentials work with group-assigned roles\n\nCurrently the role assignment checks in the application credentials\ncode only deals with explicit user/role assignment for projects. This\npatch changes the behavior to also consider group/role assignments.\n\nCloses-Bug #1773967\n\nChange-Id: I704f346e8e7e3a0d007d68a055f6218fbb1b218e\n'}]",0,669886,5c48d165ecacbba485d12552cb4751c8c684221c,6,4,1,7923,,,0,"Make application credentials work with group-assigned roles

Currently the role assignment checks in the application credentials
code only deals with explicit user/role assignment for projects. This
patch changes the behavior to also consider group/role assignments.

Closes-Bug #1773967

Change-Id: I704f346e8e7e3a0d007d68a055f6218fbb1b218e
",git fetch https://review.opendev.org/openstack/keystone refs/changes/86/669886/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/models/token_model.py'],1,5c48d165ecacbba485d12552cb4751c8c684221c,bug/1773967," effective_user_roles = ( PROVIDERS.assignment_api.get_roles_for_user_and_project( self.user_id, self.project_id ) ) roles = [{'id': r['id'], 'name': r['name']} for r in app_cred_roles if r['id'] in effective_user_roles]"," roles = [] for role in app_cred_roles: try: r = PROVIDERS.assignment_api.get_grant( role['id'], user_id=self.user_id, domain_id=self.domain_id, project_id=self.project_id) roles.append({'id': r['id'], 'name': r['name']}) except exception.RoleAssignmentNotFound: pass",8,9
openstack%2Fironic~master~I040fa71f31e59e7328c8bcc53eecab31032a5e26,openstack/ironic,master,I040fa71f31e59e7328c8bcc53eecab31032a5e26,[DNM][WIP] Add support for reconfigure,ABANDONED,2019-07-23 10:40:33.000000000,2019-07-25 06:10:55.000000000,,"[{'_account_id': 10118}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 10:40:33.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/common/release_mappings.py', 'ironic/common/states.py', 'ironic/db/sqlalchemy/alembic/versions/13eaf0780875_resize_node_provision_state_field.py', 'ironic/conductor/rpcapi.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/728b0262f47d56184477be1f14a95027c495986c', 'message': '[DNM][WIP] Add support for reconfigure\n\nTask: 2005129\nDepends-On: I6ddc02fdfb9b9d7e020fe9f724df56a18dd294ba\nChange-Id: I040fa71f31e59e7328c8bcc53eecab31032a5e26\n'}]",0,672259,728b0262f47d56184477be1f14a95027c495986c,6,4,1,10206,,,0,"[DNM][WIP] Add support for reconfigure

Task: 2005129
Depends-On: I6ddc02fdfb9b9d7e020fe9f724df56a18dd294ba
Change-Id: I040fa71f31e59e7328c8bcc53eecab31032a5e26
",git fetch https://review.opendev.org/openstack/ironic refs/changes/59/672259/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/common/release_mappings.py', 'ironic/common/states.py', 'ironic/db/sqlalchemy/alembic/versions/13eaf0780875_resize_node_provision_state_field.py', 'ironic/api/controllers/v1/node.py', 'ironic/conductor/rpcapi.py']",6,728b0262f47d56184477be1f14a95027c495986c,reconfigure, RPC_API_VERSION = '1.49', RPC_API_VERSION = '1.48',33,9
openstack%2Fdiskimage-builder~master~I8d97e4378dda176521361ca03deac8337a059515,openstack/diskimage-builder,master,I8d97e4378dda176521361ca03deac8337a059515,Enable nodepool debugging for functional tests,MERGED,2019-07-24 23:42:06.000000000,2019-07-25 06:00:20.000000000,2019-07-25 06:00:20.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-24 23:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ba7fd044438a31c1b9b2032c5408372991145598', 'message': 'Enable nodepool debugging for functional tests\n\nThis is helpful because if the inner host fails to boot, nodepool will\ndump its console at debug level\n\nChange-Id: I8d97e4378dda176521361ca03deac8337a059515\nDepends-On: https://review.opendev.org/#/c/669939\n'}, {'number': 2, 'created': '2019-07-24 23:45:25.000000000', 'files': ['.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/75faaf930627cdbf08218f4fdb3666c025c4930c', 'message': 'Enable nodepool debugging for functional tests\n\nThis is helpful because if the inner host fails to boot, nodepool will\ndump its console at debug level\n\nChange-Id: I8d97e4378dda176521361ca03deac8337a059515\nDepends-On: https://review.opendev.org/#/c/669939\n'}]",0,672608,75faaf930627cdbf08218f4fdb3666c025c4930c,9,4,2,7118,,,0,"Enable nodepool debugging for functional tests

This is helpful because if the inner host fails to boot, nodepool will
dump its console at debug level

Change-Id: I8d97e4378dda176521361ca03deac8337a059515
Depends-On: https://review.opendev.org/#/c/669939
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/08/672608/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/jobs.yaml'],1,ba7fd044438a31c1b9b2032c5408372991145598,nodepool-debug,"# Build and boot functional tests - job: name: dib-nodepool-functional-base description: | Base job for DIB functional tests, which build and boot a node under nodepool parent: nodepool-functional-openstack-src-base vars: nodepool_debug: true parent: dib-nodepool-functional-base parent: dib-nodepool-functional-base parent: dib-nodepool-functional-base parent: dib-nodepool-functional-base parent: dib-nodepool-functional-base parent: dib-nodepool-functional-base parent: dib-nodepool-functional-base parent: dib-nodepool-functional-base parent: dib-nodepool-functional-base parent: dib-nodepool-functional-base parent: dib-nodepool-functional-base", parent: nodepool-functional-openstack-src-base parent: nodepool-functional-openstack-src-base parent: nodepool-functional-openstack-src-base parent: nodepool-functional-openstack-src-base parent: nodepool-functional-openstack-src-base parent: nodepool-functional-openstack-src-base parent: nodepool-functional-openstack-src-base parent: nodepool-functional-openstack-src-base parent: nodepool-functional-openstack-src-base parent: nodepool-functional-openstack-src-base parent: nodepool-functional-openstack-src-base,21,11
openstack%2Fsecurity-doc~master~If5536a7a6f11f21073e3a9a82c27bf392bbc9673,openstack/security-doc,master,If5536a7a6f11f21073e3a9a82c27bf392bbc9673,Update api-ref location,MERGED,2019-07-22 18:44:46.000000000,2019-07-25 05:55:45.000000000,2019-07-25 05:55:45.000000000,"[{'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 18:44:46.000000000', 'files': ['security-guide/source/shared-file-systems/intro.rst', 'security-guide/source/shared-file-systems/security-services.rst', 'security-guide/source/block-storage.rst', 'security-guide/source/object-storage.rst', 'security-guide/source/shared-file-systems/share-type-acl.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/2c81dc7e0b94321f4f4a7fc7691df137680eab82', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: If5536a7a6f11f21073e3a9a82c27bf392bbc9673\n""}]",0,672129,2c81dc7e0b94321f4f4a7fc7691df137680eab82,7,3,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: If5536a7a6f11f21073e3a9a82c27bf392bbc9673
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/29/672129/1 && git format-patch -1 --stdout FETCH_HEAD,"['security-guide/source/shared-file-systems/intro.rst', 'security-guide/source/shared-file-systems/security-services.rst', 'security-guide/source/block-storage.rst', 'security-guide/source/object-storage.rst', 'security-guide/source/shared-file-systems/share-type-acl.rst']",5,2c81dc7e0b94321f4f4a7fc7691df137680eab82,retire-api-site,<https://docs.openstack.org/api-ref/shared-file-system/index.html#share-types>`_ and,<https://developer.openstack.org/api-ref-share-v2.html#share-type>`_ and,6,6
openstack%2Ftripleo-quickstart~master~If98c7a5c4d07edf9634b4581d1697a8d86d9b148,openstack/tripleo-quickstart,master,If98c7a5c4d07edf9634b4581d1697a8d86d9b148,Temporary exclude ceph-ansible rc11 from nautilus repo,MERGED,2019-07-23 03:47:38.000000000,2019-07-25 05:54:50.000000000,2019-07-23 17:42:58.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-23 03:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/604c80e8e812e07cc5012848f5e96e4695535ee6', 'message': ""Temporary exclude ceph-ansible rc11 from nautilus repo\n\nceph-ansible-4.0.0-0.rc11 which is recently pushed\nto centos nautilus repo has issue [1], it's untagged from\n-release but until it's removed from repo or new tag is pushed\nwith the fix let's exclude it while enabling ceph-nautilus repo.\n\nChange-Id: If98c7a5c4d07edf9634b4581d1697a8d86d9b148\n""}, {'number': 2, 'created': '2019-07-23 08:24:32.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/promotion-testing-hash-stein.yml', 'config/release/tripleo-ci/CentOS-7/master.yml', 'config/release/tripleo-ci/CentOS-7/stein.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-7/consistent-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4acd58cedf2816140c2fde81d65d13cbe8e6ab6d', 'message': ""Temporary exclude ceph-ansible rc11 from nautilus repo\n\nceph-ansible-4.0.0-0.rc11 which is recently pushed\nto centos nautilus repo has issue (see related bug) it's untagged from\n-release but until it's removed from repo or new tag is pushed\nwith the fix let's exclude it while enabling ceph-nautilus repo.\n\nRelated-Bug: 1837451\nChange-Id: If98c7a5c4d07edf9634b4581d1697a8d86d9b148\n""}]",1,672197,4acd58cedf2816140c2fde81d65d13cbe8e6ab6d,25,8,2,13861,,,0,"Temporary exclude ceph-ansible rc11 from nautilus repo

ceph-ansible-4.0.0-0.rc11 which is recently pushed
to centos nautilus repo has issue (see related bug) it's untagged from
-release but until it's removed from repo or new tag is pushed
with the fix let's exclude it while enabling ceph-nautilus repo.

Related-Bug: 1837451
Change-Id: If98c7a5c4d07edf9634b4581d1697a8d86d9b148
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/97/672197/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-7/promotion-testing-hash-stein.yml', 'config/release/tripleo-ci/CentOS-7/master.yml', 'config/release/tripleo-ci/CentOS-7/stein.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-7/consistent-master.yml']",5,604c80e8e812e07cc5012848f5e96e4695535ee6,, exclude: - ceph-ansible-*rc11*,,10,0
openstack%2Farch-design~master~I52969a8ee278b71cf7f92452fb26ff6a8420a3d4,openstack/arch-design,master,I52969a8ee278b71cf7f92452fb26ff6a8420a3d4,Update api-ref location,MERGED,2019-07-22 18:50:21.000000000,2019-07-25 05:50:36.000000000,2019-07-25 05:50:36.000000000,"[{'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 18:50:21.000000000', 'files': ['doc/source/design-control-plane.rst', 'doc/source/common/app-support.rst'], 'web_link': 'https://opendev.org/openstack/arch-design/commit/ea679cd0f8bf1e5873dd04ed88d7213098170313', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I52969a8ee278b71cf7f92452fb26ff6a8420a3d4\n""}]",0,672133,ea679cd0f8bf1e5873dd04ed88d7213098170313,7,3,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I52969a8ee278b71cf7f92452fb26ff6a8420a3d4
",git fetch https://review.opendev.org/openstack/arch-design refs/changes/33/672133/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/design-control-plane.rst', 'doc/source/common/app-support.rst']",2,ea679cd0f8bf1e5873dd04ed88d7213098170313,retire-api-site,* `API Documentation <https://docs.openstack.org/api-quick-start/>`_,* `API Documentation <https://developer.openstack.org/api-guide/quick-start/>`_,2,2
openstack%2Fi18n~master~Ic0c12c29f0260873faa8c4d386fb8ad33d7e9265,openstack/i18n,master,Ic0c12c29f0260873faa8c4d386fb8ad33d7e9265,Add bindep.txt,MERGED,2019-07-24 22:13:16.000000000,2019-07-25 05:48:29.000000000,2019-07-25 05:48:28.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 22:13:16.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/i18n/commit/cdd0f640af4a63120196cf969ccc9c55265ed223', 'message': 'Add bindep.txt\n\nFor translations, we need gettext installed. With the recent removal\nof the bindep fallback file, we need to provide our own.\n\nChange-Id: Ic0c12c29f0260873faa8c4d386fb8ad33d7e9265\n'}]",0,672602,cdd0f640af4a63120196cf969ccc9c55265ed223,6,2,1,14482,,,0,"Add bindep.txt

For translations, we need gettext installed. With the recent removal
of the bindep fallback file, we need to provide our own.

Change-Id: Ic0c12c29f0260873faa8c4d386fb8ad33d7e9265
",git fetch https://review.opendev.org/openstack/i18n refs/changes/02/672602/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,cdd0f640af4a63120196cf969ccc9c55265ed223,fix-translations,# This is a cross-platform list tracking distribution packages needed by tests; # see https://docs.openstack.org/infra/bindep/ for additional information. gettext ,,4,0
openstack%2Ftripleo-common~master~Ifd88ff9175bc6ca583e3826c59787680e25fbea3,openstack/tripleo-common,master,Ifd88ff9175bc6ca583e3826c59787680e25fbea3,wait_for_introspection_to_finish_error set status FAILED,MERGED,2019-07-24 00:50:07.000000000,2019-07-25 04:09:09.000000000,2019-07-25 04:09:09.000000000,"[{'_account_id': 4571}, {'_account_id': 9712}, {'_account_id': 10239}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-24 00:50:07.000000000', 'files': ['workbooks/baremetal.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c31faaa2862401c07825af46b08f99647db7ee63', 'message': 'wait_for_introspection_to_finish_error set status FAILED\n\nCurrently when wait_for_introspection_to_finish_error is reached,\nthe _introspect workflow will pass as a success even when it\nactually failed. This means that the retry logic in the calling\nworkflow is never triggered.\n\nwait_for_introspection_to_finish_error is hit in downstream CI\nwhen ironic-introspector is under too much load to respond\nto status poll requests.\n\nThis change also ensures callers to the\ntripleo.baremetal.v1.introspect can override the default concurrency\nso that this can be changed when required.\n\nChange-Id: Ifd88ff9175bc6ca583e3826c59787680e25fbea3\nPartial-Bug: #1836976\n'}]",0,672389,c31faaa2862401c07825af46b08f99647db7ee63,12,6,1,4571,,,0,"wait_for_introspection_to_finish_error set status FAILED

Currently when wait_for_introspection_to_finish_error is reached,
the _introspect workflow will pass as a success even when it
actually failed. This means that the retry logic in the calling
workflow is never triggered.

wait_for_introspection_to_finish_error is hit in downstream CI
when ironic-introspector is under too much load to respond
to status poll requests.

This change also ensures callers to the
tripleo.baremetal.v1.introspect can override the default concurrency
so that this can be changed when required.

Change-Id: Ifd88ff9175bc6ca583e3826c59787680e25fbea3
Partial-Bug: #1836976
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/89/672389/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/baremetal.yaml'],1,c31faaa2862401c07825af46b08f99647db7ee63,bug/1836976," publish: status: FAILED message: <% ""Introspection of node {0} failed."".format($.node_uuid) %> - concurrency: 20 concurrency: <% $.concurrency %>"," publish: message: <% ""Introspection of node {0} timed out."".format($.node_uuid) %>",5,2
openstack%2Flogstash-filters~master~I77a8afc8f2b2968a6af968d41b221ef2facd982c,openstack/logstash-filters,master,I77a8afc8f2b2968a6af968d41b221ef2facd982c,ERROR TRACE log will merged with previous log,NEW,2019-06-12 03:13:36.000000000,2019-07-25 03:56:48.000000000,,"[{'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 21113}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-12 03:13:36.000000000', 'files': ['filters/openstack-filters.conf'], 'web_link': 'https://opendev.org/openstack/logstash-filters/commit/f7604ed5632800c18ad31ae902ed1a99afcf221c', 'message': 'ERROR TRACE log will merged with previous log\n\nthe multiline logic will make the ERROR/TRACE log merge with previous log\n\nChange-Id: I77a8afc8f2b2968a6af968d41b221ef2facd982c\n'}]",0,664770,f7604ed5632800c18ad31ae902ed1a99afcf221c,3,4,1,9820,,,0,"ERROR TRACE log will merged with previous log

the multiline logic will make the ERROR/TRACE log merge with previous log

Change-Id: I77a8afc8f2b2968a6af968d41b221ef2facd982c
",git fetch https://review.opendev.org/openstack/logstash-filters refs/changes/70/664770/1 && git format-patch -1 --stdout FETCH_HEAD,['filters/openstack-filters.conf'],1,f7604ed5632800c18ad31ae902ed1a99afcf221c,," what => ""next"""," what => ""previous""",1,1
openstack%2Frequirements~master~Ifc5b0389476b1b18f47bd22c245f945d97474e6b,openstack/requirements,master,Ifc5b0389476b1b18f47bd22c245f945d97474e6b,update constraint for python-qinlingclient to new release 3.0.0,MERGED,2019-07-24 23:51:59.000000000,2019-07-25 03:20:13.000000000,2019-07-25 03:20:13.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 23:51:59.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/08d5e4aff92af621353d1bf5b6bb1c2ef7d32f47', 'message': 'update constraint for python-qinlingclient to new release 3.0.0\n\nChange-Id: Ifc5b0389476b1b18f47bd22c245f945d97474e6b\nmeta:version: 3.0.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Change-Id: I373947d8de4004224b19c440c8de40d8f231307d\nmeta:release:Code-Review+1: Gaëtan Trellu <gaetan.trellu@incloudus.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,672609,08d5e4aff92af621353d1bf5b6bb1c2ef7d32f47,6,2,1,11131,,,0,"update constraint for python-qinlingclient to new release 3.0.0

Change-Id: Ifc5b0389476b1b18f47bd22c245f945d97474e6b
meta:version: 3.0.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Change-Id: I373947d8de4004224b19c440c8de40d8f231307d
meta:release:Code-Review+1: Gaëtan Trellu <gaetan.trellu@incloudus.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/09/672609/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,08d5e4aff92af621353d1bf5b6bb1c2ef7d32f47,new-release,python-qinlingclient===3.0.0,python-qinlingclient===2.2.0,1,1
openstack%2Fcinder~stable%2Frocky~I089e2728c4253756db7e38e43f505867d23b7d3e,openstack/cinder,stable/rocky,I089e2728c4253756db7e38e43f505867d23b7d3e,"Revert ""Declare multiattach support for HPE MSA""",MERGED,2019-07-10 15:13:20.000000000,2019-07-25 02:50:43.000000000,2019-07-24 23:51:33.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 17042}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 28935}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-07-10 15:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2256e9b958248e081020cf4a101006b6cba112d1', 'message': 'Revert ""Declare multiattach support for HPE MSA""\n\nThis reverts commit fc658f492fd3771d20920dcc79c872693bbe6982.\n\nThe change being reverted was clearly enabling a feature\non a stable branch, the release note was not added correctly\nso it wasn\'t built and published, and there is no (from what\nI see) 3rd party CI on the driver itself let alone the feature\nit\'s claiming support for (multiattach). As such I don\'t think\nthe change was valid for backports, especially when the\nproject claims to follow the stable policy [1], and I\'m\nproposing that we revert it.\n\n[1] https://docs.openstack.org/project-team-guide/stable-branches.html#review-guidelines\n\nChange-Id: I089e2728c4253756db7e38e43f505867d23b7d3e\n'}, {'number': 2, 'created': '2019-07-24 17:35:02.000000000', 'files': ['cinder/volume/drivers/dothill/releasenotes/notes/msa-multiattach-5407eb60093de8f1.yaml', 'cinder/tests/unit/volume/drivers/test_dothill.py', 'cinder/volume/drivers/dothill/dothill_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/79212ffdb374d6960bf1a20718ec1acad259c87d', 'message': 'Revert ""Declare multiattach support for HPE MSA""\n\nThis reverts commit fc658f492fd3771d20920dcc79c872693bbe6982.\n\nWhile reviewing this patch it was discovered that the\nmulti-attach tempest test cases were not being run against the\ndriver.  A bug was found when the tests were enabled.  So, this\npatch should be reverted as the mult-attach support isn\'t really\nworking.\n\nThere was discussion that this should be reverted because it was\na feature but the team determined it was really a bug fix.  If the\nbug fix is able to be backported the flag can be re-enabled.\n\nChange-Id: I089e2728c4253756db7e38e43f505867d23b7d3e\n'}]",0,670086,79212ffdb374d6960bf1a20718ec1acad259c87d,57,27,2,6873,,,0,"Revert ""Declare multiattach support for HPE MSA""

This reverts commit fc658f492fd3771d20920dcc79c872693bbe6982.

While reviewing this patch it was discovered that the
multi-attach tempest test cases were not being run against the
driver.  A bug was found when the tests were enabled.  So, this
patch should be reverted as the mult-attach support isn't really
working.

There was discussion that this should be reverted because it was
a feature but the team determined it was really a bug fix.  If the
bug fix is able to be backported the flag can be re-enabled.

Change-Id: I089e2728c4253756db7e38e43f505867d23b7d3e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/670086/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_dothill.py', 'cinder/volume/drivers/dothill/releasenotes/notes/msa-multiattach-5407eb60093de8f1.yaml', 'cinder/volume/drivers/dothill/dothill_common.py']",3,2256e9b958248e081020cf4a101006b6cba112d1,msa-multiattach-stable/rocky,," 'multiattach': True,",0,6
openstack%2Frequirements~master~I256e6a8903ef3d803f3200b971b6ccc8aed59336,openstack/requirements,master,I256e6a8903ef3d803f3200b971b6ccc8aed59336,update constraint for python-magnumclient to new release 2.14.0,MERGED,2019-07-22 21:05:22.000000000,2019-07-25 02:29:07.000000000,2019-07-25 02:29:07.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 21:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7bd853650054523e8a3cd9ea941d84cde5c9dc6d', 'message': 'update constraint for python-magnumclient to new release 2.14.0\n\nChange-Id: I256e6a8903ef3d803f3200b971b6ccc8aed59336\nmeta:version: 2.14.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Feilong Wang <flwang@catalyst.net.nz>\nmeta:release:Commit: Feilong Wang <flwang@catalyst.net.nz>\nmeta:release:Change-Id: I172ebf3fbdc07965682b4bd316b72b22fab2a3f6\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-07-23 18:27:16.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/887b58c4930d2bb7b015a314f05838423a00ef03', 'message': 'update constraint for python-magnumclient to new release 2.14.0\n\nChange-Id: I256e6a8903ef3d803f3200b971b6ccc8aed59336\nmeta:version: 2.14.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Feilong Wang <flwang@catalyst.net.nz>\nmeta:release:Commit: Feilong Wang <flwang@catalyst.net.nz>\nmeta:release:Change-Id: I172ebf3fbdc07965682b4bd316b72b22fab2a3f6\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,672174,887b58c4930d2bb7b015a314f05838423a00ef03,26,3,2,11131,,,0,"update constraint for python-magnumclient to new release 2.14.0

Change-Id: I256e6a8903ef3d803f3200b971b6ccc8aed59336
meta:version: 2.14.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Feilong Wang <flwang@catalyst.net.nz>
meta:release:Commit: Feilong Wang <flwang@catalyst.net.nz>
meta:release:Change-Id: I172ebf3fbdc07965682b4bd316b72b22fab2a3f6
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/74/672174/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7bd853650054523e8a3cd9ea941d84cde5c9dc6d,new-release,python-magnumclient===2.14.0,python-magnumclient===2.13.0,1,1
openstack%2Fopenstacksdk~master~Ia936cd41b87dd9422b00e96ee541f2c3842dc636,openstack/openstacksdk,master,Ia936cd41b87dd9422b00e96ee541f2c3842dc636,Add set-boot-device to baremetal,MERGED,2019-07-23 00:03:32.000000000,2019-07-25 02:20:17.000000000,2019-07-25 02:20:17.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-07-23 00:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/dcc5bc8943c459f20a2f86b7cb59597edc413ba5', 'message': 'Add set-boot-device to baremetal\n\nThis patch adds the set-boot-device function to the baremetal\nmodule.\n\nChange-Id: Ia936cd41b87dd9422b00e96ee541f2c3842dc636\n'}, {'number': 2, 'created': '2019-07-23 09:43:55.000000000', 'files': ['openstack/tests/unit/baremetal/v1/test_node.py', 'openstack/baremetal/v1/_proxy.py', 'openstack/baremetal/v1/node.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6548a961b9a4a5e621eb238226d47b6632ca9188', 'message': 'Add set-boot-device to baremetal\n\nThis patch adds the set-boot-device function to the baremetal\nmodule.\n\nChange-Id: Ia936cd41b87dd9422b00e96ee541f2c3842dc636\n'}]",2,672190,6548a961b9a4a5e621eb238226d47b6632ca9188,22,4,2,23851,,,0,"Add set-boot-device to baremetal

This patch adds the set-boot-device function to the baremetal
module.

Change-Id: Ia936cd41b87dd9422b00e96ee541f2c3842dc636
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/90/672190/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/baremetal/v1/test_node.py', 'openstack/baremetal/v1/_proxy.py', 'openstack/baremetal/v1/node.py']",3,dcc5bc8943c459f20a2f86b7cb59597edc413ba5,add-set-boot-device," def set_boot_device(self, session, boot_device, persistent=False): """"""Set node boot device :param session: The session to use for making this request. :param boot_device: Boot device to assign to the node. :param persistent: If the boot device change is maintained after node reboot :return: The updated :class:`~openstack.baremetal.v1.node.Node` """""" session = self._get_session(session) version = utils.pick_microversion(session, None) request = self._prepare_request(requires_id=True) request.url = utils.urljoin(request.url, 'management', 'boot_device') body = {'boot_device': boot_device, 'persistent': persistent} response = session.put( request.url, json=body, headers=request.headers, microversion=version, retriable_status_codes=_common.RETRIABLE_STATUS_CODES) msg = (""Failed to set boot device for node {node}"" .format(node=self.id)) exceptions.raise_from_response(response, error_message=msg) ",,59,0
openstack%2Fkolla-cli~master~I623dca313b5fe1b6dfc53cfab096fac3c95adcf0,openstack/kolla-cli,master,I623dca313b5fe1b6dfc53cfab096fac3c95adcf0,Fix the GLOBAL file path,MERGED,2019-07-24 09:39:12.000000000,2019-07-25 01:08:02.000000000,2019-07-25 01:08:02.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-07-24 09:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/dd7ee160d8caead0a02e530ea9d9648e86b65878', 'message': 'Fix the GLOBAL file name\n\nChange-Id: I623dca313b5fe1b6dfc53cfab096fac3c95adcf0\n'}, {'number': 2, 'created': '2019-07-24 09:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/23f5d97617098d279edcf9b9bbffe413737d94a2', 'message': 'Fix the GLOBAL file name\n\nChange-Id: I623dca313b5fe1b6dfc53cfab096fac3c95adcf0\n'}, {'number': 3, 'created': '2019-07-24 10:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/21ad1e7a58e471b2a7829d22718aebaa608a2e76', 'message': 'Fix the GLOBAL file name\n\nChange-Id: I623dca313b5fe1b6dfc53cfab096fac3c95adcf0\n'}, {'number': 4, 'created': '2019-07-24 10:11:25.000000000', 'files': ['kolla_cli/common/properties.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/f467c033e71594133bf44307b19fd9fb0d22ac7d', 'message': 'Fix the GLOBAL file path\n\nChange-Id: I623dca313b5fe1b6dfc53cfab096fac3c95adcf0\n'}]",0,672484,f467c033e71594133bf44307b19fd9fb0d22ac7d,11,3,4,22165,,,0,"Fix the GLOBAL file path

Change-Id: I623dca313b5fe1b6dfc53cfab096fac3c95adcf0
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/84/672484/4 && git format-patch -1 --stdout FETCH_HEAD,['kolla_cli/common/properties.py'],1,dd7ee160d8caead0a02e530ea9d9648e86b65878,," 'group_vars/__GLOBAL__',"," 'group_vars/__GLOBAL',",1,1
openstack%2Fpuppet-tripleo~stable%2Frocky~I261eb30b52a3baee3b0e6d47e8f32f3c579930bf,openstack/puppet-tripleo,stable/rocky,I261eb30b52a3baee3b0e6d47e8f32f3c579930bf,Add tcp-check connect port line to haproxy redis stanza,MERGED,2019-07-22 08:37:35.000000000,2019-07-25 01:07:05.000000000,2019-07-25 01:07:04.000000000,"[{'_account_id': 8042}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-22 08:37:35.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9ca9f3706483f3802cd1498cd0879263269c059d', 'message': 'Add tcp-check connect port line to haproxy redis stanza\n\nWhen https://bugzilla.redhat.com/show_bug.cgi?id=1677420 will be merged\nin haproxy (via haproxy-1.5.18-9.el7.x86_64) our redis backend will stop\nworking because the fix around tcp-check is now more correct and\naccording to the haproxy doc a tcp-check sections *must* start with\ntcp-check connect first. From\nhttp://cbonte.github.io/haproxy-dconv/1.5/configuration.html#4-tcp-check%20connect\n:\n""""""\nWhen there are no TCP port configured on the server line neither server port\ndirective, then the \'tcp-check connect port <port>\' must be the first step\nof the sequence.\n""""""\n\nChange-Id: I261eb30b52a3baee3b0e6d47e8f32f3c579930bf\nCo-Authored-By: Luca Miccini <lmiccini@redhat.com>\nCloses-Bug: #1837086\n'}]",0,671986,9ca9f3706483f3802cd1498cd0879263269c059d,10,4,1,20172,,,0,"Add tcp-check connect port line to haproxy redis stanza

When https://bugzilla.redhat.com/show_bug.cgi?id=1677420 will be merged
in haproxy (via haproxy-1.5.18-9.el7.x86_64) our redis backend will stop
working because the fix around tcp-check is now more correct and
according to the haproxy doc a tcp-check sections *must* start with
tcp-check connect first. From
http://cbonte.github.io/haproxy-dconv/1.5/configuration.html#4-tcp-check%20connect
:
""""""
When there are no TCP port configured on the server line neither server port
directive, then the 'tcp-check connect port <port>' must be the first step
of the sequence.
""""""

Change-Id: I261eb30b52a3baee3b0e6d47e8f32f3c579930bf
Co-Authored-By: Luca Miccini <lmiccini@redhat.com>
Closes-Bug: #1837086
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/86/671986/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,9ca9f3706483f3802cd1498cd0879263269c059d,haproxy-redis-fix-stable/stein-stable/rocky, $redis_tcp_check_ssl_options = ['connect port 6379 ssl'] $redis_tcp_check_ssl_options = ['connect port 6379'], $redis_tcp_check_ssl_options = ['connect ssl'] $redis_tcp_check_ssl_options = [],2,2
openstack%2Fpuppet-rally~master~Ia1e093ece27ba1cee3667e26211de1a24a9eeb77,openstack/puppet-rally,master,Ia1e093ece27ba1cee3667e26211de1a24a9eeb77,Prepare Train M3,MERGED,2019-07-24 08:20:27.000000000,2019-07-25 00:45:08.000000000,2019-07-25 00:45:07.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:27.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/7240a3eb92db6af3c36c6925d1c10ee74804ec72', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: Ia1e093ece27ba1cee3667e26211de1a24a9eeb77\n'}]",0,672437,7240a3eb92db6af3c36c6925d1c10ee74804ec72,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: Ia1e093ece27ba1cee3667e26211de1a24a9eeb77
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/37/672437/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,7240a3eb92db6af3c36c6925d1c10ee74804ec72,prep-release-train-3," ""version"": ""3.2.0"", ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"""," ""version"": ""3.1.0"", ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0""",3,3
openstack%2Fpuppet-openstacklib~master~I258e1333cd66d602f5dd70769193168cc0ebd201,openstack/puppet-openstacklib,master,I258e1333cd66d602f5dd70769193168cc0ebd201,Prepare Train M3,MERGED,2019-07-24 08:20:28.000000000,2019-07-25 00:42:53.000000000,2019-07-25 00:42:53.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:28.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/f650ce7f79b27c1beaf6cb7b7dec86e8d1a4d35f', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I258e1333cd66d602f5dd70769193168cc0ebd201\n'}]",0,672455,f650ce7f79b27c1beaf6cb7b7dec86e8d1a4d35f,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I258e1333cd66d602f5dd70769193168cc0ebd201
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/55/672455/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,f650ce7f79b27c1beaf6cb7b7dec86e8d1a4d35f,prep-release-train-3," ""version"": ""15.2.0"""," ""version"": ""15.1.0""",1,1
openstack%2Fnova~master~I9edd70d36e7a8f40501ace574d5ae4b576a3e0ff,openstack/nova,master,I9edd70d36e7a8f40501ace574d5ae4b576a3e0ff,Remove test_pre_live_migration_instance_has_no_fixed_ip,MERGED,2019-07-16 05:09:31.000000000,2019-07-25 00:40:04.000000000,2019-07-24 14:45:36.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-16 05:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/794293f056a1e6d5bcad0758ddb81727b9a03863', 'message': 'Fix a unit test for pre_live_migration method\n\nThe following unit test does not check\nthe pre_live_migration method in the ComputeManager.\n\n* test_pre_live_migration_instance_has_no_fixed_ip\n  in nova/tests/unit/compute/test_compute.py\n\nThe test method has been changed since\nI6d422e0e6d29492a1c449039c04f6d38afa94d5c.\nIt needed a follow-up patch I82a8619229164c10f9b38804cee86de0876e4df8,\nbut the patch has not been merged.\n\nFix it to check the right method.\n\nChange-Id: I9edd70d36e7a8f40501ace574d5ae4b576a3e0ff\nCloses-Bug: #1836692\n'}, {'number': 2, 'created': '2019-07-24 01:43:38.000000000', 'files': ['nova/tests/unit/compute/test_compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cdb752f3d3601cb8cca48f28d6b95d2dbc9e1e20', 'message': 'Remove test_pre_live_migration_instance_has_no_fixed_ip\n\nRemove the following unit test\nbecause it is not useful any more.\n\n* test_pre_live_migration_instance_has_no_fixed_ip\n  in nova/tests/unit/compute/test_compute.py\n\nChange-Id: I9edd70d36e7a8f40501ace574d5ae4b576a3e0ff\nCloses-Bug: #1836692\n'}]",3,670948,cdb752f3d3601cb8cca48f28d6b95d2dbc9e1e20,21,10,2,7634,,,0,"Remove test_pre_live_migration_instance_has_no_fixed_ip

Remove the following unit test
because it is not useful any more.

* test_pre_live_migration_instance_has_no_fixed_ip
  in nova/tests/unit/compute/test_compute.py

Change-Id: I9edd70d36e7a8f40501ace574d5ae4b576a3e0ff
Closes-Bug: #1836692
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/670948/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/compute/test_compute.py'],1,794293f056a1e6d5bcad0758ddb81727b9a03863,bug/1836692," @mock.patch.object(fake.FakeDriver, 'pre_live_migration') def test_pre_live_migration_instance_has_no_fixed_ip(self, mock_pre): instance = self._create_fake_instance_obj() c = context.get_admin_context() migrate_data = objects.LibvirtLiveMigrateData() self.compute.pre_live_migration(c, instance=instance, block_migration=False, disk=None, migrate_data=migrate_data) mock_pre.assert_called_once_with( c, instance, {'root_device_name': None, 'ephemerals': [], 'block_device_mapping': [], 'swap': None}, [], None, migrate_data)"," def test_pre_live_migration_instance_has_no_fixed_ip(self): self.compute.driver.pre_live_migration( test.MatchType(nova.context.RequestContext), test.MatchType(objects.Instance), {'block_device_mapping': []}, mock.ANY, mock.ANY, mock.ANY)",18,6
openstack%2Fopenstack-ansible~stable%2Fstein~I19ef3733c250617a266fce98d11ab29fb548ab16,openstack/openstack-ansible,stable/stein,I19ef3733c250617a266fce98d11ab29fb548ab16,Reduce the RAM allocation for the octavia amphora flavor in AIO/CI,MERGED,2019-06-27 06:16:08.000000000,2019-07-24 23:53:36.000000000,2019-07-24 23:53:36.000000000,"[{'_account_id': 1004}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28543}, {'_account_id': 28619}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-27 06:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/911b6c4b190fc6ad8dbd938b3558fd8410e05c5a', 'message': 'Reduce the RAM allocation for the octavia amphora flavor in AIO/CI\n\nIn restrcited environments such as AIO and CI, tempest tests\ncan fail because the host RAM may be exhaused by trying to launch\nthe amphora and back end servers needed for the test.\n\nChange-Id: I19ef3733c250617a266fce98d11ab29fb548ab16\n(cherry picked from commit 549f09459ce5e3db408463fcc849b0b9ff0601de)\n'}, {'number': 2, 'created': '2019-06-28 07:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e5556f2e78afcc0529c75bb331912d449fd5306e', 'message': 'Reduce the RAM allocation for the octavia amphora flavor in AIO/CI\n\nIn restrcited environments such as AIO and CI, tempest tests\ncan fail because the host RAM may be exhaused by trying to launch\nthe amphora and back end servers needed for the test.\n\nChange-Id: I19ef3733c250617a266fce98d11ab29fb548ab16\n(cherry picked from commit 549f09459ce5e3db408463fcc849b0b9ff0601de)\n'}, {'number': 3, 'created': '2019-07-02 08:13:00.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8d695af87e3ec7fb93610c08498bb882de69edc5', 'message': 'Reduce the RAM allocation for the octavia amphora flavor in AIO/CI\n\nIn restrcited environments such as AIO and CI, tempest tests\ncan fail because the host RAM may be exhaused by trying to launch\nthe amphora and back end servers needed for the test.\n\nChange-Id: I19ef3733c250617a266fce98d11ab29fb548ab16\n(cherry picked from commit 549f09459ce5e3db408463fcc849b0b9ff0601de)\n'}]",0,667789,8d695af87e3ec7fb93610c08498bb882de69edc5,27,7,3,25023,,,0,"Reduce the RAM allocation for the octavia amphora flavor in AIO/CI

In restrcited environments such as AIO and CI, tempest tests
can fail because the host RAM may be exhaused by trying to launch
the amphora and back end servers needed for the test.

Change-Id: I19ef3733c250617a266fce98d11ab29fb548ab16
(cherry picked from commit 549f09459ce5e3db408463fcc849b0b9ff0601de)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/89/667789/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,911b6c4b190fc6ad8dbd938b3558fd8410e05c5a,,octavia_amp_mem: 512,,1,0
openstack%2Frequirements~master~Iab4cae41635ad84e08caa17711a6f03ee42d6c6c,openstack/requirements,master,Iab4cae41635ad84e08caa17711a6f03ee42d6c6c,update constraint for openstack-doc-tools to new release 1.10.0,MERGED,2019-07-24 10:29:33.000000000,2019-07-24 23:51:35.000000000,2019-07-24 23:51:35.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 10:29:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/daf845cc9a5938516b3364a2cdb6fb613943baa2', 'message': 'update constraint for openstack-doc-tools to new release 1.10.0\n\nChange-Id: Iab4cae41635ad84e08caa17711a6f03ee42d6c6c\nmeta:version: 1.10.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Andreas Jaeger <aj@suse.com>\nmeta:release:Commit: Andreas Jaeger <aj@suse.com>\nmeta:release:Change-Id: I8107c4b65dd2ab42367f4bdbb09e3ca7f580ed11\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,672490,daf845cc9a5938516b3364a2cdb6fb613943baa2,9,2,1,11131,,,0,"update constraint for openstack-doc-tools to new release 1.10.0

Change-Id: Iab4cae41635ad84e08caa17711a6f03ee42d6c6c
meta:version: 1.10.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Andreas Jaeger <aj@suse.com>
meta:release:Commit: Andreas Jaeger <aj@suse.com>
meta:release:Change-Id: I8107c4b65dd2ab42367f4bdbb09e3ca7f580ed11
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/90/672490/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,daf845cc9a5938516b3364a2cdb6fb613943baa2,new-release,openstack-doc-tools===1.10.0,openstack-doc-tools===1.8.0,1,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I42451a8b4dcc690319439415570ce36e5c5333c3,openstack/tripleo-heat-templates,stable/stein,I42451a8b4dcc690319439415570ce36e5c5333c3,Only run cellv2 host discovery on default cell,MERGED,2019-07-23 10:31:59.000000000,2019-07-24 23:38:41.000000000,2019-07-24 23:38:41.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-23 10:31:59.000000000', 'files': ['deployment/nova/nova-compute-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e49b8db26959543221ff46cdbc56981c796e1acd', 'message': 'Only run cellv2 host discovery on default cell\n\nWhile it would be not an issue to run the host discovery on sub\nsequent deploy runs, on the initial cell deplouy the discovery\nfails because the cell is not yet defined in nova as this is\na manual post task after the initial cell deployment [1]\n\n[1] https://docs.openstack.org/tripleo-docs/latest/install/advanced_deployment/deploy_cellv2.html#create-the-cell-and-discover-compute-nodes\n\nChange-Id: I42451a8b4dcc690319439415570ce36e5c5333c3\nCloses-bug: #1836915\n(cherry picked from commit 3e7c15da249798439861d0b8e9ed2cd852e042e7)\n'}]",0,672254,e49b8db26959543221ff46cdbc56981c796e1acd,13,8,1,17216,,,0,"Only run cellv2 host discovery on default cell

While it would be not an issue to run the host discovery on sub
sequent deploy runs, on the initial cell deplouy the discovery
fails because the cell is not yet defined in nova as this is
a manual post task after the initial cell deployment [1]

[1] https://docs.openstack.org/tripleo-docs/latest/install/advanced_deployment/deploy_cellv2.html#create-the-cell-and-discover-compute-nodes

Change-Id: I42451a8b4dcc690319439415570ce36e5c5333c3
Closes-bug: #1836915
(cherry picked from commit 3e7c15da249798439861d0b8e9ed2cd852e042e7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/672254/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-common-container-puppet.yaml'],1,e49b8db26959543221ff46cdbc56981c796e1acd,bug/1836915-stable/stein," NovaAdditionalCell: default: false description: Whether this is an cell additional to the default cell. type: boolean - name: is additonal Cell? set_fact: nova_additional_cell: {get_param: NovaAdditionalCell} - name: discover nodes if it is not an additional cell when: - not nova_additional_cell|bool block: - name: discover via nova_compute? set_fact: delegate_host: ""{{ groups['nova_compute'][0] }}"" when: - groups['nova_compute'] is defined and (groups['nova_compute']|length>0) - name: discover via nova_ironic? set_fact: delegate_host: ""{{ groups['nova_ironic'][0] }}"" when: - delegate_host is not defined - groups['nova_ironic'] is defined and (groups['nova_ironic']|length>0) - name: Discovering nova hosts command: ""{{ container_cli }} exec nova_compute nova-manage cell_v2 discover_hosts --by-service"" become: true changed_when: False when: - delegate_host is defined - inventory_hostname == delegate_host"," - name: discover via nova_compute? set_fact: delegate_host: ""{{ groups['nova_compute'][0] }}"" when: - groups['nova_compute'] is defined and (groups['nova_compute']|length>0) - name: discover via nova_ironic? set_fact: delegate_host: ""{{ groups['nova_ironic'][0] }}"" when: - delegate_host is not defined - groups['nova_ironic'] is defined and (groups['nova_ironic']|length>0) - name: Discovering nova hosts command: ""{{ container_cli }} exec nova_compute nova-manage cell_v2 discover_hosts --by-service"" become: true changed_when: False when: - delegate_host is defined - inventory_hostname == delegate_host",27,16
openstack%2Freleases~master~I1a5aa4293ed674d029affbd123d7f75001b827f0,openstack/releases,master,I1a5aa4293ed674d029affbd123d7f75001b827f0,Force certain indenting style,MERGED,2019-07-24 15:01:12.000000000,2019-07-24 23:37:30.000000000,2019-07-24 23:37:30.000000000,"[{'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 15:01:12.000000000', 'files': ['openstack_releases/yamlutils.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/2cb8f99ad932ba1da45bba656edce860dd08e55a', 'message': 'Force certain indenting style\n\nMaybe not the best approach, but makes the new-release cli\noutput similar to what we used to do.\n\nChange-Id: I1a5aa4293ed674d029affbd123d7f75001b827f0\n'}]",0,672545,2cb8f99ad932ba1da45bba656edce860dd08e55a,8,4,1,17068,,,0,"Force certain indenting style

Maybe not the best approach, but makes the new-release cli
output similar to what we used to do.

Change-Id: I1a5aa4293ed674d029affbd123d7f75001b827f0
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/672545/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/yamlutils.py'],1,2cb8f99ad932ba1da45bba656edce860dd08e55a,force_indent," yaml.indent(mapping=2, sequence=4, offset=2)",,1,0
openstack%2Freleases~master~I373947d8de4004224b19c440c8de40d8f231307d,openstack/releases,master,I373947d8de4004224b19c440c8de40d8f231307d,Release python-qinlingclient 3.0.0,MERGED,2019-07-22 09:04:26.000000000,2019-07-24 23:37:27.000000000,2019-07-24 23:37:27.000000000,"[{'_account_id': 308}, {'_account_id': 6732}, {'_account_id': 11904}, {'_account_id': 16006}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 09:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e7a9ea93ff53fc51f83da478d1432ef26f7cfecd', 'message': 'Release python-qinlingclient 3.0.0\n\nBump the major version because a recent CLI param change[1] broke the\nbackward compatibility.\n\nStory: #2005921\nTask: #35944\n\n[1]: https://github.com/openstack/python-qinlingclient/commit/d3983978dc8369f3a8c94bd09a4e9047e334a496\n\nChange-Id: I373947d8de4004224b19c440c8de40d8f231307d\n'}, {'number': 2, 'created': '2019-07-22 21:19:16.000000000', 'files': ['deliverables/train/python-qinlingclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2a4648b0b5b24be54ce2fdba23512a7f77ddab11', 'message': 'Release python-qinlingclient 3.0.0\n\nBump the major version because a recent CLI param change[1] broke the\nbackward compatibility.\n\nStory: #2005921\nTask: #35944\n\n[1]: https://github.com/openstack/python-qinlingclient/commit/d3983978dc8369f3a8c94bd09a4e9047e334a496\n\nChange-Id: I373947d8de4004224b19c440c8de40d8f231307d\n'}]",1,671993,2a4648b0b5b24be54ce2fdba23512a7f77ddab11,12,5,2,6732,,,0,"Release python-qinlingclient 3.0.0

Bump the major version because a recent CLI param change[1] broke the
backward compatibility.

Story: #2005921
Task: #35944

[1]: https://github.com/openstack/python-qinlingclient/commit/d3983978dc8369f3a8c94bd09a4e9047e334a496

Change-Id: I373947d8de4004224b19c440c8de40d8f231307d
",git fetch https://review.opendev.org/openstack/releases refs/changes/93/671993/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/python-qinlingclient.yaml'],1,e7a9ea93ff53fc51f83da478d1432ef26f7cfecd,python-qinlingclient, - version: 2.2.0 projects: - version: 3.0.0 projects: - hash: 930004e24d96b17d49782f8af8b2ae4b34795e81 repo: openstack/python-qinlingclient, - projects: version: 2.2.0,6,2
openstack%2Ftripleo-common~master~I9de426d0e3a84237418f4d5c8f476a66b07b4126,openstack/tripleo-common,master,I9de426d0e3a84237418f4d5c8f476a66b07b4126,Rename _short_bootstrap_node_ip to _bootstrap_node_ip,MERGED,2019-07-24 11:41:58.000000000,2019-07-24 23:24:46.000000000,2019-07-24 23:24:46.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-07-24 11:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6c2578cb1521c5e15366638303fe76e6956c70a8', 'message': ""WIP rename _short_bootstrap_node_ip on _bootstrap_node_ip\n\nAt least redis does use redis_bootstrap_node_ip and\n_short_bootstrap_node_ip makes no sense anyway?\nWe moved to the ansible stuff via Id6a7b10acc65ca6cd2135796a80fad0723078871\nand I got the following error on my deploy:\n\n    Error: Evaluation Error: Error while evaluating a Function Call, Class[Redis::Sentinel]: parameter 'redis_host' expects a Stdlib::Host = Variant\n\nProblem is that redis::sentinel::redis_host points to redis_bootstrap_node_ip\nand that is set to nil now:\n[root@overcloud-controller-0 hieradata]# hiera -c /etc/puppet/hiera.yaml redis_bootstrap_node_ip\nnil\n\nChange-Id: I9de426d0e3a84237418f4d5c8f476a66b07b4126\n""}, {'number': 2, 'created': '2019-07-24 11:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/94c17537aa9d85b96ccb57be2c0955e483036dcd', 'message': ""Rename _short_bootstrap_node_ip on _bootstrap_node_ip\n\nAt least redis does use redis_bootstrap_node_ip and\n_short_bootstrap_node_ip makes no sense anyway?\nWe moved to the ansible stuff via Id6a7b10acc65ca6cd2135796a80fad0723078871\nand I got the following error on my deploy:\n\n    Error: Evaluation Error: Error while evaluating a Function Call, Class[Redis::Sentinel]: parameter 'redis_host' expects a Stdlib::Host = Variant\n\nProblem is that redis::sentinel::redis_host points to redis_bootstrap_node_ip\nand that is set to nil now:\n[root@overcloud-controller-0 hieradata]# hiera -c /etc/puppet/hiera.yaml redis_bootstrap_node_ip\nnil\n\nChange-Id: I9de426d0e3a84237418f4d5c8f476a66b07b4126\n""}, {'number': 3, 'created': '2019-07-24 12:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8b0e32e0f5c62a64d85e4db69f547a6ee55b285c', 'message': ""Rename _short_bootstrap_node_ip on _bootstrap_node_ip\n\nAt least redis does use redis_bootstrap_node_ip and\n_short_bootstrap_node_ip makes no sense anyway?\nWe moved to the ansible stuff via Id6a7b10acc65ca6cd2135796a80fad0723078871\nand I got the following error on my deploy:\n\n    Error: Evaluation Error: Error while evaluating a Function Call, Class[Redis::Sentinel]: parameter 'redis_host' expects a Stdlib::Host = Variant\n\nProblem is that redis::sentinel::redis_host points to redis_bootstrap_node_ip\nand that is set to nil now:\n[root@overcloud-controller-0 hieradata]# hiera -c /etc/puppet/hiera.yaml redis_bootstrap_node_ip\nnil\n\nChange-Id: I9de426d0e3a84237418f4d5c8f476a66b07b4126\n""}, {'number': 4, 'created': '2019-07-24 12:17:09.000000000', 'files': ['roles/tripleo-hieradata/templates/all_nodes.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8c427ecbc7dd382dcd1672e678be6a4fa27cae8a', 'message': ""Rename _short_bootstrap_node_ip to _bootstrap_node_ip\n\nAt least redis does use redis_bootstrap_node_ip and\n_short_bootstrap_node_ip makes no sense anyway?\nWe moved to the ansible stuff via Id6a7b10acc65ca6cd2135796a80fad0723078871\nand I got the following error on my deploy:\n\n    Error: Evaluation Error: Error while evaluating a Function Call, Class[Redis::Sentinel]: parameter 'redis_host' expects a Stdlib::Host = Variant\n\nProblem is that redis::sentinel::redis_host points to redis_bootstrap_node_ip\nand that is set to nil now:\n[root@overcloud-controller-0 hieradata]# hiera -c /etc/puppet/hiera.yaml redis_bootstrap_node_ip\nnil\n\nChange-Id: I9de426d0e3a84237418f4d5c8f476a66b07b4126\n""}]",2,672504,8c427ecbc7dd382dcd1672e678be6a4fa27cae8a,15,6,4,20172,,,0,"Rename _short_bootstrap_node_ip to _bootstrap_node_ip

At least redis does use redis_bootstrap_node_ip and
_short_bootstrap_node_ip makes no sense anyway?
We moved to the ansible stuff via Id6a7b10acc65ca6cd2135796a80fad0723078871
and I got the following error on my deploy:

    Error: Evaluation Error: Error while evaluating a Function Call, Class[Redis::Sentinel]: parameter 'redis_host' expects a Stdlib::Host = Variant

Problem is that redis::sentinel::redis_host points to redis_bootstrap_node_ip
and that is set to nil now:
[root@overcloud-controller-0 hieradata]# hiera -c /etc/puppet/hiera.yaml redis_bootstrap_node_ip
nil

Change-Id: I9de426d0e3a84237418f4d5c8f476a66b07b4126
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/04/672504/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-hieradata/templates/all_nodes.j2'],1,6c2578cb1521c5e15366638303fe76e6956c70a8,," {{ '""' ~ service ~ '_bootstrap_node_ip"": ' ~ (services | first | to_json) ~ ',' }}"," {{ '""' ~ service ~ '_short_bootstrap_node_ip"": ' ~ (services | first | to_json) ~ ',' }}",1,1
openstack%2Fheat~stable%2Frocky~I4cf72ae6d11ffbedc20adedfe7b6d2a1d47e23ee,openstack/heat,stable/rocky,I4cf72ae6d11ffbedc20adedfe7b6d2a1d47e23ee,Don't resolve properties for OS::Heat::None resource,MERGED,2019-07-05 10:22:19.000000000,2019-07-24 22:55:41.000000000,2019-07-24 22:55:41.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 10:22:19.000000000', 'files': ['heat/engine/resources/openstack/heat/none_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/e7ad8dd0f94700bc6b03a055ebf0900a21c30ff7', 'message': ""Don't resolve properties for OS::Heat::None resource\n\nWe don't store resource_properties_data for OS::Heat::None.\nThere is no point trying to resolve the properties for old resource\nwhich would fail at times.\n\nChange-Id: I4cf72ae6d11ffbedc20adedfe7b6d2a1d47e23ee\nTask: 35661\nCloses-Bug: #1834881\nDepends-On: https://review.opendev.org/668144\n(cherry picked from commit 7066bccc538574de5424ff0b79ce1e2feeb6e2ad)\n(cherry picked from commit 84fe2ec4f3b9d91e748d31ba09c78518a71fa9ad)\n""}]",0,669318,e7ad8dd0f94700bc6b03a055ebf0900a21c30ff7,12,5,1,8833,,,0,"Don't resolve properties for OS::Heat::None resource

We don't store resource_properties_data for OS::Heat::None.
There is no point trying to resolve the properties for old resource
which would fail at times.

Change-Id: I4cf72ae6d11ffbedc20adedfe7b6d2a1d47e23ee
Task: 35661
Closes-Bug: #1834881
Depends-On: https://review.opendev.org/668144
(cherry picked from commit 7066bccc538574de5424ff0b79ce1e2feeb6e2ad)
(cherry picked from commit 84fe2ec4f3b9d91e748d31ba09c78518a71fa9ad)
",git fetch https://review.opendev.org/openstack/heat refs/changes/18/669318/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/heat/none_resource.py'],1,e7ad8dd0f94700bc6b03a055ebf0900a21c30ff7,bug/1834881-stable/stein-stable/rocky," def frozen_definition(self): return self.t.freeze( properties=properties.Properties(schema={}, data={})) ",,4,0
openstack%2Ftripleo-quickstart~master~Ied1242e74f80f4a12cd7d320c2d137bdc475ba7b,openstack/tripleo-quickstart,master,Ied1242e74f80f4a12cd7d320c2d137bdc475ba7b,Include ansible-config_template in delorean-current repo,MERGED,2019-07-23 12:10:43.000000000,2019-07-24 22:51:33.000000000,2019-07-24 22:51:32.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-23 12:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5b7f479837eefc80f4ed75124a9323602b0d36dc', 'message': 'Add ansible-config_template in delorean-current repo\n\nSince ansible-config_template is dependency of tripleo-ansible\nand tripleo-ansible is recently added in RDO so the\ntripleo-ansible package is available in delorean-current but\nansible-config_template is available in delorean so it is\ninstalling tripleo-ansible from delorean repo instead of\ndelorean-current which is leading to failure during standalone\ndeployment.\n\nChange-Id: Ied1242e74f80f4a12cd7d320c2d137bdc475ba7b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-07-23 12:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4ddb0ccb328bf19a108bd3577ce2c0d596147063', 'message': 'Include ansible-config_template in delorean-current repo\n\nhttps://review.rdoproject.org/r/#/c/21520/ adds the\nansible-config_template in RDO.\n\ntripleo-ansible is consumed from delorean-current repo\nand since ansible-config_template is a dependency of\ntripleo-ansible so it is also needs to be consumed\nfrom delorean-current repo to avoid missmatch issue.\n\nChange-Id: Ied1242e74f80f4a12cd7d320c2d137bdc475ba7b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2019-07-24 06:21:58.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/master.yml', 'config/release/tripleo-ci/RedHat-8/master.yml', 'config/release/tripleo-ci/Fedora-28/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c9a04b18694a1d10d9480524049eee10c23ec4fa', 'message': 'Include ansible-config_template in delorean-current repo\n\nhttps://review.rdoproject.org/r/#/c/21520/ adds the\nansible-config_template in RDO.\n\ntripleo-ansible is consumed from delorean-current repo\nand since ansible-config_template is a dependency of\ntripleo-ansible so it is also needs to be consumed\nfrom delorean-current repo to avoid missmatch issue.\n\nChange-Id: Ied1242e74f80f4a12cd7d320c2d137bdc475ba7b\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",1,672272,c9a04b18694a1d10d9480524049eee10c23ec4fa,32,7,3,12393,,,0,"Include ansible-config_template in delorean-current repo

https://review.rdoproject.org/r/#/c/21520/ adds the
ansible-config_template in RDO.

tripleo-ansible is consumed from delorean-current repo
and since ansible-config_template is a dependency of
tripleo-ansible so it is also needs to be consumed
from delorean-current repo to avoid missmatch issue.

Change-Id: Ied1242e74f80f4a12cd7d320c2d137bdc475ba7b
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/72/672272/3 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/RedHat-8/master.yml'],1,5b7f479837eefc80f4ed75124a9323602b0d36dc,, - ansible-config_template,,1,0
openstack%2Fopenstack-helm~master~I1a931b5ce272a731be710c43f3fea08abc79af71,openstack/openstack-helm,master,I1a931b5ce272a731be710c43f3fea08abc79af71,Nova: Update DB sync job to update transport url,MERGED,2019-07-24 13:49:52.000000000,2019-07-24 22:29:55.000000000,2019-07-24 22:29:55.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22259}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 24780}, {'_account_id': 28372}, {'_account_id': 28618}]","[{'number': 1, 'created': '2019-07-24 13:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e337fb2cb105c91f5af020c630ea740d216fc5ec', 'message': '[WIP] Nova: Update DB sync job to update transport url\n\nIf the transport url changes, cell needs to be updated to use new\ntransport.\n\nChange-Id: I1a931b5ce272a731be710c43f3fea08abc79af71\n'}, {'number': 2, 'created': '2019-07-24 14:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/baff30ea6a9f28ddd8d48391021dc9d19d25a7fa', 'message': 'Nova: Update DB sync job to update transport url\n\nIf the transport url changes, cell needs to be updated to use new\ntransport.\n\nChange-Id: I1a931b5ce272a731be710c43f3fea08abc79af71\n'}, {'number': 3, 'created': '2019-07-24 15:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e60bf0ea620c06a1d33826d0b275b273f7f1298e', 'message': 'Nova: Update DB sync job to update transport url\n\nIf the transport url changes, cell needs to be updated to use new\ntransport.\n\nChange-Id: I1a931b5ce272a731be710c43f3fea08abc79af71\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2019-07-24 16:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7ad91cb2cb5952ac30333115356ae8d8bb4e8bce', 'message': 'Nova: Update DB sync job to update transport url\n\nIf the transport url changes, cell needs to be updated to use new\ntransport.\n\nChange-Id: I1a931b5ce272a731be710c43f3fea08abc79af71\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2019-07-24 17:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d5c4edf7e9aeddef7f7d14f8fbcf64b8bd6e0fe9', 'message': 'Nova: Update DB sync job to update transport url\n\nIf the transport url changes, cell needs to be updated to use new\ntransport.\n\nChange-Id: I1a931b5ce272a731be710c43f3fea08abc79af71\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2019-07-24 17:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ea2961eea28c48017baa8054c2457b59accf1fbc', 'message': 'Nova: Update DB sync job to update transport url\n\nIf the transport url changes, cell needs to be updated to use new\ntransport.\n\nChange-Id: I1a931b5ce272a731be710c43f3fea08abc79af71\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 7, 'created': '2019-07-24 19:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fe8aef7607efe695f41c15e1ca38752dd9c22ee1', 'message': 'Nova: Update DB sync job to update transport url\n\nIf the transport url changes, cell needs to be updated to use new\ntransport.\n\nChange-Id: I1a931b5ce272a731be710c43f3fea08abc79af71\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 8, 'created': '2019-07-24 19:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/156c7f0d071d986938c956a3027594619ebee4b7', 'message': 'Nova: Update DB sync job to update transport url\n\nIf the transport url changes, cell needs to be updated to use new\ntransport.\n\nChange-Id: I1a931b5ce272a731be710c43f3fea08abc79af71\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 9, 'created': '2019-07-24 20:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2c2af5c9f86ba4e465298e105b15810e0c95101d', 'message': 'Nova: Update DB sync job to update transport url\n\nIf the transport url changes, cell needs to be updated to use new\ntransport.\n\nChange-Id: I1a931b5ce272a731be710c43f3fea08abc79af71\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 10, 'created': '2019-07-24 20:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a20a089b57ae3b4e95e777ba1f54c82a04416a50', 'message': 'Nova: Update DB sync job to update transport url\n\nIf the transport url changes, cell needs to be updated to use new\ntransport.\n\nChange-Id: I1a931b5ce272a731be710c43f3fea08abc79af71\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 11, 'created': '2019-07-24 20:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/074e280335435ad171a81c83205a1037811d3814', 'message': 'Nova: Update DB sync job to update transport url\n\nIf the transport url changes, cell needs to be updated to use new\ntransport.\n\nChange-Id: I1a931b5ce272a731be710c43f3fea08abc79af71\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 12, 'created': '2019-07-24 20:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8de11533d969e2ac42ef0c6bcb84fab85cb36440', 'message': 'Nova: Update DB sync job to update transport url\n\nIf the transport url changes, cell needs to be updated to use new\ntransport.\n\nChange-Id: I1a931b5ce272a731be710c43f3fea08abc79af71\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 13, 'created': '2019-07-24 20:49:30.000000000', 'files': ['nova/templates/job-db-sync.yaml', 'nova/templates/bin/_db-sync.sh.tpl', 'nova/templates/secret_rabbitmq.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/467b81a3e4624b1a04c5b8c019cb0104a72c6428', 'message': 'Nova: Update DB sync job to update transport url\n\nIf the transport url changes, cell needs to be updated to use new\ntransport.\n\nChange-Id: I1a931b5ce272a731be710c43f3fea08abc79af71\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",6,672527,467b81a3e4624b1a04c5b8c019cb0104a72c6428,36,10,13,24780,,,0,"Nova: Update DB sync job to update transport url

If the transport url changes, cell needs to be updated to use new
transport.

Change-Id: I1a931b5ce272a731be710c43f3fea08abc79af71
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/27/672527/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/job-db-sync.yaml', 'nova/templates/bin/_db-sync.sh.tpl']",2,e337fb2cb105c91f5af020c630ea740d216fc5ec,672527, nova-manage cell_v2 update_cell --name=cell1 --transport-url=$TRANSPORT_URL,,15,1
openstack%2Fopenstack-manuals~master~Ie79ce7be7d6c16c9954f50c77f6618c9c2974c3e,openstack/openstack-manuals,master,Ie79ce7be7d6c16c9954f50c77f6618c9c2974c3e,Add api-quick-start translations,MERGED,2019-07-23 10:18:47.000000000,2019-07-24 22:10:59.000000000,2019-07-24 22:10:59.000000000,"[{'_account_id': 6547}, {'_account_id': 14482}, {'_account_id': 15334}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 10:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d5b06f2b88be5e7eb117421ce65804ab03de7410', 'message': 'Add api-quick-start translations\n\nEnable the newly imported translations.\n\nChange-Id: Ie79ce7be7d6c16c9954f50c77f6618c9c2974c3e\n'}, {'number': 2, 'created': '2019-07-24 10:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c799b5a58170617e29d560106dca7e5dc4f71c55', 'message': 'Add api-quick-start translations\n\nEnable the newly imported translations.\n\nThis needs openstack-doc-tools 1.10 for publishing to\nthe correct location of translated api-quick-start.\n\nChange-Id: Ie79ce7be7d6c16c9954f50c77f6618c9c2974c3e\n'}, {'number': 3, 'created': '2019-07-24 12:21:37.000000000', 'files': ['www/de/index.html', 'www/ko_KR/index.html', 'www/tr_TR/index.html', 'test-requirements.txt', 'www/id/index.html', 'www/zh_CN/index.html', 'doc-tools-check-languages.conf', 'www/ja/index.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/e850cb234ff8429d4213d555d98901b65601b2e7', 'message': ""Add api-quick-start translations\n\nEnable the newly imported translations.\n\nThis needs openstack-doc-tools 1.10 for publishing to\nthe correct location of translated api-quick-start.\n\nUpdate index pages to link to new location.\nDisable link to Japanese API guide since it's not published currently\n(too few translated strings).\n\nChange-Id: Ie79ce7be7d6c16c9954f50c77f6618c9c2974c3e\n""}]",3,672250,e850cb234ff8429d4213d555d98901b65601b2e7,15,5,3,6547,,,0,"Add api-quick-start translations

Enable the newly imported translations.

This needs openstack-doc-tools 1.10 for publishing to
the correct location of translated api-quick-start.

Update index pages to link to new location.
Disable link to Japanese API guide since it's not published currently
(too few translated strings).

Change-Id: Ie79ce7be7d6c16c9954f50c77f6618c9c2974c3e
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/50/672250/1 && git format-patch -1 --stdout FETCH_HEAD,['doc-tools-check-languages.conf'],1,d5b06f2b88be5e7eb117421ce65804ab03de7410,retire-api-site," [""de""]=""api-quick-start image-guide install-guide"" [""eo""]=""api-quick-start"" [""id""]=""api-quick-start image-guide install-guide"" [""ko_KR""]=""api-quick-start install-guide"" [""tr_TR""]=""api-quick-start image-guide install-guide"" [""zh_CN""]=""api-quick-start install-guide"""," [""de""]=""image-guide install-guide"" [""id""]=""image-guide install-guide"" [""ko_KR""]=""install-guide"" [""tr_TR""]=""image-guide install-guide"" [""zh_CN""]=""install-guide""",6,5
openstack%2Fmagnum~master~I305644a78cee80db43b561e71a532feb414d8322,openstack/magnum,master,I305644a78cee80db43b561e71a532feb414d8322,Fix kubernetes systemd service templates,MERGED,2019-07-23 14:47:15.000000000,2019-07-24 21:54:02.000000000,2019-07-24 21:54:02.000000000,"[{'_account_id': 6484}, {'_account_id': 16006}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-07-23 14:47:15.000000000', 'files': ['dockerfiles/heat-container-agent/service.template', 'dockerfiles/kubernetes-controller-manager/service.template', 'dockerfiles/kubernetes-kubelet/service.template', 'dockerfiles/kubernetes-proxy/service.template', 'dockerfiles/kubernetes-scheduler/service.template', 'dockerfiles/kubernetes-apiserver/service.template'], 'web_link': 'https://opendev.org/openstack/magnum/commit/810e81195e67b0e67f18f8d59b310f5da08c8396', 'message': 'Fix kubernetes systemd service templates\n\nThere are cases where systemd fails to restart kubernetes services.\nThis change fixes that by inceasing the restart interval in the\nservice templates.\n\nChange-Id: I305644a78cee80db43b561e71a532feb414d8322\nstory: 2006265\ntask: 35956\n'}]",0,672302,810e81195e67b0e67f18f8d59b310f5da08c8396,9,5,1,27057,,,0,"Fix kubernetes systemd service templates

There are cases where systemd fails to restart kubernetes services.
This change fixes that by inceasing the restart interval in the
service templates.

Change-Id: I305644a78cee80db43b561e71a532feb414d8322
story: 2006265
task: 35956
",git fetch https://review.opendev.org/openstack/magnum refs/changes/02/672302/1 && git format-patch -1 --stdout FETCH_HEAD,"['dockerfiles/heat-container-agent/service.template', 'dockerfiles/kubernetes-controller-manager/service.template', 'dockerfiles/kubernetes-kubelet/service.template', 'dockerfiles/kubernetes-proxy/service.template', 'dockerfiles/kubernetes-scheduler/service.template', 'dockerfiles/kubernetes-apiserver/service.template']",6,810e81195e67b0e67f18f8d59b310f5da08c8396,2006265/35956,Restart=always StartLimitInterval=0 RestartSec=10,Restart=on-failure,19,7
openstack%2Fopenstack-helm~master~I996af138373476ae4a65dc2bef7e360155390a5d,openstack/openstack-helm,master,I996af138373476ae4a65dc2bef7e360155390a5d,Gate: Deploy default number of rabbit replicas,MERGED,2019-07-24 19:18:47.000000000,2019-07-24 21:47:59.000000000,2019-07-24 21:47:59.000000000,"[{'_account_id': 8749}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-07-24 19:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8f913eaeb21a11b4b87fc05220bda735717fe27b', 'message': '[WIP] DO NOT MERGE\n\nChange-Id: I996af138373476ae4a65dc2bef7e360155390a5d\n'}, {'number': 2, 'created': '2019-07-24 19:21:24.000000000', 'files': ['tools/deployment/component/common/rabbitmq.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5925b7c3cb9233899bd23a9f4a12551755e0eb94', 'message': 'Gate: Deploy default number of rabbit replicas\n\nThis ps updates the component check scripts to deploy\nthe default number of rabbit replicas in the gate\n\nChange-Id: I996af138373476ae4a65dc2bef7e360155390a5d\n'}]",0,672579,5925b7c3cb9233899bd23a9f4a12551755e0eb94,9,4,2,24780,,,0,"Gate: Deploy default number of rabbit replicas

This ps updates the component check scripts to deploy
the default number of rabbit replicas in the gate

Change-Id: I996af138373476ae4a65dc2bef7e360155390a5d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/79/672579/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/component/common/rabbitmq.sh'],1,8f913eaeb21a11b4b87fc05220bda735717fe27b,, --set pod.replicas.server=2 \, --set pod.replicas.server=1 \,1,1
openstack%2Fmagnum-tempest-plugin~master~Ic452bb33999980137ffe0f832318703190fa76ec,openstack/magnum-tempest-plugin,master,Ic452bb33999980137ffe0f832318703190fa76ec,Add idempotent ID for ClusterTest cases,MERGED,2019-07-17 05:56:36.000000000,2019-07-24 21:47:04.000000000,2019-07-24 21:47:04.000000000,"[{'_account_id': 6484}, {'_account_id': 6732}, {'_account_id': 11536}, {'_account_id': 13861}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-17 05:56:36.000000000', 'files': ['magnum_tempest_plugin/tests/api/v1/test_cluster.py'], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/ae3733366140575243ecab04642c2b762f5ce4a0', 'message': 'Add idempotent ID for ClusterTest cases\n\nEvery function that provides a test must have an idempotent_id\ndecorator according to\nhttps://docs.openstack.org/tempest/latest/HACKING.html#test-identification-with-idempotent-id\n\nThis patch only adds the idempotent_id for cluster related tests, others\ncould be added as needed in future.\n\nChange-Id: Ic452bb33999980137ffe0f832318703190fa76ec\n'}]",0,671186,ae3733366140575243ecab04642c2b762f5ce4a0,9,6,1,6732,,,0,"Add idempotent ID for ClusterTest cases

Every function that provides a test must have an idempotent_id
decorator according to
https://docs.openstack.org/tempest/latest/HACKING.html#test-identification-with-idempotent-id

This patch only adds the idempotent_id for cluster related tests, others
could be added as needed in future.

Change-Id: Ic452bb33999980137ffe0f832318703190fa76ec
",git fetch https://review.opendev.org/openstack/magnum-tempest-plugin refs/changes/86/671186/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum_tempest_plugin/tests/api/v1/test_cluster.py'],1,ae3733366140575243ecab04642c2b762f5ce4a0,add-idempotent-id,from tempest.lib import decorators @decorators.idempotent_id('44158a8c-a856-11e9-9382-00224d6b7bc1') @decorators.idempotent_id('11c293da-a857-11e9-9382-00224d6b7bc1') @decorators.idempotent_id('262eb132-a857-11e9-9382-00224d6b7bc1') @decorators.idempotent_id('29c6c5f0-a857-11e9-9382-00224d6b7bc1') @decorators.idempotent_id('2cf16528-a857-11e9-9382-00224d6b7bc1') @decorators.idempotent_id('33bd0416-a857-11e9-9382-00224d6b7bc1') @decorators.idempotent_id('376c45ea-a857-11e9-9382-00224d6b7bc1'),,8,0
openstack%2Fproject-config~master~I5d696907729fedd60783b13aac6537fb75c975fc,openstack/project-config,master,I5d696907729fedd60783b13aac6537fb75c975fc,Enable IAD opendev.org mirror,MERGED,2019-07-24 06:18:34.000000000,2019-07-24 21:43:12.000000000,2019-07-24 21:43:12.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 06:18:34.000000000', 'files': ['zuul/site-variables.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3e5df9727f246f6504fc41bf5d9354b6fec67b2b', 'message': ""Enable IAD opendev.org mirror\n\nThis is running afs-next branch @\n579cb95f6d3a8f7db0ee361d6e8ed0c448c7a244.  This contains a number of\nAFS fixes proposed for 5.3 series which we would like to sign-off as\ntested in our environment.\n\nIn particular, we want to montior for messages like:\n\n  kAFS: Volume 536871010 'mirror.opensuse' is offline\n\nacross vos release of the mirrors.  There should be changes to\nfallover to alterntive servers better during release to avoid such\nerrors.\n\nPrior reported fscache issues [1] are still are known problem and\nbeing worked on.  We'll have to monitor the server; we can revert this\nchange after we have had sufficient testing if there are issues.\n\nSee\n\n https://etherpad.openstack.org/p/opendev-mirror-afs\n\n[1] https://www.redhat.com/archives/linux-cachefs/2019-June/msg00011.html\n\nChange-Id: I5d696907729fedd60783b13aac6537fb75c975fc\n""}]",0,672404,3e5df9727f246f6504fc41bf5d9354b6fec67b2b,7,3,1,7118,,,0,"Enable IAD opendev.org mirror

This is running afs-next branch @
579cb95f6d3a8f7db0ee361d6e8ed0c448c7a244.  This contains a number of
AFS fixes proposed for 5.3 series which we would like to sign-off as
tested in our environment.

In particular, we want to montior for messages like:

  kAFS: Volume 536871010 'mirror.opensuse' is offline

across vos release of the mirrors.  There should be changes to
fallover to alterntive servers better during release to avoid such
errors.

Prior reported fscache issues [1] are still are known problem and
being worked on.  We'll have to monitor the server; we can revert this
change after we have had sufficient testing if there are issues.

See

 https://etherpad.openstack.org/p/opendev-mirror-afs

[1] https://www.redhat.com/archives/linux-cachefs/2019-June/msg00011.html

Change-Id: I5d696907729fedd60783b13aac6537fb75c975fc
",git fetch https://review.opendev.org/openstack/project-config refs/changes/04/672404/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/site-variables.yaml'],1,3e5df9727f246f6504fc41bf5d9354b6fec67b2b,kafs-iad," {%- if nodepool.region + ""."" + nodepool.cloud in [ ""IAD.rax"", ""DFW.rax"", ""ORD.rax"", ""regionOne.fortnebula"" ] -%}"," {%- if nodepool.region + ""."" + nodepool.cloud in [ ""DFW.rax"", ""ORD.rax"", ""regionOne.fortnebula"" ] -%}",1,1
openstack%2Fansible-role-collect-logs~master~I3ef8db9175130596c440e79f93249ab3fcfa1c84,openstack/ansible-role-collect-logs,master,I3ef8db9175130596c440e79f93249ab3fcfa1c84,Suppress redundant output for ARA tasks with no_log,MERGED,2019-07-22 08:39:35.000000000,2019-07-24 21:35:24.000000000,2019-07-24 21:35:24.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 08:39:35.000000000', 'files': ['tasks/ara_influxdb.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/dd06e42b4a9cecb3e40869ced178c118995e5c50', 'message': 'Suppress redundant output for ARA tasks with no_log\n\nChange-Id: I3ef8db9175130596c440e79f93249ab3fcfa1c84\n'}]",0,671989,dd06e42b4a9cecb3e40869ced178c118995e5c50,23,6,1,10969,,,0,"Suppress redundant output for ARA tasks with no_log

Change-Id: I3ef8db9175130596c440e79f93249ab3fcfa1c84
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/89/671989/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/ara_influxdb.yml'],1,dd06e42b4a9cecb3e40869ced178c118995e5c50,, no_log: true no_log: true no_log: true,,3,0
openstack%2Fos-net-config~master~I85fc4a617532bf8ebd19f54dc87f49b5a2e3810f,openstack/os-net-config,master,I85fc4a617532bf8ebd19f54dc87f49b5a2e3810f,Add ETHTOOL_OPTS support for LinuxBond class,MERGED,2019-07-18 06:19:22.000000000,2019-07-24 21:26:38.000000000,2019-07-24 21:26:38.000000000,"[{'_account_id': 12398}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25613}]","[{'number': 1, 'created': '2019-07-18 06:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/6d56aadfbf92eace10c6a39edc7e5f632386cb34', 'message': 'Add ETHTOOL_OPTS support for LinuxBond class\n\nLinuxBonding accepts ETHTOOL_OPTS.\nThis commit adds ETHTOOL_OPTS support for LinuxBond class.\n\nChange-Id: I85fc4a617532bf8ebd19f54dc87f49b5a2e3810f\n'}, {'number': 2, 'created': '2019-07-24 09:49:12.000000000', 'files': ['os_net_config/schema.yaml', 'os_net_config/tests/test_objects.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/objects.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/35fc5d66ab5e88d5f28d6b6c47b5c4440ca8d089', 'message': 'Add ETHTOOL_OPTS support for LinuxBond class\n\nLinuxBonding accepts ETHTOOL_OPTS.\nThis commit adds ETHTOOL_OPTS support for LinuxBond class.\n\nChange-Id: I85fc4a617532bf8ebd19f54dc87f49b5a2e3810f\n'}]",0,671406,35fc5d66ab5e88d5f28d6b6c47b5c4440ca8d089,17,5,2,25613,,,0,"Add ETHTOOL_OPTS support for LinuxBond class

LinuxBonding accepts ETHTOOL_OPTS.
This commit adds ETHTOOL_OPTS support for LinuxBond class.

Change-Id: I85fc4a617532bf8ebd19f54dc87f49b5a2e3810f
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/06/671406/2 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/objects.py'],1,6d56aadfbf92eace10c6a39edc7e5f632386cb34,add_ethtool_opts_to_linuxbond," domain=None, ethtool_opts=None): self.ethtool_opts = ethtool_opts ethtool_opts = json.get('ethtool_opts', None) domain=domain, ethtool_opts=ethtool_opts)", domain=None): domain=domain),4,2
openstack%2Fopenstacksdk~master~I64f29ade2da4740434f0812e8e514f0752510c71,openstack/openstacksdk,master,I64f29ade2da4740434f0812e8e514f0752510c71,Fix image deletion with tasks_api enabled,MERGED,2019-07-24 18:14:29.000000000,2019-07-24 21:17:05.000000000,2019-07-24 21:17:05.000000000,"[{'_account_id': 2}, {'_account_id': 3099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 18:14:29.000000000', 'files': ['openstack/cloud/_image.py', 'openstack/tests/unit/cloud/test_image.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2fe2297ee83ca800250ff16f964c364408a1d5ec', 'message': 'Fix image deletion with tasks_api enabled\n\nDuring image refactor some constants wandered into proxy. Due to the\ntests absence delete_image with tasks_api=True was not properly fixed.\n\nGet constants from proper place and add corresponding test.\n\nChange-Id: I64f29ade2da4740434f0812e8e514f0752510c71\n'}]",0,672573,2fe2297ee83ca800250ff16f964c364408a1d5ec,7,3,1,27900,,,0,"Fix image deletion with tasks_api enabled

During image refactor some constants wandered into proxy. Due to the
tests absence delete_image with tasks_api=True was not properly fixed.

Get constants from proper place and add corresponding test.

Change-Id: I64f29ade2da4740434f0812e8e514f0752510c71
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/73/672573/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_image.py', 'openstack/tests/unit/cloud/test_image.py']",2,2fe2297ee83ca800250ff16f964c364408a1d5ec,," def test_delete_image_task(self): self.cloud.image_api_use_tasks = True endpoint = self.cloud._object_store_client.get_endpoint() object_path = self.fake_image_dict['owner_specified.openstack.object'] image_no_checksums = self.fake_image_dict.copy() del(image_no_checksums['owner_specified.openstack.md5']) del(image_no_checksums['owner_specified.openstack.sha256']) del(image_no_checksums['owner_specified.openstack.object']) self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'image', append=['images'], base_url_append='v2'), json=self.fake_search_return), dict(method='DELETE', uri='https://image.example.com/v2/images/{id}'.format( id=self.image_id)), dict(method='HEAD', uri='{endpoint}/{object}'.format( endpoint=endpoint, object=object_path), headers={ 'X-Timestamp': '1429036140.50253', 'X-Trans-Id': 'txbbb825960a3243b49a36f-005a0dadaedfw1', 'Content-Length': '1290170880', 'Last-Modified': 'Tue, 14 Apr 2015 18:29:01 GMT', 'X-Object-Meta-X-Sdk-Sha256': self.fake_image_dict[ 'owner_specified.openstack.sha256'], 'X-Object-Meta-X-Sdk-Md5': self.fake_image_dict[ 'owner_specified.openstack.md5'], 'Date': 'Thu, 16 Nov 2017 15:24:30 GMT', 'Accept-Ranges': 'bytes', 'Content-Type': 'application/octet-stream', 'Etag': fakes.NO_MD5}), dict(method='DELETE', uri='{endpoint}/{object}'.format( endpoint=endpoint, object=object_path)), ]) self.cloud.delete_image(self.image_id) self.assert_calls() ",,52,4
openstack%2Fopenstack-ansible~master~I7075be2b06e81e1008bd393cf0fc5619dad24e7e,openstack/openstack-ansible,master,I7075be2b06e81e1008bd393cf0fc5619dad24e7e,"Update Ansible to 2.8.2, Ceph-Ansible to 4.0, Ceph to Nautilus",MERGED,2019-05-16 20:06:54.000000000,2019-07-24 20:59:36.000000000,2019-07-24 20:59:36.000000000,"[{'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28471}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-05-16 20:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/812b078bea4e76859b3617370cf1941763855410', 'message': 'Update ansible to 2.8.0\n\nChange-Id: I7075be2b06e81e1008bd393cf0fc5619dad24e7e\n'}, {'number': 2, 'created': '2019-05-17 00:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/066d53d32ad646519df33e75a5b5569e941e582b', 'message': 'Update ansible to 2.8.0\n\nDepends-On: I166186b6d8abf84317ba98af949d4ed887618912\nChange-Id: I7075be2b06e81e1008bd393cf0fc5619dad24e7e\n'}, {'number': 3, 'created': '2019-05-17 07:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/64ebd118175a5395bf83cebe8360ed028f506343', 'message': 'Update ansible to 2.8.0\n\nDepends-On: I166186b6d8abf84317ba98af949d4ed887618912\nDepends-On: Iae622218351bbe33562983491898339043fab13c\nChange-Id: I7075be2b06e81e1008bd393cf0fc5619dad24e7e\n'}, {'number': 4, 'created': '2019-05-17 09:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/37af7dc0374fce787add899669e0d62ffca1de1c', 'message': 'Update ansible to 2.8.0\n\nDepends-On: I166186b6d8abf84317ba98af949d4ed887618912\nDepends-On: Iae622218351bbe33562983491898339043fab13c\nDepends-On: Ie7c1b7e6435b61df6be36746d43b8e48803770ae\nDepends-On: Ia2793f92359f386c92dde8b25cc380fcf7460633\nDepends-On: I35ba5a711725e65e3d67782b0b29cd678cc43d49\nDepends-On: I13a46af91e3ccd754e71f0ed7c49a187d488f090\nDepends-On: I372ba04d30f481a48b9a0d784bd72218385797ca\nDepends-On: Ic2d0c3de1db26b319cedab7ee1dacf997a87ff86\nDepends-On: I9ae5bde63f2f2356b310e2b2d4f042cb250d13df\nDepends-On: I3f277ce4c785b379dbfc76a11759b6d35c1dccea\nDepends-On: Iade01544654937a28a606cf2f8900f6fe1587dcb\nDepends-On: Iab1ab38cef54f11b6ec43581913ef2ef85fd5cbe\nChange-Id: I7075be2b06e81e1008bd393cf0fc5619dad24e7e\n'}, {'number': 5, 'created': '2019-05-17 09:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/31ea69bd9d19bd8d19f2be09207872c564690d7a', 'message': 'Update ansible to 2.8.0\n\nDepends-On: I166186b6d8abf84317ba98af949d4ed887618912\nDepends-On: Iae622218351bbe33562983491898339043fab13c\nDepends-On: Ie7c1b7e6435b61df6be36746d43b8e48803770ae\nDepends-On: Ia2793f92359f386c92dde8b25cc380fcf7460633\nDepends-On: I35ba5a711725e65e3d67782b0b29cd678cc43d49\nDepends-On: I13a46af91e3ccd754e71f0ed7c49a187d488f090\nDepends-On: I372ba04d30f481a48b9a0d784bd72218385797ca\nDepends-On: Ic2d0c3de1db26b319cedab7ee1dacf997a87ff86\nDepends-On: I9ae5bde63f2f2356b310e2b2d4f042cb250d13df\nDepends-On: I3f277ce4c785b379dbfc76a11759b6d35c1dccea\nDepends-On: Iade01544654937a28a606cf2f8900f6fe1587dcb\nDepends-On: Iab1ab38cef54f11b6ec43581913ef2ef85fd5cbe\nChange-Id: I7075be2b06e81e1008bd393cf0fc5619dad24e7e\n'}, {'number': 6, 'created': '2019-05-17 14:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1703db7850f653b1d337d311bac19ecd1c25cf02', 'message': 'Update ansible to 2.8.0\n\nDepends-On: I166186b6d8abf84317ba98af949d4ed887618912\nDepends-On: Iae622218351bbe33562983491898339043fab13c\nDepends-On: Ie7c1b7e6435b61df6be36746d43b8e48803770ae\nDepends-On: Ia2793f92359f386c92dde8b25cc380fcf7460633\nDepends-On: I35ba5a711725e65e3d67782b0b29cd678cc43d49\nDepends-On: I13a46af91e3ccd754e71f0ed7c49a187d488f090\nDepends-On: I372ba04d30f481a48b9a0d784bd72218385797ca\nDepends-On: Ic2d0c3de1db26b319cedab7ee1dacf997a87ff86\nDepends-On: I9ae5bde63f2f2356b310e2b2d4f042cb250d13df\nDepends-On: I3f277ce4c785b379dbfc76a11759b6d35c1dccea\nDepends-On: Iade01544654937a28a606cf2f8900f6fe1587dcb\nDepends-On: Iab1ab38cef54f11b6ec43581913ef2ef85fd5cbe\nDepends-On: Ia3e6adb3e71b3dea0f985ad72e43567b170538a2\nChange-Id: I7075be2b06e81e1008bd393cf0fc5619dad24e7e\n'}, {'number': 7, 'created': '2019-05-17 14:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/15dd89f370dbf14097678b053760929e87c7ca70', 'message': 'Update ansible to 2.8.0\n\nDepends-On: I166186b6d8abf84317ba98af949d4ed887618912\nDepends-On: Iae622218351bbe33562983491898339043fab13c\nDepends-On: Ie7c1b7e6435b61df6be36746d43b8e48803770ae\nDepends-On: Ia2793f92359f386c92dde8b25cc380fcf7460633\nDepends-On: I35ba5a711725e65e3d67782b0b29cd678cc43d49\nDepends-On: I13a46af91e3ccd754e71f0ed7c49a187d488f090\nDepends-On: I372ba04d30f481a48b9a0d784bd72218385797ca\nDepends-On: Ic2d0c3de1db26b319cedab7ee1dacf997a87ff86\nDepends-On: I9ae5bde63f2f2356b310e2b2d4f042cb250d13df\nDepends-On: I3f277ce4c785b379dbfc76a11759b6d35c1dccea\nDepends-On: Iade01544654937a28a606cf2f8900f6fe1587dcb\nDepends-On: Iab1ab38cef54f11b6ec43581913ef2ef85fd5cbe\nChange-Id: I7075be2b06e81e1008bd393cf0fc5619dad24e7e\n'}, {'number': 8, 'created': '2019-05-17 14:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e3eb2a00d73ba612e675fb3c34435b98ac974510', 'message': 'Update ansible to 2.8.0\n\nDepends-On: I166186b6d8abf84317ba98af949d4ed887618912\nDepends-On: Iae622218351bbe33562983491898339043fab13c\nDepends-On: Ie7c1b7e6435b61df6be36746d43b8e48803770ae\nDepends-On: Ia2793f92359f386c92dde8b25cc380fcf7460633\nDepends-On: I35ba5a711725e65e3d67782b0b29cd678cc43d49\nDepends-On: I13a46af91e3ccd754e71f0ed7c49a187d488f090\nDepends-On: I372ba04d30f481a48b9a0d784bd72218385797ca\nDepends-On: Ic2d0c3de1db26b319cedab7ee1dacf997a87ff86\nDepends-On: I9ae5bde63f2f2356b310e2b2d4f042cb250d13df\nDepends-On: I3f277ce4c785b379dbfc76a11759b6d35c1dccea\nDepends-On: Iade01544654937a28a606cf2f8900f6fe1587dcb\nDepends-On: Iab1ab38cef54f11b6ec43581913ef2ef85fd5cbe\nChange-Id: I7075be2b06e81e1008bd393cf0fc5619dad24e7e\n'}, {'number': 9, 'created': '2019-05-17 15:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7036a1478c2bb7ae52aa7413035c4647d2340897', 'message': 'Update ansible to 2.8.0\n\nDepends-On: I166186b6d8abf84317ba98af949d4ed887618912\nDepends-On: Iae622218351bbe33562983491898339043fab13c\nDepends-On: Ie7c1b7e6435b61df6be36746d43b8e48803770ae\nDepends-On: Ia2793f92359f386c92dde8b25cc380fcf7460633\nDepends-On: I35ba5a711725e65e3d67782b0b29cd678cc43d49\nDepends-On: I13a46af91e3ccd754e71f0ed7c49a187d488f090\nDepends-On: I372ba04d30f481a48b9a0d784bd72218385797ca\nDepends-On: Ic2d0c3de1db26b319cedab7ee1dacf997a87ff86\nDepends-On: I9ae5bde63f2f2356b310e2b2d4f042cb250d13df\nDepends-On: I3f277ce4c785b379dbfc76a11759b6d35c1dccea\nDepends-On: Iade01544654937a28a606cf2f8900f6fe1587dcb\nDepends-On: Iab1ab38cef54f11b6ec43581913ef2ef85fd5cbe\nChange-Id: I7075be2b06e81e1008bd393cf0fc5619dad24e7e\n'}, {'number': 10, 'created': '2019-05-17 20:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3e65d327b3c7dde4e15efeb266b994a870ebb901', 'message': 'Update ansible to 2.8.0\n\nDepends-On: I166186b6d8abf84317ba98af949d4ed887618912\nDepends-On: Iae622218351bbe33562983491898339043fab13c\nDepends-On: Ie7c1b7e6435b61df6be36746d43b8e48803770ae\nDepends-On: Ia2793f92359f386c92dde8b25cc380fcf7460633\nDepends-On: I35ba5a711725e65e3d67782b0b29cd678cc43d49\nDepends-On: I13a46af91e3ccd754e71f0ed7c49a187d488f090\nDepends-On: I372ba04d30f481a48b9a0d784bd72218385797ca\nDepends-On: Ic2d0c3de1db26b319cedab7ee1dacf997a87ff86\nDepends-On: I9ae5bde63f2f2356b310e2b2d4f042cb250d13df\nDepends-On: I3f277ce4c785b379dbfc76a11759b6d35c1dccea\nDepends-On: Iade01544654937a28a606cf2f8900f6fe1587dcb\nDepends-On: Iab1ab38cef54f11b6ec43581913ef2ef85fd5cbe\nDepends-On: Ic88bb7d6f36fe9ad9ff66bfb5119eee5a5f67cd2\nChange-Id: I7075be2b06e81e1008bd393cf0fc5619dad24e7e\n'}, {'number': 11, 'created': '2019-05-21 20:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0efde057f012a3926e87209816ec01b6d3e29e75', 'message': 'Update ansible to 2.8.0\n\nDepends-On: Iae622218351bbe33562983491898339043fab13c\nDepends-On: Ic2d0c3de1db26b319cedab7ee1dacf997a87ff86\nDepends-On: I3f277ce4c785b379dbfc76a11759b6d35c1dccea\nDepends-On: Ic88bb7d6f36fe9ad9ff66bfb5119eee5a5f67cd2\nChange-Id: I7075be2b06e81e1008bd393cf0fc5619dad24e7e\n'}, {'number': 12, 'created': '2019-06-08 18:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a5d5c2061e349b496f0a61c02c2937b4646d864e', 'message': 'Update ansible to 2.8.1\n\nDepends-On: Iae622218351bbe33562983491898339043fab13c\nDepends-On: Ic2d0c3de1db26b319cedab7ee1dacf997a87ff86\nDepends-On: I3f277ce4c785b379dbfc76a11759b6d35c1dccea\nDepends-On: Ic88bb7d6f36fe9ad9ff66bfb5119eee5a5f67cd2\nChange-Id: I7075be2b06e81e1008bd393cf0fc5619dad24e7e\n'}, {'number': 13, 'created': '2019-07-02 03:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bdf640e7a3fcbbe8dba685c72bddc2b5e5bdf70d', 'message': 'Update ansible to 2.8.1\n\nDepends-On: I6387b42341ef4c0c06e350a0d125c3abe8bd93e0\nDepends-On: Iae622218351bbe33562983491898339043fab13c\nDepends-On: Ic2d0c3de1db26b319cedab7ee1dacf997a87ff86\nDepends-On: I3f277ce4c785b379dbfc76a11759b6d35c1dccea\nDepends-On: Ic88bb7d6f36fe9ad9ff66bfb5119eee5a5f67cd2\nChange-Id: I7075be2b06e81e1008bd393cf0fc5619dad24e7e\n'}, {'number': 14, 'created': '2019-07-04 08:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b155a9ce5c9828faf3843c574e39671514c0d897', 'message': 'Update ansible to 2.8.1\n\nDepends-On: I6387b42341ef4c0c06e350a0d125c3abe8bd93e0\nDepends-On: Iae622218351bbe33562983491898339043fab13c\nChange-Id: I7075be2b06e81e1008bd393cf0fc5619dad24e7e\n'}, {'number': 15, 'created': '2019-07-04 08:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4a3419be4c8cd671e9bd6588603423f99f31dfd6', 'message': 'Update ansible to 2.8.1\n\nDepends-On: I6387b42341ef4c0c06e350a0d125c3abe8bd93e0\nDepends-On: Iae622218351bbe33562983491898339043fab13c\nChange-Id: I7075be2b06e81e1008bd393cf0fc5619dad24e7e\n'}, {'number': 16, 'created': '2019-07-04 13:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dd2552ce7a16547146c7fd2eb50e690ed420f93b', 'message': 'Update ansible to 2.8.2\n\nDepends-On: I6387b42341ef4c0c06e350a0d125c3abe8bd93e0\nDepends-On: Iae622218351bbe33562983491898339043fab13c\nChange-Id: I7075be2b06e81e1008bd393cf0fc5619dad24e7e\n'}, {'number': 17, 'created': '2019-07-08 07:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f3306fa0fe1784481d555da3cc9e6c84dfd776c7', 'message': 'Update ansible to 2.8.2\n\nDepends-On: I6387b42341ef4c0c06e350a0d125c3abe8bd93e0\nDepends-On: Iae622218351bbe33562983491898339043fab13c\nDepends-On: https://review.opendev.org/669615/\nChange-Id: I7075be2b06e81e1008bd393cf0fc5619dad24e7e\n'}, {'number': 18, 'created': '2019-07-22 11:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c642e975e2a8cb0ebf00ab4cae04476b17f0a2a6', 'message': 'Update Ansible to 2.8.2, Ceph-Ansible to 4.0, Ceph to Nautilus\n\nThis patch updates to the current version of Ansible in the 2.8 series,\n2.8.2.\n\nCeph-Ansible must be moved to version 4.0 to be compatible with Ansible\n2.8 [1]. Older versions of Ceph-Ansible use syntax which is invalid for\nAnsible 2.8.\n\nIn turn, Ceph-Ansible 4.0 can only install the Nautilus release of Ceph,\nthere is no overlap with the previous Ceph release as there has been\npreviously within the Ceph-Ansible 3.x series.\n\nThis patch updates provisioning of the OSA AIO ceph build to be\ncompatible with the ceph-volume tool [2], specifically ceph-volume\ncannot prepare OSDs from loopback devices. The AIO boostrap now creates\nLVM on top of the loopbacks which are then consumed by ceph-volume.\n\nThe configuration of radosgw is updated to account for the addition of\ninstance names to rados gateway configurations [3][4].\n\n[1] http://docs.ceph.com/ceph-ansible/master/#releases\n[2] http://docs.ceph.com/docs/nautilus/ceph-volume\n[3] https://github.com/ceph/ceph-ansible/blob/367dce2894be37458b5129f4759633e0929f2b8b/roles/ceph-config/templates/ceph.conf.j2#L115-L116\n[4] https://github.com/ceph/ceph-ansible/blob/367dce2894be37458b5129f4759633e0929f2b8b/roles/ceph-facts/tasks/facts.yml#L276-L280\n\nChange-Id: I7075be2b06e81e1008bd393cf0fc5619dad24e7e\n'}, {'number': 19, 'created': '2019-07-22 11:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7eeb89a4b2a39705d44fcb61e04d8f6bebb171ce', 'message': 'Update Ansible to 2.8.2, Ceph-Ansible to 4.0, Ceph to Nautilus\n\nThis patch updates to the current version of Ansible in the 2.8 series,\n2.8.2.\n\nCeph-Ansible must be moved to version 4.0 to be compatible with Ansible\n2.8 [1]. Older versions of Ceph-Ansible use syntax which is invalid for\nAnsible 2.8.\n\nIn turn, Ceph-Ansible 4.0 can only install the Nautilus release of Ceph,\nthere is no overlap with the previous Ceph release as there has been\nin the prior Ceph-Ansible 3.x series.\n\nThis patch updates provisioning of the OSA AIO ceph build to be\ncompatible with the ceph-volume tool [2], specifically ceph-volume\ncannot prepare OSDs from loopback devices. The AIO boostrap now creates\nLVM on top of the loopbacks which are then consumed by ceph-volume.\n\nThe configuration of radosgw is updated to account for the addition of\ninstance names to rados gateway configurations [3][4].\n\n[1] http://docs.ceph.com/ceph-ansible/master/#releases\n[2] http://docs.ceph.com/docs/nautilus/ceph-volume\n[3] https://github.com/ceph/ceph-ansible/blob/367dce2894be37458b5129f4759633e0929f2b8b/roles/ceph-config/templates/ceph.conf.j2#L115-L116\n[4] https://github.com/ceph/ceph-ansible/blob/367dce2894be37458b5129f4759633e0929f2b8b/roles/ceph-facts/tasks/facts.yml#L276-L280\n\nChange-Id: I7075be2b06e81e1008bd393cf0fc5619dad24e7e\n'}, {'number': 20, 'created': '2019-07-22 22:12:53.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_ceph.yml', 'scripts/bootstrap-ansible.sh', 'inventory/group_vars/all/ceph.yml', 'ansible-role-requirements.yml', 'inventory/group_vars/ceph-rgw.yml', 'releasenotes/notes/ansible-2_8-ceph-nautilus-18b0a5e14a125e26.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fc1a968e309c728db2b3405324c34ea5d5fbcec7', 'message': 'Update Ansible to 2.8.2, Ceph-Ansible to 4.0, Ceph to Nautilus\n\nThis patch updates to the current version of Ansible in the 2.8 series,\n2.8.2.\n\nCeph-Ansible must be moved to version 4.0 to be compatible with Ansible\n2.8 [1]. Older versions of Ceph-Ansible use syntax which is invalid for\nAnsible 2.8.\n\nIn turn, Ceph-Ansible 4.0 can only install the Nautilus release of Ceph,\nthere is no overlap with the previous Ceph release as there has been\nin the prior Ceph-Ansible 3.x series.\n\nThis patch updates provisioning of the OSA AIO ceph build to be\ncompatible with the ceph-volume tool [2], specifically ceph-volume\ncannot prepare OSDs from loopback devices. The AIO boostrap now creates\nLVM on top of the loopbacks which are then consumed by ceph-volume.\n\nThe configuration of radosgw is updated to account for the addition of\ninstance names to rados gateway configurations [3][4].\n\n[1] http://docs.ceph.com/ceph-ansible/master/#releases\n[2] http://docs.ceph.com/docs/nautilus/ceph-volume\n[3] https://github.com/ceph/ceph-ansible/blob/367dce2894be37458b5129f4759633e0929f2b8b/roles/ceph-config/templates/ceph.conf.j2#L115-L116\n[4] https://github.com/ceph/ceph-ansible/blob/367dce2894be37458b5129f4759633e0929f2b8b/roles/ceph-facts/tasks/facts.yml#L276-L280\n\nChange-Id: I7075be2b06e81e1008bd393cf0fc5619dad24e7e\n'}]",2,659656,fc1a968e309c728db2b3405324c34ea5d5fbcec7,92,8,20,25023,,,0,"Update Ansible to 2.8.2, Ceph-Ansible to 4.0, Ceph to Nautilus

This patch updates to the current version of Ansible in the 2.8 series,
2.8.2.

Ceph-Ansible must be moved to version 4.0 to be compatible with Ansible
2.8 [1]. Older versions of Ceph-Ansible use syntax which is invalid for
Ansible 2.8.

In turn, Ceph-Ansible 4.0 can only install the Nautilus release of Ceph,
there is no overlap with the previous Ceph release as there has been
in the prior Ceph-Ansible 3.x series.

This patch updates provisioning of the OSA AIO ceph build to be
compatible with the ceph-volume tool [2], specifically ceph-volume
cannot prepare OSDs from loopback devices. The AIO boostrap now creates
LVM on top of the loopbacks which are then consumed by ceph-volume.

The configuration of radosgw is updated to account for the addition of
instance names to rados gateway configurations [3][4].

[1] http://docs.ceph.com/ceph-ansible/master/#releases
[2] http://docs.ceph.com/docs/nautilus/ceph-volume
[3] https://github.com/ceph/ceph-ansible/blob/367dce2894be37458b5129f4759633e0929f2b8b/roles/ceph-config/templates/ceph.conf.j2#L115-L116
[4] https://github.com/ceph/ceph-ansible/blob/367dce2894be37458b5129f4759633e0929f2b8b/roles/ceph-facts/tasks/facts.yml#L276-L280

Change-Id: I7075be2b06e81e1008bd393cf0fc5619dad24e7e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/56/659656/20 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,812b078bea4e76859b3617370cf1941763855410,osa-update-ansible,"export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible==2.8.0""}","export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible==2.7.9""}",1,1
openstack%2Fnova~stable%2Fstein~I2ddf0f4d768b698e980594dd67206464a9cea37b,openstack/nova,stable/stein,I2ddf0f4d768b698e980594dd67206464a9cea37b,Add 'path' query parameter to console access url,MERGED,2019-07-16 07:51:38.000000000,2019-07-24 20:29:06.000000000,2019-07-24 20:29:06.000000000,"[{'_account_id': 1004}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-16 07:51:38.000000000', 'files': ['doc/api_samples/os-remote-consoles/get-serial-console-post-resp.json', 'doc/api_samples/os-remote-consoles/v2.6/create-vnc-console-resp.json', 'doc/source/admin/remote-console-access.rst', 'nova/objects/console_auth_token.py', 'doc/api_samples/os-remote-consoles/get-spice-console-post-resp.json', 'nova/tests/functional/api_sample_tests/test_console_auth_tokens.py', 'doc/api_samples/os-remote-consoles/get-rdp-console-post-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-remote-consoles/get-vnc-console-post-resp.json.tpl', 'doc/source/admin/figures/SCH_5009_V00_NUAC-VNC_OpenStack.svg', 'nova/tests/unit/objects/test_console_auth_token.py', 'nova/tests/functional/api_sample_tests/api_samples/os-remote-consoles/get-serial-console-post-resp.json.tpl', 'releasenotes/notes/support-novnc-1.1.0-ce677fe3381b2a11.yaml', 'doc/api_samples/os-remote-consoles/get-vnc-console-post-resp.json', 'nova/tests/unit/console/test_websocketproxy.py', 'nova/api/openstack/compute/rest_api_version_history.rst', 'nova/tests/functional/api_sample_tests/api_samples/os-remote-consoles/get-rdp-console-post-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-remote-consoles/get-spice-console-post-resp.json.tpl'], 'web_link': 'https://opendev.org/openstack/nova/commit/186aff98b751b973dd5a7de9c8077b1a8bca0ba9', 'message': ""Add 'path' query parameter to console access url\n\nStarting in noVNC v1.1.0, the token query parameter is no longer\nforwarded via cookie [1]. We must instead use the 'path' query\nparameter to pass the token through to the websocketproxy [2].\nThis means that if someone deploys noVNC v1.1.0, VNC consoles will\nbreak in nova because the code is relying on the cookie functionality\nthat v1.1.0 removed.\n\nThis modifies the ConsoleAuthToken.access_url property to include the\n'path' query parameter as part of the returned access_url that the\nclient will use to call the console proxy service.\n\nThis change is backward compatible with noVNC < v1.1.0. The 'path' query\nparameter is a long supported feature in noVNC.\n\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nCloses-Bug: #1822676\n\n[1] https://github.com/novnc/noVNC/commit/51f9f0098d306bbc67cc8e02ae547921b6f6585c\n[2] https://github.com/novnc/noVNC/pull/1220\n\nChange-Id: I2ddf0f4d768b698e980594dd67206464a9cea37b\n(cherry picked from commit 9606c80402f6db20d62b689c58aa8f024183628a)\n""}]",0,670972,186aff98b751b973dd5a7de9c8077b1a8bca0ba9,14,6,1,10135,,,0,"Add 'path' query parameter to console access url

Starting in noVNC v1.1.0, the token query parameter is no longer
forwarded via cookie [1]. We must instead use the 'path' query
parameter to pass the token through to the websocketproxy [2].
This means that if someone deploys noVNC v1.1.0, VNC consoles will
break in nova because the code is relying on the cookie functionality
that v1.1.0 removed.

This modifies the ConsoleAuthToken.access_url property to include the
'path' query parameter as part of the returned access_url that the
client will use to call the console proxy service.

This change is backward compatible with noVNC < v1.1.0. The 'path' query
parameter is a long supported feature in noVNC.

Co-Authored-By: melanie witt <melwittt@gmail.com>

Closes-Bug: #1822676

[1] https://github.com/novnc/noVNC/commit/51f9f0098d306bbc67cc8e02ae547921b6f6585c
[2] https://github.com/novnc/noVNC/pull/1220

Change-Id: I2ddf0f4d768b698e980594dd67206464a9cea37b
(cherry picked from commit 9606c80402f6db20d62b689c58aa8f024183628a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/670972/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/api_samples/os-remote-consoles/get-serial-console-post-resp.json', 'doc/api_samples/os-remote-consoles/v2.6/create-vnc-console-resp.json', 'doc/source/admin/remote-console-access.rst', 'nova/objects/console_auth_token.py', 'doc/api_samples/os-remote-consoles/get-spice-console-post-resp.json', 'nova/tests/functional/api_sample_tests/test_console_auth_tokens.py', 'doc/api_samples/os-remote-consoles/get-rdp-console-post-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-remote-consoles/get-vnc-console-post-resp.json.tpl', 'doc/source/admin/figures/SCH_5009_V00_NUAC-VNC_OpenStack.svg', 'nova/tests/unit/objects/test_console_auth_token.py', 'nova/tests/functional/api_sample_tests/api_samples/os-remote-consoles/get-serial-console-post-resp.json.tpl', 'releasenotes/notes/support-novnc-1.1.0-ce677fe3381b2a11.yaml', 'doc/api_samples/os-remote-consoles/get-vnc-console-post-resp.json', 'nova/tests/unit/console/test_websocketproxy.py', 'nova/api/openstack/compute/rest_api_version_history.rst', 'nova/tests/functional/api_sample_tests/api_samples/os-remote-consoles/get-rdp-console-post-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-remote-consoles/get-spice-console-post-resp.json.tpl']",17,186aff98b751b973dd5a7de9c8077b1a8bca0ba9,," ""url"": ""http://127.0.0.1:6082/spice_auto.html?path=%%3Ftoken%%3D%(uuid)s"""," ""url"": ""http://127.0.0.1:6082/spice_auto.html?token=%(uuid)s""",53,36
openstack%2Fnova~stable%2Fstein~I58a4038b04d5a9c28927d914e71609e4deea3d9f,openstack/nova,stable/stein,I58a4038b04d5a9c28927d914e71609e4deea3d9f,libvirt: move checking CONF.my_ip to init_host(),MERGED,2019-07-22 19:44:26.000000000,2019-07-24 20:20:27.000000000,2019-07-24 20:20:27.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-22 19:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2274f7c259c55ca43eb4a937cdb4d1af152b67db', 'message': ""libvirt: move checking CONF.my_ip to init_host()\n\nMigrations use the libvirt driver's get_host_ip_addr() method to\ndetermine the dest_host field of the migration object.\nget_host_ip_addr() checks whether CONF.my_ip is actually assigned to\none of the host's interfaces. It does so by calling\nget_machine_ips(), which iterates over all of the host's interfaces.\nIf the host has many interfaces, this can take a long time, and\nintroduces needless delays in processing the migration.\nget_machine_ips() is only used to print a warning, so this patch moves\nthe get_machine_ips() call to a single method in init_host(). This\nway, a warning is still emitted at compute service startup, and\nmigration progress is not needlessly slowed down.\n\nThis patch also has a chicken and egg problem with the patch on top of\nit, which poisons use of netifaces.interfaces() in tests. While this\npatch fixes all the tests that break with that poison, it starts\nbreaking different tests because of the move of get_machine_ips() into\ninit_host(). Therefore, while not directly related to the bug, this\npatch also preventatively mocks or stubs out any use of\nget_machine_ips() that will get poisoned with the subsequent patch.\n\nCloses-bug: 1837075\nChange-Id: I58a4038b04d5a9c28927d914e71609e4deea3d9f\n(cherry picked from commit 30d8159d4ee51a26a03de1cb134ea64c6c07ffb2)\n""}, {'number': 2, 'created': '2019-07-22 19:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5da3f6cede32005336b5ec0d152f32b5da374728', 'message': ""libvirt: move checking CONF.my_ip to init_host()\n\nMigrations use the libvirt driver's get_host_ip_addr() method to\ndetermine the dest_host field of the migration object.\nget_host_ip_addr() checks whether CONF.my_ip is actually assigned to\none of the host's interfaces. It does so by calling\nget_machine_ips(), which iterates over all of the host's interfaces.\nIf the host has many interfaces, this can take a long time, and\nintroduces needless delays in processing the migration.\nget_machine_ips() is only used to print a warning, so this patch moves\nthe get_machine_ips() call to a single method in init_host(). This\nway, a warning is still emitted at compute service startup, and\nmigration progress is not needlessly slowed down.\n\nNOTE(artom) While the following paragraph still applies, the poison\npatch will not be backported. Stubbing out use of\nnetiface.interfaces() is still a good thing to do, however.\n\nThis patch also has a chicken and egg problem with the patch on top of\nit, which poisons use of netifaces.interfaces() in tests. While this\npatch fixes all the tests that break with that poison, it starts\nbreaking different tests because of the move of get_machine_ips() into\ninit_host(). Therefore, while not directly related to the bug, this\npatch also preventatively mocks or stubs out any use of\nget_machine_ips() that will get poisoned with the subsequent patch.\n\nCloses-bug: 1837075\nChange-Id: I58a4038b04d5a9c28927d914e71609e4deea3d9f\n(cherry picked from commit 30d8159d4ee51a26a03de1cb134ea64c6c07ffb2)\n""}, {'number': 3, 'created': '2019-07-22 19:48:20.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/560317c766afc4a4c4c5017ecfc9ce432fe63ea7', 'message': ""libvirt: move checking CONF.my_ip to init_host()\n\nMigrations use the libvirt driver's get_host_ip_addr() method to\ndetermine the dest_host field of the migration object.\nget_host_ip_addr() checks whether CONF.my_ip is actually assigned to\none of the host's interfaces. It does so by calling\nget_machine_ips(), which iterates over all of the host's interfaces.\nIf the host has many interfaces, this can take a long time, and\nintroduces needless delays in processing the migration.\nget_machine_ips() is only used to print a warning, so this patch moves\nthe get_machine_ips() call to a single method in init_host(). This\nway, a warning is still emitted at compute service startup, and\nmigration progress is not needlessly slowed down.\n\nNOTE(artom) While the following paragraph still applies, the poison\npatch will not be backported. Stubbing out use of\nnetifaces.interfaces() is still a good thing to do, however.\n\nThis patch also has a chicken and egg problem with the patch on top of\nit, which poisons use of netifaces.interfaces() in tests. While this\npatch fixes all the tests that break with that poison, it starts\nbreaking different tests because of the move of get_machine_ips() into\ninit_host(). Therefore, while not directly related to the bug, this\npatch also preventatively mocks or stubs out any use of\nget_machine_ips() that will get poisoned with the subsequent patch.\n\nCloses-bug: 1837075\nChange-Id: I58a4038b04d5a9c28927d914e71609e4deea3d9f\n(cherry picked from commit 30d8159d4ee51a26a03de1cb134ea64c6c07ffb2)\n""}]",1,672154,560317c766afc4a4c4c5017ecfc9ce432fe63ea7,13,6,3,8864,,,0,"libvirt: move checking CONF.my_ip to init_host()

Migrations use the libvirt driver's get_host_ip_addr() method to
determine the dest_host field of the migration object.
get_host_ip_addr() checks whether CONF.my_ip is actually assigned to
one of the host's interfaces. It does so by calling
get_machine_ips(), which iterates over all of the host's interfaces.
If the host has many interfaces, this can take a long time, and
introduces needless delays in processing the migration.
get_machine_ips() is only used to print a warning, so this patch moves
the get_machine_ips() call to a single method in init_host(). This
way, a warning is still emitted at compute service startup, and
migration progress is not needlessly slowed down.

NOTE(artom) While the following paragraph still applies, the poison
patch will not be backported. Stubbing out use of
netifaces.interfaces() is still a good thing to do, however.

This patch also has a chicken and egg problem with the patch on top of
it, which poisons use of netifaces.interfaces() in tests. While this
patch fixes all the tests that break with that poison, it starts
breaking different tests because of the move of get_machine_ips() into
init_host(). Therefore, while not directly related to the bug, this
patch also preventatively mocks or stubs out any use of
get_machine_ips() that will get poisoned with the subsequent patch.

Closes-bug: 1837075
Change-Id: I58a4038b04d5a9c28927d914e71609e4deea3d9f
(cherry picked from commit 30d8159d4ee51a26a03de1cb134ea64c6c07ffb2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/672154/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,2274f7c259c55ca43eb4a937cdb4d1af152b67db,bug/1837075," self.stub_out('nova.compute.utils.get_machine_ips', lambda: []) def test_check_my_ip(self, mock_ips, mock_log): drvr._check_my_ip() def test_init_host_checks_ip(self): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) with mock.patch.object(drvr, '_check_my_ip') as mock_check: drvr.init_host('fake-host') mock_check.assert_called_once_with() @mock.patch('nova.compute.utils.get_machine_ips', new=mock.Mock(return_value=[]))"," def test_get_host_ip_addr_failure(self, mock_ips, mock_log): drvr.get_host_ip_addr()",24,7
openstack%2Fnova~stable%2Fstein~I5dc65924fee65f6340d1495a9b1b992001c30731,openstack/nova,stable/stein,I5dc65924fee65f6340d1495a9b1b992001c30731,docs: Correct issues with 'openstack quota set' commands,MERGED,2019-07-10 15:25:53.000000000,2019-07-24 20:20:21.000000000,2019-07-24 20:20:21.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-10 15:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e271ce453d771ffa8edb9fc5096219e1efe621ab', 'message': ""doc: Correct issues with 'openstack quota set' commands\n\nChange Ic857918b15496049b5ccacde9515f130cc0bd7e9 against\nopenstack-manuals updated the quotas document to use openstackclient\ncommands in place of novaclient commands. It missed the fact that you\nneed to pass the '--class' parameter if you wish to set a quota for a\nclass rather than a project. Correct this.\n\nChange-Id: I5dc65924fee65f6340d1495a9b1b992001c30731\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1834057\n""}, {'number': 2, 'created': '2019-07-10 15:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fcde2cab24d5b66888e46270df13bf978ccbabbc', 'message': ""doc: Correct issues with 'openstack quota set' commands\n\nChange Ic857918b15496049b5ccacde9515f130cc0bd7e9 against\nopenstack-manuals updated the quotas document to use openstackclient\ncommands in place of novaclient commands. It missed the fact that you\nneed to pass the '--class' parameter if you wish to set a quota for a\nclass rather than a project. Correct this.\n\nChange-Id: I5dc65924fee65f6340d1495a9b1b992001c30731\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1834057\n(cherry picked from commit efd9344f2ee9995d242bb236cfeb152b87bb17e7)\n""}, {'number': 3, 'created': '2019-07-11 12:25:27.000000000', 'files': ['doc/source/admin/quotas.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/75a3ae933759fb89abd7ee9847fb6685c22a862c', 'message': ""docs: Correct issues with 'openstack quota set' commands\n\nChange Ic857918b15496049b5ccacde9515f130cc0bd7e9 against\nopenstack-manuals updated the quotas document to use openstackclient\ncommands in place of novaclient commands. It missed the fact that you\nneed to pass the '--class' parameter if you wish to set a quota for a\nclass rather than a project. Correct this.\n\nChange-Id: I5dc65924fee65f6340d1495a9b1b992001c30731\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1834057\n(cherry picked from commit 426790237e75eb184191bee1de50ee493252a717)\n""}]",0,670096,75a3ae933759fb89abd7ee9847fb6685c22a862c,16,7,3,15334,,,0,"docs: Correct issues with 'openstack quota set' commands

Change Ic857918b15496049b5ccacde9515f130cc0bd7e9 against
openstack-manuals updated the quotas document to use openstackclient
commands in place of novaclient commands. It missed the fact that you
need to pass the '--class' parameter if you wish to set a quota for a
class rather than a project. Correct this.

Change-Id: I5dc65924fee65f6340d1495a9b1b992001c30731
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1834057
(cherry picked from commit 426790237e75eb184191bee1de50ee493252a717)
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/670096/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/quotas.rst'],1,e271ce453d771ffa8edb9fc5096219e1efe621ab,bug/1834057, +----------------------+----------+ | Field | Value | +----------------------+----------+ | backup-gigabytes | 1000 | | backups | 10 | | cores | 20 | | fixed-ips | -1 | | floating-ips | 50 | | gigabytes | 1000 | | health_monitors | None | | injected-file-size | 10240 | | injected-files | 5 | | injected-path-size | 255 | | instances | 10 | | key-pairs | 100 | | l7_policies | None | | listeners | None | | load_balancers | None | | location | None | | name | None | | networks | 10 | | per-volume-gigabytes | -1 | | pools | None | | ports | 50 | | project | None | | project_name | project | | properties | 128 | | ram | 51200 | | rbac_policies | 10 | | routers | 10 | | secgroup-rules | 100 | | secgroups | 10 | | server-group-members | 10 | | server-groups | 10 | | snapshots | 10 | | subnet_pools | -1 | | subnets | 10 | | volumes | 10 | +----------------------+----------+ $ openstack quota set --class --instances 15 default +----------------------+----------------------------------+ | Field | Value | +----------------------+----------------------------------+ | backup-gigabytes | 1000 | | backups | 10 | | cores | 32 | | fixed-ips | -1 | | floating-ips | 10 | | gigabytes | 1000 | | health_monitors | None | | injected-file-size | 10240 | | injected-files | 5 | | injected-path-size | 255 | | instances | 10 | | key-pairs | 100 | | l7_policies | None | | listeners | None | | load_balancers | None | | location | None | | name | None | | networks | 20 | | per-volume-gigabytes | -1 | | pools | None | | ports | 60 | | project | c8156b55ec3b486193e73d2974196993 | | project_name | project | | properties | 128 | | ram | 65536 | | rbac_policies | 10 | | routers | 10 | | secgroup-rules | 50 | | secgroups | 50 | | server-group-members | 10 | | server-groups | 10 | | snapshots | 10 | | subnet_pools | -1 | | subnets | 20 | | volumes | 10 | +----------------------+----------------------------------+ To update quotas for a project: $ openstack quota set --QUOTA_NAME QUOTA_VALUE PROJECT_NAME To update quotas for a class: .. code-block:: console $ openstack quota set --class --QUOTA_NAME QUOTA_VALUE CLASS_NAME $ openstack quota set --gigabytes 2000 PROJECT_NAME +----------------------+----------------------------------+ | Field | Value | +----------------------+----------------------------------+ | ... | ... | | gigabytes | 2000 | | ... | ... | +----------------------+----------------------------------+, +-----------------------------+-------+ | Quota | Limit | +-----------------------------+-------+ | instances | 10 | | cores | 20 | | ram | 51200 | | floating_ips | 10 | | fixed_ips | -1 | | metadata_items | 128 | | injected_files | 5 | | injected_file_content_bytes | 10240 | | injected_file_path_bytes | 255 | | key_pairs | 100 | | security_groups | 10 | | security_group_rules | 20 | | server_groups | 10 | | server_group_members | 10 | +-----------------------------+-------+ $ openstack quota set --instances 15 default +-----------------------------+-------+ | Quota | Limit | +-----------------------------+-------+ | instances | 10 | | cores | 20 | | ram | 51200 | | floating_ips | 10 | | fixed_ips | -1 | | metadata_items | 128 | | injected_files | 5 | | injected_file_content_bytes | 10240 | | injected_file_path_bytes | 255 | | key_pairs | 100 | | security_groups | 10 | | security_group_rules | 20 | | server_groups | 10 | | server_group_members | 10 | +-----------------------------+-------+ $ openstack quota set --QUOTA_NAME QUOTA_VALUE PROJECT_OR_CLASS $ openstack quota set --floating-ips 20 PROJECT_OR_CLASS +-----------------------------+-------+ | Quota | Limit | +-----------------------------+-------+ | instances | 10 | | cores | 20 | | ram | 51200 | | floating_ips | 20 | | fixed_ips | -1 | | metadata_items | 128 | | injected_files | 5 | | injected_file_content_bytes | 10240 | | injected_file_path_bytes | 255 | | key_pairs | 100 | | security_groups | 10 | | security_group_rules | 20 | | server_groups | 10 | | server_group_members | 10 | +-----------------------------+-------+,96,59
openstack%2Fnova~stable%2Fstein~I141c90ac27d16f2e9c033bcd2f95ac08904a2f52,openstack/nova,stable/stein,I141c90ac27d16f2e9c033bcd2f95ac08904a2f52,doc: Fix a parameter of NotificationPublisher,MERGED,2019-07-10 13:50:38.000000000,2019-07-24 20:20:14.000000000,2019-07-24 20:20:14.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-10 13:50:38.000000000', 'files': ['doc/source/reference/notifications.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/5ba20d128cd0dee8b9b2a429a71e1bac5b0220df', 'message': ""doc: Fix a parameter of NotificationPublisher\n\nThe 'binary' parameter has been changed to the 'source'\nsince I95b5b0826190d396efe7bfc017f6081a6356da65.\nBut the notification document has not been updated yet.\n\nReplace the 'binary' parameter with the 'source' parameter.\n\nChange-Id: I141c90ac27d16f2e9c033bcd2f95ac08904a2f52\nCloses-Bug: #1836005\n(cherry picked from commit de31466fdb09dd367b23660f71b4ca06f83271a2)\n""}]",0,670064,5ba20d128cd0dee8b9b2a429a71e1bac5b0220df,8,4,1,7634,,,0,"doc: Fix a parameter of NotificationPublisher

The 'binary' parameter has been changed to the 'source'
since I95b5b0826190d396efe7bfc017f6081a6356da65.
But the notification document has not been updated yet.

Replace the 'binary' parameter with the 'source' parameter.

Change-Id: I141c90ac27d16f2e9c033bcd2f95ac08904a2f52
Closes-Bug: #1836005
(cherry picked from commit de31466fdb09dd367b23660f71b4ca06f83271a2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/670064/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/notifications.rst'],1,5ba20d128cd0dee8b9b2a429a71e1bac5b0220df,bug/1836005-stable/stein,with a ``host`` and a ``source`` string parameter or it can be generated from a,with a ``host`` and a ``binary`` string parameter or it can be generated from a,1,1
openstack%2Fnova~stable%2Fstein~Ibf430a8bc2a2af9353b8cdf875f8506377a1c9c2,openstack/nova,stable/stein,Ibf430a8bc2a2af9353b8cdf875f8506377a1c9c2,Perf: Use dicts for ProviderTree roots,MERGED,2019-07-10 20:11:35.000000000,2019-07-24 20:20:08.000000000,2019-07-24 20:20:07.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 28935}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-10 20:11:35.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/compute/provider_tree.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/754d8eb76c6fcd539fc2c32f0e2f90f6503b9f0c', 'message': ""Perf: Use dicts for ProviderTree roots\n\nProviderTree used to keep track of root providers in a list. Since we\ndon't yet have sharing providers, this would always be a list of one for\nnon-ironic deployments, or N for ironic deployments of N nodes.\n\nTo find a provider (by name or UUID), we would iterate over this list,\nan O(N) operation. For large ironic deployments, this added up fast -\nsee the referenced bug.\n\nWith this change, we store roots in two dicts: one keyed by UUID, one\nkeyed by name. To find a provider, we first check these dicts. If the\nprovider we're looking for is a root, this is now O(1). (If it's a\nchild, it would still be O(N), because we iterate over all the roots\nlooking for a descendant that matches. But ironic deployments don't have\nchild providers (yet?) (right?) so that should be n/a. For non-ironic\ndeployments it's unchanged: O(M) where M is the number of descendants,\nwhich should be very small for the time being.)\n\nTest note: Existing tests in nova.tests.unit.compute.test_provider_tree\nthoroughly cover all the affected code paths. There was one usage of\nProviderTree.roots that was untested and broken (even before this\nchange) which is now fixed.\n\nChange-Id: Ibf430a8bc2a2af9353b8cdf875f8506377a1c9c2\nCloses-Bug: #1816086\n(cherry picked from commit 8c797450cbff5194fb6791cd0a07fa060dc8af72)\n""}]",0,670179,754d8eb76c6fcd539fc2c32f0e2f90f6503b9f0c,12,8,1,14070,,,0,"Perf: Use dicts for ProviderTree roots

ProviderTree used to keep track of root providers in a list. Since we
don't yet have sharing providers, this would always be a list of one for
non-ironic deployments, or N for ironic deployments of N nodes.

To find a provider (by name or UUID), we would iterate over this list,
an O(N) operation. For large ironic deployments, this added up fast -
see the referenced bug.

With this change, we store roots in two dicts: one keyed by UUID, one
keyed by name. To find a provider, we first check these dicts. If the
provider we're looking for is a root, this is now O(1). (If it's a
child, it would still be O(N), because we iterate over all the roots
looking for a descendant that matches. But ironic deployments don't have
child providers (yet?) (right?) so that should be n/a. For non-ironic
deployments it's unchanged: O(M) where M is the number of descendants,
which should be very small for the time being.)

Test note: Existing tests in nova.tests.unit.compute.test_provider_tree
thoroughly cover all the affected code paths. There was one usage of
ProviderTree.roots that was untested and broken (even before this
change) which is now fixed.

Change-Id: Ibf430a8bc2a2af9353b8cdf875f8506377a1c9c2
Closes-Bug: #1816086
(cherry picked from commit 8c797450cbff5194fb6791cd0a07fa060dc8af72)
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/670179/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/compute/provider_tree.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,754d8eb76c6fcd539fc2c32f0e2f90f6503b9f0c,bug/1816086-stable/stein," @mock.patch.object(libvirt_driver.LOG, 'warning') def test_allocate_mdevs_with_no_idea_of_the_provider(self, mock_warning): mock_warning.assert_called_once_with( ""pGPU device name %(name)s can't be guessed from the ProviderTree "" ""roots %(roots)s"", {'name': 'oops_I_did_it_again', 'roots': 'cn'})", def test_allocate_mdevs_with_no_idea_of_the_provider(self):,34,10
openstack%2Fnova~stable%2Fstein~I7a30efa8ceb21e02e71d8c15bf979bb66470ef91,openstack/nova,stable/stein,I7a30efa8ceb21e02e71d8c15bf979bb66470ef91,Replace joinedload_all with joinedload,MERGED,2019-07-18 17:47:00.000000000,2019-07-24 20:20:01.000000000,2019-07-24 20:20:01.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 19619}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-18 17:47:00.000000000', 'files': ['nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b12d16683637a0fd3ded1c02c6c4d69d7ca00aaa', 'message': ""Replace joinedload_all with joinedload\n\nReplace sqlalchemy.orm.joinedload_all with\nsqlalchemy.orm.joinedload called within a\nnew method _joinedload_all that makes multiple\ncalls to orm.joinedload.\n\n'joinedload_all' has been deprecated since\nsqlalchemy version 0.9.0, and now makes a\nlot of warning noises.\n\nChange-Id: I7a30efa8ceb21e02e71d8c15bf979bb66470ef91\nCloses-Bug: #1832164\n(cherry picked from commit 658e35cad4598113dd94fb4c685a06c7439b5a36)\n""}]",0,671532,b12d16683637a0fd3ded1c02c6c4d69d7ca00aaa,14,9,1,11604,,,0,"Replace joinedload_all with joinedload

Replace sqlalchemy.orm.joinedload_all with
sqlalchemy.orm.joinedload called within a
new method _joinedload_all that makes multiple
calls to orm.joinedload.

'joinedload_all' has been deprecated since
sqlalchemy version 0.9.0, and now makes a
lot of warning noises.

Change-Id: I7a30efa8ceb21e02e71d8c15bf979bb66470ef91
Closes-Bug: #1832164
(cherry picked from commit 658e35cad4598113dd94fb4c685a06c7439b5a36)
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/671532/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/sqlalchemy/api.py'],1,b12d16683637a0fd3ded1c02c6c4d69d7ca00aaa,bug/1832164,def _joinedload_all(column): elements = column.split('.') joined = joinedload(elements.pop(0)) for element in elements: joined = joined.joinedload(element) return joined options(_joinedload_all('fixed_ip.instance')).\ options(_joinedload_all('fixed_ip.instance')).\ options(_joinedload_all('fixed_ip.instance')).\ result = result.options(_joinedload_all(column)) options(_joinedload_all('security_groups.rules')).\ query = query.options(_joinedload_all('rules.grantee_group')) query = query.options(_joinedload_all(column)) query = query.options(_joinedload_all(column)) query = query.options(_joinedload_all(column)) query = query.options(_joinedload_all(column)) options(_joinedload_all('instance.system_metadata')).\,from sqlalchemy.orm import joinedload_all options(joinedload_all('fixed_ip.instance')).\ options(joinedload_all('fixed_ip.instance')).\ options(joinedload_all('fixed_ip.instance')).\ result = result.options(joinedload_all(column)) options(joinedload_all('security_groups.rules')).\ query = query.options(joinedload_all('rules.grantee_group')) query = query.options(joinedload_all(column)) query = query.options(joinedload_all(column)) query = query.options(joinedload_all(column)) query = query.options(joinedload_all(column)) options(joinedload_all('instance.system_metadata')).\,20,12
openstack%2Fglance_store~master~I1a8056a316fcfae8b4b32f74fb62f90eaceb9467,openstack/glance_store,master,I1a8056a316fcfae8b4b32f74fb62f90eaceb9467,Change location metadata key 'backend' to 'store',MERGED,2019-06-25 05:12:44.000000000,2019-07-24 20:09:01.000000000,2019-07-24 20:09:01.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 05:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/f028fb290c3b11145770b8af68de51979eac09ec', 'message': ""Change location metadata key 'backend' to 'store'\n\nAs a part of vocabulary correction, changed the location\nmetadata key name from 'backend' to 'store'. Modified\ncorresponding tests as well.\n\nChange-Id: I1a8056a316fcfae8b4b32f74fb62f90eaceb9467\nbp:multi-store-vocabulary-correction\n""}, {'number': 2, 'created': '2019-07-19 16:43:33.000000000', 'files': ['glance_store/tests/unit/test_multistore_sheepdog.py', 'glance_store/_drivers/vmware_datastore.py', 'glance_store/tests/unit/test_multistore_vmware.py', 'glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_multistore_filesystem.py', 'glance_store/_drivers/swift/store.py', 'glance_store/tests/unit/test_multistore_cinder.py', 'glance_store/tests/unit/test_swift_store_multibackend.py', 'glance_store/_drivers/sheepdog.py', 'glance_store/tests/unit/test_multistore_rbd.py', 'glance_store/_drivers/cinder.py', 'glance_store/_drivers/filesystem.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/59daa4c31e160a130b77dfc252bede8f9715d05f', 'message': ""Change location metadata key 'backend' to 'store'\n\nAs a part of vocabulary correction, changed the location\nmetadata key name from 'backend' to 'store'. Modified\ncorresponding tests as well.\n\nChange-Id: I1a8056a316fcfae8b4b32f74fb62f90eaceb9467\nbp:multi-store-vocabulary-correction\n""}]",0,667267,59daa4c31e160a130b77dfc252bede8f9715d05f,21,5,2,9303,,,0,"Change location metadata key 'backend' to 'store'

As a part of vocabulary correction, changed the location
metadata key name from 'backend' to 'store'. Modified
corresponding tests as well.

Change-Id: I1a8056a316fcfae8b4b32f74fb62f90eaceb9467
bp:multi-store-vocabulary-correction
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/67/667267/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/_drivers/vmware_datastore.py', 'glance_store/tests/unit/test_multistore_vmware.py', 'glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_multistore_filesystem.py', 'glance_store/tests/unit/test_multistore_rbd.py', 'glance_store/_drivers/cinder.py', 'glance_store/_drivers/swift/store.py', 'glance_store/tests/unit/test_multistore_cinder.py', 'glance_store/tests/unit/test_swift_store_multibackend.py', 'glance_store/_drivers/filesystem.py']",10,f028fb290c3b11145770b8af68de51979eac09ec,bp/multi-store-vocabulary-correction," metadata['store'] = u""%s"" % self.backend_group"," metadata['backend'] = u""%s"" % self.backend_group",38,38
openstack%2Frequirements~master~I0513e715c8b6330806d2af3fa2d388b30eba75b7,openstack/requirements,master,I0513e715c8b6330806d2af3fa2d388b30eba75b7,update constraint for openstack-doc-tools to new release 1.9.0,ABANDONED,2019-07-24 09:31:05.000000000,2019-07-24 19:37:41.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 09:31:05.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8c5c6a974225ea9af1b9f278f51dfce9e30ef8ef', 'message': 'update constraint for openstack-doc-tools to new release 1.9.0\n\nChange-Id: I0513e715c8b6330806d2af3fa2d388b30eba75b7\nmeta:version: 1.9.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Andreas Jaeger <aj@suse.com>\nmeta:release:Commit: Andreas Jaeger <aj@suse.com>\nmeta:release:Change-Id: I8f3348429c9874bd8823344d1aae230f5e8878e8\nmeta:release:Code-Review+1: Stephen Finucane <stephenfin@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,672480,8c5c6a974225ea9af1b9f278f51dfce9e30ef8ef,6,2,1,11131,,,0,"update constraint for openstack-doc-tools to new release 1.9.0

Change-Id: I0513e715c8b6330806d2af3fa2d388b30eba75b7
meta:version: 1.9.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Andreas Jaeger <aj@suse.com>
meta:release:Commit: Andreas Jaeger <aj@suse.com>
meta:release:Change-Id: I8f3348429c9874bd8823344d1aae230f5e8878e8
meta:release:Code-Review+1: Stephen Finucane <stephenfin@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/80/672480/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8c5c6a974225ea9af1b9f278f51dfce9e30ef8ef,new-release,openstack-doc-tools===1.9.0,openstack-doc-tools===1.8.0,1,1
openstack%2Fnova~master~I8e5a122cc547222249973cf595d90c2d8d5658d4,openstack/nova,master,I8e5a122cc547222249973cf595d90c2d8d5658d4,Remove fake_libvirt_utils users in functional testing.,MERGED,2019-03-20 09:02:54.000000000,2019-07-24 19:34:22.000000000,2019-07-24 16:25:13.000000000,"[{'_account_id': 782}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-20 09:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89e1d0991af0e3c2cd16062b34c9f82c91eea0ad', 'message': 'Remove fake_libvirt_utils users in functional testing.\n\nThis is the final step before we can remove the fake utils entirely.\n\nChange-Id: I8e5a122cc547222249973cf595d90c2d8d5658d4\n'}, {'number': 2, 'created': '2019-03-21 09:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f41357656e6eda93f16f18b237ef75f46767bf7a', 'message': 'Remove fake_libvirt_utils users in functional testing.\n\nThis is the final step before we can remove the fake utils entirely.\n\nChange-Id: I8e5a122cc547222249973cf595d90c2d8d5658d4\n'}, {'number': 3, 'created': '2019-04-02 08:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7663668789b2cec8ad6de7eb43ca99b7a65f3c38', 'message': 'Remove fake_libvirt_utils users in functional testing.\n\nThis is the final step before we can remove the fake utils entirely.\n\nChange-Id: I8e5a122cc547222249973cf595d90c2d8d5658d4\n'}, {'number': 4, 'created': '2019-04-05 09:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f2aeb829446e13696e4843508376817b3091c40', 'message': 'Remove fake_libvirt_utils users in functional testing.\n\nThis is the final step before we can remove the fake utils entirely.\n\nChange-Id: I8e5a122cc547222249973cf595d90c2d8d5658d4\n'}, {'number': 5, 'created': '2019-04-12 07:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ca6ca9854586f97b6958176847d32fda7c1054a', 'message': 'Remove fake_libvirt_utils users in functional testing.\n\nThis is the final step before we can remove the fake utils entirely.\n\nChange-Id: I8e5a122cc547222249973cf595d90c2d8d5658d4\n'}, {'number': 6, 'created': '2019-04-22 22:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ac175b2d5a5ba33832d22164c5721a469b2352f', 'message': 'Remove fake_libvirt_utils users in functional testing.\n\nThis is the final step before we can remove the fake utils entirely.\n\nChange-Id: I8e5a122cc547222249973cf595d90c2d8d5658d4\n'}, {'number': 7, 'created': '2019-05-13 20:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fee9a70521e3b8c1dc685767aee11aab74355a1e', 'message': 'Remove fake_libvirt_utils users in functional testing.\n\nThis is the final step before we can remove the fake utils entirely.\n\nChange-Id: I8e5a122cc547222249973cf595d90c2d8d5658d4\n'}, {'number': 8, 'created': '2019-05-31 17:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dbd130ec3a8a7b93c02f3611d75f7205994e2ff7', 'message': 'Remove fake_libvirt_utils users in functional testing.\n\nThis is the final step before we can remove the fake utils entirely.\n\nChange-Id: I8e5a122cc547222249973cf595d90c2d8d5658d4\n'}, {'number': 9, 'created': '2019-05-31 21:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aebc4e742108d4ea0239c56ae87bc7c178ecd1ae', 'message': 'Remove fake_libvirt_utils users in functional testing.\n\nThis is the final step before we can remove the fake utils entirely.\n\nChange-Id: I8e5a122cc547222249973cf595d90c2d8d5658d4\n'}, {'number': 10, 'created': '2019-06-01 00:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57d78d0accfda0780670decdf0c75c09e9662d3d', 'message': 'Remove fake_libvirt_utils users in functional testing.\n\nThis is the final step before we can remove the fake utils entirely.\n\nChange-Id: I8e5a122cc547222249973cf595d90c2d8d5658d4\n'}, {'number': 11, 'created': '2019-06-03 22:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7c0693297710220661ea19d5ad2d534ac92d74d', 'message': 'Remove fake_libvirt_utils users in functional testing.\n\nThis is the final step before we can remove the fake utils entirely.\n\nChange-Id: I8e5a122cc547222249973cf595d90c2d8d5658d4\n'}, {'number': 12, 'created': '2019-07-23 22:46:36.000000000', 'files': ['nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/functional/libvirt/test_rt_servers.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/libvirt/test_reshape.py', 'nova/tests/functional/regressions/test_bug_1595962.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b96d1221db732bb4787154d568085dfa3ea6346c', 'message': 'Remove fake_libvirt_utils users in functional testing.\n\nThis is the final step before we can remove the fake utils entirely.\n\nChange-Id: I8e5a122cc547222249973cf595d90c2d8d5658d4\n'}]",3,644793,b96d1221db732bb4787154d568085dfa3ea6346c,94,11,12,2271,,,0,"Remove fake_libvirt_utils users in functional testing.

This is the final step before we can remove the fake utils entirely.

Change-Id: I8e5a122cc547222249973cf595d90c2d8d5658d4
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/644793/12 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/functional/libvirt/test_rt_servers.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/libvirt/test_reshape.py', 'nova/tests/functional/regressions/test_bug_1595962.py']",6,89e1d0991af0e3c2cd16062b34c9f82c91eea0ad,fake-cleanup-patch10,"import io @mock.patch('nova.virt.libvirt.LibvirtDriver._get_local_gb_info', return_value={'total': 128, 'used': 44, 'free': 84}) @mock.patch('nova.virt.libvirt.driver.libvirt_utils.is_valid_hostname', return_value=True) @mock.patch('nova.virt.libvirt.driver.libvirt_utils.file_open', side_effect=[io.BytesIO(b''), io.BytesIO(b'')]) def test_serial_console_live_migrate(self, mock_file_open, mock_valid_hostname, mock_get_fs_info, mock_create_image,","from nova.tests.unit.virt.libvirt import fake_libvirt_utils 'nova.virt.libvirt.driver.libvirt_utils', fake_libvirt_utils)) self.useFixture(fixtures.MonkeyPatch( def test_serial_console_live_migrate(self, mock_create_image,",220,29
openstack%2Fnova~stable%2Frocky~Ia597594e0469c0e83d7ad22b0678390aaebaffe7,openstack/nova,stable/rocky,Ia597594e0469c0e83d7ad22b0678390aaebaffe7,Fix double word hacking test,MERGED,2019-06-17 23:18:27.000000000,2019-07-24 19:09:57.000000000,2019-07-24 19:09:57.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-17 23:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9955b08fe5f103f445ba814d3b012f66823dc095', 'message': 'Fix double word hacking test\n\nAt present, \'pycodestyle\' feeds the following string into the \'tokenizer\'\nlibrary:\n\n    [""\'This is the the best comment\'""]\n\n(note the added quotes because this isn\'t valid Python otherwise)\n\nOn previous versions of Python, this tokenizer would parse the string like so:\n\n  (3, ""\'This is the the best comment\'"", (1, 0), (1, 30), ""\'This is the the best comment\'"")\n  (0, \'\', (2, 0), (2, 0), \'\')\n\nwhere (3 = \'STRING\', 0 = \'ENDMARKER\')\n\nHowever, with the fix [1] backported to recent versions of Python, this now\nresolves to:\n\n  (3, ""\'This is the the best comment\'"", (1, 0), (1, 30), ""\'This is the the best comment\'"")\n  (4, \'\', (1, 30), (1, 31), \'\')\n  (0, \'\', (2, 0), (2, 0), \'\')\n\nwhere (3 = \'STRING\', 4 = \'NEWLINE\', 0 = \'ENDMARKER\')\n\nTypically, \'pycodestyle\' will run physical line checks on each line as it\nparses the token:\n\n  https://github.com/PyCQA/pycodestyle/blob/2.5.0/pycodestyle.py#L2036\n\nFor the former case above, the line doesn\'t include a newline which\nmeans we never parse a \'NEWLINE\' token with a logical line (the fifth\nelement of the token tuple) corresponding to our full line. This means\nwe don\'t here but that wasn\'t an issue previously since there\'s a\nfallthrough case that handled tokens remaining at the end of the parse:\n\n  https://github.com/PyCQA/pycodestyle/blob/2.5.0/pycodestyle.py#L2114-L2116\n\nUnfortunately, because we now have an additional newline character to\nparse, one that\'s on a separate line to our test string no less, we run\nlogical checks on it:\n\n  https://github.com/PyCQA/pycodestyle/blob/2.5.0/pycodestyle.py#L2105-L2107\n\nThis is an issue since the logical check wipes stored tokens meaning\nwe\'ve nothing to check when we get to the fallthrough case:\n\n  https://github.com/PyCQA/pycodestyle/blob/2.5.0/pycodestyle.py#L2012\n\nThis fixes changes things so that a newline is included (and also adds\nquotes so it\'s valid Python, but that\'s mostly unrelated). This means we\nend up with the following instead:\n\n  [""\'This is the the best comment\'\\n""]\n\nOn both Python without the bugfix and with it, this parses as:\n\n  (3, ""\'This is the the best comment\'"", (1, 0), (1, 30), ""\'This is the the best comment\'\\n"")\n  (4, \'\\n\', (1, 30), (1, 31), ""\'This is the the best comment\'\\n"")\n  (0, \'\', (2, 0), (2, 0), \'\')\n\nwhere (3 = \'STRING\', 4 = \'NEWLINE\', 0 = \'ENDMARKER\')\n\nWhich triggers things in \'pycodestyle\' correctly.\n\n  https://github.com/PyCQA/pycodestyle/blob/2.5.0/pycodestyle.py#L2044-L2046\n\nThis isn\'t _really_ a fix since there\'s clearly still a bug in either\n\'pycodestyle\' or Python (I think the latter, since it\'s adding a newline\nto a file that explicitly doesn\'t have one), but the chances of us\nhitting this bug in practice are rather low - you\'d need to make a\nmistake on the very last line of a file without a newline at the end\nwhich is something Vim, for example, won\'t even let you do without\nsetting special flags - and therefore it can be reasonably ignored.\n\nConflicts:\n\tnova/tests/unit/test_hacking.py\n\nNOTE(stephenfin): Conflicts are because we don\'t have change\nI35c654bd39f343417e0a1124263ff31dcd0b05c9 (""Bump to hacking 1.1.0"") or\nchange I8826c3fb89690805baae6b9b7b48985abb8d62d3 (""Skip\ntest_check_doubled_words hacking check UT"") on this branch.\n\n[1] https://bugs.python.org/issue33899\n\nChange-Id: Ia597594e0469c0e83d7ad22b0678390aaebaffe7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1804062\n(cherry picked from f545a25cc443c41dcd9bdd028064c28b53f56037)\n'}, {'number': 2, 'created': '2019-06-24 09:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/825c64738bf0164b5206ef9a285fc6599f32da96', 'message': 'Fix double word hacking test\n\nAt present, \'pycodestyle\' feeds the following string into the \'tokenizer\'\nlibrary:\n\n    [""\'This is the the best comment\'""]\n\n(note the added quotes because this isn\'t valid Python otherwise)\n\nOn previous versions of Python, this tokenizer would parse the string like so:\n\n  (3, ""\'This is the the best comment\'"", (1, 0), (1, 30), ""\'This is the the best comment\'"")\n  (0, \'\', (2, 0), (2, 0), \'\')\n\nwhere (3 = \'STRING\', 0 = \'ENDMARKER\')\n\nHowever, with the fix [1] backported to recent versions of Python, this now\nresolves to:\n\n  (3, ""\'This is the the best comment\'"", (1, 0), (1, 30), ""\'This is the the best comment\'"")\n  (4, \'\', (1, 30), (1, 31), \'\')\n  (0, \'\', (2, 0), (2, 0), \'\')\n\nwhere (3 = \'STRING\', 4 = \'NEWLINE\', 0 = \'ENDMARKER\')\n\nTypically, \'pycodestyle\' will run physical line checks on each line as it\nparses the token:\n\n  https://github.com/PyCQA/pycodestyle/blob/2.5.0/pycodestyle.py#L2036\n\nFor the former case above, the line doesn\'t include a newline which\nmeans we never parse a \'NEWLINE\' token with a logical line (the fifth\nelement of the token tuple) corresponding to our full line. This means\nwe don\'t here but that wasn\'t an issue previously since there\'s a\nfallthrough case that handled tokens remaining at the end of the parse:\n\n  https://github.com/PyCQA/pycodestyle/blob/2.5.0/pycodestyle.py#L2114-L2116\n\nUnfortunately, because we now have an additional newline character to\nparse, one that\'s on a separate line to our test string no less, we run\nlogical checks on it:\n\n  https://github.com/PyCQA/pycodestyle/blob/2.5.0/pycodestyle.py#L2105-L2107\n\nThis is an issue since the logical check wipes stored tokens meaning\nwe\'ve nothing to check when we get to the fallthrough case:\n\n  https://github.com/PyCQA/pycodestyle/blob/2.5.0/pycodestyle.py#L2012\n\nThis fixes changes things so that a newline is included (and also adds\nquotes so it\'s valid Python, but that\'s mostly unrelated). This means we\nend up with the following instead:\n\n  [""\'This is the the best comment\'\\n""]\n\nOn both Python without the bugfix and with it, this parses as:\n\n  (3, ""\'This is the the best comment\'"", (1, 0), (1, 30), ""\'This is the the best comment\'\\n"")\n  (4, \'\\n\', (1, 30), (1, 31), ""\'This is the the best comment\'\\n"")\n  (0, \'\', (2, 0), (2, 0), \'\')\n\nwhere (3 = \'STRING\', 4 = \'NEWLINE\', 0 = \'ENDMARKER\')\n\nWhich triggers things in \'pycodestyle\' correctly.\n\n  https://github.com/PyCQA/pycodestyle/blob/2.5.0/pycodestyle.py#L2044-L2046\n\nThis isn\'t _really_ a fix since there\'s clearly still a bug in either\n\'pycodestyle\' or Python (I think the latter, since it\'s adding a newline\nto a file that explicitly doesn\'t have one), but the chances of us\nhitting this bug in practice are rather low - you\'d need to make a\nmistake on the very last line of a file without a newline at the end\nwhich is something Vim, for example, won\'t even let you do without\nsetting special flags - and therefore it can be reasonably ignored.\n\nConflicts:\n\tnova/tests/unit/test_hacking.py\n\nNOTE(stephenfin): Conflicts are because we don\'t have change\nI35c654bd39f343417e0a1124263ff31dcd0b05c9 (""Bump to hacking 1.1.0"") or\nchange I8826c3fb89690805baae6b9b7b48985abb8d62d3 (""Skip\ntest_check_doubled_words hacking check UT"") on this branch.\n\n[1] https://bugs.python.org/issue33899\n\nChange-Id: Ia597594e0469c0e83d7ad22b0678390aaebaffe7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1804062\n(cherry picked from f545a25cc443c41dcd9bdd028064c28b53f56037)\n(cherry picked from commit 0cb6106b83c33bded9e6cdec7737964c36be8de5)\n'}, {'number': 3, 'created': '2019-07-01 16:17:28.000000000', 'files': ['nova/tests/unit/test_hacking.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4858074c89838eadeb9eaf9f39917e9fb90acd93', 'message': 'Fix double word hacking test\n\nAt present, \'pycodestyle\' feeds the following string into the \'tokenizer\'\nlibrary:\n\n    [""\'This is the the best comment\'""]\n\n(note the added quotes because this isn\'t valid Python otherwise)\n\nOn previous versions of Python, this tokenizer would parse the string like so:\n\n  (3, ""\'This is the the best comment\'"", (1, 0), (1, 30), ""\'This is the the best comment\'"")\n  (0, \'\', (2, 0), (2, 0), \'\')\n\nwhere (3 = \'STRING\', 0 = \'ENDMARKER\')\n\nHowever, with the fix [1] backported to recent versions of Python, this now\nresolves to:\n\n  (3, ""\'This is the the best comment\'"", (1, 0), (1, 30), ""\'This is the the best comment\'"")\n  (4, \'\', (1, 30), (1, 31), \'\')\n  (0, \'\', (2, 0), (2, 0), \'\')\n\nwhere (3 = \'STRING\', 4 = \'NEWLINE\', 0 = \'ENDMARKER\')\n\nTypically, \'pycodestyle\' will run physical line checks on each line as it\nparses the token:\n\n  https://github.com/PyCQA/pycodestyle/blob/2.5.0/pycodestyle.py#L2036\n\nFor the former case above, the line doesn\'t include a newline which\nmeans we never parse a \'NEWLINE\' token with a logical line (the fifth\nelement of the token tuple) corresponding to our full line. This means\nwe don\'t here but that wasn\'t an issue previously since there\'s a\nfallthrough case that handled tokens remaining at the end of the parse:\n\n  https://github.com/PyCQA/pycodestyle/blob/2.5.0/pycodestyle.py#L2114-L2116\n\nUnfortunately, because we now have an additional newline character to\nparse, one that\'s on a separate line to our test string no less, we run\nlogical checks on it:\n\n  https://github.com/PyCQA/pycodestyle/blob/2.5.0/pycodestyle.py#L2105-L2107\n\nThis is an issue since the logical check wipes stored tokens meaning\nwe\'ve nothing to check when we get to the fallthrough case:\n\n  https://github.com/PyCQA/pycodestyle/blob/2.5.0/pycodestyle.py#L2012\n\nThis fixes changes things so that a newline is included (and also adds\nquotes so it\'s valid Python, but that\'s mostly unrelated). This means we\nend up with the following instead:\n\n  [""\'This is the the best comment\'\\n""]\n\nOn both Python without the bugfix and with it, this parses as:\n\n  (3, ""\'This is the the best comment\'"", (1, 0), (1, 30), ""\'This is the the best comment\'\\n"")\n  (4, \'\\n\', (1, 30), (1, 31), ""\'This is the the best comment\'\\n"")\n  (0, \'\', (2, 0), (2, 0), \'\')\n\nwhere (3 = \'STRING\', 4 = \'NEWLINE\', 0 = \'ENDMARKER\')\n\nWhich triggers things in \'pycodestyle\' correctly.\n\n  https://github.com/PyCQA/pycodestyle/blob/2.5.0/pycodestyle.py#L2044-L2046\n\nThis isn\'t _really_ a fix since there\'s clearly still a bug in either\n\'pycodestyle\' or Python (I think the latter, since it\'s adding a newline\nto a file that explicitly doesn\'t have one), but the chances of us\nhitting this bug in practice are rather low - you\'d need to make a\nmistake on the very last line of a file without a newline at the end\nwhich is something Vim, for example, won\'t even let you do without\nsetting special flags - and therefore it can be reasonably ignored.\n\n[1] https://bugs.python.org/issue33899\n\nChange-Id: Ia597594e0469c0e83d7ad22b0678390aaebaffe7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1804062\n(cherry picked from f545a25cc443c41dcd9bdd028064c28b53f56037)\n(cherry picked from commit 0cb6106b83c33bded9e6cdec7737964c36be8de5)\n'}]",4,665788,4858074c89838eadeb9eaf9f39917e9fb90acd93,19,7,3,3031,,,0,"Fix double word hacking test

At present, 'pycodestyle' feeds the following string into the 'tokenizer'
library:

    [""'This is the the best comment'""]

(note the added quotes because this isn't valid Python otherwise)

On previous versions of Python, this tokenizer would parse the string like so:

  (3, ""'This is the the best comment'"", (1, 0), (1, 30), ""'This is the the best comment'"")
  (0, '', (2, 0), (2, 0), '')

where (3 = 'STRING', 0 = 'ENDMARKER')

However, with the fix [1] backported to recent versions of Python, this now
resolves to:

  (3, ""'This is the the best comment'"", (1, 0), (1, 30), ""'This is the the best comment'"")
  (4, '', (1, 30), (1, 31), '')
  (0, '', (2, 0), (2, 0), '')

where (3 = 'STRING', 4 = 'NEWLINE', 0 = 'ENDMARKER')

Typically, 'pycodestyle' will run physical line checks on each line as it
parses the token:

  https://github.com/PyCQA/pycodestyle/blob/2.5.0/pycodestyle.py#L2036

For the former case above, the line doesn't include a newline which
means we never parse a 'NEWLINE' token with a logical line (the fifth
element of the token tuple) corresponding to our full line. This means
we don't here but that wasn't an issue previously since there's a
fallthrough case that handled tokens remaining at the end of the parse:

  https://github.com/PyCQA/pycodestyle/blob/2.5.0/pycodestyle.py#L2114-L2116

Unfortunately, because we now have an additional newline character to
parse, one that's on a separate line to our test string no less, we run
logical checks on it:

  https://github.com/PyCQA/pycodestyle/blob/2.5.0/pycodestyle.py#L2105-L2107

This is an issue since the logical check wipes stored tokens meaning
we've nothing to check when we get to the fallthrough case:

  https://github.com/PyCQA/pycodestyle/blob/2.5.0/pycodestyle.py#L2012

This fixes changes things so that a newline is included (and also adds
quotes so it's valid Python, but that's mostly unrelated). This means we
end up with the following instead:

  [""'This is the the best comment'\n""]

On both Python without the bugfix and with it, this parses as:

  (3, ""'This is the the best comment'"", (1, 0), (1, 30), ""'This is the the best comment'\n"")
  (4, '\n', (1, 30), (1, 31), ""'This is the the best comment'\n"")
  (0, '', (2, 0), (2, 0), '')

where (3 = 'STRING', 4 = 'NEWLINE', 0 = 'ENDMARKER')

Which triggers things in 'pycodestyle' correctly.

  https://github.com/PyCQA/pycodestyle/blob/2.5.0/pycodestyle.py#L2044-L2046

This isn't _really_ a fix since there's clearly still a bug in either
'pycodestyle' or Python (I think the latter, since it's adding a newline
to a file that explicitly doesn't have one), but the chances of us
hitting this bug in practice are rather low - you'd need to make a
mistake on the very last line of a file without a newline at the end
which is something Vim, for example, won't even let you do without
setting special flags - and therefore it can be reasonably ignored.

[1] https://bugs.python.org/issue33899

Change-Id: Ia597594e0469c0e83d7ad22b0678390aaebaffe7
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1804062
(cherry picked from f545a25cc443c41dcd9bdd028064c28b53f56037)
(cherry picked from commit 0cb6106b83c33bded9e6cdec7737964c36be8de5)
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/665788/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/test_hacking.py'],1,9955b08fe5f103f445ba814d3b012f66823dc095,bug/1804062," lines = textwrap.dedent(code).lstrip().splitlines(True) # Explicit addition of line-ending here and below since this isn't a # block comment and without it we trigger #1804062. Artificial break is # necessary to stop flake8 detecting the test code = ""'This is the"" + "" the best comment'\n"" code = ""'This is the then best comment'\n"""," lines = textwrap.dedent(code).strip().splitlines(True) # Artificial break to stop pep8 detecting the test ! code = ""This is the"" + "" the best comment"" code = ""This is the then best comment""",6,4
openstack%2Fkeystone~master~Iff604f6d77b9b0b91e63d4f4b1572dbb18f43947,openstack/keystone,master,Iff604f6d77b9b0b91e63d4f4b1572dbb18f43947,Deprecate identity:revocation_list policy for removal,MERGED,2019-07-23 17:22:21.000000000,2019-07-24 19:09:53.000000000,2019-07-24 19:09:53.000000000,"[{'_account_id': 1916}, {'_account_id': 2903}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 17:22:21.000000000', 'files': ['keystone/common/policies/token_revocation.py', 'releasenotes/notes/bug-1818845-05f8c3af5ea9abc7.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0bf2d68520f57a44510f19aed50a26d217fe52dc', 'message': ""Deprecate identity:revocation_list policy for removal\n\nThis policy doesn't actually protect anything. We can safely deprecate\nit for removal and simplify policy files.\n\nChange-Id: Iff604f6d77b9b0b91e63d4f4b1572dbb18f43947\nCloses-Bug: 1818845\n""}]",0,672334,0bf2d68520f57a44510f19aed50a26d217fe52dc,7,3,1,5046,,,0,"Deprecate identity:revocation_list policy for removal

This policy doesn't actually protect anything. We can safely deprecate
it for removal and simplify policy files.

Change-Id: Iff604f6d77b9b0b91e63d4f4b1572dbb18f43947
Closes-Bug: 1818845
",git fetch https://review.opendev.org/openstack/keystone refs/changes/34/672334/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/policies/token_revocation.py', 'releasenotes/notes/bug-1818845-05f8c3af5ea9abc7.yaml']",2,0bf2d68520f57a44510f19aed50a26d217fe52dc,,--- deprecations: - | [`bug 1818845 <https://bugs.launchpad.net/keystone/+bug/1818845>`_] The ``identity:revocation_list`` policy has been deprecated for removal. This policy didn't actually protect the revocation list API since that API is unenforced and unprotected. It only returns an ``HTTP 410`` or ``HTTP 403`` depending on how keystone is configured. This policy can be safely removed. ,,22,1
openstack%2Fnova~master~I0498599fd636aa9e30df932f0d893db5efa23260,openstack/nova,master,I0498599fd636aa9e30df932f0d893db5efa23260,Remove nova-consoleauth,MERGED,2019-04-16 10:32:23.000000000,2019-07-24 19:08:09.000000000,2019-07-24 19:08:09.000000000,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29745}]","[{'number': 1, 'created': '2019-04-16 10:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dde038b9af3796820fc26848aa35be27341dfc64', 'message': ""Remove nova-consoleauth\n\nObliterate all references to the aforementioned service. This mostly\nconsists of removing the core service and any references to the now\nremoved '[workarounds] enable_consoleauth' configuration option.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: I0498599fd636aa9e30df932f0d893db5efa23260\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-05-20 15:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29ea0b38504ac8bab132cef579ac63d2d5d6118d', 'message': ""Remove nova-consoleauth\n\nObliterate all references to the aforementioned service. This mostly\nconsists of removing the core service and any references to the now\nremoved '[workarounds] enable_consoleauth' configuration option.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: I0498599fd636aa9e30df932f0d893db5efa23260\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-05-21 10:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5961c8000b032646af76ab493976c6bdc5b10b3', 'message': ""Remove nova-consoleauth\n\nObliterate all references to the aforementioned service. This mostly\nconsists of removing the core service and any references to the now\nremoved '[workarounds] enable_consoleauth' configuration option.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: I0498599fd636aa9e30df932f0d893db5efa23260\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: Icfc175c49a1fc650d1c9ad06b77209a70c6386db\n""}, {'number': 4, 'created': '2019-06-13 15:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37da55dc59c239304b6d1070296be2c8b3f3b987', 'message': ""Remove nova-consoleauth\n\nObliterate all references to the aforementioned service. This mostly\nconsists of removing the core service and any references to the now\nremoved '[workarounds] enable_consoleauth' configuration option.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: I0498599fd636aa9e30df932f0d893db5efa23260\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: Icfc175c49a1fc650d1c9ad06b77209a70c6386db\n""}, {'number': 5, 'created': '2019-06-14 15:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3afd12c73635d988bc5c5fbfbe81a362408c30f', 'message': ""Remove nova-consoleauth\n\nObliterate all references to the aforementioned service. This mostly\nconsists of removing the core service and any references to the now\nremoved '[workarounds] enable_consoleauth' configuration option.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: I0498599fd636aa9e30df932f0d893db5efa23260\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: Icfc175c49a1fc650d1c9ad06b77209a70c6386db\n""}, {'number': 6, 'created': '2019-06-14 16:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4946c29335391ad4bf23eccea93b5950ed5a361', 'message': ""Remove nova-consoleauth\n\nObliterate all references to the aforementioned service. This mostly\nconsists of removing the core service and any references to the now\nremoved '[workarounds] enable_consoleauth' configuration option.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: I0498599fd636aa9e30df932f0d893db5efa23260\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: Icfc175c49a1fc650d1c9ad06b77209a70c6386db\n""}, {'number': 7, 'created': '2019-06-17 14:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/447b5e346d3900b89c5437bb2dc045ae75f66e64', 'message': ""Remove nova-consoleauth\n\nObliterate all references to the aforementioned service. This mostly\nconsists of removing the core service and any references to the now\nremoved '[workarounds] enable_consoleauth' configuration option.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: I0498599fd636aa9e30df932f0d893db5efa23260\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: Icfc175c49a1fc650d1c9ad06b77209a70c6386db\n""}, {'number': 8, 'created': '2019-06-19 09:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a1e3ee196615e3aa8c98bb46c0bb5d0ff213a07', 'message': ""Remove nova-consoleauth\n\nObliterate all references to the aforementioned service. This mostly\nconsists of removing the core service and any references to the now\nremoved '[workarounds] enable_consoleauth' configuration option.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: I0498599fd636aa9e30df932f0d893db5efa23260\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: Icfc175c49a1fc650d1c9ad06b77209a70c6386db\n""}, {'number': 9, 'created': '2019-06-25 10:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc83e8e62fd184a406eed827fe805a6a2caaaf0e', 'message': ""Remove nova-consoleauth\n\nObliterate all references to the aforementioned service. This mostly\nconsists of removing the core service and any references to the now\nremoved '[workarounds] enable_consoleauth' configuration option.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: I0498599fd636aa9e30df932f0d893db5efa23260\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: Icfc175c49a1fc650d1c9ad06b77209a70c6386db\n""}, {'number': 10, 'created': '2019-07-05 15:04:52.000000000', 'files': ['nova/conf/compute.py', 'nova/tests/unit/api/openstack/compute/test_console_auth_tokens.py', 'nova/cmd/consoleauth.py', 'nova/conf/upgrade_levels.py', 'releasenotes/notes/remove-nova-consoleauth-b7c61e50649206ea.yaml', 'nova/console/websocketproxy.py', 'nova/tests/unit/console/test_websocketproxy.py', 'nova/api/openstack/compute/hosts.py', 'nova/compute/api.py', 'nova/conf/workarounds.py', 'nova/consoleauth/rpcapi.py', 'nova/consoleauth/manager.py', 'nova/tests/unit/compute/test_compute.py', 'nova/consoleauth/__init__.py', 'nova/objects/fields.py', 'nova/tests/unit/test_profiler.py', 'nova/conf/consoleauth.py', 'nova/tests/unit/consoleauth/test_rpcapi.py', 'nova/service.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/consoleauth/__init__.py', 'nova/tests/unit/consoleauth/test_consoleauth.py', 'nova/api/openstack/compute/console_auth_tokens.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/nova/commit/2398b78df5c30ccb71ea22821a40ad2a793a6a1a', 'message': ""Remove nova-consoleauth\n\nObliterate all references to the aforementioned service. This mostly\nconsists of removing the core service and any references to the now\nremoved '[workarounds] enable_consoleauth' configuration option.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: I0498599fd636aa9e30df932f0d893db5efa23260\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: Icfc175c49a1fc650d1c9ad06b77209a70c6386db\n""}]",1,652969,2398b78df5c30ccb71ea22821a40ad2a793a6a1a,126,17,10,15334,,,0,"Remove nova-consoleauth

Obliterate all references to the aforementioned service. This mostly
consists of removing the core service and any references to the now
removed '[workarounds] enable_consoleauth' configuration option.

Part of blueprint remove-consoleauth

Change-Id: I0498599fd636aa9e30df932f0d893db5efa23260
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Depends-On: Icfc175c49a1fc650d1c9ad06b77209a70c6386db
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/652969/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/tests/unit/api/openstack/compute/test_console_auth_tokens.py', 'nova/cmd/consoleauth.py', 'nova/conf/upgrade_levels.py', 'doc/api_samples/os-availability-zone/availability-zone-detail-resp.json', 'doc/api_samples/os-hosts/hosts-list-resp.json', 'releasenotes/notes/remove-nova-consoleauth-b7c61e50649206ea.yaml', 'nova/console/websocketproxy.py', 'nova/tests/unit/console/test_websocketproxy.py', 'nova/api/openstack/compute/hosts.py', 'nova/tests/functional/api_sample_tests/api_samples/servers/availability-zone-detail-resp.json.tpl', 'nova/compute/api.py', 'nova/conf/workarounds.py', 'nova/consoleauth/rpcapi.py', 'nova/consoleauth/manager.py', 'nova/tests/unit/compute/test_compute.py', 'nova/consoleauth/__init__.py', 'nova/objects/fields.py', 'nova/tests/functional/api_sample_tests/api_samples/os-hosts/hosts-list-resp.json.tpl', 'nova/tests/unit/test_profiler.py', 'nova/conf/consoleauth.py', 'nova/tests/unit/consoleauth/test_rpcapi.py', 'nova/service.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/consoleauth/__init__.py', 'nova/conf/__init__.py', 'nova/tests/unit/consoleauth/test_consoleauth.py', 'nova/tests/functional/api_sample_tests/api_samples/os-availability-zone/availability-zone-detail-resp.json.tpl', 'nova/api/openstack/compute/console_auth_tokens.py', 'setup.cfg']",30,dde038b9af3796820fc26848aa35be27341dfc64,bp/remove-consoleauth,, nova-consoleauth = nova.cmd.consoleauth:main,61,1138
openstack%2Fnova~master~I5c7e54259857d9959f5a2dfb99102602a0cf9bb7,openstack/nova,master,I5c7e54259857d9959f5a2dfb99102602a0cf9bb7,nova-status: Remove consoleauth workaround check,MERGED,2019-04-16 10:32:23.000000000,2019-07-24 19:01:28.000000000,2019-07-24 19:01:28.000000000,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29745}]","[{'number': 1, 'created': '2019-04-16 10:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da86405658fa56fd7679a45beae1d0e376a2237c', 'message': ""nova-status: Remove consoleauth workaround check\n\nWe're going to be removing the configuration option so the advice from\nthis check will no longer make sense.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: I5c7e54259857d9959f5a2dfb99102602a0cf9bb7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-05-20 15:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e61dd3da109a9627adba469443fd2420509c378a', 'message': ""nova-status: Remove consoleauth workaround check\n\nWe're going to be removing the configuration option so the advice from\nthis check will no longer make sense.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: I5c7e54259857d9959f5a2dfb99102602a0cf9bb7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-06-13 15:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/620624de056fd772ce1996d9a2ea73a8fa887dc6', 'message': ""nova-status: Remove consoleauth workaround check\n\nWe're going to be removing the configuration option so the advice from\nthis check will no longer make sense.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: I5c7e54259857d9959f5a2dfb99102602a0cf9bb7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-06-14 15:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b3bcf5b757d294114ccf9fc6ecdf2bf32eac0c1', 'message': ""nova-status: Remove consoleauth workaround check\n\nWe're going to be removing the configuration option so the advice from\nthis check will no longer make sense.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: I5c7e54259857d9959f5a2dfb99102602a0cf9bb7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-06-14 16:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e95d84824c5337aa1390e5ff4daff0d4f41c3f2', 'message': ""nova-status: Remove consoleauth workaround check\n\nWe're going to be removing the configuration option so the advice from\nthis check will no longer make sense.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: I5c7e54259857d9959f5a2dfb99102602a0cf9bb7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-06-17 14:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a012868fbacb1e8b1323408a20dec6c26df8d780', 'message': ""nova-status: Remove consoleauth workaround check\n\nWe're going to be removing the configuration option so the advice from\nthis check will no longer make sense.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: I5c7e54259857d9959f5a2dfb99102602a0cf9bb7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-06-19 09:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/521b08ec4e7709a84a9594143837892e65129c1b', 'message': ""nova-status: Remove consoleauth workaround check\n\nWe're going to be removing the configuration option so the advice from\nthis check will no longer make sense.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: I5c7e54259857d9959f5a2dfb99102602a0cf9bb7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2019-06-25 10:34:24.000000000', 'files': ['nova/tests/unit/cmd/test_status.py', 'nova/cmd/status.py', 'releasenotes/notes/remove-nova-status-check-consoleauths-5df5c2e91749eefc.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/bedaeab074eaf4193cdb0d8eebeb2fe89c76a8bf', 'message': ""nova-status: Remove consoleauth workaround check\n\nWe're going to be removing the configuration option so the advice from\nthis check will no longer make sense.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: I5c7e54259857d9959f5a2dfb99102602a0cf9bb7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,652968,bedaeab074eaf4193cdb0d8eebeb2fe89c76a8bf,110,17,8,15334,,,0,"nova-status: Remove consoleauth workaround check

We're going to be removing the configuration option so the advice from
this check will no longer make sense.

Part of blueprint remove-consoleauth

Change-Id: I5c7e54259857d9959f5a2dfb99102602a0cf9bb7
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/652968/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/cmd/test_status.py', 'nova/cmd/status.py']",2,da86405658fa56fd7679a45beae1d0e376a2237c,bp/remove-consoleauth,," def _check_console_auths(self): """"""Checks for console usage and warns with info for rolling upgrade. Iterates all cells checking to see if the nova-consoleauth service is non-deleted/non-disabled and whether there are any console token auths in that cell database. If there is a nova-consoleauth service being used and no console token auths in the cell database, emit a warning telling the user to set [workarounds]enable_consoleauth = True if they are performing a rolling upgrade. """""" # If the operator has already enabled the workaround, we don't need # to check anything. if CONF.workarounds.enable_consoleauth: return upgradecheck.Result(upgradecheck.Code.SUCCESS) # We need to check cell0 for nova-consoleauth service records because # it's possible a deployment could have services stored in the cell0 # database, if they've defaulted their [database]connection in # nova.conf to cell0. mappings = self._get_cell_mappings() if not mappings: # There are no cell mappings so we can't determine this, just # return a warning. The cellsv2 check would have already failed # on this. msg = (_('Unable to check consoles without cell mappings.')) return upgradecheck.Result(upgradecheck.Code.WARNING, msg) ctxt = nova_context.get_admin_context() # If we find a non-deleted, non-disabled nova-consoleauth service in # any cell, we will assume the deployment is using consoles. using_consoles = False for mapping in mappings: with nova_context.target_cell(ctxt, mapping) as cctxt: # Check for any non-deleted, non-disabled nova-consoleauth # service. meta = MetaData(bind=db_session.get_engine(context=cctxt)) services = Table('services', meta, autoload=True) consoleauth_service_record = ( select([services.c.id]).select_from(services).where(and_( services.c.binary == 'nova-consoleauth', services.c.deleted == 0, services.c.disabled == false())).execute().first()) if consoleauth_service_record: using_consoles = True break if using_consoles: # If the deployment is using consoles, we can only be certain the # upgrade is complete if each compute service is >= Rocky and # supports storing console token auths in the database backend. for mapping in mappings: # Skip cell0 as no compute services should be in it. if mapping.is_cell0(): continue # Get the minimum nova-compute service version in this # cell. with nova_context.target_cell(ctxt, mapping) as cctxt: min_version = self._get_min_service_version( cctxt, 'nova-compute') # We could get None for the minimum version in the case of # new install where there are no computes. If there are # compute services, they should all have versions. if min_version is not None and min_version < 35: msg = _(""One or more cells were found which have "" ""nova-compute services older than Rocky. "" ""Please set the "" ""'[workarounds]enable_consoleauth' "" ""configuration option to 'True' on your "" ""console proxy host if you are performing a "" ""rolling upgrade to enable consoles to "" ""function during a partial upgrade."") return upgradecheck.Result(upgradecheck.Code.WARNING, msg) return upgradecheck.Result(upgradecheck.Code.SUCCESS) # Added in Stein (but also useful going back to Rocky) (_('Console Auths'), _check_console_auths),",0,245
openstack%2Fpuppet-tripleo~stable%2Fstein~I261eb30b52a3baee3b0e6d47e8f32f3c579930bf,openstack/puppet-tripleo,stable/stein,I261eb30b52a3baee3b0e6d47e8f32f3c579930bf,Add tcp-check connect port line to haproxy redis stanza,MERGED,2019-07-22 08:37:06.000000000,2019-07-24 19:00:53.000000000,2019-07-24 19:00:52.000000000,"[{'_account_id': 8042}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-22 08:37:06.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c71f507b64b2197d76308409cf0d7f406ff32eff', 'message': 'Add tcp-check connect port line to haproxy redis stanza\n\nWhen https://bugzilla.redhat.com/show_bug.cgi?id=1677420 will be merged\nin haproxy (via haproxy-1.5.18-9.el7.x86_64) our redis backend will stop\nworking because the fix around tcp-check is now more correct and\naccording to the haproxy doc a tcp-check sections *must* start with\ntcp-check connect first. From\nhttp://cbonte.github.io/haproxy-dconv/1.5/configuration.html#4-tcp-check%20connect\n:\n""""""\nWhen there are no TCP port configured on the server line neither server port\ndirective, then the \'tcp-check connect port <port>\' must be the first step\nof the sequence.\n""""""\n\nChange-Id: I261eb30b52a3baee3b0e6d47e8f32f3c579930bf\nCo-Authored-By: Luca Miccini <lmiccini@redhat.com>\nCloses-Bug: #1837086\n'}]",0,671985,c71f507b64b2197d76308409cf0d7f406ff32eff,16,4,1,20172,,,0,"Add tcp-check connect port line to haproxy redis stanza

When https://bugzilla.redhat.com/show_bug.cgi?id=1677420 will be merged
in haproxy (via haproxy-1.5.18-9.el7.x86_64) our redis backend will stop
working because the fix around tcp-check is now more correct and
according to the haproxy doc a tcp-check sections *must* start with
tcp-check connect first. From
http://cbonte.github.io/haproxy-dconv/1.5/configuration.html#4-tcp-check%20connect
:
""""""
When there are no TCP port configured on the server line neither server port
directive, then the 'tcp-check connect port <port>' must be the first step
of the sequence.
""""""

Change-Id: I261eb30b52a3baee3b0e6d47e8f32f3c579930bf
Co-Authored-By: Luca Miccini <lmiccini@redhat.com>
Closes-Bug: #1837086
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/85/671985/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,c71f507b64b2197d76308409cf0d7f406ff32eff,haproxy-redis-fix-stable/stein, $redis_tcp_check_ssl_options = ['connect port 6379 ssl'] $redis_tcp_check_ssl_options = ['connect port 6379'], $redis_tcp_check_ssl_options = ['connect ssl'] $redis_tcp_check_ssl_options = [],2,2
openstack%2Ftripleo-heat-templates~master~If3f285066dc516309d5ee5f7e6eaee188a09cd5d,openstack/tripleo-heat-templates,master,If3f285066dc516309d5ee5f7e6eaee188a09cd5d,Restore scenario001 default templates,MERGED,2019-07-23 11:30:48.000000000,2019-07-24 19:00:51.000000000,2019-07-24 19:00:51.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-23 11:30:48.000000000', 'files': ['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b8606bbb2636af2737fdd035db62ea57ecd2f996', 'message': ""Restore scenario001 default templates\n\nWe've added the ceph-dashboard templates to scenario001\nfor testing purposes, but we need to create a specific\ntesting scenario for this feature.\nThis change just restore the scenario001 default templates\nfor standalone and multinode executions.\n\nChange-Id: If3f285066dc516309d5ee5f7e6eaee188a09cd5d\n""}]",0,672266,b8606bbb2636af2737fdd035db62ea57ecd2f996,14,5,1,25402,,,0,"Restore scenario001 default templates

We've added the ceph-dashboard templates to scenario001
for testing purposes, but we need to create a specific
testing scenario for this feature.
This change just restore the scenario001 default templates
for standalone and multinode executions.

Change-Id: If3f285066dc516309d5ee5f7e6eaee188a09cd5d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/66/672266/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario001-standalone.yaml']",2,b8606bbb2636af2737fdd035db62ea57ecd2f996,,, OS::TripleO::Services::CephGrafana: ../../deployment/ceph-ansible/ceph-grafana.yaml CephEnableDashboard: true,0,4
openstack%2Fopenstack-helm-infra~master~Ic573514c4ac1199b979a5170e68cb8903f441d57,openstack/openstack-helm-infra,master,Ic573514c4ac1199b979a5170e68cb8903f441d57,WIP: Validate Elasticsearch snapshot repositories,ABANDONED,2019-07-24 16:46:07.000000000,2019-07-24 18:49:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-24 16:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/71b501b71908d73313c869553465c3fbccf78187', 'message': 'WIP: Validate Elasticsearch snapshot repositories\n\nChange-Id: Ic573514c4ac1199b979a5170e68cb8903f441d57\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-07-24 18:00:02.000000000', 'files': ['elasticsearch/templates/bin/_helm-tests.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b7d4a45a4dc9eb3e3c26c5fa7c273d5ac11ca47f', 'message': 'WIP: Validate Elasticsearch snapshot repositories\n\nChange-Id: Ic573514c4ac1199b979a5170e68cb8903f441d57\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,672563,b7d4a45a4dc9eb3e3c26c5fa7c273d5ac11ca47f,4,1,2,17591,,,0,"WIP: Validate Elasticsearch snapshot repositories

Change-Id: Ic573514c4ac1199b979a5170e68cb8903f441d57
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/63/672563/2 && git format-patch -1 --stdout FETCH_HEAD,['elasticsearch/templates/bin/_helm-tests.sh.tpl'],1,71b501b71908d73313c869553465c3fbccf78187,es-snapshot-caps,"function validate_snapshot_repositories () { {{ range $repository := .Values.conf.elasticsearch.snapshots.repositories }} repository={{$repository.name}} repository_validate_results=$(curl -K- <<< ""--user ${ELASTICSEARCH_USERNAME}:${ELASTICSEARCH_PASSWORD}"" \ ""${ELASTICSEARCH_ENDPOINT}/_cat/snapshots/${repository}?v&s=id"" {{ end }} } validate_snapshot_repositories",,9,0
openstack%2Ftripleo-heat-templates~master~I18e349c450a42dc7e9867d200e777a324e2d12bc,openstack/tripleo-heat-templates,master,I18e349c450a42dc7e9867d200e777a324e2d12bc,Rsyslog composable service,MERGED,2018-12-11 09:29:38.000000000,2019-07-24 18:02:58.000000000,2019-07-24 18:02:58.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-12-11 09:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/49186f3a45acb1d6007abacd3b83b33506c130b7', 'message': 'WIP - Rsyslog Service\n\nDepends-On: I4e67e4ec1448f005c9d2d861fc729112a0954aa9\nChange-Id: I18e349c450a42dc7e9867d200e777a324e2d12bc\n'}, {'number': 2, 'created': '2018-12-11 09:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1321825c00cb8d1d4b573c51d70cab707f88882', 'message': 'WIP - Rsyslog Service\n\nDepends-On: I4e67e4ec1448f005c9d2d861fc729112a0954aa9\nChange-Id: I18e349c450a42dc7e9867d200e777a324e2d12bc\n'}, {'number': 3, 'created': '2019-05-10 12:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d27951e532972f7cb5eab0bc856e05daee8dc94', 'message': '[WIP] Rsyslog composable service\n\nThis patch adds rsyslogd composable service with the same behaviour\nthe fluentd composable service currently has.\n\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\n\nDepends-On: I4e67e4ec1448f005c9d2d861fc729112a0954aa9\nDepends-On: I5e5aae692482ee1de6de298eb18c49563a2d7d29\nChange-Id: I18e349c450a42dc7e9867d200e777a324e2d12bc\n'}, {'number': 4, 'created': '2019-06-17 15:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/895d0787a0835985ff9ec38f4cb1da6252559f10', 'message': '[WIP] Rsyslog composable service\n\nThis patch adds rsyslogd composable service with the same behaviour\nthe fluentd composable service currently has.\n\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\n\nDepends-On: I4e67e4ec1448f005c9d2d861fc729112a0954aa9\nDepends-On: I5e5aae692482ee1de6de298eb18c49563a2d7d29\nChange-Id: I18e349c450a42dc7e9867d200e777a324e2d12bc\n'}, {'number': 5, 'created': '2019-06-20 13:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea3c142005e9ae95f93d4b584a21076845e2c40d', 'message': 'Rsyslog composable service\n\nThis patch adds rsyslogd composable service with the same behaviour\nthe fluentd composable service currently has.\n\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\n\nDepends-On: I4e67e4ec1448f005c9d2d861fc729112a0954aa9\nDepends-On: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3\nChange-Id: I18e349c450a42dc7e9867d200e777a324e2d12bc\n'}, {'number': 6, 'created': '2019-07-01 11:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/410680ae085e06ff84ea728de34bee0bc7b4ab35', 'message': 'Rsyslog composable service\n\nThis patch adds rsyslogd composable service with the same behaviour\nthe fluentd composable service currently has.\n\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\n\nDepends-On: I4e67e4ec1448f005c9d2d861fc729112a0954aa9\nDepends-On: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3\nChange-Id: I18e349c450a42dc7e9867d200e777a324e2d12bc\n'}, {'number': 7, 'created': '2019-07-02 06:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e2c17c5e40e986ab28ce3eba263cf064771b08e1', 'message': 'Rsyslog composable service\n\nThis patch adds rsyslogd composable service with the same behaviour\nthe fluentd composable service currently has.\n\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\n\nDepends-On: I4e67e4ec1448f005c9d2d861fc729112a0954aa9\nDepends-On: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3\nChange-Id: I18e349c450a42dc7e9867d200e777a324e2d12bc\n'}, {'number': 8, 'created': '2019-07-02 10:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6dde93632a2d8cf6a6123d884fd15340b90fd9d0', 'message': 'Rsyslog composable service\n\nThis patch adds rsyslogd composable service with the same behaviour\nthe fluentd composable service currently has.\n\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\n\nDepends-On: I4e67e4ec1448f005c9d2d861fc729112a0954aa9\nDepends-On: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3\nChange-Id: I18e349c450a42dc7e9867d200e777a324e2d12bc\n'}, {'number': 9, 'created': '2019-07-03 09:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da7065f9a95117521ea47b3f3dc1767a7046bad4', 'message': 'Rsyslog composable service\n\nThis patch adds rsyslogd composable service with the same behaviour\nthe fluentd composable service currently has.\n\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\n\nDepends-On: I4e67e4ec1448f005c9d2d861fc729112a0954aa9\nDepends-On: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3\nChange-Id: I18e349c450a42dc7e9867d200e777a324e2d12bc\n'}, {'number': 10, 'created': '2019-07-08 09:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9132c22c265840dab651110c480035cafc2b8cf5', 'message': 'Rsyslog composable service\n\nThis patch adds rsyslogd composable service with the same behaviour\nthe fluentd composable service currently has.\n\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\n\nDepends-On: I4e67e4ec1448f005c9d2d861fc729112a0954aa9\nDepends-On: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3\nChange-Id: I18e349c450a42dc7e9867d200e777a324e2d12bc\n'}, {'number': 11, 'created': '2019-07-08 16:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/25ad9f285531ea5c3e0aa88f77a8841e29c514d0', 'message': 'Rsyslog composable service\n\nThis patch adds rsyslogd composable service with the same behaviour\nthe fluentd composable service currently has.\n\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\n\nDepends-On: I4e67e4ec1448f005c9d2d861fc729112a0954aa9\nDepends-On: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3\nChange-Id: I18e349c450a42dc7e9867d200e777a324e2d12bc\n'}, {'number': 12, 'created': '2019-07-12 11:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b178bd45a407d07ab9c317a39b7bb883e4ff7203', 'message': 'Rsyslog composable service\n\nThis patch adds rsyslogd composable service with the same behaviour\nthe fluentd composable service currently has.\n\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\n\nDepends-On: I4e67e4ec1448f005c9d2d861fc729112a0954aa9\nDepends-On: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3\nChange-Id: I18e349c450a42dc7e9867d200e777a324e2d12bc\n'}, {'number': 13, 'created': '2019-07-18 15:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db5992148ed61fb917510278c1128f34e5bb4f06', 'message': 'Rsyslog composable service\n\nThis patch adds rsyslogd composable service with the same behaviour\nthe fluentd composable service currently has.\n\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\n\nDepends-On: I4e67e4ec1448f005c9d2d861fc729112a0954aa9\nDepends-On: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3\nChange-Id: I18e349c450a42dc7e9867d200e777a324e2d12bc\n'}, {'number': 14, 'created': '2019-07-18 15:41:32.000000000', 'files': ['roles/ComputeAlt.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/HciCephMon.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'roles/CephObject.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles/CephFile.yaml', 'roles/ControllerOpenstack.yaml', 'roles/Standalone.yaml', 'roles/HciCephFile.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/ComputeLocalEphemeral.yaml', 'roles/BlockStorage.yaml', 'roles/Compute.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/CellController.yaml', 'roles/ComputeRBDEphemeral.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'roles/CephStorage.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'environments/hyperconverged-ceph.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/Messaging.yaml', 'roles/CephAll.yaml', 'roles/Novacontrol.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Telemetry.yaml', 'environments/logging-environment-rsyslog.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ControllerNoCeph.yaml', 'roles/Database.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/ObjectStorage.yaml', 'roles/IronicConductor.yaml', 'roles/Networker.yaml', 'deployment/logging/rsyslog-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8727ef050c654b4023efcd9eec1b5581aa955e63', 'message': 'Rsyslog composable service\n\nThis patch adds rsyslogd composable service with the same behaviour\nthe fluentd composable service currently has.\n\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\nChange-Id: I18e349c450a42dc7e9867d200e777a324e2d12bc\n'}]",1,624330,8727ef050c654b4023efcd9eec1b5581aa955e63,52,7,14,22954,,,0,"Rsyslog composable service

This patch adds rsyslogd composable service with the same behaviour
the fluentd composable service currently has.

Co-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>
Change-Id: I18e349c450a42dc7e9867d200e777a324e2d12bc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/624330/10 && git format-patch -1 --stdout FETCH_HEAD,"['environments/logging-environment-rsyslog.yaml', 'docker/services/rsyslog.yaml', 'puppet/services/logging/rsyslog.yaml']",3,49186f3a45acb1d6007abacd3b83b33506c130b7,rsyslog,heat_template_version: rocky description: > Rsyslog client configured. parameters: ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json DefaultPasswords: default: {} type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json EndpointMap: default: {} description: > Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json outputs: role_data: description: Role data for the Rsyslog client role. value: service_name: rsyslog config_settings: rsyslog::rsyslog_name: rsyslog upgrade_tasks: [] step_config: '' host_prep_tasks: - name: Rsyslog - Create a jbp file to test it copy: dest: /var/tmp/jbp.log content: | jbp was here ,,169,0
openstack%2Fglance_store~master~Iac607e8ccd04f5a468b9ee09f10ea5800cf76480,openstack/glance_store,master,Iac607e8ccd04f5a468b9ee09f10ea5800cf76480,Release note and documentation for 1.0.0,MERGED,2019-07-20 01:47:00.000000000,2019-07-24 17:48:41.000000000,2019-07-24 17:48:41.000000000,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-20 01:47:00.000000000', 'files': ['releasenotes/notes/release-1.0.0-7ab43e91523eb3c8.yaml', 'glance_store/multi_backend.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/f2f97e11d4f296fc8286e9338431cc7ccfe1d215', 'message': 'Release note and documentation for 1.0.0\n\nChange-Id: Iac607e8ccd04f5a468b9ee09f10ea5800cf76480\n'}]",0,671876,f2f97e11d4f296fc8286e9338431cc7ccfe1d215,8,4,1,5314,,,0,"Release note and documentation for 1.0.0

Change-Id: Iac607e8ccd04f5a468b9ee09f10ea5800cf76480
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/76/671876/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/release-1.0.0-7ab43e91523eb3c8.yaml', 'glance_store/multi_backend.py']",2,f2f97e11d4f296fc8286e9338431cc7ccfe1d215,deprecate-sheepdog,"The store identifier for the default backend in which data will be stored. The value must be defined as one of the keys in the dict defined by the ``enabled_backends`` configuration option in the DEFAULT configuration group. If a value is not defined for this option: * the consuming service may refuse to start * store_add calls that do not specify a specific backend will raise a ``glance_store.exceptions.UnknownScheme`` exception """""" Registers all store modules and all schemes from the given configuration object. :param conf: A oslo_config (or compatible) object :param reserved_stores: A list of stores for the consuming service's internal use. The list must be the same format as the ``enabled_backends`` configuration setting. The default value is None :return: The number of stores configured :raises: ``glance_store.exceptions.BackendException`` *Configuring Multiple Backends* The backends to be configured are expected to be found in the ``enabled_backends`` configuration variable in the DEFAULT group of the object. The format for the variable is a dictionary of key:value pairs where the key is an arbitrary store identifier and the value is the store type identifier for the store. The type identifiers must be defined in the ``[entry points]`` section of the glance_store ``setup.cfg`` file as values for the ``glance_store.drivers`` configuration. (See the default ``setup.cfg`` file for an example.) The store type identifiers for the currently supported drivers are already defined in the file. Thus an example value for ``enabled_backends`` is:: {'store_one': 'http', 'store_two': 'file', 'store_three': 'rbd'} The ``reserved_stores`` parameter, if included, must have the same format. There is no difference between the ``enabled_backends`` and ``reserved_stores`` from the glance_store point of view: the reserved stores are a convenience for the consuming service, which may wish to handle the two sets of stores differently. *The Default Store* If you wish to set a default store, its store identifier should be defined as the value of the ``default_backend`` configuration option in the ``glance_store`` group of the ``conf`` parameter. The store identifier, or course, should be specified as one of the keys in the ``enabled_backends`` dict. It is recommended that a default store be set. *Configuring Individual Backends* To configure each store mentioned in the ``enabled_backends`` configuration option, you must define an option group with the same name as the store identifier. The options defined for that backend will depend upon the store type; consult the documentation for the appropriate backend driver to determine what these are. For example, given the ``enabled_backends`` example above, you would put the following in the configuration file that loads the ``conf`` object:: [DEFAULT] enabled_backends = store_one:rbd,store_two:file,store_three:http [store_one] store_description = ""A human-readable string aimed at end users"" rbd_store_chunk_size = 8 rbd_store_pool = images rbd_store_user = admin rbd_store_ceph_conf = /etc/ceph/ceph.conf [store_two] store_description = ""Human-readable description of this store"" filesystem_store_datadir = /opt/stack/data/glance/store_two [store_three] store_description = ""A read-only store"" https_ca_certificates_file = /opt/stack/certs/gs.cert [glance_store] default_backend = store_two The ``store_description`` options may be used by a consuming service. As recommended above, this file also defines a default backend. """""" ","The default scheme to use for storing images. Provide a string value representing the default scheme to use for storing images. If not set, Glance API service will fail to start. """"""Registers all store modules and all schemes from the given config.""""""",141,4
openstack%2Fglance_store~master~Ie41b166e51e4d7b674f893c2b71d576e5a8b51a0,openstack/glance_store,master,Ie41b166e51e4d7b674f893c2b71d576e5a8b51a0,Deprecate Sheepdog driver,MERGED,2019-07-19 16:28:13.000000000,2019-07-24 17:43:19.000000000,2019-07-24 17:43:19.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-19 16:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/714f7d410ed77eb3dadb57c00507799f331d7db3', 'message': ""Deprecate Sheepdog driver\n\nAs there was no response to the ML announcement [0], proceed\nwith deprecation of the Sheepdog driver, scheduled for removal\nin the 'U' cycle.\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006725.html\n\nChange-Id: Ie41b166e51e4d7b674f893c2b71d576e5a8b51a0\n""}, {'number': 2, 'created': '2019-07-19 20:38:32.000000000', 'files': ['releasenotes/notes/deprecate-sheepdog-driver-1f9689c327f313d4.yaml', 'doc/source/user/drivers.rst', 'glance_store/_drivers/sheepdog.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/579a9284fdbffe4171a4e2581c6a6fd458ae8d01', 'message': ""Deprecate Sheepdog driver\n\nAs there was no response to the ML announcement [0], proceed\nwith deprecation of the Sheepdog driver, scheduled for removal\nin the 'U' cycle.\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006725.html\n\nChange-Id: Ie41b166e51e4d7b674f893c2b71d576e5a8b51a0\n""}]",0,671770,579a9284fdbffe4171a4e2581c6a6fd458ae8d01,9,3,2,5314,,,0,"Deprecate Sheepdog driver

As there was no response to the ML announcement [0], proceed
with deprecation of the Sheepdog driver, scheduled for removal
in the 'U' cycle.

[0] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006725.html

Change-Id: Ie41b166e51e4d7b674f893c2b71d576e5a8b51a0
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/70/671770/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-sheepdog-driver-1f9689c327f313d4.yaml', 'doc/source/user/drivers.rst', 'glance_store/_drivers/sheepdog.py']",3,714f7d410ed77eb3dadb57c00507799f331d7db3,deprecate-sheepdog," deprecated_for_removal=True, deprecated_since='Train', deprecated_reason="""""" The Sheepdog project is no longer actively maintained. The Sheepdog driver is scheduled for removal in the 'U' development cycle. """""", deprecated_for_removal=True, deprecated_since='Train', deprecated_reason="""""" The Sheepdog project is no longer actively maintained. The Sheepdog driver is scheduled for removal in the 'U' development cycle. """""", deprecated_for_removal=True, deprecated_since='Train', deprecated_reason="""""" The Sheepdog project is no longer actively maintained. The Sheepdog driver is scheduled for removal in the 'U' development cycle. """""", LOG.warning(""The Sheepdog driver is deprecated and will be removed "" ""in the 'U' release."")",,47,0
openstack%2Fopenstack-helm~master~Id97235403e0571ee669691985f77cc9a0c54aa4a,openstack/openstack-helm,master,Id97235403e0571ee669691985f77cc9a0c54aa4a,[WIP] DO NOT MERGE,ABANDONED,2019-07-24 16:30:07.000000000,2019-07-24 17:36:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-24 16:30:07.000000000', 'files': ['nova/templates/job-db-sync.yaml', 'nova/templates/bin/_db-sync.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d65de31c074f8e060fa684493472ec1697ea76c3', 'message': '[WIP] DO NOT MERGE\n\nChange-Id: Id97235403e0571ee669691985f77cc9a0c54aa4a\n'}]",0,672561,d65de31c074f8e060fa684493472ec1697ea76c3,3,1,1,24780,,,0,"[WIP] DO NOT MERGE

Change-Id: Id97235403e0571ee669691985f77cc9a0c54aa4a
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/61/672561/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/job-db-sync.yaml', 'nova/templates/bin/_db-sync.sh.tpl']",2,d65de31c074f8e060fa684493472ec1697ea76c3,, CELL1_ID=$(nova-manage cell_v2 list_cells | awk -F '|' '/ cell1 / { print $3 }' | tr -d ' ') nova-manage cell_v2 update_cell --cell_uuid ${CELL1_ID} --name=cell1 --transport-url=$TRANSPORT_URL nova-manage cell_v2 list_cells,,16,1
openstack%2Ftripleo-heat-templates~master~If74e061ec6b5b78dd6a3c16de1ab0449f4d197e2,openstack/tripleo-heat-templates,master,If74e061ec6b5b78dd6a3c16de1ab0449f4d197e2,"Change datatype of revalidator,handler threads",MERGED,2019-07-18 11:18:09.000000000,2019-07-24 17:18:32.000000000,2019-07-24 17:18:32.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-18 11:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b4f46f466a8dccce9dd51132165434522cbbeeeb', 'message': 'Change datatype of revalidator,handler threads\n\nCurrently these parameters are number type.\nThey fail string validation at vs_config.\n\nChange-Id: If74e061ec6b5b78dd6a3c16de1ab0449f4d197e2\nCloses-Bug: #1837030\n'}, {'number': 2, 'created': '2019-07-19 05:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3447836ddffa0897617aec90af732988fe3b8488', 'message': 'Change datatype of revalidator,handler threads\n\nCurrently these parameters are number type.\nThey fail string validation at vs_config.\nDefault set to non to retain current behavior.\n\nChange-Id: If74e061ec6b5b78dd6a3c16de1ab0449f4d197e2\nCloses-Bug: #1837030\n'}, {'number': 3, 'created': '2019-07-19 05:28:45.000000000', 'files': ['deployment/openvswitch/openvswitch-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b214b2c5852a63b56ea3dde621ddd2c233a228b2', 'message': 'Change datatype of revalidator,handler threads\n\nCurrently these parameters are number type.\nThey fail string validation at vs_config.\nDefault set to none to retain current behavior.\n\nChange-Id: If74e061ec6b5b78dd6a3c16de1ab0449f4d197e2\nCloses-Bug: #1837030\n'}]",0,671458,b214b2c5852a63b56ea3dde621ddd2c233a228b2,12,5,3,30229,,,0,"Change datatype of revalidator,handler threads

Currently these parameters are number type.
They fail string validation at vs_config.
Default set to none to retain current behavior.

Change-Id: If74e061ec6b5b78dd6a3c16de1ab0449f4d197e2
Closes-Bug: #1837030
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/671458/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/openvswitch/openvswitch-baremetal-puppet.yaml'],1,b4f46f466a8dccce9dd51132165434522cbbeeeb,bug/1837030," type: string default: """" type: string default: """"", type: number default: 1 type: number default: 1,4,4
openstack%2Fkeystone~master~I224acbb81393b23a4ce14bfde7cbcee7b5ab8e42,openstack/keystone,master,I224acbb81393b23a4ce14bfde7cbcee7b5ab8e42,Enable LDAP _dn_to_id() for non-default ID attrs,ABANDONED,2019-06-20 13:30:00.000000000,2019-07-24 17:12:24.000000000,,"[{'_account_id': 2424}, {'_account_id': 8482}, {'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 25011}, {'_account_id': 27944}]","[{'number': 1, 'created': '2019-06-20 13:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8b89509a65df9e81a0824d8f0768a33bce264982', 'message': ""Enable LDAP _dn_to_id() for non-default ID attrs\n\n_dn_to_id() currently always returns the left-most RDN. With the\ndefault setting for user_id_attribute/group_id_attribute ('cn')\nthat works. However, the code currently doesn't support setting\nuser_id_attribute or group_id_attribute to another attribute.\n\nUpdate _dn_to_id() to perform a search using DN as the base and\nreturning the value of the uid attribute.\n\nChange-Id: I224acbb81393b23a4ce14bfde7cbcee7b5ab8e42\nCloses-Bug: #1782922\n""}, {'number': 2, 'created': '2019-06-20 18:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/12f638dacae4094774da9fd2a79405102f7e043f', 'message': ""Enable LDAP _dn_to_id() for non-default ID attrs\n\n_dn_to_id() currently always returns the left-most RDN. With the\ndefault setting for user_id_attribute/group_id_attribute ('cn')\nthat works. However, the code currently doesn't support setting\nuser_id_attribute or group_id_attribute to another attribute.\n\nUpdate _dn_to_id() to perform a search using DN as the base and\nreturning the value of the uid attribute.\n\nChange-Id: I224acbb81393b23a4ce14bfde7cbcee7b5ab8e42\nCloses-Bug: #1782922\n""}, {'number': 3, 'created': '2019-06-26 15:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/64c078bb3f94959a0169ac42229a1f3c20d6d8da', 'message': ""Enable LDAP _dn_to_id() for non-default ID attrs\n\n_dn_to_id() currently always returns the left-most RDN. With the\ndefault setting for user_id_attribute/group_id_attribute ('cn')\nthat works. However, the code currently doesn't support setting\nuser_id_attribute or group_id_attribute to another attribute.\n\nUpdate _dn_to_id() to perform a search using DN as the base and\nreturning the value of the uid attribute.\n\nChange-Id: I224acbb81393b23a4ce14bfde7cbcee7b5ab8e42\nCloses-Bug: #1782922\n""}, {'number': 4, 'created': '2019-06-26 16:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/24101b57b46f3859e95ef7b6940a9afac8fc0871', 'message': ""Enable LDAP _dn_to_id() for non-default ID attrs\n\n_dn_to_id() currently always returns the left-most RDN. With the\ndefault setting for user_id_attribute/group_id_attribute ('cn')\nthat works. However, the code currently doesn't support setting\nuser_id_attribute or group_id_attribute to another attribute.\n\nUpdate _dn_to_id() to perform a search using DN as the base and\nreturning the value of the uid attribute.\n\nChange-Id: I224acbb81393b23a4ce14bfde7cbcee7b5ab8e42\nCloses-Bug: #1782922\n""}, {'number': 5, 'created': '2019-06-26 16:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a2a52abd12f3ab7afca950401875656aed1e5d42', 'message': ""Enable LDAP _dn_to_id() for non-default ID attrs\n\n_dn_to_id() currently always returns the left-most RDN. With the\ndefault setting for user_id_attribute/group_id_attribute ('cn')\nthat works. However, the code currently doesn't support setting\nuser_id_attribute or group_id_attribute to another attribute.\n\nUpdate _dn_to_id() to perform a search using DN as the base and\nreturning the value of the uid attribute.\n\nChange-Id: I224acbb81393b23a4ce14bfde7cbcee7b5ab8e42\nCloses-Bug: #1782922\n""}, {'number': 6, 'created': '2019-06-26 16:33:47.000000000', 'files': ['keystone/identity/backends/ldap/common.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4b47f6ae216f9d2d6992ed530de3d543db59592e', 'message': ""Enable LDAP _dn_to_id() for non-default ID attrs\n\n_dn_to_id() currently always returns the left-most RDN. With the\ndefault setting for user_id_attribute/group_id_attribute ('cn')\nthat works. However, the code currently doesn't support setting\nuser_id_attribute or group_id_attribute to another attribute.\n\nUpdate _dn_to_id() to perform a search using DN as the base and\nreturning the value of the uid attribute.\n\nChange-Id: I224acbb81393b23a4ce14bfde7cbcee7b5ab8e42\nCloses-Bug: #1782922\n""}]",6,666575,4b47f6ae216f9d2d6992ed530de3d543db59592e,21,6,6,11805,,,0,"Enable LDAP _dn_to_id() for non-default ID attrs

_dn_to_id() currently always returns the left-most RDN. With the
default setting for user_id_attribute/group_id_attribute ('cn')
that works. However, the code currently doesn't support setting
user_id_attribute or group_id_attribute to another attribute.

Update _dn_to_id() to perform a search using DN as the base and
returning the value of the uid attribute.

Change-Id: I224acbb81393b23a4ce14bfde7cbcee7b5ab8e42
Closes-Bug: #1782922
",git fetch https://review.opendev.org/openstack/keystone refs/changes/75/666575/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/backends/ldap/common.py'],1,8b89509a65df9e81a0824d8f0768a33bce264982,bug/1782922," def _dn_to_id(self, dn): """"""Return the ID attribute value for a DN :param value: DN to search :returns: ID attribute value for DN """""" query = u'(&(objectClass=%s)(%s=*))' % ( self.object_class, self.id_attr) attrs = list(set([self.id_attr])) with self.get_connection() as conn: res = conn.search_s(dn, ldap.SCOPE_SUBTREE, query, attrs) _, attrs = res[0] uid = attrs['uid'][0] return uid ", @staticmethod def _dn_to_id(dn): return ldap.dn.str2dn(dn)[0][0][1],19,3
openstack%2Frequirements~master~Iec07148fab3e38d811cdef67e762a76008c6bf40,openstack/requirements,master,Iec07148fab3e38d811cdef67e762a76008c6bf40,update constraint for monasca-common to new release 2.15.0,MERGED,2019-07-22 21:15:07.000000000,2019-07-24 17:04:12.000000000,2019-07-24 17:04:12.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 23735}]","[{'number': 1, 'created': '2019-07-22 21:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9e55ed7630d63f185393a723b2414d81634c8ddb', 'message': 'update constraint for monasca-common to new release 2.15.0\n\nChange-Id: Iec07148fab3e38d811cdef67e762a76008c6bf40\nmeta:version: 2.15.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Witek Bedyk <witold.bedyk@suse.com>\nmeta:release:Commit: Witek Bedyk <witold.bedyk@suse.com>\nmeta:release:Change-Id: Iac1095783b310543e465c551e609ee242a10c953\nmeta:release:Code-Review+1: dharmendra kushwaha <dharmendra.kushwaha@india.nec.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-07-23 15:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7c1778f48f554b22b7f946f0dac54bee93cd45a9', 'message': 'update constraint for monasca-common to new release 2.15.0\n\nChange-Id: Iec07148fab3e38d811cdef67e762a76008c6bf40\nmeta:version: 2.15.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Witek Bedyk <witold.bedyk@suse.com>\nmeta:release:Commit: Witek Bedyk <witold.bedyk@suse.com>\nmeta:release:Change-Id: Iac1095783b310543e465c551e609ee242a10c953\nmeta:release:Code-Review+1: dharmendra kushwaha <dharmendra.kushwaha@india.nec.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2019-07-24 12:27:21.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f54c03635c84ef705c88212397d4974807e9cb60', 'message': 'update constraint for monasca-common to new release 2.15.0\n\nChange-Id: Iec07148fab3e38d811cdef67e762a76008c6bf40\nmeta:version: 2.15.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Witek Bedyk <witold.bedyk@suse.com>\nmeta:release:Commit: Witek Bedyk <witold.bedyk@suse.com>\nmeta:release:Change-Id: Iac1095783b310543e465c551e609ee242a10c953\nmeta:release:Code-Review+1: dharmendra kushwaha <dharmendra.kushwaha@india.nec.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,672177,f54c03635c84ef705c88212397d4974807e9cb60,26,5,3,11131,,,0,"update constraint for monasca-common to new release 2.15.0

Change-Id: Iec07148fab3e38d811cdef67e762a76008c6bf40
meta:version: 2.15.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Witek Bedyk <witold.bedyk@suse.com>
meta:release:Commit: Witek Bedyk <witold.bedyk@suse.com>
meta:release:Change-Id: Iac1095783b310543e465c551e609ee242a10c953
meta:release:Code-Review+1: dharmendra kushwaha <dharmendra.kushwaha@india.nec.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/77/672177/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9e55ed7630d63f185393a723b2414d81634c8ddb,new-release,monasca-common===2.15.0,monasca-common===2.14.0,1,1
openstack%2Fneutron~stable%2Fstein~I7c00812f877e2fc966bbac3060e1187ce1b809ca,openstack/neutron,stable/stein,I7c00812f877e2fc966bbac3060e1187ce1b809ca,Yield control to other greenthreads while processing trusted ports,MERGED,2019-07-12 11:48:17.000000000,2019-07-24 17:04:10.000000000,2019-07-24 17:04:10.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 7016}, {'_account_id': 9732}, {'_account_id': 17130}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28935}, {'_account_id': 30103}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-12 11:48:17.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/20e3f25cf76e48bc6106fba7eb5cafe9cf35fdbc', 'message': 'Yield control to other greenthreads while processing trusted ports\n\nprocess_trusted_ports() appeared to be greenthread unfriendly, so\nif there are many trusted ports on a node, openvswitch agent may\n""hang"" for a significant time.\nThis patch adds explicit yield.\n\nChange-Id: I7c00812f877e2fc966bbac3060e1187ce1b809ca\nCloses-Bug: #1836023\n(cherry picked from commit da539da3780188f01e18ef106dde9ca180324c2a)\n'}]",0,670498,20e3f25cf76e48bc6106fba7eb5cafe9cf35fdbc,39,12,1,5948,,,0,"Yield control to other greenthreads while processing trusted ports

process_trusted_ports() appeared to be greenthread unfriendly, so
if there are many trusted ports on a node, openvswitch agent may
""hang"" for a significant time.
This patch adds explicit yield.

Change-Id: I7c00812f877e2fc966bbac3060e1187ce1b809ca
Closes-Bug: #1836023
(cherry picked from commit da539da3780188f01e18ef106dde9ca180324c2a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/670498/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/openvswitch_firewall/firewall.py'],1,20e3f25cf76e48bc6106fba7eb5cafe9cf35fdbc,bug/1836023-stable/stein,import eventlet # yield to let other greenthreads proceed eventlet.sleep(0),,3,0
openstack%2Fnova~stable%2Fstein~I745aecb008f0867fcda2d3d2c7691621dd8f6168,openstack/nova,stable/stein,I745aecb008f0867fcda2d3d2c7691621dd8f6168,Remove redundant group host setup,MERGED,2019-06-25 11:24:51.000000000,2019-07-24 17:03:49.000000000,2019-07-24 17:03:48.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-25 11:24:51.000000000', 'files': ['nova/scheduler/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0313d8143309157067aa85f7333d0d177a5b6609', 'message': 'Remove redundant group host setup\n\nIt seems that all the code path that ends up calling [1] goes through\n[2] before so setting up group host at [1] is redundant.\n\n[1] https://github.com/openstack/nova/blob/c7e9e667426a6d88d396a59cb40d30763a3265f9/nova/scheduler/utils.py#L944-L950\n[2] https://github.com/openstack/nova/blob/c7e9e667426a6d88d396a59cb40d30763a3265f9/nova/scheduler/utils.py#L996-L1000\n\nChange-Id: I745aecb008f0867fcda2d3d2c7691621dd8f6168\nCloses-Bug: #1788527\n(cherry picked from commit f108d7967636ec1afceff0be386da15d70e2ca37)\n'}]",0,667334,0313d8143309157067aa85f7333d0d177a5b6609,22,10,1,9708,,,0,"Remove redundant group host setup

It seems that all the code path that ends up calling [1] goes through
[2] before so setting up group host at [1] is redundant.

[1] https://github.com/openstack/nova/blob/c7e9e667426a6d88d396a59cb40d30763a3265f9/nova/scheduler/utils.py#L944-L950
[2] https://github.com/openstack/nova/blob/c7e9e667426a6d88d396a59cb40d30763a3265f9/nova/scheduler/utils.py#L996-L1000

Change-Id: I745aecb008f0867fcda2d3d2c7691621dd8f6168
Closes-Bug: #1788527
(cherry picked from commit f108d7967636ec1afceff0be386da15d70e2ca37)
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/667334/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/utils.py'],1,0313d8143309157067aa85f7333d0d177a5b6609,bug/1788527, group_hosts = set(group.get_hosts())," if context.db_connection: # We don't need to target the group object's context because it was # retrieved with the targeted context earlier in this method. group_hosts = set(group.get_hosts()) else: group_hosts = set(_get_instance_group_hosts_all_cells(context, group))",1,7
openstack%2Fkuryr-kubernetes~master~I325c56ce41380657d2e0e2eb225ba15b4645b7de,openstack/kuryr-kubernetes,master,I325c56ce41380657d2e0e2eb225ba15b4645b7de,Fix wrong exception handled on listener creation,MERGED,2019-07-15 16:43:58.000000000,2019-07-24 16:56:39.000000000,2019-07-24 16:56:39.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}]","[{'number': 1, 'created': '2019-07-15 16:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8c8b7b6864080df1ffb5e41f4b6913b05833c4a1', 'message': 'Fix wrong exception handled on listener creation\n\nIn case a bad request error occur when ensuring the\nneutron resource is provisioned, we are not reraising\nthe exception to properly handle it, instead a resource\nnot ready exception is raised when it timeout, causing\nthe controller to continously restart. Also, the wrong\nexception is being handled.\n\nThis commit fixes the issue by raising the bad request\nexception and catching it.\n\nChange-Id: I325c56ce41380657d2e0e2eb225ba15b4645b7de\n'}, {'number': 2, 'created': '2019-07-15 16:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/564609375ce53e70fff4b975dbd00445671c90a4', 'message': ""Fix wrong exception handled on listener creation\n\nIn case a bad request error occur when ensuring the\nneutron resource is provisioned, we are not reraising\nthe exception to properly handle it nor we're catching\nthe right exception, instead a resource not ready exception\nis raised when it timeout, causing the controller to continously\nrestart.\n\nThis commit fixes the issue by raising the bad request\nexception and catching it.\n\nChange-Id: I325c56ce41380657d2e0e2eb225ba15b4645b7de\n""}, {'number': 3, 'created': '2019-07-15 16:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3de0000d2a85ee30ed82995334f140a2582d6bbc', 'message': ""Fix wrong exception handled on listener creation\n\nIn case a bad request error occur when ensuring the\nneutron resource is provisioned, we are not reraising\nthe exception to properly handle it nor we're catching\nthe right exception, instead a resource not ready exception\nis raised when it timeout, causing the controller to continously\nrestart.\n\nThis commit fixes the issue by raising the bad request\nexception and catching it.\n\nTODO:\n - Add Launchpad bug\n - Fix test\n\nChange-Id: I325c56ce41380657d2e0e2eb225ba15b4645b7de\n""}, {'number': 4, 'created': '2019-07-17 12:27:08.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/drivers/test_lbaasv2.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/dc53a2bf24b8a26997cfb068b205ddda4bb4a4cd', 'message': ""Fix wrong exception handled on listener creation\n\nIn case a bad request error occur when ensuring the\nneutron resource is provisioned, we are not reraising\nthe exception to properly handle it nor we're catching\nthe right exception, instead a resource not ready exception\nis raised when it timeout, causing the controller to continously\nrestart.\n\nThis commit fixes the issue by raising the bad request\nexception and catching it.\n\nCloses-Bug: 1836891\n\nChange-Id: I325c56ce41380657d2e0e2eb225ba15b4645b7de\n""}]",0,670881,dc53a2bf24b8a26997cfb068b205ddda4bb4a4cd,21,4,4,27032,,,0,"Fix wrong exception handled on listener creation

In case a bad request error occur when ensuring the
neutron resource is provisioned, we are not reraising
the exception to properly handle it nor we're catching
the right exception, instead a resource not ready exception
is raised when it timeout, causing the controller to continously
restart.

This commit fixes the issue by raising the bad request
exception and catching it.

Closes-Bug: 1836891

Change-Id: I325c56ce41380657d2e0e2eb225ba15b4645b7de
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/81/670881/4 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/lbaasv2.py'],1,8c8b7b6864080df1ffb5e41f4b6913b05833c4a1,fix-catch-wrong-exception,from six.moves import http_client as httplib except requests.exceptions.HTTPError: except requests.exceptions.HTTPError as e: if e.response.status_code == httplib.BAD_REQUEST: raise, except o_exc.BadRequestException: except o_exc.BadRequestException: continue,5,3
openstack%2Fhorizon~master~Ia7d2eb2988fe10c4fcb3ab21c68ccd947feced53,openstack/horizon,master,Ia7d2eb2988fe10c4fcb3ab21c68ccd947feced53,Add exception message when user Encrypt an 'Volume Type' in Use,MERGED,2019-07-23 12:30:43.000000000,2019-07-24 16:41:45.000000000,2019-07-24 16:41:45.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-07-23 12:30:43.000000000', 'files': ['openstack_dashboard/dashboards/admin/volume_types/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6216aa1a3713e4a4ebfc2e2dc088f236c677f0d4', 'message': 'Add exception message when user Encrypt an \'Volume Type\' in Use\n\nWhen User tries to encrypt a \'Volume Type\' which is already in use,\nUser gets an error message ""Unable to create encrypted volume type""\non the horizon. but IMO it needs to raise an error message\nlike ""Cannot create encryption specs. Volume type in use"".\n\nChange-Id: Ia7d2eb2988fe10c4fcb3ab21c68ccd947feced53\nCloses-Bug: #1837531\n'}]",0,672276,6216aa1a3713e4a4ebfc2e2dc088f236c677f0d4,9,5,1,29313,,,0,"Add exception message when user Encrypt an 'Volume Type' in Use

When User tries to encrypt a 'Volume Type' which is already in use,
User gets an error message ""Unable to create encrypted volume type""
on the horizon. but IMO it needs to raise an error message
like ""Cannot create encryption specs. Volume type in use"".

Change-Id: Ia7d2eb2988fe10c4fcb3ab21c68ccd947feced53
Closes-Bug: #1837531
",git fetch https://review.opendev.org/openstack/horizon refs/changes/76/672276/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/admin/volume_types/forms.py'],1,6216aa1a3713e4a4ebfc2e2dc088f236c677f0d4,bug/1837531," except Exception as ex: exceptions.handle( request, _('Unable to create encrypted volume type: %s') % ex, redirect=redirect)"," except Exception: exceptions.handle(request, _('Unable to create encrypted volume type.'), redirect=redirect)",4,4
openstack%2Fopenstack-helm-infra~master~I6c052c0fabe0067612d6a3d9d3bfac4df59202d7,openstack/openstack-helm-infra,master,I6c052c0fabe0067612d6a3d9d3bfac4df59202d7,Restore overrides functionality after regression,MERGED,2019-07-20 01:16:25.000000000,2019-07-24 16:25:49.000000000,2019-07-24 16:25:49.000000000,"[{'_account_id': 8181}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26686}, {'_account_id': 28208}, {'_account_id': 30038}]","[{'number': 1, 'created': '2019-07-20 01:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7b20b78d76a513e27fc3d17ba0b5968b42fb91ed', 'message': 'Restore overrides functionality after regression\n\nhttps://review.opendev.org/#/c/667022 introduced a regression in the\noverrides functionality, which caused the corresponding gate test to\nfail. This is probably because Sprig docs for `merge` make it seem like\nthe dict precedence ordering is opposite that of `mergeOverwrite`, when\nin fact the description for `mergeOverwrite` is correct for both.\n\nThis patchset changes the argument ordering back to what they were\npreviously and makes gates green again.\n\nThe author for 667022 should add a gate test to ensure that the\nundesired condition which that PS was meant to address does not also\nregress. In the event of a conflict, we should work together to ensure\nboth can be resolved without breaking the other.\n\nChange-Id: I6c052c0fabe0067612d6a3d9d3bfac4df59202d7\n'}, {'number': 2, 'created': '2019-07-20 03:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bb43c4562fdd24fb3589bce17196501795efd0b3', 'message': 'Restore overrides functionality after regression\n\nRevert 833d426da8e4b049277ca9847830f6e6beee40c3\n\nhttps://review.opendev.org/#/c/667022 introduced a regression in the\noverrides functionality, which caused the corresponding gate test to\nfail. This ""fixed"" a problem by breaking the override capability.\n\nThis patchset changes the argument ordering back to what they were\npreviously and makes gates green again.\n\nWe will need to look for another way of fixing the problem identified in\n667022 that does not break override capabilities.\n\nChange-Id: I6c052c0fabe0067612d6a3d9d3bfac4df59202d7\n'}, {'number': 3, 'created': '2019-07-20 03:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a74b599919272fee8f9d3dacca76943d87a46fae', 'message': 'Restore overrides functionality after regression\n\nRevert 833d426da8e4b049277ca9847830f6e6beee40c3\n\nhttps://review.opendev.org/#/c/667022 introduced a regression in the\noverrides functionality, which caused the corresponding gate test to\nfail. This ""fixed"" a problem by breaking the override capability.\n\nThis patchset reverts the previous to restore override functionality and\nmake gates green again. Deep copy is added in order to resolve the\noriginal problem that 667022 attempted to resolve.\n\nChange-Id: I6c052c0fabe0067612d6a3d9d3bfac4df59202d7\n'}, {'number': 4, 'created': '2019-07-22 17:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/81a6fb7740bff7af2874d40a4c5ea6a7d6003ac8', 'message': 'Restore overrides functionality after regression\n\nRevert 833d426da8e4b049277ca9847830f6e6beee40c3\n\nhttps://review.opendev.org/#/c/667022 introduced a regression in the\noverrides functionality, which caused the corresponding gate test to\nfail. This ""fixed"" a problem by breaking the override capability.\n\nThis patchset reverts the previous to restore override functionality and\nmake gates green again. Deep copy is added in order to resolve the\noriginal problem that 667022 attempted to resolve.\n\nChange-Id: I6c052c0fabe0067612d6a3d9d3bfac4df59202d7\n'}, {'number': 5, 'created': '2019-07-22 18:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e8d5eb61135b2d97dc578991ce7e5eb29e5ebaa5', 'message': 'Restore overrides functionality after regression\n\nRevert 833d426da8e4b049277ca9847830f6e6beee40c3\n\nhttps://review.opendev.org/#/c/667022 introduced a regression in the\noverrides functionality, which caused the corresponding gate test to\nfail. This ""fixed"" a problem by breaking the override capability.\n\nThis patchset reverts the previous to restore override functionality and\nmake gates green again. Deep copy is added in order to resolve the\noriginal problem that 667022 attempted to resolve.\n\nChange-Id: I6c052c0fabe0067612d6a3d9d3bfac4df59202d7\n'}, {'number': 6, 'created': '2019-07-22 18:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b376778d9689dffa05aa8c973928971734c65a58', 'message': 'Restore overrides functionality after regression\n\nRevert 833d426da8e4b049277ca9847830f6e6beee40c3\n\nhttps://review.opendev.org/#/c/667022 introduced a regression in the\noverrides functionality, which caused the corresponding gate test to\nfail. This ""fixed"" a problem by breaking the override capability.\n\nThis patchset reverts the previous to restore override functionality and\nmake gates green again. Deep copy is added in order to resolve the\noriginal problem that 667022 attempted to resolve.\n\nChange-Id: I6c052c0fabe0067612d6a3d9d3bfac4df59202d7\n'}, {'number': 7, 'created': '2019-07-22 20:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b356494b23e8019e7736e151f38eb0300a607e6f', 'message': 'Restore overrides functionality after regression\n\nRevert 833d426da8e4b049277ca9847830f6e6beee40c3\n\nhttps://review.opendev.org/#/c/667022 introduced a regression in the\noverrides functionality, which caused the corresponding gate test to\nfail. This ""fixed"" a problem by breaking the override capability.\n\nThis patchset reverts the previous to restore override functionality and\nmake gates green again. Deep copy is added in order to resolve the\noriginal problem that 667022 attempted to resolve.\n\nChange-Id: I6c052c0fabe0067612d6a3d9d3bfac4df59202d7\n'}, {'number': 8, 'created': '2019-07-22 20:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/72e2e95297d3117eb53561c1e1faa9ce7bd1bab7', 'message': 'Restore overrides functionality after regression\n\nRevert 833d426da8e4b049277ca9847830f6e6beee40c3\n\nhttps://review.opendev.org/#/c/667022 introduced a regression in the\noverrides functionality, which caused the corresponding gate test to\nfail. This ""fixed"" a problem by breaking the override capability.\n\nThis patchset reverts the previous to restore override functionality and\nmake gates green again. Deep copy is added in order to resolve the\noriginal problem that 667022 attempted to resolve.\n\nChange-Id: I6c052c0fabe0067612d6a3d9d3bfac4df59202d7\n'}, {'number': 9, 'created': '2019-07-23 00:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/847a97515ed16eedeef497b01778b04b68bbf981', 'message': 'Restore overrides functionality after regression\n\nRevert 833d426da8e4b049277ca9847830f6e6beee40c3\n\nhttps://review.opendev.org/#/c/667022 introduced a regression in the\noverrides functionality, which caused the corresponding gate test to\nfail. This ""fixed"" a problem by breaking the override capability.\n\nThis patchset reverts the previous to restore override functionality and\nmake gates green again. Deep copy is added in order to resolve the\noriginal problem that 667022 attempted to resolve.\n\nChange-Id: I6c052c0fabe0067612d6a3d9d3bfac4df59202d7\n'}, {'number': 10, 'created': '2019-07-24 12:18:44.000000000', 'files': ['tools/gate/divingbell/divingbell-tests.sh', 'ceph-osd/templates/utils/_osd_daemonset_overrides.tpl', 'helm-toolkit/templates/utils/_daemonset_overrides.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ab8c81f2ee0953e4e2ead0817e471ff0c1f65f79', 'message': 'Restore overrides functionality after regression\n\nRevert 833d426da8e4b049277ca9847830f6e6beee40c3\n\nhttps://review.opendev.org/#/c/667022 introduced a regression in the\noverrides functionality, which caused the corresponding gate test to\nfail. This ""fixed"" a problem by breaking the override capability.\n\nThis patchset reverts the previous to restore override functionality and\nmake gates green again. Deep copy is added in order to resolve the\noriginal problem that 667022 attempted to resolve.\n\nChange-Id: I6c052c0fabe0067612d6a3d9d3bfac4df59202d7\n'}]",0,671875,ab8c81f2ee0953e4e2ead0817e471ff0c1f65f79,36,9,10,26686,,,0,"Restore overrides functionality after regression

Revert 833d426da8e4b049277ca9847830f6e6beee40c3

https://review.opendev.org/#/c/667022 introduced a regression in the
overrides functionality, which caused the corresponding gate test to
fail. This ""fixed"" a problem by breaking the override capability.

This patchset reverts the previous to restore override functionality and
make gates green again. Deep copy is added in order to resolve the
original problem that 667022 attempted to resolve.

Change-Id: I6c052c0fabe0067612d6a3d9d3bfac4df59202d7
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/75/671875/4 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/templates/utils/_osd_daemonset_overrides.tpl', 'helm-toolkit/templates/utils/_daemonset_overrides.tpl']",2,7b20b78d76a513e27fc3d17ba0b5968b42fb91ed,, {{- $merged_dict := merge $root_conf_copy $override_conf_copy }} {{- $merged_dict := merge $root_conf_copy $override_conf_copy }}, {{- $merged_dict := merge $override_conf_copy $root_conf_copy }} {{- $merged_dict := merge $override_conf_copy $root_conf_copy }},4,4
openstack%2Frequirements~master~Ie0fabdcb9ee4701ebd7bc3d03fe64483d8220224,openstack/requirements,master,Ie0fabdcb9ee4701ebd7bc3d03fe64483d8220224,update constraint for openstacksdk to new release 0.31.2,MERGED,2019-07-22 21:15:43.000000000,2019-07-24 16:25:09.000000000,2019-07-24 16:25:09.000000000,"[{'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 21:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8e5703f31e4ee9ff177b7920363888d78c0ce67c', 'message': 'update constraint for openstacksdk to new release 0.31.2\n\nChange-Id: Ie0fabdcb9ee4701ebd7bc3d03fe64483d8220224\nmeta:version: 0.31.2\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Monty Taylor <mordred@inaugust.com>\nmeta:release:Commit: Monty Taylor <mordred@inaugust.com>\nmeta:release:Change-Id: I49b1cf95a8f9611f5fdd440eb3d7415a01121b47\nmeta:release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-07-23 18:27:32.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/91a0c42938919c9e1a55e82412148f4f0e15a98c', 'message': 'update constraint for openstacksdk to new release 0.31.2\n\nChange-Id: Ie0fabdcb9ee4701ebd7bc3d03fe64483d8220224\nmeta:version: 0.31.2\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Monty Taylor <mordred@inaugust.com>\nmeta:release:Commit: Monty Taylor <mordred@inaugust.com>\nmeta:release:Change-Id: I49b1cf95a8f9611f5fdd440eb3d7415a01121b47\nmeta:release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,672178,91a0c42938919c9e1a55e82412148f4f0e15a98c,27,5,2,11131,,,0,"update constraint for openstacksdk to new release 0.31.2

Change-Id: Ie0fabdcb9ee4701ebd7bc3d03fe64483d8220224
meta:version: 0.31.2
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Monty Taylor <mordred@inaugust.com>
meta:release:Commit: Monty Taylor <mordred@inaugust.com>
meta:release:Change-Id: I49b1cf95a8f9611f5fdd440eb3d7415a01121b47
meta:release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/78/672178/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8e5703f31e4ee9ff177b7920363888d78c0ce67c,new-release,openstacksdk===0.31.2,openstacksdk===0.31.1,1,1
openstack%2Fnova~master~I986fe09f97e4d5cad940bea85a87c58606314dba,openstack/nova,master,I986fe09f97e4d5cad940bea85a87c58606314dba,[libvirt] Filter hypervisor_type by virt_type,MERGED,2018-01-05 09:50:56.000000000,2019-07-24 16:22:52.000000000,2018-03-17 02:37:48.000000000,"[{'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-05 09:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5b798ef22bbaddb11a84cffed9b437a0ab5c76f', 'message': ""[libvirt] Filter hypervisor_type by virt_type\n\nComputeNode.supported_hv_specs field has hypervisor_type\ninfomation about which type (e.g. KVM or both KVM and QEMU) of guests\nare supported by the hypervisor, but it doesn't supply information\nabout which virt_type is set to that compute node.\n\nThis means that we have no way to know which type of guests are going\nto be built in that compute node from the ComputeNode object. This can\ncause wrong behavior in scheduler filters using the supported_hv_specs\nobject, such as ImagePropertiesFilter.\n\nIn libvirt driver, this patch adds a filter to exclude supported\nhypervisor_types other than the virt_type which has been set by\noperator via nova.conf.\n\nPartial-Bug: #1195361\nChange-Id: I986fe09f97e4d5cad940bea85a87c58606314dba\n""}, {'number': 2, 'created': '2018-01-06 01:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f273ba2c129893c1559e576371d361dbedf426be', 'message': ""[libvirt] Filter hypervisor_type by virt_type\n\nComputeNode.supported_hv_specs field has hypervisor_type\ninfomation about which type (e.g. KVM or both KVM and QEMU) of guests\nare supported by the hypervisor, but it doesn't supply information\nabout which virt_type is set to that compute node.\n\nThis means that we have no way to know which type of guests are going\nto be built in that compute node from the ComputeNode object. This can\ncause wrong behavior in scheduler filters using the supported_hv_specs\nobject, such as ImagePropertiesFilter.\n\nIn libvirt driver, this patch adds a filter to exclude supported\nhypervisor_types other than the virt_type which has been set by\noperator via nova.conf.\n\nPartial-Bug: #1195361\nChange-Id: I986fe09f97e4d5cad940bea85a87c58606314dba\n""}, {'number': 3, 'created': '2018-01-30 11:48:54.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eaa766ee2093c24fd61c61e52f46bdd9ff9e93d2', 'message': ""[libvirt] Filter hypervisor_type by virt_type\n\nComputeNode.supported_hv_specs field has hypervisor_type\ninfomation about which type (e.g. KVM or both KVM and QEMU) of guests\nare supported by the hypervisor, but it doesn't supply information\nabout which virt_type is set to that compute node.\n\nThis means that we have no way to know which type of guests are going\nto be built in that compute node from the ComputeNode object. This can\ncause wrong behavior in scheduler filters using the supported_hv_specs\nobject, such as ImagePropertiesFilter.\n\nIn libvirt driver, this patch adds a filter to exclude supported\nhypervisor_types other than the virt_type which has been set by\noperator via nova.conf.\n\nPartial-Bug: #1195361\nChange-Id: I986fe09f97e4d5cad940bea85a87c58606314dba\n""}]",3,531347,eaa766ee2093c24fd61c61e52f46bdd9ff9e93d2,50,20,3,25625,,,0,"[libvirt] Filter hypervisor_type by virt_type

ComputeNode.supported_hv_specs field has hypervisor_type
infomation about which type (e.g. KVM or both KVM and QEMU) of guests
are supported by the hypervisor, but it doesn't supply information
about which virt_type is set to that compute node.

This means that we have no way to know which type of guests are going
to be built in that compute node from the ComputeNode object. This can
cause wrong behavior in scheduler filters using the supported_hv_specs
object, such as ImagePropertiesFilter.

In libvirt driver, this patch adds a filter to exclude supported
hypervisor_types other than the virt_type which has been set by
operator via nova.conf.

Partial-Bug: #1195361
Change-Id: I986fe09f97e4d5cad940bea85a87c58606314dba
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/531347/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,c5b798ef22bbaddb11a84cffed9b437a0ab5c76f,bug/1195361,," (fields.Architecture.X86_64, 'qemu', 'hvm'),",5,1
openstack%2Ftripleo-ansible~master~I09b91a1489030560b17667fc72e92c58b9e49cbe,openstack/tripleo-ansible,master,I09b91a1489030560b17667fc72e92c58b9e49cbe,Fix documentation and skeleton role,MERGED,2019-07-24 10:45:49.000000000,2019-07-24 16:18:45.000000000,2019-07-24 16:18:45.000000000,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 10:45:49.000000000', 'files': ['_skeleton_role_/defaults/main.yml.j2', '_skeleton_role_/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0ddf709179f70c7e3be6dad1edcce89253e00f3c', 'message': 'Fix documentation and skeleton role\n\nMake variables names match actual requirements.\nChange-Id: I09b91a1489030560b17667fc72e92c58b9e49cbe\n'}]",0,672496,0ddf709179f70c7e3be6dad1edcce89253e00f3c,8,4,1,10969,,,0,"Fix documentation and skeleton role

Make variables names match actual requirements.
Change-Id: I09b91a1489030560b17667fc72e92c58b9e49cbe
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/96/672496/1 && git format-patch -1 --stdout FETCH_HEAD,"['_skeleton_role_/defaults/main.yml.j2', '_skeleton_role_/vars/main.yml']",2,0ddf709179f70c7e3be6dad1edcce89253e00f3c,,"# All variables within this role should have a prefix of ""tripleo_{{ role_name | replace('-', '_') }}""","# All variables within this role should have a prefix of ""{{ role_name }}""",3,3
openstack%2Fopenstack-helm~master~I0ec490de44969aea2cccf51d753f1ffcfa9e2511,openstack/openstack-helm,master,I0ec490de44969aea2cccf51d753f1ffcfa9e2511,Fix typo,MERGED,2019-07-18 11:55:47.000000000,2019-07-24 16:16:19.000000000,2019-07-24 16:16:19.000000000,"[{'_account_id': 9963}, {'_account_id': 12281}, {'_account_id': 16353}, {'_account_id': 17068}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28618}, {'_account_id': 29668}, {'_account_id': 30220}]","[{'number': 1, 'created': '2019-07-18 11:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fee065b72d126d0d6d4a092c79a8989b68c89a8f', 'message': 'Fix typo\n\nThe name of the variable ends with LIBVIRT although it should end with\nOPENVSWITCH, as used in line 29\n\nChange-Id: I0ec490de44969aea2cccf51d753f1ffcfa9e2511\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 2, 'created': '2019-07-18 11:56:16.000000000', 'files': ['tools/deployment/component/compute-kit/openvswitch.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d911d44ec911d20744ebe62130384d776dad9bef', 'message': 'Fix typo\n\nThe name of the variable ends with LIBVIRT although it should end with\nOPENVSWITCH, as used in line 29\n\nChange-Id: I0ec490de44969aea2cccf51d753f1ffcfa9e2511\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}]",0,671466,d911d44ec911d20744ebe62130384d776dad9bef,15,13,2,21883,,,0,"Fix typo

The name of the variable ends with LIBVIRT although it should end with
OPENVSWITCH, as used in line 29

Change-Id: I0ec490de44969aea2cccf51d753f1ffcfa9e2511
Signed-off-by: Manuel Buil <mbuil@suse.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/66/671466/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/component/compute-kit/openvswitch.sh'],1,fee065b72d126d0d6d4a092c79a8989b68c89a8f,,": ${OSH_EXTRA_HELM_ARGS_OPENVSWITCH:=""$(./tools/deployment/common/get-values-overrides.sh openvswitch)""}",": ${OSH_EXTRA_HELM_ARGS_LIBVIRT:=""$(./tools/deployment/common/get-values-overrides.sh openvswitch)""}",1,1
openstack%2Fopenstack-ansible-os_octavia~master~I750d117086ee0c9b7756e8079379a5aa7705063c,openstack/openstack-ansible-os_octavia,master,I750d117086ee0c9b7756e8079379a5aa7705063c,Save iptables rules for all Debian derivative operating systems,MERGED,2019-07-01 09:18:04.000000000,2019-07-24 16:06:06.000000000,2019-07-23 09:37:38.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 23182}, {'_account_id': 28543}, {'_account_id': 28619}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-07-01 09:18:04.000000000', 'files': ['tasks/octavia_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/9c4e9cbe2c81f98b9a4b4f9347b1108a955f7b75', 'message': 'Save iptables rules for all Debian derivative operating systems\n\nThis task was previously restricted to Ubuntu 16.04 and would be skipped\non other debian derivative OS.\n\nChange-Id: I750d117086ee0c9b7756e8079379a5aa7705063c\n'}]",0,668394,9c4e9cbe2c81f98b9a4b4f9347b1108a955f7b75,11,6,1,25023,,,0,"Save iptables rules for all Debian derivative operating systems

This task was previously restricted to Ubuntu 16.04 and would be skipped
on other debian derivative OS.

Change-Id: I750d117086ee0c9b7756e8079379a5aa7705063c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/94/668394/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/octavia_post_install.yml'],1,9c4e9cbe2c81f98b9a4b4f9347b1108a955f7b75,,- name: save iptables rules (Debian/Ubuntu) when: ansible_os_family == 'Debian',- name: save iptables rules (Ubuntu 16.04) when: ansible_distribution == 'Ubuntu' and ansible_distribution_version == '16.04',2,2
openstack%2Fcinder~stable%2Fstein~I236cff914d58f232aa0407a5ed29d6102313f6fb,openstack/cinder,stable/stein,I236cff914d58f232aa0407a5ed29d6102313f6fb,doc: Fix rbd driver marked support multiattach,ABANDONED,2019-07-10 15:23:55.000000000,2019-07-24 15:54:38.000000000,,"[{'_account_id': 7198}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29062}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-07-10 15:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5045735fd869858c97802ac8fc8f99d7f6abd110', 'message': 'doc: Fix rbd driver marked support multiattach\n\nAccording to stein release highlights, rbd driver is added\nsupport multiattach in the cinder section notes.\n\nChange-Id: I236cff914d58f232aa0407a5ed29d6102313f6fb\nCloses-Bug: #1835383\n'}, {'number': 2, 'created': '2019-07-15 05:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/22470b7af3a63f1eaee6da1546b0230632a8b35c', 'message': 'doc: Fix rbd driver marked support multiattach\n\nAccording to stein release highlights, rbd driver is added\nsupport multiattach in the cinder section notes.\nAnd we can reference the ""RBD: add support for multiattach"" ptach\nlink - https://review.opendev.org/#/c/595827 to found more message.\n\nChange-Id: I236cff914d58f232aa0407a5ed29d6102313f6fb\nCloses-Bug: #1835383\n'}, {'number': 3, 'created': '2019-07-15 06:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/024f75623df6fbed23430e702bf90902b6729a45', 'message': 'doc: Fix rbd driver marked support multiattach\n\nAccording to stein release highlights, rbd driver is added\nsupport multiattach in the cinder section notes.\nWith commit Ie3945427b54544a3b411c23bffdad1acb5e508e1 , \nmultiattach support is enabled in RBD driver.\n\nChange-Id: I236cff914d58f232aa0407a5ed29d6102313f6fb\nCloses-Bug: #1835383\n'}, {'number': 4, 'created': '2019-07-15 06:02:17.000000000', 'files': ['doc/source/reference/support-matrix.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4776f6ca7cba14e80fe55eb7af1bb2d6d42071df', 'message': 'doc: Fix rbd driver marked support multiattach\n\nAccording to stein release highlights, rbd driver is added\nsupport multiattach in the cinder section notes.\nWith commit Ie3945427b54544a3b411c23bffdad1acb5e508e1 ,\nmultiattach support is enabled in RBD driver.\n\nChange-Id: I236cff914d58f232aa0407a5ed29d6102313f6fb\nCloses-Bug: #1835383\n'}]",0,670093,4776f6ca7cba14e80fe55eb7af1bb2d6d42071df,29,11,4,29062,,,0,"doc: Fix rbd driver marked support multiattach

According to stein release highlights, rbd driver is added
support multiattach in the cinder section notes.
With commit Ie3945427b54544a3b411c23bffdad1acb5e508e1 ,
multiattach support is enabled in RBD driver.

Change-Id: I236cff914d58f232aa0407a5ed29d6102313f6fb
Closes-Bug: #1835383
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/670093/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/support-matrix.ini'],1,5045735fd869858c97802ac8fc8f99d7f6abd110,bug/1835383,driver.rbd=complete,driver.rbd=missing,1,1
openstack%2Fcinder~master~Id9cf964ea5fc1ce276eaadc0db5409e6427a92ba,openstack/cinder,master,Id9cf964ea5fc1ce276eaadc0db5409e6427a92ba,doc: Fix rbd driver marked support multiattach,MERGED,2019-07-10 15:16:58.000000000,2019-07-24 15:50:02.000000000,2019-07-19 21:14:52.000000000,"[{'_account_id': 4523}, {'_account_id': 9236}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 17499}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26297}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29062}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-07-10 15:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed6b205cd1ad3f19ada92bdebf1accf8511a3327', 'message': 'doc: Fix rbd driver marked support multiattach\n\nAccording to stein release highlights, rbd driver is added\nsupport multiattach in the cinder section notes.\n\nChange-Id: Id9cf964ea5fc1ce276eaadc0db5409e6427a92ba\nCloses-Bug: #1835383\n'}, {'number': 2, 'created': '2019-07-15 05:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/82fbe7b1302864ffbfc6cbd4a3b8416ef508dfad', 'message': 'doc: Fix rbd driver marked support multiattach\n\nAccording to stein release highlights, rbd driver is added\nsupport multiattach in the cinder section notes.\nAnd we can reference the ""RBD: add support for multiattach"" ptach\nlink - https://review.opendev.org/#/c/595827 to found more message.\n\nChange-Id: Id9cf964ea5fc1ce276eaadc0db5409e6427a92ba\nCloses-Bug: #1835383\n'}, {'number': 3, 'created': '2019-07-15 05:56:29.000000000', 'files': ['doc/source/reference/support-matrix.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f0ad03e456d954fc6e64b224575bd99fb29cb812', 'message': 'doc: Fix rbd driver marked support multiattach\n\nAccording to stein release highlights, rbd driver is added\nsupport multiattach in the cinder section notes.\nWith commit Ie3945427b54544a3b411c23bffdad1acb5e508e1 ,\nmultiattach support is enabled in RBD driver.\n\nChange-Id: Id9cf964ea5fc1ce276eaadc0db5409e6427a92ba\nCloses-Bug: #1835383\n'}]",1,670089,f0ad03e456d954fc6e64b224575bd99fb29cb812,66,28,3,29062,,,0,"doc: Fix rbd driver marked support multiattach

According to stein release highlights, rbd driver is added
support multiattach in the cinder section notes.
With commit Ie3945427b54544a3b411c23bffdad1acb5e508e1 ,
multiattach support is enabled in RBD driver.

Change-Id: Id9cf964ea5fc1ce276eaadc0db5409e6427a92ba
Closes-Bug: #1835383
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/670089/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/support-matrix.ini'],1,ed6b205cd1ad3f19ada92bdebf1accf8511a3327,bug/1835383,driver.rbd=complete,driver.rbd=missing,1,1
openstack%2Ftripleo-ansible~master~Ic6dfaa56317c68779a50cea63bbf85b9d663184c,openstack/tripleo-ansible,master,Ic6dfaa56317c68779a50cea63bbf85b9d663184c,Import the tripleo-persist role from tripleo-common.,MERGED,2019-07-11 18:23:06.000000000,2019-07-24 15:44:54.000000000,2019-07-24 15:44:54.000000000,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-11 18:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b82edef65151971ebfbcb171a98e476a2d73af4b', 'message': 'Import the tripleo-persist role from tripleo-common.\n\nThe role will now also be tested with Molecule on CentOS 7 and\nFedora 28 docker containers.\n\nChange-Id: Ic6dfaa56317c68779a50cea63bbf85b9d663184c\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2019-07-11 18:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/34305933d8666da9d921a16386eb776bcdc82e16', 'message': 'Import the tripleo-persist role from tripleo-common.\n\nThe role will now also be tested with Molecule on CentOS 7 and\nFedora 28 docker containers.\n\nChange-Id: Ic6dfaa56317c68779a50cea63bbf85b9d663184c\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 3, 'created': '2019-07-11 18:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/399e014b21bd213b2dae2747bd470a6e15037902', 'message': 'Import the tripleo-persist role from tripleo-common.\n\nThe role will now also be tested with Molecule on CentOS 7 and\nFedora 28 docker containers.\n\nChange-Id: Ic6dfaa56317c68779a50cea63bbf85b9d663184c\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 4, 'created': '2019-07-11 19:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/585a21f668145a7c628bf56ae2579022c0122d21', 'message': 'Import the tripleo-persist role from tripleo-common.\n\nThe role will now also be tested with Molecule on CentOS 7 and\nFedora 28 docker containers.\n\nChange-Id: Ic6dfaa56317c68779a50cea63bbf85b9d663184c\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 5, 'created': '2019-07-11 20:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5056c88de0772188f7519dd9ac55f16223792ad3', 'message': 'Import the tripleo-persist role from tripleo-common.\n\nThe role will now also be tested with Molecule on CentOS 7 and\nFedora 28 docker containers.\n\nChange-Id: Ic6dfaa56317c68779a50cea63bbf85b9d663184c\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 6, 'created': '2019-07-12 12:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/44741e063f0fad19d65f887286b507e06a09c38a', 'message': 'Import the tripleo-persist role from tripleo-common.\n\nThe role will now also be tested with Molecule on CentOS 7 and\nFedora 28 docker containers.\n\nChange-Id: Ic6dfaa56317c68779a50cea63bbf85b9d663184c\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 7, 'created': '2019-07-15 17:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e302fc37620aabae4783f47f8bacf1d51685aedc', 'message': 'Import the tripleo-persist role from tripleo-common.\n\nThe role will now also be tested with Molecule on CentOS 7 and\nFedora 28 docker containers.\n\nChange-Id: Ic6dfaa56317c68779a50cea63bbf85b9d663184c\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 8, 'created': '2019-07-18 14:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9442b365d543d4129c2f3ba6d547f8cfa8a5208f', 'message': 'Import the tripleo-persist role from tripleo-common.\n\nThe role will now also be tested with Molecule on CentOS 7 and\nFedora 28 docker containers.\n\nChange-Id: Ic6dfaa56317c68779a50cea63bbf85b9d663184c\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 9, 'created': '2019-07-18 14:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9e765bf609dd2cc70ca8941a5fe7799ccae541b1', 'message': 'Import the tripleo-persist role from tripleo-common.\n\nThe role will now also be tested with Molecule on CentOS 7 and\nFedora 28 docker containers.\n\nChange-Id: Ic6dfaa56317c68779a50cea63bbf85b9d663184c\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 10, 'created': '2019-07-18 16:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2c88aacb9b9b7030bff283ad76940680f9b836e8', 'message': 'Import the tripleo-persist role from tripleo-common.\n\nThe role will now also be tested with Molecule on CentOS 7 and\nFedora 28 docker containers.\n\nChange-Id: Ic6dfaa56317c68779a50cea63bbf85b9d663184c\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 11, 'created': '2019-07-18 18:15:21.000000000', 'files': ['zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-persist/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-persist/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-persist/tasks/restore.yml', 'tripleo_ansible/roles/tripleo-persist/tasks/cleanup.yml', 'tripleo_ansible/roles/tripleo-persist/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-persist/defaults/main.yml', 'tripleo_ansible/roles/tripleo-persist/tasks/persist.yml', 'doc/source/roles/role-tripleo-persist.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7f726d8cf8abed79ec943d78a78bec9b2c9ba7e3', 'message': 'Import the tripleo-persist role from tripleo-common.\n\nThe role will now also be tested with Molecule on CentOS 7 and\nFedora 28 docker containers.\n\nChange-Id: Ic6dfaa56317c68779a50cea63bbf85b9d663184c\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",33,670362,7f726d8cf8abed79ec943d78a78bec9b2c9ba7e3,52,6,11,25877,,,0,"Import the tripleo-persist role from tripleo-common.

The role will now also be tested with Molecule on CentOS 7 and
Fedora 28 docker containers.

Change-Id: Ic6dfaa56317c68779a50cea63bbf85b9d663184c
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/62/670362/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-persist/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-persist/molecule/default/Dockerfile.j2', 'tripleo_ansible/roles/tripleo-persist/tasks/cleanup.yml', 'tripleo_ansible/roles/tripleo-persist/tasks/restore.yml', 'tripleo_ansible/roles/tripleo-persist/test-playbook.yml', 'tripleo_ansible/roles/tripleo-persist/README.md', 'tripleo_ansible/roles/tripleo-persist/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-persist/defaults/main.yml', 'tripleo_ansible/roles/tripleo-persist/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-persist/tasks/persist.yml']",10,b82edef65151971ebfbcb171a98e476a2d73af4b,role-import-persist,"- name: ensure local storage directory exists and has correct permissions file: path: ""{{ tripleo_persist_storage_root_dir }}"" # Attempting to set an owner fails with ""chown failed: failed to # look up user"" so we at least ensure the permissions. mode: 0700 state: directory delegate_to: localhost become: ""{{ tripleo_persist_storage_root_become }}"" - name: create tempfile for the archive tempfile: prefix: ansible.tripleo-persist. register: tripleo_persist_tempfile - name: make sure we don't have a trailing forward slash set_fact: tripleo_persist_dir_safe: ""{{ tripleo_persist_dir|regex_replace('\\/$', '') }}"" cacheable: no # Using the ""archive"" module lists lists all tarred files in module # output, if there's too many files, it can crash ansible even with # ""no_log: true"". - name: create the archive shell: | tar -czf ""{{ tripleo_persist_tempfile.path }}"" -C ""{{ tripleo_persist_dir_safe|dirname }}"" ""{{ tripleo_persist_dir_safe|basename }}"" - name: fetch the archive fetch: src: ""{{ tripleo_persist_tempfile.path }}"" dest: ""{{ tripleo_persist_storage_root_dir }}/{{ inventory_hostname }}{{ tripleo_persist_dir_safe }}.tar.gz"" flat: yes - name: remove tempfile file: name: ""{{ tripleo_persist_tempfile.path }}"" state: absent ",,273,0
openstack%2Fopenstack-ansible-os_tempest~master~I4dc81706fd1ba39097ec3a70648897a32083f173,openstack/openstack-ansible-os_tempest,master,I4dc81706fd1ba39097ec3a70648897a32083f173,Update stestr_executable variable for RHEL-8,MERGED,2019-07-23 08:30:32.000000000,2019-07-24 15:44:33.000000000,2019-07-24 15:44:33.000000000,"[{'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 8367}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 08:30:32.000000000', 'files': ['vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/5825392971db66cc09b793e9d350dde7600f39c6', 'message': 'Update stestr_executable variable for RHEL-8\n\nRHEL-8 comes only with python3 and so, the executable used by stestr is\ncalled stestr-3.\n\nChange-Id: I4dc81706fd1ba39097ec3a70648897a32083f173\n'}]",0,672225,5825392971db66cc09b793e9d350dde7600f39c6,23,7,1,8367,,,0,"Update stestr_executable variable for RHEL-8

RHEL-8 comes only with python3 and so, the executable used by stestr is
called stestr-3.

Change-Id: I4dc81706fd1ba39097ec3a70648897a32083f173
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/25/672225/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-8.yml'],1,5825392971db66cc09b793e9d350dde7600f39c6,stestr-3,"_stestr_executable: stestr-3 - ""{{ (tempest_service_available_zaqar | bool) | ternary('python3-zaqar-tests-tempest', '') }}"" "," - ""{{ (tempest_service_available_zaqar | bool) | ternary('python3-zaqar-tests-tempest', '') }}""",3,1
openstack%2Ftripleo-heat-templates~master~Ie596b04614c2ca9d961694f4012c1553a092aa3e,openstack/tripleo-heat-templates,master,Ie596b04614c2ca9d961694f4012c1553a092aa3e,CI should auto-generate server_certs_key_passphrase,MERGED,2019-07-04 10:46:59.000000000,2019-07-24 15:41:24.000000000,2019-07-24 15:41:24.000000000,"[{'_account_id': 3153}, {'_account_id': 6579}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-04 10:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b113d90c038c62f0f798e3576cceac96b7e26ff7', 'message': 'DNM: Test Octavia CI\n\nChange-Id: Ie596b04614c2ca9d961694f4012c1553a092aa3e\n'}, {'number': 2, 'created': '2019-07-04 10:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/960f3894ddc117c2e6a55d184e4624378b5548f0', 'message': 'DNM: Test Octavia CI\n\nDepends-On: I5c2629d9e7700fe1dd6f915bc257b1f058e40617\nDepends-On: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989\nDepends-On: I886f2b8ac7092d9b3da38852e92a615d5666eea7\n\nChange-Id: Ie596b04614c2ca9d961694f4012c1553a092aa3e\n'}, {'number': 3, 'created': '2019-07-08 09:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b016a14e31e3d819ca98eee2d681449aa53da89', 'message': 'CI should auto-generate server_certs_key_passphrase\n\nThe bug 1833942 showed that in a case that the generated value\nserver_certs_key_passphrase is invalid, Octavia will fail to operate.\n\nIn CI, we currently provide a pre-defined passphrase that might cover\nfor potential breakages in the future. This patch removes the pre-defined\npassphrase so it will get generated on each run.\n\nNote that, TripleO will now[1] either auto-generate a valid passphrase or\nvalidate a pre-defined one.\n\nRelated-Bug: #1833942\n\n[1] https://review.opendev.org/#/q/topic:OctaviaServerCertsKeyPassphrase-32chars\n\nDepends-On: I5c2629d9e7700fe1dd6f915bc257b1f058e40617\nDepends-On: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989\nDepends-On: I886f2b8ac7092d9b3da38852e92a615d5666eea7\n\nChange-Id: Ie596b04614c2ca9d961694f4012c1553a092aa3e\n'}, {'number': 4, 'created': '2019-07-08 09:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/329d5c3cfa1a899f9e18ebb6cced5ca7272a690c', 'message': 'CI should auto-generate server_certs_key_passphrase\n\nBug 1833942 showed that in a case that the generated value\nserver_certs_key_passphrase is invalid, Octavia will fail to operate.\n\nIn CI, we currently provide a pre-defined passphrase that might cover\nfor potential breakages in the future. This patch removes the\npre-defined passphrase so it will get generated on each run.\n\nNote that, TripleO will now[1] either auto-generate a valid passphrase\nor validate a pre-defined one.\n\nRelated-Bug: #1833942\n\n[1] https://review.opendev.org/#/q/topic:OctaviaServerCertsKeyPassphrase-32chars\n\nDepends-On: I5c2629d9e7700fe1dd6f915bc257b1f058e40617\nDepends-On: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989\nDepends-On: I886f2b8ac7092d9b3da38852e92a615d5666eea7\n\nChange-Id: Ie596b04614c2ca9d961694f4012c1553a092aa3e\n'}, {'number': 5, 'created': '2019-07-16 08:39:38.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f3088c4aa2612a772e023f14fafc72c61c6cb07', 'message': 'CI should auto-generate server_certs_key_passphrase\n\nBug 1833942 showed that in a case that the generated value\nserver_certs_key_passphrase is invalid, Octavia will fail to operate.\n\nIn CI, we currently provide a pre-defined passphrase that might cover\nfor potential breakages in the future. This patch removes the\npre-defined passphrase so it will get generated on each run.\n\nNote that, TripleO will now[1] either auto-generate a valid passphrase\nor validate a pre-defined one.\n\nRelated-Bug: #1833942\n\n[1] https://review.opendev.org/#/q/topic:OctaviaServerCertsKeyPassphrase-32chars\n\nDepends-On: I5c2629d9e7700fe1dd6f915bc257b1f058e40617\nDepends-On: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989\nDepends-On: I886f2b8ac7092d9b3da38852e92a615d5666eea7\n\nChange-Id: Ie596b04614c2ca9d961694f4012c1553a092aa3e\n'}]",0,669141,1f3088c4aa2612a772e023f14fafc72c61c6cb07,25,6,5,6579,,,0,"CI should auto-generate server_certs_key_passphrase

Bug 1833942 showed that in a case that the generated value
server_certs_key_passphrase is invalid, Octavia will fail to operate.

In CI, we currently provide a pre-defined passphrase that might cover
for potential breakages in the future. This patch removes the
pre-defined passphrase so it will get generated on each run.

Note that, TripleO will now[1] either auto-generate a valid passphrase
or validate a pre-defined one.

Related-Bug: #1833942

[1] https://review.opendev.org/#/q/topic:OctaviaServerCertsKeyPassphrase-32chars

Depends-On: I5c2629d9e7700fe1dd6f915bc257b1f058e40617
Depends-On: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989
Depends-On: I886f2b8ac7092d9b3da38852e92a615d5666eea7

Change-Id: Ie596b04614c2ca9d961694f4012c1553a092aa3e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/669141/5 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario010-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml']",2,b113d90c038c62f0f798e3576cceac96b7e26ff7,OctaviaServerCertsKeyPassphrase-32chars,, OctaviaServerCertsKeyPassphrase: 'insecure-key-do-not-use-this-key',0,2
openstack%2Freleases~master~I4ac66c9e3e40780b588377c1dfe42511eed231a3,openstack/releases,master,I4ac66c9e3e40780b588377c1dfe42511eed231a3,Switch to ruamel for yaml handling,MERGED,2019-07-08 16:41:32.000000000,2019-07-24 15:34:44.000000000,2019-07-11 09:00:19.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 16:41:32.000000000', 'files': ['openstack_releases/cmds/new_release.py', 'requirements.txt', 'openstack_releases/yamlutils.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/releases/commit/b6ca2693860e7d46acfa7ad01911625fd3f4145a', 'message': 'Switch to ruamel for yaml handling\n\nThe Ruamel library has better support for modifying YAML while keeping\nthings like comments. This updates our yamlutil module to use\nruamel.yaml instead of PyYAML.\n\nStory: 2002908\nTask: 22880\n\nChange-Id: I4ac66c9e3e40780b588377c1dfe42511eed231a3\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,669717,b6ca2693860e7d46acfa7ad01911625fd3f4145a,12,6,1,11904,,,0,"Switch to ruamel for yaml handling

The Ruamel library has better support for modifying YAML while keeping
things like comments. This updates our yamlutil module to use
ruamel.yaml instead of PyYAML.

Story: 2002908
Task: 22880

Change-Id: I4ac66c9e3e40780b588377c1dfe42511eed231a3
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/17/669717/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_releases/cmds/new_release.py', 'requirements.txt', 'openstack_releases/yamlutils.py', 'doc/requirements.txt']",4,b6ca2693860e7d46acfa7ad01911625fd3f4145a,ruamel,ruamel.yaml>=0.15,,16,111
openstack%2Fsecurity-doc~master~I1e1ed972f0ec9f1c36a8b22b724aed51b1ee2399,openstack/security-doc,master,I1e1ed972f0ec9f1c36a8b22b724aed51b1ee2399,Merge bibliography sections which had been littered across the document,ABANDONED,2019-07-23 21:44:32.000000000,2019-07-24 15:24:46.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 21:44:32.000000000', 'files': ['security-guide/source/management/management-interfaces.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/d3e8e6740e2d7e6ff819c691640cbe325659459e', 'message': 'Merge bibliography sections which had been littered across the document\n\nChange-Id: I1e1ed972f0ec9f1c36a8b22b724aed51b1ee2399\nSigned-off-by: Nick Tait <ntait@redhat.com>\n'}]",0,672373,d3e8e6740e2d7e6ff819c691640cbe325659459e,4,2,1,28011,,,0,"Merge bibliography sections which had been littered across the document

Change-Id: I1e1ed972f0ec9f1c36a8b22b724aed51b1ee2399
Signed-off-by: Nick Tait <ntait@redhat.com>
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/73/672373/1 && git format-patch -1 --stdout FETCH_HEAD,['security-guide/source/management/management-interfaces.rst'],1,d3e8e6740e2d7e6ff819c691640cbe325659459e,biblio,"OpenStack.org, ReleaseNotes/Liberty. 2015. `OpenStack Liberty Release Notes <https://wiki.openstack.org/wiki/ReleaseNotes/Liberty>`__ OpenStack.org, OpenStack End User Guide section. 2016. `OpenStack command-line clients overview <https://docs.openstack.org/user-guide/common/cli_overview.html>`__ OpenStack.org, Set environment variables using the OpenStack RC file. 2016. `Download and source the OpenStack RC file <https://docs.openstack.org/user-guide/common/cli_set_environment_variables_using_openstack_rc.html#download-and-source-the-openstack-rc-file>`__ ","Bibliography ------------ OpenStack.org, ReleaseNotes/Liberty. 2015. `OpenStack Liberty Release Notes <https://wiki.openstack.org/wiki/ReleaseNotes/Liberty>`__ Bibliography ------------ OpenStack.org, OpenStack End User Guide section. 2016. `OpenStack command-line clients overview <https://docs.openstack.org/user-guide/common/cli_overview.html>`__ OpenStack.org, Set environment variables using the OpenStack RC file. 2016. `Download and source the OpenStack RC file <https://docs.openstack.org/user-guide/common/cli_set_environment_variables_using_openstack_rc.html#download-and-source-the-openstack-rc-file>`__ ",9,15
openstack%2Frequirements~master~I1b8cde55e36ca476e6f64b3f414151ceb40feeb0,openstack/requirements,master,I1b8cde55e36ca476e6f64b3f414151ceb40feeb0,Add scapy to global requirements,ABANDONED,2019-07-19 16:58:07.000000000,2019-07-24 15:15:02.000000000,,"[{'_account_id': 5263}, {'_account_id': 13995}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-19 16:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c4b61bcb15c57527e84562df417439fd94971b46', 'message': 'Add scapy to global requirements\n\nIn a new feature in Neutron, a user will be able to add ethertypes other\nthan just IPv4 and IPv6 as part of security groups.  In order to\nproperly test this, a fullstack test is being created that sets up a\ntcpdump and then crafts a packet with a custom ethertype, to make sure\nthat the packet is detected.  The library we use to create the packet\nwith the custom ethertype, scapy, needs to be added to the global\nrequirements list.\n\nChange-Id: I1b8cde55e36ca476e6f64b3f414151ceb40feeb0\nRelated-Bug: #1832758\nNeeded-By: https://review.opendev.org/670203\n'}, {'number': 2, 'created': '2019-07-22 18:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0328f868d247830de9d5c0fddb21b307ce02c944', 'message': 'Add scapy to global requirements\n\nIn a new feature in Neutron, a user will be able to add ethertypes other\nthan just IPv4 and IPv6 as part of security groups.  In order to\nproperly test this, a fullstack test is being created that sets up a\ntcpdump and then crafts a packet with a custom ethertype, to make sure\nthat the packet is detected.  The library we use to create the packet\nwith the custom ethertype, scapy, needs to be added to the global\nrequirements list.\n\nNew requirement questionnaire:\n\n1.) Is the library actively maintained?\n\nYes, the library is under active development as you can see from the\ncommit frequency graph [1].\n\n2.) Is the library good code?\n\nYes.  Scapy is commonly used in the security community to craft packets\n(the same use we would like for it here) and is considered the best\nlibrary for this purpose in Python from those I have talked to.\n\n3.) Is the library python 3 compatible?\n\nYes, Scapy supports python 2.7 as well as python 3.4 through 3.7.\n\n4.) Is the library license compatible?\n\nScapy is licensed under the GPL v2, which is listed as an incompatible\nlicense per [2].  Since this is a testing use case for this library, the\ninstructions indicate that this should be sent to the legal-discuss\nlist.\n\nThe primary alternative for this library is PyPacker [3] which is also\nGPL v2.\n\n5.) Is the library already packaged in the distros we target (Ubuntu\nlatest / Fedora latest)?\n\nYes it is [4].\n\n6.) Is the function of this library already covered by other libraries\nin global-requirements.txt?\n\nI have not reviewed all 500 or so libraries in global-requirements.txt,\nbut no I am not aware of any other library included in\nglobal-requirements.txt that allows for construction of arbitrary\npackets.  If there is one I would be happy to use it.\n\n7.) Is the library required for OpenStack project or related dev or\ninfrastructure setup? Which?\n\nYes, this is required for OpenStack Networking (neutron) to provide\nfullstack testing for the custom ethertypes feature.  The custom\nethertypes feature spec [5] has a full description.  For more\ninformation see the top paragraph here.\n\n8.) If the library release is managed by the Openstack release process\ndoes it use the cycle-with-intermediary release type?\n\nThis library is released outside the OpenStack release process.\n\n9.) Do I need to update anything else?\n\nProjects needing to use scapy will need to add tcpdump to their\nbindep.txt.\n\n[1] https://github.com/secdev/scapy/graphs/commit-activity\n[2] https://governance.openstack.org/tc/reference/licensing.html\n[3] https://gitlab.com/mike01/pypacker\n[4] https://repology.org/project/scapy/versions\n[5] http://logs.openstack.org/42/668242/6/check/openstack-tox-docs/a699afd/html/specs/train/custom_ethertypes.html\n    (I will update that to merged spec link once spec merges later today)\n\nChange-Id: I1b8cde55e36ca476e6f64b3f414151ceb40feeb0\nRelated-Bug: #1832758\nNeeded-By: https://review.opendev.org/670203\n'}, {'number': 3, 'created': '2019-07-23 17:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ae771c6523f7f39751da0ee911ebe96ecbd723ef', 'message': 'Add scapy to global requirements\n\nIn a new feature in Neutron, a user will be able to add ethertypes other\nthan just IPv4 and IPv6 as part of security groups.  In order to\nproperly test this, a fullstack test is being created that sets up a\ntcpdump and then crafts a packet with a custom ethertype, to make sure\nthat the packet is detected.  The library we use to create the packet\nwith the custom ethertype, scapy, needs to be added to the global\nrequirements list.\n\nNew requirement questionnaire:\n\n1.) Is the library actively maintained?\n\nYes, the library is under active development as you can see from the\ncommit frequency graph [1].\n\n2.) Is the library good code?\n\nYes.  Scapy is commonly used in the security community to craft packets\n(the same use we would like for it here) and is considered the best\nlibrary for this purpose in Python from those I have talked to.\n\n3.) Is the library python 3 compatible?\n\nYes, Scapy supports python 2.7 as well as python 3.4 through 3.7.\n\n4.) Is the library license compatible?\n\nScapy is licensed under the GPL v2, which is listed as an incompatible\nlicense per [2].  Since this is a testing use case for this library, the\ninstructions indicate that this should be sent to the legal-discuss\nlist.\n\nThe primary alternative for this library is PyPacker [3] which is also\nGPL v2.\n\n5.) Is the library already packaged in the distros we target (Ubuntu\nlatest / Fedora latest)?\n\nYes it is [4].\n\n6.) Is the function of this library already covered by other libraries\nin global-requirements.txt?\n\nI have not reviewed all 500 or so libraries in global-requirements.txt,\nbut no I am not aware of any other library included in\nglobal-requirements.txt that allows for construction of arbitrary\npackets.  If there is one I would be happy to use it.\n\n7.) Is the library required for OpenStack project or related dev or\ninfrastructure setup? Which?\n\nYes, this is required for OpenStack Networking (neutron) to provide\nfullstack testing for the custom ethertypes feature.  The custom\nethertypes feature spec [5] has a full description.  For more\ninformation see the top paragraph here.\n\n8.) If the library release is managed by the Openstack release process\ndoes it use the cycle-with-intermediary release type?\n\nThis library is released outside the OpenStack release process.\n\n9.) Do I need to update anything else?\n\nProjects needing to use scapy will need to add tcpdump to their\nbindep.txt.\n\n[1] https://github.com/secdev/scapy/graphs/commit-activity\n[2] https://governance.openstack.org/tc/reference/licensing.html\n[3] https://gitlab.com/mike01/pypacker\n[4] https://repology.org/project/scapy/versions\n[5] http://logs.openstack.org/42/668242/6/check/openstack-tox-docs/a699afd/html/specs/train/custom_ethertypes.html\n    (I will update that to merged spec link once spec merges later today)\n\nChange-Id: I1b8cde55e36ca476e6f64b3f414151ceb40feeb0\nRelated-Bug: #1832758\nNeeded-By: https://review.opendev.org/670203\n'}, {'number': 4, 'created': '2019-07-23 17:24:08.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7d0bde657045c9ebc57e47d055cb9378d9733afc', 'message': 'Add scapy to global requirements\n\nIn a new feature in Neutron, a user will be able to add ethertypes other\nthan just IPv4 and IPv6 as part of security groups.  In order to\nproperly test this, a fullstack test is being created that sets up a\ntcpdump and then crafts a packet with a custom ethertype, to make sure\nthat the packet is detected.  The library we use to create the packet\nwith the custom ethertype, scapy, needs to be added to the global\nrequirements list.\n\nNew requirement questionnaire:\n\n1.) Is the library actively maintained?\n\nYes, the library is under active development as you can see from the\ncommit frequency graph [1].\n\n2.) Is the library good code?\n\nYes.  Scapy is commonly used in the security community to craft packets\n(the same use we would like for it here) and is considered the best\nlibrary for this purpose in Python from those I have talked to.\n\n3.) Is the library python 3 compatible?\n\nYes, Scapy supports python 2.7 as well as python 3.4 through 3.7.\n\n4.) Is the library license compatible?\n\nScapy is licensed under the GPL v2, which is listed as an incompatible\nlicense per [2].  Since this is a testing use case for this library, the\ninstructions indicate that this should be sent to the legal-discuss\nlist.\n\nThe primary alternative for this library is PyPacker [3] which is also\nGPL v2.\n\n5.) Is the library already packaged in the distros we target (Ubuntu\nlatest / Fedora latest)?\n\nYes it is [4].\n\n6.) Is the function of this library already covered by other libraries\nin global-requirements.txt?\n\nI have not reviewed all 500 or so libraries in global-requirements.txt,\nbut no I am not aware of any other library included in\nglobal-requirements.txt that allows for construction of arbitrary\npackets.  If there is one I would be happy to use it.\n\n7.) Is the library required for OpenStack project or related dev or\ninfrastructure setup? Which?\n\nYes, this is required for OpenStack Networking (neutron) to provide\nfullstack testing for the custom ethertypes feature.  The custom\nethertypes feature spec [5] has a full description.  For more\ninformation see the top paragraph here.\n\n8.) If the library release is managed by the Openstack release process\ndoes it use the cycle-with-intermediary release type?\n\nThis library is released outside the OpenStack release process.\n\n9.) Do I need to update anything else?\n\nProjects needing to use scapy will need to add tcpdump to their\nbindep.txt.\n\n[1] https://github.com/secdev/scapy/graphs/commit-activity\n[2] https://governance.openstack.org/tc/reference/licensing.html\n[3] https://gitlab.com/mike01/pypacker\n[4] https://repology.org/project/scapy/versions\n[5] https://specs.openstack.org/openstack/neutron-specs/specs/train/custom_ethertypes.html\n\nChange-Id: I1b8cde55e36ca476e6f64b3f414151ceb40feeb0\nRelated-Bug: #1832758\nNeeded-By: https://review.opendev.org/670203\n'}]",0,671776,7d0bde657045c9ebc57e47d055cb9378d9733afc,11,4,4,13995,,,0,"Add scapy to global requirements

In a new feature in Neutron, a user will be able to add ethertypes other
than just IPv4 and IPv6 as part of security groups.  In order to
properly test this, a fullstack test is being created that sets up a
tcpdump and then crafts a packet with a custom ethertype, to make sure
that the packet is detected.  The library we use to create the packet
with the custom ethertype, scapy, needs to be added to the global
requirements list.

New requirement questionnaire:

1.) Is the library actively maintained?

Yes, the library is under active development as you can see from the
commit frequency graph [1].

2.) Is the library good code?

Yes.  Scapy is commonly used in the security community to craft packets
(the same use we would like for it here) and is considered the best
library for this purpose in Python from those I have talked to.

3.) Is the library python 3 compatible?

Yes, Scapy supports python 2.7 as well as python 3.4 through 3.7.

4.) Is the library license compatible?

Scapy is licensed under the GPL v2, which is listed as an incompatible
license per [2].  Since this is a testing use case for this library, the
instructions indicate that this should be sent to the legal-discuss
list.

The primary alternative for this library is PyPacker [3] which is also
GPL v2.

5.) Is the library already packaged in the distros we target (Ubuntu
latest / Fedora latest)?

Yes it is [4].

6.) Is the function of this library already covered by other libraries
in global-requirements.txt?

I have not reviewed all 500 or so libraries in global-requirements.txt,
but no I am not aware of any other library included in
global-requirements.txt that allows for construction of arbitrary
packets.  If there is one I would be happy to use it.

7.) Is the library required for OpenStack project or related dev or
infrastructure setup? Which?

Yes, this is required for OpenStack Networking (neutron) to provide
fullstack testing for the custom ethertypes feature.  The custom
ethertypes feature spec [5] has a full description.  For more
information see the top paragraph here.

8.) If the library release is managed by the Openstack release process
does it use the cycle-with-intermediary release type?

This library is released outside the OpenStack release process.

9.) Do I need to update anything else?

Projects needing to use scapy will need to add tcpdump to their
bindep.txt.

[1] https://github.com/secdev/scapy/graphs/commit-activity
[2] https://governance.openstack.org/tc/reference/licensing.html
[3] https://gitlab.com/mike01/pypacker
[4] https://repology.org/project/scapy/versions
[5] https://specs.openstack.org/openstack/neutron-specs/specs/train/custom_ethertypes.html

Change-Id: I1b8cde55e36ca476e6f64b3f414151ceb40feeb0
Related-Bug: #1832758
Needed-By: https://review.opendev.org/670203
",git fetch https://review.opendev.org/openstack/requirements refs/changes/76/671776/4 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,c4b61bcb15c57527e84562df417439fd94971b46,iptables_hybrid_block_ethertypes,scapy # GPLv2,,1,0
openstack%2Fkeystone~master~I6efdf375bc8e1e5ca2b113337002d6178180a1e1,openstack/keystone,master,I6efdf375bc8e1e5ca2b113337002d6178180a1e1,Update api-ref location,MERGED,2019-07-22 16:44:00.000000000,2019-07-24 14:45:40.000000000,2019-07-24 14:45:40.000000000,"[{'_account_id': 1916}, {'_account_id': 2903}, {'_account_id': 6547}, {'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 16:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5ace28ac6c97258cabccf5df97daef21f45a03c5', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I6efdf375bc8e1e5ca2b113337002d6178180a1e1\n""}, {'number': 2, 'created': '2019-07-22 17:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e3cf9efe04927f2ca70ec24f61d6e5165b7d91fa', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I6efdf375bc8e1e5ca2b113337002d6178180a1e1\n""}, {'number': 3, 'created': '2019-07-23 04:56:53.000000000', 'files': ['doc/source/index.rst', 'doc/source/contributor/http-api.rst', 'doc/source/user/index.rst', 'doc/source/admin/oauth1.rst', 'README.rst', 'doc/source/admin/endpoint-filtering.rst', 'doc/source/admin/endpoint-policy.rst', 'doc/source/admin/security-compliance.rst', 'doc/source/contributor/programming-exercises.rst', 'doc/source/admin/federation/configure_federation.rst', 'doc/source/user/application_credentials.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/23b0011535c5bbed66a8eaf8834b090562818e04', 'message': 'Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nThis does not relationship URIs since ""these links do not resolve to\nanything valid, but exist to show a relationship.""\n\nNote that redirects will be set up as well but let\'s point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I6efdf375bc8e1e5ca2b113337002d6178180a1e1\n'}]",4,672096,23b0011535c5bbed66a8eaf8834b090562818e04,17,6,3,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

This does not relationship URIs since ""these links do not resolve to
anything valid, but exist to show a relationship.""

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I6efdf375bc8e1e5ca2b113337002d6178180a1e1
",git fetch https://review.opendev.org/openstack/keystone refs/changes/96/672096/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/http-api.rst', 'doc/source/user/index.rst', 'doc/source/admin/oauth1.rst', 'releasenotes/notes/implied-roles-stable-8b293e187c5620ad.yaml', 'README.rst', 'doc/source/admin/endpoint-filtering.rst', 'doc/source/contributor/programming-exercises.rst', 'releasenotes/notes/project-tags-1e72a6779d9d02c5.yaml', 'doc/source/user/application_credentials.rst', 'doc/source/index.rst', 'doc/source/admin/endpoint-policy.rst', 'api-ref/source/v3/users.inc', 'doc/source/admin/security-compliance.rst', 'api-ref/source/v3/roles.inc', 'doc/source/admin/federation/configure_federation.rst']",15,5ace28ac6c97258cabccf5df97daef21f45a03c5,retire-api-site,.. _keystone federation API reference: https://docs.openstack.org/api-ref/identity/v3-ext/#os-federation-api.. _API reference on identity providers: https://docs.openstack.org/api-ref/identity/v3-ext/#identity-providers.. _API reference on mapping rules: https://docs.openstack.org/api-ref/identity/v3-ext/#mappings.. _API reference for federation protocols: https://docs.openstack.org/api-ref/identity/v3-ext/#protocols.. _WebSSO API without an Identity Provider: https://docs.openstack.org/api-ref/identity/v3-ext/index.html#web-single-sign-on-authentication-new-in-version-1-2 .. _WebSSO API specific to the given Identity Provider: https://docs.openstack.org/api-ref/identity/v3-ext/index.html#web-single-sign-on-authentication-new-in-version-1-3.. _metadata API: https://docs.openstack.org/api-ref/identity/v3-ext/index.html#retrieve-metadata-properties.. _federated auth endpoint: https://docs.openstack.org/api-ref/identity/v3-ext/index.html#request-an-unscoped-os-federation-token,.. _keystone federation API reference: https://developer.openstack.org/api-ref/identity/v3-ext/#os-federation-api.. _API reference on identity providers: https://developer.openstack.org/api-ref/identity/v3-ext/#identity-providers.. _API reference on mapping rules: https://developer.openstack.org/api-ref/identity/v3-ext/#mappings.. _API reference for federation protocols: https://developer.openstack.org/api-ref/identity/v3-ext/#protocols.. _WebSSO API without an Identity Provider: https://developer.openstack.org/api-ref/identity/v3-ext/index.html#web-single-sign-on-authentication-new-in-version-1-2 .. _WebSSO API specific to the given Identity Provider: https://developer.openstack.org/api-ref/identity/v3-ext/index.html#web-single-sign-on-authentication-new-in-version-1-3.. _metadata API: https://developer.openstack.org/api-ref/identity/v3-ext/index.html#retrieve-metadata-properties.. _federated auth endpoint: https://developer.openstack.org/api-ref/identity/v3-ext/index.html#request-an-unscoped-os-federation-token,36,36
openstack%2Fnova-specs~master~Ifc274ffd0cc2249cd49e77aea77a1e2b80ebd5cb,openstack/nova-specs,master,Ifc274ffd0cc2249cd49e77aea77a1e2b80ebd5cb,WIP: Physical TPM passthrough,ABANDONED,2019-06-27 13:21:52.000000000,2019-07-24 14:40:40.000000000,,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 13:21:52.000000000', 'files': ['specs/train/approved/physical-tpm-passthrough.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ae9fc6726a55db3058afc3c8f6c5c9e783773eb2', 'message': 'WIP: Physical TPM passthrough\n\nAs an alternative to virtual TPM [1], this spec describes passing the\nphysical TPM (Trusted Platform Module) device through to the guest.\nThough parts of the framework are usable by any hypervisor, only the\nlibvirt driver implementation is described.\n\n[1] http://specs.openstack.org/openstack/nova-specs/specs/train/approved/add-emulated-virtual-tpm.html\n\nChange-Id: Ifc274ffd0cc2249cd49e77aea77a1e2b80ebd5cb\nblueprint: physical-tpm-passthrough\n'}]",9,667926,ae9fc6726a55db3058afc3c8f6c5c9e783773eb2,10,4,1,14070,,,0,"WIP: Physical TPM passthrough

As an alternative to virtual TPM [1], this spec describes passing the
physical TPM (Trusted Platform Module) device through to the guest.
Though parts of the framework are usable by any hypervisor, only the
libvirt driver implementation is described.

[1] http://specs.openstack.org/openstack/nova-specs/specs/train/approved/add-emulated-virtual-tpm.html

Change-Id: Ifc274ffd0cc2249cd49e77aea77a1e2b80ebd5cb
blueprint: physical-tpm-passthrough
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/26/667926/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/physical-tpm-passthrough.rst'],1,ae9fc6726a55db3058afc3c8f6c5c9e783773eb2,bp/physical-tpm-passthrough,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================== Physical TPM Passthrough ======================== https://blueprints.launchpad.net/nova/+spec/physical-tpm-passthrough Problem description =================== As an alternative to `virtual TPM`_, this spec describes passing the physical TPM (`Trusted Platform Module`_) device through to the guest. Though parts of the framework are usable by any hypervisor, only the libvirt driver implementation is described. Use Cases --------- As an operator, I want to allow my users to deploy workloads requiring TPM devices. As a user, I want to be able to take advantage of the security benefits of TPM from within a VM. Proposed change =============== Add a new conf option, ``[devices] allow_physical_tpm=$bool`` (default ``false``). On systems where a TPM device is available and the conf option is set to ``true``, inventory of a new resource class, ``PTPM``, will be exposed on the root resource provider associated with the compute node. The operator may configure a flavor to request a TPM device via flavor extra spec ``resources:PTPM=1``. The scheduler will allocate and land the VM on a host with available ``PTPM`` inventory. This part is free (no code changes necessary). At spawn time, if an allocation of ``PTPM`` is present, the virt driver will add the necessary domain XML elements to effect passthrough of the/a TPM device to the guest. Migration of a guest with a TPM device is not allowed and will be blocked. .. todo:: How are devices discovered on the host? How can we tell which ones are assigned, and to which guests? (So that we know which ones are okay to assign on a new spawn etc.) Alternatives ------------ The approved and in-flight `virtual TPM`_ solution has security limitations described in the `openstack-discuss thread`_. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- .. todo:: The TPM device contains secrets. Presumably it needs to be wiped clean between VMs. Where/how does that happen? (Thinking it may make sense to do it during spawn, right before the attach, because that's safest in case a previous destroy/detach/cleanup didn't get a chance to do it. But is that a fast thing? Note in `Performance Impact`_ if so. .. todo:: Other security considerations TBD. Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ .. todo:: Does wiping the device take a nontrivial amount of time? Discuss. Other deployer impact --------------------- In order to enable this feature, in addition to having hosts with TPM hardware, the new ``[devices] allow_physical_tpm=$bool`` conf option will need to be set to ``true``, and flavors will have to be enhanced to request ``resources:PTPM=1``. Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- .. todo:: This Primary assignee: TBD Other contributors: TBD Work Items ---------- * Add a ``PTPM`` resource class in a new release of `os-resource-classes`_. * Add a ``[devices] allow_physical_tpm=$bool`` (default ``false``) conf option. * Enhance `LibvirtDriver.update_provider_tree`_ to discover TPM device(s) on the host and expose a corresponding number of units of ``PTPM`` inventory on the compute node root provider * Enhance `LibvirtDriver.spawn`_ to inspect ``allocations`` and, upon discovering an allocation of ``PTPM``, augment the guest's domain XML to effect the passthrough of a TPM device. .. todo:: Enumerate lifecycle methods and what happens. E.g. resize should be fine, but live & cold migrate should be blocked. What about evacuate (how to clean up orphaned devices on a post-evacuated server?), shelve, pause, etc.? What happens to the device during a (guest or host) reboot? .. todo:: Where does ""wipe the device"" happen? Dependencies ============ `os-resource-classes`_ patch, release, upper-constraints bump, and nova requirements bump are in the scope of this work. Testing ======= * Unit and functional testing to validate the mechanics of discovery, inventorying, scheduling, and guest configuration. * Out-of-band integration testing with real hardware. Documentation Impact ==================== * Admin documentation describing how to enable this feature (conf option and flavor syntax). * ``features`` release note. References ========== * Approved `virtual TPM`_ spec. * `openstack-discuss thread`_ describing the problem and proposed solution. .. _`virtual TPM`: http://specs.openstack.org/openstack/nova-specs/specs/train/approved/add-emulated-virtual-tpm.html .. _`Trusted Platform Module`: https://en.wikipedia.org/wiki/Trusted_Platform_Module .. _`openstack-discuss thread`: http://lists.openstack.org/pipermail/openstack-discuss/2019-June/thread.html#7258 .. _`os-resource-classes`: https://opendev.org/openstack/os-resource-classes .. _`LibvirtDriver.update_provider_tree`: https://opendev.org/openstack/nova/src/commit/6e59cc3f518367b5ef55c1ec81cc53cdb736dbea/nova/virt/libvirt/driver.py#L6693 .. _`LibvirtDriver.spawn`: https://opendev.org/openstack/nova/src/commit/6e59cc3f518367b5ef55c1ec81cc53cdb736dbea/nova/virt/libvirt/driver.py#L3222 .. _`LibvirtDriver.destroy`: https://opendev.org/openstack/nova/src/commit/6e59cc3f518367b5ef55c1ec81cc53cdb736dbea/nova/virt/libvirt/driver.py#L1098 History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced ",,175,0
openstack%2Fopenstack-helm-infra~master~Idcb648c205053b2f03357b59173e70e02f28688c,openstack/openstack-helm-infra,master,Idcb648c205053b2f03357b59173e70e02f28688c,Ceph-RGW: fix file permision issue,MERGED,2019-07-23 15:51:37.000000000,2019-07-24 14:30:43.000000000,2019-07-24 14:30:43.000000000,"[{'_account_id': 17119}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-07-23 15:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/62d530057aff1a0ae05d79b7175254226ecc69c4', 'message': ""Ceph-RGW: fix file permision issue\n\nThis is to fix the issue we are facing with file permision on the file\n/var/lib/ceph/bootstrap-rgw/ceph.keyring since owner of the file\nwill be root.\n\nThis is happening when node with rgw reboots and rgw pods fails at\ninit after reboot,this is happening on sinlge node deplyoments.\n\nissue:\n\n+ chown -R ceph. /run/ceph/ /var/lib/ceph/bootstrap-rgw /var/lib/ceph/radosgw\n/var/lib/ceph/tmp\nchown: changing ownership of\n'/var/lib/ceph/bootstrap-rgw/ceph.keyring': Operation not permitted\n\nChange-Id: Idcb648c205053b2f03357b59173e70e02f28688c\n""}, {'number': 2, 'created': '2019-07-23 15:53:57.000000000', 'files': ['ceph-rgw/templates/bin/_init-dirs.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dc66254c4244158dd537053a38fbd42f7208497b', 'message': ""Ceph-RGW: fix file permision issue\n\nThis is to fix the issue we are facing with file permision on the file\n/var/lib/ceph/bootstrap-rgw/ceph.keyring since owner of the file\nwill be root.\n\nThis is happening when node with rgw reboots and rgw pods fails at\ninit after reboot,this is happening on sinlge node deplyoments.\n\nissue:\n\nceph-rgw-5db485fbd9-dv778  0/1  Init:CrashLoopBackOff   5  6m49s\n\nlogs:\n+ chown -R ceph. /run/ceph/ /var/lib/ceph/bootstrap-rgw /var/lib/ceph/radosgw\n/var/lib/ceph/tmp\nchown: changing ownership of\n'/var/lib/ceph/bootstrap-rgw/ceph.keyring': Operation not permitted\n\nChange-Id: Idcb648c205053b2f03357b59173e70e02f28688c\n""}]",0,672322,dc66254c4244158dd537053a38fbd42f7208497b,9,5,2,28372,,,0,"Ceph-RGW: fix file permision issue

This is to fix the issue we are facing with file permision on the file
/var/lib/ceph/bootstrap-rgw/ceph.keyring since owner of the file
will be root.

This is happening when node with rgw reboots and rgw pods fails at
init after reboot,this is happening on sinlge node deplyoments.

issue:

ceph-rgw-5db485fbd9-dv778  0/1  Init:CrashLoopBackOff   5  6m49s

logs:
+ chown -R ceph. /run/ceph/ /var/lib/ceph/bootstrap-rgw /var/lib/ceph/radosgw
/var/lib/ceph/tmp
chown: changing ownership of
'/var/lib/ceph/bootstrap-rgw/ceph.keyring': Operation not permitted

Change-Id: Idcb648c205053b2f03357b59173e70e02f28688c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/22/672322/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-rgw/templates/bin/_init-dirs.sh.tpl'],1,62d530057aff1a0ae05d79b7175254226ecc69c4,,"# Clean the folder rm -f ""$(dirname ""${RGW_BOOTSTRAP_KEYRING}""/*)"" ",,3,0
openstack%2Fmasakari~master~Ie477ddf4516712f8fd145ec78ca2335762972053,openstack/masakari,master,Ie477ddf4516712f8fd145ec78ca2335762972053,Resolve gate job failure,MERGED,2019-07-18 09:48:52.000000000,2019-07-24 14:20:58.000000000,2019-07-24 14:20:58.000000000,"[{'_account_id': 1011}, {'_account_id': 2394}, {'_account_id': 3085}, {'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 12950}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 27302}]","[{'number': 1, 'created': '2019-07-18 09:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/f0aa3c7eab58bbffb8a0c2133201d44a9ffdabec', 'message': ""Resolve gate job failure\n\nThis patch resolves below gate job issues:\n* openstack-tox-py27: Failing for double word hacking test, resolved\n  by taking reference for nova fixes [1]\n* masakari-functional-devstack-multinode: Failing since 'Split\n  OpenStackCloud at SDK [1]', resolved by calling proper SDK connection.\n* Devstack installation add more than one networks if neutron service is\n  enabled [3] and hence server creation fails with error 'ERROR\n  (Conflict): Multiple possible networks. Fixed this issue by passing\n  the network during server creation.\n\n[1]: https://github.com/openstack/nova/commit/f545a25cc443c41dcd9bdd028064c28b53f56037\n[2]: https://github.com/openstack/openstacksdk/commit/1a4ed826b9768ff53630607c95349186ab344ad8#diff-a948cab0aca56c2f4bf6569f8dc8ac66\n[3]: https://github.com/openstack/devstack/commit/8f7216290aebdd07f2277a92ae1baab5418c087c\n\nChange-Id: Ie477ddf4516712f8fd145ec78ca2335762972053\n""}, {'number': 2, 'created': '2019-07-18 13:08:09.000000000', 'files': ['masakari/tests/functional/test_vm_notifications.py', 'masakari/tests/unit/test_hacking.py', 'masakari/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/204fa9c84965c3a1af418dd7551f8e2f98c30cbb', 'message': ""Resolve gate job failure\n\nThis patch resolves below gate job issues:\n* openstack-tox-py27: Failing for double word hacking test, resolved\n  by taking reference for nova fixes [1]\n* masakari-functional-devstack-multinode: Failing since 'Split\n  OpenStackCloud at SDK [1]', resolved by calling proper SDK connection.\n* Devstack installation add more than one networks if neutron service is\n  enabled [3] and hence server creation fails with error 'ERROR\n  (Conflict): Multiple possible networks. Fixed this issue by passing\n  the network during server creation.\n\n[1]: https://github.com/openstack/nova/commit/f545a25cc443c41dcd9bdd028064c28b53f56037\n[2]: https://github.com/openstack/openstacksdk/commit/1a4ed826b9768ff53630607c95349186ab344ad8#diff-a948cab0aca56c2f4bf6569f8dc8ac66\n[3]: https://github.com/openstack/devstack/commit/8f7216290aebdd07f2277a92ae1baab5418c087c\n\nChange-Id: Ie477ddf4516712f8fd145ec78ca2335762972053\n""}]",0,671440,204fa9c84965c3a1af418dd7551f8e2f98c30cbb,16,9,2,27302,,,0,"Resolve gate job failure

This patch resolves below gate job issues:
* openstack-tox-py27: Failing for double word hacking test, resolved
  by taking reference for nova fixes [1]
* masakari-functional-devstack-multinode: Failing since 'Split
  OpenStackCloud at SDK [1]', resolved by calling proper SDK connection.
* Devstack installation add more than one networks if neutron service is
  enabled [3] and hence server creation fails with error 'ERROR
  (Conflict): Multiple possible networks. Fixed this issue by passing
  the network during server creation.

[1]: https://github.com/openstack/nova/commit/f545a25cc443c41dcd9bdd028064c28b53f56037
[2]: https://github.com/openstack/openstacksdk/commit/1a4ed826b9768ff53630607c95349186ab344ad8#diff-a948cab0aca56c2f4bf6569f8dc8ac66
[3]: https://github.com/openstack/devstack/commit/8f7216290aebdd07f2277a92ae1baab5418c087c

Change-Id: Ie477ddf4516712f8fd145ec78ca2335762972053
",git fetch https://review.opendev.org/openstack/masakari refs/changes/40/671440/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/functional/test_vm_notifications.py', 'masakari/tests/unit/test_hacking.py', 'masakari/tests/functional/base.py']",3,f0aa3c7eab58bbffb8a0c2133201d44a9ffdabec,resolve_gate_job_failure, hypervisors = connection.Connection.list_hypervisors(,from openstack.cloud.openstackcloud import _OpenStackCloudMixin hypervisors = _OpenStackCloudMixin.list_hypervisors(,11,18
openstack%2Frally-openstack~master~If642649c078e1182807582c287141509579b2d21,openstack/rally-openstack,master,If642649c078e1182807582c287141509579b2d21,Use lb_id (load balancer) in Octavia services/scenario,MERGED,2019-07-15 15:05:37.000000000,2019-07-24 14:08:48.000000000,2019-07-24 14:08:48.000000000,"[{'_account_id': 9545}, {'_account_id': 15209}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-15 15:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/22a02ce43c5679cd84220b8dc9102b44b1b84de6', 'message': 'Use lb_id (load balancer) in Octavia services/scenario\n\nAs suggested by Andrey, we should have a consistent format\nfor the arguments in the octavia services.\n\nIt makes sense to use just the id of the resource rather than\nthe entire dict. This patch fixes the load balancer resource\n\nChange-Id: If642649c078e1182807582c287141509579b2d21\nSigned-off-by: Lucas H. Xu <hanxu@redhat.com>\n'}, {'number': 2, 'created': '2019-07-15 15:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/38563d4096647c399f40698ae336c98bdcea8f25', 'message': 'Use lb_id (load balancer) in Octavia services/scenario\n\nAs suggested by Andrey, we should have a consistent format\nfor the arguments in the octavia services.\n\nIt makes sense to use just the id of the resource rather than\nthe entire dict. This patch fixes the load balancer resource\n\nChange-Id: If642649c078e1182807582c287141509579b2d21\nSigned-off-by: Lucas H. Xu <hanxu@redhat.com>\n'}, {'number': 3, 'created': '2019-07-15 17:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/e99f11408afc7d893c55cb36ca8a44c260f2ed4b', 'message': 'Use lb_id (load balancer) in Octavia services/scenario\n\nAs suggested by Andrey, we should have a consistent format\nfor the arguments in the octavia services.\n\nIt makes sense to use just the id of the resource rather than\nthe entire dict. This patch fixes the load balancer resource\n\nChange-Id: If642649c078e1182807582c287141509579b2d21\nSigned-off-by: Lucas H. Xu <hanxu@redhat.com>\n'}, {'number': 4, 'created': '2019-07-17 17:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/b485ee611807564d811a7899bfaa47e5df69a30d', 'message': 'Use lb_id (load balancer) in Octavia services/scenario\n\nAs suggested by Andrey, we should have a consistent format\nfor the arguments in the octavia services.\n\nIt makes sense to use just the id of the resource rather than\nthe entire dict. This patch fixes the load balancer resource\n\nChange-Id: If642649c078e1182807582c287141509579b2d21\nSigned-off-by: Lucas H. Xu <hanxu@redhat.com>\n'}, {'number': 5, 'created': '2019-07-17 18:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/74b16456f016fe71ee460b1f32bb4a3e40a9f8d5', 'message': 'Use lb_id (load balancer) in Octavia services/scenario\n\nAs suggested by Andrey, we should have a consistent format\nfor the arguments in the octavia services.\n\nIt makes sense to use just the id of the resource rather than\nthe entire dict. This patch fixes the load balancer resource\n\nChange-Id: If642649c078e1182807582c287141509579b2d21\nSigned-off-by: Lucas H. Xu <hanxu@redhat.com>\n'}, {'number': 6, 'created': '2019-07-17 18:36:09.000000000', 'files': ['rally_openstack/services/loadbalancer/octavia.py', 'rally_openstack/scenarios/octavia/loadbalancers.py', 'tests/unit/services/loadbalancer/test_octavia.py', 'rally_openstack/scenarios/octavia/pools.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/6832082aa55dfddef50a71ec827c2974e60f04a7', 'message': 'Use lb_id (load balancer) in Octavia services/scenario\n\nAs suggested by Andrey, we should have a consistent format\nfor the arguments in the octavia services.\n\nIt makes sense to use just the id of the resource rather than\nthe entire dict. This patch fixes the load balancer resource\n\nChange-Id: If642649c078e1182807582c287141509579b2d21\nSigned-off-by: Lucas H. Xu <hanxu@redhat.com>\n'}]",6,670857,6832082aa55dfddef50a71ec827c2974e60f04a7,32,3,6,15209,,,0,"Use lb_id (load balancer) in Octavia services/scenario

As suggested by Andrey, we should have a consistent format
for the arguments in the octavia services.

It makes sense to use just the id of the resource rather than
the entire dict. This patch fixes the load balancer resource

Change-Id: If642649c078e1182807582c287141509579b2d21
Signed-off-by: Lucas H. Xu <hanxu@redhat.com>
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/57/670857/3 && git format-patch -1 --stdout FETCH_HEAD,"['rally_openstack/services/loadbalancer/octavia.py', 'rally_openstack/scenarios/octavia/loadbalancers.py', 'tests/unit/services/loadbalancer/test_octavia.py']",3,22a02ce43c5679cd84220b8dc9102b44b1b84de6,use-lb-id-octavia," self.service.load_balancer_show(lb[""id""]) self.service.load_balancer_failover(lb[""id""])", self.service.load_balancer_show(lb) self.service.load_balancer_failover(lb),10,10
openstack%2Fopenstacksdk~master~I90f08ce108945606fa5bad12fd143268438630f9,openstack/openstacksdk,master,I90f08ce108945606fa5bad12fd143268438630f9,Specify store when importing an image,MERGED,2019-07-11 13:58:47.000000000,2019-07-24 13:57:52.000000000,2019-07-24 13:57:52.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-11 13:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/30e18b706149ee73d44348eb3a61309873562782', 'message': ""Specify store when importing an image\n\nAdd a new parameter (store) to import_image method.\nWhen the store is specified, the header 'X-Image-Meta-Store' is added to\nthe request.\n\nChange-Id: I90f08ce108945606fa5bad12fd143268438630f9\nStory: 2006203\nTask: 35788\n""}, {'number': 2, 'created': '2019-07-12 08:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/154437c4296779809e619d2feabf6b97d13ab08f', 'message': ""Specify store when importing an image\n\nAdd a new parameter (store) to import_image method.\nWhen the store is specified, the header 'X-Image-Meta-Store' is added to\nthe request.\n\nChange-Id: I90f08ce108945606fa5bad12fd143268438630f9\nStory: 2006203\nTask: 35788\n""}, {'number': 3, 'created': '2019-07-16 08:11:59.000000000', 'files': ['openstack/image/v2/image.py', 'openstack/tests/unit/image/v2/test_proxy.py', 'openstack/image/v2/_proxy.py', 'openstack/tests/unit/image/v2/test_image.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/24dd341e91707e64a7ae40001c7ded1c7de43e59', 'message': ""Specify store when importing an image\n\nAdd a new parameter (store) to import_image method.\nWhen the store is specified, the header 'X-Image-Meta-Store' is added to\nthe request.\n\nChange-Id: I90f08ce108945606fa5bad12fd143268438630f9\nStory: 2006203\nTask: 35788\n""}]",0,670309,24dd341e91707e64a7ae40001c7ded1c7de43e59,11,3,3,30054,,,0,"Specify store when importing an image

Add a new parameter (store) to import_image method.
When the store is specified, the header 'X-Image-Meta-Store' is added to
the request.

Change-Id: I90f08ce108945606fa5bad12fd143268438630f9
Story: 2006203
Task: 35788
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/09/670309/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/image/v2/image.py', 'openstack/image/v2/_proxy.py', 'openstack/tests/unit/image/v2/test_image.py']",3,30e18b706149ee73d44348eb3a61309873562782,add_store_for_import_image,"from unittest.mock import MagicMock headers={}, headers={}, def test_import_image_with_stores(self): sot = image.Image(**EXAMPLE) json = {""method"": {""name"": ""web-download"", ""uri"": ""such-a-good-uri""}} store = MagicMock() store.id = ""ceph_1"" sot.import_image(self.sess, ""web-download"", ""such-a-good-uri"", store) self.sess.post.assert_called_with( 'images/IDENTIFIER/import', headers={'X-Image-Meta-Store': 'ceph_1'}, json=json ) ",,29,4
openstack%2Fopenstacksdk~master~I2c06a5c76d9b2fa872c1cbfab528ed805aa5063a,openstack/openstacksdk,master,I2c06a5c76d9b2fa872c1cbfab528ed805aa5063a,Use Resource layer for compute KeyPairs,MERGED,2019-06-03 10:55:11.000000000,2019-07-24 13:57:51.000000000,2019-07-24 13:57:51.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-03 10:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d429368e107be1c25094d25eb6dc4ebbbd90cb87', 'message': 'Use Resource layer for compute KeyPairs\n\nMove KeyPairs logic from the cloud layer to resource.\n\nChange-Id: I2c06a5c76d9b2fa872c1cbfab528ed805aa5063a\n'}, {'number': 2, 'created': '2019-06-03 11:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e350c6612380ab62cb4322c9daf43832ab0aa99a', 'message': 'Use Resource layer for compute KeyPairs\n\nMove KeyPairs logic from the cloud layer to resource.\n\nChange-Id: I2c06a5c76d9b2fa872c1cbfab528ed805aa5063a\n'}, {'number': 3, 'created': '2019-06-03 12:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f531514ed693f486e3dc95652f38df279e8d14e6', 'message': 'Use Resource layer for compute KeyPairs\n\nMove KeyPairs logic from the cloud layer to resource.\n\nChange-Id: I2c06a5c76d9b2fa872c1cbfab528ed805aa5063a\n'}, {'number': 4, 'created': '2019-06-04 07:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bbbe27106270fb6a5c10d123097457ef226ea3a1', 'message': 'Use Resource layer for compute KeyPairs\n\nMove KeyPairs logic from the cloud layer to resource.\n\nChange-Id: I2c06a5c76d9b2fa872c1cbfab528ed805aa5063a\n'}, {'number': 5, 'created': '2019-06-14 13:03:36.000000000', 'files': ['openstack/compute/v2/keypair.py', 'openstack/tests/unit/compute/v2/test_keypair.py', 'openstack/tests/unit/cloud/test_keypair.py', 'openstack/cloud/_compute.py', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/15baef656ac56421a71e691982a70b218110f18d', 'message': 'Use Resource layer for compute KeyPairs\n\nMove KeyPairs logic from the cloud layer to resource.\n\nChange-Id: I2c06a5c76d9b2fa872c1cbfab528ed805aa5063a\n'}]",4,662729,15baef656ac56421a71e691982a70b218110f18d,15,3,5,27900,,,0,"Use Resource layer for compute KeyPairs

Move KeyPairs logic from the cloud layer to resource.

Change-Id: I2c06a5c76d9b2fa872c1cbfab528ed805aa5063a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/29/662729/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/compute/v2/keypair.py', 'openstack/tests/unit/compute/v2/test_keypair.py', 'openstack/tests/unit/cloud/test_keypair.py', 'openstack/cloud/_compute.py']",4,d429368e107be1c25094d25eb6dc4ebbbd90cb87,resource_layer," keypairs = self.list_keypairs( filters=filters if isinstance(filters, dict) else None ) def list_keypairs(self, filters={}): return list(self.compute.keypairs(**filters)) return self.compute.create_keypair(**keypair) self.compute.delete_keypair(name, ignore_missing=False) except exceptions.ResourceNotFound:"," keypairs = self.list_keypairs() def list_keypairs(self): data = proxy._json_response( self.compute.get('/os-keypairs'), error_message=""Error fetching keypair list"") return self._normalize_keypairs([ k['keypair'] for k in self._get_and_munchify('keypairs', data)]) data = proxy._json_response( self.compute.post( '/os-keypairs', json={'keypair': keypair}), error_message=""Unable to create keypair {name}"".format(name=name)) return self._normalize_keypair( self._get_and_munchify('keypair', data)) proxy._json_response(self.compute.delete( '/os-keypairs/{name}'.format(name=name))) except exc.OpenStackCloudURINotFound:",56,31
openstack%2Fnova~master~Ie7fa0d8f154baf0fdfdc3ff560ac32741450ec75,openstack/nova,master,Ie7fa0d8f154baf0fdfdc3ff560ac32741450ec75,DNM: experiment with GreenThread passthrough,ABANDONED,2019-07-23 14:28:58.000000000,2019-07-24 13:56:41.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-23 14:28:58.000000000', 'files': ['nova/utils.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a09bad55f6358b04c6f271f5e49ac4b6ee30f781', 'message': 'DNM: experiment with GreenThread passthrough\n\nChange-Id: Ie7fa0d8f154baf0fdfdc3ff560ac32741450ec75\n'}]",0,672299,a09bad55f6358b04c6f271f5e49ac4b6ee30f781,12,10,1,14070,,,0,"DNM: experiment with GreenThread passthrough

Change-Id: Ie7fa0d8f154baf0fdfdc3ff560ac32741450ec75
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/672299/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/utils.py', 'nova/compute/manager.py']",2,a09bad55f6358b04c6f271f5e49ac4b6ee30f781,bug/1798326, self.instance_running_pool = utils.PoolProxy( size=CONF.instance_spawning_pool_size), self.instance_running_pool = utils.PoolProxy(eventlet.GreenPool( size=CONF.instance_spawning_pool_size)),4,14
openstack%2Fpuppet-heat~master~I35fc5b74797353c8073900ef171ff096277debae,openstack/puppet-heat,master,I35fc5b74797353c8073900ef171ff096277debae,Prepare Train M3,MERGED,2019-07-24 08:20:28.000000000,2019-07-24 13:53:17.000000000,2019-07-24 13:53:17.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:28.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/921d94cf4d79cf6618bf4f2ba8e1b6f7e67d4fd1', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I35fc5b74797353c8073900ef171ff096277debae\n'}]",0,672457,921d94cf4d79cf6618bf4f2ba8e1b6f7e67d4fd1,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I35fc5b74797353c8073900ef171ff096277debae
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/57/672457/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,921d94cf4d79cf6618bf4f2ba8e1b6f7e67d4fd1,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",4,4
openstack%2Fpuppet-trove~master~I274abd80ea222f8d1b19c67ab953148914fb3e53,openstack/puppet-trove,master,I274abd80ea222f8d1b19c67ab953148914fb3e53,Prepare Train M3,MERGED,2019-07-24 08:20:27.000000000,2019-07-24 13:51:17.000000000,2019-07-24 13:51:17.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:27.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/3b544b911af5d69569713ff04431283ad8a8bd83', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I274abd80ea222f8d1b19c67ab953148914fb3e53\n'}]",0,672443,3b544b911af5d69569713ff04431283ad8a8bd83,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I274abd80ea222f8d1b19c67ab953148914fb3e53
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/43/672443/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,3b544b911af5d69569713ff04431283ad8a8bd83,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",4,4
openstack%2Fpuppet-ovn~master~Ic07e2a778bd148564e6dc337627235db2b611ca2,openstack/puppet-ovn,master,Ic07e2a778bd148564e6dc337627235db2b611ca2,Prepare Train M3,MERGED,2019-07-24 08:20:28.000000000,2019-07-24 13:50:24.000000000,2019-07-24 13:43:01.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:28.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/ef0e42f4dd601e9fc47de83a74df0c4ab8a1970e', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: Ic07e2a778bd148564e6dc337627235db2b611ca2\n'}]",0,672459,ef0e42f4dd601e9fc47de83a74df0c4ab8a1970e,7,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: Ic07e2a778bd148564e6dc337627235db2b611ca2
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/59/672459/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,ef0e42f4dd601e9fc47de83a74df0c4ab8a1970e,prep-release-train-3," ""version_requirement"": "">=11.2.0 <12.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=11.1.0 <12.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",3,3
openstack%2Fpuppet-tacker~master~Id3aef44e6c066eac9b5e669989b6fec8b69e5d7e,openstack/puppet-tacker,master,Id3aef44e6c066eac9b5e669989b6fec8b69e5d7e,Prepare Train M3,MERGED,2019-07-24 08:20:27.000000000,2019-07-24 13:47:44.000000000,2019-07-24 13:47:44.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:27.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/17ef65e15dc1c6d30eeeb0b601c43cfba87a7f06', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: Id3aef44e6c066eac9b5e669989b6fec8b69e5d7e\n'}]",0,672442,17ef65e15dc1c6d30eeeb0b601c43cfba87a7f06,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: Id3aef44e6c066eac9b5e669989b6fec8b69e5d7e
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/42/672442/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,17ef65e15dc1c6d30eeeb0b601c43cfba87a7f06,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",4,4
openstack%2Fpuppet-vitrage~master~I01d57787115841b6c69112d0a77ec83df6e41b61,openstack/puppet-vitrage,master,I01d57787115841b6c69112d0a77ec83df6e41b61,Prepare Train M3,MERGED,2019-07-24 08:20:27.000000000,2019-07-24 13:46:56.000000000,2019-07-24 13:46:56.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:27.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/ac2e5bc9e98cf6e9f374813c718a6809f468d55a', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I01d57787115841b6c69112d0a77ec83df6e41b61\n'}]",0,672440,ac2e5bc9e98cf6e9f374813c718a6809f468d55a,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I01d57787115841b6c69112d0a77ec83df6e41b61
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/40/672440/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,ac2e5bc9e98cf6e9f374813c718a6809f468d55a,prep-release-train-3," ""version"": ""5.2.0"", ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"""," ""version"": ""5.1.0"", ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0""",4,4
openstack%2Fpuppet-neutron~master~I618b4f553410a27c5685bf3fefaf674ec2f3c392,openstack/puppet-neutron,master,I618b4f553410a27c5685bf3fefaf674ec2f3c392,Prepare Train M3,MERGED,2019-07-24 08:20:25.000000000,2019-07-24 13:46:50.000000000,2019-07-24 13:46:50.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:25.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/db5c3194582eab56dab50be0f8a0c6a796a9bae4', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I618b4f553410a27c5685bf3fefaf674ec2f3c392\n'}]",0,672426,db5c3194582eab56dab50be0f8a0c6a796a9bae4,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I618b4f553410a27c5685bf3fefaf674ec2f3c392
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/26/672426/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,db5c3194582eab56dab50be0f8a0c6a796a9bae4,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=11.2.0 <12.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=11.1.0 <12.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",6,6
openstack%2Fpuppet-swift~master~Ifbd46b76273c15208f74ce481c2f8adcfccb865f,openstack/puppet-swift,master,Ifbd46b76273c15208f74ce481c2f8adcfccb865f,Prepare Train M3,MERGED,2019-07-24 08:20:25.000000000,2019-07-24 13:46:43.000000000,2019-07-24 13:46:42.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:25.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/75bdc8189f5f2718671d72ce20f09d4023ebd6e7', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: Ifbd46b76273c15208f74ce481c2f8adcfccb865f\n'}]",0,672427,75bdc8189f5f2718671d72ce20f09d4023ebd6e7,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: Ifbd46b76273c15208f74ce481c2f8adcfccb865f
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/27/672427/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,75bdc8189f5f2718671d72ce20f09d4023ebd6e7,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",2,2
openstack%2Fpuppet-octavia~master~Ie884496e252a3d6240ab74ff897a2bf474d465c4,openstack/puppet-octavia,master,Ie884496e252a3d6240ab74ff897a2bf474d465c4,Prepare Train M3,MERGED,2019-07-24 08:20:27.000000000,2019-07-24 13:46:00.000000000,2019-07-24 13:46:00.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:27.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/9e62de27cd39356a4fa17c815b92a5e6a2215cab', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: Ie884496e252a3d6240ab74ff897a2bf474d465c4\n'}]",0,672449,9e62de27cd39356a4fa17c815b92a5e6a2215cab,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: Ie884496e252a3d6240ab74ff897a2bf474d465c4
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/49/672449/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,9e62de27cd39356a4fa17c815b92a5e6a2215cab,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",5,5
openstack%2Fpuppet-watcher~master~I70a096d0000a773e5155d1c4492c701c7a46d7ef,openstack/puppet-watcher,master,I70a096d0000a773e5155d1c4492c701c7a46d7ef,Prepare Train M3,MERGED,2019-07-24 08:20:27.000000000,2019-07-24 13:45:38.000000000,2019-07-24 13:45:38.000000000,"[{'_account_id': 5575}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-07-24 08:20:27.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/766ce3a85c73105836fa69a010ae73021dfe7e63', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I70a096d0000a773e5155d1c4492c701c7a46d7ef\n'}]",0,672435,766ce3a85c73105836fa69a010ae73021dfe7e63,6,4,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I70a096d0000a773e5155d1c4492c701c7a46d7ef
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/35/672435/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,766ce3a85c73105836fa69a010ae73021dfe7e63,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",3,3
openstack%2Fpuppet-zaqar~master~I788ae252aa5096db5356b7e46dbe9ad56ddbe563,openstack/puppet-zaqar,master,I788ae252aa5096db5356b7e46dbe9ad56ddbe563,Prepare Train M3,MERGED,2019-07-24 08:20:27.000000000,2019-07-24 13:45:30.000000000,2019-07-24 13:45:29.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:27.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/bd53418d30d946a30219deb26d1787b467dcb0f7', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I788ae252aa5096db5356b7e46dbe9ad56ddbe563\n'}]",0,672445,bd53418d30d946a30219deb26d1787b467dcb0f7,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I788ae252aa5096db5356b7e46dbe9ad56ddbe563
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/45/672445/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,bd53418d30d946a30219deb26d1787b467dcb0f7,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",4,4
openstack%2Fpuppet-monasca~master~Ie17ea79b506774af67093cb0987c493d40409e90,openstack/puppet-monasca,master,Ie17ea79b506774af67093cb0987c493d40409e90,Prepare Train M3,MERGED,2019-07-24 08:20:27.000000000,2019-07-24 13:45:28.000000000,2019-07-24 13:45:28.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:27.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/11e102004520297968f4cf5f3e96543b3eb18151', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: Ie17ea79b506774af67093cb0987c493d40409e90\n'}]",0,672446,11e102004520297968f4cf5f3e96543b3eb18151,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: Ie17ea79b506774af67093cb0987c493d40409e90
",git fetch https://review.opendev.org/openstack/puppet-monasca refs/changes/46/672446/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,11e102004520297968f4cf5f3e96543b3eb18151,prep-release-train-3," ""version"": ""4.2.0"", ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"""," ""version"": ""4.1.0"", ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0""",3,3
openstack%2Fpuppet-openstack_extras~master~I670a7f1a76bde3dfbb99134b4b63ba8fd449922b,openstack/puppet-openstack_extras,master,I670a7f1a76bde3dfbb99134b4b63ba8fd449922b,Prepare Train M3,MERGED,2019-07-24 08:20:27.000000000,2019-07-24 13:45:27.000000000,2019-07-24 13:45:27.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:27.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/03da841018a6201f171138abe92760a8b6a456bb', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I670a7f1a76bde3dfbb99134b4b63ba8fd449922b\n'}]",0,672451,03da841018a6201f171138abe92760a8b6a456bb,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I670a7f1a76bde3dfbb99134b4b63ba8fd449922b
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/51/672451/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,03da841018a6201f171138abe92760a8b6a456bb,prep-release-train-3," ""version"": ""15.2.0"""," ""version"": ""15.1.0""",1,1
openstack%2Fpuppet-vswitch~master~I3ea30c43e51505ea8a2981c449317c08e565e0cb,openstack/puppet-vswitch,master,I3ea30c43e51505ea8a2981c449317c08e565e0cb,Prepare Train M3,MERGED,2019-07-24 08:20:28.000000000,2019-07-24 13:45:26.000000000,2019-07-24 13:45:25.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:28.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/9c2bdb245bd2aaad1e0e4ded6e340d8aece386de', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I3ea30c43e51505ea8a2981c449317c08e565e0cb\n'}]",0,672462,9c2bdb245bd2aaad1e0e4ded6e340d8aece386de,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I3ea30c43e51505ea8a2981c449317c08e565e0cb
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/62/672462/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,9c2bdb245bd2aaad1e0e4ded6e340d8aece386de,prep-release-train-3," ""version"": ""11.2.0"""," ""version"": ""11.1.0""",1,1
openstack%2Fpuppet-magnum~master~I06a7b8e45c30f9aa0654e796a6a49883faa4f57a,openstack/puppet-magnum,master,I06a7b8e45c30f9aa0654e796a6a49883faa4f57a,Prepare Train M3,MERGED,2019-07-24 08:20:28.000000000,2019-07-24 13:45:22.000000000,2019-07-24 13:45:22.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:28.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/d198caa0533efbccce5b5c202edcb4a0c07a0715', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I06a7b8e45c30f9aa0654e796a6a49883faa4f57a\n'}]",0,672461,d198caa0533efbccce5b5c202edcb4a0c07a0715,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I06a7b8e45c30f9aa0654e796a6a49883faa4f57a
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/61/672461/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,d198caa0533efbccce5b5c202edcb4a0c07a0715,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",4,4
openstack%2Fpuppet-tempest~master~I5590eb66aa1c471afadd44335f2c3eaa0c672918,openstack/puppet-tempest,master,I5590eb66aa1c471afadd44335f2c3eaa0c672918,Prepare Train M3,MERGED,2019-07-24 08:20:26.000000000,2019-07-24 13:45:21.000000000,2019-07-24 13:45:21.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:26.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/3b0d01b8057e4e415c33e019269b5910b727ce2d', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I5590eb66aa1c471afadd44335f2c3eaa0c672918\n'}]",0,672434,3b0d01b8057e4e415c33e019269b5910b727ce2d,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I5590eb66aa1c471afadd44335f2c3eaa0c672918
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/34/672434/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,3b0d01b8057e4e415c33e019269b5910b727ce2d,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",3,3
openstack%2Fpuppet-senlin~master~I391cfe9c3a5701a819b8ea9a00511df6400fefff,openstack/puppet-senlin,master,I391cfe9c3a5701a819b8ea9a00511df6400fefff,Prepare Train M3,MERGED,2019-07-24 08:20:23.000000000,2019-07-24 13:45:19.000000000,2019-07-24 13:45:19.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:23.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/71643ff7e7ed1e5df8deb4e68d5f381dfe52ad69', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I391cfe9c3a5701a819b8ea9a00511df6400fefff\n'}]",0,672423,71643ff7e7ed1e5df8deb4e68d5f381dfe52ad69,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I391cfe9c3a5701a819b8ea9a00511df6400fefff
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/23/672423/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,71643ff7e7ed1e5df8deb4e68d5f381dfe52ad69,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""2.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""2.1.0""",4,4
openstack%2Fpuppet-oslo~master~Id1ae971d8f099b770841db382269f5ed039d8069,openstack/puppet-oslo,master,Id1ae971d8f099b770841db382269f5ed039d8069,Prepare Train M3,MERGED,2019-07-24 08:20:27.000000000,2019-07-24 13:45:03.000000000,2019-07-24 13:45:03.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:27.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/4525bc4c0d843974540b5b8c6bbe3ee6575b1185', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: Id1ae971d8f099b770841db382269f5ed039d8069\n'}]",0,672441,4525bc4c0d843974540b5b8c6bbe3ee6575b1185,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: Id1ae971d8f099b770841db382269f5ed039d8069
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/41/672441/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,4525bc4c0d843974540b5b8c6bbe3ee6575b1185,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",2,2
openstack%2Fpuppet-mistral~master~I9e30b9cc6fd357a137cf8c0416a537b58f827254,openstack/puppet-mistral,master,I9e30b9cc6fd357a137cf8c0416a537b58f827254,Prepare Train M3,MERGED,2019-07-24 08:20:28.000000000,2019-07-24 13:44:53.000000000,2019-07-24 13:44:53.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:28.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/0e36261999d21aa67f023fdc84cd5c29b9c3e1ae', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I9e30b9cc6fd357a137cf8c0416a537b58f827254\n'}]",0,672454,0e36261999d21aa67f023fdc84cd5c29b9c3e1ae,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I9e30b9cc6fd357a137cf8c0416a537b58f827254
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/54/672454/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,0e36261999d21aa67f023fdc84cd5c29b9c3e1ae,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",4,4
openstack%2Fpuppet-keystone~master~I5e2b0ba25912142028e6d0f3e887f97c2af6a2be,openstack/puppet-keystone,master,I5e2b0ba25912142028e6d0f3e887f97c2af6a2be,Prepare Train M3,MERGED,2019-07-24 08:20:18.000000000,2019-07-24 13:44:37.000000000,2019-07-24 13:44:37.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:18.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e12c9727df1c81691dfb172e1e23289189795e3a', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I5e2b0ba25912142028e6d0f3e887f97c2af6a2be\n'}]",0,672422,e12c9727df1c81691dfb172e1e23289189795e3a,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I5e2b0ba25912142028e6d0f3e887f97c2af6a2be
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/22/672422/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,e12c9727df1c81691dfb172e1e23289189795e3a,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",3,3
openstack%2Fpuppet-qdr~master~Id6019f3a486891b2d6d2db0c6d2209f74e97fb1c,openstack/puppet-qdr,master,Id6019f3a486891b2d6d2db0c6d2209f74e97fb1c,Prepare Train M3,MERGED,2019-07-24 08:20:27.000000000,2019-07-24 13:44:33.000000000,2019-07-24 13:44:33.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:27.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/f393b63634ab756180d4ce7ca2145997ce854ffa', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: Id6019f3a486891b2d6d2db0c6d2209f74e97fb1c\n'}]",0,672436,f393b63634ab756180d4ce7ca2145997ce854ffa,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: Id6019f3a486891b2d6d2db0c6d2209f74e97fb1c
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/36/672436/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,f393b63634ab756180d4ce7ca2145997ce854ffa,prep-release-train-3," ""version"": ""4.2.0"","," ""version"": ""4.1.0"",",1,1
openstack%2Fpuppet-placement~master~If511a634980aafd90e89bb5c6ad58680bb59d3ea,openstack/puppet-placement,master,If511a634980aafd90e89bb5c6ad58680bb59d3ea,Prepare Train M3,MERGED,2019-07-24 08:20:16.000000000,2019-07-24 13:44:21.000000000,2019-07-24 13:44:21.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:16.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/9851a0e280888a3b54e9a18f87a2fe2991130cb5', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: If511a634980aafd90e89bb5c6ad58680bb59d3ea\n'}]",0,672421,9851a0e280888a3b54e9a18f87a2fe2991130cb5,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: If511a634980aafd90e89bb5c6ad58680bb59d3ea
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/21/672421/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,9851a0e280888a3b54e9a18f87a2fe2991130cb5,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""2.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""2.1.0""",4,4
openstack%2Fpuppet-manila~master~Idd89f1d6d15c4a09c5322baf22c0680e56fa0743,openstack/puppet-manila,master,Idd89f1d6d15c4a09c5322baf22c0680e56fa0743,Prepare Train M3,MERGED,2019-07-24 08:20:26.000000000,2019-07-24 13:44:09.000000000,2019-07-24 13:44:08.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:26.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/4212caffaf35d83405fc552e14f47e3f41b0b10d', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: Idd89f1d6d15c4a09c5322baf22c0680e56fa0743\n'}]",0,672432,4212caffaf35d83405fc552e14f47e3f41b0b10d,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: Idd89f1d6d15c4a09c5322baf22c0680e56fa0743
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/32/672432/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,4212caffaf35d83405fc552e14f47e3f41b0b10d,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",5,5
openstack%2Fpuppet-gnocchi~master~I4b32b1b983b7f3fd41ab2ef15273a492f09a9a48,openstack/puppet-gnocchi,master,I4b32b1b983b7f3fd41ab2ef15273a492f09a9a48,Prepare Train M3,MERGED,2019-07-24 08:20:28.000000000,2019-07-24 13:43:48.000000000,2019-07-24 13:43:48.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:28.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/7d012e8135bc9dd61167d8ca1493b467e8090a7b', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I4b32b1b983b7f3fd41ab2ef15273a492f09a9a48\n'}]",0,672456,7d012e8135bc9dd61167d8ca1493b467e8090a7b,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I4b32b1b983b7f3fd41ab2ef15273a492f09a9a48
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/56/672456/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,7d012e8135bc9dd61167d8ca1493b467e8090a7b,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",4,4
openstack%2Fpuppet-sahara~master~I3211b8d2f227411a74d9435d286a3ace520bc9c7,openstack/puppet-sahara,master,I3211b8d2f227411a74d9435d286a3ace520bc9c7,Prepare Train M3,MERGED,2019-07-24 08:20:26.000000000,2019-07-24 13:43:44.000000000,2019-07-24 13:43:43.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:26.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/fee335c07ceda68c6f12409d582040772bf1505d', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I3211b8d2f227411a74d9435d286a3ace520bc9c7\n'}]",0,672429,fee335c07ceda68c6f12409d582040772bf1505d,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I3211b8d2f227411a74d9435d286a3ace520bc9c7
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/29/672429/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,fee335c07ceda68c6f12409d582040772bf1505d,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",4,4
openstack%2Fpuppet-congress~master~Ia2378f1cd998ae09fd41d15187dc338c70bc6ef7,openstack/puppet-congress,master,Ia2378f1cd998ae09fd41d15187dc338c70bc6ef7,Prepare Train M3,MERGED,2019-07-24 08:20:28.000000000,2019-07-24 13:43:42.000000000,2019-07-24 13:43:42.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:28.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-congress/commit/d4c08c3f88db3e8e0198f8048383bc0e70d0cdb4', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: Ia2378f1cd998ae09fd41d15187dc338c70bc6ef7\n'}]",0,672453,d4c08c3f88db3e8e0198f8048383bc0e70d0cdb4,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: Ia2378f1cd998ae09fd41d15187dc338c70bc6ef7
",git fetch https://review.opendev.org/openstack/puppet-congress refs/changes/53/672453/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,d4c08c3f88db3e8e0198f8048383bc0e70d0cdb4,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",4,4
openstack%2Fpuppet-designate~master~Iffbc92b0d82293210ecda30ffc064dfb2f52190d,openstack/puppet-designate,master,Iffbc92b0d82293210ecda30ffc064dfb2f52190d,Prepare Train M3,MERGED,2019-07-24 08:20:27.000000000,2019-07-24 13:43:16.000000000,2019-07-24 13:43:16.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:27.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/3b504a5612c53ffd5371a10645401e9f0da01bf8', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: Iffbc92b0d82293210ecda30ffc064dfb2f52190d\n'}]",0,672438,3b504a5612c53ffd5371a10645401e9f0da01bf8,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: Iffbc92b0d82293210ecda30ffc064dfb2f52190d
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/38/672438/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,3b504a5612c53ffd5371a10645401e9f0da01bf8,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",4,4
openstack%2Fpuppet-horizon~master~Iecbc1eb140cd3321076f29b945d7fee2b644c713,openstack/puppet-horizon,master,Iecbc1eb140cd3321076f29b945d7fee2b644c713,Prepare Train M3,MERGED,2019-07-24 08:20:27.000000000,2019-07-24 13:43:12.000000000,2019-07-24 13:43:11.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:27.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/abe424df673868c2067f5c6e4b66c672a7597116', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: Iecbc1eb140cd3321076f29b945d7fee2b644c713\n'}]",0,672439,abe424df673868c2067f5c6e4b66c672a7597116,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: Iecbc1eb140cd3321076f29b945d7fee2b644c713
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/39/672439/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,abe424df673868c2067f5c6e4b66c672a7597116,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",2,2
openstack%2Fpuppet-glare~master~I1c5d5ac40c7cd7b88130b668c8d4b193d51ad6a1,openstack/puppet-glare,master,I1c5d5ac40c7cd7b88130b668c8d4b193d51ad6a1,Prepare Train M3,MERGED,2019-07-24 08:20:27.000000000,2019-07-24 13:43:03.000000000,2019-07-24 13:43:02.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:27.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/e838ec9673b45bcb25ac253093befef7493d832f', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I1c5d5ac40c7cd7b88130b668c8d4b193d51ad6a1\n'}]",0,672444,e838ec9673b45bcb25ac253093befef7493d832f,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I1c5d5ac40c7cd7b88130b668c8d4b193d51ad6a1
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/44/672444/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,e838ec9673b45bcb25ac253093befef7493d832f,prep-release-train-3," ""version"": ""4.2.0"", ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"""," ""version"": ""4.1.0"", ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0""",4,4
openstack%2Fpuppet-barbican~master~Ie119d66b70ec112871a65208a4a8ec6f63c2c4d4,openstack/puppet-barbican,master,Ie119d66b70ec112871a65208a4a8ec6f63c2c4d4,Prepare Train M3,MERGED,2019-07-24 08:20:26.000000000,2019-07-24 13:42:53.000000000,2019-07-24 13:42:53.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:26.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/d3675024569aa87eac8255ba3093d6b45cd27dad', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: Ie119d66b70ec112871a65208a4a8ec6f63c2c4d4\n'}]",0,672433,d3675024569aa87eac8255ba3093d6b45cd27dad,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: Ie119d66b70ec112871a65208a4a8ec6f63c2c4d4
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/33/672433/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,d3675024569aa87eac8255ba3093d6b45cd27dad,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",4,4
openstack%2Fpuppet-cinder~master~I1f7f9bab401659039a47c3195129dd525a31008d,openstack/puppet-cinder,master,I1f7f9bab401659039a47c3195129dd525a31008d,Prepare Train M3,MERGED,2019-07-24 08:20:27.000000000,2019-07-24 13:42:39.000000000,2019-07-24 13:42:39.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:27.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/58e1891e9c4e6d1518fa5cc3d46ddb30e7541bc0', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I1f7f9bab401659039a47c3195129dd525a31008d\n'}]",0,672448,58e1891e9c4e6d1518fa5cc3d46ddb30e7541bc0,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I1f7f9bab401659039a47c3195129dd525a31008d
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/48/672448/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,58e1891e9c4e6d1518fa5cc3d46ddb30e7541bc0,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",4,4
openstack%2Fpuppet-murano~master~I492854103f19d6aafb71921cec09561d2dde6a6d,openstack/puppet-murano,master,I492854103f19d6aafb71921cec09561d2dde6a6d,Prepare Train M3,MERGED,2019-07-24 08:20:26.000000000,2019-07-24 13:42:30.000000000,2019-07-24 13:42:30.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:26.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/87117d2d9571a3f8cb1f77057e5a6a883984bc56', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I492854103f19d6aafb71921cec09561d2dde6a6d\n'}]",0,672428,87117d2d9571a3f8cb1f77057e5a6a883984bc56,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I492854103f19d6aafb71921cec09561d2dde6a6d
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/28/672428/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,87117d2d9571a3f8cb1f77057e5a6a883984bc56,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",4,4
openstack%2Fpuppet-panko~master~I9ad5ce86bbc7ee260eabf8f410c32a6b763f9520,openstack/puppet-panko,master,I9ad5ce86bbc7ee260eabf8f410c32a6b763f9520,Prepare Train M3,MERGED,2019-07-24 08:20:27.000000000,2019-07-24 13:42:00.000000000,2019-07-24 13:42:00.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:27.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/b89905eb63d7fbc915fc338dc02a318670b088e6', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I9ad5ce86bbc7ee260eabf8f410c32a6b763f9520\n'}]",0,672450,b89905eb63d7fbc915fc338dc02a318670b088e6,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I9ad5ce86bbc7ee260eabf8f410c32a6b763f9520
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/50/672450/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,b89905eb63d7fbc915fc338dc02a318670b088e6,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",4,4
openstack%2Fpuppet-glance~master~I905ff9179623f4a330a36dafe05cf9f183b1101f,openstack/puppet-glance,master,I905ff9179623f4a330a36dafe05cf9f183b1101f,Prepare Train M3,MERGED,2019-07-24 08:20:24.000000000,2019-07-24 13:41:54.000000000,2019-07-24 13:41:54.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:24.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/dc00f683d7239269136f62f4dc562f6cca3787f7', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I905ff9179623f4a330a36dafe05cf9f183b1101f\n'}]",0,672424,dc00f683d7239269136f62f4dc562f6cca3787f7,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I905ff9179623f4a330a36dafe05cf9f183b1101f
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/24/672424/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,dc00f683d7239269136f62f4dc562f6cca3787f7,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",5,5
openstack%2Fpuppet-ceilometer~master~I5b813012ffa33dc01270f337fc7c5c1ed2a4c71d,openstack/puppet-ceilometer,master,I5b813012ffa33dc01270f337fc7c5c1ed2a4c71d,Prepare Train M3,MERGED,2019-07-24 08:20:24.000000000,2019-07-24 13:41:27.000000000,2019-07-24 13:41:27.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:24.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/654c30441bae6256535c913d7b9bc79a739d7e10', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I5b813012ffa33dc01270f337fc7c5c1ed2a4c71d\n'}]",0,672425,654c30441bae6256535c913d7b9bc79a739d7e10,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I5b813012ffa33dc01270f337fc7c5c1ed2a4c71d
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/25/672425/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,654c30441bae6256535c913d7b9bc79a739d7e10,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",4,4
openstack%2Fpuppet-cloudkitty~master~I9a06ade46bf3c9fd0276c3afbf9b0d868d1717a0,openstack/puppet-cloudkitty,master,I9a06ade46bf3c9fd0276c3afbf9b0d868d1717a0,Prepare Train M3,MERGED,2019-07-24 08:20:27.000000000,2019-07-24 13:41:14.000000000,2019-07-24 13:41:14.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:27.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/6834c5b8b45328fe8b9fd4736e879daa01638f54', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: I9a06ade46bf3c9fd0276c3afbf9b0d868d1717a0\n'}]",0,672452,6834c5b8b45328fe8b9fd4736e879daa01638f54,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: I9a06ade46bf3c9fd0276c3afbf9b0d868d1717a0
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/52/672452/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,6834c5b8b45328fe8b9fd4736e879daa01638f54,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""4.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""4.1.0""",4,4
openstack%2Fpuppet-aodh~master~Iddb36c2957f424d84418923a40eec79ae71c463e,openstack/puppet-aodh,master,Iddb36c2957f424d84418923a40eec79ae71c463e,Prepare Train M3,MERGED,2019-07-24 08:20:28.000000000,2019-07-24 13:40:52.000000000,2019-07-24 13:40:52.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:28.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/d44bc0b8657390a6b3057d5c539de23056e301be', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: Iddb36c2957f424d84418923a40eec79ae71c463e\n'}]",0,672458,d44bc0b8657390a6b3057d5c539de23056e301be,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: Iddb36c2957f424d84418923a40eec79ae71c463e
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/58/672458/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,d44bc0b8657390a6b3057d5c539de23056e301be,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",4,4
openstack%2Fpuppet-nova~master~Ic9ce309c8185ee52f89261e4246054a03d1cc986,openstack/puppet-nova,master,Ic9ce309c8185ee52f89261e4246054a03d1cc986,Prepare Train M3,MERGED,2019-07-24 08:20:26.000000000,2019-07-24 13:40:48.000000000,2019-07-24 13:40:48.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:26.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f834cc4495ec36ca7a36e503e069ef68c23fd9a6', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: Ic9ce309c8185ee52f89261e4246054a03d1cc986\n'}]",0,672430,f834cc4495ec36ca7a36e503e069ef68c23fd9a6,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: Ic9ce309c8185ee52f89261e4246054a03d1cc986
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/30/672430/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,f834cc4495ec36ca7a36e503e069ef68c23fd9a6,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",7,7
openstack%2Fpuppet-freezer~master~Ia2cc09add45f13fb77568ead16077ed08e4b011d,openstack/puppet-freezer,master,Ia2cc09add45f13fb77568ead16077ed08e4b011d,Prepare Train M3,MERGED,2019-07-24 08:20:26.000000000,2019-07-24 13:40:46.000000000,2019-07-24 13:40:46.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:26.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/e9ea7b19bea9127eae829c9a08fed66d610fa206', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: Ia2cc09add45f13fb77568ead16077ed08e4b011d\n'}]",0,672431,e9ea7b19bea9127eae829c9a08fed66d610fa206,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: Ia2cc09add45f13fb77568ead16077ed08e4b011d
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/31/672431/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,e9ea7b19bea9127eae829c9a08fed66d610fa206,prep-release-train-3," ""version"": ""4.2.0"", ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"""," ""version"": ""4.1.0"", ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0""",4,4
openstack%2Fpuppet-ironic~master~Ia53696c4d23f6ae052ec30977ecef36da6b77859,openstack/puppet-ironic,master,Ia53696c4d23f6ae052ec30977ecef36da6b77859,Prepare Train M3,MERGED,2019-07-24 08:20:27.000000000,2019-07-24 13:40:40.000000000,2019-07-24 13:40:39.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:27.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/a8c4a2275d283ea7b9bfea61a06996c4ae5f6c02', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: Ia53696c4d23f6ae052ec30977ecef36da6b77859\n'}]",0,672447,a8c4a2275d283ea7b9bfea61a06996c4ae5f6c02,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: Ia53696c4d23f6ae052ec30977ecef36da6b77859
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/47/672447/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,a8c4a2275d283ea7b9bfea61a06996c4ae5f6c02,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",4,4
openstack%2Fpuppet-ec2api~master~If57944b317ed12c5d12783c02958045f5c0abce3,openstack/puppet-ec2api,master,If57944b317ed12c5d12783c02958045f5c0abce3,Prepare Train M3,MERGED,2019-07-24 08:20:28.000000000,2019-07-24 13:38:06.000000000,2019-07-24 13:38:06.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:20:28.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/8df2de106536dae9e5b3282d64efb4c9dce70763', 'message': 'Prepare Train M3\n\nUpdate the version metadata for Train milestone 3\n\nChange-Id: If57944b317ed12c5d12783c02958045f5c0abce3\n'}]",0,672460,8df2de106536dae9e5b3282d64efb4c9dce70763,6,2,1,9414,,,0,"Prepare Train M3

Update the version metadata for Train milestone 3

Change-Id: If57944b317ed12c5d12783c02958045f5c0abce3
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/60/672460/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,8df2de106536dae9e5b3282d64efb4c9dce70763,prep-release-train-3," ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version_requirement"": "">=15.2.0 <16.0.0"" ""version"": ""15.2.0"""," ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version_requirement"": "">=15.1.0 <16.0.0"" ""version"": ""15.1.0""",4,4
openstack%2Foslotest~master~I57db9bad15cab343e152615e115e2ba3ac4d87fe,openstack/oslotest,master,I57db9bad15cab343e152615e115e2ba3ac4d87fe,Stop testing mock functionality,MERGED,2019-05-28 17:08:08.000000000,2019-07-24 13:37:23.000000000,2019-06-10 14:16:33.000000000,"[{'_account_id': 8770}, {'_account_id': 15334}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 28743}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-05-28 17:08:08.000000000', 'files': ['oslotest/tests/unit/test_base.py'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/f8f6b14088637fd87de7cf385b840d6b5e5f9b22', 'message': 'Stop testing mock functionality\n\nThere\'s no particular reason for us to be verifying mock\'s behavior.\nThey have their own unit tests for doing that.\n\nThis is specifically a problem right now because mock changed its\nbehavior in 3.0.0 and broke this test: ""Issue #36366: Calling stop()\non an unstarted or stopped unittest.mock.patch() object will now\nreturn None instead of raising RuntimeError, making the method\nidempotent.""\n\nChange-Id: I57db9bad15cab343e152615e115e2ba3ac4d87fe\nCloses-Bug: 1830429\n'}]",0,661816,f8f6b14088637fd87de7cf385b840d6b5e5f9b22,12,7,1,6928,,,0,"Stop testing mock functionality

There's no particular reason for us to be verifying mock's behavior.
They have their own unit tests for doing that.

This is specifically a problem right now because mock changed its
behavior in 3.0.0 and broke this test: ""Issue #36366: Calling stop()
on an unstarted or stopped unittest.mock.patch() object will now
return None instead of raising RuntimeError, making the method
idempotent.""

Change-Id: I57db9bad15cab343e152615e115e2ba3ac4d87fe
Closes-Bug: 1830429
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/16/661816/1 && git format-patch -1 --stdout FETCH_HEAD,['oslotest/tests/unit/test_base.py'],1,f8f6b14088637fd87de7cf385b840d6b5e5f9b22,bug/1830429,," self.unstopped = mock.patch('os.environ.put') def tearDown(self): super(TestManualMock, self).tearDown() self.assertRaises( RuntimeError, self.unstopped.stop, )",0,8
openstack%2Fopenstacksdk~master~Ifbcde7f1c59bee16b4c133c3ff4ff69858c774ce,openstack/openstacksdk,master,Ifbcde7f1c59bee16b4c133c3ff4ff69858c774ce,URL encode swift objects endpoints,MERGED,2019-06-07 12:39:34.000000000,2019-07-24 13:18:57.000000000,2019-07-24 13:18:57.000000000,"[{'_account_id': 2}, {'_account_id': 986}, {'_account_id': 3099}, {'_account_id': 9642}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 12:39:34.000000000', 'files': ['openstack/cloud/_object_store.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e096f990142de24ef9e1074f2d7b4600c9cdd190', 'message': 'URL encode swift objects endpoints\n\nSwift containers and objects can contain any kind of characters.\nIf a container or name contains special characters, openstacksdk was failing to\naccess them.\nWe need to url encode containers and objects when creating the url to access\nthem.\n\nChange-Id: Ifbcde7f1c59bee16b4c133c3ff4ff69858c774ce\nStory: 2005828\nTask: 33592\n'}]",0,663925,e096f990142de24ef9e1074f2d7b4600c9cdd190,6,6,1,8674,,,0,"URL encode swift objects endpoints

Swift containers and objects can contain any kind of characters.
If a container or name contains special characters, openstacksdk was failing to
access them.
We need to url encode containers and objects when creating the url to access
them.

Change-Id: Ifbcde7f1c59bee16b4c133c3ff4ff69858c774ce
Story: 2005828
Task: 33592
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/25/663925/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_object_store.py'],1,e096f990142de24ef9e1074f2d7b4600c9cdd190,story_2005828/task_33592,"from six.moves import urllib_parse response = self.object_store.head( self._get_object_endpoint(name) ) exceptions.raise_from_response(self.object_store.put( self._get_object_endpoint(name) )) exceptions.raise_from_response(self.object_store.delete( self._get_object_endpoint(name) )) self.object_store.post( self._get_object_endpoint(name), headers=headers) ) endpoint = urllib_parse.urlparse(self.object_store.get_endpoint()) endpoint = self._get_object_endpoint(container, name) self._get_object_endpoint(container, name), self._get_object_endpoint(container, name), self._get_object_endpoint(container, name)).headers def _get_object_endpoint(self, container, obj=None, query_string=None): endpoint = urllib_parse.quote(container) if obj: endpoint = '{endpoint}/{object}'.format( endpoint=endpoint, object=urllib_parse.quote(obj) )","from six.moves import urllib response = self.object_store.head(name) exceptions.raise_from_response(self.object_store.put(name)) exceptions.raise_from_response(self.object_store.delete(name)) self.object_store.post(name, headers=headers)) endpoint = urllib.parse.urlparse(self.object_store.get_endpoint()) endpoint = '{container}/{name}'.format(container=container, name=name) '{container}/{object}'.format( container=container, object=name), '{container}/{object}'.format( container=container, object=name), '{container}/{object}'.format( container=container, object=name)).headers def _get_object_endpoint(self, container, obj, query_string): endpoint = '{container}/{object}'.format( container=container, object=obj)",25,16
openstack%2Fopenstacksdk~master~I2ce41dd0113c621c6cf6ab345aa649088a54e066,openstack/openstacksdk,master,I2ce41dd0113c621c6cf6ab345aa649088a54e066,force specify project_id during create Sg_rule may cause issue,MERGED,2019-06-25 03:48:50.000000000,2019-07-24 13:18:56.000000000,2019-07-24 13:18:56.000000000,"[{'_account_id': 2}, {'_account_id': 2472}, {'_account_id': 8246}, {'_account_id': 8276}, {'_account_id': 10239}, {'_account_id': 10420}, {'_account_id': 11975}, {'_account_id': 15309}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-06-25 03:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/16c8ee5d440e2e47f99a371c038ad23ff1d54613', 'message': '[WIP] force specify project_id during create Sg_rule may cause issue\n\nI found we just specify tenant_id for creating SG, but force specify\nproject_id for creating SG rules. This may cause compatible issue.\nSo this patch keep SG rules same with SG creationi and test in upstream\nCI.\n\nChange-Id: I2ce41dd0113c621c6cf6ab345aa649088a54e066\n'}, {'number': 2, 'created': '2019-06-25 06:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d3fa105dc877220e6226267c72681fbf7cc975ea', 'message': 'force specify project_id during create Sg_rule may cause issue\n\nI found we just specify tenant_id for creating SG, but force specify\nproject_id for creating SG rules. This may cause compatible issue.\nSo this patch keep SG rules same with SG creationi and test in upstream\nCI.\n\nChange-Id: I2ce41dd0113c621c6cf6ab345aa649088a54e066\n'}, {'number': 3, 'created': '2019-06-26 02:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/85f8508047ebad15de106a33d13000d0699ed3d2', 'message': 'force specify project_id during create Sg_rule may cause issue\n\nI found we just specify tenant_id for creating SG, but force specify\nproject_id for creating SG rules. This may cause compatible issue.\nSo this patch keep SG rules same with SG creationi and test in upstream\nCI.\n\nThis issue raises by https://review.opendev.org/#/c/662724/ , it seems a\nsmall nit that force to specify project_id to create SG_rule. But other\nresources, such as Network/SG just pass tenant_id. So it may cause some\ncompatible issue, or keep the same like other resources at least.\n\nChange-Id: I2ce41dd0113c621c6cf6ab345aa649088a54e066\n'}, {'number': 4, 'created': '2019-07-12 06:26:06.000000000', 'files': ['openstack/tests/unit/cloud/test_security_groups.py', 'openstack/cloud/_security_group.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/15ae4e2c01aa62f4c6f5e8cd9ac0dd38de2b91d4', 'message': 'force specify project_id during create Sg_rule may cause issue\n\nI found we just specify tenant_id for creating SG, but force specify\nproject_id for creating SG rules. This may cause compatible issue.\nSo this patch keep SG rules same with SG creationi and test in upstream\nCI.\n\nThis issue raises by https://review.opendev.org/#/c/662724/ , it seems a\nsmall nit that force to specify project_id to create SG_rule. But other\nresources, such as Network/SG just pass tenant_id. So it may cause some\ncompatible issue, or keep the same like other resources at least.\n\nChange-Id: I2ce41dd0113c621c6cf6ab345aa649088a54e066\n'}]",0,667261,15ae4e2c01aa62f4c6f5e8cd9ac0dd38de2b91d4,16,10,4,15309,,,0,"force specify project_id during create Sg_rule may cause issue

I found we just specify tenant_id for creating SG, but force specify
project_id for creating SG rules. This may cause compatible issue.
So this patch keep SG rules same with SG creationi and test in upstream
CI.

This issue raises by https://review.opendev.org/#/c/662724/ , it seems a
small nit that force to specify project_id to create SG_rule. But other
resources, such as Network/SG just pass tenant_id. So it may cause some
compatible issue, or keep the same like other resources at least.

Change-Id: I2ce41dd0113c621c6cf6ab345aa649088a54e066
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/61/667261/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_security_group.py'],1,16c8ee5d440e2e47f99a371c038ad23ff1d54613,keep_the_sameme_and_compatible,, rule_def['project_id'] = project_id,0,1
openstack%2Fswift~master~I196b4e886942eccd2cb3aff3819da1558ddb19d4,openstack/swift,master,I196b4e886942eccd2cb3aff3819da1558ddb19d4,Fix up errno checking,MERGED,2019-07-17 00:03:24.000000000,2019-07-24 13:18:46.000000000,2019-07-24 13:16:13.000000000,"[{'_account_id': 9625}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-17 00:03:24.000000000', 'files': ['swift/common/wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/424a2603d8d4a454f269c9df5b4c7dc0d389b9da', 'message': 'Fix up errno checking\n\nChange-Id: I196b4e886942eccd2cb3aff3819da1558ddb19d4\n'}]",0,671168,424a2603d8d4a454f269c9df5b4c7dc0d389b9da,7,2,1,15343,,,0,"Fix up errno checking

Change-Id: I196b4e886942eccd2cb3aff3819da1558ddb19d4
",git fetch https://review.opendev.org/openstack/swift refs/changes/68/671168/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/wsgi.py'],1,424a2603d8d4a454f269c9df5b4c7dc0d389b9da,errno, if err.errno != errno.EINVAL:, if err[0] != errno.EINVAL:,1,1
openstack%2Fneutron-tempest-plugin~master~I51564669fc1113556b0927296fa9dd2a8806bce8,openstack/neutron-tempest-plugin,master,I51564669fc1113556b0927296fa9dd2a8806bce8,Add API tests for subnet pool prefix operations,MERGED,2019-05-30 15:55:04.000000000,2019-07-24 13:16:12.000000000,2019-07-24 13:16:12.000000000,"[{'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-05-30 15:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6889a8aa4f406cb18495571046b5ac46b9edb91d', 'message': '[WIP] Add API tests for subnet pool prefix operations\n\nThis introduces API tests for the subnetpool_prefix_ops\nextension. These tests assert proper addition and removal of\nprefixes against subnet pools under the various scenarios that\nare supported.\n\nRelated-Bug: #1792901\nDepends-On: https://review.opendev.org/#/c/648197/\nChange-Id: I51564669fc1113556b0927296fa9dd2a8806bce8\n'}, {'number': 2, 'created': '2019-06-10 09:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3da6c383c093241c0a03dd6389468fc5d6a23c11', 'message': '[WIP] Add API tests for subnet pool prefix operations\n\nThis introduces API tests for the subnetpool_prefix_ops\nextension. These tests assert proper addition and removal of\nprefixes against subnet pools under the various scenarios that\nare supported.\n\nRelated-Bug: #1792901\nDepends-On: https://review.opendev.org/#/c/648197/\nChange-Id: I51564669fc1113556b0927296fa9dd2a8806bce8\n'}, {'number': 3, 'created': '2019-06-17 16:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1a2eaad250be465a25af8ae434064d1200fcb579', 'message': '[WIP] Add API tests for subnet pool prefix operations\n\nThis introduces API tests for the subnetpool_prefix_ops\nextension. These tests assert proper addition and removal of\nprefixes against subnet pools under the various scenarios that\nare supported.\n\nRelated-Bug: #1792901\nDepends-On: https://review.opendev.org/#/c/648197/\nChange-Id: I51564669fc1113556b0927296fa9dd2a8806bce8\n'}, {'number': 4, 'created': '2019-06-17 21:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/be71322d0e2f404ea68361e53e1784af097d49c5', 'message': '[WIP] Add API tests for subnet pool prefix operations\n\nThis introduces API tests for the subnetpool_prefix_ops\nextension. These tests assert proper addition and removal of\nprefixes against subnet pools under the various scenarios that\nare supported.\n\nRelated-Bug: #1792901\nDepends-On: https://review.opendev.org/#/c/648197/\nChange-Id: I51564669fc1113556b0927296fa9dd2a8806bce8\n'}, {'number': 5, 'created': '2019-06-18 14:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9928199e56cf2ad5f4c8a11a062331c0fefb9aa6', 'message': '[WIP] Add API tests for subnet pool prefix operations\n\nThis introduces API tests for the subnetpool_prefix_ops\nextension. These tests assert proper addition and removal of\nprefixes against subnet pools under the various scenarios that\nare supported.\n\nRelated-Bug: #1792901\nDepends-On: https://review.opendev.org/#/c/648197/\nChange-Id: I51564669fc1113556b0927296fa9dd2a8806bce8\n'}, {'number': 6, 'created': '2019-06-20 02:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f990d34432a62dd29ebdb02d19fbbc4bcda5f3dc', 'message': '[WIP] Add API tests for subnet pool prefix operations\n\nThis introduces API tests for the subnetpool_prefix_ops\nextension. These tests assert proper addition and removal of\nprefixes against subnet pools under the various scenarios that\nare supported.\n\nRelated-Bug: #1792901\nDepends-On: https://review.opendev.org/#/c/648197/\nChange-Id: I51564669fc1113556b0927296fa9dd2a8806bce8\n'}, {'number': 7, 'created': '2019-06-20 04:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d0b253ad156f48323b73b617d01979d71f6610e4', 'message': '[WIP] Add API tests for subnet pool prefix operations\n\nThis introduces API tests for the subnetpool_prefix_ops\nextension. These tests assert proper addition and removal of\nprefixes against subnet pools under the various scenarios that\nare supported.\n\nRelated-Bug: #1792901\nDepends-On: https://review.opendev.org/#/c/648197/\nChange-Id: I51564669fc1113556b0927296fa9dd2a8806bce8\n'}, {'number': 8, 'created': '2019-06-20 14:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4ffb6017e5611f61712d6d93e437bcabb322f798', 'message': '[WIP] Add API tests for subnet pool prefix operations\n\nThis introduces API tests for the subnetpool_prefix_ops\nextension. These tests assert proper addition and removal of\nprefixes against subnet pools under the various scenarios that\nare supported.\n\nRelated-Bug: #1792901\nDepends-On: https://review.opendev.org/#/c/648197/\nChange-Id: I51564669fc1113556b0927296fa9dd2a8806bce8\n'}, {'number': 9, 'created': '2019-06-20 20:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c70eecfcbedf998d5cc4156afb885920314f7f0d', 'message': '[WIP] Add API tests for subnet pool prefix operations\n\nThis introduces API tests for the subnetpool_prefix_ops\nextension. These tests assert proper addition and removal of\nprefixes against subnet pools under the various scenarios that\nare supported.\n\nRelated-Bug: #1792901\nDepends-On: https://review.opendev.org/#/c/648197/\nChange-Id: I51564669fc1113556b0927296fa9dd2a8806bce8\n'}, {'number': 10, 'created': '2019-06-21 15:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d3dfc14ece3670bb256e2cb4bf8625e1c5f1979d', 'message': '[WIP] Add API tests for subnet pool prefix operations\n\nThis introduces API tests for the subnetpool_prefix_ops\nextension. These tests assert proper addition and removal of\nprefixes against subnet pools under the various scenarios that\nare supported.\n\nRelated-Bug: #1792901\nDepends-On: https://review.opendev.org/#/c/648197/\nChange-Id: I51564669fc1113556b0927296fa9dd2a8806bce8\n'}, {'number': 11, 'created': '2019-06-21 20:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/fd8b6df7fcd97b7001e1f96a2b5fb11a31aa7931', 'message': '[WIP] Add API tests for subnet pool prefix operations\n\nThis introduces API tests for the subnetpool_prefix_ops\nextension. These tests assert proper addition and removal of\nprefixes against subnet pools under the various scenarios that\nare supported.\n\nRelated-Bug: #1792901\nDepends-On: https://review.opendev.org/#/c/648197/\nChange-Id: I51564669fc1113556b0927296fa9dd2a8806bce8\n'}, {'number': 12, 'created': '2019-06-22 03:11:39.000000000', 'files': ['neutron_tempest_plugin/services/network/json/network_client.py', 'neutron_tempest_plugin/api/test_subnetpool_prefix_ops.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b7238bd91b6ca17b612b0fe05e12c4fff05b3d33', 'message': 'Add API tests for subnet pool prefix operations\n\nThis introduces API tests for the subnetpool_prefix_ops\nextension. These tests assert proper addition and removal of\nprefixes against subnet pools under the various scenarios that\nare supported.\n\nRelated-Bug: #1792901\nDepends-On: https://review.opendev.org/#/c/648197/\nChange-Id: I51564669fc1113556b0927296fa9dd2a8806bce8\n'}]",1,662253,b7238bd91b6ca17b612b0fe05e12c4fff05b3d33,39,6,12,4187,,,0,"Add API tests for subnet pool prefix operations

This introduces API tests for the subnetpool_prefix_ops
extension. These tests assert proper addition and removal of
prefixes against subnet pools under the various scenarios that
are supported.

Related-Bug: #1792901
Depends-On: https://review.opendev.org/#/c/648197/
Change-Id: I51564669fc1113556b0927296fa9dd2a8806bce8
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/53/662253/12 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/services/network/json/network_client.py', 'neutron_tempest_plugin/api/test_subnetpool_prefix_ops.py']",2,6889a8aa4f406cb18495571046b5ac46b9edb91d,bug/1792901,"# Copyright 2019 SUSE LLC # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import netaddr from tempest.lib import decorators from neutron_tempest_plugin.api import test_subnetpools SUBNETPOOL_NAME = 'smoke-subnetpool' SUBNET_NAME = 'smoke-subnet' class SubnetPoolPrefixOpsTestBase(test_subnetpools.SubnetPoolsTestBase): def resource_setup(self): self._subnetpool_data = {'prefixes': self.prefixes, 'min_prefixlen': self.min_prefixlen} def _compare_prefix_lists(self, list_expected, list_observed): expected_set = netaddr.IPSet(iterable=list_expected) observed_set = netaddr.IPSet(iterable=list_observed) # compact the IPSet's expected_set.compact() observed_set.compact() self.assertEqual(len(expected_set), len(observed_set)) self.assertEqual(expected_set, observed_set) @decorators.idempotent_id('b1d56d1f-2818-44ee-b6a3-3c1327c25318') def test_add_remove_prefix(self): created_subnetpool = self._create_subnetpool( ip_version=self.ip_version) req_body = {'prefixes': self.prefix_to_add} # Add a prefix to the subnet pool resp = self.client.add_subnetpool_prefix(created_subnetpool['id'], req_body) self._compare_prefix_lists(self.prefixes + self.prefix_to_add, resp['prefixes']) # Remove the prefix from the subnet pool resp = self.client.remove_subnetpool_prefix(created_subnetpool['id'], req_body) self._compare_prefix_lists(self.prefixes, resp['prefixes']) @decorators.idempotent_id('a36c18fc-10b5-4ebc-ab79-914f826c5bf5') def test_add_overlapping_prefix(self): created_subnetpool = self._create_subnetpool( ip_version=self.ip_version) req_body = {'prefixes': self.overlapping_prefix} # Add an overlapping prefix to the subnet pool resp = self.client.add_subnetpool_prefix(created_subnetpool['id'], req_body) self._compare_prefix_lists(self.prefixes + self.overlapping_prefix, resp['prefixes']) class SubnetPoolPrefixOpsIpv4Test(SubnetPoolPrefixOpsTestBase): prefixes = ['192.168.1.0/24', '10.10.10.0/24'] prefix_to_add = '192.168.2.0/24' overlapping_prefix = '10.10.0.0/16' ip_version = 4 class SubnetPoolPrefixOpsIpv6Test(SubnetPoolPrefixOpsTestBase): prefixes = ['2001:db8:1234::/48', '2001:db8:1235::/48'] prefix_to_add = '2001:db8:4321::/48' overlapping_prefix = '2001:db8:1234:1111::/64' ip_version = 6 ",,102,0
openstack%2Fpuppet-pacemaker~stable%2F0.7.x~Idf5675584b6e8a3f416fe865bc39c4f9b1d091ef,openstack/puppet-pacemaker,stable/0.7.x,Idf5675584b6e8a3f416fe865bc39c4f9b1d091ef,Update UPPER_CONSTRAINTS_FILE for stable/0.7.x,MERGED,2019-03-24 23:07:42.000000000,2019-07-24 13:16:10.000000000,2019-07-24 13:16:10.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-24 23:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/2f879700c71c0fdfd1909937e756027e4ec9a6d7', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/0.7.x\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/0.7.x branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Idf5675584b6e8a3f416fe865bc39c4f9b1d091ef\n'}, {'number': 2, 'created': '2019-06-25 16:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/b1d75000dc9500021ad20bb480ca3ab6cc29bcd1', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/0.7.x\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/0.7.x branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Idf5675584b6e8a3f416fe865bc39c4f9b1d091ef\n'}, {'number': 3, 'created': '2019-06-25 16:20:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/a1f5e8a349b100a6dc50ee19f526a400d93467f6', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/0.7.x\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/0.7.x branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Idf5675584b6e8a3f416fe865bc39c4f9b1d091ef\n'}]",0,647251,a1f5e8a349b100a6dc50ee19f526a400d93467f6,18,3,3,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/0.7.x

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/0.7.x branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Idf5675584b6e8a3f416fe865bc39c4f9b1d091ef
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/51/647251/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2f879700c71c0fdfd1909937e756027e4ec9a6d7,create-0.7.x,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/0.7.x} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Ftripleo-validations~master~Ibfd51c57b150c63d80a62200c1d42b54e8b9de4c,openstack/tripleo-validations,master,Ibfd51c57b150c63d80a62200c1d42b54e8b9de4c,[WIP] Fix check-latest-minor-version,ABANDONED,2019-07-24 12:12:37.000000000,2019-07-24 13:03:09.000000000,,"[{'_account_id': 11491}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-24 12:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/252f8420833fdefa804b60fee66e021d375b6539', 'message': '[WIP] Fix check-latest-minor-version\n\nChange-Id: Ibfd51c57b150c63d80a62200c1d42b54e8b9de4c\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2019-07-24 12:33:22.000000000', 'files': ['roles/check-latest-minor-version/tasks/main.yml', 'library/repoquery.py', 'library/check_package_update.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8ceaf6ce32d849572651188f9ca71a37ea9407f0', 'message': '[WIP] Fix check-latest-minor-version\n\nChange-Id: Ibfd51c57b150c63d80a62200c1d42b54e8b9de4c\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",2,672509,8ceaf6ce32d849572651188f9ca71a37ea9407f0,7,2,2,11491,,,0,"[WIP] Fix check-latest-minor-version

Change-Id: Ibfd51c57b150c63d80a62200c1d42b54e8b9de4c
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/09/672509/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check-latest-minor-version/tasks/main.yml', 'library/repoquery.py', 'library/check_package_update.py']",3,252f8420833fdefa804b60fee66e021d375b6539,,,"#!/usr/bin/env python # Copyright 2017 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Check for available updates for a given package."""""" import collections import subprocess from ansible.module_utils.basic import AnsibleModule DOCUMENTATION = ''' --- module: check_package_update short_description: Check for available updates for a given package options: package: required: true description: - The name of the package you want to check type: str pkg_mgr: required: true description: - Supported Package Manager, DNF or YUM type: str author: ""Florian Fuchs"" ''' EXAMPLES = ''' - hosts: webservers tasks: - name: Get available updates for packages check_package_update: package: python-tripleoclient pkg_mgr: {{ ansible_pkg_mgr}} ''' SUPPORTED_PKG_MGRS = ( 'yum', 'dnf', ) PackageDetails = collections.namedtuple('PackageDetails', ['name', 'arch', 'version']) def get_package_details(line): # Parses an output line from a package manager's # `list (available|installed)` command and returns # a named tuple parts = line.rstrip().split() name, arch = parts[0].split('.') # Version string, excluding release string and epoch version = parts[1].split('-')[0].split(':')[-1] return PackageDetails(name, arch, version) def _command(command): # Return the result of a subprocess call # as [stdout, stderr] process = subprocess.Popen(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE, universal_newlines=True) return process.communicate() def _get_installed_version_from_output(output, package): for line in output.split('\n'): if package in line: return get_package_details(line) def _get_latest_available_versions(output, installed): # Returns the latest available minor and major versions, # one for each. latest_minor = None latest_major = None # Get all packages with the same architecture packages = list([get_package_details(line) for line in output.split('\n') if '{i.name}.{i.arch}'.format(i=installed) in line]) # Get all packages with the *same* major version minor = sorted((p for p in packages if p.version[0] == installed.version[0])) if len(minor) > 0: latest_minor = minor[-1].version # Get all packages with a *higher* available major version major = sorted((p for p in packages if p.version[0] > installed.version[0])) if len(major) > 0: latest_major = major[-1].version # If the output doesn't contain packages with the same major version # let's assume the currently installed version as latest minor one. if latest_minor is None: latest_minor = installed.version return latest_minor, latest_major def check_update(module, package, pkg_mgr): if pkg_mgr not in SUPPORTED_PKG_MGRS: module.fail_json( msg='Package manager ""{}"" is not supported.'.format(pkg_mgr)) return installed_stdout, installed_stderr = _command( [pkg_mgr, 'list', 'installed', package]) # Fail the module if for some reason we can't lookup the current package. if installed_stderr != '': module.fail_json(msg=installed_stderr) return installed = _get_installed_version_from_output(installed_stdout, package) available_stdout, available_stderr = _command( [pkg_mgr, 'list', 'available', installed.name]) latest_minor_version, latest_major_version = \ _get_latest_available_versions(available_stdout, installed) module.exit_json(changed=False, name=installed.name, current_version=installed.version, latest_minor_version=latest_minor_version, latest_major_version=latest_major_version) def main(): module = AnsibleModule(argument_spec=dict( package=dict(required=True, type='str'), pkg_mgr=dict(required=True, type='str') )) check_update(module, module.params.get('package'), module.params.get('pkg_mgr')) if __name__ == '__main__': main() ",627,160
openstack%2Fcloudkitty~master~I0ab7359e15eb04948c7a905378001a66cb901e69,openstack/cloudkitty,master,I0ab7359e15eb04948c7a905378001a66cb901e69,Removing author identification in all files,MERGED,2019-06-07 08:39:00.000000000,2019-07-24 13:00:39.000000000,2019-07-24 13:00:39.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 26767}]","[{'number': 1, 'created': '2019-06-07 08:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/1a27bc71a151a5d71c02233fb9bc8627e465c74e', 'message': 'Removing author identification in all files\n\nAs specified by the OpenStack Style Guidelines in its 1.1.1.dev15\nversion, which is the latest version to this day, *author* tags\nshould not be specified (see H105).\n\nhttps://docs.openstack.org/hacking/latest/user/hacking.html#general\n\nIndeed, version control systems like git offers the possibility to\nanyone to know who is the author of a portion of code.\n\nContributions are tracked and attributed in a sure way via\nthe public Stackalytics platform for all to see.\n\nAuthor tags in file headers are also tedious because they can\nmisattribute work and cannot guarantee any certitude,\nonly version control systems are a reliable way to determine\nthe author of some code making them useless and cumbersome\nto maintain.\n\nI personally started to strip them out from the files\nI have updated but I agree it is better to remove them all at once.\n\nChange-Id: I0ab7359e15eb04948c7a905378001a66cb901e69\n'}, {'number': 2, 'created': '2019-06-07 08:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a9aca54a857556a21620a45c99b48fb8fdbe637d', 'message': 'Removing author identification in all files\n\nAs specified by the OpenStack Style Guidelines in its 1.1.1.dev15\nversion, which is the latest version to this day, *author* tags\nshould not be specified (see H105).\n\nhttps://docs.openstack.org/hacking/latest/user/hacking.html#general\n\nIndeed, version control systems like git offers the possibility to\nanyone to know who is the author of a portion of code.\n\nContributions are tracked and attributed in a sure way via\nthe public Stackalytics platform for all to see.\n\nAuthor tags in file headers are also tedious because they can\nmisattribute work and cannot guarantee any certitude,\nonly version control systems are a reliable way to determine\nthe author of some code making these tags useless and cumbersome\nto maintain.\n\nI personally started to strip them out from the files\nI have updated but I agree it is better to remove them all at once.\n\nChange-Id: I0ab7359e15eb04948c7a905378001a66cb901e69\n'}, {'number': 3, 'created': '2019-06-07 09:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/463b6bffc9847ac7654dab8b8a8e2edea70f5588', 'message': 'Removing author identification in all files\n\nAs specified by the OpenStack Style Guidelines in its 1.1.1.dev15\nversion, which is the latest version to this day, *author* tags\nshould not be specified (see H105).\n\nhttps://docs.openstack.org/hacking/latest/user/hacking.html#general\n\nChange-Id: I0ab7359e15eb04948c7a905378001a66cb901e69\n'}, {'number': 4, 'created': '2019-07-02 12:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a01682757e4061b476e45aca53af4f48e531eff2', 'message': 'Removing author identification in all files\n\nAs specified by the OpenStack Style Guidelines in its 1.1.1.dev15\nversion, which is the latest version to this day, *author* tags\nshould not be specified (see H105).\n\nhttps://docs.openstack.org/hacking/latest/user/hacking.html#general\n\nChange-Id: I0ab7359e15eb04948c7a905378001a66cb901e69\n'}, {'number': 5, 'created': '2019-07-22 12:21:56.000000000', 'files': ['cloudkitty/api/v1/controllers/__init__.py', 'cloudkitty/rating/hash/datamodels/threshold.py', 'cloudkitty/rating/pyscripts/db/sqlalchemy/api.py', 'cloudkitty/rating/hash/datamodels/field.py', 'cloudkitty/storage/v1/sqlalchemy/__init__.py', 'cloudkitty/api/v1/types.py', 'cloudkitty/extension_manager.py', 'cloudkitty/api/v1/datamodels/collector.py', 'cloudkitty/storage_state/migration.py', 'cloudkitty/api/app.py', 'cloudkitty/storage/v1/hybrid/models.py', 'cloudkitty/rating/hash/controllers/service.py', 'cloudkitty/storage/v2/influx.py', 'cloudkitty/storage/v1/hybrid/alembic/versions/03da4bb002b9_initial_revision.py', 'cloudkitty/rating/hash/controllers/threshold.py', 'cloudkitty/common/db/alembic/migration.py', 'cloudkitty/storage/v1/hybrid/migration.py', 'cloudkitty/rating/pyscripts/db/sqlalchemy/models.py', 'cloudkitty/collector/__init__.py', 'cloudkitty/rating/hash/controllers/group.py', 'cloudkitty/tests/storage/v1/test_hybrid_storage.py', 'cloudkitty/db/sqlalchemy/migration.py', 'cloudkitty/rating/pyscripts/db/sqlalchemy/migration.py', 'cloudkitty/api/v1/controllers/rating.py', 'cloudkitty/storage/v1/hybrid/backends/gnocchi.py', 'cloudkitty/tests/test_hashmap.py', 'cloudkitty/api/v1/controllers/info.py', 'cloudkitty/db/sqlalchemy/api.py', 'cloudkitty/db/sqlalchemy/alembic/env.py', 'cloudkitty/rating/hash/datamodels/service.py', 'cloudkitty/common/db/models.py', 'cloudkitty/transformer/__init__.py', 'cloudkitty/storage/v1/sqlalchemy/models.py', 'cloudkitty/rating/hash/controllers/root.py', 'cloudkitty/rating/hash/db/sqlalchemy/models.py', 'cloudkitty/api/v1/controllers/report.py', 'cloudkitty/tests/gabbi/test_gabbi.py', 'cloudkitty/api/v1/hooks.py', 'cloudkitty/tests/storage/v2/test_storage_unit.py', 'cloudkitty/rating/hash/db/sqlalchemy/migration.py', 'cloudkitty/tests/test_pyscripts.py', 'cloudkitty/storage_state/models.py', 'cloudkitty/common/db/alembic/env.py', 'cloudkitty/storage/v1/hybrid/__init__.py', 'cloudkitty/utils.py', 'cloudkitty/api/v1/datamodels/report.py', 'cloudkitty/i18n.py', 'cloudkitty/rating/noop.py', 'cloudkitty/tests/transformers/test_base.py', 'cloudkitty/storage/v1/hybrid/alembic/env.py', 'contrib/ci/csv_writer.py', 'cloudkitty/api/middleware.py', 'cloudkitty/cli/dbsync.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/env.py', 'cloudkitty/rating/pyscripts/db/sqlalchemy/alembic/env.py', 'cloudkitty/api/v1/controllers/collector.py', 'cloudkitty/state.py', 'cloudkitty/api/v1/datamodels/storage.py', 'cloudkitty/rating/pyscripts/controllers/script.py', 'cloudkitty/backend/file.py', 'cloudkitty/rating/__init__.py', 'cloudkitty/rating/hash/db/api.py', 'cloudkitty/tests/test_state.py', 'cloudkitty/service.py', 'cloudkitty/tests/gabbi/rating/pyscripts/test_gabbi.py', 'cloudkitty/api/v1/controllers/storage.py', 'cloudkitty/tests/storage/v2/influx_utils.py', 'cloudkitty/write_orchestrator.py', 'cloudkitty/db/sqlalchemy/models.py', 'cloudkitty/db/api.py', 'cloudkitty/tests/samples.py', 'cloudkitty/storage/v1/sqlalchemy/alembic/env.py', 'cloudkitty/cli/processor.py', 'cloudkitty/db/__init__.py', 'cloudkitty/collector/monasca.py', 'cloudkitty/rating/pyscripts/db/api.py', 'cloudkitty/tests/gabbi/rating/hash/fixtures.py', 'cloudkitty/writer/csv_base.py', 'cloudkitty/rating/pyscripts/controllers/root.py', 'cloudkitty/backend/__init__.py', 'cloudkitty/rating/hash/db/sqlalchemy/api.py', 'cloudkitty/rating/hash/datamodels/mapping.py', 'cloudkitty/writer/osrf.py', 'cloudkitty/rating/hash/controllers/mapping.py', 'cloudkitty/config.py', 'cloudkitty/tests/collectors/test_prometheus.py', 'cloudkitty/tests/test_orchestrator.py', 'cloudkitty/tests/__init__.py', 'cloudkitty/rating/hash/controllers/field.py', 'cloudkitty/tests/test_keystone_fetcher.py', 'cloudkitty/tests/utils.py', 'cloudkitty/tests/gabbi/rating/pyscripts/fixtures.py', 'tox.ini', 'cloudkitty/transformer/format.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/models/f8c799db4aa0_fix_unnamed_constraints.py', 'cloudkitty/rating/hash/datamodels/group.py', 'cloudkitty/writer/__init__.py', 'cloudkitty/orchestrator.py', 'cloudkitty/fetcher/keystone.py', 'cloudkitty/storage_state/__init__.py', 'cloudkitty/storage_state/alembic/env.py', 'cloudkitty/fetcher/gnocchi.py', 'cloudkitty/api/v1/datamodels/info.py', 'cloudkitty/rating/pyscripts/__init__.py', 'cloudkitty/tests/gabbi/rating/hash/test_gabbi.py', 'cloudkitty/fetcher/source.py', 'cloudkitty/storage/v1/hybrid/backends/__init__.py', 'cloudkitty/writer/csv_map.py', 'cloudkitty/rating/pyscripts/datamodels/script.py', 'cloudkitty/storage/v1/__init__.py', 'cloudkitty/storage/v1/sqlalchemy/migration.py', 'cloudkitty/cli/writer.py', 'cloudkitty/storage/v2/__init__.py', 'cloudkitty/fetcher/__init__.py', 'cloudkitty/tests/test_utils.py', 'cloudkitty/cli/storage.py', 'cloudkitty/rating/hash/__init__.py', 'cloudkitty/tests/transformers/__init__.py', 'cloudkitty/api/v1/datamodels/rating.py', 'cloudkitty/tests/storage/v1/test_storage.py', 'cloudkitty/tests/test_rating.py', 'cloudkitty/tests/gabbi/handlers.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/16b6fa5ce83f12707a0493b9bce09e2222bf5929', 'message': 'Removing author identification in all files\n\nAs specified by the OpenStack Style Guidelines in its 1.1.1.dev15\nversion, which is the latest version to this day, *author* tags\nshould not be specified (see H105).\n\nhttps://docs.openstack.org/hacking/latest/user/hacking.html#general\n\nChange-Id: I0ab7359e15eb04948c7a905378001a66cb901e69\n'}]",0,663860,16b6fa5ce83f12707a0493b9bce09e2222bf5929,14,3,5,29503,,,0,"Removing author identification in all files

As specified by the OpenStack Style Guidelines in its 1.1.1.dev15
version, which is the latest version to this day, *author* tags
should not be specified (see H105).

https://docs.openstack.org/hacking/latest/user/hacking.html#general

Change-Id: I0ab7359e15eb04948c7a905378001a66cb901e69
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/60/663860/4 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/api/v1/controllers/__init__.py', 'cloudkitty/rating/hash/datamodels/threshold.py', 'cloudkitty/rating/pyscripts/db/sqlalchemy/api.py', 'cloudkitty/rating/hash/datamodels/field.py', 'cloudkitty/storage/v1/sqlalchemy/__init__.py', 'cloudkitty/api/v1/types.py', 'cloudkitty/extension_manager.py', 'cloudkitty/api/v1/datamodels/collector.py', 'cloudkitty/storage_state/migration.py', 'cloudkitty/api/app.py', 'cloudkitty/storage/v1/hybrid/models.py', 'cloudkitty/rating/hash/controllers/service.py', 'cloudkitty/storage/v2/influx.py', 'cloudkitty/storage/v1/hybrid/alembic/versions/03da4bb002b9_initial_revision.py', 'cloudkitty/rating/hash/controllers/threshold.py', 'cloudkitty/common/db/alembic/migration.py', 'cloudkitty/storage/v1/hybrid/migration.py', 'cloudkitty/rating/pyscripts/db/sqlalchemy/models.py', 'cloudkitty/collector/__init__.py', 'cloudkitty/rating/hash/controllers/group.py', 'cloudkitty/tests/storage/v1/test_hybrid_storage.py', 'cloudkitty/db/sqlalchemy/migration.py', 'cloudkitty/rating/pyscripts/db/sqlalchemy/migration.py', 'cloudkitty/api/v1/controllers/rating.py', 'cloudkitty/storage/v1/hybrid/backends/gnocchi.py', 'cloudkitty/tests/test_hashmap.py', 'cloudkitty/api/v1/controllers/info.py', 'cloudkitty/db/sqlalchemy/api.py', 'cloudkitty/db/sqlalchemy/alembic/env.py', 'cloudkitty/rating/hash/datamodels/service.py', 'cloudkitty/common/db/models.py', 'cloudkitty/transformer/__init__.py', 'cloudkitty/storage/v1/sqlalchemy/models.py', 'cloudkitty/rating/hash/controllers/root.py', 'cloudkitty/rating/hash/db/sqlalchemy/models.py', 'cloudkitty/api/v1/controllers/report.py', 'cloudkitty/tests/gabbi/test_gabbi.py', 'cloudkitty/api/v1/hooks.py', 'cloudkitty/tests/storage/v2/test_storage_unit.py', 'cloudkitty/rating/hash/db/sqlalchemy/migration.py', 'cloudkitty/tests/test_pyscripts.py', 'cloudkitty/storage_state/models.py', 'cloudkitty/common/db/alembic/env.py', 'cloudkitty/storage/v1/hybrid/__init__.py', 'cloudkitty/utils.py', 'cloudkitty/api/v1/datamodels/report.py', 'cloudkitty/i18n.py', 'cloudkitty/rating/noop.py', 'cloudkitty/tests/transformers/test_base.py', 'cloudkitty/storage/v1/hybrid/alembic/env.py', 'contrib/ci/csv_writer.py', 'cloudkitty/api/middleware.py', 'cloudkitty/cli/dbsync.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/env.py', 'cloudkitty/rating/pyscripts/db/sqlalchemy/alembic/env.py', 'cloudkitty/api/v1/controllers/collector.py', 'cloudkitty/state.py', 'cloudkitty/api/v1/datamodels/storage.py', 'cloudkitty/rating/pyscripts/controllers/script.py', 'cloudkitty/backend/file.py', 'cloudkitty/rating/__init__.py', 'cloudkitty/rating/hash/db/api.py', 'cloudkitty/tests/test_state.py', 'cloudkitty/service.py', 'cloudkitty/tests/gabbi/rating/pyscripts/test_gabbi.py', 'cloudkitty/api/v1/controllers/storage.py', 'cloudkitty/tests/storage/v2/influx_utils.py', 'cloudkitty/write_orchestrator.py', 'cloudkitty/db/sqlalchemy/models.py', 'cloudkitty/db/api.py', 'cloudkitty/tests/samples.py', 'cloudkitty/storage/v1/sqlalchemy/alembic/env.py', 'cloudkitty/cli/processor.py', 'cloudkitty/db/__init__.py', 'cloudkitty/collector/monasca.py', 'cloudkitty/rating/pyscripts/db/api.py', 'cloudkitty/tests/gabbi/rating/hash/fixtures.py', 'cloudkitty/writer/csv_base.py', 'cloudkitty/rating/pyscripts/controllers/root.py', 'cloudkitty/backend/__init__.py', 'cloudkitty/rating/hash/db/sqlalchemy/api.py', 'cloudkitty/rating/hash/datamodels/mapping.py', 'cloudkitty/writer/osrf.py', 'cloudkitty/rating/hash/controllers/mapping.py', 'cloudkitty/config.py', 'cloudkitty/tests/collectors/test_prometheus.py', 'cloudkitty/tests/test_orchestrator.py', 'cloudkitty/tests/__init__.py', 'cloudkitty/rating/hash/controllers/field.py', 'cloudkitty/tests/test_keystone_fetcher.py', 'cloudkitty/tests/utils.py', 'cloudkitty/tests/gabbi/rating/pyscripts/fixtures.py', 'cloudkitty/transformer/format.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/models/f8c799db4aa0_fix_unnamed_constraints.py', 'cloudkitty/rating/hash/datamodels/group.py', 'cloudkitty/writer/__init__.py', 'cloudkitty/orchestrator.py', 'cloudkitty/fetcher/keystone.py', 'cloudkitty/storage_state/__init__.py', 'cloudkitty/storage_state/alembic/env.py', 'cloudkitty/fetcher/gnocchi.py', 'cloudkitty/api/v1/datamodels/info.py', 'cloudkitty/rating/pyscripts/__init__.py', 'cloudkitty/tests/gabbi/rating/hash/test_gabbi.py', 'cloudkitty/fetcher/source.py', 'cloudkitty/storage/v1/hybrid/backends/__init__.py', 'cloudkitty/writer/csv_map.py', 'cloudkitty/rating/pyscripts/datamodels/script.py', 'cloudkitty/storage/v1/__init__.py', 'cloudkitty/storage/v1/sqlalchemy/migration.py', 'cloudkitty/cli/writer.py', 'cloudkitty/storage/v2/__init__.py', 'cloudkitty/fetcher/__init__.py', 'cloudkitty/tests/test_utils.py', 'cloudkitty/cli/storage.py', 'cloudkitty/rating/hash/__init__.py', 'cloudkitty/tests/transformers/__init__.py', 'cloudkitty/api/v1/datamodels/rating.py', 'cloudkitty/tests/storage/v1/test_storage.py', 'cloudkitty/tests/test_rating.py', 'cloudkitty/tests/gabbi/handlers.py']",121,1a27bc71a151a5d71c02233fb9bc8627e465c74e,,,# @author: Stéphane Albert #,0,242
openstack%2Fheat~master~Ic49acc5b57122fded11b5d17f8b51bf54dd29674,openstack/heat,master,Ic49acc5b57122fded11b5d17f8b51bf54dd29674,Update install docs for Keystone v3,MERGED,2019-05-28 14:28:04.000000000,2019-07-24 12:56:52.000000000,2019-07-24 12:56:52.000000000,"[{'_account_id': 8532}, {'_account_id': 12404}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 27781}, {'_account_id': 30519}]","[{'number': 1, 'created': '2019-05-28 14:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c56addbedc8da77a601e2ad3fb7c14883d213115', 'message': 'Update install docs for Keystone v3\n\nSince the Keystone v2 API was removed in Queens, the Keystone setup\ndocumentation recommends using the same port (5000) for admin access as\nfor regular internal/public access.\n\nChange-Id: Ic49acc5b57122fded11b5d17f8b51bf54dd29674\nTask: 33508\n'}, {'number': 2, 'created': '2019-06-27 18:20:47.000000000', 'files': ['doc/source/getting_started/standalone.rst', 'doc/source/install/install-ubuntu.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/629d1042c87047534252cb2818c4b64eef50bf7b', 'message': 'Update install docs for Keystone v3\n\nSince the Keystone v2 API was removed in Queens, the Keystone setup\ndocumentation recommends using the same port (5000) for admin access as\nfor regular internal/public access.\n\nChange-Id: Ic49acc5b57122fded11b5d17f8b51bf54dd29674\nTask: 33508\n'}]",1,661768,629d1042c87047534252cb2818c4b64eef50bf7b,15,7,2,4257,,,0,"Update install docs for Keystone v3

Since the Keystone v2 API was removed in Queens, the Keystone setup
documentation recommends using the same port (5000) for admin access as
for regular internal/public access.

Change-Id: Ic49acc5b57122fded11b5d17f8b51bf54dd29674
Task: 33508
",git fetch https://review.opendev.org/openstack/heat refs/changes/68/661768/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/getting_started/standalone.rst', 'doc/source/install/install-ubuntu.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst']",4,c56addbedc8da77a601e2ad3fb7c14883d213115,, auth_url = http://controller:5000 auth_url = http://controller:5000, auth_url = http://controller:35357 auth_url = http://controller:35357,8,8
openstack%2Fzun~master~Idf8ac17160c90e5db869ca4af1c33c30a02d5830,openstack/zun,master,Idf8ac17160c90e5db869ca4af1c33c30a02d5830,Add 'tty' and 'stdin' to capsule,MERGED,2019-07-11 03:05:50.000000000,2019-07-24 12:53:16.000000000,2019-07-24 12:53:16.000000000,"[{'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2019-07-11 03:05:50.000000000', 'files': ['zun/common/utils.py', 'zun/api/controllers/v1/capsules.py', '.zuul.yaml', 'zun/container/docker/driver.py', 'zun/tests/unit/api/controllers/test_root.py', 'zun/api/controllers/v1/schemas/parameter_types.py', 'zun/api/rest_api_version_history.rst', 'zun/api/controllers/versions.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/a4dad10e3f24aa1211b0728d14776a0fbd0959c6', 'message': ""Add 'tty' and 'stdin' to capsule\n\nChange-Id: Idf8ac17160c90e5db869ca4af1c33c30a02d5830\n""}]",0,670220,a4dad10e3f24aa1211b0728d14776a0fbd0959c6,7,3,1,11536,,,0,"Add 'tty' and 'stdin' to capsule

Change-Id: Idf8ac17160c90e5db869ca4af1c33c30a02d5830
",git fetch https://review.opendev.org/openstack/zun refs/changes/20/670220/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/common/utils.py', 'zun/api/controllers/v1/capsules.py', '.zuul.yaml', 'zun/container/docker/driver.py', 'zun/tests/unit/api/controllers/test_root.py', 'zun/api/controllers/v1/schemas/parameter_types.py', 'zun/api/rest_api_version_history.rst', 'zun/api/controllers/versions.py']",8,a4dad10e3f24aa1211b0728d14776a0fbd0959c6,, * 1.37 - Add 'tty' and 'stdin' to capsuleCURRENT_MAX_VER = '1.37',CURRENT_MAX_VER = '1.36',16,6
openstack%2Fhorizon~stable%2Fqueens~I29fb643bfa9b648ad24fcb9888c658a5a52e4bcc,openstack/horizon,stable/queens,I29fb643bfa9b648ad24fcb9888c658a5a52e4bcc,Fix image description field,MERGED,2019-07-08 03:29:18.000000000,2019-07-24 12:48:30.000000000,2019-07-24 12:48:30.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8478}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-07-08 03:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5ddd8ae8f9713933c2399eaafe94cbf2b761fb74', 'message': 'Fix image description field\n\nNothing changed when edit image description on Angularized panel.\nThis patch fixes it.\n\nChange-Id: I29fb643bfa9b648ad24fcb9888c658a5a52e4bcc\nCloses-Bug: #1779879\n(cherry picked from commit 08e0f38c843816660e2b2930c7c6ee5c0435b4a3)\n'}, {'number': 2, 'created': '2019-07-08 03:35:21.000000000', 'files': ['openstack_dashboard/static/app/core/images/actions/edit.action.service.js', 'releasenotes/notes/image-description-3fc00c02f46a80c7.yaml', 'openstack_dashboard/static/app/core/images/actions/edit.action.service.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ae1f4abd58f43911c6d8ff0490cb21ee658f6c1e', 'message': 'Fix image description field\n\nNothing changed when edit image description on Angularized panel.\nThis patch fixes it.\n\nChange-Id: I29fb643bfa9b648ad24fcb9888c658a5a52e4bcc\nCloses-Bug: #1779879\nCloses-Bug: #1777834\n(cherry picked from commit 08e0f38c843816660e2b2930c7c6ee5c0435b4a3)\n'}]",0,669592,ae1f4abd58f43911c6d8ff0490cb21ee658f6c1e,10,6,2,27550,,,0,"Fix image description field

Nothing changed when edit image description on Angularized panel.
This patch fixes it.

Change-Id: I29fb643bfa9b648ad24fcb9888c658a5a52e4bcc
Closes-Bug: #1779879
Closes-Bug: #1777834
(cherry picked from commit 08e0f38c843816660e2b2930c7c6ee5c0435b4a3)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/92/669592/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/app/core/images/actions/edit.action.service.js', 'releasenotes/notes/image-description-3fc00c02f46a80c7.yaml', 'openstack_dashboard/static/app/core/images/actions/edit.action.service.spec.js']",3,5ddd8ae8f9713933c2399eaafe94cbf2b761fb74,579886-stable/queens," var image = {id: 1, name: 'Original', properties: {description: 'bla-bla'}};"," var image = {id: 1, name: 'Original'};",8,2
openstack%2Fmistral~stable%2Fstein~I4fa15994a7359a5f90a0a4671d47b19fe928cf33,openstack/mistral,stable/stein,I4fa15994a7359a5f90a0a4671d47b19fe928cf33,"Retry a DB transaction on ""Too many connections"" error",MERGED,2019-07-24 01:02:37.000000000,2019-07-24 12:46:35.000000000,2019-07-24 12:46:35.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 01:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/06181d5e5a738f1b4134f4cd31c962ec7baead95', 'message': 'Retry a DB transaction on ""Too many connections"" error\n\n* Writing a unit test is very problematic but the fix has been\n  tested manually.\n\nCloses-Bug: #1837532\n\nChange-Id: I4fa15994a7359a5f90a0a4671d47b19fe928cf33\n'}, {'number': 2, 'created': '2019-07-24 07:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c18d0c3e8134165fe78bea434daa285a3f4be049', 'message': 'Retry a DB transaction on ""Too many connections"" error\n\n* Writing a unit test is very problematic but the fix has been\n  tested manually.\n\nCloses-Bug: #1837532\n\nChange-Id: I4fa15994a7359a5f90a0a4671d47b19fe928cf33\n'}, {'number': 3, 'created': '2019-07-24 07:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e69f855d36e71ed0c621457843234ea7f2cb4683', 'message': 'Retry a DB transaction on ""Too many connections"" error\n\n* Writing a unit test is very problematic but the fix has been\n  tested manually.\n\nCloses-Bug: #1837532\n\nChange-Id: I4fa15994a7359a5f90a0a4671d47b19fe928cf33\n'}, {'number': 4, 'created': '2019-07-24 07:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/b38e7ff10077f68128ab402773de402fd89995b5', 'message': 'Retry a DB transaction on ""Too many connections"" error\n\n* Writing a unit test is very problematic but the fix has been\n  tested manually.\n\nCloses-Bug: #1837532\n\nChange-Id: I4fa15994a7359a5f90a0a4671d47b19fe928cf33\n'}, {'number': 5, 'created': '2019-07-24 09:38:38.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'mistral/db/utils.py', 'lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/mistral/commit/19ddb052b3f7d78dd22c354682cb9090ce6d2001', 'message': 'Retry a DB transaction on ""Too many connections"" error\n\n* Writing a unit test is very problematic but the fix has been\n  tested manually.\n\nCloses-Bug: #1837532\n\nChange-Id: I4fa15994a7359a5f90a0a4671d47b19fe928cf33\n'}]",0,672390,19ddb052b3f7d78dd22c354682cb9090ce6d2001,11,2,5,8731,,,0,"Retry a DB transaction on ""Too many connections"" error

* Writing a unit test is very problematic but the fix has been
  tested manually.

Closes-Bug: #1837532

Change-Id: I4fa15994a7359a5f90a0a4671d47b19fe928cf33
",git fetch https://review.opendev.org/openstack/mistral refs/changes/90/672390/5 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'mistral/db/utils.py', 'lower-constraints.txt']",3,06181d5e5a738f1b4134f4cd31c962ec7baead95,bug/1837532-stable/stein,tenacity==5.0.1,tenacity==4.4.0,16,7
openstack%2Frpm-packaging~stable%2Frocky~I27a627e8e4d009c5f6ca2c4f3e72e423303844f6,openstack/rpm-packaging,stable/rocky,I27a627e8e4d009c5f6ca2c4f3e72e423303844f6,Update openstacksdk to 0.17.3,MERGED,2019-07-18 16:19:28.000000000,2019-07-24 12:40:22.000000000,2019-07-24 12:40:22.000000000,"[{'_account_id': 1916}, {'_account_id': 6593}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-18 16:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/def83f6dce3325958d598412249c6d1fa16845ed', 'message': 'Update openstacksdk to 0.17.3\n\nChange-Id: I27a627e8e4d009c5f6ca2c4f3e72e423303844f6\n'}, {'number': 2, 'created': '2019-07-18 18:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bab1015274fa0acfa59205b862a96981edc03c82', 'message': 'Update openstacksdk to 0.17.3\n\nDepends-On: https://review.opendev.org/671537\n\nChange-Id: I27a627e8e4d009c5f6ca2c4f3e72e423303844f6\n'}, {'number': 3, 'created': '2019-07-23 19:43:39.000000000', 'files': ['openstack/mistral/mistral.spec.j2', 'openstack/mistral/0001-disable-triggering-version-discovery-in-test_generat.patch', 'openstack/openstacksdk/openstacksdk.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/22983943f20d75f1b012e6bcfddba4aeb07f5f0a', 'message': 'Update openstacksdk to 0.17.3\n\nChange-Id: I27a627e8e4d009c5f6ca2c4f3e72e423303844f6\n'}]",0,671521,22983943f20d75f1b012e6bcfddba4aeb07f5f0a,29,6,3,8482,,,0,"Update openstacksdk to 0.17.3

Change-Id: I27a627e8e4d009c5f6ca2c4f3e72e423303844f6
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/21/671521/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstacksdk/openstacksdk.spec.j2'],1,def83f6dce3325958d598412249c6d1fa16845ed,openstacksdk-0.17.3,{% set upstream_version = upstream_version('0.17.3') %},{% set upstream_version = upstream_version('0.17.2') %},1,1
openstack%2Frpm-packaging~master~Ic8396f20d6e1660a42784a9fd070a7251ec7c1da,openstack/rpm-packaging,master,Ic8396f20d6e1660a42784a9fd070a7251ec7c1da,Convert python-designateclient to singlespec,MERGED,2019-07-12 17:18:20.000000000,2019-07-24 12:40:21.000000000,2019-07-24 12:40:20.000000000,"[{'_account_id': 6593}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-12 17:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/56b8a125bda6f330200b21b05191c2bce80c3ec6', 'message': 'Convert python-designateclient to singlespec\n\nChange-Id: Ic8396f20d6e1660a42784a9fd070a7251ec7c1da\n'}, {'number': 2, 'created': '2019-07-12 21:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5d70ecbb0e8a678bd7d82ab4e1669ac84a5aebd1', 'message': 'Convert python-designateclient to singlespec\n\nChange-Id: Ic8396f20d6e1660a42784a9fd070a7251ec7c1da\n'}, {'number': 3, 'created': '2019-07-13 00:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/30810f1fbec7fae0ac668188b8cf2b85da6134bd', 'message': 'Convert python-designateclient to singlespec\n\nChange-Id: Ic8396f20d6e1660a42784a9fd070a7251ec7c1da\n'}, {'number': 4, 'created': '2019-07-15 18:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d46239b7616550cf68735d5520421890985567b3', 'message': 'Convert python-designateclient to singlespec\n\nChange-Id: Ic8396f20d6e1660a42784a9fd070a7251ec7c1da\n'}, {'number': 5, 'created': '2019-07-22 21:27:15.000000000', 'files': ['openstack/python-designateclient/python-designateclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/041f97de859a1afca74bc778479c2cdbc9d4b27b', 'message': 'Convert python-designateclient to singlespec\n\nChange-Id: Ic8396f20d6e1660a42784a9fd070a7251ec7c1da\n'}]",1,670605,041f97de859a1afca74bc778479c2cdbc9d4b27b,41,5,5,8482,,,0,"Convert python-designateclient to singlespec

Change-Id: Ic8396f20d6e1660a42784a9fd070a7251ec7c1da
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/05/670605/5 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-designateclient/python-designateclient.spec.j2'],1,56b8a125bda6f330200b21b05191c2bce80c3ec6,py3-keystone,"{% set pypi_name = 'python-designateclient' %} {% set upstream_version = upstream_version('2.11.0') %} {% set rpm_release = '1' %}Name: {{ py2name() }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }}BuildRequires: {{ py2pkg('jsonschema', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-keystoneclient', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-subunit', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('requests-mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }}%python_subpackages%package -n {{ py2name() }}-doc%description -n {{ py2name() }}-doc%python_build # generate docs PBR_VERSION={{ upstream_version }} sphinx-build -b html doc/source doc/build/html PBR_VERSION={{ upstream_version }} sphinx-build -b man doc/source doc/build/manrm -rf doc/build/man/.{doctrees,buildinfo}%python_install%files %{python_files}%{python_sitelib}/designateclient %{python_sitelib}/python_designateclient-%{version}-*.egg-info%files -n {{ py2name() }}-doc","Name: {{ py2name('python-designateclient') }} Version: 2.11.0 Release: 0BuildRequires: {{ py2pkg('jsonschema') }} BuildRequires: {{ py2pkg('python-keystoneclient') }} BuildRequires: {{ py2pkg('mock') }} BuildRequires: {{ py2pkg('oslotest') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('python-subunit') }} BuildRequires: {{ py2pkg('requests-mock') }} BuildRequires: {{ py2pkg('setuptools') }} BuildRequires: {{ py2pkg('stestr') }}%package doc%description doc%py2_build # generate html docs %{__python2} setup.py build_sphinx --builder=html,man%py2_install%files%{python2_sitelib}/designateclient %{python2_sitelib}/python_designateclient-%{version}-py2.?.egg-info%files doc",28,22
openstack%2Frpm-packaging~master~I65ae69588c6bf5f80a3a91e631300ff168a3b749,openstack/rpm-packaging,master,I65ae69588c6bf5f80a3a91e631300ff168a3b749,update keystoneauth1 to 3.15.0,MERGED,2019-07-23 12:56:09.000000000,2019-07-24 12:37:55.000000000,2019-07-24 12:37:55.000000000,"[{'_account_id': 6593}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-23 12:56:09.000000000', 'files': ['openstack/keystoneauth1/keystoneauth1.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/15c552169071f4efac25ffc188c000c055c95df0', 'message': 'update keystoneauth1 to 3.15.0\n\nWithout that version update we get this:\n\n  14006 ERROR oslo_messaging.rpc.server   File ""/usr/lib/python2.7/site-packages/keystoneauth1/session.py"", line 835, in request\n  14006 ERROR oslo_messaging.rpc.server     resp = send(**kwargs)\n  14006 ERROR oslo_messaging.rpc.server   File ""/usr/lib/python2.7/site-packages/keystoneauth1/session.py"", line 926, in _send_request\n  14006 ERROR oslo_messaging.rpc.server     resp = self.session.request(method, url, **kwargs)\n  14006 ERROR oslo_messaging.rpc.server TypeError: request() got an unexpected keyword argument \'global_request_id\'\n\nChange-Id: I65ae69588c6bf5f80a3a91e631300ff168a3b749\n'}]",0,672282,15c552169071f4efac25ffc188c000c055c95df0,9,5,1,6593,,,0,"update keystoneauth1 to 3.15.0

Without that version update we get this:

  14006 ERROR oslo_messaging.rpc.server   File ""/usr/lib/python2.7/site-packages/keystoneauth1/session.py"", line 835, in request
  14006 ERROR oslo_messaging.rpc.server     resp = send(**kwargs)
  14006 ERROR oslo_messaging.rpc.server   File ""/usr/lib/python2.7/site-packages/keystoneauth1/session.py"", line 926, in _send_request
  14006 ERROR oslo_messaging.rpc.server     resp = self.session.request(method, url, **kwargs)
  14006 ERROR oslo_messaging.rpc.server TypeError: request() got an unexpected keyword argument 'global_request_id'

Change-Id: I65ae69588c6bf5f80a3a91e631300ff168a3b749
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/82/672282/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/keystoneauth1/keystoneauth1.spec.j2'],1,15c552169071f4efac25ffc188c000c055c95df0,,Version: 3.15.0,Version: 3.14.0,1,1
openstack%2Frpm-packaging~master~I1f6ad181d01cb19d35faaf71e17c052eaeb36ee9,openstack/rpm-packaging,master,I1f6ad181d01cb19d35faaf71e17c052eaeb36ee9,Convert watcher to python 3.x,MERGED,2019-06-28 17:19:12.000000000,2019-07-24 12:37:54.000000000,2019-07-24 12:37:54.000000000,"[{'_account_id': 6593}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-28 17:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e8fe91ceb96693b0989c8cbcfac5bc76bab831e0', 'message': 'Convert watcher to python 3.x\n\nThis should help with getting the documentation build back in shape.\n\nChange-Id: I1f6ad181d01cb19d35faaf71e17c052eaeb36ee9\n'}, {'number': 2, 'created': '2019-06-29 07:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/97f8aa9e8f98f1ff8364316a8882e11c450230f4', 'message': 'Convert watcher to python 3.x\n\nThis should help with getting the documentation build back in shape.\n\nChange-Id: I1f6ad181d01cb19d35faaf71e17c052eaeb36ee9\n'}, {'number': 3, 'created': '2019-07-02 07:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/84db077576a9a6b22abc1b928d8550c50082cea8', 'message': 'Convert watcher to python 3.x\n\nThis should help with getting the documentation build back in shape.\n\nChange-Id: I1f6ad181d01cb19d35faaf71e17c052eaeb36ee9\n'}, {'number': 4, 'created': '2019-07-02 07:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ba56d2d48513abfddbdc2460f323bdc0d1b400cb', 'message': 'Convert watcher to python 3.x\n\nThis should help with getting the documentation build back in shape.\n\nChange-Id: I1f6ad181d01cb19d35faaf71e17c052eaeb36ee9\n'}, {'number': 5, 'created': '2019-07-02 07:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3288a497b47d9043cdc85d98680c1ee0fc924b4c', 'message': 'Convert watcher to python 3.x\n\nThis should help with getting the documentation build back in shape.\n\nChange-Id: I1f6ad181d01cb19d35faaf71e17c052eaeb36ee9\n'}, {'number': 6, 'created': '2019-07-02 16:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1db6ac47e2e306987feeed546bd7b54259f032b9', 'message': 'Convert watcher to python 3.x\n\nThis should help with getting the documentation build back in shape.\n\nChange-Id: I1f6ad181d01cb19d35faaf71e17c052eaeb36ee9\n'}, {'number': 7, 'created': '2019-07-22 11:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c877353b6a3caf06451ee7c1cfc1454232ba5ed5', 'message': 'Convert watcher to python 3.x\n\nThis should help with getting the documentation build back in shape.\n\nChange-Id: I1f6ad181d01cb19d35faaf71e17c052eaeb36ee9\n'}, {'number': 8, 'created': '2019-07-23 06:35:47.000000000', 'files': ['openstack/watcher/watcher.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/466e7cb2cfb2189b93d86da6b832d03d4f6eeae2', 'message': 'Convert watcher to python 3.x\n\nThis should help with getting the documentation build back in shape.\n\nChange-Id: I1f6ad181d01cb19d35faaf71e17c052eaeb36ee9\n'}]",0,668212,466e7cb2cfb2189b93d86da6b832d03d4f6eeae2,35,5,8,6593,,,0,"Convert watcher to python 3.x

This should help with getting the documentation build back in shape.

Change-Id: I1f6ad181d01cb19d35faaf71e17c052eaeb36ee9
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/12/668212/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack/watcher/watcher.spec.j2'],1,e8fe91ceb96693b0989c8cbcfac5bc76bab831e0,get_things_green,"BuildRequires: {{ py2pkg('microversion_parse', py_versions=build_py_versions) }}BuildRequires: {{ py2pkg('os-api-ref', py_versions=build_py_versions) }}BuildRequires: {{ py2pkg('oslo.log', py_versions=build_py_versions) }}# TODO:%package -n python3-Requires: {{ py2pkg('APScheduler') }} Requires: {{ py2pkg('PasteDeploy') }} Requires: {{ py2pkg('PrettyTable') }} Requires: {{ py2pkg('SQLAlchemy') }} Requires: {{ py2pkg('WSME') }} Requires: {{ py2pkg('WebOb') }} Requires: {{ py2pkg('croniter') }} Requires: {{ py2pkg('enum34') }} Requires: {{ py2pkg('gnocchiclient') }} Requires: {{ py2pkg('jsonpatch') }} Requires: {{ py2pkg('jsonschema') }} Requires: {{ py2pkg('keystoneauth1') }} Requires: {{ py2pkg('keystonemiddleware') }} Requires: {{ py2pkg('lxml') }}Requires: {{ py2pkg('networkx') }} Requires: {{ py2pkg('openstackclient') }} Requires: {{ py2pkg('oslo.cache') }} Requires: {{ py2pkg('oslo.db') }} Requires: {{ py2pkg('oslo.messaging') }} Requires: {{ py2pkg('oslo.policy') }} Requires: {{ py2pkg('oslo.reports') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('oslo.service') }} Requires: {{ py2pkg('oslo.upgradecheck') }} Requires: {{ py2pkg('oslo.versionedobjects') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('pecan') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('stevedore') }} Requires: {{ py2pkg('taskflow') }}BuildRequires: {{ py2pkg('Sphinx', py_versions=['py3']) }} BuildRequires: {{ py2pkg('keystoneclient', py_versions=['py3']) }} BuildRequires: {{ py2pkg('os-api-ref', py_versions=['py3']) }} BuildRequires: {{ py2pkg('sphinxcontrib-apidoc', py_versions=['py3']) }} BuildRequires: {{ py2pkg('sphinxcontrib-pecanwsme', py_versions=['py3']) }} BuildRequires: {{ py2pkg('sphinxcontrib-seqdiag', py_versions=['py3']) }}%{py3_build}PYTHONPATH=. PBR_VERSION={{ upstream_version }} %sphinx_build -b html doc/source doc/build/html%{py3_install}%{python3_sitelib}/{{ pypi_name }}/ %{python3_sitelib}/python_{{ pypi_name }}-*.egg-info","BuildRequires: {{ py2pkg('microversion_parse') }} BuildRequires: {{ py2pkg('os-api-ref') }}BuildRequires: fdupesRequires: {{ py2pkg('APScheduler', py_versions=build_py_versions) }} Requires: {{ py2pkg('PasteDeploy', py_versions=build_py_versions) }} Requires: {{ py2pkg('PrettyTable', py_versions=build_py_versions) }} Requires: {{ py2pkg('SQLAlchemy', py_versions=build_py_versions) }} Requires: {{ py2pkg('WSME', py_versions=build_py_versions) }} Requires: {{ py2pkg('WebOb', py_versions=build_py_versions) }} Requires: {{ py2pkg('croniter', py_versions=build_py_versions) }} Requires: {{ py2pkg('enum34', py_versions=build_py_versions) }} Requires: {{ py2pkg('gnocchiclient', py_versions=build_py_versions) }} Requires: {{ py2pkg('jsonpatch', py_versions=build_py_versions) }} Requires: {{ py2pkg('jsonschema', py_versions=build_py_versions) }} Requires: {{ py2pkg('keystoneauth1', py_versions=build_py_versions) }} Requires: {{ py2pkg('keystonemiddleware', py_versions=build_py_versions) }} Requires: {{ py2pkg('lxml', py_versions=build_py_versions) }} Requires: {{ py2pkg('networkx', py_versions=build_py_versions) }} Requires: {{ py2pkg('openstackclient', py_versions=build_py_versions) }} Requires: {{ py2pkg('oslo.cache', py_versions=build_py_versions) }} Requires: {{ py2pkg('oslo.db', py_versions=build_py_versions) }} Requires: {{ py2pkg('oslo.messaging', py_versions=build_py_versions) }} Requires: {{ py2pkg('oslo.policy', py_versions=build_py_versions) }} Requires: {{ py2pkg('oslo.reports', py_versions=build_py_versions) }} Requires: {{ py2pkg('oslo.serialization', py_versions=build_py_versions) }} Requires: {{ py2pkg('oslo.service', py_versions=build_py_versions) }} Requires: {{ py2pkg('oslo.upgradecheck', py_versions=build_py_versions) }} Requires: {{ py2pkg('oslo.versionedobjects', py_versions=build_py_versions) }} Requires: {{ py2pkg('pbr', py_versions=build_py_versions) }} Requires: {{ py2pkg('pecan', py_versions=build_py_versions) }} Requires: {{ py2pkg('six', py_versions=build_py_versions) }} Requires: {{ py2pkg('stevedore', py_versions=build_py_versions) }} Requires: {{ py2pkg('taskflow', py_versions=build_py_versions) }}BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('os-api-ref') }} BuildRequires: {{ py2pkg('sphinxcontrib-apidoc') }} BuildRequires: {{ py2pkg('sphinxcontrib-pecanwsme ') }} BuildRequires: {{ py2pkg('sphinxcontrib-seqdiag ') }}%{py2_build}PYTHONPATH=. PBR_VERSION={{ upstream_version }} sphinx-build -b html doc/source doc/build/html%{py2_install}%{python2_sitelib}/{{ pypi_name }}/ %{python2_sitelib}/python_{{ pypi_name }}-*.egg-info",45,43
openstack%2Fshade~master~I170277293eb4ed1a12cf62bcf863707cb3d918eb,openstack/shade,master,I170277293eb4ed1a12cf62bcf863707cb3d918eb,URL encode swift objects endpoints,MERGED,2019-06-07 12:35:05.000000000,2019-07-24 12:36:40.000000000,2019-07-24 12:36:40.000000000,"[{'_account_id': 2}, {'_account_id': 986}, {'_account_id': 3099}, {'_account_id': 9642}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 12:35:05.000000000', 'files': ['shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/8e183ca4d23546bda67c53975cc0bc7651381621', 'message': 'URL encode swift objects endpoints\n\nSwift containers and objects can contain any kind of characters.\nIf a container or name contains special characters, shade was failing to\naccess them.\nWe need to url encode containers and objects when creating the url to access\nthem.\n\nStory: 2005828\nTask: 33585\nChange-Id: I170277293eb4ed1a12cf62bcf863707cb3d918eb\n'}]",0,663922,8e183ca4d23546bda67c53975cc0bc7651381621,6,6,1,8674,,,0,"URL encode swift objects endpoints

Swift containers and objects can contain any kind of characters.
If a container or name contains special characters, shade was failing to
access them.
We need to url encode containers and objects when creating the url to access
them.

Story: 2005828
Task: 33585
Change-Id: I170277293eb4ed1a12cf62bcf863707cb3d918eb
",git fetch https://review.opendev.org/openstack/shade refs/changes/22/663922/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,8e183ca4d23546bda67c53975cc0bc7651381621,story_2005828/task_33585,"from six.moves import urllib_parse endpoint = urllib_parse.urljoin( parse_result = urllib_parse.urlparse( urllib_parse.parse_qsl(parse_result.query)) container = self._object_store_client.head( self._get_object_endpoint(name) ) self._object_store_client.put(self._get_object_endpoint(name)) self._object_store_client.delete( self._get_object_endpoint(name) ) self._object_store_client.post( self._get_object_endpoint(name), headers=headers ) endpoint = urllib_parse.urlparse( endpoint = self._get_object_endpoint(container, name) self._get_object_endpoint(name), headers=headers, data=segment, run_async=True) def _get_object_endpoint(self, container, obj=None, query_string=None): endpoint = urllib_parse.quote(container) if obj: endpoint = '{endpoint}/{object}'.format( endpoint=endpoint, object=urllib_parse.quote(obj) ) if query_string: endpoint = '{endpoint}?{query_string}'.format( endpoint=endpoint, query_string=query_string) return endpoint self._get_object_endpoint(container, name), self._get_object_endpoint(container), params=dict(format='json')) self._get_object_endpoint(container, name), self._get_object_endpoint(container, name)).headers endpoint = self._get_object_endpoint(container, obj, query_string)","from six.moves import urllib endpoint = urllib.parse.urljoin( parse_result = urllib.parse.urlparse( urllib.parse.parse_qsl(parse_result.query)) container = self._object_store_client.head(name) self._object_store_client.put(name) self._object_store_client.delete(name) self._object_store_client.post(name, headers=headers) endpoint = urllib.parse.urlparse( endpoint = '{container}/{name}'.format( container=container, name=name) name, headers=headers, data=segment, run_async=True) '{container}/{object}'.format( container=container, object=name), container, params=dict(format='json')) '{container}/{object}'.format( container=container, object=name), '{container}/{object}'.format( container=container, object=name)).headers endpoint = '{container}/{object}'.format( container=container, object=obj) if query_string: endpoint = '{endpoint}?{query_string}'.format( endpoint=endpoint, query_string=query_string)",35,24
openstack%2Fopenstack-zuul-jobs~master~I2bdb8a60d55f226a32e074f76b11a9d52967a4f7,openstack/openstack-zuul-jobs,master,I2bdb8a60d55f226a32e074f76b11a9d52967a4f7,Add build releasenotes py3 template,MERGED,2019-07-22 14:19:09.000000000,2019-07-24 12:26:38.000000000,2019-07-24 12:26:38.000000000,"[{'_account_id': 2}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 14:19:09.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/b55e9212be8fdb0533a06a8788c8aa74a33e118c', 'message': 'Add build releasenotes py3 template\n\nAdd a build releasenotes python3 template and update the existion\nrelease notes templates to mention that they include publishing to\ndocs.openstack.org for projects under governance.\n\nChange-Id: I2bdb8a60d55f226a32e074f76b11a9d52967a4f7\n'}]",0,672053,b55e9212be8fdb0533a06a8788c8aa74a33e118c,7,3,1,6547,,,0,"Add build releasenotes py3 template

Add a build releasenotes python3 template and update the existion
release notes templates to mention that they include publishing to
docs.openstack.org for projects under governance.

Change-Id: I2bdb8a60d55f226a32e074f76b11a9d52967a4f7
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/53/672053/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,b55e9212be8fdb0533a06a8788c8aa74a33e118c,build-releasenotes, .. note:: Only repos listed in ``openstack/governance`` repository are allowed to publish to the `OpenStack docs website <https://docs.openstack.org>`_ . Builds and publishes the release notes jobs under python 3. .. note:: Only repos listed in ``openstack/governance`` repository are allowed to publish to the `OpenStack docs website <https://docs.openstack.org>`_ . name: build-release-notes-jobs-python3 description: | Runs the release notes jobs under python 3. This only builds releasenotes but does not publish them. check: jobs: - build-openstack-releasenotes: vars: sphinx_python: python3 gate: jobs: - build-openstack-releasenotes: vars: sphinx_python: python3 - project-template:, Runs the release notes jobs under python 3.,29,1
openstack%2Fopenstack-helm-infra~master~I3083517119852ff5006651b3332c27ffacd12ce7,openstack/openstack-helm-infra,master,I3083517119852ff5006651b3332c27ffacd12ce7,RabbitMQ: Use discovery service for clustering,ABANDONED,2019-07-23 18:07:31.000000000,2019-07-24 12:18:04.000000000,,"[{'_account_id': 7769}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 24780}, {'_account_id': 24816}, {'_account_id': 28372}, {'_account_id': 28618}, {'_account_id': 29161}]","[{'number': 1, 'created': '2019-07-23 18:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2d7c263ba4c57690b4e8f296d30bc6c1def32258', 'message': 'WIP: Migrate old rabbit cluster to new one\n\nChange-Id: I3083517119852ff5006651b3332c27ffacd12ce7\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-07-23 19:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9d9617c938282ef2e221ad486a06ce4134f3a4a8', 'message': 'WIP: Migrate old rabbit cluster to new one\n\nChange-Id: I3083517119852ff5006651b3332c27ffacd12ce7\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-07-23 20:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d01a817a3d4f58dd5a00e243903b19be9662cf20', 'message': 'WIP: Migrate old rabbit cluster to new one\n\nChange-Id: I3083517119852ff5006651b3332c27ffacd12ce7\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2019-07-23 20:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5e88933f8108a284f5d741b406da89495315bbc0', 'message': 'WIP: Migrate old rabbit cluster to new one\n\nChange-Id: I3083517119852ff5006651b3332c27ffacd12ce7\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2019-07-23 20:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fcade32dd50c866bbf99687c388074aef814fa47', 'message': 'RabbitMQ: Use discovery service for clustering\n\nThis PS restores the discover service previously used for rabbitmq\nclustering, and therefore the previous cluster name. This allows for\nseamless upgrades of exsiting deployments using rabbit.\n\nChange-Id: I3083517119852ff5006651b3332c27ffacd12ce7\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2019-07-23 21:16:32.000000000', 'files': ['rabbitmq/templates/service-discovery.yaml', 'rabbitmq/values.yaml', 'rabbitmq/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a6eedc3d0b20b845581bb934acdd366853420603', 'message': 'RabbitMQ: Use discovery service for clustering\n\nThis PS restores the discover service previously used for rabbitmq\nclustering, and therefore the previous cluster name. This allows for\nseamless upgrades of exsiting deployments using rabbit.\n\nChange-Id: I3083517119852ff5006651b3332c27ffacd12ce7\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,672338,a6eedc3d0b20b845581bb934acdd366853420603,25,11,6,23928,,,0,"RabbitMQ: Use discovery service for clustering

This PS restores the discover service previously used for rabbitmq
clustering, and therefore the previous cluster name. This allows for
seamless upgrades of exsiting deployments using rabbit.

Change-Id: I3083517119852ff5006651b3332c27ffacd12ce7
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/38/672338/1 && git format-patch -1 --stdout FETCH_HEAD,['rabbitmq/templates/bin/_rabbitmq-start.sh.tpl'],1,2d7c263ba4c57690b4e8f296d30bc6c1def32258,bunny-migration," if [ -d ""/var/lib/rabbitmq/mnesia"" ] ; then echo ""this pod has already been initialised, performing migration if required"" DISCOVERY_NAME={{ printf ""%s-%s-%s"" (.Release.Name | trunc 12) ""dsv"" ( (.Release.Name | trunc 12) | sha256sum | trunc 6 ) | quote }} DICOVERY_SUFFIX=""${DISCOVERY_NAME}.$(hostname -d | awk -F '.' '{for (i=2; i<NF; i++) printf $i "".""; print $NF}')"" for ORIGINAL_DATA_PATH in $(find /var/lib/rabbitmq/mnesia/ -maxdepth 1 -name ""*${DICOVERY_SUFFIX}*"" -print); do echo $ORIGINAL_DATA_PATH TARGET_DATA_PATH=$(echo $ORIGINAL_DATA_PATH | sed ""s|${DICOVERY_SUFFIX}|$(hostname -d)|"") if [ -e $TARGET_DATA_PATH ] ; then mkdir -p $(dirname $TARGET_DATA_PATH) cp -rfv $ORIGINAL_DATA_PATH $TARGET_DATA_PATH fi done fi ",,15,0
openstack%2Frequirements~master~I116dcdcf5225967d9a3ca06a44572c78e324dd34,openstack/requirements,master,I116dcdcf5225967d9a3ca06a44572c78e324dd34,roll back pyparsing (unpublished a release),MERGED,2019-07-24 02:20:32.000000000,2019-07-24 12:06:00.000000000,2019-07-24 12:06:00.000000000,"[{'_account_id': 2394}, {'_account_id': 4264}, {'_account_id': 5803}, {'_account_id': 6593}, {'_account_id': 6773}, {'_account_id': 7118}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 10239}, {'_account_id': 11692}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 14288}, {'_account_id': 15519}, {'_account_id': 16222}, {'_account_id': 20363}, {'_account_id': 20676}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 24072}, {'_account_id': 24791}, {'_account_id': 27329}, {'_account_id': 29911}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-24 02:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e8be38dedead86a0ba9ce743386e4f71c38214e0', 'message': 'roll back pyparsing (unpublished a release)\n\nhttps://github.com/pyparsing/pyparsing/issues/105\n\nChange-Id: I116dcdcf5225967d9a3ca06a44572c78e324dd34\nStory: 2006271\nTask: 35967\n'}, {'number': 2, 'created': '2019-07-24 07:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a62368ccfa994225b0131ff215fa01b9a98b0143', 'message': 'roll back pyparsing (unpublished a release)\n\nhttps://github.com/pyparsing/pyparsing/issues/105\n\nChange-Id: I116dcdcf5225967d9a3ca06a44572c78e324dd34\nStory: 2006271\nTask: 35967\n'}, {'number': 3, 'created': '2019-07-24 07:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/6393bcc97428660e60f62a0cb94fd474426248a6', 'message': 'roll back pyparsing (unpublished a release)\n\nhttps://github.com/pyparsing/pyparsing/issues/105\n\nChange-Id: I116dcdcf5225967d9a3ca06a44572c78e324dd34\nStory: 2006271\nTask: 35967\n'}, {'number': 4, 'created': '2019-07-24 07:47:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e86ba789bd1a77ce6b2ce03b1651c510e00275eb', 'message': 'roll back pyparsing (unpublished a release)\n\nhttps://github.com/pyparsing/pyparsing/issues/105\n\nChange-Id: I116dcdcf5225967d9a3ca06a44572c78e324dd34\nStory: 2006271\nTask: 35967\n'}]",0,672395,e86ba789bd1a77ce6b2ce03b1651c510e00275eb,42,25,4,14288,,,0,"roll back pyparsing (unpublished a release)

https://github.com/pyparsing/pyparsing/issues/105

Change-Id: I116dcdcf5225967d9a3ca06a44572c78e324dd34
Story: 2006271
Task: 35967
",git fetch https://review.opendev.org/openstack/requirements refs/changes/95/672395/4 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e8be38dedead86a0ba9ce743386e4f71c38214e0,roll-back-pyparsing,pyparsing===2.4.0,pyparsing===2.4.1,1,1
openstack%2Fproject-config~master~I740c66cd959db1efa8ca8c9f29d4da4b66fbd993,openstack/project-config,master,I740c66cd959db1efa8ca8c9f29d4da4b66fbd993,Ends project gating for doc8,MERGED,2019-07-18 13:25:17.000000000,2019-07-24 11:42:51.000000000,2019-07-24 11:42:51.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-18 13:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ce597705739274bc9466fa05f9667d426f14f041', 'message': 'Ends project gating for Bandit\n\nRemove doc8 from Gate, as the project is being migrated to PyCQA [0].\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007878.html\n\nChange-Id: I740c66cd959db1efa8ca8c9f29d4da4b66fbd993\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-07-24 09:16:53.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/368231b5ada9e6e9b7bbc25feaad553434a7a3e8', 'message': 'Ends project gating for doc8\n\nRemove doc8 from the gate as the project has been migrated to PyCQA [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007878.html\n\nChange-Id: I740c66cd959db1efa8ca8c9f29d4da4b66fbd993\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",2,671483,368231b5ada9e6e9b7bbc25feaad553434a7a3e8,12,4,2,15334,,,0,"Ends project gating for doc8

Remove doc8 from the gate as the project has been migrated to PyCQA [1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007878.html

Change-Id: I740c66cd959db1efa8ca8c9f29d4da4b66fbd993
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/83/671483/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,ce597705739274bc9466fa05f9667d426f14f041,retire-doc8, - noop-jobs, - openstack-python-jobs - openstack-python35-jobs - publish-to-pypi,1,3
openstack%2Frequirements~master~Ica47dac29b2285aa6d82b1ee7079447867800b41,openstack/requirements,master,Ica47dac29b2285aa6d82b1ee7079447867800b41,cap git python for py27,MERGED,2019-07-24 00:40:50.000000000,2019-07-24 11:33:11.000000000,2019-07-24 11:33:11.000000000,"[{'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 27329}]","[{'number': 1, 'created': '2019-07-24 00:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/29d01f1517d6e9e652c144561f85319919b58f37', 'message': 'cap git python for py27\n\nChange-Id: Ica47dac29b2285aa6d82b1ee7079447867800b41\n'}, {'number': 2, 'created': '2019-07-24 00:44:51.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e4485b8653088f15092289b113705a58bd6802db', 'message': 'cap git python for py27\n\nChange-Id: Ica47dac29b2285aa6d82b1ee7079447867800b41\n'}]",0,672388,e4485b8653088f15092289b113705a58bd6802db,12,5,2,14288,,,0,"cap git python for py27

Change-Id: Ica47dac29b2285aa6d82b1ee7079447867800b41
",git fetch https://review.opendev.org/openstack/requirements refs/changes/88/672388/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,29d01f1517d6e9e652c144561f85319919b58f37,fix-gitpython,GitPython<2.1.12;python_version<'3.0' # BSD License (3 clause),,1,0
openstack%2Fdevstack~master~Ie46214ed8a5a5887f04805b9157b76ebf44f9616,openstack/devstack,master,Ie46214ed8a5a5887f04805b9157b76ebf44f9616,Updated from generate-devstack-plugins-list,MERGED,2019-07-24 06:12:45.000000000,2019-07-24 11:33:10.000000000,2019-07-24 11:33:10.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 06:12:45.000000000', 'files': ['doc/source/plugin-registry.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4106e46b2ed042ebeec533ac9022baa5d623ae06', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: Ie46214ed8a5a5887f04805b9157b76ebf44f9616\n'}]",0,672403,4106e46b2ed042ebeec533ac9022baa5d623ae06,6,2,1,11131,,,0,"Updated from generate-devstack-plugins-list

Change-Id: Ie46214ed8a5a5887f04805b9157b76ebf44f9616
",git fetch https://review.opendev.org/openstack/devstack refs/changes/03/672403/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/plugin-registry.rst'],1,4106e46b2ed042ebeec533ac9022baa5d623ae06,openstack/devstack/plugins,,x/nova-lxd `https://opendev.org/x/nova-lxd <https://opendev.org/x/nova-lxd>`__,0,1
openstack%2Fneutron~stable%2Frocky~Id7971bd99b04aca38180ff109f542422b1a925d5,openstack/neutron,stable/rocky,Id7971bd99b04aca38180ff109f542422b1a925d5,Use --bind-dynamic with dnsmasq instead of --bind-interfaces,MERGED,2019-07-13 09:47:21.000000000,2019-07-24 11:33:08.000000000,2019-07-24 11:33:08.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29071}, {'_account_id': 30103}]","[{'number': 1, 'created': '2019-07-13 09:47:21.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/00df9b0a853313ac2c58772e363099192e3dca4d', 'message': 'Use --bind-dynamic with dnsmasq instead of --bind-interfaces\n\nDnsmasq emits a warning when started in most neutron deployments:\n\ndnsmasq[27287]: LOUD WARNING: use --bind-dynamic rather than\n    --bind-interfaces to avoid DNS amplification attacks via\n    these interface(s)\n\nSince option --bind-dynamic is available since dnsmasq 2.63\n(https://github.com/liquidm/dnsmasq/blob/master/FAQ#L239) and\nwe require 2.67, change to use this option instead.\n\nChange-Id: Id7971bd99b04aca38180ff109f542422b1a925d5\nCloses-bug: #1828473\n(cherry picked from commit 09ee9347864d731ce7ccf241178559815e82f57c)\n'}]",0,670691,00df9b0a853313ac2c58772e363099192e3dca4d,24,7,1,29071,,,0,"Use --bind-dynamic with dnsmasq instead of --bind-interfaces

Dnsmasq emits a warning when started in most neutron deployments:

dnsmasq[27287]: LOUD WARNING: use --bind-dynamic rather than
    --bind-interfaces to avoid DNS amplification attacks via
    these interface(s)

Since option --bind-dynamic is available since dnsmasq 2.63
(https://github.com/liquidm/dnsmasq/blob/master/FAQ#L239) and
we require 2.67, change to use this option instead.

Change-Id: Id7971bd99b04aca38180ff109f542422b1a925d5
Closes-bug: #1828473
(cherry picked from commit 09ee9347864d731ce7ccf241178559815e82f57c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/670691/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py']",2,00df9b0a853313ac2c58772e363099192e3dca4d,bug/1828473-stable/rocky," '--bind-dynamic', if not self.device_manager.driver.bridged:"," if self.device_manager.driver.bridged: '--bind-interfaces', ] else: cmd += [ '--bind-dynamic',",14,8
openstack%2Fneutron~stable%2Frocky~I7c00812f877e2fc966bbac3060e1187ce1b809ca,openstack/neutron,stable/rocky,I7c00812f877e2fc966bbac3060e1187ce1b809ca,Yield control to other greenthreads while processing trusted ports,MERGED,2019-07-12 11:48:29.000000000,2019-07-24 11:33:05.000000000,2019-07-24 11:33:05.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 7016}, {'_account_id': 9732}, {'_account_id': 16688}, {'_account_id': 17130}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30103}]","[{'number': 1, 'created': '2019-07-12 11:48:29.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eabd114a9b926a95a124acec15a98a3b1d96a6c9', 'message': 'Yield control to other greenthreads while processing trusted ports\n\nprocess_trusted_ports() appeared to be greenthread unfriendly, so\nif there are many trusted ports on a node, openvswitch agent may\n""hang"" for a significant time.\nThis patch adds explicit yield.\n\nChange-Id: I7c00812f877e2fc966bbac3060e1187ce1b809ca\nCloses-Bug: #1836023\n(cherry picked from commit da539da3780188f01e18ef106dde9ca180324c2a)\n'}]",0,670499,eabd114a9b926a95a124acec15a98a3b1d96a6c9,37,11,1,5948,,,0,"Yield control to other greenthreads while processing trusted ports

process_trusted_ports() appeared to be greenthread unfriendly, so
if there are many trusted ports on a node, openvswitch agent may
""hang"" for a significant time.
This patch adds explicit yield.

Change-Id: I7c00812f877e2fc966bbac3060e1187ce1b809ca
Closes-Bug: #1836023
(cherry picked from commit da539da3780188f01e18ef106dde9ca180324c2a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/670499/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/openvswitch_firewall/firewall.py'],1,eabd114a9b926a95a124acec15a98a3b1d96a6c9,bug/1836023-stable/rocky,import eventlet # yield to let other greenthreads proceed eventlet.sleep(0),,3,0
openstack%2Foperations-guide~master~Ie1423393f155c030b21b91a899fbec001241ea13,openstack/operations-guide,master,Ie1423393f155c030b21b91a899fbec001241ea13,Imported Translations from Zanata,MERGED,2019-07-24 09:08:50.000000000,2019-07-24 11:01:48.000000000,2019-07-24 11:01:48.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 09:08:50.000000000', 'files': ['doc/source/locale/de/LC_MESSAGES/doc-common.po', 'doc/source/locale/id/LC_MESSAGES/doc-common.po', 'doc/source/locale/id/LC_MESSAGES/doc.po', 'doc/source/locale/ja/LC_MESSAGES/doc.po', 'doc/source/locale/de/LC_MESSAGES/doc.po', 'doc/source/locale/ja/LC_MESSAGES/doc-common.po'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/32c3eccef8eaec414b601e297b8c197a13002a20', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie1423393f155c030b21b91a899fbec001241ea13\n'}]",0,672475,32c3eccef8eaec414b601e297b8c197a13002a20,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie1423393f155c030b21b91a899fbec001241ea13
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/75/672475/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/de/LC_MESSAGES/doc-common.po', 'doc/source/locale/id/LC_MESSAGES/doc-common.po', 'doc/source/locale/id/LC_MESSAGES/doc.po', 'doc/source/locale/ja/LC_MESSAGES/doc.po', 'doc/source/locale/de/LC_MESSAGES/doc.po', 'doc/source/locale/ja/LC_MESSAGES/doc-common.po']",6,32c3eccef8eaec414b601e297b8c197a13002a20,zanata/translations,"""POT-Creation-Date: 2019-07-24 04:19+0000\n""","""POT-Creation-Date: 2019-01-29 12:19+0000\n""msgid """" ""`API Documentation <https://developer.openstack.org/api-guide/quick-start/>`_"" msgstr """" ""`API ドキュメント <https://developer.openstack.org/api-guide/quick-start/>`_"" ",39,237
openstack%2Frequirements~master~I9482b68440745fe9af192de6a1c9eb62d6cd0874,openstack/requirements,master,I9482b68440745fe9af192de6a1c9eb62d6cd0874,Updated from generate-constraints,MERGED,2019-07-22 06:18:28.000000000,2019-07-24 10:58:19.000000000,2019-07-23 01:37:31.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 06:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/faef3a278378df1e70b00766601488ac5b868a2e', 'message': 'Updated from generate-constraints\n\nChange-Id: I9482b68440745fe9af192de6a1c9eb62d6cd0874\n'}, {'number': 2, 'created': '2019-07-22 15:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5091764df1cf371adf0869d86195977352122da7', 'message': 'Updated from generate-constraints\n\nChange-Id: I9482b68440745fe9af192de6a1c9eb62d6cd0874\n'}, {'number': 3, 'created': '2019-07-22 17:45:50.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6c3f1913f3045a527153299b5fec7fb3e1ef1415', 'message': 'Updated from generate-constraints\n\nboto3/botocore being held back for https://github.com/boto/botocore/issues/1789\n\nChange-Id: I9482b68440745fe9af192de6a1c9eb62d6cd0874\n'}]",3,671961,6c3f1913f3045a527153299b5fec7fb3e1ef1415,14,2,3,11131,,,0,"Updated from generate-constraints

boto3/botocore being held back for https://github.com/boto/botocore/issues/1789

Change-Id: I9482b68440745fe9af192de6a1c9eb62d6cd0874
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/671961/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,faef3a278378df1e70b00766601488ac5b868a2e,openstack/requirements/constraints/noclob,smmap===0.9.0;python_version=='3.4' smmap===0.9.0;python_version=='3.5' smmap===0.9.0;python_version=='3.6' smmap===0.9.0;python_version=='3.7'Mako===1.0.14rsd-lib===1.1.0SQLAlchemy===1.3.6pywbem===0.14.4tornado===5.1.1;python_version=='2.7'beautifulsoup4===4.8.0docutils===0.15boto3===1.9.192gitdb===0.6.4;python_version=='3.4' gitdb===0.6.4;python_version=='3.5' gitdb===0.6.4;python_version=='3.6' gitdb===0.6.4;python_version=='3.7'more-itertools===7.2.0;python_version=='3.4' more-itertools===7.2.0;python_version=='3.5' more-itertools===7.2.0;python_version=='3.6' more-itertools===7.2.0;python_version=='3.7'kubernetes===10.0.0pyparsing===2.4.1botocore===1.12.192GitPython===2.1.11;python_version=='2.7' GitPython===2.1.12;python_version=='3.4' GitPython===2.1.12;python_version=='3.5' GitPython===2.1.12;python_version=='3.6' GitPython===2.1.12;python_version=='3.7'storops===1.2.0jsonschema===3.0.1,Mako===1.0.13rsd-lib===1.0.0SQLAlchemy===1.3.5pywbem===0.14.3tornado===4.5.3;python_version=='2.7'beautifulsoup4===4.7.1docutils===0.14boto3===1.9.191more-itertools===7.1.0;python_version=='3.4' more-itertools===7.1.0;python_version=='3.5' more-itertools===7.1.0;python_version=='3.6' more-itertools===7.1.0;python_version=='3.7'kubernetes===9.0.0pyparsing===2.4.0botocore===1.12.191GitPython===2.1.11storops===1.1.0jsonschema===2.6.0,30,18
openstack%2Fcharm-openstack-dashboard~master~Id5cb7c989da3f6f3bbf330963f167d0bae136f58,openstack/charm-openstack-dashboard,master,Id5cb7c989da3f6f3bbf330963f167d0bae136f58,Avoid double slash in websso url,ABANDONED,2019-07-18 15:55:34.000000000,2019-07-24 10:48:59.000000000,,"[{'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-18 15:55:34.000000000', 'files': ['hooks/horizon_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/b61d1d2ecc86f28807552308210aaf4e2e88dab6', 'message': 'Avoid double slash in websso url\n\nChange-Id: Id5cb7c989da3f6f3bbf330963f167d0bae136f58\nCloses-Bug: #1837074\n'}]",0,671519,b61d1d2ecc86f28807552308210aaf4e2e88dab6,9,3,1,6737,,,0,"Avoid double slash in websso url

Change-Id: Id5cb7c989da3f6f3bbf330963f167d0bae136f58
Closes-Bug: #1837074
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/19/671519/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/horizon_hooks.py'],1,b61d1d2ecc86f28807552308210aaf4e2e88dab6,bug/1837074, if webroot == '/': webroot = '' elif not webroot.endswith('/'):, if not webroot.endswith('/'):,3,1
openstack%2Fironic-prometheus-exporter~master~I70e0c7c787f22f5be2b045a0c094e21883432508,openstack/ironic-prometheus-exporter,master,I70e0c7c787f22f5be2b045a0c094e21883432508,Release Notes support,MERGED,2019-07-23 12:48:01.000000000,2019-07-24 10:45:51.000000000,2019-07-24 10:45:51.000000000,"[{'_account_id': 6547}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-07-23 12:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/29117fbffaaa0cb69338effcaac7facb7f543b8d', 'message': 'Release Notes support\n\nThis patch adds the basic structure to support release notes\nwith reno.\n\nChange-Id: I70e0c7c787f22f5be2b045a0c094e21883432508\n'}, {'number': 2, 'created': '2019-07-23 12:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/1982624e7df44e5ad0edec66536e86ed7007837f', 'message': 'Release Notes support\n\nThis patch adds the basic structure to support release notes\nwith reno.\n\nChange-Id: I70e0c7c787f22f5be2b045a0c094e21883432508\n'}, {'number': 3, 'created': '2019-07-23 13:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/ed21deed20290d0832c50075af8eb0509fde0d28', 'message': 'Release Notes support\n\nThis patch adds the basic structure to support release notes\nwith reno.\n\nChange-Id: I70e0c7c787f22f5be2b045a0c094e21883432508\n'}, {'number': 4, 'created': '2019-07-23 14:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/e467f9aa1019b2b74013079179efa9c078be0d00', 'message': 'Release Notes support\n\nThis patch adds the basic structure to support release notes\nwith reno.\n\nChange-Id: I70e0c7c787f22f5be2b045a0c094e21883432508\n'}, {'number': 5, 'created': '2019-07-23 15:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/c60d020a9f1716268e5264c2d614ed7b633ce77c', 'message': 'Release Notes support\n\nThis patch adds the basic structure to support release notes\nwith reno.\n\nChange-Id: I70e0c7c787f22f5be2b045a0c094e21883432508\n'}, {'number': 6, 'created': '2019-07-24 07:51:05.000000000', 'files': ['releasenotes/notes/.placeholder', 'releasenotes/source/unreleased.rst', '.gitignore', '.zuul.yaml', 'releasenotes/source/_static/.placeholder', 'releasenotes/source/_templates/.placeholder', 'releasenotes/source/index.rst', 'doc/requirements.txt', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/880f8cb63bee36f6ac5ecaa232de9a54a48ead7f', 'message': 'Release Notes support\n\nThis patch adds the basic structure to support release notes\nwith reno.\n\nChange-Id: I70e0c7c787f22f5be2b045a0c094e21883432508\n'}]",15,672280,880f8cb63bee36f6ac5ecaa232de9a54a48ead7f,24,5,6,15519,,,0,"Release Notes support

This patch adds the basic structure to support release notes
with reno.

Change-Id: I70e0c7c787f22f5be2b045a0c094e21883432508
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/80/672280/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/.placeholder', 'releasenotes/source/unreleased.rst', 'requirements.txt', '.gitignore', '.zuul.yaml', 'releasenotes/source/_static/.placeholder', 'releasenotes/source/_templates/.placeholder', 'releasenotes/source/index.rst', 'tox.ini', 'releasenotes/source/conf.py']",10,29117fbffaaa0cb69338effcaac7facb7f543b8d,releasenotes,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # Ironic Prometheus Exporter Release Notes documentation build configuration file, # created by sphinx-quickstart on Tue July 23 2019. # # Configuration file for the Sphinx documentation builder. # # This file does only contain a selection of the most common options. For a # full list see the documentation: # http://www.sphinx-doc.org/en/master/config # -- Path setup -------------------------------------------------------------- # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # # import os # import sys # sys.path.insert(0, os.path.abspath('.')) # -- General configuration --------------------------------------------------- # If your documentation needs a minimal Sphinx version, state it here. # # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'reno.sphinxext' ] try: import openstackdocstheme extensions.append('openstackdocstheme') except ImportError: openstackdocstheme = None repository_name = 'openstack/ironic-prometheus-exporter' bug_project = 'ironic-prometheus-exporter' bug_tag = '' html_last_updated_fmt = '%Y-%m-%d %H:%M' # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix(es) of source filenames. # You can specify multiple suffix as a list of string: # # source_suffix = ['.rst', '.md'] source_suffix = '.rst' # The master toctree document. master_doc = 'index' # -- Project information ----------------------------------------------------- project = u'Ironic Prometheus Exporter Release Notes' copyright = u'2019, 2019, Ironic Prometheus Exporter Developers' # Release notes are version independent. # The short X.Y version. version = '' # The full version, including alpha/beta/rc tags. release = '' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: # today = '' # Else, today_fmt is used as the format for a strftime call. # today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. # default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. # add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). # add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. # show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'sphinx' # A list of ignored prefixes for module index sorting. # modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. # keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. if openstackdocstheme is not None: html_theme = 'openstackdocs' else: html_theme = 'default' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. # html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". # html_title = None # A shorter title for the navigation bar. Default is the same as html_title. # html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. # html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. # html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. # html_extra_path = [] # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # html_last_updated_fmt = '%b %d, %Y' # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. # html_use_smartypants = True # Custom sidebar templates, maps document names to template names. # html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. # html_additional_pages = {} # If false, no module index is generated. # html_domain_indices = True # If false, no index is generated. # html_use_index = True # If true, the index is split into individual pages for each letter. # html_split_index = False # If true, links to the reST sources are added to the pages. # html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. # html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. # html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. # html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). # html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'IronicPrometheusExporterReleaseNotesdoc' # -- Options for LaTeX output ------------------------------------------------ latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # # 'preamble': '', # Latex figure (float) alignment # # 'figure_align': 'htbp', } # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'IronicPrometheusExporterReleaseNotes.tex', u'Ironic Prometheus Exporter Release Notes Documentation', u'Ironic Prometheus Exporter Developers', 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. # latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. # latex_use_parts = False # If true, show page references after internal links. # latex_show_pagerefs = False # If true, show URL addresses after external links. # latex_show_urls = False # Documents to append as an appendix to all manuals. # latex_appendices = [] # If false, no module index is generated. # latex_domain_indices = True # -- Options for manual page output ------------------------------------------ # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'ironicprometheusexporterreleasenotes', u'Ironic Prometheus Exporter Release Notes Documentation', [u'Ironic Prometheus Exporter Developers'], 1) ] # If true, show URL addresses after external links. # man_show_urls = False # -- Options for Texinfo output ---------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'IronicPrometheusExporterReleaseNotes', u'Ironic Prometheus Exporter Release Notes Documentation', u'Ironic Prometheus Exporter Developers', 'IronicPrometheusExporterReleaseNotes', 'One line description of project.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. # texinfo_appendices = [] # If false, no module index is generated. # texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. # texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. # texinfo_no_detailmenu = False # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] ",,2417,0
openstack%2Fcharm-guide~master~Ibb7fed8eb1e64774fa0e942c4af5735c9e17eafa,openstack/charm-guide,master,Ibb7fed8eb1e64774fa0e942c4af5735c9e17eafa,Initialize 19.07 draft release notes,MERGED,2019-07-23 21:01:17.000000000,2019-07-24 10:17:04.000000000,2019-07-24 10:17:03.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 21:01:17.000000000', 'files': ['doc/source/release-notes.rst', 'doc/source/1907.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/27c6fb45afa25dfb62444fbea4919e71ed72a4d6', 'message': 'Initialize 19.07 draft release notes\n\nChange-Id: Ibb7fed8eb1e64774fa0e942c4af5735c9e17eafa\n'}]",0,672362,27c6fb45afa25dfb62444fbea4919e71ed72a4d6,6,2,1,20635,,,0,"Initialize 19.07 draft release notes

Change-Id: Ibb7fed8eb1e64774fa0e942c4af5735c9e17eafa
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/62/672362/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/release-notes.rst', 'doc/source/1907.rst']",2,27c6fb45afa25dfb62444fbea4919e71ed72a4d6,19.07-release-notes,".. _release_notes_19.07: =========================== 19.07 (DRAFT Release Notes) =========================== Summary ======= The 19.07 OpenStack Charm release includes updates for the following charms. Additional charm support status information is published in the main `charm guide <openstack-charms.html>`__ which ultimately supersedes release note contents. Always use the latest stable charm revision before proceeding with topological changes, application migrations, workload upgrades, series upgrades, or bug reports. Supported Charms ~~~~~~~~~~~~~~~~ * aodh * barbican * barbican-vault * ceilometer * ceilometer-agent * ceph-mon * ceph-osd * ceph-proxy * ceph-radosgw * ceph-rbd-mirror * cinder * cinder-ceph * designate * designate-bind * glance * gnocchi * hacluster * heat * keystone * keystone-ldap * lxd * neutron-api * neutron-openvswitch * neutron-gateway * neutron-dynamic-routing * nova-cloud-controller * nova-compute * octavia * octavia-diskimage-retrofit * openstack-dashboard * percona-cluster * rabbitmq-server * swift-proxy * swift-storage * vault Preview Charms ~~~~~~~~~~~~~~ * barbican-softhsm * ceph-fs * cinder-backup * keystone-saml-mellon * manila * manila-generic * masakari * masakari-monitors * pacemaker-remote * tempest Removed Charms ~~~~~~~~~~~~~~ The following charms have been removed as part of this charm release: * nova-lxd (retired) New Charm Features ================== With each new feature, there is a corresponding example bundle in the form of a test bundle, and/or a `charm deployment guide <https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/>`__ section which details the use of the feature. For example test bundles, see the src/tests/bundles/ directory within the relevant charm repository. Feature 1 ~~~~~~~~~ Feature description... Preview Charm Features ====================== Preview Feature 1 ~~~~~~~~~~~~~~~~~ Feature description... Upgrading charms ================ Always use the latest stable charm revision before proceeding with topological changes, charm application migrations, workload upgrades, series upgrades, or bug reports. Please ensure that the keystone charm is upgraded first. To upgrade an existing deployment to the latest charm version simply use the 'upgrade-charm' command, for example: .. code:: bash juju upgrade-charm keystone Charm upgrades and OpenStack upgrades are two distinctly different things. Charm upgrades ensure that the deployment is using the latest charm revision, containing the latest charm fixes and charm features available for a given deployment. Charm upgrades do not cause OpenStack versions to upgrade, however OpenStack upgrades do require the latest Charm version as pre-requisite. Upgrading OpenStack =================== Before upgrading OpenStack, all OpenStack Charms should be running the latest stable charm revision. .. note:: Upgrading an OpenStack cloud is not without risk; upgrades should be tested in pre-production testing environments prior to production deployment upgrades. See https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-upgrade-openstack.html for more details. New Bundle Features =================== Deprecation Notices =================== Nova LXD Charm ~~~~~~~~~~~~~~ The nova lxd subordinate charm is deprecated with this release. Removed Features ================ Known Issues ============ Issue ~~~~~ .. warning:: Something important. Issue details... Bugs Fixed ========== This release includes NNN bug fixes. For the full list of bugs resolved for the 19.07 charms release please refer to https://launchpad.net/openstack-charms/+milestone/19.07. Next Release Info ================= Please see https://docs.openstack.org/charm-guide/latest for current information. ",,178,2
openstack%2Freleases~master~I8107c4b65dd2ab42367f4bdbb09e3ca7f580ed11,openstack/releases,master,I8107c4b65dd2ab42367f4bdbb09e3ca7f580ed11,Release openstack-doc-tools 1.10,MERGED,2019-07-24 09:35:30.000000000,2019-07-24 10:16:38.000000000,2019-07-24 10:16:38.000000000,"[{'_account_id': 308}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 09:35:30.000000000', 'files': ['deliverables/_independent/openstack-doc-tools.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d983820b28b7dec75b3fac52b746c9729fe0d6b5', 'message': ""Release openstack-doc-tools 1.10\n\nI screwed up - the 1.9 release should include one more change and I\npassed the wrong SHA in. Let's go to 1.10 with the real fix.\n\nChange-Id: I8107c4b65dd2ab42367f4bdbb09e3ca7f580ed11\n""}]",0,672481,d983820b28b7dec75b3fac52b746c9729fe0d6b5,8,3,1,6547,,,0,"Release openstack-doc-tools 1.10

I screwed up - the 1.9 release should include one more change and I
passed the wrong SHA in. Let's go to 1.10 with the real fix.

Change-Id: I8107c4b65dd2ab42367f4bdbb09e3ca7f580ed11
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/672481/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/openstack-doc-tools.yaml'],1,d983820b28b7dec75b3fac52b746c9729fe0d6b5,doctools, - version: 1.10.0 projects: - repo: openstack/openstack-doc-tools hash: a178d4b73c70dea440d92e0629f48e4208c33bc2,,4,0
openstack%2Ftripleo-docs~master~I465949fb71ca3963942da042f0ec6d2d4341061c,openstack/tripleo-docs,master,I465949fb71ca3963942da042f0ec6d2d4341061c,[tripleo-ci][docs] Update Grafana link after recent migration,MERGED,2019-07-22 13:30:18.000000000,2019-07-24 10:06:05.000000000,2019-07-24 10:06:05.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 13:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/1495e3c98f78488125d0f08125eb5667a18a6b7b', 'message': '[tripleo-ci][docs] Update Grafana link after recent migration\n\nThe tripleo-ci squad grafana instance was just moved to a new host\nand we need to update the url\n\nChange-Id: I465949fb71ca3963942da042f0ec6d2d4341061c\n'}, {'number': 2, 'created': '2019-07-22 14:02:12.000000000', 'files': ['doc/source/ci/stages-overview.rst', 'doc/source/ci/ruck_rover_primer.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/53eacdcd05d24f59eb779a0e57416c3f7ef8d87e', 'message': '[tripleo-ci][docs] Update Grafana link after recent migration\n\nThe tripleo-ci squad grafana instance was just moved to a new host\nand we need to update the url http://cockpit-ci.tripleo.org/\n\nChange-Id: I465949fb71ca3963942da042f0ec6d2d4341061c\n'}]",0,672044,53eacdcd05d24f59eb779a0e57416c3f7ef8d87e,10,6,2,8449,,,0,"[tripleo-ci][docs] Update Grafana link after recent migration

The tripleo-ci squad grafana instance was just moved to a new host
and we need to update the url http://cockpit-ci.tripleo.org/

Change-Id: I465949fb71ca3963942da042f0ec6d2d4341061c
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/44/672044/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ci/stages-overview.rst', 'doc/source/ci/ruck_rover_primer.rst']",2,1495e3c98f78488125d0f08125eb5667a18a6b7b,,`http://dashboard-ci.tripleo.org/d/YRJtmtNWk/cockpit?orgId=1`_ is one of the* grafana: `http://dashboard-ci.tripleo.org/d/YRJtmtNWk/cockpit?orgId=1`_.. _`http://dashboard-ci.tripleo.org/d/YRJtmtNWk/cockpit?orgId=1`: http://dashboard-ci.tripleo.org/d/YRJtmtNWk/cockpit?orgId=1,`http://dashboard-ci.tripleo.org/d/cEEjGFFmz/cockpit?orgId=1`_ is one of the* grafana: `http://dashboard-ci.tripleo.org/d/cEEjGFFmz/cockpit?orgId=1`_.. _`http://dashboard-ci.tripleo.org/d/cEEjGFFmz/cockpit?orgId=1`: http://dashboard-ci.tripleo.org/d/cEEjGFFmz/cockpit?orgId=1,4,4
openstack%2Fsecurity-doc~master~If3ab217fb3e93201056d637f0213b83c218df686,openstack/security-doc,master,If3ab217fb3e93201056d637f0213b83c218df686,Updated from openstack-manuals,MERGED,2019-07-24 09:28:46.000000000,2019-07-24 09:49:51.000000000,2019-07-24 09:49:51.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 09:28:46.000000000', 'files': ['common/source/locale/id/LC_MESSAGES/common.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/a728918d9104b4aac9fea2912a54ad8d5b44311d', 'message': 'Updated from openstack-manuals\n\nChange-Id: If3ab217fb3e93201056d637f0213b83c218df686\n'}]",0,672479,a728918d9104b4aac9fea2912a54ad8d5b44311d,6,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: If3ab217fb3e93201056d637f0213b83c218df686
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/79/672479/1 && git format-patch -1 --stdout FETCH_HEAD,['common/source/locale/id/LC_MESSAGES/common.po'],1,a728918d9104b4aac9fea2912a54ad8d5b44311d,openstack/openstack-manuals,"""POT-Creation-Date: 2019-07-24 04:41+0000\n""","""POT-Creation-Date: 2019-06-21 09:38+0000\n""msgid """" ""`API Documentation <https://developer.openstack.org/api-guide/quick-start/>`_"" msgstr """" ""`API Documentation <https://developer.openstack.org/api-guide/quick-start/>`_"" ",1,6
openstack%2Frequirements~master~Ia5bc2330435f03b373cdcc6138322bbd08588708,openstack/requirements,master,Ia5bc2330435f03b373cdcc6138322bbd08588708,Revert upper constraints pyparsing version to 2.4.0,ABANDONED,2019-07-24 08:23:57.000000000,2019-07-24 09:37:24.000000000,,"[{'_account_id': 2394}, {'_account_id': 10459}, {'_account_id': 11692}, {'_account_id': 27329}]","[{'number': 1, 'created': '2019-07-24 08:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4a06e7b15a0d0e91d0ec85e21547ee7774222c8a', 'message': 'Decrease upper constraints pyparsing version to 2.4.0\n\nCurrent pyparsing version (2.4.1) is still not available on pipy.\nTherefore projects that are depending on installing requirements\nwith pip and upper-contraints.txt file are now failing to install\nrequirements. This change should revert pyparsing to previous\nversion.\n\nChange-Id: Ia5bc2330435f03b373cdcc6138322bbd08588708\n'}, {'number': 2, 'created': '2019-07-24 08:24:30.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/77b91d5b0cc0db5ce17b2a00d2bc420f3033e0db', 'message': 'Revert upper constraints pyparsing version to 2.4.0\n\nCurrent pyparsing version (2.4.1) is still not available on pipy.\nTherefore projects that are depending on installing requirements\nwith pip and upper-contraints.txt file are now failing to install\nrequirements. This change should revert pyparsing to previous\nversion.\n\nChange-Id: Ia5bc2330435f03b373cdcc6138322bbd08588708\n'}]",0,672464,77b91d5b0cc0db5ce17b2a00d2bc420f3033e0db,7,4,2,27329,,,0,"Revert upper constraints pyparsing version to 2.4.0

Current pyparsing version (2.4.1) is still not available on pipy.
Therefore projects that are depending on installing requirements
with pip and upper-contraints.txt file are now failing to install
requirements. This change should revert pyparsing to previous
version.

Change-Id: Ia5bc2330435f03b373cdcc6138322bbd08588708
",git fetch https://review.opendev.org/openstack/requirements refs/changes/64/672464/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4a06e7b15a0d0e91d0ec85e21547ee7774222c8a,,pyparsing===2.4.0,pyparsing===2.4.1,1,1
openstack%2Freleases~master~Ia0c504a04e9b9814745e0239e331e447d1c8eee1,openstack/releases,master,Ia0c504a04e9b9814745e0239e331e447d1c8eee1,Initial independent release for ansible-role-collect-logs,MERGED,2019-07-17 12:53:11.000000000,2019-07-24 09:36:06.000000000,2019-07-24 09:36:06.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-17 12:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/537747e1e05e38305ee7ff4b0e769dc4de4f8fec', 'message': 'Initial independent release for ansible-role-collect-logs\n\nChange-Id: Ia0c504a04e9b9814745e0239e331e447d1c8eee1\n'}, {'number': 2, 'created': '2019-07-17 14:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2e0ab8c74595e01b44d9e77973167dde838acc94', 'message': 'Initial independent release for ansible-role-collect-logs\n\nChange-Id: Ia0c504a04e9b9814745e0239e331e447d1c8eee1\n'}, {'number': 3, 'created': '2019-07-22 14:20:59.000000000', 'files': ['deliverables/_independent/ansible-role-collect-logs.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8c9e00f56f10fbb57950e16e269c1b52d9f8dc6d', 'message': 'Initial independent release for ansible-role-collect-logs\n\nChange-Id: Ia0c504a04e9b9814745e0239e331e447d1c8eee1\n'}]",0,671255,8c9e00f56f10fbb57950e16e269c1b52d9f8dc6d,12,4,3,14985,,,0,"Initial independent release for ansible-role-collect-logs

Change-Id: Ia0c504a04e9b9814745e0239e331e447d1c8eee1
",git fetch https://review.opendev.org/openstack/releases refs/changes/55/671255/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/ansible-role-collect-logs.yaml'],1,537747e1e05e38305ee7ff4b0e769dc4de4f8fec,fix-collect-logs,--- launchpad: tripleo team: tripleo type: other releases: - projects: - hash: cc24a877ea48ac7b9d89ffff54ef5cbffacabf54 repo: openstack/ansible-role-collect-logs version: 1.0.0 repository-settings: openstack/ansible-role-collect-logs: {} ,,11,0
openstack%2Freleases~master~I92342e9362c46e34cff93536e90ef2fe640b8e60,openstack/releases,master,I92342e9362c46e34cff93536e90ef2fe640b8e60,Release a 1.1.0 placement from stable/stein,MERGED,2019-07-22 16:26:32.000000000,2019-07-24 09:36:05.000000000,2019-07-24 09:36:05.000000000,"[{'_account_id': 308}, {'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 16:26:32.000000000', 'files': ['deliverables/stein/placement.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7d908263f5737a2759159fe19d7809a29dd44c13', 'message': 'Release a 1.1.0 placement from stable/stein\n\nThere are three changes since the 1.0.0 release:\n\ngit log --oneline --no-merges 1.0.0..bdcbb2604bcbb195fa6e3a1b504ec2c31531308b\n\nbdcbb260 Add support for osprofiler in wsgi\n28a341ac Skip _exclude_nested_providers() if not nested\n58d55797 OpenDev Migration Patch\n\nbdcbb260 returns what was once working behavior (using osprofiler) to\nthe placement service after it was inadvertently broken during the\nextraction of placement to its own repo. This is enough a functionality\nchange that it deserves a minor version bump. That commit includes a\nrelease note.\n\n28a341ac is a significant performance fix that has no impact on\nreturned values.\n\nChange-Id: I92342e9362c46e34cff93536e90ef2fe640b8e60\n'}]",1,672086,7d908263f5737a2759159fe19d7809a29dd44c13,9,5,1,11564,,,0,"Release a 1.1.0 placement from stable/stein

There are three changes since the 1.0.0 release:

git log --oneline --no-merges 1.0.0..bdcbb2604bcbb195fa6e3a1b504ec2c31531308b

bdcbb260 Add support for osprofiler in wsgi
28a341ac Skip _exclude_nested_providers() if not nested
58d55797 OpenDev Migration Patch

bdcbb260 returns what was once working behavior (using osprofiler) to
the placement service after it was inadvertently broken during the
extraction of placement to its own repo. This is enough a functionality
change that it deserves a minor version bump. That commit includes a
release note.

28a341ac is a significant performance fix that has no impact on
returned values.

Change-Id: I92342e9362c46e34cff93536e90ef2fe640b8e60
",git fetch https://review.opendev.org/openstack/releases refs/changes/86/672086/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/placement.yaml'],1,7d908263f5737a2759159fe19d7809a29dd44c13,, - projects: - hash: bdcbb2604bcbb195fa6e3a1b504ec2c31531308b repo: openstack/placement tarball-base: openstack-placement version: 1.1.0,,5,0
openstack%2Fhorizon~master~I644db7a0b86142551c0660e4e2fe3a1a4f6eede5,openstack/horizon,master,I644db7a0b86142551c0660e4e2fe3a1a4f6eede5,Update api-ref location,MERGED,2019-07-22 19:00:52.000000000,2019-07-24 09:29:12.000000000,2019-07-24 09:29:12.000000000,"[{'_account_id': 841}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-07-22 19:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d7d00ba804b7f60758118f550f0d8c80b98cd27c', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I644db7a0b86142551c0660e4e2fe3a1a4f6eede5\n""}, {'number': 2, 'created': '2019-07-23 07:43:26.000000000', 'files': ['openstack_dashboard/api/rest/neutron.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/32d48626d8757f76ac7d09951a960960ee589551', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I644db7a0b86142551c0660e4e2fe3a1a4f6eede5\n""}]",2,672140,32d48626d8757f76ac7d09951a960960ee589551,11,4,2,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I644db7a0b86142551c0660e4e2fe3a1a4f6eede5
",git fetch https://review.opendev.org/openstack/horizon refs/changes/40/672140/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/rest/neutron.py'],1,d7d00ba804b7f60758118f550f0d8c80b98cd27c,retire-api-site, https://docs.openstack.org/api-ref/network/v2/index.html https://docs.openstack.org/api-ref/network/v2/index.html#subnets https://docs.openstack.org/api-ref/network/v2/index.html#ports, http://developer.openstack.org/api-ref-networking-v2.html http://developer.openstack.org/api-ref-networking-v2.html#subnets http://developer.openstack.org/api-ref-networking-v2.html#ports,5,3
openstack%2Fopenstack-manuals~master~I205badcb78794c6571bbac0daada6c7108e5eca8,openstack/openstack-manuals,master,I205badcb78794c6571bbac0daada6c7108e5eca8,Imported Translations from Zanata,MERGED,2019-07-24 08:49:51.000000000,2019-07-24 09:20:49.000000000,2019-07-24 09:20:49.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 08:49:51.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'doc/common/source/locale/ru/LC_MESSAGES/common.po', 'doc/common/source/locale/zh_CN/LC_MESSAGES/common.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'doc/common/source/locale/ko_KR/LC_MESSAGES/common.po', 'doc/api-quick-start/source/locale/tr_TR/LC_MESSAGES/api-quick-start.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'doc/api-quick-start/source/locale/eo/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/id/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/ko_KR/LC_MESSAGES/api-quick-start.po', 'doc/common/source/locale/id/LC_MESSAGES/common.po', 'doc/api-quick-start/source/locale/en_GB/LC_MESSAGES/api-quick-start.po', 'doc/common/source/locale/de/LC_MESSAGES/common.po', 'doc/api-quick-start/source/locale/de/LC_MESSAGES/api-quick-start.po', 'doc/common/source/locale/en_GB/LC_MESSAGES/common.po', 'doc/api-quick-start/source/locale/zh_CN/LC_MESSAGES/api-quick-start.po', 'doc/install-guide/source/locale/ko_KR/LC_MESSAGES/install-guide.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/654d1bb4f945c19046021a55ebf9ab1f7b26586c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I205badcb78794c6571bbac0daada6c7108e5eca8\n'}]",0,672471,654d1bb4f945c19046021a55ebf9ab1f7b26586c,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I205badcb78794c6571bbac0daada6c7108e5eca8
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/71/672471/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'doc/common/source/locale/ru/LC_MESSAGES/common.po', 'doc/common/source/locale/zh_CN/LC_MESSAGES/common.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'doc/common/source/locale/ko_KR/LC_MESSAGES/common.po', 'doc/api-quick-start/source/locale/tr_TR/LC_MESSAGES/api-quick-start.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'doc/api-quick-start/source/locale/eo/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/id/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/ko_KR/LC_MESSAGES/api-quick-start.po', 'doc/common/source/locale/id/LC_MESSAGES/common.po', 'doc/api-quick-start/source/locale/en_GB/LC_MESSAGES/api-quick-start.po', 'doc/common/source/locale/de/LC_MESSAGES/common.po', 'doc/api-quick-start/source/locale/de/LC_MESSAGES/api-quick-start.po', 'doc/common/source/locale/en_GB/LC_MESSAGES/common.po', 'doc/api-quick-start/source/locale/zh_CN/LC_MESSAGES/api-quick-start.po', 'doc/install-guide/source/locale/ko_KR/LC_MESSAGES/install-guide.po']",18,654d1bb4f945c19046021a55ebf9ab1f7b26586c,zanata/translations,"# Ian Y. Choi <ianyrchoi@gmail.com>, 2019. #zanata""Project-Id-Version: Installation Guide\n""""POT-Creation-Date: 2019-07-24 04:41+0000\n""""PO-Revision-Date: 2019-07-23 09:23+0000\n""""As of Ubuntu 18.04, the ``etcd`` package is no longer available from the "" ""default repository. To install successfully, enable the ``Universe`` "" ""repository on Ubuntu."" msgstr """" ""Ubuntu 18.04 기준으로, ``etcd`` 패키지는 디폴트 저장소로부터 더 이상 사용 가"" ""능하지 않습니다. 성공적으로 설치를 하기 위해서는, Ubuntu에서 ``Universe`` 저"" ""장소를 활성화합니다."" msgid """"msgid ""Determine your system architecture:"" msgstr ""시스템 아키텍처 결정하기:"" msgid ""Download and install the etcd tarball for x86_64/amd64:"" msgstr ""x86_64/amd64를 위한 etcd tarball을 다운로드 및 설치합니다:"" msgid ""Or download and install the etcd tarball for arm64:"" msgstr ""또는 arm64를 위한 etcd tarball을 다운로드 및 설치합니다:"" msgid ""The etcd service runs on the controller node."" msgstr ""해당 etcd 서비스는 컨트롤러 노드에서 실행합니다."" ""`SLES 12 <https://www.suse.com/documentation/sles-12/book_sle_admin/data/"" ""sec_basicnet_manconf.html>`__ or `SLES 15 <https://www.suse.com/"" ""documentation/sles-15/book_sle_admin/data/sec_network_manconf.html>`__ or "" ""`openSUSE <https://doc.opensuse.org/documentation/leap/reference/html/book."" ""opensuse.reference/cha.network.html>`__ Network Configuration"" msgstr """" ""`SLES 12 <https://www.suse.com/documentation/sles-12/book_sle_admin/data/"" ""sec_basicnet_manconf.html>`__ 또는 `SLES 15 <https://www.suse.com/"" ""documentation/sles-15/book_sle_admin/data/sec_network_manconf.html>`__ 또는 "" ""`openSUSE <https://doc.opensuse.org/documentation/leap/reference/html/book."" ""opensuse.reference/cha.network.html>`__ 네트워크 구성"" msgid """"","""Project-Id-Version: openstackinstallguide\n""""POT-Creation-Date: 2019-06-21 09:38+0000\n""""PO-Revision-Date: 2018-12-02 09:52+0000\n""",151,1413
openstack%2Fnova~master~I36df14e1bf40dbd82f5260da2b00906a48c37414,openstack/nova,master,I36df14e1bf40dbd82f5260da2b00906a48c37414,libvirt: Start reporting 'pcpus' to the resource tracker,ABANDONED,2019-07-19 18:17:15.000000000,2019-07-24 09:15:06.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}]","[{'number': 1, 'created': '2019-07-19 18:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7390ee31f63e16d5afdd46812bd8289240ba93d8', 'message': ""libvirt: Start reporting 'pcpus' to the resource tracker\n\nEven though we use placement for instance CPUs now, we still rely on the\nresource tracker information for the 'os-hypervisors' API and for some\nlogging. Update the information stored as part of the 'ComputeNode'\nobject so we can update these places to do the same.\n\nTODO: Update the object to include default=0. Not done yet as I want to\nkeep running through series fixing broken tests.\n\nTODO: Do we actually care enough about the 'os-hypervisors' API to\nbother doing the resource tracker parts of this (we still need the\nComputeNode changes)? Maybe that whole API should be landed on the\nchopping block instead?\n\nPart of blueprint cpu-resources\n\nChange-Id: I36df14e1bf40dbd82f5260da2b00906a48c37414\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-07-21 13:52:23.000000000', 'files': ['nova/tests/unit/db/test_migrations.py', 'nova/tests/unit/objects/test_compute_node.py', 'nova/db/sqlalchemy/migrate_repo/versions/399_add_compute_node_pcpus_pcpus_used.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/libvirt/guest.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/objects/test_objects.py', 'nova/db/sqlalchemy/models.py', 'nova/virt/libvirt/driver.py', 'nova/objects/compute_node.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/tests/unit/db/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6bcf12b4225ac1429c214cd9241f9d783f49397b', 'message': ""libvirt: Start reporting 'pcpus' to the resource tracker\n\nEven though we use placement for instance CPUs now, we still rely on the\nresource tracker information for the 'os-hypervisors' API and for some\nlogging. Update the information stored as part of the 'ComputeNode'\nobject so we can update these places to do the same.\n\nTODO: Update the object to include default=0. Not done yet as I want to\nkeep running through series fixing broken tests.\n\nTODO: Do we actually care enough about the 'os-hypervisors' API to\nbother doing the resource tracker parts of this (we still need the\nComputeNode changes)? Maybe that whole API should be landed on the\nchopping block instead?\n\nPart of blueprint cpu-resources\n\nChange-Id: I36df14e1bf40dbd82f5260da2b00906a48c37414\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,671794,6bcf12b4225ac1429c214cd9241f9d783f49397b,17,8,2,15334,,,0,"libvirt: Start reporting 'pcpus' to the resource tracker

Even though we use placement for instance CPUs now, we still rely on the
resource tracker information for the 'os-hypervisors' API and for some
logging. Update the information stored as part of the 'ComputeNode'
object so we can update these places to do the same.

TODO: Update the object to include default=0. Not done yet as I want to
keep running through series fixing broken tests.

TODO: Do we actually care enough about the 'os-hypervisors' API to
bother doing the resource tracker parts of this (we still need the
ComputeNode changes)? Maybe that whole API should be landed on the
chopping block instead?

Part of blueprint cpu-resources

Change-Id: I36df14e1bf40dbd82f5260da2b00906a48c37414
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/671794/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/test_migrations.py', 'nova/tests/unit/objects/test_compute_node.py', 'nova/db/sqlalchemy/migrate_repo/versions/399_add_compute_node_pcpus_pcpus_used.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/libvirt/guest.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/objects/test_objects.py', 'nova/db/sqlalchemy/models.py', 'nova/virt/libvirt/driver.py', 'nova/objects/compute_node.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/tests/unit/db/test_db_api.py']",13,7390ee31f63e16d5afdd46812bd8289240ba93d8,bp/cpu-resources," stats='', numa_topology='', pcpus=0, pcpus_used=0) stats='', numa_topology='', pcpus=0, pcpus_used=0) stats='', numa_topology='', pcpus=0, pcpus_used=0) new_pcpus = 0 new_pcpus_used = 0 exp_pcpus = new_pcpus + itm['pcpus'] exp_pcpus_used = new_pcpus_used + itm['pcpus_used'] pcpus=new_pcpus, pcpus_used=new_pcpus_used, self.assertEqual(exp_pcpus, stats['pcpus']) self.assertEqual(exp_pcpus_used, stats['pcpus_used'])"," stats='', numa_topology='') stats='', numa_topology='') stats='', numa_topology='')",206,45
openstack%2Freleases~master~I8f3348429c9874bd8823344d1aae230f5e8878e8,openstack/releases,master,I8f3348429c9874bd8823344d1aae230f5e8878e8,openstack-doc-tools 1.9.0,MERGED,2019-07-23 11:58:29.000000000,2019-07-24 09:12:45.000000000,2019-07-24 09:12:45.000000000,"[{'_account_id': 308}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 11:58:29.000000000', 'files': ['deliverables/_independent/openstack-doc-tools.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7e3dace2bba93ca8d94e37fb56d7c5ff421e4aeb', 'message': 'openstack-doc-tools 1.9.0\n\nA lot of internal updates and one crucial ones:\nPublish translated api-quick-start same way as other guides (without\nrename).\n\nDepends-On: https://review.opendev.org/672267\nChange-Id: I8f3348429c9874bd8823344d1aae230f5e8878e8\n'}]",0,672271,7e3dace2bba93ca8d94e37fb56d7c5ff421e4aeb,12,6,1,6547,,,0,"openstack-doc-tools 1.9.0

A lot of internal updates and one crucial ones:
Publish translated api-quick-start same way as other guides (without
rename).

Depends-On: https://review.opendev.org/672267
Change-Id: I8f3348429c9874bd8823344d1aae230f5e8878e8
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/672271/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/openstack-doc-tools.yaml'],1,7e3dace2bba93ca8d94e37fb56d7c5ff421e4aeb,retire-api-site, - version: 1.9.0 projects: - repo: openstack/openstack-doc-tools hash: 9d59e2087e62e58d8774ea3d3a83241864fecdfb,,4,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ic4b7b427827114fcec0f4973a200461e811ee53a,openstack/tripleo-heat-templates,stable/rocky,Ic4b7b427827114fcec0f4973a200461e811ee53a,Add customized libvirt-guests unit file to properly shutdown instances,MERGED,2018-11-19 15:56:51.000000000,2019-07-24 09:02:10.000000000,2018-11-27 00:39:38.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-11-19 15:56:51.000000000', 'files': ['puppet/services/nova-compute.yaml', 'releasenotes/notes/nova_custom_libvirt-guests_unit-7ac2c4b5511ca549.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/959aa9d9a5b7d9d9d921c8c545dd173368328420', 'message': ""Add customized libvirt-guests unit file to properly shutdown instances\n\nIf resume_guests_state_on_host_boot is set in nova.conf instances\nneed to be shutdown using libvirt-guests after nova_compute container\nis shut down. Therefore we need a customized libvirt-guests unit file\nwhich:\n1) removes the dependency to libvirt (non container) that it don't\n   get started as a dependency and make the nova_libvirt container\n   to fail.\n2) adds a dependency to docker related services that a shutdown of\n   nova_compute container is possible on system reboot.\n3) stops nova_compute container\n4) shutdown VMs\n\nThis is a missing part of Bug 1778216.\n\nChange-Id: Ic4b7b427827114fcec0f4973a200461e811ee53a\nRelated-bug: 1778216\n(cherry picked from commit 9f478ee18e15696822a014b9ffe31638b7bc89fb)\n""}]",0,618771,959aa9d9a5b7d9d9d921c8c545dd173368328420,10,7,1,17216,,,0,"Add customized libvirt-guests unit file to properly shutdown instances

If resume_guests_state_on_host_boot is set in nova.conf instances
need to be shutdown using libvirt-guests after nova_compute container
is shut down. Therefore we need a customized libvirt-guests unit file
which:
1) removes the dependency to libvirt (non container) that it don't
   get started as a dependency and make the nova_libvirt container
   to fail.
2) adds a dependency to docker related services that a shutdown of
   nova_compute container is possible on system reboot.
3) stops nova_compute container
4) shutdown VMs

This is a missing part of Bug 1778216.

Change-Id: Ic4b7b427827114fcec0f4973a200461e811ee53a
Related-bug: 1778216
(cherry picked from commit 9f478ee18e15696822a014b9ffe31638b7bc89fb)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/618771/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/nova-compute.yaml', 'releasenotes/notes/nova_custom_libvirt-guests_unit-7ac2c4b5511ca549.yaml']",2,959aa9d9a5b7d9d9d921c8c545dd173368328420,bug/1778216,--- fixes: - | Add customized libvirt-guests unit file to properly shutdown instances If resume_guests_state_on_host_boot is set in nova.conf instances need to be shutdown using libvirt-guests after nova_compute container is shut down. Therefore we need a customized libvirt-guests unit file 1) removes the dependency to libvirt (non container) that it don't get started as a dependency and make the nova_libvirt container to fail. 2) adds a dependency to docker related services that a shutdown of nova_compute container is possible on system reboot. 3) stops nova_compute container 4) shutdown VMs This is a missing part of Bug 1778216. ,,57,0
openstack%2Frequirements~master~I1d94faccd754f383bc5645f2fa0ba7ab11198d66,openstack/requirements,master,I1d94faccd754f383bc5645f2fa0ba7ab11198d66,Lower pyparsing to 2.4.0,ABANDONED,2019-07-24 08:39:15.000000000,2019-07-24 08:44:16.000000000,,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 308}, {'_account_id': 1106}, {'_account_id': 2472}, {'_account_id': 3099}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 5638}, {'_account_id': 6133}, {'_account_id': 6593}, {'_account_id': 7069}, {'_account_id': 7118}, {'_account_id': 9061}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 13252}, {'_account_id': 14288}, {'_account_id': 22816}]","[{'number': 1, 'created': '2019-07-24 08:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8cb06c9da029d2617cd9534d8443f94fce3971a3', 'message': 'Lower pyparsing to 2.4.0\n\npyparsing===2.4.1 is not available via pip anymore.\nhttps://www.reddit.com/r/pyparsing/comments/cg5uba/pyparsing_241_released_today/eunqkzk/\n\nChange-Id: I1d94faccd754f383bc5645f2fa0ba7ab11198d66\n'}, {'number': 2, 'created': '2019-07-24 08:41:05.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fd8679c486f00d38e3f250dc6a490197b51d82dc', 'message': 'Lower pyparsing to 2.4.0\n\npyparsing===2.4.1 is not available via pip anymore.\n\nChange-Id: I1d94faccd754f383bc5645f2fa0ba7ab11198d66\n'}]",0,672467,fd8679c486f00d38e3f250dc6a490197b51d82dc,3,20,2,30748,,,0,"Lower pyparsing to 2.4.0

pyparsing===2.4.1 is not available via pip anymore.

Change-Id: I1d94faccd754f383bc5645f2fa0ba7ab11198d66
",git fetch https://review.opendev.org/openstack/requirements refs/changes/67/672467/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8cb06c9da029d2617cd9534d8443f94fce3971a3,,pyparsing===2.4.0,pyparsing===2.4.1,1,1
openstack%2Fpuppet-tripleo~master~Id1cc2e75af316b864cebf601395f1111b7fb049a,openstack/puppet-tripleo,master,Id1cc2e75af316b864cebf601395f1111b7fb049a,New profile to configure libvirt-guests on compute host,MERGED,2018-07-05 11:47:59.000000000,2019-07-24 08:43:14.000000000,2018-07-15 18:45:50.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-07-05 11:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/589fa719826b595c06f795acca91f16ea9ae6ed6', 'message': 'New profile to configure libvirt-guests on compute host\n\nOn compute shutdown we might want to gracefully shutdown instances\nusing libvirt-guests. If it gets configured is managed via a tht\nparameter NovaResumeGuestsStateOnHostBoot. This triggers config\nof /etc/sysconfig/libvirt-guests via puppet-nova, configures a\ndependency for virt-guest-shutdown.target to the docker service\nthat instances get shutdown before the libvirt container gets\nstopped.\n\nChange-Id: Id1cc2e75af316b864cebf601395f1111b7fb049a\nCloses-Bug: 1778216\nDepends-On: I2766cdd66ff17756daaf1a75ad516a7af6eebddc\n'}, {'number': 2, 'created': '2018-07-13 15:42:41.000000000', 'files': ['manifests/profile/base/nova/compute/libvirt_guests.pp', 'manifests/releasenotes/notes/nova_libvirt_guests-d0e5424d40d9e26e.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c482a3ce5a9ab4074c61903c5b9e8e2af7d39bfe', 'message': 'New profile to configure libvirt-guests on compute host\n\nOn compute shutdown we might want to gracefully shutdown instances\nusing libvirt-guests. If it gets configured is managed via a tht\nparameter NovaResumeGuestsStateOnHostBoot. This triggers config\nof /etc/sysconfig/libvirt-guests via puppet-nova, configures a\ndependency for virt-guest-shutdown.target to\npaunch-container-shutdown.service that instances get shutdown\nbefore the libvirt container gets stopped.\n\nChange-Id: Id1cc2e75af316b864cebf601395f1111b7fb049a\nCloses-Bug: 1778216\nDepends-On: I2766cdd66ff17756daaf1a75ad516a7af6eebddc\n'}]",2,580351,c482a3ce5a9ab4074c61903c5b9e8e2af7d39bfe,25,9,2,17216,,,0,"New profile to configure libvirt-guests on compute host

On compute shutdown we might want to gracefully shutdown instances
using libvirt-guests. If it gets configured is managed via a tht
parameter NovaResumeGuestsStateOnHostBoot. This triggers config
of /etc/sysconfig/libvirt-guests via puppet-nova, configures a
dependency for virt-guest-shutdown.target to
paunch-container-shutdown.service that instances get shutdown
before the libvirt container gets stopped.

Change-Id: Id1cc2e75af316b864cebf601395f1111b7fb049a
Closes-Bug: 1778216
Depends-On: I2766cdd66ff17756daaf1a75ad516a7af6eebddc
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/51/580351/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/nova/compute/libvirt_guests.pp', 'manifests/releasenotes/notes/nova_libvirt_guests-d0e5424d40d9e26e.yaml']",2,589fa719826b595c06f795acca91f16ea9ae6ed6,bug/1778216,"--- features: - | New profile to configure libvirt-guests on compute host. On compute shutdown we might want to gracefully shutdown instances using libvirt-guests. If it gets configured is managed with the tht NovaResumeGuestsStateOnHostBoot parameter. This triggers config of /etc/sysconfig/libvirt-guests via puppet-nova, configures a dependency for virt-guest-shutdown.target to the docker service that instances get shutdown before the libvirt container gets stopped. ",,67,0
openstack%2Fpuppet-nova~master~I2766cdd66ff17756daaf1a75ad516a7af6eebddc,openstack/puppet-nova,master,I2766cdd66ff17756daaf1a75ad516a7af6eebddc,Add functionality to manage /etc/sysconfig/libvirt-guests,MERGED,2018-06-22 12:42:12.000000000,2019-07-24 08:41:58.000000000,2018-07-13 16:56:48.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-06-22 12:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/20d630b0f40d1fb87cb1be7ed447a0c581c99ba0', 'message': 'Add functionality to manage /etc/sysconfig/libvirt-guests\n\nIf resume_guests_state_on_host_boot is set in nova.conf also\nlibvirt-guests need to be configured in the right way to shutdown\nrunning instances on a compute reboot.\n\nCloses-bug: 1778216\nChange-Id: I2766cdd66ff17756daaf1a75ad516a7af6eebddc\n'}, {'number': 2, 'created': '2018-06-24 13:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a86667fe4a2fe9c917caac0d82b1092801b346b1', 'message': 'Add functionality to manage /etc/sysconfig/libvirt-guests\n\nIf resume_guests_state_on_host_boot is set in nova.conf also\nlibvirt-guests need to be configured in the right way to shutdown\nrunning instances on a compute reboot.\n\nCloses-bug: 1778216\nChange-Id: I2766cdd66ff17756daaf1a75ad516a7af6eebddc\n'}, {'number': 3, 'created': '2018-06-25 07:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/eaa5e3f58b0294e3166fcc48d1675fe60e91023e', 'message': 'Add functionality to manage /etc/sysconfig/libvirt-guests\n\nIf resume_guests_state_on_host_boot is set in nova.conf also\nlibvirt-guests need to be configured in the right way to shutdown\nrunning instances on a compute reboot.\n\nCloses-bug: 1778216\nChange-Id: I2766cdd66ff17756daaf1a75ad516a7af6eebddc\n'}, {'number': 4, 'created': '2018-06-25 15:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/08ac49a71f7ca6c513cb6b7f26fa1793943925de', 'message': 'Add functionality to manage /etc/sysconfig/libvirt-guests\n\nIf resume_guests_state_on_host_boot is set in nova.conf also\nlibvirt-guests need to be configured in the right way to shutdown\nrunning instances on a compute reboot.\n\nCloses-bug: 1778216\nChange-Id: I2766cdd66ff17756daaf1a75ad516a7af6eebddc\n'}, {'number': 5, 'created': '2018-07-05 11:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c865f9e32449a393f87f6d83689f0c42034f962e', 'message': 'Add functionality to manage /etc/sysconfig/libvirt-guests\n\nIf resume_guests_state_on_host_boot is set in nova.conf also\nlibvirt-guests need to be configured in the right way to shutdown\nrunning instances on a compute reboot.\n\nCloses-bug: 1778216\nChange-Id: I2766cdd66ff17756daaf1a75ad516a7af6eebddc\n'}, {'number': 6, 'created': '2018-07-05 13:34:02.000000000', 'files': ['releasenotes/notes/compute-libvirt-guests-b51fdee7cf4d0289.yaml', 'spec/classes/nova_compute_libvirt_guests_spec.rb', 'manifests/compute/libvirt_guests.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/df325e8f6db80b4ef65d88a9a0369b6802c44a86', 'message': 'Add functionality to manage /etc/sysconfig/libvirt-guests\n\nIf resume_guests_state_on_host_boot is set in nova.conf also\nlibvirt-guests need to be configured in the right way to shutdown\nrunning instances on a compute reboot.\n\nCloses-bug: 1778216\nChange-Id: I2766cdd66ff17756daaf1a75ad516a7af6eebddc\n'}]",6,577410,df325e8f6db80b4ef65d88a9a0369b6802c44a86,25,8,6,17216,,,0,"Add functionality to manage /etc/sysconfig/libvirt-guests

If resume_guests_state_on_host_boot is set in nova.conf also
libvirt-guests need to be configured in the right way to shutdown
running instances on a compute reboot.

Closes-bug: 1778216
Change-Id: I2766cdd66ff17756daaf1a75ad516a7af6eebddc
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/10/577410/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/compute-libvirt-guests-b51fdee7cf4d0289.yaml', 'spec/classes/nova_compute_libvirt_guests_spec.rb', 'manifests/compute/libvirt_guests.pp', 'manifests/params.pp']",4,20d630b0f40d1fb87cb1be7ed447a0c581c99ba0,bug/1778216, $libvirt_guests_package_name = 'libvirt-client' $libvirt_guests_service_name = 'libvirt-guests',,193,0
openstack%2Fmetalsmith~master~Ifb299d5d95245e8848785eb2e2a7018fbb4129d6,openstack/metalsmith,master,Ifb299d5d95245e8848785eb2e2a7018fbb4129d6,Bring formatting in line with other OpenStack CLI,MERGED,2019-07-22 09:05:34.000000000,2019-07-24 08:37:43.000000000,2019-07-24 08:37:43.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 09:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/5537a2005d388f67770a6c8be86487b5c4be2f96', 'message': '[WIP] Use PrettyTable for nice default formatting\n\nChange-Id: Ifb299d5d95245e8848785eb2e2a7018fbb4129d6\n'}, {'number': 2, 'created': '2019-07-22 09:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/e17a36349fa014a17735664c696f3053ee90deac', 'message': '[WIP] Use PrettyTable for nice default formatting\n\nChange-Id: Ifb299d5d95245e8848785eb2e2a7018fbb4129d6\n'}, {'number': 3, 'created': '2019-07-22 09:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/e6c6be818a2c70c5a0720bdc001a2c9039066323', 'message': '[WIP] Use PrettyTable for nice default formatting\n\nChange-Id: Ifb299d5d95245e8848785eb2e2a7018fbb4129d6\n'}, {'number': 4, 'created': '2019-07-22 12:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/d0b187d26980377b5a50273d84db8c19f9a62ef1', 'message': 'Bring formatting in line with other OpenStack CLI\n\nChange-Id: Ifb299d5d95245e8848785eb2e2a7018fbb4129d6\n'}, {'number': 5, 'created': '2019-07-22 12:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/3581bd71cc8cc44edff173be71dd481abab0c518', 'message': 'Bring formatting in line with other OpenStack CLI\n\nChange-Id: Ifb299d5d95245e8848785eb2e2a7018fbb4129d6\n'}, {'number': 6, 'created': '2019-07-22 13:01:25.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'metalsmith/test/test_cmd.py', 'releasenotes/notes/prettytable-1db78a96c1d921d0.yaml', 'metalsmith/_cmd.py', 'metalsmith/_format.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/24d006b996d9c1ee736dd6633b45c22a838d082b', 'message': 'Bring formatting in line with other OpenStack CLI\n\nChange-Id: Ifb299d5d95245e8848785eb2e2a7018fbb4129d6\n'}]",0,671995,24d006b996d9c1ee736dd6633b45c22a838d082b,12,3,6,10239,,,0,"Bring formatting in line with other OpenStack CLI

Change-Id: Ifb299d5d95245e8848785eb2e2a7018fbb4129d6
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/95/671995/5 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'metalsmith/_format.py']",3,5537a2005d388f67770a6c8be86487b5c4be2f96,prettytable,"import prettytable pt = prettytable.PrettyTable( field_names=['UUID', 'Name', 'Hostname', 'State', 'IP Addresses']) pt.align = 'l' for instance in instances: ips = '' pt.add_row([instance.uuid, instance.node.name, instance.hostname or '', instance.state.name, ips]) _print(pt)"," for instance in instances: _print(""Node %(node)s, current state is %(state)s"", node=_utils.log_res(instance.node), state=instance.state.name) if instance.hostname: _print('* Hostname: %(hostname)s', hostname=instance.hostname) _print('* IP addresses: %(ips)s', ips=ips)",15,8
openstack%2Fcyborg-specs~master~I02bb9bc0de1f9ff9669f6d815edba6cfe0250ca5,openstack/cyborg-specs,master,I02bb9bc0de1f9ff9669f6d815edba6cfe0250ca5,Specification for Cyborg Nova Placement interaction.,MERGED,2018-09-19 03:08:30.000000000,2019-07-24 08:03:57.000000000,2019-07-24 08:03:57.000000000,"[{'_account_id': 5754}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 17813}, {'_account_id': 20722}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 23168}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 28766}]","[{'number': 1, 'created': '2018-09-19 03:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/21324574b811fcd147da1716b35b726594d0a264', 'message': 'Specification for Cyborg Nova Placement interaction.\n\nDescribes how devices and accelerators are modeled using resource\nclasses, traits and Cyborg properties.\n\nChange-Id: I02bb9bc0de1f9ff9669f6d815edba6cfe0250ca5\n'}, {'number': 2, 'created': '2018-10-05 00:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/0bdaa1cd32fc7ddf87142c273c04f5add57da20a', 'message': 'Specification for Cyborg Nova Placement interaction.\n\nDescribes how devices and accelerators are modeled using resource\nclasses, traits and Cyborg properties.\n\nDocImpact\n\nSpec for blueprint cyborg-nova-placement\n\nChange-Id: I02bb9bc0de1f9ff9669f6d815edba6cfe0250ca5\n'}, {'number': 3, 'created': '2018-10-05 10:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/71709480159817f88d3adf44f79caedf4f27163e', 'message': 'Specification for Cyborg Nova Placement interaction.\n\nDescribes how devices and accelerators are modeled using resource\nclasses, traits and Cyborg properties.\n\nDocImpact\n\nSpec for blueprint cyborg-nova-placement\n\nChange-Id: I02bb9bc0de1f9ff9669f6d815edba6cfe0250ca5\n'}, {'number': 4, 'created': '2018-11-06 23:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/ed7b0b5e35b46d22e369dce35fb6bb4e0885455c', 'message': 'Specification for Cyborg Nova Placement interaction.\n\nDescribes how devices and accelerators are modeled using resource\nclasses, traits and Cyborg properties.\n\nDocImpact\n\nSpec for blueprint cyborg-nova-placement\n\nChange-Id: I02bb9bc0de1f9ff9669f6d815edba6cfe0250ca5\n'}, {'number': 5, 'created': '2019-07-04 01:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/aea26bd26fcacc4a7714146015986527d6b19f8d', 'message': 'Specification for Cyborg Nova Placement interaction.\n\nDescribes how devices and accelerators are modeled using resource\nclasses, traits and Cyborg properties.\n\nDocImpact\n\nSpec for blueprint cyborg-nova-placement\n\nChange-Id: I02bb9bc0de1f9ff9669f6d815edba6cfe0250ca5\n'}, {'number': 6, 'created': '2019-07-08 03:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/bef409b916e5d304f7474776976534cebcda8c84', 'message': 'Specification for Cyborg Nova Placement interaction.\n\nDescribes how devices and accelerators are modeled using resource\nclasses, traits and Cyborg properties.\n\nDocImpact\n\nSpec for blueprint cyborg-nova-placement\n\nChange-Id: I02bb9bc0de1f9ff9669f6d815edba6cfe0250ca5\n'}, {'number': 7, 'created': '2019-07-12 08:54:29.000000000', 'files': ['specs/train/approved/cyborg-nova-placement.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/8e5493c968d1cbd8eb80ab2f192279b30ccacc10', 'message': 'Specification for Cyborg Nova Placement interaction.\n\nDescribes how devices and accelerators are modeled using resource\nclasses, traits and Cyborg properties.\n\nDocImpact\n\nSpec for blueprint cyborg-nova-placement\n\nChange-Id: I02bb9bc0de1f9ff9669f6d815edba6cfe0250ca5\n'}]",63,603545,8e5493c968d1cbd8eb80ab2f192279b30ccacc10,33,12,7,21672,,,0,"Specification for Cyborg Nova Placement interaction.

Describes how devices and accelerators are modeled using resource
classes, traits and Cyborg properties.

DocImpact

Spec for blueprint cyborg-nova-placement

Change-Id: I02bb9bc0de1f9ff9669f6d815edba6cfe0250ca5
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/45/603545/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/index.rst', 'specs/stein/approved/cyborg-nova-placement.rst']",2,21324574b811fcd147da1716b35b726594d0a264,bp/cyborg-nova-placement,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================= Cyborg-Nova Placement Interaction ================================= https://blueprints.launchpad.net/openstack-cyborg/+spec/cyborg-nova-placement This specification describes the way Cyborg represents devices and accelerators in Placement. This spec is common to all accelerators, including programmable ones like GPUs and others like High Precision Time Synchronization (HPTS) cards. Since FPGAs have more aspects to be considered than other devices, some sections highlight FPGA-specific factors. Problem description =================== Cyborg should represent devices and accelerators in Placement so that Nova can schedule instances with accelerators. The operator should be able to define device profiles [#devprof]_ that specify accelerators using Placement constructs and Cyborg-specific properties. Though PCI Express is entrenched in the data center, devices may be identified by some identifier other than PCI bus-device-functions and accelerators may be attached to instances by attach handles other than PCI functions. Accordingly, Cyborg should not represent PCI functions in Placement. Use cases --------- A device may contain one or more sub-components, each of which may have one or more accelerators. We assume that each accelerator device is dedicated to a compute node, rather than shared among several nodes as in a disaggregated server. This is diagrammatically shown below:: +---------------------------------------------------------+ | | | +-------------------------+ +---------+ | | | | | | | | | ACC0 ACC1 ACC2 ACC3 | | ACC0 | | | | | | | | | | | +---------+ | | | ACC4 ACC5 ACC6 ACC7 | | | | | | | +-------------------------+ | | Device | +---------------------------------------------------------+ Operators should be able to define device profiles for any or all of the tenant use cases defined below, using the same set of resources, traits and properties published by Cyborg. The tenant (user) should be able to specify the accelerators needed for an instance with an operator-defined device profile. The use cases for the tenant role are as below: * Device as a Service (DaaS): The user asks for a device that she will manage herself. This is meant for power users who know device-specific details. Example: A GPU user asks for a specific GPU model that can support specific driver version(s). * FPGA variation: The user chooses the bitstream that needs to be programmed into the device (or region). To address the potential security concerns, we define three variations, the first two of which delegate bitstream programming to Cyborg for mitigating some risks: * Request-time Programming: The device profile specifies a bitstream. (Cyborg applies the bitstream before instance bringup.) * Run-time Programming: The instance may request one or more bitstreams dynamically. (Cyborg receives the request and does the programming.) * Direct Programming: The instance directly programs the FPGA region assigned to it, without delegating it to Cyborg. The security questions that this raises need to be addressed in the future. (This is listed only for completeness; this is not going to be addressed till the security concerns are fully resolved.) * Accelerated Function as a Service (AFaaS): The user asks for a function (e.g. ipsec) or an algorithm that needs to be offloaded. The accelerator containing that function should be assigned to the instance. This does not require detailed knowledge of the devices or bitstreams, and thus enables a larger audience of users. The operator may satisfy this use case in two ways: * Pre-programmed: Do not allow orchestration to modify any function, for any of these reasons: * Only fixed function hardware is available. (E.g. ASICs.) * Operational simplicity. * Assure tenants of programming security, by doing all programming offline through some audited process. * Orchestration-programmed: For FPGAs, allow orchestration to program as needed, to maximize flexibility and availability of resources. An operator must be able to provide both Device as a Service and Accelerated Function as a Service in the same cluster. Proposed change =============== Representation -------------- * Cyborg will represent a generic accelerator for a device type as a custom Resource Class (RC) for that type, of the form CUSTOM_ACCELERATOR_<device-type>. E.g. CUSTOM_ACCELERATOR_GPU, CUSTOM_ACCELERATOR_FPGA, etc. This helps in defining separate quotas for different device types. * In the future, there could be other resource classes. For example, there could be a RC for device-local memory (i.e., memory available to the device alone, usually in the form of DDR, QDR or High Bandwidth Memory in the PCIe board along with the device). * Each device or a sub-component that contains accelerators is represented as a resource provider nested under the compute node (or a NUMA partition within the CN). With most devices, there are no sub-components and the device itself is the resource provider. This depends on nested RP support in Nova [#nRP]_. * For FPGAs, the device is an RP (nested in the CN RP) and the regions within the device will be represented as RPs as well (nested under the device RP). This allows situations where the device may provide resources like local memory. This also allows requests that need colocation of accelerators in regions in the same device. * Cyborg will associate a Device Type trait with the top-level RP for the device which contains accelerators (which is usually the device itself, as noted). This is of the form CUSTOM_<device-type>-<vendor>. E.g. CUSTOM_GPU_AMD or CUSTOM_FPGA_XILINX. This trait is intended to help match the software drivers/libraries in the instance image. It is meant to be used in a device profile when a single driver can handle different device families. * For FPGAs, if all the accelerators are inside region(s), only the region RPs are annotated with the trait. * Cyborg will associate a Device Family trait with each device as needed, of the form CUSTOM_<device-type>_<vendor>_<family>. E.g. CUSTOM_GPU_AMD_RADEON_R9 or CUSTOM_FPGA_INTEL_ARRIA10. This is not a product name, but the name of a device family, used to match software in the instance image with the device family. This is a refinement of the Device Type Trait. It is meant to be used in a device profile when there are different drivers/libraries for different device families. Since it may be tough to forecast whether a new device family will need a new driver/library, it may make sense to associate both these traits with the same device RP. * For FPGAs, Cyborg will associate a region type trait with each region (or with the FPGA itself if there is no Partial Reconfiguration support), of the form CUSTOM_FPGA_REGION_<vendor>_<id-string>. E.g. CUSTOM_FPGA_REGION_INTEL_<id-string>. This is needed for Device as a Service with FPGAs. * For FPGAs, Cyborg may associate a function type trait with a region when the region gets programmed, of the form CUSTOM_FPGA_FUNCTION_<vendor>_<id-string>. E.g. CUSTOM_FPGA_FUNCTION_INTEL_<gzip-id>. This is needed for AFaaS use case. Cyborg properties ----------------- In addition to the traits, user requests for accelerators may include Cyborg-specific properties in the device profile. These are not interpreted by Nova. However, they may specify other details such as which bitstreams are needed. When the device profile is translated by Cyborg into extra specs to be added to the flavor, the Cyborg properties will be prefixed with the keyword ``accel:`` in the extra specs. In the granular request syntax, it would be suffixed with the request group number, like ``accelN:``. The Cyborg properties will initially be used for specifying device-type-specific constructs like bitstreams. However, in the future, Cyborg may provide filters and weighers that use these properties to influence scheduling. The following list of Cyborg properties is not comprehensive. Their usage is illustrated in the section `Usage in device profiles`_. * ``bitstream_id:<id>``: Specifies the Glance image id of a bitstream. * ``bitstream_at_runtime``: Specifies the need to initiate FPGA programming at runtime (see `Use cases`_). * ``function_id:<id>``: Specifies the function id in situations where preferred traits are called for, unti Nova provides preferred traits. (See AFaaS orchestration-programmed example in next section.) * ``function_name:<name>``: Specifies the function by name. Issues of who defines the name and how they are ensured to be unique are outside the scope of this spec. Usage in device profiles ------------------------ This section shows how an operator can realize the 'Use cases'_ in device profiles using the RCs and traits from previous section, along with Cyborg-specific properties. To recap from [#devprof]_, the request to create an instance with accelerators may use a flavor with an embedded device profile, or a flavor and a device profile separately. In either case, the accelerator specification is entirely in the device profile. Further, the request for multiple accelerators will be similar to granular request groups, individual fields in each group will use the extra specs syntax (except for request numbering), and the device extra specs returned by Cyborg for a device profile will be identical to the extra specs in granular requests form. As stated in `Cyborg properties`_, Cyborg-specific fields in the device profile will be prefixed with the keyword ``accel:`` and the device extra specs returned by Cyborg will have the request group number like ``accelN:``. We now show how to define device profiles for various use cases. * Some example device profiles for DaaS for a generic device:: | resources:CUSTOM_ACCELERATOR_GPU=1 | trait:CUSTOM_GPU_AMD_RADEON_R9=required | resources:CUSTOM_ACCELERATOR_HPTS=1 | trait:CUSTOM_HPTS_ZTE=required * Example device profile for DaaS with request-time programming for FPGAs:: | resources:CUSTOM_ACCELERATOR_FPGA=1 | trait:CUSTOM_FPGA_REGION_XILINX_<name>=required | accel:bitstream_id:3AFB=required * Example device profile for DaaS with run-time programming for FPGAs:: | resources:CUSTOM_ACCELERATOR_FPGA=1 | trait:CUSTOM_FPGA_REGION_INTEL_<name>=required | accel:bitstream_at_runtime=required * Example device profile for AFaaS pre-programmed FPGAs:: | resources:CUSTOM_ACCELERATOR_FPGA=1 | trait:CUSTOM_FPGA_INTEL_ARRIA10=required | trait:CUSTOM_FPGA_FUNCTION_INTEL_<gzip-id-string>=required Since the function trait is required, if no free accelerator with that trait is available, the request would fail. There would be no attempt to reprogram another FPGA to get that function. * Example device profile for AFaaS Orchestration-Programmed:: | resources:CUSTOM_ACCELERATOR_FPGA=1 | trait:CUSTOM_FPGA_INTEL_ARRIA10=required | accel:function:CUSTOM_FPGA_FUNCTION_INTEL_<gzip-id-string>=required The function is not specified as a trait and so Nova ignores it. Placement returns the list of all allocation candidates which contain the only stated trait, i.e., the list of all nodes with that FPGA device model. During binding, Cyborg will notice whether the selected device RP actually has the requested function and, if not, will initiate reprogramming. NOTE: When Nova supports preferred traits, we can use that instead of 'function' keyword in extra specs. NOTE: For Cyborg to fetch the bitstream for this function, it is assumed that the operator has configured the function ID as a property of the bitstream image in Glance. * Another example device profile for AFaaS Orchestration-Programmed which refers to a function by name instead of ID for ease of use:: | resources:CUSTOM_ACCELERATOR_FPGA=1 | trait:CUSTOM_FPGA_INTEL_ARRIA10=required | accel:function_name:<string>=required NOTE: This assumes the operator has configured the function name as a property of the bitstream image in Glance. The FPGA hardware is not expected to expose function names, and so Cyborg will not represent function names as traits. Alternatives ------------ N/A Data model impact ----------------- Following changes are needed in Cyborg. * Do not publish PCI functions as resources in Nova. Instead, publish RC/RP info to Nova, and keep RP-PCI mapping internally. * Cyborg should associate RPs/RCs and PFs/VFs with Deployables in its internal DB. * Driver/agent interface needs to report device/region types so that RCs can be created. * Deployables table should track which RP corresponds to each Deployable. REST API impact --------------- No change is needed in Placement API. Cyborg API to create and use device profiles is covered in the Device Profiles specification [#devprof]_. Cyborg API for use by Nova during the instance spawn/update workflow is covered elsewhere. Security impact --------------- The use cases for DaaS run-time programming and direct programming will not be taken up till the security issues are addressed. Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- Operators must define device profiles based on the RCs, traits and Cyborg properties. Developer impact ---------------- When a custom trait in one release becomes a standard trait in another release, there needs to be an upgrade script to translate device profiles. Implementation ============== Assignee(s) ----------- None Work Items ---------- The code changes needed to realize this device representation are described in other specs. Work items are stated in those specs. Dependencies ============ * `Enable use of Nested Resource Providers in Nova Scheduler <https://review.openstack.org/#/q/topic:use-nested-allocation-candidates>`_ Testing ======= The code changes needed to realize this device representation are described in other specs. Testing requirements are stated in those specs. Documentation Impact ==================== Usage of RCs, traits and Cyborg properties must be documented for operators. References ========== .. [#devprof] `Device Profiles <https://review.openstack.org/#/c/602978/>`_ .. [#nRP] `Enable use of Nested Resource Providers in Nova Scheduler <https://review.openstack.org/#/q/topic:use-nested-allocation-candidates>`_ History ======= Optional section intended to be used each time the spec is updated to describe new design, API or any database schema updated. Useful to let reader know what happened over time. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Rocky - Introduced as cyborg-nova-sched.rst * - Stein - Updated ",,418,0
openstack%2Fkarbor~master~I39e14354aa5e3c48becc4ba04054d9010345ceaf,openstack/karbor,master,I39e14354aa5e3c48becc4ba04054d9010345ceaf,Add support for image boot server backup with data,MERGED,2019-07-23 13:58:01.000000000,2019-07-24 07:52:41.000000000,2019-07-24 07:52:41.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-07-23 13:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/ebba082cfab1735dc9c9727d3989fbc54ab837cc', 'message': 'Add support for image boot server backup with data\n\nChange-Id: I39e14354aa5e3c48becc4ba04054d9010345ceaf\nStory: 1712059\nTask: 33997\n'}, {'number': 2, 'created': '2019-07-24 01:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/82a9e8996428d8bb02359ceb522cedec305b43b5', 'message': 'Add support for image boot server backup with data\n\nChange-Id: I39e14354aa5e3c48becc4ba04054d9010345ceaf\nStory: 1712059\nTask: 33997\n'}, {'number': 3, 'created': '2019-07-24 02:39:59.000000000', 'files': ['doc/source/specs/index.rst', 'doc/source/specs/image-boot-server-backup-with-data.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/0c969f766d6a4adb924d74e7632cc707ed23d031', 'message': 'Add support for image boot server backup with data\n\nChange-Id: I39e14354aa5e3c48becc4ba04054d9010345ceaf\nStory: 1712059\nTask: 33997\n'}]",0,672292,0c969f766d6a4adb924d74e7632cc707ed23d031,11,3,3,21224,,,0,"Add support for image boot server backup with data

Change-Id: I39e14354aa5e3c48becc4ba04054d9010345ceaf
Story: 1712059
Task: 33997
",git fetch https://review.opendev.org/openstack/karbor refs/changes/92/672292/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/image-boot-server-backup-with-data.rst'],1,ebba082cfab1735dc9c9727d3989fbc54ab837cc,master-image-boot-server,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================== Image boot server backup with data ================================== https://storyboard.openstack.org/#!/story/1712059 Problem description =================== Currently, we only protect the original images when protecting image boot servers. Original images means that the data that generated by the users after the servers has been created is not included. So when restore it from the backup, a new server with same original image will be created, but users' data was not included. In some of our product environment, we use image boot instance, fox example using distributed file system or DRBD as the backend. So IMO, this is not suitable and we should protect the users' data as well. I suggest adding 'image-create' step before doing image backup and using the new created image id as the backup image id when the image backup is the child resource in doing server backup. Use Cases ========= As explained, users may use distributed file system or DRBD as their backend for booting servers. Proposed change =============== Image Protectable Plugin: When return a protectable instance, a new field would be added to extra-info. This field must be in the format of:: { ""server_id"": ""value1"", } This can tell the image protection plugin the id of the parent server and do special treatment. Image Protection Plugin: Add a new configuration named 'enable_server_snapshot' to enable create a snapshot of the server if the resource contains extra_info and the server_id in extra_info is valid. Then using the new created image id replace with the resource id and do the final backup. Alternatives ------------ Do nothing, this is not a mission critical feature. Data model impact ----------------- None. REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ The image protection plugin may become slower because new step added. Other deployer impact --------------------- The default configuration value of 'enable_server_snapshot' is True, users can set it to False to disable this feature. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Pengju Jiao (jiaopengju@cmss.chinamobile.com) Work Items ---------- * Add extra_info in getting instances. * Update the image protection plugin to support doing snapshot in protection. Dependencies ============ None Testing ======= Unit tests in Karbor. Documentation Impact ==================== New docs to explain how to use and configure the new added options. References ========== None ",,134,0
openstack%2Fwatcher~master~Ie1d1ad56808270d936ec25186061f7f12cc49fdc,openstack/watcher,master,Ie1d1ad56808270d936ec25186061f7f12cc49fdc,remove id field from CDM,MERGED,2019-07-04 07:49:23.000000000,2019-07-24 07:30:00.000000000,2019-07-24 07:30:00.000000000,"[{'_account_id': 6873}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-07-04 07:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/3f62ad6c1a993d79f545d8276790d78846ed7e22', 'message': 'remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\n'}, {'number': 2, 'created': '2019-07-05 07:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/e3882f679de3283c226d8ce160d65e1c96895f26', 'message': '[WiP]remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\n'}, {'number': 3, 'created': '2019-07-05 09:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/454d50e0f28e73817ada9b84d49af7da2f6b751a', 'message': '[WiP]remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\nDepends-on: I752fbfa560313e28e87d83e46431c283b4db4f23\n'}, {'number': 4, 'created': '2019-07-08 06:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/3cb4672d2a1ddede70ac1300b3221e1f2b896f3a', 'message': '[WiP]remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\nDepends-on: I752fbfa560313e28e87d83e46431c283b4db4f23\nDepends-on: I0975500f359de92b6d6fdea2e01614cf0ba73f05\n'}, {'number': 5, 'created': '2019-07-08 07:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/3770a829c896694487a9eb361f66bd6726a314cc', 'message': '[WiP]remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\nDepends-on: I752fbfa560313e28e87d83e46431c283b4db4f23\nDepends-on: I0975500f359de92b6d6fdea2e01614cf0ba73f05\n'}, {'number': 6, 'created': '2019-07-09 03:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/043fa58f1e78f92db49fb9a8ac915292bd380337', 'message': '[WiP]remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\nDepends-on: I752fbfa560313e28e87d83e46431c283b4db4f23\nDepends-on: I0975500f359de92b6d6fdea2e01614cf0ba73f05\n'}, {'number': 7, 'created': '2019-07-09 06:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/74f78f60fd718cd01c35060a11a22f82da0737e8', 'message': '[WiP]remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\nDepends-on: I752fbfa560313e28e87d83e46431c283b4db4f23\nDepends-on: I0975500f359de92b6d6fdea2e01614cf0ba73f05\nDepends-on: I708cf63ff1d9a989604e1d5b834c8b7e5b087892\n'}, {'number': 8, 'created': '2019-07-09 07:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/1e47df7a75bf79664818a4ff82024a8d77baec89', 'message': '[WiP]remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\nDepends-on: I752fbfa560313e28e87d83e46431c283b4db4f23\nDepends-on: I0975500f359de92b6d6fdea2e01614cf0ba73f05\n'}, {'number': 9, 'created': '2019-07-09 07:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/770692be519add92e450b0d18556c0ce71fae5e9', 'message': '[WiP]remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\nDepends-on: I752fbfa560313e28e87d83e46431c283b4db4f23\nDepends-on: I0975500f359de92b6d6fdea2e01614cf0ba73f05\nDepends-on: I708cf63ff1d9a989604e1d5b834c8b7e5b087892\n'}, {'number': 10, 'created': '2019-07-09 07:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/fd56b8db9a2481399fdd54cf0e5e9b50732aa595', 'message': '[WiP]remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\nDepends-on: I752fbfa560313e28e87d83e46431c283b4db4f23\nDepends-on: I0975500f359de92b6d6fdea2e01614cf0ba73f05\nDepends-on: I708cf63ff1d9a989604e1d5b834c8b7e5b087892\n'}, {'number': 11, 'created': '2019-07-11 01:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/f5f064909521a09a29ca397794fa82f1274ac6a9', 'message': '[WiP]remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\nDepends-on: I752fbfa560313e28e87d83e46431c283b4db4f23\nDepends-on: I0975500f359de92b6d6fdea2e01614cf0ba73f05\n'}, {'number': 12, 'created': '2019-07-11 02:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/17f1b90bdee189e533ea50091950905348396446', 'message': '[WiP]remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\nDepends-on: I752fbfa560313e28e87d83e46431c283b4db4f23\nDepends-on: I0975500f359de92b6d6fdea2e01614cf0ba73f05\n'}, {'number': 13, 'created': '2019-07-11 05:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/cecca6c59216a29e1282b19f66a791b1c766aecd', 'message': '[WiP]remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\nDepends-on: I752fbfa560313e28e87d83e46431c283b4db4f23\nDepends-on: I0975500f359de92b6d6fdea2e01614cf0ba73f05\n'}, {'number': 14, 'created': '2019-07-11 06:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/642ecfa34799101b979a7d9f484ea69b790d7ca2', 'message': '[WiP]remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\nDepends-on: I752fbfa560313e28e87d83e46431c283b4db4f23\nDepends-on: I0975500f359de92b6d6fdea2e01614cf0ba73f05\n'}, {'number': 15, 'created': '2019-07-11 06:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/15ba4581f913e3041d068bf9c02259319a4c8b0a', 'message': '[WiP]remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\nDepends-on: I752fbfa560313e28e87d83e46431c283b4db4f23\nDepends-on: I0975500f359de92b6d6fdea2e01614cf0ba73f05\n'}, {'number': 16, 'created': '2019-07-11 06:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/3c84820cd5f0bba6c045be2c7dc30885c11f9c23', 'message': '[WiP]remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\nDepends-on: I752fbfa560313e28e87d83e46431c283b4db4f23\nDepends-on: I0975500f359de92b6d6fdea2e01614cf0ba73f05\n'}, {'number': 17, 'created': '2019-07-11 08:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/fbbe19802b07e2aaf018cfcc7d826bada14a51e3', 'message': '[WiP]remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\nDepends-on: I752fbfa560313e28e87d83e46431c283b4db4f23\nDepends-on: I0975500f359de92b6d6fdea2e01614cf0ba73f05\n'}, {'number': 18, 'created': '2019-07-12 02:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/edc59a0fe4861be25cf2f51677776489964d68a5', 'message': 'remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\nDepends-on: I752fbfa560313e28e87d83e46431c283b4db4f23\nDepends-on: I0975500f359de92b6d6fdea2e01614cf0ba73f05\n'}, {'number': 19, 'created': '2019-07-15 06:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/814b3cf55a2349b832d2404156e6ef7ecb6f43fe', 'message': 'remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\nDepends-on: I752fbfa560313e28e87d83e46431c283b4db4f23\nDepends-on: I0975500f359de92b6d6fdea2e01614cf0ba73f05\n'}, {'number': 20, 'created': '2019-07-18 05:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/5193469a89d0be516cdcb808320bf5d1f65a516e', 'message': 'remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\nDepends-on: I752fbfa560313e28e87d83e46431c283b4db4f23\nDepends-on: I0975500f359de92b6d6fdea2e01614cf0ba73f05\n'}, {'number': 21, 'created': '2019-07-22 02:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/975cff8f00499ad76e905a2046ae07b7dc23f8e8', 'message': 'remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\nDepends-on: I752fbfa560313e28e87d83e46431c283b4db4f23\nDepends-on: I0975500f359de92b6d6fdea2e01614cf0ba73f05\n'}, {'number': 22, 'created': '2019-07-23 03:07:55.000000000', 'files': ['watcher/tests/decision_engine/scope/test_compute.py', 'watcher/decision_engine/datasources/ceilometer.py', 'watcher/tests/decision_engine/strategy/strategies/test_host_maintenance.py', 'watcher/tests/applier/actions/test_change_nova_service_state.py', 'watcher/tests/decision_engine/strategy/strategies/test_outlet_temp_control.py', 'watcher/tests/decision_engine/strategy/strategies/test_noisy_neighbor.py', 'watcher/tests/decision_engine/model/data/scenario_3_with_2_nodes.xml', 'watcher/tests/decision_engine/model/notification/data/service-create.json', 'watcher/decision_engine/model/notification/nova.py', 'watcher/tests/decision_engine/model/notification/data/scenario3_service-update-enabled.json', 'watcher/tests/decision_engine/strategy/strategies/test_saving_energy.py', 'watcher/tests/decision_engine/cluster/test_nova_cdmc.py', 'watcher/tests/decision_engine/model/ceilometer_metrics.py', 'watcher/tests/decision_engine/model/gnocchi_metrics.py', 'watcher/decision_engine/strategy/strategies/base.py', 'watcher/decision_engine/strategy/strategies/vm_workload_consolidation.py', 'watcher/decision_engine/model/element/node.py', 'watcher/tests/decision_engine/strategy/strategies/test_vm_workload_consolidation.py', 'watcher/decision_engine/datasources/gnocchi.py', 'watcher/tests/decision_engine/model/notification/test_nova_notifications.py', 'watcher/tests/decision_engine/model/notification/data/scenario3_service-update-disabled.json', 'watcher/tests/decision_engine/model/notification/data/service-delete.json', 'watcher/applier/actions/change_nova_service_state.py', 'watcher/decision_engine/strategy/strategies/host_maintenance.py', 'watcher/decision_engine/model/collector/nova.py', 'watcher/decision_engine/strategy/strategies/saving_energy.py', 'watcher/decision_engine/scope/compute.py', 'watcher/tests/decision_engine/model/notification/data/service-update.json'], 'web_link': 'https://opendev.org/openstack/watcher/commit/4b83bf33e2221db8846bef8a08afadf0822aca29', 'message': 'remove id field from CDM\n\nThere are 3 related fields(id, uuid and hostname) in ComputeNode[1].\naccording to [2], after nova api 2.53, the id of the hypervisor as a UUID.\nand service.host is equal to hypervisor name for compute node.\nso we can remove id and only keep uuid then set uuid to node.id\n\n[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306\n[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details\n\nChange-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc\nCloses-Bug: #1835192\nDepends-on: I752fbfa560313e28e87d83e46431c283b4db4f23\nDepends-on: I0975500f359de92b6d6fdea2e01614cf0ba73f05\n'}]",0,669087,4b83bf33e2221db8846bef8a08afadf0822aca29,66,5,22,21692,,,0,"remove id field from CDM

There are 3 related fields(id, uuid and hostname) in ComputeNode[1].
according to [2], after nova api 2.53, the id of the hypervisor as a UUID.
and service.host is equal to hypervisor name for compute node.
so we can remove id and only keep uuid then set uuid to node.id

[1]:https://github.com/openstack/watcher/blob/master/watcher/decision_engine/model/collector/nova.py#L306
[2]:https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details

Change-Id: Ie1d1ad56808270d936ec25186061f7f12cc49fdc
Closes-Bug: #1835192
Depends-on: I752fbfa560313e28e87d83e46431c283b4db4f23
Depends-on: I0975500f359de92b6d6fdea2e01614cf0ba73f05
",git fetch https://review.opendev.org/openstack/watcher refs/changes/87/669087/13 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/tests/decision_engine/cluster/test_nova_cdmc.py', 'watcher/decision_engine/model/collector/nova.py', 'watcher/decision_engine/model/element/node.py']",3,3f62ad6c1a993d79f545d8276790d78846ed7e22,bug/1835192,," ""id"": wfields.StringField(),",6,7
openstack%2Fwatcher~master~I4101eced9c4bd26741f760e5651204f5d2dfea0f,openstack/watcher,master,I4101eced9c4bd26741f760e5651204f5d2dfea0f,Update api-ref location,MERGED,2019-07-22 17:00:20.000000000,2019-07-24 07:29:58.000000000,2019-07-24 07:29:58.000000000,"[{'_account_id': 6547}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-07-22 17:00:20.000000000', 'files': ['doc/source/index.rst', 'watcher/decision_engine/model/element/volume.py', 'doc/source/architecture.rst', 'watcher/common/placement_helper.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/54344208fcd2acbe6edadf7be7eaea8307a78bca', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I4101eced9c4bd26741f760e5651204f5d2dfea0f\n""}]",0,672112,54344208fcd2acbe6edadf7be7eaea8307a78bca,9,4,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I4101eced9c4bd26741f760e5651204f5d2dfea0f
",git fetch https://review.opendev.org/openstack/watcher refs/changes/12/672112/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'watcher/decision_engine/model/element/volume.py', 'doc/source/architecture.rst', 'watcher/common/placement_helper.py']",4,54344208fcd2acbe6edadf7be7eaea8307a78bca,retire-api-site, # https://docs.openstack.org/api-ref/placement/#errors, # https://developer.openstack.org/api-ref/placement/#errors,4,4
openstack%2Ftempest~master~Id607dec012ce48af6d4c7ee263a90c3ea2e1799c,openstack/tempest,master,Id607dec012ce48af6d4c7ee263a90c3ea2e1799c,tempest cleanup should use keystone v3 client,MERGED,2019-07-13 22:49:25.000000000,2019-07-24 07:05:11.000000000,2019-07-24 07:05:11.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-07-13 22:49:25.000000000', 'files': ['tempest/cmd/cleanup_service.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/bd5be763cac31fee87a1b47e83a23d7674666595', 'message': ""tempest cleanup should use keystone v3 client\n\ntempest cleanup returns an error when it's initializing a saved\nstate, because it uses already deprecated v2 client.\nThe patch makes tempest cleanup use keystone role v3 client.\n\nCloses-Bug: #1788561\n\nChange-Id: Id607dec012ce48af6d4c7ee263a90c3ea2e1799c\n""}]",2,670707,bd5be763cac31fee87a1b47e83a23d7674666595,27,8,1,22873,,,0,"tempest cleanup should use keystone v3 client

tempest cleanup returns an error when it's initializing a saved
state, because it uses already deprecated v2 client.
The patch makes tempest cleanup use keystone role v3 client.

Closes-Bug: #1788561

Change-Id: Id607dec012ce48af6d4c7ee263a90c3ea2e1799c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/07/670707/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/cmd/cleanup_service.py'],1,bd5be763cac31fee87a1b47e83a23d7674666595,cleanup, self.client = manager.roles_v3_client, self.client = manager.roles_client,1,1
openstack%2Fironic~master~Ifd0c3d6be14c9e1369624bb4a02043e7345f4a03,openstack/ironic,master,Ifd0c3d6be14c9e1369624bb4a02043e7345f4a03,Fix serial/wwn gathering for ansible+python3,MERGED,2019-07-23 15:00:12.000000000,2019-07-24 07:04:07.000000000,2019-07-24 07:01:23.000000000,"[{'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 15:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/75ffc173cd9b3480ec92c52537b788e3671a9d90', 'message': 'Fix serial/wwn gathering for ansible+python3\n\nChange-Id: Ifd0c3d6be14c9e1369624bb4a02043e7345f4a03\n'}, {'number': 2, 'created': '2019-07-23 15:01:35.000000000', 'files': ['releasenotes/notes/bug-2006266-85da234583ca0c32.yaml', 'ironic/drivers/modules/ansible/playbooks/roles/discover/tasks/roothints.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/54054c0e5ab5ad250b51d3521e980ca5f4931a75', 'message': 'Fix serial/wwn gathering for ansible+python3\n\nChange-Id: Ifd0c3d6be14c9e1369624bb4a02043e7345f4a03\nStory: #2006266\nTask: #35957\n'}]",0,672310,54054c0e5ab5ad250b51d3521e980ca5f4931a75,12,6,2,15064,,,0,"Fix serial/wwn gathering for ansible+python3

Change-Id: Ifd0c3d6be14c9e1369624bb4a02043e7345f4a03
Story: #2006266
Task: #35957
",git fetch https://review.opendev.org/openstack/ironic refs/changes/10/672310/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-2006266-85da234583ca0c32.yaml', 'ironic/drivers/modules/ansible/playbooks/roles/discover/tasks/roothints.yaml']",2,75ffc173cd9b3480ec92c52537b788e3671a9d90,ansible_fix_wwn_fact_python3," devices: ""{{ ansible_devices.keys() | list }}"""," devices: ""{{ ansible_devices.keys() }}""",7,1
openstack%2Fstorlets~master~If7fa4203f1c81db1b3a49d791ac7c6b1905e4cc9,openstack/storlets,master,If7fa4203f1c81db1b3a49d791ac7c6b1905e4cc9,Drop oslosphinx package,MERGED,2019-07-23 07:41:41.000000000,2019-07-24 05:16:09.000000000,2019-07-24 05:16:09.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 07:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/a30a015953d5469dca2f7b4dca423302c7f16956', 'message': 'Drop oslosphinx package\n\nit is not maintained already.\n\nChange-Id: If7fa4203f1c81db1b3a49d791ac7c6b1905e4cc9\n'}, {'number': 2, 'created': '2019-07-23 08:57:01.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'playbooks/storlets-functional/post-py3.yaml'], 'web_link': 'https://opendev.org/openstack/storlets/commit/f1c8455cce7fbcac97bda9c3f1a9c8e16e8f72b6', 'message': 'Drop oslosphinx package\n\nit is no longer maintained.\n\nAnd also fix a zuul setup bug in pulling the exectuion log.\n\nChange-Id: If7fa4203f1c81db1b3a49d791ac7c6b1905e4cc9\n'}]",0,672213,f1c8455cce7fbcac97bda9c3f1a9c8e16e8f72b6,8,2,2,4608,,,0,"Drop oslosphinx package

it is no longer maintained.

And also fix a zuul setup bug in pulling the exectuion log.

Change-Id: If7fa4203f1c81db1b3a49d791ac7c6b1905e4cc9
",git fetch https://review.opendev.org/openstack/storlets refs/changes/13/672213/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,a30a015953d5469dca2f7b4dca423302c7f16956,sphinx,,oslosphinx>=2.2.0 # Apache-2.0,0,1
openstack%2Fopenstack-manuals~master~Ia07a2e1d42c27bce35e110fdc114300c2c4197d5,openstack/openstack-manuals,master,Ia07a2e1d42c27bce35e110fdc114300c2c4197d5,Remove openstack-manuals-developer-build-translation,MERGED,2019-07-16 17:27:34.000000000,2019-07-24 04:34:51.000000000,2019-07-24 04:34:51.000000000,"[{'_account_id': 6547}, {'_account_id': 10607}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-16 17:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/36b2371a9a001c3f8f1dfaaf22caebba957f8c60', 'message': 'Remove openstack-manuals-developer-build-translation\n\nThis template is now unused, remove it.\n\nDepends-On: https://review.opendev.org/671119\nChange-Id: Ia07a2e1d42c27bce35e110fdc114300c2c4197d5\n'}, {'number': 2, 'created': '2019-07-16 17:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b750363b2782aa9dd37f5b64c3bf233f557a7091', 'message': 'Remove openstack-manuals-developer-build-translation\n\nThis template is now unused, remove it.\n\nDepends-On: https://review.opendev.org/671119\nChange-Id: Ia07a2e1d42c27bce35e110fdc114300c2c4197d5\n'}, {'number': 3, 'created': '2019-07-16 18:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1b2bdae7443a43048f1945bf5fde9421e2dca5cf', 'message': 'Remove openstack-manuals-developer-build-translation\n\nThis template is now unused, remove it.\n\nDepends-On: https://review.opendev.org/671119\nChange-Id: Ia07a2e1d42c27bce35e110fdc114300c2c4197d5\n'}, {'number': 4, 'created': '2019-07-17 09:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/15c6ecd5529598979a9358b95d5c58741b56da59', 'message': 'Remove openstack-manuals-developer-build-translation\n\nThis template is now unused, remove it.\n\nDepends-On: https://review.opendev.org/671119\nChange-Id: Ia07a2e1d42c27bce35e110fdc114300c2c4197d5\n'}, {'number': 5, 'created': '2019-07-22 07:33:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/711d1b8a0b20ac4cf8c7e268f9bb9e7f5500b3d7', 'message': 'Remove openstack-manuals-developer-build-translation\n\nThis template is now unused, remove it.\n\nDepends-On: https://review.opendev.org/671119\nChange-Id: Ia07a2e1d42c27bce35e110fdc114300c2c4197d5\n'}]",0,671121,711d1b8a0b20ac4cf8c7e268f9bb9e7f5500b3d7,20,4,5,6547,,,0,"Remove openstack-manuals-developer-build-translation

This template is now unused, remove it.

Depends-On: https://review.opendev.org/671119
Change-Id: Ia07a2e1d42c27bce35e110fdc114300c2c4197d5
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/21/671121/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,36b2371a9a001c3f8f1dfaaf22caebba957f8c60,retire-api-site,,- project-template: name: openstack-manuals-developer-build-translation description: | Runs jobs to build translated documents. This will publish content to developer.openstack.org. check: jobs: - build-tox-manuals-checklang gate: jobs: - build-tox-manuals-checklang ,0,13
openstack%2Fkolla-cli~master~I408f15f338bb4165a6310c9e06050791914bb711,openstack/kolla-cli,master,I408f15f338bb4165a6310c9e06050791914bb711,Add smoke test check action,MERGED,2019-07-16 07:28:06.000000000,2019-07-24 04:31:39.000000000,2019-07-24 04:31:38.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-16 07:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/7fbe97f9aff53b0170943e7116f2d5f79e0c02a4', 'message': 'Add prechecks action\n\nChange-Id: I408f15f338bb4165a6310c9e06050791914bb711\n'}, {'number': 2, 'created': '2019-07-16 07:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/a8fa0ef089951bdd782dd74159bfb84748cd4593', 'message': 'Add prechecks action\n\nChange-Id: I408f15f338bb4165a6310c9e06050791914bb711\n'}, {'number': 3, 'created': '2019-07-16 07:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/34ee64ce6a10c435ea943c36adbbbea2948cf815', 'message': '[WIP]Add prechecks action\n\nChange-Id: I408f15f338bb4165a6310c9e06050791914bb711\n'}, {'number': 4, 'created': '2019-07-18 10:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/b092b0846b0acc43707915b6af312557a69399cc', 'message': '[WIP]Add prechecks action\n\nChange-Id: I408f15f338bb4165a6310c9e06050791914bb711\n'}, {'number': 5, 'created': '2019-07-18 10:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/17d1d6027b0de683e2dfb71ae3eed610d1509345', 'message': '[WIP]Add prechecks action\n\nChange-Id: I408f15f338bb4165a6310c9e06050791914bb711\n'}, {'number': 6, 'created': '2019-07-19 16:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/ba2b0da826e7a3a5762f4e605ed295737974d771', 'message': '[WIP]Add prechecks action\n\nChange-Id: I408f15f338bb4165a6310c9e06050791914bb711\n'}, {'number': 7, 'created': '2019-07-23 08:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/d82b6c036ab13f9ffa181db62469e6960e7fced2', 'message': '[WIP]Add smoke test action\n\nChange-Id: I408f15f338bb4165a6310c9e06050791914bb711\n'}, {'number': 8, 'created': '2019-07-23 08:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/c2f1c02b19a7ee00b591239aed7638feb1ed7230', 'message': 'Add smoke test check action\n\nChange-Id: I408f15f338bb4165a6310c9e06050791914bb711\n'}, {'number': 9, 'created': '2019-07-23 09:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/6109c1904279362513eaaae800323e5fe9865c56', 'message': 'Add smoke test check action\n\nChange-Id: I408f15f338bb4165a6310c9e06050791914bb711\n'}, {'number': 10, 'created': '2019-07-23 09:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/2caa5b804eafaddf40e97c5aecb4c2779d327e79', 'message': 'Add smoke test check action\n\nChange-Id: I408f15f338bb4165a6310c9e06050791914bb711\n'}, {'number': 11, 'created': '2019-07-23 09:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/c89ff228055a9395836bacf6c05bc4f2a24096cb', 'message': 'Add smoke test check action\n\nChange-Id: I408f15f338bb4165a6310c9e06050791914bb711\n'}, {'number': 12, 'created': '2019-07-23 09:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/f2e7a436e9cd9b08b408e061f3b0807bc3674cce', 'message': 'Add smoke test check action\n\nChange-Id: I408f15f338bb4165a6310c9e06050791914bb711\n'}, {'number': 13, 'created': '2019-07-23 09:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/d9eec47bbc294de9048cfb722d0298f08bf25fff', 'message': 'Add smoke test check action\n\nChange-Id: I408f15f338bb4165a6310c9e06050791914bb711\n'}, {'number': 14, 'created': '2019-07-23 09:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/29a9564785d5e8fcb7d7a803d965b960aa34a920', 'message': 'Add smoke test check action\n\nChange-Id: I408f15f338bb4165a6310c9e06050791914bb711\n'}, {'number': 15, 'created': '2019-07-23 11:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/df091293c3ccde34d87c90cb99ce30c8f1cccdf1', 'message': 'Add smoke test check action\n\nChange-Id: I408f15f338bb4165a6310c9e06050791914bb711\n'}, {'number': 16, 'created': '2019-07-23 12:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/e0f16c657730fb9f4b935e2cee454281b1db4a43', 'message': 'Add smoke test check action\n\nChange-Id: I408f15f338bb4165a6310c9e06050791914bb711\n'}, {'number': 17, 'created': '2019-07-23 15:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/aeb020ca7106aed9b5998e580b58f4f2ab655161', 'message': 'Add smoke test check action\n\nChange-Id: I408f15f338bb4165a6310c9e06050791914bb711\n'}, {'number': 18, 'created': '2019-07-24 03:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/156615e5738b22a5af516c3039268b94438fef57', 'message': 'Add smoke test check action\n\nChange-Id: I408f15f338bb4165a6310c9e06050791914bb711\n'}, {'number': 19, 'created': '2019-07-24 03:36:36.000000000', 'files': ['kolla_cli/common/ansible/actions.py', 'kolla_cli/api/control_plane.py', 'setup.cfg', 'kolla_cli/commands/kolla_action.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/269255cd761bca597e23c186135a3cb925a06ad0', 'message': 'Add smoke test check action\n\nChange-Id: I408f15f338bb4165a6310c9e06050791914bb711\n'}]",2,670967,269255cd761bca597e23c186135a3cb925a06ad0,42,4,19,22165,,,0,"Add smoke test check action

Change-Id: I408f15f338bb4165a6310c9e06050791914bb711
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/67/670967/19 && git format-patch -1 --stdout FETCH_HEAD,"['kolla_cli/commands/prechecks.py', 'kolla_cli/api/control_plane.py']",2,7fbe97f9aff53b0170943e7116f2d5f79e0c02a4,," def prechecks(verbose_level=1): # type: (int) -> Job """"""Do pre-deployment checks for hosts. :param verbose_level: the higher the number, the more verbose :type verbose_level: integer :return: Job object :rtype: Job """""" check_arg(verbose_level, u._('Verbose level'), int) ansible_job = actions.precheck(verbose_level) return Job(ansible_job) @staticmethod",,61,0
openstack%2Fopenstack-helm-infra~master~I1ecebf49084f048e260489579853f5a0430ec3d3,openstack/openstack-helm-infra,master,I1ecebf49084f048e260489579853f5a0430ec3d3,DO NOT REVIEW/MERGE,ABANDONED,2019-07-10 19:14:29.000000000,2019-07-24 04:24:32.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20106}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-07-10 19:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/65c24b4c0118d35edcca4ff87b60c41a9bfe0490', 'message': 'Add missing dnsPolicy for ceph-provisioners chart\n\nChange-Id: I1ecebf49084f048e260489579853f5a0430ec3d3\n'}, {'number': 2, 'created': '2019-07-10 19:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9aad1bae4d0591067fe9c79b720f3ec4f403f8c8', 'message': 'Add missing dnsPolicy for ceph-provisioners chart\n\nChange-Id: I1ecebf49084f048e260489579853f5a0430ec3d3\n'}, {'number': 3, 'created': '2019-07-10 20:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dee632006b2e5980bc0666225cbe47ac44c6a2a5', 'message': 'Add missing dnsPolicy for ceph-provisioners and ceph-rgw charts\n\nChange-Id: I1ecebf49084f048e260489579853f5a0430ec3d3\n'}, {'number': 4, 'created': '2019-07-17 22:16:49.000000000', 'files': ['ceph-provisioners/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8cb9d297b681a611af37e45d0a5f5c68d2c863d7', 'message': 'DO NOT REVIEW/MERGE\n\nChange-Id: I1ecebf49084f048e260489579853f5a0430ec3d3\n'}]",0,670164,8cb9d297b681a611af37e45d0a5f5c68d2c863d7,13,9,4,20106,,,0,"DO NOT REVIEW/MERGE

Change-Id: I1ecebf49084f048e260489579853f5a0430ec3d3
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/64/670164/4 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-provisioners/templates/deployment-cephfs-provisioner.yaml', 'ceph-provisioners/templates/deployment-rbd-provisioner.yaml']",2,65c24b4c0118d35edcca4ff87b60c41a9bfe0490,, dnsPolicy: {{ .Values.pod.dns_policy }},,2,0
openstack%2Fsecurity-doc~master~Ic55f88bc2f76cd00eecfbe007b27bca808b8bb09,openstack/security-doc,master,Ic55f88bc2f76cd00eecfbe007b27bca808b8bb09,Updated from openstack-manuals,MERGED,2019-07-24 02:57:54.000000000,2019-07-24 04:23:11.000000000,2019-07-24 04:23:11.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 02:57:54.000000000', 'files': ['common/app-support.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/06cbcf292ff464e7db3cb2f134a12e76110f3704', 'message': 'Updated from openstack-manuals\n\nChange-Id: Ic55f88bc2f76cd00eecfbe007b27bca808b8bb09\n'}]",0,672396,06cbcf292ff464e7db3cb2f134a12e76110f3704,6,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: Ic55f88bc2f76cd00eecfbe007b27bca808b8bb09
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/96/672396/1 && git format-patch -1 --stdout FETCH_HEAD,['common/app-support.rst'],1,06cbcf292ff464e7db3cb2f134a12e76110f3704,openstack/openstack-manuals,* `API Documentation <https://docs.openstack.org/api-quick-start/>`_,* `API Documentation <https://developer.openstack.org/api-guide/quick-start/>`_,1,1
openstack%2Fapi-site~master~Ife74ae2b83bdae1e206b0705faf6f623428a3f1f,openstack/api-site,master,Ife74ae2b83bdae1e206b0705faf6f623428a3f1f,Remove api-quick-start,MERGED,2019-07-16 17:25:13.000000000,2019-07-24 04:17:14.000000000,2019-07-24 04:17:14.000000000,"[{'_account_id': 6547}, {'_account_id': 10607}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-16 17:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/0208125a7f332dc9882f6e3213d03ca2e4aeddb5', 'message': 'Remove api-quick-start\n\nThe document is now in openstack-manuals, we can remove it here\ncompletely together with the jobs for building it.\n\nDepends-On: https://review.opendev.org/671115\nChange-Id: Ife74ae2b83bdae1e206b0705faf6f623428a3f1f\n'}, {'number': 2, 'created': '2019-07-16 18:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/275373b07a3637b4a29bd7315dc3ecc6a2e323cd', 'message': 'Remove api-quick-start\n\nThe document is now in openstack-manuals, we can remove it here\ncompletely together with the jobs for building it.\n\nAdd a redirect to new location.\n\nDepends-On: https://review.opendev.org/671115\nChange-Id: Ife74ae2b83bdae1e206b0705faf6f623428a3f1f\n'}, {'number': 3, 'created': '2019-07-16 18:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/0b6ae1107daa702c967bcbe0cf054eabd4df166d', 'message': 'Remove api-quick-start\n\nThe document is now in openstack-manuals, we can remove it here\ncompletely together with the jobs for building it.\n\nAdd a redirect to new location.\n\nDepends-On: https://review.opendev.org/671115\nChange-Id: Ife74ae2b83bdae1e206b0705faf6f623428a3f1f\n'}, {'number': 4, 'created': '2019-07-17 08:44:25.000000000', 'files': ['api-quick-start/source/api-quick-start.rst', 'api-quick-start/source/locale/de/LC_MESSAGES/api-quick-start.po', 'tools/build-rst.sh', 'api-quick-start/source/locale/ja/LC_MESSAGES/api-quick-start.po', 'tools/build-api-quick-start.sh', 'api-quick-start/source/conf.py', 'api-quick-start/setup.cfg', 'doc-tools-check-languages.conf', 'tools/build-all-rst.sh', 'api-quick-start/source/locale/tr_TR/LC_MESSAGES/api-quick-start.po', 'common/README.txt', 'tools/generatepot-rst.sh', 'www/.htaccess', 'api-quick-start/source/locale/id/LC_MESSAGES/api-quick-start.po', 'api-quick-start/source/locale/zh_CN/LC_MESSAGES/api-quick-start.po', 'api-quick-start/source/locale/ko_KR/LC_MESSAGES/api-quick-start.po', '.zuul.yaml', 'api-quick-start/setup.py', 'api-quick-start/source/locale/fi_FI/LC_MESSAGES/api-quick-start.po', 'common/glossary.rst', 'common/conventions.rst', 'api-quick-start/source/index.rst', 'api-quick-start/source/locale/en_GB/LC_MESSAGES/api-quick-start.po', 'common/app-support.rst', 'api-quick-start/source/locale/eo/LC_MESSAGES/api-quick-start.po', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/api-site/commit/57ca6e13175c4e123069daed68d8431fe23a2cf8', 'message': 'Remove api-quick-start\n\nThe document is now in openstack-manuals, we can remove it here\ncompletely together with the jobs for building it.\n\nAdd a redirect to new location.\n\nDepends-On: https://review.opendev.org/671115\nChange-Id: Ife74ae2b83bdae1e206b0705faf6f623428a3f1f\n'}]",0,671119,57ca6e13175c4e123069daed68d8431fe23a2cf8,19,4,4,6547,,,0,"Remove api-quick-start

The document is now in openstack-manuals, we can remove it here
completely together with the jobs for building it.

Add a redirect to new location.

Depends-On: https://review.opendev.org/671115
Change-Id: Ife74ae2b83bdae1e206b0705faf6f623428a3f1f
",git fetch https://review.opendev.org/openstack/api-site refs/changes/19/671119/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-quick-start/source/api-quick-start.rst', 'api-quick-start/source/locale/de/LC_MESSAGES/api-quick-start.po', 'test-requirements.txt', 'tools/build-rst.sh', 'api-quick-start/source/locale/ja/LC_MESSAGES/api-quick-start.po', 'tools/build-api-quick-start.sh', 'api-quick-start/source/conf.py', 'api-quick-start/setup.cfg', 'doc-tools-check-languages.conf', 'tools/build-all-rst.sh', 'api-quick-start/source/locale/tr_TR/LC_MESSAGES/api-quick-start.po', 'common/README.txt', 'tools/generatepot-rst.sh', 'api-quick-start/source/locale/id/LC_MESSAGES/api-quick-start.po', 'api-quick-start/source/locale/zh_CN/LC_MESSAGES/api-quick-start.po', 'api-quick-start/source/locale/ko_KR/LC_MESSAGES/api-quick-start.po', '.zuul.yaml', 'api-quick-start/setup.py', 'api-quick-start/source/locale/fi_FI/LC_MESSAGES/api-quick-start.po', 'common/glossary.rst', 'common/conventions.rst', 'api-quick-start/source/index.rst', 'api-quick-start/source/locale/en_GB/LC_MESSAGES/api-quick-start.po', 'common/app-support.rst', 'api-quick-start/source/locale/eo/LC_MESSAGES/api-quick-start.po', 'tox.ini']",26,0208125a7f332dc9882f6e3213d03ca2e4aeddb5,retire-api-site, {toxinidir}/tools/build-index.sh publish," # Build and copy RST Guides {toxinidir}/tools/build-all-rst.sh # Build and copy API Quick Start {toxinidir}/tools/build-api-quick-start.sh[testenv:checklang] whitelist_externals = doc-tools-check-languages commands = doc-tools-check-languages doc-tools-check-languages.conf test all [testenv:buildlang] # Run as ""tox -e buildlang -- $LANG"" whitelist_externals = doc-tools-check-languages commands = doc-tools-check-languages doc-tools-check-languages.conf test {posargs} [testenv:publishlang] # Publish translated documents to developer.openstack.org with just # copying publish-docs over. whitelist_externals = doc-tools-check-languages mkdir mv rm ls commands = # Cleanup first - important when this environment runs locally # multiple times. rm -rf publish-docs doc-tools-check-languages doc-tools-check-languages.conf publish all [testenv:generatepot-rst] # Generate POT files for translation, needs {posargs} like: # tox -e generatepot-rst -- firstapp commands = {toxinidir}/tools/generatepot-rst.sh api-site 0 {posargs} {toxinidir}/tools/build-all-rst.sh [testenv:api-quick-start] commands = {toxinidir}/tools/build-api-quick-start.sh",1,11379
openstack%2Foperations-guide~master~Ia6e8224eaf9ee59099968b9fb9bb2dfd7249c513,openstack/operations-guide,master,Ia6e8224eaf9ee59099968b9fb9bb2dfd7249c513,Updated from openstack-manuals,MERGED,2019-07-24 02:58:05.000000000,2019-07-24 04:15:39.000000000,2019-07-24 04:15:38.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 02:58:05.000000000', 'files': ['doc/source/common/app-support.rst'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/df46046d164e1f6a661bd01a62378577ede50777', 'message': 'Updated from openstack-manuals\n\nChange-Id: Ia6e8224eaf9ee59099968b9fb9bb2dfd7249c513\n'}]",0,672398,df46046d164e1f6a661bd01a62378577ede50777,6,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: Ia6e8224eaf9ee59099968b9fb9bb2dfd7249c513
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/98/672398/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/app-support.rst'],1,df46046d164e1f6a661bd01a62378577ede50777,openstack/openstack-manuals,* `API Documentation <https://docs.openstack.org/api-quick-start/>`_,* `API Documentation <https://developer.openstack.org/api-guide/quick-start/>`_,1,1
openstack%2Fha-guide~master~I06420e8a147a2becb8ffa252fab17f3eab127f07,openstack/ha-guide,master,I06420e8a147a2becb8ffa252fab17f3eab127f07,Updated from openstack-manuals,MERGED,2019-07-24 02:57:58.000000000,2019-07-24 04:12:34.000000000,2019-07-24 04:12:34.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 02:57:58.000000000', 'files': ['doc/source/common/app-support.rst'], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/7d6cb3f9be8334d9938be1b193d368445ec650d1', 'message': 'Updated from openstack-manuals\n\nChange-Id: I06420e8a147a2becb8ffa252fab17f3eab127f07\n'}]",0,672397,7d6cb3f9be8334d9938be1b193d368445ec650d1,6,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: I06420e8a147a2becb8ffa252fab17f3eab127f07
",git fetch https://review.opendev.org/openstack/ha-guide refs/changes/97/672397/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/app-support.rst'],1,7d6cb3f9be8334d9938be1b193d368445ec650d1,openstack/openstack-manuals,* `API Documentation <https://docs.openstack.org/api-quick-start/>`_,* `API Documentation <https://developer.openstack.org/api-guide/quick-start/>`_,1,1
openstack%2Ftripleo-quickstart-extras~master~I1b6cb128e849cc1f6ac49edb5b2dbf4852c02843,openstack/tripleo-quickstart-extras,master,I1b6cb128e849cc1f6ac49edb5b2dbf4852c02843,[RHEL-8] source /etc/bashrc to avoid umask issue,ABANDONED,2019-07-22 08:34:48.000000000,2019-07-24 04:08:39.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-22 08:34:48.000000000', 'files': ['roles/standalone/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1585d8f04da83975078f827522e5689bd862e7d1', 'message': ""[RHEL-8] source /etc/bashrc to avoid umask issue\n\nCurrently in standalone deployment, tripleo container image\nprepare step is failing by giving Server unable to read htaccess\nfile while pulling container from local registry due to umask\nissue and in user home dir there is no bashrc file that's why\nproper umask value is not applied leading to permission issue\nwhile accessing container directory on apache server.\n\nBy sourcing /etc/bashrc before standalone deployment fixes the issue.\n\nChange-Id: I1b6cb128e849cc1f6ac49edb5b2dbf4852c02843\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n""}]",0,671984,1585d8f04da83975078f827522e5689bd862e7d1,6,9,1,12393,,,0,"[RHEL-8] source /etc/bashrc to avoid umask issue

Currently in standalone deployment, tripleo container image
prepare step is failing by giving Server unable to read htaccess
file while pulling container from local registry due to umask
issue and in user home dir there is no bashrc file that's why
proper umask value is not applied leading to permission issue
while accessing container directory on apache server.

By sourcing /etc/bashrc before standalone deployment fixes the issue.

Change-Id: I1b6cb128e849cc1f6ac49edb5b2dbf4852c02843
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/84/671984/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/tasks/main.yml'],1,1585d8f04da83975078f827522e5689bd862e7d1,standalone_stackrc, {% if ansible_distribution|lower in ['redhat'] %} source /etc/bashrc {% endif %},,3,0
openstack%2Ftripleo-quickstart-extras~master~Iafb5fd7b2b9013fdf91d97c03af5bef0d01be31d,openstack/tripleo-quickstart-extras,master,Iafb5fd7b2b9013fdf91d97c03af5bef0d01be31d,[DNM] source bashrc,ABANDONED,2019-07-21 15:33:27.000000000,2019-07-24 04:08:29.000000000,,"[{'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-21 15:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/901ed6fd0d1a71ce22a4d25c5ad159ae2f95abbb', 'message': '[Set] umask for rhel system\n\nChange-Id: Iafb5fd7b2b9013fdf91d97c03af5bef0d01be31d\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-07-21 16:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b66f91ca72cda25739e5fb80ab62c508f586af82', 'message': '[Set] umask for rhel system\n\nChange-Id: Iafb5fd7b2b9013fdf91d97c03af5bef0d01be31d\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2019-07-22 02:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ae84129443f6ed3b7269ddb5b3cbb1742c04a604', 'message': '[Set] umask for rhel system\n\nChange-Id: Iafb5fd7b2b9013fdf91d97c03af5bef0d01be31d\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2019-07-22 03:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c983c54ebdb9e29d0af28fa56d15db22eacb85e3', 'message': '[Set] umask for rhel system\n\nChange-Id: Iafb5fd7b2b9013fdf91d97c03af5bef0d01be31d\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2019-07-22 04:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b888d26c6409bfb0b0ef321289d85bf6c71d39d2', 'message': '[Set] umask for rhel system\n\nChange-Id: Iafb5fd7b2b9013fdf91d97c03af5bef0d01be31d\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2019-07-22 05:41:00.000000000', 'files': ['roles/standalone/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9fa5fd782a436b5de9d683fd9b1b636c5777f6fe', 'message': '[DNM] source bashrc\n\nChange-Id: Iafb5fd7b2b9013fdf91d97c03af5bef0d01be31d\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,671940,9fa5fd782a436b5de9d683fd9b1b636c5777f6fe,17,3,6,12393,,,0,"[DNM] source bashrc

Change-Id: Iafb5fd7b2b9013fdf91d97c03af5bef0d01be31d
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/40/671940/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/tasks/main.yml'],1,901ed6fd0d1a71ce22a4d25c5ad159ae2f95abbb,set_umask,"- name: set umask in /etc/profile shell: > echo ""umask 022"" | tee -a /etc/profile become: true when: ansible_distribution == 'RedHat' ",,6,0
openstack%2Fnova~master~Ic1f2b3787315504fd072a34273c42dd803a3899d,openstack/nova,master,Ic1f2b3787315504fd072a34273c42dd803a3899d,xvp: Remove use of '_LI' marker,MERGED,2019-06-14 16:17:57.000000000,2019-07-24 03:57:05.000000000,2019-07-24 03:57:05.000000000,"[{'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-14 16:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b4f54a993ff7f1840f67264494dd9d8e72a87d5', 'message': ""xvp: Remove use of '_LI' marker\n\nWe don't translate logs anymore.\n\nChange-Id: Ic1f2b3787315504fd072a34273c42dd803a3899d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-06-17 14:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b62efad1f6a5daf2d541d4054ab36bc3a22096b', 'message': ""xvp: Remove use of '_LI' marker\n\nWe don't translate logs anymore.\n\nChange-Id: Ic1f2b3787315504fd072a34273c42dd803a3899d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-06-19 09:57:52.000000000', 'files': ['nova/vnc/xvp_proxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/97aa7bb85aa2447ac0e8304585994bea8d4c7ca6', 'message': ""xvp: Remove use of '_LI' marker\n\nWe don't translate logs anymore.\n\nChange-Id: Ic1f2b3787315504fd072a34273c42dd803a3899d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,665425,97aa7bb85aa2447ac0e8304585994bea8d4c7ca6,53,16,3,15334,,,0,"xvp: Remove use of '_LI' marker

We don't translate logs anymore.

Change-Id: Ic1f2b3787315504fd072a34273c42dd803a3899d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/665425/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/vnc/xvp_proxy.py'],1,6b4f54a993ff7f1840f67264494dd9d8e72a87d5,bp/remove-consoleauth," LOG.info(""Error in handshake format: %s"", data) LOG.info(""Error in handshake: %s"", data) LOG.info(""Invalid request: %s"", req) LOG.info(""Request: %s"", req) LOG.info(""Request made with missing token: %s"", req) LOG.info(""Request made with invalid token: %s"", req) LOG.info(""Unexpected error: %s"", e) LOG.info(""Starting nova-xvpvncproxy node (version %s)"", version.version_string_with_package())","from nova.i18n import _LI LOG.info(_LI(""Error in handshake format: %s""), data) LOG.info(_LI(""Error in handshake: %s""), data) LOG.info(_LI(""Invalid request: %s""), req) LOG.info(_LI(""Request: %s""), req) LOG.info(_LI(""Request made with missing token: %s""), req) LOG.info(_LI(""Request made with invalid token: %s""), req) LOG.info(_LI(""Unexpected error: %s""), e) LOG.info(_LI(""Starting nova-xvpvncproxy node (version %s)""), version.version_string_with_package())",9,11
openstack%2Fnova~master~If14244559b68276eb1e43c59c821978ec591ae14,openstack/nova,master,If14244559b68276eb1e43c59c821978ec591ae14,xvp: Start using consoleauth tokens,MERGED,2019-04-16 10:32:23.000000000,2019-07-24 03:56:59.000000000,2019-07-24 03:56:59.000000000,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-16 10:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/283654cada6d03945a614cd9e944691ddad899a7', 'message': 'xvp: Start using consoleauth tokens\n\nThis service is EOL and likely unused in the wild. However, it was still\nusing the nova-consoleauth service for authentication. Correct this,\nallowing us to remove nova-consoleauth.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: If14244559b68276eb1e43c59c821978ec591ae14\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-05-20 15:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b806f9b4b1285b9ada8159200b09dbcb6f5b77e7', 'message': 'xvp: Start using consoleauth tokens\n\nThis service is EOL and likely unused in the wild. However, it was still\nusing the nova-consoleauth service for authentication. Correct this,\nallowing us to remove nova-consoleauth.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: If14244559b68276eb1e43c59c821978ec591ae14\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2019-06-13 15:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bbed9110b023eb788fee0f55f5e0c00b9c6ab508', 'message': 'xvp: Start using consoleauth tokens\n\nThis service is EOL and likely unused in the wild. However, it was still\nusing the nova-consoleauth service for authentication. Correct this,\nallowing us to remove nova-consoleauth.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: If14244559b68276eb1e43c59c821978ec591ae14\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2019-06-14 15:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3687a3d1e33cd8df6130c9a22bbf5387158c1458', 'message': 'xvp: Start using consoleauth tokens\n\nThis service is EOL and likely unused in the wild. However, it was still\nusing the nova-consoleauth service for authentication. Correct this,\nallowing us to remove nova-consoleauth.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: If14244559b68276eb1e43c59c821978ec591ae14\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 5, 'created': '2019-06-14 16:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e6b827148f7f55694f27abc1c2b837b9dd328f6', 'message': 'xvp: Start using consoleauth tokens\n\nThis service is EOL and likely unused in the wild. However, it was still\nusing the nova-consoleauth service for authentication. Correct this,\nallowing us to remove nova-consoleauth.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: If14244559b68276eb1e43c59c821978ec591ae14\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 6, 'created': '2019-06-17 14:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/493fb2fb8c6dfce3e7eab10203277735c9062dee', 'message': 'xvp: Start using consoleauth tokens\n\nThis service is EOL and likely unused in the wild. However, it was still\nusing the nova-consoleauth service for authentication. Correct this,\nallowing us to remove nova-consoleauth.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: If14244559b68276eb1e43c59c821978ec591ae14\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 7, 'created': '2019-06-19 09:57:52.000000000', 'files': ['nova/vnc/xvp_proxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e9a27f7c734006396d38eac07f34af76265af567', 'message': 'xvp: Start using consoleauth tokens\n\nThis service is EOL and likely unused in the wild. However, it was still\nusing the nova-consoleauth service for authentication. Correct this,\nallowing us to remove nova-consoleauth.\n\nPart of blueprint remove-consoleauth\n\nChange-Id: If14244559b68276eb1e43c59c821978ec591ae14\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",1,652967,e9a27f7c734006396d38eac07f34af76265af567,87,15,7,15334,,,0,"xvp: Start using consoleauth tokens

This service is EOL and likely unused in the wild. However, it was still
using the nova-consoleauth service for authentication. Correct this,
allowing us to remove nova-consoleauth.

Part of blueprint remove-consoleauth

Change-Id: If14244559b68276eb1e43c59c821978ec591ae14
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/652967/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/vnc/xvp_proxy.py'],1,283654cada6d03945a614cd9e944691ddad899a7,bp/remove-consoleauth,"from nova import objects connect_info = objects.ConsoleAuthToken.validate( ctxt, token).to_dict()","from nova.consoleauth import rpcapi as consoleauth_rpcapi api = consoleauth_rpcapi.ConsoleAuthAPI() connect_info = api.check_token(ctxt, token)",3,3
openstack%2Fnova~master~Ic2e3ac788e74e3777e2aa4d7c36968c5e8c04a9a,openstack/nova,master,Ic2e3ac788e74e3777e2aa4d7c36968c5e8c04a9a,Use the safe get_binding_profile,MERGED,2019-07-09 08:42:45.000000000,2019-07-24 03:27:35.000000000,2019-07-24 03:27:35.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-07-09 08:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e23ef92fa0a1fbc492f844dd44ced3caff98dc28', 'message': 'Use the safe get_binding_profile\n\nThe binding:profile key might be missing from the port body but it also\ncan be present with a value None. So accessing the value of the\nbinding:profile needs special care. There is already a\n_get_binding_profile() helper in neutronv2/api but still code inside\nthat module uses manual access in some placese. Also the heal port\nallocation codepath used manual access.\n\nSo this patch makes _get_binding_profile public and replace manual\nbinding:profile access with the call to this helper.\n\nChange-Id: Ic2e3ac788e74e3777e2aa4d7c36968c5e8c04a9a\n'}, {'number': 2, 'created': '2019-07-09 11:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5f56e10cd03fbb2c25f392e433d4a563ca7d211', 'message': 'Use the safe get_binding_profile\n\nThe binding:profile key might be missing from the port body but it also\ncan be present with a value None. So accessing the value of the\nbinding:profile needs special care. There is already a\n_get_binding_profile() helper in neutronv2/api but still code inside\nthat module uses manual access in some placese. Also the heal port\nallocation codepath used manual access.\n\nSo this patch makes _get_binding_profile public and replace manual\nbinding:profile access with the call to this helper.\n\nChange-Id: Ic2e3ac788e74e3777e2aa4d7c36968c5e8c04a9a\n'}, {'number': 3, 'created': '2019-07-11 11:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af7018e773b8422b210a8411d9835535a8cc54e3', 'message': 'Use the safe get_binding_profile\n\nThe binding:profile key might be missing from the port body but it also\ncan be present with a value None. So accessing the value of the\nbinding:profile needs special care. There is already a\n_get_binding_profile() helper in neutronv2/api but still code inside\nthat module uses manual access in some placese. Also the heal port\nallocation codepath used manual access.\n\nSo this patch makes _get_binding_profile public and replace manual\nbinding:profile access with the call to this helper.\n\nChange-Id: Ic2e3ac788e74e3777e2aa4d7c36968c5e8c04a9a\n'}, {'number': 4, 'created': '2019-07-16 11:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ceeafc0a25de9f554bcb7b37aa6a6849a0a8d4ff', 'message': 'Use the safe get_binding_profile\n\nThe binding:profile key might be missing from the port body but it also\ncan be present with a value None. So accessing the value of the\nbinding:profile needs special care. There is already a\n_get_binding_profile() helper in neutronv2/api but still code inside\nthat module uses manual access in some placese. Also the heal port\nallocation codepath used manual access.\n\nSo this patch makes _get_binding_profile public and replace manual\nbinding:profile access with the call to this helper.\n\nChange-Id: Ic2e3ac788e74e3777e2aa4d7c36968c5e8c04a9a\n'}, {'number': 5, 'created': '2019-07-22 22:38:01.000000000', 'files': ['nova/network/neutronv2/api.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8ec918a0518388ecf4a7cc7b1f7fcca11c50cec2', 'message': 'Use the safe get_binding_profile\n\nThe binding:profile key might be missing from the port body but it also\ncan be present with a value None. So accessing the value of the\nbinding:profile needs special care. There is already a\n_get_binding_profile() helper in neutronv2/api but still code inside\nthat module uses manual access in some placese. Also the heal port\nallocation codepath used manual access.\n\nSo this patch makes _get_binding_profile public and replace manual\nbinding:profile access with the call to this helper.\n\nChange-Id: Ic2e3ac788e74e3777e2aa4d7c36968c5e8c04a9a\n'}]",4,669817,8ec918a0518388ecf4a7cc7b1f7fcca11c50cec2,71,14,5,9708,,,0,"Use the safe get_binding_profile

The binding:profile key might be missing from the port body but it also
can be present with a value None. So accessing the value of the
binding:profile needs special care. There is already a
_get_binding_profile() helper in neutronv2/api but still code inside
that module uses manual access in some placese. Also the heal port
allocation codepath used manual access.

So this patch makes _get_binding_profile public and replace manual
binding:profile access with the call to this helper.

Change-Id: Ic2e3ac788e74e3777e2aa4d7c36968c5e8c04a9a
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/669817/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/cmd/manage.py']",2,e23ef92fa0a1fbc492f844dd44ced3caff98dc28,bug/1819923, binding_profile = neutron_api.get_binding_profile(port) binding_profile = neutron_api.get_binding_profile(port) profile = neutron_api.get_binding_profile(port) rp_uuid = profile[constants.ALLOCATION] profile = neutron_api.get_binding_profile(port)," binding_profile = port.get(constants.BINDING_PROFILE, {}) or {} binding_profile = port.get(constants.BINDING_PROFILE, {}) or {} rp_uuid = port[constants.BINDING_PROFILE][constants.ALLOCATION] profile = port[constants.BINDING_PROFILE]",19,23
openstack%2Fironic~master~I33e434347f6ca3ed0e3f86c28c62b5bdd63d7afb,openstack/ironic,master,I33e434347f6ca3ed0e3f86c28c62b5bdd63d7afb,Clean lower-constraints.txt,MERGED,2019-07-19 14:08:26.000000000,2019-07-24 03:20:44.000000000,2019-07-24 03:20:44.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-07-19 14:08:26.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8d8402ee1215d52f5505c0d423902e5d1c4051f3', 'message': 'Clean lower-constraints.txt\n\nReduce the number of packages in lower-constraints.txt based on:\nrequirements\ntest-requirements\ndoc/requirements\n\nChange-Id: I33e434347f6ca3ed0e3f86c28c62b5bdd63d7afb\n'}]",0,671740,8d8402ee1215d52f5505c0d423902e5d1c4051f3,14,6,1,23851,,,0,"Clean lower-constraints.txt

Reduce the number of packages in lower-constraints.txt based on:
requirements
test-requirements
doc/requirements

Change-Id: I33e434347f6ca3ed0e3f86c28c62b5bdd63d7afb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/40/671740/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,8d8402ee1215d52f5505c0d423902e5d1c4051f3,clean-lower-constraints,sqlalchemy-migrate==0.11.0,alabaster==0.7.10amqp==2.2.2 appdirs==1.4.3 asn1crypto==0.24.0beautifulsoup4==4.6.0 blockdiag==1.5.3 cachetools==2.0.1 certifi==2018.1.18 cffi==1.11.5 chardet==3.0.4 cliff==2.11.0 cmd2==0.8.1 contextlib2==0.5.5cryptography==2.1.4 debtcollector==1.19.0 decorator==4.2.1 deprecation==2.0docutils==0.14 dogpile.cache==0.6.5 dulwich==0.19.0 enum-compat==0.0.2extras==1.0.0 fasteners==0.14.1flake8==2.5.5 funcparserlib==0.3.6 future==0.16.0greenlet==0.4.13idna==2.6 imagesize==1.0.0jmespath==0.9.3jsonpointer==2.0kombu==4.1.0 linecache2==1.0.0 logutils==0.3.5 Mako==1.0.7 MarkupSafe==1.0 mccabe==0.2.1monotonic==1.4 mox3==0.25.0 msgpack==0.5.6 munch==2.2.0 netaddr==0.7.19 netifaces==0.10.6os-client-config==1.29.0 os-service-types==1.2.0 os-testr==1.0.0osc-lib==1.10.0 oslo.cache==1.29.0packaging==17.1 Paste==2.0.3 PasteDeploy==1.5.2pep8==1.5.7 pika-pool==0.1.3 pika==0.10.0 Pillow==5.0.0 prettytable==0.7.2pycadf==2.7.0 pycodestyle==2.3.1 pycparser==2.18 pyflakes==0.8.1pyinotify==0.9.6pyOpenSSL==17.5.0 pyparsing==2.2.0 pyperclip==1.6.0python-dateutil==2.7.0 python-editor==1.0.3python-keystoneclient==3.15.0 python-mimeparse==1.6.0python-subunit==1.2.0PyYAML==3.12repoze.lru==0.7restructuredtext-lint==1.1.3Routes==2.4.1 seqdiag==0.9.5 simplegeneric==0.8.1 simplejson==3.13.2snowballstemmer==1.2.1sqlalchemy-migrate==0.11.0sqlparse==0.2.4 statsd==3.2.2Tempita==0.5.2 tenacity==4.9.0 testrepository==0.0.20traceback2==1.4.0 unittest2==1.1.0 urllib3==1.22 vine==1.1.4 voluptuous==0.11.1 waitress==1.1.0 warlock==1.3.1 webcolors==1.8.1wrapt==1.10.11,1,92
openstack%2Fcyborg-specs~master~I735b296aab1037efdd16eb99d5b5e5da56f95746,openstack/cyborg-specs,master,I735b296aab1037efdd16eb99d5b5e5da56f95746,Specification for Cyborg APIs Version 2.,MERGED,2019-05-10 04:50:51.000000000,2019-07-24 03:14:11.000000000,2019-07-24 03:14:11.000000000,"[{'_account_id': 11564}, {'_account_id': 17813}, {'_account_id': 20722}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 23168}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 27458}, {'_account_id': 29845}]","[{'number': 1, 'created': '2019-05-10 04:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/a417f0b56f930af77d96dccf77c85cae542addc0', 'message': 'Specification for Cyborg APIs Version 2.\n\nChange-Id: I735b296aab1037efdd16eb99d5b5e5da56f95746\n'}, {'number': 2, 'created': '2019-06-28 01:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/ff86513612c1e2db21ad79e6afeb4c543d18a708', 'message': 'Specification for Cyborg APIs Version 2.\n\nChange-Id: I735b296aab1037efdd16eb99d5b5e5da56f95746\n'}, {'number': 3, 'created': '2019-06-28 01:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/98e7bbbe29d8c3d226e1e353c538821aac66532b', 'message': 'Specification for Cyborg APIs Version 2.\n\nChange-Id: I735b296aab1037efdd16eb99d5b5e5da56f95746\n'}, {'number': 4, 'created': '2019-07-03 21:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/422b81c02d533d88d4638dcc5dd535a826ac0527', 'message': 'Specification for Cyborg APIs Version 2.\n\nChange-Id: I735b296aab1037efdd16eb99d5b5e5da56f95746\n'}, {'number': 5, 'created': '2019-07-12 08:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/53e75c038a1d28978158a36d4484f7db99e4c2ad', 'message': 'Specification for Cyborg APIs Version 2.\n\nChange-Id: I735b296aab1037efdd16eb99d5b5e5da56f95746\n'}, {'number': 6, 'created': '2019-07-12 08:44:02.000000000', 'files': ['specs/train/approved/cyborg-api.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/ce71078ea8af35c9955d84130b007906bf7858d5', 'message': 'Specification for Cyborg APIs Version 2.\n\nChange-Id: I735b296aab1037efdd16eb99d5b5e5da56f95746\n'}]",33,658263,ce71078ea8af35c9955d84130b007906bf7858d5,27,11,6,21672,,,0,"Specification for Cyborg APIs Version 2.

Change-Id: I735b296aab1037efdd16eb99d5b5e5da56f95746
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/63/658263/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/cyborg-api.rst'],1,a417f0b56f930af77d96dccf77c85cae542addc0,658263,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================== Cyborg API Version 2 ==================== Problem description =================== A new device model and database schema was introduced in Stein release. That has obsoleted the accelerator objects, changed the definition of deployable objects, and introduced the concepts of devices. That has made some old APIs obsolete and raised the need for new APIs. Secondly, the proposed scheme to integrate with Nova involves new objects like device profiles and accelerator requests (ARQs). They require new APIs as well. Of these, the device profiles API is covered in [1]. This spec will specify what v1 APIs will be dropped in v2, and what new APIs need to be introduced. Use Cases --------- * As a end user, I want to create VMs with attached accelerators, delete them and perform other instance operations. (Live migration is excluded.) * Cyborg should provide APIs for device profiles and ARQs, so as to support end-to-end workflows with Nova for VM creation, deletion and other operations. * As an operator, I want to query and manage the inventory of accelerators and devices. * Cyborg should provide an API to query the list of devices based on various attributes. Proposed changes ================ Microversions ------------- Cyborg should adopt microversions to enable incremental backwards-compatible changes to APIs. This is important because Cyborg is a rapidly evolving project which needs to support new devices and features over time. For Train release, only one microversion will be supported, i.e., 2.0. The changes should be compatible with Microversion Specification [#version-disc]_. This means that the output of the API:: GET /accelerator must change as specified in Section `Changed APIs`_. Also, a new API:: GET /accelerator/v2 is introduced conformant to that specification, as documented in Section `New APIs`_. The API clients can use the following header to indicate which microversion to use:: OpenStack-API-Version: accelerator <microversion> If they do not, the default microversion of 2.0 will be assumed in Train. API Changes ----------- The following v1 URLs will not be supported in v2, because the accelerator object does not exist anymore and the deployable object is exposed as part of the device object:: /v1/accelerators /v1/deployables A new set of APIs based on the URL:: /v2/device_profiles is introduced in the Specification for device profiles ([#devprof-spec]_). This specification introduces another set of APIs based on the URLs:: /v2/accelerator_requests /v2/devices See Section `New APIs`_ for details. Alternatives ------------ We could add another API to enable or disable specific devices, or specific deployables (resource providers). That is left for a future version. Data model impact ----------------- The database changes needed for these APIs have mostly been done in Train. So no further changes are needed. REST API impact --------------- Deleted APIs ^^^^^^^^^^^^ Cyborg should drop the APIs for accelerators and deployables in v2. The deployables, as per the new definition, will be included in the new devices API. Changed APIs ^^^^^^^^^^^^ URL: ``/accelerator`` METHOD: ``GET`` Current JSON response:: { ""description"": ""Cyborg (previously known as Nomad) is an OpenStack project that aims to provide a general purpose management framework for acceleration resources (i.e. various types of accelerators such as Crypto cards, GPU, FPGA, NVMe/NOF SSDs, ODP, DPDK/SPDK and so on)."", ""name"": ""OpenStack Cyborg API"" } Proposed JSON response:: { ""versions"": [ { ""id"": ""v1"", ""links"": [ { ""href"": ""http://<ip>/accelerator/v1"", ""rel"": ""self"" } ], ""version"": ""1.0"", ""status"": ""DEPRECATED"" }, { ""id"": ""v2.0"", ""links"": [ { ""href"": ""http://<ip>/accelerator/v2"", ""rel"": ""self"" } ], ""min_version"": ""2.0"", ""max_version"": ""2.0"", ""version"": ""2.0"", ""status"": ""CURRENT"" }, ] } New APIs ^^^^^^^^ URL: ``/accelerator/v2`` METHOD: ``GET`` Proposed JSON response:: { ""id"": ""v2.0"", ""links"": [ { ""href"": ""http://<ip>/accelerator/v2"", ""rel"": ""self"" } ], ""min_version"": ""2.0"", ""max_version"": ""2.0"", ""version"": ""2.0"", ""status"": ""CURRENT"" } Device profile APIs are covered in [#devprof-spec]_. A device profile may request one or more accelerator resources. The request for each accelerator resource is encapsulated in an Accelerator Request (ARQ) object. The following are the REST APIs for ARQs. URL: ``/accelerator/v2/accelerator_requests`` METHOD: ``GET`` Query Parameters: * instance: UUID of the instance whose ARQs are requested. * bind_state: Bind state of ARQs. Only supported value is 'resolved', which means the ARQ is either bound successfully or failed to bind. Other states like 'BOUND' may be supported in the future. Proposed JSON response:: { ""arqs"": [ <arq_obj>, ... ] } URL: ``/accelerator/v2/accelerator_requests`` METHOD: ``POST`` Proposed JSON request:: { ""device_profile_name"": <string> } Action: Create ARQs for the specified device profile. If the device profile specifies N accelerator resources across all its request groups, N ARQs will get created in unbound state. Proposed JSON response:: { ""arqs"": [ <arq_obj>, ... ] } URL: ``/accelerator/v2/accelerator_requests`` METHOD: ``PATCH`` Proposed JSON request (in RFC 6902 format):: For binding: { ""$arq_uuid"": [ { ""path"": ""/hostname"", ""op"": ""add"", ""value"": <string> }, { ""path"": ""/instance_uuid"", ""op"": ""add"", ""value"": <uuid> }, { ""path"": ""/device_rp_uuid"", ""op"": ""add"", ""value"": <uuid> } ], ""$arq_uuid"": [...], ... } For unbinding: { ""$arq_uuid"": [ { ""path"": ""/hostname"", ""op"": ""remove"" }, { ""path"": ""/instance_uuid"", ""op"": ""remove"" }, { ""path"": ""/device_rp_uuid"", ""op"": ""remove"" } ], ""$arq_uuid"": [...], ... } Action: Bind or unb Proposed JSON response: None URL: ``/accelerator/v2/accelerator_requests`` METHOD: ``DELETE`` Query Parameters (required): * arqs: List of one or more comma-separated ARQ UUIDs. Proposed JSON response: None URL: ``/accelerator/v2/devices`` METHOD: ``GET`` Query Parameters: Proposed JSON response:: { ""devices"": [ <device_obj>, ... ] } URL: ``/accelerator/v2/devices/{uuid}`` METHOD: ``PATCH`` Proposed JSON request (in RFC 6902 format):: { [ { ""path"": ""/firmware"", ""op"": ""add"", ""value"": <img_uuid> }, ] } Action: Update the firmware or shell image (FPGA bitstream) for the specified device. The request allows a lst of path specifiers for future extensibility. Proposed JSON response: None. Security impact --------------- Notifications impact -------------------- None Other end user impact --------------------- Performance Impact ------------------ None Other deployer impact --------------------- Developer impact ---------------- Implementation ============== Assignee(s) ----------- TBD Work Items ---------- Dependencies ============ None Testing ======= Unit tests and functional tests need to be written. Documentation Impact ==================== Cyborg API documentation needs to be updated. References ========== .. [#nova-cyborg] `Nova Cyborg interaction specification <https://review.openstack.org/#/c/603955/>`_ .. [#version-disc] `Microversions and Version Discovery <http://specs.openstack.org/openstack/api-wg/guidelines/microversion_specification.html/>`_ .. [#devprof-spec] `Specification for device profiles <https://review.opendev.org/602978/>`_ History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced ",,376,0
openstack%2Fopenstack-manuals~master~Ia320213aaf52c388d53b93753eb567720f761703,openstack/openstack-manuals,master,Ia320213aaf52c388d53b93753eb567720f761703,Add missing entries to index,MERGED,2019-07-22 19:53:01.000000000,2019-07-24 02:57:29.000000000,2019-07-24 02:57:29.000000000,"[{'_account_id': 15334}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 19:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/9fdf2bedc7a6c2dff19690a9ffdbb41c8f955d9a', 'message': 'Add missing entries to index\n\nA couple of project were not listed in our index pages, add those\nthat I could find for latest and stein.\n\nChange-Id: Ia320213aaf52c388d53b93753eb567720f761703\n'}, {'number': 2, 'created': '2019-07-22 20:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/cffb02ba047d899c876d01f970824e8171f0bea1', 'message': 'Add missing entries to index\n\nA couple of project were not listed in our index pages, add those\nthat I could find for latest and stein.\n\nChange-Id: Ia320213aaf52c388d53b93753eb567720f761703\n'}, {'number': 3, 'created': '2019-07-23 07:33:33.000000000', 'files': ['www/project-data/latest.yaml', 'www/project-data/stein.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1e478d81c72059127f86a91ef9a5671b91d4c8f6', 'message': 'Add missing entries to index\n\nA couple of project were not listed in our index pages, add those\nthat I could find for latest and stein.\n\nChange-Id: Ia320213aaf52c388d53b93753eb567720f761703\n'}]",0,672158,1e478d81c72059127f86a91ef9a5671b91d4c8f6,12,3,3,6547,,,0,"Add missing entries to index

A couple of project were not listed in our index pages, add those
that I could find for latest and stein.

Change-Id: Ia320213aaf52c388d53b93753eb567720f761703
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/58/672158/1 && git format-patch -1 --stdout FETCH_HEAD,"['www/project-data/latest.yaml', 'www/project-data/stein.yaml']",2,9fdf2bedc7a6c2dff19690a9ffdbb41c8f955d9a,retire-api-site,"- name: masakari service: Instances High Availability Service service_type: instance-ha type: service has_api_ref: true - name: freezer service: Backup, Restore, and Disaster Recovery service service_type: backup type: service has_admin_ref: true has_api_ref: true has_install_guide: true has_user_guide: true - name: cyborg service: Accelerator Life Cycle Management service_type: accelerator type: service has_api_ref: true has_config_ref: true has_install_guide: true has_user_guide: true - name: searchlight service: Search service service_type: serach type: service has_api_ref: true has_config_ref: true has_install_guide: true has_user_guide: true ",,66,0
openstack%2Fopenstack-manuals~master~I89e97373f0d6cf1cab2bd470aec7f936ab951e68,openstack/openstack-manuals,master,I89e97373f0d6cf1cab2bd470aec7f936ab951e68,Remove non-existing combined api-ref document,MERGED,2019-07-22 19:27:47.000000000,2019-07-24 02:57:27.000000000,2019-07-24 02:57:27.000000000,"[{'_account_id': 15334}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 19:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/0655fb5a5d394e89c8c81855eba6aebbe14e7b90', 'message': 'Remove non-existing combined api-ref document\n\nThe ""Combined API Reference"" does not exist anymore (since ages), remove\na link to it.\n\nChange-Id: I89e97373f0d6cf1cab2bd470aec7f936ab951e68\n'}, {'number': 2, 'created': '2019-07-23 07:33:18.000000000', 'files': ['www/ocata/api/index.html', 'www/train/api/index.html', 'www/pike/api/index.html', 'www/queens/api/index.html', 'www/rocky/api/index.html', 'www/mitaka/api/index.html', 'www/newton/api/index.html', 'www/stein/api/index.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6d37f1da94ad6847e03f574d10f72ff36f649ca1', 'message': 'Remove non-existing combined api-ref document\n\nThe ""Combined API Reference"" does not exist anymore (since ages), remove\na link to it.\n\nChange-Id: I89e97373f0d6cf1cab2bd470aec7f936ab951e68\n'}]",0,672150,6d37f1da94ad6847e03f574d10f72ff36f649ca1,9,3,2,6547,,,0,"Remove non-existing combined api-ref document

The ""Combined API Reference"" does not exist anymore (since ages), remove
a link to it.

Change-Id: I89e97373f0d6cf1cab2bd470aec7f936ab951e68
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/50/672150/2 && git format-patch -1 --stdout FETCH_HEAD,"['www/ocata/api/index.html', 'www/train/api/index.html', 'www/pike/api/index.html', 'www/queens/api/index.html', 'www/rocky/api/index.html', 'www/mitaka/api/index.html', 'www/newton/api/index.html', 'www/stein/api/index.html']",8,0655fb5a5d394e89c8c81855eba6aebbe14e7b90,retire-api-site,," Combined <a href=""https://docs.openstack.org/api-ref.html"">API Reference</a><br/>",0,8
openstack%2Fopenstack-manuals~master~Ic7ff7a78c8b1e1ac2b2fef2398e700a59f84d779,openstack/openstack-manuals,master,Ic7ff7a78c8b1e1ac2b2fef2398e700a59f84d779,Update docs for api move,MERGED,2019-07-22 18:37:16.000000000,2019-07-24 02:57:26.000000000,2019-07-24 02:57:26.000000000,"[{'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 18:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6027040f4e9bfb00e1fb60b6369a9f151bcc723c', 'message': 'Update docs for api move\n\nMost content from developer.openstack.org is now on docs.openstack.org,\nupdate documentation for this.\n\nA few links for the main index page and translated documents are not\nupdated yet, they will be updated once they are moved.\n\nChange-Id: Ic7ff7a78c8b1e1ac2b2fef2398e700a59f84d779\n'}, {'number': 2, 'created': '2019-07-23 07:33:05.000000000', 'files': ['releasenotes/source/newton.rst', 'doc/doc-contrib-guide/source/api-guides.rst', 'doc/doc-contrib-guide/source/doc-tools/scripts.rst', 'releasenotes/source/mitaka.rst', 'doc/api-quick-start/source/index.rst', 'doc/api-quick-start/source/api-quick-start.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/33a29b2ffbe60ff4ec1e7071508af898b53e203c', 'message': 'Update docs for api move\n\nMost content from developer.openstack.org is now on docs.openstack.org,\nupdate documentation for this.\n\nA few links for the main index page and translated documents are not\nupdated yet, they will be updated once they are moved.\n\nChange-Id: Ic7ff7a78c8b1e1ac2b2fef2398e700a59f84d779\n'}]",1,672128,33a29b2ffbe60ff4ec1e7071508af898b53e203c,13,4,2,6547,,,0,"Update docs for api move

Most content from developer.openstack.org is now on docs.openstack.org,
update documentation for this.

A few links for the main index page and translated documents are not
updated yet, they will be updated once they are moved.

Change-Id: Ic7ff7a78c8b1e1ac2b2fef2398e700a59f84d779
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/28/672128/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/newton.rst', 'doc/doc-contrib-guide/source/api-guides.rst', 'doc/doc-contrib-guide/source/doc-tools/scripts.rst', 'releasenotes/source/mitaka.rst', 'doc/api-quick-start/source/index.rst', 'doc/api-quick-start/source/api-quick-start.rst']",6,6027040f4e9bfb00e1fb60b6369a9f151bcc723c,retire-api-site,`Compute API <https://docs.openstack.org/api-ref/compute/>`__.,`Compute API <https://developer.openstack.org/api-ref/compute/>`__.,47,45
openstack%2Fopenstack-manuals~master~I4dae852f04b3437179f6769096d47efe8b839c23,openstack/openstack-manuals,master,I4dae852f04b3437179f6769096d47efe8b839c23,Update api-ref and api-guide location,MERGED,2019-07-22 17:11:50.000000000,2019-07-24 02:57:24.000000000,2019-07-24 02:57:24.000000000,"[{'_account_id': 15334}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 17:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/64a5d771ee2297b3026762f1375907ba5c51c3b3', 'message': ""Update api-ref and api-guide location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location in the www directory.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I4dae852f04b3437179f6769096d47efe8b839c23\n""}, {'number': 2, 'created': '2019-07-22 18:37:16.000000000', 'files': ['www/ocata/api/index.html', 'www/.htaccess', 'www/train/api/index.html', 'www/pike/api/index.html', 'www/queens/api/index.html', 'www/redirect-tests.txt', 'tools/www-generator.py', 'www/rocky/api/index.html', 'www/mitaka/api/index.html', 'www/newton/api/index.html', 'www/stein/api/index.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6f0bb482b4de130898bc781b42e6d8881bc6d633', 'message': ""Update api-ref and api-guide location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location in the www directory.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I4dae852f04b3437179f6769096d47efe8b839c23\n""}]",0,672116,6f0bb482b4de130898bc781b42e6d8881bc6d633,10,3,2,6547,,,0,"Update api-ref and api-guide location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location in the www directory.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I4dae852f04b3437179f6769096d47efe8b839c23
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/16/672116/2 && git format-patch -1 --stdout FETCH_HEAD,"['www/ocata/api/index.html', 'www/train/api/index.html', 'www/pike/api/index.html', 'www/queens/api/index.html', 'tools/www-generator.py', 'www/rocky/api/index.html', 'www/mitaka/api/index.html', 'www/newton/api/index.html', 'www/stein/api/index.html']",9,64a5d771ee2297b3026762f1375907ba5c51c3b3,retire-api-site," Combined <a href=""https://docs.openstack.org/api-ref.html"">API Reference</a><br/> <a href=""https://docs.openstack.org/api-ref/{{project.service_type}}/""> API Reference</a> <a href=""https://docs.openstack.org/api-guide/{{project.service_type}}/""> API Guide</a>"," Combined <a href=""https://developer.openstack.org/api-ref.html"">API Reference</a><br/> <a href=""https://developer.openstack.org/api-ref/{{project.service_type}}/""> API Reference</a> <a href=""https://developer.openstack.org/api-guide/{{project.service_type}}/""> API Guide</a>",26,26
openstack%2Fopenstack-manuals~master~Iaa7a75091170436d1b953583f602514e43f41b0e,openstack/openstack-manuals,master,Iaa7a75091170436d1b953583f602514e43f41b0e,Further api-quick-start edits,MERGED,2019-07-22 11:00:13.000000000,2019-07-24 02:49:50.000000000,2019-07-24 02:49:50.000000000,"[{'_account_id': 10607}, {'_account_id': 15334}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 11:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/567ffa63aaa90b86779e018770abb9282e8bb0d5', 'message': 'Further api-quick-start edits\n\nUpdate app-support file with move of api-quick-start,\nadd releasenote for the move.\n\nChange-Id: Iaa7a75091170436d1b953583f602514e43f41b0e\n'}, {'number': 2, 'created': '2019-07-22 18:37:16.000000000', 'files': ['releasenotes/source/train.rst', 'doc/common/app-support.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/df35d11b4c19b7ff39fbe2049b0c590747d4bf07', 'message': 'Further api-quick-start edits\n\nUpdate app-support file with move of api-quick-start,\nadd releasenote for the move.\n\nChange-Id: Iaa7a75091170436d1b953583f602514e43f41b0e\n'}]",0,672009,df35d11b4c19b7ff39fbe2049b0c590747d4bf07,9,4,2,6547,,,0,"Further api-quick-start edits

Update app-support file with move of api-quick-start,
add releasenote for the move.

Change-Id: Iaa7a75091170436d1b953583f602514e43f41b0e
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/09/672009/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'doc/common/app-support.rst', 'releasenotes/source/index.rst']",3,567ffa63aaa90b86779e018770abb9282e8bb0d5,retire-api-site, train.rst,,9,1
openstack%2Fwatcher~master~Id33496f368fb23cb8e744c7e8451e1cd1397866b,openstack/watcher,master,Id33496f368fb23cb8e744c7e8451e1cd1397866b,Improve Compute Data Model,MERGED,2019-07-02 05:56:07.000000000,2019-07-24 02:15:16.000000000,2019-07-23 02:01:53.000000000,"[{'_account_id': 6873}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-07-02 05:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/65cb4d7af991558fd34d8c709d5240db49154f68', 'message': '[WiP] Add allocation ratio\n\nChange-Id: Id33496f368fb23cb8e744c7e8451e1cd1397866b\n'}, {'number': 2, 'created': '2019-07-02 08:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/7d4125ec52478ccb54e77138c43eeea3bf3f2545', 'message': '[WiP] Add allocation ratio\n\nChange-Id: Id33496f368fb23cb8e744c7e8451e1cd1397866b\n'}, {'number': 3, 'created': '2019-07-03 09:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/ff0b9496e926beb2c6fb0d5f5ab5e5a1eca9d47b', 'message': '[WiP] Add allocation ratio\n\nChange-Id: Id33496f368fb23cb8e744c7e8451e1cd1397866b\n'}, {'number': 4, 'created': '2019-07-04 06:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/d9eacf8b666a53ff2c7346d6fa431f6ecb33b63d', 'message': '[WiP] Improve Compute Data Model\n\nThe fields(vcpus, memory and disk_capacity) in the Watcher ComputeNode\ndo not take allocation ratios used for overcommit into account so there\nmay be disparity between this and the used count.\nThis patch added some new fields to solve this problem.\n\nPartially Implements: blueprint improve-compute-data-model\n\nChange-Id: Id33496f368fb23cb8e744c7e8451e1cd1397866b\n'}, {'number': 5, 'created': '2019-07-10 08:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/8217021f19ce69e2a0656094f76f1763b92ca87a', 'message': '[WiP] Improve Compute Data Model\n\nThe fields(vcpus, memory and disk_capacity) in the Watcher ComputeNode\ndo not take allocation ratios used for overcommit into account so there\nmay be disparity between this and the used count.\nThis patch added some new fields to solve this problem.\n\nPartially Implements: blueprint improve-compute-data-model\n\nChange-Id: Id33496f368fb23cb8e744c7e8451e1cd1397866b\n'}, {'number': 6, 'created': '2019-07-10 10:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/d32dcb449b2c66dd62439ac8abd4da5c6df70385', 'message': '[WiP] Improve Compute Data Model\n\nThe fields(vcpus, memory and disk_capacity) in the Watcher ComputeNode\ndo not take allocation ratios used for overcommit into account so there\nmay be disparity between this and the used count.\nThis patch added some new fields to solve this problem.\n\nPartially Implements: blueprint improve-compute-data-model\n\nChange-Id: Id33496f368fb23cb8e744c7e8451e1cd1397866b\n'}, {'number': 7, 'created': '2019-07-12 02:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/a00825055b449ba7555c49faa4f38c1100a0cd2d', 'message': 'Improve Compute Data Model\n\nThe fields(vcpus, memory and disk_capacity) in the Watcher ComputeNode\ndo not take allocation ratios used for overcommit into account so there\nmay be disparity between this and the used count.\nThis patch added some new fields to solve this problem.\n\nPartially Implements: blueprint improve-compute-data-model\n\nChange-Id: Id33496f368fb23cb8e744c7e8451e1cd1397866b\n'}, {'number': 8, 'created': '2019-07-12 06:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/8594cbf629579670cede355e937dcf9016406cc7', 'message': 'Improve Compute Data Model\n\nThe fields(vcpus, memory and disk_capacity) in the Watcher ComputeNode\ndo not take allocation ratios used for overcommit into account so there\nmay be disparity between this and the used count.\nThis patch added some new fields to solve this problem.\n\nPartially Implements: blueprint improve-compute-data-model\n\nChange-Id: Id33496f368fb23cb8e744c7e8451e1cd1397866b\n'}, {'number': 9, 'created': '2019-07-18 05:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/4bd2bb9537737c7e6de27b90e4efa0e3a1d08475', 'message': 'Improve Compute Data Model\n\nThe fields(vcpus, memory and disk_capacity) in the Watcher ComputeNode\ndo not take allocation ratios used for overcommit into account so there\nmay be disparity between this and the used count.\nThis patch added some new fields to solve this problem.\n\nPartially Implements: blueprint improve-compute-data-model\n\nChange-Id: Id33496f368fb23cb8e744c7e8451e1cd1397866b\n'}, {'number': 10, 'created': '2019-07-22 02:23:01.000000000', 'files': ['requirements.txt', 'watcher/tests/decision_engine/cluster/test_nova_cdmc.py', 'watcher/decision_engine/model/element/node.py', 'watcher/decision_engine/model/collector/nova.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/watcher/commit/3d741d05aa6abde7d8332334909944fb710e109d', 'message': 'Improve Compute Data Model\n\nThe fields(vcpus, memory and disk_capacity) in the Watcher ComputeNode\ndo not take allocation ratios used for overcommit into account so there\nmay be disparity between this and the used count.\nThis patch added some new fields to solve this problem.\n\nPartially Implements: blueprint improve-compute-data-model\n\nChange-Id: Id33496f368fb23cb8e744c7e8451e1cd1397866b\n'}]",28,668598,3d741d05aa6abde7d8332334909944fb710e109d,40,5,10,21692,,,0,"Improve Compute Data Model

The fields(vcpus, memory and disk_capacity) in the Watcher ComputeNode
do not take allocation ratios used for overcommit into account so there
may be disparity between this and the used count.
This patch added some new fields to solve this problem.

Partially Implements: blueprint improve-compute-data-model

Change-Id: Id33496f368fb23cb8e744c7e8451e1cd1397866b
",git fetch https://review.opendev.org/openstack/watcher refs/changes/98/668598/8 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/decision_engine/model/collector/nova.py', 'watcher/decision_engine/model/element/instance.py']",2,65cb4d7af991558fd34d8c709d5240db49154f68,bp/improve-compute-data-model," ""memory_mb_used"": wfields.NonNegativeIntegerField(), ""vcpus_used"": wfields.NonNegativeIntegerField(), ""ram_ratio"": wfields.NonNegativeIntegerField(), ""cpu_ratio"": wfields.NonNegativeIntegerField(), ",,9,0
openstack%2Fpuppet-neutron~master~I3075b760149a3510fe93bc8bce062b53465a7f1e,openstack/puppet-neutron,master,I3075b760149a3510fe93bc8bce062b53465a7f1e,Configure keystone_authtoken/service_token_roles,MERGED,2019-07-12 02:10:59.000000000,2019-07-24 01:33:58.000000000,2019-07-24 01:33:58.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-12 02:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/54a6878e3a8dcb8cd121f35536ac94859cfd82ab', 'message': 'Configure authtoken/service_user_roles\n\nThis patch introduces a new hieradata to configure service_user_roles\nin keystone authtoken middleware configuration, so that we can use\na customized role for user who uses service token feature.\n\nChange-Id: I3075b760149a3510fe93bc8bce062b53465a7f1e\n'}, {'number': 2, 'created': '2019-07-12 02:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f95adda9c5003ec038731dc293b10ac743037b78', 'message': 'Configure keystone_authtoken/service_user_roles\n\nThis patch introduces a new hieradata to configure service_user_roles\nin keystone authtoken middleware configuration, so that we can use\na customized role for user who uses service token feature.\n\nChange-Id: I3075b760149a3510fe93bc8bce062b53465a7f1e\n'}, {'number': 3, 'created': '2019-07-12 02:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/85dbb6a81a3a002ebe4bf70bccf861eb1462922c', 'message': 'Configure keystone_authtoken/service_token_roles\n\nThis patch introduces a new hieradata to configure service_token_roles\nin keystone authtoken middleware configuration, so that we can use\na customized role for user who uses service token feature.\n\nChange-Id: I3075b760149a3510fe93bc8bce062b53465a7f1e\n'}, {'number': 4, 'created': '2019-07-16 07:13:25.000000000', 'files': ['releasenotes/notes/keystone_authtoken-service_token_roles-4fe0a7d97045d06b.yaml', 'spec/classes/neutron_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c460fd0bf6779b14653ed394ad06809e165bfa07', 'message': 'Configure keystone_authtoken/service_token_roles\n\nThis patch introduces a new hieradata to configure service_token_roles\nin keystone authtoken middleware configuration, so that we can use\na customized role for user who uses service token feature.\n\nChange-Id: I3075b760149a3510fe93bc8bce062b53465a7f1e\n'}]",0,670429,c460fd0bf6779b14653ed394ad06809e165bfa07,14,4,4,9816,,,0,"Configure keystone_authtoken/service_token_roles

This patch introduces a new hieradata to configure service_token_roles
in keystone authtoken middleware configuration, so that we can use
a customized role for user who uses service token feature.

Change-Id: I3075b760149a3510fe93bc8bce062b53465a7f1e
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/29/670429/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",2,54a6878e3a8dcb8cd121f35536ac94859cfd82ab,service-token-roles,"# [*service_token_roles*] # (Optional) A choice of roles that must be present in a service token. # Service tokens are allowed to request that an expired token # can be used and so this check should tightly control that # only actual services should be sending this token. Roles # here are applied as an ANY check so any role in this list # must be present. For backwards compatibility reasons this # currently only affects the allow_expired check. (list value) # Defaults to $::os_service_default. # $service_token_roles = $::os_service_default, service_token_roles => $service_token_roles,",,15,0
openstack%2Ftripleo-repos~master~I158b7a4dfd9d0fb8bf75333d88ad6d1719a80c41,openstack/tripleo-repos,master,I158b7a4dfd9d0fb8bf75333d88ad6d1719a80c41,Add Python 3 Train unit tests,MERGED,2019-07-12 20:24:50.000000000,2019-07-24 01:29:36.000000000,2019-07-24 01:29:35.000000000,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-12 20:24:50.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/b9ebd4af02b1b3c533db862e9468ebe32b78aa89', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I158b7a4dfd9d0fb8bf75333d88ad6d1719a80c41\nStory: #2005924\nTask: #34253\n'}]",0,670653,b9ebd4af02b1b3c533db862e9468ebe32b78aa89,9,5,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I158b7a4dfd9d0fb8bf75333d88ad6d1719a80c41
Story: #2005924
Task: #34253
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/53/670653/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,b9ebd4af02b1b3c533db862e9468ebe32b78aa89,python3-train,"envlist = py27,py37,pep8","envlist = py35,py27,pep8",4,4
openstack%2Ftripleo-puppet-elements~master~I3812281ad016d0d650fad44e41ea4c83df11fb89,openstack/tripleo-puppet-elements,master,I3812281ad016d0d650fad44e41ea4c83df11fb89,Add Python 3 Train unit tests,MERGED,2019-07-12 20:38:13.000000000,2019-07-24 01:29:31.000000000,2019-07-24 01:29:31.000000000,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-12 20:38:13.000000000', 'files': ['zuul.d/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/5e0060fad426fc607ca1e10216061a54072d0c91', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I3812281ad016d0d650fad44e41ea4c83df11fb89\nStory: #2005924\nTask: #34253\n'}]",0,670659,5e0060fad426fc607ca1e10216061a54072d0c91,9,5,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I3812281ad016d0d650fad44e41ea4c83df11fb89
Story: #2005924
Task: #34253
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/59/670659/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'tox.ini']",2,5e0060fad426fc607ca1e10216061a54072d0c91,python3-train,"envlist = pep8,py27,py37","envlist = pep8,py37,py36,py35,py27",2,4
openstack%2Ftripleo-common~master~I94353be62267cc831cea761d8424727b8f7c7815,openstack/tripleo-common,master,I94353be62267cc831cea761d8424727b8f7c7815,Make instances name/hostname optional,MERGED,2019-07-04 02:00:20.000000000,2019-07-24 01:29:30.000000000,2019-07-24 01:29:30.000000000,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-07-04 02:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c35aa14ed68e2be55c75ede3853c2f0f9acefec9', 'message': ""Make instances name/hostname optional\n\nCurrently the provision instances name/hostname is mandatory, which means\ninstances can't be allocated by criteria (traits, profile, capabilities).\nThis limits the usefulness of specifying instances.\n\nThis change will populate the hostname with one generated by hostname_format,\nwhich allows the actual instance to be allocated by any other specified\ninstance criteria.\n\nChange-Id: I94353be62267cc831cea761d8424727b8f7c7815\nBlueprint: nova-less-deploy\n""}, {'number': 2, 'created': '2019-07-08 23:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/66cee331db5c4c522cb0a745fa57b463c43ae20b', 'message': ""Make instances name/hostname optional\n\nCurrently the provision instances name/hostname is mandatory, which means\ninstances can't be allocated by criteria (traits, profile, capabilities).\nThis limits the usefulness of specifying instances.\n\nThis change will populate the hostname with one generated by hostname_format,\nwhich allows the actual instance to be allocated by any other specified\ninstance criteria.\n\nChange-Id: I94353be62267cc831cea761d8424727b8f7c7815\nBlueprint: nova-less-deploy\n""}, {'number': 3, 'created': '2019-07-12 02:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a981cb63ae82d5c0828efa09bb30d21f0a3fe23a', 'message': ""Make instances name/hostname optional\n\nCurrently the provision instances name/hostname is mandatory, which means\ninstances can't be allocated by criteria (traits, profile, capabilities).\nThis limits the usefulness of specifying instances.\n\nThis change will populate the hostname with one generated by hostname_format,\nwhich allows the actual instance to be allocated by any other specified\ninstance criteria.\n\nChange-Id: I94353be62267cc831cea761d8424727b8f7c7815\nBlueprint: nova-less-deploy\n""}, {'number': 4, 'created': '2019-07-12 04:10:40.000000000', 'files': ['tripleo_common/actions/baremetal_deploy.py', 'tripleo_common/tests/actions/test_baremetal_deploy.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cc4a34478320b0db21e5a0df1fdecc7712cebd6e', 'message': ""Make instances name/hostname optional\n\nCurrently the provision instances name/hostname is mandatory, which means\ninstances can't be allocated by criteria (traits, profile, capabilities).\nThis limits the usefulness of specifying instances.\n\nThis change will populate the hostname with one generated by hostname_format,\nwhich allows the actual instance to be allocated by any other specified\ninstance criteria.\n\nChange-Id: I94353be62267cc831cea761d8424727b8f7c7815\nBlueprint: nova-less-deploy\n""}]",7,669019,cc4a34478320b0db21e5a0df1fdecc7712cebd6e,24,10,4,4571,,,0,"Make instances name/hostname optional

Currently the provision instances name/hostname is mandatory, which means
instances can't be allocated by criteria (traits, profile, capabilities).
This limits the usefulness of specifying instances.

This change will populate the hostname with one generated by hostname_format,
which allows the actual instance to be allocated by any other specified
instance criteria.

Change-Id: I94353be62267cc831cea761d8424727b8f7c7815
Blueprint: nova-less-deploy
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/19/669019/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/baremetal_deploy.py', 'tripleo_common/tests/actions/test_baremetal_deploy.py']",2,c35aa14ed68e2be55c75ede3853c2f0f9acefec9,bp/nova-less-deploy," self.assertEqual( [{'node': mock_pr.return_value.reserve_node.return_value.id, 'instance': req} for req in instances], result['reservations']) mock_pr.return_value.reserve_node.assert_has_calls([ mock.call(resource_class='baremetal', traits=None, capabilities=None, candidates=None), mock.call(resource_class='compute', traits=None, capabilities={'answer': '42'}, candidates=None), ]) 'hostname': 'overcloud-controller-1', 'overcloud-controller-1': 'overcloud-controller-1', self.assertEqual( [ {'hostname': 'compute-0.example.com', 'profile': 'compute'}, {'hostname': 'compute-1.example.com', 'profile': 'compute'}, {'hostname': 'overcloud-controller-0', 'profile': 'control-X'}, # Name provides the default for hostname later on. {'name': 'node-0', 'profile': 'control', 'hostname': 'overcloud-controller-1', 'traits': ['CUSTOM_FOO'], 'nics': [{'subnet': 'leaf-2'}]}, ], result['instances'])"," self.assertIn(""hostname or name is required"", result.error) self.assertFalse(mock_pr.return_value.reserve_node.called) def test_missing_hostname(self, mock_pr): instances = [ {'hostname': 'host1'}, {'resource_class': 'compute', 'capabilities': {'answer': '42'}} ] action = baremetal_deploy.CheckExistingInstancesAction(instances) result = action.run(mock.Mock()) self.assertIn(""hostname or name is required"", result.error) self.assertFalse(mock_pr.return_value.show_instance.called) 'overcloud-controller-1': 'node-0', self.assertIn(""Either hostname or name is required"", result.error)",41,29
openstack%2Fos-net-config~stable%2Fqueens~Ie096bf1296062744193bdcb9713ee42405e206d8,openstack/os-net-config,stable/queens,Ie096bf1296062744193bdcb9713ee42405e206d8,ifdown does not work if no ifcfg file exist,MERGED,2019-07-18 19:40:46.000000000,2019-07-24 01:29:29.000000000,2019-07-24 01:29:28.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16690}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-18 19:40:46.000000000', 'files': ['os_net_config/__init__.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/08dd63ec002e11958f9b2cf25d8e6d3663cef8d4', 'message': 'ifdown does not work if no ifcfg file exist\n\nifdown happen before writing_config and if interface is up by\ndhcp/dhclient it will not be down, ifdown relaying on ifcfg exist.\n\ncausing issue when pxe boot interface is also used as part of bond\ninterface.\ninterface is required to be down before adding to bond,\nthis patch validate that any physical interface will be in down state.\n\nChange-Id: Ie096bf1296062744193bdcb9713ee42405e206d8\nCloses-Bug: #1836024\n(cherry picked from commit 9aaaeb21eefc7622c6b6afeb0ac62830c40107f8)\n'}]",0,671560,08dd63ec002e11958f9b2cf25d8e6d3663cef8d4,8,5,1,12398,,,0,"ifdown does not work if no ifcfg file exist

ifdown happen before writing_config and if interface is up by
dhcp/dhclient it will not be down, ifdown relaying on ifcfg exist.

causing issue when pxe boot interface is also used as part of bond
interface.
interface is required to be down before adding to bond,
this patch validate that any physical interface will be in down state.

Change-Id: Ie096bf1296062744193bdcb9713ee42405e206d8
Closes-Bug: #1836024
(cherry picked from commit 9aaaeb21eefc7622c6b6afeb0ac62830c40107f8)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/60/671560/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/__init__.py'],1,08dd63ec002e11958f9b2cf25d8e6d3663cef8d4,bug/1836024," if utils.is_active_nic(interface): msg = '%s %s is up, trying with ip command' % (iftype, interface) self.execute(msg, '/sbin/ip', 'link', 'set', 'dev', interface, 'down')",,4,0
openstack%2Ftripleo-common~master~Ib7241c8e4fb338986b536ce3664cac49b02aa58f,openstack/tripleo-common,master,Ib7241c8e4fb338986b536ce3664cac49b02aa58f,Remove the tripleo.plan_management.v1.list_sample_plans workflow,MERGED,2019-07-04 12:25:41.000000000,2019-07-24 01:29:29.000000000,2019-07-24 01:29:29.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-04 12:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a0c3f3cf9df8c29463e684928860fbfa81a26764', 'message': 'Remove the tripleo.plan_management.v1.list_sample_plans workflow\n\nThis was only used by tripleo-ui and is no longer needed.\n\nThe internal workflow _get_sample_plan was also removed as it was only\nused by list_sample_plans.\n\nRelated-bug: #1835242\nChange-Id: Ib7241c8e4fb338986b536ce3664cac49b02aa58f\n'}, {'number': 2, 'created': '2019-07-04 12:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0ff7ffa8d00a7bc39bb5bc5c6c4a3ae437d85b6e', 'message': 'Remove the tripleo.plan_management.v1.list_sample_plans workflow\n\nThis was only used by tripleo-ui and is no longer needed.\n\nThe internal workflow _get_sample_plan was also removed as it was only\nused by list_sample_plans.\n\nRelated-bug: #1835242\nChange-Id: Ib7241c8e4fb338986b536ce3664cac49b02aa58f\n'}, {'number': 3, 'created': '2019-07-04 13:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0fab82c4d27eec17c8c5974986a3f9e95e9a5d40', 'message': 'Remove the tripleo.plan_management.v1.list_sample_plans workflow\n\nThis was only used by tripleo-ui and is no longer needed.\n\nThe internal workflow _get_sample_plan was also removed as it was only\nused by list_sample_plans.\n\nRelated-bug: #1835242\nChange-Id: Ib7241c8e4fb338986b536ce3664cac49b02aa58f\n'}, {'number': 4, 'created': '2019-07-12 14:24:34.000000000', 'files': ['workbooks/plan_management.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b58b71ec56dae6d2f8cf5d12c122aab04a5b1d86', 'message': 'Remove the tripleo.plan_management.v1.list_sample_plans workflow\n\nThis was only used by tripleo-ui and is no longer needed.\n\nThe internal workflow _get_sample_plan was also removed as it was only\nused by list_sample_plans.\n\nRelated-bug: #1835242\nChange-Id: Ib7241c8e4fb338986b536ce3664cac49b02aa58f\n'}]",0,669163,b58b71ec56dae6d2f8cf5d12c122aab04a5b1d86,16,6,4,9712,,,0,"Remove the tripleo.plan_management.v1.list_sample_plans workflow

This was only used by tripleo-ui and is no longer needed.

The internal workflow _get_sample_plan was also removed as it was only
used by list_sample_plans.

Related-bug: #1835242
Change-Id: Ib7241c8e4fb338986b536ce3664cac49b02aa58f
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/63/669163/4 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/plan_management.yaml'],1,a0c3f3cf9df8c29463e684928860fbfa81a26764,mistral-removal,," list_sample_plans: input: - container: overcloud - queue_name: tripleo output: available_plans: <% $.available_plans %> tags: - tripleo-common-managed tasks: get_available_plans: action: swift.get_container input: container: <% $.container %> publish: plan_files: <% task().result[1].where($.name.startsWith('plan-samples/')).where($.name.endsWith('plan-environment.yaml')).name %> on-success: publish_available_plans on-error: send_message publish-on-error: status: FAILED message: <% task().result %> publish_available_plans: workflow: tripleo.plan_management.v1._get_sample_plan with-items: plan_file in <% $.plan_files %> input: plan_file: <% $.plan_file %> publish: status: SUCCESS available_plans: <% task().result %> publish-on-error: status: FAILED message: <% task().result %> on-complete: send_message send_message: workflow: tripleo.messaging.v1.send input: queue_name: <% $.queue_name %> type: <% execution().name %> status: <% $.status %> execution: <% execution() %> plan_name: <% $.container %> message: <% $.get('message', '') %> payload: available_plans: <% $.get('available_plans', []) %> _get_sample_plan: input: - container: overcloud - plan_file tags: - tripleo-common-managed tasks: get_plan_object: action: swift.get_object input: container: <% $.container %> obj: <% $.plan_file %> publish: sample_plan_name: <% $.plan_file.split(""/"")[1] %> plan_file: <% $.plan_file %> plan_contents: <% task().result[1] %> ",0,68
openstack%2Fos-net-config~stable%2Frocky~Ie096bf1296062744193bdcb9713ee42405e206d8,openstack/os-net-config,stable/rocky,Ie096bf1296062744193bdcb9713ee42405e206d8,ifdown does not work if no ifcfg file exist,MERGED,2019-07-18 19:37:55.000000000,2019-07-24 01:29:28.000000000,2019-07-24 01:29:28.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16690}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-18 19:37:55.000000000', 'files': ['os_net_config/__init__.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/b6cc6eca35fe91a6fbf9920b40870a8fdde25c05', 'message': 'ifdown does not work if no ifcfg file exist\n\nifdown happen before writing_config and if interface is up by\ndhcp/dhclient it will not be down, ifdown relaying on ifcfg exist.\n\ncausing issue when pxe boot interface is also used as part of bond\ninterface.\ninterface is required to be down before adding to bond,\nthis patch validate that any physical interface will be in down state.\n\nChange-Id: Ie096bf1296062744193bdcb9713ee42405e206d8\nCloses-Bug: #1836024\n(cherry picked from commit 9aaaeb21eefc7622c6b6afeb0ac62830c40107f8)\n(cherry picked from commit 46e3e6508560a2f6b3abbea7cf4460a7afe03418)\n'}]",0,671558,b6cc6eca35fe91a6fbf9920b40870a8fdde25c05,8,5,1,12398,,,0,"ifdown does not work if no ifcfg file exist

ifdown happen before writing_config and if interface is up by
dhcp/dhclient it will not be down, ifdown relaying on ifcfg exist.

causing issue when pxe boot interface is also used as part of bond
interface.
interface is required to be down before adding to bond,
this patch validate that any physical interface will be in down state.

Change-Id: Ie096bf1296062744193bdcb9713ee42405e206d8
Closes-Bug: #1836024
(cherry picked from commit 9aaaeb21eefc7622c6b6afeb0ac62830c40107f8)
(cherry picked from commit 46e3e6508560a2f6b3abbea7cf4460a7afe03418)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/58/671558/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/__init__.py'],1,b6cc6eca35fe91a6fbf9920b40870a8fdde25c05,bug/1836024," if utils.is_active_nic(interface): msg = '%s %s is up, trying with ip command' % (iftype, interface) self.execute(msg, '/sbin/ip', 'link', 'set', 'dev', interface, 'down')",,4,0
openstack%2Fos-net-config~stable%2Fstein~Ie096bf1296062744193bdcb9713ee42405e206d8,openstack/os-net-config,stable/stein,Ie096bf1296062744193bdcb9713ee42405e206d8,ifdown does not work if no ifcfg file exist,MERGED,2019-07-18 19:32:58.000000000,2019-07-24 01:29:27.000000000,2019-07-24 01:29:27.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16690}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-18 19:32:58.000000000', 'files': ['os_net_config/__init__.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/46e3e6508560a2f6b3abbea7cf4460a7afe03418', 'message': 'ifdown does not work if no ifcfg file exist\n\nifdown happen before writing_config and if interface is up by\ndhcp/dhclient it will not be down, ifdown relaying on ifcfg exist.\n\ncausing issue when pxe boot interface is also used as part of bond\ninterface.\ninterface is required to be down before adding to bond,\nthis patch validate that any physical interface will be in down state.\n\nChange-Id: Ie096bf1296062744193bdcb9713ee42405e206d8\nCloses-Bug: #1836024\n(cherry picked from commit 9aaaeb21eefc7622c6b6afeb0ac62830c40107f8)\n'}]",0,671557,46e3e6508560a2f6b3abbea7cf4460a7afe03418,11,6,1,12398,,,0,"ifdown does not work if no ifcfg file exist

ifdown happen before writing_config and if interface is up by
dhcp/dhclient it will not be down, ifdown relaying on ifcfg exist.

causing issue when pxe boot interface is also used as part of bond
interface.
interface is required to be down before adding to bond,
this patch validate that any physical interface will be in down state.

Change-Id: Ie096bf1296062744193bdcb9713ee42405e206d8
Closes-Bug: #1836024
(cherry picked from commit 9aaaeb21eefc7622c6b6afeb0ac62830c40107f8)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/57/671557/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/__init__.py'],1,46e3e6508560a2f6b3abbea7cf4460a7afe03418,bug/1836024," if utils.is_active_nic(interface): msg = '%s %s is up, trying with ip command' % (iftype, interface) self.execute(msg, '/sbin/ip', 'link', 'set', 'dev', interface, 'down')",,4,0
openstack%2Fpuppet-tripleo~master~I261eb30b52a3baee3b0e6d47e8f32f3c579930bf,openstack/puppet-tripleo,master,I261eb30b52a3baee3b0e6d47e8f32f3c579930bf,Add tcp-check connect port line to haproxy redis stanza,MERGED,2019-07-18 17:11:00.000000000,2019-07-24 01:12:25.000000000,2019-07-24 01:12:25.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-07-18 17:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/be01e68256ac919c2d8ccedcf01c3a7a9a920b0a', 'message': 'Add tcp-check connect port line to haproxy redis stanza\n\nWhen https://bugzilla.redhat.com/show_bug.cgi?id=1677420 will be merged\nin haproxy (via haproxy-1.5.18-9.el7.x86_64) our redis backend will stop\nworking because the fix around tcp-check is now more correct and\naccording to the haproxy doc a tcp-check sections *must* start with\ntcp-check connect first. From\nhttp://cbonte.github.io/haproxy-dconv/1.5/configuration.html#4-tcp-check%20connect\n:\n""""""\nWhen there are no TCP port configured on the server line neither server port\ndirective, then the \'tcp-check connect port <port>\' must be the first step\nof the sequence.\n""""""\n\nChange-Id: I261eb30b52a3baee3b0e6d47e8f32f3c579930bf\nCo-Authored-By: Luca Miccini <lmiccini@redhat.com>\nCloses-Bug: #1837086\n'}, {'number': 2, 'created': '2019-07-19 06:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bc2cc4a7b7aebf68f62e71402edb00820317aa44', 'message': 'Add tcp-check connect port line to haproxy redis stanza\n\nWhen https://bugzilla.redhat.com/show_bug.cgi?id=1677420 will be merged\nin haproxy (via haproxy-1.5.18-9.el7.x86_64) our redis backend will stop\nworking because the fix around tcp-check is now more correct and\naccording to the haproxy doc a tcp-check sections *must* start with\ntcp-check connect first. From\nhttp://cbonte.github.io/haproxy-dconv/1.5/configuration.html#4-tcp-check%20connect\n:\n""""""\nWhen there are no TCP port configured on the server line neither server port\ndirective, then the \'tcp-check connect port <port>\' must be the first step\nof the sequence.\n""""""\n\nChange-Id: I261eb30b52a3baee3b0e6d47e8f32f3c579930bf\nCo-Authored-By: Luca Miccini <lmiccini@redhat.com>\nCloses-Bug: #1837086\n'}, {'number': 3, 'created': '2019-07-19 06:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b3a916c8ad60b6b48e91c0e262e3a0c2a7c8e240', 'message': 'Add tcp-check connect port line to haproxy redis stanza\n\nWhen https://bugzilla.redhat.com/show_bug.cgi?id=1677420 will be merged\nin haproxy (via haproxy-1.5.18-9.el7.x86_64) our redis backend will stop\nworking because the fix around tcp-check is now more correct and\naccording to the haproxy doc a tcp-check sections *must* start with\ntcp-check connect first. From\nhttp://cbonte.github.io/haproxy-dconv/1.5/configuration.html#4-tcp-check%20connect\n:\n""""""\nWhen there are no TCP port configured on the server line neither server port\ndirective, then the \'tcp-check connect port <port>\' must be the first step\nof the sequence.\n""""""\n\nChange-Id: I261eb30b52a3baee3b0e6d47e8f32f3c579930bf\nCo-Authored-By: Luca Miccini <lmiccini@redhat.com>\nCloses-Bug: #1837086\n'}, {'number': 4, 'created': '2019-07-19 07:53:34.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e1cc8d0b0b1e1e55a80774421712eb4126dbe9b0', 'message': 'Add tcp-check connect port line to haproxy redis stanza\n\nWhen https://bugzilla.redhat.com/show_bug.cgi?id=1677420 will be merged\nin haproxy (via haproxy-1.5.18-9.el7.x86_64) our redis backend will stop\nworking because the fix around tcp-check is now more correct and\naccording to the haproxy doc a tcp-check sections *must* start with\ntcp-check connect first. From\nhttp://cbonte.github.io/haproxy-dconv/1.5/configuration.html#4-tcp-check%20connect\n:\n""""""\nWhen there are no TCP port configured on the server line neither server port\ndirective, then the \'tcp-check connect port <port>\' must be the first step\nof the sequence.\n""""""\n\nChange-Id: I261eb30b52a3baee3b0e6d47e8f32f3c579930bf\nCo-Authored-By: Luca Miccini <lmiccini@redhat.com>\nCloses-Bug: #1837086\n'}]",2,671526,e1cc8d0b0b1e1e55a80774421712eb4126dbe9b0,54,9,4,20172,,,0,"Add tcp-check connect port line to haproxy redis stanza

When https://bugzilla.redhat.com/show_bug.cgi?id=1677420 will be merged
in haproxy (via haproxy-1.5.18-9.el7.x86_64) our redis backend will stop
working because the fix around tcp-check is now more correct and
according to the haproxy doc a tcp-check sections *must* start with
tcp-check connect first. From
http://cbonte.github.io/haproxy-dconv/1.5/configuration.html#4-tcp-check%20connect
:
""""""
When there are no TCP port configured on the server line neither server port
directive, then the 'tcp-check connect port <port>' must be the first step
of the sequence.
""""""

Change-Id: I261eb30b52a3baee3b0e6d47e8f32f3c579930bf
Co-Authored-By: Luca Miccini <lmiccini@redhat.com>
Closes-Bug: #1837086
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/26/671526/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,be01e68256ac919c2d8ccedcf01c3a7a9a920b0a,haproxy-redis-fix," $redis_tcp_check_options = union(['tcp-check connect port 6379'], $redis_tcp_check_ssl_options, $redis_tcp_check_password_options)"," $redis_tcp_check_options = union($redis_tcp_check_ssl_options, $redis_tcp_check_password_options)",3,1
openstack%2Fswift~master~Ieed88646d97ab2a1c7323a147ee97dae6fc86a0f,openstack/swift,master,Ieed88646d97ab2a1c7323a147ee97dae6fc86a0f,Make rolling-upgrade job voting again,MERGED,2019-07-17 19:10:20.000000000,2019-07-24 00:49:56.000000000,2019-07-24 00:48:11.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-17 19:10:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/a65350e887a53460ac18cc6c1c4fbb445aeee7e7', 'message': 'Make rolling-upgrade job voting again\n\nNow that os-testr has had a release, it passes again.\n\nChange-Id: Ieed88646d97ab2a1c7323a147ee97dae6fc86a0f\n'}]",0,671351,a65350e887a53460ac18cc6c1c4fbb445aeee7e7,9,2,1,15343,,,0,"Make rolling-upgrade job voting again

Now that os-testr has had a release, it passes again.

Change-Id: Ieed88646d97ab2a1c7323a147ee97dae6fc86a0f
",git fetch https://review.opendev.org/openstack/swift refs/changes/51/671351/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a65350e887a53460ac18cc6c1c4fbb445aeee7e7,,, voting: false,0,1
openstack%2Fbarbican~master~I9c00245adf19e380ef31cc9da9aa66af3f697785,openstack/barbican,master,I9c00245adf19e380ef31cc9da9aa66af3f697785,Update Back End Documentation,MERGED,2019-05-13 20:16:05.000000000,2019-07-24 00:12:07.000000000,2019-05-16 14:38:47.000000000,"[{'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-13 20:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/3797df5ebcc881ee05457b04b2438e1767512da9', 'message': 'Update Back End Documentation\n\nChange-Id: I9c00245adf19e380ef31cc9da9aa66af3f697785\n'}, {'number': 2, 'created': '2019-05-15 15:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/235d09a855e69bb64f159def22da14b7139e560d', 'message': 'Update Back End Documentation\n\nChange-Id: I9c00245adf19e380ef31cc9da9aa66af3f697785\n'}, {'number': 3, 'created': '2019-05-16 02:37:24.000000000', 'files': ['doc/source/index.rst', 'doc/source/contributor/dev.rst', 'doc/source/install/barbican-backend.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/3c2a99604a4eeca9cd37d3d1986276dcbed8b455', 'message': 'Update Back End Documentation\n\nChange-Id: I9c00245adf19e380ef31cc9da9aa66af3f697785\n'}]",0,658912,3c2a99604a4eeca9cd37d3d1986276dcbed8b455,11,2,3,7973,,,0,"Update Back End Documentation

Change-Id: I9c00245adf19e380ef31cc9da9aa66af3f697785
",git fetch https://review.opendev.org/openstack/barbican refs/changes/12/658912/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/barbican-backend.rst'],1,3797df5ebcc881ee05457b04b2438e1767512da9,,"Configure Secret Store Back-end ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~store secrets in one or more secret stores. Secret stores can be software-based such as a software-only encryption mechanism, or hardware devices such as a hardware security module (HSM). Secret Stores implement both the encryption mechanisms as well as the storage of the encrypted secrets. This section compares all the plugins that are currently available and the security tradeoffs that need to be considered when deciding which pluings to use.This back end plugin implements encryption using only software. The encrypted secrets are stored in the Barbican database. This crypto plugin is configured by default in ``/etc/barbican/barbican.conf``. +------------------+--------------------------------------------------------+ | Security | ⚠ Master Key (KEK) stored in the configuration file | +------------------+--------------------------------------------------------+ | Maturity | ✅ Tested on every patch | +------------------+--------------------------------------------------------+ | Ease of Use | | ✅ Simple to deploy | | | | ❌ Key rotation is disruptive | | | | (all secrets must be re-encrypted) | +------------------+--------------------------------------------------------+ | Scalability | | ✅ Storage can be scaled in SQL DB | | | | ✅ Failover/HA is simple, just run more barbican-api | | | instances | | | | ✅ High performance - Software crypto is fast | +------------------+--------------------------------------------------------+ | Cost | ✅ Free (as in beer) | +------------------+--------------------------------------------------------+ .. warning:: This plugin stores its KEK in plain text in the configuration file, which will be present in any node running the `barbican-api` or `barbican-worker` services. Extreme care should be taken to prevent unauthrized access to these nodes. When using this plugin the KEK is the only thing protecting the secrets stored in the database. ","Secret Store Back-ends ~~~~~~~~~~~~~~~~~~~~~~store secrets in one or more secret stores. Secret stores can be software-based such as a software token, or hardware devices such as a hardware security module (HSM). This section describes the plugins that are currently available and how they might be configured. Crypto Plugins -------------- These types of plugins store secrets as encrypted blobs within the Barbican database. The plugin is invoked to encrypt the secret on secret storage, and decrypt the secret on secret retrieval. To enable these plugins, add ``store_crypto`` to the list of enabled secret store plugins in the ``[secret_store]`` section of ``/etc/barbican/barbican.conf`` : .. code-block:: ini [secretstore] namespace = barbican.secretstore.plugin enabled_secretstore_plugins = store_crypto There are two flavors of storage plugins currently available: the Simple Crypto plugin and the PKCS#11 crypto plugin.This crypto plugin is configured by default in ``/etc/barbican/barbican.conf``. This plugin is completely insecure and is only suitable for development testing.",39,28
openstack%2Fpuppet-placement~master~I99c8355a919c223a59f926fa80c5f83d39a52577,openstack/puppet-placement,master,I99c8355a919c223a59f926fa80c5f83d39a52577,Configure keystone_authtoken/service_token_roles,MERGED,2019-07-12 02:17:53.000000000,2019-07-23 23:49:48.000000000,2019-07-23 23:49:48.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-12 02:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/15100c33d6440c3d44526822f48954ca4409dad8', 'message': 'Configure keystone_authtoken/service_user_roles\n\nThis patch introduces a new hieradata to configure service_user_roles\nin keystone authtoken middleware configuration, so that we can use\na customized role for user who uses service token feature.\n\nChange-Id: I99c8355a919c223a59f926fa80c5f83d39a52577\n'}, {'number': 2, 'created': '2019-07-12 02:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/c506859ac0727dfd9fd8b29fd6ee1956ee7e87fe', 'message': 'Configure keystone_authtoken/service_token_roles\n\nThis patch introduces a new hieradata to configure service_token_roles\nin keystone authtoken middleware configuration, so that we can use\na customized role for user who uses service token feature.\n\nChange-Id: I99c8355a919c223a59f926fa80c5f83d39a52577\n'}, {'number': 3, 'created': '2019-07-16 07:14:25.000000000', 'files': ['releasenotes/notes/keystone_authtoken-service_token_roles-342a535a433575e8.yaml', 'spec/classes/placement_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/1b941f3a4ea1be4e4ac340e0048e9b2e1be8f892', 'message': 'Configure keystone_authtoken/service_token_roles\n\nThis patch introduces a new hieradata to configure service_token_roles\nin keystone authtoken middleware configuration, so that we can use\na customized role for user who uses service token feature.\n\nChange-Id: I99c8355a919c223a59f926fa80c5f83d39a52577\n'}]",0,670430,1b941f3a4ea1be4e4ac340e0048e9b2e1be8f892,11,3,3,9816,,,0,"Configure keystone_authtoken/service_token_roles

This patch introduces a new hieradata to configure service_token_roles
in keystone authtoken middleware configuration, so that we can use
a customized role for user who uses service token feature.

Change-Id: I99c8355a919c223a59f926fa80c5f83d39a52577
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/30/670430/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/placement_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",2,15100c33d6440c3d44526822f48954ca4409dad8,service-token-roles,"# [*service_token_roles*] # (Optional) A choice of roles that must be present in a service token. # Service tokens are allowed to request that an expired token # can be used and so this check should tightly control that # only actual services should be sending this token. Roles # here are applied as an ANY check so any role in this list # must be present. For backwards compatibility reasons this # currently only affects the allow_expired check. (list value) # Defaults to $::os_service_default. # $service_token_roles = $::os_service_default, service_token_roles => $service_token_roles,",,15,0
openstack%2Fopenstacksdk~master~I0cc17b46c85aadc1fd30c5a55021bfeb1f7366f0,openstack/openstacksdk,master,I0cc17b46c85aadc1fd30c5a55021bfeb1f7366f0,docs: Add simplified CLI parser docs,MERGED,2018-12-29 18:35:00.000000000,2019-07-23 23:38:55.000000000,2019-07-23 23:38:55.000000000,"[{'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 3099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-29 18:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4a9a58290cb91d15ba8ab8909919c81f8ebb09fc', 'message': 'docs: Add simplified CLI parser docs\n\nThe documentation for using the built-in CLI parser are incorrect, this\nupdates them for very functional and simple ones.\n\nChange-Id: I0cc17b46c85aadc1fd30c5a55021bfeb1f7366f0\n'}, {'number': 2, 'created': '2019-07-23 20:35:41.000000000', 'files': ['examples/connect.py', 'doc/source/user/config/using.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e8534f582a258bb2a602f889b7672aac97a9d48a', 'message': 'docs: Add simplified CLI parser docs\n\nThe documentation for using the built-in CLI parser are incorrect, this\nupdates them for very functional and simple ones.\n\nChange-Id: I0cc17b46c85aadc1fd30c5a55021bfeb1f7366f0\n'}]",0,627781,e8534f582a258bb2a602f889b7672aac97a9d48a,10,4,2,1004,,,0,"docs: Add simplified CLI parser docs

The documentation for using the built-in CLI parser are incorrect, this
updates them for very functional and simple ones.

Change-Id: I0cc17b46c85aadc1fd30c5a55021bfeb1f7366f0
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/81/627781/1 && git format-patch -1 --stdout FETCH_HEAD,"['examples/connect.py', 'doc/source/user/config/using.rst']",2,4a9a58290cb91d15ba8ab8909919c81f8ebb09fc,fix-parser-docs, import openstack cloud = openstack.connect(options=parser)," import sys import openstack.config config = openstack.config.OpenStackConfig() config.register_argparse_arguments(parser, sys.argv) options = parser.parse_args() cloud_region = config.get_one(argparse=options)",3,12
openstack%2Ftripleo-common~master~Ic652a3e83de5331dbdbdff115659e60771596236,openstack/tripleo-common,master,Ic652a3e83de5331dbdbdff115659e60771596236,Set container=oci for our containers,MERGED,2019-07-12 14:49:14.000000000,2019-07-23 23:33:00.000000000,2019-07-23 23:33:00.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-12 14:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5f90233e80dee3738a2d0ef47dc84e0c132fc864', 'message': 'Set container=oci for our containers\n\nContext see\nhttps://lists.projectatomic.io/projectatomic-archives/atomic-devel/2017-April/msg00011.html\nhttps://github.com/projectatomic/oci-systemd-hook\n\nChange-Id: Ic652a3e83de5331dbdbdff115659e60771596236\n'}, {'number': 2, 'created': '2019-07-17 13:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c3ea863f9856b520699be232b7ab77a34ee9e62a', 'message': 'Set container=oci for our containers\n\nContext see\nhttps://lists.projectatomic.io/projectatomic-archives/atomic-devel/2017-April/msg00011.html\nhttps://github.com/projectatomic/oci-systemd-hook\n\nChange-Id: Ic652a3e83de5331dbdbdff115659e60771596236\n'}, {'number': 3, 'created': '2019-07-18 13:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/65fbee4c42a135be9dff0cfe00ea24f06b73c6ad', 'message': 'Set container=oci for our containers\n\nContext see\nhttps://lists.projectatomic.io/projectatomic-archives/atomic-devel/2017-April/msg00011.html\nhttps://github.com/projectatomic/oci-systemd-hook\n\nChange-Id: Ic652a3e83de5331dbdbdff115659e60771596236\n'}, {'number': 4, 'created': '2019-07-22 13:29:03.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b40e95ec2970ed48175a519b8f6b1525bf0d30ac', 'message': 'Set container=oci for our containers\n\nContext see\nhttps://lists.projectatomic.io/projectatomic-archives/atomic-devel/2017-April/msg00011.html\nhttps://github.com/projectatomic/oci-systemd-hook\n\nChange-Id: Ic652a3e83de5331dbdbdff115659e60771596236\n'}]",0,670574,b40e95ec2970ed48175a519b8f6b1525bf0d30ac,58,9,4,14985,,,0,"Set container=oci for our containers

Context see
https://lists.projectatomic.io/projectatomic-archives/atomic-devel/2017-April/msg00011.html
https://github.com/projectatomic/oci-systemd-hook

Change-Id: Ic652a3e83de5331dbdbdff115659e60771596236
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/74/670574/3 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,5f90233e80dee3738a2d0ef47dc84e0c132fc864,container-oci,# add ENV for container=oci # https://lists.projectatomic.io/projectatomic-archives/atomic-devel/2017-April/msg00011.html {% block base_header %}ENV container=oci{% endblock %} ,,4,0
openstack%2Fpuppet-pacemaker~stable%2F0.7.x~Icec6b38807399423b2a2402f1caecb346ac98d67,openstack/puppet-pacemaker,stable/0.7.x,Icec6b38807399423b2a2402f1caecb346ac98d67,Update .gitreview for stable/0.7.x,MERGED,2019-03-24 23:07:40.000000000,2019-07-23 23:03:53.000000000,2019-07-23 23:03:53.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-24 23:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/c5fc9e1da93d9b969be49f6ebaa2a6cf76168ff1', 'message': 'Update .gitreview for stable/0.7.x\n\nChange-Id: Icec6b38807399423b2a2402f1caecb346ac98d67\n'}, {'number': 2, 'created': '2019-06-25 16:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/2911d85737e953ac99382d4776c905c6508ba5f6', 'message': 'Update .gitreview for stable/0.7.x\n\nDepends-On: https://review.opendev.org/#/c/667400/\nChange-Id: Icec6b38807399423b2a2402f1caecb346ac98d67\n'}, {'number': 3, 'created': '2019-06-25 16:20:13.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/71cf6e136132a598188a5e103771137f1500f0e7', 'message': 'Update .gitreview for stable/0.7.x\n\nDepends-On: https://review.opendev.org/#/c/667387/\nChange-Id: Icec6b38807399423b2a2402f1caecb346ac98d67\n'}]",0,647250,71cf6e136132a598188a5e103771137f1500f0e7,23,4,3,22816,,,0,"Update .gitreview for stable/0.7.x

Depends-On: https://review.opendev.org/#/c/667387/
Change-Id: Icec6b38807399423b2a2402f1caecb346ac98d67
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/50/647250/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c5fc9e1da93d9b969be49f6ebaa2a6cf76168ff1,create-0.7.x,defaultbranch=stable/0.7.x,,1,0
openstack%2Fnova~master~I927ff1d8c8f45405833d6012b7d7af37b98b10a0,openstack/nova,master,I927ff1d8c8f45405833d6012b7d7af37b98b10a0,Handle Invalid exceptions as expected in attach_interface,MERGED,2019-04-04 17:12:41.000000000,2019-07-23 22:49:49.000000000,2019-07-23 22:43:53.000000000,"[{'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-04 17:12:41.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ade6c9393632e830c2368825568769853fce3b99', 'message': 'Handle Invalid exceptions as expected in attach_interface\n\nThe bug prompting this is a tempest test which is requesting\na port attachment to a server but not specifying a port or\nnetwork to use, so nova-compute looks for a valid network\nand finds there are two and raises NetworkAmbiguous. This\nis treated as a 400 error in the API but because this is a\nsynchronous RPC call from nova-api to nova-compute,\noslo.messaging logs an exception traceback for the unexpected\nerror. That traceback is pretty gross in the compute logs for\nsomething that is a user error and the cloud operator has\nnothing to do to fix it.\n\nWe can handle the traceback by registering our expected\nexceptions for the attach_interface method with oslo.messaging,\nwhich is what this change does.\n\nWhile looking to just add NetworkAmbiguous it became clear that\nlots of different user errors can be raised from this method\nand none of those should result in a traceback, so this change\njust expects Invalid and its subclasses.\n\nThe one exception is InterfaceAttachFailed which is raised when\nsomething in allocate_port_for_instance or driver.attach_interface\nfails. That is an unexpected situation so the parent class for\nInterfaceAttachFailed is changed from Invalid to NovaException so\nit continues to be traced in the logs as an exception.\nInterfaceAttachFailedNoNetwork is kept as Invalid since it is a\nuser error (trying to attach an interface when the user has no\naccess to any networks).\n\ntest_tagged_attach_interface_raises is adjusted to show the\nExpectedException handling for one of the Invalid cases.\n\nChange-Id: I927ff1d8c8f45405833d6012b7d7af37b98b10a0\nCloses-Bug: #1823198\n'}]",7,650077,ade6c9393632e830c2368825568769853fce3b99,25,14,1,6873,,,0,"Handle Invalid exceptions as expected in attach_interface

The bug prompting this is a tempest test which is requesting
a port attachment to a server but not specifying a port or
network to use, so nova-compute looks for a valid network
and finds there are two and raises NetworkAmbiguous. This
is treated as a 400 error in the API but because this is a
synchronous RPC call from nova-api to nova-compute,
oslo.messaging logs an exception traceback for the unexpected
error. That traceback is pretty gross in the compute logs for
something that is a user error and the cloud operator has
nothing to do to fix it.

We can handle the traceback by registering our expected
exceptions for the attach_interface method with oslo.messaging,
which is what this change does.

While looking to just add NetworkAmbiguous it became clear that
lots of different user errors can be raised from this method
and none of those should result in a traceback, so this change
just expects Invalid and its subclasses.

The one exception is InterfaceAttachFailed which is raised when
something in allocate_port_for_instance or driver.attach_interface
fails. That is an unexpected situation so the parent class for
InterfaceAttachFailed is changed from Invalid to NovaException so
it continues to be traced in the logs as an exception.
InterfaceAttachFailedNoNetwork is kept as Invalid since it is a
user error (trying to attach an interface when the user has no
access to any networks).

test_tagged_attach_interface_raises is adjusted to show the
ExpectedException handling for one of the Invalid cases.

Change-Id: I927ff1d8c8f45405833d6012b7d7af37b98b10a0
Closes-Bug: #1823198
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/650077/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']",3,ade6c9393632e830c2368825568769853fce3b99,bug/1823198, # TODO(mriedem): There are likely race failures which can result in # NotFound and QuotaError exceptions getting traced as well. @messaging.expected_exceptions( # Do not log a traceback for user errors. We use Invalid generically # since this method can raise lots of different exceptions: # AttachInterfaceNotSupported # NetworkInterfaceTaggedAttachNotSupported # NetworkAmbiguous # PortNotUsable # PortInUse # PortNotUsableDNS # AttachSRIOVPortNotSupported # NetworksWithQoSPolicyNotSupported exception.Invalid),,21,4
openstack%2Fnova~master~Ie9593657544b7aef1fd7a5c8f01e30e09e3fcce6,openstack/nova,master,Ie9593657544b7aef1fd7a5c8f01e30e09e3fcce6,Drop delete_build_requests_with_no_instance_uuid online migration,MERGED,2019-04-08 21:47:43.000000000,2019-07-23 22:44:19.000000000,2019-07-23 22:43:45.000000000,"[{'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-08 21:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8dd98cfba7c5156000e674024aa547d46a9beeb8', 'message': ""Drop delete_build_requests_with_no_instance_uuid online migration\n\nThis migration was added in Ocata and backported to Newton in change\nI8a05ee01ec7f6a6f88b896f78414fb5487e0071e to deal with Mitaka-era\nbuild_requests records that would not have an instance_uuid value\nand thus raise a ValueError in BuildRequest._from_db_object (because\nBuildRequest.instance_uuid is not nullable).\n\nThis is essentially a revert of that change now since operators\nhave had long enough to run the migration. If anyone were to skip\nlevel upgrade from Mitaka to Train (which we don't support, we require\nyou to roll through), and hit an issue with this they could simply\nexecute this on their nova_api DB:\n\n  DELETE FROM build_requests where instance_uuid is NULL;\n\nChange-Id: Ie9593657544b7aef1fd7a5c8f01e30e09e3fcce6\n""}, {'number': 2, 'created': '2019-04-08 21:48:45.000000000', 'files': ['nova/tests/functional/db/test_build_request.py', 'nova/objects/build_request.py', 'doc/source/cli/nova-manage.rst', 'nova/cmd/manage.py', 'nova/db/sqlalchemy/api_models.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aaee893a5e830ce166b592fe7fa414c714b46f92', 'message': ""Drop delete_build_requests_with_no_instance_uuid online migration\n\nThis migration was added in Ocata and backported to Newton in change\nI8a05ee01ec7f6a6f88b896f78414fb5487e0071e to deal with Mitaka-era\nbuild_requests records that would not have an instance_uuid value\nand thus raise a ValueError in BuildRequest._from_db_object (because\nBuildRequest.instance_uuid is not nullable).\n\nThis is essentially a revert of that change now since operators\nhave had long enough to run the migration. If anyone were to skip\nlevel upgrade from Mitaka to Train (which we don't support, we require\nyou to roll through), and hit an issue with this they could simply\nexecute this on their nova_api DB:\n\n  DELETE FROM build_requests WHERE instance_uuid IS NULL;\n\nChange-Id: Ie9593657544b7aef1fd7a5c8f01e30e09e3fcce6\n""}]",2,651001,aaee893a5e830ce166b592fe7fa414c714b46f92,18,11,2,6873,,,0,"Drop delete_build_requests_with_no_instance_uuid online migration

This migration was added in Ocata and backported to Newton in change
I8a05ee01ec7f6a6f88b896f78414fb5487e0071e to deal with Mitaka-era
build_requests records that would not have an instance_uuid value
and thus raise a ValueError in BuildRequest._from_db_object (because
BuildRequest.instance_uuid is not nullable).

This is essentially a revert of that change now since operators
have had long enough to run the migration. If anyone were to skip
level upgrade from Mitaka to Train (which we don't support, we require
you to roll through), and hit an issue with this they could simply
execute this on their nova_api DB:

  DELETE FROM build_requests WHERE instance_uuid IS NULL;

Change-Id: Ie9593657544b7aef1fd7a5c8f01e30e09e3fcce6
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/651001/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/db/test_build_request.py', 'nova/objects/build_request.py', 'doc/source/cli/nova-manage.rst', 'nova/cmd/manage.py', 'nova/db/sqlalchemy/api_models.py']",5,8dd98cfba7c5156000e674024aa547d46a9beeb8,delete_build_requests_with_no_instance_uuid, # TODO(mriedem): instance_uuid should be nullable=False,,1,138
openstack%2Ftripleo-ci~master~I4909ac8b7825798d5574f6da77ab8edb54c497ae,openstack/tripleo-ci,master,I4909ac8b7825798d5574f6da77ab8edb54c497ae,Fix directory path for python-tripleoclient,MERGED,2019-07-23 14:43:33.000000000,2019-07-23 22:32:20.000000000,2019-07-23 22:32:19.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-07-23 14:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/eed4972394ae25f52e7b5f3224a551b6480a5b2b', 'message': 'Fix directory path for python-tripleoclient\n\nChange-Id: I4909ac8b7825798d5574f6da77ab8edb54c497ae\n'}, {'number': 2, 'created': '2019-07-23 16:31:40.000000000', 'files': ['roles/oooci-build-images/tasks/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0961bf7347a0973c17b602d291b4759b57554630', 'message': 'Fix directory path for python-tripleoclient\n\nChange-Id: I4909ac8b7825798d5574f6da77ab8edb54c497ae\n'}]",2,672301,0961bf7347a0973c17b602d291b4759b57554630,13,6,2,10969,,,0,"Fix directory path for python-tripleoclient

Change-Id: I4909ac8b7825798d5574f6da77ab8edb54c497ae
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/01/672301/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/tasks/pre.yaml'],1,eed4972394ae25f52e7b5f3224a551b6480a5b2b,," - ""file://{{ openstack_git_root }}/python-tripleoclient"""," - ""file://{{ openstack_git_root }}/{{ python_version[python_v] }}-tripleoclient""",1,1
openstack%2Ftripleo-heat-templates~master~I783be65f848d99a1c5391694d1e43ac1098ce8e9,openstack/tripleo-heat-templates,master,I783be65f848d99a1c5391694d1e43ac1098ce8e9,Convert heat template to use tuned role,MERGED,2019-06-11 12:57:18.000000000,2019-07-23 22:32:18.000000000,2019-07-23 22:32:18.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-06-11 12:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d747d807373d8408f657438ec3865672e4990787', 'message': '[WIP] Convert heat template to use tuned role\n\nThis change converts the tuned heat tempalate to using the tuned role\nfrom tripleo-ansible.\n\nChange-Id: I783be65f848d99a1c5391694d1e43ac1098ce8e9\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-06-11 12:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b96b0ae80045b876c194021af9429237cdfc779e', 'message': '[WIP] Convert heat template to use tuned role\n\nThis change converts the tuned heat tempalate to using the tuned role\nfrom tripleo-ansible.\n\nDepends-On: I90b5b63959c754989416544f83089f1ca4b53be2\nChange-Id: I783be65f848d99a1c5391694d1e43ac1098ce8e9\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-06-17 21:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d1975882cf35ba2afae1284084bb991f8530a3f7', 'message': '[WIP] Convert heat template to use tuned role\n\nThis change converts the tuned heat tempalate to using the tuned role\nfrom tripleo-ansible.\n\nDepends-On: I90b5b63959c754989416544f83089f1ca4b53be2\nChange-Id: I783be65f848d99a1c5391694d1e43ac1098ce8e9\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-06-19 02:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2c5554524b23330768c2a0bec948e202a27f256d', 'message': 'Convert heat template to use tuned role\n\nThis change converts the tuned heat tempalate to using the tuned role\nfrom tripleo-ansible.\n\nDepends-On: I90b5b63959c754989416544f83089f1ca4b53be2\nChange-Id: I783be65f848d99a1c5391694d1e43ac1098ce8e9\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2019-06-26 23:01:43.000000000', 'files': ['deployment/tuned/tuned-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2cc5f2a8d1ebab2d33dc48b746d406f7caeac07', 'message': 'Convert heat template to use tuned role\n\nThis change converts the tuned heat tempalate to using the tuned role\nfrom tripleo-ansible.\n\nDepends-On: I90b5b63959c754989416544f83089f1ca4b53be2\nChange-Id: I783be65f848d99a1c5391694d1e43ac1098ce8e9\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",2,664575,b2cc5f2a8d1ebab2d33dc48b746d406f7caeac07,42,6,5,7353,,,0,"Convert heat template to use tuned role

This change converts the tuned heat tempalate to using the tuned role
from tripleo-ansible.

Depends-On: I90b5b63959c754989416544f83089f1ca4b53be2
Change-Id: I783be65f848d99a1c5391694d1e43ac1098ce8e9
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/664575/5 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tuned/tuned-baremetal-ansible.yaml'],1,d747d807373d8408f657438ec3865672e4990787,THT2TA, - include_role: tuned_custom_profile: {get_param: TunedCustomProfile}," EnablePackageInstall: default: 'false' description: Set to true to enable package installation at deploy time type: boolean - name: Install tuned package: state: present when: - EnablePackageInstall | default(false) | bool - name: Check for tuned-adm command: >- which tuned-adm environment: PATH: ""/bin:/usr/bin:/sbin:/usr/sbin"" changed_when: false failed_when: false register: tuned_check - name: Run tuned setup when: - tuned_check.rc == 0 block: - name: Ensure profile directory exists file: path: ""/etc/tuned/{{ tuned_profile }}"" state: directory when: - (custom_profile is defined) and (custom_profile != '') - name: Create custom tuned profile copy: content: ""{{ custom_profile }}"" dest: ""/etc/tuned/{{ tuned_profile }}/tuned.conf"" when: - (custom_profile is defined) and (custom_profile != '') - name: Check tuned active profile slurp: src: ""/etc/tuned/active_profile"" register: tuned_active_profile - name: Enable tuned profile command: >- tuned-adm profile {{ tuned_profile }} environment: PATH: ""/bin:/usr/bin:/sbin:/usr/sbin"" when: - ((tuned_active_profile['content'] | b64decode).strip()) != tuned_profile custom_profile: {get_param: TunedCustomProfile} EnablePackageInstall: {get_param: EnablePackageInstall}",2,52
openstack%2Fneutron-fwaas~master~I887e06893f3e11031548767272e95afee40462d8,openstack/neutron-fwaas,master,I887e06893f3e11031548767272e95afee40462d8,Fix bug when removing a port from the firewall group,MERGED,2019-07-12 11:30:23.000000000,2019-07-23 21:41:04.000000000,2019-07-23 21:41:04.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15471}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 28935}, {'_account_id': 29157}]","[{'number': 1, 'created': '2019-07-12 11:30:23.000000000', 'files': ['neutron_fwaas/services/firewall/service_drivers/agents/agents.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/90a2707ccffd2175d76e0e2ac5a4cd87e5faa7ef', 'message': 'Fix bug when removing a port from the firewall group\n\nWhen removing a port from the firewall group, the last port is detected as\ntrue or false based on the old port and the new port, but it ignores the\nspecific number of ports, which causes the fwg status to be inactive regardless\nof whether there is a port after the firewall group is reset.\n\nChange-Id: I887e06893f3e11031548767272e95afee40462d8\nCloses-Bug: #1817455\n'}]",0,670496,90a2707ccffd2175d76e0e2ac5a4cd87e5faa7ef,18,13,1,29157,,,0,"Fix bug when removing a port from the firewall group

When removing a port from the firewall group, the last port is detected as
true or false based on the old port and the new port, but it ignores the
specific number of ports, which causes the fwg status to be inactive regardless
of whether there is a port after the firewall group is reset.

Change-Id: I887e06893f3e11031548767272e95afee40462d8
Closes-Bug: #1817455
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/96/670496/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/services/firewall/service_drivers/agents/agents.py'],1,90a2707ccffd2175d76e0e2ac5a4cd87e5faa7ef,, # Set last-port to True if there are no ports in the new group and # the old group had the same number of ports that need to be deleted. fwg_with_rules['last-port'] = (len(old_firewall_group['ports']) == len( fwg_with_rules['del-port-ids']) and," # Set last-port to True if there are no ports in the new group, # but the old group had ports fwg_with_rules['last-port'] = (old_firewall_group['ports'] and",4,3
openstack%2Fneutron-fwaas~master~I41a3562284d472408cbcfb7f6c3b1d261ea385b0,openstack/neutron-fwaas,master,I41a3562284d472408cbcfb7f6c3b1d261ea385b0,Add Python 3 Train unit tests,MERGED,2019-07-05 17:52:32.000000000,2019-07-23 21:40:59.000000000,2019-07-23 21:40:59.000000000,"[{'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 17130}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28743}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-07-05 17:52:32.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/9f990bf5665519ada8090d4e673a66a6fac787aa', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I41a3562284d472408cbcfb7f6c3b1d261ea385b0\nStory: #2005924\nTask: #34225\n'}]",0,669428,9f990bf5665519ada8090d4e673a66a6fac787aa,13,8,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I41a3562284d472408cbcfb7f6c3b1d261ea385b0
Story: #2005924
Task: #34225
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/28/669428/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,9f990bf5665519ada8090d4e673a66a6fac787aa,python3-train,"envlist = py27,py37,pep8,pylint","envlist = py36,py27,pep8,pylint",3,3
openstack%2Fkolla~stable%2Fstein~I0cc03a1ab5a79ae49fa7d13ac549e21d3ec5295d,openstack/kolla,stable/stein,I0cc03a1ab5a79ae49fa7d13ac549e21d3ec5295d,nova-libvirt: in Debian qemu-kvm is x86 only,MERGED,2019-07-17 06:13:01.000000000,2019-07-23 21:06:29.000000000,2019-07-23 21:06:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30381}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-17 06:13:01.000000000', 'files': ['docker/nova/nova-libvirt/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/be5b78160723adac202dc766d0c5788148606389', 'message': 'nova-libvirt: in Debian qemu-kvm is x86 only\n\nThis package provides just a wrapper script /usr/bin/kvm which run\nqemu-system-x86 in kvm mode for backwards compatibility.\n\nChange-Id: I0cc03a1ab5a79ae49fa7d13ac549e21d3ec5295d\n(cherry picked from commit 408554475ba02d89206a7fa01824d7277bfc2664)\n'}]",0,671188,be5b78160723adac202dc766d0c5788148606389,18,7,1,24072,,,0,"nova-libvirt: in Debian qemu-kvm is x86 only

This package provides just a wrapper script /usr/bin/kvm which run
qemu-system-x86 in kvm mode for backwards compatibility.

Change-Id: I0cc03a1ab5a79ae49fa7d13ac549e21d3ec5295d
(cherry picked from commit 408554475ba02d89206a7fa01824d7277bfc2664)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/88/671188/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-libvirt/Dockerfile.j2'],1,be5b78160723adac202dc766d0c5788148606389,," {% elif base_arch == ""x86_64"" %} {% set nova_libvirt_packages = nova_libvirt_packages + [ 'qemu-kvm' ] %}"," 'qemu-kvm',",4,1
openstack%2Fi18n~master~I4b1cd84d7154d83356773a2102ec22f9cbdda2cd,openstack/i18n,master,I4b1cd84d7154d83356773a2102ec22f9cbdda2cd,Update http to https.,ABANDONED,2018-12-11 07:00:01.000000000,2019-07-23 20:51:50.000000000,,"[{'_account_id': 841}, {'_account_id': 6882}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-11 07:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/fcd80565b0ad1f6deef9f8be6ed7a4c6c8c3f087', 'message': 'Modify invalid URL to the right one.\n\nChange-Id: I4b1cd84d7154d83356773a2102ec22f9cbdda2cd\n'}, {'number': 2, 'created': '2018-12-13 00:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/d14323a2c19278a512a00b41db53e28ac9bcc0db', 'message': 'Update http to https.\n\nChange-Id: I4b1cd84d7154d83356773a2102ec22f9cbdda2cd\n'}, {'number': 3, 'created': '2018-12-13 09:09:30.000000000', 'files': ['doc/source/about.rst'], 'web_link': 'https://opendev.org/openstack/i18n/commit/3fb449af4f943121389979b0977f183d94e8ba28', 'message': ""Update http to https.\n\nWhen visiting 'http://sphinx.readthedocs.io/en/latest/rest.html',\nit will jump to 'https://sphinx.readthedocs.io/en/latest/rest.html'\nso this patch update 'http' to 'https'.\n\nChange-Id: I4b1cd84d7154d83356773a2102ec22f9cbdda2cd\n""}]",1,624293,3fb449af4f943121389979b0977f183d94e8ba28,13,4,3,27566,,,0,"Update http to https.

When visiting 'http://sphinx.readthedocs.io/en/latest/rest.html',
it will jump to 'https://sphinx.readthedocs.io/en/latest/rest.html'
so this patch update 'http' to 'https'.

Change-Id: I4b1cd84d7154d83356773a2102ec22f9cbdda2cd
",git fetch https://review.opendev.org/openstack/i18n refs/changes/93/624293/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/about.rst'],1,fcd80565b0ad1f6deef9f8be6ed7a4c6c8c3f087,,<https://docs.openstack.org/doc-contrib-guide/rst-conv.html>`__.* `Sphinx documentation <https://sphinx.readthedocs.io/en/latest/rest.html>`__,<http://docs.openstack.org/contributor-guide/rst-conv.html>`__.* `Sphinx documentation <http://sphinx.readthedocs.io/en/latest/rest.html>`__,2,2
openstack%2Fmistral~stable%2Fstein~Ie5159ba52b6a682e00027ce6bf6d3c5c3f4f1eb9,openstack/mistral,stable/stein,Ie5159ba52b6a682e00027ce6bf6d3c5c3f4f1eb9,Remove deprecated nova commands,MERGED,2019-07-23 09:17:45.000000000,2019-07-23 20:33:54.000000000,2019-07-23 20:33:54.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 09:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/3812e9c897950dc0b97af5650ab0ebb992c63d32', 'message': 'Remove deprecated nova commands\n\nnovaclient.cert was removed 18 months ago\nhttps://github.com/openstack/python-novaclient/commit/4bc4078fcb4f2a47269882cc83e1d637db1f37c2\nthis commit removes those calls.\n\nChange-Id: Ie5159ba52b6a682e00027ce6bf6d3c5c3f4f1eb9\n(cherry picked from commit dbc4c9115009a0a989b18d0f7887537ef35241c2)\n'}, {'number': 2, 'created': '2019-07-23 10:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e79f470c76591f799f4c8ae0f0adcdda9f17c46e', 'message': 'Remove deprecated nova commands\n\nnovaclient.cert was removed 18 months ago\nhttps://github.com/openstack/python-novaclient/commit/4bc4078fcb4f2a47269882cc83e1d637db1f37c2\nthis commit removes those calls.\n\nChange-Id: Ie5159ba52b6a682e00027ce6bf6d3c5c3f4f1eb9\n(cherry picked from commit dbc4c9115009a0a989b18d0f7887537ef35241c2)\n'}, {'number': 3, 'created': '2019-07-23 11:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/346c2a0137b612493e05d167e6037a4bdfe79960', 'message': 'Remove deprecated nova commands\n\nnovaclient.cert was removed 18 months ago\nhttps://github.com/openstack/python-novaclient/commit/4bc4078fcb4f2a47269882cc83e1d637db1f37c2\nthis commit removes those calls.\n\nChange-Id: Ie5159ba52b6a682e00027ce6bf6d3c5c3f4f1eb9\n(cherry picked from commit dbc4c9115009a0a989b18d0f7887537ef35241c2)\n'}, {'number': 4, 'created': '2019-07-23 11:30:17.000000000', 'files': ['mistral/actions/openstack/mapping.json', 'bindep.txt'], 'web_link': 'https://opendev.org/openstack/mistral/commit/83ce5574253bf233b430562c19a415236d004495', 'message': 'Remove deprecated nova commands\n\nnovaclient.cert was removed 18 months ago\nhttps://github.com/openstack/python-novaclient/commit/4bc4078fcb4f2a47269882cc83e1d637db1f37c2\nthis commit removes those calls.\n\nChange-Id: Ie5159ba52b6a682e00027ce6bf6d3c5c3f4f1eb9\n(cherry picked from commit dbc4c9115009a0a989b18d0f7887537ef35241c2)\n'}]",0,672240,83ce5574253bf233b430562c19a415236d004495,13,5,4,20172,,,0,"Remove deprecated nova commands

novaclient.cert was removed 18 months ago
https://github.com/openstack/python-novaclient/commit/4bc4078fcb4f2a47269882cc83e1d637db1f37c2
this commit removes those calls.

Change-Id: Ie5159ba52b6a682e00027ce6bf6d3c5c3f4f1eb9
(cherry picked from commit dbc4c9115009a0a989b18d0f7887537ef35241c2)
",git fetch https://review.opendev.org/openstack/mistral refs/changes/40/672240/4 && git format-patch -1 --stdout FETCH_HEAD,['mistral/actions/openstack/mapping.json'],1,3812e9c897950dc0b97af5650ab0ebb992c63d32,remove_deprecated_nova_cmds-stable/stein,," ""certs_convert_into_with_meta"": ""certs.convert_into_with_meta"", ""certs_create"": ""certs.create"", ""certs_get"": ""certs.get"",",0,3
openstack%2Fpuppet-tripleo~master~Ica2f39e6bee697002984d0f28298338edf55ac4b,openstack/puppet-tripleo,master,Ica2f39e6bee697002984d0f28298338edf55ac4b,Cleanup uuid == docker,MERGED,2019-07-15 14:03:18.000000000,2019-07-23 20:24:22.000000000,2019-07-23 20:24:22.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-15 14:03:18.000000000', 'files': ['manifests/profile/base/database/mysql/client.pp', 'manifests/profile/base/nova/libvirt.pp', 'spec/classes/tripleo_profile_base_database_mysql_client_spec.rb', 'manifests/fencing.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6e26715894c3315bb7c4ee8deb26475e2eb5600d', 'message': 'Cleanup uuid == docker\n\nThis was replaced with deployment_type a while back so uuid is now a\nproper value based on the system id. See\nhttps://review.opendev.org/#/c/607647/\n\nChange-Id: Ica2f39e6bee697002984d0f28298338edf55ac4b\n'}]",0,670842,6e26715894c3315bb7c4ee8deb26475e2eb5600d,12,7,1,14985,,,0,"Cleanup uuid == docker

This was replaced with deployment_type a while back so uuid is now a
proper value based on the system id. See
https://review.opendev.org/#/c/607647/

Change-Id: Ica2f39e6bee697002984d0f28298338edf55ac4b
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/42/670842/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/database/mysql/client.pp', 'manifests/profile/base/nova/libvirt.pp', 'spec/classes/tripleo_profile_base_database_mysql_client_spec.rb', 'manifests/fencing.pp']",4,6e26715894c3315bb7c4ee8deb26475e2eb5600d,cleanup-uuid, if $::deployment_type != 'containers' {, if $::uuid != 'docker' and $::deployment_type != 'containers' {,9,9
openstack%2Fopenstacksdk~master~I6724a292def5e0c392e42529116a43d39c990cb8,openstack/openstacksdk,master,I6724a292def5e0c392e42529116a43d39c990cb8,Update api-ref location,MERGED,2019-07-22 18:48:05.000000000,2019-07-23 20:19:15.000000000,2019-07-23 20:19:15.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-07-22 18:48:05.000000000', 'files': ['openstack/tests/fakes.py', 'openstack/baremetal/v1/_proxy.py', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fa5df8d5c9745e1fba2e28d8c32ce0c3b64576fb', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I6724a292def5e0c392e42529116a43d39c990cb8\n""}]",0,672131,fa5df8d5c9745e1fba2e28d8c32ce0c3b64576fb,19,4,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I6724a292def5e0c392e42529116a43d39c990cb8
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/31/672131/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/fakes.py', 'openstack/baremetal/v1/_proxy.py', 'openstack/compute/v2/_proxy.py']",3,fa5df8d5c9745e1fba2e28d8c32ce0c3b64576fb,retire-api-site, under https://docs.openstack.org/api-ref/compute/#list-servers, under https://developer.openstack.org/api-ref/compute/#list-servers,3,3
openstack%2Ftripleo-validations~stable%2Fstein~I5a49b60fd32d9032b4dec1a01a3fdad6fddf42aa,openstack/tripleo-validations,stable/stein,I5a49b60fd32d9032b4dec1a01a3fdad6fddf42aa,Support multi-arch in deploy image validations,MERGED,2019-07-19 09:23:57.000000000,2019-07-23 20:09:57.000000000,2019-07-23 20:09:57.000000000,"[{'_account_id': 11491}, {'_account_id': 12898}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-19 09:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/04466f9ec58161d1c3891c5df7b9477f4925cbf5', 'message': 'Support multi-arch in deploy image validations\n\nPreviously:\n- expect one kernel image and one ramdisk image\n- expect every overcloud node to use the same kernel and and ramdisk\n\nNow:\n- expect any number of kernel/ramdisk images\n- expect each overcloud node to use the most suitable kernel/ramdisk in\n  accordance with arch/platform of that node (but recognizing that,\n  for any given node, the form that the ""most suitable"" image takes may\n  vary)\n\nCurrently only Glance images are considered; support for file images as\nintroduced in Train will come in a subsequent patch.\n\nBlueprint: multiarch-support\n\nChange-Id: I5a49b60fd32d9032b4dec1a01a3fdad6fddf42aa\n(cherry picked from commit 9750f945db25d1405312a6df738d7c6aaeb1a7f0)\n'}, {'number': 2, 'created': '2019-07-22 12:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/575e25c7a20b1f0795a844f41494be4a8077a7b6', 'message': 'Support multi-arch in deploy image validations\n\nPreviously:\n- expect one kernel image and one ramdisk image\n- expect every overcloud node to use the same kernel and and ramdisk\n\nNow:\n- expect any number of kernel/ramdisk images\n- expect each overcloud node to use the most suitable kernel/ramdisk in\n  accordance with arch/platform of that node (but recognizing that,\n  for any given node, the form that the ""most suitable"" image takes may\n  vary)\n\nCurrently only Glance images are considered; support for file images as\nintroduced in Train will come in a subsequent patch.\n\nBlueprint: multiarch-support\n\nChange-Id: I5a49b60fd32d9032b4dec1a01a3fdad6fddf42aa\n(cherry picked from commit 9750f945db25d1405312a6df738d7c6aaeb1a7f0)\n'}, {'number': 3, 'created': '2019-07-23 14:13:48.000000000', 'files': ['roles/ironic-boot-configuration/defaults/main.yml', 'library/check_ironic_boot_config.py', 'roles/deployment-images/vars/main.yml', 'releasenotes/notes/deployment-images_multi-arch-031eea343453e67c.yaml', 'roles/deployment-images/tasks/main.yml', 'playbooks/ironic-boot-configuration.yaml', 'roles/deployment-images/defaults/main.yml', 'playbooks/deployment-images.yaml', 'tripleo_validations/tests/library/test_check_ironic_boot_config.py', 'roles/ironic-boot-configuration/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/23ebc8ae7317a66205157519628c23a5f63ab066', 'message': 'Support multi-arch in deploy image validations\n\nPreviously:\n- expect one kernel image and one ramdisk image\n- expect every overcloud node to use the same kernel and and ramdisk\n\nNow:\n- expect any number of kernel/ramdisk images\n- expect each overcloud node to use the most suitable kernel/ramdisk in\n  accordance with arch/platform of that node (but recognizing that,\n  for any given node, the form that the ""most suitable"" image takes may\n  vary)\n\nCurrently only Glance images are considered; support for file images as\nintroduced in Train will come in a subsequent patch.\n\nBlueprint: multiarch-support\n\nChange-Id: I5a49b60fd32d9032b4dec1a01a3fdad6fddf42aa\n(cherry picked from commit 9750f945db25d1405312a6df738d7c6aaeb1a7f0)\n'}]",0,671691,23ebc8ae7317a66205157519628c23a5f63ab066,14,7,3,11491,,,0,"Support multi-arch in deploy image validations

Previously:
- expect one kernel image and one ramdisk image
- expect every overcloud node to use the same kernel and and ramdisk

Now:
- expect any number of kernel/ramdisk images
- expect each overcloud node to use the most suitable kernel/ramdisk in
  accordance with arch/platform of that node (but recognizing that,
  for any given node, the form that the ""most suitable"" image takes may
  vary)

Currently only Glance images are considered; support for file images as
introduced in Train will come in a subsequent patch.

Blueprint: multiarch-support

Change-Id: I5a49b60fd32d9032b4dec1a01a3fdad6fddf42aa
(cherry picked from commit 9750f945db25d1405312a6df738d7c6aaeb1a7f0)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/91/671691/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ironic-boot-configuration/defaults/main.yml', 'library/check_ironic_boot_config.py', 'roles/deployment-images/vars/main.yml', 'releasenotes/notes/deployment-images_multi-arch-031eea343453e67c.yaml', 'roles/deployment-images/tasks/main.yml', 'playbooks/ironic-boot-configuration.yaml', 'roles/deployment-images/defaults/main.yml', 'playbooks/deployment-images.yaml', 'tripleo_validations/tests/library/test_check_ironic_boot_config.py', 'roles/ironic-boot-configuration/tasks/main.yml']",10,04466f9ec58161d1c3891c5df7b9477f4925cbf5,backup-jun24-stable/stein,"- name: Check ironic boot config check_ironic_boot_config: images: ""{{ lookup('glance_images', wantlist=True) }}"" nodes: ""{{ lookup('ironic_nodes', wantlist=True) }}"" deploy_kernel_name_base: ""{{ deploy_kernel_name_base }}"" deploy_ramdisk_name_base: ""{{ deploy_ramdisk_name_base }}""","- name: Get id for deploy kernel by name set_fact: deploy_kernel_id: ""{{ lookup('glance_images', 'name', ['{{ deploy_kernel_name }}'], wantlist=True) | map(attribute='id') | join(', ') }}"" - name: Get id for deploy ramdisk by name set_fact: deploy_ramdisk_id: ""{{ lookup('glance_images', 'name', ['{{ deploy_ramdisk_name }}'], wantlist=True) | map(attribute='id') | join(', ') }}"" - name: Get ironic nodes set_fact: ironic_nodes: ""{{ lookup('ironic_nodes', wantlist=True) }}"" - name: Check each node for kernel id fail: msg: >- 'Node {{ item.uuid }} has an incorrectly configured driver_info/deploy_kernel. Expected ""{{ deploy_kernel_id }}"" but got ""{{ item.driver_info.deploy_kernel }}"".' failed_when: item.driver_info.deploy_kernel != deploy_kernel_id with_items: ""{{ ironic_nodes }}"" - name: Check each node for ramdisk id fail: msg: >- 'Node {{ item.uuid }} has an incorrectly configured driver_info/deploy_ramdisk. Expected ""{{ deploy_ramdisk_id }}"" but got ""{{ item.driver_info.deploy_ramdisk }}"".' failed_when: item.driver_info.deploy_ramdisk != deploy_ramdisk_id with_items: ""{{ ironic_nodes }}""",345,82
openstack%2Fironic-inspector~master~Ieb322fbc35af6214449577e659777b7594817eb7,openstack/ironic-inspector,master,Ieb322fbc35af6214449577e659777b7594817eb7,Adds missing log when store_data is database,MERGED,2019-07-22 05:22:01.000000000,2019-07-23 20:08:29.000000000,2019-07-23 20:08:29.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-22 05:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/13956e2652f05a297b053ef6411c7602da4f4807', 'message': 'Fix wrong logging when store_data is set to database\n\nWhen [processing]store_data is set to database, inspector manager still\nlogs message of swift.\n\nChange-Id: Ieb322fbc35af6214449577e659777b7594817eb7\n'}, {'number': 2, 'created': '2019-07-22 05:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/4e220e351231d4449b8f17a1c6f1051fa177b2b0', 'message': 'Fix wrong logging when store_data is set to database\n\nWhen [processing]store_data is set to database, inspector manager still\nlogs message of swift.\n\nChange-Id: Ieb322fbc35af6214449577e659777b7594817eb7\n'}, {'number': 3, 'created': '2019-07-23 07:07:46.000000000', 'files': ['ironic_inspector/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/35a01fea4dcd3e9c35eab3ee1ba9d5017a9d0d2b', 'message': 'Adds missing log when store_data is database\n\nintrospection data backend is not logged when [processing]store_data\nis set to database.\n\nChange-Id: Ieb322fbc35af6214449577e659777b7594817eb7\n'}]",0,671959,35a01fea4dcd3e9c35eab3ee1ba9d5017a9d0d2b,16,5,3,24828,,,0,"Adds missing log when store_data is database

introspection data backend is not logged when [processing]store_data
is set to database.

Change-Id: Ieb322fbc35af6214449577e659777b7594817eb7
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/59/671959/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/conductor/manager.py'],1,13956e2652f05a297b053ef6411c7602da4f4807,store-data-logging," else: LOG.info('Introspection data will be stored in the %s backend ', CONF.processing.store_data)"," elif CONF.processing.store_data == 'swift': LOG.info('Introspection data will be stored in Swift in the ' 'container %s', CONF.swift.container)",3,3
openstack%2Fmanila-tempest-plugin~master~Ic2f0110c184428ec32b4b176cf44dc9ccadda5b4,openstack/manila-tempest-plugin,master,Ic2f0110c184428ec32b4b176cf44dc9ccadda5b4,Increase export IP ping count,MERGED,2019-07-23 05:57:18.000000000,2019-07-23 19:46:35.000000000,2019-07-23 19:46:34.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-07-23 05:57:18.000000000', 'files': ['manila_tempest_tests/tests/scenario/test_share_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1a96ed9f703de2080ccdf2a083aa9b30eab4d04f', 'message': 'Increase export IP ping count\n\nOn slow machines, pinging the export IP\nonce may not immediately succeed. There\ncan be a number of reasons for this failure,\nincluding the time taken to set up routing\ntable updates to the storage, in case the\nstorage is external to the cloud.\n\nChange-Id: Ic2f0110c184428ec32b4b176cf44dc9ccadda5b4\n'}]",0,672204,1a96ed9f703de2080ccdf2a083aa9b30eab4d04f,7,3,1,16643,,,0,"Increase export IP ping count

On slow machines, pinging the export IP
once may not immediately succeed. There
can be a number of reasons for this failure,
including the time taken to set up routing
table updates to the storage, in case the
storage is external to the cloud.

Change-Id: Ic2f0110c184428ec32b4b176cf44dc9ccadda5b4
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/04/672204/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/scenario/test_share_basic_ops.py'],1,1a96ed9f703de2080ccdf2a083aa9b30eab4d04f,scenario-tests," remote_client.exec_command(""ping6 -c 5 %s"" % ip) else: remote_client.exec_command(""ping -c 5 %s"" % ip)"," remote_client.exec_command(""ping6 -c 1 %s"" % ip) else: remote_client.exec_command(""ping -c 1 %s"" % ip)",2,2
openstack%2Ftempest~master~Ib1a25cc31b6802655f576711dab38ddfcb73bbdb,openstack/tempest,master,Ib1a25cc31b6802655f576711dab38ddfcb73bbdb,Update api-ref location,MERGED,2019-07-22 17:23:06.000000000,2019-07-23 19:46:33.000000000,2019-07-23 19:46:33.000000000,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 17:23:06.000000000', 'files': ['tempest/lib/services/network/tags_client.py', 'tempest/lib/services/volume/v3/types_client.py', 'tempest/lib/services/image/v1/images_client.py', 'tempest/lib/services/compute/volumes_client.py', 'tempest/lib/services/volume/v3/services_client.py', 'tempest/lib/services/image/v2/namespace_properties_client.py', 'tempest/lib/services/compute/quota_classes_client.py', 'tempest/lib/services/identity/v3/oauth_consumers_client.py', 'tempest/lib/services/volume/v3/backups_client.py', 'tempest/lib/services/identity/v3/endpoint_filter_client.py', 'tempest/lib/services/identity/v3/role_assignments_client.py', 'tempest/lib/services/compute/baremetal_nodes_client.py', 'tempest/lib/services/network/ports_client.py', 'tempest/lib/services/identity/v3/endpoints_client.py', 'tempest/lib/services/network/floating_ips_client.py', 'tempest/lib/services/compute/aggregates_client.py', 'tempest/lib/services/volume/v1/hosts_client.py', 'tempest/lib/services/compute/snapshots_client.py', 'tempest/lib/services/image/v2/namespaces_client.py', 'tempest/lib/services/network/qos_minimum_bandwidth_rules_client.py', 'tempest/lib/services/volume/v3/quota_classes_client.py', 'tempest/lib/services/identity/v3/credentials_client.py', 'tempest/lib/services/volume/v3/capabilities_client.py', 'tempest/lib/services/identity/v2/roles_client.py', 'tempest/lib/services/compute/interfaces_client.py', 'tempest/lib/services/compute/servers_client.py', 'tempest/lib/services/identity/v3/trusts_client.py', 'tempest/lib/services/volume/v1/backups_client.py', 'tempest/lib/services/compute/floating_ips_client.py', 'tempest/lib/services/compute/quotas_client.py', 'tempest/lib/services/compute/services_client.py', 'tempest/lib/services/volume/v3/scheduler_stats_client.py', 'tempest/lib/services/object_storage/container_client.py', 'tempest/lib/services/identity/v3/projects_client.py', 'tempest/lib/services/compute/keypairs_client.py', 'tempest/lib/services/identity/v3/regions_client.py', 'tempest/lib/services/identity/v2/services_client.py', 'tempest/lib/services/identity/v2/users_client.py', 'tempest/lib/services/identity/v3/domain_configuration_client.py', 'tempest/lib/services/network/networks_client.py', 'tempest/lib/services/volume/v3/group_snapshots_client.py', 'tempest/lib/services/volume/v3/transfers_client.py', 'tempest/lib/services/network/metering_label_rules_client.py', 'tempest/lib/services/compute/tenant_usages_client.py', 'tempest/lib/services/network/security_groups_client.py', 'tempest/lib/services/compute/migrations_client.py', 'tempest/lib/services/placement/placement_client.py', 'tempest/lib/services/volume/v3/qos_client.py', 'tempest/lib/services/image/v2/namespace_tags_client.py', 'tempest/lib/services/identity/v3/policies_client.py', 'tempest/lib/services/volume/v3/snapshots_client.py', 'tempest/lib/services/identity/v2/tenants_client.py', 'tempest/lib/services/volume/v3/versions_client.py', 'tempest/lib/services/volume/v3/quotas_client.py', 'tempest/lib/services/compute/security_group_default_rules_client.py', 'tempest/lib/services/network/subnetpools_client.py', 'tempest/lib/services/identity/v2/endpoints_client.py', 'tempest/api/compute/volumes/test_volume_snapshots.py', 'tempest/lib/services/compute/security_groups_client.py', 'tempest/lib/services/identity/v3/oauth_token_client.py', 'tempest/lib/services/volume/v3/encryption_types_client.py', 'tempest/lib/services/network/quotas_client.py', 'tempest/lib/services/image/v2/resource_types_client.py', 'tempest/lib/services/identity/v3/roles_client.py', 'tempest/lib/services/volume/v1/snapshots_client.py', 'tempest/lib/services/image/v2/namespace_objects_client.py', 'tempest/lib/services/network/agents_client.py', 'tempest/lib/services/identity/v3/services_client.py', 'tempest/lib/services/compute/images_client.py', 'tempest/lib/services/image/v2/images_client.py', 'tempest/lib/services/volume/v1/qos_client.py', 'tempest/lib/services/volume/v3/volume_manage_client.py', 'tempest/lib/services/network/qos_client.py', 'tempest/lib/services/network/versions_client.py', 'tempest/lib/services/compute/security_group_rules_client.py', 'tempest/lib/services/volume/v1/encryption_types_client.py', 'tempest/lib/services/identity/v2/identity_client.py', 'tempest/lib/services/volume/v3/groups_client.py', 'tempest/lib/services/identity/v3/catalog_client.py', 'tempest/lib/services/identity/v3/project_tags_client.py', 'tempest/lib/services/identity/v3/endpoint_groups_client.py', 'tempest/lib/services/volume/v1/volumes_client.py', 'tempest/lib/services/image/v1/image_members_client.py', 'tempest/lib/services/volume/v3/group_types_client.py', 'tempest/lib/services/network/metering_labels_client.py', 'tempest/lib/services/network/routers_client.py', 'tempest/api/compute/volumes/test_volumes_list.py', 'tempest/lib/services/identity/v3/groups_client.py', 'tempest/lib/services/network/security_group_rules_client.py', 'tempest/lib/services/network/subnets_client.py', 'tempest/lib/services/compute/server_groups_client.py', 'tempest/lib/services/compute/agents_client.py', 'tempest/lib/services/volume/v1/types_client.py', 'tempest/lib/services/volume/v3/volumes_client.py', 'tempest/lib/services/network/service_providers_client.py', 'tempest/lib/services/identity/v3/users_client.py', 'tempest/lib/services/image/v2/image_members_client.py', 'tempest/lib/services/identity/v3/application_credentials_client.py', 'tempest/lib/services/compute/hosts_client.py', 'tempest/lib/services/identity/v3/domains_client.py', 'tempest/lib/services/volume/v3/hosts_client.py', 'tempest/api/compute/volumes/test_volumes_negative.py', 'tempest/lib/services/volume/v1/quotas_client.py', 'tempest/lib/services/compute/flavors_client.py', 'tempest/api/compute/volumes/test_volumes_get.py', 'tempest/lib/services/compute/fixed_ips_client.py', 'tempest/api/compute/admin/test_networks.py', 'tempest/lib/services/object_storage/account_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/bf30ae7874ac4ef9631811f7a5621ccc8ca788f8', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Ib1a25cc31b6802655f576711dab38ddfcb73bbdb\n""}]",0,672119,bf30ae7874ac4ef9631811f7a5621ccc8ca788f8,16,5,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Ib1a25cc31b6802655f576711dab38ddfcb73bbdb
",git fetch https://review.opendev.org/openstack/tempest refs/changes/19/672119/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/network/tags_client.py', 'tempest/lib/services/volume/v3/types_client.py', 'tempest/lib/services/image/v1/images_client.py', 'tempest/lib/services/compute/volumes_client.py', 'tempest/lib/services/volume/v3/services_client.py', 'tempest/lib/services/image/v2/namespace_properties_client.py', 'tempest/lib/services/compute/quota_classes_client.py', 'tempest/lib/services/identity/v3/oauth_consumers_client.py', 'tempest/lib/services/volume/v3/backups_client.py', 'tempest/lib/services/identity/v3/endpoint_filter_client.py', 'tempest/lib/services/identity/v3/role_assignments_client.py', 'tempest/lib/services/compute/baremetal_nodes_client.py', 'tempest/lib/services/network/ports_client.py', 'tempest/lib/services/identity/v3/endpoints_client.py', 'tempest/lib/services/network/floating_ips_client.py', 'tempest/lib/services/compute/aggregates_client.py', 'tempest/lib/services/volume/v1/hosts_client.py', 'tempest/lib/services/compute/snapshots_client.py', 'tempest/lib/services/image/v2/namespaces_client.py', 'tempest/lib/services/network/qos_minimum_bandwidth_rules_client.py', 'tempest/lib/services/volume/v3/quota_classes_client.py', 'tempest/lib/services/identity/v3/credentials_client.py', 'tempest/lib/services/volume/v3/capabilities_client.py', 'tempest/lib/services/identity/v2/roles_client.py', 'tempest/lib/services/compute/interfaces_client.py', 'tempest/lib/services/compute/servers_client.py', 'tempest/lib/services/identity/v3/trusts_client.py', 'tempest/lib/services/volume/v1/backups_client.py', 'tempest/lib/services/compute/floating_ips_client.py', 'tempest/lib/services/compute/quotas_client.py', 'tempest/lib/services/compute/services_client.py', 'tempest/lib/services/volume/v3/scheduler_stats_client.py', 'tempest/lib/services/object_storage/container_client.py', 'tempest/lib/services/identity/v3/projects_client.py', 'tempest/lib/services/compute/keypairs_client.py', 'tempest/lib/services/identity/v3/regions_client.py', 'tempest/lib/services/identity/v2/services_client.py', 'tempest/lib/services/identity/v2/users_client.py', 'tempest/lib/services/identity/v3/domain_configuration_client.py', 'tempest/lib/services/network/networks_client.py', 'tempest/lib/services/volume/v3/group_snapshots_client.py', 'tempest/lib/services/volume/v3/transfers_client.py', 'tempest/lib/services/network/metering_label_rules_client.py', 'tempest/lib/services/compute/tenant_usages_client.py', 'tempest/lib/services/network/security_groups_client.py', 'tempest/lib/services/compute/migrations_client.py', 'tempest/lib/services/placement/placement_client.py', 'tempest/lib/services/volume/v3/qos_client.py', 'tempest/lib/services/image/v2/namespace_tags_client.py', 'tempest/lib/services/identity/v3/policies_client.py', 'tempest/lib/services/volume/v3/snapshots_client.py', 'tempest/lib/services/identity/v2/tenants_client.py', 'tempest/lib/services/volume/v3/versions_client.py', 'tempest/lib/services/volume/v3/quotas_client.py', 'tempest/lib/services/compute/security_group_default_rules_client.py', 'tempest/lib/services/network/subnetpools_client.py', 'tempest/lib/services/identity/v2/endpoints_client.py', 'tempest/api/compute/volumes/test_volume_snapshots.py', 'tempest/lib/services/compute/security_groups_client.py', 'tempest/lib/services/identity/v3/oauth_token_client.py', 'tempest/lib/services/volume/v3/encryption_types_client.py', 'tempest/lib/services/network/quotas_client.py', 'tempest/lib/services/image/v2/resource_types_client.py', 'tempest/lib/services/identity/v3/roles_client.py', 'tempest/lib/services/volume/v1/snapshots_client.py', 'tempest/lib/services/image/v2/namespace_objects_client.py', 'tempest/lib/services/network/agents_client.py', 'tempest/lib/services/identity/v3/services_client.py', 'tempest/lib/services/compute/images_client.py', 'tempest/lib/services/image/v2/images_client.py', 'tempest/lib/services/volume/v1/qos_client.py', 'tempest/lib/services/volume/v3/volume_manage_client.py', 'tempest/lib/services/network/qos_client.py', 'tempest/lib/services/network/versions_client.py', 'tempest/lib/services/compute/security_group_rules_client.py', 'tempest/lib/services/volume/v1/encryption_types_client.py', 'tempest/lib/services/identity/v2/identity_client.py', 'tempest/lib/services/volume/v3/groups_client.py', 'tempest/lib/services/identity/v3/catalog_client.py', 'tempest/lib/services/identity/v3/project_tags_client.py', 'tempest/lib/services/identity/v3/endpoint_groups_client.py', 'tempest/lib/services/volume/v1/volumes_client.py', 'tempest/lib/services/image/v1/image_members_client.py', 'tempest/lib/services/volume/v3/group_types_client.py', 'tempest/lib/services/network/metering_labels_client.py', 'tempest/lib/services/network/routers_client.py', 'tempest/api/compute/volumes/test_volumes_list.py', 'tempest/lib/services/identity/v3/groups_client.py', 'tempest/lib/services/network/security_group_rules_client.py', 'tempest/lib/services/network/subnets_client.py', 'tempest/lib/services/compute/server_groups_client.py', 'tempest/lib/services/compute/agents_client.py', 'tempest/lib/services/volume/v1/types_client.py', 'tempest/lib/services/volume/v3/volumes_client.py', 'tempest/lib/services/network/service_providers_client.py', 'tempest/lib/services/identity/v3/users_client.py', 'tempest/lib/services/image/v2/image_members_client.py', 'tempest/lib/services/identity/v3/application_credentials_client.py', 'tempest/lib/services/compute/hosts_client.py', 'tempest/lib/services/identity/v3/domains_client.py', 'tempest/lib/services/volume/v3/hosts_client.py', 'tempest/api/compute/volumes/test_volumes_negative.py', 'tempest/lib/services/volume/v1/quotas_client.py', 'tempest/lib/services/compute/flavors_client.py', 'tempest/api/compute/volumes/test_volumes_get.py', 'tempest/lib/services/compute/fixed_ips_client.py', 'tempest/api/compute/admin/test_networks.py', 'tempest/lib/services/object_storage/account_client.py']",108,bf30ae7874ac4ef9631811f7a5621ccc8ca788f8,retire-api-site, https://docs.openstack.org/api-ref/object-store/#create-update-or-delete-account-metadata https://docs.openstack.org/api-ref/object-store/#show-account-details-and-list-containers, https://developer.openstack.org/api-ref/object-store/#create-update-or-delete-account-metadata https://developer.openstack.org/api-ref/object-store/#show-account-details-and-list-containers,497,497
openstack%2Ftempest~master~Id10be3ddb346e8f8b07568fce664e202d58a46c9,openstack/tempest,master,Id10be3ddb346e8f8b07568fce664e202d58a46c9,Use skip_checks in ServersTestMultiNic,MERGED,2019-07-17 07:06:55.000000000,2019-07-23 19:24:28.000000000,2019-07-23 19:24:28.000000000,"[{'_account_id': 5689}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-07-17 07:06:55.000000000', 'files': ['tempest/api/compute/servers/test_create_server_multi_nic.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c00340623e1ea3d5d6bf7911c93c811b9cfd7cee', 'message': 'Use skip_checks in ServersTestMultiNic\n\nIn ServersTestMultiNic, all testcases will be skipped if\nCONF.service.neutron is not available, so skip_checks should\nbe used.\n\nChange-Id: Id10be3ddb346e8f8b07568fce664e202d58a46c9\n'}]",0,671199,c00340623e1ea3d5d6bf7911c93c811b9cfd7cee,8,4,1,20190,,,0,"Use skip_checks in ServersTestMultiNic

In ServersTestMultiNic, all testcases will be skipped if
CONF.service.neutron is not available, so skip_checks should
be used.

Change-Id: Id10be3ddb346e8f8b07568fce664e202d58a46c9
",git fetch https://review.opendev.org/openstack/tempest refs/changes/99/671199/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_create_server_multi_nic.py'],1,c00340623e1ea3d5d6bf7911c93c811b9cfd7cee,skip_check," def skip_checks(cls): super(ServersTestMultiNic, cls).skip_checks() if not CONF.service_available.neutron: raise cls.skipException('Neutron service must be available.') @classmethod","import testtools @testtools.skipUnless(CONF.service_available.neutron, 'Neutron service must be available.') @testtools.skipUnless(CONF.service_available.neutron, 'Neutron service must be available.')",6,5
openstack%2Ftripleo-common~master~I2d1410f64b3c0827116123c308a2def63571c206,openstack/tripleo-common,master,I2d1410f64b3c0827116123c308a2def63571c206,"Revert ""Linting hardening via pre-commit""",ABANDONED,2019-07-16 14:45:34.000000000,2019-07-23 19:16:20.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 10022}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 25402}, {'_account_id': 25877}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-07-16 14:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0f8c76e5f8d8e2ee89002ca3d094c8c69047b018', 'message': 'Revert ""Linting hardening via pre-commit""\n\nThis reverts commit 6d152eaf98ab6903e598ca66baf731a6aa4a4d5b.\n\nChange-Id: I2d1410f64b3c0827116123c308a2def63571c206\nRelated-Bug: #1836761\n'}, {'number': 2, 'created': '2019-07-16 14:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/698e0b78d3aa0cf245ff72500655c998a56121b0', 'message': 'Revert ""Linting hardening via pre-commit""\n\nThis reverts commit 6d152eaf98ab6903e598ca66baf731a6aa4a4d5b.\n\nChange-Id: I2d1410f64b3c0827116123c308a2def63571c206\nRelated-Bug: #1836761\n'}, {'number': 3, 'created': '2019-07-18 13:40:39.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'zuul.d/layout.yaml', 'setup.cfg', 'tox.ini', '.ansible-lint', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cc1f5dc13ff2b6c05e581b1bd0750e7d556e61e8', 'message': 'Revert ""Linting hardening via pre-commit""\n\nThis reverts commit 6d152eaf98ab6903e598ca66baf731a6aa4a4d5b.\n\nChange-Id: I2d1410f64b3c0827116123c308a2def63571c206\nRelated-Bug: #1836761\n'}]",1,671056,cc1f5dc13ff2b6c05e581b1bd0750e7d556e61e8,24,12,3,14985,,,0,"Revert ""Linting hardening via pre-commit""

This reverts commit 6d152eaf98ab6903e598ca66baf731a6aa4a4d5b.

Change-Id: I2d1410f64b3c0827116123c308a2def63571c206
Related-Bug: #1836761
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/56/671056/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'zuul.d/layout.yaml', 'setup.cfg', 'tox.ini', '.ansible-lint', '.pre-commit-config.yaml']",7,0f8c76e5f8d8e2ee89002ca3d094c8c69047b018,fix/reqs-check,,"--- repos: - repo: https://github.com/pre-commit/pre-commit-hooks rev: v2.2.3 hooks: - id: trailing-whitespace - id: mixed-line-ending - id: check-byte-order-marker - id: check-executables-have-shebangs - id: check-merge-conflict - id: debug-statements - id: check-yaml files: .*\.(yaml|yml)$ - repo: https://gitlab.com/pycqa/flake8 rev: '3.7.7' hooks: - id: flake8 - repo: https://github.com/ansible/ansible-lint rev: v4.1.0a0 hooks: - id: ansible-lint files: \.(yaml|yml)$ exclude: ^workbooks/ entry: ansible-lint --force-color -v - repo: https://github.com/openstack-dev/bashate.git rev: 0.6.0 hooks: - id: bashate entry: bashate --error . --verbose --ignore=E006,E040,E042 # Run bashate check for all bash scripts # Ignores the following rules: # E006: Line longer than 79 columns (as many scripts use jinja # templating, this is very difficult) # E040: Syntax error determined using `bash -n` (as many scripts # use jinja templating, this will often fail and the syntax # error will be discovered in execution anyway) ",38,85
openstack%2Fopenstack-ansible-os_octavia~master~I15b482fcd82e9b21028a417652f4d00a2b64c84b,openstack/openstack-ansible-os_octavia,master,I15b482fcd82e9b21028a417652f4d00a2b64c84b,Correct group names for services,MERGED,2018-08-01 09:31:41.000000000,2019-07-23 19:15:03.000000000,2018-08-01 22:55:09.000000000,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-08-01 09:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/7c5cb923db49463be8fae7ad43c03eaa83443533', 'message': ""Correct group names for services\n\nThe group names are incorrecly using underscores instead\nof hyphens. Even though using hyphens in group names is\na bad practise, it's already established that way in the\nintegrated repo, so we change these to match those.\n\nChange-Id: I15b482fcd82e9b21028a417652f4d00a2b64c84b\n""}, {'number': 2, 'created': '2018-08-01 11:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/ab2485d68cc6d58e9cf37b988513d6437f595e32', 'message': ""Correct group names for services\n\nThe group names are incorrecly using underscores instead\nof hyphens. Even though using hyphens in group names is\na bad practise, it's already established that way in the\nintegrated repo, so we change these to match those.\n\nChange-Id: I15b482fcd82e9b21028a417652f4d00a2b64c84b\n""}, {'number': 3, 'created': '2018-08-01 19:59:16.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/a00270d551f084aca77464193ad16a184adc7bf0', 'message': ""Correct group names for services\n\nThe group names are incorrecly using underscores instead\nof hyphens. Even though using hyphens in group names is\na bad practise, it's already established that way in the\nintegrated repo, so we change these to match those.\n\nChange-Id: I15b482fcd82e9b21028a417652f4d00a2b64c84b\n""}]",1,587739,a00270d551f084aca77464193ad16a184adc7bf0,16,5,3,6816,,,0,"Correct group names for services

The group names are incorrecly using underscores instead
of hyphens. Even though using hyphens in group names is
a bad practise, it's already established that way in the
integrated repo, so we change these to match those.

Change-Id: I15b482fcd82e9b21028a417652f4d00a2b64c84b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/39/587739/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,7c5cb923db49463be8fae7ad43c03eaa83443533,move-mq-setup-into-roles, group: octavia-api group: octavia-worker group: octavia-housekeeping group: octavia-health_manager, group: octavia_api group: octavia_worker group: octavia_housekeeping group: octavia_health_manager,4,4
openstack%2Fnova~master~I80f5d382f467c464b6fcdf89ebbb13d7b245088e,openstack/nova,master,I80f5d382f467c464b6fcdf89ebbb13d7b245088e,Make sure update resource usage when revert_resize,NEW,2019-06-13 13:35:13.000000000,2019-07-23 18:56:41.000000000,,"[{'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 19156}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-13 13:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a07440a4a4f9db80234c67db66c61d3f6f7d157', 'message': 'Make sure update resource usage when revert_resize\n\nWhen revert_resize self.rt.drop_move_claim is called.\nBut instance_type is not passed to drop_move_claim.\nSo as a result, when revert_resize drop_move_claim will not\nupdate resource usage at all.\nThis problem is similar to bug#1818914\n\nChange-Id: I80f5d382f467c464b6fcdf89ebbb13d7b245088e\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}, {'number': 2, 'created': '2019-07-10 13:26:33.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bd92b9064521ece5b160eca6ec5b047247e6a2e0', 'message': 'Make sure update resource usage when revert_resize\n\nWhen revert_resize self.rt.drop_move_claim is called.\nBut instance_type is not passed to drop_move_claim.\nSo as a result, when revert_resize drop_move_claim will not\nupdate resource usage at all.\nThis problem is similar to bug#1818914\n\nChange-Id: I80f5d382f467c464b6fcdf89ebbb13d7b245088e\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}]",7,665138,bd92b9064521ece5b160eca6ec5b047247e6a2e0,28,16,2,19156,,,0,"Make sure update resource usage when revert_resize

When revert_resize self.rt.drop_move_claim is called.
But instance_type is not passed to drop_move_claim.
So as a result, when revert_resize drop_move_claim will not
update resource usage at all.
This problem is similar to bug#1818914

Change-Id: I80f5d382f467c464b6fcdf89ebbb13d7b245088e
Related-Bug: #1641750
Related-Bug: #1498126
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/665138/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,5a07440a4a4f9db80234c67db66c61d3f6f7d157,bug/1818914," self.rt.drop_move_claim(context, instance, instance.node instance.new_flavor)"," self.rt.drop_move_claim(context, instance, instance.node)",3,2
openstack%2Fplacement~master~I205a7fd338a0db420b891341c3c40b10f3199fd3,openstack/placement,master,I205a7fd338a0db420b891341c3c40b10f3199fd3,Further simplify microversion utils,MERGED,2019-07-23 14:00:22.000000000,2019-07-23 18:52:10.000000000,2019-07-23 18:52:10.000000000,"[{'_account_id': 11564}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 14:00:22.000000000', 'files': ['placement/microversion.py', 'placement/tests/unit/test_microversion.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/7efcb2e7f158a24cacb663dbe02eab3246f85e05', 'message': ""Further simplify microversion utils\n\nFollowing on from [1]:\n- Since we're only ever calling _fully_qualified_name with module-level\n  functions, remove the ability to call it with a class (forcing such\n  usages to either use functions or modify this util).\n- Consolidate a redundant invocation of _fully_qualified_name from\n  version_handler.\n\n[1] Id8f96801116818dda6c68c301619aee185e8fbff\n\nChange-Id: I205a7fd338a0db420b891341c3c40b10f3199fd3\n""}]",1,672293,7efcb2e7f158a24cacb663dbe02eab3246f85e05,7,3,1,14070,,,0,"Further simplify microversion utils

Following on from [1]:
- Since we're only ever calling _fully_qualified_name with module-level
  functions, remove the ability to call it with a class (forcing such
  usages to either use functions or modify this util).
- Consolidate a redundant invocation of _fully_qualified_name from
  version_handler.

[1] Id8f96801116818dda6c68c301619aee185e8fbff

Change-Id: I205a7fd338a0db420b891341c3c40b10f3199fd3
",git fetch https://review.opendev.org/openstack/placement refs/changes/93/672293/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/microversion.py', 'placement/tests/unit/test_microversion.py']",2,7efcb2e7f158a24cacb663dbe02eab3246f85e05,cd/remove-redundant-name-finding," self.assertRaises( webob.exc.HTTPMethodNotAllowed, microversion._find_method, microversion._fully_qualified_name(handler), '1.1', 405) self.assertRaises( webob.exc.HTTPNotFound, microversion._find_method, microversion._fully_qualified_name(handler), '1.1', 404)"," self.assertRaises(webob.exc.HTTPMethodNotAllowed, microversion._find_method, handler, '1.1', 405) self.assertRaises(webob.exc.HTTPNotFound, microversion._find_method, handler, '1.1', 404)",16,12
openstack%2Fneutron~stable%2Fstein~Id7971bd99b04aca38180ff109f542422b1a925d5,openstack/neutron,stable/stein,Id7971bd99b04aca38180ff109f542422b1a925d5,Use --bind-dynamic with dnsmasq instead of --bind-interfaces,MERGED,2019-07-13 04:45:41.000000000,2019-07-23 18:52:06.000000000,2019-07-23 18:52:06.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29071}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-13 04:45:41.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/431ba12873c358260b1275470916ca2d3544a3dd', 'message': 'Use --bind-dynamic with dnsmasq instead of --bind-interfaces\n\nDnsmasq emits a warning when started in most neutron deployments:\n\ndnsmasq[27287]: LOUD WARNING: use --bind-dynamic rather than\n    --bind-interfaces to avoid DNS amplification attacks via\n    these interface(s)\n\nSince option --bind-dynamic is available since dnsmasq 2.63\n(https://github.com/liquidm/dnsmasq/blob/master/FAQ#L239) and\nwe require 2.67, change to use this option instead.\n\nChange-Id: Id7971bd99b04aca38180ff109f542422b1a925d5\nCloses-bug: #1828473\n(cherry picked from commit 09ee9347864d731ce7ccf241178559815e82f57c)\n'}]",0,670682,431ba12873c358260b1275470916ca2d3544a3dd,18,7,1,29071,,,0,"Use --bind-dynamic with dnsmasq instead of --bind-interfaces

Dnsmasq emits a warning when started in most neutron deployments:

dnsmasq[27287]: LOUD WARNING: use --bind-dynamic rather than
    --bind-interfaces to avoid DNS amplification attacks via
    these interface(s)

Since option --bind-dynamic is available since dnsmasq 2.63
(https://github.com/liquidm/dnsmasq/blob/master/FAQ#L239) and
we require 2.67, change to use this option instead.

Change-Id: Id7971bd99b04aca38180ff109f542422b1a925d5
Closes-bug: #1828473
(cherry picked from commit 09ee9347864d731ce7ccf241178559815e82f57c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/670682/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py']",2,431ba12873c358260b1275470916ca2d3544a3dd,bug/1828473-stable/stein," '--bind-dynamic', if not self.device_manager.driver.bridged:"," if self.device_manager.driver.bridged: '--bind-interfaces', ] else: cmd += [ '--bind-dynamic',",14,8
openstack%2Fnetworking-ovn~master~I229b01f88d97cadfd8d3acff94e01fed87671d79,openstack/networking-ovn,master,I229b01f88d97cadfd8d3acff94e01fed87671d79,Only initialize the ovsdb connection on first start,MERGED,2019-07-18 15:27:10.000000000,2019-07-23 18:29:34.000000000,2019-07-23 18:29:34.000000000,"[{'_account_id': 5756}, {'_account_id': 6469}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-18 15:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/97f2f4f4991577a0381f14e110a1a7c6c8e6448d', 'message': ""WIP Move ovsdb connection outside of driver start()\n\nThis is just to see if we can move the ovsdb connection outside of\nthe driver start, so that we don't pull in the whole DB with every\nsingle update to the octavia driver.\n\nChange-Id: I229b01f88d97cadfd8d3acff94e01fed87671d79\n""}, {'number': 2, 'created': '2019-07-18 16:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b5874ae97652d436ee73972ba27f9d128f97042b', 'message': ""WIP Move ovsdb connection outside of driver start()\n\nThis is just to see if we can move the ovsdb connection outside of\nthe driver start, so that we don't pull in the whole DB with every\nsingle update to the octavia driver.\n\nChange-Id: I229b01f88d97cadfd8d3acff94e01fed87671d79\n""}, {'number': 3, 'created': '2019-07-18 16:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8271179e7735627947cb7a2c9b6e0e0516ba7d7c', 'message': ""WIP Move ovsdb connection outside of driver start()\n\nThis is just to see if we can move the ovsdb connection outside of\nthe driver start, so that we don't pull in the whole DB with every\nsingle update to the octavia driver.\n\nChange-Id: I229b01f88d97cadfd8d3acff94e01fed87671d79\n""}, {'number': 4, 'created': '2019-07-19 04:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/bfc71b0d50b6fb1c715a2620effe8023cfb082f3', 'message': ""Move ovsdb connection outside of driver start()\n\nMove the ovsdb connection outside of the driver start so that we don't\npull in the whole DB with every single update to the octavia driver.\n\nStory: 2006196\nChange-Id: I229b01f88d97cadfd8d3acff94e01fed87671d79\n""}, {'number': 5, 'created': '2019-07-19 04:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ab78567c9b57f8d93033e999ff96ac0a91e55872', 'message': ""Only initialize the ovsdb connection on first start\n\nCache the ovsdb connection on the first driver start so that we don't\npull in the whole DB with every single update to the octavia driver.\n\nStory: 2006196\nChange-Id: I229b01f88d97cadfd8d3acff94e01fed87671d79\n""}, {'number': 6, 'created': '2019-07-19 21:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ef97a51a1c710c6b261ce830a9226a1ffd55ebed', 'message': ""Only initialize the ovsdb connection on first start\n\nCache the ovsdb connection on the first driver start so that we don't\npull in the whole DB with every single update to the octavia driver.\n\nStory: 2006196\nChange-Id: I229b01f88d97cadfd8d3acff94e01fed87671d79\n""}, {'number': 7, 'created': '2019-07-22 07:47:52.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/35044ae5a8ac12892b638e297302efc0276d80c6', 'message': ""Only initialize the ovsdb connection on first start\n\nCache the ovsdb connection on the first driver start so that we don't\npull in the whole DB with every single update to the octavia driver.\n\nStory: 2006196\nChange-Id: I229b01f88d97cadfd8d3acff94e01fed87671d79\n""}]",9,671511,35044ae5a8ac12892b638e297302efc0276d80c6,36,7,7,5756,,,0,"Only initialize the ovsdb connection on first start

Cache the ovsdb connection on the first driver start so that we don't
pull in the whole DB with every single update to the octavia driver.

Story: 2006196
Change-Id: I229b01f88d97cadfd8d3acff94e01fed87671d79
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/11/671511/6 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/octavia/ovn_driver.py'],1,97f2f4f4991577a0381f14e110a1a7c6c8e6448d,671511," self.events = [LogicalRouterPortEvent(self), LogicalSwitchPortUpdateEvent(self)] ovn_nb_idl_for_lb.notify_handler.watch_events(self.events) ovn_nb_idl_for_lb.notify_handler.unwatch_events(self.events) ovn_nb_idl_for_lb = OvnNbIdlForLb() OvnProviderHelper.ovn_nbdb_api = ovn_nb_idl_for_lb.start()"," self.ovn_nb_idl_for_lb = OvnNbIdlForLb() OvnProviderHelper.ovn_nbdb_api = self.ovn_nb_idl_for_lb.start() events = [LogicalRouterPortEvent(self), LogicalSwitchPortUpdateEvent(self)] self.ovn_nb_idl_for_lb.notify_handler.watch_events(events) self.ovn_nb_idl_for_lb.stop()",8,6
openstack%2Ftripleo-repos~master~If69c0939b4a06fba3ba2e0dae3c6fb3e916bc132,openstack/tripleo-repos,master,If69c0939b4a06fba3ba2e0dae3c6fb3e916bc132,Include ansible-config_template in delorean-current repo,MERGED,2019-07-23 12:52:10.000000000,2019-07-23 18:12:54.000000000,2019-07-23 18:12:53.000000000,"[{'_account_id': 7353}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-07-23 12:52:10.000000000', 'files': ['tripleo_repos/main.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/1d1ee3d1c9be723a9d9b7729dce68db73d50c12c', 'message': 'Include ansible-config_template in delorean-current repo\n\nhttps://review.rdoproject.org/r/#/c/21520/ adds the\nansible-config_template in RDO.\n\ntripleo-ansible is consumed from delorean-current repo\nand since ansible-config_template is a dependency of\ntripleo-ansible so it is also needs to be consumed\nfrom delorean-current repo to avoid missmatch issue.\n\nChange-Id: If69c0939b4a06fba3ba2e0dae3c6fb3e916bc132\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,672281,1d1ee3d1c9be723a9d9b7729dce68db73d50c12c,11,9,1,12393,,,0,"Include ansible-config_template in delorean-current repo

https://review.rdoproject.org/r/#/c/21520/ adds the
ansible-config_template in RDO.

tripleo-ansible is consumed from delorean-current repo
and since ansible-config_template is a dependency of
tripleo-ansible so it is also needs to be consumed
from delorean-current repo to avoid missmatch issue.

Change-Id: If69c0939b4a06fba3ba2e0dae3c6fb3e916bc132
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/81/672281/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_repos/main.py'],1,1d1ee3d1c9be723a9d9b7729dce68db73d50c12c,ansible-config_tempalte," 'tripleo-ansible,ansible-config_template')", 'tripleo-ansible'),1,1
openstack%2Fopenstack-ansible-os_octavia~stable%2Fstein~I62e4f9d454b75e0fc87a7df2cf70d119e627ea9d,openstack/openstack-ansible-os_octavia,stable/stein,I62e4f9d454b75e0fc87a7df2cf70d119e627ea9d,Ensure that admin endpoint is used to configure octavia quota,MERGED,2019-07-01 07:26:47.000000000,2019-07-23 18:04:33.000000000,2019-07-23 18:04:33.000000000,"[{'_account_id': 1004}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23182}, {'_account_id': 25023}, {'_account_id': 28543}, {'_account_id': 28619}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-01 07:26:47.000000000', 'files': ['tasks/octavia_security_group.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/54006a86908ecb0c8943165fc3320926826358d7', 'message': 'Ensure that admin endpoint is used to configure octavia quota\n\nThe default is the public endpoint which will fail with an SSL error\nfor AIO or other non-trusted certificates.\n\nDepends-On: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87\nDepends-On: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89\nChange-Id: I62e4f9d454b75e0fc87a7df2cf70d119e627ea9d\nCloses-Bug: 1831160\nCloses-Bug: 1828599\n(cherry picked from commit 2b39df7d8de3856185ebef0b24382cd0d8b18cca)\n'}]",0,668369,54006a86908ecb0c8943165fc3320926826358d7,19,8,1,25023,,,0,"Ensure that admin endpoint is used to configure octavia quota

The default is the public endpoint which will fail with an SSL error
for AIO or other non-trusted certificates.

Depends-On: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87
Depends-On: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89
Change-Id: I62e4f9d454b75e0fc87a7df2cf70d119e627ea9d
Closes-Bug: 1831160
Closes-Bug: 1828599
(cherry picked from commit 2b39df7d8de3856185ebef0b24382cd0d8b18cca)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/69/668369/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/octavia_security_group.yml'],1,54006a86908ecb0c8943165fc3320926826358d7,fix-octavia-stable/stein, interface: admin,,1,0
openstack%2Fswift~master~I29f2951053fa6714de46ed757116d99dd5c896cf,openstack/swift,master,I29f2951053fa6714de46ed757116d99dd5c896cf,Add Python 3 Train unit tests,MERGED,2019-07-05 20:23:25.000000000,2019-07-23 17:58:29.000000000,2019-07-23 17:53:43.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-07-05 20:23:25.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/swift/commit/3532df0fd3dc91af5534b1cb3d4de4bfec101b8f', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I29f2951053fa6714de46ed757116d99dd5c896cf\nStory: #2005924\nTask: #34249\n'}]",0,669511,3532df0fd3dc91af5534b1cb3d4de4bfec101b8f,11,6,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I29f2951053fa6714de46ed757116d99dd5c896cf
Story: #2005924
Task: #34249
",git fetch https://review.opendev.org/openstack/swift refs/changes/11/669511/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3532df0fd3dc91af5534b1cb3d4de4bfec101b8f,python3-train, Programming Language :: Python :: 3 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,,3,0
openstack%2Fswift~master~Ie38357e4c278335c35d186708573bb6bdabaa012,openstack/swift,master,Ie38357e4c278335c35d186708573bb6bdabaa012,Update api-ref location,MERGED,2019-07-22 16:54:49.000000000,2019-07-23 17:57:15.000000000,2019-07-23 17:53:36.000000000,"[{'_account_id': 6547}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 16:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/eb02c870d6fb509edd710a349a479fddb93581fa', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that the Swift API lives at /object-store and not /object-storage.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Ie38357e4c278335c35d186708573bb6bdabaa012\n""}, {'number': 2, 'created': '2019-07-22 17:18:03.000000000', 'files': ['doc/source/api/object_api_v1_overview.rst', 'CHANGELOG', 'doc/source/index.rst', 'doc/source/overview_encryption.rst', 'README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/73ec8f15df9a1f112f981f15a3ddc323eb1fb723', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that the Swift API lives at /object-store and not /object-storage.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Ie38357e4c278335c35d186708573bb6bdabaa012\n""}]",0,672107,73ec8f15df9a1f112f981f15a3ddc323eb1fb723,10,3,2,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that the Swift API lives at /object-store and not /object-storage.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Ie38357e4c278335c35d186708573bb6bdabaa012
",git fetch https://review.opendev.org/openstack/swift refs/changes/07/672107/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/api/object_api_v1_overview.rst', 'CHANGELOG', 'doc/source/index.rst', 'doc/source/overview_encryption.rst', 'README.rst', 'releasenotes/notes/2_10_0_release-666a76f4975657a5.yaml', 'tox.ini']",7,eb02c870d6fb509edd710a349a479fddb93581fa,retire-api-site,# the API Ref to docs.openstack.org.,# the API Ref to developer.openstack.org.,9,9
openstack%2Fneutron~stable%2Fqueens~Id7971bd99b04aca38180ff109f542422b1a925d5,openstack/neutron,stable/queens,Id7971bd99b04aca38180ff109f542422b1a925d5,Use --bind-dynamic with dnsmasq instead of --bind-interfaces,MERGED,2019-07-13 09:47:41.000000000,2019-07-23 17:53:49.000000000,2019-07-23 17:53:49.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 26622}, {'_account_id': 29071}, {'_account_id': 30103}]","[{'number': 1, 'created': '2019-07-13 09:47:41.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ec7fd8fdf4dae028469b644c922cc47e8a6eab1', 'message': 'Use --bind-dynamic with dnsmasq instead of --bind-interfaces\n\nDnsmasq emits a warning when started in most neutron deployments:\n\ndnsmasq[27287]: LOUD WARNING: use --bind-dynamic rather than\n    --bind-interfaces to avoid DNS amplification attacks via\n    these interface(s)\n\nSince option --bind-dynamic is available since dnsmasq 2.63\n(https://github.com/liquidm/dnsmasq/blob/master/FAQ#L239) and\nwe require 2.67, change to use this option instead.\n\nChange-Id: Id7971bd99b04aca38180ff109f542422b1a925d5\nCloses-bug: #1828473\n(cherry picked from commit 09ee9347864d731ce7ccf241178559815e82f57c)\n'}]",0,670692,7ec7fd8fdf4dae028469b644c922cc47e8a6eab1,22,8,1,29071,,,0,"Use --bind-dynamic with dnsmasq instead of --bind-interfaces

Dnsmasq emits a warning when started in most neutron deployments:

dnsmasq[27287]: LOUD WARNING: use --bind-dynamic rather than
    --bind-interfaces to avoid DNS amplification attacks via
    these interface(s)

Since option --bind-dynamic is available since dnsmasq 2.63
(https://github.com/liquidm/dnsmasq/blob/master/FAQ#L239) and
we require 2.67, change to use this option instead.

Change-Id: Id7971bd99b04aca38180ff109f542422b1a925d5
Closes-bug: #1828473
(cherry picked from commit 09ee9347864d731ce7ccf241178559815e82f57c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/670692/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py']",2,7ec7fd8fdf4dae028469b644c922cc47e8a6eab1,bug/1828473-stable/queens," '--bind-dynamic', if not self.device_manager.driver.bridged:"," if self.device_manager.driver.bridged: '--bind-interfaces', ] else: cmd += [ '--bind-dynamic',",14,8
openstack%2Fswift~master~If933b713bdd1dfc348959771d60c0756a9a94477,openstack/swift,master,If933b713bdd1dfc348959771d60c0756a9a94477,Bump up our minimum eventlet version,MERGED,2019-06-17 20:22:40.000000000,2019-07-23 17:53:40.000000000,2019-07-23 17:53:40.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 20:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2521721a5166457faf7a8943cd0e70cc0096ca12', 'message': 'Bump up our minimum eventlet version\n\nWe need 0.25.0 for py3 support, and increasing it for both is simplest.\n\nChange-Id: If933b713bdd1dfc348959771d60c0756a9a94477\n'}, {'number': 2, 'created': '2019-06-18 15:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ba04f5f31180416509854950e70661e26e6616b3', 'message': 'Bump up our minimum eventlet version\n\nWe need 0.25.0 for py3 support, and increasing it for both is simplest.\n\nAlso drag forward dnspython, as newer eventlet requires a newer\ndnspython. And explicitly list it as a dependency for py3 as well as 2.\n\nChange-Id: If933b713bdd1dfc348959771d60c0756a9a94477\n'}, {'number': 3, 'created': '2019-06-20 22:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ccbe620770d0237ce56f56ca62034f2fc6e41e40', 'message': 'Bump up our minimum eventlet version\n\nWe need 0.25.0 for py3 support, and increasing it for both is simplest.\n\nAlso drag forward dnspython, as newer eventlet requires a newer\ndnspython. And explicitly list it as a dependency for py3 as well as 2.\n\nChange-Id: If933b713bdd1dfc348959771d60c0756a9a94477\n'}, {'number': 4, 'created': '2019-06-24 15:23:00.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'swift/obj/ssync_receiver.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0ebfeddf65adb473fda2adfd1705534b6308cd2b', 'message': ""Bump up our minimum eventlet version\n\nWe need 0.25.0 for py3 support, and increasing it for both is simplest.\n\nAlso drag forward dnspython, as newer eventlet requires a newer\ndnspython. Note that we still don't explicitly list it as a dependency\nfor py3; rather, it's been getting installed as a requirement for\neventlet.\n\nChange-Id: If933b713bdd1dfc348959771d60c0756a9a94477\n""}]",0,665758,0ebfeddf65adb473fda2adfd1705534b6308cd2b,14,2,4,15343,,,0,"Bump up our minimum eventlet version

We need 0.25.0 for py3 support, and increasing it for both is simplest.

Also drag forward dnspython, as newer eventlet requires a newer
dnspython. Note that we still don't explicitly list it as a dependency
for py3; rather, it's been getting installed as a requirement for
eventlet.

Change-Id: If933b713bdd1dfc348959771d60c0756a9a94477
",git fetch https://review.opendev.org/openstack/swift refs/changes/58/665758/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,2521721a5166457faf7a8943cd0e70cc0096ca12,py3-eventlet,eventlet==0.25.0,eventlet==0.17.4,2,2
openstack%2Fswift~master~I4768fe41d6347bcae44774730350f4be583bdf15,openstack/swift,master,I4768fe41d6347bcae44774730350f4be583bdf15,Make py36 job voting,MERGED,2019-05-03 20:37:05.000000000,2019-07-23 17:53:38.000000000,2019-07-23 17:53:38.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-05-03 20:37:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/fbf6d847966059db8fb41eaa7952b7f802f16cc6', 'message': 'Make py36 job voting\n\nChange-Id: I4768fe41d6347bcae44774730350f4be583bdf15\n'}]",0,657034,fbf6d847966059db8fb41eaa7952b7f802f16cc6,8,4,1,15343,,,0,"Make py36 job voting

Change-Id: I4768fe41d6347bcae44774730350f4be583bdf15
",git fetch https://review.opendev.org/openstack/swift refs/changes/34/657034/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fbf6d847966059db8fb41eaa7952b7f802f16cc6,, - swift-tox-py36, voting: false,1,1
openstack%2Ftripleo-validations~master~I31feafcdfd8467a00aa96bcafa567ca06b1bd86a,openstack/tripleo-validations,master,I31feafcdfd8467a00aa96bcafa567ca06b1bd86a,Add new role to validate tls-everywhere,MERGED,2019-05-17 21:59:34.000000000,2019-07-23 17:52:09.000000000,2019-07-23 17:52:09.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11491}, {'_account_id': 11589}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-05-17 21:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e664df0ec1dcd01842bc613d7733be094cf63da2', 'message': 'Add new role for tls-everywhere\n\nThis provides a role and playbook for various validations\nwhen deploying tls-everywhere.  I still have a number of\nquestions including:\n-- do we need special tags ?  how do we make sure these tests\n   only run when deploying tls-everywhere?\n-- how is output handled?\n\nRight now, this gives you an idea how things are shaping up.\n\nChange-Id: I31feafcdfd8467a00aa96bcafa567ca06b1bd86a\n'}, {'number': 2, 'created': '2019-05-20 22:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2250785b3abfdd27c8fadf0c54286e233f8a3af9', 'message': 'Add new role for tls-everywhere\n\nThis provides a role and playbook for various validations\nwhen deploying tls-everywhere.\n\nChange-Id: I31feafcdfd8467a00aa96bcafa567ca06b1bd86a\n'}, {'number': 3, 'created': '2019-05-20 22:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ddade8948a9a89bddd1a5e40e96a4e395f08a166', 'message': 'Add new role for tls-everywhere\n\nThis provides a role and playbook for various validations\nwhen deploying tls-everywhere.\n\nChange-Id: I31feafcdfd8467a00aa96bcafa567ca06b1bd86a\n'}, {'number': 4, 'created': '2019-05-27 11:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1c21268f78a063c0443709017cd3a1cc4876e9a6', 'message': 'Add new role for tls-everywhere\n\nThis provides a role and playbook for various validations\nwhen deploying tls-everywhere.\n\nChange-Id: I31feafcdfd8467a00aa96bcafa567ca06b1bd86a\n'}, {'number': 5, 'created': '2019-05-27 12:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7be55bc93b26082ee6c2cb1b4a0e98c0791432d7', 'message': 'Add new role for tls-everywhere\n\nThis provides a role and playbook for various validations\nwhen deploying tls-everywhere.\n\nChange-Id: I31feafcdfd8467a00aa96bcafa567ca06b1bd86a\n'}, {'number': 6, 'created': '2019-05-27 14:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/991374745f2449f896042a979ec5da8232a4c5f4', 'message': 'Add new role for tls-everywhere\n\nThis provides a role and playbook for various validations\nwhen deploying tls-everywhere.\n\nChange-Id: I31feafcdfd8467a00aa96bcafa567ca06b1bd86a\n'}, {'number': 7, 'created': '2019-06-04 12:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c34dd391d34f6ba3e1f290305e1772e0cad28317', 'message': 'Add new role for tls-everywhere\n\nThis provides a role and playbook for various validations\nwhen deploying tls-everywhere.\n\nChange-Id: I31feafcdfd8467a00aa96bcafa567ca06b1bd86a\n'}, {'number': 8, 'created': '2019-06-05 10:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8cc2eaf2f2c4b20c1d7b251ebb72e04b35ce2fe0', 'message': 'Add new role for tls-everywhere\n\nThis provides a role and playbook for various validations\nwhen deploying tls-everywhere.\n\nChange-Id: I31feafcdfd8467a00aa96bcafa567ca06b1bd86a\n'}, {'number': 9, 'created': '2019-06-05 13:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2cc820135395c117749d4dd5e7fa81cafe05f81a', 'message': 'WIP: Add new role for tls-everywhere\n\nThis provides a role and playbook for various validations\nwhen deploying tls-everywhere.\n\nChange-Id: I31feafcdfd8467a00aa96bcafa567ca06b1bd86a\n'}, {'number': 10, 'created': '2019-06-06 07:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8e53da07921e6a2cb5b8c60268340c5d7d77dc11', 'message': 'WIP: Add new role for tls-everywhere\n\nThis provides a role and playbook for various validations\nwhen deploying tls-everywhere.\n\nChange-Id: I31feafcdfd8467a00aa96bcafa567ca06b1bd86a\n'}, {'number': 11, 'created': '2019-06-06 14:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c68f4be2a9460c9b384ee3a716fa54ea1b1f9825', 'message': 'WIP: Add new role for tls-everywhere\n\nThis provides a role and playbook for various validations\nwhen deploying tls-everywhere.\n\nChange-Id: I31feafcdfd8467a00aa96bcafa567ca06b1bd86a\n'}, {'number': 12, 'created': '2019-06-07 09:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2ccc67ac177d0e7f32c34dff6f1b44c96070f0e4', 'message': 'WIP: Add new role for tls-everywhere\n\nThis provides a role and playbook for various validations\nwhen deploying tls-everywhere.\n\nChange-Id: I31feafcdfd8467a00aa96bcafa567ca06b1bd86a\n'}, {'number': 13, 'created': '2019-06-10 12:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9b96bfbf684d673eb7e439813c3a53c74d01abac', 'message': 'WIP: Add new role for tls-everywhere\n\nThis provides a role and playbook for various validations\nwhen deploying tls-everywhere.\n\nChange-Id: I31feafcdfd8467a00aa96bcafa567ca06b1bd86a\n'}, {'number': 14, 'created': '2019-06-11 07:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a5d38799737766b2ae1aae558d6931c255f6618d', 'message': 'WIP: Add new role for tls-everywhere\n\nThis provides a role and playbook for various validations\nwhen deploying tls-everywhere.\n\nChange-Id: I31feafcdfd8467a00aa96bcafa567ca06b1bd86a\n'}, {'number': 15, 'created': '2019-06-14 09:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e146c14d10d58e08c86ec397a881e3adbe7531f2', 'message': 'WIP: Add new role for tls-everywhere\n\nThis provides a role and playbook for various validations\nwhen deploying tls-everywhere.\n\nChange-Id: I31feafcdfd8467a00aa96bcafa567ca06b1bd86a\n'}, {'number': 16, 'created': '2019-07-08 19:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/aa3c4c4210bee961e89248e8b4878fb65cad0870', 'message': 'WIP: Add new role for tls-everywhere\n\nThis provides a role and playbook for various validations\nwhen deploying tls-everywhere.\n\nChange-Id: I31feafcdfd8467a00aa96bcafa567ca06b1bd86a\n'}, {'number': 17, 'created': '2019-07-09 19:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/11b7c78b90b207696f203646441be531c9aef900', 'message': 'Add new role to validate tls-everywhere\n\nThis provides a role and playbooks for various validations\nwhen deploying tls-everywhere.\n\nEssentially this is broken into three phases (playbooks):\n- Verify the the undercloud node is prepared for novajoin prior\n  to installing the undercloud\n- Verify novajoin is setup correctly and that the overcloud is\n  ready to deploy and enroll nodes with the IdM\n- Verify overcloud nodes are enrolled in the IdM with certs\n  tracked an in a MONITOR state by certmonger\n\nCo-Authored-By: Harry Rybacki hrybacki@redhat.com\n\nChange-Id: I31feafcdfd8467a00aa96bcafa567ca06b1bd86a\n'}, {'number': 18, 'created': '2019-07-10 16:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/167eb23b654e608d33fbfc088123ce285cc7d964', 'message': 'Add new role to validate tls-everywhere\n\nThis provides a role and playbooks for various validations\nwhen deploying tls-everywhere.\n\nEssentially this is broken into three phases (playbooks):\n- Verify the the undercloud node is prepared for novajoin prior\n  to installing the undercloud\n- Verify novajoin is setup correctly and that the overcloud is\n  ready to deploy and enroll nodes with the IdM\n- Verify overcloud nodes are enrolled in the IdM with certs\n  tracked an in a MONITOR state by certmonger\n\nCo-Authored-By: Harry Rybacki hrybacki@redhat.com\n\nChange-Id: I31feafcdfd8467a00aa96bcafa567ca06b1bd86a\n'}, {'number': 19, 'created': '2019-07-16 15:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/656bac791747cbf9cf60225d0e1ec49c330f4228', 'message': 'Add new role to validate tls-everywhere\n\nThis provides a role and playbooks for various validations\nwhen deploying tls-everywhere.\n\nEssentially this is broken into three phases (playbooks):\n- Verify the the undercloud node is prepared for novajoin prior\n  to installing the undercloud\n- Verify novajoin is setup correctly and that the overcloud is\n  ready to deploy and enroll nodes with the IdM\n- Verify overcloud nodes are enrolled in the IdM with certs\n  tracked an in a MONITOR state by certmonger\n\nCo-Authored-By: Harry Rybacki hrybacki@redhat.com\n\nChange-Id: I31feafcdfd8467a00aa96bcafa567ca06b1bd86a\n'}, {'number': 20, 'created': '2019-07-22 13:02:02.000000000', 'files': ['roles/tls-everywhere/tasks/pre-deployment-containerized.yaml', 'roles/tls-everywhere/handlers/main.yml', 'roles/tls-everywhere/vars/main.yml', 'playbooks/tls-everywhere-post-deployment.yaml', 'playbooks/tls-everywhere-pre-deployment.yaml', 'library/reportentry.py', 'roles/tls-everywhere/tasks/prep.yaml', 'roles/tls-everywhere/tasks/common.yaml', 'roles/tls-everywhere/tasks/pre-deployment.yaml', 'playbooks/tls-everywhere-prep.yaml', 'roles/tls-everywhere/tasks/pre-deployment-non-containerized.yaml', 'roles/tls-everywhere/defaults/main.yml', 'roles/tls-everywhere/tasks/overcloud-post-deployment.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fe467b21e0a9f100ca7544944fd2efb13d089269', 'message': 'Add new role to validate tls-everywhere\n\nThis provides a role and playbooks for various validations\nwhen deploying tls-everywhere.\n\nEssentially this is broken into three phases (playbooks):\n- Verify the the undercloud node is prepared for novajoin prior\n  to installing the undercloud\n- Verify novajoin is setup correctly and that the overcloud is\n  ready to deploy and enroll nodes with the IdM\n- Verify overcloud nodes are enrolled in the IdM with certs\n  tracked an in a MONITOR state by certmonger\n\nCo-Authored-By: Harry Rybacki hrybacki@redhat.com\n\nChange-Id: I31feafcdfd8467a00aa96bcafa567ca06b1bd86a\n'}]",40,659885,fe467b21e0a9f100ca7544944fd2efb13d089269,78,14,20,9914,,,0,"Add new role to validate tls-everywhere

This provides a role and playbooks for various validations
when deploying tls-everywhere.

Essentially this is broken into three phases (playbooks):
- Verify the the undercloud node is prepared for novajoin prior
  to installing the undercloud
- Verify novajoin is setup correctly and that the overcloud is
  ready to deploy and enroll nodes with the IdM
- Verify overcloud nodes are enrolled in the IdM with certs
  tracked an in a MONITOR state by certmonger

Co-Authored-By: Harry Rybacki hrybacki@redhat.com

Change-Id: I31feafcdfd8467a00aa96bcafa567ca06b1bd86a
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/85/659885/19 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tls-everywhere/templates/report-template-txt.j2', 'playbooks/tls-everywhere.yaml', 'roles/tls-everywhere/tasks/prep.yaml', 'roles/tls-everywhere/handlers/main.yml', 'roles/tls-everywhere/meta/main.yml', 'roles/tls-everywhere/tasks/common.yaml', 'roles/tls-everywhere/vars/main.yml', 'roles/tls-everywhere/tasks/pre-deployment.yaml', 'roles/tls-everywhere/tasks/reportentry.yaml', 'roles/tls-everywhere/defaults/main.yml', 'roles/tls-everywhere/tasks/overcloud-post-deployment.yaml']",11,e664df0ec1dcd01842bc613d7733be094cf63da2,tls-everywhere,"--- # Check for certmonger user service - name: Check if the certmonger user service has been enabled command: hiera -c /etc/puppet/hiera.yaml certmonger_user_enabled become: true changed_when: false register: certmonger_user_enabled - name: Set facts for certmonger user service not enabled set_fact: certmonger_user_service_status: '{{ helper_status_error }}' certmonger_user_service_reason: 'The certmonger user service is not enabled for this role' certmonger_user_service_recommendations: - ""Please add the 'OS::TripleO::Services::CertmongerUser' service to all of your TripleO roles."" when: certmonger_user_enabled.stdout != ""true"" - name: Set facts for certmonger user service enabled set_fact: certmonger_user_service_status: '{{ helper_status_ok }}' certmonger_user_service_reason: 'This role contains the certmonger user service' certmonger_user_service_recommendations: null when: certmonger_user_enabled.stdout == ""true"" - name: Report status of the certificates import_tasks: reportentry.yaml vars: report_check: ""Certmonger user service check"" report_status: '{{ certmonger_user_service_status }}' report_host: '{{ ansible_hostname }}' report_reason: '{{ certmonger_user_service_reason }}' report_recommendations: '{{ certmonger_user_service_recommendations }}' # Certificate checks # Get all the certificates that certmonger is tracking. Given the # command that's used, we can retrieve each entry using stdout_lines. - name: Get all certificate names in each node shell: getcert list | grep 'Request ID' | sed ""s/Request ID '\(.*\)':/\1/"" become: true changed_when: false register: all_certnames # Get status of all certificates and trim the leading whitespaces - name: Get status of all certificates shell: getcert list -i {{ certname }} | grep ""status:"" | sed ""s/^\s*//"" become: true changed_when: false loop: ""{{ all_certnames.stdout_lines }}"" loop_control: loop_var: certname register: all_cert_status - name: Gather certificates that are not in MONITORING status set_fact: failed_certs: ""{{ all_cert_status.results | json_query(cert_status_query) }}"" vars: cert_status_query: ""[?stdout != 'status: MONITORING'].certname"" - name: Set facts for certificates in failed status set_fact: cert_status_status: '{{ helper_status_error }}' cert_status_reason: 'The following certificates are not in a healthy status: {{ failed_certs | join("", "") }}' cert_status_recommendations: - ""Log into this host and do 'getcert list -i <cert name>' to verify the failure reason"" - ""Verify that the service principal of the certificate is present in IdM/FreeIPA for this host"" when: failed_certs - name: Set facts for all certificates in monitoring status set_fact: cert_status_status: '{{ helper_status_ok }}' cert_status_reason: 'All of the certificates are a healthy status' cert_status_recommendations: null when: not failed_certs - name: Report status of the certificates import_tasks: reportentry.yaml vars: report_check: ""Status of the certificates check"" report_status: '{{ cert_status_status }}' report_host: '{{ ansible_hostname }}' report_reason: '{{ cert_status_reason }}' report_recommendations: '{{ cert_status_recommendations }}' ",,890,0
openstack%2Fpython-tripleoclient~stable%2Fstein~I1151923f3f0de7acf505a0beda3b7488c8ed8dec,openstack/python-tripleoclient,stable/stein,I1151923f3f0de7acf505a0beda3b7488c8ed8dec,Renaming 'Metadata' column by 'Parameters' when listing validations,MERGED,2019-07-22 08:33:55.000000000,2019-07-23 17:42:49.000000000,2019-07-23 17:42:49.000000000,"[{'_account_id': 8449}, {'_account_id': 11082}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-22 08:33:55.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f54216dfd59183dc460c2c54b90ea7891ada19a5', 'message': ""Renaming 'Metadata' column by 'Parameters' when listing validations\n\nAll the available Ansible variables for each Validations are now\nprocessed as parameters and not as metadata anymore.\n\nChange-Id: I1151923f3f0de7acf505a0beda3b7488c8ed8dec\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit e0d35b30de42455b098174ce754da323849958cb)\n""}]",0,671983,f54216dfd59183dc460c2c54b90ea7891ada19a5,10,9,1,11491,,,0,"Renaming 'Metadata' column by 'Parameters' when listing validations

All the available Ansible variables for each Validations are now
processed as parameters and not as metadata anymore.

Change-Id: I1151923f3f0de7acf505a0beda3b7488c8ed8dec
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit e0d35b30de42455b098174ce754da323849958cb)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/83/671983/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,f54216dfd59183dc460c2c54b90ea7891ada19a5,bp/validation-framework-stable/stein," # TODO(gchamoul): Added for backwards compatibility and will be removed for # Train Release. if 'parameters' in validations_data['validations'][0]: param_field_name = 'parameters' else: param_field_name = 'metadata' t.field_names = [ ""ID"", ""Name"", ""Description"", ""Groups"", param_field_name.capitalize() ] validation[param_field_name]]) t.align[param_field_name.capitalize()] = ""l"""," t.field_names = [""ID"", ""Name"", ""Description"", ""Groups"", ""Metadata""] validation['metadata']]) t.align[""Metadata""] = ""l""",15,3
openstack%2Fos-vif~master~I5052f47d563a89f83af2eee5ba96c833e94e984c,openstack/os-vif,master,I5052f47d563a89f83af2eee5ba96c833e94e984c,modify functional base.py to allow using vscode,ABANDONED,2019-02-20 01:53:39.000000000,2019-07-23 17:30:19.000000000,,"[{'_account_id': 7}, {'_account_id': 7730}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-20 01:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/58383ba0e8f5d35224924ee34dbcf7c18bbd8040', 'message': 'modify functional base.py to allow using vscode\n\n- In order to be able to run and debug the os-vif\n  functional tests in vscode a fallback path is\n  required to search for the privesep wrapper due\n  to how the tests are executed using pytest.\n- When executed by vscode the VIRTUAL_ENV env var is\n  not set when reusing tox venvs. to work around this\n  we fall back to looking for the privsep-helper\n  in the same directory as the python binary we are\n  using. If you are using a tox venv this will be\n  the venv bin dir otherwise it will be the system\n  bin dir.\n- To execute the functional tests you will via\n  vscode you will need to either run it as root\n  or have passwordless sudo right so that the tests\n  can launch the privsep deamon with sudo.\n- To use the virtual envs created by tox form vscode\n  you will need to add the following to your workspace\n  settings.json:\n\n  ""python.venvPath"": ""${workspaceFolder}/.tox"",\n  ""python.unitTest.unittestArgs"": [\n        ""-v"",\n        ""-s"",\n        ""."",\n        ""-p"",\n        ""test*.py""\n    ],\n    ""python.unitTest.pyTestEnabled"": true\n\nChange-Id: I5052f47d563a89f83af2eee5ba96c833e94e984c\n'}, {'number': 2, 'created': '2019-02-25 14:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/70b3fae70642dc4efd2cdfe9741fa7d477d8b5f2', 'message': 'modify functional base.py to allow using vscode\n\n- In order to be able to run and debug the os-vif\n  functional tests in vscode a fallback path is\n  required to search for the privesep wrapper due\n  to how the tests are executed using pytest.\n- When executed by vscode the VIRTUAL_ENV env var is\n  not set when reusing tox venvs. to work around this\n  we fall back to looking for the privsep-helper\n  in the same directory as the python binary we are\n  using. If you are using a tox venv this will be\n  the venv bin dir otherwise it will be the system\n  bin dir.\n- To execute the functional tests you will via\n  vscode you will need to either run it as root\n  or have passwordless sudo right so that the tests\n  can launch the privsep deamon with sudo.\n- To use the virtual envs created by tox form vscode\n  you will need to add the following to your workspace\n  settings.json:\n\n  ""python.venvPath"": ""${workspaceFolder}/.tox"",\n  ""python.unitTest.unittestArgs"": [\n        ""-v"",\n        ""-s"",\n        ""."",\n        ""-p"",\n        ""test*.py""\n    ],\n    ""python.unitTest.pyTestEnabled"": true\n\nChange-Id: I5052f47d563a89f83af2eee5ba96c833e94e984c\n'}, {'number': 3, 'created': '2019-02-25 19:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/d266166a417a0e3e5ae203f614ca50b5a2bef686', 'message': 'modify functional base.py to allow using vscode\n\n- In order to be able to run and debug the os-vif\n  functional tests in vscode a fallback path is\n  required to search for the privesep wrapper due\n  to how the tests are executed using pytest.\n- When executed by vscode the VIRTUAL_ENV env var is\n  not set when reusing tox venvs. to work around this\n  we fall back to looking for the privsep-helper\n  in the same directory as the python binary we are\n  using. If you are using a tox venv this will be\n  the venv bin dir otherwise it will be the system\n  bin dir.\n- To execute the functional tests via vscode you will\n  need to either run it as root or have passwordless\n  sudo right so that the tests can launch the privsep\n  deamon with sudo.\n- To use the virtual envs created by tox from vscode\n  you will need to add the following to your workspace\n  settings.json:\n\n  ""python.venvPath"": ""${workspaceFolder}/.tox"",\n  ""python.unitTest.unittestArgs"": [\n        ""-v"",\n        ""-s"",\n        ""."",\n        ""-p"",\n        ""test*.py""\n    ],\n    ""python.unitTest.pyTestEnabled"": true\n\nChange-Id: I5052f47d563a89f83af2eee5ba96c833e94e984c\n'}, {'number': 4, 'created': '2019-02-26 16:34:35.000000000', 'files': ['doc/source/devref/vs-code.rst', 'doc/source/index.rst', 'os_vif/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/71b84994fdac325893abee4396d6186b4e0b36ff', 'message': 'modify functional base.py to allow using vscode\n\n- In order to be able to run and debug the os-vif\n  functional tests in vscode a fallback path is\n  required to search for the privesep wrapper due\n  to how the tests are executed using pytest.\n- When executed by vscode the VIRTUAL_ENV env var is\n  not set when reusing tox venvs. to work around this\n  we fall back to looking for the privsep-helper\n  in the same directory as the python binary we are\n  using. If you are using a tox venv this will be\n  the venv bin dir otherwise it will be the system\n  bin dir.\n- To execute the functional tests via vscode you will\n  need to either run it as root or have passwordless\n  sudo right so that the tests can launch the privsep\n  deamon with sudo.\n- To use the virtual envs created by tox from vscode\n  you will need to add the following to your workspace\n  settings.json:\n\n  ""python.venvPath"": ""${workspaceFolder}/.tox"",\n  ""python.unitTest.unittestArgs"": [\n        ""-v"",\n        ""-s"",\n        ""."",\n        ""-p"",\n        ""test*.py""\n    ],\n    ""python.unitTest.pyTestEnabled"": true\n\nChange-Id: I5052f47d563a89f83af2eee5ba96c833e94e984c\n'}]",37,638058,71b84994fdac325893abee4396d6186b4e0b36ff,18,6,4,11604,,,0,"modify functional base.py to allow using vscode

- In order to be able to run and debug the os-vif
  functional tests in vscode a fallback path is
  required to search for the privesep wrapper due
  to how the tests are executed using pytest.
- When executed by vscode the VIRTUAL_ENV env var is
  not set when reusing tox venvs. to work around this
  we fall back to looking for the privsep-helper
  in the same directory as the python binary we are
  using. If you are using a tox venv this will be
  the venv bin dir otherwise it will be the system
  bin dir.
- To execute the functional tests via vscode you will
  need to either run it as root or have passwordless
  sudo right so that the tests can launch the privsep
  deamon with sudo.
- To use the virtual envs created by tox from vscode
  you will need to add the following to your workspace
  settings.json:

  ""python.venvPath"": ""${workspaceFolder}/.tox"",
  ""python.unitTest.unittestArgs"": [
        ""-v"",
        ""-s"",
        ""."",
        ""-p"",
        ""test*.py""
    ],
    ""python.unitTest.pyTestEnabled"": true

Change-Id: I5052f47d563a89f83af2eee5ba96c833e94e984c
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/58/638058/3 && git format-patch -1 --stdout FETCH_HEAD,['os_vif/tests/functional/base.py'],1,58383ba0e8f5d35224924ee34dbcf7c18bbd8040,py3-functional," os.getenv('VIRTUAL_ENV', os.path.dirname(sys.executable)[:-4]), 'bin', 'privsep-helper')"," os.getenv('VIRTUAL_ENV'), 'bin', 'privsep-helper')",2,1
openstack%2Fkolla~stable%2Fstein~I16d5f79c00473e5113aee3739defc822b516bda4,openstack/kolla,stable/stein,I16d5f79c00473e5113aee3739defc822b516bda4,storm: fetch storm archive from upstream,MERGED,2019-07-22 10:53:31.000000000,2019-07-23 17:25:35.000000000,2019-07-23 17:25:35.000000000,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-22 10:53:31.000000000', 'files': ['docker/storm/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/eb20d04ed153b06e8d5f2f0e83fbcad5c271400c', 'message': 'storm: fetch storm archive from upstream\n\nURL in Dockerfile was giving us 404 error\n\nChange-Id: I16d5f79c00473e5113aee3739defc822b516bda4\n(cherry picked from commit c73815347e2e6a456c29dc1f6d93d7ed5c8f7c59)\n'}]",0,672007,eb20d04ed153b06e8d5f2f0e83fbcad5c271400c,30,6,1,24072,,,0,"storm: fetch storm archive from upstream

URL in Dockerfile was giving us 404 error

Change-Id: I16d5f79c00473e5113aee3739defc822b516bda4
(cherry picked from commit c73815347e2e6a456c29dc1f6d93d7ed5c8f7c59)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/07/672007/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/storm/Dockerfile.j2'],1,eb20d04ed153b06e8d5f2f0e83fbcad5c271400c,,ENV storm_url=https://archive.apache.org/dist/storm/apache-storm-${storm_version}/apache-storm-${storm_version}.tar.gz,ENV storm_url=http://www.mirrorservice.org/sites/ftp.apache.org/storm/apache-storm-${storm_version}/apache-storm-${storm_version}.tar.gz,1,1
openstack%2Fnova~master~Ibbb919985842efa7296a5f105da215c8a3262811,openstack/nova,master,Ibbb919985842efa7296a5f105da215c8a3262811,Add functional test to resize volume-backed server with zero root disk,ABANDONED,2019-07-22 15:12:02.000000000,2019-07-23 17:11:51.000000000,,"[{'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-22 15:12:02.000000000', 'files': ['nova/tests/functional/wsgi/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f10272c744312da6e86c33ea48ea656ff009a982', 'message': 'Add functional test to resize volume-backed server with zero root disk\n\nThis adds a resize wrinkle to the functional testing for the\n""os_compute_api:servers:create:zero_disk_flavor"" policy rule\nwhich is used to allow whether or not a user can create a server\nwith a flavor that has zero root disk - by default only admins\ncan do that, non-admins can only use zero root disk flavors for\nvolume-backed servers.\n\n5e7b840e48eb480ba1955e6ba52fbcaf9884c3fa potentially regressed\nthat flow for resize in Stein but was likely fixed with change\nI91c9c1e88afa035c757f692c78ad72d69cc3c431.\n\nChange-Id: Ibbb919985842efa7296a5f105da215c8a3262811\nRelated-Bug: #1837054\n'}]",0,672067,f10272c744312da6e86c33ea48ea656ff009a982,9,7,1,6873,,,0,"Add functional test to resize volume-backed server with zero root disk

This adds a resize wrinkle to the functional testing for the
""os_compute_api:servers:create:zero_disk_flavor"" policy rule
which is used to allow whether or not a user can create a server
with a flavor that has zero root disk - by default only admins
can do that, non-admins can only use zero root disk flavors for
volume-backed servers.

5e7b840e48eb480ba1955e6ba52fbcaf9884c3fa potentially regressed
that flow for resize in Stein but was likely fixed with change
I91c9c1e88afa035c757f692c78ad72d69cc3c431.

Change-Id: Ibbb919985842efa7296a5f105da215c8a3262811
Related-Bug: #1837054
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/672067/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/wsgi/test_servers.py'],1,f10272c744312da6e86c33ea48ea656ff009a982,bug/1837054," def _create_server(self, name): server_req = self._build_minimal_create_server_request( self.api, name, flavor_id=self.zero_disk_flavor['id']) server_req.pop('imageRef', None) server_req['block_device_mapping_v2'] = [{ 'uuid': nova_fixtures.CinderFixture.IMAGE_BACKED_VOL, 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 0 }] return self.admin_api.post_server({'server': server_req}) server = self._create_server( 'test_create_volume_backed_server_with_zero_disk_allowed') def test_resize_volume_backed_server_with_zero_disk(self): """"""Tests that creating and then resizing a volume-backed server with zero-root disk flavors will be allowed by default for admins. """""" self.useFixture(func_fixtures.PlacementFixture()) self.useFixture(nova_fixtures.CinderFixture(self)) self.start_service('conductor') self.start_service('scheduler') self.start_service('compute') server = self._create_server( 'test_resize_volume_backed_server_with_zero_disk') server = self._wait_for_state_change(self.api, server, 'ACTIVE') # Create a second flavor for the resize. flavor_req = { ""flavor"": { ""name"": ""zero-disk-flavor-2048-ram"", ""ram"": 2048, ""vcpus"": 2, ""disk"": 0 } } flavor2 = self.admin_api.post_flavor(flavor_req) # Since we only have one compute we need to enable same-host resize. self.flags(allow_resize_to_same_host=True) resize_req = { 'resize': { 'flavorRef': flavor2['id'] } } self.admin_api.post_server_action(server['id'], resize_req) self._wait_for_state_change(self.api, server, 'VERIFY_RESIZE')"," server_req = self._build_minimal_create_server_request( self.api, 'test_create_volume_backed_server_with_zero_disk_allowed', flavor_id=self.zero_disk_flavor['id']) server_req.pop('imageRef', None) server_req['block_device_mapping_v2'] = [{ 'uuid': nova_fixtures.CinderFixture.IMAGE_BACKED_VOL, 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 0 }] server = self.admin_api.post_server({'server': server_req})",46,12
openstack%2Fpatrole~master~I71c211f91c320299c873652f46acd5cb93afb825,openstack/patrole,master,I71c211f91c320299c873652f46acd5cb93afb825,Add releasenote to tag the end of support for Pike,MERGED,2019-07-13 16:10:20.000000000,2019-07-23 17:04:08.000000000,2019-07-23 17:04:07.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-07-13 16:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/5978d0be835633137264cf264f78684473972131', 'message': 'Add releasenote to tag the end of support for Pike\n\nThis relesenote also mark end of support for Pike release\nin Patrole as Pike is in EM state[1].\n\n[1] https://releases.openstack.org/\n\nChange-Id: I71c211f91c320299c873652f46acd5cb93afb825\n'}, {'number': 2, 'created': '2019-07-15 18:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/84b94ba934ee1cbe3e055398b7ae39b6840735bd', 'message': 'Add releasenote to tag the end of support for Pike\n\nThis relesenote also mark end of support for Pike release\nin Patrole as Pike is in EM state[1].\n\n[1] https://releases.openstack.org/\n\nChange-Id: I71c211f91c320299c873652f46acd5cb93afb825\n'}, {'number': 3, 'created': '2019-07-17 13:00:01.000000000', 'files': ['releasenotes/notes/intermediate-train-release-c8f2da843a6e3809.yaml'], 'web_link': 'https://opendev.org/openstack/patrole/commit/bad5c037bde3484f540455bd4a094df3178f0a5d', 'message': 'Add releasenote to tag the end of support for Pike\n\nThis relesenote also mark end of support for Pike release\nin Patrole as Pike is in EM state[1].\n\n[1] https://releases.openstack.org/\n\nChange-Id: I71c211f91c320299c873652f46acd5cb93afb825\n'}]",0,670702,bad5c037bde3484f540455bd4a094df3178f0a5d,11,3,3,8556,,,0,"Add releasenote to tag the end of support for Pike

This relesenote also mark end of support for Pike release
in Patrole as Pike is in EM state[1].

[1] https://releases.openstack.org/

Change-Id: I71c211f91c320299c873652f46acd5cb93afb825
",git fetch https://review.opendev.org/openstack/patrole refs/changes/02/670702/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/intermediate-train-release-c8f2da843a6e3809.yaml'],1,5978d0be835633137264cf264f78684473972131,,"--- prelude: > This is an intermediate release during the Train development cycle to marks the end of support for Pike in Patrole. After this release, Patrole will support below OpenStack Releases: * Stein * Rocky * Queens Current development of Patrole is for OpenStack Train development cycle. ",,10,0
openstack%2Fpatrole~master~Id62e27156aefbac98a0eac27fa0fbdc55a21b138,openstack/patrole,master,Id62e27156aefbac98a0eac27fa0fbdc55a21b138,"Revert ""Update master for stable/stein""",MERGED,2019-07-13 12:26:23.000000000,2019-07-23 17:02:32.000000000,2019-07-23 17:02:31.000000000,"[{'_account_id': 8556}, {'_account_id': 8911}, {'_account_id': 22348}, {'_account_id': 22816}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-07-13 12:26:23.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/stein.rst'], 'web_link': 'https://opendev.org/openstack/patrole/commit/5bb8f59557c6fb403d997d1d131cc508bf02d909', 'message': 'Revert ""Update master for stable/stein""\n\nThis reverts commit 27fdf563f0a8e5d3686b1cde087520ee4bb40772.\n\nChange-Id: Id62e27156aefbac98a0eac27fa0fbdc55a21b138\n'}]",0,670695,5bb8f59557c6fb403d997d1d131cc508bf02d909,9,5,1,8556,,,0,"Revert ""Update master for stable/stein""

This reverts commit 27fdf563f0a8e5d3686b1cde087520ee4bb40772.

Change-Id: Id62e27156aefbac98a0eac27fa0fbdc55a21b138
",git fetch https://review.opendev.org/openstack/patrole refs/changes/95/670695/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/stein.rst']",2,5bb8f59557c6fb403d997d1d131cc508bf02d909,reno-stein,,=================================== Stein Series Release Notes =================================== .. release-notes:: :branch: stable/stein ,0,7
openstack%2Ftripleo-validations~stable%2Fstein~I5dc5ad09684a90ff4f98be3ae570c85c2937211a,openstack/tripleo-validations,stable/stein,I5dc5ad09684a90ff4f98be3ae570c85c2937211a,Fix unittests for Stein,MERGED,2019-07-22 12:43:34.000000000,2019-07-23 17:00:58.000000000,2019-07-23 17:00:58.000000000,"[{'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-22 12:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/24476bf8e5db36ab2ffddcb760520ee19028515c', 'message': 'Fix unittests for Stein\n\nWe still were testing validations dir contents which is deprecated in\nstable/stein. This patch fixes the unittests by testing the right\nlibraries from the right place.\n\nChange-Id: I5dc5ad09684a90ff4f98be3ae570c85c2937211a\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2019-07-23 09:46:12.000000000', 'files': ['tripleo_validations/tests/library/test_ovs_dpdk_pmd_cpus_check.py', 'tripleo_validations/tests/library/test_ini.py', 'tripleo_validations/tests/library/test_switch_vlans.py', 'tripleo_validations/tests/library/test_node_disks.py', 'tripleo_validations/tests/library/test_check_package_update.py', 'tripleo_validations/tests/library/test_network_environment.py', 'library/__init__.py', 'tripleo_validations/tests/library/test_ip_range.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7aa56fa47c6f9159fa808aa34c74585196fdbdd7', 'message': 'Fix unittests for Stein\n\nWe still were testing validations dir contents which is deprecated in\nstable/stein. This patch fixes the unittests by testing the right\nlibraries from the right place.\n\nChange-Id: I5dc5ad09684a90ff4f98be3ae570c85c2937211a\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",0,672032,7aa56fa47c6f9159fa808aa34c74585196fdbdd7,9,4,2,11491,,,0,"Fix unittests for Stein

We still were testing validations dir contents which is deprecated in
stable/stein. This patch fixes the unittests by testing the right
libraries from the right place.

Change-Id: I5dc5ad09684a90ff4f98be3ae570c85c2937211a
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/32/672032/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_validations/tests/library/test_ovs_dpdk_pmd_cpus_check.py', 'tripleo_validations/tests/library/test_ini.py', 'tripleo_validations/tests/library/test_switch_vlans.py', 'tripleo_validations/tests/library/test_node_disks.py', 'tripleo_validations/tests/library/test_check_package_update.py', 'tripleo_validations/tests/library/test_network_environment.py', 'library/__init__.py', 'tripleo_validations/tests/library/test_ip_range.py']",8,24476bf8e5db36ab2ffddcb760520ee19028515c,backup-jun24-stable/stein,import library.ip_range as validation,import validations.library.ip_range as validation,20,20
openstack%2Fsushy~master~I6d64d27ec456e46c2cb5052f93a91d9e06ba82de,openstack/sushy,master,I6d64d27ec456e46c2cb5052f93a91d9e06ba82de,Add foundation for supporting Redfish OEMs,MERGED,2017-05-10 16:54:05.000000000,2019-07-23 16:57:37.000000000,2019-02-28 11:07:22.000000000,"[{'_account_id': 10202}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 16635}, {'_account_id': 22348}, {'_account_id': 26340}]","[{'number': 1, 'created': '2017-05-10 16:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/fcb15870b23693675eef4d04f6f811f90ae03bfa', 'message': '[WIP] Add foundation for redfish OEM extensions\n\nThis patch adds the foundation structure for having resource\nclasses which can parse oem extension attributes.\n\nTODO: Add unit test cases\nTODO: More refinements are still needed\n\nChange-Id: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\nPartial-Bug: 1689605\n'}, {'number': 2, 'created': '2017-05-15 07:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/6d722ae026fa4580ef9a3474a85b193c6055d8b0', 'message': '[WIP] Add foundation for redfish OEM extensions\n\nThis patch adds the foundation structure for having resource\nclasses which can parse oem extension attributes.\n\nTODO: Add unit test cases\nTODO: Some more refinements\n\nChange-Id: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\nPartial-Bug: 1689605\n'}, {'number': 3, 'created': '2017-05-17 07:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/dad3b531fc4e043a627831548cf00ea1d35f921e', 'message': ""Add backbone for parsing redfish OEM extensions\n\n* Create the foundation for resource classes which can parse\n  oem extension attributes. In essence it provides a framework\n  to dynamically load the varied oem resource extensions using\n  stevedore. The target entry points are lazily invoked on\n  demand.\n* Entry points added with name 'contoso' in setup.cfg\n* A new folder structure added for oem extensions modules -\n  'sushy/resources/oem/'\n* Base classes for System extensions and SystemCollection\n  extensions added. It needs the OEM vendor string while\n  initializing.\n* Sushy (in main.py) starts accepting 'oem_vendor_string' in its\n  constructor. Default value is None.\n* Provides a fake resource extension for both System and\n  SystemCollection as a ready reckoner for oems.\n* Using the existing json samples which consists of Oem\n  string as 'Contoso', a fictitious company, for unit testing\n  purpose.\n* Add Resource Oem extension related exceptions\n\nPartial-Bug: 1689605\nChange-Id: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\n""}, {'number': 4, 'created': '2017-10-03 10:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/92171b822a85e0d4e8493bd93489e2cc59400b2c', 'message': '[WIP] Add foundation for supporting redfish OEMs\n\nThis is to create the foundation for supporting resource\nextensibility as proposed in Redfish specification [0]. In essence\nit tries to provide a framework to dynamically load the varied oem\nresource extensions using stevedore. The target entry points are\nlazily invoked on demand. Other features as below:\n\n* Provides API in Resource Base classes to discover the available OEM\n  extensions. Also provides another API to get the resource extn\n  object based on the OEM vendor string.\n* Add Resource Oem extension related exception\n\n[0] http://redfish.dmtf.org/schemas/DSP0266_1.1.html#resource-extensibility\n\nPartial-Bug: 1689605\n\nChange-Id: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\n'}, {'number': 5, 'created': '2017-10-03 11:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/1d06ce52b1a6527b677f0ea4435f15d680eb166a', 'message': '[WIP] Add foundation for supporting redfish OEMs\n\nThis is to create the foundation for supporting resource\nextensibility as proposed in Redfish specification [0]. In essence\nit tries to provide a framework to dynamically load the varied oem\nresource extensions using stevedore. The target entry points are\nlazily invoked on demand. Other features as below:\n\n* Provides API in Resource Base classes to discover the available OEM\n  extensions. Also provides another API to get the resource extn\n  object based on the OEM vendor string.\n* Add Resource Oem extension related exception\n\n[0] http://redfish.dmtf.org/schemas/DSP0266_1.1.html#resource-extensibility\n\nPartial-Bug: 1689605\n\nChange-Id: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\n'}, {'number': 6, 'created': '2017-10-06 11:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/e54c9941ced9399d621765650dc857f08689e7f7', 'message': ""Add foundation for supporting redfish OEMs\n\nThis is to create the foundation for supporting resource\nextensibility as proposed in Redfish specification [0]. In essence\nit tries to provide a framework to dynamically load the varied oem\nresource extensions using stevedore. The target entry points are\nlazily invoked on demand. Other features as below:\n\n* Provides an attribute 'available_oem_names' in Resource Base class\n  to discover the available OEM extensions. Also provides another API\n  to get the resource extension object based on the OEM vendor string.\n* Provides the foundation for classes which can parse OEM extension\n  attributes. Also a framework to dynamically load the varied OEM\n  resource extensions using ``stevedore``. The target entry points\n  are lazily invoked on demand.\n* Entry points added with name 'Contoso' in setup.cfg\n* A new folder structure added for oem extensions framework -\n  'sushy/resources/oem/'\n* Provides a fake resource extension as a ready reckoner for OEMs.\n* Uses the existing json sample which consists of OEM string as\n  'Contoso', a fictitious company, for unit testing purpose.\n* Add Resource Oem extension related exceptions\n\n[0] http://redfish.dmtf.org/schemas/DSP0266_1.1.html#resource-extensibility\nPartial-Bug: 1689605\n\nChange-Id: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\n""}, {'number': 7, 'created': '2018-09-10 13:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/1d233de00e28ba4c88bba4ee28bd20a08c2d968d', 'message': ""Add foundation for supporting redfish OEMs\n\nThis is to create the foundation for supporting resource\nextensibility as proposed in Redfish specification [0]. In essence\nit tries to provide a framework to dynamically load the varied oem\nresource extensions using stevedore. The target entry points are\nlazily invoked on demand. Other features as below:\n\n* Provides an attribute 'available_oem_names' in Resource Base class\n  to discover the available OEM extensions. Also provides another API\n  to get the resource extension object based on the OEM vendor string.\n* Provides the foundation for classes which can parse OEM extension\n  attributes. Also a framework to dynamically load the varied OEM\n  resource extensions using ``stevedore``. The target entry points\n  are lazily invoked on demand.\n* Entry points added with name 'Contoso' in setup.cfg\n* A new folder structure added for oem extensions framework -\n  'sushy/resources/oem/'\n* Provides a fake resource extension as a ready reckoner for OEMs.\n* Uses the existing json sample which consists of OEM string as\n  'Contoso', a fictitious company, for unit testing purpose.\n* Add Resource Oem extension related exceptions\n\n[0] http://redfish.dmtf.org/schemas/DSP0266_1.1.html#resource-extensibility\nPartial-Bug: 1689605\n\nChange-Id: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\n""}, {'number': 8, 'created': '2018-09-17 11:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/8bd4dd1eb97cfddef4e41144b683784b240ff03d', 'message': ""Add foundation for supporting Redfish OEMs\n\nThis is to create the foundation for supporting resource\nextensibility as proposed in Redfish specification [0]. In essence\nit tries to provide a framework to dynamically load the varied oem\nresource extensions using stevedore. The target entry points are\nlazily invoked on demand. Other features as below:\n\n* Provides an attribute 'available_oem_names' in Resource Base class\n  to discover the available OEM extensions. Also provides another API\n  to get the resource extension object based on the OEM vendor string.\n* Provides the foundation for classes which can parse OEM extension\n  attributes. Also a framework to dynamically load the varied OEM\n  resource extensions using ``stevedore``. The target entry points\n  are lazily invoked on demand.\n* Entry points added with name 'Contoso' in setup.cfg\n* A new folder structure added for oem extensions framework -\n  'sushy/resources/oem/'\n* Provides a fake resource extension as a ready reckoner for OEMs.\n* Uses the existing json sample which consists of OEM string as\n  'Contoso', a fictitious company, for unit testing purpose.\n* Add Resource Oem extension related exceptions\n\n[0] http://redfish.dmtf.org/schemas/DSP0266_1.1.html#resource-extensibility\n\nStory: 1689605\nTask: 12039\nChange-Id: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\n""}, {'number': 9, 'created': '2018-09-18 08:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/15cccaa27b1aeb22a2836f9043f93ee1fa852fcf', 'message': ""Add foundation for supporting Redfish OEMs\n\nThis is to create the foundation for supporting resource\nextensibility as proposed in Redfish specification [0]. In essence\nit tries to provide a framework to dynamically load the varied oem\nresource extensions using stevedore. The target entry points are\nlazily invoked on demand. Other features as below:\n\n* Provides an attribute 'available_oem_names' in Resource Base class\n  to discover the available OEM extensions. Also provides another API\n  to get the resource extension object based on the OEM vendor string.\n* Provides the foundation for classes which can parse OEM extension\n  attributes. Also a framework to dynamically load the varied OEM\n  resource extensions using ``stevedore``. The target entry points\n  are lazily invoked on demand.\n* Entry points added with name 'Contoso' in setup.cfg\n* A new folder structure added for oem extensions framework -\n  'sushy/resources/oem/'\n* Provides a fake resource extension as a ready reckoner for OEMs.\n* Uses the existing json sample which consists of OEM string as\n  'Contoso', a fictitious company, for unit testing purpose.\n* Add Resource Oem extension related exceptions\n\n[0] http://redfish.dmtf.org/schemas/DSP0266_1.1.html#resource-extensibility\n\nStory: 1689605\nTask: 12039\nChange-Id: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\n""}, {'number': 10, 'created': '2018-10-24 11:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/0605b68718645215e432b9c264530c4605c6eb5f', 'message': ""Add foundation for supporting Redfish OEMs\n\nThis is to create the foundation for supporting resource\nextensibility as proposed in Redfish specification [0]. In essence\nit tries to provide a framework to dynamically load the varied OEM\nresource extensions using stevedore. The target entry points are\nlazily invoked on demand. Other features as below:\n\n* Provides an attribute 'oem_vendors' in Resource Base class\n  to discover the available OEM extensions. Also provides another API\n  to get the resource extension object based on the OEM vendor string.\n* Provides the foundation for classes which can parse OEM extension\n  attributes. Also a framework to dynamically load the varied OEM\n  resource extensions using ``stevedore``. The target entry points\n  are lazily invoked on demand.\n* Entry points added with name 'Contoso' in setup.cfg\n* A new folder structure added for OEM extensions framework -\n  'sushy/resources/oem/'\n* Provides a fake resource extension as a ready reckoner for OEMs.\n* Uses the existing json sample which consists of OEM string as\n  'Contoso', a fictitious company, for unit testing purpose.\n* Add Resource OEM extension related exceptions\n\n[0] http://redfish.dmtf.org/schemas/DSP0266_1.1.html#resource-extensibility\n\nStory: 1689605\nTask: 12039\nChange-Id: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\n""}, {'number': 11, 'created': '2018-10-24 17:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/1e3b0871db0f01438434f16caf15c8c139bba170', 'message': ""Add foundation for supporting Redfish OEMs\n\nThis is to create the foundation for supporting resource\nextensibility as proposed in Redfish specification [0]. In essence\nit tries to provide a framework to dynamically load the varied OEM\nresource extensions using stevedore. The target entry points are\nlazily invoked on demand. Other features as below:\n\n* Provides an attribute 'oem_vendors' in Resource Base class\n  to discover the available OEM extensions. Also provides another API\n  to get the resource extension object based on the OEM vendor string.\n* Provides the foundation for classes which can parse OEM extension\n  attributes. Also a framework to dynamically load the varied OEM\n  resource extensions using ``stevedore``. The target entry points\n  are lazily invoked on demand.\n* Entry points added with name 'Contoso' in setup.cfg\n* A new folder structure added for OEM extensions framework -\n  'sushy/resources/oem/'\n* Provides a fake resource extension as a ready reckoner for OEMs.\n* Uses the existing json sample which consists of OEM string as\n  'Contoso', a fictitious company, for unit testing purpose.\n* Add Resource OEM extension related exceptions\n\n[0] http://redfish.dmtf.org/schemas/DSP0266_1.1.html#resource-extensibility\n\nStory: 1689605\nTask: 12039\nChange-Id: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\n""}, {'number': 12, 'created': '2018-10-29 04:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/c1f8f479fb22fa3d435b7426aa1e389abc9b5207', 'message': ""Add foundation for supporting Redfish OEMs\n\nThis is to create the foundation for supporting resource\nextensibility as proposed in Redfish specification [0]. In essence\nit tries to provide a framework to dynamically load the varied OEM\nresource extensions using stevedore. The target entry points are\nlazily invoked on demand. Other features as below:\n\n* Provides an attribute 'oem_vendors' in Resource Base class\n  to discover the available OEM extensions. Also provides another API\n  to get the resource extension object based on the OEM vendor string.\n* Provides the foundation for classes which can parse OEM extension\n  attributes. Also a framework to dynamically load the varied OEM\n  resource extensions using ``stevedore``. The target entry points\n  are lazily invoked on demand.\n* Entry points added with name 'Contoso' in setup.cfg\n* A new folder structure added for OEM extensions framework -\n  'sushy/resources/oem/'\n* Provides a fake resource extension as a ready reckoner for OEMs.\n* Uses the existing json sample which consists of OEM string as\n  'Contoso', a fictitious company, for unit testing purpose.\n* Add Resource OEM extension related exceptions\n\n[0] http://redfish.dmtf.org/schemas/DSP0266_1.1.html#resource-extensibility\n\nStory: 1689605\nTask: 12039\nChange-Id: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\n""}, {'number': 13, 'created': '2018-12-03 13:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/cfd51d0c74c301d38642aa544f4114c64fc07afe', 'message': ""Add foundation for supporting Redfish OEMs\n\nThis is to create the foundation for supporting resource\nextensibility as proposed in Redfish specification [0]. In essence\nit tries to provide a framework to dynamically load the varied OEM\nresource extensions using stevedore. The target entry points are\nlazily invoked on demand. Other features as below:\n\n* Provides an attribute 'oem_vendors' in Resource Base class\n  to discover the available OEM extensions. Also provides another API\n  to get the resource extension object based on the OEM vendor string.\n* Provides the foundation for classes which can parse OEM extension\n  attributes. Also a framework to dynamically load the varied OEM\n  resource extensions using ``stevedore``. The target entry points\n  are lazily invoked on demand.\n* Entry points added with name 'Contoso' in setup.cfg\n* A new folder structure added for OEM extensions framework -\n  'sushy/resources/oem/'\n* Provides a fake resource extension as a ready reckoner for OEMs.\n* Uses the existing json sample which consists of OEM string as\n  'Contoso', a fictitious company, for unit testing purpose.\n* Add Resource OEM extension related exceptions\n\n[0] http://redfish.dmtf.org/schemas/DSP0266_1.1.html#resource-extensibility\n\nStory: 1689605\nTask: 12039\nChange-Id: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\n""}, {'number': 14, 'created': '2019-01-10 15:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/0461bffdf36e3805a54e0755a4ee7fff93a70b9d', 'message': ""Add foundation for supporting Redfish OEMs\n\nThis is to create the foundation for supporting resource\nextensibility as proposed in Redfish specification [0]. In essence\nit tries to provide a framework to dynamically load the varied OEM\nresource extensions using stevedore. The target entry points are\nlazily invoked on demand. Other features as below:\n\n* Provides an attribute 'oem_vendors' in Resource Base class\n  to discover the available OEM extensions. Also provides another API\n  to get the resource extension object based on the OEM vendor string.\n* Provides the foundation for classes which can parse OEM extension\n  attributes. Also a framework to dynamically load the varied OEM\n  resource extensions using ``stevedore``. The target entry points\n  are lazily invoked on demand.\n* Entry points added with name 'Contoso' in setup.cfg\n* A new folder structure added for OEM extensions framework -\n  'sushy/resources/oem/'\n* Provides a fake resource extension as a ready reckoner for OEMs.\n* Uses the existing json sample which consists of OEM string as\n  'Contoso', a fictitious company, for unit testing purpose.\n* Add Resource OEM extension related exceptions\n\n[0] http://redfish.dmtf.org/schemas/DSP0266_1.1.html#resource-extensibility\n\nStory: 1689605\nTask: 12039\nChange-Id: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\n""}, {'number': 15, 'created': '2019-01-22 10:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/756d1e979097685ab404677025f9b37c8a3fb006', 'message': ""Add foundation for supporting Redfish OEMs\n\nThis is to create the foundation for supporting resource\nextensibility as proposed in Redfish specification [0]. In essence\nit tries to provide a framework to dynamically load the varied OEM\nresource extensions using stevedore. The target entry points are\nlazily invoked on demand. Other features as below:\n\n* Provides an attribute 'oem_vendors' in Resource Base class\n  to discover the available OEM extensions. Also provides another API\n  to get the resource extension object based on the OEM vendor string.\n* Provides the foundation for classes which can parse OEM extension\n  attributes. Also a framework to dynamically load the varied OEM\n  resource extensions using ``stevedore``. The target entry points\n  are lazily invoked on demand.\n* Entry points added with name 'Contoso' in setup.cfg\n* A new folder structure added for OEM extensions framework -\n  'sushy/resources/oem/'\n* Provides a fake resource extension as a ready reckoner for OEMs.\n* Uses the existing json sample which consists of OEM string as\n  'Contoso', a fictitious company, for unit testing purpose.\n* Add Resource OEM extension related exceptions\n\n[0] http://redfish.dmtf.org/schemas/DSP0266_1.1.html#resource-extensibility\n\nStory: 1689605\nTask: 12039\nChange-Id: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\n""}, {'number': 16, 'created': '2019-01-22 12:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/962b28f52bca1f420b8d1dda39c56b0273761496', 'message': ""Add foundation for supporting Redfish OEMs\n\nThis is to create the foundation for supporting resource\nextensibility as proposed in Redfish specification [0]. In essence\nit tries to provide a framework to dynamically load the varied OEM\nresource extensions using stevedore. The target entry points are\nlazily invoked on demand. Other features as below:\n\n* Provides an attribute 'oem_vendors' in Resource Base class\n  to discover the available OEM extensions. Also provides another API\n  to get the resource extension object based on the OEM vendor string.\n* Provides the foundation for classes which can parse OEM extension\n  attributes. Also a framework to dynamically load the varied OEM\n  resource extensions using ``stevedore``. The target entry points\n  are lazily invoked on demand.\n* Entry points added with name 'Contoso' in setup.cfg\n* A new folder structure added for OEM extensions framework -\n  'sushy/resources/oem/'\n* Provides a fake resource extension as a ready reckoner for OEMs.\n* Uses the existing json sample which consists of OEM string as\n  'Contoso', a fictitious company, for unit testing purpose.\n* Add Resource OEM extension related exceptions\n\n[0] http://redfish.dmtf.org/schemas/DSP0266_1.1.html#resource-extensibility\n\nStory: 1689605\nTask: 12039\nChange-Id: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\n""}, {'number': 17, 'created': '2019-01-23 18:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/f91fe50702631784445b661dbce5fa6dfac84144', 'message': ""Add foundation for supporting Redfish OEMs\n\nThis is to create the foundation for supporting resource\nextensibility as proposed in Redfish specification [0]. In essence\nit tries to provide a framework to dynamically load the varied OEM\nresource extensions using stevedore. The target entry points are\nlazily invoked on demand. Other features as below:\n\n* Provides an attribute 'oem_vendors' in Resource Base class\n  to discover the available OEM extensions. Also provides another API\n  to get the resource extension object based on the OEM vendor string.\n* Provides the foundation for classes which can parse OEM extension\n  attributes. Also a framework to dynamically load the varied OEM\n  resource extensions using ``stevedore``. The target entry points\n  are lazily invoked on demand.\n* Entry points added with name 'Contoso' in setup.cfg\n* A new folder structure added for OEM extensions framework -\n  'sushy/resources/oem/'\n* Provides a fake resource extension as a ready reckoner for OEMs.\n* Uses the existing json sample which consists of OEM string as\n  'Contoso', a fictitious company, for unit testing purpose.\n* Add Resource OEM extension related exceptions\n\n[0] http://redfish.dmtf.org/schemas/DSP0266_1.1.html#resource-extensibility\n\nStory: 1689605\nTask: 12039\nChange-Id: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\n""}, {'number': 18, 'created': '2019-01-23 20:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/dcf75a82cc640f1403fb838d253132f194e2876d', 'message': ""Add foundation for supporting Redfish OEMs\n\nThis is to create the foundation for supporting resource\nextensibility as proposed in Redfish specification [0]. In essence\nit tries to provide a framework to dynamically load the varied OEM\nresource extensions using stevedore. The target entry points are\nlazily invoked on demand. Other features as below:\n\n* Provides an attribute 'oem_vendors' in Resource Base class\n  to discover the available OEM extensions. Also provides another API\n  to get the resource extension object based on the OEM vendor string.\n* Provides the foundation for classes which can parse OEM extension\n  attributes. Also a framework to dynamically load the varied OEM\n  resource extensions using ``stevedore``. The target entry points\n  are lazily invoked on demand.\n* Entry points added with name 'contoso' in setup.cfg. All Entry point\n  names are as lowercase_underscore_joined.\n* A new folder structure added for OEM extensions framework -\n  'sushy/resources/oem/'\n* Provides a fake resource extension as a ready reckoner for OEMs.\n* Uses the existing json sample which consists of OEM string as\n  'Contoso', a fictitious company, for unit testing purpose.\n* Add Resource OEM extension related exceptions\n\n[0] http://redfish.dmtf.org/schemas/DSP0266_1.1.html#resource-extensibility\n\nStory: 1689605\nTask: 12039\nChange-Id: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\n""}, {'number': 19, 'created': '2019-02-06 10:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/fed2ee656df8b9a64a231030de2fdd07010f0694', 'message': ""Add foundation for supporting Redfish OEMs\n\nThis is to create the foundation for supporting resource\nextensibility as proposed in Redfish specification [0]. In essence\nit tries to provide a framework to dynamically load the varied OEM\nresource extensions using stevedore. The target entry points are\nlazily invoked on demand. Other features as below:\n\n* Provides an attribute 'oem_vendors' in Resource Base class\n  to discover the available OEM extensions. Also provides another API\n  to get the resource extension object based on the OEM vendor string.\n* Provides the foundation for classes which can parse OEM extension\n  attributes. Also a framework to dynamically load the varied OEM\n  resource extensions using ``stevedore``. The target entry points\n  are lazily invoked on demand.\n* Entry points added with name 'contoso' in setup.cfg. All Entry point\n  names are as lowercase_underscore_joined.\n* A new folder structure added for OEM extensions framework -\n  'sushy/resources/oem/'\n* Provides a fake resource extension as a ready reckoner for OEMs.\n* Uses the existing json sample which consists of OEM string as\n  'Contoso', a fictitious company, for unit testing purpose.\n* Add Resource OEM extension related exceptions\n\n[0] http://redfish.dmtf.org/schemas/DSP0266_1.1.html#resource-extensibility\n\nStory: 1689605\nTask: 12039\nChange-Id: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\n""}, {'number': 20, 'created': '2019-02-26 05:47:29.000000000', 'files': ['sushy/utils.py', 'sushy/tests/unit/resources/oem/__init__.py', 'lower-constraints.txt', 'sushy/exceptions.py', 'sushy/resources/base.py', 'releasenotes/notes/add-initial-redfish-oem-extension-support-50c9849bb7b6b25c.yaml', 'sushy/resources/oem/base.py', 'sushy/tests/unit/test_utils.py', 'requirements.txt', 'sushy/resources/oem/__init__.py', 'sushy/tests/unit/resources/test_base.py', 'sushy/tests/unit/resources/oem/test_fake.py', 'sushy/tests/unit/resources/system/test_system.py', 'sushy/tests/unit/resources/oem/test_common.py', 'sushy/resources/oem/common.py', 'setup.cfg', 'sushy/resources/oem/fake.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/668c40dec4cb65d658aeb6b22e2009aac963bc8b', 'message': ""Add foundation for supporting Redfish OEMs\n\nThis is to create the foundation for supporting resource\nextensibility as proposed in Redfish specification [0]. In essence\nit tries to provide a framework to dynamically load the varied OEM\nresource extensions using stevedore. The target entry points are\nlazily invoked on demand. Other features as below:\n\n* Provides an attribute 'oem_vendors' in Resource Base class\n  to discover the available OEM extensions. Also provides another API\n  to get the resource extension object based on the OEM vendor string.\n* Provides the foundation for classes which can parse OEM extension\n  attributes. Also a framework to dynamically load the varied OEM\n  resource extensions using ``stevedore``. The target entry points\n  are lazily invoked on demand.\n* Entry points added with name 'contoso' in setup.cfg. All Entry point\n  names are as lowercase_underscore_joined.\n* A new folder structure added for OEM extensions framework -\n  'sushy/resources/oem/'\n* Provides a fake resource extension as a ready reckoner for OEMs.\n* Uses the existing json sample which consists of OEM string as\n  'Contoso', a fictitious company, for unit testing purpose.\n* Add Resource OEM extension related exceptions\n\n[0] http://redfish.dmtf.org/schemas/DSP0266_1.1.html#resource-extensibility\n\nStory: 1689605\nTask: 12039\nChange-Id: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de\n""}]",77,463829,668c40dec4cb65d658aeb6b22e2009aac963bc8b,76,7,20,16635,,,0,"Add foundation for supporting Redfish OEMs

This is to create the foundation for supporting resource
extensibility as proposed in Redfish specification [0]. In essence
it tries to provide a framework to dynamically load the varied OEM
resource extensions using stevedore. The target entry points are
lazily invoked on demand. Other features as below:

* Provides an attribute 'oem_vendors' in Resource Base class
  to discover the available OEM extensions. Also provides another API
  to get the resource extension object based on the OEM vendor string.
* Provides the foundation for classes which can parse OEM extension
  attributes. Also a framework to dynamically load the varied OEM
  resource extensions using ``stevedore``. The target entry points
  are lazily invoked on demand.
* Entry points added with name 'contoso' in setup.cfg. All Entry point
  names are as lowercase_underscore_joined.
* A new folder structure added for OEM extensions framework -
  'sushy/resources/oem/'
* Provides a fake resource extension as a ready reckoner for OEMs.
* Uses the existing json sample which consists of OEM string as
  'Contoso', a fictitious company, for unit testing purpose.
* Add Resource OEM extension related exceptions

[0] http://redfish.dmtf.org/schemas/DSP0266_1.1.html#resource-extensibility

Story: 1689605
Task: 12039
Change-Id: I6d64d27ec456e46c2cb5052f93a91d9e06ba82de
",git fetch https://review.opendev.org/openstack/sushy refs/changes/29/463829/13 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/oem/system/mappings.py', 'sushy/resources/oem/__init__.py', 'sushy/resources/oem/system/base.py', 'sushy/resources/oem/system/constants.py', 'sushy/resources/oem/system/__init__.py', 'sushy/main.py']",6,fcb15870b23693675eef4d04f6f811f90ae03bfa,oem-extension," oem_vendor_string = None """"""The OEM vendor string"""""" root_prefix='/redfish/v1/', verify=True, oem_vendor_string=None): :param oem_vendor_string: This is the OEM vendor string which is the vendor-specific extensibility string code. Examples are: 'Contoso', 'Hpe', etc. Defaults to None. self.oem_vendor_string = oem_vendor_string def _get_oem_ex_parsable_system_collection(): """"""Helper function to get oem extn parsable SystemCollection"""""" return None if self.oem_vendor_string is None: return system.SystemCollection( self._conn, self._get_system_collection_path(), redfish_version=self.redfish_version) return self._get_oem_system_collection() def _get_oem_ex_parsable_system(): """"""Helper function to get oem extn parsable System"""""" return None if self.oem_vendor_string is None: return system.System(self._conn, identity, redfish_version=self.redfish_version) return self._get_oem_ex_parsable_system()"," root_prefix='/redfish/v1/', verify=True): return system.SystemCollection( self._conn, self._get_system_collection_path(), redfish_version=self.redfish_version) return system.System(self._conn, identity, redfish_version=self.redfish_version)",166,6
openstack%2Fproject-config~master~I12bc1ac64cfb9a7bbef1fcf5f0b020c16ced1ba5,openstack/project-config,master,I12bc1ac64cfb9a7bbef1fcf5f0b020c16ced1ba5,Add additional gerrit plugin repos,MERGED,2019-07-23 15:38:29.000000000,2019-07-23 16:55:49.000000000,2019-07-23 16:55:49.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 15:38:29.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/27d5e9808a33f03767b74486e2bf3f586a8ce58a', 'message': 'Add additional gerrit plugin repos\n\nTo build 2.16 and 3.0 we need a few more plugin repos for\nplugins that are now core plugins.\n\nChange-Id: I12bc1ac64cfb9a7bbef1fcf5f0b020c16ced1ba5\n'}]",0,672320,27d5e9808a33f03767b74486e2bf3f586a8ce58a,7,3,1,2,,,0,"Add additional gerrit plugin repos

To build 2.16 and 3.0 we need a few more plugin repos for
plugins that are now core plugins.

Change-Id: I12bc1ac64cfb9a7bbef1fcf5f0b020c16ced1ba5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/20/672320/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,27d5e9808a33f03767b74486e2bf3f586a8ce58a,, - plugins/codemirror-editor - plugins/gitiles - plugins/plugin-manager - plugins/webhooks,,4,0
openstack%2Ftripleo-quickstart-extras~master~I8f1c883c23dd5b2c93f1087434ba7af64fba0a18,openstack/tripleo-quickstart-extras,master,I8f1c883c23dd5b2c93f1087434ba7af64fba0a18,[Redhat8] Add PythonInterpreter for standalone role,ABANDONED,2019-07-19 16:14:47.000000000,2019-07-23 16:53:44.000000000,,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-07-19 16:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fd287331c7b6ab1724891afabe6b9795fc49e13e', 'message': 'Add PythonInterpreter for standalone role\n\nChange-Id: I8f1c883c23dd5b2c93f1087434ba7af64fba0a18\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-07-20 05:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/85d80f49f58ed3e45645eb394f523a9ab3e10f83', 'message': 'Add PythonInterpreter for standalone role\n\nAdded setuid\n\nChange-Id: I8f1c883c23dd5b2c93f1087434ba7af64fba0a18\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2019-07-21 15:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ba20482f38edabaa3a53384583620cdaa1c43713', 'message': '[Redhat8] Add PythonInterpreter for standalone role\n\nSet pythoninterpreter to python3 for rhel8 system while\ncreating standalone parameters.\n\nChange-Id: I8f1c883c23dd5b2c93f1087434ba7af64fba0a18\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2019-07-21 16:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/880d386f537f27439a1b17239ee0c9248065dbbe', 'message': '[Redhat8] Add PythonInterpreter for standalone role\n\nSet pythoninterpreter to python3 for rhel8 system while\ncreating standalone parameters.\n\nChange-Id: I8f1c883c23dd5b2c93f1087434ba7af64fba0a18\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2019-07-21 16:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/906083822a8efeb65bbb556b8ca468d292154ad9', 'message': '[Redhat8] Add PythonInterpreter for standalone role\n\nSet pythoninterpreter to python3 for rhel8 system while\ncreating standalone parameters.\n\nChange-Id: I8f1c883c23dd5b2c93f1087434ba7af64fba0a18\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2019-07-22 02:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d6bcddc8bb66d5ba9c3b4b6ceacb3398ebb0fb7d', 'message': '[Redhat8] Add PythonInterpreter for standalone role\n\nSet pythoninterpreter to python3 for rhel8 system while\ncreating standalone parameters.\n\nChange-Id: I8f1c883c23dd5b2c93f1087434ba7af64fba0a18\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2019-07-22 09:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2a80fb64ca55a749d2dea4e0fd5141ad1f6aebef', 'message': '[Redhat8] Add PythonInterpreter for standalone role\n\nSet pythoninterpreter to python3 for rhel8 system while\ncreating standalone parameters.\n\nChange-Id: I8f1c883c23dd5b2c93f1087434ba7af64fba0a18\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2019-07-22 14:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/941dd2d7f1a09fea5a676075dc3de43cc5c9a733', 'message': '[Redhat8] Add PythonInterpreter for standalone role\n\nSet pythoninterpreter to python3 for rhel8 system while\ncreating standalone parameters.\n\nChange-Id: I8f1c883c23dd5b2c93f1087434ba7af64fba0a18\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 9, 'created': '2019-07-23 16:26:39.000000000', 'files': ['roles/standalone/templates/standalone_config.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/700d742a25b210080369b7cc1ab1f1ac4ddbbb54', 'message': '[Redhat8] Add PythonInterpreter for standalone role\n\nSet pythoninterpreter to python3 for rhel8 system while\ncreating standalone parameters.\n\nChange-Id: I8f1c883c23dd5b2c93f1087434ba7af64fba0a18\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nCo-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>\n'}]",12,671768,700d742a25b210080369b7cc1ab1f1ac4ddbbb54,48,12,9,12393,,,0,"[Redhat8] Add PythonInterpreter for standalone role

Set pythoninterpreter to python3 for rhel8 system while
creating standalone parameters.

Change-Id: I8f1c883c23dd5b2c93f1087434ba7af64fba0a18
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Co-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/68/671768/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/templates/standalone_config.yaml.j2'],1,fd287331c7b6ab1724891afabe6b9795fc49e13e,I8f1c883c23dd5b2c93f1087434ba7af64fba0a18, PythonInterpreter: /usr/bin/python3,,1,0
openstack%2Fneutron~stable%2Fqueens~I7c00812f877e2fc966bbac3060e1187ce1b809ca,openstack/neutron,stable/queens,I7c00812f877e2fc966bbac3060e1187ce1b809ca,Yield control to other greenthreads while processing trusted ports,MERGED,2019-07-12 11:48:44.000000000,2019-07-23 16:51:12.000000000,2019-07-23 16:51:12.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 7016}, {'_account_id': 7125}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-12 11:48:44.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/639f5788bf42e3ace6425f3c727751f60b880e4d', 'message': 'Yield control to other greenthreads while processing trusted ports\n\nprocess_trusted_ports() appeared to be greenthread unfriendly, so\nif there are many trusted ports on a node, openvswitch agent may\n""hang"" for a significant time.\nThis patch adds explicit yield.\n\nChange-Id: I7c00812f877e2fc966bbac3060e1187ce1b809ca\nCloses-Bug: #1836023\n(cherry picked from commit da539da3780188f01e18ef106dde9ca180324c2a)\n'}]",0,670500,639f5788bf42e3ace6425f3c727751f60b880e4d,25,9,1,5948,,,0,"Yield control to other greenthreads while processing trusted ports

process_trusted_ports() appeared to be greenthread unfriendly, so
if there are many trusted ports on a node, openvswitch agent may
""hang"" for a significant time.
This patch adds explicit yield.

Change-Id: I7c00812f877e2fc966bbac3060e1187ce1b809ca
Closes-Bug: #1836023
(cherry picked from commit da539da3780188f01e18ef106dde9ca180324c2a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/670500/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/openvswitch_firewall/firewall.py'],1,639f5788bf42e3ace6425f3c727751f60b880e4d,bug/1836023-stable/queens,import eventlet # yield to let other greenthreads proceed eventlet.sleep(0),,3,0
openstack%2Fvitrage~master~I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922,openstack/vitrage,master,I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922,Refactor vitrage to use global CONF instead of local one,MERGED,2018-06-22 10:24:43.000000000,2019-07-23 16:31:10.000000000,2019-07-23 16:31:09.000000000,"[{'_account_id': 1736}, {'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}, {'_account_id': 28032}]","[{'number': 1, 'created': '2018-06-22 10:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/0e146783c9726bdcc2a05c7be7ec6a8b942ff388', 'message': '[WIP] Refactor vitrage to use global CONF instead of local one\n\n[WIP]\n\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n'}, {'number': 2, 'created': '2018-06-22 10:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/a4302216e484ab9c888cecc047ad178e2153f8b3', 'message': '[WIP] Refactor vitrage to use global CONF instead of local one\n\n[WIP]\n\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n'}, {'number': 3, 'created': '2018-06-22 11:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/5694abdee44b964426fe139927955566a4fb4f9b', 'message': '[WIP] Refactor vitrage to use global CONF instead of local one\n\n[WIP]\n\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n'}, {'number': 4, 'created': '2018-06-22 12:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/9deb021630f872f4e14f3501bd2e8943fe0f63cf', 'message': '[WIP] Refactor vitrage to use global CONF instead of local one\n\n[WIP]\n\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n'}, {'number': 5, 'created': '2018-06-27 12:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/b5f42206e350da4c2d894cc5fb15a31c59985b83', 'message': ""Refactor vitrage to use global CONF instead of local one\n\nRemove usage of local config object in Vitrage\nservices and tests. Instead, it's been replaced\nwith the global CONF object. The structure of the\ncode becomes more like in other OpenStack projects.\nAlso, this change provides an opportunity to\nintroduce migrations and tests for them.\n\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n""}, {'number': 6, 'created': '2019-05-15 16:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/1105d213a15fef5dab8476ac4850d7cd34edf07a', 'message': ""Refactor vitrage to use global CONF instead of local one\n\nRemove usage of local config object in Vitrage\nservices and tests. Instead, it's been replaced\nwith the global CONF object. The structure of the\ncode becomes more like in other OpenStack projects.\nAlso, this change provides an opportunity to\nintroduce migrations and tests for them.\n\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n""}, {'number': 7, 'created': '2019-05-15 16:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/12a3bc7c92f1786d389540139cb6f132fc3bdc00', 'message': ""Refactor vitrage to use global CONF instead of local one\n\nRemove usage of local config object in Vitrage\nservices and tests. Instead, it's been replaced\nwith the global CONF object. The structure of the\ncode becomes more like in other OpenStack projects.\nAlso, this change provides an opportunity to\nintroduce migrations and tests for them.\n\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n""}, {'number': 8, 'created': '2019-05-15 17:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/cda17b24f75020cdc73388a91587bef7c01df64c', 'message': ""Refactor vitrage to use global CONF instead of local one\n\nRemove usage of local config object in Vitrage\nservices and tests. Instead, it's been replaced\nwith the global CONF object. The structure of the\ncode becomes more like in other OpenStack projects.\nAlso, this change provides an opportunity to\nintroduce migrations and tests for them.\n\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n""}, {'number': 9, 'created': '2019-05-15 19:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/e0e91a91a3090106414915599ab73397f2692840', 'message': ""Refactor vitrage to use global CONF instead of local one\n\nRemove usage of local config object in Vitrage\nservices and tests. Instead, it's been replaced\nwith the global CONF object. The structure of the\ncode becomes more like in other OpenStack projects.\nAlso, this change provides an opportunity to\nintroduce migrations and tests for them.\n\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n""}, {'number': 10, 'created': '2019-05-15 19:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/a4b44a85eb49e51890a2b2c6eb7ae46577f89ec6', 'message': ""WIP. Refactor vitrage to use global CONF instead of local one\n\nRemove usage of local config object in Vitrage\nservices and tests. Instead, it's been replaced\nwith the global CONF object. The structure of the\ncode becomes more like in other OpenStack projects.\nAlso, this change provides an opportunity to\nintroduce migrations and tests for them.\n\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n""}, {'number': 11, 'created': '2019-05-16 09:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/317c2f7204028a39212eab9bae5924de2d8b02d0', 'message': ""WIP. Refactor vitrage to use global CONF instead of local one\n\nRemove usage of local config object in Vitrage\nservices and tests. Instead, it's been replaced\nwith the global CONF object. The structure of the\ncode becomes more like in other OpenStack projects.\nAlso, this change provides an opportunity to\nintroduce migrations and tests for them.\n\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n""}, {'number': 12, 'created': '2019-06-05 09:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/cb0239f6f38c1f04e70c8b41461d17b5b8657520', 'message': ""WIP. Refactor vitrage to use global CONF instead of local one\n\nRemove usage of local config object in Vitrage\nservices and tests. Instead, it's been replaced\nwith the global CONF object. The structure of the\ncode becomes more like in other OpenStack projects.\nAlso, this change provides an opportunity to\nintroduce migrations and tests for them.\n\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n""}, {'number': 13, 'created': '2019-06-05 09:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/0cbd2dc476b80ac7cddda1bf65bf0b699cbc7354', 'message': ""WIP. Refactor vitrage to use global CONF instead of local one\n\nRemove usage of local config object in Vitrage\nservices and tests. Instead, it's been replaced\nwith the global CONF object. The structure of the\ncode becomes more like in other OpenStack projects.\nAlso, this change provides an opportunity to\nintroduce migrations and tests for them.\n\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n""}, {'number': 14, 'created': '2019-06-05 10:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/0209390844f4506829cc391bd763d9bf297f9b00', 'message': ""WIP. Refactor vitrage to use global CONF instead of local one\n\nRemove usage of local config object in Vitrage\nservices and tests. Instead, it's been replaced\nwith the global CONF object. The structure of the\ncode becomes more like in other OpenStack projects.\nAlso, this change provides an opportunity to\nintroduce migrations and tests for them.\n\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n""}, {'number': 15, 'created': '2019-06-05 11:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/a65863d9909a0f0aa7cf6c16d2549ece49eb2f2d', 'message': ""Refactor vitrage to use global CONF instead of local one\n\nRemove usage of local config object in Vitrage\nservices and tests. Instead, it's been replaced\nwith the global CONF object. The structure of the\ncode becomes more like in other OpenStack projects.\nAlso, this change provides an opportunity to\nintroduce migrations and tests for them.\n\nStory: 2004059\nTask: 27065\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n""}, {'number': 16, 'created': '2019-06-05 13:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/f5754b85d6e3bfd679ce6faa94e67443b33c49da', 'message': ""Refactor vitrage to use global CONF instead of local one\n\nRemove usage of local config object in Vitrage\nservices and tests. Instead, it's been replaced\nwith the global CONF object. The structure of the\ncode becomes more like in other OpenStack projects.\nAlso, this change provides an opportunity to\nintroduce migrations and tests for them.\n\nStory: 2004059\nTask: 27065\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n""}, {'number': 17, 'created': '2019-06-05 15:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/31522aa77cbade99853c51d692510911a99870fa', 'message': ""Refactor vitrage to use global CONF instead of local one\n\nRemove usage of local config object in Vitrage\nservices and tests. Instead, it's been replaced\nwith the global CONF object. The structure of the\ncode becomes more like in other OpenStack projects.\nAlso, this change provides an opportunity to\nintroduce migrations and tests for them.\n\nStory: 2004059\nTask: 27065\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n""}, {'number': 18, 'created': '2019-06-05 18:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/6de317018e9efc29c9699cac73a48267e61ad38a', 'message': ""Refactor vitrage to use global CONF instead of local one\n\nRemove usage of local config object in Vitrage\nservices and tests. Instead, it's been replaced\nwith the global CONF object. The structure of the\ncode becomes more like in other OpenStack projects.\nAlso, this change provides an opportunity to\nintroduce migrations and tests for them.\n\nStory: 2004059\nTask: 27065\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n""}, {'number': 19, 'created': '2019-06-05 20:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/e0e5923cdc9eaa34804666a05c9bb8833b3d2e12', 'message': ""WIP.Refactor vitrage to use global CONF instead of local one\n\nRemove usage of local config object in Vitrage\nservices and tests. Instead, it's been replaced\nwith the global CONF object. The structure of the\ncode becomes more like in other OpenStack projects.\nAlso, this change provides an opportunity to\nintroduce migrations and tests for them.\n\nStory: 2004059\nTask: 27065\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n""}, {'number': 20, 'created': '2019-06-06 06:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/0c77d3a3c8a922cccecce2b29f42b1323db216ce', 'message': ""Refactor vitrage to use global CONF instead of local one\n\nRemove usage of local config object in Vitrage\nservices and tests. Instead, it's been replaced\nwith the global CONF object. The structure of the\ncode becomes more like in other OpenStack projects.\nAlso, this change provides an opportunity to\nintroduce migrations and tests for them.\n\nStory: 2004059\nTask: 27065\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n""}, {'number': 21, 'created': '2019-06-11 14:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/b219e4997902f8ebe5c4bcd69a7cf6b1e095a473', 'message': ""Refactor vitrage to use global CONF instead of local one\n\nRemove usage of local config object in Vitrage\nservices and tests. Instead, it's been replaced\nwith the global CONF object. The structure of the\ncode becomes more like in other OpenStack projects.\nAlso, this change provides an opportunity to\nintroduce migrations and tests for them.\n\nStory: 2004059\nTask: 27065\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n""}, {'number': 22, 'created': '2019-06-26 09:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/f3833aa37456ee22883ce52a83c87273c0b20f2a', 'message': ""Refactor vitrage to use global CONF instead of local one\n\nRemove usage of local config object in Vitrage\nservices and tests. Instead, it's been replaced\nwith the global CONF object. The structure of the\ncode becomes more like in other OpenStack projects.\nAlso, this change provides an opportunity to\nintroduce migrations and tests for them.\n\nStory: 2004059\nTask: 27065\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n""}, {'number': 23, 'created': '2019-07-22 12:12:55.000000000', 'files': ['vitrage/datasources/nova/nova_driver_base.py', 'vitrage/datasources/trove/trove_driver_base.py', 'vitrage/datasources/prometheus/transformer.py', 'vitrage/machine_learning/plugins/jaccard_correlation/alarm_processor.py', 'vitrage/tests/unit/datasources/aodh/mock_driver.py', 'vitrage/tests/unit/machine_learning/jaccard_correlation/test_jaccard_correlation.py', 'vitrage/entity_graph/__init__.py', 'vitrage/cli/graph.py', 'vitrage/tests/functional/api/__init__.py', 'vitrage/tests/unit/entity_graph/test_transformer_manager.py', 'vitrage/tests/functional/api/v1/test_keycloak.py', 'vitrage/tests/functional/entity_graph/processor/test_processor.py', 'vitrage/tests/unit/datasources/zabbix/test_zabbix_configuration.py', 'vitrage/api/app.wsgi', 'vitrage/datasources/static/transformer.py', 'vitrage/datasources/cinder/volume/driver.py', 'vitrage/cli/snmp_parsing.py', 'vitrage/datasources/neutron/base.py', 'vitrage/tests/unit/datasources/zabbix/mock_driver.py', 'vitrage/api_handler/apis/resource.py', 'vitrage/tests/unit/datasources/kubernetes/test_kubernetes_transformer.py', 'vitrage/tests/unit/datasources/static/test_static_transformer.py', 'vitrage/tests/unit/datasources/nagios/mock_driver.py', 'vitrage/datasources/collectd/transformer.py', 'vitrage/tests/functional/datasources/aodh/test_aodh.py', 'vitrage/datasources/monasca/driver.py', 'vitrage/entity_graph/consistency/consistency_enforcer.py', 'vitrage/datasources/nova/instance/driver.py', 'vitrage/tests/unit/evaluator/test_scenario_repository.py', 'vitrage/entity_graph/workers.py', 'vitrage/datasources/prometheus/driver.py', 'vitrage/evaluator/scenario_repository.py', 'vitrage/tests/unit/notifier/snmp_notifier/test_snmp_sender_with_severity_map.py', 'vitrage/datasources/collectd/driver.py', 'vitrage/notifier/plugins/mistral/mistral_notifier.py', 'vitrage/coordination/service.py', 'vitrage/os_clients.py', 'vitrage/evaluator/actions/evaluator_event_transformer.py', 'vitrage/tests/unit/datasources/collectd/test_collectd_driver.py', 'vitrage/datasources/kubernetes/transformer.py', 'vitrage/notifier/service.py', 'tools/datasource-scaffold/{{cookiecutter.name}}/transformer.py', 'vitrage/api_handler/apis/event.py', 'vitrage/datasources/cinder/volume/transformer.py', 'vitrage/tests/unit/datasources/nova/test_nova_zone_transformer.py', 'vitrage/datasources/heat/stack/driver.py', 'vitrage/coordination/coordination.py', 'vitrage/notifier/plugins/base.py', 'vitrage/tests/unit/entity_graph/test_processor_service.py', 'vitrage/tests/unit/evaluator/test_equivalence_repository.py', 'vitrage/notifier/plugins/snmp/snmp_notifier.py', 'vitrage/notifier/plugins/zaqar/zaqar_notifier.py', 'vitrage/tests/unit/datasources/doctor/test_doctor_driver.py', 'vitrage/tests/unit/datasources/nagios/test_nagios_config.py', 'vitrage/tests/unit/datasources/ceilometer/mock_driver.py', 'vitrage/entity_graph/scheduler.py', 'tools/load_generator/load_generator.py', 'vitrage/entity_graph/mappings/datasource_info_mapper.py', 'vitrage/tests/functional/entity_graph/states/test_datasource_info_mapper.py', 'vitrage/tests/unit/entity_graph/processor/test_processor.py', 'vitrage/datasources/nova/host/transformer.py', 'vitrage/storage/base.py', 'vitrage/tests/unit/datasources/prometheus/test_prometheus_driver.py', 'vitrage/tests/functional/api/v1/test_service.py', 'vitrage/tests/mocks/mock_graph_datasource/transformer.py', 'vitrage/datasources/nova/instance/transformer.py', 'vitrage/tests/functional/base.py', 'vitrage/tests/unit/entity_graph/states/test_datasource_info_mapper.py', 'vitrage/notifier/plugins/snmp/snmp_sender.py', 'vitrage/snmp_parsing/service.py', 'vitrage/tests/unit/datasources/doctor/test_doctor_transformer.py', 'vitrage/datasources/zabbix/driver.py', 'tools/datasource-scaffold/{{cookiecutter.name}}/driver.py', 'vitrage/entity_graph/driver_exec.py', 'vitrage/tests/functional/evaluator/test_scenario_evaluator.py', 'vitrage/tests/mocks/mock_graph_datasource/driver.py', 'vitrage/api_handler/apis/webhook.py', 'vitrage/notifier/plugins/snmp/base.py', 'vitrage/tests/unit/entity_graph/processor/base.py', 'vitrage/datasources/consistency/transformer.py', 'vitrage/datasources/kubernetes/driver.py', 'vitrage/notifier/plugins/webhook/webhook.py', 'vitrage/tests/unit/datasources/ceilometer/test_ceilometer_driver.py', 'vitrage/tests/unit/datasources/nova/base_nova_instance_transformer.py', 'vitrage/tests/unit/datasources/trove/test_trove_instance_transformer.py', 'vitrage/datasources/resource_transformer_base.py', 'vitrage/datasources/zabbix/transformer.py', 'vitrage/tests/unit/datasources/nova/test_instance_transformer_legacy_notifications.py', 'vitrage/datasources/alarm_transformer_base.py', 'tools/datasource-scaffold/sample/driver.py', 'vitrage/entity_graph/processor/notifier.py', 'vitrage/keystone_client.py', 'vitrage/tests/unit/datasources/test_datasource_update_method.py', 'vitrage/machine_learning/plugins/base.py', 'vitrage/datasources/trove/instance/driver.py', 'vitrage/datasources/driver_base.py', 'vitrage/tests/unit/datasources/collectd/test_collectd_transformer.py', 'vitrage/datasources/doctor/transformer.py', 'vitrage/tests/unit/datasources/prometheus/test_prometheus_transformer.py', 'vitrage/tests/unit/notifier/snmp_notifier/test_snmp_sender_without_severity_map.py', 'vitrage/datasources/kapacitor/driver.py', 'vitrage/tests/unit/entity_graph/processor/test_entity_graph.py', 'vitrage/tests/functional/datasources/trove/test_trove_instance.py', 'vitrage/tests/functional/test_configuration.py', 'vitrage/tests/unit/datasources/aodh/test_aodh_transformer.py', 'vitrage/tests/unit/datasources/kapacitor/test_kapacitor_transformer.py', 'vitrage/datasources/neutron/port/transformer.py', 'vitrage/tests/functional/datasources/heat/test_heat_stack.py', 'vitrage/tests/unit/evaluator/template_validation/test_template_validator_v3.py', 'vitrage/tests/functional/entity_graph/consistency/test_consistency.py', 'vitrage/api/app.py', 'vitrage/evaluator/actions/notifier.py', 'vitrage/tests/unit/evaluator/template_loading/test_template_loading_v3.py', 'vitrage/tests/unit/datasources/kapacitor/test_kapacitor_driver.py', 'vitrage/api_handler/apis/base.py', 'vitrage/cli/storage.py', 'vitrage/tests/unit/snmp_parsing/test_snmp_parsing.py', 'vitrage/tests/unit/datasources/ceilometer/test_ceilometer_transformer.py', 'vitrage/tests/unit/datasources/nova/test_nova_host_transformer.py', 'vitrage/tests/unit/datasources/aodh/test_aodh_driver.py', 'vitrage/tests/unit/datasources/heat/test_heat_stack_transformer.py', 'vitrage/evaluator/actions/action_executor.py', 'vitrage/entity_graph/graph_init.py', 'vitrage/datasources/ceilometer/driver.py', 'vitrage/notifier/plugins/nova/nova_notifier.py', 'vitrage/tests/functional/datasources/cinder/test_cinder_volume.py', 'vitrage/datasources/utils.py', 'vitrage/datasources/nagios/config.py', 'vitrage/datasources/transformer_base.py', 'vitrage/tests/unit/datasources/nova/test_instance_transformer_versioned_notifications.py', 'vitrage/notifier/plugins/aodh/aodh_notifier.py', 'vitrage/tests/unit/datasources/zabbix/test_zabbix_driver.py', 'vitrage/evaluator/scenario_evaluator.py', 'vitrage/machine_learning/plugins/jaccard_correlation/correlation_manager.py', 'vitrage/tests/functional/entity_graph/graph_persistor/test_graph_persistor.py', 'vitrage/cli/api.py', 'vitrage/tests/functional/datasources/nagios/test_nagios.py', 'vitrage/datasources/doctor/driver.py', 'tools/datasource-scaffold/sample/transformer.py', 'vitrage/datasources/neutron/network/transformer.py', 'vitrage/entity_graph/processor/processor.py', 'vitrage/tests/functional/api_handler/test_templates.py', 'vitrage/datasources/heat/stack/transformer.py', 'vitrage/machine_learning/service.py', 'vitrage/tests/unit/datasources/static/test_static_driver.py', 'vitrage/cli/notifier.py', 'vitrage/datasources/kapacitor/config.py', 'vitrage/tests/unit/datasources/zabbix/test_zabbix_transformer.py', 'vitrage/entity_graph/graph_persistency.py', 'vitrage/tests/unit/entity_graph/base.py', 'vitrage/datasources/nagios/transformer.py', 'vitrage/storage/__init__.py', 'vitrage/datasources/static/driver.py', 'vitrage/opts.py', 'vitrage/tests/functional/datasources/ceilometer/test_ceilometer.py', 'vitrage/datasources/aodh/transformer.py', 'vitrage/entity_graph/processor/transformer_manager.py', 'vitrage/datasources/nova/zone/transformer.py', 'vitrage/api_handler/apis/operational.py', 'vitrage/datasources/trove/cluster/driver.py', 'vitrage/tests/unit/datasources/consistency/test_consistency_transformer.py', 'vitrage/tests/unit/datasources/nagios/test_nagios_driver.py', 'vitrage/cli/persistor.py', 'vitrage/tests/functional/datasources/collectd/test_collectd.py', 'vitrage/tests/unit/datasources/trove/test_trove_cluster_transformer.py', 'vitrage/tests/functional/api_handler/test_apis.py', 'vitrage/tests/functional/datasources/listener_service/test_listener_service.py', 'vitrage/api/hooks.py', 'vitrage/common/config.py', 'vitrage/datasources/nagios/driver.py', 'vitrage/tests/base.py', 'vitrage/tests/functional/evaluator/test_action_executor.py', 'vitrage/tests/unit/datasources/nagios/test_nagios_transformer.py', 'vitrage/tests/unit/datasources/nova/test_nova_instance_driver.py', 'vitrage/persistency/service.py', 'vitrage/storage/impl_sqlalchemy.py', 'vitrage/tests/unit/datasources/kapacitor/test_kapacitor_configuration.py', 'vitrage/api_handler/apis/topology.py', 'vitrage/cli/machine_learning.py', 'vitrage/datasources/ceilometer/transformer.py', 'vitrage/datasources/kapacitor/transformer.py', 'vitrage/messaging.py', 'vitrage/tests/functional/datasources/nova/test_nova_datasources.py', 'vitrage/tests/unit/datasources/cinder/test_cinder_volume_transformer.py', 'vitrage/datasources/aodh/driver.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/66c608cb561896d9cab99e4b52393d0351b289d9', 'message': ""Refactor vitrage to use global CONF instead of local one\n\nRemove usage of local config object in Vitrage\nservices and tests. Instead, it's been replaced\nwith the global CONF object. The structure of the\ncode becomes more like in other OpenStack projects.\nAlso, this change provides an opportunity to\nintroduce migrations and tests for them.\n\nStory: 2004059\nTask: 27065\nChange-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922\n""}]",29,577388,66c608cb561896d9cab99e4b52393d0351b289d9,74,5,23,28032,,,0,"Refactor vitrage to use global CONF instead of local one

Remove usage of local config object in Vitrage
services and tests. Instead, it's been replaced
with the global CONF object. The structure of the
code becomes more like in other OpenStack projects.
Also, this change provides an opportunity to
introduce migrations and tests for them.

Story: 2004059
Task: 27065
Change-Id: I37544a350adf8ca38a6fc4ff5d0fd96e38a3f922
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/88/577388/16 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/datasources/nova/nova_driver_base.py', 'vitrage/datasources/prometheus/transformer.py', 'vitrage/machine_learning/plugins/jaccard_correlation/alarm_processor.py', 'vitrage/entity_graph/__init__.py', 'vitrage/datasources/rpc_service.py', 'vitrage/cli/graph.py', 'vitrage/api/app.wsgi', 'vitrage/datasources/static/transformer.py', 'vitrage/datasources/cinder/volume/driver.py', 'vitrage/datasources/static_physical/transformer.py', 'vitrage/cli/snmp_parsing.py', 'vitrage/datasources/neutron/base.py', 'vitrage/api_handler/apis/resource.py', 'vitrage/datasources/collectd/transformer.py', 'vitrage/service.py', 'vitrage/entity_graph/consistency/consistency_enforcer.py', 'vitrage/entity_graph/workers.py', 'vitrage/datasources/prometheus/driver.py', 'vitrage/evaluator/scenario_repository.py', 'vitrage/datasources/collectd/driver.py', 'vitrage/notifier/plugins/mistral/mistral_notifier.py', 'vitrage/os_clients.py', 'vitrage/evaluator/actions/evaluator_event_transformer.py', 'vitrage/datasources/kubernetes/transformer.py', 'vitrage/api_handler/apis/event.py', 'vitrage/datasources/cinder/volume/transformer.py', 'vitrage/datasources/heat/stack/driver.py', 'vitrage/notifier/plugins/base.py', 'vitrage/notifier/plugins/snmp/snmp_notifier.py', 'vitrage/entity_graph/scheduler.py', 'vitrage/entity_graph/mappings/datasource_info_mapper.py', 'vitrage/entity_graph/datasource_rpc.py', 'vitrage/datasources/nova/host/transformer.py', 'vitrage/storage/base.py', 'vitrage/datasources/nova/instance/transformer.py', 'vitrage/middleware/keycloak.py', 'vitrage/notifier/plugins/snmp/snmp_sender.py', 'vitrage/datasources/zabbix/driver.py', 'vitrage/rpc.py', 'vitrage/api_handler/apis/webhook.py', 'vitrage/datasources/zabbix/auxiliary/zabbix_vitrage.py', 'vitrage/notifier/plugins/__init__.py', 'vitrage/notifier/plugins/snmp/base.py', 'vitrage/datasources/consistency/transformer.py', 'vitrage/datasources/kubernetes/driver.py', 'vitrage/notifier/plugins/webhook/webhook.py', 'vitrage/datasources/resource_transformer_base.py', 'vitrage/datasources/zabbix/transformer.py', 'vitrage/datasources/alarm_transformer_base.py', 'vitrage/entity_graph/processor/notifier.py', 'vitrage/keystone_client.py', 'vitrage/api_handler/apis/alarm.py', 'vitrage/machine_learning/plugins/base.py', 'vitrage/api_handler/apis/rca.py', 'vitrage/datasources/doctor/transformer.py', 'vitrage/persistency/graph_persistor.py', 'vitrage/datasources/neutron/port/transformer.py', 'vitrage/api/app.py', 'vitrage/evaluator/actions/notifier.py', 'vitrage/api_handler/apis/base.py', 'vitrage/cli/storage.py', 'vitrage/datasources/listener_service.py', 'vitrage/evaluator/actions/action_executor.py', 'vitrage/entity_graph/graph_init.py', 'vitrage/datasources/ceilometer/driver.py', 'vitrage/notifier/plugins/nova/nova_notifier.py', 'vitrage/cli/collector.py', 'vitrage/datasources/utils.py', 'vitrage/datasources/static_physical/driver.py', 'vitrage/datasources/nagios/config.py', 'vitrage/datasources/transformer_base.py', 'vitrage/notifier/plugins/aodh/aodh_notifier.py', 'vitrage/evaluator/scenario_evaluator.py', 'vitrage/machine_learning/plugins/jaccard_correlation/correlation_manager.py', 'vitrage/datasources/collectd/collectd_vitrage/vitrageplugin.py', 'vitrage/cli/api.py', 'vitrage/datasources/doctor/driver.py', 'vitrage/datasources/neutron/network/transformer.py', 'vitrage/entity_graph/processor/processor.py', 'vitrage/datasources/heat/stack/transformer.py', 'vitrage/cli/notifier.py', 'vitrage/datasources/nagios/transformer.py', 'vitrage/storage/__init__.py', 'vitrage/datasources/static/driver.py', 'vitrage/opts.py', 'vitrage/datasources/aodh/transformer.py', 'vitrage/entity_graph/processor/transformer_manager.py', 'vitrage/datasources/nova/zone/transformer.py', 'vitrage/cli/persistor.py', 'vitrage/api/hooks.py', 'vitrage/common/config.py', 'vitrage/datasources/nagios/driver.py', 'vitrage/datasources/collector_notifier.py', 'vitrage/persistency/service.py', 'vitrage/storage/impl_sqlalchemy.py', 'vitrage/api_handler/apis/topology.py', 'vitrage/cli/machine_learning.py', 'vitrage/datasources/ceilometer/transformer.py', 'vitrage/messaging.py', 'vitrage/datasources/aodh/driver.py']",100,0e146783c9726bdcc2a05c7be7ec6a8b942ff388,oslo-conf-refactoring, def __init__(self): self._client = os_clients.aodh_client()," def __init__(self, conf): self.conf = conf self._client = os_clients.aodh_client(self.conf)",489,498
openstack%2Fopenstack-helm~master~I138c5e8fa5047cf1fabd2026be5837a069938a03,openstack/openstack-helm,master,I138c5e8fa5047cf1fabd2026be5837a069938a03,Vagrant script for bringing-up an Openstack-helm all-in-one deployment,ABANDONED,2018-01-19 21:15:58.000000000,2019-07-23 16:28:04.000000000,,"[{'_account_id': 8898}, {'_account_id': 10068}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23717}, {'_account_id': 23928}, {'_account_id': 27589}]","[{'number': 1, 'created': '2018-01-19 21:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/790d3d5485568c702e45f489e558ff951954bd32', 'message': 'Vagrant script for bringing-up an Openstack-helm all-in-one deployment\n\nChange-Id: I138c5e8fa5047cf1fabd2026be5837a069938a03\n'}, {'number': 2, 'created': '2018-01-19 21:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8defa14df36d044cb4a32d1ee14de6a02a8d603a', 'message': 'Vagrant script for bringing-up an Openstack-helm all-in-one deployment\n\nChange-Id: I138c5e8fa5047cf1fabd2026be5837a069938a03\n'}, {'number': 3, 'created': '2018-01-19 21:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fcbe727afb064c043d86d1d298fa11bf71cb72f8', 'message': 'Vagrant script for bringing-up an Openstack-helm all-in-one deployment\n\nChange-Id: I138c5e8fa5047cf1fabd2026be5837a069938a03\n'}, {'number': 4, 'created': '2018-01-19 22:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/77ab9f4896bbb567116f86e63ece5b9aa0084604', 'message': 'Vagrant script for bringing-up an Openstack-helm all-in-one deployment\n\nChange-Id: I138c5e8fa5047cf1fabd2026be5837a069938a03\n'}, {'number': 5, 'created': '2018-02-01 16:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ad680d2fa7621cf4223a68083ec1151f65b25cca', 'message': 'Vagrant script for bringing-up an Openstack-helm all-in-one deployment\n\nChange-Id: I138c5e8fa5047cf1fabd2026be5837a069938a03\n'}, {'number': 6, 'created': '2018-02-01 16:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/66f67812573807d72db88b0b86c42e1433f28658', 'message': 'Vagrant script for bringing-up an Openstack-helm all-in-one deployment\n\nChange-Id: I138c5e8fa5047cf1fabd2026be5837a069938a03\n'}, {'number': 7, 'created': '2018-02-01 17:35:36.000000000', 'files': ['tools/vagrant/virtualbox.conf.yml', 'tools/vagrant/Vagrantfile', 'tools/vagrant/ansible.cfg', 'tools/vagrant/README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4001fe4dabb69e4d95f67182f2a3bb41151a4d2f', 'message': 'Vagrant script for bringing-up an Openstack-helm all-in-one deployment\n\nChange-Id: I138c5e8fa5047cf1fabd2026be5837a069938a03\n'}]",4,535967,4001fe4dabb69e4d95f67182f2a3bb41151a4d2f,15,9,7,27589,,,0,"Vagrant script for bringing-up an Openstack-helm all-in-one deployment

Change-Id: I138c5e8fa5047cf1fabd2026be5837a069938a03
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/67/535967/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/vagrant/virtualbox.conf.yml', 'tools/vagrant/Vagrantfile', 'tools/vagrant/setup-openstack-helm-all-in-one.sh', 'tools/vagrant/README.rst']",4,790d3d5485568c702e45f489e558ff951954bd32,vagrant-osh-aio,"================== Vagrant Deployment ================== A Vagrantfile has been provided in the ``tools/`` directory. This vagrant installation will prep a single VM with specs from the ``config.rb`` file, and will run OpenStack-Helm gate scripts to set up Kubernetes. Reference: ------------ https://docs.openstack.org/openstack-helm/latest/install/developer/all-in-one.html Requirements ------------ * Hardware: * 16GB RAM * 32GB HDD Space * Software * Vagrant >= 1.8.0 * VirtualBox >= 5.1.0 * Git Deploy ------ Make sure you are in the directory containing the Vagrantfile before running the following commands. Create VM --------- .. code:: bash vagrant up --provider virtualbox Validate helm charts are successfully deployed ---------------------------------------------- .. code:: bash vagrant ssh helm list ",,270,0
openstack%2Fcharm-neutron-openvswitch~master~Ic7e751dd876cc67805e841e109a4f955ad80be47,openstack/charm-neutron-openvswitch,master,Ic7e751dd876cc67805e841e109a4f955ad80be47,Enable keepalived VRRP health check,MERGED,2019-05-08 10:31:12.000000000,2019-07-23 16:24:19.000000000,2019-07-23 16:24:18.000000000,"[{'_account_id': 935}, {'_account_id': 2711}, {'_account_id': 6737}, {'_account_id': 7730}, {'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30400}]","[{'number': 1, 'created': '2019-05-08 10:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/29eedf41390d904b14a83a595dc99c436f4d5dfa', 'message': ""Enable keepalived VRRP health check\n\nIf you want to have vrrp watch the external networking interface\ntoday, the option ha_vrrp_health_check_interval [1] detects a failure\nit re-triggers the transitional change - which works if the external\nphysical interface fails because the ping will fail.\n\nIn fact, we've tried to enable it before [2], but then we had to\nrevert it [3] due to instability issues [4] in previous releases of\nOpenStack. Maybe the previous instability issue [4] was caused by\nanother keepalived issue mentioned in the comment [5], now I have\ntested this option again, it works.\n\nThis is how neutron allows monitoring southbound network today, so\nI would suggest we add this capability into the charm again.\n\nThis is a patch for charm-neutron-openvswitch side to support\nenable-dvr-snat=True option which allows running gateway components\non compute nodes (as of 19.04 charms, see [6])\n\n[1] https://docs.openstack.org/ocata/networking-guide/ \\\n        deploy-ovs-ha-vrrp.html#keepalived-vrrp-health-check\n[2] https://review.opendev.org/#/c/601533/\n[3] https://review.opendev.org/#/c/603347/\n[4] https://bugs.launchpad.net/neutron/+bug/1793102\n[5] https://bugs.launchpad.net/neutron/+bug/1793102/comments/5\n[6] https://bugs.launchpad.net/charm-neutron-openvswitch/+bug/1808045\n\nChange-Id: Ic7e751dd876cc67805e841e109a4f955ad80be47\nCloses-Bug: 1825966\n""}, {'number': 2, 'created': '2019-07-23 09:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/125b355b20b43a6c7807c82ae41ddb156d2d3394', 'message': ""Enable keepalived VRRP health check\n\nIf you want to have vrrp watch the external networking interface\ntoday, the option ha_vrrp_health_check_interval [1] detects a failure\nit re-triggers the transitional change - which works if the external\nphysical interface fails because the ping will fail.\n\nIn fact, we've tried to enable it before [2], but then we had to\nrevert it [3] due to instability issues [4] in previous releases of\nOpenStack. Maybe the previous instability issue [4] was caused by\nanother keepalived issue mentioned in the comment [5], now I have\ntested this option again, it works.\n\nThis is how neutron allows monitoring southbound network today, so\nI would suggest we add this capability into the charm again.\n\nThis is a patch for charm-neutron-openvswitch side to support\nenable-dvr-snat=True option which allows running gateway components\non compute nodes (as of 19.04 charms, see [6])\n\n[1] https://docs.openstack.org/ocata/networking-guide/ \\\n        deploy-ovs-ha-vrrp.html#keepalived-vrrp-health-check\n[2] https://review.opendev.org/#/c/601533/\n[3] https://review.opendev.org/#/c/603347/\n[4] https://bugs.launchpad.net/neutron/+bug/1793102\n[5] https://bugs.launchpad.net/neutron/+bug/1793102/comments/5\n[6] https://bugs.launchpad.net/charm-neutron-openvswitch/+bug/1808045\n\nChange-Id: Ic7e751dd876cc67805e841e109a4f955ad80be47\nCloses-Bug: 1825966\n""}, {'number': 3, 'created': '2019-07-23 14:49:31.000000000', 'files': ['templates/mitaka/l3_agent.ini', 'unit_tests/test_neutron_ovs_context.py', 'hooks/neutron_ovs_context.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/786906d559d88efbf5b7e95f67ceb0441d653cbd', 'message': ""Enable keepalived VRRP health check\n\nIf you want to have vrrp watch the external networking interface\ntoday, the option ha_vrrp_health_check_interval [1] detects a failure\nit re-triggers the transitional change - which works if the external\nphysical interface fails because the ping will fail.\n\nIn fact, we've tried to enable it before [2], but then we had to\nrevert it [3] due to instability issues [4] in previous releases of\nOpenStack. Maybe the previous instability issue [4] was caused by\nanother keepalived issue mentioned in the comment [5], now I have\ntested this option again, it works.\n\nThis is how neutron allows monitoring southbound network today, so\nI would suggest we add this capability into the charm again.\n\nThis is a patch for charm-neutron-openvswitch side to support\nenable-dvr-snat=True option which allows running gateway components\non compute nodes (as of 19.04 charms, see [6])\n\n[1] https://docs.openstack.org/ocata/networking-guide/ \\\n        deploy-ovs-ha-vrrp.html#keepalived-vrrp-health-check\n[2] https://review.opendev.org/#/c/601533/\n[3] https://review.opendev.org/#/c/603347/\n[4] https://bugs.launchpad.net/neutron/+bug/1793102\n[5] https://bugs.launchpad.net/neutron/+bug/1793102/comments/5\n[6] https://bugs.launchpad.net/charm-neutron-openvswitch/+bug/1808045\n\nChange-Id: Ic7e751dd876cc67805e841e109a4f955ad80be47\nCloses-Bug: 1825966\n""}]",0,657774,786906d559d88efbf5b7e95f67ceb0441d653cbd,23,9,3,2711,,,0,"Enable keepalived VRRP health check

If you want to have vrrp watch the external networking interface
today, the option ha_vrrp_health_check_interval [1] detects a failure
it re-triggers the transitional change - which works if the external
physical interface fails because the ping will fail.

In fact, we've tried to enable it before [2], but then we had to
revert it [3] due to instability issues [4] in previous releases of
OpenStack. Maybe the previous instability issue [4] was caused by
another keepalived issue mentioned in the comment [5], now I have
tested this option again, it works.

This is how neutron allows monitoring southbound network today, so
I would suggest we add this capability into the charm again.

This is a patch for charm-neutron-openvswitch side to support
enable-dvr-snat=True option which allows running gateway components
on compute nodes (as of 19.04 charms, see [6])

[1] https://docs.openstack.org/ocata/networking-guide/ \
        deploy-ovs-ha-vrrp.html#keepalived-vrrp-health-check
[2] https://review.opendev.org/#/c/601533/
[3] https://review.opendev.org/#/c/603347/
[4] https://bugs.launchpad.net/neutron/+bug/1793102
[5] https://bugs.launchpad.net/neutron/+bug/1793102/comments/5
[6] https://bugs.launchpad.net/charm-neutron-openvswitch/+bug/1808045

Change-Id: Ic7e751dd876cc67805e841e109a4f955ad80be47
Closes-Bug: 1825966
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/74/657774/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/mitaka/l3_agent.ini', 'unit_tests/test_neutron_ovs_context.py', 'hooks/neutron_ovs_context.py']",3,29eedf41390d904b14a83a595dc99c436f4d5dfa,bug/1825966," ctxt['use_l3ha'] = neutron_api_settings.get('enable_l3ha', False)",,27,0
openstack%2Fplacement~master~Id8f96801116818dda6c68c301619aee185e8fbff,openstack/placement,master,Id8f96801116818dda6c68c301619aee185e8fbff,Simplify placement.microversion:_fully_qualified_name,MERGED,2019-07-12 13:33:33.000000000,2019-07-23 16:22:32.000000000,2019-07-23 16:22:32.000000000,"[{'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-12 13:33:33.000000000', 'files': ['placement/microversion.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/d2b452d7f5e03970a5341d84066f5ce0d1997f8e', 'message': 'Simplify placement.microversion:_fully_qualified_name\n\n_fully_qualified_name was copied from Twisted. The original\nversion does more than Placement needs. We only need to\nhandle module-level classes and functions (and really only\nfunctions). No nested of those, nor object methods in any\nform.\n\nThis is because we only use the method for finding the\nright microversioned handler of a method with the same\nname and placement HTTP handlers are universally functions.\n\nThe previous version of the method had code that was never\ncalled. Here, that dead code is removed and the remainder\nis simplified.\n\nIf it is called incorrectly there will be an (intentionally)\nuntrapped TypeError during running of the tests.\n\nN.B.: This was discovered while reviewing coverage data.\n\nChange-Id: Id8f96801116818dda6c68c301619aee185e8fbff\n'}]",2,670553,d2b452d7f5e03970a5341d84066f5ce0d1997f8e,9,3,1,11564,,,0,"Simplify placement.microversion:_fully_qualified_name

_fully_qualified_name was copied from Twisted. The original
version does more than Placement needs. We only need to
handle module-level classes and functions (and really only
functions). No nested of those, nor object methods in any
form.

This is because we only use the method for finding the
right microversioned handler of a method with the same
name and placement HTTP handlers are universally functions.

The previous version of the method had code that was never
called. Here, that dead code is removed and the remainder
is simplified.

If it is called incorrectly there will be an (intentionally)
untrapped TypeError during running of the tests.

N.B.: This was discovered while reviewing coverage data.

Change-Id: Id8f96801116818dda6c68c301619aee185e8fbff
",git fetch https://review.opendev.org/openstack/placement refs/changes/53/670553/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/microversion.py'],1,d2b452d7f5e03970a5341d84066f5ce0d1997f8e,cd/remove-redundant-name-finding,"# Based on code in twisteddef _fully_qualified_name(handler): """"""Return the name of a function or class used as an HTTP API handler, qualified by module name. if inspect.isfunction(handler) or inspect.isclass(handler): module_name = handler.__module__ return ""%s.%s"" % (module_name, handler.__name__) # We got an object method or module. This is a coding error. raise TypeError(""_fully_qualified_name received bad handler type. "" ""Module-level class or function required."")","# From twisteddef _fully_qualified_name(obj): """"""Return the fully qualified name of a module, class, method or function. Classes and functions need to be module level ones to be correctly qualified. try: name = obj.__qualname__ except AttributeError: name = obj.__name__ if inspect.isclass(obj) or inspect.isfunction(obj): moduleName = obj.__module__ return ""%s.%s"" % (moduleName, name) elif inspect.ismethod(obj): try: cls = obj.im_class except AttributeError: # Python 3 eliminates im_class, substitutes __module__ and # __qualname__ to provide similar information. return ""%s.%s"" % (obj.__module__, obj.__qualname__) else: className = _fully_qualified_name(cls) return ""%s.%s"" % (className, name) return name",10,24
openstack%2Fplacement~master~I7087e311209716a2907575573b9c018c352ce63d,openstack/placement,master,I7087e311209716a2907575573b9c018c352ce63d,Update api-ref to point to API-SIG microversion spec,MERGED,2019-07-23 10:36:20.000000000,2019-07-23 16:22:31.000000000,2019-07-23 16:22:31.000000000,"[{'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 10:36:20.000000000', 'files': ['api-ref/source/root.inc'], 'web_link': 'https://opendev.org/openstack/placement/commit/99b107fb5a92fabde9f949fc3a58c93e8c92142d', 'message': 'Update api-ref to point to API-SIG microversion spec\n\nThe docs had been using a reference within the nova docs, which\nis similar to, but less generic than the API-SIG doc.\n\nChange-Id: I7087e311209716a2907575573b9c018c352ce63d\n'}]",0,672255,99b107fb5a92fabde9f949fc3a58c93e8c92142d,7,3,1,11564,,,0,"Update api-ref to point to API-SIG microversion spec

The docs had been using a reference within the nova docs, which
is similar to, but less generic than the API-SIG doc.

Change-Id: I7087e311209716a2907575573b9c018c352ce63d
",git fetch https://review.opendev.org/openstack/placement refs/changes/55/672255/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/root.inc'],1,99b107fb5a92fabde9f949fc3a58c93e8c92142d,retire-api-site,`Microversion Specification <http://specs.openstack.org/openstack/api-sig/guidelines/microversion_specification.html>`_,`Microversions <https://docs.openstack.org/api-guide/compute/microversions.html>`_,2,2
openstack%2Fnova~master~Id2cf3aa252df6db46575b5988e4937ecfc6792bb,openstack/nova,master,Id2cf3aa252df6db46575b5988e4937ecfc6792bb,Update api-ref location,MERGED,2019-07-22 16:09:07.000000000,2019-07-23 16:22:27.000000000,2019-07-23 16:22:27.000000000,"[{'_account_id': 6547}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-22 16:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/765454f66dab01d5c73259cae65e1f07ac92f553', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Id2cf3aa252df6db46575b5988e4937ecfc6792bb\n""}, {'number': 2, 'created': '2019-07-22 16:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0db17dac236a331edf5ec3f20e5807ded047108', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that Neutron publishes to api-ref/network, not networking anymore.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Id2cf3aa252df6db46575b5988e4937ecfc6792bb\n""}, {'number': 3, 'created': '2019-07-22 17:17:48.000000000', 'files': ['api-ref/source/parameters.yaml', 'doc/source/admin/flavors.rst', 'nova/api/openstack/compute/baremetal_nodes.py', 'doc/source/user/cells.rst', 'api-guide/source/index.rst', 'README.rst', 'doc/source/user/feature-matrix-gp.ini', 'api-ref/source/os-security-groups.inc', 'doc/source/contributor/policies.rst', 'api-ref/source/os-security-group-rules.inc', 'doc/source/reference/stable-api.rst', 'doc/source/contributor/api-ref-guideline.rst', 'api-guide/source/limits.rst', 'api-ref/source/os-volumes.inc', 'api-ref/source/servers-actions.inc', 'api-ref/source/os-baremetal-nodes.inc', 'nova/conf/api.py', 'doc/source/admin/configuration/schedulers.rst', 'api-ref/source/os-hypervisors.inc', 'api-ref/source/versions.inc', 'doc/source/contributor/documentation.rst', 'doc/source/user/flavors.rst', 'nova/api/openstack/compute/rest_api_version_history.rst', 'doc/source/admin/common/nova-show-usage-statistics-for-hosts-instances.rst', 'api-ref/source/index.rst', 'api-ref/source/os-networks.inc', 'api-ref/source/images.inc', 'api-ref/source/os-services.inc', 'doc/source/admin/cells.rst', 'doc/source/contributor/microversions.rst', 'api-ref/source/os-tenant-network.inc', 'api-ref/source/request-ids.inc', 'doc/source/user/quotas.rst', 'api-guide/source/versions.rst', 'nova/notifications/objects/image.py', 'api-guide/source/server_concepts.rst', 'doc/source/index.rst', 'api-ref/source/os-floating-ips.inc', 'doc/source/contributor/api.rst', 'doc/source/user/feature-matrix-nfv.ini', 'doc/README.rst', 'tox.ini', 'api-guide/source/faults.rst', 'api-ref/source/servers.inc', 'doc/source/user/feature-matrix-hpc.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/dbe6321537c7dbbba2fdf9972567cff30864ff3a', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that Neutron publishes to api-ref/network, not networking anymore.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Id2cf3aa252df6db46575b5988e4937ecfc6792bb\n""}]",2,672077,dbe6321537c7dbbba2fdf9972567cff30864ff3a,21,12,3,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that Neutron publishes to api-ref/network, not networking anymore.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Id2cf3aa252df6db46575b5988e4937ecfc6792bb
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/672077/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'doc/source/user/cells.rst', 'README.rst', 'doc/source/user/feature-matrix-gp.ini', 'api-ref/source/os-security-group-rules.inc', 'doc/source/reference/stable-api.rst', 'doc/source/contributor/api-ref-guideline.rst', 'releasenotes/notes/bug-1775418-754fc50261f5d7c3.yaml', 'api-guide/source/limits.rst', 'api-ref/source/os-baremetal-nodes.inc', 'nova/conf/api.py', 'doc/source/contributor/documentation.rst', 'doc/source/admin/common/nova-show-usage-statistics-for-hosts-instances.rst', 'api-ref/source/index.rst', 'api-ref/source/os-networks.inc', 'api-ref/source/images.inc', 'api-ref/source/os-services.inc', 'doc/source/contributor/microversions.rst', 'doc/source/user/quotas.rst', 'api-ref/source/os-floating-ips.inc', 'doc/source/contributor/api.rst', 'doc/source/user/feature-matrix-nfv.ini', 'tox.ini', 'api-guide/source/faults.rst', 'doc/source/admin/flavors.rst', 'nova/api/openstack/compute/baremetal_nodes.py', 'api-guide/source/index.rst', 'api-ref/source/os-security-groups.inc', 'doc/source/contributor/policies.rst', 'releasenotes/notes/bug-1675791-snapshot-member-access-c40bba36606618f7.yaml', 'releasenotes/notes/bp-service-hyper-uuid-in-api-cc7b9f21cc458e1b.yaml', 'api-ref/source/os-volumes.inc', 'api-ref/source/servers-actions.inc', 'releasenotes/notes/stein-prelude-b5fe92310e1e725e.yaml', 'doc/source/admin/configuration/schedulers.rst', 'api-ref/source/os-hypervisors.inc', 'api-ref/source/versions.inc', 'doc/source/user/flavors.rst', 'nova/api/openstack/compute/rest_api_version_history.rst', 'doc/source/admin/cells.rst', 'api-ref/source/os-tenant-network.inc', 'api-ref/source/request-ids.inc', 'releasenotes/notes/bp-handling-down-cell-10f76145d767300c.yaml', 'api-guide/source/versions.rst', 'nova/notifications/objects/image.py', 'api-guide/source/server_concepts.rst', 'doc/source/index.rst', 'releasenotes/notes/deprecate-nova-manage-commands-9de1abbc94e06d16.yaml', 'doc/README.rst', 'api-ref/source/servers.inc', 'doc/source/user/feature-matrix-hpc.ini']",51,765454f66dab01d5c73259cae65e1f07ac92f553,retire-api-site,api_doc_link=https://docs.openstack.org/api-ref/compute/#create-serverapi_doc_link=https://docs.openstack.org/api-ref/compute/#create-server,api_doc_link=https://developer.openstack.org/api-ref/compute/#create-serverapi_doc_link=https://developer.openstack.org/api-ref/compute/#create-server,104,104
openstack%2Fpython-tripleoclient~stable%2Fqueens~I15511b4f36260292e0ea4100b15b8e65a701b38b,openstack/python-tripleoclient,stable/queens,I15511b4f36260292e0ea4100b15b8e65a701b38b,Allow run_update_ansible_action run with Mistral or Ansible,MERGED,2019-06-06 12:37:25.000000000,2019-07-23 16:01:11.000000000,2019-07-23 16:01:10.000000000,"[{'_account_id': 11082}, {'_account_id': 11166}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-06 12:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/86c4f0001bcd3171fd8e6a3143041cc460bf51d8', 'message': 'Allow run_update_ansible_action run with Mistral or Ansible\n\nWe extend run_update_ansible_action\nto allow running the Ansible playbooks with Mistral\nor executing directly thru Ansible.\n\nThis is needed  in case we need to run\nexceptionally a task depending on Mistral\nbut Mistral is broken. For example, retry\nan upgrade operation after having Mistral broken.\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n'}, {'number': 2, 'created': '2019-06-06 12:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cacc7f25cf4c5bb063f668908543b2aaf561fba5', 'message': 'Allow run_update_ansible_action run with Mistral or Ansible\n\nWe extend run_update_ansible_action\nto allow running the Ansible playbooks with Mistral\nor executing directly thru Ansible.\n\nThis is needed  in case we need to run\nexceptionally a task depending on Mistral\nbut Mistral is broken. For example, retry\nan upgrade operation after having Mistral broken.\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n'}, {'number': 3, 'created': '2019-07-11 09:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/14f30add87934b9e2aea8870acb3f1f72bc40d22', 'message': 'Allow run_update_ansible_action run with Mistral or Ansible\n\nWe extend run_update_ansible_action\nto allow running the Ansible playbooks with Mistral\nor executing directly thru Ansible.\n\nThis is needed  in case we need to run\nexceptionally a task depending on Mistral\nbut Mistral is broken. For example, retry\nan upgrade operation after having Mistral broken.\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n(cherry picked from commit 5249fbb2623165ef40098631fad18104579450c9)\n'}, {'number': 4, 'created': '2019-07-11 10:02:02.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/constants.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/de4f45dd2667d3afb1cc55a12b4639e36e30b109', 'message': 'Allow run_update_ansible_action run with Mistral or Ansible\n\nWe extend run_update_ansible_action\nto allow running the Ansible playbooks with Mistral\nor executing directly thru Ansible.\n\nThis is needed  in case we need to run\nexceptionally a task depending on Mistral\nbut Mistral is broken. For example, retry\nan upgrade operation after having Mistral broken.\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n(cherry picked from commit 5249fbb2623165ef40098631fad18104579450c9)\n'}]",0,663631,de4f45dd2667d3afb1cc55a12b4639e36e30b109,17,9,4,16515,,,0,"Allow run_update_ansible_action run with Mistral or Ansible

We extend run_update_ansible_action
to allow running the Ansible playbooks with Mistral
or executing directly thru Ansible.

This is needed  in case we need to run
exceptionally a task depending on Mistral
but Mistral is broken. For example, retry
an upgrade operation after having Mistral broken.

Change-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b
(cherry picked from commit 5249fbb2623165ef40098631fad18104579450c9)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/31/663631/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py']",2,86c4f0001bcd3171fd8e6a3143041cc460bf51d8,ansible/bp/validation,"from heatclient import exc as hc_exc from six.moves.urllib import error as url_error from six.moves.urllib import request from tripleo_common.utils import config from tripleoclient import constants from tripleoclient import exceptions from prettytable import PrettyTable LOG = logging.getLogger(__name__ + "".utils"") def run_ansible_playbook(logger, workdir, playbook, inventory, ansible_config=None, retries=True, connection='smart', output_callback='json', python_interpreter=None, ssh_user='root', key=None, module_path=None, limit_hosts=None, tags='', skip_tags=''): """"""Simple wrapper for ansible-playbook :param logger: logger instance :type logger: Logger :param workdir: location of the playbook :type workdir: String :param playbook: playbook filename :type playbook: String :param inventory: either proper inventory file, or a coma-separated list :type inventory: String :param ansible_config: Pass either Absolute Path, or None to generate a temporary file, or False to not manage configuration at all :type ansible_config: String :param retries: do you want to get a retry_file? :type retries: Boolean :param connection: connection type (local, smart, etc) :type connection: String :param output_callback: Callback for output format. Defaults to ""json"" :type output_callback: String :param python_interpreter: Absolute path for the Python interpreter on the host where Ansible is run. :type python_interpreter: String :param ssh_user: user for the ssh connection :type workdir: String :param key: private key to use for the ssh connection :type workdir: String :param module_path: location of the ansible module and library :type workdir: String :param limit_hosts: limit the execution to the hosts :type workdir: String :param tags: run specific tags :type workdir: String :param skip_tags: skip specific tags :type workdir: String """""" env = os.environ.copy() env['ANSIBLE_LIBRARY'] = \ ('/root/.ansible/plugins/modules:' '/usr/share/ansible/plugins/modules:' '%s/library' % constants.DEFAULT_VALIDATIONS_BASEDIR) env['ANSIBLE_LOOKUP_PLUGINS'] = \ ('root/.ansible/plugins/lookup:' '/usr/share/ansible/plugins/lookup:' '%s/lookup_plugins' % constants.DEFAULT_VALIDATIONS_BASEDIR) env['ANSIBLE_CALLBACK_PLUGINS'] = \ ('~/.ansible/plugins/callback:' '/usr/share/ansible/plugins/callback:' '%s/callback_plugins' % constants.DEFAULT_VALIDATIONS_BASEDIR) env['ANSIBLE_ROLES_PATH'] = \ ('/root/.ansible/roles:' '/usr/share/ansible/roles:' '/etc/ansible/roles:' '%s/roles' % constants.DEFAULT_VALIDATIONS_BASEDIR) env['ANSIBLE_LOG_PATH'] = os.path.join(workdir, 'ansible.log') env['ANSIBLE_HOST_KEY_CHECKING'] = 'False' cleanup = False if ansible_config is None: _, tmp_config = tempfile.mkstemp(prefix=playbook, suffix='ansible.cfg') with open(tmp_config, 'w+') as f: f.write(""[defaults]\nstdout_callback = %s\n"" % output_callback) if not retries: f.write(""retry_files_enabled = False\n"") f.close() env['ANSIBLE_CONFIG'] = tmp_config cleanup = True elif os.path.isabs(ansible_config): if os.path.exists(ansible_config): env['ANSIBLE_CONFIG'] = ansible_config else: raise RuntimeError('No such configuration file: %s' % ansible_config) elif os.path.exists(os.path.join(workdir, ansible_config)): env['ANSIBLE_CONFIG'] = os.path.join(workdir, ansible_config) play = os.path.join(workdir, playbook) if os.path.exists(play): cmd = [""ansible-playbook-{}"".format(sys.version_info[0]), '-u', ssh_user, '-i', inventory ] if key is not None: cmd.extend(['--private-key=%s' % key]) if module_path is not None: cmd.extend(['--module-path=%s' % module_path]) if limit_hosts is not None: cmd.extend(['-l %s' % limit_hosts]) if tags is not '': cmd.extend(['-t %s' % tags]) if skip_tags is not '': cmd.extend(['--skip_tags %s' % skip_tags]) if python_interpreter is not None: cmd.extend(['-e', 'ansible_python_interpreter=%s' % python_interpreter]) cmd.extend(['-c', connection, play]) proc = run_command_and_log(logger, cmd, env=env, retcode_only=False) proc.wait() cleanup and os.unlink(tmp_config) if proc.returncode != 0: raise RuntimeError(proc.stdout.read()) return proc.returncode else: cleanup and os.unlink(tmp_config) raise RuntimeError('No such playbook: %s' % play) >>>>>>> 333832c2... Allow run_update_ansible_action run with Mistral or Ansible def download_ansible_playbooks(client, stack_name, output_dir='/tmp'): log = logging.getLogger(__name__ + "".download_ansible_playbooks"") stack_config = config.Config(client) tmp_ansible_dir = tempfile.mkdtemp(prefix='tripleo-ansible-', dir=output_dir) log.warning(_('** Downloading {0} ansible.. **').format(stack_name)) stack_config.write_config(stack_config.fetch_config(stack_name), stack_name, tmp_ansible_dir) return tmp_ansible_dir def run_update_ansible_action(log, clients, nodes, inventory, playbook, all_playbooks, action=None, ssh_user='heat_admin', tags='', skip_tags='', verbosity='1', extra_vars=None, workdir='', priv_key=''): if action: action.update_ansible(clients, nodes=nodes, inventory_file=inventory, playbook=book, node_user=ssh_user, tags=tags, skip_tags=skip_tags, verbosity=verbosity, extra_vars=extra_vars) else: run_ansible_playbook(logger=LOG, workdir=workdir, playbook=book, inventory=inventory, ssh_user=ssh_user, key=ssh_private_key(workdir, priv_key), module_path='/usr/share/ansible-modules', limit_hosts=nodes, tags=tags, skip_tags=skip_tags) def ssh_private_key(workdir, key): if not key: return None if (isinstance(key, six.string_types) and os.path.exists(key)): return key path = os.path.join(workdir, 'ssh_private_key') with open(path, 'w') as ssh_key: ssh_key.write(key) os.chmod(path, 0o600) return path def parse_extra_vars(extra_var_strings): """"""Parses extra variables like Ansible would. Each element in extra_var_strings is like the raw value of -e parameter of ansible-playbook command. It can either be very simple 'key=val key2=val2' format or it can be '{ ... }' representing a YAML/JSON object. The 'key=val key2=val2' format gets processed as if it was '{""key"": ""val"", ""key2"": ""val2""}' object, and all YAML/JSON objects get shallow-merged together in the order as they appear in extra_var_strings, latter objects taking precedence over earlier ones. :param extra_var_strings: unparsed value(s) of -e parameter(s) :type extra_var_strings: list of strings :returns dict representing a merged object of all extra vars """""" result = {} for extra_var_string in extra_var_strings: invalid_yaml = False try: parse_vars = yaml.safe_load(extra_var_string) except yaml.YAMLError: invalid_yaml = True if invalid_yaml or not isinstance(parse_vars, dict): try: parse_vars = dict( item.split('=') for item in extra_var_string.split()) except ValueError: raise ValueError( 'Invalid format for {extra_var_string}'.format( extra_var_string=extra_var_string)) result.update(parse_vars) return result >>>>>>> 333832c2... Allow run_update_ansible_action run with Mistral or Ansible","def run_update_ansible_action(log, clients, nodes, inventory, playbook, all_playbooks, action, ssh_user, skip_tags='', verbosity=1): action.update_ansible(clients, nodes=nodes, inventory_file=inventory, playbook=book, node_user=ssh_user, skip_tags=skip_tags, verbosity=verbosity)",562,6
openstack%2Ftripleo-heat-templates~master~I286029011e36dd35411987c7918916f8082d885b,openstack/tripleo-heat-templates,master,I286029011e36dd35411987c7918916f8082d885b,Restart only installed services,MERGED,2019-07-22 12:46:08.000000000,2019-07-23 16:01:09.000000000,2019-07-23 16:01:09.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-22 12:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2c5fcea9c99b65db06c256bc48f13e927f82ea43', 'message': 'Assure rsyslog is installed\n\nAvoids deployment failure while doing the restart of services when\nrsyslog was not installed.\n\nFailure wasfound while attempting a standalone deployment on a\nfresh RHEL8 host.\n\nChange-Id: I286029011e36dd35411987c7918916f8082d885b\n'}, {'number': 2, 'created': '2019-07-22 18:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad8847981cfcd1603a76644e218cebcb92ac3016', 'message': 'Restart only installed services\n\nAvoids deployment failure while doing the restart of services when\nrsyslog was not installed.\n\nFailure was found while attempting a standalone deployment on a\nfresh RHEL8 host.\n\nChange-Id: I286029011e36dd35411987c7918916f8082d885b\n'}, {'number': 3, 'created': '2019-07-22 18:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/04e55f5d71b8b493e0801051553c91845c51e353', 'message': 'Restart only installed services\n\nAvoids deployment failure while doing the restart of services when\nrsyslog was not installed.\n\nFailure was found while attempting a standalone deployment on a\nfresh RHEL8 host.\n\nChange-Id: I286029011e36dd35411987c7918916f8082d885b\n'}, {'number': 4, 'created': '2019-07-22 20:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37deb9ec576c773ae2fb5864b7fa811e51167fe6', 'message': 'Restart only installed services\n\nAvoids deployment failure while doing the restart of services when\nrsyslog was not installed.\n\nFailure was found while attempting a standalone deployment on a\nfresh RHEL8 host.\n\nChange-Id: I286029011e36dd35411987c7918916f8082d885b\n'}, {'number': 5, 'created': '2019-07-23 10:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/75813c90011fa2d5704bb4333223a5e74d9adcdd', 'message': 'Restart only installed services\n\nAvoids deployment failure while doing the restart of services when\nrsyslog was not installed.\n\nFailure was found while attempting a standalone deployment on a\nfresh RHEL8 host.\n\nChange-Id: I286029011e36dd35411987c7918916f8082d885b\n'}, {'number': 6, 'created': '2019-07-23 10:21:30.000000000', 'files': ['deployment/time/timezone-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58a9f97a9ebf88409ec21b0a730323c4c240861a', 'message': 'Restart only installed services\n\nAvoids deployment failure while doing the restart of services when\nrsyslog was not installed.\n\nFailure was found while attempting a standalone deployment on a\nfresh RHEL8 host.\n\nChange-Id: I286029011e36dd35411987c7918916f8082d885b\n'}]",2,672033,58a9f97a9ebf88409ec21b0a730323c4c240861a,21,8,6,24162,,,0,"Restart only installed services

Avoids deployment failure while doing the restart of services when
rsyslog was not installed.

Failure was found while attempting a standalone deployment on a
fresh RHEL8 host.

Change-Id: I286029011e36dd35411987c7918916f8082d885b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/672033/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/time/timezone-baremetal-ansible.yaml'],1,2c5fcea9c99b65db06c256bc48f13e927f82ea43,fix/rsyslog-install, - name: Assure rsyslog is present package: name: rsyslog,,3,0
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fstein~Ibe4112ef947513439643025ddf0fd543b28aba70,openstack/openstack-ansible-lxc_hosts,stable/stein,Ibe4112ef947513439643025ddf0fd543b28aba70,Fix copying apt keys from host to containers,MERGED,2019-07-10 16:43:05.000000000,2019-07-23 15:55:05.000000000,2019-07-23 15:55:05.000000000,"[{'_account_id': 1004}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28543}, {'_account_id': 28619}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-10 16:43:05.000000000', 'files': ['vars/ubuntu-18.04.yml', 'vars/ubuntu-16.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/32ede70043039fca1e5ac2e966d07d827e43a14f', 'message': 'Fix copying apt keys from host to containers\n\nWithout the trailing slash the keys had an extra level of directories\nas follows: /etc/apt/trusted.gpg.d/trusted.gpg.d/<keys>\n\nChange-Id: Ibe4112ef947513439643025ddf0fd543b28aba70\n(cherry picked from commit 9fd34ada152889c06c744ea5b4928c3554c9b4c5)\n'}]",0,670126,32ede70043039fca1e5ac2e966d07d827e43a14f,23,7,1,25023,,,0,"Fix copying apt keys from host to containers

Without the trailing slash the keys had an extra level of directories
as follows: /etc/apt/trusted.gpg.d/trusted.gpg.d/<keys>

Change-Id: Ibe4112ef947513439643025ddf0fd543b28aba70
(cherry picked from commit 9fd34ada152889c06c744ea5b4928c3554c9b4c5)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/26/670126/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu-18.04.yml', 'vars/ubuntu-16.04.yml']",2,32ede70043039fca1e5ac2e966d07d827e43a14f,, - /etc/apt/trusted.gpg.d/, - /etc/apt/trusted.gpg.d,2,2
openstack%2Fnova~master~I0cb5424b0861536e6349c335fda301093d8651e8,openstack/nova,master,I0cb5424b0861536e6349c335fda301093d8651e8,Translatable output strings in heal allocation,MERGED,2019-07-03 14:39:17.000000000,2019-07-23 15:46:32.000000000,2019-07-23 15:46:32.000000000,"[{'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-03 14:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12b87c9c3b793cc9d7699e79503489b890959c62', 'message': 'Translatable output strings in heal allocation\n\nThis patch fixes the issue with output string composition in nova-manage\nheal allocation that made translation of such string nearly impossible.\n\nChange-Id: I0cb5424b0861536e6349c335fda301093d8651e8\nRelated-Bug: #1819923\n'}, {'number': 2, 'created': '2019-07-04 13:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8243f9d72aad338cf381f125d3d7ee8c8f9b3504', 'message': 'Translatable output strings in heal allocation\n\nThis patch fixes the issue with output string composition in nova-manage\nheal allocation that made translation of such string nearly impossible.\n\nChange-Id: I0cb5424b0861536e6349c335fda301093d8651e8\nRelated-Bug: #1819923\n'}, {'number': 3, 'created': '2019-07-08 16:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b49fcbb707c94a0eb98c431aef19a6da8dffbc6', 'message': 'Translatable output strings in heal allocation\n\nThis patch fixes the issue with output string composition in nova-manage\nheal allocation that made translation of such string nearly impossible.\n\nChange-Id: I0cb5424b0861536e6349c335fda301093d8651e8\nRelated-Bug: #1819923\n'}, {'number': 4, 'created': '2019-07-09 08:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2137c2243d4de4e6fa5e5092b32b8bd02b3b599', 'message': 'Translatable output strings in heal allocation\n\nThis patch fixes the issue with output string composition in nova-manage\nheal allocation that made translation of such string nearly impossible.\n\nChange-Id: I0cb5424b0861536e6349c335fda301093d8651e8\nRelated-Bug: #1819923\n'}, {'number': 5, 'created': '2019-07-09 11:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/feda1333193a6ead7d3d263d31f188f1afd73a21', 'message': 'Translatable output strings in heal allocation\n\nThis patch fixes the issue with output string composition in nova-manage\nheal allocation that made translation of such string nearly impossible.\n\nChange-Id: I0cb5424b0861536e6349c335fda301093d8651e8\nRelated-Bug: #1819923\n'}, {'number': 6, 'created': '2019-07-11 11:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d76d595e37398b41b2866aa6c2528ead0b1136b6', 'message': 'Translatable output strings in heal allocation\n\nThis patch fixes the issue with output string composition in nova-manage\nheal allocation that made translation of such string nearly impossible.\n\nChange-Id: I0cb5424b0861536e6349c335fda301093d8651e8\nRelated-Bug: #1819923\n'}, {'number': 7, 'created': '2019-07-16 11:11:28.000000000', 'files': ['nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7a37940ce9645add3b976a3609014a2b3f8c7193', 'message': 'Translatable output strings in heal allocation\n\nThis patch fixes the issue with output string composition in nova-manage\nheal allocation that made translation of such string nearly impossible.\n\nChange-Id: I0cb5424b0861536e6349c335fda301093d8651e8\nRelated-Bug: #1819923\n'}]",8,668925,7a37940ce9645add3b976a3609014a2b3f8c7193,78,14,7,9708,,,0,"Translatable output strings in heal allocation

This patch fixes the issue with output string composition in nova-manage
heal allocation that made translation of such string nearly impossible.

Change-Id: I0cb5424b0861536e6349c335fda301093d8651e8
Related-Bug: #1819923
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/668925/7 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,12b87c9c3b793cc9d7699e79503489b890959c62,bug/1819923," need_healing = 'create' need_healing = 'update' need_healing = 'update' if need_healing == 'create': output(_('[dry-run] Create allocations for instance ' '%(instance)s: %(allocations)s') % {'instance': instance.uuid, 'allocations': allocations}) elif need_healing == 'update': output(_('[dry-run] Update allocations for instance ' '%(instance)s: %(allocations)s') % {'instance': instance.uuid, 'allocations': allocations}) if need_healing == 'create': output(_('Successfully created allocations for ' 'instance %(instance)s.') % {'operation': need_healing.lower(), 'instance': instance.uuid}) elif need_healing == 'update': output(_('Successfully updated allocations for ' 'instance %(instance)s.') % {'operation': need_healing.lower(), 'instance': instance.uuid})"," need_healing = 'Create' need_healing = 'Update' need_healing = 'Update' output(_('[dry-run] %(operation)s allocations for instance ' '%(instance)s: %(allocations)s') % {'operation': need_healing, 'instance': instance.uuid, 'allocations': allocations}) output(_('Successfully %(operation)sd allocations for ' 'instance %(instance)s.') % {'operation': need_healing.lower(), 'instance': instance.uuid})",23,12
openstack%2Fsahara-dashboard~master~Ie865136eb1ee776d4080e7d843836f57b6245ac9,openstack/sahara-dashboard,master,Ie865136eb1ee776d4080e7d843836f57b6245ac9,Use the proper Python3 Train jobs,MERGED,2019-07-09 18:34:35.000000000,2019-07-23 15:25:07.000000000,2019-07-23 15:25:07.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-07-09 18:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/8096284e37567b3febac3c689b15b8818fc445fa', 'message': 'Use the proper Python3 Train jobs\n\nWe need to pull in Horizon properly.\n7d240182b137c8493bbf3125ba50ba4011fe313a introduced the mistake.\n\nChange-Id: Ie865136eb1ee776d4080e7d843836f57b6245ac9\nStory: 2006179\n'}, {'number': 2, 'created': '2019-07-10 14:00:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/0a67ded0a2473a43f30bde04dc47c7c2dd62c8f7', 'message': 'Use the proper Python3 Train jobs\n\nWe need to pull in Horizon properly.\n7d240182b137c8493bbf3125ba50ba4011fe313a introduced the mistake.\n\nDepends-On: Ia8787a65c110731f1dab9339f382b2680240cab3\nChange-Id: Ie865136eb1ee776d4080e7d843836f57b6245ac9\n'}]",0,669927,0a67ded0a2473a43f30bde04dc47c7c2dd62c8f7,11,5,2,23078,,,0,"Use the proper Python3 Train jobs

We need to pull in Horizon properly.
7d240182b137c8493bbf3125ba50ba4011fe313a introduced the mistake.

Depends-On: Ia8787a65c110731f1dab9339f382b2680240cab3
Change-Id: Ie865136eb1ee776d4080e7d843836f57b6245ac9
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/27/669927/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8096284e37567b3febac3c689b15b8818fc445fa,, - openstack-python3-train-jobs-horizon, - openstack-python3-train-jobs,1,1
openstack%2Fsahara~master~Idb504b9833f57b8b3ae5f731d27dbe79e3a4d069,openstack/sahara,master,Idb504b9833f57b8b3ae5f731d27dbe79e3a4d069,Add support for UWSGI as plain mod_wsgi is long deprecated,NEW,2019-04-02 08:24:33.000000000,2019-07-23 15:23:32.000000000,,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-04-02 08:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/df9131250ba2c37aa8a616dbceca183b5b03f551', 'message': 'Add support for UWSGI as plain mod_wsgi is long deprecated\n\nThe origina spec which requested wsgi points out that uwsgi is the\nprimary choice and that mod_uwsgi is not free from defects:\nhttps://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html#completion-criteria\n\nIn fact, sahara-api does not currently work (start) when tls-proxy is used.\nInstead of trying to fix a deprecated (never supported) configuration,\nadd support for uwsgi, which is the default choice.\nThis change should be backported, pending release team approval,\nto all supported branches that deploy using mod_wsgi (rocky and stein.)\n\nChange-Id: Idb504b9833f57b8b3ae5f731d27dbe79e3a4d069\n'}, {'number': 2, 'created': '2019-04-02 10:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/0764ededd062ea3fa006587580e8734362fc8743', 'message': 'Add support for UWSGI as plain mod_wsgi is long deprecated\n\nThe origina spec which requested wsgi points out that uwsgi is the\nprimary choice and that mod_uwsgi is not free from defects:\nhttps://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html#completion-criteria\n\nAdd support for uwsgi, which is now the default choice.\n\nChange-Id: Idb504b9833f57b8b3ae5f731d27dbe79e3a4d069\n'}, {'number': 3, 'created': '2019-04-04 10:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/28ad250a36c06fc523225da0f9ffc7bd79917d19', 'message': 'Add support for UWSGI as plain mod_wsgi is long deprecated\n\nThe origina spec which requested wsgi points out that uwsgi is the\nprimary choice and that mod_uwsgi is not free from defects:\nhttps://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html#completion-criteria\n\nAdd support for uwsgi, which is now the default choice.\n\nChange-Id: Idb504b9833f57b8b3ae5f731d27dbe79e3a4d069\n'}, {'number': 4, 'created': '2019-04-04 12:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/3081ddbe99588a917173eabd68bf2e7dbaa107a8', 'message': 'Add support for UWSGI as plain mod_wsgi is long deprecated\n\nThe origina spec which requested wsgi points out that uwsgi is the\nprimary choice and that mod_uwsgi is not free from defects:\nhttps://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html#completion-criteria\n\nAdd support for uwsgi, which is now the default choice.\n\nChange-Id: Idb504b9833f57b8b3ae5f731d27dbe79e3a4d069\n'}, {'number': 5, 'created': '2019-04-04 13:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/f75ccd023e71d4aa111c9d239285094fa83e41ae', 'message': 'Add support for UWSGI as plain mod_wsgi is long deprecated\n\nThe origina spec which requested wsgi points out that uwsgi is the\nprimary choice and that mod_uwsgi is not free from defects:\nhttps://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html#completion-criteria\n\nAdd support for uwsgi, which is now the default choice.\n\nChange-Id: Idb504b9833f57b8b3ae5f731d27dbe79e3a4d069\n'}, {'number': 6, 'created': '2019-04-05 00:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/ec06c532965408d36f0d476106a26c66e6e4f329', 'message': 'Add support for UWSGI as plain mod_wsgi is long deprecated\n\nThe origina spec which requested wsgi points out that uwsgi is the\nprimary choice and that mod_uwsgi is not free from defects:\nhttps://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html#completion-criteria\n\nAdd support for uwsgi, which is now the default choice.\n\nChange-Id: Idb504b9833f57b8b3ae5f731d27dbe79e3a4d069\n'}, {'number': 7, 'created': '2019-04-05 09:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/171c238fc29757dbe34fac4ecdd7827cffd55b5d', 'message': 'Add support for UWSGI as plain mod_wsgi is long deprecated\n\nThe origina spec which requested wsgi points out that uwsgi is the\nprimary choice and that mod_uwsgi is not free from defects:\nhttps://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html#completion-criteria\n\nAdd support for uwsgi, which is now the default choice.\n\nChange-Id: Idb504b9833f57b8b3ae5f731d27dbe79e3a4d069\n'}, {'number': 8, 'created': '2019-04-05 12:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/6ca2bf1378026816ec6a4eb4ec7f7292d9d94e26', 'message': 'Add support for UWSGI as plain mod_wsgi is long deprecated\n\nThe origina spec which requested wsgi points out that uwsgi is the\nprimary choice and that mod_uwsgi is not free from defects:\nhttps://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html#completion-criteria\n\nAdd support for uwsgi, which is now the default choice.\n\nChange-Id: Idb504b9833f57b8b3ae5f731d27dbe79e3a4d069\n'}, {'number': 9, 'created': '2019-04-05 13:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/74b98f2a8e5e0e1bfdec57cbd9e89daa34b13de8', 'message': 'Add support for UWSGI as plain mod_wsgi is long deprecated\n\nThe origina spec which requested wsgi points out that uwsgi is the\nprimary choice and that mod_uwsgi is not free from defects:\nhttps://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html#completion-criteria\n\nAdd support for uwsgi, which is now the default choice.\n\nChange-Id: Idb504b9833f57b8b3ae5f731d27dbe79e3a4d069\n'}, {'number': 10, 'created': '2019-04-08 10:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/073c92087f1287d092544f1da07b45bc3dc37580', 'message': 'Add support for UWSGI as plain mod_wsgi is long deprecated\n\nThe origina spec which requested wsgi points out that uwsgi is the\nprimary choice and that mod_uwsgi is not free from defects:\nhttps://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html#completion-criteria\n\nAdd support for uwsgi, which is now the default choice.\n\nChange-Id: Idb504b9833f57b8b3ae5f731d27dbe79e3a4d069\n'}, {'number': 11, 'created': '2019-04-08 11:59:27.000000000', 'files': ['devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/sahara/commit/fb8f51b2129b2915514fa9fdb7450db96b8ab516', 'message': 'Add support for UWSGI as plain mod_wsgi is long deprecated\n\nThe origina spec which requested wsgi points out that uwsgi is the\nprimary choice and that mod_uwsgi is not free from defects:\nhttps://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html#completion-criteria\n\nAdd support for uwsgi, which is now the default choice.\n\nChange-Id: Idb504b9833f57b8b3ae5f731d27dbe79e3a4d069\n'}]",1,649245,fb8f51b2129b2915514fa9fdb7450db96b8ab516,28,4,11,10459,,,0,"Add support for UWSGI as plain mod_wsgi is long deprecated

The origina spec which requested wsgi points out that uwsgi is the
primary choice and that mod_uwsgi is not free from defects:
https://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html#completion-criteria

Add support for uwsgi, which is now the default choice.

Change-Id: Idb504b9833f57b8b3ae5f731d27dbe79e3a4d069
",git fetch https://review.opendev.org/openstack/sahara refs/changes/45/649245/5 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,df9131250ba2c37aa8a616dbceca183b5b03f551,uwsgi,# Toggle for deploying Sahara API with Apache + *wsgiSAHARA_UWSGI_APP=${SAHARA_UWSGI_APP:-${SAHARA_BIN_DIR}/sahara-wsgi-api} SAHARA_UWSGI_CONF=${SAHARA_UWSGI_CONF:-${SAHARA_CONF_DIR}/sahara-uwsgi.ini} ,#Toggle for deploying Sahara API with Apache + mod_wsgi,31,10
openstack%2Fsahara~master~I1d2cbec2b2f15ca1c6942947f369cf7192993a2d,openstack/sahara,master,I1d2cbec2b2f15ca1c6942947f369cf7192993a2d,Limit envlist to py37 for Python 3 Train goal,MERGED,2019-07-05 20:00:11.000000000,2019-07-23 15:21:26.000000000,2019-07-23 15:21:25.000000000,"[{'_account_id': 10459}, {'_account_id': 11805}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 28543}, {'_account_id': 28743}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-07-05 20:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/33acbb22f30a2241e52a643c0d1bc69f38c01ca3', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I1d2cbec2b2f15ca1c6942947f369cf7192993a2d\nStory: #2005924\nTask: #34244\n'}, {'number': 2, 'created': '2019-07-15 17:30:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara/commit/0c19fc2651a9d16c6fb36524adbfb6ab2ab8d3ac', 'message': ""Limit envlist to py37 for Python 3 Train goal\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train. The correct zuul jobs are\nalready in place so this change just limits default 'tox' calls to py37\nto save developers time.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I1d2cbec2b2f15ca1c6942947f369cf7192993a2d\nStory: #2005924\nTask: #34244\n""}]",0,669490,0c19fc2651a9d16c6fb36524adbfb6ab2ab8d3ac,17,8,2,11805,,,0,"Limit envlist to py37 for Python 3 Train goal

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train. The correct zuul jobs are
already in place so this change just limits default 'tox' calls to py37
to save developers time.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I1d2cbec2b2f15ca1c6942947f369cf7192993a2d
Story: #2005924
Task: #34244
",git fetch https://review.opendev.org/openstack/sahara refs/changes/90/669490/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,33acbb22f30a2241e52a643c0d1bc69f38c01ca3,python3-train,"envlist = py27,py37,pep8,genpolicy","envlist = py36,py37,py27,pep8,genpolicy",1,1
openstack%2Fkayobe~master~I058d75af0236b8589667229a78b46b42aa3579b5,openstack/kayobe,master,I058d75af0236b8589667229a78b46b42aa3579b5,Fix typo,MERGED,2019-07-23 14:21:07.000000000,2019-07-23 14:47:32.000000000,2019-07-23 14:47:32.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 14:21:07.000000000', 'files': ['releasenotes/notes/seperate-storage-networks-a659bcd30dd70665.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/57d7d276a3add887ce5004475cf4dff0c4dfc828', 'message': 'Fix typo\n\nChange-Id: I058d75af0236b8589667229a78b46b42aa3579b5\n'}]",0,672296,57d7d276a3add887ce5004475cf4dff0c4dfc828,6,2,1,15197,,,0,"Fix typo

Change-Id: I058d75af0236b8589667229a78b46b42aa3579b5
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/96/672296/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/seperate-storage-networks-a659bcd30dd70665.yaml'],1,57d7d276a3add887ce5004475cf4dff0c4dfc828,typo-fix," Add support for separate storage networks for both Ceph and Swift. This adds four additional networks, which can be used to separate the storage"," Add support for seperate storage networks for both Ceph and Swift. This adds four additional networks, which can be used to seperate the storage",2,2
openstack%2Fsahara~master~Iea560e5d9984f4f2841d43a323a10d07646a71de,openstack/sahara,master,Iea560e5d9984f4f2841d43a323a10d07646a71de,Fix the trust scoped token can't create another token.,NEW,2019-07-20 05:55:52.000000000,2019-07-23 14:36:17.000000000,,"[{'_account_id': 10459}, {'_account_id': 17144}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-07-20 05:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/1853fd7ee11de150752f8bc551da64c25bd8f6fc', 'message': ""Fix the bug that trust scoped token can't create another token for sahara\n\nWhen sahara uses trust scoped token to create another token,\nkeystone isn't allowed. To do so to invite elevation of privilege attacks.\nSo we need to identify the trust scoped token to prevent to create\nanother token.\n\nThe solution to the problem:\nWhen the token is trust scoped token, we add auth_ref and prevent to\ncreate another token.\n\nChange-Id: Iea560e5d9984f4f2841d43a323a10d07646a71de\n""}, {'number': 2, 'created': '2019-07-20 08:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/89f1068c194ed09cbe47297c30a045e71db3cbde', 'message': ""Fix the bug that trust scoped token can't create another token for sahara\n\nWhen sahara uses trust scoped token to create another token,\nkeystone isn't allowed. To do so to invite elevation of privilege attacks.\nSo we need to identify the trust scoped token to prevent to create\nanother token.\n\nThe solution to the problem:\nWhen the token is trust scoped token, we add auth_ref and prevent to\ncreate another token.\n\nChange-Id: Iea560e5d9984f4f2841d43a323a10d07646a71de\nRelated-Bug: #1717918\n""}, {'number': 3, 'created': '2019-07-20 09:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/a1fd1fc0f6f2cefd3c4c742a3490e2a00d2a7b53', 'message': ""Fix the bug that trust scoped token can't create another token for sahara\n\nWhen sahara uses trust scoped token to create another token,\nkeystone isn't allowed. To do so to invite elevation of privilege attacks.\nSo we need to identify the trust scoped token to prevent to create\nanother token.\n\nThe solution to the problem:\nWhen the token is trust scoped token, we add auth_ref and prevent to\ncreate another token.\n\nChange-Id: Iea560e5d9984f4f2841d43a323a10d07646a71de\nRelated-Bug: #1717918\n""}, {'number': 4, 'created': '2019-07-22 01:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/14b179e4db344eeececd3aaf47e7063826168657', 'message': ""Fix the bug that trust scoped token can't create another token for sahara\n\nWhen sahara uses trust scoped token to create another token,\nkeystone isn't allowed. To do so to invite elevation of privilege attacks.\nSo we need to identify the trust scoped token to prevent to create\nanother token.\n\nThe solution to the problem:\nWhen the token is trust scoped token, we add auth_ref and prevent to\ncreate another token.\n\nChange-Id: Iea560e5d9984f4f2841d43a323a10d07646a71de\nRelated-Bug: #1717918\n""}, {'number': 5, 'created': '2019-07-22 04:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/3d25d00b905b0eb60d2595d90a2d778ea6e40371', 'message': ""Fix the bug that trust scoped token can't create another token for sahara\n\nWhen sahara uses trust scoped token to create another token,\nkeystone isn't allowed. To do so to invite elevation of privilege attacks.\nSo we need to identify the trust scoped token to prevent to create\nanother token.\n\nThe solution to the problem:\nWhen the token is trust scoped token, we add auth_ref and prevent to\ncreate another token.\n\nChange-Id: Iea560e5d9984f4f2841d43a323a10d07646a71de\nRelated-Bug: #1717918\n""}, {'number': 6, 'created': '2019-07-22 08:01:36.000000000', 'files': ['sahara/utils/openstack/keystone.py', 'sahara/tests/unit/utils/openstack/test_images.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/68e0f4f69d5343933552524ce4ba65418bccd968', 'message': ""Fix the trust scoped token can't create another token.\n\nWhen sahara uses trust scoped token to create another token,\nkeystone isn't allowed. To do so to invite elevation of privilege attacks.\nSo we need to identify the trust scoped token to prevent to create\nanother token.\n\nThe solution to the problem:\nWhen the token is trust scoped token, we add auth_ref and prevent to\ncreate another token.\n\nChange-Id: Iea560e5d9984f4f2841d43a323a10d07646a71de\nRelated-Bug: #1717918\n""}]",2,671885,68e0f4f69d5343933552524ce4ba65418bccd968,17,4,6,17144,,,0,"Fix the trust scoped token can't create another token.

When sahara uses trust scoped token to create another token,
keystone isn't allowed. To do so to invite elevation of privilege attacks.
So we need to identify the trust scoped token to prevent to create
another token.

The solution to the problem:
When the token is trust scoped token, we add auth_ref and prevent to
create another token.

Change-Id: Iea560e5d9984f4f2841d43a323a10d07646a71de
Related-Bug: #1717918
",git fetch https://review.opendev.org/openstack/sahara refs/changes/85/671885/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara/utils/openstack/keystone.py'],1,1853fd7ee11de150752f8bc551da64c25bd8f6fc,bug/1717918,"def _get_auth_ref(auth, token): '''Return an auth plugin for the proxy user. If the token is trust scoped token, create auth_ref. Or no auth_ref. :param auth: the auth plugin to inspect. :param token: the token to use for authentication. :returns: a token auth plugin object. ''' client = client_for_admin() token_data = client.tokens.get_token_data(token=token) token_dict = token_data['token'] if 'OS-TRUST:trust' in token_dict: auth_ref = access.create(body=token_data, auth_token=token) auth.auth_ref = auth_ref return auth return _get_auth_ref(auth, token)", return auth,20,1
openstack%2Fkolla-ansible~stable%2Fstein~I6e7f375cd80a2565316a971dc7defcd8e533de5c,openstack/kolla-ansible,stable/stein,I6e7f375cd80a2565316a971dc7defcd8e533de5c,"DNM: Test MariaDB failures in CI (Stein release, 4x version)",ABANDONED,2019-07-12 15:03:13.000000000,2019-07-23 14:24:14.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-12 15:03:13.000000000', 'files': ['tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a006a94cb009f73c39da76475e91c101f3d925f1', 'message': 'DNM: Test MariaDB failures in CI (Stein release, 4x version)\n\nA few minimal relevant jobs are left to grind failures.\n\nExtra stuff:\nFix to glance-api (will be refactored later)\nFix to default docker_restart_policy (...)\n\nChange-Id: I6e7f375cd80a2565316a971dc7defcd8e533de5c\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 2f3d171004f18733fd4608314ccdec6578247de4)\n'}]",0,670580,a006a94cb009f73c39da76475e91c101f3d925f1,46,3,1,30491,,,0,"DNM: Test MariaDB failures in CI (Stein release, 4x version)

A few minimal relevant jobs are left to grind failures.

Extra stuff:
Fix to glance-api (will be refactored later)
Fix to default docker_restart_policy (...)

Change-Id: I6e7f375cd80a2565316a971dc7defcd8e533de5c
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 2f3d171004f18733fd4608314ccdec6578247de4)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/80/670580/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",5,a006a94cb009f73c39da76475e91c101f3d925f1,dnm/test-ci-mariadb-failures-stein, - job: name: kolla-ansible-centos-source-multi parent: kolla-ansible-base nodeset: kolla-ansible-centos-multi vars: base_distro: centos install_type: source - job: name: kolla-ansible-ubuntu-source-multi parent: kolla-ansible-base nodeset: kolla-ansible-bionic-multi vars: base_distro: ubuntu install_type: source - job: name: kolla-ansible-centos-source-upgrade-multi parent: kolla-ansible-upgrade-base nodeset: kolla-ansible-centos-multi vars: base_distro: centos install_type: source - job: name: kolla-ansible-ubuntu-source-upgrade-multi parent: kolla-ansible-upgrade-base nodeset: kolla-ansible-bionic-multi vars: base_distro: ubuntu install_type: source - job: name: kolla-ansible-centos-source-1 parent: kolla-ansible-centos-source - job: name: kolla-ansible-centos-source-2 parent: kolla-ansible-centos-source - job: name: kolla-ansible-centos-source-3 parent: kolla-ansible-centos-source - job: name: kolla-ansible-ubuntu-source-1 parent: kolla-ansible-ubuntu-source - job: name: kolla-ansible-ubuntu-source-2 parent: kolla-ansible-ubuntu-source - job: name: kolla-ansible-ubuntu-source-3 parent: kolla-ansible-ubuntu-source - job: name: kolla-ansible-centos-source-multi-1 parent: kolla-ansible-centos-source-multi - job: name: kolla-ansible-centos-source-multi-2 parent: kolla-ansible-centos-source-multi - job: name: kolla-ansible-centos-source-multi-3 parent: kolla-ansible-centos-source-multi - job: name: kolla-ansible-ubuntu-source-multi-1 parent: kolla-ansible-ubuntu-source-multi - job: name: kolla-ansible-ubuntu-source-multi-2 parent: kolla-ansible-ubuntu-source-multi - job: name: kolla-ansible-ubuntu-source-multi-3 parent: kolla-ansible-ubuntu-source-multi - job: name: kolla-ansible-centos-source-upgrade-1 parent: kolla-ansible-centos-source-upgrade - job: name: kolla-ansible-centos-source-upgrade-2 parent: kolla-ansible-centos-source-upgrade - job: name: kolla-ansible-centos-source-upgrade-3 parent: kolla-ansible-centos-source-upgrade - job: name: kolla-ansible-ubuntu-source-upgrade-1 parent: kolla-ansible-ubuntu-source-upgrade - job: name: kolla-ansible-ubuntu-source-upgrade-2 parent: kolla-ansible-ubuntu-source-upgrade - job: name: kolla-ansible-ubuntu-source-upgrade-3 parent: kolla-ansible-ubuntu-source-upgrade - job: name: kolla-ansible-centos-source-upgrade-multi-1 parent: kolla-ansible-centos-source-upgrade-multi - job: name: kolla-ansible-centos-source-upgrade-multi-2 parent: kolla-ansible-centos-source-upgrade-multi - job: name: kolla-ansible-centos-source-upgrade-multi-3 parent: kolla-ansible-centos-source-upgrade-multi - job: name: kolla-ansible-ubuntu-source-upgrade-multi-1 parent: kolla-ansible-ubuntu-source-upgrade-multi - job: name: kolla-ansible-ubuntu-source-upgrade-multi-2 parent: kolla-ansible-ubuntu-source-upgrade-multi - job: name: kolla-ansible-ubuntu-source-upgrade-multi-3 parent: kolla-ansible-ubuntu-source-upgrade-multi,,173,49
openstack%2Fkolla-ansible~master~I6e7f375cd80a2565316a971dc7defcd8e533de5c,openstack/kolla-ansible,master,I6e7f375cd80a2565316a971dc7defcd8e533de5c,DNM: Test MariaDB failures in CI,ABANDONED,2019-07-10 19:38:38.000000000,2019-07-23 14:23:59.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-10 19:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4ccb3c78218542739c19d6249796930a03609983', 'message': 'DNM: Test MariaDB failures in CI\n\nA few minimal relevant jobs are left to grind failures.\n\nChange-Id: I6e7f375cd80a2565316a971dc7defcd8e533de5c\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-07-10 19:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7a14d8fde66269663b359e2f9d77d5ebb708088b', 'message': 'DNM: Test MariaDB failures in CI\n\nA few minimal relevant jobs are left to grind failures.\n\nChange-Id: I6e7f375cd80a2565316a971dc7defcd8e533de5c\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 3, 'created': '2019-07-11 06:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/47782b803e6b3d19219b2602be958b43ec9b0586', 'message': 'DNM: Test MariaDB failures in CI\n\nA few minimal relevant jobs are left to grind failures.\n\nExtra stuff: Fix to glance-api (will be refactored later)\n\nChange-Id: I6e7f375cd80a2565316a971dc7defcd8e533de5c\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 4, 'created': '2019-07-11 08:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d1c9ac5e0fdf494aa20dff99373ea4520e393a25', 'message': 'DNM: Test MariaDB failures in CI\n\nA few minimal relevant jobs are left to grind failures.\nUsing master CI config rather than stein to use fixed config.\n\nExtra stuff: Fix to glance-api (will be refactored later)\n\nChange-Id: I6e7f375cd80a2565316a971dc7defcd8e533de5c\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 5, 'created': '2019-07-11 09:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7a8e5c2c0c24b94590e52be15b4f07ab2a7c190a', 'message': 'DNM: Test MariaDB failures in CI\n\nA few minimal relevant jobs are left to grind failures.\nUsing master CI config rather than stein to use fixed config.\n\nExtra stuff: Fix to glance-api (will be refactored later)\n\nChange-Id: I6e7f375cd80a2565316a971dc7defcd8e533de5c\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 6, 'created': '2019-07-11 10:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/407a2f0f78c916ed9e41fe7c543a544b09f09aa1', 'message': 'DNM: Test MariaDB failures in CI\n\nA few minimal relevant jobs are left to grind failures.\nUsing master CI config rather than stein to use fixed config.\n\nExtra stuff: Fix to glance-api (will be refactored later)\n\nChange-Id: I6e7f375cd80a2565316a971dc7defcd8e533de5c\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 7, 'created': '2019-07-11 10:59:31.000000000', 'files': ['tests/run.yml', 'ansible/group_vars/all.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2f3d171004f18733fd4608314ccdec6578247de4', 'message': 'DNM: Test MariaDB failures in CI\n\nA few minimal relevant jobs are left to grind failures.\nUsing master CI config rather than stein to use fixed config.\n\nExtra stuff:\nFix to glance-api (will be refactored later)\nFix to default docker_restart_policy (...)\n\nChange-Id: I6e7f375cd80a2565316a971dc7defcd8e533de5c\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",2,670170,2f3d171004f18733fd4608314ccdec6578247de4,60,3,7,30491,,,0,"DNM: Test MariaDB failures in CI

A few minimal relevant jobs are left to grind failures.
Using master CI config rather than stein to use fixed config.

Extra stuff:
Fix to glance-api (will be refactored later)
Fix to default docker_restart_policy (...)

Change-Id: I6e7f375cd80a2565316a971dc7defcd8e533de5c
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/70/670170/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",4,4ccb3c78218542739c19d6249796930a03609983,dnm/test-ci-mariadb-failures, name: kolla-ansible-centos-source-multi name: kolla-ansible-ubuntu-source-multi name: kolla-ansible-centos-source-upgrade-multi parent: kolla-ansible-upgrade-base nodeset: kolla-ansible-centos-multi vars: base_distro: centos install_type: source - job: name: kolla-ansible-ubuntu-source-upgrade-multi, name: kolla-ansible-centos-binary parent: kolla-ansible-base nodeset: kolla-ansible-centos voting: false vars: base_distro: centos install_type: binary - job: name: kolla-ansible-ubuntu-binary parent: kolla-ansible-base nodeset: kolla-ansible-bionic voting: false vars: base_distro: ubuntu install_type: binary - job: name: kolla-ansible-ubuntu-source-ceph parent: kolla-ansible-base nodeset: kolla-ansible-bionic-multi timeout: 9000 voting: false vars: base_distro: ubuntu install_type: source scenario: ceph host-vars: primary: ceph_osd_storetype: filestore secondary1: ceph_osd_storetype: bluestore secondary2: ceph_osd_storetype: bluestore - job: name: kolla-ansible-centos-source-ceph timeout: 9000 voting: false scenario: ceph host-vars: primary: ceph_osd_storetype: filestore secondary1: ceph_osd_storetype: bluestore secondary2: ceph_osd_storetype: bluestore name: kolla-ansible-ubuntu-source-cinder-lvm voting: false scenario: cinder-lvm - job: name: kolla-ansible-centos-source-cinder-lvm parent: kolla-ansible-base nodeset: kolla-ansible-centos-multi voting: false vars: base_distro: centos install_type: source scenario: cinder-lvm name: kolla-ansible-ubuntu-source-upgrade-ceph timeout: 9000 voting: false scenario: upgrade-ceph host-vars: primary: ceph_osd_storetype: filestore secondary1: ceph_osd_storetype: bluestore secondary2: ceph_osd_storetype: bluestore - job: name: kolla-ansible-centos-source-upgrade-ceph parent: kolla-ansible-upgrade-base nodeset: kolla-ansible-centos-multi timeout: 9000 voting: false vars: base_distro: centos install_type: source scenario: upgrade-ceph host-vars: primary: ceph_osd_storetype: filestore secondary1: ceph_osd_storetype: bluestore secondary2: ceph_osd_storetype: bluestore - job: name: kolla-ansible-bifrost-centos-source parent: kolla-ansible-bifrost-base nodeset: kolla-ansible-centos voting: false vars: base_distro: centos - job: name: kolla-ansible-ubuntu-source-zun parent: kolla-ansible-base nodeset: kolla-ansible-bionic voting: false vars: base_distro: ubuntu install_type: source scenario: zun - job: name: kolla-ansible-centos-source-scenario-nfv parent: kolla-ansible-base nodeset: kolla-ansible-centos-multi description: CI scenario to test NFV orchestration voting: false vars: base_distro: centos install_type: source scenario: scenario_nfv - job: name: kolla-ansible-centos-source-ironic parent: kolla-ansible-ironic-base nodeset: kolla-ansible-centos vars: base_distro: centos install_type: source - job: name: kolla-ansible-centos-binary-ironic parent: kolla-ansible-ironic-base nodeset: kolla-ansible-centos vars: base_distro: centos install_type: binary - job: name: kolla-ansible-ubuntu-source-ironic parent: kolla-ansible-ironic-base nodeset: kolla-ansible-bionic vars: base_distro: ubuntu install_type: source # Not running this job because the ironic-neutron-agent image is not available # for Ubuntu binary. - job: name: kolla-ansible-ubuntu-binary-ironic parent: kolla-ansible-ironic-base nodeset: kolla-ansible-bionic vars: base_distro: ubuntu install_type: binary,19,222
openstack%2Freno~master~I4e405b506ab7446adfc459b20fc666569d1dac5d,openstack/reno,master,I4e405b506ab7446adfc459b20fc666569d1dac5d,Add Python 3 Train unit tests,MERGED,2019-07-12 20:15:39.000000000,2019-07-23 14:21:50.000000000,2019-07-23 14:21:50.000000000,"[{'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-07-12 20:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reno/commit/18d06789e9ca3c56fc3c095f4a6ef33ab13c03d7', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I4e405b506ab7446adfc459b20fc666569d1dac5d\nStory: #2005924\nTask: #34242\n'}, {'number': 2, 'created': '2019-07-14 17:55:18.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/reno/commit/26ddbdde4804f32a202ae5e937a505340910d24a', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I4e405b506ab7446adfc459b20fc666569d1dac5d\nStory: #2005924\nTask: #34242\n'}]",0,670642,26ddbdde4804f32a202ae5e937a505340910d24a,16,4,2,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I4e405b506ab7446adfc459b20fc666569d1dac5d
Story: #2005924
Task: #34242
",git fetch https://review.opendev.org/openstack/reno refs/changes/42/670642/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,18d06789e9ca3c56fc3c095f4a6ef33ab13c03d7,python3-train,"envlist = py27,py37,pep8","envlist = py36,py35,py37,py27,pep8",4,5
openstack%2Fsahara-plugin-storm~master~I98c5f62ea546d4b1a3094a6ce5ff387b08742b54,openstack/sahara-plugin-storm,master,I98c5f62ea546d4b1a3094a6ce5ff387b08742b54,Limit envlist to py37 for Python 3 Train goal,MERGED,2019-07-05 20:03:12.000000000,2019-07-23 14:17:23.000000000,2019-07-23 14:17:23.000000000,"[{'_account_id': 10459}, {'_account_id': 11805}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-07-05 20:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-storm/commit/5f27bb18425b2b24fe9b6e3ce554a67342d029ea', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I98c5f62ea546d4b1a3094a6ce5ff387b08742b54\nStory: #2005924\nTask: #34244\n'}, {'number': 2, 'created': '2019-07-18 13:57:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-storm/commit/26df00435f4eb9cc0bdb3df663649aff62f870ff', 'message': ""Limit envlist to py37 for Python 3 Train goal\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train. The correct zuul jobs are\nalready in place so this change just limits default 'tox' calls to py37\nto save developers time.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I98c5f62ea546d4b1a3094a6ce5ff387b08742b54\nStory: #2005924\nTask: #34244\n""}]",0,669496,26df00435f4eb9cc0bdb3df663649aff62f870ff,14,5,2,11805,,,0,"Limit envlist to py37 for Python 3 Train goal

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train. The correct zuul jobs are
already in place so this change just limits default 'tox' calls to py37
to save developers time.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I98c5f62ea546d4b1a3094a6ce5ff387b08742b54
Story: #2005924
Task: #34244
",git fetch https://review.opendev.org/openstack/sahara-plugin-storm refs/changes/96/669496/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5f27bb18425b2b24fe9b6e3ce554a67342d029ea,python3-train,"envlist = py27,py37,pep8","envlist = py37,py36,py27,pep8",1,1
openstack%2Fsahara-plugin-vanilla~master~I542f5e02eaa6cff24a7cfa0f8a9be5af7eae5daa,openstack/sahara-plugin-vanilla,master,I542f5e02eaa6cff24a7cfa0f8a9be5af7eae5daa,Limit envlist to py37 for Python 3 Train goal,MERGED,2019-07-05 20:03:32.000000000,2019-07-23 14:17:19.000000000,2019-07-23 14:17:19.000000000,"[{'_account_id': 10459}, {'_account_id': 11805}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 28543}, {'_account_id': 28743}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-07-05 20:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-vanilla/commit/ed5744a9cfd90af568ee6464f771716588474bdc', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I542f5e02eaa6cff24a7cfa0f8a9be5af7eae5daa\nStory: #2005924\nTask: #34244\n'}, {'number': 2, 'created': '2019-07-18 13:57:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-vanilla/commit/8a8520bba5e25b1dbc4ae2299b3cc0b80c6473e6', 'message': ""Limit envlist to py37 for Python 3 Train goal\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train. The correct zuul jobs are\nalready in place so this change just limits default 'tox' calls to py37\nto save developers time.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I542f5e02eaa6cff24a7cfa0f8a9be5af7eae5daa\nStory: #2005924\nTask: #34244\n""}]",1,669497,8a8520bba5e25b1dbc4ae2299b3cc0b80c6473e6,17,8,2,11805,,,0,"Limit envlist to py37 for Python 3 Train goal

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train. The correct zuul jobs are
already in place so this change just limits default 'tox' calls to py37
to save developers time.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I542f5e02eaa6cff24a7cfa0f8a9be5af7eae5daa
Story: #2005924
Task: #34244
",git fetch https://review.opendev.org/openstack/sahara-plugin-vanilla refs/changes/97/669497/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ed5744a9cfd90af568ee6464f771716588474bdc,python3-train,"envlist = py27,py37,pep8","envlist = py37,py36,py27,pep8",1,1
openstack%2Fsahara-plugin-spark~master~I35fc531eec23f0dc4439e334c7c6e2fe7e681431,openstack/sahara-plugin-spark,master,I35fc531eec23f0dc4439e334c7c6e2fe7e681431,Limit envlist to py37 for Python 3 Train goal,MERGED,2019-07-05 20:02:46.000000000,2019-07-23 14:17:16.000000000,2019-07-23 14:17:16.000000000,"[{'_account_id': 10459}, {'_account_id': 11805}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-07-05 20:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-spark/commit/6f9f4d3b2bcd4c3f026bcd8de250f20f58121811', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I35fc531eec23f0dc4439e334c7c6e2fe7e681431\nStory: #2005924\nTask: #34244\n'}, {'number': 2, 'created': '2019-07-18 13:57:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-spark/commit/c4705b361b630bcc1c1781b6936a94ae418083f7', 'message': ""Limit envlist to py37 for Python 3 Train goal\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train. The correct zuul jobs are\nalready in place so this change just limits default 'tox' calls to py37\nto save developers time.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I35fc531eec23f0dc4439e334c7c6e2fe7e681431\nStory: #2005924\nTask: #34244\n""}]",0,669495,c4705b361b630bcc1c1781b6936a94ae418083f7,14,5,2,11805,,,0,"Limit envlist to py37 for Python 3 Train goal

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train. The correct zuul jobs are
already in place so this change just limits default 'tox' calls to py37
to save developers time.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I35fc531eec23f0dc4439e334c7c6e2fe7e681431
Story: #2005924
Task: #34244
",git fetch https://review.opendev.org/openstack/sahara-plugin-spark refs/changes/95/669495/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6f9f4d3b2bcd4c3f026bcd8de250f20f58121811,python3-train,"envlist = py27,py37,pep8","envlist = py37,py36,py27,pep8",1,1
openstack%2Fsahara-plugin-ambari~master~I01f5a2202d818ae3516e3fd7d6eb2e58a5c57d8c,openstack/sahara-plugin-ambari,master,I01f5a2202d818ae3516e3fd7d6eb2e58a5c57d8c,Limit envlist to py37 for Python 3 Train goal,MERGED,2019-07-05 20:01:34.000000000,2019-07-23 14:17:12.000000000,2019-07-23 14:17:12.000000000,"[{'_account_id': 10459}, {'_account_id': 11805}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 26297}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-07-05 20:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-ambari/commit/8c0f9ea888a4d9e5f0f69c5bf4c452d99287f0ef', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I01f5a2202d818ae3516e3fd7d6eb2e58a5c57d8c\nStory: #2005924\nTask: #34244\n'}, {'number': 2, 'created': '2019-07-18 13:57:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-ambari/commit/b88d3c6b9fbe2603a1f6f13c2af8912792a34822', 'message': ""Limit envlist to py37 for Python 3 Train goal\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train. The correct zuul jobs are\nalready in place so this change just limits default 'tox' calls to py37\nto save developers time.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I01f5a2202d818ae3516e3fd7d6eb2e58a5c57d8c\nStory: #2005924\nTask: #34244\n""}]",0,669492,b88d3c6b9fbe2603a1f6f13c2af8912792a34822,16,7,2,11805,,,0,"Limit envlist to py37 for Python 3 Train goal

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train. The correct zuul jobs are
already in place so this change just limits default 'tox' calls to py37
to save developers time.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I01f5a2202d818ae3516e3fd7d6eb2e58a5c57d8c
Story: #2005924
Task: #34244
",git fetch https://review.opendev.org/openstack/sahara-plugin-ambari refs/changes/92/669492/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8c0f9ea888a4d9e5f0f69c5bf4c452d99287f0ef,python3-train,"envlist = py27,py37,pep8","envlist = py37,py36,py27,pep8",1,1
openstack%2Fsahara-plugin-mapr~master~I7a630e290fa49436f95a9ec2ebc9fcaa7124e5ac,openstack/sahara-plugin-mapr,master,I7a630e290fa49436f95a9ec2ebc9fcaa7124e5ac,Limit envlist to py37 for Python 3 Train goal,MERGED,2019-07-05 20:02:21.000000000,2019-07-23 14:17:08.000000000,2019-07-23 14:17:08.000000000,"[{'_account_id': 10459}, {'_account_id': 11805}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-07-05 20:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-mapr/commit/b681a440c977232f4c4e7cc4687ff0a5a9b1bd43', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I7a630e290fa49436f95a9ec2ebc9fcaa7124e5ac\nStory: #2005924\nTask: #34244\n'}, {'number': 2, 'created': '2019-07-18 13:57:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-mapr/commit/317af9ee159989b8b7711dccd0fc2aafaaa99f53', 'message': ""Limit envlist to py37 for Python 3 Train goal\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train. The correct zuul jobs are\nalready in place so this change just limits default 'tox' calls to py37\nto save developers time.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I7a630e290fa49436f95a9ec2ebc9fcaa7124e5ac\nStory: #2005924\nTask: #34244\n""}]",0,669494,317af9ee159989b8b7711dccd0fc2aafaaa99f53,16,7,2,11805,,,0,"Limit envlist to py37 for Python 3 Train goal

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train. The correct zuul jobs are
already in place so this change just limits default 'tox' calls to py37
to save developers time.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I7a630e290fa49436f95a9ec2ebc9fcaa7124e5ac
Story: #2005924
Task: #34244
",git fetch https://review.opendev.org/openstack/sahara-plugin-mapr refs/changes/94/669494/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b681a440c977232f4c4e7cc4687ff0a5a9b1bd43,python3-train,"envlist = py27,py37,pep8","envlist = py37,py36,py27,pep8",1,1
openstack%2Frequirements~master~I396925e89c02ffb738e17039ef0a8b6b403e0599,openstack/requirements,master,I396925e89c02ffb738e17039ef0a8b6b403e0599,Updated from generate-constraints,ABANDONED,2019-07-23 06:28:16.000000000,2019-07-23 14:16:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-23 06:28:16.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0f927b4a4754496d56bd841ad834b052ce467799', 'message': 'Updated from generate-constraints\n\nChange-Id: I396925e89c02ffb738e17039ef0a8b6b403e0599\n'}]",0,672206,0f927b4a4754496d56bd841ad834b052ce467799,3,1,1,11131,,,0,"Updated from generate-constraints

Change-Id: I396925e89c02ffb738e17039ef0a8b6b403e0599
",git fetch https://review.opendev.org/openstack/requirements refs/changes/06/672206/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0f927b4a4754496d56bd841ad834b052ce467799,openstack/requirements/constraints,monasca-common===2.15.0tornado===5.1.1;python_version=='2.7'boto3===1.9.193kubernetes===10.0.0botocore===1.12.193openstacksdk===0.31.2python-magnumclient===2.14.0storops===1.2.0jsonschema===3.0.1,monasca-common===2.14.0tornado===4.5.3;python_version=='2.7'boto3===1.9.191kubernetes===9.0.0botocore===1.12.191openstacksdk===0.31.1python-magnumclient===2.13.0storops===1.1.0jsonschema===2.6.0,9,9
openstack%2Fsahara~master~I548d989e98716c71ff28774ad11b182cd6f5b944,openstack/sahara,master,I548d989e98716c71ff28774ad11b182cd6f5b944,"WIP devstack fixes (heathcheck URL, start_tls_proxy, mod_wsgi)",NEW,2019-04-02 09:19:37.000000000,2019-07-23 14:14:39.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-04-02 09:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/d952f702d14c920ca0c8a000a505b013f889f4d6', 'message': 'WIP devstack: detect sahara-api with wsgi and tls-proxy\n\nThe change of the URL used to check whether sahara-pai is running\nshould allow devstack to find the process when tls-proxy is enabled\n(and sahara is deployed using wsgi, which is the case since rocky.)\n\nChange-Id: I548d989e98716c71ff28774ad11b182cd6f5b944\n'}, {'number': 2, 'created': '2019-04-04 10:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/eb0214a682fed857a9d3069ce35ea81932c0ec9a', 'message': 'WIP devstack: deploy wsgi with the correct endpoints\n\nSet up the expected (simplified?) endpoints when deploying with\n*wsgi (the default since rocky.)\n\nApart from being the correct procedure, the change of the URL\nshould allow devstack to find the process when tls-proxy is enabled\n\nChange-Id: I548d989e98716c71ff28774ad11b182cd6f5b944\n'}, {'number': 3, 'created': '2019-04-04 12:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/12d2b3866758ce68c53c875ab8065724f457e21a', 'message': 'WIP devstack: deploy wsgi with the correct endpoints\n\nSet up the expected (simplified?) endpoints when deploying with\n*wsgi (the default since rocky.)\n\nApart from being the correct procedure, the change of the URL\nshould allow devstack to find the process when tls-proxy is enabled\n\nChange-Id: I548d989e98716c71ff28774ad11b182cd6f5b944\n'}, {'number': 4, 'created': '2019-04-04 13:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/dab10615077e2bba6cc99873609d6084e410cd7c', 'message': 'WIP devstack: deploy wsgi with the correct endpoints\n\nSet up the expected (simplified?) endpoints when deploying with\n*wsgi (the default since rocky.)\n\nApart from being the correct procedure, the change of the URL\nshould allow devstack to find the process when tls-proxy is enabled\n\nChange-Id: I548d989e98716c71ff28774ad11b182cd6f5b944\n'}, {'number': 5, 'created': '2019-04-04 15:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/7f04fd2a4d6bb3b441a3e2c3ae7a2c66a6dc6101', 'message': 'WIP devstack: fixes (heathcheck UR, start_tls_proxy)\n\nThis change tries to fix few issues which prevents the usage\nof tls-proxy.\n\n- When checking whether sahara-api is up, use a proper (?) URI\n  which works properly when *wsgi is used (the default since rocky.)\n- Fix the call to start_tls_proxy, which has been broken\n  for few years since https://review.openstack.org/364013\n  (so probably forever.)\n\nChange-Id: I548d989e98716c71ff28774ad11b182cd6f5b944\n'}, {'number': 6, 'created': '2019-04-05 09:49:33.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/sahara/commit/1ab961f1bcf3446b092da3f112127b3b16ee1bac', 'message': 'WIP devstack fixes (heathcheck URL, start_tls_proxy, mod_wsgi)\n\nThis change tries to fix few issues which prevents the usage\nof tls-proxy.\n\n- When checking whether sahara-api is up, use a proper (?) URI\n  which works properly when *wsgi is used (the default since rocky.)\n- Fix the call to start_tls_proxy, which has been broken\n  for few years since https://review.openstack.org/364013\n  (so probably forever.)\n- Fix the mod_wsgi configuration to use the internal port\n  when tls-proxy is enabled, in order not to clash with\n  the sahara/tls-proxy configuration.\n\nChange-Id: I548d989e98716c71ff28774ad11b182cd6f5b944\n'}]",0,649252,1ab961f1bcf3446b092da3f112127b3b16ee1bac,15,3,6,10459,,,0,"WIP devstack fixes (heathcheck URL, start_tls_proxy, mod_wsgi)

This change tries to fix few issues which prevents the usage
of tls-proxy.

- When checking whether sahara-api is up, use a proper (?) URI
  which works properly when *wsgi is used (the default since rocky.)
- Fix the call to start_tls_proxy, which has been broken
  for few years since https://review.openstack.org/364013
  (so probably forever.)
- Fix the mod_wsgi configuration to use the internal port
  when tls-proxy is enabled, in order not to clash with
  the sahara/tls-proxy configuration.

Change-Id: I548d989e98716c71ff28774ad11b182cd6f5b944
",git fetch https://review.opendev.org/openstack/sahara refs/changes/52/649252/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,d952f702d14c920ca0c8a000a505b013f889f4d6,devstack-check-sahara-api," local SAHARA_HEALTHCHECK_URL=""$service_protocol://$SAHARA_SERVICE_HOST/data-processing"" SAHARA_HEALTHCHECK_URL=""$service_protocol://$SAHARA_SERVICE_HOST:$service_port"" if ! wait_for_service $SERVICE_TIMEOUT $SAHARA_HEALTHCHECK_URL; then", if ! wait_for_service $SERVICE_TIMEOUT \ $service_protocol://$SAHARA_SERVICE_HOST:$service_port; then,3,2
openstack%2Fsahara-dashboard~master~Idc3c4be93f8c01e3b88b00f863bfba90a3f9d4e4,openstack/sahara-dashboard,master,Idc3c4be93f8c01e3b88b00f863bfba90a3f9d4e4,Limit envlist to py37 for Python 3 Train goal,MERGED,2019-07-05 20:00:51.000000000,2019-07-23 14:10:03.000000000,2019-07-23 14:10:03.000000000,"[{'_account_id': 10459}, {'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-07-05 20:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/37c63263c3233cfd4bc1de36e0225c1dc2be0426', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Idc3c4be93f8c01e3b88b00f863bfba90a3f9d4e4\nStory: #2005924\nTask: #34244\n'}, {'number': 2, 'created': '2019-07-11 16:33:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/cce212a951d2c3b61f4645f1607f6152070e9f53', 'message': ""Limit envlist to py37 for Python 3 Train goal\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train. The correct zuul jobs are\nalready in place so this change just limits default 'tox' calls to py37\nto save developers time.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Idc3c4be93f8c01e3b88b00f863bfba90a3f9d4e4\nStory: #2005924\nTask: #34244\n""}]",1,669491,cce212a951d2c3b61f4645f1607f6152070e9f53,23,6,2,11805,,,0,"Limit envlist to py37 for Python 3 Train goal

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train. The correct zuul jobs are
already in place so this change just limits default 'tox' calls to py37
to save developers time.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Idc3c4be93f8c01e3b88b00f863bfba90a3f9d4e4
Story: #2005924
Task: #34244
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/91/669491/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,37c63263c3233cfd4bc1de36e0225c1dc2be0426,python3-train,"envlist = py3-dj111,py3-dj21,py27,py37,pep8","envlist = py37,py36,py3-dj111,py3-dj21,py27,pep8",1,1
openstack%2Fsahara-plugin-cdh~master~I54ff9e8730cb163482b1bcc7983852fe64f61b95,openstack/sahara-plugin-cdh,master,I54ff9e8730cb163482b1bcc7983852fe64f61b95,Limit envlist to py37 for Python 3 Train goal,MERGED,2019-07-05 20:01:58.000000000,2019-07-23 14:08:46.000000000,2019-07-23 14:08:46.000000000,"[{'_account_id': 10459}, {'_account_id': 11805}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 26297}, {'_account_id': 28743}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-07-05 20:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/8de59bba0b57c3d8efd61e943bee1aaa5fdb9fa3', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I54ff9e8730cb163482b1bcc7983852fe64f61b95\nStory: #2005924\nTask: #34244\n'}, {'number': 2, 'created': '2019-07-18 13:57:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/56e15f929e95714cea8674a547bf5f38fba8728b', 'message': ""Limit envlist to py37 for Python 3 Train goal\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train. The correct zuul jobs are\nalready in place so this change just limits default 'tox' calls to py37\nto save developers time.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I54ff9e8730cb163482b1bcc7983852fe64f61b95\nStory: #2005924\nTask: #34244\n""}]",0,669493,56e15f929e95714cea8674a547bf5f38fba8728b,17,8,2,11805,,,0,"Limit envlist to py37 for Python 3 Train goal

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train. The correct zuul jobs are
already in place so this change just limits default 'tox' calls to py37
to save developers time.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I54ff9e8730cb163482b1bcc7983852fe64f61b95
Story: #2005924
Task: #34244
",git fetch https://review.opendev.org/openstack/sahara-plugin-cdh refs/changes/93/669493/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8de59bba0b57c3d8efd61e943bee1aaa5fdb9fa3,python3-train,"envlist = py27,py37,pep8","envlist = py37,py36,py27,pep8",1,1
openstack%2Fsahara~master~Ia2242298903dd9eab02042860b554b5fc0d73312,openstack/sahara,master,Ia2242298903dd9eab02042860b554b5fc0d73312,Update api-ref location,MERGED,2019-07-22 16:31:13.000000000,2019-07-23 14:07:17.000000000,2019-07-23 14:07:17.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-07-22 16:31:13.000000000', 'files': ['doc/source/contributor/development-guidelines.rst', 'doc/source/reference/restapi.rst', 'doc/source/user/edp.rst'], 'web_link': 'https://opendev.org/openstack/sahara/commit/ea37e56a855073e77f7c2c278220386e0ccd5e85', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Ia2242298903dd9eab02042860b554b5fc0d73312\n""}]",0,672090,ea37e56a855073e77f7c2c278220386e0ccd5e85,7,3,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Ia2242298903dd9eab02042860b554b5fc0d73312
",git fetch https://review.opendev.org/openstack/sahara refs/changes/90/672090/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/development-guidelines.rst', 'doc/source/reference/restapi.rst', 'doc/source/user/edp.rst']",3,ea37e56a855073e77f7c2c278220386e0ccd5e85,retire-api-site,`REST api <https://docs.openstack.org/api-ref/data-processing/>`_,`REST api <https://developer.openstack.org/api-ref/data-processing/>`_,3,3
openstack%2Fos-service-types~master~Id60f5c97058646c19a8a9d0befc56e9e97b202d8,openstack/os-service-types,master,Id60f5c97058646c19a8a9d0befc56e9e97b202d8,Update api-ref location,MERGED,2019-07-22 18:53:36.000000000,2019-07-23 14:05:47.000000000,2019-07-23 14:05:47.000000000,"[{'_account_id': 2}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 18:53:36.000000000', 'files': ['os_service_types/data/service-types.json', 'os_service_types/tests/base.py'], 'web_link': 'https://opendev.org/openstack/os-service-types/commit/27aa3be0f21b78a963f42991780fbc56ab194dd7', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Id60f5c97058646c19a8a9d0befc56e9e97b202d8\n""}]",0,672136,27aa3be0f21b78a963f42991780fbc56ab194dd7,7,3,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Id60f5c97058646c19a8a9d0befc56e9e97b202d8
",git fetch https://review.opendev.org/openstack/os-service-types refs/changes/36/672136/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_service_types/data/service-types.json', 'os_service_types/tests/base.py']",2,27aa3be0f21b78a963f42991780fbc56ab194dd7,retire-api-site, api_url = 'https://docs.openstack.org/api-ref/{api_reference}/' api_url = 'https://docs.openstack.org/api-ref/{api_reference}/' api_url = 'https://docs.openstack.org/api-ref/{api_reference}/', api_url = 'https://developer.openstack.org/api-ref/{api_reference}/' api_url = 'https://developer.openstack.org/api-ref/{api_reference}/' api_url = 'https://developer.openstack.org/api-ref/{api_reference}/',68,68
openstack%2Fservice-types-authority~master~Iad1424ec96f0f768d5429e6593ff48d425a31a29,openstack/service-types-authority,master,Iad1424ec96f0f768d5429e6593ff48d425a31a29,Update api-ref location,MERGED,2019-07-22 18:57:02.000000000,2019-07-23 14:05:31.000000000,2019-07-23 14:05:31.000000000,"[{'_account_id': 2}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 18:57:02.000000000', 'files': ['README.rst', 'transform.py'], 'web_link': 'https://opendev.org/openstack/service-types-authority/commit/69b5e7d5c965605dacc19ee0bc7730e232d58a3d', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Iad1424ec96f0f768d5429e6593ff48d425a31a29\n""}]",0,672139,69b5e7d5c965605dacc19ee0bc7730e232d58a3d,7,3,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Iad1424ec96f0f768d5429e6593ff48d425a31a29
",git fetch https://review.opendev.org/openstack/service-types-authority refs/changes/39/672139/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'transform.py']",2,69b5e7d5c965605dacc19ee0bc7730e232d58a3d,retire-api-site,API_REF_FMT = 'https://docs.openstack.org/api-ref/{service}/',API_REF_FMT = 'https://developer.openstack.org/api-ref/{service}/',2,2
openstack%2Fmurano-dashboard~master~I1cecc4511fa10471c551b366f146de91b48fa264,openstack/murano-dashboard,master,I1cecc4511fa10471c551b366f146de91b48fa264,Imported Translations from Zanata,MERGED,2019-07-18 09:28:53.000000000,2019-07-23 14:03:12.000000000,2019-07-23 14:03:12.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-18 09:28:53.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/b14f7bb5f8bd716d65f4f5dbe6b5c3812ea586c9', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I1cecc4511fa10471c551b366f146de91b48fa264\n'}]",0,671437,b14f7bb5f8bd716d65f4f5dbe6b5c3812ea586c9,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I1cecc4511fa10471c551b366f146de91b48fa264
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/37/671437/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'],1,b14f7bb5f8bd716d65f4f5dbe6b5c3812ea586c9,zanata/translations,"""POT-Creation-Date: 2019-07-06 07:01+0000\n""""PO-Revision-Date: 2019-07-16 06:37+0000\n""msgid ""Stein Series Release Notes"" msgstr ""Catatan Rilis Seri Stein"" ","""POT-Creation-Date: 2019-01-05 08:21+0000\n""""PO-Revision-Date: 2019-01-21 04:53+0000\n""",5,2
openstack%2Fopenstack-doc-tools~master~I0520314f4946736b78e9d7438d676739c741f7b1,openstack/openstack-doc-tools,master,I0520314f4946736b78e9d7438d676739c741f7b1,Don't use special api-quick-start location,MERGED,2019-07-23 11:39:19.000000000,2019-07-23 13:47:21.000000000,2019-07-23 13:47:20.000000000,"[{'_account_id': 10607}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 11:39:19.000000000', 'files': ['bin/doc-tools-check-languages'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/a178d4b73c70dea440d92e0629f48e4208c33bc2', 'message': ""Don't use special api-quick-start location\n\nTo simplify publishing of the guide, we don't use the special directory\nanymore, remove it for translated documents as well.\n\nChange-Id: I0520314f4946736b78e9d7438d676739c741f7b1\n""}]",0,672267,a178d4b73c70dea440d92e0629f48e4208c33bc2,7,3,1,6547,,,0,"Don't use special api-quick-start location

To simplify publishing of the guide, we don't use the special directory
anymore, remove it for translated documents as well.

Change-Id: I0520314f4946736b78e9d7438d676739c741f7b1
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/67/672267/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/doc-tools-check-languages'],1,a178d4b73c70dea440d92e0629f48e4208c33bc2,api-ref, PUBLISH_DIR=publish-docs/${language}/${book}/," # ""api-quick-start"" has a special location # following https://developer.openstack.org/api-guide/quick-start/ if [ ${book} = ""api-quick-start"" ] ; then PUBLISH_DIR=publish-docs/${language}/api-guide/quick-start/ else PUBLISH_DIR=publish-docs/${language}/${book}/ fi",1,7
openstack%2Fnova-specs~master~I08ab3fb105fd83a0b3095ea30a0f0518cfaa24ea,openstack/nova-specs,master,I08ab3fb105fd83a0b3095ea30a0f0518cfaa24ea,Add spec for expose-auto-converge-post-copy,MERGED,2019-04-11 01:39:41.000000000,2019-07-23 13:45:45.000000000,2019-07-23 13:45:45.000000000,"[{'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 7166}, {'_account_id': 8768}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14672}, {'_account_id': 15334}, {'_account_id': 19124}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 27614}]","[{'number': 1, 'created': '2019-04-11 01:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/07540e3e4089c44c21e6a0ac331a6507604e071f', 'message': 'Expose auto converge and post copy\n\nChange-Id: I08ab3fb105fd83a0b3095ea30a0f0518cfaa24ea\n'}, {'number': 2, 'created': '2019-04-12 09:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/631b54d6d3bc8479eb603d07bdc55b062531fc92', 'message': 'Expose auto converge and post copy\n\nChange-Id: I08ab3fb105fd83a0b3095ea30a0f0518cfaa24ea\n'}, {'number': 3, 'created': '2019-04-18 03:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d3f460eb9c2a6c5928cc79ea87edf9222979ee92', 'message': 'Expose auto converge and post copy\n\nChange-Id: I08ab3fb105fd83a0b3095ea30a0f0518cfaa24ea\n'}, {'number': 4, 'created': '2019-04-18 13:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/886aca070aff3bed30aabfd7f407ebda0461a51e', 'message': 'Expose auto converge and post copy\n\nChange-Id: I08ab3fb105fd83a0b3095ea30a0f0518cfaa24ea\n'}, {'number': 5, 'created': '2019-04-19 06:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/085837386bb3005b520e3acfc47f2d72063cc68d', 'message': 'Expose auto converge and post copy\n\nChange-Id: I08ab3fb105fd83a0b3095ea30a0f0518cfaa24ea\n'}, {'number': 6, 'created': '2019-04-19 09:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ea5911ef4de2bf2d10d9c967053fd8ac81fb6684', 'message': 'Expose auto converge and post copy\n\nChange-Id: I08ab3fb105fd83a0b3095ea30a0f0518cfaa24ea\n'}, {'number': 7, 'created': '2019-04-23 01:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5333578d261e0a33f7540e698809557ff00e1aaf', 'message': 'Expose auto converge and post copy\n\nChange-Id: I08ab3fb105fd83a0b3095ea30a0f0518cfaa24ea\n'}, {'number': 8, 'created': '2019-04-26 08:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/461832e1d951c92977f89f4727cdf539ac65399e', 'message': 'Add spec for expose-auto-converge-post-copy\n\nChange-Id: I08ab3fb105fd83a0b3095ea30a0f0518cfaa24ea\n'}, {'number': 9, 'created': '2019-05-05 03:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0d8ba04de99d4739e4c42b3845589cac771b7e7d', 'message': 'Add spec for expose-auto-converge-post-copy\n\nChange-Id: I08ab3fb105fd83a0b3095ea30a0f0518cfaa24ea\n'}, {'number': 10, 'created': '2019-05-27 01:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/254d52503ffdb38dde860ac8b607bcce6bce4de4', 'message': 'Add spec for expose-auto-converge-post-copy\n\nChange-Id: I08ab3fb105fd83a0b3095ea30a0f0518cfaa24ea\n'}, {'number': 11, 'created': '2019-06-05 01:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e3d4937f1939a6a2bd9117863d0eb22ae167e2b9', 'message': 'Add spec for expose-auto-converge-post-copy\n\nChange-Id: I08ab3fb105fd83a0b3095ea30a0f0518cfaa24ea\n'}, {'number': 12, 'created': '2019-06-13 05:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7f49087c7647650e6d9aadad6ea207d5ea59f248', 'message': 'Add spec for expose-auto-converge-post-copy\n\nChange-Id: I08ab3fb105fd83a0b3095ea30a0f0518cfaa24ea\n'}, {'number': 13, 'created': '2019-06-25 21:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0265b46af092db55bc2f1aeb7e209716a46fc001', 'message': 'Add spec for expose-auto-converge-post-copy\n\nChange-Id: I08ab3fb105fd83a0b3095ea30a0f0518cfaa24ea\n'}, {'number': 14, 'created': '2019-07-23 06:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e5d24e8d356c070e7b7b951f64d429fe46f05560', 'message': 'Add spec for expose-auto-converge-post-copy\n\nChange-Id: I08ab3fb105fd83a0b3095ea30a0f0518cfaa24ea\n'}, {'number': 15, 'created': '2019-07-23 06:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/de96fbae5ee6087c4f0e95b251c377bfd98ce558', 'message': 'Add spec for expose-auto-converge-post-copy\n\nChange-Id: I08ab3fb105fd83a0b3095ea30a0f0518cfaa24ea\n'}, {'number': 16, 'created': '2019-07-23 06:30:50.000000000', 'files': ['specs/train/approved/expose-auto-converge-post-copy.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9037c2c83494a63b3dd4abd3598f01e51ac294ad', 'message': 'Add spec for expose-auto-converge-post-copy\n\nChange-Id: I08ab3fb105fd83a0b3095ea30a0f0518cfaa24ea\n'}]",224,651681,9037c2c83494a63b3dd4abd3598f01e51ac294ad,89,15,16,27614,,,0,"Add spec for expose-auto-converge-post-copy

Change-Id: I08ab3fb105fd83a0b3095ea30a0f0518cfaa24ea
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/81/651681/16 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/expose-auto-converge-post-copy.rst'],1,07540e3e4089c44c21e6a0ac331a6507604e071f,bp/expose-auto-converge-post-copy,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Expose auto converge and post copy ========================================== placeholder Problem description =================== Now auto converge and post copy can only be enabled/disabled via configuration, which is somewhat inflexible. If a application sensitive to performance reduced and it is on a host with these options enabled, then live migration may cause the application raise error. Therefore, the end user needs to choose whether to enable/disable 'auto converge' or 'post copy' when live migrating the instance. Use Cases --------- * Some hosts in the cluster have auto converge or post copy enabled, the other are not turned on. End user want to be consistent during live migration, that is, the application can guarantee to use/not use auto converge or post copy. * For some applications sensitive to performance reduced, end user want to always enable auto converge or post copy. * For some applications sensitive to performance reduced, end user wish to never use auto converge or post copy. Proposed change =============== The flavor extra specs will be enhanced to support two new parameters * hw:permit_auto_converge=True|False * hw:permit_post_copy=True|False The image metadata properties will also allow specifications of the policy * hw:permit_auto_converge=True|False * hw:permit_post_copy=True|False If flavor extra specs and/or image metadata specified those values, then the combined value of the two will be taken. The value in the configuration will be overwritten. For example: * Configurations: `live_migration_permit_auto_converge` is False, `live_migration_permit_post_copy` is True. The combined value of flavor extra specs and image metadata: `hw:permit_auto_converge` is True. Then, the values have been taken are: `hw:permit_auto_converge` is True, `hw:permit_post_copy` is True. If both of them is True, auto converge will be disabled and only enable post-copy. [1]_ * Configurations: `live_migration_permit_auto_converge` is False, `live_migration_permit_post_copy` is True. The combined value of flavor extra specs and image metadata: `hw:permit_auto_converge` is True, `hw:permit_post_copy` is False. Then, the values have been taken are: `hw:permit_auto_converge` is True, `hw:permit_post_copy` is False. In this scene, libvirt will use auto converge during live migration. If end user call the force complete API, libvirt will not use post copy because it's disabled by flavor extra flags and image metadata. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Ya Wang Work Items ---------- * Recalculate ``_live_migration_flags`` before live migration start in libvirt driver. * Add functional tests and unit tests. Dependencies ============ None Testing ======= Unit tests and functional tests will be included to test the new functionality. Documentation Impact ==================== * The live migration document should be changed to introduce this new feature. References ========== .. [1] https://docs.openstack.org/nova/latest/configuration/config.html#libvirt.live_migration_permit_post_copy History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced ",,182,0
openstack%2Freno~master~Ie03eb805ddd63b40c56d83b523c8d40d0527851f,openstack/reno,master,Ie03eb805ddd63b40c56d83b523c8d40d0527851f,Avoid docutils 0.15 with py2,MERGED,2019-07-23 04:49:33.000000000,2019-07-23 13:45:07.000000000,2019-07-23 13:45:07.000000000,"[{'_account_id': 2472}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 04:49:33.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/reno/commit/dd9d7924025800213c472cc053df32f57ee39825', 'message': 'Avoid docutils 0.15 with py2\n\ndocutils 0.15 breaks the py2 tests, avoid the version for py2.\n\nChange-Id: Ie03eb805ddd63b40c56d83b523c8d40d0527851f\n'}]",0,672200,dd9d7924025800213c472cc053df32f57ee39825,7,3,1,6547,,,0,"Avoid docutils 0.15 with py2

docutils 0.15 breaks the py2 tests, avoid the version for py2.

Change-Id: Ie03eb805ddd63b40c56d83b523c8d40d0527851f
",git fetch https://review.opendev.org/openstack/reno refs/changes/00/672200/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,dd9d7924025800213c472cc053df32f57ee39825,docutils," docutils>=0.11,<0.15;python_version=='2.7' # OSI-Approved Open Source, Public Domain docutils>=0.11;python_version>='3.4' # OSI-Approved Open Source, Public Domain"," docutils>=0.11 # OSI-Approved Open Source, Public Domain",2,1
openstack%2Fkolla-ansible~master~I941fb330f52c882a3d54f0a00f756463cce20df4,openstack/kolla-ansible,master,I941fb330f52c882a3d54f0a00f756463cce20df4,fix deploy failed when ipv6 module does not load,ABANDONED,2019-07-17 02:53:52.000000000,2019-07-23 13:36:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-17 02:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/15ffc4a8a87c3084df18c8e54e8386b371af6cc5', 'message': 'fix deploy failed when ipv6 module does not load\n\nnow, when we do not use ipv6, we also set ipv6 binding to sysctl.\nwe should check whether ipv6 module has load,and to decide whether\nto set ipv6 binding to sysctl.\n\nChange-Id: I941fb330f52c882a3d54f0a00f756463cce20df4\n'}, {'number': 2, 'created': '2019-07-17 06:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c9211ea5f603bfc4c2f0cf415a6b904a7b992f63', 'message': 'fix deploy failed when ipv6 module does not load\n\nnow, when we do not use ipv6, we also set ipv6 binding to sysctl.\nwe should check whether ipv6 module has load,and to decide whether\nto set ipv6 binding to sysctl.\n\nChange-Id: I941fb330f52c882a3d54f0a00f756463cce20df4\n'}, {'number': 3, 'created': '2019-07-17 12:14:28.000000000', 'files': ['ansible/roles/nova/tasks/config.yml', 'ansible/roles/haproxy/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/54893c56f1ad8bda3ab6c75d61806810a957383d', 'message': 'fix deploy failed when ipv6 module does not load\n\nnow, when we do not use ipv6, we also set ipv6 binding to sysctl.\nwe should check whether ipv6 module has load,and to decide whether\nto set ipv6 binding to sysctl.\n\nChange-Id: I941fb330f52c882a3d54f0a00f756463cce20df4\n'}]",5,671175,54893c56f1ad8bda3ab6c75d61806810a957383d,11,3,3,26285,,,0,"fix deploy failed when ipv6 module does not load

now, when we do not use ipv6, we also set ipv6 binding to sysctl.
we should check whether ipv6 module has load,and to decide whether
to set ipv6 binding to sysctl.

Change-Id: I941fb330f52c882a3d54f0a00f756463cce20df4
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/75/671175/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/haproxy/tasks/config.yml'],1,15ffc4a8a87c3084df18c8e54e8386b371af6cc5,,"- name: Check whether ipv6 module has load become: true shell: ""lsmode | grep ipv6"" register: ipv6_mode changed_when: false failed_when: false - ipv6_mode.rc == 0 - name: Setting sysctl values sysctl: name={{ item.name }} value={{ item.value }} sysctl_set=yes become: true with_items: - { name: ""net.ipv4.ip_nonlocal_bind"", value: 1} - { name: ""net.unix.max_dgram_qlen"", value: 128} when: - set_sysctl | bool - ipv6_mode.rc != 0",,18,0
openstack%2Fpubliccloud-sig~master~If13318d1321f2e2b1210a46cb91b4e74935f7b3e,openstack/publiccloud-sig,master,If13318d1321f2e2b1210a46cb91b4e74935f7b3e,Update python version for tox,ABANDONED,2019-07-22 09:19:10.000000000,2019-07-23 13:33:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-22 09:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/publiccloud-sig/commit/79119458d79ecc5b6eefdbefd59fe30320de3a14', 'message': 'Update python version for tox\n\n* Update to python3.6\n* https://review.opendev.org/606697\n\nChange-Id: If13318d1321f2e2b1210a46cb91b4e74935f7b3e\n'}, {'number': 2, 'created': '2019-07-22 09:25:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/publiccloud-sig/commit/7f3dbcc105781e062b64ba78c2cf12e186929fc1', 'message': 'Update python version for tox\n\n* Update to python3.6\n* https://review.opendev.org/606697\n\nChange-Id: If13318d1321f2e2b1210a46cb91b4e74935f7b3e\n'}]",0,672000,7f3dbcc105781e062b64ba78c2cf12e186929fc1,4,1,2,18279,,,0,"Update python version for tox

* Update to python3.6
* https://review.opendev.org/606697

Change-Id: If13318d1321f2e2b1210a46cb91b4e74935f7b3e
",git fetch https://review.opendev.org/openstack/publiccloud-sig refs/changes/00/672000/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,79119458d79ecc5b6eefdbefd59fe30320de3a14,,"minversion = 2 envlist = docs,py36basepython = python3basepython = python3 commands = python setup.py build_sphinx ","# Hold back to 1.4, since that's what's in Fedora 20 repos # and we don't need anything newer for nova-specs tests minversion = 1.4 envlist = docs,py27commands = python setup.py build_sphinx",5,5
openstack%2Fnova~master~Ic471c0621e15aa497d33ef010c7f87890508fbeb,openstack/nova,master,Ic471c0621e15aa497d33ef010c7f87890508fbeb,Update AZ admin doc to mention the new way to specify hosts,MERGED,2019-06-21 03:54:52.000000000,2019-07-23 13:28:30.000000000,2019-07-23 13:28:30.000000000,"[{'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28543}, {'_account_id': 28706}]","[{'number': 1, 'created': '2019-06-21 03:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6856752ef869490a8bf44ff60fde0084f76a3172', 'message': 'Update AZ admin doc to mention the new way to specify hosts\n\nMnetion the new way to specify hosts where instances are launched.\nCompare with these two ways.\n\nPart of Blueprint: add-host-and-hypervisor-hostname-flag-to-create-server\n\nChange-Id: Ic471c0621e15aa497d33ef010c7f87890508fbeb\n'}, {'number': 2, 'created': '2019-06-21 16:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7deecec526b7312ba529323cb1f90e03cdb73abe', 'message': 'Update AZ admin doc to mention the new way to specify hosts\n\nMnetion the new way to specify hosts where instances are launched.\nCompare with these two ways.\n\nPart of Blueprint: add-host-and-hypervisor-hostname-flag-to-create-server\n\nChange-Id: Ic471c0621e15aa497d33ef010c7f87890508fbeb\n'}, {'number': 3, 'created': '2019-06-26 09:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed6fae4f3aad9cba63c2616d7b997b4874d0b7e3', 'message': 'Update AZ admin doc to mention the new way to specify hosts\n\nMnetion the new way to specify hosts where instances are launched.\nCompare with these two ways.\n\nPart of Blueprint: add-host-and-hypervisor-hostname-flag-to-create-server\n\nChange-Id: Ic471c0621e15aa497d33ef010c7f87890508fbeb\n'}, {'number': 4, 'created': '2019-06-27 03:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/865af018a93cf5a9181280e026c5212ecde8e470', 'message': 'Update AZ admin doc to mention the new way to specify hosts\n\nMnetion the new way to specify hosts where instances are launched.\nCompare with these two ways.\n\nPart of Blueprint: add-host-and-hypervisor-hostname-flag-to-create-server\n\nChange-Id: Ic471c0621e15aa497d33ef010c7f87890508fbeb\n'}, {'number': 5, 'created': '2019-07-08 17:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2792fb12b689842daae1e6d66e0764eded689d4c', 'message': 'Update AZ admin doc to mention the new way to specify hosts\n\nMnetion the new way to specify hosts where instances are launched.\nCompare with these two ways.\n\nPart of Blueprint: add-host-and-hypervisor-hostname-flag-to-create-server\n\nChange-Id: Ic471c0621e15aa497d33ef010c7f87890508fbeb\n'}, {'number': 6, 'created': '2019-07-08 18:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b63f8674aa521a4ccee37fe7295d27f2b64c3df4', 'message': 'Update AZ admin doc to mention the new way to specify hosts\n\nMnetion the new way to specify hosts where instances are launched.\nCompare with these two ways.\n\nPart of Blueprint: add-host-and-hypervisor-hostname-flag-to-create-server\n\nChange-Id: Ic471c0621e15aa497d33ef010c7f87890508fbeb\n'}, {'number': 7, 'created': '2019-07-09 05:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b527635305a89e8fce5cc3fc888de2aaa3dd07d', 'message': 'Update AZ admin doc to mention the new way to specify hosts\n\nMention the new way to specify hosts where instances are launched.\nCompare with these two ways.\n\nDepends-On: https://review.opendev.org/#/c/669609/\n\nPart of Blueprint: add-host-and-hypervisor-hostname-flag-to-create-server\n\nChange-Id: Ic471c0621e15aa497d33ef010c7f87890508fbeb\n'}, {'number': 8, 'created': '2019-07-09 14:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb4590d24756a51f68e40f6b4845eb155300ccf7', 'message': 'Update AZ admin doc to mention the new way to specify hosts\n\nMention the new way to specify hosts where instances are launched.\nCompare with these two ways.\n\nDepends-On: https://review.opendev.org/#/c/669609/\n\nPart of Blueprint: add-host-and-hypervisor-hostname-flag-to-create-server\n\nChange-Id: Ic471c0621e15aa497d33ef010c7f87890508fbeb\n'}, {'number': 9, 'created': '2019-07-09 14:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/567400deff786b8e6e0ddc67d335d34372ca0f10', 'message': 'Update AZ admin doc to mention the new way to specify hosts\n\nMention the new way to specify hosts where instances are launched.\nCompare with these two ways.\n\nDepends-On: https://review.opendev.org/#/c/669609/\n\nPart of Blueprint: add-host-and-hypervisor-hostname-flag-to-create-server\n\nChange-Id: Ic471c0621e15aa497d33ef010c7f87890508fbeb\n'}, {'number': 10, 'created': '2019-07-09 19:30:02.000000000', 'files': ['doc/source/admin/availability-zones.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/fd480a7a3d49ec77fbc2947650243fbc53212cfa', 'message': 'Update AZ admin doc to mention the new way to specify hosts\n\nMention the new way to specify hosts where instances are launched.\nCompare with these two ways.\n\nAlso fixed a few things in the existing docs:\n\n1. Fixed the policy rule name for forced_host.\n2. Updated the ""openstack availability zone list"" command to use the\n   --compute option.\n3. Replaced the ""openstack host list"" example with\n   ""openstack compute service list --service nova-compute""\n   since the os-hosts API was deprecated in 2.43.\n\nDepends-On: https://review.opendev.org/#/c/669609/\n\nPart of Blueprint: add-host-and-hypervisor-hostname-flag-to-create-server\n\nChange-Id: Ic471c0621e15aa497d33ef010c7f87890508fbeb\n'}]",89,666767,fd480a7a3d49ec77fbc2947650243fbc53212cfa,95,15,10,28706,,,0,"Update AZ admin doc to mention the new way to specify hosts

Mention the new way to specify hosts where instances are launched.
Compare with these two ways.

Also fixed a few things in the existing docs:

1. Fixed the policy rule name for forced_host.
2. Updated the ""openstack availability zone list"" command to use the
   --compute option.
3. Replaced the ""openstack host list"" example with
   ""openstack compute service list --service nova-compute""
   since the os-hosts API was deprecated in 2.43.

Depends-On: https://review.opendev.org/#/c/669609/

Part of Blueprint: add-host-and-hypervisor-hostname-flag-to-create-server

Change-Id: Ic471c0621e15aa497d33ef010c7f87890508fbeb
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/666767/10 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/availability-zones.rst'],1,6856752ef869490a8bf44ff60fde0084f76a3172,bp/add-host-and-hypervisor-hostname-flag-to-create-server,".. note:: Starting with the 2.74 microversion, there are two ways to specify a host and/or node when creating a server. Host/Node with Availability Zone -------------------------------- .. note:: When we use this way to select hosts where instances are launched, we will ``bypass the scheduler``. So we will meet some problems: #. Without scheduler filters, failure instances may waste effort trying to boot when failure is inevitable because of network provider, PCI device, NUMA topology, etc. #. We could be trying to claim resources on the host that aren't available, and/or unintentionally over-subscribing the host because without running the filters we don't pass down any limits for the resource claim. Host/Node as New Params ----------------------- .. note:: When we use this way to select hosts where instances are launched, we will still ``execute the scheduler``. An admin wants to request that a server is created on a specified compute host and/or node and have the request validated by the scheduler filters rather than forced. #. To select the host where instances are launched, use the ``--host HOST`` and/or ``--hypervisor-hostname HYPERVISOR`` parameters on the :command:`openstack server create` command. For example: .. code-block:: console $ openstack server create --image IMAGE --flavor m1.tiny \ --key-name KEY --host HOST --hypervisor-hostname HYPERVISOR \ --nic net-id=UUID SERVER .. note:: ``--host HOST`` and ``--hypervisor-hostname HYPERVISOR`` are optional parameters. In such cases, use the one or both of them. #. To specify which roles can launch an instance on a specified host, enable the ``create:requested_destination`` option in the ``policy.json`` file. By default, this option is enabled for only the admin role. If you see ``Forbidden (HTTP 403)`` in return, then you are not using admin credentials. #. To view the list of valid compute hosts, use the :command:`openstack host list` command. .. code-block:: console $ openstack host list +----------------+-------------+----------+ | Host Name | Service | Zone | +----------------+-------------+----------+ | compute01 | compute | nova | | compute02 | compute | nova | +----------------+-------------+----------+ #. To view the list of valid compute nodes, use the :command:`openstack hypervisor list` command. .. code-block:: console $ openstack hypervisor list +----+---------------------+ | ID | Hypervisor Hostname | +----+---------------------+ | 1 | server2 | | 2 | server3 | | 3 | server4 | +----+---------------------+",,83,0
openstack%2Fmonasca-api~master~I73c5118912ca07d73d99ba893bc6e20f74774a6e,openstack/monasca-api,master,I73c5118912ca07d73d99ba893bc6e20f74774a6e,Upgrade Storm to 1.2.2,MERGED,2019-05-10 13:56:30.000000000,2019-07-23 13:28:14.000000000,2019-07-23 13:28:14.000000000,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-10 13:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/584adb4a53cc9c2f45ebc68c46ea5ee2b0a38185', 'message': 'Upgrade Storm to 1.2.2\n\nThis is the current release and has been running in Kolla for some time,\nsee notes here:\n\nhttps://storm.apache.org/2018/06/04/storm122-released.html\n\nChange-Id: I73c5118912ca07d73d99ba893bc6e20f74774a6e\nStory: 2005624\nTask: 30934\n'}, {'number': 2, 'created': '2019-06-06 15:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/345bc3591496100b831eeb1185efd8f664cf9fb2', 'message': 'Upgrade Storm to 1.2.2\n\nThis is the current release and has been running in Kolla for some time,\nsee notes here:\n\nhttps://storm.apache.org/2018/06/04/storm122-released.html\n\nChange-Id: I73c5118912ca07d73d99ba893bc6e20f74774a6e\nStory: 2005624\nTask: 30934\n'}, {'number': 3, 'created': '2019-07-03 11:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/c48882ce11054822cd5426a5ca23b954155c1a78', 'message': 'Upgrade Storm to 1.2.2\n\nThis is the current release and has been running in Kolla for some time,\nsee notes here:\n\nhttps://storm.apache.org/2018/06/04/storm122-released.html\n\nChange-Id: I73c5118912ca07d73d99ba893bc6e20f74774a6e\nStory: 2005624\nTask: 30934\n'}, {'number': 4, 'created': '2019-07-18 14:12:49.000000000', 'files': ['releasenotes/notes/upgrade-storm-7b4f262d3783d589.yaml', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/4f62c1d318ebf1756424b7e308fdd037243f5f5c', 'message': 'Upgrade Storm to 1.2.2\n\nThis is the current release and has been running in Kolla for some time,\nsee notes here:\n\nhttps://storm.apache.org/2018/06/04/storm122-released.html\n\nChange-Id: I73c5118912ca07d73d99ba893bc6e20f74774a6e\nStory: 2005624\nTask: 30934\n'}]",0,658371,4f62c1d318ebf1756424b7e308fdd037243f5f5c,17,3,4,17669,,,0,"Upgrade Storm to 1.2.2

This is the current release and has been running in Kolla for some time,
see notes here:

https://storm.apache.org/2018/06/04/storm122-released.html

Change-Id: I73c5118912ca07d73d99ba893bc6e20f74774a6e
Story: 2005624
Task: 30934
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/71/658371/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/upgrade-storm-7b4f262d3783d589.yaml', 'devstack/settings']",2,584adb4a53cc9c2f45ebc68c46ea5ee2b0a38185,,STORM_VERSION=${STORM_VERSION:-1.2.2},STORM_VERSION=${STORM_VERSION:-1.1.3},6,1
openstack%2Fneutron-lib~master~I173973d8c62d2d0169697aa3329c36de3b2d5a41,openstack/neutron-lib,master,I173973d8c62d2d0169697aa3329c36de3b2d5a41,Update api-ref location / version,MERGED,2019-07-22 14:37:49.000000000,2019-07-23 13:18:12.000000000,2019-07-23 13:18:12.000000000,"[{'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 14:37:49.000000000', 'files': ['doc/source/contributor/api_extensions.rst', 'api-ref/source/conf.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/60ca196817fd4fe375a89b56e9e78338ae6f12eb', 'message': 'Update api-ref location / version\n\nThe api-ref now lives on docs.openstack.org, update links to it.\n\nAlso, remove version number from published document.\n\nChange-Id: I173973d8c62d2d0169697aa3329c36de3b2d5a41\n'}]",0,672060,60ca196817fd4fe375a89b56e9e78338ae6f12eb,8,3,1,6547,,,0,"Update api-ref location / version

The api-ref now lives on docs.openstack.org, update links to it.

Also, remove version number from published document.

Change-Id: I173973d8c62d2d0169697aa3329c36de3b2d5a41
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/60/672060/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/api_extensions.rst', 'api-ref/source/conf.py']",2,60ca196817fd4fe375a89b56e9e78338ae6f12eb,retire-api-site,release = ''version = '',"from neutron_lib.version import version_info # The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The full version, including alpha/beta/rc tags. release = version_info.release_string()version = version_info.version_string()",5,11
openstack%2Fcharm-openstack-dashboard~master~Ib03353d12d38b5a5ef1bac820470636c886ec8dc,openstack/charm-openstack-dashboard,master,Ib03353d12d38b5a5ef1bac820470636c886ec8dc,stein: Ensure mysqldb driver is installed,MERGED,2019-07-22 15:38:21.000000000,2019-07-23 13:00:15.000000000,2019-07-23 13:00:15.000000000,"[{'_account_id': 935}, {'_account_id': 7730}, {'_account_id': 11805}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 15:38:21.000000000', 'files': ['hooks/horizon_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/ae19450b01a529ba353e7fce4dbfa722c62127f4', 'message': 'stein: Ensure mysqldb driver is installed\n\nThe default MySQL dialect for Django in Ubuntu Disco or later\nswitch back to mysqldb rather than pymysql; ensure that required\ndriver is installed for stein or later.\n\nChange-Id: Ib03353d12d38b5a5ef1bac820470636c886ec8dc\nCloses-Bug: 1834614\n'}]",0,672074,ae19450b01a529ba353e7fce4dbfa722c62127f4,11,6,1,935,,,0,"stein: Ensure mysqldb driver is installed

The default MySQL dialect for Django in Ubuntu Disco or later
switch back to mysqldb rather than pymysql; ensure that required
driver is installed for stein or later.

Change-Id: Ib03353d12d38b5a5ef1bac820470636c886ec8dc
Closes-Bug: 1834614
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/74/672074/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/horizon_utils.py'],1,ae19450b01a529ba353e7fce4dbfa722c62127f4,bug/1834614, if release >= 'stein': # NOTE(jamespage): Django in Ubuntu disco or later uses # mysqldb rather than pymysql. packages.append('python3-mysqldb'),,4,0
openstack%2Fpython-novaclient~master~I53120e2ff3ae337a55c4cd0904bc9ad1dd54d082,openstack/python-novaclient,master,I53120e2ff3ae337a55c4cd0904bc9ad1dd54d082,Update api-ref location,MERGED,2019-07-22 18:52:26.000000000,2019-07-23 12:55:12.000000000,2019-07-23 12:55:12.000000000,"[{'_account_id': 679}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 18:52:26.000000000', 'files': ['doc/source/index.rst', 'novaclient/v2/servers.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/acef73c9bddbf958cb97a619172662ede3a33de1', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I53120e2ff3ae337a55c4cd0904bc9ad1dd54d082\n""}]",0,672135,acef73c9bddbf958cb97a619172662ede3a33de1,7,3,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I53120e2ff3ae337a55c4cd0904bc9ad1dd54d082
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/35/672135/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'novaclient/v2/servers.py']",2,acef73c9bddbf958cb97a619172662ede3a33de1,retire-api-site, https://docs.openstack.org/api-ref/compute/#list-servers, https://developer.openstack.org/api-ref/compute/#list-servers,2,2
openstack%2Ftosca-parser~master~If3b4940608ccaf9b005f8f512d83cc25e6744e3e,openstack/tosca-parser,master,If3b4940608ccaf9b005f8f512d83cc25e6744e3e,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 11:40:38.000000000,2019-07-23 12:54:38.000000000,2019-07-23 12:54:38.000000000,"[{'_account_id': 6456}, {'_account_id': 16511}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28471}, {'_account_id': 28614}, {'_account_id': 28743}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-04-23 11:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/3718a5303dc4fc4d163aef14f0db282137dfe1b8', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: If3b4940608ccaf9b005f8f512d83cc25e6744e3e\n'}, {'number': 2, 'created': '2019-06-20 06:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/fd0b4cd45ebfc6babb87786842bc0d12966de894', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\n1. Replace git.openstack.org URLs with opendev.org URLs\n2. Remove unncessary ""==""\n\nChange-Id: If3b4940608ccaf9b005f8f512d83cc25e6744e3e\n'}, {'number': 3, 'created': '2019-06-20 06:32:25.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst', 'setup.cfg', 'tox.ini', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/912bfca49fdb8dbd61ec50418ce393242e8534bc', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\n1. Replace git.openstack.org URLs with opendev.org URLs\n2. Remove unncessary ""==""\n3. Update some URLs to latest\n\nChange-Id: If3b4940608ccaf9b005f8f512d83cc25e6744e3e\n'}]",2,655084,912bfca49fdb8dbd61ec50418ce393242e8534bc,19,9,3,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

1. Replace git.openstack.org URLs with opendev.org URLs
2. Remove unncessary ""==""
3. Update some URLs to latest

Change-Id: If3b4940608ccaf9b005f8f512d83cc25e6744e3e
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/84/655084/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,3718a5303dc4fc4d163aef14f0db282137dfe1b8,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},2,2
openstack%2Frequirements~master~Ia6c54e6b852ef31773ee67e95764156ef2d8ef9f,openstack/requirements,master,Ia6c54e6b852ef31773ee67e95764156ef2d8ef9f,Update constraint for monasca-common to new release 2.15.0,ABANDONED,2019-07-23 10:10:10.000000000,2019-07-23 12:25:57.000000000,,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 18955}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 10:10:10.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/14dadbc28b3a326a46ff883d02b2e700d2644403', 'message': 'Update constraint for monasca-common to new release 2.15.0\n\nChange-Id: Ia6c54e6b852ef31773ee67e95764156ef2d8ef9f\n'}]",0,672249,14dadbc28b3a326a46ff883d02b2e700d2644403,3,5,1,16222,,,0,"Update constraint for monasca-common to new release 2.15.0

Change-Id: Ia6c54e6b852ef31773ee67e95764156ef2d8ef9f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/49/672249/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,14dadbc28b3a326a46ff883d02b2e700d2644403,,monasca-common===2.15.0,monasca-common===2.14.0,1,1
openstack%2Fkolla-cli~master~I8e6cb702c3f931de7caee81a01294cde48907719,openstack/kolla-cli,master,I8e6cb702c3f931de7caee81a01294cde48907719,Update the api module import order,MERGED,2019-07-23 11:51:57.000000000,2019-07-23 12:24:25.000000000,2019-07-23 12:24:25.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 11:51:57.000000000', 'files': ['kolla_cli/api/host.py', 'kolla_cli/api/config.py', 'kolla_cli/api/group.py', 'kolla_cli/api/service.py', 'kolla_cli/api/control_plane.py', 'kolla_cli/api/password.py', 'kolla_cli/api/support.py', 'kolla_cli/api/exceptions.py', 'kolla_cli/api/properties.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/ff625135dc13d76f3347d15d3983151ce52e1812', 'message': 'Update the api module import order\n\nChange-Id: I8e6cb702c3f931de7caee81a01294cde48907719\n'}]",0,672270,ff625135dc13d76f3347d15d3983151ce52e1812,6,2,1,22165,,,0,"Update the api module import order

Change-Id: I8e6cb702c3f931de7caee81a01294cde48907719
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/70/672270/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla_cli/api/host.py', 'kolla_cli/api/config.py', 'kolla_cli/api/group.py', 'kolla_cli/api/service.py', 'kolla_cli/api/control_plane.py', 'kolla_cli/api/password.py', 'kolla_cli/api/support.py', 'kolla_cli/api/exceptions.py', 'kolla_cli/api/properties.py']",9,ff625135dc13d76f3347d15d3983151ce52e1812,,import kolla_cli.i18n as u,import kolla_cli.i18n as u ,11,14
openstack%2Fplacement~master~Iccddd4356b5d7c28977ad954654d0875972dae97,openstack/placement,master,Iccddd4356b5d7c28977ad954654d0875972dae97,Update api-ref location,MERGED,2019-07-22 16:56:44.000000000,2019-07-23 12:23:33.000000000,2019-07-23 12:23:33.000000000,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 16:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/346ea245e5098b886f70809708c4da01b1b36b44', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Iccddd4356b5d7c28977ad954654d0875972dae97\n""}, {'number': 2, 'created': '2019-07-22 17:17:09.000000000', 'files': ['doc/source/install/index.rst', 'doc/source/usage/index.rst', 'README.rst', 'api-ref/source/root.inc', 'api-ref/source/request-ids.inc', 'doc/source/contributor/api-ref-guideline.rst', 'doc/source/contributor/contributing.rst', 'doc/source/index.rst', 'doc/source/contributor/index.rst', 'doc/source/usage/provider-tree.rst', 'doc/README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/placement/commit/7b3c179fe4a67c99e366c6420e1b387a14d8e871', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Iccddd4356b5d7c28977ad954654d0875972dae97\n""}]",0,672110,7b3c179fe4a67c99e366c6420e1b387a14d8e871,8,4,2,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Iccddd4356b5d7c28977ad954654d0875972dae97
",git fetch https://review.opendev.org/openstack/placement refs/changes/10/672110/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/index.rst', 'doc/source/usage/index.rst', 'README.rst', 'api-ref/source/root.inc', 'api-ref/source/request-ids.inc', 'doc/source/contributor/api-ref-guideline.rst', 'doc/source/contributor/contributing.rst', 'doc/source/index.rst', 'doc/source/contributor/index.rst', 'doc/source/usage/provider-tree.rst', 'doc/README.rst', 'tox.ini', 'releasenotes/notes/allocation-candidate-mappings-e00cf6deadcee9ab.yaml']",13,346ea245e5098b886f70809708c4da01b1b36b44,retire-api-site, .. _request: https://docs.openstack.org/api-ref/placement/?expanded=list-allocation-candidates-detail#list-allocation-candidates, .. _request: https://developer.openstack.org/api-ref/placement/?expanded=list-allocation-candidates-detail#list-allocation-candidates,21,21
openstack%2Fplacement~master~Ic0ff55f00e0312251207fd079cf7b7e98d950c87,openstack/placement,master,Ic0ff55f00e0312251207fd079cf7b7e98d950c87,Make placement testing easier on osx,MERGED,2019-07-17 12:28:56.000000000,2019-07-23 12:23:32.000000000,2019-07-23 12:23:32.000000000,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14288}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-17 12:28:56.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/placement/commit/baaaff17b5a57347cc19a896040d8c3ddd6fe8b1', 'message': 'Make placement testing easier on osx\n\nPlacement can run just fine on OSX but running the tests can\nbe a bit cumbersome since dev libraries for ssl, postresql,\nand mysql are required (directly or indirectly) by\ntest-requirements.txt, even though for non-gate testing we don\'t\nusually need them, and dealing with dynamic libraries is a\nfrequent source of pain and discomfort on OSX.\n\nThis change says ""don\'t import SQL drivers for mysql and postgresql\nwhen testing on darwin"".\n\nChange-Id: Ic0ff55f00e0312251207fd079cf7b7e98d950c87\n'}]",0,671249,baaaff17b5a57347cc19a896040d8c3ddd6fe8b1,11,5,1,11564,,,0,"Make placement testing easier on osx

Placement can run just fine on OSX but running the tests can
be a bit cumbersome since dev libraries for ssl, postresql,
and mysql are required (directly or indirectly) by
test-requirements.txt, even though for non-gate testing we don't
usually need them, and dealing with dynamic libraries is a
frequent source of pain and discomfort on OSX.

This change says ""don't import SQL drivers for mysql and postgresql
when testing on darwin"".

Change-Id: Ic0ff55f00e0312251207fd079cf7b7e98d950c87
",git fetch https://review.opendev.org/openstack/placement refs/changes/49/671249/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,baaaff17b5a57347cc19a896040d8c3ddd6fe8b1,cd/osx-testing,psycopg2>=2.6.2; sys_platform!='darwin' # LGPL/ZPL PyMySQL>=0.7.6; sys_platform!='darwin' # MIT License,psycopg2>=2.6.2 # LGPL/ZPL PyMySQL>=0.7.6 # MIT License,2,2
openstack%2Fkolla-ansible~master~Ia03e7979dd48bafb34c11edd08c2a2a87b949e0e,openstack/kolla-ansible,master,Ia03e7979dd48bafb34c11edd08c2a2a87b949e0e,Remove FWaaS v1 related options,MERGED,2019-07-01 09:59:12.000000000,2019-07-23 12:16:50.000000000,2019-07-23 12:16:50.000000000,"[{'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-01 09:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b94fb600a5293d445d18a1ce11f58a0b97e73e5e', 'message': 'Remove FWaaS v1 related options\n\nNeutron FWaaS v1 is deprecated and removed since stein cycle by [0]. So\nremove related options in kolla.\n\n[0] https://review.opendev.org/616410\n\nChange-Id: Ia03e7979dd48bafb34c11edd08c2a2a87b949e0e\n'}, {'number': 2, 'created': '2019-07-23 00:25:26.000000000', 'files': ['ansible/roles/neutron/defaults/main.yml', 'ansible/roles/neutron/templates/fwaas_driver.ini.j2', 'releasenotes/notes/remove-fwaas-v1-6d75b742ebbf0c56.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1537f6ed6616a52e73520972370b0a47032a0836', 'message': 'Remove FWaaS v1 related options\n\nNeutron FWaaS v1 is deprecated and removed since stein cycle by [0]. So\nremove related options in kolla.\n\n[0] https://review.opendev.org/616410\n\nChange-Id: Ia03e7979dd48bafb34c11edd08c2a2a87b949e0e\n'}]",2,668406,1537f6ed6616a52e73520972370b0a47032a0836,12,5,2,7488,,,0,"Remove FWaaS v1 related options

Neutron FWaaS v1 is deprecated and removed since stein cycle by [0]. So
remove related options in kolla.

[0] https://review.opendev.org/616410

Change-Id: Ia03e7979dd48bafb34c11edd08c2a2a87b949e0e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/668406/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/defaults/main.yml', 'ansible/roles/neutron/templates/fwaas_driver.ini.j2', 'releasenotes/notes/remove-fwaas-v1-6d75b742ebbf0c56.yaml']",3,b94fb600a5293d445d18a1ce11f58a0b97e73e5e,,--- deprecations: - | Neutron FWaaS v1 is deprecated and removed since stein cycle by [0]. So remove related options in kolla. [0] https://review.opendev.org/616410 ,,10,10
openstack%2Fnova~master~I97e67fb971b7a0cc2373b558907c7354646cf5fa,openstack/nova,master,I97e67fb971b7a0cc2373b558907c7354646cf5fa,Remove Newton-era min compute checks for server create with device tags,MERGED,2019-07-05 20:35:08.000000000,2019-07-23 12:02:38.000000000,2019-07-22 21:46:27.000000000,"[{'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-07-05 20:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dec61aed15f1d81b7f4a262b44182e2a8a5aa4a4', 'message': 'Remove Newton-era min compute checks for server create with device tags\n\nCompute service version 14 is from Newton [1] so we can remove\nthe API min compute version checks for creating a server with\nbdm and vif device tags. Note that the docstrings which are\nremoved mentioned microversion support but that was wrong - the\nrequest schema validation is what validates the microversion used.\n\n[1] I8367f740d6d4ebaeb81bc74c6a82a8faf5cd8308\n\nChange-Id: I97e67fb971b7a0cc2373b558907c7354646cf5fa\n'}, {'number': 2, 'created': '2019-07-22 15:15:14.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e75fc2af93725653950b4b510c2b6da1fa05843d', 'message': 'Remove Newton-era min compute checks for server create with device tags\n\nCompute service version 14 is from Newton [1] so we can remove\nthe API min compute version checks for creating a server with\nbdm and vif device tags. Note that the docstrings which are\nremoved mentioned microversion support but that was wrong - the\nrequest schema validation is what validates the microversion used.\n\n[1] I8367f740d6d4ebaeb81bc74c6a82a8faf5cd8308\n\nChange-Id: I97e67fb971b7a0cc2373b558907c7354646cf5fa\n'}]",1,669523,e75fc2af93725653950b4b510c2b6da1fa05843d,34,17,2,6873,,,0,"Remove Newton-era min compute checks for server create with device tags

Compute service version 14 is from Newton [1] so we can remove
the API min compute version checks for creating a server with
bdm and vif device tags. Note that the docstrings which are
removed mentioned microversion support but that was wrong - the
request schema validation is what validates the microversion used.

[1] I8367f740d6d4ebaeb81bc74c6a82a8faf5cd8308

Change-Id: I97e67fb971b7a0cc2373b558907c7354646cf5fa
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/669523/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/api/openstack/compute/servers.py']",2,dec61aed15f1d81b7f4a262b44182e2a8a5aa4a4,remove-server-create-device-tag-min-compute-check," def _get_requested_networks(self, requested_networks): context, target, server_dict, create_kwargs): self, context, target, server_dict, create_kwargs): requested_networks) context, target, server_dict, create_kwargs) context, target, server_dict, create_kwargs)","from nova.objects import service as service_objDEVICE_TAGGING_MIN_COMPUTE_VERSION = 14 def _get_requested_networks(self, requested_networks, supports_device_tagging=False): if request.tag and not supports_device_tagging: msg = _('Network interface tags are not yet supported.') raise exc.HTTPBadRequest(explanation=msg) context, target, server_dict, create_kwargs, supports_device_tagging): :param supports_device_tagging: True if a suitable microversion was provided for bdm tags during server create, False otherwise for bdm in block_device_mapping: if bdm.get('tag', None) and not supports_device_tagging: msg = _('Block device tags are not yet supported.') raise exc.HTTPBadRequest(explanation=msg) self, context, target, server_dict, create_kwargs, supports_device_tagging): :param supports_device_tagging: True if a suitable microversion was provided for VIF tags during server create, False otherwise requested_networks, supports_device_tagging) # NOTE(danms): Don't require an answer from all cells here, as # we assume that if a cell isn't reporting we won't schedule into # it anyway. A bit of a gamble, but a reasonable one. min_compute_version = service_obj.get_minimum_version_all_cells( nova_context.get_admin_context(), ['nova-compute']) supports_device_tagging = (min_compute_version >= DEVICE_TAGGING_MIN_COMPUTE_VERSION) context, target, server_dict, create_kwargs, supports_device_tagging) context, target, server_dict, create_kwargs, supports_device_tagging)",9,53
openstack%2Fpython-karborclient~master~Ie02a59eaee3807432c111e301163e87ab5afe2bd,openstack/python-karborclient,master,Ie02a59eaee3807432c111e301163e87ab5afe2bd,Switch to the new canonical constraints URL on master,MERGED,2019-07-03 07:56:06.000000000,2019-07-23 11:53:50.000000000,2019-07-23 11:53:50.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-07-03 07:56:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-karborclient/commit/4571dcb49231a1b23f53029e0b2715497f9cb6ed', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n2. https://github.com/openstack/nova/blob/master/tox.ini#L17\n\nChange-Id: Ie02a59eaee3807432c111e301163e87ab5afe2bd\n'}]",0,668816,4571dcb49231a1b23f53029e0b2715497f9cb6ed,8,4,1,28748,,,0,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html
2. https://github.com/openstack/nova/blob/master/tox.ini#L17

Change-Id: Ie02a59eaee3807432c111e301163e87ab5afe2bd
",git fetch https://review.opendev.org/openstack/python-karborclient refs/changes/16/668816/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4571dcb49231a1b23f53029e0b2715497f9cb6ed,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},2,2
openstack%2Ftripleo-heat-templates~master~I1c3f60821fa185a6c65fd57dec1bf3e89c7e0b39,openstack/tripleo-heat-templates,master,I1c3f60821fa185a6c65fd57dec1bf3e89c7e0b39,[DNM] Add CephGrafana Service on ceph related roles and enable ci.,ABANDONED,2019-06-27 19:15:03.000000000,2019-07-23 11:46:10.000000000,,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-27 19:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba4d45e1af87f802eee4434248b1e09f62b760ff', 'message': 'Add CephGrafana Service on ceph related roles and enable ci.\n\nThis review enables testing of ceph-grafana service on ci\nusing ceph related scenarios.\n\n1. Add the environment variables needed to deploy the dashboard\n2. Add the OS::TripleO::Services::CephGrafana to ceph related\nroles.\n\nDepends-on: https://review.opendev.org/#/c/666578/\nChange-Id: I1c3f60821fa185a6c65fd57dec1bf3e89c7e0b39\n'}, {'number': 2, 'created': '2019-06-28 08:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18f0f6696b1bca0dba56f0340c951dacda37b393', 'message': 'Add CephGrafana Service on ceph related roles and enable ci.\n\nThis review enables testing of ceph-grafana service on ci\nusing ceph related scenarios.\n\n1. Add the environment variables needed to deploy the dashboard\n2. Add the OS::TripleO::Services::CephGrafana to ceph related\nroles.\n\nDepends-on: https://review.opendev.org/#/c/666578/\nChange-Id: I1c3f60821fa185a6c65fd57dec1bf3e89c7e0b39\n'}, {'number': 3, 'created': '2019-06-28 08:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ffde0ea8d320b33afa3017cce4f85332a38ddbf3', 'message': 'Add CephGrafana Service on ceph related roles and enable ci.\n\nThis review enables testing of ceph-grafana service on ci\nusing ceph related scenarios.\n\n1. Add the environment variables needed to deploy the dashboard\n2. Add the OS::TripleO::Services::CephGrafana to ceph related\nroles.\n\nDepends-on: https://review.opendev.org/#/c/666578/\nChange-Id: I1c3f60821fa185a6c65fd57dec1bf3e89c7e0b39\n'}, {'number': 4, 'created': '2019-06-28 10:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2871a03b029af9e05c4de085930d3db988f15df', 'message': 'Add CephGrafana Service on ceph related roles and enable ci.\n\nThis review enables testing of ceph-grafana service on ci\nusing ceph related scenarios.\n\nDepends-on: https://review.opendev.org/#/c/666578/\nChange-Id: I1c3f60821fa185a6c65fd57dec1bf3e89c7e0b39\n'}, {'number': 5, 'created': '2019-06-28 10:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a921f82d17b16484d6d72c490326eb9b5023b1ac', 'message': 'Add CephGrafana Service on ceph related roles and enable ci.\n\nThis review enables testing of ceph-grafana service on ci\nusing ceph related scenarios.\n\nDepends-on: https://review.opendev.org/#/c/666578/\nChange-Id: I1c3f60821fa185a6c65fd57dec1bf3e89c7e0b39\n'}, {'number': 6, 'created': '2019-07-03 22:00:03.000000000', 'files': ['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e65809a020f13461acd7f5cf6a0fbb1e2622013a', 'message': '[DNM] Add CephGrafana Service on ceph related roles and enable ci.\n\nThis review enables testing of ceph-grafana service on ci\nusing ceph related scenarios.\n\nDepends-on: https://review.opendev.org/#/c/666578/\nChange-Id: I1c3f60821fa185a6c65fd57dec1bf3e89c7e0b39\n'}]",1,668028,e65809a020f13461acd7f5cf6a0fbb1e2622013a,34,6,6,25402,,,0,"[DNM] Add CephGrafana Service on ceph related roles and enable ci.

This review enables testing of ceph-grafana service on ci
using ceph related scenarios.

Depends-on: https://review.opendev.org/#/c/666578/
Change-Id: I1c3f60821fa185a6c65fd57dec1bf3e89c7e0b39
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/668028/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/Standalone.yaml', 'roles/HciCephAll.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'roles/CephAll.yaml', 'roles/Controller.yaml', 'ci/environments/scenario001-standalone.yaml']",7,ba4d45e1af87f802eee4434248b1e09f62b760ff,ceph_dashboard, OS::TripleO::Services::CephGrafana: ../../deployment/ceph-ansible/ceph-grafana.yaml EnableCephDashboard: true,,10,1
openstack%2Fcloudkitty~master~I1fc4959ff7b64210a2d47ec77dc2780b320fc355,openstack/cloudkitty,master,I1fc4959ff7b64210a2d47ec77dc2780b320fc355,Fix v1 hybrid storage python2 python3 string type comparison in memory,MERGED,2019-07-11 10:33:17.000000000,2019-07-23 11:38:56.000000000,2019-07-19 14:56:03.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 24849}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-07-11 10:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/ffc18a1553cadc14bf7b37f4aecc530ff298af0b', 'message': 'Fix cloudkitty v1 gnocchi\n\nIn python2.7,six.text_type is unicode,i found that metric_name is str.\nTherefore,program would be in the logic of error.\nSo,i replaced six.text_type with six.string_types.\n\nChange-Id: I1fc4959ff7b64210a2d47ec77dc2780b320fc355\nSigned-off-by: yuanrunsen <yuanrunsen@unitedstack.com>\n'}, {'number': 2, 'created': '2019-07-15 09:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/b366c7ee8f58013c7ed350db476da1b8a8487538', 'message': ""Fix v1 hybrid storage\nbecasue of python2 python3 string type comparison in memory\n\nComparing res_type_info['qty_metric'] against six.string_types\ninstead of six.text_type for python2 python3 compatibility\n\nChange-Id: I1fc4959ff7b64210a2d47ec77dc2780b320fc355\nSigned-off-by: yuanrunsen <yuanrunsen@unitedstack.com>\n""}, {'number': 3, 'created': '2019-07-15 09:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/02c5bbc85782a2c372b49cb16ca91cdbdedfb1ab', 'message': ""Fix v1 hybrid storage becasue of python2 python3 string type comparison in memory\n\nComparing res_type_info['qty_metric'] against six.string_types\ninstead of six.text_type for python2 python3 compatibility\n\nChange-Id: I1fc4959ff7b64210a2d47ec77dc2780b320fc355\nSigned-off-by: yuanrunsen <yuanrunsen@unitedstack.com>\n""}, {'number': 4, 'created': '2019-07-15 09:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/9d8b22ecc7b2e99c57742e82b2d0c7b17d6d9e18', 'message': ""Fix v1 hybrid storage python2 python3 string type comparison in memory\n\nComparing res_type_info['qty_metric'] against six.string_types\ninstead of six.text_type for python2 python3 compatibility\n\nChange-Id: I1fc4959ff7b64210a2d47ec77dc2780b320fc355\nSigned-off-by: yuanrunsen <yuanrunsen@unitedstack.com>\n""}, {'number': 5, 'created': '2019-07-18 12:56:46.000000000', 'files': ['cloudkitty/storage/v1/hybrid/backends/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/f044c03fb1bca2481e0d344ee435ea82d0f1f8e2', 'message': ""Fix v1 hybrid storage python2 python3 string type comparison in memory\n\nComparing res_type_info['qty_metric'] against six.string_types\ninstead of six.text_type for python2 python3 compatibility\n\nChange-Id: I1fc4959ff7b64210a2d47ec77dc2780b320fc355\nSigned-off-by: yuanrunsen <yuanrunsen@unitedstack.com>\n""}]",0,670271,f044c03fb1bca2481e0d344ee435ea82d0f1f8e2,23,4,5,30679,,,0,"Fix v1 hybrid storage python2 python3 string type comparison in memory

Comparing res_type_info['qty_metric'] against six.string_types
instead of six.text_type for python2 python3 compatibility

Change-Id: I1fc4959ff7b64210a2d47ec77dc2780b320fc355
Signed-off-by: yuanrunsen <yuanrunsen@unitedstack.com>
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/71/670271/5 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty/storage/v1/hybrid/backends/gnocchi.py'],1,ffc18a1553cadc14bf7b37f4aecc530ff298af0b,," if isinstance(res_type_info['qty_metric'], six.string_types):"," if isinstance(res_type_info['qty_metric'], six.text_type):",1,1
openstack%2Fmagnum~stable%2Frocky~I33da19ad6764bedcf15f2a08381063e2471f8991,openstack/magnum,stable/rocky,I33da19ad6764bedcf15f2a08381063e2471f8991,"Revert ""support http/https proxy for discovery url""",MERGED,2019-06-25 08:03:41.000000000,2019-07-23 11:13:40.000000000,2019-07-23 11:13:40.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 23924}, {'_account_id': 25023}, {'_account_id': 30616}]","[{'number': 1, 'created': '2019-06-25 08:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/789626360e9746c515628ccdb3ce82ab0ecaadca', 'message': 'Revert ""support http/https proxy for discovery url""\n\nThis reverts commit e8d0ee1b144f4db24367ad48bd2cb4306add6672.\n\nThis commit is reverted for two reasons:\n\n* It is undesirable that the end user can inject proxy config into\n  the magnum-conductor service via the cluster template.\n\n* The proxy settings for the magnum-conductor service may not be\n  the same as those which are required in the cluster template for\n  the end user VM.\n\nSystemd, docker and podman all include native mechanisms for setting\nenvironment variables for proecesses, and this should be used by the\ncloud operator / deployment tooling to configure the required proxy\nsettings for the magnum-conductor service.\n\nIn particular this patch makes it impossible for the cloud operator\nto specify their own http_proxy via the environment, the user supplied\ncluster template setting will always be used.\n\nChange-Id: I33da19ad6764bedcf15f2a08381063e2471f8991\n'}, {'number': 2, 'created': '2019-07-05 18:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4564a565a68caf06f0b0fe4feba85364c4009581', 'message': 'Revert ""support http/https proxy for discovery url""\n\n[stable branch policy requiring a backport rather than an \'in branch\'\nrevert means that the following revert SHA refers to the parent patch,\nnot to this branch]\n\nThis reverts commit e8d0ee1b144f4db24367ad48bd2cb4306add6672.\n\nThis commit is reverted for two reasons:\n\n* It is undesirable that the end user can inject proxy config into\n  the magnum-conductor service via the cluster template.\n\n* The proxy settings for the magnum-conductor service may not be\n  the same as those which are required in the cluster template for\n  the end user VM.\n\nSystemd, docker and podman all include native mechanisms for setting\nenvironment variables for proecesses, and this should be used by the\ncloud operator / deployment tooling to configure the required proxy\nsettings for the magnum-conductor service.\n\nIn particular this patch makes it impossible for the cloud operator\nto specify their own http_proxy via the environment, the user supplied\ncluster template setting will always be used.\n\nconflicts: magnum/drivers/heat/template_def.py\n\nChange-Id: I33da19ad6764bedcf15f2a08381063e2471f8991\n(cherry picked from commit 79699f23cddf906753b02562f6d2aebc03e3e15e)\n(cherry picked from commit 1c4f8127f183724fb885662e68d1133899c3336c)\n'}, {'number': 3, 'created': '2019-07-05 19:02:23.000000000', 'files': ['magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/heat/template_def.py', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/swarm_fedora_template_def.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/660e62b0e5a930feaf4e9088f1a25ce79446081a', 'message': 'Revert ""support http/https proxy for discovery url""\n\n[stable branch policy requiring a backport rather than an \'in branch\'\nrevert means that the following revert SHA refers to the parent patch,\nnot to this branch]\n\nThis reverts commit e8d0ee1b144f4db24367ad48bd2cb4306add6672.\n\nThis commit is reverted for two reasons:\n\n* It is undesirable that the end user can inject proxy config into\n  the magnum-conductor service via the cluster template.\n\n* The proxy settings for the magnum-conductor service may not be\n  the same as those which are required in the cluster template for\n  the end user VM.\n\nSystemd, docker and podman all include native mechanisms for setting\nenvironment variables for proecesses, and this should be used by the\ncloud operator / deployment tooling to configure the required proxy\nsettings for the magnum-conductor service.\n\nIn particular this patch makes it impossible for the cloud operator\nto specify their own http_proxy via the environment, the user supplied\ncluster template setting will always be used.\n\nconflicts: magnum/drivers/heat/template_def.py\n\nChange-Id: I33da19ad6764bedcf15f2a08381063e2471f8991\n(cherry picked from commit 79699f23cddf906753b02562f6d2aebc03e3e15e)\n(cherry picked from commit 1c4f8127f183724fb885662e68d1133899c3336c)\n'}]",0,667281,660e62b0e5a930feaf4e9088f1a25ce79446081a,19,6,3,25023,,,0,"Revert ""support http/https proxy for discovery url""

[stable branch policy requiring a backport rather than an 'in branch'
revert means that the following revert SHA refers to the parent patch,
not to this branch]

This reverts commit e8d0ee1b144f4db24367ad48bd2cb4306add6672.

This commit is reverted for two reasons:

* It is undesirable that the end user can inject proxy config into
  the magnum-conductor service via the cluster template.

* The proxy settings for the magnum-conductor service may not be
  the same as those which are required in the cluster template for
  the end user VM.

Systemd, docker and podman all include native mechanisms for setting
environment variables for proecesses, and this should be used by the
cloud operator / deployment tooling to configure the required proxy
settings for the magnum-conductor service.

In particular this patch makes it impossible for the cloud operator
to specify their own http_proxy via the environment, the user supplied
cluster template setting will always be used.

conflicts: magnum/drivers/heat/template_def.py

Change-Id: I33da19ad6764bedcf15f2a08381063e2471f8991
(cherry picked from commit 79699f23cddf906753b02562f6d2aebc03e3e15e)
(cherry picked from commit 1c4f8127f183724fb885662e68d1133899c3336c)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/81/667281/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/heat/template_def.py', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/swarm_fedora_template_def.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh']",6,789626360e9746c515628ccdb3ce82ab0ecaadca,,"if [ -n ""$HTTP_PROXY"" ]; then echo ""ETCD_DISCOVERY_PROXY=$HTTP_PROXY"" >> /etc/etcd/etcd.conf","if [ -n ""$HTTP_PROXY"" -o ""$HTTPS_PROXY"" ]; then ETCD_DISCOVERY_PROTOCOL=$(python -c ""from six.moves.urllib import parse as urlparse; print urlparse.urlparse('${ETCD_DISCOVERY_URL}').scheme"") ETCD_DISCOVERY_HOSTNAME=$(python -c ""from six.moves.urllib import parse as urlparse; print urlparse.urlparse('${ETCD_DISCOVERY_URL}').netloc.partition(':')[0]"") # prints 1 if $ETCD_DISCOVERY_HOSTNAME is listed explicitly in $NO_PROXY, or $NO_PROXY is set to ""*"" ETCD_DISCOVERY_PROXY_BYPASS=$(NO_PROXY=""${NO_PROXY}"" python -c ""import requests; print requests.utils.proxy_bypass('${ETCD_DISCOVERY_HOSTNAME}')"") if [ $ETCD_DISCOVERY_PROXY_BYPASS == ""0"" ]; then if [ -n ""$HTTP_PROXY"" -a ""$ETCD_DISCOVERY_PROTOCOL"" == ""http"" ]; then echo ""ETCD_DISCOVERY_PROXY=$HTTP_PROXY"" >> /etc/etcd/etcd.conf elif [ -n ""$HTTPS_PROXY"" -a ""$ETCD_DISCOVERY_PROTOCOL"" == ""https"" ]; then echo ""ETCD_DISCOVERY_PROXY=$HTTPS_PROXY"" >> /etc/etcd/etcd.conf fi fi",9,208
openstack%2Fdesignate~master~Ibd4ed1a1e282f0088467a6fcafe44b1dad46ed5f,openstack/designate,master,Ibd4ed1a1e282f0088467a6fcafe44b1dad46ed5f,Update api-ref location,MERGED,2019-07-22 16:36:40.000000000,2019-07-23 11:09:46.000000000,2019-07-23 11:09:46.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 16:36:40.000000000', 'files': ['doc/source/user/rest.rst', 'doc/source/contributor/ubuntu-dev.rst', 'doc/source/index.rst', 'doc/source/admin/production-guidelines.rst', 'doc/source/admin/upgrades/newton.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/designate/commit/ad32f7a15d1799ce04cac657102f26ee4e3b05d5', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Ibd4ed1a1e282f0088467a6fcafe44b1dad46ed5f\n""}]",0,672092,ad32f7a15d1799ce04cac657102f26ee4e3b05d5,6,2,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Ibd4ed1a1e282f0088467a6fcafe44b1dad46ed5f
",git fetch https://review.opendev.org/openstack/designate refs/changes/92/672092/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/rest.rst', 'doc/source/contributor/ubuntu-dev.rst', 'doc/source/index.rst', 'doc/source/admin/production-guidelines.rst', 'doc/source/admin/upgrades/newton.rst', 'tox.ini']",6,ad32f7a15d1799ce04cac657102f26ee4e3b05d5,retire-api-site,# the API Ref to docs.openstack.org.,# the API Ref to developer.openstack.org.,8,8
openstack%2Foperations-guide~master~I40c5c1ba79e381ac82b4df5e3f6a2b53856a7d6b,openstack/operations-guide,master,I40c5c1ba79e381ac82b4df5e3f6a2b53856a7d6b,Update api-ref location,MERGED,2019-07-22 18:46:38.000000000,2019-07-23 11:08:12.000000000,2019-07-23 11:08:12.000000000,"[{'_account_id': 15334}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 18:46:38.000000000', 'files': ['doc/source/preface.rst', 'doc/source/ops-lay-of-the-land.rst'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/3b87dfbd908e59522155f2285fc4a4f242fcbd92', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I40c5c1ba79e381ac82b4df5e3f6a2b53856a7d6b\n""}]",0,672130,3b87dfbd908e59522155f2285fc4a4f242fcbd92,7,3,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I40c5c1ba79e381ac82b4df5e3f6a2b53856a7d6b
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/30/672130/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/preface.rst', 'doc/source/ops-lay-of-the-land.rst']",2,3b87dfbd908e59522155f2285fc4a4f242fcbd92,retire-api-site,API Reference <https://docs.openstack.org/api-quick-start/index.html>`_. To chew,API Reference <https://developer.openstack.org/api-guide/quick-start/index.html>`_. To chew,2,2
openstack%2Fmonasca-persister~master~Ic179151a5ed7fe2ddb746ce54cb01391f6318376,openstack/monasca-persister,master,Ic179151a5ed7fe2ddb746ce54cb01391f6318376,"I want to user persiter for multi storage environment, such as one for query and one for backup. So we should set consumer group id for persister",NEW,2019-06-14 09:27:09.000000000,2019-07-23 10:56:34.000000000,,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 17130}, {'_account_id': 21922}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-14 09:27:09.000000000', 'files': ['docker/Dockerfile', 'docker/monasca-persister.conf.j2'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/06631f64e376a0f87ee0ce2ea45dbe0ccab1c95a', 'message': 'I want to user persiter for multi storage environment, such as one for query and one for backup. So we should set consumer group id for persister\n\nChange-Id: Ic179151a5ed7fe2ddb746ce54cb01391f6318376\n'}]",6,665337,06631f64e376a0f87ee0ce2ea45dbe0ccab1c95a,7,5,1,30571,,,0,"I want to user persiter for multi storage environment, such as one for query and one for backup. So we should set consumer group id for persister

Change-Id: Ic179151a5ed7fe2ddb746ce54cb01391f6318376
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/37/665337/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/Dockerfile', 'docker/monasca-persister.conf.j2']",2,06631f64e376a0f87ee0ce2ea45dbe0ccab1c95a,,group_id = {{ KAFKA_CONSUMER_GROUP_ID }}_alarm-state-transitionsconsumer_id = {{ KAFKA_CONSUMER_GROUP_ID }} client_id = {{ KAFKA_CONSUMER_GROUP_ID }}group_id = {{ KAFKA_CONSUMER_GROUP_ID }}_metricsconsumer_id = {{ KAFKA_CONSUMER_GROUP_ID }} client_id = {{ KAFKA_CONSUMER_GROUP_ID }},group_id = 1_alarm-state-transitionsconsumer_id = 1 client_id = 1group_id = 1_metricsconsumer_id = 1 client_id = 1,7,6
openstack%2Ftripleo-validations~master~I483d5e7b11376dc0141c506bf07ccd5876e4076e,openstack/tripleo-validations,master,I483d5e7b11376dc0141c506bf07ccd5876e4076e,Adding new role automation with Ansible,MERGED,2019-07-22 14:12:28.000000000,2019-07-23 10:42:11.000000000,2019-07-23 10:42:11.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-22 14:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/57e4844a424a639b08ed5a2be16e8de1a0088dba', 'message': 'Adding new role automation with Ansible\n\nThis patch adds a basic skeleton to create a new roles including\nmolecule structure.\n\nChange-Id: I483d5e7b11376dc0141c506bf07ccd5876e4076e\nPatch-Inspired-From: tripleo-ansible-Team++\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2019-07-22 14:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/186b629fd7cfb05d5a5e58bbfb9e5a3a7c4b81a2', 'message': 'Adding new role automation with Ansible\n\nThis patch adds a basic skeleton to create a new roles including\nmolecule structure.\n\nChange-Id: I483d5e7b11376dc0141c506bf07ccd5876e4076e\nPatch-Inspired-From: tripleo-ansible-Team++\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2019-07-22 14:17:30.000000000', 'files': ['_skeleton_role_/defaults/main.yml.j2', '_skeleton_role_/molecule/default/playbook.yml.j2', '_skeleton_role_/molecule/default/Dockerfile.j2', '_skeleton_role_/handlers/main.yml', 'role-addition.yml', '_skeleton_role_/tasks/main.yml.j2', '_skeleton_role_/molecule/default/molecule.yml', '_skeleton_role_/molecule/default/verify.yml', '_skeleton_role_/vars/main.yml.j2', 'doc/source/readme.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9bbd3b26df331ad7307d8f0fe69894277eafdecc', 'message': 'Adding new role automation with Ansible\n\nThis patch adds a basic skeleton to create a new roles including\nmolecule structure.\n\nChange-Id: I483d5e7b11376dc0141c506bf07ccd5876e4076e\nPatch-Inspired-By: tripleo-ansible-Team++\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",0,672052,9bbd3b26df331ad7307d8f0fe69894277eafdecc,9,4,3,11491,,,0,"Adding new role automation with Ansible

This patch adds a basic skeleton to create a new roles including
molecule structure.

Change-Id: I483d5e7b11376dc0141c506bf07ccd5876e4076e
Patch-Inspired-By: tripleo-ansible-Team++
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/52/672052/2 && git format-patch -1 --stdout FETCH_HEAD,"['_skeleton_role_/defaults/main.yml.j2', '_skeleton_role_/molecule/default/playbook.yml.j2', '_skeleton_role_/molecule/default/prepare.yml', '_skeleton_role_/molecule/default/Dockerfile.j2', '_skeleton_role_/handlers/main.yml', 'role-addition.yml', '_skeleton_role_/tasks/main.yml.j2', '_skeleton_role_/molecule/default/molecule.yml', '_skeleton_role_/molecule/default/verify.yml', '_skeleton_role_/vars/main.yml.j2', 'doc/source/readme.rst']",11,57e4844a424a639b08ed5a2be16e8de1a0088dba,bp/validation-framework," Create a new role with automation ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The role addition process is also automated using ansible. If ansible is available on the development workstation change directory to the root of the `tripleo-validations` repository and run the the following command which will perform the basic tasks noted above. .. code-block:: console $ cd tripleo-validations/ $ ansible-playbook -i localhost, role-addition.yml -e role_name=${NEWROLENAME}",,270,0
openstack%2Fmistral~master~I31a2166fa11ef6b13a81bb8498b8e1982696aa44,openstack/mistral,master,I31a2166fa11ef6b13a81bb8498b8e1982696aa44,remove redundant static decorator,ABANDONED,2019-07-23 08:38:52.000000000,2019-07-23 10:34:04.000000000,,"[{'_account_id': 11391}, {'_account_id': 19134}]","[{'number': 1, 'created': '2019-07-23 08:38:52.000000000', 'files': ['mistral/tests/unit/services/test_legacy_scheduler.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/bdc612c579dfcc9d1fe52409c92ce42e4a11f2f1', 'message': 'remove redundant static decorator\n\nstatic decorator has no meaning on a function outside of\na class\n\nChange-Id: I31a2166fa11ef6b13a81bb8498b8e1982696aa44\n'}]",2,672226,bdc612c579dfcc9d1fe52409c92ce42e4a11f2f1,5,2,1,19134,,,0,"remove redundant static decorator

static decorator has no meaning on a function outside of
a class

Change-Id: I31a2166fa11ef6b13a81bb8498b8e1982696aa44
",git fetch https://review.opendev.org/openstack/mistral refs/changes/26/672226/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/tests/unit/services/test_legacy_scheduler.py'],1,bdc612c579dfcc9d1fe52409c92ce42e4a11f2f1,eyalb/decorator,, @staticmethod,0,1
openstack%2Fopenstack-manuals~master~I45b0f744230bf600b26b2df802c40166fc5912b4,openstack/openstack-manuals,master,I45b0f744230bf600b26b2df802c40166fc5912b4,Imported Translations from Zanata,MERGED,2019-07-23 08:57:24.000000000,2019-07-23 10:32:33.000000000,2019-07-23 10:32:33.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-23 08:57:24.000000000', 'files': ['doc/image-guide/source/locale/de/LC_MESSAGES/image-guide.po', 'doc/api-quick-start/source/locale/en_GB/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/tr_TR/LC_MESSAGES/api-quick-start.po', 'doc/common/source/locale/de/LC_MESSAGES/common.po', 'doc/api-quick-start/source/locale/eo/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/id/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/ko_KR/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/de/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/zh_CN/LC_MESSAGES/api-quick-start.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/fc09e93c2589d750a99034e9ccbea2fad011c478', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I45b0f744230bf600b26b2df802c40166fc5912b4\n'}]",0,672230,fc09e93c2589d750a99034e9ccbea2fad011c478,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I45b0f744230bf600b26b2df802c40166fc5912b4
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/30/672230/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/image-guide/source/locale/de/LC_MESSAGES/image-guide.po', 'doc/api-quick-start/source/locale/en_GB/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/tr_TR/LC_MESSAGES/api-quick-start.po', 'doc/common/source/locale/de/LC_MESSAGES/common.po', 'doc/api-quick-start/source/locale/eo/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/de/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/id/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/ko_KR/LC_MESSAGES/api-quick-start.po', 'doc/api-quick-start/source/locale/zh_CN/LC_MESSAGES/api-quick-start.po']",9,fc09e93c2589d750a99034e9ccbea2fad011c478,zanata/translations,"# Andreas Jaeger <jaegerandi@gmail.com>, 2019. #zanata msgid """" msgstr """" ""Project-Id-Version: Openstack-API-Documentation\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2019-07-22 11:16+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2019-07-22 07:06+0000\n"" ""Last-Translator: Copied by Zanata <copied-by-zanata@zanata.org>\n"" ""Language: zh_CN\n"" ""Plural-Forms: nplurals=1; plural=0\n"" ""X-Generator: Zanata 4.3.3\n"" ""Language-Team: Chinese (China)\n"" msgid ""**OpenStack Python Software Development Kit (SDK)**"" msgstr ""**OpenStack Python软件开发工具包（SDK）**"" msgid ""**OpenStack command-line client**"" msgstr ""**OpenStack命令行客户端**"" msgid ""**REST clients**"" msgstr ""**REST客户端**"" msgid ""**cURL**"" msgstr ""**cURL**"" msgid ""*Project Domain* (optional)"" msgstr ""*项目域*（可选）"" msgid ""*Project ID* (optional)"" msgstr ""*项目ID*（可选）"" msgid ""*Project Name* (optional)"" msgstr ""*项目名*（可选）"" msgid ""*User Domain* (required)"" msgstr ""*用户域*（必需有）"" msgid """" ""A command-line tool that lets you send HTTP requests and receive responses. "" ""See the section called :ref:`openstack_API_quick_guide`."" msgstr """" ""命令行工具可以让你发送HTTP请求和接收响应。请参考`openstack_API_quick_guide`部"" ""分。"" msgid ""API quick-start examples"" msgstr ""API 快速入门示例"" msgid """" ""After you authenticate through Identity, you can use the other OpenStack "" ""APIs to create and manage resources in your OpenStack cloud. You can launch "" ""instances from images and assign metadata to instances through the Compute "" ""API or the **openstack** command-line client."" msgstr """" ""当你通过认证服务认证后，你可以使用其他的 OpenStack API 来创建和管理你"" ""OpenStack云环境下的资源。你可以通过计算服务API或者 **OpenStack** 命令行客户端"" ""启动用镜像创建的实例以及为云主机配置参数。"" msgid ""Authenticate"" msgstr ""认证"" msgid ""Authentication and API request workflow"" msgstr ""认证和 API 请求工作流程"" msgid """" ""Before you can issue client commands, you must download and source the "" ""``openrc`` file to set environment variables."" msgstr """" ""在执行客户端命令之前，你必须下载并使用source命令执行``openrc``文件来设置环境"" ""变量。"" msgid """" ""Credentials are usually a combination of your user name and password, and "" ""optionally, the name or ID of the project of your cloud. Ask your cloud "" ""administrator for your user name, password, and project so that you can "" ""generate authentication tokens. Alternatively, you can supply a token rather "" ""than a user name and password."" msgstr """" ""证书通常是您的用户名和密码的组合，或者是您的云环境中项目的名称或ID。从你的云"" ""管理员那里获得你的用户名，密码和项目信息以便于生成认证令牌。相应地，你可以使"" ""用这个令牌来代替用户名和密码进行认证操作。"" msgid ""Current API versions"" msgstr ""当前API 版本"" msgid ""Deprecated API versions"" msgstr ""不支持的API版本"" msgid ""Description"" msgstr ""描述"" msgid """" ""Export the $OS_PROJECT_ID from the token call, and then use the Compute API "" ""to list images:"" msgstr ""从令牌中导出$OS_PROJECT_ID，然后基于计算服务API来列出所有镜像"" msgid """" ""Export the $OS_PROJECT_ID from the token call, and then use the Compute API "" ""to list servers:"" msgstr ""从令牌中导出$OS_PROJECT_ID，然后基于计算服务API来列出所有服务器"" msgid """" ""Export the project name to the ``OS_PROJECT_NAME`` environment variable. For "" ""example:"" msgstr ""将项目名传递给环境变量``OS_PROJECT_NAME``，例如："" msgid """" ""Export the token ID to the ``OS_TOKEN`` environment variable. For example:"" msgstr ""将token ID传递给环境变量“OS_TOKEN”，例如："" msgid """" ""First, export your project name to the ``OS_PROJECT_NAME`` environment "" ""variable, your project domain name to the ``OS_PROJECT_DOMAIN_NAME`` "" ""environment variable, your user name to the ``OS_USERNAME`` environment "" ""variable, your password to the ``OS_PASSWORD`` environment variable and your "" ""user domain name to the ``OS_USER_DOMAIN_NAME`` environment variable."" msgstr """" ""首先，将你的项目名传递给环境变量``OS_TENANT_NAME``，你的项目域名传递给环境变"" ""量``OS_PROJECT_DOMAIN_NAME``，你的用户名传递给环境变量``OS_USERNAME``，你的密"" ""码传递给环境变量``OS_PASSWORD``，同时你的用户域名传递给环境变量"" ""``OS_USER_DOMAIN_NAME``。"" msgid """" ""For complete information about the OpenStack clients, including how to "" ""source the ``openrc`` file, see `OpenStack End User Guide <https://docs."" ""openstack.org/user-guide/>`__, `OpenStack Administrator Guide <https://docs."" ""openstack.org/admin-guide/>`__, and `OpenStack Command-Line Interface "" ""Reference <https://docs.openstack.org/cli-reference/>`__."" msgstr """" ""获取更多关于OpenStack客户端的信息，包括如何source ``openrc``文件，请看"" ""`OpenStack 终端用户手册 <https://docs.openstack.org/user-guide/>`，"" ""`OpenStack 管理员手册 <https://docs.openstack.org/admin-guide/>`和`OpenStack "" ""命令行接口参考 <https://docs.openstack.org/cli-reference/>`。"" msgid ""For example, install the ``openstack`` client:"" msgstr ""例如，安装``openstack``客户端："" msgid """" ""For information about the command-line clients, see `OpenStack Command-Line "" ""Interface Reference <https://docs.openstack.org/cli-reference/>`__."" msgstr """" ""获取更多关于命令行客户端的信息，请看`OpenStack命令行接口参考文献： <https://"" ""docs.openstack.org/cli-reference/>`__。"" msgid """" ""For scripting work and simple requests, you can use a command-line client "" ""like the ``openstack-client`` client. This client enables you to use the "" ""Identity, Compute, Block Storage, and Object Storage APIs through a command-"" ""line interface. Also, each OpenStack project has a related client project "" ""that includes Python API bindings and a command-line interface (CLI)."" msgstr """" ""对于脚本操作和简单的请求，你可以使用像“openstack-client”这样的客户端命令行，"" ""这个客户端能让你通过命令行接口去使用认证，计算，块存储，对象存储API。同时每个"" ""openstack项目都会有一个包含Python API绑定和命令行接口（CLI）的相关的客户端项"" ""目。"" msgid ""If the Unauthorized (401) error occurs, request another token."" msgstr ""如果Unauthorized (401)错误出现, 重新申请一个令牌。"" msgid """" ""If the request succeeds, it returns the ``Created (201)`` response code "" ""along with the token as a value in the ``X-Subject-Token`` response header. "" ""The header is followed by a response body that has an object of type "" ""``token`` which has the token expiration date and time in the form ``"" ""\""expires_at\"":\""datetime\""`` along with other attributes."" msgstr """" ""如果请求成功是，将会返回``Created (201)``响应码，同时在``X-Subject-Token``响"" ""应头中包含着token值。该请求头伴随着一个响应体，包含一个``token``类型的对象，"" ""该对象包含token过期日期和时间，以``\""expires_at\"":\""datetime\""``的形式，还包"" ""含其它属性。"" msgid """" ""In a typical OpenStack deployment that runs Identity, you can specify your "" ""project name, and user name and password credentials to authenticate."" msgstr """" ""在一个运行着认证服务的典型OpenStack环境中，你可以指定你的项目名，用户名和密码"" ""进行身份验证。"" msgid """" ""In the above request, the query string ``nocatalog`` is used as you just "" ""want to get a token and do not want the service catalog (if it is available "" ""for the user) cluttering the output. If a user wants to get the service "" ""catalog, this query string need not be appended to the URL."" msgstr """" ""在上面的请求中，``nocatalog``请求字符串用于当你想要获取一个token，同时并不想"" ""要服务目录（如果对于当前用户来说可用）使输出结果混乱时。如果一个用户项目要获"" ""取服务目录，该请求字符串不需要添加到URL中。"" msgid ""Install or update a client package:"" msgstr ""安装或者更新一个客户端："" msgid ""Install the clients"" msgstr ""安装客户端"" msgid ""Launch an instance"" msgstr ""创建云主机"" msgid ""OpenStack API Documentation"" msgstr ""OpenStack API文档"" msgid ""OpenStack APIs"" msgstr ""OpenStack APIs"" msgid ""OpenStack command-line clients"" msgstr ""OpenStack 命令行客户端"" msgid ""Parameter"" msgstr ""参数"" msgid """" ""Request an authentication token from the Identity endpoint that your cloud "" ""administrator gave you. Send a payload of credentials in the request as "" ""shown in :ref:`authenticate`. If the request succeeds, the server returns an "" ""authentication token."" msgstr """" ""从云管理员提供的认证服务接入点请求一个认证令牌，以“ref:authenticate”的形式发"" ""送一个有效载荷的请求，如果请求成功，服务器将返回一个认证令牌。"" msgid ""Send API requests"" msgstr ""发送 API 请求"" msgid """" ""Send API requests and include the token in the ``X-Auth-Token`` header. "" ""Continue to send API requests with that token until the service completes "" ""the request or the Unauthorized (401) error occurs."" msgstr """" ""发送API请求时，令牌信息包含在“X-Auth-Token”的包头中，使用该令牌发送请求，直到"" ""请求的服务完成或者Unauthorized （401）错误出现。"" msgid ""Supported API versions"" msgstr ""支持的API版本"" msgid """" ""The Block Storage API v3 is functionally identical to the Block Storage API "" ""v2. Subsequent API v3 microversions, such as v3.1, differ from API v2."" msgstr """" ""块存储API v3在功能上等同于块存储API v2。随后的API v3微版本与API v2不同，比如"" ""v3.1。"" msgid ""The Domain of the project. This is a required part of the scope object."" msgstr ""该项目的域是scope对象的必需部分。"" msgid ""The Domain of the user."" msgstr ""用户的域"" msgid """" ""The OpenStack project provides a command-line client that enables you to "" ""access APIs through easy-to-use commands. See the section called :ref:"" ""`client-intro`."" msgstr """" ""OpenStack工程提供了一个能够让你通过简单命令去访问APIs的命令行客户端，请参考"" ""`client-intro`。"" msgid """" ""The Shared File Systems API v1 is functionally identical to the Shared File "" ""Systems API v2. Subsequent API v2 microversions, such as v2.1, differ from "" ""API v1."" msgstr """" ""共享文件系统API v1版本与 v2版本在功能上是一致的。随后的API v2微版本，例如"" ""v2.1，与API v1是不同的。"" msgid """" ""The example below uses an endpoint from an installation of Ocata by "" ""following the installation guide. However, you can also use ``$OS_AUTH_URL`` "" ""as an environment variable as needed to change the URL."" msgstr """" ""下面例子使用了遵循安装手册安装Ocata。但是，你也可以使用``$OS_AUTH_URL``作为一"" ""个环境变量，如果需要改变该URL。"" msgid """" ""The examples in this section use cURL commands. For information about cURL, "" ""see http://curl.haxx.se/. For information about the OpenStack APIs, see :ref:"" ""`current_api_versions`."" msgstr """" ""该部分的实例使用了cURL命令。关于cURL的信息，请参考http://curl.haxx.se/。关于"" ""OpenStack APIs的信息，请参考 :ref:`current_api_versions`。"" msgid ""The following example shows a successful response:"" msgstr ""下面的例子展示了一个成功的响应："" msgid ""The password for the user."" msgstr ""该用户的密码。"" msgid ""The payload of credentials to authenticate contains these parameters:"" msgstr "" 身份验证服务包含这些参数："" msgid """" ""The project ID. Both the *project ID* and *Project Name* are optional. But "" ""one of them is required along with the *Project Domain*. They are wrapped "" ""under a scope object. If you do not know the project name or ID, send a "" ""request without any scope object."" msgstr """" ""项目ID。*项目ID*和*项目名*都是可选的。但是伴随着*项目域*这两个属性其中之一是"" ""必须有的。这两个属性包含在scope对象下。如果你不知道项目的名称或者ID，发送一个"" ""不包含任何scope对象的请求。"" msgid """" ""The project name. Both the *Project ID* and *Project Name* are optional."" msgstr ""项目名。*项目ID*和*项目名*都是可选的。"" msgid """" ""The token expires every hour by default, though it can be configured "" ""differently - see the `expiration <https://docs.openstack.org/keystone/"" ""latest/configuration/config-options.html#token.expiration>`__ option in the "" ""the *Identity Service Configuration Guide*."" msgstr """" ""默认情况下token的有效时间为1小时，也可以通过配置设置为其他值。可参考"" ""`<https://docs.openstack.org/keystone/latest/configuration/config-options."" ""html#token.expiration>`__ *身份识别服务配置指南*中过期这一章节中相关的配置选"" ""项"" msgid """" ""The user name. If you do not provide a user name and password, you must "" ""provide a token."" msgstr ""用户名。如果您不提供用户名和密码，那么必须提供一个令牌。"" msgid ""Then, run this cURL command to request a token:"" msgstr ""然后，运行cURL命令去请求一个token。"" msgid """" ""Then, use the Compute API to list flavors, substituting the Compute API "" ""endpoint with one containing your project ID below:"" msgstr """" ""之后，可以使用计算服务API来列出所有的云主机类型，使用如下所示的包含在你项目ID"" ""中的flavor来替换计算API端点"" msgid """" ""This section shows how to make some basic Compute API calls. For a complete "" ""list of Compute API calls, see `Compute API <https://developer.openstack.org/"" ""api-ref/compute/>`__."" msgstr """" ""这部分内容展示了如何调用一些基本的计算服务API，对于一个完整的计算API函数列"" ""表，请见`Compute API <https://developer.openstack.org/api-ref/compute/>`__。"" msgid """" ""To authenticate access to OpenStack services, you must first issue an "" ""authentication request with a payload of credentials to OpenStack Identity "" ""to get an authentication token."" msgstr """" ""为了认证对OpenStack服务的访问，你首先需要向OpenStack认证服务发出携带证书信息"" ""的认证请求以获得认证令牌。"" msgid ""To begin sending API requests, use one of the following methods:"" msgstr ""使用如下的方法之一发送 API 请求："" msgid ""To launch an instance, note the IDs of your desired image and flavor."" msgstr ""启动虚拟机实例前，记录下您所需的镜像和云主机类型的 ID。"" msgid """" ""To launch instances, you must choose a name, an image, and a flavor for your "" ""instance."" msgstr ""启动虚拟机实例前，需要为其选择名称，镜像和云主机类型。"" msgid """" ""To launch the ``my_instance`` instance, run the ``openstack server create`` "" ""command with the image and flavor IDs and the server name:"" msgstr """" ""启动 ``my_instance`` 云主机，带着镜像、类型ID和服务器名称参数运行 "" ""``openstack server create`` 命令："" msgid """" ""To list available images, call the Compute API through the ``openstack`` "" ""client:"" msgstr ""通过``openstack``客户端调用计算服务API列出可用的镜像："" msgid ""To list flavors, run this command:"" msgstr ""运行如下命令以列出云主机类型："" msgid ""To remove the ``openstack`` client, run this command:"" msgstr ""运行如下命令移除``openstack``客户端："" msgid ""To update the ``openstack`` client, run this command:"" msgstr ""运行如下命令更新``openstack``客户端："" msgid ""Type"" msgstr ""类型"" msgid """" ""Use the OpenStack APIs to launch server instances, create images, assign "" ""metadata to instances and images, create storage containers and objects, and "" ""complete other actions in your OpenStack cloud."" msgstr """" ""在你的OpenStack云中，使用OpenStack API来启动服务器云主机，创建镜像、给实例和"" ""镜像分配元数据、创建存储容器和对象以及完成其他相关的动作。"" msgid """" ""Use this SDK to write Python automation scripts that create and manage "" ""resources in your OpenStack cloud. The SDK implements Python bindings to the "" ""OpenStack API, which enables you to perform automation tasks in Python by "" ""making calls on Python objects rather than making REST calls directly. All "" ""OpenStack command-line tools are implemented by using the Python SDK. See "" ""`OpenStack Python SDK <https://docs.openstack.org/user-guide/sdk.html>`__ in "" ""the *OpenStack End User Guide*."" msgstr """" ""你可以使用SDK编写自动化Python脚本，用于创建和管理你的Openstack云环境中的资"" ""源。SDK实现了Python绑定OpenStack API，这能够让你使用Python实现自动化任务通过"" ""调用Python对象，而不用直接调用REST接口。所有的OpenStack命令行工具都可以使用"" ""Python SDK实现。在*OpenStack Python SDK *中查看`OpenStack Python SDK "" ""<https://docs.openstack.org/user-guide/sdk.html>`。"" msgid """" ""When you send API requests, you include the token in the ``X-Auth-Token`` "" ""header. If you access multiple OpenStack services, you must get a token for "" ""each service. A token is valid for a limited time before it expires. A token "" ""can also become invalid for other reasons. For example, if the roles for a "" ""user change, existing tokens for that user are no longer valid."" msgstr """" ""当你发送API请求时，你需要将令牌信息包含在“X-Auth-Token”的消息头中。如果你要访"" ""问多个OpenStack的服务，你必须为每个服务获取一个令牌。令牌的有效性是有时间限制"" ""的。当然，令牌也可能因为其它原因而失效。例如，如果用户的角色发生了变化，该用"" ""户当前存在的令牌也就会失效。"" msgid ""Where *PROJECT* is the project name."" msgstr ""*PROJECT*是一个工程名。"" msgid """" ""You must install the client for each project separately, but the ``python-"" ""openstackclient`` covers multiple projects."" msgstr """" ""你必须为每个工程单独安装客户端，但是``python-openstackclient``可以覆盖多个工"" ""程。"" msgid """" ""`Application Catalog API v1 <https://developer.openstack.org/api-ref/"" ""application-catalog/v1/>`__"" msgstr """" ""`应用目录API v1 <https://developer.openstack.org/api-ref/application-catalog/"" ""v1/>`__"" msgid ""`Backup API v1 <https://developer.openstack.org/api-ref/backup/v1/>`__"" msgstr ""`备份API v1 <https://developer.openstack.org/api-ref/backup/v1/>`__"" msgid """" ""`Bare Metal API v1 <https://developer.openstack.org/api-ref/baremetal/>`__ "" ""(microversions)"" msgstr """" ""`裸机API v1 <https://developer.openstack.org/api-ref/baremetal/>`__ (微版本)"" msgid """" ""`Block Storage API v2 <https://developer.openstack.org/api-ref/block-storage/"" ""v2/>`__"" msgstr """" ""`块存储API v2 <https://developer.openstack.org/api-ref/block-storage/v2/>`__"" msgid """" ""`Block Storage API v3 <https://developer.openstack.org/api-ref/block-storage/"" ""v3/>`__ (microversions)"" msgstr """" ""`块存储API v3 <https://developer.openstack.org/api-ref/block-storage/v3/"" "">`__（微版本）"" msgid """" ""`Clustering API v1 <https://developer.openstack.org/api-ref/clustering/>`__"" msgstr ""`集群API v1 <https://developer.openstack.org/api-ref/clustering/>`__"" msgid """" ""`Compute API <https://developer.openstack.org/api-ref/compute/>`__ "" ""(microversions)"" msgstr """" ""`计算服务API v1 <https://developer.openstack.org/api-ref/compute/>`__（微版"" ""本）"" msgid """" ""`Container Infrastructure Management API <https://developer.openstack.org/"" ""api-ref/container-infrastructure-management/>`__ (microversions)"" msgstr """" ""`容器基础设施管理API <https://developer.openstack.org/api-ref/container-"" ""infrastructure-management/>`__（微版本）"" msgid """" ""`Data Processing v1.1 <https://developer.openstack.org/api-ref/data-"" ""processing/>`__"" msgstr """" ""`数据处理 v1.1 <https://developer.openstack.org/api-ref/data-processing/>`__"" msgid """" ""`Data Protection Orchestration v1 <https://developer.openstack.org/api-ref/"" ""data-protection-orchestration/>`__"" msgstr """" ""`数据保护编配 v1 <https://developer.openstack.org/api-ref/data-protection-"" ""orchestration/>`__"" msgid """" ""`Database Service API v1.0 <https://developer.openstack.org/api-ref/database/"" "">`__"" msgstr """" ""`数据库服务API v1.0 <https://developer.openstack.org/api-ref/database/>`__"" msgid """" ""`Domain Name Server (DNS) API v2 <https://developer.openstack.org/api-ref/"" ""dns/>`__"" msgstr """" ""`域名解析服务(DNS) API v2 <https://developer.openstack.org/api-ref/dns/>`__"" msgid ""`EC2 API Service <https://developer.openstack.org/api-ref/ec2-api/>`__"" msgstr ""`EC2 API服务 <https://developer.openstack.org/api-ref/ec2-api/>`__"" msgid """" ""`Identity API v2.0 extensions <https://developer.openstack.org/api-ref/"" ""identity/v2-ext>`__"" msgstr """" ""`身份认证API v2.0 扩展 <https://developer.openstack.org/api-ref/identity/v2-"" ""ext>`__"" msgid """" ""`Identity API v3 <https://developer.openstack.org/api-ref/identity/v3>`__"" msgstr """" ""`身份认证API v3 <https://developer.openstack.org/api-ref/identity/v3>`__"" msgid """" ""`Identity API v3 extensions <https://developer.openstack.org/api-ref/"" ""identity/v3-ext>`__"" msgstr """" ""`身份认证API v3扩展 <https://developer.openstack.org/api-ref/identity/v3-"" ""ext>`__"" msgid """" ""`Image service API v2 <https://developer.openstack.org/api-ref/image/v2>`__"" msgstr ""`镜像服务API v2 <https://developer.openstack.org/api-ref/image/v2>`__"" msgid """" ""`Load Balancer API v2 <https://developer.openstack.org/api-ref/load-balancer/"" ""v2>`__"" msgstr """" ""`负载均衡API v2 <https://developer.openstack.org/api-ref/load-balancer/v2>`__"" msgid """" ""`NFV Orchestration API v1.0 <https://developer.openstack.org/api-ref/nfv-"" ""orchestration/v1/>`__"" msgstr """" ""`NFV编配API v1.0 <https://developer.openstack.org/api-ref/nfv-orchestration/"" ""v1/>`__"" msgid """" ""`Orchestration API v1 <https://developer.openstack.org/api-ref/orchestration/"" ""v1/>`__"" msgstr """" ""`编配API v1 <https://developer.openstack.org/api-ref/orchestration/v1/>`__"" msgid ""`Search API v1 <https://developer.openstack.org/api-ref/search>`__"" msgstr ""`搜 API v1 <https://developer.openstack.org/api-ref/search>`__"" msgid ""password (required)"" msgstr ""密码 (必需有)"" msgid ""string"" msgstr ""字符串"" msgid ""username (required)"" msgstr ""用户名 (必需有)"" ",,4776,7
openstack%2Fironic-inspector~master~Ib20b4a4e4d46ba23b8a4d87791cf30a957f1f9f9,openstack/ironic-inspector,master,Ib20b4a4e4d46ba23b8a4d87791cf30a957f1f9f9,Active node introspection for nodes not in cache,MERGED,2019-07-17 02:06:42.000000000,2019-07-23 10:32:28.000000000,2019-07-23 10:32:28.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-17 02:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/43690222c2704a7b3dc034b83cb793337969d05f', 'message': ""WIP: Cache active nodes\n\nWhen an active node introspection is performed\nwhere an entry already exists in ironic, but inspector\nhas never seen the node before, we enter a state where\nwe should allow introspection to occur, but that we don't\nhave a cache record.\n\nAs a result of no cache entry, we presently fail hard claiming\nthe node's port already exists. In the case of active nodes,\nThis will always be the case, so we need to add a cache\nentry and allow the process to... somewhat continue as if\nnormal introspeciton is occuring.\n\nChange-Id: Ib20b4a4e4d46ba23b8a4d87791cf30a957f1f9f9\nStory: 2006233\nTask: 35834\n""}, {'number': 2, 'created': '2019-07-17 10:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/70e45dcbe06bc7e26c0efbe2157338eda41c17db', 'message': ""WIP: Cache active nodes\n\nWhen an active node introspection is performed\nwhere an entry already exists in ironic, but inspector\nhas never seen the node before, we enter a state where\nwe should allow introspection to occur, but that we don't\nhave a cache record.\n\nAs a result of no cache entry, we presently fail hard claiming\nthe node's port already exists. In the case of active nodes,\nThis will always be the case, so we need to add a cache\nentry and allow the process to... somewhat continue as if\nnormal introspeciton is occuring.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@redhat.com>\nChange-Id: Ib20b4a4e4d46ba23b8a4d87791cf30a957f1f9f9\nStory: 2006233\nTask: 35834\n""}, {'number': 3, 'created': '2019-07-18 00:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c0d7d8dbf077df10fd487736cbaea99ee9ec056e', 'message': ""WIP: Cache active nodes\n\nWhen an active node introspection is performed\nwhere an entry already exists in ironic, but inspector\nhas never seen the node before, we enter a state where\nwe should allow introspection to occur, but that we don't\nhave a cache record.\n\nAs a result of no cache entry, we presently fail hard claiming\nthe node's port already exists. In the case of active nodes,\nThis will always be the case, so we need to add a cache\nentry and allow the process to... somewhat continue as if\nnormal introspeciton is occuring.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@redhat.com>\nChange-Id: Ib20b4a4e4d46ba23b8a4d87791cf30a957f1f9f9\nStory: 2006233\nTask: 35834\n""}, {'number': 4, 'created': '2019-07-18 13:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/29a9791b44276b2739533d56ebe3c4f4ab531872', 'message': ""WIP: Cache active nodes\n\nWhen an active node introspection is performed\nwhere an entry already exists in ironic, but inspector\nhas never seen the node before, we enter a state where\nwe should allow introspection to occur, but that we don't\nhave a cache record.\n\nAs a result of no cache entry, we presently fail hard claiming\nthe node's port already exists. In the case of active nodes,\nThis will always be the case, so we need to add a cache\nentry and allow the process to... somewhat continue as if\nnormal introspeciton is occuring.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@redhat.com>\nChange-Id: Ib20b4a4e4d46ba23b8a4d87791cf30a957f1f9f9\nStory: 2006233\nTask: 35834\n""}, {'number': 5, 'created': '2019-07-18 13:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/7d5e54c85c71b1be0004960786c210156655510c', 'message': ""WIP: Cache active nodes\n\nWhen an active node introspection is performed\nwhere an entry already exists in ironic, but inspector\nhas never seen the node before, we enter a state where\nwe should allow introspection to occur, but that we don't\nhave a cache record.\n\nAs a result of no cache entry, we presently fail hard claiming\nthe node's port already exists. In the case of active nodes,\nThis will always be the case, so we need to add a cache\nentry and allow the process to... somewhat continue as if\nnormal introspeciton is occuring.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@redhat.com>\nChange-Id: Ib20b4a4e4d46ba23b8a4d87791cf30a957f1f9f9\nStory: 2006233\nTask: 35834\n""}, {'number': 6, 'created': '2019-07-19 10:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/692d29ba3856a1fa05065ed9d7b1d441910c1a06', 'message': ""Active node introspection for nodes not in cache\n\nWhen an active node introspection is performed\nwhere an entry already exists in ironic, but inspector\nhas never seen the node before, we enter a state where\nwe should allow introspection to occur, but that we don't\nhave a cache record.\n\nAs a result of no cache entry, we presently fail hard claiming\nthe node's port already exists. In the case of active nodes,\nThis will always be the case, so we need to add a cache\nentry and allow the process to... somewhat continue as if\nnormal introspeciton is occuring.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@redhat.com>\nChange-Id: Ib20b4a4e4d46ba23b8a4d87791cf30a957f1f9f9\nStory: 2006233\nTask: 35834\n""}, {'number': 7, 'created': '2019-07-19 15:09:07.000000000', 'files': ['ironic_inspector/node_cache.py', 'ironic_inspector/test/unit/test_node_cache.py', 'ironic_inspector/process.py', 'ironic_inspector/test/unit/test_common_ironic.py', 'ironic_inspector/test/unit/test_process.py', 'ironic_inspector/plugins/discovery.py', 'releasenotes/notes/active-node-not-in-cache-b2d7b77603f02a66.yaml', 'ironic_inspector/test/functional.py', 'ironic_inspector/common/ironic.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0c9447d53b092c1b057998d9a159fbe88a3b881e', 'message': ""Active node introspection for nodes not in cache\n\nWhen an active node introspection is performed\nwhere an entry already exists in ironic, but inspector\nhas never seen the node before, we enter a state where\nwe should allow introspection to occur, but that we don't\nhave a cache record.\n\nAs a result of no cache entry, we presently fail hard claiming\nthe node's port already exists. In the case of active nodes,\nThis will always be the case, so we need to add a cache\nentry and allow the process to... somewhat continue as if\nnormal introspeciton is occuring.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@redhat.com>\nChange-Id: Ib20b4a4e4d46ba23b8a4d87791cf30a957f1f9f9\nStory: 2006233\nTask: 35834\n""}]",23,671171,0c9447d53b092c1b057998d9a159fbe88a3b881e,41,6,7,11655,,,0,"Active node introspection for nodes not in cache

When an active node introspection is performed
where an entry already exists in ironic, but inspector
has never seen the node before, we enter a state where
we should allow introspection to occur, but that we don't
have a cache record.

As a result of no cache entry, we presently fail hard claiming
the node's port already exists. In the case of active nodes,
This will always be the case, so we need to add a cache
entry and allow the process to... somewhat continue as if
normal introspeciton is occuring.

Co-Authored-By: Dmitry Tantsur <dtantsur@redhat.com>
Change-Id: Ib20b4a4e4d46ba23b8a4d87791cf30a957f1f9f9
Story: 2006233
Task: 35834
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/71/671171/6 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/node_cache.py', 'ironic_inspector/process.py', 'ironic_inspector/plugins/discovery.py', 'ironic_inspector/utils.py']",4,43690222c2704a7b3dc034b83cb793337969d05f,story/2006233,"class CacheRecordAdded(Error): """"""Host is already known and a cache record was added."""""" ",,37,5
openstack%2Ftripleo-heat-templates~master~I42451a8b4dcc690319439415570ce36e5c5333c3,openstack/tripleo-heat-templates,master,I42451a8b4dcc690319439415570ce36e5c5333c3,Only run cellv2 host discovery on default cell,MERGED,2019-07-18 13:34:09.000000000,2019-07-23 10:31:59.000000000,2019-07-23 10:10:24.000000000,"[{'_account_id': 3153}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-18 13:34:09.000000000', 'files': ['deployment/nova/nova-compute-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e7c15da249798439861d0b8e9ed2cd852e042e7', 'message': 'Only run cellv2 host discovery on default cell\n\nWhile it would be not an issue to run the host discovery on sub\nsequent deploy runs, on the initial cell deplouy the discovery\nfails because the cell is not yet defined in nova as this is\na manual post task after the initial cell deployment [1]\n\n[1] https://docs.openstack.org/tripleo-docs/latest/install/advanced_deployment/deploy_cellv2.html#create-the-cell-and-discover-compute-nodes\n\nChange-Id: I42451a8b4dcc690319439415570ce36e5c5333c3\nCloses-bug: #1836915\n'}]",0,671486,3e7c15da249798439861d0b8e9ed2cd852e042e7,11,9,1,17216,,,0,"Only run cellv2 host discovery on default cell

While it would be not an issue to run the host discovery on sub
sequent deploy runs, on the initial cell deplouy the discovery
fails because the cell is not yet defined in nova as this is
a manual post task after the initial cell deployment [1]

[1] https://docs.openstack.org/tripleo-docs/latest/install/advanced_deployment/deploy_cellv2.html#create-the-cell-and-discover-compute-nodes

Change-Id: I42451a8b4dcc690319439415570ce36e5c5333c3
Closes-bug: #1836915
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/671486/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-common-container-puppet.yaml'],1,3e7c15da249798439861d0b8e9ed2cd852e042e7,bug/1836915," NovaAdditionalCell: default: false description: Whether this is an cell additional to the default cell. type: boolean - name: is additonal Cell? set_fact: nova_additional_cell: {get_param: NovaAdditionalCell} - name: discover nodes if it is not an additional cell when: - not nova_additional_cell|bool block: - name: discover via nova_compute? set_fact: delegate_host: ""{{ groups['nova_compute'][0] }}"" when: - groups['nova_compute'] is defined and (groups['nova_compute']|length>0) - name: discover via nova_ironic? set_fact: delegate_host: ""{{ groups['nova_ironic'][0] }}"" when: - delegate_host is not defined - groups['nova_ironic'] is defined and (groups['nova_ironic']|length>0) - name: Discovering nova hosts command: ""{{ container_cli }} exec nova_compute nova-manage cell_v2 discover_hosts --by-service"" become: true changed_when: False when: - delegate_host is defined - inventory_hostname == delegate_host"," - name: discover via nova_compute? set_fact: delegate_host: ""{{ groups['nova_compute'][0] }}"" when: - groups['nova_compute'] is defined and (groups['nova_compute']|length>0) - name: discover via nova_ironic? set_fact: delegate_host: ""{{ groups['nova_ironic'][0] }}"" when: - delegate_host is not defined - groups['nova_ironic'] is defined and (groups['nova_ironic']|length>0) - name: Discovering nova hosts command: ""{{ container_cli }} exec nova_compute nova-manage cell_v2 discover_hosts --by-service"" become: true changed_when: False when: - delegate_host is defined - inventory_hostname == delegate_host",27,16
openstack%2Ftripleo-ci~master~I3e5cef6f01b84d5d30aba5960902ab49e717612b,openstack/tripleo-ci,master,I3e5cef6f01b84d5d30aba5960902ab49e717612b,DNM: test ansible version bumping to 2.6 for tripleo-quickstart ,ABANDONED,2018-11-20 15:14:00.000000000,2019-07-23 10:22:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2018-11-20 15:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/eec56c0446e71bdecdd383f0dce25b5203032db3', 'message': 'DNM: test ansible version bumping\n\nDepends-On: https://review.openstack.org/596282\nChange-Id: I3e5cef6f01b84d5d30aba5960902ab49e717612b\n'}, {'number': 2, 'created': '2019-02-08 08:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cc36c68c277dab4013204371c7a4f8f907b15e35', 'message': 'DNM: test ansible version bumping\n\nDepends-On: https://review.openstack.org/596282\nChange-Id: I3e5cef6f01b84d5d30aba5960902ab49e717612b\n'}, {'number': 3, 'created': '2019-02-08 09:11:26.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/14150d76c5935b09916521a3dfa0e3ed19448401', 'message': 'DNM: test ansible version bumping to 2.6 for tripleo-quickstart \n\nDepends-On: https://review.openstack.org/#/c/635459/\nChange-Id: I3e5cef6f01b84d5d30aba5960902ab49e717612b\n'}]",0,619017,14150d76c5935b09916521a3dfa0e3ed19448401,13,3,3,24162,,,0,"DNM: test ansible version bumping to 2.6 for tripleo-quickstart 

Depends-On: https://review.openstack.org/#/c/635459/
Change-Id: I3e5cef6f01b84d5d30aba5960902ab49e717612b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/17/619017/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,eec56c0446e71bdecdd383f0dce25b5203032db3,oooq/ansible26,# test,,1,0
openstack%2Fmonasca-events-api~master~Ib97c4d05a9bee29808cbc1f37f9a7fe89d23d0c6,openstack/monasca-events-api,master,Ib97c4d05a9bee29808cbc1f37f9a7fe89d23d0c6,Add Python 3 Train unit tests,MERGED,2019-07-05 17:09:46.000000000,2019-07-23 10:13:16.000000000,2019-07-23 10:13:16.000000000,"[{'_account_id': 16222}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28471}]","[{'number': 1, 'created': '2019-07-05 17:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/b5410c84e1d73062a523fe82f6485f5afa230d8d', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Ib97c4d05a9bee29808cbc1f37f9a7fe89d23d0c6\nStory: #2005924\nTask: #34223\n'}, {'number': 2, 'created': '2019-07-14 14:08:57.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/c8b38fe98ae0b6c76cdaa8433515905594423ebb', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Ib97c4d05a9bee29808cbc1f37f9a7fe89d23d0c6\nStory: #2005924\nTask: #34223\n'}]",0,669404,c8b38fe98ae0b6c76cdaa8433515905594423ebb,12,5,2,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Ib97c4d05a9bee29808cbc1f37f9a7fe89d23d0c6
Story: #2005924
Task: #34223
",git fetch https://review.opendev.org/openstack/monasca-events-api refs/changes/04/669404/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,b5410c84e1d73062a523fe82f6485f5afa230d8d,python3-train,"envlist = py27,py37,pep8,cover","envlist = py{27,36},pep8,cover",3,3
openstack%2Fhorizon~master~Iba78d4f72caf4086d43148576b04393fa1ca8314,openstack/horizon,master,Iba78d4f72caf4086d43148576b04393fa1ca8314,Imported Translations from Zanata,MERGED,2019-07-21 07:48:05.000000000,2019-07-23 10:11:45.000000000,2019-07-23 10:11:45.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-07-21 07:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b01e4e6895ae03ae6b91ae37c667634a2ac9af99', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iba78d4f72caf4086d43148576b04393fa1ca8314\n'}, {'number': 2, 'created': '2019-07-23 08:11:37.000000000', 'files': ['horizon/locale/fi_FI/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b8f7bd27af1620b0bf8e1caca0d69809001fcb19', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iba78d4f72caf4086d43148576b04393fa1ca8314\n'}]",0,671919,b8f7bd27af1620b0bf8e1caca0d69809001fcb19,9,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iba78d4f72caf4086d43148576b04393fa1ca8314
",git fetch https://review.opendev.org/openstack/horizon refs/changes/19/671919/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/locale/fi_FI/LC_MESSAGES/django.po'],1,b01e4e6895ae03ae6b91ae37c667634a2ac9af99,zanata/translations,"# Johan Guldmyr <johan.guldmyr@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-07-20 18:42+0000\n""""PO-Revision-Date: 2019-07-20 01:35+0000\n"" ""Last-Translator: Johan Guldmyr <johan.guldmyr@gmail.com>\n""msgid ""%(usedphrase)s %(used)s (No Limit)"" msgstr ""%(usedphrase)s %(used)s (Rajaton)"" #, fuzzy, python-format msgid ""%(usedphrase)s %(used)s of %(available)s"" msgstr ""%(usedphrase)s %(used)s %(available)s:stä"" #, python-format msgid ""%s EB"" msgstr ""%s EB"" #, python-formatmsgid ""%s YB"" msgstr ""%s YB"" #, python-format msgid ""%s ZB"" msgstr ""%s ZB"" #, python-formatmsgid ""(No Limit)"" msgstr ""(Rajaton)"" #. Translators: test code, don't really have to translate msgid ""Batch Item"" msgid_plural ""Batch Items"" msgstr[0] ""Sido Kohte"" msgstr[1] ""Sido Kohdetta"" #. Translators: test code, don't really have to translate msgid ""Batched Item"" msgid_plural ""Batched Items"" msgstr[0] ""Sidottu Kohde"" msgstr[1] ""Sidottu Kohdetta"" #. Translators: test code, don't really have to translate msgid ""Down Item"" msgid_plural ""Down Items"" msgstr[0] ""Kaada Kohde"" msgstr[1] ""Kaada Kohdetta"" #. Translators: test code, don't really have to translate msgid ""Downed Item"" msgid_plural ""Downed Items"" msgstr[0] ""Kaadettu Kohde"" msgstr[1] ""Kaadettu Kohdetta"" #, fuzzy, python-format msgid ""Error processing message json file '%(path)s': %(exception)s"" msgstr ""Virhe processoida viesti json tiedosto '%(path)s': %(exception)s"" msgid ""Fake"" msgstr ""Jäljitelmä"" msgid """" ""If you are not sure which authentication method to use, contact your "" ""administrator."" msgstr """" ""Jos et ole varma mikä todennusmenetelmä tarvitset, ota yhteyttä ylläpitäjään."" msgid ""Infinity"" msgstr ""Loputtomuus"" msgid ""Invalid MAC Address format"" msgstr ""Väärä MAC-osoite formaatti"" msgid ""Invalid metadata entry. Use comma-separated key=value pairs"" msgstr """" ""Virheelinen metadata merkintä. Käytä pilkkulla erotettu avain=arvo paarit"" #, python-format msgid ""Invalid service catalog: %s"" msgstr ""Väärä palveluluettelo: %s"" msgid ""Keystone Providers:"" msgstr ""Keystone Tuottajat:"" msgid ""Log in"" msgstr ""Kirjaudu sisään"" #, python-format msgid """" ""Login as different user or go back to <a href=\""%(home_url)s\"">home page</a>"" msgstr """" ""Kirjaudu sisään kuin eri käyttäjä vai mene takaisin <a href=\""%(home_url)s"" ""\"">kotisivulle</a>"" #, python-format msgid ""Message json file '%(path)s' is malformed. %(exception)s"" msgstr ""Viesti json tiedosto '%(path)s' on epämuotoinen. %(exception)s"" msgid ""Not a valid ICMP code"" msgstr ""ICMP-koodi on virheellinen"" msgid ""Not a valid ICMP type"" msgstr ""ICMP-tyyppi on virheellinen"" msgid ""Please confirm your selection."" msgstr ""Vahvista sinun valintasi."" msgid ""Please specify a search criteria first."" msgstr ""Valitse hakukriteria ensi"" msgid """" ""The current user has insufficient permission to complete the requested task."" msgstr """" ""The current user has insufficient permission to complete the requested task."" msgid ""The date should be in YYYY-MM-DD format."" msgstr ""Päivämäärän muoto pitää olla VVVV-kk-pv."" msgid ""The string may only contain ASCII printable characters."" msgstr ""Merkkijonossa on vaan ASCII tulostettava merkkiä"" #, python-format msgid """" ""The value of %(resource)s is %(name)s inside the template. When launching a "" ""stack from this interface, the value must start with \""http://\"" or "" ""\""https://\"""" msgstr """" ""%(resource)s:n arvo on %(name)s mallissa. Kun käynnistää stack tästä "" ""interfacistä, arvo tarvitse aloitta \""http://\"":lla vai \""https://\"":lla"" #. Translators: test code, don't really have to translate msgid ""Up Item"" msgid_plural ""Up Items"" msgstr[0] ""Avaudu Kohde"" msgstr[1] ""Avaudu Kohdetta"" #. Translators: test code, don't really have to translate msgid ""Upped Item"" msgid_plural ""Upped Items"" msgstr[0] ""Avauduttu Kohde"" msgstr[1] ""Avauduttu Kohdetta"" msgid ""You are not authorized to access this page"" msgstr ""Et ole oikeutettu päästäksesi tämä sivulta"" msgid ""You have selected: [[selection]]. "" msgstr ""Olet valinnut: [[selection]].""","""POT-Creation-Date: 2018-03-01 14:57+0000\n""""PO-Revision-Date: 2015-09-09 04:11+0000\n"" ""Last-Translator: Copied by Zanata <copied-by-zanata@zanata.org>\n""",145,3
openstack%2Fkolla-cli~master~I9f187b9849c15722f1aba40e5c9e0d3d0923ac68,openstack/kolla-cli,master,I9f187b9849c15722f1aba40e5c9e0d3d0923ac68,Add genconfig aciton into kolla-cli,MERGED,2019-07-23 07:17:35.000000000,2019-07-23 09:57:50.000000000,2019-07-23 09:17:55.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-07-23 07:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/ef940c3bda478ff5c7d9b32b76b3005230cc6f19', 'message': 'Add genconfig aciton into kolla-cli\n\nChange-Id: I9f187b9849c15722f1aba40e5c9e0d3d0923ac68\n'}, {'number': 2, 'created': '2019-07-23 07:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/e33b3419a96afb6161adf7156fb830a450fbb7e0', 'message': 'Add genconfig aciton into kolla-cli\n\nChange-Id: I9f187b9849c15722f1aba40e5c9e0d3d0923ac68\n'}, {'number': 3, 'created': '2019-07-23 07:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/b723eeb881740cd937e7b504a94d2d7568dc348c', 'message': 'Add genconfig aciton into kolla-cli\n\nChange-Id: I9f187b9849c15722f1aba40e5c9e0d3d0923ac68\n'}, {'number': 4, 'created': '2019-07-23 07:41:09.000000000', 'files': ['kolla_cli/common/ansible/actions.py', 'kolla_cli/api/control_plane.py', 'setup.cfg', 'kolla_cli/commands/kolla_action.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/ee296a79d2ec3bc7e994fd82018fc77b00d181af', 'message': 'Add genconfig aciton into kolla-cli\n\nChange-Id: I9f187b9849c15722f1aba40e5c9e0d3d0923ac68\n'}]",3,672209,ee296a79d2ec3bc7e994fd82018fc77b00d181af,17,3,4,30356,,,0,"Add genconfig aciton into kolla-cli

Change-Id: I9f187b9849c15722f1aba40e5c9e0d3d0923ac68
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/09/672209/4 && git format-patch -1 --stdout FETCH_HEAD,"['kolla_cli/common/ansible/actions.py', 'setup.cfg', 'kolla_cli/commands/kolla_action.py']",3,ef940c3bda478ff5c7d9b32b76b3005230cc6f19,,"class Genconfig(Command): """"""Generate configuration files for enabled OpenStack services."""""" def get_parser(self, prog_name): parser = super(Upgrade, self).get_parser(prog_name) parser.add_argument('--services', nargs='?', metavar='<service_list>', help=u._('genarate configs service list')) return parser def take_action(self, parsed_args): services = None try: if parsed_args.services: service_list = parsed_args.services.strip() services = service_list.split(',') verbose_level = self.app.options.verbose_level job = CLIENT.genconfig(verbose_level, services) status = job.wait() handers_action_result(job, status, verbose_level) except Exception: raise Exception(traceback.format_exc()) ",,33,0
openstack%2Fpython-blazarclient~master~I7a73a4e7d2026eba2d0a3d6dfe9db42879ff6416,openstack/python-blazarclient,master,I7a73a4e7d2026eba2d0a3d6dfe9db42879ff6416,Add support for floating IP reservation,MERGED,2019-02-27 18:05:36.000000000,2019-07-23 09:48:43.000000000,2019-07-23 09:48:43.000000000,"[{'_account_id': 8878}, {'_account_id': 13192}, {'_account_id': 15197}, {'_account_id': 20147}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 28543}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-02-27 18:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/36048772fea44b790aaa7649daf1579f853550d0', 'message': '[WIP] Add support for floating IP reservation\n\nChange-Id: I7a73a4e7d2026eba2d0a3d6dfe9db42879ff6416\n'}, {'number': 2, 'created': '2019-03-15 16:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/2d728c2f59b8e9c2a45e0ed8afe5d10eb96b1c71', 'message': '[WIP] Add support for floating IP reservation\n\nChange-Id: I7a73a4e7d2026eba2d0a3d6dfe9db42879ff6416\n'}, {'number': 3, 'created': '2019-03-15 17:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/5c1ac82c4c619f2266de74e6a12e5e9351c15777', 'message': '[WIP] Add support for floating IP reservation\n\nChange-Id: I7a73a4e7d2026eba2d0a3d6dfe9db42879ff6416\n'}, {'number': 4, 'created': '2019-03-27 18:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/c4ff1d642cb6c5b0ba9425af0bcdd02233b6c5dc', 'message': 'Add support for floating IP reservation\n\nChange-Id: I7a73a4e7d2026eba2d0a3d6dfe9db42879ff6416\n'}, {'number': 5, 'created': '2019-05-15 14:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/49a6dbfba950f002bb42123f3c87a28b72bb84bd', 'message': 'Add support for floating IP reservation\n\nChange-Id: I7a73a4e7d2026eba2d0a3d6dfe9db42879ff6416\n'}, {'number': 6, 'created': '2019-05-30 10:30:17.000000000', 'files': ['blazarclient/tests/v1/shell_commands/test_floatingips.py', 'blazarclient/shell.py', 'blazarclient/v1/shell_commands/leases.py', 'blazarclient/v1/client.py', 'blazarclient/v1/shell_commands/floatingips.py', 'blazarclient/v1/floatingips.py'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/ea96686ffb83d434d7db02b4884e78c7e2982865', 'message': 'Add support for floating IP reservation\n\nChange-Id: I7a73a4e7d2026eba2d0a3d6dfe9db42879ff6416\n'}]",4,639763,ea96686ffb83d434d7db02b4884e78c7e2982865,28,8,6,15197,,,0,"Add support for floating IP reservation

Change-Id: I7a73a4e7d2026eba2d0a3d6dfe9db42879ff6416
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/63/639763/4 && git format-patch -1 --stdout FETCH_HEAD,"['blazarclient/tests/v1/shell_commands/test_floatingips.py', 'blazarclient/shell.py', 'blazarclient/v1/shell_commands/leases.py', 'blazarclient/v1/client.py', 'blazarclient/v1/shell_commands/floatingips.py', 'blazarclient/v1/floatingips.py']",6,36048772fea44b790aaa7649daf1579f853550d0,floatingips,"# Copyright (c) 2019 StackHPC Ltd. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from blazarclient import base class FloatingIPClientManager(base.BaseClientManager): """"""Manager for floating IP requests."""""" def create(self, network_id, floating_ip_address, **kwargs): """"""Creates a floating IP from values passed."""""" # TODO(priteau): floating_network_id may change to network_id in the # final version values = {'floating_network_id': network_id, 'floating_ip_address': floating_ip_address} values.update(**kwargs) resp, body = self.request_manager.post('/floatingips', body=values) return body['floatingip'] def get(self, floatingip_id): """"""Show floating IP details."""""" resp, body = self.request_manager.get( '/floatingips/%s' % floatingip_id) return body['floatingip'] def delete(self, floatingip_id): """"""Deletes floating IP with specified ID."""""" resp, body = self.request_manager.delete( '/floatingips/%s' % floatingip_id) def list(self, sort_by=None): """"""List all floating IPs."""""" resp, body = self.request_manager.get('/floatingips') floatingips = body['floatingips'] if sort_by: floatingips = sorted(floatingips, key=lambda l: l[sort_by]) return floatingips ",,256,1
openstack%2Foctavia~stable%2Frocky~Ifc28b4991852e59c0d27b4ab3d1afc4e9965e88b,openstack/octavia,stable/rocky,Ifc28b4991852e59c0d27b4ab3d1afc4e9965e88b,Update amphora-agent to report UDP listener health,MERGED,2019-06-17 14:14:33.000000000,2019-07-23 09:46:03.000000000,2019-07-23 09:46:03.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 14:14:33.000000000', 'files': ['releasenotes/notes/UDP-listener-health-d8fdf64a32e022d4.yaml', 'octavia/amphorae/backends/health_daemon/health_daemon.py', 'octavia/tests/unit/amphorae/backends/health_daemon/test_health_daemon.py', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2f8fcedcd0bfc21699628cda81f1348e4c8f1539', 'message': 'Update amphora-agent to report UDP listener health\n\nCurrently the amphora-agent is not reporting UDP listener health\nwhen the UDP listener does not have a pool and members.\nThis patch changes that behavior to report the listener as healthy\nif the keepalived process is started and running in the amphora.\n\nThis patch also introduces message versioning for the health\nheartbeat messages.\n\nIt also corrects a few assertEqual tests that had the reference and\nactual values backwards.\n\nChange-Id: Ifc28b4991852e59c0d27b4ab3d1afc4e9965e88b\nStory: 2003592\nTask: 24911\n(cherry picked from commit 2170cc6c459b7ae8461a09a0b6fd754ecef9654e)\n'}]",0,665683,2f8fcedcd0bfc21699628cda81f1348e4c8f1539,7,4,1,29244,,,0,"Update amphora-agent to report UDP listener health

Currently the amphora-agent is not reporting UDP listener health
when the UDP listener does not have a pool and members.
This patch changes that behavior to report the listener as healthy
if the keepalived process is started and running in the amphora.

This patch also introduces message versioning for the health
heartbeat messages.

It also corrects a few assertEqual tests that had the reference and
actual values backwards.

Change-Id: Ifc28b4991852e59c0d27b4ab3d1afc4e9965e88b
Story: 2003592
Task: 24911
(cherry picked from commit 2170cc6c459b7ae8461a09a0b6fd754ecef9654e)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/83/665683/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/UDP-listener-health-d8fdf64a32e022d4.yaml', 'octavia/amphorae/backends/health_daemon/health_daemon.py', 'octavia/tests/unit/amphorae/backends/health_daemon/test_health_daemon.py', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py']",5,2f8fcedcd0bfc21699628cda81f1348e4c8f1539,," self.assertEqual({}, res)", self.assertIsNone(res),42,9
openstack%2Frpm-packaging~master~Ie821e88003b554ca97bdbc605e71633097a3c3b0,openstack/rpm-packaging,master,Ie821e88003b554ca97bdbc605e71633097a3c3b0,Use python3 for doc build,MERGED,2019-06-20 16:00:33.000000000,2019-07-23 09:44:59.000000000,2019-07-23 09:44:59.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-20 16:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0563871937491d0607be6872cf9c0af9678ebe99', 'message': ""Use python3 for keystone doc builds\n\nWithout this patch, the doc build for keystone fails with a Sphinx\nincompatibility:\n\n  AttributeError: 'Sphinx' object has no attribute 'add_css_file'\n\nSphinx 2.x has dropped support for python2, so start using the python3\nversions of these packages which should get them all in sync.\n\nChange-Id: Ie821e88003b554ca97bdbc605e71633097a3c3b0\n""}, {'number': 2, 'created': '2019-06-20 16:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/89bd49dcffe58f075683ae29535bb7df79ed2283', 'message': ""Use python3 for keystone doc builds\n\nWithout this patch, the doc build for keystone fails with a Sphinx\nincompatibility:\n\n  AttributeError: 'Sphinx' object has no attribute 'add_css_file'\n\nSphinx 2.x has dropped support for python2, so start using the python3\nversions of these packages which should get them all in sync.\n\nChange-Id: Ie821e88003b554ca97bdbc605e71633097a3c3b0\n""}, {'number': 3, 'created': '2019-06-21 16:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/779319b1344bc0de6c67e9553753a5deddd6f126', 'message': ""Use python3 for keystone doc builds\n\nWithout this patch, the doc build for keystone fails with a Sphinx\nincompatibility:\n\n  AttributeError: 'Sphinx' object has no attribute 'add_css_file'\n\nSphinx 2.x has dropped support for python2, so start using the python3\nversions of these packages which should get them all in sync.\n\nChange-Id: Ie821e88003b554ca97bdbc605e71633097a3c3b0\n""}, {'number': 4, 'created': '2019-06-21 19:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/89c41862992e820df2fe75d2a0d5f3b0e4f06b9b', 'message': ""Use python3 for keystone, cinder, watcher docs\n\nWithout this patch, the doc build for these packages fails with a Sphinx\nincompatibility:\n\n  AttributeError: 'Sphinx' object has no attribute 'add_css_file'\n\nor:\n\n  Unknown event name: autodoc-process-docstring\n\nSphinx 2.x has dropped support for python2, so start using the python3\nversions of these packages which should get them all in sync.\n\nFor cinder and watcher, we need to duplicate some of the build\nrequirements under the doc package now that they are python3 only.\n\nChange-Id: Ie821e88003b554ca97bdbc605e71633097a3c3b0\n""}, {'number': 5, 'created': '2019-06-21 21:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b092215e8c4201f9f33cb2dfff7c075e8129052e', 'message': ""Use python3 for keystone doc build\n\nWithout this patch, the doc build for the keystone package fails with a\nSphinx incompatibility:\n\n  AttributeError: 'Sphinx' object has no attribute 'add_css_file'\n\nSphinx 2.x has dropped support for python2, so start using the python3\nversions of these packages which should get them all in sync.\n\nFor cinder and watcher, we need to duplicate some of the build\nrequirements under the doc package now that they are python3 only.\n\nChange-Id: Ie821e88003b554ca97bdbc605e71633097a3c3b0\n""}, {'number': 6, 'created': '2019-06-24 08:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/49012ace96c6e67fe71385a4f09664cd8f9404ca', 'message': ""Use python3 for doc build\n\nWithout this patch, the doc build for the keystone package fails with a\nSphinx incompatibility:\n\n  AttributeError: 'Sphinx' object has no attribute 'add_css_file'\n\nSphinx 2.x has dropped support for python2, so start using the python3\nversions of these packages which should get them all in sync.\n\nFor cinder and watcher, we need to duplicate some of the build\nrequirements under the doc package now that they are python3 only.\n\nNOTE(dmllr): Add sphinx_build macro, fix other package builds along\nthe way.\n\nChange-Id: Ie821e88003b554ca97bdbc605e71633097a3c3b0\n""}, {'number': 7, 'created': '2019-06-25 10:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ba055dec4c627a1e47f833604e1bb4952a4434d5', 'message': ""Use python3 for doc build\n\nWithout this patch, the doc build for the keystone package fails with a\nSphinx incompatibility:\n\n  AttributeError: 'Sphinx' object has no attribute 'add_css_file'\n\nSphinx 2.x has dropped support for python2, so start using the python3\nversions of these packages which should get them all in sync.\n\nFor cinder and watcher, we need to duplicate some of the build\nrequirements under the doc package now that they are python3 only.\n\nNOTE(dmllr): Add sphinx_build macro, fix other package builds along\nthe way.\n\nChange-Id: Ie821e88003b554ca97bdbc605e71633097a3c3b0\n""}, {'number': 8, 'created': '2019-06-26 10:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/822f8a96e320e0453ba2c6b4d41917011f96073b', 'message': ""Use python3 for doc build\n\nWithout this patch, the doc build for the keystone package fails with a\nSphinx incompatibility:\n\n  AttributeError: 'Sphinx' object has no attribute 'add_css_file'\n\nSphinx 2.x has dropped support for python2, so start using the python3\nversions of these packages which should get them all in sync.\n\nFor cinder and watcher, we need to duplicate some of the build\nrequirements under the doc package now that they are python3 only.\n\nNOTE(dmllr): Add sphinx_build macro, fix other package builds along\nthe way.\n\nChange-Id: Ie821e88003b554ca97bdbc605e71633097a3c3b0\n""}, {'number': 9, 'created': '2019-06-27 21:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/29d78ab527ab4ceb7fe95cf95c04451b0e22093a', 'message': ""Use python3 for doc build\n\nWithout this patch, the doc build for the keystone package fails with a\nSphinx incompatibility:\n\n  AttributeError: 'Sphinx' object has no attribute 'add_css_file'\n\nSphinx 2.x has dropped support for python2, so start using the python3\nversions of these packages which should get them all in sync.\n\nFor cinder and watcher, we need to duplicate some of the build\nrequirements under the doc package now that they are python3 only.\n\nNOTE(dmllr): Add sphinx_build macro, fix other package builds along\nthe way.\n\nChange-Id: Ie821e88003b554ca97bdbc605e71633097a3c3b0\n""}, {'number': 10, 'created': '2019-06-27 21:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5993de13837c0f9ede761e997871c0fff530aa80', 'message': ""Use python3 for doc build\n\nWithout this patch, the doc build for the keystone package fails with a\nSphinx incompatibility:\n\n  AttributeError: 'Sphinx' object has no attribute 'add_css_file'\n\nSphinx 2.x has dropped support for python2, so start using the python3\nversions of these packages which should get them all in sync.\n\nFor cinder and watcher, we need to duplicate some of the build\nrequirements under the doc package now that they are python3 only.\n\nNOTE(dmllr): Add sphinx_build macro, fix other package builds along\nthe way.\n\nChange-Id: Ie821e88003b554ca97bdbc605e71633097a3c3b0\n""}, {'number': 11, 'created': '2019-06-28 13:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/44cf58043ffc46c4589150a1fd10464ef032ce31', 'message': ""Use python3 for doc build\n\nWithout this patch, the doc build for the keystone package fails with a\nSphinx incompatibility:\n\n  AttributeError: 'Sphinx' object has no attribute 'add_css_file'\n\nSphinx 2.x has dropped support for python2, so start using the python3\nversions of these packages which should get them all in sync.\n\nFor cinder and watcher, we need to duplicate some of the build\nrequirements under the doc package now that they are python3 only.\n\nNOTE(dmllr): Add sphinx_build macro, fix other package builds along\nthe way.\n\nChange-Id: Ie821e88003b554ca97bdbc605e71633097a3c3b0\n""}, {'number': 12, 'created': '2019-07-01 08:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8d2916c7a36301d84bc15aaaec45728fa6f0f7c8', 'message': ""Use python3 for doc build\n\nWithout this patch, the doc build for the keystone package fails with a\nSphinx incompatibility:\n\n  AttributeError: 'Sphinx' object has no attribute 'add_css_file'\n\nSphinx 2.x has dropped support for python2, so start using the python3\nversions of these packages which should get them all in sync.\n\nChange-Id: Ie821e88003b554ca97bdbc605e71633097a3c3b0\n""}, {'number': 13, 'created': '2019-07-22 21:26:27.000000000', 'files': ['openstack/keystone/keystone.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/82af7ff4ac6487c0f390cd12f1069f720182e2bf', 'message': ""Use python3 for doc build\n\nWithout this patch, the doc build for the keystone package fails with a\nSphinx incompatibility:\n\n  AttributeError: 'Sphinx' object has no attribute 'add_css_file'\n\nSphinx 2.x has dropped support for python2, so start using the python3\nversions of these packages which should get them all in sync.\n\nChange-Id: Ie821e88003b554ca97bdbc605e71633097a3c3b0\n""}]",3,666622,82af7ff4ac6487c0f390cd12f1069f720182e2bf,67,6,13,8482,,,0,"Use python3 for doc build

Without this patch, the doc build for the keystone package fails with a
Sphinx incompatibility:

  AttributeError: 'Sphinx' object has no attribute 'add_css_file'

Sphinx 2.x has dropped support for python2, so start using the python3
versions of these packages which should get them all in sync.

Change-Id: Ie821e88003b554ca97bdbc605e71633097a3c3b0
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/22/666622/8 && git format-patch -1 --stdout FETCH_HEAD,['openstack/keystone/keystone.spec.j2'],1,0563871937491d0607be6872cf9c0af9678ebe99,py3-keystone,BuildRequires: python3-Routes BuildRequires: python3-Sphinx BuildRequires: python3-cryptography BuildRequires: python3-dogpile.cache BuildRequires: python3-jsonschema BuildRequires: python3-keystonemiddleware BuildRequires: python3-ldappool BuildRequires: python3-msgpack BuildRequires: python3-oauthlib BuildRequires: python3-openstackdocstheme BuildRequires: python3-oslo.concurrency BuildRequires: python3-oslo.db BuildRequires: python3-oslo.i18n BuildRequires: python3-oslo.log BuildRequires: python3-oslo.messaging BuildRequires: python3-oslo.middleware BuildRequires: python3-oslo.policy BuildRequires: python3-osprofiler BuildRequires: python3-passlib BuildRequires: python3-pysaml2 BuildRequires: python3-python-memcached BuildRequires: python3-sphinx-feature-classification BuildRequires: python3-sphinxcontrib-apidoc BuildRequires: python3-sphinxcontrib-seqdiag,BuildRequires: {{ py2pkg('Routes') }} BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('cryptography') }} BuildRequires: {{ py2pkg('dogpile.cache') }} BuildRequires: {{ py2pkg('jsonschema') }} BuildRequires: {{ py2pkg('keystonemiddleware') }} BuildRequires: {{ py2pkg('ldappool') }} BuildRequires: {{ py2pkg('msgpack') }} BuildRequires: {{ py2pkg('oauthlib') }} BuildRequires: {{ py2pkg('openstackdocstheme') }} BuildRequires: {{ py2pkg('oslo.concurrency') }} BuildRequires: {{ py2pkg('oslo.db') }} BuildRequires: {{ py2pkg('oslo.i18n') }} BuildRequires: {{ py2pkg('oslo.log') }} BuildRequires: {{ py2pkg('oslo.messaging') }} BuildRequires: {{ py2pkg('oslo.middleware') }} BuildRequires: {{ py2pkg('oslo.policy') }} BuildRequires: {{ py2pkg('osprofiler') }} BuildRequires: {{ py2pkg('passlib') }} BuildRequires: {{ py2pkg('pysaml2') }} BuildRequires: {{ py2pkg('python-memcached') }} BuildRequires: {{ py2pkg('sphinx-feature-classification') }} BuildRequires: {{ py2pkg('sphinxcontrib-apidoc') }} BuildRequires: {{ py2pkg('sphinxcontrib-seqdiag ') }},24,24
openstack%2Frpm-packaging~master~I62fad6d140338ee9af7eca144edb4ae6e96f6007,openstack/rpm-packaging,master,I62fad6d140338ee9af7eca144edb4ae6e96f6007,tools: fix validation of some py3 specs,MERGED,2019-07-19 08:48:32.000000000,2019-07-23 09:44:58.000000000,2019-07-23 09:44:58.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-19 08:48:32.000000000', 'files': ['tools/run_speccleaner.sh', 'tools/run_renderspec.sh'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a1fdd1d55a452c22ef37fd96245cb2ddc1a6dfdf', 'message': 'tools: fix validation of some py3 specs\n\nAssuming the reason run_renderspec skipped py3 was to avoid\nspeccleaner complaining about single line py2 and py3 BuildRequires,\nthis patch changes the way to achieve that while supporting other\ndifferent ways to write py3 specs that would otherwise would not be\nrecognized as py3 only and end up with blank BuildRequires and the\nlike, specifically:\n\n* singlespecs with py3 flavor only (new networking-l2gw spec)\n* py3 specs for which the package name is rendered instead of forced\n  (networking-generic-switch)\n\nChange-Id: I62fad6d140338ee9af7eca144edb4ae6e96f6007\n'}]",0,671682,a1fdd1d55a452c22ef37fd96245cb2ddc1a6dfdf,13,4,1,27532,,,0,"tools: fix validation of some py3 specs

Assuming the reason run_renderspec skipped py3 was to avoid
speccleaner complaining about single line py2 and py3 BuildRequires,
this patch changes the way to achieve that while supporting other
different ways to write py3 specs that would otherwise would not be
recognized as py3 only and end up with blank BuildRequires and the
like, specifically:

* singlespecs with py3 flavor only (new networking-l2gw spec)
* py3 specs for which the package name is rendered instead of forced
  (networking-generic-switch)

Change-Id: I62fad6d140338ee9af7eca144edb4ae6e96f6007
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/82/671682/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/run_speccleaner.sh', 'tools/run_renderspec.sh']",2,a1fdd1d55a452c22ef37fd96245cb2ddc1a6dfdf,," -o $WORKSPACE/logs/$specstyle/\$pkg_name.spec"""," skip='--skip-pyversion py3' if grep -q '%package -n python3-' __SPEC__; then skip="""" fi \$skip -o $WORKSPACE/logs/$specstyle/\$pkg_name.spec""",11,5
openstack%2Fopenstack-ansible-os_octavia~stable%2Frocky~I62e4f9d454b75e0fc87a7df2cf70d119e627ea9d,openstack/openstack-ansible-os_octavia,stable/rocky,I62e4f9d454b75e0fc87a7df2cf70d119e627ea9d,Ensure that admin endpoint is used to configure octavia quota,MERGED,2019-07-01 07:34:04.000000000,2019-07-23 09:30:16.000000000,2019-07-23 09:30:16.000000000,"[{'_account_id': 1004}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23182}, {'_account_id': 28543}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-01 07:34:04.000000000', 'files': ['tasks/octavia_security_group.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/82c5de33f573406a78992a4c3ef1fd144c967a12', 'message': 'Ensure that admin endpoint is used to configure octavia quota\n\nThe default is the public endpoint which will fail with an SSL error\nfor AIO or other non-trusted certificates.\n\nChange-Id: I62e4f9d454b75e0fc87a7df2cf70d119e627ea9d\nCloses-Bug: 1831160\nCloses-Bug: 1828599\n(cherry picked from 2b39df7d8de3856185ebef0b24382cd0d8b18cca and\nmodified for rocky branch)\n'}]",0,668373,82c5de33f573406a78992a4c3ef1fd144c967a12,10,6,1,25023,,,0,"Ensure that admin endpoint is used to configure octavia quota

The default is the public endpoint which will fail with an SSL error
for AIO or other non-trusted certificates.

Change-Id: I62e4f9d454b75e0fc87a7df2cf70d119e627ea9d
Closes-Bug: 1831160
Closes-Bug: 1828599
(cherry picked from 2b39df7d8de3856185ebef0b24382cd0d8b18cca and
modified for rocky branch)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/73/668373/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/octavia_security_group.yml'],1,82c5de33f573406a78992a4c3ef1fd144c967a12,bug/1831160, --os-interface admin,,1,0
openstack%2Fopenstack-ansible-os_octavia~stable%2Frocky~Iddc604e852e0ceb7ef6fd68a123f44a14d8762fa,openstack/openstack-ansible-os_octavia,stable/rocky,Iddc604e852e0ceb7ef6fd68a123f44a14d8762fa,Use the admin endpoint to upload glance images,MERGED,2019-07-01 07:35:48.000000000,2019-07-23 09:30:15.000000000,2019-07-23 09:30:15.000000000,"[{'_account_id': 1004}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23182}, {'_account_id': 28543}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-01 07:35:48.000000000', 'files': ['tasks/octavia_amp_image.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/a9af8aa5966182e527256f1cc8c79be75cd2c704', 'message': 'Use the admin endpoint to upload glance images\n\nThe deploy host may not have access to the public endpoint. The\npublic endpoint SSL certificate may not be trusted. Both of\nthese things will cause a failure to upload the image.\n\nDepends-On: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87\nDepends-On: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89\nDepends-On: Ia5fda5d417b79189d048c8891b84d57331df1404\nChange-Id: Iddc604e852e0ceb7ef6fd68a123f44a14d8762fa\nCloses-Bug: 1831183\n(cherry picked from commit a4d2a2aa64a3076fc5e7a2b1f6b3fea3fd2dd711)\n'}]",0,668375,a9af8aa5966182e527256f1cc8c79be75cd2c704,10,6,1,25023,,,0,"Use the admin endpoint to upload glance images

The deploy host may not have access to the public endpoint. The
public endpoint SSL certificate may not be trusted. Both of
these things will cause a failure to upload the image.

Depends-On: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87
Depends-On: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89
Depends-On: Ia5fda5d417b79189d048c8891b84d57331df1404
Change-Id: Iddc604e852e0ceb7ef6fd68a123f44a14d8762fa
Closes-Bug: 1831183
(cherry picked from commit a4d2a2aa64a3076fc5e7a2b1f6b3fea3fd2dd711)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/75/668375/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/octavia_amp_image.yml'],1,a9af8aa5966182e527256f1cc8c79be75cd2c704,fix-octavia-stable/stein-stable/rocky, --os-interface admin,,1,0
openstack%2Fopenstack-ansible-os_octavia~stable%2Fstein~Iddc604e852e0ceb7ef6fd68a123f44a14d8762fa,openstack/openstack-ansible-os_octavia,stable/stein,Iddc604e852e0ceb7ef6fd68a123f44a14d8762fa,Use the admin endpoint to upload glance images,MERGED,2019-07-01 07:35:39.000000000,2019-07-23 09:30:14.000000000,2019-07-23 09:30:14.000000000,"[{'_account_id': 1004}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23182}, {'_account_id': 28543}, {'_account_id': 28619}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-01 07:35:39.000000000', 'files': ['tasks/octavia_amp_image.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/db15fc1728f9d2f73a2ad7be068d6f09187f41eb', 'message': 'Use the admin endpoint to upload glance images\n\nThe deploy host may not have access to the public endpoint. The\npublic endpoint SSL certificate may not be trusted. Both of\nthese things will cause a failure to upload the image.\n\nDepends-On: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87\nDepends-On: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89\nDepends-On: Ia5fda5d417b79189d048c8891b84d57331df1404\nChange-Id: Iddc604e852e0ceb7ef6fd68a123f44a14d8762fa\nCloses-Bug: 1831183\n(cherry picked from commit a4d2a2aa64a3076fc5e7a2b1f6b3fea3fd2dd711)\n'}]",0,668374,db15fc1728f9d2f73a2ad7be068d6f09187f41eb,12,7,1,25023,,,0,"Use the admin endpoint to upload glance images

The deploy host may not have access to the public endpoint. The
public endpoint SSL certificate may not be trusted. Both of
these things will cause a failure to upload the image.

Depends-On: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87
Depends-On: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89
Depends-On: Ia5fda5d417b79189d048c8891b84d57331df1404
Change-Id: Iddc604e852e0ceb7ef6fd68a123f44a14d8762fa
Closes-Bug: 1831183
(cherry picked from commit a4d2a2aa64a3076fc5e7a2b1f6b3fea3fd2dd711)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/74/668374/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/octavia_amp_image.yml'],1,db15fc1728f9d2f73a2ad7be068d6f09187f41eb,fix-octavia-stable/stein, --os-interface admin,,1,0
openstack%2Fmagnum~master~I34af2451e92962b835ac0f1a1e49dfcbfd477830,openstack/magnum,master,I34af2451e92962b835ac0f1a1e49dfcbfd477830,ci: Fix ADD_ALLOW_PRIV build-arg,MERGED,2019-07-12 14:02:24.000000000,2019-07-23 09:28:53.000000000,2019-07-23 09:28:53.000000000,"[{'_account_id': 6484}, {'_account_id': 17130}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-07-12 14:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3877792f42e1b5dc84bcceaa1b22195c4dcd9dd5', 'message': 'ci: Fix ADD_ALLOW_PRIV build-arg\n\nIn [0] we added a build-arg for the deprecaeted\n--allow-priv option. This arg needs to be defined\nafter the FROM line in the dockerfile.\n\nNote, other systems like podman can use the\narg even before the FROM statement. Docker needs\nit after.\n\n[0] I2935d34ace08800c805028f1673bc515f2f577e6\n\nstory: 2005124\n\nChange-Id: I34af2451e92962b835ac0f1a1e49dfcbfd477830\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 2, 'created': '2019-07-12 14:04:37.000000000', 'files': ['dockerfiles/kubernetes-scheduler/Dockerfile', 'dockerfiles/kubernetes-proxy/Dockerfile', 'dockerfiles/kubernetes-apiserver/Dockerfile', 'dockerfiles/kubernetes-kubelet/Dockerfile', 'dockerfiles/kubernetes-controller-manager/Dockerfile'], 'web_link': 'https://opendev.org/openstack/magnum/commit/c9262419fd4d2c0ca635da8d472e328f79a91865', 'message': 'ci: Fix ADD_ALLOW_PRIV build-arg\n\nIn [0] we added a build-arg for the deprecaeted\n--allow-priv option. This arg needs to be defined\nafter the FROM line in the dockerfile.\n\nNote, other systems like podman can use the\narg even before the FROM statement. Docker needs\nit after.\n\n[0] I2935d34ace08800c805028f1673bc515f2f577e6\n\nstory: 2005124\n\nChange-Id: I34af2451e92962b835ac0f1a1e49dfcbfd477830\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",10,670565,c9262419fd4d2c0ca635da8d472e328f79a91865,17,5,2,20498,,,0,"ci: Fix ADD_ALLOW_PRIV build-arg

In [0] we added a build-arg for the deprecaeted
--allow-priv option. This arg needs to be defined
after the FROM line in the dockerfile.

Note, other systems like podman can use the
arg even before the FROM statement. Docker needs
it after.

[0] I2935d34ace08800c805028f1673bc515f2f577e6

story: 2005124

Change-Id: I34af2451e92962b835ac0f1a1e49dfcbfd477830
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/65/670565/2 && git format-patch -1 --stdout FETCH_HEAD,"['dockerfiles/kubernetes-scheduler/Dockerfile', 'dockerfiles/kubernetes-proxy/Dockerfile', 'dockerfiles/kubernetes-apiserver/Dockerfile', 'dockerfiles/kubernetes-kubelet/Dockerfile', 'dockerfiles/kubernetes-controller-manager/Dockerfile']",5,3877792f42e1b5dc84bcceaa1b22195c4dcd9dd5,kubernetes-images,ARG ADD_KUBE_ALLOW_PRIV=false,ARG ADD_KUBE_ALLOW_PRIV=false,5,5
openstack%2Fmistral~master~Ie5159ba52b6a682e00027ce6bf6d3c5c3f4f1eb9,openstack/mistral,master,Ie5159ba52b6a682e00027ce6bf6d3c5c3f4f1eb9,Remove deprecated nova commands,MERGED,2019-05-16 14:26:44.000000000,2019-07-23 09:17:45.000000000,2019-05-17 08:54:24.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-16 14:26:44.000000000', 'files': ['mistral/actions/openstack/mapping.json'], 'web_link': 'https://opendev.org/openstack/mistral/commit/dbc4c9115009a0a989b18d0f7887537ef35241c2', 'message': 'Remove deprecated nova commands\n\nnovaclient.cert was removed 18 months ago\nhttps://github.com/openstack/python-novaclient/commit/4bc4078fcb4f2a47269882cc83e1d637db1f37c2\nthis commit removes those calls.\n\nChange-Id: Ie5159ba52b6a682e00027ce6bf6d3c5c3f4f1eb9\n'}]",0,659577,dbc4c9115009a0a989b18d0f7887537ef35241c2,7,2,1,15895,,,0,"Remove deprecated nova commands

novaclient.cert was removed 18 months ago
https://github.com/openstack/python-novaclient/commit/4bc4078fcb4f2a47269882cc83e1d637db1f37c2
this commit removes those calls.

Change-Id: Ie5159ba52b6a682e00027ce6bf6d3c5c3f4f1eb9
",git fetch https://review.opendev.org/openstack/mistral refs/changes/77/659577/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/actions/openstack/mapping.json'],1,dbc4c9115009a0a989b18d0f7887537ef35241c2,remove_deprecated_nova_cmds,," ""certs_convert_into_with_meta"": ""certs.convert_into_with_meta"", ""certs_create"": ""certs.create"", ""certs_get"": ""certs.get"",",0,3
openstack%2Fopenstack-ansible-openstack_hosts~master~I5c9bf4cd0a3a416447f6f1797df4657402a64382,openstack/openstack-ansible-openstack_hosts,master,I5c9bf4cd0a3a416447f6f1797df4657402a64382,Do not add /etc/hosts entry for 127.0.1.1,MERGED,2019-07-13 20:36:07.000000000,2019-07-23 09:11:58.000000000,2019-07-23 09:11:58.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-13 20:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/1e1e6503d08c4489e331efa791ebb5da4d842931', 'message': 'Do not add container /etc/hosts entry for 127.0.1.1\n\nThis patch removes a task which adds an entry to /etc/hosts for\nthe container hostname / 127.0.1.1.\n\nSome services, such as rabbitmq, require that the ip address they\nare configured to listen on resolves to a hostname with the same\nip. Before this patch there were two /etc/hosts entries for the\nhostname of each container, 127.0.1.1 and the container mgmt\nnetwork address.\n\nThis patch ensures that the /etc/hosts file is unambiguous and\nalways resolves the container hostname to the mgmt network ip\naddress.\n\nChange-Id: I5c9bf4cd0a3a416447f6f1797df4657402a64382\n'}, {'number': 2, 'created': '2019-07-14 08:22:16.000000000', 'files': ['templates/openstack-host-hostfile-setup.sh.j2', 'tests/test.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/a71523f7c361e2a2406cec38d572be23e826f664', 'message': 'Do not add /etc/hosts entry for 127.0.1.1\n\nThis patch removes a task which adds an entry to /etc/hosts for\nthe hostname / 127.0.1.1.\n\nSome services, such as rabbitmq, require that the ip address they\nare configured to listen on resolves to a hostname with the same\nip. Before this patch there were two /etc/hosts entries for the\nhostname of each host, 127.0.1.1 and the mgmt network address.\n\nThis patch ensures that the /etc/hosts file is unambiguous and\nalways resolves the hostname to the mgmt network ip address.\n\nChange-Id: I5c9bf4cd0a3a416447f6f1797df4657402a64382\n'}]",0,670706,a71523f7c361e2a2406cec38d572be23e826f664,10,3,2,25023,,,0,"Do not add /etc/hosts entry for 127.0.1.1

This patch removes a task which adds an entry to /etc/hosts for
the hostname / 127.0.1.1.

Some services, such as rabbitmq, require that the ip address they
are configured to listen on resolves to a hostname with the same
ip. Before this patch there were two /etc/hosts entries for the
hostname of each host, 127.0.1.1 and the mgmt network address.

This patch ensures that the /etc/hosts file is unambiguous and
always resolves the hostname to the mgmt network ip address.

Change-Id: I5c9bf4cd0a3a416447f6f1797df4657402a64382
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/06/670706/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/openstack-host-hostfile-setup.sh.j2'],1,1e1e6503d08c4489e331efa791ebb5da4d842931,bind-to-mgmt,,"{% raw -%} {% set host_rfc_1034_1035_name = inventory_hostname|replace('_', '-') %} host_update ""{{ ansible_hostname|default(host_rfc_1034_1035_name) }}"" \ ""{{ host_rfc_1034_1035_name }}"" \ ""{{ inventory_hostname }}"" \ ""127.0.1.1"" \ ""{{ openstack_domain }}"" {% endraw %} ",0,9
openstack%2Fcinder~master~Id935a52232bc1ed22b457fc1227dcc4e8ec2babf,openstack/cinder,master,Id935a52232bc1ed22b457fc1227dcc4e8ec2babf,Update api-ref location,MERGED,2019-07-22 16:28:14.000000000,2019-07-23 09:10:35.000000000,2019-07-23 09:10:35.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-07-22 16:28:14.000000000', 'files': ['doc/source/index.rst', 'cinder/api/openstack/rest_api_version_history.rst', 'doc/source/configuration/block-storage/drivers/dell-emc-vnx-driver.rst', 'doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0acf95c101c8599f795eea82f1934fb972ce9180', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Id935a52232bc1ed22b457fc1227dcc4e8ec2babf\n""}]",0,672087,0acf95c101c8599f795eea82f1934fb972ce9180,27,23,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Id935a52232bc1ed22b457fc1227dcc4e8ec2babf
",git fetch https://review.opendev.org/openstack/cinder refs/changes/87/672087/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'cinder/api/openstack/rest_api_version_history.rst', 'doc/source/configuration/block-storage/drivers/dell-emc-vnx-driver.rst', 'doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst']",4,0acf95c101c8599f795eea82f1934fb972ce9180,retire-api-site,https://docs.openstack.org/api-ref/block-storage/v2/?expanded=force-detach-volume-detail#force-detach-volume,https://developer.openstack.org/api-ref/block-storage/v2/?expanded=force-detach-volume-detail#force-detach-volume,6,6
openstack%2Fopenstack-ansible-os_keystone~master~Ic2e3bc66161217b2884001018a706dbe2187c498,openstack/openstack-ansible-os_keystone,master,Ic2e3bc66161217b2884001018a706dbe2187c498,Remove nginx default conf,MERGED,2019-07-22 13:20:31.000000000,2019-07-23 09:00:29.000000000,2019-07-23 09:00:28.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-22 13:20:31.000000000', 'files': ['tasks/keystone_nginx.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/46f3456cf17c728fc9e7acee538fe82f9d14c4b3', 'message': 'Remove nginx default conf\n\nThis patch make sure Default.conf from nginx\nis remove as it causes socket conflict when\nwe deploy it on metal. Also, we remove the\ntask created by kevin for Q -> S deployments\nas it is not required to S -> T upgrades.\n\nChange-Id: Ic2e3bc66161217b2884001018a706dbe2187c498\n'}]",0,672040,46f3456cf17c728fc9e7acee538fe82f9d14c4b3,15,4,1,28008,,,0,"Remove nginx default conf

This patch make sure Default.conf from nginx
is remove as it causes socket conflict when
we deploy it on metal. Also, we remove the
task created by kevin for Q -> S deployments
as it is not required to S -> T upgrades.

Change-Id: Ic2e3bc66161217b2884001018a706dbe2187c498
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/40/672040/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/keystone_nginx.yml'],1,46f3456cf17c728fc9e7acee538fe82f9d14c4b3,,- name: Remove default nginx config file: path: /etc/nginx/conf.d/default.conf,"# TODO(cloudnull): # This is to cater for Q-R, R-S upgrades and can be removed in T - name: Remove legacy nginx config file: path: /etc/nginx/sites-enabled/keystone-wsgi-admin.conf",2,4
openstack%2Fkolla~stable%2Fstein~I527aba3635ef82e2d2a88ee7f5250bf03e420800,openstack/kolla,stable/stein,I527aba3635ef82e2d2a88ee7f5250bf03e420800,Remove Oracle Linux stuff in CI code,ABANDONED,2019-06-28 06:32:44.000000000,2019-07-23 08:42:53.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-28 06:32:44.000000000', 'files': ['tests/playbooks/run.yml', 'tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/848a089485036b100fbfce817fc5e9ca4f4b0c29', 'message': 'Remove Oracle Linux stuff in CI code\n\nOracle Linux is no longer tested via CI after [1].\nThis patch removes OL support from Zuul files.\n\n[1] https://review.opendev.org/664217\n\nChange-Id: I527aba3635ef82e2d2a88ee7f5250bf03e420800\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit ccabadc342477b3c16b11ae52e0194c7916966c2)\n'}]",0,668094,848a089485036b100fbfce817fc5e9ca4f4b0c29,4,2,1,24072,,,0,"Remove Oracle Linux stuff in CI code

Oracle Linux is no longer tested via CI after [1].
This patch removes OL support from Zuul files.

[1] https://review.opendev.org/664217

Change-Id: I527aba3635ef82e2d2a88ee7f5250bf03e420800
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit ccabadc342477b3c16b11ae52e0194c7916966c2)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/94/668094/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/run.yml', 'tests/templates/template_overrides.j2']",2,848a089485036b100fbfce817fc5e9ca4f4b0c29,ci-remove-ol-overrides-stable/stein,,"{% elif base_distro == 'oraclelinux' %} {% endraw %} RUN sed -i -e ""s|^baseurl=https://yum$ociregion.oracle.com/repo/OracleLinux|baseurl={{ nodepool_oraclelinux_proxy }}|"" \ /etc/yum.repos.d/oracle-linux-ol7.repo {% raw %}{% elif base_distro == ""oraclelinux"" %} {% endraw %} RUN sed -i -e ""/^mirrorlist/d"" \ -e ""/^metalink/d"" \ -e ""s|^#baseurl=http://mirror.centos.org|baseurl=http://{{ nodepool_mirror_host }}|g"" \ -e ""s|^#baseurl=http://download.fedoraproject.org/pub|baseurl=http://{{ nodepool_mirror_host }}|g"" \ -e ""s|^baseurl=http://mirror.centos.org|baseurl=http://{{ nodepool_mirror_host }}|g"" \ -e ""s|^baseurl=https://packages.elastic.co|baseurl={{ nodepool_elastic_proxy }}|g"" \ -e ""s|^baseurl=https://packagecloud.io/grafana|baseurl={{ nodepool_grafana_proxy }}|g"" \ -e ""s|^baseurl=https://trunk.rdoproject.org|baseurl=http://{{ nodepool_rdo_proxy }}|g"" \ -e ""s|^baseurl=https://cbs.centos.org/repos|baseurl={{ nodepool_cbs_centos_proxy }}|g"" \ -e ""s|https://repo.percona.com|{{ nodepool_percona_proxy }}|g"" \ /etc/yum.repos.d/*.repo {% raw %}",0,24
openstack%2Fnetworking-generic-switch~master~I19d67931695d795968c0d9e341a6ef959bfc4818,openstack/networking-generic-switch,master,I19d67931695d795968c0d9e341a6ef959bfc4818,Remove transitional single argument del_network support,MERGED,2019-07-15 14:04:35.000000000,2019-07-23 08:32:46.000000000,2019-07-23 08:32:46.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-15 14:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/61d17fe02e93b9333941699a08007e9aecbe2ca0', 'message': 'Remove transitional single argument del_network support\n\nIn If1257fad47d05016dc59a8cfc60f5d2d22be420c, the del_network device\nmethod was switched from accepting a single segmentation ID argument to\nalso accepting the network ID. Transitional support was added for out of\ntree device drivers which have not switched. This has now been removed.\n\nChange-Id: I19d67931695d795968c0d9e341a6ef959bfc4818\nStory: 2006221\nTask: 35819\n'}, {'number': 2, 'created': '2019-07-16 07:56:05.000000000', 'files': ['networking_generic_switch/tests/unit/test_generic_switch_mech.py', 'releasenotes/notes/remove-del_network-transitional-2f5742f7cafa2276.yaml', 'networking_generic_switch/generic_switch_mech.py'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/befae015bcc05c303e0f9fe4e0e25edc435e6732', 'message': 'Remove transitional single argument del_network support\n\nIn If1257fad47d05016dc59a8cfc60f5d2d22be420c, the del_network device\nmethod was switched from accepting a single segmentation ID argument to\nalso accepting the network ID. Transitional support was added for out of\ntree device drivers which have not switched. This has now been removed.\n\nChange-Id: I19d67931695d795968c0d9e341a6ef959bfc4818\nStory: 2006221\nTask: 35819\n'}]",3,670844,befae015bcc05c303e0f9fe4e0e25edc435e6732,16,4,2,14826,,,0,"Remove transitional single argument del_network support

In If1257fad47d05016dc59a8cfc60f5d2d22be420c, the del_network device
method was switched from accepting a single segmentation ID argument to
also accepting the network ID. Transitional support was added for out of
tree device drivers which have not switched. This has now been removed.

Change-Id: I19d67931695d795968c0d9e341a6ef959bfc4818
Story: 2006221
Task: 35819
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/44/670844/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_generic_switch/tests/unit/test_generic_switch_mech.py', 'releasenotes/notes/remove-del_network-transitional-2f5742f7cafa2276.yaml', 'networking_generic_switch/generic_switch_mech.py']",3,61d17fe02e93b9333941699a08007e9aecbe2ca0,story/2006222," switch.del_network(segmentation_id, network['id'])"," self.warned_del_network = False # NOTE(mgoddard): The del_network method was modified to # accept the network ID. The switch object may still be # implementing the old interface, so retry on a TypeError. try: switch.del_network(segmentation_id, network['id']) except TypeError: if not self.warned_del_network: msg = ( 'The del_network device method should accept ' 'the network ID. Falling back to just the ' 'segmentation ID for %(device)s. This ' 'transitional support will be removed in the ' 'Rocky release') LOG.warn(msg, {'device': switch_name}) self.warned_del_network = True switch.del_network(segmentation_id)",7,37
openstack%2Foctavia~master~I9f617159eddc8af532403e47c325048d92cc9ade,openstack/octavia,master,I9f617159eddc8af532403e47c325048d92cc9ade,Update api-ref location,MERGED,2019-07-22 16:49:36.000000000,2019-07-23 08:25:38.000000000,2019-07-23 08:25:38.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 16:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8331e076fdbc034cbb1ecdcb7acfc348e462b7df', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I9f617159eddc8af532403e47c325048d92cc9ade\n""}, {'number': 2, 'created': '2019-07-22 17:18:49.000000000', 'files': ['doc/source/user/feature-classification/feature-matrix-member.ini', 'specs/version1.0/flavors.rst', 'doc/source/admin/index.rst', 'doc/source/admin/flavors.rst', 'doc/source/user/index.rst', 'doc/source/user/guides/basic-cookbook.rst', 'doc/source/contributor/guides/providers.rst', 'doc/source/user/guides/l7.rst', 'doc/source/user/feature-classification/feature-matrix-l7policy.ini', 'doc/source/user/feature-classification/feature-matrix-lb.ini', 'specs/version0.9/stats_api.rst', 'doc/source/user/feature-classification/feature-matrix-pool.ini', 'doc/source/index.rst', 'doc/source/user/feature-classification/index.rst', 'doc/source/user/feature-classification/feature-matrix-healthmonitor.ini', 'doc/source/user/feature-classification/feature-matrix-l7rule.ini', 'doc/source/user/feature-classification/feature-matrix-listener.ini', 'doc/source/admin/guides/operator-maintenance.rst', 'specs/version1.1/enable-provider-driver.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/bc19e07923f25c34243491aedc177df6c4b962fe', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I9f617159eddc8af532403e47c325048d92cc9ade\n""}]",0,672102,bc19e07923f25c34243491aedc177df6c4b962fe,9,4,2,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I9f617159eddc8af532403e47c325048d92cc9ade
",git fetch https://review.opendev.org/openstack/octavia refs/changes/02/672102/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/feature-classification/feature-matrix-member.ini', 'releasenotes/notes/octavia-v2-api-c32a62b37c2c8f6f.yaml', 'specs/version1.0/flavors.rst', 'doc/source/admin/index.rst', 'doc/source/admin/flavors.rst', 'doc/source/user/index.rst', 'doc/source/user/guides/basic-cookbook.rst', 'doc/source/contributor/guides/providers.rst', 'doc/source/user/guides/l7.rst', 'doc/source/user/feature-classification/feature-matrix-l7policy.ini', 'doc/source/user/feature-classification/feature-matrix-lb.ini', 'specs/version0.9/stats_api.rst', 'doc/source/user/feature-classification/feature-matrix-pool.ini', 'doc/source/index.rst', 'doc/source/user/feature-classification/index.rst', 'releasenotes/notes/add_API_reference-81d84d0c8598b764.yaml', 'releasenotes/notes/service-type-73efc939e48d5858.yaml', 'doc/source/user/feature-classification/feature-matrix-healthmonitor.ini', 'doc/source/user/feature-classification/feature-matrix-l7rule.ini', 'doc/source/user/feature-classification/feature-matrix-listener.ini', 'doc/source/admin/guides/operator-maintenance.rst', 'specs/version1.1/enable-provider-driver.rst', 'tox.ini']",23,8331e076fdbc034cbb1ecdcb7acfc348e462b7df,retire-api-site,# the API Ref to docs.openstack.org.,# the API Ref to developer.openstack.org.,42,42
openstack%2Fcharm-neutron-dynamic-routing~master~Ic24ebab33b3238775f0c7e5e9d885f2c72bf6e4a,openstack/charm-neutron-dynamic-routing,master,Ic24ebab33b3238775f0c7e5e9d885f2c72bf6e4a,Update functional test definitions,MERGED,2019-07-17 13:32:43.000000000,2019-07-23 08:23:25.000000000,2019-07-23 08:23:24.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-17 13:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/e23a99c1d533bc2e2dd5f2ab619cc705ee623dfa', 'message': 'Update functional test definitions\n\nChange-Id: Ic24ebab33b3238775f0c7e5e9d885f2c72bf6e4a\n'}, {'number': 2, 'created': '2019-07-22 12:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/38a6ebf148988f97b394579b6f965174783eb5ec', 'message': 'Update functional test definitions\n\nChange-Id: Ic24ebab33b3238775f0c7e5e9d885f2c72bf6e4a\n'}, {'number': 3, 'created': '2019-07-22 20:10:40.000000000', 'files': ['src/tests/bundles/cosmic-rocky-functional.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/fb554964f24a4c6bc55b551bb4c72e80f0c08d96', 'message': 'Update functional test definitions\n\nChange-Id: Ic24ebab33b3238775f0c7e5e9d885f2c72bf6e4a\n'}]",0,671286,fb554964f24a4c6bc55b551bb4c72e80f0c08d96,27,6,3,13686,,,0,"Update functional test definitions

Change-Id: Ic24ebab33b3238775f0c7e5e9d885f2c72bf6e4a
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/86/671286/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/cosmic-rocky-functional.yaml', 'src/tests/tests.yaml']",2,e23a99c1d533bc2e2dd5f2ab619cc705ee623dfa,update-func-defs,- bionic-stein-functional,- cosmic-rocky-functional- bionic-rocky-functional,1,52
openstack%2Fneutron-lbaas-dashboard~stable%2Frocky~Ie7aa9f2806b7f6d1fdc60fb94a515b99bd7fcc76,openstack/neutron-lbaas-dashboard,stable/rocky,Ie7aa9f2806b7f6d1fdc60fb94a515b99bd7fcc76,Update tox.ini for new upper constraints strategy,MERGED,2019-06-28 23:30:31.000000000,2019-07-23 08:19:48.000000000,2019-07-23 08:19:48.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 23:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas-dashboard/commit/524c4aa259c72eef03879f95610a45c4e7c91334', 'message': 'Update tox.ini for new upper constraints strategy\n\nThe requirements team has defined a new strategy for handling\nupper constraints[1]. This patch applies those strategies to\nneutron-lbaas-dashboard.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/ \\\n    2019-May/006478.html\n\nChange-Id: Ie7aa9f2806b7f6d1fdc60fb94a515b99bd7fcc76\n'}, {'number': 2, 'created': '2019-06-29 00:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas-dashboard/commit/c55c199b24cc927c9cca46e441553a78ce8e04f1', 'message': 'Update tox.ini for new upper constraints strategy\n\nThe requirements team has defined a new strategy for handling\nupper constraints[1]. This patch applies those strategies to\nneutron-lbaas-dashboard.\nThis also pins the nodejs jobs to xenial.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/ \\\n    2019-May/006478.html\n\nChange-Id: Ie7aa9f2806b7f6d1fdc60fb94a515b99bd7fcc76\n'}, {'number': 3, 'created': '2019-06-29 00:38:48.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas-dashboard/commit/66c98f7ad1a60d8afe1b0dcccd39b7db88ce2ca8', 'message': 'Update tox.ini for new upper constraints strategy\n\nThe requirements team has defined a new strategy for handling\nupper constraints[1]. This patch applies those strategies to\nneutron-lbaas-dashboard.\nThis also pins the nodejs jobs to xenial.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/ \\\n    2019-May/006478.html\n\nChange-Id: Ie7aa9f2806b7f6d1fdc60fb94a515b99bd7fcc76\n'}]",0,668270,66c98f7ad1a60d8afe1b0dcccd39b7db88ce2ca8,11,3,3,11628,,,0,"Update tox.ini for new upper constraints strategy

The requirements team has defined a new strategy for handling
upper constraints[1]. This patch applies those strategies to
neutron-lbaas-dashboard.
This also pins the nodejs jobs to xenial.

[1] http://lists.openstack.org/pipermail/openstack-discuss/ \
    2019-May/006478.html

Change-Id: Ie7aa9f2806b7f6d1fdc60fb94a515b99bd7fcc76
",git fetch https://review.opendev.org/openstack/neutron-lbaas-dashboard refs/changes/70/668270/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,524c4aa259c72eef03879f95610a45c4e7c91334,constraints-updates,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/rocky} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/rocky},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/rocky} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/rocky},2,2
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Frocky~Ibe4112ef947513439643025ddf0fd543b28aba70,openstack/openstack-ansible-lxc_hosts,stable/rocky,Ibe4112ef947513439643025ddf0fd543b28aba70,Fix copying apt keys from host to containers,MERGED,2019-07-10 16:43:15.000000000,2019-07-23 08:19:20.000000000,2019-07-23 08:19:20.000000000,"[{'_account_id': 1004}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-10 16:43:15.000000000', 'files': ['vars/ubuntu-18.04.yml', 'vars/ubuntu-16.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/70978b16fe5b66504594c22a43f5d463541635d8', 'message': 'Fix copying apt keys from host to containers\n\nWithout the trailing slash the keys had an extra level of directories\nas follows: /etc/apt/trusted.gpg.d/trusted.gpg.d/<keys>\n\nChange-Id: Ibe4112ef947513439643025ddf0fd543b28aba70\n(cherry picked from commit 9fd34ada152889c06c744ea5b4928c3554c9b4c5)\n'}]",0,670127,70978b16fe5b66504594c22a43f5d463541635d8,9,5,1,25023,,,0,"Fix copying apt keys from host to containers

Without the trailing slash the keys had an extra level of directories
as follows: /etc/apt/trusted.gpg.d/trusted.gpg.d/<keys>

Change-Id: Ibe4112ef947513439643025ddf0fd543b28aba70
(cherry picked from commit 9fd34ada152889c06c744ea5b4928c3554c9b4c5)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/27/670127/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu-18.04.yml', 'vars/ubuntu-16.04.yml']",2,70978b16fe5b66504594c22a43f5d463541635d8,, - /etc/apt/trusted.gpg.d/, - /etc/apt/trusted.gpg.d,2,2
openstack%2Fneutron-lbaas-dashboard~stable%2Fqueens~I970ff6a4f5cbb7ad1d2172285a5d84242e2c4ecf,openstack/neutron-lbaas-dashboard,stable/queens,I970ff6a4f5cbb7ad1d2172285a5d84242e2c4ecf,Update tox.ini for new upper constraints strategy,MERGED,2019-06-28 23:32:18.000000000,2019-07-23 08:17:50.000000000,2019-07-23 08:17:49.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 23:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas-dashboard/commit/07e19658ac7f927226e2234ce0bda0b95fbeddda', 'message': 'Update tox.ini for new upper constraints strategy\n\nThe requirements team has defined a new strategy for handling\nupper constraints[1]. This patch applies those strategies to\nneutron-lbaas-dashboard.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/ \\\n    2019-May/006478.html\n\nChange-Id: I970ff6a4f5cbb7ad1d2172285a5d84242e2c4ecf\n'}, {'number': 2, 'created': '2019-06-29 00:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas-dashboard/commit/0ce17bc02b9a11fb37f727c37f1035b6476a126b', 'message': 'Update tox.ini for new upper constraints strategy\n\nThe requirements team has defined a new strategy for handling\nupper constraints[1]. This patch applies those strategies to\nneutron-lbaas-dashboard.\nThis also pins the nodejs jobs to xenial.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/ \\\n    2019-May/006478.html\n\nChange-Id: I970ff6a4f5cbb7ad1d2172285a5d84242e2c4ecf\n'}, {'number': 3, 'created': '2019-06-29 00:39:18.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas-dashboard/commit/ccf86210e5bbb92cddbca05b921cc370b17bc102', 'message': 'Update tox.ini for new upper constraints strategy\n\nThe requirements team has defined a new strategy for handling\nupper constraints[1]. This patch applies those strategies to\nneutron-lbaas-dashboard.\nThis also pins the nodejs jobs to xenial.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/ \\\n    2019-May/006478.html\n\nChange-Id: I970ff6a4f5cbb7ad1d2172285a5d84242e2c4ecf\n'}]",0,668271,ccf86210e5bbb92cddbca05b921cc370b17bc102,11,3,3,11628,,,0,"Update tox.ini for new upper constraints strategy

The requirements team has defined a new strategy for handling
upper constraints[1]. This patch applies those strategies to
neutron-lbaas-dashboard.
This also pins the nodejs jobs to xenial.

[1] http://lists.openstack.org/pipermail/openstack-discuss/ \
    2019-May/006478.html

Change-Id: I970ff6a4f5cbb7ad1d2172285a5d84242e2c4ecf
",git fetch https://review.opendev.org/openstack/neutron-lbaas-dashboard refs/changes/71/668271/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,07e19658ac7f927226e2234ce0bda0b95fbeddda,constraints-updates,install_command = pip install {opts} {packages}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/queens} -r{toxinidir}/requirements.txt,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens} {opts} {packages}deps = -r{toxinidir}/requirements.txt,3,2
openstack%2Foctavia-dashboard~stable%2Frocky~I9b0591734b8fa8125096748ff5dd739588b12172,openstack/octavia-dashboard,stable/rocky,I9b0591734b8fa8125096748ff5dd739588b12172,Update tox.ini for new upper constraints strategy,MERGED,2019-06-28 22:57:03.000000000,2019-07-23 08:16:28.000000000,2019-07-23 08:16:28.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-06-28 22:57:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/da110314aff384180e4a9abd9c69ca5eb0eabc54', 'message': 'Update tox.ini for new upper constraints strategy\n\nThe requirements team has defined a new strategy for handling\nupper constraints[1]. This patch applies those strategies to\nOctavia dashboard.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/ \\\n    2019-May/006478.html\n\nChange-Id: I9b0591734b8fa8125096748ff5dd739588b12172\n'}]",2,668260,da110314aff384180e4a9abd9c69ca5eb0eabc54,11,6,1,11628,,,0,"Update tox.ini for new upper constraints strategy

The requirements team has defined a new strategy for handling
upper constraints[1]. This patch applies those strategies to
Octavia dashboard.

[1] http://lists.openstack.org/pipermail/openstack-discuss/ \
    2019-May/006478.html

Change-Id: I9b0591734b8fa8125096748ff5dd739588b12172
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/60/668260/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,da110314aff384180e4a9abd9c69ca5eb0eabc54,constraints-updates,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/rocky} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/rocky} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/rocky},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/rocky} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/rocky} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/rocky},3,3
openstack%2Fpython-octaviaclient~master~Ic9e1215700cbbb074b25db4d5aaf61eeac2c6789,openstack/python-octaviaclient,master,Ic9e1215700cbbb074b25db4d5aaf61eeac2c6789,Add --force for loadbalancer delete,ABANDONED,2019-04-16 09:45:00.000000000,2019-07-23 08:15:21.000000000,,"[{'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-04-16 09:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/06629384644ad7ea05478f41c794b2885bf02ffd', 'message': 'Add --force for loadbalancer delete\n\nCurrently it is possible to have stale loadbalancers\nin PENDING status in the cloud.\nThe only way for cloud administrator to clear these loadbalancers\n- manually change its state in db for ERROR and then delete them.\n\nProposed change add --force option for delete command, which\nwill allow user with admin rights delete loadbalancer in\nPENDING state if was not updated for a rather long time.\n(variable load_balancer_expiry_age is used).\n\nChange-Id: Ic9e1215700cbbb074b25db4d5aaf61eeac2c6789\nStory: 2005459\nTask: 30528\n'}, {'number': 2, 'created': '2019-04-16 13:15:36.000000000', 'files': ['octaviaclient/osc/v2/load_balancer.py', 'octaviaclient/tests/unit/osc/v2/test_load_balancer.py', 'releasenotes/notes/add-force-delete-for-loadbalancer-36febc395f56f590.yaml', 'octaviaclient/osc/v2/utils.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/edcd9c9ee026d2550ea906d2e1cc276d895f142c', 'message': 'Add --force for loadbalancer delete\n\nCurrently it is possible to have stale loadbalancers\nin PENDING status in the cloud.\nThe only way for cloud administrator to clear these loadbalancers\n- manually change its state in db for ERROR and then delete them.\n\nProposed change add --force option for delete command, which\nwill allow user with admin rights delete loadbalancer in\nPENDING state if was not updated for a rather long time.\n(variable load_balancer_expiry_age is used).\n\nChange-Id: Ic9e1215700cbbb074b25db4d5aaf61eeac2c6789\nStory: 2005459\nTask: 30528\n'}]",0,652957,edcd9c9ee026d2550ea906d2e1cc276d895f142c,8,5,2,7249,,,0,"Add --force for loadbalancer delete

Currently it is possible to have stale loadbalancers
in PENDING status in the cloud.
The only way for cloud administrator to clear these loadbalancers
- manually change its state in db for ERROR and then delete them.

Proposed change add --force option for delete command, which
will allow user with admin rights delete loadbalancer in
PENDING state if was not updated for a rather long time.
(variable load_balancer_expiry_age is used).

Change-Id: Ic9e1215700cbbb074b25db4d5aaf61eeac2c6789
Story: 2005459
Task: 30528
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/57/652957/1 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/osc/v2/load_balancer.py', 'octaviaclient/osc/v2/utils.py']",2,06629384644ad7ea05478f41c794b2885bf02ffd,652957," 'force': ('force', lambda x: True),",,9,0
openstack%2Foctavia~master~I5c86a343e57ca6f09c859a04b533c2114dcb9ee8,openstack/octavia,master,I5c86a343e57ca6f09c859a04b533c2114dcb9ee8,Add force for loadbalancer delete,ABANDONED,2019-04-16 09:30:35.000000000,2019-07-23 08:15:09.000000000,,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23871}]","[{'number': 1, 'created': '2019-04-16 09:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a1351ee1e178ed58ee308abcbab05b795266d88a', 'message': 'Add force for loadbalancer delete\n\nCurrently it is possible to have stale loadbalancers\nin PENDING status in the cloud.\nThe only way for cloud administrator to clear these loadbalancers\n- manually change its state in db for ERROR and then delete them.\n\nProposed change add --force option for delete command, which\nwill allow user with admin rights delete loadbalancer in\nPENDING state if was not updated for a rather long time.\n(variable load_balancer_expiry_age is used).\n\nStory: 2005459\nTask: 30527\n\nChange-Id: I5c86a343e57ca6f09c859a04b533c2114dcb9ee8\n'}, {'number': 2, 'created': '2019-04-16 11:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0005eeb4c41aa52640104b64004826103b9e6c72', 'message': 'Add force for loadbalancer delete\n\nCurrently it is possible to have stale loadbalancers\nin PENDING status in the cloud.\nThe only way for cloud administrator to clear these loadbalancers\n- manually change its state in db for ERROR and then delete them.\n\nProposed change add --force option for delete command, which\nwill allow user with admin rights delete loadbalancer in\nPENDING state if was not updated for a rather long time.\n(variable load_balancer_expiry_age is used).\n\nStory: 2005459\nTask: 30527\n\nChange-Id: I5c86a343e57ca6f09c859a04b533c2114dcb9ee8\n'}, {'number': 3, 'created': '2019-04-16 11:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/99f2370a996b4509f9b2dc79bcc13a6fd4eeeefc', 'message': 'Add force for loadbalancer delete\n\nCurrently it is possible to have stale loadbalancers\nin PENDING status in the cloud.\nThe only way for cloud administrator to clear these loadbalancers\n- manually change its state in db for ERROR and then delete them.\n\nProposed change add --force option for delete command, which\nwill allow user with admin rights delete loadbalancer in\nPENDING state if was not updated for a rather long time.\n(variable load_balancer_expiry_age is used).\n\nStory: 2005459\nTask: 30527\n\nChange-Id: I5c86a343e57ca6f09c859a04b533c2114dcb9ee8\n'}, {'number': 4, 'created': '2019-04-16 11:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/762a2a15c3cea5aa5ea4f03091ee0c8dc8aa2302', 'message': 'Add force for loadbalancer delete\n\nCurrently it is possible to have stale loadbalancers\nin PENDING status in the cloud.\nThe only way for cloud administrator to clear these loadbalancers\n- manually change its state in db for ERROR and then delete them.\n\nProposed change add --force option for delete command, which\nwill allow user with admin rights delete loadbalancer in\nPENDING state if was not updated for a rather long time.\n(variable load_balancer_expiry_age is used).\n\nStory: 2005459\nTask: 30527\n\nChange-Id: I5c86a343e57ca6f09c859a04b533c2114dcb9ee8\n'}, {'number': 5, 'created': '2019-04-16 11:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/28d5bcd937b0e0fe825ab4679bf002a5f64fe9b1', 'message': 'Add force for loadbalancer delete\n\nCurrently it is possible to have stale loadbalancers\nin PENDING status in the cloud.\nThe only way for cloud administrator to clear these loadbalancers\n- manually change its state in db for ERROR and then delete them.\n\nProposed change add --force option for delete command, which\nwill allow user with admin rights delete loadbalancer in\nPENDING state if was not updated for a rather long time.\n(variable load_balancer_expiry_age is used).\n\nStory: 2005459\nTask: 30527\n\nChange-Id: I5c86a343e57ca6f09c859a04b533c2114dcb9ee8\n'}, {'number': 6, 'created': '2019-04-17 07:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/999ebea713b92b855c8216095b5ef33c8c18627f', 'message': 'Add force for loadbalancer delete\n\nCurrently it is possible to have stale loadbalancers\nin PENDING status in the cloud.\nThe only way for cloud administrator to clear these loadbalancers\n- manually change its state in db for ERROR and then delete them.\n\nProposed change add --force option for delete command, which\nwill allow user with admin rights delete loadbalancer in\nPENDING state if was not updated for a rather long time.\n(variable loadbalancer_pending_timeout intoduced).\n\nStory: 2005459\nTask: 30527\n\nChange-Id: I5c86a343e57ca6f09c859a04b533c2114dcb9ee8\n'}, {'number': 7, 'created': '2019-04-17 11:05:08.000000000', 'files': ['api-ref/source/parameters.yaml', 'octavia/common/config.py', 'octavia/api/v2/controllers/load_balancer.py', 'api-ref/source/v2/loadbalancer.inc', 'octavia/db/repositories.py', 'octavia/tests/functional/api/test_root_controller.py', 'octavia/api/root_controller.py', 'releasenotes/notes/add-force-delete-for-loadbalancer-36163105fa6ba2bd.yaml', 'octavia/tests/functional/api/v2/test_load_balancer.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f63ce003e8f41b4ab71a28bd9c0c8a6f949b4ac0', 'message': 'Add force for loadbalancer delete\n\nCurrently it is possible to have stale loadbalancers\nin PENDING status in the cloud.\nThe only way for cloud administrator to clear these loadbalancers\n- manually change its state in db for ERROR and then delete them.\n\nProposed change add --force option for delete command, which\nwill allow user with admin rights delete loadbalancer in\nPENDING state if was not updated for a rather long time.\n(variable loadbalancer_pending_timeout intoduced).\n\nStory: 2005459\nTask: 30527\n\nChange-Id: I5c86a343e57ca6f09c859a04b533c2114dcb9ee8\n'}]",8,652953,f63ce003e8f41b4ab71a28bd9c0c8a6f949b4ac0,19,6,7,7249,,,0,"Add force for loadbalancer delete

Currently it is possible to have stale loadbalancers
in PENDING status in the cloud.
The only way for cloud administrator to clear these loadbalancers
- manually change its state in db for ERROR and then delete them.

Proposed change add --force option for delete command, which
will allow user with admin rights delete loadbalancer in
PENDING state if was not updated for a rather long time.
(variable loadbalancer_pending_timeout intoduced).

Story: 2005459
Task: 30527

Change-Id: I5c86a343e57ca6f09c859a04b533c2114dcb9ee8
",git fetch https://review.opendev.org/openstack/octavia refs/changes/53/652953/6 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v2/controllers/load_balancer.py', 'octavia/db/repositories.py', 'octavia/tests/functional/api/v2/test_load_balancer.py']",3,a1351ee1e178ed58ee308abcbab05b795266d88a,652953," def test_delete_pending_create_force_admin(self): project_id = uuidutils.generate_uuid() lb = self.create_load_balancer(uuidutils.generate_uuid(), name='lb1', project_id=project_id, description='desc1', admin_state_up=False) lb_dict = lb.get(self.root_tag) self.conf = self.useFixture(oslo_fixture.Config(cfg.CONF)) self.conf.config(group='house_keeping', load_balancer_expiry_age=0) self.delete(self.LB_PATH.format(lb_id=lb_dict.get('id')), params={""force"": ""true""}, status=204) def test_delete_pending_create_force_admin_create_recetly(self): project_id = uuidutils.generate_uuid() lb = self.create_load_balancer(uuidutils.generate_uuid(), name='lb1', project_id=project_id, description='desc1', admin_state_up=False) lb_dict = lb.get(self.root_tag) self.conf = self.useFixture(oslo_fixture.Config(cfg.CONF)) self.delete(self.LB_PATH.format(lb_id=lb_dict.get('id')), params={""force"": ""true""}, status=409) def test_delete_pending_create_force_non_admin(self): project_id = uuidutils.generate_uuid() lb = self.create_load_balancer(uuidutils.generate_uuid(), name='lb1', project_id=project_id, description='desc1', admin_state_up=False) lb_dict = lb.get(self.root_tag) self.conf = self.useFixture(oslo_fixture.Config(cfg.CONF)) self.conf.config(group='api_settings', auth_strategy=constants.TESTING) with mock.patch.object(octavia.common.context.Context, 'project_id', project_id): override_credentials = { 'service_user_id': None, 'user_domain_id': None, 'is_admin_project': True, 'service_project_domain_id': None, 'service_project_id': None, 'roles': ['load-balancer_member'], 'user_id': None, 'is_admin': False, 'service_user_domain_id': None, 'project_domain_id': None, 'service_roles': [], 'project_id': project_id} with mock.patch( ""oslo_context.context.RequestContext.to_policy_values"", return_value=override_credentials): self.delete(self.LB_PATH.format(lb_id=lb_dict.get('id')), params={""force"": ""true""}, status=409) def test_delete_pending_update_force(self): project_id = uuidutils.generate_uuid() lb = self.create_load_balancer(uuidutils.generate_uuid(), name='lb1', project_id=project_id, description='desc1', admin_state_up=False) lb_json = self._build_body({'name': 'Steve'}) lb_dict = lb.get(self.root_tag) lb = self.set_lb_status(lb_dict.get('id')) self.conf = self.useFixture(oslo_fixture.Config(cfg.CONF)) self.conf.config(group='house_keeping', load_balancer_expiry_age=0) self.put(self.LB_PATH.format(lb_id=lb_dict.get('id')), lb_json) self.delete(self.LB_PATH.format(lb_id=lb_dict.get('id')), params={""force"": ""true""}, status=204) def test_delete_pending_update_force_updated_recently(self): project_id = uuidutils.generate_uuid() lb = self.create_load_balancer(uuidutils.generate_uuid(), name='lb1', project_id=project_id, description='desc1', admin_state_up=False) lb_json = self._build_body({'name': 'Steve'}) lb_dict = lb.get(self.root_tag) lb = self.set_lb_status(lb_dict.get('id')) self.put(self.LB_PATH.format(lb_id=lb_dict.get('id')), lb_json) self.delete(self.LB_PATH.format(lb_id=lb_dict.get('id')), params={""force"": ""true""}, status=409) def test_delete_pending_update_force_non_admin(self): project_id = uuidutils.generate_uuid() lb = self.create_load_balancer(uuidutils.generate_uuid(), name='lb1', project_id=project_id, description='desc1', admin_state_up=False) lb_json = self._build_body({'name': 'Steve'}) lb_dict = lb.get(self.root_tag) lb = self.set_lb_status(lb_dict.get('id')) self.put(self.LB_PATH.format(lb_id=lb_dict.get('id')), lb_json) self.conf = self.useFixture(oslo_fixture.Config(cfg.CONF)) self.conf.config(group='api_settings', auth_strategy=constants.TESTING) with mock.patch.object(octavia.common.context.Context, 'project_id', project_id): override_credentials = { 'service_user_id': None, 'user_domain_id': None, 'is_admin_project': True, 'service_project_domain_id': None, 'service_project_id': None, 'roles': ['load-balancer_member'], 'user_id': None, 'is_admin': False, 'service_user_domain_id': None, 'project_domain_id': None, 'service_roles': [], 'project_id': project_id} with mock.patch( ""oslo_context.context.RequestContext.to_policy_values"", return_value=override_credentials): self.delete(self.LB_PATH.format(lb_id=lb_dict.get('id')), params={""force"": ""true""}, status=409) ",,157,10
openstack%2Fmonasca-agent~master~I1ea64ce2217776658e8139aa041e4e217985dfbb,openstack/monasca-agent,master,I1ea64ce2217776658e8139aa041e4e217985dfbb,Add missing space to log statement,MERGED,2019-07-22 16:55:23.000000000,2019-07-23 08:12:41.000000000,2019-07-23 08:12:41.000000000,"[{'_account_id': 10311}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 16:55:23.000000000', 'files': ['monasca_agent/collector/checks_d/rabbitmq.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/7dca05326d451fccb2c9fc7ae2b85deeb4cf7942', 'message': 'Add missing space to log statement\n\nChange-Id: I1ea64ce2217776658e8139aa041e4e217985dfbb\n'}]",0,672108,7dca05326d451fccb2c9fc7ae2b85deeb4cf7942,8,3,1,15197,,,0,"Add missing space to log statement

Change-Id: I1ea64ce2217776658e8139aa041e4e217985dfbb
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/08/672108/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_agent/collector/checks_d/rabbitmq.py'],1,7dca05326d451fccb2c9fc7ae2b85deeb4cf7942,fix-log," ""Too many %s to fetch. Increase max_detailed_ in the config """," ""Too many %s to fetch. Increase max_detailed_ in the config""",1,1
openstack%2Fopenstack-ansible-lxc_container_create~master~I900bda8031d7b0798f73adf8985e64d4535be769,openstack/openstack-ansible-lxc_container_create,master,I900bda8031d7b0798f73adf8985e64d4535be769,Do not add container /etc/hosts entry for 127.0.1.1,MERGED,2019-07-13 20:32:48.000000000,2019-07-23 08:01:24.000000000,2019-07-23 08:01:23.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-13 20:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/d3c9e58f549fe4a8a0c8fc8ecdb6bfdf57f987af', 'message': 'Do not add contaienr /etc/hosts entry for 127.0.1.1\n\nThis patch removes a task which adds an entry to /etc/hosts for\nthe container hostname / 127.0.1.1.\n\nSome services, such as rabbitmq, require that the ip address they\nare configured to listen on resolves to a hostname with the same\nip. Before this patch there were two /etc/hosts entries for the\nhostname of each container, 127.0.1.1 and the container mgmt\nnetwork address.\n\nThis patch ensures that the /etc/hosts file is unambiguous and\nalways resolves the container hostname to the mgmt network ip\naddress.\n\nChange-Id: I900bda8031d7b0798f73adf8985e64d4535be769\n'}, {'number': 2, 'created': '2019-07-13 20:33:16.000000000', 'files': ['tasks/lxc_container_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/fe13e7729d79d884cc9ad252bf9913268bc81a52', 'message': 'Do not add container /etc/hosts entry for 127.0.1.1\n\nThis patch removes a task which adds an entry to /etc/hosts for\nthe container hostname / 127.0.1.1.\n\nSome services, such as rabbitmq, require that the ip address they\nare configured to listen on resolves to a hostname with the same\nip. Before this patch there were two /etc/hosts entries for the\nhostname of each container, 127.0.1.1 and the container mgmt\nnetwork address.\n\nThis patch ensures that the /etc/hosts file is unambiguous and\nalways resolves the container hostname to the mgmt network ip\naddress.\n\nChange-Id: I900bda8031d7b0798f73adf8985e64d4535be769\n'}]",0,670705,fe13e7729d79d884cc9ad252bf9913268bc81a52,9,3,2,25023,,,0,"Do not add container /etc/hosts entry for 127.0.1.1

This patch removes a task which adds an entry to /etc/hosts for
the container hostname / 127.0.1.1.

Some services, such as rabbitmq, require that the ip address they
are configured to listen on resolves to a hostname with the same
ip. Before this patch there were two /etc/hosts entries for the
hostname of each container, 127.0.1.1 and the container mgmt
network address.

This patch ensures that the /etc/hosts file is unambiguous and
always resolves the container hostname to the mgmt network ip
address.

Change-Id: I900bda8031d7b0798f73adf8985e64d4535be769
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/05/670705/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_container_config.yml'],1,d3c9e58f549fe4a8a0c8fc8ecdb6bfdf57f987af,bind-to-mgmt,,"- name: Create domain config lineinfile: dest: ""/etc/hosts"" regexp: ""^127.0.1.1"" line: ""127.0.1.1 {{ inventory_hostname | replace('_', '-') }}.{{ lxc_container_domain }} {{ inventory_hostname | replace('_', '-') }}"" owner: ""root"" group: ""root"" mode: ""0644"" remote_user: root ",0,10
openstack%2Fmonasca-persister~master~I3756d10198172762dd964d89615c4b7da7b35304,openstack/monasca-persister,master,I3756d10198172762dd964d89615c4b7da7b35304,Disable monasca-tempest-java-influxdb job,MERGED,2019-07-10 16:19:29.000000000,2019-07-23 07:49:44.000000000,2019-07-15 08:57:54.000000000,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2019-07-10 16:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/48599e8ccc26ff8970fbca726338a8e7890568f6', 'message': 'Disable monasca-tempest-java-influxdb job\n\nThe job has been failing for a long time. Java implementation of\nInfluxDB persister is not maintained anymore.\n\nChange-Id: I3756d10198172762dd964d89615c4b7da7b35304\n'}, {'number': 2, 'created': '2019-07-12 07:24:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/e4d3ed17d0d75e1fb36f8e1a23a688d50a0f5fbd', 'message': 'Disable monasca-tempest-java-influxdb job\n\nThe job has been failing for a long time. Java implementation of\nInfluxDB persister is not maintained anymore.\n\nChange-Id: I3756d10198172762dd964d89615c4b7da7b35304\n'}]",0,670116,e4d3ed17d0d75e1fb36f8e1a23a688d50a0f5fbd,18,5,2,16222,,,0,"Disable monasca-tempest-java-influxdb job

The job has been failing for a long time. Java implementation of
InfluxDB persister is not maintained anymore.

Change-Id: I3756d10198172762dd964d89615c4b7da7b35304
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/16/670116/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,48599e8ccc26ff8970fbca726338a8e7890568f6,,, - monasca-tempest-java-influxdb - monasca-tempest-java-influxdb,0,2
openstack%2Fstorlets~master~Ibfadf366375ac1f934cd11794b9b089448098fa8,openstack/storlets,master,Ibfadf366375ac1f934cd11794b9b089448098fa8,Add privilage to install python3-nose,MERGED,2019-07-22 06:33:48.000000000,2019-07-23 07:35:20.000000000,2019-07-23 07:35:19.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 06:33:48.000000000', 'files': ['playbooks/storlets-functional/pre-py3.yaml'], 'web_link': 'https://opendev.org/openstack/storlets/commit/624b525b9254c93433ef76dbe140fc36f0cbf4af', 'message': 'Add privilage to install python3-nose\n\nChange-Id: Ibfadf366375ac1f934cd11794b9b089448098fa8\n'}]",0,671962,624b525b9254c93433ef76dbe140fc36f0cbf4af,6,2,1,4608,,,0,"Add privilage to install python3-nose

Change-Id: Ibfadf366375ac1f934cd11794b9b089448098fa8
",git fetch https://review.opendev.org/openstack/storlets refs/changes/62/671962/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/storlets-functional/pre-py3.yaml'],1,624b525b9254c93433ef76dbe140fc36f0cbf4af,py3, become: yes,,1,0
openstack%2Fstorlets~master~I778e6eaee7632d1ee9eb5a48bd1a3ae1d6c4e25a,openstack/storlets,master,I778e6eaee7632d1ee9eb5a48bd1a3ae1d6c4e25a,py3: Support py3 functional test,MERGED,2019-07-18 05:48:33.000000000,2019-07-23 07:35:19.000000000,2019-07-23 07:35:19.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-18 05:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/ba9c9602ae2ac7aefa5d90d19718946f7f73174d', 'message': 'py3: Support py3 functional test\n\nOpenStack Swift is close to release py3 support so we could run\npy3 fuctional test as non-voting gate. we will fix issues found\nat the gate by the end of year (py2 retirement)\n\nChange-Id: I778e6eaee7632d1ee9eb5a48bd1a3ae1d6c4e25a\n'}, {'number': 2, 'created': '2019-07-18 06:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/e0f38fcbaa73aea0f6c8384093df80965abdf2d2', 'message': 'py3: Support py3 functional test\n\nOpenStack Swift is close to release py3 support so we could run\npy3 fuctional test as non-voting gate. we will fix issues found\nat the gate by the end of year (py2 retirement)\n\nChange-Id: I778e6eaee7632d1ee9eb5a48bd1a3ae1d6c4e25a\n'}, {'number': 3, 'created': '2019-07-18 07:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/0e322cfdcb60dbc73784932c31dd7e73fc1ac2a3', 'message': 'py3: Support py3 functional test\n\nOpenStack Swift is close to release py3 support so we could run\npy3 fuctional test as non-voting gate. we will fix issues found\nat the gate by the end of year (py2 retirement)\n\nChange-Id: I778e6eaee7632d1ee9eb5a48bd1a3ae1d6c4e25a\n'}, {'number': 4, 'created': '2019-07-19 08:19:17.000000000', 'files': ['.zuul.yaml', 'playbooks/storlets-functional/run-py3.yaml', 'playbooks/storlets-functional/pre-py3.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/storlets/commit/3deae65f687dff8ab160a686600f9e2a952ab93c', 'message': 'py3: Support py3 functional test\n\nOpenStack Swift is close to release py3 support so we could run\npy3 fuctional test as non-voting gate. we will fix issues found\nat the gate by the end of year (py2 retirement)\n\nChange-Id: I778e6eaee7632d1ee9eb5a48bd1a3ae1d6c4e25a\n'}]",0,671402,3deae65f687dff8ab160a686600f9e2a952ab93c,16,2,4,4608,,,0,"py3: Support py3 functional test

OpenStack Swift is close to release py3 support so we could run
py3 fuctional test as non-voting gate. we will fix issues found
at the gate by the end of year (py2 retirement)

Change-Id: I778e6eaee7632d1ee9eb5a48bd1a3ae1d6c4e25a
",git fetch https://review.opendev.org/openstack/storlets refs/changes/02/671402/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/storlets-functional/pre-py3.yaml', 'tox.ini', 'playbooks/storlets-functional/run.yaml']",4,ba9c9602ae2ac7aefa5d90d19718946f7f73174d,py3, - tox_envlist: func-py3, - tox_envlist: func,32,1
openstack%2Fzun~master~I28660f7f7cfce3893071bfb7e29892d34f633856,openstack/zun,master,I28660f7f7cfce3893071bfb7e29892d34f633856,Update api-ref location,MERGED,2019-07-22 16:20:24.000000000,2019-07-23 07:19:58.000000000,2019-07-23 07:19:58.000000000,"[{'_account_id': 6547}, {'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 16:20:24.000000000', 'files': ['doc/source/index.rst', 'zun/api/http_error.py', 'zun/common/policies/capsule.py', 'zun/common/policies/container.py', 'zun/common/policies/image.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/35f56232a5980c1f582fab2596c36fc9207c323a', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I28660f7f7cfce3893071bfb7e29892d34f633856\n""}]",0,672082,35f56232a5980c1f582fab2596c36fc9207c323a,10,3,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I28660f7f7cfce3893071bfb7e29892d34f633856
",git fetch https://review.opendev.org/openstack/zun refs/changes/82/672082/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'zun/api/http_error.py', 'zun/common/policies/capsule.py', 'zun/common/policies/container.py', 'zun/common/policies/image.py']",5,35f56232a5980c1f582fab2596c36fc9207c323a,retire-api-site, # https://docs.openstack.org/api-ref/application-container/ # https://docs.openstack.org/api-ref/application-container/ # https://docs.openstack.org/api-ref/application-container/, # https://developer.openstack.org/api-ref/application-container/ # https://developer.openstack.org/api-ref/application-container/ # https://developer.openstack.org/api-ref/application-container/,21,21
openstack%2Fkolla-cli~master~If4af2d7ae3b27f8266536fd3c2cafc405687c70c,openstack/kolla-cli,master,If4af2d7ae3b27f8266536fd3c2cafc405687c70c,[Part3]: Optimise and simplify action code,MERGED,2019-07-23 05:14:31.000000000,2019-07-23 07:18:59.000000000,2019-07-23 07:18:59.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-07-23 05:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/26d8c613135ad34b9a70bbe9baf00fc7f1d57522', 'message': '[Part3]: Optimise and simplify action code\n\n1. complete reconfigure action\n2. complete pull action\n\nChange-Id: If4af2d7ae3b27f8266536fd3c2cafc405687c70c\n'}, {'number': 2, 'created': '2019-07-23 05:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/92bdccfea31f435165845a3ef1813ce531376667', 'message': '[Part3]: Optimise and simplify action code\n\n1. complete reconfigure action\n2. complete pull action\n3. complete deploy action\n\nChange-Id: If4af2d7ae3b27f8266536fd3c2cafc405687c70c\n'}, {'number': 3, 'created': '2019-07-23 05:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/51ddf455d83279b46f1f77354c6f7ad629c04af1', 'message': '[Part3]: Optimise and simplify action code\n\n1. complete update action\n2. complete pull action\n\nChange-Id: If4af2d7ae3b27f8266536fd3c2cafc405687c70c\n'}, {'number': 4, 'created': '2019-07-23 05:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/277f1e089c7e5cee4ca0b65e5e29126b993916d1', 'message': '[Part3]: Optimise and simplify action code\n\n1. complete update action\n2. complete pull action\n\nChange-Id: If4af2d7ae3b27f8266536fd3c2cafc405687c70c\n'}, {'number': 5, 'created': '2019-07-23 06:12:47.000000000', 'files': ['kolla_cli/common/ansible/actions.py', 'kolla_cli/api/control_plane.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/0f38216325fa48be68737d98901858830ce57ab4', 'message': '[Part3]: Optimise and simplify action code\n\n1. complete update action\n2. complete pull action\n\nChange-Id: If4af2d7ae3b27f8266536fd3c2cafc405687c70c\n'}]",1,672201,0f38216325fa48be68737d98901858830ce57ab4,15,3,5,22165,,,0,"[Part3]: Optimise and simplify action code

1. complete update action
2. complete pull action

Change-Id: If4af2d7ae3b27f8266536fd3c2cafc405687c70c
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/01/672201/5 && git format-patch -1 --stdout FETCH_HEAD,"['kolla_cli/common/ansible/actions.py', 'kolla_cli/api/control_plane.py']",2,26d8c613135ad34b9a70bbe9baf00fc7f1d57522,," def pull(verbose_level=1, servicenames=[]): check_arg(servicenames, u._('Service names'), list, empty_ok=True, none_ok=True) servicenames = safe_decode(servicenames) aciton = KollaAction(verbose_level=verbose_level, playbook_name='site.yml') ansible_job = aciton.pull(servicenames) servicenames = safe_decode(servicenames) aciton = KollaAction(verbose_level=verbose_level, playbook_name='site.yml') ansible_job = aciton.upgrade(servicenames) aciton = KollaAction(verbose_level=verbose_level, playbook_name='site.yml') ansible_job = aciton.reconfigure()"," def pull(verbose_level=1, services=[]): ansible_job = actions.pull(verbose_level, services) servicenames = safe_decode(servicenames) ansible_job = actions.upgrade(verbose_level, servicenames) ansible_job = actions.reconfigure(verbose_level)",119,126
openstack%2Fwatcher~master~I082eee9e0bf1a28d4fe56d250b20cf7c57ca3b85,openstack/watcher,master,I082eee9e0bf1a28d4fe56d250b20cf7c57ca3b85,Replace openstack.org URLs with opendev.org URLs,ABANDONED,2019-07-23 06:42:43.000000000,2019-07-23 07:08:40.000000000,,[{'_account_id': 29911}],"[{'number': 1, 'created': '2019-07-23 06:42:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher/commit/b321e199bca78598b7ac9c8a7a54bae54144686c', 'message': 'Replace openstack.org URLs with opendev.org URLs\n\nChange-Id: I082eee9e0bf1a28d4fe56d250b20cf7c57ca3b85\n'}]",0,672207,b321e199bca78598b7ac9c8a7a54bae54144686c,3,1,1,30432,,,0,"Replace openstack.org URLs with opendev.org URLs

Change-Id: I082eee9e0bf1a28d4fe56d250b20cf7c57ca3b85
",git fetch https://review.opendev.org/openstack/watcher refs/changes/07/672207/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b321e199bca78598b7ac9c8a7a54bae54144686c,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Foctavia-dashboard~stable%2Fqueens~I8ef8f740b356344213b24f68d911fae50964d3e3,openstack/octavia-dashboard,stable/queens,I8ef8f740b356344213b24f68d911fae50964d3e3,Update tox.ini for new upper constraints strategy,MERGED,2019-06-28 22:58:40.000000000,2019-07-23 07:05:39.000000000,2019-07-23 07:05:39.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 22:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/b6305efebe4b32f96776e559521220e0408f8aff', 'message': 'Update tox.ini for new upper constraints strategy\n\nThe requirements team has defined a new strategy for handling\nupper constraints[1]. This patch applies those strategies to\nOctavia dashboard.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/ \\\n    2019-May/006478.html\n\nChange-Id: I8ef8f740b356344213b24f68d911fae50964d3e3\n'}, {'number': 2, 'created': '2019-07-23 06:37:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/51d1915049618edf56d76df9ef19ba4ecddce44b', 'message': 'Update tox.ini for new upper constraints strategy\n\nThe requirements team has defined a new strategy for handling\nupper constraints[1]. This patch applies those strategies to\nOctavia dashboard.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/ \\\n    2019-May/006478.html\n\nChange-Id: I8ef8f740b356344213b24f68d911fae50964d3e3\n'}]",3,668261,51d1915049618edf56d76df9ef19ba4ecddce44b,12,3,2,11628,,,0,"Update tox.ini for new upper constraints strategy

The requirements team has defined a new strategy for handling
upper constraints[1]. This patch applies those strategies to
Octavia dashboard.

[1] http://lists.openstack.org/pipermail/openstack-discuss/ \
    2019-May/006478.html

Change-Id: I8ef8f740b356344213b24f68d911fae50964d3e3
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/61/668261/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b6305efebe4b32f96776e559521220e0408f8aff,constraints-updates,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/queens} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/queens?h=stable/queens} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/queens?h=stable/queens},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens},3,3
openstack%2Foperations-guide~master~I979a8542a013b1165591c7601de774b9da276dce,openstack/operations-guide,master,I979a8542a013b1165591c7601de774b9da276dce,Fix documentation for usage of Nova Cells (v2),MERGED,2019-05-21 12:41:56.000000000,2019-07-23 06:56:53.000000000,2019-07-23 06:56:53.000000000,"[{'_account_id': 6547}, {'_account_id': 6873}, {'_account_id': 17765}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-21 12:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/5df67b3a900dcbe3f6fb091842c64dbfaac271dd', 'message': 'Add a link to Nova Cells\n\nExplanation of Nova Cells is missing (V1 and V2).\nBest way to point to the Nova docs with wonderful\nvideos and technical descriptions.\n\nChange-Id: I979a8542a013b1165591c7601de774b9da276dce\nCloses-Bug: #1804253\n'}, {'number': 2, 'created': '2019-05-23 12:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/c3e9665ab3347214229ced83aefd8095dad41485', 'message': 'Add a link to Nova Cells\n\nExplanation of Nova Cells is missing (V1 and V2).\nBest way to point to the Nova docs with wonderful\nvideos and technical descriptions.\n\nChange-Id: I979a8542a013b1165591c7601de774b9da276dce\nCloses-Bug: #1804253\n'}, {'number': 3, 'created': '2019-05-26 17:26:57.000000000', 'files': ['doc/source/ops-capacity-planning-scaling.rst'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/6f080590b6da6a546fcc55a688f22096ad7bb58a', 'message': 'Fix documentation for usage of Nova Cells (v2)\n\nChange-Id: I979a8542a013b1165591c7601de774b9da276dce\nCloses-Bug: #1804253\n'}]",22,660372,6f080590b6da6a546fcc55a688f22096ad7bb58a,17,5,3,17765,,,0,"Fix documentation for usage of Nova Cells (v2)

Change-Id: I979a8542a013b1165591c7601de774b9da276dce
Closes-Bug: #1804253
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/72/660372/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/ops-capacity-planning-scaling.rst'],1,5df67b3a900dcbe3f6fb091842c64dbfaac271dd,bug/1804253,`OpenStack Compute Cells <https://docs.openstack.org/nova/latest/user/cells.html>`_ are designed to allow running the cloud in a,OpenStack Compute cells are designed to allow running the cloud in a,2,1
openstack%2Fpython-octaviaclient~master~I54cabcd2c21d0c2815e7ac44c297085d7019bd7e,openstack/python-octaviaclient,master,I54cabcd2c21d0c2815e7ac44c297085d7019bd7e,Update tox.ini for new upper constraints strategy,MERGED,2019-06-28 23:12:03.000000000,2019-07-23 06:47:21.000000000,2019-07-23 06:47:21.000000000,"[{'_account_id': 2245}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28743}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-06-28 23:12:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/2536a65a38129fa399783d586f83bdcfb9c555aa', 'message': 'Update tox.ini for new upper constraints strategy\n\nThe requirements team has defined a new strategy for handling\nupper constraints[1]. This patch applies those strategies to\nOctavia OSC.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/ \\\n    2019-May/006478.html\n\nChange-Id: I54cabcd2c21d0c2815e7ac44c297085d7019bd7e\n'}]",0,668264,2536a65a38129fa399783d586f83bdcfb9c555aa,10,6,1,11628,,,0,"Update tox.ini for new upper constraints strategy

The requirements team has defined a new strategy for handling
upper constraints[1]. This patch applies those strategies to
Octavia OSC.

[1] http://lists.openstack.org/pipermail/openstack-discuss/ \
    2019-May/006478.html

Change-Id: I54cabcd2c21d0c2815e7ac44c297085d7019bd7e
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/64/668264/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2536a65a38129fa399783d586f83bdcfb9c555aa,constraints-updates, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},3,3
openstack%2Frpm-packaging~stable%2Frocky~Ia14b25d9060fe522154a8b98c05383699bca835c,openstack/rpm-packaging,stable/rocky,Ia14b25d9060fe522154a8b98c05383699bca835c,horizon-plugins: Avoid fileconflict over __init__.*,MERGED,2019-07-22 07:57:37.000000000,2019-07-23 06:38:07.000000000,2019-07-23 06:38:07.000000000,"[{'_account_id': 6593}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-22 07:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e518ffe8023d57adff9006a20e3eca9b4d567ecf', 'message': ""horizon-plugins: Avoid fileconflict over __init__.*\n\nThe various horizon-plugins all install a __init__.* into the same\nlocation, which causes a fileconflict. as we don't need those (they're\nprovided and owned by openstack-dashboard/horizon itself) we can just\nskip them on install.\n\nChange-Id: Ia14b25d9060fe522154a8b98c05383699bca835c\n(cherry picked from commit 9bab67927c2f7f132b7a640e7403b44f1533eed0)\n""}, {'number': 2, 'created': '2019-07-22 11:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4bec551dd6382375b0c9428c7c2b1f920b832db6', 'message': ""horizon-plugins: Avoid fileconflict over __init__.*\n\nThe various horizon-plugins all install a __init__.* into the same\nlocation, which causes a fileconflict. as we don't need those (they're\nprovided and owned by openstack-dashboard/horizon itself) we can just\nskip them on install.\n\nChange-Id: Ia14b25d9060fe522154a8b98c05383699bca835c\n(cherry picked from commit 9bab67927c2f7f132b7a640e7403b44f1533eed0)\n""}, {'number': 3, 'created': '2019-07-22 12:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ae499d252b64caa8db8b0997ebced1e78bbdf4e2', 'message': ""horizon-plugins: Avoid fileconflict over __init__.*\n\nThe various horizon-plugins all install a __init__.* into the same\nlocation, which causes a fileconflict. as we don't need those (they're\nprovided and owned by openstack-dashboard/horizon itself) we can just\nskip them on install.\n\nChange-Id: Ia14b25d9060fe522154a8b98c05383699bca835c\n(cherry picked from commit 9bab67927c2f7f132b7a640e7403b44f1533eed0)\n""}, {'number': 4, 'created': '2019-07-22 12:28:48.000000000', 'files': ['openstack/neutron-vpnaas-dashboard/neutron-vpnaas-dashboard.spec.j2', 'openstack/neutron-fwaas-dashboard/neutron-fwaas-dashboard.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b03159beeb6b4076f19b4c8f455eff7de9b11dd6', 'message': ""horizon-plugins: Avoid fileconflict over __init__.*\n\nThe various horizon-plugins all install a __init__.* into the same\nlocation, which causes a fileconflict. as we don't need those (they're\nprovided and owned by openstack-dashboard/horizon itself) we can just\nskip them on install.\n\nChange-Id: Ia14b25d9060fe522154a8b98c05383699bca835c\n(cherry picked from commit 9bab67927c2f7f132b7a640e7403b44f1533eed0)\n""}]",0,671979,b03159beeb6b4076f19b4c8f455eff7de9b11dd6,19,5,4,6593,,,0,"horizon-plugins: Avoid fileconflict over __init__.*

The various horizon-plugins all install a __init__.* into the same
location, which causes a fileconflict. as we don't need those (they're
provided and owned by openstack-dashboard/horizon itself) we can just
skip them on install.

Change-Id: Ia14b25d9060fe522154a8b98c05383699bca835c
(cherry picked from commit 9bab67927c2f7f132b7a640e7403b44f1533eed0)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/79/671979/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/neutron-vpnaas-dashboard/neutron-vpnaas-dashboard.spec.j2', 'openstack/neutron-fwaas-dashboard/neutron-fwaas-dashboard.spec.j2']",2,e518ffe8023d57adff9006a20e3eca9b4d567ecf,,rm -v neutron_fwaas_dashboard/enabled/__init__.* cp -a neutron_fwaas_dashboard/enabled/*.py* %{buildroot}%{http_dashboard_dir}/openstack_dashboard/enabled/,cp -a neutron_fwaas_dashboard/enabled/*.py %{buildroot}%{http_dashboard_dir}/openstack_dashboard/enabled/,4,2
openstack%2Frpm-packaging~stable%2Fpike~I1988420d042d921fa915ec772a3975457fa1f88f,openstack/rpm-packaging,stable/pike,I1988420d042d921fa915ec772a3975457fa1f88f,neutron-fwaas-dashboard: fix file conflict,ABANDONED,2019-07-22 11:41:32.000000000,2019-07-23 06:31:36.000000000,,"[{'_account_id': 6593}, {'_account_id': 12542}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-22 11:41:32.000000000', 'files': ['openstack/neutron-fwaas-dashboard/neutron-fwaas-dashboard.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d42e894bd499a91476710b8b976d118be46bfa26', 'message': ""neutron-fwaas-dashboard: fix file conflict\n\nThe wildcard for including files from openstack_dashboard/enabled/\ncaptured init.py as well which is already included with\nHorizon itself (it's empty in both cases), thus leading to a\nfile conflict. This commit fixes the issue by including only\n_7010_project_firewalls_panel.py*.\n\nChange-Id: I1988420d042d921fa915ec772a3975457fa1f88f\n""}]",0,672021,d42e894bd499a91476710b8b976d118be46bfa26,9,5,1,12542,,,0,"neutron-fwaas-dashboard: fix file conflict

The wildcard for including files from openstack_dashboard/enabled/
captured init.py as well which is already included with
Horizon itself (it's empty in both cases), thus leading to a
file conflict. This commit fixes the issue by including only
_7010_project_firewalls_panel.py*.

Change-Id: I1988420d042d921fa915ec772a3975457fa1f88f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/21/672021/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/neutron-fwaas-dashboard/neutron-fwaas-dashboard.spec.j2'],1,d42e894bd499a91476710b8b976d118be46bfa26,horizon-fwaas-exclude-init.py,cp -a neutron_fwaas_dashboard/enabled/_7010_project_firewalls_panel.py* %{buildroot}%{http_dashboard_dir}/openstack_dashboard/enabled/%{http_dashboard_dir}/openstack_dashboard/enabled/_7010_project_firewalls_panel.py*,cp -a neutron_fwaas_dashboard/enabled/*.py* %{buildroot}%{http_dashboard_dir}/openstack_dashboard/enabled/%{http_dashboard_dir}/openstack_dashboard/enabled/*.py*,2,2
openstack%2Fopenstack-helm-infra~master~I0afb0b32ab80456aa3439b4221f2a95ca05ddf24,openstack/openstack-helm-infra,master,I0afb0b32ab80456aa3439b4221f2a95ca05ddf24,fix host-specific overrides incorrectly overwriting previous values,MERGED,2019-06-24 06:43:24.000000000,2019-07-23 05:52:48.000000000,2019-06-26 09:44:30.000000000,"[{'_account_id': 8181}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 22348}, {'_account_id': 26686}, {'_account_id': 29937}]","[{'number': 1, 'created': '2019-06-24 06:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5af7d16e29b143dc4cbc3859f751a72f04b04f00', 'message': ""fix host-specific overrides incorrectly overwriting previous values\n\nroot_conf area is used for host-specific configuration and overwritten in\neach round of loop. It causes that all hosts will share same properties.\nThis makes use each host's own area in the loop.\n\nTask: 34282\nStory: 2005936\n\nChange-Id: I0afb0b32ab80456aa3439b4221f2a95ca05ddf24\n""}, {'number': 2, 'created': '2019-06-25 02:34:02.000000000', 'files': ['ceph-osd/templates/utils/_osd_daemonset_overrides.tpl', 'helm-toolkit/templates/utils/_daemonset_overrides.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/833d426da8e4b049277ca9847830f6e6beee40c3', 'message': ""fix host-specific overrides incorrectly overwriting previous values\n\nroot_conf area is used for host-specific configuration and overwritten in\neach round of loop. It causes that all hosts will share same properties.\nThis makes use each host's own area in the loop.\n\nTask: 34282\nStory: 2005936\n\nChange-Id: I0afb0b32ab80456aa3439b4221f2a95ca05ddf24\n""}]",0,667022,833d426da8e4b049277ca9847830f6e6beee40c3,12,6,2,30038,,,0,"fix host-specific overrides incorrectly overwriting previous values

root_conf area is used for host-specific configuration and overwritten in
each round of loop. It causes that all hosts will share same properties.
This makes use each host's own area in the loop.

Task: 34282
Story: 2005936

Change-Id: I0afb0b32ab80456aa3439b4221f2a95ca05ddf24
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/22/667022/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/templates/utils/_osd_daemonset_overrides.tpl', 'helm-toolkit/templates/utils/_daemonset_overrides.tpl']",2,5af7d16e29b143dc4cbc3859f751a72f04b04f00,fix-daemonset_overrides_incorrectly_overwrites, {{- $merged_dict := merge $override_conf_copy $root_conf_copy }} {{- $merged_dict := merge $override_conf_copy $root_conf_copy }}, {{- $merged_dict := mergeOverwrite $root_conf_copy $override_conf_copy }} {{- $merged_dict := mergeOverwrite $root_conf_copy $override_conf_copy }},4,4
openstack%2Fironic~master~I30a51394d396cc89f647b4170d6a2e6b0b993dcb,openstack/ironic,master,I30a51394d396cc89f647b4170d6a2e6b0b993dcb,Update api-ref location,MERGED,2019-07-22 16:24:48.000000000,2019-07-23 04:51:40.000000000,2019-07-23 03:16:52.000000000,"[{'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-22 16:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5ab9ea7fe0c8b8f14a531e86855b5e2660361f44', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I30a51394d396cc89f647b4170d6a2e6b0b993dcb\n""}, {'number': 2, 'created': '2019-07-22 17:19:47.000000000', 'files': ['doc/source/admin/cleaning.rst', 'doc/source/index.rst', 'ironic/dhcp/neutron.py', 'README.rst', 'doc/source/admin/node-deployment.rst', 'doc/source/admin/security.rst', 'doc/source/admin/raid.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/daddf516bfe4dc3fc2cfd466acba8d652ec33eeb', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I30a51394d396cc89f647b4170d6a2e6b0b993dcb\n""}]",0,672085,daddf516bfe4dc3fc2cfd466acba8d652ec33eeb,11,6,2,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I30a51394d396cc89f647b4170d6a2e6b0b993dcb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/85/672085/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/cleaning.rst', 'doc/source/index.rst', 'ironic/dhcp/neutron.py', 'README.rst', 'doc/source/admin/node-deployment.rst', 'doc/source/admin/security.rst', 'doc/source/admin/raid.rst', 'releasenotes/notes/queens-prelude-61fb897e96ed64c5.yaml']",8,5ab9ea7fe0c8b8f14a531e86855b5e2660361f44,retire-api-site, <https://docs.openstack.org/api-ref/baremetal/#node-traits-nodes>`_., <https://developer.openstack.org/api-ref/baremetal/#node-traits-nodes>`_.,8,8
openstack%2Frequirements~master~I0d4099b0eb3627fad6310f9f97dae2bdb52b16dd,openstack/requirements,master,I0d4099b0eb3627fad6310f9f97dae2bdb52b16dd,update constraint for keystonemiddleware to new release 7.0.0,MERGED,2019-07-22 21:13:23.000000000,2019-07-23 04:36:43.000000000,2019-07-23 04:36:43.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 21:13:23.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ac8c7a72a596079a012aec131304c72cff318dbf', 'message': 'update constraint for keystonemiddleware to new release 7.0.0\n\nChange-Id: I0d4099b0eb3627fad6310f9f97dae2bdb52b16dd\nmeta:version: 7.0.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Colleen Murphy <colleen.murphy@suse.de>\nmeta:release:Commit: Colleen Murphy <colleen.murphy@suse.de>\nmeta:release:Change-Id: I71acd5de3f21f1e29621d480d44e8f7783fd864b\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,672176,ac8c7a72a596079a012aec131304c72cff318dbf,6,2,1,11131,,,0,"update constraint for keystonemiddleware to new release 7.0.0

Change-Id: I0d4099b0eb3627fad6310f9f97dae2bdb52b16dd
meta:version: 7.0.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Colleen Murphy <colleen.murphy@suse.de>
meta:release:Commit: Colleen Murphy <colleen.murphy@suse.de>
meta:release:Change-Id: I71acd5de3f21f1e29621d480d44e8f7783fd864b
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/76/672176/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ac8c7a72a596079a012aec131304c72cff318dbf,new-release,keystonemiddleware===7.0.0,keystonemiddleware===6.1.0,1,1
openstack%2Fneutron~master~I480ae33cf77849927fef456b3504aead34911208,openstack/neutron,master,I480ae33cf77849927fef456b3504aead34911208,Add process name to log in external_process disable method,MERGED,2019-07-19 10:10:08.000000000,2019-07-23 04:36:41.000000000,2019-07-23 04:36:40.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-19 10:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d1069a9f845fa3ad062710afbd94714a292164f', 'message': 'Add process name to log in external_process disable method\n\nIt can be useful to have information about what process\nexactly was not started or was stale for resource.\nFor example, in case of DHCP agent it can be dnsmasq or haproxy\nprocess for same network and information about that in logs\nwill be useful.\n\nTrivialFix\n\nChange-Id: I480ae33cf77849927fef456b3504aead34911208\n'}, {'number': 2, 'created': '2019-07-19 13:27:00.000000000', 'files': ['neutron/agent/linux/external_process.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/02c7a3633ee0860f26028156752bed59102568bb', 'message': 'Add process name to log in external_process disable method\n\nIt can be useful to have information about what process\nexactly was not started or was stale for resource.\nFor example, in case of DHCP agent it can be dnsmasq or haproxy\nprocess for same network and information about that in logs\nwill be useful.\n\nTrivialFix\n\nChange-Id: I480ae33cf77849927fef456b3504aead34911208\n'}]",2,671697,02c7a3633ee0860f26028156752bed59102568bb,31,7,2,11975,,,0,"Add process name to log in external_process disable method

It can be useful to have information about what process
exactly was not started or was stale for resource.
For example, in case of DHCP agent it can be dnsmasq or haproxy
process for same network and information about that in logs
will be useful.

TrivialFix

Change-Id: I480ae33cf77849927fef456b3504aead34911208
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/671697/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/external_process.py'],1,0d1069a9f845fa3ad062710afbd94714a292164f,dhcp-agent-improvements," LOG.debug('%{service}s process for %(uuid)s pid %(pid)d is stale, ' 'ignoring signal %(signal)s', {'uuid': self.uuid, 'pid': pid, 'signal': sig}) else: LOG.debug('No %(service)s process started for %(uuid)s', {'service': self.service, 'uuid': self.uuid})"," LOG.debug('Process for %(uuid)s pid %(pid)d is stale, ignoring ' 'signal %(signal)s', {'uuid': self.uuid, 'pid': pid, 'signal': sig}) else: LOG.debug('No process started for %s', self.uuid)",5,4
openstack%2Fkolla-cli~master~I6e92201b11a41ecf79b006476d858d21736401a1,openstack/kolla-cli,master,I6e92201b11a41ecf79b006476d858d21736401a1,Fix the password check description,MERGED,2019-07-23 02:49:17.000000000,2019-07-23 04:29:07.000000000,2019-07-23 04:29:07.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-07-23 02:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/ba88bd3fe4ab2f26ddad202dbfd89ac1c9bdb2aa', 'message': 'Typo fixed\n\nChange-Id: I6e92201b11a41ecf79b006476d858d21736401a1\n'}, {'number': 2, 'created': '2019-07-23 02:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/a5c956dc1ce5378630c275f43f414958c50a569d', 'message': 'Typo updated\n\nChange-Id: I6e92201b11a41ecf79b006476d858d21736401a1\n'}, {'number': 3, 'created': '2019-07-23 02:51:47.000000000', 'files': ['kolla_cli/common/ansible/actions.py', 'kolla_cli/common/passwords.py', 'kolla_cli/common/subservice.py', 'kolla_cli/common/properties.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/c60e03eb2d7009e71cf4a5dc4a5657fa4e7afe6d', 'message': 'Fix the password check description\n\n1. Fix the password check description\n2. adjust the import order\n\nChange-Id: I6e92201b11a41ecf79b006476d858d21736401a1\n'}]",0,672195,c60e03eb2d7009e71cf4a5dc4a5657fa4e7afe6d,9,3,3,22165,,,0,"Fix the password check description

1. Fix the password check description
2. adjust the import order

Change-Id: I6e92201b11a41ecf79b006476d858d21736401a1
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/95/672195/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla_cli/common/ansible/actions.py', 'kolla_cli/common/passwords.py', 'kolla_cli/common/subservice.py', 'kolla_cli/common/properties.py']",4,ba88bd3fe4ab2f26ddad202dbfd89ac1c9bdb2aa,,import kolla_cli.i18n as u,import kolla_cli.i18n as u ,6,6
openstack%2Fheat~stable%2Frocky~I50c106a2b80a707ba8296efed86194526d6e5da6,openstack/heat,stable/rocky,I50c106a2b80a707ba8296efed86194526d6e5da6,Retry on DB deadlock in event_create(),MERGED,2019-05-08 03:33:47.000000000,2019-07-23 02:21:22.000000000,2019-07-23 02:21:22.000000000,"[{'_account_id': 4257}, {'_account_id': 9542}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2019-05-08 03:33:47.000000000', 'files': ['heat/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/92d59678b31e48c26ab04a357519ea0fa36a6454', 'message': 'Retry on DB deadlock in event_create()\n\nChange-Id: I50c106a2b80a707ba8296efed86194526d6e5da6\nTask: 30196\n(cherry picked from commit 41b9a650dfd9a78614272a1fd8f23c617261266a)\n'}]",0,657727,92d59678b31e48c26ab04a357519ea0fa36a6454,13,5,1,8833,,,0,"Retry on DB deadlock in event_create()

Change-Id: I50c106a2b80a707ba8296efed86194526d6e5da6
Task: 30196
(cherry picked from commit 41b9a650dfd9a78614272a1fd8f23c617261266a)
",git fetch https://review.opendev.org/openstack/heat refs/changes/27/657727/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/db/sqlalchemy/api.py'],1,92d59678b31e48c26ab04a357519ea0fa36a6454,,"@oslo_db_api.wrap_db_retry(max_retries=3, retry_on_deadlock=True, retry_interval=0.5, inc_retry_interval=True)",,2,0
openstack%2Fmagnum-specs~master~I7aedd40b15015508a0b596b15f147e7f59ef10c4,openstack/magnum-specs,master,I7aedd40b15015508a0b596b15f147e7f59ef10c4,Add auto healing spec,ABANDONED,2019-02-20 10:14:11.000000000,2019-07-23 02:02:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-02-20 10:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-specs/commit/2a70bd3c3249739acdf6f9b7b5e26a7a5626a83b', 'message': 'Add auto healing spec\n\nChange-Id: I7aedd40b15015508a0b596b15f147e7f59ef10c4\n'}, {'number': 2, 'created': '2019-02-20 10:18:19.000000000', 'files': ['specs/stein/auto-healing.rst'], 'web_link': 'https://opendev.org/openstack/magnum-specs/commit/112e770844a4475ae62cc3924c0fbb527fa3de0b', 'message': 'Add auto healing spec\n\nChange-Id: I7aedd40b15015508a0b596b15f147e7f59ef10c4\n'}]",0,638123,112e770844a4475ae62cc3924c0fbb527fa3de0b,4,1,2,6484,,,0,"Add auto healing spec

Change-Id: I7aedd40b15015508a0b596b15f147e7f59ef10c4
",git fetch https://review.opendev.org/openstack/magnum-specs refs/changes/23/638123/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/auto-healing.rst'],1,2a70bd3c3249739acdf6f9b7b5e26a7a5626a83b,auto-healing,"Auto Healing ============ Story link: https://storyboard.openstack.org/#!/story/2004782 This is a proposal for Magnum to support auto healing failed worker nodes. Problem Description ------------------- From an end user perspective, it's not necessary to keep monitoring the health status of all worker nodes for a k8s cluster, to keep the nodes in the cluster in a healthy, running state. Use Cases --------- As a user, I want to see a failed worker node can be repaired automatically. When we say 'failed worker node', which means the kubelet on that worker node is in NotReady status. Proposed Changes ---------------- The proposed change includes: * OpenStack driver for Cluster Autoscaler, though it's a bit out of the scope of this spec. At this moment, the work is track by https://github.com/kubernetes/autoscaler/pull/1690 * Add new labels: autohealing_enabled, npd_tag, draino_tag and autoscaler_tag * Installed NPD, Draino and Autoscaler when autohealing_enabled=True How it works ~~~~~~~~~~~~ The Node Problem Detector(NPD) can set a node condition when it detects something wrong with a node - for instance by watching node logs or running a script. The Cluster Autoscaler(CA) can be configured to delete nodes that are underutilised. Here Draino is like a glue to bridge NPD and CA to enable autoremediation: The Node Problem Detector detects a permanent node problem and sets the corresponding node condition. Draino notices the node condition. It immediately cordons the node to prevent new pods being scheduled there, and schedules a drain of the node. Once the node has been drained the Cluster Autoscaler will consider it underutilised. It will be eligible for scale down (i.e. termination) by the Autoscaler after a configurable period of time. NOTE: At the first stage, we only ask Draino monitoring the kubelet condition `NotReady`, the node will be cordon and draino whenever the condition NotReady equals True. So technically, NPD is not used by the auto healing feature, but it's a nice-to-have addons and will be very handy if user want to extend the reparing condition list. Alternatives ------------ User may have to cordon and drain the failed workder node manually and then fix it before uncorfon. Data Model Impact ----------------- Security Impact --------------- Developer Impact ---------------- None. Implementation -------------- The implementation will be done in 4 phases. 1. Add new labels: autohealing_enabled, npd_tag, draino_tag and autoscaler_tag 2. Installed NPD, Draino and Autoscaler when autohealing_enabled=True Assignee(s) ----------- Primary assignee: Feilong Wang <flwang@catalyst.net.nz> Work Items ---------- See `Implementation`_. Testing ------- A new set of unit tests will be added. Documentation Impact -------------------- New documentation will be added to describe how to enable the auto healing feature. References ---------- Node Problem Detector: https://github.com/kubernetes/node-problem-detector Draino: https://github.com/planetlabs/draino Cluster Autoscaler: https://github.com/kubernetes/autoscaler ",,119,0
openstack%2Fneutron~stable%2Fpike~I7c00812f877e2fc966bbac3060e1187ce1b809ca,openstack/neutron,stable/pike,I7c00812f877e2fc966bbac3060e1187ce1b809ca,Yield control to other greenthreads while processing trusted ports,MERGED,2019-07-12 11:48:57.000000000,2019-07-23 01:37:33.000000000,2019-07-23 01:37:33.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-12 11:48:57.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe403825ab08728e8b2d0fe15cfba3b452921f57', 'message': 'Yield control to other greenthreads while processing trusted ports\n\nprocess_trusted_ports() appeared to be greenthread unfriendly, so\nif there are many trusted ports on a node, openvswitch agent may\n""hang"" for a significant time.\nThis patch adds explicit yield.\n\nChange-Id: I7c00812f877e2fc966bbac3060e1187ce1b809ca\nCloses-Bug: #1836023\n(cherry picked from commit da539da3780188f01e18ef106dde9ca180324c2a)\n'}]",0,670501,fe403825ab08728e8b2d0fe15cfba3b452921f57,17,6,1,5948,,,0,"Yield control to other greenthreads while processing trusted ports

process_trusted_ports() appeared to be greenthread unfriendly, so
if there are many trusted ports on a node, openvswitch agent may
""hang"" for a significant time.
This patch adds explicit yield.

Change-Id: I7c00812f877e2fc966bbac3060e1187ce1b809ca
Closes-Bug: #1836023
(cherry picked from commit da539da3780188f01e18ef106dde9ca180324c2a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/670501/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/openvswitch_firewall/firewall.py'],1,fe403825ab08728e8b2d0fe15cfba3b452921f57,bug/1836023-stable/pike,import eventlet # yield to let other greenthreads proceed eventlet.sleep(0),,3,0
openstack%2Fpython-openstackclient~master~If188c3d96fa506dbe62ef256418f2f9bca1520c2,openstack/python-openstackclient,master,If188c3d96fa506dbe62ef256418f2f9bca1520c2,Add host and hypervisor_hostname to create servers,MERGED,2019-07-08 06:52:27.000000000,2019-07-23 01:32:32.000000000,2019-07-23 01:32:32.000000000,"[{'_account_id': 970}, {'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2019-07-08 06:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/eb73cfd3c813a460d1d466460f28547b1730d02a', 'message': 'Add host and hypervisor_hostname to create servers\n\nAdds the --host and --hypervisor-hostname options to\n``openstack server create`` CLI.\n\nChange-Id: If188c3d96fa506dbe62ef256418f2f9bca1520c2\nBlueprint: add-host-and-hypervisor-hostname-flag-to-create-server\n'}, {'number': 2, 'created': '2019-07-09 06:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/67bab1827f38205e50727114f6f5ec1fe4d5cb7c', 'message': 'Add host and hypervisor_hostname to create servers\n\nAdds the --host and --hypervisor-hostname options to\n``openstack server create`` CLI.\n\nDepends-On: https://review.opendev.org/#/c/647671/\n\nChange-Id: If188c3d96fa506dbe62ef256418f2f9bca1520c2\nBlueprint: add-host-and-hypervisor-hostname-flag-to-create-server\n'}, {'number': 3, 'created': '2019-07-12 13:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c85804b4622286b431811faa4f0f94de5fa40b4f', 'message': 'Add host and hypervisor_hostname to create servers\n\nAdds the --host and --hypervisor-hostname options to\n``openstack server create`` CLI.\n\nDepends-On: https://review.opendev.org/670558\n\nChange-Id: If188c3d96fa506dbe62ef256418f2f9bca1520c2\nBlueprint: add-host-and-hypervisor-hostname-flag-to-create-server\n'}, {'number': 4, 'created': '2019-07-19 15:45:28.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py', 'releasenotes/notes/add-host-and-hypervisor-hostname-flag-to-create-server-cb8b39a9f9311d42.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/340f25fa14d42205a4134ce4cba47792764b8542', 'message': 'Add host and hypervisor_hostname to create servers\n\nAdds the --host and --hypervisor-hostname options to\n``openstack server create`` CLI.\n\nDepends-On: https://review.opendev.org/670558\n\nChange-Id: If188c3d96fa506dbe62ef256418f2f9bca1520c2\nBlueprint: add-host-and-hypervisor-hostname-flag-to-create-server\n'}]",18,669609,340f25fa14d42205a4134ce4cba47792764b8542,24,5,4,28706,,,0,"Add host and hypervisor_hostname to create servers

Adds the --host and --hypervisor-hostname options to
``openstack server create`` CLI.

Depends-On: https://review.opendev.org/670558

Change-Id: If188c3d96fa506dbe62ef256418f2f9bca1520c2
Blueprint: add-host-and-hypervisor-hostname-flag-to-create-server
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/09/669609/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py', 'releasenotes/notes/add-host-and-hypervisor-hostname-flag-to-create-server-cb8b39a9f9311d42.yaml']",3,eb73cfd3c813a460d1d466460f28547b1730d02a,bp/add-host-and-hypervisor-hostname-flag-to-create-server,--- features: - | Add support to create server by adding ``--host <host>`` and ``--hypervisor-hostname <hypervisor-hostname>`` option to ``server create`` CLI. ,,264,0
openstack%2Fpython-openstackclient~master~I1572a21632740b4d9a233a6a31c49e3bac5394ef,openstack/python-openstackclient,master,I1572a21632740b4d9a233a6a31c49e3bac5394ef,Update api-ref location,MERGED,2019-07-22 18:56:13.000000000,2019-07-23 01:24:25.000000000,2019-07-23 01:24:25.000000000,"[{'_account_id': 2}, {'_account_id': 970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 18:56:13.000000000', 'files': ['openstackclient/api/compute_v2.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c609b98c408d521cdd34884c912aeb8f64257753', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I1572a21632740b4d9a233a6a31c49e3bac5394ef\n""}]",0,672138,c609b98c408d521cdd34884c912aeb8f64257753,7,3,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I1572a21632740b4d9a233a6a31c49e3bac5394ef
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/38/672138/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/api/compute_v2.py'],1,c609b98c408d521cdd34884c912aeb8f64257753,retire-api-site, https://docs.openstack.org/api-ref/compute/#create-allocate-floating-ip-address https://docs.openstack.org/api-ref/compute/#delete-deallocate-floating-ip-address https://docs.openstack.org/api-ref/compute/#list-floating-ip-addresses https://docs.openstack.org/api-ref/compute/#show-floating-ip-address-details https://docs.openstack.org/api-ref/compute/?expanded=#list-floating-ip-pools https://docs.openstack.org/api-ref/compute/#list-hosts https://docs.openstack.org/api-ref/compute/#update-host-status https://docs.openstack.org/api-ref/compute/#show-host-details https://docs.openstack.org/api-ref/compute/#create-network https://docs.openstack.org/api-ref/compute/#delete-network https://docs.openstack.org/api-ref/compute/#show-network-details https://docs.openstack.org/api-ref/compute/#list-networks https://docs.openstack.org/api-ref/compute/#create-security-group https://docs.openstack.org/api-ref/compute/#delete-security-group https://docs.openstack.org/api-ref/compute/#show-security-group-details https://docs.openstack.org/api-ref/compute/#list-security-groups https://docs.openstack.org/api-ref/compute/#update-security-group https://docs.openstack.org/api-ref/compute/#create-security-group-rule https://docs.openstack.org/api-ref/compute/#delete-security-group-rule, https://developer.openstack.org/api-ref/compute/#create-allocate-floating-ip-address https://developer.openstack.org/api-ref/compute/#delete-deallocate-floating-ip-address https://developer.openstack.org/api-ref/compute/#list-floating-ip-addresses https://developer.openstack.org/api-ref/compute/#show-floating-ip-address-details https://developer.openstack.org/api-ref/compute/?expanded=#list-floating-ip-pools https://developer.openstack.org/api-ref/compute/#list-hosts https://developer.openstack.org/api-ref/compute/#update-host-status https://developer.openstack.org/api-ref/compute/#show-host-details https://developer.openstack.org/api-ref/compute/#create-network https://developer.openstack.org/api-ref/compute/#delete-network https://developer.openstack.org/api-ref/compute/#show-network-details https://developer.openstack.org/api-ref/compute/#list-networks https://developer.openstack.org/api-ref/compute/#create-security-group https://developer.openstack.org/api-ref/compute/#delete-security-group https://developer.openstack.org/api-ref/compute/#show-security-group-details https://developer.openstack.org/api-ref/compute/#list-security-groups https://developer.openstack.org/api-ref/compute/#update-security-group https://developer.openstack.org/api-ref/compute/#create-security-group-rule https://developer.openstack.org/api-ref/compute/#delete-security-group-rule,19,19
openstack%2Fsearchlight~master~I6102f39cc0d064239cecfe9fab3e6955d8409ad1,openstack/searchlight,master,I6102f39cc0d064239cecfe9fab3e6955d8409ad1,Update api-ref location,MERGED,2019-07-22 17:00:28.000000000,2019-07-23 01:21:02.000000000,2019-07-23 01:21:01.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-07-22 17:00:28.000000000', 'files': ['searchlight/elasticsearch/plugins/nova/servers.py'], 'web_link': 'https://opendev.org/openstack/searchlight/commit/ec7baccfc4fbf1726d17f763d315604f2f242ae7', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I6102f39cc0d064239cecfe9fab3e6955d8409ad1\n""}]",0,672113,ec7baccfc4fbf1726d17f763d315604f2f242ae7,6,2,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I6102f39cc0d064239cecfe9fab3e6955d8409ad1
",git fetch https://review.opendev.org/openstack/searchlight refs/changes/13/672113/1 && git format-patch -1 --stdout FETCH_HEAD,['searchlight/elasticsearch/plugins/nova/servers.py'],1,ec7baccfc4fbf1726d17f763d315604f2f242ae7,retire-api-site, # https://docs.openstack.org/api-ref/compute/?expanded=show-server-details-detail, # https://developer.openstack.org/api-ref/compute/?expanded=show-server-details-detail,1,1
openstack%2Fmanila~master~I431e20713e1b91be3bf9fa2f57a9c9b88519d6b4,openstack/manila,master,I431e20713e1b91be3bf9fa2f57a9c9b88519d6b4,[api-ref] Use relative links and fix grammar,MERGED,2019-07-22 19:50:55.000000000,2019-07-23 00:41:35.000000000,2019-07-22 20:46:59.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 19:50:55.000000000', 'files': ['api-ref/source/share-migration.inc', 'api-ref/source/share-groups.inc', 'api-ref/source/share-group-snapshots.inc', 'api-ref/source/share-group-types.inc'], 'web_link': 'https://opendev.org/openstack/manila/commit/e5582cc5a605a0044ce5f55e0f64abab34fefb8f', 'message': '[api-ref] Use relative links and fix grammar\n\nWhen referring to documents that are published\nfrom the same folder, we can use relative links.\n\nChange-Id: I431e20713e1b91be3bf9fa2f57a9c9b88519d6b4\n'}]",0,672156,e5582cc5a605a0044ce5f55e0f64abab34fefb8f,13,7,1,16643,,,0,"[api-ref] Use relative links and fix grammar

When referring to documents that are published
from the same folder, we can use relative links.

Change-Id: I431e20713e1b91be3bf9fa2f57a9c9b88519d6b4
",git fetch https://review.opendev.org/openstack/manila refs/changes/56/672156/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/share-migration.inc', 'api-ref/source/share-groups.inc', 'api-ref/source/share-group-snapshots.inc', 'api-ref/source/share-group-types.inc']",4,e5582cc5a605a0044ce5f55e0f64abab34fefb8f,TrivialFix,"``share_group_type_access:is_public`` to ``False`` to make a share groupYou can manage access to the private share group types for different projects. You can add access, remove access, and get information about access for a private share group type. Administrators can specify which `share type(s) <#experimental-apis>`_ a given group type may contain. If Administrators do not explicitly associate share types with a given share group type, the service will associate the share type configured as the ``default_share_type`` with the share group type. When creating a share group, the scheduler picks one of the back ends that match a combination of the extra specs in the specified share type(s) and share group type. Share Group Types APIs are `experimental APIs <#experimental-apis>`_.","``share_group_type_access:is_public`` to ``False`` to make the share groupYou can manage the access to the private share group types for the different projects. You can add access, remove access, and get information about access for a private share group type. Administrators can specifies which `share type(s) <https://docs.openstack.org/api-ref/shared-file-system/#experimental-apis>`_ a given group type may contain. If Administrators does not specify it, then manila will use ``default`` share type. The scheduler then creates the group on one of the back ends that match the specified share type(s) and share group type. Share Group Types APIs are part of the `experimental APIs <https://docs.openstack.org/api-ref/shared-file-system/#experimental-apis>`_.",17,20
openstack%2Foctavia~master~I74ecc826596c5f739a49defe6588bcc741b03594,openstack/octavia,master,I74ecc826596c5f739a49defe6588bcc741b03594,Add cloud-init-datasources DIB element,MERGED,2019-07-16 11:54:42.000000000,2019-07-23 00:01:05.000000000,2019-07-23 00:01:05.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 25564}]","[{'number': 1, 'created': '2019-07-16 11:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/28e3df642db42525e4dabfa44b2cf9b19866ae36', 'message': 'Add cloud-init-datasources DIB element\n\nThe cloud-init-datasources DIB element configures cloud-init to only use\nan explicit list of data sources. Until the switch from ubuntu element\nto ubuntu-minimal, cloud-init was being configured to only use\nConfigDrive datasource because the ubuntu element had\ncloud-init-datasources as element dependency. The ubuntu-minimal and\nother OS elements (e.g. RHEL-based) do not have it, so the export\nDIB_CLOUD_INIT_DATASOURCES was not being used.\n\nChange-Id: I74ecc826596c5f739a49defe6588bcc741b03594\n'}, {'number': 2, 'created': '2019-07-16 12:34:56.000000000', 'files': ['diskimage-create/diskimage-create.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b12e5bb25e7cc3f492f2960898a31ce12b873aa9', 'message': 'Add cloud-init-datasources DIB element\n\nThe cloud-init-datasources DIB element configures cloud-init to only use\nan explicit list of data sources. Until the switch from ubuntu element\nto ubuntu-minimal, cloud-init was being configured to only use\nConfigDrive datasource because the ubuntu element had\ncloud-init-datasources as element dependency. The ubuntu-minimal and\nother OS elements (e.g. RHEL-based) do not have it, so the export\nDIB_CLOUD_INIT_DATASOURCES was not being used.\n\nChange-Id: I74ecc826596c5f739a49defe6588bcc741b03594\n'}]",0,671016,b12e5bb25e7cc3f492f2960898a31ce12b873aa9,13,5,2,6469,,,0,"Add cloud-init-datasources DIB element

The cloud-init-datasources DIB element configures cloud-init to only use
an explicit list of data sources. Until the switch from ubuntu element
to ubuntu-minimal, cloud-init was being configured to only use
ConfigDrive datasource because the ubuntu element had
cloud-init-datasources as element dependency. The ubuntu-minimal and
other OS elements (e.g. RHEL-based) do not have it, so the export
DIB_CLOUD_INIT_DATASOURCES was not being used.

Change-Id: I74ecc826596c5f739a49defe6588bcc741b03594
",git fetch https://review.opendev.org/openstack/octavia refs/changes/16/671016/2 && git format-patch -1 --stdout FETCH_HEAD,"['elements/amphora-agent/package-installs.yaml', 'diskimage-create/diskimage-create.sh']",2,28e3df642db42525e4dabfa44b2cf9b19866ae36,,export DIB_CLOUD_INIT_DATASOURCES=$CLOUD_INIT_DATASOURCES,"if [ ""$AMP_BASEOS"" = ""ubuntu-minimal"" ]; then export DIB_CLOUD_INIT_DATASOURCES=$CLOUD_INIT_DATASOURCES fi",2,3
openstack%2Fneutron-fwaas~master~Ia717bbac366bbd067e65a3895bb2ffb3aded75b7,openstack/neutron-fwaas,master,Ia717bbac366bbd067e65a3895bb2ffb3aded75b7,Switch tempest multinode job to zuulv3 and python3,MERGED,2019-07-16 10:44:09.000000000,2019-07-22 22:57:32.000000000,2019-07-22 22:57:32.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-16 10:44:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e900457ccac14a0fdc3a8c9e385047399ad5a7cd', 'message': 'Switch tempest multinode job to zuulv3 and python3\n\nOld job name was ""legacy-neutron-fwaas-v2-dsvm-tempest-multinode"",\nnew name is ""neutron-fwaas-v2-dsvm-tempest-multinode""\n\nChange-Id: Ia717bbac366bbd067e65a3895bb2ffb3aded75b7\n'}]",0,671005,e900457ccac14a0fdc3a8c9e385047399ad5a7cd,11,6,1,11975,,,0,"Switch tempest multinode job to zuulv3 and python3

Old job name was ""legacy-neutron-fwaas-v2-dsvm-tempest-multinode"",
new name is ""neutron-fwaas-v2-dsvm-tempest-multinode""

Change-Id: Ia717bbac366bbd067e65a3895bb2ffb3aded75b7
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/05/671005/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e900457ccac14a0fdc3a8c9e385047399ad5a7cd,switch-to-py3," - neutron-fwaas-v2-dsvm-tempest-multinode: - job: name: neutron-fwaas-v2-dsvm-tempest-multinode parent: tempest-multinode-full-py3 roles: - zuul: openstack/devstack required-projects: - openstack/devstack-gate - openstack/neutron - openstack/neutron-fwaas - openstack/tempest vars: tox_envlist: all-plugin tempest_test_regex: ^neutron_fwaas\. devstack_plugins: neutron: https://opendev.org/openstack/neutron.git neutron-fwaas: https://opendev.org/openstack/neutron-fwaas.git devstack_services: q-fwaas-v2: true devstack_localrc: NETWORK_API_EXTENSIONS: ""agent,binding,dhcp_agent_scheduler,external-net,ext-gw-mode,extra_dhcp_opts,quotas,router,security-group,subnet_allocation,network-ip-availability,auto-allocated-topology,timestamp_core,tag,service-type,rbac-policies,standard-attr-description,pagination,sorting,project-id,fwaas_v2"" group-vars: subnode: devstack_services: q-agt: true devstack_localrc: USE_PYTHON3: true devstack_local_conf: post-config: # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy ""/$NEUTRON_CORE_PLUGIN_CONF"": ovs: tunnel_bridge: br-tun bridge_mappings: public:br-ex", - legacy-neutron-fwaas-v2-dsvm-tempest-multinode:,37,1
openstack%2Fmonasca-persister~stable%2Frocky~Ia12d04708a88308e88fcbd488d72f4313ba42a36,openstack/monasca-persister,stable/rocky,Ia12d04708a88308e88fcbd488d72f4313ba42a36,Widen exception catch for point parse failure,MERGED,2019-06-25 11:22:44.000000000,2019-07-22 22:57:03.000000000,2019-07-22 22:57:03.000000000,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 11:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/32e0058b67acbfeb5866ad1f05bd60d9be01dccf', 'message': ""Widen exception catch for point parse failure\n\nThis change supports catching more parse errors which can jam\nthe persistor, such as:\n`partial write: unable to parse 'string_with_invalid_char.%'`.\n\nChange-Id: Ia12d04708a88308e88fcbd488d72f4313ba42a36\nStory: 2005430\nTask: 30468\n(cherry picked from commit f43d019a6726552f80d16a6e98cb947c063b4e74)\n(cherry picked from commit 37d24aff1322a16b93f31b2f806f3bdde08fea68)\n""}, {'number': 2, 'created': '2019-06-25 11:23:59.000000000', 'files': ['monasca_persister/repositories/persister.py'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/dbca7b606212d8e035166f936bbff0a2718fbf25', 'message': ""Widen exception catch for point parse failure\n\nThis change supports catching more parse errors which can jam\nthe persistor, such as:\n`partial write: unable to parse 'string_with_invalid_char.%'`.\n\nChange-Id: Ia12d04708a88308e88fcbd488d72f4313ba42a36\nStory: 2005430\nTask: 30468\n(cherry picked from commit f43d019a6726552f80d16a6e98cb947c063b4e74)\n""}]",0,667333,dbca7b606212d8e035166f936bbff0a2718fbf25,16,4,2,17669,,,0,"Widen exception catch for point parse failure

This change supports catching more parse errors which can jam
the persistor, such as:
`partial write: unable to parse 'string_with_invalid_char.%'`.

Change-Id: Ia12d04708a88308e88fcbd488d72f4313ba42a36
Story: 2005430
Task: 30468
(cherry picked from commit f43d019a6726552f80d16a6e98cb947c063b4e74)
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/33/667333/2 && git format-patch -1 --stdout FETCH_HEAD,['monasca_persister/repositories/persister.py'],1,32e0058b67acbfeb5866ad1f05bd60d9be01dccf,," and ""unable to parse"" in ex.message: LOG.warning(""Some points were unable to be parsed and were dropped"")"," and ""unable to parse points"" in ex.message: LOG.warning(""Some points unable to parse were dropped"")",2,2
openstack%2Foctavia~master~I8f509677da463bc5d0a7649f2f609045cf9b2dd7,openstack/octavia,master,I8f509677da463bc5d0a7649f2f609045cf9b2dd7,Add project_id to all of the provider objects,MERGED,2019-06-05 23:35:44.000000000,2019-07-22 22:38:56.000000000,2019-07-22 22:38:56.000000000,"[{'_account_id': 5367}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 23:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/38b7fd169522cb7befa96aa1ba300ee1fd64ee21', 'message': 'Add project_id to all of the provider objects\n\nThis patch adds a project_id field to all of the provider driver data\nmodel objects.\n\nThis is useful for drivers to track/associate objects on the backend.\n\nChange-Id: I8f509677da463bc5d0a7649f2f609045cf9b2dd7\n'}, {'number': 2, 'created': '2019-06-06 14:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f7eeee0fb570b7ad77cda6e507506024f170b541', 'message': 'Add project_id to all of the provider objects\n\nThis patch adds a project_id field to all of the provider driver data\nmodel objects.\n\nThis is useful for drivers to track/associate objects on the backend.\n\nDepends-On: https://review.opendev.org/663434\n\nChange-Id: I8f509677da463bc5d0a7649f2f609045cf9b2dd7\n'}, {'number': 3, 'created': '2019-06-11 18:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2b51ed5bfe7a27eda54a8c339566a1a3b490666b', 'message': 'Add project_id to all of the provider objects\n\nThis patch adds a project_id field to all of the provider driver data\nmodel objects.\n\nThis is useful for drivers to track/associate objects on the backend.\n\nDepends-On: https://review.opendev.org/663434\n\nChange-Id: I8f509677da463bc5d0a7649f2f609045cf9b2dd7\n'}, {'number': 4, 'created': '2019-07-22 15:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a15a54b5a245005e25cb72268768188f8d4a1e4d', 'message': 'Add project_id to all of the provider objects\n\nThis patch adds a project_id field to all of the provider driver data\nmodel objects.\n\nThis is useful for drivers to track/associate objects on the backend.\n\nDepends-On: https://review.opendev.org/663434\n\nChange-Id: I8f509677da463bc5d0a7649f2f609045cf9b2dd7\n'}, {'number': 5, 'created': '2019-07-22 18:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/846a4aebaaa64e6c2eca7757b3503b1ee0775f16', 'message': 'Add project_id to all of the provider objects\n\nThis patch adds a project_id field to all of the provider driver data\nmodel objects.\n\nThis is useful for drivers to track/associate objects on the backend.\n\nChange-Id: I8f509677da463bc5d0a7649f2f609045cf9b2dd7\n'}, {'number': 6, 'created': '2019-07-22 18:49:29.000000000', 'files': ['requirements.txt', 'doc/source/contributor/guides/providers.rst', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/tests/unit/api/drivers/sample_data_models.py', 'lower-constraints.txt', 'octavia/api/drivers/utils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/45cf2f328f7410955934cbd8d9f2adc21944c52b', 'message': 'Add project_id to all of the provider objects\n\nThis patch adds a project_id field to all of the provider driver data\nmodel objects.\n\nThis is useful for drivers to track/associate objects on the backend.\n\nChange-Id: I8f509677da463bc5d0a7649f2f609045cf9b2dd7\n'}]",0,663459,45cf2f328f7410955934cbd8d9f2adc21944c52b,29,4,6,11628,,,0,"Add project_id to all of the provider objects

This patch adds a project_id field to all of the provider driver data
model objects.

This is useful for drivers to track/associate objects on the backend.

Change-Id: I8f509677da463bc5d0a7649f2f609045cf9b2dd7
",git fetch https://review.opendev.org/openstack/octavia refs/changes/59/663459/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/guides/providers.rst', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/tests/unit/api/drivers/sample_data_models.py', 'octavia/api/drivers/utils.py']",4,38b7fd169522cb7befa96aa1ba300ee1fd64ee21,663459," new_listener_dict = _base_to_provider_dict(listener_dict, include_project_id=True) new_pool_dict = _base_to_provider_dict(pool_dict, include_project_id=True) new_member_dict = _base_to_provider_dict(member_dict, include_project_id=True) new_hm_dict = _base_to_provider_dict(hm_dict, include_project_id=True) new_l7policy_dict = _base_to_provider_dict(l7policy_dict, include_project_id=True) new_l7rule_dict = _base_to_provider_dict(l7rule_dict, include_project_id=True)", new_listener_dict = _base_to_provider_dict(listener_dict) new_pool_dict = _base_to_provider_dict(pool_dict) new_member_dict = _base_to_provider_dict(member_dict) new_hm_dict = _base_to_provider_dict(hm_dict) new_l7policy_dict = _base_to_provider_dict(l7policy_dict) new_l7rule_dict = _base_to_provider_dict(l7rule_dict),52,15
openstack%2Fnova~stable%2Frocky~I17cb1e58efdff5942dc8392c68514cf581506939,openstack/nova,stable/rocky,I17cb1e58efdff5942dc8392c68514cf581506939,"Revert ""tox: Use basepython of python3.5""",ABANDONED,2019-07-05 14:25:43.000000000,2019-07-22 22:38:56.000000000,,"[{'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-05 14:25:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/4987ee2f3454794fa9c01cc2953710439d723340', 'message': 'Revert ""tox: Use basepython of python3.5""\n\nThis reverts commit 0d2d4d688928d83dde8343dac609fbc283a6a240.\n\nThis change broke fast8/pep8 for environments that don\'t have\npython 3.5, like ubuntu bionic. While the py37 reason in the\nchange is valid, there is no py37 target in rocky but there is\na py36 target (though py27 and py35 are what we actually test\nagainst in the gate). As such, it seems most reasonable to\nrevert this to make py36 work as before and for those with\nonly py37 systems they will have to use a different\nenvironment for working on stable/rocky changes.\n\nChange-Id: I17cb1e58efdff5942dc8392c68514cf581506939\n'}]",2,669362,4987ee2f3454794fa9c01cc2953710439d723340,9,6,1,6873,,,0,"Revert ""tox: Use basepython of python3.5""

This reverts commit 0d2d4d688928d83dde8343dac609fbc283a6a240.

This change broke fast8/pep8 for environments that don't have
python 3.5, like ubuntu bionic. While the py37 reason in the
change is valid, there is no py37 target in rocky but there is
a py36 target (though py27 and py35 are what we actually test
against in the gate). As such, it seems most reasonable to
revert this to make py36 work as before and for those with
only py37 systems they will have to use a different
environment for working on stable/rocky changes.

Change-Id: I17cb1e58efdff5942dc8392c68514cf581506939
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/669362/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4987ee2f3454794fa9c01cc2953710439d723340,bug/1830926,basepython = python3,basepython = python3.5,1,1
openstack%2Fneutron-specs~master~I158b1be16fba7b3eb8d53a51625eb3d9b2a26773,openstack/neutron-specs,master,I158b1be16fba7b3eb8d53a51625eb3d9b2a26773,Add spec for custom ethertype feature,MERGED,2019-06-28 20:18:44.000000000,2019-07-22 22:13:04.000000000,2019-07-22 22:13:04.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-06-28 20:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/01bac6aedad02edb3b466f534474935c14400835', 'message': 'Add spec for custom ethertype feature\n\nThis change adds the first rough draft of a specification for the change\nto add control for custom ethertypes.\n\nChange-Id: I158b1be16fba7b3eb8d53a51625eb3d9b2a26773\nRelated-Bug: #1832758\n'}, {'number': 2, 'created': '2019-07-01 18:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4125991ec1a34ec371ee7b2369fc179380abc1b8', 'message': 'Add spec for custom ethertype feature\n\nThis change adds a specification for the change to add control for\ncustom ethertypes.\n\nChange-Id: I158b1be16fba7b3eb8d53a51625eb3d9b2a26773\nRelated-Bug: #1832758\n'}, {'number': 3, 'created': '2019-07-01 18:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3db1a9f464cd7882d30b101a9775f17d9ed9bd4c', 'message': 'Add spec for custom ethertype feature\n\nThis change adds a specification for the change to add control for\ncustom ethertypes.\n\nChange-Id: I158b1be16fba7b3eb8d53a51625eb3d9b2a26773\nRelated-Bug: #1832758\n'}, {'number': 4, 'created': '2019-07-05 21:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5d3a7cb36fafc5a4059553be5a75f653a5bed9a5', 'message': 'Add spec for custom ethertype feature\n\nThis change adds a specification for the change to add control for\ncustom ethertypes.\n\nChange-Id: I158b1be16fba7b3eb8d53a51625eb3d9b2a26773\nRelated-Bug: #1832758\n'}, {'number': 5, 'created': '2019-07-05 21:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/59c572e13fe8cc388ea4e375cb314bdb5a08e208', 'message': 'Add spec for custom ethertype feature\n\nThis change adds a specification for the change to add control for\ncustom ethertypes.\n\nChange-Id: I158b1be16fba7b3eb8d53a51625eb3d9b2a26773\nRelated-Bug: #1832758\n'}, {'number': 6, 'created': '2019-07-10 22:05:30.000000000', 'files': ['specs/train/custom_ethertypes.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2bbb80d049e27bcbfde5a16bb99e48ab2e89d883', 'message': 'Add spec for custom ethertype feature\n\nThis change adds a specification for the change to add control for\ncustom ethertypes.\n\nChange-Id: I158b1be16fba7b3eb8d53a51625eb3d9b2a26773\nRelated-Bug: #1832758\n'}]",18,668242,2bbb80d049e27bcbfde5a16bb99e48ab2e89d883,28,9,6,13995,,,0,"Add spec for custom ethertype feature

This change adds a specification for the change to add control for
custom ethertypes.

Change-Id: I158b1be16fba7b3eb8d53a51625eb3d9b2a26773
Related-Bug: #1832758
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/42/668242/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/custom_ethertypes.rst'],1,01bac6aedad02edb3b466f534474935c14400835,custom_ethertypes,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== API Support for Managing Custom Ethertypes ========================================== Some operators need to allow/deny custom Ethertypes for applications which use their own non-IP traffic (such as for clustering applications). The Security Group API only handles specifying behavior within the IP protocol. With the firewall reference implementation (OVS Firewall) anything other than IPv4 and IPv6 is subject to the default deny. This means OpenStack customers have no options to use OpenStack to permit protocols that use separate ethertypes like InfiniBand and FCoE. This specification proposes adding to the Security Group API the capability to specify standard security group behaviors (allow, deny) for custom ethertypes, with the aim of implementing these controls in the OVS firewall. Problem Description =================== The first implementation of security groups in Openstack was based on iptables, which only controls traffic for the IPv4 or IPv6 ethertypes. Since all subsequent implementations have been built on the conceptual foundation of that initial implementation, the behavior of Neutron security groups for traffic that has other ethertypes has been undefined. In the case of the OVS Firewall driver, the behavior is for traffic with non-IP ethertypes to fall through to the default deny action. A flow could be added by an operator to permit this traffic, but it would be removed the next time the neutron-openvswitch-agent restarted. This is a runtime requirement, so deployment time tools like TripleO or Ansible are unable to handle it. Use case: Customer is running an application using InfiniBand (ethertype 0x4008) in OpenStack, and that OpenStack transitions from iptables_hybrid to ovs firewall. The Infiniband traffic is blocked by the ovs firewall, and at present the Neutron API offers no methodology to unblock it. Proposed Change =============== The best solution is a new API extension that makes Neutron aware of permitted ethertypes and adjust OVS firewall rules appropriately. The current security group APIs take an ethertype option, which is constrained to IPv4 and IPv6; implementing this spec will lift that restriction, so that additional security types can be specified by hexadecimal number. If a non-IP ethertype is specified then the following arguments are ignored: protocol, port_range_max, port_range_min, remote_group_id, remote_ip_prefix. This change will also require minor modifications to the database schema and corresponding OVO object to ensure custom ethertypes are conveyed properly. The initial implementation for this is intended to be in the OVN firewall and the OVS firewall. Control for traffic with a custom ethertype will be all or nothing, a given protocol will be etiehr entirely blocked or entirely allowed. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. ",,73,0
openstack%2Fopenstack-ansible-memcached_server~master~I9ee285aeae85ccf6827a652dcd4ff06958141615,openstack/openstack-ansible-memcached_server,master,I9ee285aeae85ccf6827a652dcd4ff06958141615,Use systemd-journald instead of log files,MERGED,2019-07-22 13:40:39.000000000,2019-07-22 22:10:32.000000000,2019-07-22 22:10:32.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-07-22 13:40:39.000000000', 'files': ['templates/memcached.conf.debian.j2', 'tests/test.yml', 'tasks/memcached_config.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/141db60ee66ef76c632d514398e959e4fea4119f', 'message': 'Use systemd-journald instead of log files\n\nThis patch aims to migrate service from usage of regular syslog files\nto journald.\n\nChange-Id: I9ee285aeae85ccf6827a652dcd4ff06958141615\n'}]",0,672046,141db60ee66ef76c632d514398e959e4fea4119f,8,3,1,28619,,,0,"Use systemd-journald instead of log files

This patch aims to migrate service from usage of regular syslog files
to journald.

Change-Id: I9ee285aeae85ccf6827a652dcd4ff06958141615
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/46/672046/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/memcached.conf.debian.j2', 'tests/test.yml', 'tasks/memcached_config.yml', 'defaults/main.yml']",4,141db60ee66ef76c632d514398e959e4fea4119f,use_journalctl,,memcached_log: /var/log/memcached/memcached.log,0,35
openstack%2Fkeystone-tempest-plugin~master~I4f76e167a9d29e36dd66ecb82b92b63a3cd07d35,openstack/keystone-tempest-plugin,master,I4f76e167a9d29e36dd66ecb82b92b63a3cd07d35,Fix sphinx requirement for python2,MERGED,2019-05-28 18:54:12.000000000,2019-07-22 22:00:06.000000000,2019-07-22 22:00:05.000000000,"[{'_account_id': 2903}, {'_account_id': 8482}, {'_account_id': 11022}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-05-28 18:54:12.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/806103f188cd9a56f1b2b81d86a8d2413cffff5d', 'message': 'Fix sphinx requirement for python2\n\nEnsure the sphinx requirement passes the requirements-check job.\n\nChange-Id: I4f76e167a9d29e36dd66ecb82b92b63a3cd07d35\n'}]",0,661828,806103f188cd9a56f1b2b81d86a8d2413cffff5d,11,6,1,8482,,,0,"Fix sphinx requirement for python2

Ensure the sphinx requirement passes the requirements-check job.

Change-Id: I4f76e167a9d29e36dd66ecb82b92b63a3cd07d35
",git fetch https://review.opendev.org/openstack/keystone-tempest-plugin refs/changes/28/661828/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,806103f188cd9a56f1b2b81d86a8d2413cffff5d,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fnova~master~I6fc3cb0651f65b2448fbbb58989c920974f076c3,openstack/nova,master,I6fc3cb0651f65b2448fbbb58989c920974f076c3,Add 'resource_request' to neutronv2/constants,MERGED,2019-07-03 15:58:06.000000000,2019-07-22 21:59:56.000000000,2019-07-22 21:59:56.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-07-03 15:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/feb9087ecd81eaed1e44c0cb81f4970104bac253', 'message': ""Add 'resource_request' to neutronv2/constants\n\nThis patch replaces of the string usage with referring to the new\nconstant in neutronv2/constants.py\n\nChange-Id: I6fc3cb0651f65b2448fbbb58989c920974f076c3\n""}, {'number': 2, 'created': '2019-07-04 13:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/872cb842a327203649c14ad4c6b742605a55a298', 'message': ""Add 'resource_request' to neutronv2/constants\n\nThis patch replaces of the string usage with referring to the new\nconstant in neutronv2/constants.py\n\nChange-Id: I6fc3cb0651f65b2448fbbb58989c920974f076c3\n""}, {'number': 3, 'created': '2019-07-08 16:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db91eb6532b2ea184af8877e728d2f31e9f2aadd', 'message': ""Add 'resource_request' to neutronv2/constants\n\nThis patch replaces of the string usage with referring to the new\nconstant in neutronv2/constants.py\n\nChange-Id: I6fc3cb0651f65b2448fbbb58989c920974f076c3\n""}, {'number': 4, 'created': '2019-07-09 08:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a061f8488cfdaa32c1061cb7a3fffa054cbb22c2', 'message': ""Add 'resource_request' to neutronv2/constants\n\nThis patch replaces of the string usage with referring to the new\nconstant in neutronv2/constants.py\n\nChange-Id: I6fc3cb0651f65b2448fbbb58989c920974f076c3\n""}, {'number': 5, 'created': '2019-07-09 11:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/436cabbbf8a9ff1f5ed64f22d835059280b740a7', 'message': ""Add 'resource_request' to neutronv2/constants\n\nThis patch replaces of the string usage with referring to the new\nconstant in neutronv2/constants.py\n\nChange-Id: I6fc3cb0651f65b2448fbbb58989c920974f076c3\n""}, {'number': 6, 'created': '2019-07-11 11:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c65dbb069ec68dfb3c66d3a7814c434542fc5c29', 'message': ""Add 'resource_request' to neutronv2/constants\n\nThis patch replaces of the string usage with referring to the new\nconstant in neutronv2/constants.py\n\nChange-Id: I6fc3cb0651f65b2448fbbb58989c920974f076c3\n""}, {'number': 7, 'created': '2019-07-16 11:26:14.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/fixtures.py', 'nova/network/neutronv2/constants.py', 'nova/api/openstack/common.py', 'nova/cmd/manage.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dc4ca77e4c21ab4730bec6305c58f18b9fa2f8db', 'message': ""Add 'resource_request' to neutronv2/constants\n\nThis patch replaces of the string usage with referring to the new\nconstant in neutronv2/constants.py\n\nChange-Id: I6fc3cb0651f65b2448fbbb58989c920974f076c3\n""}]",0,668947,dc4ca77e4c21ab4730bec6305c58f18b9fa2f8db,64,14,7,9708,,,0,"Add 'resource_request' to neutronv2/constants

This patch replaces of the string usage with referring to the new
constant in neutronv2/constants.py

Change-Id: I6fc3cb0651f65b2448fbbb58989c920974f076c3
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/668947/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/fixtures.py', 'nova/network/neutronv2/constants.py', 'nova/api/openstack/common.py', 'nova/cmd/manage.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py']",10,feb9087ecd81eaed1e44c0cb81f4970104bac253,bug/1819923,from nova.network.neutronv2 import constants if port['port'].get(constants.RESOURCE_REQUEST):, if port['port'].get('resource_request'):,40,30
openstack%2Fnova~master~Ief0305afd34546c12a50c308fc59eeb26d80eeca,openstack/nova,master,Ief0305afd34546c12a50c308fc59eeb26d80eeca,Use neutron contants in cmd/manage.py,MERGED,2019-07-03 15:58:06.000000000,2019-07-22 21:59:48.000000000,2019-07-22 21:59:47.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-07-03 15:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/708caaadbbbdb6f69321ec93bb79857899059514', 'message': 'Use neutron contants in cmd/manage.py\n\nChange-Id: Ief0305afd34546c12a50c308fc59eeb26d80eeca\n'}, {'number': 2, 'created': '2019-07-04 13:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fdeafb8c3a58e56f962a9a6c1c10854cef2792d8', 'message': 'Use neutron contants in cmd/manage.py\n\nChange-Id: Ief0305afd34546c12a50c308fc59eeb26d80eeca\n'}, {'number': 3, 'created': '2019-07-08 16:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/728f66e0e6e3d7d3b8892c339389146f31ea7d89', 'message': 'Use neutron contants in cmd/manage.py\n\nChange-Id: Ief0305afd34546c12a50c308fc59eeb26d80eeca\n'}, {'number': 4, 'created': '2019-07-09 08:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24f6ea23432ddd1e01a800205e6be175891bfd72', 'message': 'Use neutron contants in cmd/manage.py\n\nChange-Id: Ief0305afd34546c12a50c308fc59eeb26d80eeca\n'}, {'number': 5, 'created': '2019-07-09 11:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed9910008a3ad874e088a9c35a4acdf3a786336d', 'message': 'Use neutron contants in cmd/manage.py\n\nChange-Id: Ief0305afd34546c12a50c308fc59eeb26d80eeca\n'}, {'number': 6, 'created': '2019-07-11 11:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be4b608e9441b67c85c506e5bcd0addefc9f88c9', 'message': 'Use neutron contants in cmd/manage.py\n\nChange-Id: Ief0305afd34546c12a50c308fc59eeb26d80eeca\n'}, {'number': 7, 'created': '2019-07-16 11:26:14.000000000', 'files': ['nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d939eadd3ba6d7e83c8c099183968273359bb349', 'message': 'Use neutron contants in cmd/manage.py\n\nChange-Id: Ief0305afd34546c12a50c308fc59eeb26d80eeca\n'}]",0,668946,d939eadd3ba6d7e83c8c099183968273359bb349,71,16,7,9708,,,0,"Use neutron contants in cmd/manage.py

Change-Id: Ief0305afd34546c12a50c308fc59eeb26d80eeca
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/668946/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,708caaadbbbdb6f69321ec93bb79857899059514,bug/1819923,"from nova.network.neutronv2 import constants def has_reques_but_no_allocation(port): request = port.get('resource_request') allocation = port.get( constants.BINDING_PROFILE, {}).get(constants.ALLOCATION) return request and not allocation if has_reques_but_no_allocation(port)] binding_profile = port.get(constants.BINDING_PROFILE, {}) binding_profile[constants.ALLOCATION] = rp_uuid port[constants.BINDING_PROFILE] = binding_profile rp_uuid = port[constants.BINDING_PROFILE][constants.ALLOCATION] constants.BINDING_PROFILE: { constants.ALLOCATION: rp_uuid profile = { key: value for key, value in port[constants.BINDING_PROFILE].items() if key != constants.ALLOCATION} constants.BINDING_PROFILE: profile"," if (port.get('resource_request') and not port.get('binding:profile', {}).get('allocation'))] binding_profile = port.get('binding:profile', {}) binding_profile['allocation'] = rp_uuid port['binding:profile'] = binding_profile 'binding:profile': { 'allocation': port['binding:profile']['allocation'] profile = {key: value for key, value in port['binding:profile'].items() if key != 'allocation'} 'binding:profile': profile",19,11
openstack%2Fnova~master~Ib083694d3881dee6b10c400239db90eca9163516,openstack/nova,master,Ib083694d3881dee6b10c400239db90eca9163516,Move consts from neutronv2/api to constants module,MERGED,2019-07-03 15:58:06.000000000,2019-07-22 21:59:37.000000000,2019-07-22 21:59:37.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-07-03 15:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f66f66cfca9bb2641ec65d248498084f38f1297', 'message': 'Mova consts from neutronv2/api to constants module\n\nChange-Id: Ib083694d3881dee6b10c400239db90eca9163516\n'}, {'number': 2, 'created': '2019-07-04 13:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f46a94cdef87da4f2d43133969eac68b96f8b7d', 'message': 'Mova consts from neutronv2/api to constants module\n\nChange-Id: Ib083694d3881dee6b10c400239db90eca9163516\n'}, {'number': 3, 'created': '2019-07-04 13:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05449591cf726f0fd3e162f288767ff0987c1ee5', 'message': 'Move consts from neutronv2/api to constants module\n\nChange-Id: Ib083694d3881dee6b10c400239db90eca9163516\n'}, {'number': 4, 'created': '2019-07-08 16:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d4702c4d4ad993d17a527e71bca608d1e0495b4', 'message': 'Move consts from neutronv2/api to constants module\n\nChange-Id: Ib083694d3881dee6b10c400239db90eca9163516\n'}, {'number': 5, 'created': '2019-07-09 07:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3aed7af9f0cb98007520702447d4108d5d889d24', 'message': 'Move consts from neutronv2/api to constants module\n\nChange-Id: Ib083694d3881dee6b10c400239db90eca9163516\n'}, {'number': 6, 'created': '2019-07-09 11:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/152bb8f059a214520a9aca825539f89a6c8c0d60', 'message': 'Move consts from neutronv2/api to constants module\n\nChange-Id: Ib083694d3881dee6b10c400239db90eca9163516\n'}, {'number': 7, 'created': '2019-07-11 11:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f7820f11df24a3884e474cc2636bad3ba30696b', 'message': 'Move consts from neutronv2/api to constants module\n\nChange-Id: Ib083694d3881dee6b10c400239db90eca9163516\n'}, {'number': 8, 'created': '2019-07-16 11:10:11.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/network/neutronv2/constants.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b7fbe96b0b4a9f345eed026d24c2886c6d9fe39e', 'message': 'Move consts from neutronv2/api to constants module\n\nChange-Id: Ib083694d3881dee6b10c400239db90eca9163516\n'}]",3,668945,b7fbe96b0b4a9f345eed026d24c2886c6d9fe39e,70,15,8,9708,,,0,"Move consts from neutronv2/api to constants module

Change-Id: Ib083694d3881dee6b10c400239db90eca9163516
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/668945/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/constants.py']",3,6f66f66cfca9bb2641ec65d248498084f38f1297,,"DEFAULT_SECGROUP = 'default' BINDING_PROFILE = 'binding:profile' BINDING_HOST_ID = 'binding:host_id' MIGRATING_ATTR = 'migrating_to' L3_NETWORK_TYPES = ['vxlan', 'gre', 'geneve'] ALLOCATION = 'allocation'",,146,123
openstack%2Fnova~master~I4b2b1688822eb2f0174df0c8c6c16d554781af85,openstack/nova,master,I4b2b1688822eb2f0174df0c8c6c16d554781af85,nova-manage: heal port allocations,MERGED,2019-02-19 17:54:27.000000000,2019-07-22 21:59:30.000000000,2019-07-22 21:59:30.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-02-19 17:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba7ed09f15c09906d181eef74e2021b910f3c98b', 'message': ""nova-manage: heal port allocations\n\n<Brew a cup of coffee or tea before you read the patch, it is complex>\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nTODO:\n* more test\n* documentation\n* refactor a lot\n\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 2, 'created': '2019-02-20 08:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5973e8eca0dc2e052265da2e7bd2f2963763bf42', 'message': ""nova-manage: heal port allocations\n\n<Brew a cup of coffee or tea before you read the patch, it is complex>\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nTODO:\n* more test\n* documentation\n* refactor a lot\n\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 3, 'created': '2019-02-20 13:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a21a277ad3e96e4093adcc262d110b453cd4230a', 'message': ""nova-manage: heal port allocations\n\n<Brew a cup of coffee or tea before you read the patch, it is complex>\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nTODO:\n* more test\n* documentation\n* refactor a lot\n\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 4, 'created': '2019-02-20 16:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f844354515f26d96e88f3172f09c63489b6d843c', 'message': ""nova-manage: heal port allocations\n\n<Brew a cup of coffee or tea before you read the patch, it is complex>\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nTODO:\n* more test\n* documentation\n* refactor a lot\n\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 5, 'created': '2019-02-21 11:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19b444128d12116e5f7577bef41cff40492fbf20', 'message': ""nova-manage: heal port allocations\n\n<Brew a cup of coffee or tea before you read the patch, it is complex>\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nTODO:\n* more test\n* documentation\n* refactor a lot\n\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 6, 'created': '2019-02-22 09:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2466e2b2a9a23ad66a5d71bb464b39e7006566d5', 'message': ""nova-manage: heal port allocations\n\n<Brew a cup of coffee or tea before you read the patch, it is complex>\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nTODO:\n* more test\n* documentation\n* refactor a lot\n\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 7, 'created': '2019-02-27 13:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/826808e1f92a95a9c747566572ce033b3049a849', 'message': ""nova-manage: heal port allocations\n\n<Brew a cup of coffee or tea before you read the patch, it is complex>\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nTODO:\n* more test\n* documentation\n* refactor a lot\n\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 8, 'created': '2019-02-27 13:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e1b86f65f26ed7f34d36fe7272a3848f14d2e98', 'message': ""nova-manage: heal port allocations\n\n<Brew a cup of coffee or tea before you read the patch, it is complex>\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nTODO:\n* more test\n* documentation\n* refactor a lot\n\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 9, 'created': '2019-02-27 17:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c5c02bee98e7044c221fcd5f89f70bb254bdaa3', 'message': ""nova-manage: heal port allocations\n\n<Brew a cup of coffee or tea before you read the patch, it is complex>\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nTODO:\n* more test\n* documentation\n* refactor a lot\n\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 10, 'created': '2019-03-13 15:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bbaf409f6280aa8b0b1a81ad1a276ca1ef9f8272', 'message': ""nova-manage: heal port allocations\n\n<Brew a cup of coffee or tea before you read the patch, it is complex>\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nTODO:\n* more test\n* documentation\n* refactor a lot\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 11, 'created': '2019-03-18 16:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae69bf61eb9358f41709068d3c3932c7cd61c62d', 'message': ""nova-manage: heal port allocations\n\n<Brew a cup of coffee or tea before you read the patch, it is complex>\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nTODO:\n* more test\n* documentation\n* refactor\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 12, 'created': '2019-03-27 17:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c195828dca0756c13d96ac8307bbdfa0a58f4a8', 'message': ""nova-manage: heal port allocations\n\n<Brew a cup of coffee or tea before you read the patch, it is complex>\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nTODO:\n* more test\n* documentation\n* refactor\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 13, 'created': '2019-03-28 13:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1b11d2e747cfedad5ce1123d6bc80fa579bd02a', 'message': ""nova-manage: heal port allocations\n\n<Brew a cup of coffee or tea before you read the patch, it is complex>\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nTODO:\n* more test\n* documentation\n* refactor\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 14, 'created': '2019-03-28 17:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5cca59b242ab5d1d20bc79d420dd924fa2a4e89d', 'message': ""nova-manage: heal port allocations\n\n<Brew a cup of coffee or tea before you read the patch, it is complex>\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nThere is one edge case that needs manual steps to recover from. If the\nallocation in placement is healed successfully for an instance but the\nbinding:profile.allocation key of any of the ports of the instance\ncannot be updated in neutron then the script does not try to rollback\nthe placement allocation. The script will print out a detailed error\nmessage and a list of OpenStack CLI commands asking the admin to run\nthem before continue healing allocatons. If the healing is run again\nwithout this step the placement allocations for the ports of this\ninstance are doubled.\n\nTODO:\n* more test\n* documentation\n* refactor\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 15, 'created': '2019-03-29 16:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56a763b20f4ebe3607f87a008fd98b4129267eac', 'message': ""nova-manage: heal port allocations\n\n<Brew a cup of coffee or tea before you read the patch, it is complex>\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nThere is one edge case that needs manual steps to recover from. If the\nallocation in placement is healed successfully for an instance but the\nbinding:profile.allocation key of any of the ports of the instance\ncannot be updated in neutron then the script does not try to rollback\nthe placement allocation. The script will print out a detailed error\nmessage and a list of OpenStack CLI commands asking the admin to run\nthem before continue healing allocatons. If the healing is run again\nwithout this step the placement allocations for the ports of this\ninstance are doubled.\n\nTODO:\n* more test\n* documentation\n* refactor\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 16, 'created': '2019-04-08 16:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/340e3e5cae744650eb45bf7e64e2e44e7979aaf6', 'message': ""nova-manage: heal port allocations\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nThere is one edge case that needs manual steps to recover from. If the\nallocation in placement is healed successfully for an instance but the\nbinding:profile.allocation key of any of the ports of the instance\ncannot be updated in neutron then the script does not try to rollback\nthe placement allocation. The script will print out a detailed error\nmessage and a list of OpenStack CLI commands asking the admin to run\nthem before continue healing allocatons. If the healing is run again\nwithout this step the placement allocations for the ports of this\ninstance are doubled.\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 17, 'created': '2019-04-08 16:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/152419d4e0462ddc25709ed88e1e70a95c562c8c', 'message': ""nova-manage: heal port allocations\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nThere is one edge case that needs manual steps to recover from. If the\nallocation in placement is healed successfully for an instance but the\nbinding:profile.allocation key of any of the ports of the instance\ncannot be updated in neutron then the script does not try to rollback\nthe placement allocation. The script will print out a detailed error\nmessage and a list of OpenStack CLI commands asking the admin to run\nthem before continue healing allocatons. If the healing is run again\nwithout this step the placement allocations for the ports of this\ninstance are doubled.\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 18, 'created': '2019-04-23 15:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ca4cd2455997121909de8374acc358cecb2b15c', 'message': ""nova-manage: heal port allocations\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nThere is one edge case that needs manual steps to recover from. If the\nallocation in placement is healed successfully for an instance but the\nbinding:profile.allocation key of any of the ports of the instance\ncannot be updated in neutron then the script does not try to rollback\nthe placement allocation. The script will print out a detailed error\nmessage and a list of OpenStack CLI commands asking the admin to run\nthem before continue healing allocatons. If the healing is run again\nwithout this step the placement allocations for the ports of this\ninstance are doubled.\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 19, 'created': '2019-04-24 14:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bdeeb07a3c35871d222515943286277d2350a1a5', 'message': ""nova-manage: heal port allocations\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nThere is one edge case that needs manual steps to recover from. If the\nallocation in placement is healed successfully for an instance but the\nbinding:profile.allocation key of any of the ports of the instance\ncannot be updated in neutron then the script does not try to rollback\nthe placement allocation. The script will print out a detailed error\nmessage and a list of OpenStack CLI commands asking the admin to run\nthem before continue healing allocatons. If the healing is run again\nwithout this step the placement allocations for the ports of this\ninstance are doubled.\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 20, 'created': '2019-04-30 02:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08b2a4e3a291ca646ad678a6cb9c2d7dc6c7c800', 'message': ""nova-manage: heal port allocations\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nThere is one edge case that needs manual steps to recover from. If the\nallocation in placement is healed successfully for an instance but the\nbinding:profile.allocation key of any of the ports of the instance\ncannot be updated in neutron then the script does not try to rollback\nthe placement allocation. The script will print out a detailed error\nmessage and a list of OpenStack CLI commands asking the admin to run\nthem before continue healing allocatons. If the healing is run again\nwithout this step the placement allocations for the ports of this\ninstance are doubled.\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 21, 'created': '2019-04-30 13:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bbb5856c32b9c6b2ba600c3f2a5dfeab4f61138', 'message': ""nova-manage: heal port allocations\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nThere is one edge case that needs manual steps to recover from. If the\nallocation in placement is healed successfully for an instance but the\nbinding:profile.allocation key of any of the ports of the instance\ncannot be updated in neutron then the script does not try to rollback\nthe placement allocation. The script will print out a detailed error\nmessage and a list of OpenStack CLI commands asking the admin to run\nthem before continue healing allocatons. If the healing is run again\nwithout this step the placement allocations for the ports of this\ninstance are doubled.\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 22, 'created': '2019-05-04 17:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0be5b103c900a0d97b67e56e022dd3b13fa9da1', 'message': ""nova-manage: heal port allocations\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nThere is one edge case that needs manual steps to recover from. If the\nallocation in placement is healed successfully for an instance but the\nbinding:profile.allocation key of any of the ports of the instance\ncannot be updated in neutron then the script does not try to rollback\nthe placement allocation. The script will print out a detailed error\nmessage and a list of OpenStack CLI commands asking the admin to run\nthem before continue healing allocatons. If the healing is run again\nwithout this step the placement allocations for the ports of this\ninstance are doubled.\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 23, 'created': '2019-05-05 12:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9de794297595ec21ab258de27b1862a0df0bd4a', 'message': ""nova-manage: heal port allocations\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nThere is one edge case that needs manual steps to recover from. If the\nallocation in placement is healed successfully for an instance but the\nbinding:profile.allocation key of any of the ports of the instance\ncannot be updated in neutron then the script does not try to rollback\nthe placement allocation. The script will print out a detailed error\nmessage and a list of OpenStack CLI commands asking the admin to run\nthem before continue healing allocatons. If the healing is run again\nwithout this step the placement allocations for the ports of this\ninstance are doubled.\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 24, 'created': '2019-05-10 09:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43429c03edb71e4d02ac593dfbe05b57f2ec82f9', 'message': ""nova-manage: heal port allocations\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nThere is one edge case that needs manual steps to recover from. If the\nallocation in placement is healed successfully for an instance but the\nbinding:profile.allocation key of any of the ports of the instance\ncannot be updated in neutron then the script does not try to rollback\nthe placement allocation. The script will print out a detailed error\nmessage and a list of OpenStack CLI commands asking the admin to run\nthem before continue healing allocatons. If the healing is run again\nwithout this step the placement allocations for the ports of this\ninstance are doubled.\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 25, 'created': '2019-05-28 08:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c43f1a796312f976b7c0df5f8fbfe4cd0a04e493', 'message': ""nova-manage: heal port allocations\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nThere is one edge case that needs manual steps to recover from. If the\nallocation in placement is healed successfully for an instance but the\nbinding:profile.allocation key of any of the ports of the instance\ncannot be updated in neutron then the script does not try to rollback\nthe placement allocation. The script will print out a detailed error\nmessage and a list of OpenStack CLI commands asking the admin to run\nthem before continue healing allocatons. If the healing is run again\nwithout this step the placement allocations for the ports of this\ninstance are doubled.\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 26, 'created': '2019-06-05 15:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c1d8a65054f5fe9cdc11662257a5be3ecf02c2f', 'message': ""nova-manage: heal port allocations\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nThere is one edge case that needs manual steps to recover from. If the\nallocation in placement is healed successfully for an instance but the\nbinding:profile.allocation key of any of the ports of the instance\ncannot be updated in neutron then the script does not try to rollback\nthe placement allocation. The script will print out a detailed error\nmessage and a list of OpenStack CLI commands asking the admin to run\nthem before continue healing allocatons. If the healing is run again\nwithout this step the placement allocations for the ports of this\ninstance are doubled.\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 27, 'created': '2019-06-26 08:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7330f0a89bace4f7f2cc90fad97ba43dac87ad68', 'message': ""nova-manage: heal port allocations\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nThere is one edge case that needs manual steps to recover from. If the\nallocation in placement is healed successfully for an instance but the\nbinding:profile.allocation key of any of the ports of the instance\ncannot be updated in neutron then the script does not try to rollback\nthe placement allocation. The script will print out a detailed error\nmessage and a list of OpenStack CLI commands asking the admin to run\nthem before continue healing allocatons. If the healing is run again\nwithout this step the placement allocations for the ports of this\ninstance are doubled.\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 28, 'created': '2019-06-27 08:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34e9e6782385f86cbffccf17c36414896fb4daae', 'message': ""nova-manage: heal port allocations\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports had resource_request (e.g. a port with\nQoS minimum bandwidth policy rule) without allocated the requested\nresources in placement. So there could be servers which allocation needs\nto be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP on in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented the admin can heal the\nallocation of such servers by migrating them.\n\nThere is one edge case that needs manual steps to recover from. If the\nallocation in placement is healed successfully for an instance but the\nbinding:profile.allocation key of any of the ports of the instance\ncannot be updated in neutron then the script does not try to rollback\nthe placement allocation. The script will print out a detailed error\nmessage and a list of OpenStack CLI commands asking the admin to run\nthem before continue healing allocatons. If the healing is run again\nwithout this step the placement allocations for the ports of this\ninstance are doubled.\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 29, 'created': '2019-07-01 14:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/254989d4b9904403e2644ac93207f7964d3cf666', 'message': ""nova-manage: heal port allocations\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports which had resource_request (e.g. a\nport with QoS minimum bandwidth policy rule) without allocating the\nrequested resources in placement. So there could be servers which\nallocation needs to be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented in the blueprint\nsupport-move-ops-with-qos-ports the admin can heal the allocation of\nsuch servers by migrating them.\n\nThere is one edge case that needs manual steps to recover from. If the\nallocation in placement is healed successfully for an instance but the\nbinding:profile.allocation key of any of the ports of the instance\ncannot be updated in neutron then the script does not try to rollback\nthe placement allocation. The script will print out a detailed error\nmessage and a list of OpenStack CLI commands asking the admin to run\nthem before continue healing allocatons. If the healing is run again\nwithout this step the placement allocations for the ports of this\ninstance are doubled.\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 30, 'created': '2019-07-02 17:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb345c9d498ee90ccda80c0940d8439dcf027208', 'message': ""nova-manage: heal port allocations\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports which had resource_request (e.g. a\nport with QoS minimum bandwidth policy rule) without allocating the\nrequested resources in placement. So there could be servers which\nallocation needs to be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented in the blueprint\nsupport-move-ops-with-qos-ports the admin can heal the allocation of\nsuch servers by migrating them.\n\nDuring healing both placement and neutron need to be updated. If any of\nthose updates fail the code try to roll back the previous updates for\nthe instance to make sure that the healing can be re-run later without\nissue. However if the rollback fails then the script will terminate with\nan error message pointing to a documentation that describe how to\nrecover from such a partially healed situation manually.\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 31, 'created': '2019-07-04 13:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f31b8946d967cdb5bd13846164381c611a20541f', 'message': ""nova-manage: heal port allocations\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports which had resource_request (e.g. a\nport with QoS minimum bandwidth policy rule) without allocating the\nrequested resources in placement. So there could be servers which\nallocation needs to be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented in the blueprint\nsupport-move-ops-with-qos-ports the admin can heal the allocation of\nsuch servers by migrating them.\n\nDuring healing both placement and neutron need to be updated. If any of\nthose updates fail the code try to roll back the previous updates for\nthe instance to make sure that the healing can be re-run later without\nissue. However if the rollback fails then the script will terminate with\nan error message pointing to a documentation that describe how to\nrecover from such a partially healed situation manually.\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 32, 'created': '2019-07-08 16:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c33937a1ac9508e936eb9c755e6c0992c48d3e6', 'message': ""nova-manage: heal port allocations\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports which had resource_request (e.g. a\nport with QoS minimum bandwidth policy rule) without allocating the\nrequested resources in placement. So there could be servers which\nallocation needs to be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented in the blueprint\nsupport-move-ops-with-qos-ports the admin can heal the allocation of\nsuch servers by migrating them.\n\nDuring healing both placement and neutron need to be updated. If any of\nthose updates fail the code try to roll back the previous updates for\nthe instance to make sure that the healing can be re-run later without\nissue. However if the rollback fails then the script will terminate with\nan error message pointing to a documentation that describe how to\nrecover from such a partially healed situation manually.\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 33, 'created': '2019-07-09 07:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a0cd94bb5992d368fb1760deb996902d06f3c50', 'message': ""nova-manage: heal port allocations\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports which had resource_request (e.g. a\nport with QoS minimum bandwidth policy rule) without allocating the\nrequested resources in placement. So there could be servers which\nallocation needs to be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented in the blueprint\nsupport-move-ops-with-qos-ports the admin can heal the allocation of\nsuch servers by migrating them.\n\nDuring healing both placement and neutron need to be updated. If any of\nthose updates fail the code try to roll back the previous updates for\nthe instance to make sure that the healing can be re-run later without\nissue. However if the rollback fails then the script will terminate with\nan error message pointing to a documentation that describe how to\nrecover from such a partially healed situation manually.\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 34, 'created': '2019-07-09 11:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e14b1b658b3b7eb1543d0a0f90bb4b8075d0df0', 'message': ""nova-manage: heal port allocations\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports which had resource_request (e.g. a\nport with QoS minimum bandwidth policy rule) without allocating the\nrequested resources in placement. So there could be servers which\nallocation needs to be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented in the blueprint\nsupport-move-ops-with-qos-ports the admin can heal the allocation of\nsuch servers by migrating them.\n\nDuring healing both placement and neutron need to be updated. If any of\nthose updates fail the code try to roll back the previous updates for\nthe instance to make sure that the healing can be re-run later without\nissue. However if the rollback fails then the script will terminate with\nan error message pointing to a documentation that describe how to\nrecover from such a partially healed situation manually.\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 35, 'created': '2019-07-11 09:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1c7ff9947db83a96dae74099a253b6f6e9d7fb0', 'message': ""nova-manage: heal port allocations\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports which had resource_request (e.g. a\nport with QoS minimum bandwidth policy rule) without allocating the\nrequested resources in placement. So there could be servers which\nallocation needs to be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such server are implemented in the blueprint\nsupport-move-ops-with-qos-ports the admin can heal the allocation of\nsuch servers by migrating them.\n\nDuring healing both placement and neutron need to be updated. If any of\nthose updates fail the code try to roll back the previous updates for\nthe instance to make sure that the healing can be re-run later without\nissue. However if the rollback fails then the script will terminate with\nan error message pointing to a documentation that describe how to\nrecover from such a partially healed situation manually.\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}, {'number': 36, 'created': '2019-07-15 15:25:54.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'nova/exception.py', 'releasenotes/notes/nova-manage-heal-port-allocation-48cc1a34c92d42cd.yaml', 'nova/tests/fixtures.py', 'doc/source/cli/nova-manage.rst', 'nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/54dea2531c887f77e4b7a8e7edb978d8f1ccfe50', 'message': ""nova-manage: heal port allocations\n\nBefore I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to\ncreate servers with neutron ports which had resource_request (e.g. a\nport with QoS minimum bandwidth policy rule) without allocating the\nrequested resources in placement. So there could be servers for which\nthe allocation needs to be healed in placement.\n\nThis patch extends the nova-manage heal_allocation CLI to create the\nmissing port allocations in placement and update the port in neutron\nwith the resource provider uuid that is used for the allocation.\n\nThere are known limiations of this patch. It does not try to reimplement\nPlacement's allocation candidate functionality. Therefore it cannot\nhandle the situation when there is more than one RP in the compute\ntree which provides the required traits for a port. In this situation\ndeciding which RP to use would require the in_tree allocation candidate\nsupport from placement which is not available yet and 2) information\nabout which PCI PF an SRIOV port is allocated from its VF and which RP\nrepresents that PCI device in placement. This information is only\navailable on the compute hosts.\n\nFor the unsupported cases the command will fail gracefully. As soon as\nmigration support for such servers are implemented in the blueprint\nsupport-move-ops-with-qos-ports the admin can heal the allocation of\nsuch servers by migrating them.\n\nDuring healing both placement and neutron need to be updated. If any of\nthose updates fail the code tries to roll back the previous updates for\nthe instance to make sure that the healing can be re-run later without\nissue. However if the rollback fails then the script will terminate with\nan error message pointing to documentation that describes how to\nrecover from such a partially healed situation manually.\n\nCloses-Bug: #1819923\nChange-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85\n""}]",385,637955,54dea2531c887f77e4b7a8e7edb978d8f1ccfe50,389,18,36,9708,,,0,"nova-manage: heal port allocations

Before I97f06d0ec34cbd75c182caaa686b8de5c777a576 it was possible to
create servers with neutron ports which had resource_request (e.g. a
port with QoS minimum bandwidth policy rule) without allocating the
requested resources in placement. So there could be servers for which
the allocation needs to be healed in placement.

This patch extends the nova-manage heal_allocation CLI to create the
missing port allocations in placement and update the port in neutron
with the resource provider uuid that is used for the allocation.

There are known limiations of this patch. It does not try to reimplement
Placement's allocation candidate functionality. Therefore it cannot
handle the situation when there is more than one RP in the compute
tree which provides the required traits for a port. In this situation
deciding which RP to use would require the in_tree allocation candidate
support from placement which is not available yet and 2) information
about which PCI PF an SRIOV port is allocated from its VF and which RP
represents that PCI device in placement. This information is only
available on the compute hosts.

For the unsupported cases the command will fail gracefully. As soon as
migration support for such servers are implemented in the blueprint
support-move-ops-with-qos-ports the admin can heal the allocation of
such servers by migrating them.

During healing both placement and neutron need to be updated. If any of
those updates fail the code tries to roll back the previous updates for
the instance to make sure that the healing can be re-run later without
issue. However if the rollback fails then the script will terminate with
an error message pointing to documentation that describes how to
recover from such a partially healed situation manually.

Closes-Bug: #1819923
Change-Id: I4b2b1688822eb2f0174df0c8c6c16d554781af85
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/637955/32 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_nova_manage.py', 'nova/cmd/manage.py']",2,ba7ed09f15c09906d181eef74e2021b910f3c98b,bug/1819923,"import collectionsfrom nova.network.neutronv2 import api as neutron_apiclass MoreThanOnMatchingResourceProvidersToHealFrom(exception.NovaException): msg_fmt = _(""More than one matching resource provider %(rp_uuids)s are "" ""available for healing the port allocation for port "" ""%(port_id)s for instance %(instance_uuid)s. This script "" ""doesn't have enough information to select the proper "" ""resource provider to heal from."") class NoMatchingResourceProviderToHealFrom(exception.NovaException): msg_fmt = _(""No matching resource provider is "" ""available for healing the port allocation for port "" ""%(port_id)s for instance %(instance_uuid)s. There are no "" ""resource providers with matching traits %(traits)s in the "" ""provider tree of the resource provider %(rp_uuid)s ."") def _get_ports(self, ctxt, instance, neutron, port_cache): """"""Return the ports that are bound to the instance :param ctxt: cell-targeted nova.context.RequestContext :param instance: the instance to return the ports for :param neutron: nova.network.neutronv2.api.ClientWrapper to communicate with Neutron :param port_cache: A dict of list of Neutron ports keyed by port.device_id used as an optional cache. If it is empty dict then neutron will be queried directly. :return: a list of neutron port dict objects """""" if port_cache: return port_cache[instance.uuid] else: return neutron.list_ports( ctxt, device_id=instance.uuid)['ports'] def _get_rps_in_tree_with_required_traits( self, ctxt, rp_uuid, required_traits, placement): """"""Find the RPs that has all the required traits in the given rp tree. :param ctxt: cell-targeted nova.context.RequestContext :param rp_uuid: the RP uuid that will be used the query the tree. :param required_traits: the traits that are need to be supported by the returned RP. :param placement: nova.scheduler.client.report.SchedulerReportClient to communicate with the Placement service API. :return: A list of RP UUIDs that supports every required traits and in the tree for the provider rp_uuid. """""" # TODO(gibi): we might want to cache this while working on the same # instance rps = placement._get_providers_in_tree(ctxt, rp_uuid) rps_with_traits = { rp['uuid']: placement._get_provider_traits(ctxt, rp['uuid']).traits for rp in rps} matching_rps = [ uuid for uuid, provided_traits in rps_with_traits.items() if (set(required_traits) & set(provided_traits) == set(required_traits))] return matching_rps def _merge_allocations(self, alloc1, alloc2): """"""Return a new allocation dict that contains the sum of alloc1 and alloc2. :param alloc1: a dict in the form of { <rp_uuid>: {'resources': {<resource class>: amount, <resource class>: amount}, <rp_uuid>: {'resources': {<resource class>: amount}, } :param alloc2: a dict in the same form as alloc1 :return: the merged allocation of alloc1 and alloc2 in the same format """""" allocations = collections.defaultdict( lambda: {'resources': collections.defaultdict(lambda: 0)}) for alloc in [alloc1, alloc2]: for rp_uuid in alloc: for rc, amount in alloc[rp_uuid]['resources'].items(): allocations[rp_uuid]['resources'][rc] += amount return allocations def _add_resources_to_allocation(self, allocation, rp_uuid, resources): """"""Updates the passed in allocation dict with the resources allocated from the rp_uuid. :param allocation: a dict in the form of { <rp_uuid>: {'resources': {<resource class>: amount, <resource class>: amount}, <rp_uuid>: {'resources': {<resource class>: amount}, } :param rp_uuid: the RP the resource needed to be allocated from. If it is already exist in the allocation then the new resource are added to the existing resources. :param resources: The dict of resource class, amount pairs to be allocated from the rp_uuid """""" current_resources = allocation.get( rp_uuid, {'resources': collections.defaultdict(lambda: 0)})['resources'] for rc, amount in resources.items(): current_resources[rc] += amount allocation[rp_uuid]['resources'] = current_resources def _get_port_allocations_to_heal( self, ctxt, instance, node_cache, output, placement, neutron, port_cache): """"""Return the needed extra allocation for the ports of the instance. :param ctxt: cell-targeted nova.context.RequestContext :param instance: instance to get the port allocations for :param node_cache: :param output: :param placement: nova.scheduler.client.report.SchedulerReportClient to communicate with the Placement service API. :param neutron: nova.network.neutronv2.api.ClientWrapper to communicate with Neutron :param port_cache: A dict of list of Neutron ports keyed by port.device_id :return: None if nothing to heal. Or a two tuple where the first item is a dict of resources keyed by RP uuid to be included in the instance allocation dict. The second item is a list of port dicts to be updated in Neutron. """""" # We need to heal port allocations for ports that has resource_request # but does not have an RP uuid in the binding:profile.allocation field ports_to_heal = [ port for port in self._get_ports( ctxt, instance, neutron, port_cache) if (port.get('resource_request') and not port.get('binding:profile', {}).get('allocation'))] if not ports_to_heal: # nothing to do, return early return ({}, []) node_uuid = self._get_compute_node_uuid( ctxt, instance, node_cache) allocations = collections.defaultdict(dict) for port in ports_to_heal: matching_rp_uuids = self._get_rps_in_tree_with_required_traits( ctxt, node_uuid, port['resource_request']['required'], placement) if len(matching_rp_uuids) > 1: # If there are more than one such RPs then it is an ambiguous # situation that we cannot handle here efficiently because that # would require the reimplementation of most of the allocation # candidate query functionality of placement. Also if more # than one such RP exists then selecting the right one might # need extra information from the compute node. For example # which PCI PF the VF is allocated from and which RP represents # that PCI PF in placement. When migration will be supported # with such servers then we can ask the admin to migrate these # servers instead to heal their allocation. raise MoreThanOnMatchingResourceProvidersToHealFrom( rp_uuids=matching_rp_uuids, port_id=port['id'], instance_uuid=instance.uuid) elif len(matching_rp_uuids) == 0: raise NoMatchingResourceProviderToHealFrom( port_id=port['id'], instance_uuid=instance.uuid, traits=port['resource_request']['required'], rp_uuid=node_uuid) else: # len(matching_rps) == 1 # We found one RP that matches the traits. Assume that we can # allocate the resources from it. If there are not enough # inventory left on the RP then the PUT /allocations placement # call will detect that. rp_uuid = matching_rp_uuids[0] self._add_resources_to_allocation( allocations, rp_uuid, port['resource_request']['resources']) # We also need to record the RP we are allocated from in the # port. This will be sent back to Neutron after the allocation # is updated. binding_profile = port.get('binding:profile', {}) binding_profile['allocation'] = rp_uuid port['binding:profile'] = binding_profile return allocations, ports_to_heal def _update_ports(self, ctxt, neutron, ports_to_update): for port in ports_to_update: neutron.update_port(port['id'], body={'port': port}) output, placement, neutron, port_cache): :param neutron: nova.network.neutronv2.api.ClientWrapper to communicate with Neutron :param port_cache: A dict of list of Neutron ports keyed by port.device_id port_allocations, ports_to_update = self._get_port_allocations_to_heal( ctxt, instance, node_cache, output, placement, neutron, port_cache) alloc_data = { } # Merge in any missing port allocation alloc_data = self._merge_allocations(alloc_data, port_allocations) allocations = { 'allocations': alloc_data, # Update any port that has been changed try: self._update_ports(ctxt, neutron, ports_to_update) except Exception as e: # TODO(gibi): rollback placement allocation update to # allow re-trying the heal later. raise # Merge in any missing port allocations allocations['allocations'] = self._merge_allocations( allocations['allocations'], port_allocations) # Update any port that has been changed try: self._update_ports(ctxt, neutron, ports_to_update) except Exception as e: # TODO(gibi): rollback placement allocation update to # allow re-trying the heal later. raise # We still have to check if there is missing port allocations if port_allocations: allocations['allocations'] = self._merge_allocations( allocations['allocations'], port_allocations) resp = placement.put( '/allocations/%s' % instance.uuid, allocations, version=report.CONSUMER_GENERATION_VERSION) if resp: # Update any port that has been changed try: self._update_ports(ctxt, neutron, ports_to_update) except Exception as e: # TODO(gibi): rollback placement allocation update # to allow re-trying the heal later. raise output(_('Successfully updated port allocations for ' 'instance %s.') % instance.uuid) return True else: raise exception.AllocationUpdateFailed( consumer_uuid=instance.uuid, error=resp.text) else: # everything is up-to-date nothing to be healed output(_('The allocation of Instance %s is up-to-date. ' 'Nothing to be healed.') % instance.uuid) return placement, neutron, port_cache): :param neutron: nova.network.neutronv2.api.ClientWrapper to communicate with Neutron :param port_cache: A dict of list of Neutron ports keyed by port.device_id ctxt, instance, node_cache, output, placement, neutron, port_cache): @args('--skip-port-allocations', action='store_true', dest='skip_port_allocations', default=False, help='Skip the healing of the resource allocaton of bound ports. ' 'E.g. healing bandwidth resource allocation for ports having ' 'minimum QoS policy rules attached.') def heal_allocations(self, max_count=None, verbose=False, skip_port_allocations=False): heal_port_allocations = not skip_port_allocations neutron = None if heal_port_allocations: neutron = neutron_api.get_client(context, admin=True) port_cache = collections.defaultdict(list) if heal_port_allocations and unlimited: # Create a port cache to speed up the execution of port healing. ports = neutron.list_ports(retrieve_all=True)['ports'] for port in ports: # we don't need the unbound ports as they never need allocation if 'device_id' in port: port_cache[port['device_id']].append(port) cctxt, limit_per_cell, unlimited, output, placement, neutron, port_cache)"," output, placement): allocations = { 'allocations': { }, return placement): ctxt, instance, node_cache, output, placement): def heal_allocations(self, max_count=None, verbose=False): cctxt, limit_per_cell, unlimited, output, placement)",421,9
openstack%2Fnova~stable%2Fstein~I51673e58fc8d5f051df911630f6d7a928d123a5b,openstack/nova,stable/stein,I51673e58fc8d5f051df911630f6d7a928d123a5b,Revert resize: wait for events according to hybrid plug,MERGED,2019-07-12 20:20:07.000000000,2019-07-22 21:46:21.000000000,2019-07-22 21:46:21.000000000,"[{'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-12 20:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e34d0fee85b486ac282ffd6d155666e62890b2bf', 'message': 'Revert resize: wait for events according to hybrid plug\n\nSince 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a\nresized instance back to the source host, the libvirt driver waits for\nvif-plugged events when spawning the instance. When called from\nfinish_revert_resize() in the source compute manager, libvirt\'s\nfinish_revert_migration() does not pass vifs_already_plugged to\n_create_domain_and_network(), making the latter use the default False\nvalue.\n\nWhen the source compute manager calls\nnetwork_api.migrate_instance_finish() in finish_revert_resize(), this\nupdates the port binding back to the source host. If Neutron is\nconfigured to use OVS hybrid plug, it will send the vif-plugged event\nimmediately after completing this request. This happens before the\nvirt driver\'s finish_revert_migration() method is called. This causes\nthe wait in the libvirt driver to time out because the event is\nreceived before Nova starts waiting for it.\n\nThe neutron ovs l2 agent sends vif-plugged events when two conditions\nare met. First the port must be bound to the host managed by the\nl2 agent and second, the agent must have completed configuring the\nport on ovs. This involves assigning the port a local VLAN for tenant\nisolation, applying security group rules if required and applying\nQoS policies or other agent extensions like service function chaining.\n\nDuring the boot process, we bind the port first to the host\nthen plug the interface into ovs which triggers the l2 agent to\nconfigure it resulting in the emission of the vif-plugged event.\nIn the revert case, as noted above, since the vif is already plugged\non the source node when hybrid-plug is used, binding the port to the\nsource node fulfils the second condition to send the vif-plugged event.\n\nEvents sent immediately after port binding update are hereafter known\nas ""bind-time"" events. For ports that do not use OVS hybrid plug,\nNeutron will continue to send vif-plugged events only when Nova\nactually plugs the VIF. These types of events are hereafter known as\n""plug-time"" events. OVS hybrid plug is a per agent setting, so for\na particular host, bind-time events are an all-or-nothing thing for the\novs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports\nhave them. In general, a host will only have one network backend.\nThe only exception to this is SR-IOV. SR-IOV is commonly deployed on\nthe same host as other network backends such as OVS or linuxbridge.\nSR-IOV ports with VNIC_TYPE=direct-physical will always have only\nbind-time events. If an instance mixes OVS ports with hybrid-plug=False\nwith direct physical ports, it will have both kinds of events.\n\nFor same host resize reverts we do not update the binding host as the\nhost does not change, as such for same host resize we do not receive\nbind time events. For same host revert we therefore do not wait for\nbind time events in the compute manager.\n\nThis patch adds functions to the NetworkInfo model that return what\nkinds of events each VIF has. These are then used in the migration\nrevert logic to decide when to wait for external events: in the\ncompute manager, when binding the port, for bind-time events,\nand/or in libvirt, when plugging the VIFs, for plug-time events.\n\n(cherry picked from commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b)\nConflicts in nova/tests/unit/objects/test_migration.py due to\n1cf3da87027d87251920c2df665b850abb31178e\'s addition of\ntest_obj_make_compatible() and test_get_by_uuid().\n\nCloses-bug: #1832028\nCloses-Bug: #1833902\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nChange-Id: I51673e58fc8d5f051df911630f6d7a928d123a5b\n'}, {'number': 2, 'created': '2019-07-12 23:16:40.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_network_info.py', 'nova/tests/unit/objects/test_migration.py', 'nova/virt/libvirt/driver.py', 'nova/network/model.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/objects/migration.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7a3a8f325ef6eaa97de1cf74efbaa0079f61a9e6', 'message': 'Revert resize: wait for events according to hybrid plug\n\nSince 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a\nresized instance back to the source host, the libvirt driver waits for\nvif-plugged events when spawning the instance. When called from\nfinish_revert_resize() in the source compute manager, libvirt\'s\nfinish_revert_migration() does not pass vifs_already_plugged to\n_create_domain_and_network(), making the latter use the default False\nvalue.\n\nWhen the source compute manager calls\nnetwork_api.migrate_instance_finish() in finish_revert_resize(), this\nupdates the port binding back to the source host. If Neutron is\nconfigured to use OVS hybrid plug, it will send the vif-plugged event\nimmediately after completing this request. This happens before the\nvirt driver\'s finish_revert_migration() method is called. This causes\nthe wait in the libvirt driver to time out because the event is\nreceived before Nova starts waiting for it.\n\nThe neutron ovs l2 agent sends vif-plugged events when two conditions\nare met. First the port must be bound to the host managed by the\nl2 agent and second, the agent must have completed configuring the\nport on ovs. This involves assigning the port a local VLAN for tenant\nisolation, applying security group rules if required and applying\nQoS policies or other agent extensions like service function chaining.\n\nDuring the boot process, we bind the port first to the host\nthen plug the interface into ovs which triggers the l2 agent to\nconfigure it resulting in the emission of the vif-plugged event.\nIn the revert case, as noted above, since the vif is already plugged\non the source node when hybrid-plug is used, binding the port to the\nsource node fulfils the second condition to send the vif-plugged event.\n\nEvents sent immediately after port binding update are hereafter known\nas ""bind-time"" events. For ports that do not use OVS hybrid plug,\nNeutron will continue to send vif-plugged events only when Nova\nactually plugs the VIF. These types of events are hereafter known as\n""plug-time"" events. OVS hybrid plug is a per agent setting, so for\na particular host, bind-time events are an all-or-nothing thing for the\novs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports\nhave them. In general, a host will only have one network backend.\nThe only exception to this is SR-IOV. SR-IOV is commonly deployed on\nthe same host as other network backends such as OVS or linuxbridge.\nSR-IOV ports with VNIC_TYPE=direct-physical will always have only\nbind-time events. If an instance mixes OVS ports with hybrid-plug=False\nwith direct physical ports, it will have both kinds of events.\n\nFor same host resize reverts we do not update the binding host as the\nhost does not change, as such for same host resize we do not receive\nbind time events. For same host revert we therefore do not wait for\nbind time events in the compute manager.\n\nThis patch adds functions to the NetworkInfo model that return what\nkinds of events each VIF has. These are then used in the migration\nrevert logic to decide when to wait for external events: in the\ncompute manager, when binding the port, for bind-time events,\nand/or in libvirt, when plugging the VIFs, for plug-time events.\n\n(cherry picked from commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b)\nConflicts in nova/tests/unit/objects/test_migration.py due to\n1cf3da87027d87251920c2df665b850abb31178e\'s addition of\ntest_obj_make_compatible() and test_get_by_uuid().\n\nCloses-bug: #1832028\nCloses-Bug: #1833902\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\nChange-Id: I51673e58fc8d5f051df911630f6d7a928d123a5b\n'}]",1,670645,7a3a8f325ef6eaa97de1cf74efbaa0079f61a9e6,25,7,2,8864,,,0,"Revert resize: wait for events according to hybrid plug

Since 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a
resized instance back to the source host, the libvirt driver waits for
vif-plugged events when spawning the instance. When called from
finish_revert_resize() in the source compute manager, libvirt's
finish_revert_migration() does not pass vifs_already_plugged to
_create_domain_and_network(), making the latter use the default False
value.

When the source compute manager calls
network_api.migrate_instance_finish() in finish_revert_resize(), this
updates the port binding back to the source host. If Neutron is
configured to use OVS hybrid plug, it will send the vif-plugged event
immediately after completing this request. This happens before the
virt driver's finish_revert_migration() method is called. This causes
the wait in the libvirt driver to time out because the event is
received before Nova starts waiting for it.

The neutron ovs l2 agent sends vif-plugged events when two conditions
are met. First the port must be bound to the host managed by the
l2 agent and second, the agent must have completed configuring the
port on ovs. This involves assigning the port a local VLAN for tenant
isolation, applying security group rules if required and applying
QoS policies or other agent extensions like service function chaining.

During the boot process, we bind the port first to the host
then plug the interface into ovs which triggers the l2 agent to
configure it resulting in the emission of the vif-plugged event.
In the revert case, as noted above, since the vif is already plugged
on the source node when hybrid-plug is used, binding the port to the
source node fulfils the second condition to send the vif-plugged event.

Events sent immediately after port binding update are hereafter known
as ""bind-time"" events. For ports that do not use OVS hybrid plug,
Neutron will continue to send vif-plugged events only when Nova
actually plugs the VIF. These types of events are hereafter known as
""plug-time"" events. OVS hybrid plug is a per agent setting, so for
a particular host, bind-time events are an all-or-nothing thing for the
ovs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports
have them. In general, a host will only have one network backend.
The only exception to this is SR-IOV. SR-IOV is commonly deployed on
the same host as other network backends such as OVS or linuxbridge.
SR-IOV ports with VNIC_TYPE=direct-physical will always have only
bind-time events. If an instance mixes OVS ports with hybrid-plug=False
with direct physical ports, it will have both kinds of events.

For same host resize reverts we do not update the binding host as the
host does not change, as such for same host resize we do not receive
bind time events. For same host revert we therefore do not wait for
bind time events in the compute manager.

This patch adds functions to the NetworkInfo model that return what
kinds of events each VIF has. These are then used in the migration
revert logic to decide when to wait for external events: in the
compute manager, when binding the port, for bind-time events,
and/or in libvirt, when plugging the VIFs, for plug-time events.

(cherry picked from commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b)
Conflicts in nova/tests/unit/objects/test_migration.py due to
1cf3da87027d87251920c2df665b850abb31178e's addition of
test_obj_make_compatible() and test_get_by_uuid().

Closes-bug: #1832028
Closes-Bug: #1833902
Co-Authored-By: Sean Mooney <work@seanmooney.info>
Change-Id: I51673e58fc8d5f051df911630f6d7a928d123a5b
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/670645/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_network_info.py', 'nova/tests/unit/objects/test_migration.py', 'nova/virt/libvirt/driver.py', 'nova/network/model.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/objects/migration.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",9,e34d0fee85b486ac282ffd6d155666e62890b2bf,bug/1832028," power_on=True, events=None): events_passed_to_prepare = [] events_passed_to_prepare.append((name, tag)) power_on=power_on, external_events=events) if events and utils.is_neutron() and CONF.vif_plugging_timeout: self.assertEqual(events_passed_to_prepare, events) elif utils.is_neutron() and CONF.vif_plugging_timeout and power_on: @mock.patch('nova.utils.is_neutron', new=mock.Mock(return_value=True)) def test_create_with_network_events_passed_in(self): self._test_create_with_network_events( events=[('network-vif-plugged', uuids.fake_vif)]) @mock.patch('nova.utils.is_neutron', new=mock.Mock(return_value=False)) def test_create_with_network_events_passed_in_nova_net(self): self._test_create_with_network_events( events=[('network-vif-plugged', uuids.fake_vif)]) @mock.patch('nova.utils.is_neutron', new=mock.Mock(return_value=True)) def test_create_with_network_events_passed_in_0_timeout(self): self.flags(vif_plugging_timeout=0) self._test_create_with_network_events( events=[('network-vif-plugged', uuids.fake_vif)]) def _test_finish_revert_migration(self, power_on, migration): vifs_already_plugged=None, external_events=None): self.assertEqual(self.events_passed_to_fake_create, external_events) ins_ref.migration_context = objects.MigrationContext( migration_id=migration.id) network_info = network_model.NetworkInfo( [network_model.VIF(id=uuids.normal_vif), network_model.VIF(id=uuids.hybrid_vif, details={'ovs_hybrid_plug': True})]) if migration.is_same_host(): # Same host is all plug-time self.events_passed_to_fake_create = [ ('network-vif-plugged', uuids.normal_vif), ('network-vif-plugged', uuids.hybrid_vif)] else: # For different host migration only non-hybrid plug # (""normal"") VIFs ""emit"" plug-time events. self.events_passed_to_fake_create = [ ('network-vif-plugged', uuids.normal_vif)] with mock.patch.object(objects.Migration, 'get_by_id_and_instance', return_value=migration) as mock_get_mig: self.drvr.finish_revert_migration( context.get_admin_context(), ins_ref, network_info, None, power_on) mock_get_mig.assert_called_with(mock.ANY, migration.id, ins_ref.uuid) migration = objects.Migration(id=42, source_compute='fake-host1', dest_compute='fake-host2') self._test_finish_revert_migration(power_on=True, migration=migration) migration = objects.Migration(id=42, source_compute='fake-host1', dest_compute='fake-host2') self._test_finish_revert_migration(power_on=False, migration=migration) def test_finish_revert_migration_same_host(self): migration = objects.Migration(id=42, source_compute='fake-host', dest_compute='fake-host') self._test_finish_revert_migration(power_on=True, migration=migration) def test_finish_revert_migration_diff_host(self): migration = objects.Migration(id=42, source_compute='fake-host1', dest_compute='fake-host2') self._test_finish_revert_migration(power_on=True, migration=migration) ins_ref.migration_context = objects.MigrationContext( migration_id=42) migration = objects.Migration(source_compute='fake-host1', dest_compute='fake-host2') mock.patch.object(objects.Migration, 'get_by_id_and_instance', return_value=migration) mock_rmtree, mock_looping_call, mock_get_mig): drvr.finish_revert_migration(context, ins_ref, network_model.NetworkInfo()) mock_get_mig.assert_called_with(mock.ANY, 42, ins_ref.uuid) instance.migration_context = objects.MigrationContext( migration_id=42) migration = objects.Migration(source_compute='fake-host1', dest_compute='fake-host2') side_effect=fake_get_guest_xml), mock.patch.object(objects.Migration, 'get_by_id_and_instance', return_value=migration) ) as (mock_img_bkend, mock_cdan, mock_gifsm, mock_ggxml, mock_get_mig): drvr.finish_revert_migration('', instance, network_model.NetworkInfo(), power_on=False) mock_get_mig.assert_called_with(mock.ANY, 42, instance.uuid) ins_ref.migration_context = objects.MigrationContext( migration_id=42) migration = objects.Migration(source_compute='fake-host1', dest_compute='fake-host2') mock.patch.object(drvr, '_get_guest_xml'), mock.patch.object(objects.Migration, 'get_by_id_and_instance', return_value=migration)) as ( mock_image, mock_cdn, mock_ggx, mock_get_mig): drvr.finish_revert_migration('', ins_ref, network_model.NetworkInfo(), power_on=False) mock_get_mig.assert_called_with(mock.ANY, 42, ins_ref.uuid) ins_ref.migration_context = objects.MigrationContext( migration_id=42) migration = objects.Migration(source_compute='fake-host1', dest_compute='fake-host2') mock.patch.object(drvr, '_get_guest_xml'), mock.patch.object(objects.Migration, 'get_by_id_and_instance', return_value=migration)) as ( mock_rbd, mock_image, mock_cdn, mock_ggx, mock_get_mig): drvr.finish_revert_migration('', ins_ref, network_model.NetworkInfo(), power_on=False) mock_get_mig.assert_called_with(mock.ANY, 42, ins_ref.uuid)"," power_on=True): power_on=power_on) if utils.is_neutron() and CONF.vif_plugging_timeout and power_on: def _test_finish_revert_migration(self, power_on): vifs_already_plugged=None): self.drvr.finish_revert_migration( context.get_admin_context(), ins_ref, [], None, power_on) self._test_finish_revert_migration(True) self._test_finish_revert_migration(False) mock_rmtree, mock_looping_call): drvr.finish_revert_migration(context, ins_ref, []) side_effect=fake_get_guest_xml)): drvr.finish_revert_migration('', instance, None, power_on=False) mock.patch.object(drvr, '_get_guest_xml')) as ( mock_image, mock_cdn, mock_ggx): drvr.finish_revert_migration('', ins_ref, None, power_on=False) mock.patch.object(drvr, '_get_guest_xml')) as ( mock_rbd, mock_image, mock_cdn, mock_ggx): drvr.finish_revert_migration('', ins_ref, None, power_on=False)",352,44
openstack%2Freleases~master~Iadddf484e95b756e94ba36b7d4e3fa440585adcb,openstack/releases,master,Iadddf484e95b756e94ba36b7d4e3fa440585adcb,Release manila 6.3.1 off of stable/queens,MERGED,2019-07-10 22:47:08.000000000,2019-07-22 21:22:17.000000000,2019-07-22 21:22:17.000000000,"[{'_account_id': 308}, {'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-10 22:47:08.000000000', 'files': ['deliverables/queens/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5d3e813a45f245d6fa8328155b8e263fb60b81a9', 'message': 'Release manila 6.3.1 off of stable/queens\n\nIncludes bug-fixes; no new functionality or\nrequirements have been added.\nThe project now includes a bindep.txt; which\nwas initially maintained in the central infra\nrepository.\n\nChange-Id: Iadddf484e95b756e94ba36b7d4e3fa440585adcb\n'}]",0,670210,5d3e813a45f245d6fa8328155b8e263fb60b81a9,8,5,1,16643,,,0,"Release manila 6.3.1 off of stable/queens

Includes bug-fixes; no new functionality or
requirements have been added.
The project now includes a bindep.txt; which
was initially maintained in the central infra
repository.

Change-Id: Iadddf484e95b756e94ba36b7d4e3fa440585adcb
",git fetch https://review.opendev.org/openstack/releases refs/changes/10/670210/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/manila.yaml'],1,5d3e813a45f245d6fa8328155b8e263fb60b81a9,release-manila, - projects: - hash: e80d03885453000710d525bd3ce1e781dd4ef2b7 repo: openstack/manila version: 6.3.1,,4,0
openstack%2Freleases~master~I614293c21fe4c1218e33aa98d4cac815e465d50b,openstack/releases,master,I614293c21fe4c1218e33aa98d4cac815e465d50b,Release Kolla and Kolla Ansible 8.0.0 for Stein,MERGED,2019-07-17 09:22:48.000000000,2019-07-22 21:17:06.000000000,2019-07-22 21:17:06.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-17 09:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1b688866743044302adcd1fe2b203fb0ec6defb1', 'message': 'Release Kolla and Kolla Ansible 8.0.0 for Stein\n\nPromoting RC2.\n\nChange-Id: I614293c21fe4c1218e33aa98d4cac815e465d50b\n'}, {'number': 2, 'created': '2019-07-17 16:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6d289b55d5170326bc24357fab14b0393e4ad4ce', 'message': 'Release Kolla and Kolla Ansible 8.0.0 for Stein\n\nPromoting RC2.\n\nChange-Id: I614293c21fe4c1218e33aa98d4cac815e465d50b\n'}, {'number': 3, 'created': '2019-07-17 16:11:26.000000000', 'files': ['deliverables/stein/kolla.yaml', 'deliverables/stein/kolla-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6f66d231ebd8c3372e16f909cbc96e1119f8503f', 'message': 'Release Kolla and Kolla Ansible 8.0.0 for Stein\n\nPromoting RC2.\n\nChange-Id: I614293c21fe4c1218e33aa98d4cac815e465d50b\n'}]",0,671221,6f66d231ebd8c3372e16f909cbc96e1119f8503f,20,7,3,14826,,,0,"Release Kolla and Kolla Ansible 8.0.0 for Stein

Promoting RC2.

Change-Id: I614293c21fe4c1218e33aa98d4cac815e465d50b
",git fetch https://review.opendev.org/openstack/releases refs/changes/21/671221/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/kolla.yaml', 'deliverables/stein/kolla-ansible.yaml']",2,1b688866743044302adcd1fe2b203fb0ec6defb1,, - projects: - hash: 9e5159fc49af9915deddb54d96c0c5fde4fcabcb repo: openstack/kolla-ansible version: 8.0.0,,8,0
openstack%2Freleases~master~Ib11838bc87e4fe0a350d107184be68e837233891,openstack/releases,master,Ib11838bc87e4fe0a350d107184be68e837233891,Remove the stable/stein branch for Patrole,MERGED,2019-07-16 04:06:42.000000000,2019-07-22 21:11:52.000000000,2019-07-22 21:11:51.000000000,"[{'_account_id': 308}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-16 04:06:42.000000000', 'files': ['deliverables/stein/patrole.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/af26e0d9dda27481a2ab1b3bdc2a388829b052ab', 'message': 'Remove the stable/stein branch for Patrole\n\nPatrole is branchless with ""cycle-with-intermediary"" model\nand does not create the stable branch with same reason as\nTempest.\n\nBelow commit added the stable/stein for Patrole which is not\ncorrect- https://review.opendev.org/#/c/650173\n\nThis commit removes the branching from stein patrole release.\n\nAs next step, we will add some type(as proposed by ttx[1]) or\ntag to make it clear that Patrole does not need branch.\n\n[1] https://review.opendev.org/#/c/670808/\n\nChange-Id: Ib11838bc87e4fe0a350d107184be68e837233891\n'}]",0,670942,af26e0d9dda27481a2ab1b3bdc2a388829b052ab,13,6,1,8556,,,0,"Remove the stable/stein branch for Patrole

Patrole is branchless with ""cycle-with-intermediary"" model
and does not create the stable branch with same reason as
Tempest.

Below commit added the stable/stein for Patrole which is not
correct- https://review.opendev.org/#/c/650173

This commit removes the branching from stein patrole release.

As next step, we will add some type(as proposed by ttx[1]) or
tag to make it clear that Patrole does not need branch.

[1] https://review.opendev.org/#/c/670808/

Change-Id: Ib11838bc87e4fe0a350d107184be68e837233891
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/670942/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/patrole.yaml'],1,af26e0d9dda27481a2ab1b3bdc2a388829b052ab,,,branches: - location: 0.5.0 name: stable/stein,0,3
openstack%2Freleases~master~Ieab450a4965786b77bd89ec0cdc7c5c06a15e689,openstack/releases,master,Ieab450a4965786b77bd89ec0cdc7c5c06a15e689,Release manila 8.0.1 off of stable/stein,MERGED,2019-07-08 21:18:29.000000000,2019-07-22 21:11:09.000000000,2019-07-22 21:11:09.000000000,"[{'_account_id': 308}, {'_account_id': 6873}, {'_account_id': 9003}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 16643}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 21:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bfdc9e775d515ae81188910ac0ae70c840a231f5', 'message': 'Release manila 8.1.0 off of stable/stein\n\nIncludes bug fixes since 8.0.0\n\nChange-Id: Ieab450a4965786b77bd89ec0cdc7c5c06a15e689\n'}, {'number': 2, 'created': '2019-07-10 22:37:18.000000000', 'files': ['deliverables/stein/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a6edc9c4b23e17a14e58d409ceefc110e6e4d7b2', 'message': 'Release manila 8.0.1 off of stable/stein\n\nIncludes bug fixes since 8.0.1\n\nChange-Id: Ieab450a4965786b77bd89ec0cdc7c5c06a15e689\n'}]",1,669755,a6edc9c4b23e17a14e58d409ceefc110e6e4d7b2,18,9,2,16643,,,0,"Release manila 8.0.1 off of stable/stein

Includes bug fixes since 8.0.1

Change-Id: Ieab450a4965786b77bd89ec0cdc7c5c06a15e689
",git fetch https://review.opendev.org/openstack/releases refs/changes/55/669755/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/manila.yaml'],1,bfdc9e775d515ae81188910ac0ae70c840a231f5,release-manila, - projects: - hash: 1f68a8ffc55520272235b8165cd32abf6e6b3689 repo: openstack/manila version: 8.1.0,,4,0
openstack%2Freleases~master~I1e4aae077aff69c3b97a9adf78c07a9882d1823a,openstack/releases,master,I1e4aae077aff69c3b97a9adf78c07a9882d1823a,Add ironic-prometheus-exporter deliverable,MERGED,2019-07-17 12:29:59.000000000,2019-07-22 20:53:36.000000000,2019-07-22 20:53:36.000000000,"[{'_account_id': 308}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-07-17 12:29:59.000000000', 'files': ['deliverables/train/ironic-prometheus-exporter.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2fc01d636daf7697a3b33bd372cd154b194ae9cc', 'message': 'Add ironic-prometheus-exporter deliverable\n\nChange-Id: I1e4aae077aff69c3b97a9adf78c07a9882d1823a\n'}]",1,671250,2fc01d636daf7697a3b33bd372cd154b194ae9cc,9,5,1,15519,,,0,"Add ironic-prometheus-exporter deliverable

Change-Id: I1e4aae077aff69c3b97a9adf78c07a9882d1823a
",git fetch https://review.opendev.org/openstack/releases refs/changes/50/671250/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ironic-prometheus-exporter.yaml'],1,2fc01d636daf7697a3b33bd372cd154b194ae9cc,ironic-prometheus-exporter,--- storyboard: openstack/ironic-prometheus-exporter release-model: cycle-with-intermediary team: ironic type: other repository-settings: openstack/ironic-prometheus-exporter: {} releases: - projects: - hash: f7e9344fac562db8614ef2ac54dcb3e1a81cbaaf repo: openstack/ironic-prometheus-exporter version: 0.1.0 ,,12,0
openstack%2Fopenstack-ansible-haproxy_server~master~I80dccb129e73fd58f7211bd56d36e55b55603c6a,openstack/openstack-ansible-haproxy_server,master,I80dccb129e73fd58f7211bd56d36e55b55603c6a,Use systemd-journald instead of log files,MERGED,2019-07-22 13:19:24.000000000,2019-07-22 20:53:14.000000000,2019-07-22 20:53:14.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-22 13:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/54eff06486a422967bbae822327007e4dd586292', 'message': 'Use systemd-journald instead of log files\n\nThis patch aims to migrate service from usage of  rsyslog to journald.\nBy this we mean dropping rsyslog client installation and\nset log address to /dev/log, which is served by journald.\n\nChange-Id: I80dccb129e73fd58f7211bd56d36e55b55603c6a\n'}, {'number': 2, 'created': '2019-07-22 14:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/d42c01b7910e52381aa65f8d96f1844f339293a9', 'message': 'Use systemd-journald instead of log files\n\nThis patch aims to migrate service from usage of  rsyslog to journald.\nBy this we mean dropping rsyslog client installation and\nset log address to /dev/log, which is served by journald.\n\nChange-Id: I80dccb129e73fd58f7211bd56d36e55b55603c6a\n'}, {'number': 3, 'created': '2019-07-22 16:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/eb12b1869334425e1da130755e5353e86cc6978c', 'message': 'Use systemd-journald instead of log files\n\nThis patch aims to migrate service from usage of  rsyslog to journald.\nBy this we mean dropping rsyslog client installation and\nset log address to /dev/log, which is served by journald.\n\nChange-Id: I80dccb129e73fd58f7211bd56d36e55b55603c6a\n'}, {'number': 4, 'created': '2019-07-22 16:53:13.000000000', 'files': ['tasks/haproxy_post_install.yml', 'vars/redhat-7.yml', 'vars/ubuntu.yml', 'vars/debian.yml', 'handlers/main.yml', 'templates/haproxy.cfg.j2', 'files/haproxy-logging.cfg', 'tasks/haproxy_pre_install.yml', 'vars/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/424d48440c7c6da0e1048c57161278c858094e2c', 'message': 'Use systemd-journald instead of log files\n\nThis patch aims to migrate service from usage of  rsyslog to journald.\nBy this we mean dropping rsyslog client installation and\nset log address to /dev/log, which is served by journald.\n\nChange-Id: I80dccb129e73fd58f7211bd56d36e55b55603c6a\n'}]",0,672039,424d48440c7c6da0e1048c57161278c858094e2c,19,4,4,28619,,,0,"Use systemd-journald instead of log files

This patch aims to migrate service from usage of  rsyslog to journald.
By this we mean dropping rsyslog client installation and
set log address to /dev/log, which is served by journald.

Change-Id: I80dccb129e73fd58f7211bd56d36e55b55603c6a
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/39/672039/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/haproxy_post_install.yml', 'vars/redhat-7.yml', 'vars/ubuntu.yml', 'vars/debian.yml', 'files/haproxy-logging.cfg', 'handlers/main.yml', 'templates/haproxy.cfg.j2', 'tasks/haproxy_pre_install.yml', 'vars/main.yml', 'vars/suse.yml']",10,54eff06486a422967bbae822327007e4dd586292,use_journalctl,,haproxy_distro_pre_packages: - rsyslog # Used for local logging haproxy_distro_packages_remove: - systemd-logger # conflicts with rsyslog,1,125
openstack%2Freleases~master~I49b1cf95a8f9611f5fdd440eb3d7415a01121b47,openstack/releases,master,I49b1cf95a8f9611f5fdd440eb3d7415a01121b47,Release 0.31.2 of openstacksdk,MERGED,2019-07-17 11:39:31.000000000,2019-07-22 20:53:09.000000000,2019-07-22 20:53:09.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-07-17 11:39:31.000000000', 'files': ['deliverables/train/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1af5178aa1fe920ff13567ef2a9e7e18d32d2665', 'message': 'Release 0.31.2 of openstacksdk\n\nChange-Id: I49b1cf95a8f9611f5fdd440eb3d7415a01121b47\n'}]",0,671244,1af5178aa1fe920ff13567ef2a9e7e18d32d2665,9,5,1,2,,,0,"Release 0.31.2 of openstacksdk

Change-Id: I49b1cf95a8f9611f5fdd440eb3d7415a01121b47
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/671244/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/openstacksdk.yaml'],1,1af5178aa1fe920ff13567ef2a9e7e18d32d2665,, - projects: - hash: 6a2668724551cd60589d018bd8962840e9f9a9a4 repo: openstack/openstacksdk version: 0.31.2,,4,0
openstack%2Freleases~master~Iac1095783b310543e465c551e609ee242a10c953,openstack/releases,master,Iac1095783b310543e465c551e609ee242a10c953,Release monasca-common 2.15.0,MERGED,2019-07-15 12:42:51.000000000,2019-07-22 20:51:12.000000000,2019-07-22 20:51:12.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 30618}]","[{'number': 1, 'created': '2019-07-15 12:42:51.000000000', 'files': ['deliverables/train/monasca-common.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7890d87cea9c5a4b424f98a3219527c66b391857', 'message': 'Release monasca-common 2.15.0\n\nChange-Id: Iac1095783b310543e465c551e609ee242a10c953\n'}]",0,670827,7890d87cea9c5a4b424f98a3219527c66b391857,9,6,1,16222,,,0,"Release monasca-common 2.15.0

Change-Id: Iac1095783b310543e465c551e609ee242a10c953
",git fetch https://review.opendev.org/openstack/releases refs/changes/27/670827/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/monasca-common.yaml'],1,7890d87cea9c5a4b424f98a3219527c66b391857,, - projects: - hash: e4976083a0e6e7ac4c94bb6c075e4db0af405453 repo: openstack/monasca-common version: 2.15.0,,4,0
openstack%2Fnova~master~I58a4038b04d5a9c28927d914e71609e4deea3d9f,openstack/nova,master,I58a4038b04d5a9c28927d914e71609e4deea3d9f,libvirt: move checking CONF.my_ip to init_host(),MERGED,2019-07-18 12:26:01.000000000,2019-07-22 20:48:59.000000000,2019-07-22 17:16:07.000000000,"[{'_account_id': 4393}, {'_account_id': 5638}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}]","[{'number': 1, 'created': '2019-07-18 12:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6973f30d9481bf160042a82454be938cefdc61d2', 'message': ""migrations: libvirt: remove get_machine_ips()\n\nMigrations use the libvirt driver's get_host_ip_addr() method to\ndetermine the dest_host field of the migration object.\nget_host_ip_addr() checks whether CONF.my_ip is actually assigned to\none of the host's interfaces. It does so my calling\nget_machine_ips(), which interates over all of the host's interfaces.\nIf the host has many interfaces, this can take a long time, and\nintroduces needless delays in processing the migration. As\nget_machine_ips() is ony used to print a warning, this patch removes\nit and the warning entirely.\n\nChange-Id: I58a4038b04d5a9c28927d914e71609e4deea3d9f\n""}, {'number': 2, 'created': '2019-07-18 15:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a41e6bbe7b5d3fabc60f69afc397fc65f8e7781', 'message': ""migrations: libvirt: remove get_machine_ips()\n\nMigrations use the libvirt driver's get_host_ip_addr() method to\ndetermine the dest_host field of the migration object.\nget_host_ip_addr() checks whether CONF.my_ip is actually assigned to\none of the host's interfaces. It does so my calling\nget_machine_ips(), which interates over all of the host's interfaces.\nIf the host has many interfaces, this can take a long time, and\nintroduces needless delays in processing the migration. As\nget_machine_ips() is ony used to print a warning, this patch removes\nit and the warning entirely.\n\nAn alternative would have been to cache the result of\nget_machine_ips(). However, the result from get_machine_ips() is only\nused to print a warning about CONF.my_ip. No breakage is prevented in\ncase CONF.my_ip is misconfigured or if that IP address disappears from\nthe host during a migration.\n\nCloses-bug: 1837075\nChange-Id: I58a4038b04d5a9c28927d914e71609e4deea3d9f\n""}, {'number': 3, 'created': '2019-07-19 15:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7a52bbc56d535b5f3b7df6169071408355ab6bf', 'message': ""libvirt: move checking CONF.my_ip to init_host()\n\nMigrations use the libvirt driver's get_host_ip_addr() method to\ndetermine the dest_host field of the migration object.\nget_host_ip_addr() checks whether CONF.my_ip is actually assigned to\none of the host's interfaces. It does so by calling\nget_machine_ips(), which iterates over all of the host's interfaces.\nIf the host has many interfaces, this can take a long time, and\nintroduces needless delays in processing the migration.\nget_machine_ips() is only used to print a warning, so this patch moves\nthe get_machine_ips() call to a single method in init_host(). This\nway, a warning is still emitted at compute service startup, and\nmigration progress is not needlessly slowed down.\n\nCloses-bug: 1837075\nChange-Id: I58a4038b04d5a9c28927d914e71609e4deea3d9f\n""}, {'number': 4, 'created': '2019-07-19 16:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/793d11deafd3c536cca089ed2e820bc68038e857', 'message': ""libvirt: move checking CONF.my_ip to init_host()\n\nMigrations use the libvirt driver's get_host_ip_addr() method to\ndetermine the dest_host field of the migration object.\nget_host_ip_addr() checks whether CONF.my_ip is actually assigned to\none of the host's interfaces. It does so by calling\nget_machine_ips(), which iterates over all of the host's interfaces.\nIf the host has many interfaces, this can take a long time, and\nintroduces needless delays in processing the migration.\nget_machine_ips() is only used to print a warning, so this patch moves\nthe get_machine_ips() call to a single method in init_host(). This\nway, a warning is still emitted at compute service startup, and\nmigration progress is not needlessly slowed down.\n\nCloses-bug: 1837075\nChange-Id: I58a4038b04d5a9c28927d914e71609e4deea3d9f\n""}, {'number': 5, 'created': '2019-07-19 16:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/633b26dc086d03a7b049da193b6a14604ec0cc03', 'message': ""libvirt: move checking CONF.my_ip to init_host()\n\nMigrations use the libvirt driver's get_host_ip_addr() method to\ndetermine the dest_host field of the migration object.\nget_host_ip_addr() checks whether CONF.my_ip is actually assigned to\none of the host's interfaces. It does so by calling\nget_machine_ips(), which iterates over all of the host's interfaces.\nIf the host has many interfaces, this can take a long time, and\nintroduces needless delays in processing the migration.\nget_machine_ips() is only used to print a warning, so this patch moves\nthe get_machine_ips() call to a single method in init_host(). This\nway, a warning is still emitted at compute service startup, and\nmigration progress is not needlessly slowed down.\n\nCloses-bug: 1837075\nChange-Id: I58a4038b04d5a9c28927d914e71609e4deea3d9f\n""}, {'number': 6, 'created': '2019-07-19 19:23:34.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/30d8159d4ee51a26a03de1cb134ea64c6c07ffb2', 'message': ""libvirt: move checking CONF.my_ip to init_host()\n\nMigrations use the libvirt driver's get_host_ip_addr() method to\ndetermine the dest_host field of the migration object.\nget_host_ip_addr() checks whether CONF.my_ip is actually assigned to\none of the host's interfaces. It does so by calling\nget_machine_ips(), which iterates over all of the host's interfaces.\nIf the host has many interfaces, this can take a long time, and\nintroduces needless delays in processing the migration.\nget_machine_ips() is only used to print a warning, so this patch moves\nthe get_machine_ips() call to a single method in init_host(). This\nway, a warning is still emitted at compute service startup, and\nmigration progress is not needlessly slowed down.\n\nThis patch also has a chicken and egg problem with the patch on top of\nit, which poisons use of netifaces.interfaces() in tests. While this\npatch fixes all the tests that break with that poison, it starts\nbreaking different tests because of the move of get_machine_ips() into\ninit_host(). Therefore, while not directly related to the bug, this\npatch also preventatively mocks or stubs out any use of\nget_machine_ips() that will get poisoned with the subsequent patch.\n\nCloses-bug: 1837075\nChange-Id: I58a4038b04d5a9c28927d914e71609e4deea3d9f\n""}]",15,671471,30d8159d4ee51a26a03de1cb134ea64c6c07ffb2,62,15,6,8864,,,0,"libvirt: move checking CONF.my_ip to init_host()

Migrations use the libvirt driver's get_host_ip_addr() method to
determine the dest_host field of the migration object.
get_host_ip_addr() checks whether CONF.my_ip is actually assigned to
one of the host's interfaces. It does so by calling
get_machine_ips(), which iterates over all of the host's interfaces.
If the host has many interfaces, this can take a long time, and
introduces needless delays in processing the migration.
get_machine_ips() is only used to print a warning, so this patch moves
the get_machine_ips() call to a single method in init_host(). This
way, a warning is still emitted at compute service startup, and
migration progress is not needlessly slowed down.

This patch also has a chicken and egg problem with the patch on top of
it, which poisons use of netifaces.interfaces() in tests. While this
patch fixes all the tests that break with that poison, it starts
breaking different tests because of the move of get_machine_ips() into
init_host(). Therefore, while not directly related to the bug, this
patch also preventatively mocks or stubs out any use of
get_machine_ips() that will get poisoned with the subsequent patch.

Closes-bug: 1837075
Change-Id: I58a4038b04d5a9c28927d914e71609e4deea3d9f
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/671471/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/compute/utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,6973f30d9481bf160042a82454be938cefdc61d2,bug/1837075,," @mock.patch.object(libvirt_driver.LOG, 'warning') @mock.patch('nova.compute.utils.get_machine_ips') def test_get_host_ip_addr_failure(self, mock_ips, mock_log): mock_ips.return_value = ['8.8.8.8', '75.75.75.75'] drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr.get_host_ip_addr() mock_log.assert_called_once_with(u'my_ip address (%(my_ip)s) was ' u'not found on any of the ' u'interfaces: %(ifaces)s', {'ifaces': '8.8.8.8, 75.75.75.75', 'my_ip': mock.ANY}) ",0,55
openstack%2Freleases~master~I71acd5de3f21f1e29621d480d44e8f7783fd864b,openstack/releases,master,I71acd5de3f21f1e29621d480d44e8f7783fd864b,Release keystonemiddleware 7.0.0,MERGED,2019-07-18 19:57:58.000000000,2019-07-22 20:48:25.000000000,2019-07-22 20:48:25.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-18 19:57:58.000000000', 'files': ['deliverables/train/keystonemiddleware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e7fc994bb2431fc025c85a961fa1ac4be3800147', 'message': 'Release keystonemiddleware 7.0.0\n\nThis release is a major version release because of the removal of\nsupport for PKI/PKIZ tokens.\n\nChange-Id: I71acd5de3f21f1e29621d480d44e8f7783fd864b\n'}]",0,671562,e7fc994bb2431fc025c85a961fa1ac4be3800147,7,3,1,8482,,,0,"Release keystonemiddleware 7.0.0

This release is a major version release because of the removal of
support for PKI/PKIZ tokens.

Change-Id: I71acd5de3f21f1e29621d480d44e8f7783fd864b
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/671562/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/keystonemiddleware.yaml'],1,e7fc994bb2431fc025c85a961fa1ac4be3800147,ksm-7.0.0, - projects: - hash: 3183b3d2fc28e36efab7c19f13abe7146cf6b93b repo: openstack/keystonemiddleware version: 7.0.0,,4,0
openstack%2Ftempest~master~I61a9a106242b195ae499f182c3907a558b5ba032,openstack/tempest,master,I61a9a106242b195ae499f182c3907a558b5ba032,DNM: extra logging for test_server_connectivity_cold_migration_revert,ABANDONED,2019-07-14 14:23:13.000000000,2019-07-22 20:45:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-14 14:23:13.000000000', 'files': ['tempest/lib/common/utils/test_utils.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/72af77f9337d99397a6482308e0f4fe6d4fb0082', 'message': 'DNM: extra logging for test_server_connectivity_cold_migration_revert\n\nChange-Id: I61a9a106242b195ae499f182c3907a558b5ba032\n'}]",0,670725,72af77f9337d99397a6482308e0f4fe6d4fb0082,3,1,1,8864,,,0,"DNM: extra logging for test_server_connectivity_cold_migration_revert

Change-Id: I61a9a106242b195ae499f182c3907a558b5ba032
",git fetch https://review.opendev.org/openstack/tempest refs/changes/25/670725/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/common/utils/test_utils.py'],1,72af77f9337d99397a6482308e0f4fe6d4fb0082,," LOG.debug('Now: %s', now) LOG.debug('Timeout: %s', timeout) LOG.debug('Slept for %s', sleep_for) LOG.debug('New now: %s, timeout is still %s', now, timeout)",,4,0
openstack%2Freleases~master~I172ebf3fbdc07965682b4bd316b72b22fab2a3f6,openstack/releases,master,I172ebf3fbdc07965682b4bd316b72b22fab2a3f6,Release Magnumclient 2.14.0,MERGED,2019-07-16 22:31:28.000000000,2019-07-22 20:45:03.000000000,2019-07-22 20:45:03.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-16 22:31:28.000000000', 'files': ['deliverables/train/python-magnumclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/68cef73f85272db774af2534e21613399b45439b', 'message': 'Release Magnumclient 2.14.0\n\nChange-Id: I172ebf3fbdc07965682b4bd316b72b22fab2a3f6\n'}]",0,671164,68cef73f85272db774af2534e21613399b45439b,7,3,1,6484,,,0,"Release Magnumclient 2.14.0

Change-Id: I172ebf3fbdc07965682b4bd316b72b22fab2a3f6
",git fetch https://review.opendev.org/openstack/releases refs/changes/64/671164/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/python-magnumclient.yaml'],1,68cef73f85272db774af2534e21613399b45439b,magnumclient-2.14, - projects: - hash: d29d5cdec47fc81792e9e94dec545e39646bd039 repo: openstack/python-magnumclient version: 2.14.0,,4,0
openstack%2Foctavia~master~Ifa5d6107e66520b8e5610e44aefdc1dc833d2b0b,openstack/octavia,master,Ifa5d6107e66520b8e5610e44aefdc1dc833d2b0b,Fix diskimage-create.sh datasources,ABANDONED,2019-06-17 14:07:48.000000000,2019-07-22 20:36:55.000000000,,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 14:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/da3fd8f9bd4692d1b2c12dbfd88a1a98d973bf1a', 'message': 'Fix diskimage-create.sh datasources\n\nThe variable passed to diskimage-builder that configures the\ncloud-init datasources was incorrect. This can lead to longer\nstartup times as cloud-init will check many other datasources.\n\nChange-Id: Ifa5d6107e66520b8e5610e44aefdc1dc833d2b0b\n'}, {'number': 2, 'created': '2019-06-17 14:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/38728f989fee085b02af2beadc8f8586fd4fda6c', 'message': 'Fix diskimage-create.sh datasources\n\nSet the cloud-init datasources to configdrive for all\ndistrobutions.\n\nChange-Id: Ifa5d6107e66520b8e5610e44aefdc1dc833d2b0b\n'}, {'number': 3, 'created': '2019-07-19 22:14:34.000000000', 'files': ['diskimage-create/diskimage-create.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/75a6eb6ec50a85b5b98af8419e7116de214860eb', 'message': 'Fix diskimage-create.sh datasources\n\nSet the cloud-init datasources to configdrive for all\ndistrobutions.\n\nChange-Id: Ifa5d6107e66520b8e5610e44aefdc1dc833d2b0b\n'}]",0,665680,75a6eb6ec50a85b5b98af8419e7116de214860eb,9,3,3,11628,,,0,"Fix diskimage-create.sh datasources

Set the cloud-init datasources to configdrive for all
distrobutions.

Change-Id: Ifa5d6107e66520b8e5610e44aefdc1dc833d2b0b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/80/665680/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage-create/diskimage-create.sh'],1,da3fd8f9bd4692d1b2c12dbfd88a1a98d973bf1a,,"export DIB_CLOUD_INIT_DATASOURCES=${DIB_CLOUD_INIT_DATASOURCES:-""ConfigDrive""}","export CLOUD_INIT_DATASOURCES=${CLOUD_INIT_DATASOURCES:-""ConfigDrive""}",1,1
openstack%2Fopenstack-helm~master~I2011773df00269b59c295afc6de7d24d9704c3ba,openstack/openstack-helm,master,I2011773df00269b59c295afc6de7d24d9704c3ba,Add docker-default (enforce) AppArmor profile to barbican,MERGED,2019-06-18 12:20:53.000000000,2019-07-22 20:35:58.000000000,2019-07-10 09:34:17.000000000,"[{'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22755}, {'_account_id': 23928}, {'_account_id': 26686}, {'_account_id': 27046}, {'_account_id': 28778}, {'_account_id': 29131}, {'_account_id': 29254}, {'_account_id': 29298}, {'_account_id': 30315}]","[{'number': 1, 'created': '2019-06-18 12:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cfcf1562a6f2a5ab8cf2b1031ad3687ef5ccb496', 'message': '[WIP] Add docker-default (enforce) AppArmor profile to barbican\n\nChange-Id: I2011773df00269b59c295afc6de7d24d9704c3ba\n'}, {'number': 2, 'created': '2019-06-18 15:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/105eaa28f5471e793a13c8ca25d268e94067e5c2', 'message': '[WIP] Add docker-default (enforce) AppArmor profile to barbican\n\nChange-Id: I2011773df00269b59c295afc6de7d24d9704c3ba\n'}, {'number': 3, 'created': '2019-06-18 18:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2f17fb8c52220836f6c997cb3728c571da1a9109', 'message': '[WIP] Add docker-default (enforce) AppArmor profile to barbican\n\nChange-Id: I2011773df00269b59c295afc6de7d24d9704c3ba\n'}, {'number': 4, 'created': '2019-06-19 10:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/55fed852cc41cca4834b0c355a323d732a2aa05c', 'message': '[WIP] Add docker-default (enforce) AppArmor profile to barbican\n\nChange-Id: I2011773df00269b59c295afc6de7d24d9704c3ba\n'}, {'number': 5, 'created': '2019-06-24 11:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cb0d6acff269281f15d44b540cf44d17da6a2d80', 'message': 'Add docker-default (enforce) AppArmor profile to barbican\n\nChange-Id: I2011773df00269b59c295afc6de7d24d9704c3ba\n'}, {'number': 6, 'created': '2019-06-24 16:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b35c6216cbe97c7237a80c79e50fd1aa9f349a05', 'message': 'Add docker-default (enforce) AppArmor profile to barbican\n\nChange-Id: I2011773df00269b59c295afc6de7d24d9704c3ba\n'}, {'number': 7, 'created': '2019-06-26 15:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/19c1f730e218551051e0eefe56b301bf8e73ab45', 'message': 'Add docker-default (enforce) AppArmor profile to barbican\n\nChange-Id: I2011773df00269b59c295afc6de7d24d9704c3ba\n'}, {'number': 8, 'created': '2019-06-26 17:06:14.000000000', 'files': ['tools/deployment/apparmor/barbican.sh', 'barbican/templates/deployment-api.yaml', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/47677e5c4b5936201a19266e13105ecdf09aea13', 'message': 'Add docker-default (enforce) AppArmor profile to barbican\n\nChange-Id: I2011773df00269b59c295afc6de7d24d9704c3ba\n'}]",0,665963,47677e5c4b5936201a19266e13105ecdf09aea13,42,15,8,29298,,,0,"Add docker-default (enforce) AppArmor profile to barbican

Change-Id: I2011773df00269b59c295afc6de7d24d9704c3ba
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/63/665963/8 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/apparmor/compute-kit.sh', 'barbican/templates/deployment-api.yaml']",2,cfcf1562a6f2a5ab8cf2b1031ad3687ef5ccb496,,"{{ dict ""envAll"" $envAll ""podName"" ""barbican-compute-default"" ""containerNames"" (list ""barbican-compute-default"") | include ""helm-toolkit.snippets.kubernetes_mandatory_access_control_annotation"" | indent 8 }}",,18,0
openstack%2Fmanila-specs~master~I2e9dbc8e10ac3105887ccd2bf16696da64fe4638,openstack/manila-specs,master,I2e9dbc8e10ac3105887ccd2bf16696da64fe4638,Add spec for glusterfs-direcotry-layout-extend-shrink-share,ABANDONED,2019-07-20 05:41:18.000000000,2019-07-22 20:32:16.000000000,,[],"[{'number': 1, 'created': '2019-07-20 05:41:18.000000000', 'files': ['specs/train/glusterfs-direcotry-layout-extend-shrink-share.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/54ca10e4cee262122c00df2dc0a778ec1534d435', 'message': 'Add spec for glusterfs-direcotry-layout-extend-shrink-share\n\nEnable extend and shirnk apis for GlusterFS native driver with\ndirectory mapped layout.\n\nChange-Id: I2e9dbc8e10ac3105887ccd2bf16696da64fe4638\n'}]",0,671883,54ca10e4cee262122c00df2dc0a778ec1534d435,3,0,1,30722,,,0,"Add spec for glusterfs-direcotry-layout-extend-shrink-share

Enable extend and shirnk apis for GlusterFS native driver with
directory mapped layout.

Change-Id: I2e9dbc8e10ac3105887ccd2bf16696da64fe4638
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/83/671883/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/glusterfs-direcotry-layout-extend-shrink-share.rst'],1,54ca10e4cee262122c00df2dc0a778ec1534d435,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Extend and shirnk shared with directory layout ========================================== Blueprint: https://blueprints.launchpad.net/manila/+spec/glusterfs-direcotry-layout-extend-shrink-share GlusterFS Backend share has two options for share layout: volume mapped, directory mapped. With directory mapped layout, when create a new share It mkdir in glusterfs volume and set quota to the directory. This directory quota can change by using glusterfs set quota commands. Problem description =================== Implement extend and shrink in glusterfs native driver with directory layout. Use Cases ========= We can extend and shrink the glusterfs backend share Proposed change =============== The directory quota can change in GlusterFS by using set quota commands. In shrink_share, We check consumed_space >= new_size and raise exception. ShareShrinkingPossibleDataLoss. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Driver impact ------------- Implemented extend_share(), shrink_share() in glusterfs native driver with dreictory mapped layout. Unit tests will be added too. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: whhan91 Work Items ---------- * Implement extend and shrink share in glusterfs native driver with directory mapped share. Dependencies ============ None Testing ======= * Add the unit tests that test_extend_share, test_shrink_share in manila. Documentation Impact ==================== * Update the configuration reference guide ``glusterfs_native_driver``. * Update the development reference guide. * Update the user guide. References ========== GlusterFS direcotry quota: https://docs.gluster.org/en/latest/Administrator%20Guide/Directory%20Quota/ ",,122,0
openstack%2Fkeystone-specs~master~I29a89ee1abbbfaa7d9593923c17f8999b9323d25,openstack/keystone-specs,master,I29a89ee1abbbfaa7d9593923c17f8999b9323d25,Add Python 3 Train unit tests,MERGED,2019-06-26 23:29:43.000000000,2019-07-22 20:31:34.000000000,2019-07-22 20:31:34.000000000,"[{'_account_id': 2903}, {'_account_id': 8482}, {'_account_id': 17130}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27621}, {'_account_id': 28543}, {'_account_id': 28743}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-06-26 23:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/a1504cf3caf9c8329b5fd1eec7180bb68d793e28', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I29a89ee1abbbfaa7d9593923c17f8999b9323d25\nStory: #2005924\nTask: #34215\n'}, {'number': 2, 'created': '2019-07-02 14:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/e50a9557b7decd9d66aded87a3729c6f69a0ee55', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I29a89ee1abbbfaa7d9593923c17f8999b9323d25\nStory: #2005924\nTask: #34215\n'}, {'number': 3, 'created': '2019-07-02 23:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/4873ed2947ff63d42629e228c0ae83173c6797a3', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nThis change also corrects style errors and syncs requirements that the\nnew tox jobs are now checking.\n\nChange-Id: I29a89ee1abbbfaa7d9593923c17f8999b9323d25\nStory: #2005924\nTask: #34215\n'}, {'number': 4, 'created': '2019-07-22 18:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/cecee5b84ec691c02debc347581dffbfedc46703', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nThis change also corrects style errors and syncs requirements that the\nnew tox jobs are now checking.\n\nChange-Id: I29a89ee1abbbfaa7d9593923c17f8999b9323d25\nStory: #2005924\nTask: #34215\n'}, {'number': 5, 'created': '2019-07-22 20:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/f71f1e682dd861534d10045ac053535a161ee066', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I29a89ee1abbbfaa7d9593923c17f8999b9323d25\nStory: #2005924\nTask: #34215\n'}, {'number': 6, 'created': '2019-07-22 20:11:40.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/4095c1b5f7d54771985856a82a8cd0d6db1d054d', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I29a89ee1abbbfaa7d9593923c17f8999b9323d25\nStory: #2005924\nTask: #34215\n'}]",0,667755,4095c1b5f7d54771985856a82a8cd0d6db1d054d,33,10,6,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I29a89ee1abbbfaa7d9593923c17f8999b9323d25
Story: #2005924
Task: #34215
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/55/667755/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,a1504cf3caf9c8329b5fd1eec7180bb68d793e28,python3-train,"envlist = docs,py27,py37","envlist = docs,py27",8,2
openstack%2Fkeystone-specs~master~I5d03f407053ef5a4a6414e4aad4ec8f09fcf9ae3,openstack/keystone-specs,master,I5d03f407053ef5a4a6414e4aad4ec8f09fcf9ae3,Sync sphinx requirement,MERGED,2019-07-22 20:01:05.000000000,2019-07-22 20:31:27.000000000,2019-07-22 20:31:27.000000000,"[{'_account_id': 2903}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 20:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/a909be7d4ca1651751a9ae566f42d459327e8963', 'message': 'Sync sphinx requirement\n\nThis is needed to get the requirements check job to pass.\n\nChange-Id: I5d03f407053ef5a4a6414e4aad4ec8f09fcf9ae3\n'}, {'number': 2, 'created': '2019-07-22 20:11:40.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/6fd71d4a19c3fa340f7db1d907263c6a6ce9123a', 'message': 'Sync sphinx requirement\n\nThis is needed to get the requirements check job to pass.\n\nChange-Id: I5d03f407053ef5a4a6414e4aad4ec8f09fcf9ae3\n'}]",0,672163,6fd71d4a19c3fa340f7db1d907263c6a6ce9123a,9,2,2,8482,,,0,"Sync sphinx requirement

This is needed to get the requirements check job to pass.

Change-Id: I5d03f407053ef5a4a6414e4aad4ec8f09fcf9ae3
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/63/672163/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,a909be7d4ca1651751a9ae566f42d459327e8963,python3-train,"sphinx>=1.5.1,!=1.6.6,!=1.6.7,<2.0.0;python_version=='2.7' # BSD sphinx>=1.5.1,!=1.6.6,!=1.6.7,!=2.1.0;python_version>='3.4' # BSD","sphinx!=1.6.1,>=1.5.1",2,1
openstack%2Fkeystone-specs~master~Ic38c11bec5fe50c7fff7c1f4dec86504a29ba222,openstack/keystone-specs,master,Ic38c11bec5fe50c7fff7c1f4dec86504a29ba222,Use upper-constraints,MERGED,2019-07-22 18:50:01.000000000,2019-07-22 20:31:26.000000000,2019-07-22 20:31:26.000000000,"[{'_account_id': 2903}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 18:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/f9c61d4c7b687eac8e4f81ead90568671dd2c41f', 'message': ""Use upper-constraints\n\nUsing upper-constraints in the keystone-specs tox environment ensures\nthat libraries go through validation in the requirements project and\ndon't break our CI.\n\nChange-Id: Ic38c11bec5fe50c7fff7c1f4dec86504a29ba222\n""}, {'number': 2, 'created': '2019-07-22 20:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/1e9ae94efb948c92a17a34b2700b99e1ea79b35a', 'message': ""Use upper-constraints\n\nUsing upper-constraints in the keystone-specs tox environment ensures\nthat libraries go through validation in the requirements project and\ndon't break our CI.\n\nChange-Id: Ic38c11bec5fe50c7fff7c1f4dec86504a29ba222\n""}, {'number': 3, 'created': '2019-07-22 20:11:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/1114308f1a0b598ddfbb08db43dc5e4ab9c639a4', 'message': ""Use upper-constraints\n\nUsing upper-constraints in the keystone-specs tox environment ensures\nthat libraries go through validation in the requirements project and\ndon't break our CI.\n\nChange-Id: Ic38c11bec5fe50c7fff7c1f4dec86504a29ba222\n""}]",0,672132,1114308f1a0b598ddfbb08db43dc5e4ab9c639a4,11,2,3,8482,,,0,"Use upper-constraints

Using upper-constraints in the keystone-specs tox environment ensures
that libraries go through validation in the requirements project and
don't break our CI.

Change-Id: Ic38c11bec5fe50c7fff7c1f4dec86504a29ba222
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/32/672132/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f9c61d4c7b687eac8e4f81ead90568671dd2c41f,python3-train,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt,deps = -r{toxinidir}/requirements.txt,2,1
openstack%2Fkeystone-specs~master~I1c24cece2c64c9453698280cc365ac150d2474a4,openstack/keystone-specs,master,I1c24cece2c64c9453698280cc365ac150d2474a4,Correct style errors,MERGED,2019-07-22 20:01:05.000000000,2019-07-22 20:30:48.000000000,2019-07-22 20:30:48.000000000,"[{'_account_id': 2903}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 20:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/5c1f64597c3ab3eb28b9ccb69576849e085b4e53', 'message': ""Correct style errors\n\nThese style errors weren't caught before the specs merged because the\nlinter jobs weren't being run when only RST files were changed. Correct\nthem now so that a later patch can update the jobs.\n\nChange-Id: I1c24cece2c64c9453698280cc365ac150d2474a4\n""}, {'number': 2, 'created': '2019-07-22 20:11:40.000000000', 'files': ['specs/keystone/train/resource-options-for-all.rst', 'specs/keystone/train/capabilities-app-creds.rst', 'specs/keystone/train/immutable-resources.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/4f1bf7ddefe6486e37f9bff463a8335a2fa90c06', 'message': ""Correct style errors\n\nThese style errors weren't caught before the specs merged because the\nlinter jobs weren't being run when only RST files were changed. Correct\nthem now so that a later patch can update the jobs.\n\nChange-Id: I1c24cece2c64c9453698280cc365ac150d2474a4\n""}]",0,672164,4f1bf7ddefe6486e37f9bff463a8335a2fa90c06,9,2,2,8482,,,0,"Correct style errors

These style errors weren't caught before the specs merged because the
linter jobs weren't being run when only RST files were changed. Correct
them now so that a later patch can update the jobs.

Change-Id: I1c24cece2c64c9453698280cc365ac150d2474a4
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/64/672164/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/keystone/train/resource-options-for-all.rst', 'specs/keystone/train/capabilities-app-creds.rst', 'specs/keystone/train/immutable-resources.rst']",3,5c1f64597c3ab3eb28b9ccb69576849e085b4e53,python3-train,"needed to manage the deployment. In some cases, the accidental removal of a role can be catastrophic to the deployment, since the deletion of a role triggers the deletion of all role assignments any user has in any scope for that role. This is particularly relevant to service users, which usually have an admin role assignment, without which they cannot perform basic operations needed for the cloud to be usable. The fix in such a case usually requires modifying database entries by hand, which is a terrible practice in production environments.#. Add an opt-in flag ``--immutable-roles`` to the ``keystone-manage bootstrap`` command which sets the ``immutable`` resource option on the default roles (``admin``, ``member``, ``reader``) to ``true``. The command should also log a warning that this will become default behavior in the future if they do not set it.* Change horizon to give a visual alert for potentially destructive actions like deleting the admin role. This doesn't protect against bad scripts.allow the adminitrator to set a role as immutable or mutable. Non-administrative end users should see no difference.","needed to manage the deployment. In some cases, the accidental removal of a role can be catastrophic to the deployment, since the deletion of a role triggers the deletion of all role assignments any user has in any scope for that role. This is particularly relevant to service users, which usually have an admin role assignment, without which they cannot perform basic operations needed for the cloud to be usable. The fix in such a case usually requires modifying database entries by hand, which is a terrible practice in production environments.#. Add an opt-in flag ``--immutable-roles`` to the ``keystone-manage bootstrap`` command which sets the ``immutable`` resource option on the default roles (``admin``, ``member``, ``reader``) to ``true``. The command should also log a warning that this will become default behavior in the future if they do not set it.* Change horizon to give a visual alert for potentially destructive actions like deleting the admin role. This doesn't protect against bad scripts.allow the adminitrator to set a role as immutable or mutable. Non-administrative end users should see no difference.",39,38
openstack%2Fpuppet-manila~master~Ia5d56f3761e89e16e8a4c586502b2b0c31291dd8,openstack/puppet-manila,master,Ia5d56f3761e89e16e8a4c586502b2b0c31291dd8,remove releasenotes mitaka references,ABANDONED,2019-07-22 19:21:55.000000000,2019-07-22 20:25:18.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 19:21:55.000000000', 'files': ['releasenotes/source/mitaka.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/076a21580ad891e268856e6a14bb45e25092b94b', 'message': 'remove releasenotes mitaka references\n\nThey cause ``tox`` to fail when run locally  because there is no\nstable/mitaka branch for this component.\n\nChange-Id: Ia5d56f3761e89e16e8a4c586502b2b0c31291dd8\n'}]",0,672147,076a21580ad891e268856e6a14bb45e25092b94b,6,2,1,9003,,,0,"remove releasenotes mitaka references

They cause ``tox`` to fail when run locally  because there is no
stable/mitaka branch for this component.

Change-Id: Ia5d56f3761e89e16e8a4c586502b2b0c31291dd8
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/47/672147/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/mitaka.rst', 'releasenotes/source/index.rst']",2,076a21580ad891e268856e6a14bb45e25092b94b,,, mitaka,0,7
openstack%2Fpuppet-tripleo~master~I9032ddde37dc0b2f2afa370ee94934ceea7f4629,openstack/puppet-tripleo,master,I9032ddde37dc0b2f2afa370ee94934ceea7f4629,Bump metadata for Train Milestone 2,MERGED,2019-07-22 20:05:19.000000000,2019-07-22 20:24:15.000000000,2019-07-22 20:24:15.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 20:05:19.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5c0380e6a161c6639a1d4716e831df6ffdfccbda', 'message': 'Bump metadata for Train Milestone 2\n\nChange-Id: I9032ddde37dc0b2f2afa370ee94934ceea7f4629\n'}]",0,672169,5c0380e6a161c6639a1d4716e831df6ffdfccbda,6,2,1,3153,,,0,"Bump metadata for Train Milestone 2

Change-Id: I9032ddde37dc0b2f2afa370ee94934ceea7f4629
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/69/672169/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,5c0380e6a161c6639a1d4716e831df6ffdfccbda,m2," ""version"": ""11.1.0"","," ""version"": ""11.0.0"",",1,1
openstack%2Fheat~master~I69a41aa850c87e92bf5c3e7fed32e0e961a3c6d3,openstack/heat,master,I69a41aa850c87e92bf5c3e7fed32e0e961a3c6d3,Update api-ref location,MERGED,2019-07-22 16:55:43.000000000,2019-07-22 20:21:04.000000000,2019-07-22 20:21:04.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 16:55:43.000000000', 'files': ['doc/source/template_guide/software_deployment.rst', 'doc/source/index.rst', 'heat/engine/resources/openstack/neutron/port.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/208cdfea3977ba492efba8d78aec79187c149e50', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I69a41aa850c87e92bf5c3e7fed32e0e961a3c6d3\n""}]",0,672109,208cdfea3977ba492efba8d78aec79187c149e50,6,2,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I69a41aa850c87e92bf5c3e7fed32e0e961a3c6d3
",git fetch https://review.opendev.org/openstack/heat refs/changes/09/672109/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/template_guide/software_deployment.rst', 'heat/engine/resources/openstack/neutron/port.py', 'tox.ini']",4,208cdfea3977ba492efba8d78aec79187c149e50,retire-api-site,# the API Ref to docs.openstack.org.,# the API Ref to developer.openstack.org.,4,4
openstack%2Foctavia-tempest-plugin~master~Ifa7e58304e8d2cc5b34fe8ba5fff580e0cb0e823,openstack/octavia-tempest-plugin,master,Ifa7e58304e8d2cc5b34fe8ba5fff580e0cb0e823,Sync Sphinx requirement,ABANDONED,2019-06-24 08:06:27.000000000,2019-07-22 20:20:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-24 08:06:27.000000000', 'files': ['releasenotes/source/unreleased.rst', 'releasenotes/source/index.rst', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5f62ce5a6b25c42d12326f239793edc574bf1a81', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Remove unncessary ""==""\n\nChange-Id: Ifa7e58304e8d2cc5b34fe8ba5fff580e0cb0e823\n'}]",0,667038,5f62ce5a6b25c42d12326f239793edc574bf1a81,3,1,1,30356,,,0,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Remove unncessary ""==""

Change-Id: Ifa7e58304e8d2cc5b34fe8ba5fff580e0cb0e823
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/38/667038/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/unreleased.rst', 'doc/requirements.txt', 'releasenotes/source/index.rst']",3,5f62ce5a6b25c42d12326f239793edc574bf1a81,,==================================== octavia_tempest_plugin Release Notes ====================================,============================================ octavia_tempest_plugin Release Notes ============================================,8,7
openstack%2Frpm-packaging~master~I15b0973bbea739af6243730564a8fab5756a8c83,openstack/rpm-packaging,master,I15b0973bbea739af6243730564a8fab5756a8c83,keystone: add new dependency for documentation build,MERGED,2019-07-22 07:51:13.000000000,2019-07-22 20:14:58.000000000,2019-07-22 20:14:58.000000000,"[{'_account_id': 6593}, {'_account_id': 8482}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-22 07:51:13.000000000', 'files': ['openstack/keystone/keystone.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/df210d99c0caebf3f1a45abec8eb3811ff0c1b76', 'message': 'keystone: add new dependency for documentation build\n\nChange-Id: I15b0973bbea739af6243730564a8fab5756a8c83\n'}]",0,671977,df210d99c0caebf3f1a45abec8eb3811ff0c1b76,17,6,1,6593,,,0,"keystone: add new dependency for documentation build

Change-Id: I15b0973bbea739af6243730564a8fab5756a8c83
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/77/671977/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/keystone/keystone.spec.j2'],1,df210d99c0caebf3f1a45abec8eb3811ff0c1b76,,BuildRequires: {{ py2pkg('sphinxcontrib-blockdiag') }},,1,0
openstack%2Freleases~master~I6ffad5f89c10c58745a4e31b9f053d4e58513dce,openstack/releases,master,I6ffad5f89c10c58745a4e31b9f053d4e58513dce,swift 2.22.0 release,MERGED,2019-07-17 18:51:08.000000000,2019-07-22 20:12:21.000000000,2019-07-22 20:12:21.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 15343}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-17 18:51:08.000000000', 'files': ['deliverables/train/swift.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0f9cde267c7f3ff322f2a4ec1784c847750c229d', 'message': 'swift 2.22.0 release\n\nChange-Id: I6ffad5f89c10c58745a4e31b9f053d4e58513dce\n'}]",0,671350,0f9cde267c7f3ff322f2a4ec1784c847750c229d,9,5,1,15343,,,0,"swift 2.22.0 release

Change-Id: I6ffad5f89c10c58745a4e31b9f053d4e58513dce
",git fetch https://review.opendev.org/openstack/releases refs/changes/50/671350/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/swift.yaml'],1,0f9cde267c7f3ff322f2a4ec1784c847750c229d,,releases: - version: 2.22.0 projects: - repo: openstack/swift hash: a48ac28efe5c133b439ab0e525d315271bf370da,,5,0
openstack%2Frpm-packaging~stable%2Frocky~Ic97642185ea04f317d876d961a57cb9782571f9e,openstack/rpm-packaging,stable/rocky,Ic97642185ea04f317d876d961a57cb9782571f9e,Run stable/rocky linters on ubuntu bionic,ABANDONED,2019-07-18 18:10:36.000000000,2019-07-22 20:09:27.000000000,,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-18 18:10:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e010cb2f019052ece60efe757fbe9ff23da775cd', 'message': ""Run stable/rocky linters on ubuntu bionic\n\nspec-cleaner 1.1.4 doesn't install with python3.5 because it introduced\ntype annotations which aren't available until python3.6[1]. This change\noverrides the openstack-tox-linter job definition to always use the\nubuntu-bionic nodeset so that we can use a modern version of python3\ninstead of conditionally choosing an ubuntu version based on the branch.\n\n[1] https://www.python.org/dev/peps/pep-0526/\n\nChange-Id: Ic97642185ea04f317d876d961a57cb9782571f9e\n""}]",0,671537,e010cb2f019052ece60efe757fbe9ff23da775cd,7,4,1,8482,,,0,"Run stable/rocky linters on ubuntu bionic

spec-cleaner 1.1.4 doesn't install with python3.5 because it introduced
type annotations which aren't available until python3.6[1]. This change
overrides the openstack-tox-linter job definition to always use the
ubuntu-bionic nodeset so that we can use a modern version of python3
instead of conditionally choosing an ubuntu version based on the branch.

[1] https://www.python.org/dev/peps/pep-0526/

Change-Id: Ic97642185ea04f317d876d961a57cb9782571f9e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/37/671537/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e010cb2f019052ece60efe757fbe9ff23da775cd,fix-linters,- job: name: rpm-packaging-linters parent: openstack-tox-linters nodeset: ubuntu-bionic - rpm-packaging-linters - rpm-packaging-linters, - openstack-tox-linters - openstack-tox-linters,7,2
openstack%2Fcharm-neutron-dynamic-routing~master~I1dc570a26bfa97f5612c7b82f06181b2f4e6a665,openstack/charm-neutron-dynamic-routing,master,I1dc570a26bfa97f5612c7b82f06181b2f4e6a665,Hold services down until config rendered,MERGED,2019-07-22 11:02:56.000000000,2019-07-22 20:05:29.000000000,2019-07-22 20:05:28.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 11:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/fd8e5ac6d4326aeddfc3e1a5d3ee172d990a211d', 'message': 'Hold services down until config rendered\n\nChange-Id: I1dc570a26bfa97f5612c7b82f06181b2f4e6a665\nCloses-Bug: #1837379\n'}, {'number': 2, 'created': '2019-07-22 15:00:11.000000000', 'files': ['src/lib/charm/openstack/dragent.py', 'src/reactive/dragent_handlers.py', 'unit_tests/test_dragent_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/871bcaaeb31efe21a21e4a8134c570d80d2cc313', 'message': 'Hold services down until config rendered\n\nChange-Id: I1dc570a26bfa97f5612c7b82f06181b2f4e6a665\nCloses-Bug: #1837379\n'}]",2,672011,871bcaaeb31efe21a21e4a8134c570d80d2cc313,19,5,2,13686,,,0,"Hold services down until config rendered

Change-Id: I1dc570a26bfa97f5612c7b82f06181b2f4e6a665
Closes-Bug: #1837379
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/11/672011/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/dragent.py', 'src/reactive/dragent_handlers.py', 'unit_tests/test_dragent_handlers.py']",3,fd8e5ac6d4326aeddfc3e1a5d3ee172d990a211d,bug/1837379," 'enable_services': ('config.rendered',), }, 'when_not': { 'disable_services': ('config.rendered',), self.set_flag.assert_called_once_with('config.rendered')",,33,0
openstack%2Fapi-site~master~I3ae1ce96860a554b9cf30913b552446437e61b52,openstack/api-site,master,I3ae1ce96860a554b9cf30913b552446437e61b52,WIP: Add redirects,ABANDONED,2019-07-16 18:04:21.000000000,2019-07-22 20:00:16.000000000,,"[{'_account_id': 6547}, {'_account_id': 10607}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-16 18:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/d295766979637391888cc65f453175d5e56afaec', 'message': 'WIP: Add redirects\n\nAdd first redirect for compute, further to come once all documents are\npublished to docs.openstack.org. This is just a reminder on what needs\nto be done.\n\nDo not merge yet.\n\nChange-Id: I3ae1ce96860a554b9cf30913b552446437e61b52\n'}, {'number': 2, 'created': '2019-07-16 18:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/73d8eaaf158b98c8ad5a36cdd20fe983cbb9fb5e', 'message': 'WIP: Add redirects\n\nAdd first redirect for compute, further to come once all documents are\npublished to docs.openstack.org. This is just a reminder on what needs\nto be done.\n\nDo not merge yet.\n\nChange-Id: I3ae1ce96860a554b9cf30913b552446437e61b52\n'}, {'number': 3, 'created': '2019-07-17 08:44:25.000000000', 'files': ['www/.htaccess'], 'web_link': 'https://opendev.org/openstack/api-site/commit/444fc7084a59d181c37eec4cd8bc6febf5ae22ca', 'message': 'WIP: Add redirects\n\nAdd first redirect for compute, further to come once all documents are\npublished to docs.openstack.org. This is just a reminder on what needs\nto be done.\n\nDo not merge yet.\n\nChange-Id: I3ae1ce96860a554b9cf30913b552446437e61b52\n'}]",0,671125,444fc7084a59d181c37eec4cd8bc6febf5ae22ca,9,4,3,6547,,,0,"WIP: Add redirects

Add first redirect for compute, further to come once all documents are
published to docs.openstack.org. This is just a reminder on what needs
to be done.

Do not merge yet.

Change-Id: I3ae1ce96860a554b9cf30913b552446437e61b52
",git fetch https://review.opendev.org/openstack/api-site refs/changes/25/671125/2 && git format-patch -1 --stdout FETCH_HEAD,['www/.htaccess'],1,d295766979637391888cc65f453175d5e56afaec,retire-api-site, # Redirect moved api-ref documents to docs.openstack.org redirect 301 /api-ref/compute https://docs.openstack.org/api-ref/compute,,3,0
openstack%2Fpython-openstackclient~master~I59cbf3f75c55e5d3747654edcc9be86ad954cf40,openstack/python-openstackclient,master,I59cbf3f75c55e5d3747654edcc9be86ad954cf40,Add --name-lookup-one-by-one option to server list,MERGED,2018-05-14 18:17:52.000000000,2019-07-22 19:56:11.000000000,2018-11-08 19:07:02.000000000,"[{'_account_id': 970}, {'_account_id': 9542}, {'_account_id': 10338}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-14 18:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/907473a2408b202ec02c58d362a3b2cf10b58cc1', 'message': 'Resolve images and flavors one by one in server list\n\nusually in a big cloud there are many images and flavors,\nwhile each given project might use only some of those.\n\nInstead of making a full image/flavor list when doing server list and\nattempting to resolve image/flavor ids to names,\nmake specific GET requests to unique set of flavors and images present\nin the server objects returned by the server list.\n\nChange-Id: I59cbf3f75c55e5d3747654edcc9be86ad954cf40\n'}, {'number': 2, 'created': '2018-05-15 13:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1cbf9a890d7a3a8fb85c840276361ae313b74610', 'message': ""Add --name-lookup option to server list\n\nusually in a big cloud there are many images and flavors,\nwhile each given project might use only some of those.\n\nThis patch introduces '--name-lookup' argument to server list command\n(mutually exclusive with '--no-name-lookup') with possible values of:\n  - 'all' (default) keeps current behavior of fetching all\n    images/flavors at once;\n  - 'one' makes specific GET requests to unique set of images/flavors\n    present in the server objects returned by the server list.\n\nWhen either '--image' or '--flavor' is specified, name resolving for\ncorresponding entity is now also using targeted GET commands instead of\nfull entities list.\n\nChange-Id: I59cbf3f75c55e5d3747654edcc9be86ad954cf40\nStory: #2002039\nTask: #19682\n""}, {'number': 3, 'created': '2018-05-18 13:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/681553ff19b2cc717fb2faf2265b708c7d0c47e0', 'message': ""Add --name-lookup option to server list\n\nusually in a big cloud there are many images and flavors,\nwhile each given project might use only some of those.\n\nThis patch introduces '--name-lookup' argument to server list command\n(mutually exclusive with '--no-name-lookup') with possible values of:\n  - 'all' (default) keeps current behavior of fetching all\n    images/flavors at once;\n  - 'one' makes specific GET requests to unique set of images/flavors\n    present in the server objects returned by the server list.\n\nWhen either '--image' or '--flavor' is specified, name resolving for\ncorresponding entity is now also using targeted GET commands instead of\nfull entities list.\n\nChange-Id: I59cbf3f75c55e5d3747654edcc9be86ad954cf40\nStory: #2002039\nTask: #19682\n""}, {'number': 4, 'created': '2018-06-13 13:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0dce76982aefd357b8122220c271deacbfeab734', 'message': ""Add --name-lookup option to server list\n\nusually in a big cloud there are many images and flavors,\nwhile each given project might use only some of those.\n\nThis patch introduces '--name-lookup' argument to server list command\n(mutually exclusive with '--no-name-lookup') with possible values of:\n  - 'all' (default) keeps current behavior of fetching all\n    images/flavors at once;\n  - 'one' makes specific GET requests to unique set of images/flavors\n    present in the server objects returned by the server list.\n\nWhen either '--image' or '--flavor' is specified, name resolving for\ncorresponding entity is now also using targeted GET commands instead of\nfull entities list.\n\nChange-Id: I59cbf3f75c55e5d3747654edcc9be86ad954cf40\nStory: #2002039\nTask: #19682\n""}, {'number': 5, 'created': '2018-07-09 16:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/735e4f9344c4b67d5c95b12e30987796b0044543', 'message': ""Add --name-lookup option to server list\n\nusually in a big cloud there are many images and flavors,\nwhile each given project might use only some of those.\n\nThis patch introduces '--name-lookup' argument to server list command\n(mutually exclusive with '--no-name-lookup') with possible values of:\n  - 'all' (default) keeps current behavior of fetching all\n    images/flavors at once;\n  - 'one' makes specific GET requests to unique set of images/flavors\n    present in the server objects returned by the server list.\n\nWhen either '--image' or '--flavor' is specified, name resolving for\ncorresponding entity is now also using targeted GET commands instead of\nfull entities list.\n\nChange-Id: I59cbf3f75c55e5d3747654edcc9be86ad954cf40\nStory: #2002039\nTask: #19682\n""}, {'number': 6, 'created': '2018-09-25 12:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/87e2bd9510f7f6206c0ab5982b3ac7e92871bab5', 'message': ""Add --name-lookup-one-by-one option to server list\n\nusually in a big cloud there are many images and flavors,\nwhile each given project might use only some of those.\n\nThis patch introduces '--name-lookup-one-by-one' argument to\nserver list command (mutually exclusive with '--no-name-lookup')\n\nWhen provided (or either '--image' or '--flavor' is specified) to the\n`server list` command, name resolving for\ncorresponding entity is now using targeted GET commands instead of\nfull entities list.\n\nIn some situations this can significantly speedup the execution of the\n`server list` command by reducing the number of API requests performed.\n\nChange-Id: I59cbf3f75c55e5d3747654edcc9be86ad954cf40\nStory: #2002039\nTask: #19682\n""}, {'number': 7, 'created': '2018-11-02 17:01:53.000000000', 'files': ['releasenotes/notes/name-lookup-one-by-one-e0f15f4eab329b19.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e782f49927a6b142a35f85a1a4a759fd2b1ceedf', 'message': ""Add --name-lookup-one-by-one option to server list\n\nusually in a big cloud there are many images and flavors,\nwhile each given project might use only some of those.\n\nThis patch introduces '--name-lookup-one-by-one' argument to\nserver list command (mutually exclusive with '--no-name-lookup')\n\nWhen provided (or either '--image' or '--flavor' is specified) to the\n`server list` command, name resolving for\ncorresponding entity is now using targeted GET commands instead of\nfull entities list.\n\nIn some situations this can significantly speedup the execution of the\n`server list` command by reducing the number of API requests performed.\n\nChange-Id: I59cbf3f75c55e5d3747654edcc9be86ad954cf40\nStory: #2002039\nTask: #19682\n""}]",3,568345,e782f49927a6b142a35f85a1a4a759fd2b1ceedf,40,5,7,9542,,,0,"Add --name-lookup-one-by-one option to server list

usually in a big cloud there are many images and flavors,
while each given project might use only some of those.

This patch introduces '--name-lookup-one-by-one' argument to
server list command (mutually exclusive with '--no-name-lookup')

When provided (or either '--image' or '--flavor' is specified) to the
`server list` command, name resolving for
corresponding entity is now using targeted GET commands instead of
full entities list.

In some situations this can significantly speedup the execution of the
`server list` command by reducing the number of API requests performed.

Change-Id: I59cbf3f75c55e5d3747654edcc9be86ad954cf40
Story: #2002039
Task: #19682
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/45/568345/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,907473a2408b202ec02c58d362a3b2cf10b58cc1,optimize-server-list," for i_id in set(filter(lambda x: x is not None, (s.image.get('id') for s in data))): try: images[i_id] = image_client.images.get(i_id) except Exception: pass for f_id in set(filter(lambda x: x is not None, (s.flavor.get('id') for s in data))): try: flavors[f_id] = compute_client.flavors.get(f_id) except Exception: pass", try: images_list = self.app.client_manager.image.images.list() for i in images_list: images[i.id] = i except Exception: pass try: flavors_list = compute_client.flavors.list() for i in flavors_list: flavors[i.id] = i except Exception: pass,12,12
openstack%2Foctavia-dashboard~master~I2f643478a2c3384362939e21d7801adc6651a9a5,openstack/octavia-dashboard,master,I2f643478a2c3384362939e21d7801adc6651a9a5,Modify the 'tox.ini' file,ABANDONED,2018-07-08 11:34:50.000000000,2019-07-22 19:55:03.000000000,,"[{'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 14151}, {'_account_id': 14320}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-08 11:34:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/e1c3b87c07f8741652b7b834180e899200da1ed2', 'message': ""Modify the 'tox.ini' file\n\nSince the horizon remove the 'run_tests.sh' file,\nso there should remove '.venv' from the '.tox.ini' file.\n\nChange-Id: I2f643478a2c3384362939e21d7801adc6651a9a5\n""}]",0,580837,e1c3b87c07f8741652b7b834180e899200da1ed2,8,5,1,14151,,,0,"Modify the 'tox.ini' file

Since the horizon remove the 'run_tests.sh' file,
so there should remove '.venv' from the '.tox.ini' file.

Change-Id: I2f643478a2c3384362939e21d7801adc6651a9a5
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/37/580837/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e1c3b87c07f8741652b7b834180e899200da1ed2,,"exclude=.git,.tox,.tmp,dist,doc,*lib/python*,*egg,build,node_modules","exclude=.venv,.git,.tox,.tmp,dist,doc,*lib/python*,*egg,build,node_modules",1,1
openstack%2Fmanila~master~Ie9ba5939b223d7061a3b2707ee9ef899f1fe7f66,openstack/manila,master,Ie9ba5939b223d7061a3b2707ee9ef899f1fe7f66,Manila PowerMax - rebrand from VMAX to PowerMax,MERGED,2019-06-04 16:26:54.000000000,2019-07-22 19:47:27.000000000,2019-07-22 19:47:27.000000000,"[{'_account_id': 7160}, {'_account_id': 9003}, {'_account_id': 10379}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12670}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23601}, {'_account_id': 25243}, {'_account_id': 30165}]","[{'number': 1, 'created': '2019-06-04 16:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b83c71af83158e2b96ff30b0ffdd1291f54a7a44', 'message': 'Manila PowerMax\n\nRebrand from VMAX to PowerMax\n\nChange-Id: Ie9ba5939b223d7061a3b2707ee9ef899f1fe7f66\n'}, {'number': 2, 'created': '2019-06-04 16:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/32cff038d853b055751990798eec1c64e83c8cd0', 'message': 'Manila PowerMax\n\nRebrand from VMAX to PowerMax\n\nChange-Id: Ie9ba5939b223d7061a3b2707ee9ef899f1fe7f66\n'}, {'number': 3, 'created': '2019-06-04 16:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d5c2175571cd8f66688f495d6b11ec961d7267db', 'message': 'Manila PowerMax\n\nRebrand from VMAX to PowerMax\n\nChange-Id: Ie9ba5939b223d7061a3b2707ee9ef899f1fe7f66\n'}, {'number': 4, 'created': '2019-06-05 10:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6ddc31496c8e8a1b5fb1b2e44bd4c362a9ce56b2', 'message': 'Manila PowerMax - rebrand from VMAX to PowerMax\n\nRebrand from VMAX to PowerMax includes change tags, directory structure,\nfile names and documentation.\n\nImplements: blueprint powermax-rebrand-manila\n\nChange-Id: Ie9ba5939b223d7061a3b2707ee9ef899f1fe7f66\n'}, {'number': 5, 'created': '2019-06-05 14:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6e3a186cae5c0364fd023ae3abbf032a8bdce4a1', 'message': 'Manila PowerMax - rebrand from VMAX to PowerMax\n\nRebrand from VMAX to PowerMax includes change tags, directory structure,\nfile names and documentation.\n\nImplements: blueprint powermax-rebrand-manila\n\nChange-Id: Ie9ba5939b223d7061a3b2707ee9ef899f1fe7f66\n'}, {'number': 6, 'created': '2019-06-06 08:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/54dc32a33c7257b0f641ab51d57cf16e3299039b', 'message': 'Manila PowerMax - rebrand from VMAX to PowerMax\n\nRebrand from VMAX to PowerMax includes change tags, directory structure,\nfile names and documentation.\n\nImplements: blueprint powermax-rebrand-manila\n\nChange-Id: Ie9ba5939b223d7061a3b2707ee9ef899f1fe7f66\n'}, {'number': 7, 'created': '2019-07-03 10:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5d401c4f7a0a59adbe8d7e5889acbe763d5bcbed', 'message': 'Manila PowerMax - rebrand from VMAX to PowerMax\n\nRebrand from VMAX to PowerMax includes change tags, directory structure,\nfile names and documentation.\n\nImplements: blueprint powermax-rebrand-manila\n\nChange-Id: Ie9ba5939b223d7061a3b2707ee9ef899f1fe7f66\n'}, {'number': 8, 'created': '2019-07-03 11:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ce4a7489114a0562c84dffc3a9f670109f856fc6', 'message': 'Manila PowerMax - rebrand from VMAX to PowerMax\n\nRebrand from VMAX to PowerMax includes change tags, directory structure,\nfile names and documentation.\n\nImplements: blueprint powermax-rebrand-manila\n\nChange-Id: Ie9ba5939b223d7061a3b2707ee9ef899f1fe7f66\n'}, {'number': 9, 'created': '2019-07-03 11:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ffe75ed9a1ea8214fa00c30d01f46a4419e2e7a7', 'message': 'Manila PowerMax - rebrand from VMAX to PowerMax\n\nRebrand from VMAX to PowerMax includes change tags, directory structure,\nfile names and documentation.\n\nImplements: blueprint powermax-rebrand-manila\n\nChange-Id: Ie9ba5939b223d7061a3b2707ee9ef899f1fe7f66\n'}, {'number': 10, 'created': '2019-07-18 13:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8f3c20d1866ab3ef622505eb8a031b11bbf0ae2c', 'message': 'Manila PowerMax - rebrand from VMAX to PowerMax\n\nRebrand from VMAX to PowerMax includes change tags, directory structure,\nfile names and documentation.\n\nImplements: blueprint powermax-rebrand-manila\n\nChange-Id: Ie9ba5939b223d7061a3b2707ee9ef899f1fe7f66\n'}, {'number': 11, 'created': '2019-07-19 11:20:06.000000000', 'files': ['releasenotes/notes/powermax-rebrand-manila-a46a0c2ac0aa77ed.yaml', 'manila/tests/share/drivers/dell_emc/plugins/powermax/test_object_manager.py', 'manila/share/drivers/dell_emc/plugins/powermax/connection.py', 'doc/source/configuration/shared-file-systems/drivers/dell-emc-powermax-driver.rst', 'manila/opts.py', 'manila/tests/share/drivers/dell_emc/common/enas/utils.py', 'manila/share/drivers/dell_emc/plugins/powermax/object_manager.py', 'manila/share/drivers/dell_emc/driver.py', 'manila/share/drivers/dell_emc/plugins/powermax/__init__.py', 'manila/tests/share/drivers/dell_emc/plugins/powermax/test_connection.py', 'manila/tests/share/drivers/dell_emc/common/enas/fakes.py', 'manila/tests/share/drivers/dell_emc/plugins/powermax/__init__.py', 'doc/source/configuration/tables/manila-powermax.inc', 'setup.cfg', 'manila/exception.py', 'doc/source/configuration/shared-file-systems/drivers.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/6995b9f9758f4b8526011954670da5602acb60cb', 'message': 'Manila PowerMax - rebrand from VMAX to PowerMax\n\nRebrand from VMAX to PowerMax includes change tags, directory structure,\nfile names and documentation.\n\nImplements: blueprint powermax-rebrand-manila\n\nChange-Id: Ie9ba5939b223d7061a3b2707ee9ef899f1fe7f66\n'}]",16,663089,6995b9f9758f4b8526011954670da5602acb60cb,93,18,11,12670,,,0,"Manila PowerMax - rebrand from VMAX to PowerMax

Rebrand from VMAX to PowerMax includes change tags, directory structure,
file names and documentation.

Implements: blueprint powermax-rebrand-manila

Change-Id: Ie9ba5939b223d7061a3b2707ee9ef899f1fe7f66
",git fetch https://review.opendev.org/openstack/manila refs/changes/89/663089/10 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/dell_emc/plugins/powermax/test_object_manager.py', 'manila/share/drivers/dell_emc/plugins/powermax/connection.py', 'doc/source/configuration/shared-file-systems/drivers/dell-emc-powermax-driver.rst', 'manila/opts.py', 'manila/tests/share/drivers/dell_emc/common/enas/utils.py', 'manila/share/drivers/dell_emc/plugins/powermax/object_manager.py', 'manila/share/drivers/dell_emc/driver.py', 'manila/share/drivers/dell_emc/plugins/powermax/__init__.py', 'manila/tests/share/drivers/dell_emc/plugins/powermax/test_connection.py', 'manila/tests/share/drivers/dell_emc/common/enas/fakes.py', 'manila/tests/share/drivers/dell_emc/plugins/powermax/__init__.py', 'doc/source/configuration/tables/manila-powermax.inc', 'setup.cfg', 'manila/exception.py', 'doc/source/configuration/shared-file-systems/drivers.rst']",15,b83c71af83158e2b96ff30b0ffdd1291f54a7a44,bp/powermax-rebrand-manila, drivers/dell-emc-powermax-driver.rst, drivers/dell-emc-vmax-driver.rst,5296,5289
openstack%2Fmanila~master~I86f50af83be699fa7e0fb064abb20324e2d87b86,openstack/manila,master,I86f50af83be699fa7e0fb064abb20324e2d87b86,Update api-ref location,MERGED,2019-07-22 17:04:32.000000000,2019-07-22 19:45:31.000000000,2019-07-22 18:19:18.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 17:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ca4db403bccd648a2594575c61f7b13b1df05eb2', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that the location API location /shared-file-system and not\n/shared-file-systems.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I86f50af83be699fa7e0fb064abb20324e2d87b86\n""}, {'number': 2, 'created': '2019-07-22 17:16:05.000000000', 'files': ['api-ref/source/share-migration.inc', 'doc/source/index.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/documenting_your_work.rst', 'api-ref/source/share-groups.inc', 'doc/source/user/API.rst', 'api-ref/source/share-group-snapshots.inc', 'doc/source/admin/shared-file-systems-services-manage.rst', 'tox.ini', 'api-ref/source/share-group-types.inc'], 'web_link': 'https://opendev.org/openstack/manila/commit/7916986e64e0593266c196149537e60e543612c9', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that the location API location /shared-file-system and not\n/shared-file-systems.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I86f50af83be699fa7e0fb064abb20324e2d87b86\n""}]",0,672114,7916986e64e0593266c196149537e60e543612c9,14,7,2,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that the location API location /shared-file-system and not
/shared-file-systems.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I86f50af83be699fa7e0fb064abb20324e2d87b86
",git fetch https://review.opendev.org/openstack/manila refs/changes/14/672114/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/share-migration.inc', 'doc/source/index.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/documenting_your_work.rst', 'api-ref/source/share-groups.inc', 'doc/source/user/API.rst', 'releasenotes/notes/bp-export-locations-az-api-changes-c8aa1a3a5bc86312.yaml', 'api-ref/source/share-group-snapshots.inc', 'doc/source/admin/shared-file-systems-services-manage.rst', 'tox.ini', 'api-ref/source/share-group-types.inc']",11,ca4db403bccd648a2594575c61f7b13b1df05eb2,retire-api-site,<https://docs.openstack.org/api-ref/shared-file-system/#experimental-apis>`_ <https://docs.openstack.org/api-ref/shared-file-system/#experimental-apis>`_.,<http://developer.openstack.org/api-ref/shared-file-systems/#experimental-apis>`_ <http://developer.openstack.org/api-ref/shared-file-systems/#experimental-apis>`_.,13,13
openstack%2Foslo.cache~master~Iaca2f8cc09a6acae425c020a9d14da3ffde05dec,openstack/oslo.cache,master,Iaca2f8cc09a6acae425c020a9d14da3ffde05dec,Lower the memcache_socket_timeout to one second,MERGED,2019-07-22 15:00:17.000000000,2019-07-22 19:40:32.000000000,2019-07-22 19:40:32.000000000,"[{'_account_id': 2903}, {'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 15:00:17.000000000', 'files': ['oslo_cache/_opts.py', 'releasenotes/notes/lower_socket_timeout-ff5680a6be23bdb2.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/f67262f0e7e7d5d59c3f36492d8fdaad8d6f269b', 'message': 'Lower the memcache_socket_timeout to one second\n\nLowering this setting still allows for reasonable confidence of a\ntimeout without tanking performance.\n\nCertain downstream projects have already made this optimization:\n\n  https://github.com/crowbar/crowbar-openstack/pull/1429\n\nChange-Id: Iaca2f8cc09a6acae425c020a9d14da3ffde05dec\n'}]",1,672063,f67262f0e7e7d5d59c3f36492d8fdaad8d6f269b,8,3,1,5046,,,0,"Lower the memcache_socket_timeout to one second

Lowering this setting still allows for reasonable confidence of a
timeout without tanking performance.

Certain downstream projects have already made this optimization:

  https://github.com/crowbar/crowbar-openstack/pull/1429

Change-Id: Iaca2f8cc09a6acae425c020a9d14da3ffde05dec
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/63/672063/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_cache/_opts.py', 'releasenotes/notes/lower_socket_timeout-ff5680a6be23bdb2.yaml']",2,f67262f0e7e7d5d59c3f36492d8fdaad8d6f269b,,"--- upgrade: - | The default value for ``memcache_socket_timeout`` has been lowered from 3 seconds to 1 second. The positive side-effect of this can be found in downstream `changes <https://github.com/crowbar/crowbar-openstack/pull/1429>`_. If you deployment relies explicitly on a timeout of 3 seconds, please set that override in your configuration. ",,10,1
openstack%2Fopenstack-ansible~master~Ib52ac903917fc7608e5b54e2546f9a03837453e2,openstack/openstack-ansible,master,Ib52ac903917fc7608e5b54e2546f9a03837453e2,Update api-ref location,MERGED,2019-07-22 18:50:58.000000000,2019-07-22 19:39:12.000000000,2019-07-22 19:39:12.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-07-22 18:50:58.000000000', 'files': ['doc/source/admin/openstack-operations/cli-operations.rst', 'deploy-guide/source/app-resources.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d8ba6735c60a0f128c12245148a0593837d34a40', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Ib52ac903917fc7608e5b54e2546f9a03837453e2\n""}]",0,672134,d8ba6735c60a0f128c12245148a0593837d34a40,8,3,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Ib52ac903917fc7608e5b54e2546f9a03837453e2
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/34/672134/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/openstack-operations/cli-operations.rst', 'deploy-guide/source/app-resources.rst']",2,d8ba6735c60a0f128c12245148a0593837d34a40,retire-api-site, <https://docs.openstack.org/api-quick-start>`_, <https://developer.openstack.org/api-guide/quick-start>`_,2,2
openstack%2Fec2-api~master~Ib3f8664195986bae45123061cd2afc816c6403d8,openstack/ec2-api,master,Ib3f8664195986bae45123061cd2afc816c6403d8,Update api-ref location,MERGED,2019-07-22 16:38:40.000000000,2019-07-22 19:12:32.000000000,2019-07-22 19:12:32.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 16:38:40.000000000', 'files': ['doc/source/index.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/b0361c04382f9c07870152f9a389073aaec697dc', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: Ib3f8664195986bae45123061cd2afc816c6403d8\n""}]",0,672094,b0361c04382f9c07870152f9a389073aaec697dc,6,2,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: Ib3f8664195986bae45123061cd2afc816c6403d8
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/94/672094/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'tox.ini']",2,b0361c04382f9c07870152f9a389073aaec697dc,retire-api-site,# the API Ref and Docs to docs.openstack.org.# the API Ref to docs.openstack.org.,# the API Ref and Docs to developer.openstack.org.# the API Ref to developer.openstack.org.,3,3
openstack%2Fcharm-hacluster~master~I34ca8068b5e373c6e0374d61656a7e3cb22ce901,openstack/charm-hacluster,master,I34ca8068b5e373c6e0374d61656a7e3cb22ce901,Add logging when a resource is not running,MERGED,2019-07-22 18:21:17.000000000,2019-07-22 19:11:53.000000000,2019-07-22 19:11:53.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 26040}]","[{'number': 1, 'created': '2019-07-22 18:21:17.000000000', 'files': ['hooks/pcmk.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/ccb44ce2bcd23fa0748bb9f51718fc2e3917e565', 'message': 'Add logging when a resource is not running\n\nChange-Id: I34ca8068b5e373c6e0374d61656a7e3cb22ce901\nPartial-Bug: #1837401\n'}]",0,672126,ccb44ce2bcd23fa0748bb9f51718fc2e3917e565,9,4,1,20634,,,0,"Add logging when a resource is not running

Change-Id: I34ca8068b5e373c6e0374d61656a7e3cb22ce901
Partial-Bug: #1837401
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/26/672126/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/pcmk.py'],1,ccb44ce2bcd23fa0748bb9f51718fc2e3917e565,bug/1837401," log('CRM Resource not running - Status: {}'.format(output), WARNING) log('CRM Resource not running - Status: {}'.format(output), WARNING)",,2,0
openstack%2Fswift~stable%2Fstein~I8bee326cd9704022cb7e01fe40cbdec6e76be823,openstack/swift,stable/stein,I8bee326cd9704022cb7e01fe40cbdec6e76be823,Update UPPER_CONSTRAINTS_FILE for stable/stein,MERGED,2019-03-25 17:07:54.000000000,2019-07-22 19:04:07.000000000,2019-07-22 19:04:07.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-25 17:07:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/48bb9e91ed61951ea073b52504e76ba2ba3feeed', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/stein branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I8bee326cd9704022cb7e01fe40cbdec6e76be823\n'}]",2,647544,48bb9e91ed61951ea073b52504e76ba2ba3feeed,27,2,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/stein

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/stein branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I8bee326cd9704022cb7e01fe40cbdec6e76be823
",git fetch https://review.opendev.org/openstack/swift refs/changes/44/647544/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,48bb9e91ed61951ea073b52504e76ba2ba3feeed,create-stein,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein} -U {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -U {opts} {packages},1,1
openstack%2Fneutron-lib~master~If65b1da79dfa73c73d91af457b2a5f93c6b2eedc,openstack/neutron-lib,master,If65b1da79dfa73c73d91af457b2a5f93c6b2eedc,Filter placement API endpoint by type too,MERGED,2019-07-17 22:57:08.000000000,2019-07-22 18:58:28.000000000,2019-07-22 14:20:02.000000000,"[{'_account_id': 5367}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 14200}, {'_account_id': 14805}, {'_account_id': 15554}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 25564}, {'_account_id': 30568}]","[{'number': 1, 'created': '2019-07-17 22:57:08.000000000', 'files': ['neutron_lib/placement/client.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2a888c12815800c2391c56f34ab350ed69bf4cc5', 'message': 'Filter placement API endpoint by type too\n\nThe change introduced by I7e8c0e3ef7aefd0574aa2a28560653005f2640d6 is\nsilently ignore the endpoint_type option so we need to use filter.\n\nChange-Id: If65b1da79dfa73c73d91af457b2a5f93c6b2eedc\nRelated-Bug: #1818943\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",0,671371,2a888c12815800c2391c56f34ab350ed69bf4cc5,19,11,1,14200,,,0,"Filter placement API endpoint by type too

The change introduced by I7e8c0e3ef7aefd0574aa2a28560653005f2640d6 is
silently ignore the endpoint_type option so we need to use filter.

Change-Id: If65b1da79dfa73c73d91af457b2a5f93c6b2eedc
Related-Bug: #1818943
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/71/671371/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/placement/client.py'],1,2a888c12815800c2391c56f34ab350ed69bf4cc5,bug/1818943," 'region_name': self._conf.placement.region_name, 'interface': self._conf.placement.endpoint_type}", 'region_name': self._conf.placement.region_name},2,1
openstack%2Fpython-openstackclient~stable%2Fstein~I312c971346c7ded93f6fcaa515098554b8580295,openstack/python-openstackclient,stable/stein,I312c971346c7ded93f6fcaa515098554b8580295,Fix BFV server list handling with --name-lookup-one-by-one,MERGED,2019-07-22 13:23:51.000000000,2019-07-22 18:46:30.000000000,2019-07-22 18:46:30.000000000,"[{'_account_id': 970}, {'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-22 13:23:51.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/83359fbe4fd7e5850abd45a467bf197c284519b1', 'message': ""Fix BFV server list handling with --name-lookup-one-by-one\n\nWhen the --name-lookup-one-by-one option passed to the 'server list'\ncommand, the image and flavor names will be looked up for each\nserver being listed instead of fetching all image/flavor names.\n\nThe current code assumes all servers have an image attribute, but\nservers booted from volumes have no image, so the following error is\nraised when listing BFV servers with --name-lookup-one-by-one:\n\n  AttributeError: ('unicode'|'str') object has no attribute 'get'\n\nThe error occurs when the code attempts server.image.get('id').\n\nThis fixes the --name-lookup-one-by-one code not to assume an image\nfor a server. The unit tests for 'server list' have also been\nrobustified to feature one BFV server to enhance our test coverage.\n\nStory: #2006063\nTask: #34777\n\nChange-Id: I312c971346c7ded93f6fcaa515098554b8580295\n(cherry picked from commit bfc34e11b3437506508b3e120accc0e212268ac6)\n""}]",0,672042,83359fbe4fd7e5850abd45a467bf197c284519b1,8,3,1,6873,,,0,"Fix BFV server list handling with --name-lookup-one-by-one

When the --name-lookup-one-by-one option passed to the 'server list'
command, the image and flavor names will be looked up for each
server being listed instead of fetching all image/flavor names.

The current code assumes all servers have an image attribute, but
servers booted from volumes have no image, so the following error is
raised when listing BFV servers with --name-lookup-one-by-one:

  AttributeError: ('unicode'|'str') object has no attribute 'get'

The error occurs when the code attempts server.image.get('id').

This fixes the --name-lookup-one-by-one code not to assume an image
for a server. The unit tests for 'server list' have also been
robustified to feature one BFV server to enhance our test coverage.

Story: #2006063
Task: #34777

Change-Id: I312c971346c7ded93f6fcaa515098554b8580295
(cherry picked from commit bfc34e11b3437506508b3e120accc0e212268ac6)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/42/672042/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",2,83359fbe4fd7e5850abd45a467bf197c284519b1,lookup-one-by-one-bfv, # The 'image' attribute can be an empty string if the server was # booted from a volume. (s.image.get('id') for s in data if s.image))):, (s.image.get('id') for s in data))):,30,9
openstack%2Fnova~stable%2Fstein~I3e53c76812ac6614d10a7fdbbc0584c81a4b60b2,openstack/nova,stable/stein,I3e53c76812ac6614d10a7fdbbc0584c81a4b60b2,[DNM] testing bug/1813789 revert resize events,ABANDONED,2019-07-16 15:22:23.000000000,2019-07-22 18:27:41.000000000,,"[{'_account_id': 8864}, {'_account_id': 10118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-16 15:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3be8e4bcd93f87c8fd1e595caa07895349677912', 'message': ""[DNM] testing bug/1813789 revert resize events\n\nThis is a combination of 3 commits.\nwhich have been modifed to test revert resize on\nstable branches.\n\nThis is the 1st commit message:\n\n  Run revert resize tests in nova-live-migration\n\n  In order to test multinode resize revert (which is currently only\n  tested in the single node tempest-full-py3 job), this patch renames\n  the nova-live-migration job to nova-multinode and makes it run revert\n  resize test via a Tempest RC file. The existing live migration and\n  evacuate tests are left as post-test hook scripts because they do\n  things like change Tempest settings, start Glance, and force down\n  compute nodes.\n\n  Change-Id: I980177410c16ecbd809856440ac633453fa20ea8\n\nThis is the commit message #2:\n\n  [DNM] use iptables in nova-multinode\n\n  This patch is jsut for testing to see if we can repoduce the\n  issue we are seeing downstrem upstream.\n\n  my current working theroy is because we are using iptables\n  in the downstream ci which enable the hybrid plug workflow it\n  change the timeing of when the network events are sent.\n\n  in a non hybrid plug case the network events are sent after the\n  vm is resumed and libvirt plugs the interface back into ovs\n  in the hybrid plug case as we have not called unplug on the souce\n  node the veth pair and intermeidate linux bridge still exist when\n  we activate the souce binding so the event woudl be sent imedetly before\n  we start waithgin for it. this is what we belive is the souce of the\n  bug and this shoudl hopefully repoduce it.\n\n  Change-Id: Idf0ed84bae0bedbb70b5a65ee804ec1f2f4a27ee\n\nThis is the commit message #3:\n\n  Add neutron-tempest-iptables_hybrid job to experimental queue\n\n  Due to regression bug 1833902 we should have the option to\n  run the neutron job that tests the OVS hybrid plug configuration\n  on specific patches.\n\n  We could eventually consider running this in the check queue\n  like neutron-tempest-linuxbridge with a strict set of irrelevant\n  files but that would require some thought, i.e. we'd want to run\n  the job on changes to nova/compute/manager.py since the network\n  vif model bind events code is used in the ComputeManager and is\n  specific to OVS hybrid plug ports. Rather than get bogged down in\n  thinking up what that set is, this change takes the easy path and\n  just throws the job into the on-demand experimental queue.\n\n  Change-Id: Id5172d97b349abe59b47d1284e97943091652419\n  Related-Bug: #1833902\n\nthis modifed versions of those commits will run\n3 jobs in the check queue\n  - nova-live-migration\n  - nova-live-migration-iptables\n  - neutron-tempest-iptables_hybrid\n\nnova-live-migartion and the iptables variant\nwill test teh multi node case\nand the neutron-tempest-iptables_hybrid will test\nsame host resize.\n\nChange-Id: I3e53c76812ac6614d10a7fdbbc0584c81a4b60b2\n""}, {'number': 2, 'created': '2019-07-16 15:27:51.000000000', 'files': ['playbooks/legacy/nova-live-migration/run.yaml', 'devstack/tempest-dsvm-multinode-rc', 'playbooks/legacy/nova-live-migration-iptables/run.yaml', '.zuul.yaml', 'playbooks/legacy/nova-live-migration-iptables/post.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/8b4142ed580f431135cb3b9cfb872bef62cbcb2b', 'message': ""[DNM] testing bug/1813789 revert resize events\n\nThis is a combination of 3 commits.\nwhich have been modifed to test revert resize on\nstable branches.\n\nThis is the 1st commit message:\n\n  Run revert resize tests in nova-live-migration\n\n  In order to test multinode resize revert (which is currently only\n  tested in the single node tempest-full-py3 job), this patch renames\n  the nova-live-migration job to nova-multinode and makes it run revert\n  resize test via a Tempest RC file. The existing live migration and\n  evacuate tests are left as post-test hook scripts because they do\n  things like change Tempest settings, start Glance, and force down\n  compute nodes.\n\n  Change-Id: I980177410c16ecbd809856440ac633453fa20ea8\n\nThis is the commit message #2:\n\n  [DNM] use iptables in nova-multinode\n\n  This patch is jsut for testing to see if we can repoduce the\n  issue we are seeing downstrem upstream.\n\n  my current working theroy is because we are using iptables\n  in the downstream ci which enable the hybrid plug workflow it\n  change the timeing of when the network events are sent.\n\n  in a non hybrid plug case the network events are sent after the\n  vm is resumed and libvirt plugs the interface back into ovs\n  in the hybrid plug case as we have not called unplug on the souce\n  node the veth pair and intermeidate linux bridge still exist when\n  we activate the souce binding so the event woudl be sent imedetly before\n  we start waithgin for it. this is what we belive is the souce of the\n  bug and this shoudl hopefully repoduce it.\n\n  Change-Id: Idf0ed84bae0bedbb70b5a65ee804ec1f2f4a27ee\n\nThis is the commit message #3:\n\n  Add neutron-tempest-iptables_hybrid job to experimental queue\n\n  Due to regression bug 1833902 we should have the option to\n  run the neutron job that tests the OVS hybrid plug configuration\n  on specific patches.\n\n  We could eventually consider running this in the check queue\n  like neutron-tempest-linuxbridge with a strict set of irrelevant\n  files but that would require some thought, i.e. we'd want to run\n  the job on changes to nova/compute/manager.py since the network\n  vif model bind events code is used in the ComputeManager and is\n  specific to OVS hybrid plug ports. Rather than get bogged down in\n  thinking up what that set is, this change takes the easy path and\n  just throws the job into the on-demand experimental queue.\n\n  Change-Id: Id5172d97b349abe59b47d1284e97943091652419\n  Related-Bug: #1833902\n\nthis modifed versions of those commits will run\n3 jobs in the check queue\n  - nova-live-migration\n  - nova-live-migration-iptables\n  - neutron-tempest-iptables_hybrid\n\nnova-live-migartion and the iptables variant\nwill test teh multi node case\nand the neutron-tempest-iptables_hybrid will test\nsame host resize.\n\nChange-Id: I3e53c76812ac6614d10a7fdbbc0584c81a4b60b2\n""}]",0,671079,8b4142ed580f431135cb3b9cfb872bef62cbcb2b,6,3,2,11604,,,0,"[DNM] testing bug/1813789 revert resize events

This is a combination of 3 commits.
which have been modifed to test revert resize on
stable branches.

This is the 1st commit message:

  Run revert resize tests in nova-live-migration

  In order to test multinode resize revert (which is currently only
  tested in the single node tempest-full-py3 job), this patch renames
  the nova-live-migration job to nova-multinode and makes it run revert
  resize test via a Tempest RC file. The existing live migration and
  evacuate tests are left as post-test hook scripts because they do
  things like change Tempest settings, start Glance, and force down
  compute nodes.

  Change-Id: I980177410c16ecbd809856440ac633453fa20ea8

This is the commit message #2:

  [DNM] use iptables in nova-multinode

  This patch is jsut for testing to see if we can repoduce the
  issue we are seeing downstrem upstream.

  my current working theroy is because we are using iptables
  in the downstream ci which enable the hybrid plug workflow it
  change the timeing of when the network events are sent.

  in a non hybrid plug case the network events are sent after the
  vm is resumed and libvirt plugs the interface back into ovs
  in the hybrid plug case as we have not called unplug on the souce
  node the veth pair and intermeidate linux bridge still exist when
  we activate the souce binding so the event woudl be sent imedetly before
  we start waithgin for it. this is what we belive is the souce of the
  bug and this shoudl hopefully repoduce it.

  Change-Id: Idf0ed84bae0bedbb70b5a65ee804ec1f2f4a27ee

This is the commit message #3:

  Add neutron-tempest-iptables_hybrid job to experimental queue

  Due to regression bug 1833902 we should have the option to
  run the neutron job that tests the OVS hybrid plug configuration
  on specific patches.

  We could eventually consider running this in the check queue
  like neutron-tempest-linuxbridge with a strict set of irrelevant
  files but that would require some thought, i.e. we'd want to run
  the job on changes to nova/compute/manager.py since the network
  vif model bind events code is used in the ComputeManager and is
  specific to OVS hybrid plug ports. Rather than get bogged down in
  thinking up what that set is, this change takes the easy path and
  just throws the job into the on-demand experimental queue.

  Change-Id: Id5172d97b349abe59b47d1284e97943091652419
  Related-Bug: #1833902

this modifed versions of those commits will run
3 jobs in the check queue
  - nova-live-migration
  - nova-live-migration-iptables
  - neutron-tempest-iptables_hybrid

nova-live-migartion and the iptables variant
will test teh multi node case
and the neutron-tempest-iptables_hybrid will test
same host resize.

Change-Id: I3e53c76812ac6614d10a7fdbbc0584c81a4b60b2
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/671079/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/nova-live-migration/run.yaml', 'devstack/tempest-dsvm-multinode-rc', 'playbooks/legacy/nova-live-migration-iptables/run.yaml', '.zuul.yaml', 'playbooks/legacy/nova-live-migration-iptables/post.yaml']",5,3be8e4bcd93f87c8fd1e595caa07895349677912,bug/1832028,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,,131,47
openstack%2Fswift~master~I106b94c77da220c762869aa800c31b87c3dffeeb,openstack/swift,master,I106b94c77da220c762869aa800c31b87c3dffeeb,slo: Better handle non-manifest responses when refetching manifest,MERGED,2019-07-20 04:45:13.000000000,2019-07-22 17:44:35.000000000,2019-07-22 17:43:13.000000000,"[{'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-20 04:45:13.000000000', 'files': ['swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ef5a37c2bf5a32b0fa6404974aa76332a88c0841', 'message': ""slo: Better handle non-manifest responses when refetching manifest\n\nPreviously, we never checked whether the response we get when refetching\nis even successful, much less whether it's still coming from an SLO.\n\nNow, if the refetched data is newer, act on it. If it's older, 503.\n\nCloses-Bug: #1837270\nChange-Id: I106b94c77da220c762869aa800c31b87c3dffeeb\n""}]",7,671882,ef5a37c2bf5a32b0fa6404974aa76332a88c0841,14,3,1,15343,,,0,"slo: Better handle non-manifest responses when refetching manifest

Previously, we never checked whether the response we get when refetching
is even successful, much less whether it's still coming from an SLO.

Now, if the refetched data is newer, act on it. If it's older, 503.

Closes-Bug: #1837270
Change-Id: I106b94c77da220c762869aa800c31b87c3dffeeb
",git fetch https://review.opendev.org/openstack/swift refs/changes/82/671882/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py']",2,ef5a37c2bf5a32b0fa6404974aa76332a88c0841,slo-416," def test_range_get_beyond_manifest_refetch_fails(self): big = 'e' * 1024 * 1024 big_etag = md5hex(big) big_manifest = json.dumps( [{'name': '/gettest/big_seg', 'hash': big_etag, 'bytes': 1024 * 1024, 'content_type': 'application/foo'}]) self.app.register_responses( 'GET', '/v1/AUTH_test/gettest/big_manifest', [(swob.HTTPOk, {'Content-Type': 'application/octet-stream', 'X-Static-Large-Object': 'true', 'X-Backend-Timestamp': '1234', 'Etag': md5hex(big_manifest)}, big_manifest), (swob.HTTPNotFound, {}, None)]) req = Request.blank( '/v1/AUTH_test/gettest/big_manifest', environ={'REQUEST_METHOD': 'GET'}, headers={'Range': 'bytes=100000-199999'}) status, headers, body = self.call_slo(req) headers = HeaderKeyDict(headers) self.assertEqual(status, '503 Service Unavailable') self.assertNotIn('X-Static-Large-Object', headers) self.assertEqual(self.app.calls, [ # has Range header, gets 416 ('GET', '/v1/AUTH_test/gettest/big_manifest'), # retry the first one ('GET', '/v1/AUTH_test/gettest/big_manifest'), ]) def test_range_get_beyond_manifest_refetch_finds_old(self): big = 'e' * 1024 * 1024 big_etag = md5hex(big) big_manifest = json.dumps( [{'name': '/gettest/big_seg', 'hash': big_etag, 'bytes': 1024 * 1024, 'content_type': 'application/foo'}]) self.app.register_responses( 'GET', '/v1/AUTH_test/gettest/big_manifest', [(swob.HTTPOk, {'Content-Type': 'application/octet-stream', 'X-Static-Large-Object': 'true', 'X-Backend-Timestamp': '1234', 'Etag': md5hex(big_manifest)}, big_manifest), (swob.HTTPOk, {'X-Backend-Timestamp': '1233'}, [b'small body'])]) req = Request.blank( '/v1/AUTH_test/gettest/big_manifest', environ={'REQUEST_METHOD': 'GET'}, headers={'Range': 'bytes=100000-199999'}) status, headers, body = self.call_slo(req) headers = HeaderKeyDict(headers) self.assertEqual(status, '503 Service Unavailable') self.assertNotIn('X-Static-Large-Object', headers) self.assertEqual(self.app.calls, [ # has Range header, gets 416 ('GET', '/v1/AUTH_test/gettest/big_manifest'), # retry the first one ('GET', '/v1/AUTH_test/gettest/big_manifest'), ]) def test_range_get_beyond_manifest_refetch_small_non_slo(self): big = 'e' * 1024 * 1024 big_etag = md5hex(big) big_manifest = json.dumps( [{'name': '/gettest/big_seg', 'hash': big_etag, 'bytes': 1024 * 1024, 'content_type': 'application/foo'}]) self.app.register_responses( 'GET', '/v1/AUTH_test/gettest/big_manifest', [(swob.HTTPOk, {'Content-Type': 'application/octet-stream', 'X-Static-Large-Object': 'true', 'X-Backend-Timestamp': '1234', 'Etag': md5hex(big_manifest)}, big_manifest), (swob.HTTPOk, {'X-Backend-Timestamp': '1235'}, [b'small body'])]) req = Request.blank( '/v1/AUTH_test/gettest/big_manifest', environ={'REQUEST_METHOD': 'GET'}, headers={'Range': 'bytes=100000-199999'}) status, headers, body = self.call_slo(req) headers = HeaderKeyDict(headers) self.assertEqual(status, '416 Requested Range Not Satisfiable') self.assertNotIn('X-Static-Large-Object', headers) self.assertEqual(self.app.calls, [ # has Range header, gets 416 ('GET', '/v1/AUTH_test/gettest/big_manifest'), # retry the first one ('GET', '/v1/AUTH_test/gettest/big_manifest'), ]) def test_range_get_beyond_manifest_refetch_big_non_slo(self): big = 'e' * 1024 * 1024 big_etag = md5hex(big) big_manifest = json.dumps( [{'name': '/gettest/big_seg', 'hash': big_etag, 'bytes': 1024 * 1024, 'content_type': 'application/foo'}]) self.app.register_responses( 'GET', '/v1/AUTH_test/gettest/big_manifest', [(swob.HTTPOk, {'Content-Type': 'application/octet-stream', 'X-Static-Large-Object': 'true', 'X-Backend-Timestamp': '1234', 'Etag': md5hex(big_manifest)}, big_manifest), (swob.HTTPOk, {'X-Backend-Timestamp': '1235'}, [b'x' * 1024 * 1024])]) req = Request.blank( '/v1/AUTH_test/gettest/big_manifest', environ={'REQUEST_METHOD': 'GET'}, headers={'Range': 'bytes=100000-199999'}) status, headers, body = self.call_slo(req) headers = HeaderKeyDict(headers) self.assertEqual(status, '200 OK') # NOT 416 or 206! self.assertNotIn('X-Static-Large-Object', headers) self.assertEqual(len(body), 1024 * 1024) self.assertEqual(body, b'x' * 1024 * 1024) self.assertEqual(self.app.calls, [ # has Range header, gets 416 ('GET', '/v1/AUTH_test/gettest/big_manifest'), # retry the first one ('GET', '/v1/AUTH_test/gettest/big_manifest'), ]) def test_range_get_beyond_manifest_refetch_tombstone(self): big = 'e' * 1024 * 1024 big_etag = md5hex(big) big_manifest = json.dumps( [{'name': '/gettest/big_seg', 'hash': big_etag, 'bytes': 1024 * 1024, 'content_type': 'application/foo'}]) self.app.register_responses( 'GET', '/v1/AUTH_test/gettest/big_manifest', [(swob.HTTPOk, {'Content-Type': 'application/octet-stream', 'X-Static-Large-Object': 'true', 'X-Backend-Timestamp': '1234', 'Etag': md5hex(big_manifest)}, big_manifest), (swob.HTTPNotFound, {'X-Backend-Timestamp': '1345'}, None)]) req = Request.blank( '/v1/AUTH_test/gettest/big_manifest', environ={'REQUEST_METHOD': 'GET'}, headers={'Range': 'bytes=100000-199999'}) status, headers, body = self.call_slo(req) headers = HeaderKeyDict(headers) self.assertEqual(status, '404 Not Found') self.assertNotIn('X-Static-Large-Object', headers) self.assertEqual(self.app.calls, [ # has Range header, gets 416 ('GET', '/v1/AUTH_test/gettest/big_manifest'), # retry the first one ('GET', '/v1/AUTH_test/gettest/big_manifest'), ]) ",,196,5
openstack%2Fnova-powervm~master~I199eb4e70c985af37bd4b573a14e2ec898b3fc39,openstack/nova-powervm,master,I199eb4e70c985af37bd4b573a14e2ec898b3fc39,Updated Libraries,ABANDONED,2019-07-22 17:42:52.000000000,2019-07-22 17:43:32.000000000,,[],"[{'number': 1, 'created': '2019-07-22 17:42:52.000000000', 'files': ['nova_powervm/virt/powervm/driver.py', 'nova_powervm/tests/virt/powervm/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/c1deb226f93e04fc7d394ea66c8f437cb38bc6a5', 'message': 'Updated Libraries\n\nAdded libraries to support basic requirement to deploy nova-powervm\n\nChange-Id: I199eb4e70c985af37bd4b573a14e2ec898b3fc39\n'}]",0,672121,c1deb226f93e04fc7d394ea66c8f437cb38bc6a5,2,0,1,28063,,,0,"Updated Libraries

Added libraries to support basic requirement to deploy nova-powervm

Change-Id: I199eb4e70c985af37bd4b573a14e2ec898b3fc39
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/21/672121/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova_powervm/virt/powervm/driver.py', 'nova_powervm/tests/virt/powervm/test_driver.py']",2,c1deb226f93e04fc7d394ea66c8f437cb38bc6a5,," self.assertEqual(8, len(test_driver.capabilities)) self.assertEqual(9, len(test_driver.capabilities)) self.assertEqual(9, len(test_driver.capabilities))"," self.assertEqual(19, len(test_driver.capabilities)) self.assertEqual(20, len(test_driver.capabilities)) self.assertEqual(20, len(test_driver.capabilities))",3,16
openstack%2Fneutron~master~Ic9edf5d01e78d2c47015ad48f8d92c30043cb631,openstack/neutron,master,Ic9edf5d01e78d2c47015ad48f8d92c30043cb631,"Remove deprecated ""split_branches"" config option",MERGED,2019-07-14 16:11:22.000000000,2019-07-22 17:43:10.000000000,2019-07-22 17:43:10.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-14 16:11:22.000000000', 'files': ['neutron/conf/db/migration_cli.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5acd1bc68268d4248fdf370a59a36e2c287c3f10', 'message': 'Remove deprecated ""split_branches"" config option\n\nThis config option was defined in migration_cli module was\ndeprecated in Newton release and marked to be removed in Ocata.\nNow, as we are in Train cycle it\'s time to remove it finally.\n\nChange-Id: Ic9edf5d01e78d2c47015ad48f8d92c30043cb631\n'}]",0,670733,5acd1bc68268d4248fdf370a59a36e2c287c3f10,18,6,1,11975,,,0,"Remove deprecated ""split_branches"" config option

This config option was defined in migration_cli module was
deprecated in Newton release and marked to be removed in Ocata.
Now, as we are in Train cycle it's time to remove it finally.

Change-Id: Ic9edf5d01e78d2c47015ad48f8d92c30043cb631
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/670733/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/db/migration_cli.py'],1,5acd1bc68268d4248fdf370a59a36e2c287c3f10,cleaning-old-conf-options," % ""', '"".join(INSTALLED_SUBPROJECTS)))"," % ""', '"".join(INSTALLED_SUBPROJECTS))), cfg.BoolOpt('split_branches', default=True, deprecated_for_removal=True, help=_(""DEPRECATED in newton, will be removed in ocata."" ""Alembic environments integrating with "" ""Neutron must implement split (contract and expand) "" ""branches file structure.""))",1,8
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I11b2bc84e5a3a7db8d7ca9992accf734a692f51b,openstack/tripleo-heat-templates,stable/queens,I11b2bc84e5a3a7db8d7ca9992accf734a692f51b,Support TLS deployments with KernelDisableIPv6 enabled,MERGED,2019-07-18 12:36:59.000000000,2019-07-22 17:29:37.000000000,2019-07-22 17:29:37.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-18 12:36:59.000000000', 'files': ['puppet/services/nova-metadata.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/29ba2b3bfc029386495282d13c72d70e45abb015', 'message': 'Support TLS deployments with KernelDisableIPv6 enabled\n\nThis fixes the nova metadata service to bind to 127.0.0.1 in case\nipv6 is disabled. This is a queens only fix.\n\nChange-Id: I11b2bc84e5a3a7db8d7ca9992accf734a692f51b\nRelated: rhbz#1703460\n'}]",0,671473,29ba2b3bfc029386495282d13c72d70e45abb015,12,7,1,14250,,,0,"Support TLS deployments with KernelDisableIPv6 enabled

This fixes the nova metadata service to bind to 127.0.0.1 in case
ipv6 is disabled. This is a queens only fix.

Change-Id: I11b2bc84e5a3a7db8d7ca9992accf734a692f51b
Related: rhbz#1703460
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/671473/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/nova-metadata.yaml'],1,29ba2b3bfc029386495282d13c72d70e45abb015,kernel_disable_ipv6," - ""%{hiera('localhost_address')}""", - 'localhost',1,1
openstack%2Fneutron~master~Idcb9b371914ec7fb64920fad55bd90994d28fe9f,openstack/neutron,master,Idcb9b371914ec7fb64920fad55bd90994d28fe9f,Fix assertEqual argument ordering in test_securitygroup.py,MERGED,2019-07-16 15:43:52.000000000,2019-07-22 17:16:12.000000000,2019-07-22 17:16:12.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-16 15:43:52.000000000', 'files': ['neutron/tests/unit/extensions/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c238fcd06ca30f2d2adf5703e9e0c6cdafa3308a', 'message': 'Fix assertEqual argument ordering in test_securitygroup.py\n\nIt was noticed in another change that argument ordering in an\nassertEqual() were backwards in test_securitygroup.py, this\nfixes them all at once.\n\nTrivialfix\n\nChange-Id: Idcb9b371914ec7fb64920fad55bd90994d28fe9f\n'}]",0,671089,c238fcd06ca30f2d2adf5703e9e0c6cdafa3308a,10,5,1,1131,,,0,"Fix assertEqual argument ordering in test_securitygroup.py

It was noticed in another change that argument ordering in an
assertEqual() were backwards in test_securitygroup.py, this
fixes them all at once.

Trivialfix

Change-Id: Idcb9b371914ec7fb64920fad55bd90994d28fe9f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/671089/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/extensions/test_securitygroup.py'],1,c238fcd06ca30f2d2adf5703e9e0c6cdafa3308a,fix-assertequal," self.assertEqual(v, security_group_rule[k]) self.assertEqual(v, security_group['security_group'][k]) self.assertEqual(webob.exc.HTTPCreated.code, res.status_int) self.assertEqual('%s/%s' % (ip, addr[ip]['mask']), prefix) self.assertEqual(protocol.lower(), rule['security_group_rule']['protocol']) self.assertEqual(const.IPv4, rule['security_group_rule']['ethertype']) self.assertEqual(remote_group_id, group['security_group']['id']) self.assertEqual(v, sg_rule[0][k]) self.assertEqual(remote_group_id, group['security_group']['id']) self.assertEqual(remote_group_id, group['security_group']['id']) self.assertEqual(5, len(rules)) self.assertNotEqual('admin-tenant', rules[3]['tenant_id']) self.assertEqual('admin-tenant', rules[4]['tenant_id']) self.assertEqual(1, len(groups['security_groups'])) self.assertEqual(4, len(rules['security_group_rules'])) self.assertEqual(v, rule['security_group_rule'][k]) self.assertEqual(v, rule['security_group_rule'][k]) self.assertEqual(v, rule['security_group_rule'][k]) self.assertEqual(v, rule['security_group_rule'][k]) self.assertEqual(v, rule['security_group_rule'][k]) self.assertEqual(v, rule['security_group_rule'][k]) self.assertEqual(v, rule['security_group_rule'][k]) self.assertEqual(1, len(port[ext_sg.SECURITYGROUPS])) self.assertEqual(sg['security_group']['id'], res['port'][ext_sg.SECURITYGROUPS][0]) self.assertEqual(sg['security_group']['id'], res['port'][ext_sg.SECURITYGROUPS][0]) self.assertEqual(sg['security_group']['id'], port['port'][ext_sg.SECURITYGROUPS][0]) self.assertEqual('%s/%s' % (k, v), ext_sg.convert_ip_prefix_to_cidr(k))"," self.assertEqual(security_group_rule[k], v) self.assertEqual(security_group['security_group'][k], v) self.assertEqual(res.status_int, 201) self.assertEqual(prefix, '%s/%s' % (ip, addr[ip]['mask'])) self.assertEqual(rule['security_group_rule']['protocol'], protocol.lower()) self.assertEqual(rule['security_group_rule']['ethertype'], const.IPv4) self.assertEqual(group['security_group']['id'], remote_group_id) self.assertEqual(sg_rule[0][k], v) self.assertEqual(group['security_group']['id'], remote_group_id) self.assertEqual(group['security_group']['id'], remote_group_id) self.assertEqual(len(rules), 5) self.assertNotEqual(rules[3]['tenant_id'], 'admin-tenant') self.assertEqual(rules[4]['tenant_id'], 'admin-tenant') self.assertEqual(len(groups['security_groups']), 1) self.assertEqual(len(rules['security_group_rules']), 4) self.assertEqual(rule['security_group_rule'][k], v) self.assertEqual(rule['security_group_rule'][k], v) self.assertEqual(rule['security_group_rule'][k], v) self.assertEqual(rule['security_group_rule'][k], v) self.assertEqual(rule['security_group_rule'][k], v) self.assertEqual(rule['security_group_rule'][k], v) self.assertEqual(rule['security_group_rule'][k], v) self.assertEqual(len(port[ext_sg.SECURITYGROUPS]), 1) self.assertEqual(res['port'][ext_sg.SECURITYGROUPS][0], sg['security_group']['id']) self.assertEqual(res['port'][ext_sg.SECURITYGROUPS][0], sg['security_group']['id']) self.assertEqual(port['port'][ext_sg.SECURITYGROUPS][0], sg['security_group']['id']) self.assertEqual(ext_sg.convert_ip_prefix_to_cidr(k), '%s/%s' % (k, v))",34,36
openstack%2Fhorizon~master~I149a622a81a17e9d951c68829349fc70fbb8ed2a,openstack/horizon,master,I149a622a81a17e9d951c68829349fc70fbb8ed2a,Generate locale messages at dev server startup,MERGED,2019-05-15 09:10:05.000000000,2019-07-22 17:15:28.000000000,2019-05-20 04:41:14.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 27838}]","[{'number': 1, 'created': '2019-05-15 09:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4d80d83c684a3fe39b27f8c9199528a6bdec5f35', 'message': ""Generate locale messages at dev server startup\n\nBy default, Horizon doesn't compile localized messages in tox\nenvironment. It leads to silent fail of language change with 'Success'\nmessage. Proposed patch includes compilation of messages to tox runserver\ncommand\n\nChange-Id: I149a622a81a17e9d951c68829349fc70fbb8ed2a\n""}, {'number': 2, 'created': '2019-05-16 13:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/af0c802fc14771851b03d298522d4b44f344b4c7', 'message': ""Generate locale messages at dev server startup\n\nBy default, Horizon doesn't compile localized messages in tox\nenvironment. It leads to silent fail of language change with 'Success'\nmessage. Proposed patch includes compilation of messages to tox runserver\ncommand\n\nChange-Id: I149a622a81a17e9d951c68829349fc70fbb8ed2a\n""}, {'number': 3, 'created': '2019-05-17 07:20:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/horizon/commit/e8fd0020ab7e97248888047cdcf688b9480f5ee8', 'message': ""Generate locale messages at dev server startup\n\nBy default, Horizon doesn't compile localized messages in tox\nenvironment. It leads to silent fail of language change with 'Success'\nmessage. Proposed patch includes compilation of messages to tox runserver\ncommand\n\nChange-Id: I149a622a81a17e9d951c68829349fc70fbb8ed2a\n""}]",5,659248,e8fd0020ab7e97248888047cdcf688b9480f5ee8,15,3,3,27838,,,0,"Generate locale messages at dev server startup

By default, Horizon doesn't compile localized messages in tox
environment. It leads to silent fail of language change with 'Success'
message. Proposed patch includes compilation of messages to tox runserver
command

Change-Id: I149a622a81a17e9d951c68829349fc70fbb8ed2a
",git fetch https://review.opendev.org/openstack/horizon refs/changes/48/659248/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4d80d83c684a3fe39b27f8c9199528a6bdec5f35,runserver_compilemessages,commands = {envpython} {toxinidir}/manage.py compilemessages {posargs} {envpython} {toxinidir}/manage.py runserver {posargs},commands = {envpython} {toxinidir}/manage.py runserver {posargs},3,1
openstack%2Fqinling~master~I300ec4668593b7ce2b44d465ec4b6e302a7c5f76,openstack/qinling,master,I300ec4668593b7ce2b44d465ec4b6e302a7c5f76,Update api-ref location,ABANDONED,2019-07-22 16:39:55.000000000,2019-07-22 17:14:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-22 16:39:55.000000000', 'files': ['releasenotes/notes/add-api-ref-documentation-5ec1325223ecafab.yaml'], 'web_link': 'https://opendev.org/openstack/qinling/commit/f32e7eff212e5bb45de274a9cee67cf5cdc7c64c', 'message': ""Update api-ref location\n\nThe api documentation is now published on docs.openstack.org instead\nof developer.openstack.org. Update all links that are changed to the\nnew location.\n\nNote that redirects will be set up as well but let's point now to the\nnew location.\n\nFor details, see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html\n\nChange-Id: I300ec4668593b7ce2b44d465ec4b6e302a7c5f76\n""}]",0,672095,f32e7eff212e5bb45de274a9cee67cf5cdc7c64c,3,1,1,6547,,,0,"Update api-ref location

The api documentation is now published on docs.openstack.org instead
of developer.openstack.org. Update all links that are changed to the
new location.

Note that redirects will be set up as well but let's point now to the
new location.

For details, see:
http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007828.html

Change-Id: I300ec4668593b7ce2b44d465ec4b6e302a7c5f76
",git fetch https://review.opendev.org/openstack/qinling refs/changes/95/672095/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/add-api-ref-documentation-5ec1325223ecafab.yaml'],1,f32e7eff212e5bb45de274a9cee67cf5cdc7c64c,retire-api-site, <https://docs.openstack.org/api-ref/function-engine/>`__ for details., <https://developer.openstack.org/api-ref/function-engine/>`__ for details.,1,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~I8e1a81bc69b4d266755ba3c2a4bf17f37d276fd7,openstack/tripleo-heat-templates,stable/rocky,I8e1a81bc69b4d266755ba3c2a4bf17f37d276fd7,Add new role parameter NovaLibvirtMemStatsPeriodSeconds,MERGED,2019-07-18 05:18:23.000000000,2019-07-22 16:26:57.000000000,2019-07-22 16:26:57.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-18 05:18:23.000000000', 'files': ['roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'releasenotes/notes/nova_libvirt_mem_stats_period_seconds-b9b606232629cb38.yaml', 'roles/ComputeSriovRT.yaml', 'puppet/services/nova-compute.yaml', 'roles/ComputeRealTime.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/85a3685bb2ccc558a95081c3ba7017a4277732ff', 'message': ""Add new role parameter NovaLibvirtMemStatsPeriodSeconds\n\nAdd role parameter NovaLibvirtMemStatsPeriodSeconds which allows to\nset `libvirt/mem_stats_period_seconds` parameter value to\nnumber of seconds to memory usage statistics period, where\nzero or negative value mean to disable memory usage statistics.\n\nDefault value for the parameter is 10.\nAlso set the default value to 0 for Real-Time Compute roles.\n\nConflicts:\n      deployment/nova/nova-compute-container-puppet.yaml\n\nSince we dont't have deployment/nova/nova-compute-container-puppet.yaml\nin rocky, I have added change related to this file in\npuppet/services/nova-compute.yaml file.\n\nDepends-On: https://review.opendev.org/#/c/671396/\nChange-Id: I8e1a81bc69b4d266755ba3c2a4bf17f37d276fd7\n(cherry picked from commit 66c4e23654c6092f5a1afe73ef4f806e24f9da18)\n(cherry picked from commit abf34de6c866493bdf282288e6585f7d42da455a)\n""}]",0,671397,85a3685bb2ccc558a95081c3ba7017a4277732ff,15,8,1,20733,,,0,"Add new role parameter NovaLibvirtMemStatsPeriodSeconds

Add role parameter NovaLibvirtMemStatsPeriodSeconds which allows to
set `libvirt/mem_stats_period_seconds` parameter value to
number of seconds to memory usage statistics period, where
zero or negative value mean to disable memory usage statistics.

Default value for the parameter is 10.
Also set the default value to 0 for Real-Time Compute roles.

Conflicts:
      deployment/nova/nova-compute-container-puppet.yaml

Since we dont't have deployment/nova/nova-compute-container-puppet.yaml
in rocky, I have added change related to this file in
puppet/services/nova-compute.yaml file.

Depends-On: https://review.opendev.org/#/c/671396/
Change-Id: I8e1a81bc69b4d266755ba3c2a4bf17f37d276fd7
(cherry picked from commit 66c4e23654c6092f5a1afe73ef4f806e24f9da18)
(cherry picked from commit abf34de6c866493bdf282288e6585f7d42da455a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/671397/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'releasenotes/notes/nova_libvirt_mem_stats_period_seconds-b9b606232629cb38.yaml', 'roles/ComputeSriovRT.yaml', 'puppet/services/nova-compute.yaml', 'roles/ComputeRealTime.yaml']",6,85a3685bb2ccc558a95081c3ba7017a4277732ff,, NovaLibvirtMemStatsPeriodSeconds: 0,,22,0
openstack%2Fkolla-cli~master~I07a9fbd6a82b9997a8224a2899adf267d92811bc,openstack/kolla-cli,master,I07a9fbd6a82b9997a8224a2899adf267d92811bc,Move the password check into precheck action,MERGED,2019-07-22 15:29:50.000000000,2019-07-22 16:11:35.000000000,2019-07-22 16:11:35.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-07-22 15:29:50.000000000', 'files': ['kolla_cli/common/ansible/actions.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/29e99290d82bc7b442cdfdecb4048c61d5b07b43', 'message': 'Move the password check into precheck action\n\nto keep consistence with kolla-ansible and kolla-ansible check the\npassword in prechecks role.\n\nChange-Id: I07a9fbd6a82b9997a8224a2899adf267d92811bc\n'}]",0,672071,29e99290d82bc7b442cdfdecb4048c61d5b07b43,7,3,1,22165,,,0,"Move the password check into precheck action

to keep consistence with kolla-ansible and kolla-ansible check the
password in prechecks role.

Change-Id: I07a9fbd6a82b9997a8224a2899adf267d92811bc
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/71/672071/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla_cli/common/ansible/actions.py'],1,29e99290d82bc7b442cdfdecb4048c61d5b07b43,," # check that password file has no empty password values empty_keys = get_empty_password_values() if empty_keys: raise InvalidConfiguration( u._('Deploy failed. There are empty password values ' 'in {etc}passwords.yml. ' 'Please run kolla-cli password init or ' 'kolla-cli password set(key) to correct them. ' '\nEmpty passwords: ' '{keys}').format(etc=get_kolla_etc(), keys=empty_keys)) "," # check that password file has no empty password values empty_keys = get_empty_password_values() if empty_keys: raise InvalidConfiguration( u._('Deploy failed. There are empty password values ' 'in {etc}passwords.yml. ' 'Please run kolla-cli password init or ' 'kolla-cli password set(key) to correct them. ' '\nEmpty passwords: ' '{keys}').format(etc=get_kolla_etc(), keys=empty_keys)) ",11,11
