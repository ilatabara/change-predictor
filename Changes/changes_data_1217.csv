id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fmagnetodb~master~I27c70fa02c544c50195353202427813127e4f87b,openstack/magnetodb,master,I27c70fa02c544c50195353202427813127e4f87b,Adds Swift support,MERGED,2015-01-12 16:03:29.000000000,2015-01-23 20:50:03.000000000,2015-01-23 20:50:02.000000000,"[{'_account_id': 3}, {'_account_id': 8188}, {'_account_id': 8491}, {'_account_id': 8601}, {'_account_id': 8863}, {'_account_id': 11006}, {'_account_id': 11428}]","[{'number': 1, 'created': '2015-01-12 16:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/d9bea6c814e1433fb438eae36d5e8a88fde3a8af', 'message': 'Adds SwiftAPI\n\nImplements: bp add-swift-api\nChange-Id: I27c70fa02c544c50195353202427813127e4f87b\n'}, {'number': 2, 'created': '2015-01-12 16:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/58aa7dffea8bcc2c67af3f1810eb9b1e9f541465', 'message': 'Adds Swift support\n\nImplements: bp add-swift-api\nChange-Id: I27c70fa02c544c50195353202427813127e4f87b\n'}, {'number': 3, 'created': '2015-01-13 11:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/3a6b7095d19d1eaf68bbf95d3d3163fb87feda1b', 'message': 'Adds Swift support\n\nImplements: bp add-swift-api\nChange-Id: I27c70fa02c544c50195353202427813127e4f87b\n'}, {'number': 4, 'created': '2015-01-13 11:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/2480cda057bf9034d52b889cf1a8f0a3ddf3e41a', 'message': 'Adds Swift support\n\nImplements: bp add-swift-api\nChange-Id: I27c70fa02c544c50195353202427813127e4f87b\n'}, {'number': 5, 'created': '2015-01-14 17:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/ba1fb806dd2663acb1e942ffd74673cbda8c9b94', 'message': 'Adds Swift support\n\nImplements: bp add-swift-api\nChange-Id: I27c70fa02c544c50195353202427813127e4f87b\n'}, {'number': 6, 'created': '2015-01-15 12:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/332f6b073b6f79be391a494bd6bc0896e1c993d2', 'message': 'Adds Swift support\n\nImplements: bp add-swift-api\nChange-Id: I27c70fa02c544c50195353202427813127e4f87b\n'}, {'number': 7, 'created': '2015-01-15 12:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/2e85755fc435a3346ac3661fea52e27fc4abbaa6', 'message': 'Adds Swift support\n\nImplements: bp add-swift-api\nChange-Id: I27c70fa02c544c50195353202427813127e4f87b\n'}, {'number': 8, 'created': '2015-01-15 13:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/7d47b025197ee6c87d827053e11f87e13bf4af58', 'message': 'Adds Swift support\n\nImplements: bp add-swift-api\nChange-Id: I27c70fa02c544c50195353202427813127e4f87b\n'}, {'number': 9, 'created': '2015-01-21 12:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/1373b4a050cfbc75c0df154e8dac0a6195bd2239', 'message': 'Adds Swift support\n\nImplements: bp add-swift-api\nChange-Id: I27c70fa02c544c50195353202427813127e4f87b\n'}, {'number': 10, 'created': '2015-01-21 12:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/07bd0e551610dd40848d74ccd88aa0e4e73859f1', 'message': 'Adds Swift support\n\nImplements: bp add-swift-api\nChange-Id: I27c70fa02c544c50195353202427813127e4f87b\n'}, {'number': 11, 'created': '2015-01-21 12:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/e1c8069722959da04a9d67be48e844a769265d61', 'message': 'Adds Swift support\n\nImplements: bp add-swift-api\nChange-Id: I27c70fa02c544c50195353202427813127e4f87b\n'}, {'number': 12, 'created': '2015-01-21 12:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/a6aea7543d3d14c416b5d0dfee0b39c58616edcb', 'message': 'Adds Swift support\n\nImplements: bp add-swift-api\nChange-Id: I27c70fa02c544c50195353202427813127e4f87b\n'}, {'number': 13, 'created': '2015-01-21 13:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/5d5091d502fb03875f59ab9d54e055d3a0e8a14d', 'message': 'Adds Swift support\n\nImplements: bp add-swift-api\nChange-Id: I27c70fa02c544c50195353202427813127e4f87b\n'}, {'number': 14, 'created': '2015-01-21 15:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/959957c007b5fdede014a9034cd6de7696688faf', 'message': 'Adds Swift support\n\nImplements: bp add-swift-api\nChange-Id: I27c70fa02c544c50195353202427813127e4f87b\n'}, {'number': 15, 'created': '2015-01-22 21:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/bf4b2bb0748997ed6d9df461348b62799f3604e1', 'message': 'Adds Swift support\n\nImplements: bp add-swift-api\nChange-Id: I27c70fa02c544c50195353202427813127e4f87b\n'}, {'number': 16, 'created': '2015-01-23 15:13:04.000000000', 'files': ['magnetodb/common/exception.py', 'magnetodb/storage/__init__.py', 'magnetodb/swift/api.py', 'magnetodb/swift/__init__.py', 'magnetodb/api/openstack/v1/data/list_tables.py', 'magnetodb/common/middleware/context.py'], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/62a82be2f6823ae1fcc04ef6056d08b6ad40669c', 'message': 'Adds Swift support\n\nImplements: bp add-swift-api\nChange-Id: I27c70fa02c544c50195353202427813127e4f87b\n'}]",11,146534,62a82be2f6823ae1fcc04ef6056d08b6ad40669c,39,7,16,8863,,,0,"Adds Swift support

Implements: bp add-swift-api
Change-Id: I27c70fa02c544c50195353202427813127e4f87b
",git fetch https://review.opendev.org/openstack/magnetodb refs/changes/34/146534/16 && git format-patch -1 --stdout FETCH_HEAD,"['magnetodb/storage/__init__.py', 'magnetodb/api/openstack/v1/data/list_tables.py', 'magnetodb/storage/backup_manager/__init__.py', 'magnetodb/common/external_storage/swift_api.py', 'magnetodb/common/middleware/context.py', 'etc/magnetodb-api.conf', 'etc/magnetodb-streaming-api.conf', 'magnetodb/common/external_storage/__init__.py']",8,d9bea6c814e1433fb438eae36d5e8a88fde3a8af,bp/add-swift-api,"# Copyright 2015 Symantec Corporation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. class ExternalStorageAPI(object): def export_data(self, context, data): return NotImplemented def import_data(self, location): return NotImplemented ",,95,6
openstack%2Ftaskflow~master~I652cf0b56e28d727c59fe0c060949bb2bd920d11,openstack/taskflow,master,I652cf0b56e28d727c59fe0c060949bb2bd920d11,Switch to using 'oslo_serialization' vs 'oslo.serialization',MERGED,2015-01-11 04:37:34.000000000,2015-01-23 20:49:56.000000000,2015-01-23 20:49:55.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 7491}]","[{'number': 1, 'created': '2015-01-11 04:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/d29ef9dfa918f03adfc5d9b2caddb0c12c950dd4', 'message': ""Switch to using 'oslo_serialization' vs 'oslo.serialization'\n\nPrefer the non-deprecated 'oslo_serialization' instead of\nthe namespaced 'oslo.serialization' wherever it was previously\nused.\n\nChange-Id: I652cf0b56e28d727c59fe0c060949bb2bd920d11\n""}, {'number': 2, 'created': '2015-01-15 07:56:37.000000000', 'files': ['taskflow/persistence/backends/impl_zookeeper.py', 'taskflow/persistence/backends/impl_dir.py', 'taskflow/persistence/backends/sqlalchemy/models.py', 'taskflow/jobs/backends/impl_zookeeper.py', 'taskflow/tests/unit/jobs/test_zk_job.py', 'taskflow/tests/unit/test_listeners.py', 'taskflow/utils/misc.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2280f9a7485e5a403a4307dd1f3aeb3ace1e99f9', 'message': ""Switch to using 'oslo_serialization' vs 'oslo.serialization'\n\nPrefer the non-deprecated 'oslo_serialization' instead of\nthe namespaced 'oslo.serialization' wherever it was previously\nused.\n\nChange-Id: I652cf0b56e28d727c59fe0c060949bb2bd920d11\n""}]",0,146298,2280f9a7485e5a403a4307dd1f3aeb3ace1e99f9,12,3,2,1297,,,0,"Switch to using 'oslo_serialization' vs 'oslo.serialization'

Prefer the non-deprecated 'oslo_serialization' instead of
the namespaced 'oslo.serialization' wherever it was previously
used.

Change-Id: I652cf0b56e28d727c59fe0c060949bb2bd920d11
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/98/146298/2 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/persistence/backends/impl_zookeeper.py', 'taskflow/persistence/backends/impl_dir.py', 'taskflow/persistence/backends/sqlalchemy/models.py', 'taskflow/jobs/backends/impl_zookeeper.py', 'taskflow/tests/unit/jobs/test_zk_job.py', 'taskflow/tests/unit/test_listeners.py', 'taskflow/utils/misc.py']",7,d29ef9dfa918f03adfc5d9b2caddb0c12c950dd4,,from oslo_serialization import jsonutils,from oslo.serialization import jsonutils,7,7
openstack%2Fnova~master~I7796d6a53ed0f21a5873202dfdc50d456325d70f,openstack/nova,master,I7796d6a53ed0f21a5873202dfdc50d456325d70f,Corrects link to API Reference on landing page,MERGED,2014-12-03 21:57:52.000000000,2015-01-23 20:49:27.000000000,2015-01-23 20:49:24.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6316}, {'_account_id': 8871}, {'_account_id': 9420}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-03 21:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64b4f184334389ca1b46a3e2633150c47d35f95d', 'message': 'Corrects link to API Reference on landing page\n\nChange-Id: I7796d6a53ed0f21a5873202dfdc50d456325d70f\n'}, {'number': 2, 'created': '2014-12-16 13:12:50.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/6b5d4f30ec29ceb8ec23d0ca6c1833b1a1080ce8', 'message': 'Corrects link to API Reference on landing page\n\nPoint directly to the document being referenced,\ninstead of the API documentation site.\n\nChange-Id: I7796d6a53ed0f21a5873202dfdc50d456325d70f\n'}]",0,138871,6b5d4f30ec29ceb8ec23d0ca6c1833b1a1080ce8,30,10,2,964,,,0,"Corrects link to API Reference on landing page

Point directly to the document being referenced,
instead of the API documentation site.

Change-Id: I7796d6a53ed0f21a5873202dfdc50d456325d70f
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/138871/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,64b4f184334389ca1b46a3e2633150c47d35f95d,fix-link,Go to the `API Complete Reference`_ for information about Compute API extensions. .. _`API Complete Reference`: http://developer.openstack.org/api-ref-compute-v2-ext.html,Go to http://api.openstack.org for information about Compute API extensions.,3,1
openstack%2Fneutron~master~I7776a50824184663abd37e210d08a63eb5519cea,openstack/neutron,master,I7776a50824184663abd37e210d08a63eb5519cea,Functional test IPAM DB operation,MERGED,2014-09-25 19:06:34.000000000,2015-01-23 20:48:24.000000000,2015-01-23 18:45:50.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2035}, {'_account_id': 2733}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6788}, {'_account_id': 7249}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 8645}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10237}, {'_account_id': 10294}, {'_account_id': 10370}, {'_account_id': 10387}, {'_account_id': 10503}, {'_account_id': 10969}, {'_account_id': 12040}, {'_account_id': 12444}, {'_account_id': 12737}, {'_account_id': 13051}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-09-25 19:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43081f1643445236a79e58a036ee721553146171', 'message': 'x(WIP) Functional test IPAM DB operation\n\nAdd a functional test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane\nFor now there are only 3 tests, I will add more\n\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 2, 'created': '2014-09-25 19:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/05e4da3c8e3536cee8ebf284bf3b4e9d88d03696', 'message': '(WIP) Functional test IPAM DB operation\n\nAdd a functional test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane\nFor now there are only 3 tests, I will add more\n\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 3, 'created': '2014-09-29 16:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d42c5e7243886b92cb9a1691f9694c870272f66', 'message': 'Functional test IPAM DB operation\n\nAdd a functional test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane\nFor now there are only 3 tests, I will add more\n\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 4, 'created': '2014-09-30 21:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa51c86d3b46811a7851c551fc5e23f469a52b61', 'message': 'Functional test IPAM DB operation\n\nAdd a functional test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane\nFor now there are only 3 tests, I will add more\n\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 5, 'created': '2014-09-30 22:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bcf178a399953834eb70f5b937a027220bbac5b5', 'message': 'Functional test IPAM DB operation\n\nAdd a functional test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane\nFor now there are only 3 tests, I will add more\n\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 6, 'created': '2014-10-01 11:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b5e274a40a998b86df4b96a4e9fd623ead732ab', 'message': 'Functional test IPAM DB operation\n\nAdd a functional test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane\nFor now there are only 3 tests, I will add more\n\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 7, 'created': '2014-10-02 18:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/792e21852714bb842dc364bf46514a49c801e550', 'message': 'Functional test IPAM DB operation\n\nAdd a functional test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane\nFor now there are only 3 tests, I will add more\n\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 8, 'created': '2014-10-23 10:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a170f1cfd1c9792efa945a9067788de31e695666', 'message': 'Functional test IPAM DB operation\n\nAdd a functional test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane\nFor now there are only 3 tests, I will add more\n\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 9, 'created': '2014-11-11 23:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f69422e1f5863a90eb23a50607bfcc36bac9d2d6', 'message': 'Unit test IPAM DB operation\n\nAdd a unit test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane.\nThis test will be moved to the functional test folder once\nhttps://review.openstack.org/#/c/126175 is merged\n\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 10, 'created': '2014-11-13 20:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/561d989326af4de4d1ba232728c8fbbf6b8397e3', 'message': 'Unit test IPAM DB operation\n\nAdd a unit test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane.\nThis test will be moved to the functional test folder once\nhttps://review.openstack.org/#/c/126175 is merged\n\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 11, 'created': '2014-11-21 16:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/597a80f0e411c0f0526a7112dc6888f4f933af21', 'message': 'Unit test IPAM DB operation\n\nAdd a unit test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane.\nThis test will be moved to the functional test folder once\nhttps://review.openstack.org/#/c/126175 is merged\n\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 12, 'created': '2014-11-25 16:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8544f2fd149720dd32ea8f5f76d9351032cf4876', 'message': 'Unit test IPAM DB operation\n\nAdd a unit test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane.\nThis test will be moved to the functional test folder once\nhttps://review.openstack.org/#/c/126175 is merged\n\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 13, 'created': '2014-11-25 22:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f56ce64c7362cdb76e3af75e4f5ae754cd915f1d', 'message': 'Unit test IPAM DB operation\n\nAdd a unit test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane.\nThis test will be moved to the functional test folder once\nhttps://review.openstack.org/#/c/126175 is merged\n\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 14, 'created': '2014-11-28 15:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ebf5908e6aee1a725d40dee43c134d9470fa4d8', 'message': 'Unit test IPAM DB operation\n\nAdd a unit test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane.\nThis test will be moved to the functional test folder once\nhttps://review.openstack.org/#/c/126175 is merged\n\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 15, 'created': '2014-12-10 17:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c4af9c49d3415429174d3e89aa98ef8bda63fab', 'message': 'Functional test IPAM DB operation\n\nAdd a functional test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane.\n\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 16, 'created': '2014-12-12 17:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f4adc95550cfb139cc18ec01b03a32485f8873f2', 'message': 'Functional test IPAM DB operation\n\nAdd a functional test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane.\n\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 17, 'created': '2014-12-15 16:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/507cbe717460478658e33ab0856aa0983b2422d6', 'message': 'Functional test IPAM DB operation\n\nAdd a functional test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane.\n\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 18, 'created': '2014-12-18 16:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/32d7288f2accdf0ac39127d7f28b75e873d55fbb', 'message': 'Functional test IPAM DB operation\n\nAdd a functional test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane.\n\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 19, 'created': '2014-12-19 16:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4fc2a7540fe7a1e2e468c50bfeedb218083a57e2', 'message': 'Functional test IPAM DB operation\n\nAdd a functional test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane.\n\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 20, 'created': '2014-12-21 18:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bccd576932ec0599e235498bc243e27657c91582', 'message': 'Functional test IPAM DB operation\n\nAdd a functional test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane.\n\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 21, 'created': '2015-01-07 15:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2f1bb27a7054f3ebe4e9ce5cf25ce4a4ab09a25', 'message': 'Functional test IPAM DB operation\n\nAdd a functional test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane.\n\nPartial-bug: #1331564\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 22, 'created': '2015-01-13 16:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c78fc430d3440b0657797d3cd04d09e1a04592b', 'message': 'Functional test IPAM DB operation\n\nAdd a functional test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane.\n\nPartial-bug: #1331564\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 23, 'created': '2015-01-14 09:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f29057d5e543df5636fe227f35822c6382af72ff', 'message': 'Functional test IPAM DB operation\n\nAdd a functional test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane.\n\nPartial-bug: #1331564\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 24, 'created': '2015-01-15 09:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e880364e19608acf55b4db2adef69b7145ba78c', 'message': 'Functional test IPAM DB operation\n\nAdd a functional test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane.\n\nPartial-bug: #1331564\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 25, 'created': '2015-01-17 11:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c681ce859f4a8ab4156b2f957b89b8bcd544d755', 'message': 'Functional test IPAM DB operation\n\nAdd a functional test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane.\n\nPartial-bug: #1331564\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}, {'number': 26, 'created': '2015-01-23 10:58:50.000000000', 'files': ['neutron/tests/functional/db/test_ipam.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c86b8f224831ab9171ac638f1ed5585d903f0be9', 'message': 'Functional test IPAM DB operation\n\nAdd a functional test to check that the IPAM logic is correct and\nthat the data stored in the DB are sane.\n\nPartial-bug: #1331564\nChange-Id: I7776a50824184663abd37e210d08a63eb5519cea\n'}]",118,124136,c86b8f224831ab9171ac638f1ed5585d903f0be9,528,39,26,6788,,,0,"Functional test IPAM DB operation

Add a functional test to check that the IPAM logic is correct and
that the data stored in the DB are sane.

Partial-bug: #1331564
Change-Id: I7776a50824184663abd37e210d08a63eb5519cea
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/124136/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/db/test_ipam.py'],1,43081f1643445236a79e58a036ee721553146171,ipam-test,"# Copyright 2014 SUSE Linux Products GmbH # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import eventlet from oslo.config import cfg from neutron.api.v2 import attributes from neutron.common import config from neutron.common import constants from neutron import context from neutron.db import api as db_api from neutron.db import model_base from neutron.db import models_v2 from neutron.openstack.common import importutils from neutron.openstack.common import log as logging from neutron.tests import base LOG = logging.getLogger(__name__) DB_PLUGIN_KLASS = 'neutron.db.db_base_plugin_v2.NeutronDbPluginV2' class DBTestFramework(base.BaseTestCase): def setUp(self): # create test db super(DBTestFramework, self).setUp() self.test_db = 'neutron_test' original_conn_string = cfg.CONF.database.connection # FIXME(rossella_s) this is a dirty hack to get the connection string # a better way should be found test_conn_string = original_conn_string.split('neutron')[0] cfg.CONF.set_override('connection', test_conn_string, group='database') self.engine = db_api.get_engine() self.addCleanup(self.drop_db, self.test_db) self.create_db(""neutron_test"") model_base.BASEV2.metadata.create_all(self.engine) @staticmethod def config_parse(conf=None, args=None): """"""Create the default configurations."""""" # FIXME(rossella_s): neutron.conf path shouldn't be hard-coded if args is None: args = ['--config-file', '/etc/neutron/neutron.conf'] if conf is None: config.init(args=args) else: conf(args) def create_db(self, db_name): with self.engine.connect() as conn: conn.execute(""CREATE DATABASE %s"" % db_name) conn.execute(""USE %s"" % db_name) def drop_db(self, db_name): with self.engine.connect() as conn: conn.execute(""DROP DATABASE %s"" % db_name) class IpamTestFramework(DBTestFramework): def setUp(self): super(IpamTestFramework, self).setUp() self.plugin = importutils.import_object(DB_PLUGIN_KLASS) self.cxt = context.get_admin_context() cfg.CONF.set_override('notify_nova_on_port_status_changes', False) def make_ip_alloc_dict(self, ip_allocs): res = [] for ip_alloc in ip_allocs: a = {'port_id': ip_alloc['port_id'], 'ip_address': ip_alloc['ip_address'], 'subnet_id': ip_alloc['subnet_id'], 'network_id': ip_alloc['network_id']} res.append(a) return res def make_ip_avail_range_dict(self, ip_a_ranges): res = [] for ip_a_range in ip_a_ranges: r = {'first_ip': ip_a_range['first_ip'], 'last_ip': ip_a_range['last_ip']} res.append(r) return res def make_alloc_pool_dict(self, alloc_pools): res = [] for alloc_pool in alloc_pools: p = {'first_ip': alloc_pool['first_ip'], 'last_ip': alloc_pool['last_ip'], 'subnet_id': alloc_pool['subnet_id']} res.append(p) return res class IpamTestCase(IpamTestFramework): def setUp(self): super(IpamTestCase, self).setUp() self.tenant_id = 'test_tenant' self.network_id = 'test_net_id' self.subnet_id = 'test_sub_id' self.port_id = 'test_p_id' self.addCleanup(self.delete_network, self.network_id) self._create_network() self._create_subnet() def _create_network(self): network = {'tenant_id': self.tenant_id, 'id': self.network_id, 'name': 'test-net', 'admin_state_up': True, 'shared': False, 'status': constants.NET_STATUS_ACTIVE} return self.plugin.create_network(self.cxt, {'network': network}) def _create_subnet(self): subnet = {'tenant_id': self.tenant_id, 'id': self.subnet_id, 'name': 'test_sub', 'network_id': self.network_id, 'ip_version': 4, 'cidr': '10.10.10.0/24', 'enable_dhcp': False, 'gateway_ip': '10.10.10.1', 'shared': False, 'allocation_pools': attributes.ATTR_NOT_SPECIFIED, 'dns_nameservers': attributes.ATTR_NOT_SPECIFIED, 'host_routes': attributes.ATTR_NOT_SPECIFIED} return self.plugin.create_subnet(self.cxt, {'subnet': subnet}) def delete_network(self, net_id): self.plugin.delete_network(self.cxt, net_id) def test_allocate_fixed_ip(self): fixed_ip = [{'ip_address': ""10.10.10.3"", 'subnet_id': self.subnet_id}] port = {'tenant_id': self.tenant_id, 'name': 'test_port', 'id': self.port_id, 'network_id': self.network_id, 'mac_address': '00.09.99.99.99', 'admin_state_up': True, 'status': constants.PORT_STATUS_ACTIVE, 'device_id': 'test_dev_id', 'device_owner': 'compute', 'fixed_ips': fixed_ip} self.addCleanup(self.plugin.delete_port, self.cxt, self.port_id) self.plugin.create_port(self.cxt, {'port': port}) port_db = self.plugin.get_port(self.cxt, self.port_id) self.assertEqual(port, port_db) ip_alloc_expected = [{'port_id': self.port_id, 'ip_address': fixed_ip[0].get('ip_address'), 'subnet_id': self.subnet_id, 'network_id': self.network_id}] ip_avail_ranges_expected = [{'first_ip': '10.10.10.2', 'last_ip': '10.10.10.2'}, {'first_ip': '10.10.10.4', 'last_ip': '10.10.10.254'}] ip_alloc_pool_expected = [{'first_ip': '10.10.10.2', 'last_ip': '10.10.10.254', 'subnet_id': self.subnet_id}] ip_alloc_pool = self.cxt.session.query( models_v2.IPAllocationPool).all() ip_alloc = self.cxt.session.query(models_v2.IPAllocation).all() ip_avail_range = self.cxt.session.query( models_v2.IPAvailabilityRange).all() self.assertEqual(ip_alloc_expected, self.make_ip_alloc_dict(ip_alloc)) self.assertEqual(ip_avail_ranges_expected, self.make_ip_avail_range_dict(ip_avail_range)) self.assertEqual(ip_alloc_pool_expected, self.make_alloc_pool_dict(ip_alloc_pool)) def test_allocate_first_available_ip(self): port = {'tenant_id': self.tenant_id, 'name': 'test_port', 'id': self.port_id, 'network_id': self.network_id, 'mac_address': '00.09.99.99.99', 'admin_state_up': True, 'status': constants.PORT_STATUS_ACTIVE, 'device_id': 'test_dev_id', 'device_owner': 'compute', 'fixed_ips': attributes.ATTR_NOT_SPECIFIED} self.addCleanup(self.plugin.delete_port, self.cxt, self.port_id) self.plugin.create_port(self.cxt, {'port': port}) port_db = self.plugin.get_port(self.cxt, self.port_id) expected_fixed_ips = [{'ip_address': ""10.10.10.2"", 'subnet_id': self.subnet_id}] port['fixed_ips'] = expected_fixed_ips self.assertEqual(port, port_db) ip_alloc_expected = [{'port_id': self.port_id, 'ip_address': '10.10.10.2', 'subnet_id': self.subnet_id, 'network_id': self.network_id}] ip_avail_ranges_expected = [{'first_ip': '10.10.10.3', 'last_ip': '10.10.10.254'}] ip_alloc_pool_expected = [{'first_ip': '10.10.10.2', 'last_ip': '10.10.10.254', 'subnet_id': self.subnet_id}] ip_alloc_pool = self.cxt.session.query( models_v2.IPAllocationPool).all() ip_alloc = self.cxt.session.query(models_v2.IPAllocation).all() ip_avail_range = self.cxt.session.query( models_v2.IPAvailabilityRange).all() self.assertEqual(ip_alloc_expected, self.make_ip_alloc_dict(ip_alloc)) self.assertEqual(ip_avail_ranges_expected, self.make_ip_avail_range_dict(ip_avail_range)) self.assertEqual(ip_alloc_pool_expected, self.make_alloc_pool_dict(ip_alloc_pool)) def test_allocate_fixed_ips_concurrently(self): p1_fixed_ip = [{'ip_address': ""10.10.10.3"", 'subnet_id': self.subnet_id}] p2_fixed_ip = [{'ip_address': ""10.10.10.7"", 'subnet_id': self.subnet_id}] self.port2_id = 'test_p_id_2' port = {'tenant_id': self.tenant_id, 'name': 'test_port', 'id': self.port_id, 'network_id': self.network_id, 'mac_address': '00.09.99.99.99', 'admin_state_up': True, 'status': constants.PORT_STATUS_ACTIVE, 'device_id': 'test_dev_id', 'device_owner': 'compute', 'fixed_ips': p1_fixed_ip} port2 = {'tenant_id': self.tenant_id, 'name': 'test_port2', 'id': self.port2_id, 'network_id': self.network_id, 'mac_address': '00.09.99.00.99', 'admin_state_up': True, 'status': constants.PORT_STATUS_ACTIVE, 'device_id': 'test_dev_id_2', 'device_owner': 'compute', 'fixed_ips': p2_fixed_ip} self.addCleanup(self.plugin.delete_port, self.cxt, self.port_id) self.plugin.create_port(self.cxt, {'port': port}) self.addCleanup(self.plugin.delete_port, self.cxt, self.port2_id) eventlet.spawn( self.plugin.create_port, self.cxt, {'port': port2}).wait() port_db = self.plugin.get_port(self.cxt, self.port_id) port_db2 = self.plugin.get_port(self.cxt, self.port2_id) self.assertEqual(port, port_db) self.assertEqual(port2, port_db2) ip_alloc_expected = [{'port_id': self.port_id, 'ip_address': '10.10.10.3', 'subnet_id': self.subnet_id, 'network_id': self.network_id}, {'port_id': self.port2_id, 'ip_address': '10.10.10.7', 'subnet_id': self.subnet_id, 'network_id': self.network_id}] ip_avail_ranges_expected = [{'first_ip': '10.10.10.2', 'last_ip': '10.10.10.2'}, {'first_ip': '10.10.10.4', 'last_ip': '10.10.10.6'}, {'first_ip': '10.10.10.8', 'last_ip': '10.10.10.254'}] ip_alloc_pool_expected = [{'first_ip': '10.10.10.2', 'last_ip': '10.10.10.254', 'subnet_id': self.subnet_id}] ip_alloc_pool = self.cxt.session.query( models_v2.IPAllocationPool).all() ip_alloc = self.cxt.session.query(models_v2.IPAllocation).all() ip_avail_range = self.cxt.session.query( models_v2.IPAvailabilityRange).all() self.assertEqual(ip_alloc_expected, self.make_ip_alloc_dict(ip_alloc)) self.assertEqual(ip_avail_ranges_expected, self.make_ip_avail_range_dict(ip_avail_range)) self.assertEqual(ip_alloc_pool_expected, self.make_alloc_pool_dict(ip_alloc_pool)) ",,293,0
openstack%2Fnova~master~I28831acc1c0cee846e79cc63138b7bc2ce8ee03d,openstack/nova,master,I28831acc1c0cee846e79cc63138b7bc2ce8ee03d,include python-novaclient in abandon policy,MERGED,2014-12-08 21:12:22.000000000,2015-01-23 20:45:24.000000000,2015-01-23 20:45:21.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6167}, {'_account_id': 7494}, {'_account_id': 8623}, {'_account_id': 9420}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-08 21:12:22.000000000', 'files': ['tools/abandon_old_reviews.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/e471f5b5d8f8685b83b558fa54da0e4fd2d00d4a', 'message': 'include python-novaclient in abandon policy\n\npython-novaclient had some 6 month old stalled patches, add it to the\noverall abandon cleanup policy.\n\nChange-Id: I28831acc1c0cee846e79cc63138b7bc2ce8ee03d\n'}]",3,140145,e471f5b5d8f8685b83b558fa54da0e4fd2d00d4a,17,12,1,2750,,,0,"include python-novaclient in abandon policy

python-novaclient had some 6 month old stalled patches, add it to the
overall abandon cleanup policy.

Change-Id: I28831acc1c0cee846e79cc63138b7bc2ce8ee03d
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/140145/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/abandon_old_reviews.sh'],1,e471f5b5d8f8685b83b558fa54da0e4fd2d00d4a,abandon," # echo ssh review.openstack.org gerrit review $gitid --abandon --message \""$msg\""PROJECTS=""(project:openstack/nova OR project:openstack/python-novaclient)"" blocked_reviews=$(ssh review.openstack.org ""gerrit query --current-patch-set --format json $PROJECTS status:open age:4w label:Code-Review<=-2"" | jq .currentPatchSet.revision | grep -v null | sed 's/""//g')failing_reviews=$(ssh review.openstack.org ""gerrit query --current-patch-set --format json $PROJECTS status:open age:4w NOT label:Verified>=1,jenkins"" | jq .currentPatchSet.revision | grep -v null | sed 's/""//g')"," blocked_reviews=$(ssh review.openstack.org ""gerrit query --current-patch-set --format json project:openstack/nova status:open age:4w label:Code-Review<=-2"" | jq .currentPatchSet.revision | grep -v null | sed 's/""//g')failing_reviews=$(ssh review.openstack.org ""gerrit query --current-patch-set --format json project:openstack/nova status:open age:4w NOT label:Verified>=1,jenkins"" | jq .currentPatchSet.revision | grep -v null | sed 's/""//g')",4,2
openstack%2Fopenstack-ansible~juno~Ia65449d987cccac8a3086005a36eb24ef52fc603,openstack/openstack-ansible,juno,Ia65449d987cccac8a3086005a36eb24ef52fc603,Adds conditional for swift-all plays,MERGED,2015-01-21 14:33:37.000000000,2015-01-23 20:44:53.000000000,2015-01-23 16:57:05.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7307}, {'_account_id': 7353}, {'_account_id': 9884}, {'_account_id': 11268}]","[{'number': 1, 'created': '2015-01-21 14:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/17c60e2046f50e5ec5a440af3575a7f2bc113ecd', 'message': 'Adds conditional for swift-all plays\n\nThis check to see if the DEPLOY_SWIFT variable is set to yes before\nrunning the swift-all plays.\n\nChange-Id: Ia65449d987cccac8a3086005a36eb24ef52fc603\nCloses-Bug: 1406323\n(cherry picked from commit f45d9e6a463e88ba2535a06cd9380ac99dee4f77)\n'}, {'number': 2, 'created': '2015-01-21 15:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9b1c61f4cc30054689163299db9be10b1004bb61', 'message': 'Adds conditional for swift-all plays\n\nThis check to see if the DEPLOY_SWIFT variable is set to yes before\nrunning the swift-all plays.\n\nChange-Id: Ia65449d987cccac8a3086005a36eb24ef52fc603\nCloses-Bug: #1406323\nRelated-Bug: #1409762\n(cherry picked from commit f45d9e6a463e88ba2535a06cd9380ac99dee4f77)\n'}, {'number': 3, 'created': '2015-01-23 16:01:22.000000000', 'files': ['scripts/os-ansible-aio-check.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1ae0fe55236e2df0ae0a16b9e705e065d9adb0b7', 'message': 'Adds conditional for swift-all plays\n\nThis check to see if the DEPLOY_SWIFT variable is set to yes before\nrunning the swift-all plays.\n\nChange-Id: Ia65449d987cccac8a3086005a36eb24ef52fc603\nCloses-Bug: #1406323\nRelated-Bug: #1409762\n(cherry picked from commit f45d9e6a463e88ba2535a06cd9380ac99dee4f77)\n'}]",0,148945,1ae0fe55236e2df0ae0a16b9e705e065d9adb0b7,17,6,3,6816,,,0,"Adds conditional for swift-all plays

This check to see if the DEPLOY_SWIFT variable is set to yes before
running the swift-all plays.

Change-Id: Ia65449d987cccac8a3086005a36eb24ef52fc603
Closes-Bug: #1406323
Related-Bug: #1409762
(cherry picked from commit f45d9e6a463e88ba2535a06cd9380ac99dee4f77)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/45/148945/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/os-ansible-aio-check.sh'],1,17c60e2046f50e5ec5a440af3575a7f2bc113ecd,," if [ ""${DEPLOY_SWIFT}"" == ""yes"" ]; then install_bits openstack/swift-all.yml fi", install_bits openstack/swift-all.yml,3,1
openstack%2Ftaskflow~master~Iae10332dbfd941aa0d6887f2d394a8177c5132b6,openstack/taskflow,master,Iae10332dbfd941aa0d6887f2d394a8177c5132b6,add clarification re parallel engine,MERGED,2014-12-20 01:01:38.000000000,2015-01-23 20:44:29.000000000,2015-01-23 20:44:28.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 2472}, {'_account_id': 8792}]","[{'number': 1, 'created': '2014-12-20 01:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/762483283af9b60459a7007e10f0d5d386c63e5d', 'message': 'add clarification re parallel engine\n\nChange-Id: Iae10332dbfd941aa0d6887f2d394a8177c5132b6\n'}, {'number': 2, 'created': '2014-12-22 16:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/a8c8eb8adcd997de680c0212bd20fc27f2ddb127', 'message': 'add clarification re parallel engine\n\nChange-Id: Iae10332dbfd941aa0d6887f2d394a8177c5132b6\n'}, {'number': 3, 'created': '2014-12-22 23:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/ab7097a3b9ad4880eda9b491f69a8bfd832caf11', 'message': 'add clarification re parallel engine\n\nChange-Id: Iae10332dbfd941aa0d6887f2d394a8177c5132b6\n'}, {'number': 4, 'created': '2015-01-21 01:24:14.000000000', 'files': ['doc/source/engines.rst'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/410efa738696dd998723dfe8f79aab3b3d7e6d2e', 'message': 'add clarification re parallel engine\n\nChange-Id: Iae10332dbfd941aa0d6887f2d394a8177c5132b6\n'}]",9,143231,410efa738696dd998723dfe8f79aab3b3d7e6d2e,28,4,4,8792,,,0,"add clarification re parallel engine

Change-Id: Iae10332dbfd941aa0d6887f2d394a8177c5132b6
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/31/143231/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/engines.rst'],1,762483283af9b60459a7007e10f0d5d386c63e5d,,"It should be noted that the engine will respect the constraints imposed by the flow. E.g. if Engine is executing a :py:class:`.linear_flow.Flow` then it is constrianed by the dependency-graph which is linear in this case, and hence using a Parallel Engine may not yield any benefits if one is looking for concurrency.",,5,0
openstack%2Fproject-config~master~I86d8e54b5a3129bedf7e472d4463009c139f0656,openstack/project-config,master,I86d8e54b5a3129bedf7e472d4463009c139f0656,Cache get-pip.py in dib element cache-devstack,MERGED,2015-01-22 23:05:54.000000000,2015-01-23 20:33:53.000000000,2015-01-23 20:33:53.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 1849}, {'_account_id': 4146}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-01-22 23:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e0301acce143d49643f9b36fe6613799c6ed2a4b', 'message': 'Cache get-pip.py in dib element cache-devstack\n\nWe cache pip in cache_devstack but not in dib element cache-devstack\n\nFetching get-pip.py across the internet breaks surprisingly often in hp\ncloud, so precache this.\n\nChange-Id: I86d8e54b5a3129bedf7e472d4463009c139f0656\nRelated-Bug: #1413034\n'}, {'number': 2, 'created': '2015-01-22 23:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d22cbc06972132826bf055962914cc3d52fd891c', 'message': 'Cache get-pip.py in dib element cache-devstack\n\nWe cache pip in cache_devstack but not in dib element cache-devstack\n\nFetching get-pip.py across the internet breaks surprisingly often in hp\ncloud, so precache this.\n\nChange-Id: I86d8e54b5a3129bedf7e472d4463009c139f0656\nRelated-Bug: #1413034\n'}, {'number': 3, 'created': '2015-01-23 18:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/bf7310ab0e23e205ac8e967770d36c673b0605e3', 'message': 'Cache get-pip.py in dib element cache-devstack\n\nWe cache pip in cache_devstack but not in dib element cache-devstack\n\nFetching get-pip.py across the internet breaks surprisingly often in hp\ncloud, so precache this.\n\nChange-Id: I86d8e54b5a3129bedf7e472d4463009c139f0656\nRelated-Bug: #1413034\n'}, {'number': 4, 'created': '2015-01-23 20:05:30.000000000', 'files': ['nodepool/elements/cache-devstack/source-repository-pip'], 'web_link': 'https://opendev.org/openstack/project-config/commit/58cbd080bd35b9b414de78d77f3afc7d5b436e4d', 'message': 'Cache get-pip.py in dib element cache-devstack\n\nWe cache pip in cache_devstack but not in dib element cache-devstack\n\nFetching get-pip.py across the internet breaks surprisingly often in hp\ncloud, so precache this.\n\nChange-Id: I86d8e54b5a3129bedf7e472d4463009c139f0656\nRelated-Bug: #1413034\n'}]",3,149427,58cbd080bd35b9b414de78d77f3afc7d5b436e4d,19,7,4,1849,,,0,"Cache get-pip.py in dib element cache-devstack

We cache pip in cache_devstack but not in dib element cache-devstack

Fetching get-pip.py across the internet breaks surprisingly often in hp
cloud, so precache this.

Change-Id: I86d8e54b5a3129bedf7e472d4463009c139f0656
Related-Bug: #1413034
",git fetch https://review.opendev.org/openstack/project-config refs/changes/27/149427/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/cache-devstack/extra-data.d/53-cache-get-pip'],1,e0301acce143d49643f9b36fe6613799c6ed2a4b,bug/1413034,"#!/bin/bash # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # # See the License for the specific language governing permissions and # limitations under the License. set -eu # Cache get-pip.py because this fails surprisingly often, causing many gate failures. # devstack-gate will copes files from cache/files to $DEST/devstack/files/ # devstack will check for get-pip.py in $DEST/devstack/files otherwise it will download it. wget -nv -c https://bootstrap.pypa.io/get-pip.py -O /home/jenkins/cache/files/get-pip.py' ",,23,0
openstack%2Fglance-specs~master~I7cc3756535d09a6804ba02a23c86af13b8e9cd1a,openstack/glance-specs,master,I7cc3756535d09a6804ba02a23c86af13b8e9cd1a,Add capabilities to storage driver,MERGED,2014-12-02 10:31:46.000000000,2015-01-23 20:25:11.000000000,2015-01-23 20:25:10.000000000,"[{'_account_id': 3}, {'_account_id': 455}, {'_account_id': 2537}, {'_account_id': 5314}, {'_account_id': 6159}, {'_account_id': 6484}, {'_account_id': 6549}, {'_account_id': 7575}, {'_account_id': 7665}, {'_account_id': 8759}, {'_account_id': 12000}]","[{'number': 1, 'created': '2014-12-02 10:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/882a06cd104d0b5e0746376220444204c78de411', 'message': 'Add capabilities to storage driver\n\nChange-Id: I7cc3756535d09a6804ba02a23c86af13b8e9cd1a\n'}, {'number': 2, 'created': '2014-12-13 15:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/148d2bfe7dc5f6dcdb73da3b233b7fa8bf6e38fa', 'message': 'Add capabilities to storage driver\n\nChange-Id: I7cc3756535d09a6804ba02a23c86af13b8e9cd1a\n'}, {'number': 3, 'created': '2014-12-15 17:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/3dd0192b5ba1b6ed97660f858e9a8cdf2f284e58', 'message': 'Add capabilities to storage driver\n\nChange-Id: I7cc3756535d09a6804ba02a23c86af13b8e9cd1a\n'}, {'number': 4, 'created': '2014-12-15 17:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/39f6c37720600013b5cbb84a6fec8fc5df794252', 'message': 'Add capabilities to storage driver\n\nStorage capabilities is used to indicate the static and dynamic ability\nof the storage driver instance based on current driver implementation and\nparticular driver configuration and backend storage status at runtime.\n\nUse storage capabilities, glance_store can do more proper operations on\nstorage to support upper layer request, like to enable or disable image\nadding function to glance, or if allow glance reuse driver instance for all\nrequest according to whether the driver and/or the operation session of\nbackend storage is stateless.\n\nChange-Id: I7cc3756535d09a6804ba02a23c86af13b8e9cd1a\n'}, {'number': 5, 'created': '2014-12-16 05:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/fafa9fe5fc4b424717b060e1299812c1e0c64dc1', 'message': 'Add capabilities to storage driver\n\nStorage capabilities is used to indicate the static and dynamic ability\nof the storage driver instance based on current driver implementation and\nparticular driver configuration and backend storage status at runtime.\n\nUse storage capabilities, glance_store can do more proper operations on\nstorage to support upper layer request, like to enable or disable image\nadding function to glance, or if allow glance reuse driver instance for all\nrequest according to whether the driver and/or the operation session of\nbackend storage is stateless.\n\nChange-Id: I7cc3756535d09a6804ba02a23c86af13b8e9cd1a\n'}, {'number': 6, 'created': '2015-01-16 20:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/4ec1fed878316d1d88e33e2c226dfdae3791e71b', 'message': 'Add capabilities to storage driver\n\nStorage capabilities are used to indicate the static and dynamic\nability of a storage driver instance based on its implementation,\nits configuration and the corresponding runtime backend storage status.\n\nUsing storage capabilities, glance_store would be able to perform\noperations on a storage to support upper layer request.\n\nSome examples are:\n\n    * Enable or disable image data transfer within glance.\n    * Allow glance reuse driver instance for all the requests based on\n      whether the driver or the session to the backend storage is\n      stateless.\n\nBlueprint https://blueprints.launchpad.net/glance/+spec/store-capabilities\n\nChange-Id: I7cc3756535d09a6804ba02a23c86af13b8e9cd1a\n'}, {'number': 7, 'created': '2015-01-23 16:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/973706923f94e7f3a5681dc45e12288d0c6d3273', 'message': 'Add capabilities to storage driver\n\nStorage capabilities is used to indicate the static and dynamic ability\nof the storage driver instance based on current driver implementation and\nparticular driver configuration and backend storage status at runtime.\n\nUse storage capabilities, glance_store can do more proper operations on\nstorage to support upper layer request, like to enable or disable image\nadding function to glance, or if allow glance reuse driver instance for all\nrequest according to whether the driver and/or the operation session of\nbackend storage is stateless.\n\nChange-Id: I7cc3756535d09a6804ba02a23c86af13b8e9cd1a\n'}, {'number': 8, 'created': '2015-01-23 16:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/31030dd3282a37fee19f0f5ac68e6f81aa75e22f', 'message': 'Add capabilities to storage driver\n\nStorage capabilities is used to indicate the static and dynamic ability\nof the storage driver instance based on current driver implementation and\nparticular driver configuration and backend storage status at runtime.\n\nUse storage capabilities, glance_store can do more proper operations on\nstorage to support upper layer request, like to enable or disable image\nadding function to glance, or if allow glance reuse driver instance for all\nrequest according to whether the driver and/or the operation session of\nbackend storage is stateless.\n\nChange-Id: I7cc3756535d09a6804ba02a23c86af13b8e9cd1a\n'}, {'number': 9, 'created': '2015-01-23 17:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/3768d064f7813731b2ec1b90b8a3a714e8a161c1', 'message': 'Add capabilities to storage driver\n\nStorage capabilities is used to indicate the static and dynamic ability\nof the storage driver instance based on current driver implementation and\nparticular driver configuration and backend storage status at runtime.\n\nUse storage capabilities, glance_store can do more proper operations on\nstorage to support upper layer request, like to enable or disable image\nadding function to glance, or if allow glance reuse driver instance for all\nrequest according to whether the driver and/or the operation session of\nbackend storage is stateless.\n\nChange-Id: I7cc3756535d09a6804ba02a23c86af13b8e9cd1a\n'}, {'number': 10, 'created': '2015-01-23 17:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/1f3a1bcd79b1f6f2e343f63fed9abede28c171c3', 'message': 'Add capabilities to storage driver\n\nStorage capabilities is used to indicate the static and dynamic ability\nof the storage driver instance based on current driver implementation and\nparticular driver configuration and backend storage status at runtime.\n\nUse storage capabilities, glance_store can do more proper operations on\nstorage to support upper layer request, like to enable or disable image\nadding function to glance, or if allow glance reuse driver instance for all\nrequest according to whether the driver and/or the operation session of\nbackend storage is stateless.\n\nBlueprint: store-capabilities\nChange-Id: I7cc3756535d09a6804ba02a23c86af13b8e9cd1a\n'}, {'number': 11, 'created': '2015-01-23 18:04:42.000000000', 'files': ['specs/kilo/store-capabilities.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/c50b7e2e46ee98405324e3ed04ec3d5beaf6064b', 'message': 'Add capabilities to storage driver\n\nStorage capabilities is used to indicate the static and dynamic ability\nof the storage driver instance based on current driver implementation and\nparticular driver configuration and backend storage status at runtime.\n\nUse storage capabilities, glance_store can do more proper operations on\nstorage to support upper layer request, like to enable or disable image\nadding function to glance, or if allow glance reuse driver instance for all\nrequest according to whether the driver and/or the operation session of\nbackend storage is stateless.\n\nBlueprint: store-capabilities\nChange-Id: I7cc3756535d09a6804ba02a23c86af13b8e9cd1a\n'}]",36,138310,c50b7e2e46ee98405324e3ed04ec3d5beaf6064b,49,11,11,6549,,,0,"Add capabilities to storage driver

Storage capabilities is used to indicate the static and dynamic ability
of the storage driver instance based on current driver implementation and
particular driver configuration and backend storage status at runtime.

Use storage capabilities, glance_store can do more proper operations on
storage to support upper layer request, like to enable or disable image
adding function to glance, or if allow glance reuse driver instance for all
request according to whether the driver and/or the operation session of
backend storage is stateless.

Blueprint: store-capabilities
Change-Id: I7cc3756535d09a6804ba02a23c86af13b8e9cd1a
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/10/138310/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/store-capabilities.rst'],1,882a06cd104d0b5e0746376220444204c78de411,bp/https,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================== Add capabilities to storage driver ==================================== https://blueprints.launchpad.net/glance/+spec/store-capabilities Storage capabilities is used to indicate the static and dynamic ability of the storage driver instance based on current driver implementation and particular driver configuration and backend storage status at runtime. Use storage capabilities, glance_store can do more proper operations on storage to support upper layer request, like to enable or disable image adding function to glance, or if allow glance reuse driver instance for all request according to whether the driver and/or the operation session of backend storage is stateless. Problem description =================== The capabilities of store driver can be impact by some factors, includes the status of connected backend storage, or the configuration in a particular deployment, or current design and implementation of driver with a featured release, technically ones of them are static and ones are dynamic. But currently glance_store and glance didn't care about these capabilities, actually, in lower layer a driver doesn't have a way to exposes its available capabilities out; and in upper layer there isn't a common check routine on these generic operations of store driver, and also the necessary check for particular feature in glance are missing as well. So overall, at least, two kind of problems comes out without store-capabilities feature: * Some necessary applicability check on the operation related with store access are missing, which lows the usability of glance service and glance_store lib. * Hard to implement such check logic neatly, including common check routine on these generic operations of store driver, and the check for particular feature. Proposed change =============== 1. List required store capabilities as current glance and glance_store needed and change existing drivers to expose proper capability set out. Available capabilities: READ_ACCESS # Generic read access WRITE_ACCESS # Generic write access RW_ACCESS # READ_ACCESS and WRITE_ACCESS READ_OFFSET # Read all bits from a offset (Included READ_ACCESS) WRITE_OFFSET # Write all bits to a offset (Included WRITE_ACCESS) RW_OFFSET # READ_OFFSET and WRITE_OFFSET READ_CHUNK # Read required length of bits (Included READ_ACCESS) WRITE_CHUNK # Write required length of bits (Included WRITE_ACCESS) RW_CHUNK # READ_CHUNK and WRITE_CHUNK READ_RANDOM # READ_OFFSET and READ_CHUNK WRITE_RANDOM # WRITE_OFFSET and WRITE_CHUNK RW_RANDOM # RW_OFFSET and RW_CHUNK DRIVER_REUSABLE # driver is stateless and its instance can be reused safely 2. Add common check routine on these generic operations of store driver. 3. Refactoring existing drivers to leverage store-capabilities feature. 4. Added the logic to recreate drive instance if the storage and/or driver isn't stateless. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None. All changes keep backward-compatible. Implementation ============== Assignee(s) ----------- Primary assignee: zhiyan (lzy-dev) Other contributors: <launchpad-id or None> Reviewers --------- Core reviewer(s): Arnaud Legendre (arnaudleg) Nikhil Komawar (nikhil-komawar) Stuart McLaren (stuart-mcLaren) Work Items ---------- https://review.openstack.org/#/c/137416/ Dependencies ============ None Testing ======= Necessary test case, unit and functional cases, will be added into glance_store and glance. Documentation Impact ==================== None References ========== Implementation base on current design: https://review.openstack.org/#/c/137416/ ",,161,0
openstack%2Fproject-config~master~I67a060b2a63cb31e6b27f606f57fbee5a8651b92,openstack/project-config,master,I67a060b2a63cb31e6b27f606f57fbee5a8651b92,Move Cells V1 job to check pipeline,MERGED,2015-01-22 22:12:46.000000000,2015-01-23 20:24:27.000000000,2015-01-23 20:24:26.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6133}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-01-22 22:12:46.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0f9ce487cb6ced0604b6456d9ecd07eda5731605', 'message': 'Move Cells V1 job to check pipeline\n\nAll current Cells V1 regressions should have been marked as exceptions now so\nwe can safely move the job from the experimental pipeline to the check one.\n\nLeaving the job as non-voting.\n\nChange-Id: I67a060b2a63cb31e6b27f606f57fbee5a8651b92\n'}]",0,149410,0f9ce487cb6ced0604b6456d9ecd07eda5731605,11,4,1,7166,,,0,"Move Cells V1 job to check pipeline

All current Cells V1 regressions should have been marked as exceptions now so
we can safely move the job from the experimental pipeline to the check one.

Leaving the job as non-voting.

Change-Id: I67a060b2a63cb31e6b27f606f57fbee5a8651b92
",git fetch https://review.opendev.org/openstack/project-config refs/changes/10/149410/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,0f9ce487cb6ced0604b6456d9ecd07eda5731605,cells_check_nova, - check-tempest-dsvm-cells, - check-tempest-dsvm-cells,1,1
openstack%2Fmonasca-api~master~I38914be7ee1a9ce55f9a0102763a0c2d7763fbe1,openstack/monasca-api,master,I38914be7ee1a9ce55f9a0102763a0c2d7763fbe1,Added pagerduty support to the Java API,MERGED,2015-01-23 00:05:03.000000000,2015-01-23 20:23:12.000000000,2015-01-23 20:23:11.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 11809}, {'_account_id': 14273}]","[{'number': 1, 'created': '2015-01-23 00:05:03.000000000', 'files': ['src/main/java/monasca/api/app/command/CreateNotificationMethodCommand.java', 'src/main/java/monasca/api/domain/model/notificationmethod/NotificationMethodType.java'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/eb9128384ea7caf4aa64fa3393dc200118d0f6af', 'message': 'Added pagerduty support to the Java API\n\nChange-Id: I38914be7ee1a9ce55f9a0102763a0c2d7763fbe1\n'}]",0,149437,eb9128384ea7caf4aa64fa3393dc200118d0f6af,9,4,1,14273,,,0,"Added pagerduty support to the Java API

Change-Id: I38914be7ee1a9ce55f9a0102763a0c2d7763fbe1
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/37/149437/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/main/java/monasca/api/app/command/CreateNotificationMethodCommand.java', 'src/main/java/monasca/api/domain/model/notificationmethod/NotificationMethodType.java']",2,eb9128384ea7caf4aa64fa3393dc200118d0f6af,," EMAIL, SMS, WEBHOOK, PAGERDUTY;"," EMAIL, SMS, WEBHOOK;",4,1
openstack%2Ffuel-specs~master~I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de,openstack/fuel-specs,master,I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de,Specification for sending statistics,MERGED,2014-09-09 16:00:23.000000000,2015-01-23 20:14:03.000000000,2015-01-23 20:14:02.000000000,"[{'_account_id': 3}, {'_account_id': 406}, {'_account_id': 8053}, {'_account_id': 8392}, {'_account_id': 8735}, {'_account_id': 8749}, {'_account_id': 8789}, {'_account_id': 8797}, {'_account_id': 8882}, {'_account_id': 8931}, {'_account_id': 8965}, {'_account_id': 9765}, {'_account_id': 10391}, {'_account_id': 10959}, {'_account_id': 11081}, {'_account_id': 11090}, {'_account_id': 11110}, {'_account_id': 12404}]","[{'number': 1, 'created': '2014-09-09 16:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/1b6c12938537250ee8ed04049feec63f14712d2e', 'message': 'Specification for sending anonymous statistics\n\nChange-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de\n'}, {'number': 2, 'created': '2014-09-10 07:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/a03853c54a421a95b869d5b97e5c99903132bd37', 'message': 'Specification for sending anonymous statistics\n\nblueprint send-anon-usage\nChange-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de\n'}, {'number': 3, 'created': '2014-09-10 11:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/1ebf3af6851b1c7d30d18b9aab1191004878888d', 'message': 'Specification for sending anonymous statistics\n\nblueprint send-anon-usage\nChange-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de\n'}, {'number': 4, 'created': '2014-09-10 11:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/da16a9c264148acf7d45c75ccfef9fe67e3943ea', 'message': 'Specification for sending anonymous statistics\n\nAlso images subdirectory handled in test\n\nblueprint send-anon-usage\nChange-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de\n'}, {'number': 5, 'created': '2014-09-10 12:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/f848f86a52d36933d2fa9857c1782804e329e4fc', 'message': 'Specification for sending anonymous statistics\n\nAlso images subdirectory handled in test\n\nblueprint send-anon-usage\nChange-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de\n'}, {'number': 6, 'created': '2014-09-12 07:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/e7053b3b2df5be1b8bbd5ada1249e5d8055ef944', 'message': 'Specification for sending anonymous statistics\n\nAlso images subdirectory handled in test\n\nblueprint send-anon-usage\nChange-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de\n'}, {'number': 7, 'created': '2014-09-12 09:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/69f453065fd606d2a12fffda029028592cd925c4', 'message': 'Specification for sending anonymous statistics\n\nAlso images subdirectory handled in test\n\nblueprint send-anon-usage\nChange-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de\n'}, {'number': 8, 'created': '2014-09-12 09:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/1d8190ef2488b6b9526a16b1e890070bc17abe72', 'message': 'Specification for sending anonymous statistics\n\nAlso images subdirectory handled in test\n\nblueprint send-anon-usage\nChange-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de\n'}, {'number': 9, 'created': '2014-09-12 11:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/3df5eae1445c0ce388a6f2aaf55fbd0ca6b3d94f', 'message': 'Specification for sending anonymous statistics\n\nAlso images subdirectory handled in test\n\nblueprint send-anon-usage\nChange-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de\n'}, {'number': 10, 'created': '2014-09-12 11:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/68068d98f2acf58f73068d5b71c5c1dc893c4828', 'message': 'Specification for sending anonymous statistics\n\nAlso images subdirectory handled in test\n\nblueprint send-anon-usage\nChange-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de\n'}, {'number': 11, 'created': '2014-09-15 08:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/88d6b9724140f0726be76b04994e3da396135e03', 'message': 'Specification for sending anonymous statistics\n\nAlso images subdirectory handled in test\n\nblueprint send-anon-usage\nChange-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de\n'}, {'number': 12, 'created': '2014-09-15 12:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/32dd79da97e7ad2c2d1a2b4fafb612c8f3e0b5cf', 'message': 'Specification for sending anonymous statistics\n\nAlso images subdirectory handled in test\n\nblueprint send-anon-usage\nChange-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de\n'}, {'number': 13, 'created': '2014-09-15 12:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/af5a5d681f88858afb7002ad6202a1cb47a01325', 'message': 'Specification for sending anonymous statistics\n\nAlso images subdirectory handled in test\n\nblueprint send-anon-usage\nChange-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de\n'}, {'number': 14, 'created': '2014-09-17 10:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/f6f254d55682f61e3a12ee3076e531c5761d4cab', 'message': 'Specification for sending anonymous statistics\n\nAlso images subdirectory handled in test\n\nblueprint send-anon-usage\nChange-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de\n'}, {'number': 15, 'created': '2014-09-25 14:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/6f2df414822dcda664a552a1cdb761a298848472', 'message': 'Specification for sending anonymous statistics\n\nAlso images subdirectory handled in test\n\nblueprint send-anon-usage\nChange-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de\n'}, {'number': 16, 'created': '2014-09-29 15:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/98285e357ca9e4b37a0e48a6421e935e0d0bedd2', 'message': 'Specification for sending anonymous statistics\n\nAlso images subdirectory handled in test\n\nblueprint send-anon-usage\nChange-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de\n'}, {'number': 17, 'created': '2014-10-01 14:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/b477f524af2d5d2cd1217c3b57ae026dfd6333b1', 'message': 'Specification for sending anonymous statistics\n\nAlso images subdirectory handled in test\n\nblueprint send-anon-usage\nChange-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de\n'}, {'number': 18, 'created': '2014-10-01 15:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/f969b976f81658792164dd8720b84dd9c91052a8', 'message': 'Specification for sending anonymous statistics\n\nAlso images subdirectory handled in test\n\nblueprint send-anon-usage\nChange-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de\n'}, {'number': 19, 'created': '2014-10-01 15:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/01fdad29087f265b41f23b5091d6e9b5c1235b2a', 'message': 'Specification for sending anonymous statistics\n\nAlso images subdirectory handled in test\n\nblueprint send-anon-usage\nChange-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de\n'}, {'number': 20, 'created': '2014-11-10 10:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/0c683e4deed09c6818253bd56eaf99e650c16b64', 'message': 'Specification for sending anonymous statistics\n\nImages subdirectory handled in test\n\nblueprint send-anon-usage\nChange-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de\n'}, {'number': 21, 'created': '2014-11-10 10:26:59.000000000', 'files': ['tests/test_titles.py', 'specs/6.0/statistics-collecting.rst', 'specs/6.0/images/fuel-stat-architecture.png'], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/9b60814c7b497ca72882cf0c39eb5a739d4b940a', 'message': 'Specification for sending statistics\n\nImages subdirectory handled in test\n\nblueprint send-anon-usage\nChange-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de\n'}]",72,120136,9b60814c7b497ca72882cf0c39eb5a739d4b940a,94,18,21,10959,,,0,"Specification for sending statistics

Images subdirectory handled in test

blueprint send-anon-usage
Change-Id: I9e8a5f2dd289ec957e047a3ab7391d351bf3d3de
",git fetch https://review.opendev.org/openstack/fuel-specs refs/changes/36/120136/21 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/6.0/anonymous-statistics.rst']",2,1b6c12938537250ee8ed04049feec63f14712d2e,bp/send-anon-usage,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============================================== Fuel-stat - sending of the anonymous statistics =============================================== https://blueprints.launchpad.net/fuel/+spec/send-anon-usage Fuel-stat is the service of collecting anonymous and providing analytical information about using of the Fuel product. Problem description =================== We need to understand how customers are using Fuel. We need to collect anonymous usage statistics and provide the analytics reports. Proposed change =============== Fuel-stat service is separated into two parts. The first one is statistics collecting service (collector), the second one is analytical service (analytic). Collector service provides REST API which available from the internet. Analytic provides REST API and have UI to viewing stat reports online. Requests and responses in collector and analytic must be validated by JSON Schema. Analytic web UI uses API for fetching data Each Fuel installation, with enabled anonymous stat option, periodically sends info to collector API. Each request and response is validated by JSON scheme. After validation and processing data saves into collector DB. Collector DB has slave replica. Data from collector DB extracted, transformed, loaded into analytic DB. Periodically backup of collector and analytic DBs is made. Collector DB's backup is made from slave replica due to performance issues. Analytics information can be accessed through analytic API or web UI. For heavy analytic reports can be used asynchronous processing, based on tasks and messaging system. Sending of anonymous statistics option should be added into Nailgun UI. Detailed description of sending statistics should be added into Nailgun UI. Add storing of action logs added into Nailgun. Each modification requested through Nailgun API should be stored into DB table action_logs. Success and failure operations should be logged. Logged info should be sanitized from any credentials data. Handle calculation of execution time for asynchronous tasks. Add execution time into action_logs. Add background sending of statistics from Nailgun to collecting service. This background process should save info about last sent action log and send only fresh records. Sending process should not affect Nailgun services, should be robust to errors. Can be started as uWSGI mule process for example. Alternatives ------------ None Data model impact ----------------- New databases fer collector and analytic will be created. Action_logs table added into Nailgun. In case of extra-large data amounts DB can be periodically partitioned. REST API impact --------------- REST API for collector and analytic services will be created. Upgrade impact -------------- None Security impact --------------- There ara open questions: * Authentication and authorization in analytic. Is it required? * HTTPS on collector API? Have we certificates for wildcard third level domains for mirantis.com or single certificate to be issued or self signed certificates? The same question for analytic web UI and API. * Protection from data spoofing. Is MasterNode uid enough for checking request is not fake? Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- Discuss things that will affect how you deploy and configure Fuel that have not already been mentioned, such as: * What config options are being added? Should they be more generic than proposed? Are the default values ones which will work well in real deployments? * Is this a change that takes immediate effect after its merged, or is it something that has to be explicitly enabled? * If this change is a new binary, how would it be deployed? * Please state anything that those doing continuous deployment, or those upgrading from the previous release, need to be aware of. Also describe any plans to deprecate configuration values or features. For example, if we change the directory name that instances are stored in, how do we handle instance directories created before the change landed? Do we move them? Do we have a special case in the code? Do we assume that the operator will recreate all the instances in their cloud? Developer impact ---------------- Discuss things that will affect other developers working on Fuel, such as: * If the blueprint proposes a change to the driver API, discussion of how drivers would implement the feature is required. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Other contributors: <launchpad-id or None> Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ * Include specific references to specs and/or blueprints in fuel, or in other projects, that this one either depends on or is related to. * If this requires functionality of another project that is not currently used by Fuel, document that fact. * Does this feature require any new library dependencies or code otherwise not included in Fuel? Or does it depend on a specific version of library? Testing ======= Please discuss how the change will be tested. It is assumed that unit test coverage will be added so that doesn't need to be mentioned explicitly, but discussion of why you think unit tests are sufficient and we don't need to add more functional tests would need to be included. Is this untestable in gate given current limitations (specific hardware / software configurations available)? If so, are there mitigation plans (3rd party testing, gate enhancements, etc). Documentation Impact ==================== What is the impact on the docs team of this change? Some changes might require donating resources to the docs team to have the documentation updated. Don't repeat details discussed above, but please reference them here. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to relevant research, if appropriate * Related specifications as appropriate * Anything else you feel it is worthwhile to refer to ",,228,0
openstack%2Fnova~master~I4133649bb079013613cdfe7b6a1771ff7256532d,openstack/nova,master,I4133649bb079013613cdfe7b6a1771ff7256532d,Fix errors in string formatting operations,MERGED,2015-01-22 03:42:37.000000000,2015-01-23 20:13:11.000000000,2015-01-23 20:13:07.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 7730}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-22 03:42:37.000000000', 'files': ['nova/tests/unit/matchers.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a24600385d76d06f27eeb38c75561f55b30b9b52', 'message': 'Fix errors in string formatting operations\n\nFormat specifier character ""%s""  missing in 2 places\nFormat requires a mapping as the string has ""%(path)""\n\nChange-Id: I4133649bb079013613cdfe7b6a1771ff7256532d\n'}]",0,149131,a24600385d76d06f27eeb38c75561f55b30b9b52,14,10,1,5638,,,0,"Fix errors in string formatting operations

Format specifier character ""%s""  missing in 2 places
Format requires a mapping as the string has ""%(path)""

Change-Id: I4133649bb079013613cdfe7b6a1771ff7256532d
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/149131/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/matchers.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,a24600385d76d06f27eeb38c75561f55b30b9b52,," raise ValueError(""Unhandled method %s"" % method_name) raise ValueError(""Unhandled method %s"" % method_name)"," raise ValueError(""Unhandled method %"" % method_name) raise ValueError(""Unhandled method %"" % method_name)",3,3
openstack%2Fheat~master~I6a2f8c08b1802a1920fe289065063aa4b71aee70,openstack/heat,master,I6a2f8c08b1802a1920fe289065063aa4b71aee70,"Revert ""sqlalchemy migration not to import model""",ABANDONED,2014-11-25 22:04:20.000000000,2015-01-23 20:10:32.000000000,,"[{'_account_id': 3}, {'_account_id': 1633}, {'_account_id': 4571}, {'_account_id': 4715}, {'_account_id': 7230}, {'_account_id': 7253}, {'_account_id': 7256}, {'_account_id': 7404}, {'_account_id': 8289}, {'_account_id': 8537}]","[{'number': 1, 'created': '2014-11-25 22:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/01f2904769276a8060b8561bb8d5b08439d47eee', 'message': ""Fix raw_templates in migration scripts\n\nMigration scripts 037, 041, and 043 treat raw_template.template as if it\nwere a dict, but it's actually a string.  In those scripts, raw_template\nis a RowProxy object, not a RawTemplate object (where\nraw_template.template would, in fact, be a dict).  Furthermore, a\nRowProxy object does not allow attributes to be set, yet that's exactly\nwhat those migration scripts do.\n\nFetch a list of RawTemplates from the database instead of a ResultProxy\nto ensure the migration scripts work properly.\n\nChange-Id: I6a2f8c08b1802a1920fe289065063aa4b71aee70\nCloses-Bug: #1396313\n""}, {'number': 2, 'created': '2014-12-01 20:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7a5f3faae09a7aa29089b0835ac28fef7d9de238', 'message': 'Revert ""sqlalchemy migration not to import model""\n\nMigration scripts 037, 041, and 043 treat raw_template.template as if it\nwere a dict, but it\'s actually a string.  In those scripts, raw_template\nis a RowProxy object, not a RawTemplate object (where\nraw_template.template would, in fact, be a dict).  Furthermore, a\nRowProxy object does not allow attributes to be set, yet that\'s exactly\nwhat those migration scripts attempt to do.\n\nFetch a list of RawTemplates from the database instead of a ResultProxy\nto ensure the migration scripts work properly.\n\nThis reverts commit a73c4eac9453f0ed09709962e486ef93a1f19922.\n\nConflicts:\n\theat/db/sqlalchemy/migrate_repo/versions/037_migrate_hot_template.py\n\nChange-Id: I6a2f8c08b1802a1920fe289065063aa4b71aee70\nCloses-Bug: #1396313\n'}, {'number': 3, 'created': '2014-12-01 21:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7fb6d88be9e30d4e40e98f63bebce25edf5429a1', 'message': 'Revert ""sqlalchemy migration not to import model""\n\nMigration scripts 037, 041, and 043 treat raw_template.template as if it\nwere a dict, but it\'s actually a string.  In those scripts, raw_template\nis a RowProxy object, not a RawTemplate object (where\nraw_template.template would, in fact, be a dict).  Furthermore, a\nRowProxy object does not allow attributes to be set, yet that\'s exactly\nwhat those migration scripts attempt to do.\n\nFetch a list of RawTemplates from the database instead of a ResultProxy\nto ensure the migration scripts work properly.\n\nThis reverts commit a73c4eac9453f0ed09709962e486ef93a1f19922.\n\nConflicts:\n\theat/db/sqlalchemy/migrate_repo/versions/037_migrate_hot_template.py\n\nChange-Id: I6a2f8c08b1802a1920fe289065063aa4b71aee70\nCloses-Bug: #1396313\n'}, {'number': 4, 'created': '2014-12-05 14:36:54.000000000', 'files': ['heat/db/sqlalchemy/migrate_repo/versions/043_migrate_template_versions.py', 'heat/db/sqlalchemy/migrate_repo/versions/037_migrate_hot_template.py', 'heat/db/sqlalchemy/migrate_repo/versions/041_migrate_hot_template_resources.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/753b4ba7319c74d262dd1374fcd3073ac3717c5a', 'message': 'Revert ""sqlalchemy migration not to import model""\n\nMigration scripts 037, 041, and 043 treat raw_template.template as if it\nwere a dict, but it\'s actually a string.  In those scripts, raw_template\nis a RowProxy object, not a RawTemplate object (where\nraw_template.template would, in fact, be a dict).  Furthermore, a\nRowProxy object does not allow attributes to be set, yet that\'s exactly\nwhat those migration scripts attempt to do.\n\nFetch a list of RawTemplates from the database instead of a ResultProxy\nto ensure the migration scripts work properly.\n\nThis reverts commit a73c4eac9453f0ed09709962e486ef93a1f19922.\n\nConflicts:\n\theat/db/sqlalchemy/migrate_repo/versions/037_migrate_hot_template.py\n\nChange-Id: I6a2f8c08b1802a1920fe289065063aa4b71aee70\nCloses-Bug: #1396313\n'}]",2,137223,753b4ba7319c74d262dd1374fcd3073ac3717c5a,26,10,4,7253,,,0,"Revert ""sqlalchemy migration not to import model""

Migration scripts 037, 041, and 043 treat raw_template.template as if it
were a dict, but it's actually a string.  In those scripts, raw_template
is a RowProxy object, not a RawTemplate object (where
raw_template.template would, in fact, be a dict).  Furthermore, a
RowProxy object does not allow attributes to be set, yet that's exactly
what those migration scripts attempt to do.

Fetch a list of RawTemplates from the database instead of a ResultProxy
to ensure the migration scripts work properly.

This reverts commit a73c4eac9453f0ed09709962e486ef93a1f19922.

Conflicts:
	heat/db/sqlalchemy/migrate_repo/versions/037_migrate_hot_template.py

Change-Id: I6a2f8c08b1802a1920fe289065063aa4b71aee70
Closes-Bug: #1396313
",git fetch https://review.opendev.org/openstack/heat refs/changes/23/137223/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/db/sqlalchemy/migrate_repo/versions/043_migrate_template_versions.py', 'heat/db/sqlalchemy/migrate_repo/versions/037_migrate_hot_template.py', 'heat/db/sqlalchemy/migrate_repo/versions/041_migrate_hot_template_resources.py']",3,01f2904769276a8060b8561bb8d5b08439d47eee,bug/1396313,from heat.db.sqlalchemy import models raw_templates = session.query(models.RawTemplate),"import sqlalchemy meta = sqlalchemy.MetaData(bind=migrate_engine) templ_table = sqlalchemy.Table('raw_template', meta, autoload=True) raw_templates = templ_table.select().execute()",6,16
openstack%2Fneutron~master~I56045ede3a3dc1a7044a22913ee38ed382a81052,openstack/neutron,master,I56045ede3a3dc1a7044a22913ee38ed382a81052,"If router is HA, get current_cidrs from keepalived object",MERGED,2014-12-08 07:40:43.000000000,2015-01-23 20:10:17.000000000,2015-01-23 20:10:16.000000000,"[{'_account_id': 3}, {'_account_id': 2035}, {'_account_id': 5170}, {'_account_id': 6072}, {'_account_id': 6502}, {'_account_id': 6524}, {'_account_id': 6788}, {'_account_id': 7141}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 8645}, {'_account_id': 8873}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 12612}, {'_account_id': 12767}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-08 07:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c5b6921dc47e21dab6ea69976023091f769153f', 'message': 'If router is HA, get current_cidrs from keepalived object\n\nWhen using L3 HA and keepalived neutron is nolonger directly managing\nthe floating IP addresses itself. Neutron should not check against\nwhich addresses are currently configured on the system, but the\naddresses the keepalived object has configured.\n\nCo-Authored-By: Benoit Page-Guitard <benoit.page@gmail.com>\nChange-Id: I56045ede3a3dc1a7044a22913ee38ed382a81052\nCloses-Bug: #1400217\n'}, {'number': 2, 'created': '2014-12-08 12:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ada7083b2dbbe3de3fb400c595969c4af334176', 'message': 'If router is HA, get current_cidrs from keepalived object\n\nWhen using L3 HA and keepalived neutron is nolonger directly managing\nthe floating IP addresses itself. Neutron should not check against\nwhich addresses are currently configured on the system, but the\naddresses the keepalived object has configured.\n\nCo-Authored-By: Benoit Page-Guitard <benoit.page@gmail.com>\nChange-Id: I56045ede3a3dc1a7044a22913ee38ed382a81052\nCloses-Bug: #1400217\n'}, {'number': 3, 'created': '2014-12-09 03:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a14b8c9199a363ee06ab63de0d9a912359ffd44', 'message': 'If router is HA, get current_cidrs from keepalived object\n\nWhen using L3 HA and keepalived neutron is no longer directly managing\nthe floating IP addresses itself. Neutron should not check against\nwhich addresses are currently configured on the system, but the\naddresses the keepalived object has configured.\n\nCo-Authored-By: Benoit Page-Guitard <benoit.page@gmail.com>\nChange-Id: I56045ede3a3dc1a7044a22913ee38ed382a81052\nCloses-Bug: #1400217\n'}, {'number': 4, 'created': '2014-12-09 03:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3eb8637053e11c214e33961eefcc3d8f9bf03da3', 'message': 'If router is HA, get current_cidrs from keepalived object\n\nWhen using L3 HA and keepalived neutron is no longer directly managing\nthe floating IP addresses itself. Neutron should not check against\nwhich addresses are currently configured on the system, but the\naddresses the keepalived object has configured.\n\nCo-Authored-By: Benoit Page-Guitard <benoit.page@gmail.com>\nChange-Id: I56045ede3a3dc1a7044a22913ee38ed382a81052\nCloses-Bug: #1400217\n'}, {'number': 5, 'created': '2014-12-11 02:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/288bbe71f6953ce692e0763b48f211d5e9668781', 'message': 'If router is HA, get current_cidrs from keepalived object\n\nWhen using L3 HA and keepalived neutron is no longer directly managing\nthe floating IP addresses itself. Neutron should not check against\nwhich addresses are currently configured on the system, but the\naddresses the keepalived object has configured.\n\nCo-Authored-By: Benoit Page-Guitard <benoit.page@gmail.com>\nChange-Id: I56045ede3a3dc1a7044a22913ee38ed382a81052\nCloses-Bug: #1400217\n'}, {'number': 6, 'created': '2014-12-17 06:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/24ffbb3f18ee425d885ecf70df52bf9cbd462fb8', 'message': 'If router is HA, get current_cidrs from keepalived object\n\nWhen using L3 HA and keepalived neutron is no longer directly managing\nthe floating IP addresses itself. Neutron should not check against\nwhich addresses are currently configured on the system, but the\naddresses the keepalived object has configured.\n\nCo-Authored-By: Benoit Page-Guitard <benoit.page@gmail.com>\nChange-Id: I56045ede3a3dc1a7044a22913ee38ed382a81052\nCloses-Bug: #1400217\n'}, {'number': 7, 'created': '2014-12-18 01:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3b33bc160a57c000c55b04c7369678cc17e64b38', 'message': 'If router is HA, get current_cidrs from keepalived object\n\nWhen using L3 HA and keepalived neutron is no longer directly managing\nthe floating IP addresses itself. Neutron should not check against\nwhich addresses are currently configured on the system, but the\naddresses the keepalived object has configured.\n\nCo-Authored-By: Benoit Page-Guitard <benoit.page@gmail.com>\nChange-Id: I56045ede3a3dc1a7044a22913ee38ed382a81052\nPartial-Bug: #1400217\n'}, {'number': 8, 'created': '2014-12-18 01:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3cedb38445f8a9084cec2aa69568b784c605b96c', 'message': 'If router is HA, get current_cidrs from keepalived object\n\nWhen using L3 HA and keepalived neutron is no longer directly managing\nthe floating IP addresses itself. Neutron should not check against\nwhich addresses are currently configured on the system, but the\naddresses the keepalived object has configured.\n\nCo-Authored-By: Benoit Page-Guitard <benoit.page@gmail.com>\nChange-Id: I56045ede3a3dc1a7044a22913ee38ed382a81052\nCloses-Bug: #1400217\n'}, {'number': 9, 'created': '2015-01-13 12:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6fd99466bf526a65e2bdf953cc8c52379f9fa42f', 'message': 'If router is HA, get current_cidrs from keepalived object\n\nWhen using L3 HA and keepalived neutron is no longer directly managing\nthe floating IP addresses itself. Neutron should not check against\nwhich addresses are currently configured on the system, but the\naddresses the keepalived object has configured.\n\nCo-Authored-By: Benoit Page-Guitard <benoit.page@gmail.com>\nChange-Id: I56045ede3a3dc1a7044a22913ee38ed382a81052\nCloses-Bug: #1400217\n'}, {'number': 10, 'created': '2015-01-21 02:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfd4f37e2dac3208f168b123cb05440a6ec7dc5a', 'message': 'If router is HA, get current_cidrs from keepalived object\n\nWhen using L3 HA and keepalived neutron is no longer directly managing\nthe floating IP addresses itself. Neutron should not check against\nwhich addresses are currently configured on the system, but the\naddresses the keepalived object has configured.\n\nCo-Authored-By: Benoit Page-Guitard <benoit.page@gmail.com>\nChange-Id: I56045ede3a3dc1a7044a22913ee38ed382a81052\nCloses-Bug: #1400217\n'}, {'number': 11, 'created': '2015-01-22 00:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/56ed9c8be91bcbcfe0ad9ddb3e90d01fbf532ed8', 'message': 'If router is HA, get current_cidrs from keepalived object\n\nWhen using L3 HA and keepalived neutron is no longer directly managing\nthe floating IP addresses itself. Neutron should not check against\nwhich addresses are currently configured on the system, but the\naddresses the keepalived object has configured.\n\nCo-Authored-By: Benoit Page-Guitard <benoit.page@gmail.com>\nChange-Id: I56045ede3a3dc1a7044a22913ee38ed382a81052\nCloses-Bug: #1400217\n'}, {'number': 12, 'created': '2015-01-23 03:11:46.000000000', 'files': ['neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/l3/agent.py', 'neutron/agent/linux/keepalived.py', 'neutron/agent/l3/ha.py', 'neutron/tests/unit/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ccd5fe83884cf72c7e69091f318628884665f971', 'message': 'If router is HA, get current_cidrs from keepalived object\n\nWhen using L3 HA and keepalived neutron is no longer directly managing\nthe floating IP addresses itself. Neutron should not check against\nwhich addresses are currently configured on the system, but the\naddresses the keepalived object has configured.\n\nCo-Authored-By: Benoit Page-Guitard <benoit.page@gmail.com>\nChange-Id: I56045ede3a3dc1a7044a22913ee38ed382a81052\nCloses-Bug: #1400217\n'}]",32,139932,ccd5fe83884cf72c7e69091f318628884665f971,250,33,12,12612,,,0,"If router is HA, get current_cidrs from keepalived object

When using L3 HA and keepalived neutron is no longer directly managing
the floating IP addresses itself. Neutron should not check against
which addresses are currently configured on the system, but the
addresses the keepalived object has configured.

Co-Authored-By: Benoit Page-Guitard <benoit.page@gmail.com>
Change-Id: I56045ede3a3dc1a7044a22913ee38ed382a81052
Closes-Bug: #1400217
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/139932/11 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/keepalived.py', 'neutron/agent/l3_agent.py', 'neutron/agent/l3_ha_agent.py']",3,3c5b6921dc47e21dab6ea69976023091f769153f,bug/1400217," def _get_existing_cidrs(self, ri, interface_name): instance = ri.keepalived_manager.config.get_instance(ri.ha_vr_id) return instance.get_existing_vips(interface_name) ",,12,1
openstack%2Frequirements~stable%2Ficehouse~Ibe44035d566e453c9c2efe5fe264dbefd8745459,openstack/requirements,stable/icehouse,Ibe44035d566e453c9c2efe5fe264dbefd8745459,Allow websockify 0.6,ABANDONED,2014-07-16 08:17:59.000000000,2015-01-23 20:07:48.000000000,,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 6476}, {'_account_id': 9656}]","[{'number': 1, 'created': '2014-07-16 08:17:59.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/06eb0431dedb2e42f7938fc6e0798c58a113690a', 'message': 'Allow websockify 0.6\n\nWe need websockify 0.6 to allow this patch to get in:\nhttps://review.openstack.org/#/c/107069/\n\nWe really want websockify 0.6 because 0.5 has numerous bugs\nwhich are resolved in the new version, one of them being to\nleave zombie processes.\n\nChange-Id: Ibe44035d566e453c9c2efe5fe264dbefd8745459\n'}]",0,107253,06eb0431dedb2e42f7938fc6e0798c58a113690a,11,4,1,6476,,,0,"Allow websockify 0.6

We need websockify 0.6 to allow this patch to get in:
https://review.openstack.org/#/c/107069/

We really want websockify 0.6 because 0.5 has numerous bugs
which are resolved in the new version, one of them being to
leave zombie processes.

Change-Id: Ibe44035d566e453c9c2efe5fe264dbefd8745459
",git fetch https://review.opendev.org/openstack/requirements refs/changes/53/107253/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,06eb0431dedb2e42f7938fc6e0798c58a113690a,allow-websockify-0.6,websockify>=0.5.1,"websockify>=0.5.1,<0.6",1,1
openstack%2Fproject-config~master~I41567bb1c23effe48132c702e09405bf22929969,openstack/project-config,master,I41567bb1c23effe48132c702e09405bf22929969,Correct job parameter for static-publish-prep,MERGED,2015-01-23 19:46:05.000000000,2015-01-23 20:07:08.000000000,2015-01-23 20:07:07.000000000,"[{'_account_id': 3}, {'_account_id': 6316}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-01-23 19:46:05.000000000', 'files': ['jenkins/jobs/macros.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a987a720ac7706ee33b4062ac52c67c460ab7539', 'message': 'Correct job parameter for static-publish-prep\n\nChange-Id: I41567bb1c23effe48132c702e09405bf22929969\n'}]",0,149733,a987a720ac7706ee33b4062ac52c67c460ab7539,7,3,1,5263,,,0,"Correct job parameter for static-publish-prep

Change-Id: I41567bb1c23effe48132c702e09405bf22929969
",git fetch https://review.opendev.org/openstack/project-config refs/changes/33/149733/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/macros.yaml'],1,a987a720ac7706ee33b4062ac52c67c460ab7539,specs-publishing," mv {source} ,content"," mv $source ,content",1,1
openstack%2Fnova~master~I7eea60af1fd91d2e0de61eef820e3181d919ae5b,openstack/nova,master,I7eea60af1fd91d2e0de61eef820e3181d919ae5b,VMware: remove unused method in the fake module,MERGED,2014-12-16 10:04:28.000000000,2015-01-23 20:06:41.000000000,2015-01-23 20:06:38.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 8247}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-16 10:04:28.000000000', 'files': ['nova/tests/unit/virt/vmwareapi/fake.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4cd564f47980c882a33cd2b467023964cbbdd946', 'message': 'VMware: remove unused method in the fake module\n\nThe method log_db_contents was not being used. This has been dropped from\nthe code.\n\nTrivialFix\n\nChange-Id: I7eea60af1fd91d2e0de61eef820e3181d919ae5b\n'}]",0,142050,4cd564f47980c882a33cd2b467023964cbbdd946,21,11,1,1653,,,0,"VMware: remove unused method in the fake module

The method log_db_contents was not being used. This has been dropped from
the code.

TrivialFix

Change-Id: I7eea60af1fd91d2e0de61eef820e3181d919ae5b
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/142050/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/vmwareapi/fake.py'],1,4cd564f47980c882a33cd2b467023964cbbdd946,remove-unused-code,,"import pprintdef log_db_contents(msg=None): """"""Log DB Contents."""""" LOG.debug(""%(text)s: _db_content => %(content)s"", {'text': msg or """", 'content': pprint.pformat(_db_content)}) ",0,7
openstack%2Fnova~master~Ib6e74ec27cd164df25cb9c46627f3cdcc040a022,openstack/nova,master,Ib6e74ec27cd164df25cb9c46627f3cdcc040a022,Virt: remove unused 'host' parameter from get_host_uptime,MERGED,2015-01-21 12:44:12.000000000,2015-01-23 20:06:09.000000000,2015-01-23 20:06:06.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-21 12:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d471055600058b2acf6652e683d73028103c168', 'message': ""Virt: remove unused 'host' parameter from get_host_uptime\n\nCommit af4dc62e49128cb5e0be1fb244074b3a7c8733e8 suggested that\nwe drop the unsed parameter.\n\nChange-Id: Ib6e74ec27cd164df25cb9c46627f3cdcc040a022\n""}, {'number': 2, 'created': '2015-01-21 12:45:52.000000000', 'files': ['nova/virt/hyperv/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/virt/xenapi/host.py', 'nova/tests/unit/virt/test_virt_drivers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a05846dc62595ead9e9ccebebb9e291e7de518d3', 'message': ""Virt: remove unused 'host' parameter from get_host_uptime\n\nCommit af4dc62e49128cb5e0be1fb244074b3a7c8733e8 suggested that\nwe drop the unused parameter.\n\nChange-Id: Ib6e74ec27cd164df25cb9c46627f3cdcc040a022\n""}]",0,148913,a05846dc62595ead9e9ccebebb9e291e7de518d3,13,7,2,1653,,,0,"Virt: remove unused 'host' parameter from get_host_uptime

Commit af4dc62e49128cb5e0be1fb244074b3a7c8733e8 suggested that
we drop the unused parameter.

Change-Id: Ib6e74ec27cd164df25cb9c46627f3cdcc040a022
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/148913/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hyperv/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/virt/xenapi/host.py', 'nova/tests/unit/virt/test_virt_drivers.py']",10,3d471055600058b2acf6652e683d73028103c168,host-uptime, self.connection.get_host_uptime(), self.connection.get_host_uptime('a useless argument?'),11,13
openstack%2Fproject-config~master~I3ab9fabfda697b256c00a06452a162b7fcc1409e,openstack/project-config,master,I3ab9fabfda697b256c00a06452a162b7fcc1409e,Except current Cells V1 regressions,MERGED,2015-01-21 23:06:19.000000000,2015-01-23 19:55:20.000000000,2015-01-23 19:55:19.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5263}, {'_account_id': 5441}, {'_account_id': 6547}, {'_account_id': 7166}]","[{'number': 1, 'created': '2015-01-21 23:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/db168c0961c56b0378cfc000b023f6fb57fcfff7', 'message': ""Enable cells job in check pipeline for Nova\n\nBefore working on Cells V2, we need to make sure we won't regress the current\nNova Cells V1 by excepting all the current failures and remove the ones\nbeing fixed in the meantime.\n\nFor the moment, leaving the job as non-voting until we are sure that it\nno longer raises false positives.\n\nChange-Id: I3ab9fabfda697b256c00a06452a162b7fcc1409e\n""}, {'number': 2, 'created': '2015-01-22 21:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/883f58f496fb6ffaa30d0bd9955ac005a14b0e2a', 'message': ""Except current Cells V1 regressions\n\nBefore working on Cells V2, we need to make sure we won't regress the current\nNova Cells V1 by excepting all the current failures and remove the ones\nbeing fixed in the meantime.\n\nChange-Id: I3ab9fabfda697b256c00a06452a162b7fcc1409e\n""}, {'number': 3, 'created': '2015-01-22 22:00:53.000000000', 'files': ['jenkins/jobs/devstack-gate.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a0c913e76a1a4e52c6c2babc2e47c05c9d201eaf', 'message': ""Except current Cells V1 regressions\n\nBefore working on Cells V2, we need to make sure we won't regress the current\nNova Cells V1 by excepting all the current failures and remove the ones\nbeing fixed in the meantime.\n\nChange-Id: I3ab9fabfda697b256c00a06452a162b7fcc1409e\n""}]",2,149073,a0c913e76a1a4e52c6c2babc2e47c05c9d201eaf,15,7,3,7166,,,0,"Except current Cells V1 regressions

Before working on Cells V2, we need to make sure we won't regress the current
Nova Cells V1 by excepting all the current failures and remove the ones
being fixed in the meantime.

Change-Id: I3ab9fabfda697b256c00a06452a162b7fcc1409e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/73/149073/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul/layout.yaml', 'jenkins/jobs/devstack-gate.yaml']",2,db168c0961c56b0378cfc000b023f6fb57fcfff7,cells_check_nova," # skip current regressions r=""$r|(?:tempest\.api\.compute\.admin\.test_networks\.NetworksTest\.test_get_network*)"" r=""$r|(?:tempest\.api\.compute\.admin\.test_networks\.NetworksTest\.test_list_all_networks*)"" r=""$r|(?:tempest\.api\.compute\.admin\.test_hypervisor_negative\.HypervisorAdminNegativeTestJSON\.test_get_nonexistent_hypervisor_uptime*)"" r=""$r|(?:tempest\.api\.compute\.admin\.test_hypervisor_negative\.HypervisorAdminNegativeTestJSON\.test_show_nonexistent_hypervisor*)"" r=""$r|(?:tempest\.api\.compute\.admin\.test_hosts_negative\.HostsAdminNegativeTestJSON\.test_reboot_nonexistent_host*)"" r=""$r|(?:tempest\.api\.compute\.admin\.test_hosts_negative\.HostsAdminNegativeTestJSON\.test_show_host_detail_with_nonexistent_hostname*)"" r=""$r|(?:tempest\.api\.compute\.admin\.test_hosts_negative\.HostsAdminNegativeTestJSON\.test_shutdown_nonexistent_host*)"" r=""$r|(?:tempest\.api\.compute\.admin\.test_hosts_negative\.HostsAdminNegativeTestJSON\.test_startup_nonexistent_host*)"" r=""$r|(?:tempest\.api\.compute\.admin\.test_hosts_negative\.HostsAdminNegativeTestJSON\.test_update_nonexistent_host*)"" r=""$r|(?:tempest\.api\.compute\.images\.test_images\.ImagesTestJSON\.test_delete_saving_image*)"" r=""$r|(?:tempest\.api\.compute\.admin\.test_migrations\.MigrationsAdminTest\.test_list_migrations_in_flavor_resize_situation*)"" r=""$r|(?:tempest\.api\.compute\.admin\.test_servers\.ServersAdminTestJSON*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_instance_actions\.InstanceActionsTestJSON*)"" r=""$r|(?:tempest\.api\.compute\.images\.test_images_negative\.ImagesNegativeTestJSON\.test_create_image_from_deleted_server*)"" r=""$r|(?:tempest\.api\.compute\.admin\.test_servers_negative\.ServersAdminNegativeTestJSON*)"" r=""$r|(?:tempest\.api\.compute\.admin\.test_simple_tenant_usage\.TenantUsagesTestJSON*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_server_actions\.ServerActionsTestJSON*)"" r=""$r|(?:tempest\.api\.compute\.images\.test_images_negative\.ImagesNegativeTestJSON\.test_create_image_from_stopped_server*)"" r=""$r|(?:tempest\.api\.compute\.images\.test_images_oneserver\.ImagesOneServerTestJSON*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_server_password\.ServerPasswordTestJSON*)"" r=""$r|(?:tempest\.api\.compute\.images\.test_images_oneserver_negative\.ImagesOneServerNegativeTestJSON*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_server_rescue\.ServerRescueTestJSON*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_disk_config\.ServerDiskConfigTestJSON*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_create_server\.ServersTestJSON*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_servers_negative\.ServersNegativeTestJSON*)"" r=""$r|(?:tempest\.api\.compute\.images\.test_list_image_filters\.ListImageFiltersTestJSON*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_instance_actions_negative\.InstanceActionsNegativeTestJSON*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_delete_server\.DeleteServersAdminTestJSON\.test_admin_delete_servers_of_others*)"" r=""$r|(?:tempest\.api\.compute\.test_authorization\.AuthorizationTestJSON*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_create_server\.ServersTestManualDisk*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_server_metadata_negative\.ServerMetadataNegativeTestJSON*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_delete_server\.DeleteServersAdminTestJSON\.test_delete_server_while_in_error_state*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_list_servers_negative\.ListServersNegativeTestJSON*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_servers\.ServersTestJSON\.test_create_server_with_ipv6_addr_only*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_delete_server\.DeleteServersTestJSON\.test_delete_active_server*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_server_metadata\.ServerMetadataTestJSON*)"" r=""$r|(?:tempest\.api\.volume\.test_volumes_actions\.VolumesV1ActionsTest*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_servers\.ServersTestJSON\.test_create_specify_keypair*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_delete_server\.DeleteServersTestJSON\.test_delete_server_while_in_attached_volume*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_virtual_interfaces\.VirtualInterfacesTestJSON*)"" r=""$r|(?:tempest\.api\.compute\.test_networks\.NetworksTestJSON\.test_list_networks*)"" r=""$r|(?:tempest\.scenario\.test_minimum_basic\.TestMinimumBasicScenario\.test_minimum_basic_scenario*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_servers\.ServersTestJSON\.test_create_with_existing_server_name*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_delete_server\.DeleteServersTestJSON\.test_delete_server_while_in_pause_state*)"" r=""$r|(?:tempest\.api\.compute\.volumes\.test_attach_volume\.AttachVolumeTestJSON\.test_list_get_volume_attachments*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_servers\.ServersTestJSON\.test_update_access_server_address*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_delete_server\.DeleteServersTestJSON\.test_delete_server_while_in_shelved_state*)"" r=""$r|(?:tempest\.api\.volume\.test_volumes_actions\.VolumesV2ActionsTest*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_servers\.ServersTestJSON\.test_update_server_name*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_delete_server\.DeleteServersTestJSON\.test_delete_server_while_in_shutoff_state*)"" r=""$r|(?:tempest\.api\.volume\.test_volumes_snapshots\.VolumesV2SnapshotTestJSON\.test_snapshot_create_with_volume_in_use*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_servers\.ServersTestJSON\.test_update_server_name_in_stop_state*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_delete_server\.DeleteServersTestJSON\.test_delete_server_while_in_suspended_state*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_delete_server\.DeleteServersTestJSON\.test_delete_server_while_in_verify_resize_state*)"" r=""$r|(?:tempest\.thirdparty\.boto\.test_ec2_instance_run\.InstanceRunTest\.test_compute_with_volumes*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_list_server_filters\.ListServerFiltersTestJSON*)"" r=""$r|(?:tempest\.api\.volume\.test_volumes_negative\.VolumesV1NegativeTest\.test_attach_volumes_with_nonexistent_volume_id*)"" r=""$r|(?:tempest\.thirdparty\.boto\.test_ec2_instance_run\.InstanceRunTest\.test_run_stop_terminate_instance*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_server_addresses\.ServerAddressesTestJSON*)"" r=""$r|(?:tempest\.api\.volume\.test_volumes_negative\.VolumesV2NegativeTest\.test_attach_volumes_with_nonexistent_volume_id*)"" r=""$r|(?:tempest\.thirdparty\.boto\.test_ec2_instance_run\.InstanceRunTest\.test_run_stop_terminate_instance_with_tags*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_server_addresses_negative\.ServerAddressesNegativeTestJSON*)"" r=""$r|(?:tempest\.api\.volume\.test_volumes_snapshots\.VolumesV1SnapshotTestJSON\.test_snapshot_create_with_volume_in_use*)"" r=""$r|(?:tempest\.cli\.simple_read_only\.compute\.test_nova\.SimpleReadOnlyNovaClientTest\.test_admin_dns_domains*)"" r=""$r|(?:tempest\.api\.compute\.servers\.test_server_rescue_negative\.ServerRescueNegativeTestJSON*)"" r=""$r|(?:tempest\.scenario\.test_encrypted_cinder_volumes\.TestEncryptedCinderVolumes\.test_encrypted_cinder_volumes_cryptsetup*)"" r=""$r|(?:tempest\.scenario\.test_encrypted_cinder_volumes\.TestEncryptedCinderVolumes\.test_encrypted_cinder_volumes_luks*)"" r=""$r|(?:tempest\.scenario\.test_server_advanced_ops\.TestServerAdvancedOps\.test_resize_server_confirm*)"" r=""$r|(?:tempest\.scenario\.test_shelve_instance\.TestShelveInstance\.test_shelve_instance*)"" r=""$r|(?:tempest\.thirdparty\.boto\.test_ec2_network\.EC2NetworkTest\.test_disassociate_not_associated_floating_ip*)"" r=""$r|(?:tempest\.scenario\.test_server_advanced_ops\.TestServerAdvancedOps\.test_server_sequence_suspend_resume*)"" r=""$r|(?:tempest\.scenario\.test_server_basic_ops\.TestServerBasicOps\.test_server_basicops*)"" r=""$r|(?:tempest\.scenario\.test_snapshot_pattern\.TestSnapshotPattern\.test_snapshot_pattern*)""",,75,1
openstack%2Fneutron~master~I2b8254c315131b64bae5c6b0f1668b5815b0dc2a,openstack/neutron,master,I2b8254c315131b64bae5c6b0f1668b5815b0dc2a,Decomposition of Arista ML2 driver,ABANDONED,2014-12-09 21:33:48.000000000,2015-01-23 19:42:40.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6558}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-09 21:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2437a68aaaee8ec5eb4c64916af95b43b4101431', 'message': 'Decomposition of Arista ML2 driver\n\nThe back-end of Arista ML2 driver is split into a newly created\ndirectory (libarist). If this seperation looks good, the code in\nthis new directory will be moved into a seperate repository\n\nChange-Id: I2b8254c315131b64bae5c6b0f1668b5815b0dc2a\n'}, {'number': 2, 'created': '2014-12-09 22:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e8ed1f43419c8801aa92a149686909797cf41cf', 'message': 'Decomposition of Arista ML2 driver\n\nThe back-end of Arista ML2 driver is split into a newly created\ndirectory (libarist). If this seperation looks good, the code in\nthis new directory will be moved into a seperate repository\n\nChange-Id: I2b8254c315131b64bae5c6b0f1668b5815b0dc2a\n'}, {'number': 3, 'created': '2014-12-10 22:52:27.000000000', 'files': ['neutron/plugins/ml2/drivers/arista/libarista/__init__.py', 'neutron/plugins/ml2/drivers/arista/libarista/db_lib.py', 'neutron/plugins/ml2/drivers/arista/mechanism_arista.py', 'neutron/plugins/ml2/drivers/arista/libarista/lib_arista_ml2.py', 'neutron/tests/unit/ml2/drivers/arista/test_arista_mechanism_driver.py', 'neutron/plugins/ml2/drivers/arista/db_models.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b145758593f7e8da95a52adf7fd63a7cca55e998', 'message': 'Decomposition of Arista ML2 driver\n\nThe back-end of Arista ML2 driver is split into a newly created\ndirectory (libarist). If this seperation looks good, the code in\nthis new directory will be moved into a seperate repository\n\nChange-Id: I2b8254c315131b64bae5c6b0f1668b5815b0dc2a\n'}]",0,140484,b145758593f7e8da95a52adf7fd63a7cca55e998,52,20,3,6558,,,0,"Decomposition of Arista ML2 driver

The back-end of Arista ML2 driver is split into a newly created
directory (libarist). If this seperation looks good, the code in
this new directory will be moved into a seperate repository

Change-Id: I2b8254c315131b64bae5c6b0f1668b5815b0dc2a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/84/140484/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/arista/libarista/__init__.py', 'neutron/plugins/ml2/drivers/arista/mechanism_arista.py', 'neutron/plugins/ml2/drivers/arista/libarista/lib_arista_ml2.py']",3,2437a68aaaee8ec5eb4c64916af95b43b4101431,,"# Copyright (c) 2013 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import itertools import threading import jsonrpclib from oslo.config import cfg from neutron.common import constants as n_const from neutron.i18n import _LI, _LW from neutron.openstack.common import log as logging from neutron.plugins.ml2.common import exceptions as ml2_exc from neutron.plugins.ml2 import driver_api from neutron.plugins.ml2.drivers.arista import config # noqa from neutron.plugins.ml2.drivers.arista import db from neutron.plugins.ml2.drivers.arista import exceptions as arista_exc LOG = logging.getLogger(__name__) EOS_UNREACHABLE_MSG = _('Unable to reach EOS') DEFAULT_VLAN = 1 class AristaRPCWrapper(object): """"""Wraps Arista JSON RPC. All communications between Neutron and EOS are over JSON RPC. EOS - operating system used on Arista hardware Command API - JSON RPC API provided by Arista EOS """""" def __init__(self): self._server = jsonrpclib.Server(self._eapi_host_url()) self.keystone_conf = cfg.CONF.keystone_authtoken self.region = cfg.CONF.ml2_arista.region_name self.sync_interval = cfg.CONF.ml2_arista.sync_interval self._region_updated_time = None # The cli_commands dict stores the mapping between the CLI command key # and the actual CLI command. self.cli_commands = {} self.initialize_cli_commands() def _get_exit_mode_cmds(self, modes): """"""Returns a list of 'exit' commands for the modes. :param modes: a list of CLI modes to exit out of. """""" return ['exit'] * len(modes) def initialize_cli_commands(self): self.cli_commands['timestamp'] = [] def check_cli_commands(self): """"""Checks whether the CLI commands are vaild. This method tries to execute the commands on EOS and if it succeedes the command is stored. """""" cmd = ['show openstack config region %s timestamp' % self.region] try: self._run_eos_cmds(cmd) self.cli_commands['timestamp'] = cmd except arista_exc.AristaRpcError: self.cli_commands['timestamp'] = [] LOG.warn(_LW(""'timestamp' command '%s' is not available on EOS""), cmd) def _keystone_url(self): keystone_auth_url = ('%s://%s:%s/v2.0/' % (self.keystone_conf.auth_protocol, self.keystone_conf.auth_host, self.keystone_conf.auth_port)) return keystone_auth_url def get_tenants(self): """"""Returns dict of all tenants known by EOS. :returns: dictionary containing the networks per tenant and VMs allocated per tenant """""" cmds = ['show openstack config region %s' % self.region] command_output = self._run_eos_cmds(cmds) tenants = command_output[0]['tenants'] return tenants def plug_port_into_network(self, vm_id, host_id, port_id, net_id, tenant_id, port_name, device_owner): """"""Genric routine plug a port of a VM instace into network. :param vm_id: globally unique identifier for VM instance :param host: ID of the host where the VM is placed :param port_id: globally unique port ID that connects VM to network :param network_id: globally unique neutron network identifier :param tenant_id: globally unique neutron tenant identifier :param port_name: Name of the port - for display purposes :param device_owner: Device owner - e.g. compute or network:dhcp """""" if device_owner == n_const.DEVICE_OWNER_DHCP: self.plug_dhcp_port_into_network(vm_id, host_id, port_id, net_id, tenant_id, port_name) elif device_owner.startswith('compute'): self.plug_host_into_network(vm_id, host_id, port_id, net_id, tenant_id, port_name) def plug_host_into_network(self, vm_id, host, port_id, network_id, tenant_id, port_name): """"""Creates VLAN between TOR and compute host. :param vm_id: globally unique identifier for VM instance :param host: ID of the host where the VM is placed :param port_id: globally unique port ID that connects VM to network :param network_id: globally unique neutron network identifier :param tenant_id: globally unique neutron tenant identifier :param port_name: Name of the port - for display purposes """""" cmds = ['tenant %s' % tenant_id, 'vm id %s hostid %s' % (vm_id, host)] if port_name: cmds.append('port id %s name ""%s"" network-id %s' % (port_id, port_name, network_id)) else: cmds.append('port id %s network-id %s' % (port_id, network_id)) cmds.append('exit') cmds.append('exit') self._run_openstack_cmds(cmds) def plug_dhcp_port_into_network(self, dhcp_id, host, port_id, network_id, tenant_id, port_name): """"""Creates VLAN between TOR and dhcp host. :param dhcp_id: globally unique identifier for dhcp :param host: ID of the host where the dhcp is hosted :param port_id: globally unique port ID that connects dhcp to network :param network_id: globally unique neutron network identifier :param tenant_id: globally unique neutron tenant identifier :param port_name: Name of the port - for display purposes """""" cmds = ['tenant %s' % tenant_id, 'network id %s' % network_id] if port_name: cmds.append('dhcp id %s hostid %s port-id %s name ""%s""' % (dhcp_id, host, port_id, port_name)) else: cmds.append('dhcp id %s hostid %s port-id %s' % (dhcp_id, host, port_id)) cmds.append('exit') self._run_openstack_cmds(cmds) def unplug_host_from_network(self, vm_id, host, port_id, network_id, tenant_id): """"""Removes previously configured VLAN between TOR and a host. :param vm_id: globally unique identifier for VM instance :param host: ID of the host where the VM is placed :param port_id: globally unique port ID that connects VM to network :param network_id: globally unique neutron network identifier :param tenant_id: globally unique neutron tenant identifier """""" cmds = ['tenant %s' % tenant_id, 'vm id %s hostid %s' % (vm_id, host), 'no port id %s' % port_id, 'exit', 'exit'] self._run_openstack_cmds(cmds) def unplug_dhcp_port_from_network(self, dhcp_id, host, port_id, network_id, tenant_id): """"""Removes previously configured VLAN between TOR and a dhcp host. :param dhcp_id: globally unique identifier for dhcp :param host: ID of the host where the dhcp is hosted :param port_id: globally unique port ID that connects dhcp to network :param network_id: globally unique neutron network identifier :param tenant_id: globally unique neutron tenant identifier """""" cmds = ['tenant %s' % tenant_id, 'network id %s' % network_id, 'no dhcp id %s port-id %s' % (dhcp_id, port_id), 'exit'] self._run_openstack_cmds(cmds) def sync_start(self): """"""Sends indication to EOS that ML2->EOS sync has started."""""" sync_start_cmd = ['sync start'] self._run_openstack_cmds(sync_start_cmd) def sync_end(self): """"""Sends indication to EOS that ML2->EOS sync has completed."""""" sync_end_cmd = ['sync end'] self._run_openstack_cmds(sync_end_cmd) def create_network(self, tenant_id, network): """"""Creates a single network on Arista hardware :param tenant_id: globally unique neutron tenant identifier :param network: dict containing network_id, network_name and segmentation_id """""" self.create_network_bulk(tenant_id, [network]) def create_network_bulk(self, tenant_id, network_list): """"""Creates a network on Arista Hardware :param tenant_id: globally unique neutron tenant identifier :param network_list: list of dicts containing network_id, network_name and segmentation_id """""" cmds = ['tenant %s' % tenant_id] # Create a reference to function to avoid name lookups in the loop append_cmd = cmds.append for network in network_list: try: append_cmd('network id %s name ""%s""' % (network['network_id'], network['network_name'])) except KeyError: append_cmd('network id %s' % network['network_id']) # Enter segment mode without exiting out of network mode if not network['segmentation_id']: network['segmentation_id'] = DEFAULT_VLAN append_cmd('segment 1 type vlan id %d' % network['segmentation_id']) cmds.extend(self._get_exit_mode_cmds(['segment', 'network', 'tenant'])) self._run_openstack_cmds(cmds) def create_network_segments(self, tenant_id, network_id, network_name, segments): """"""Creates a network on Arista Hardware Note: This method is not used at the moment. create_network() is used instead. This will be used once the support for multiple segments is added in Neutron. :param tenant_id: globally unique neutron tenant identifier :param network_id: globally unique neutron network identifier :param network_name: Network name - for display purposes :param segments: List of segments in a given network """""" if segments: cmds = ['tenant %s' % tenant_id, 'network id %s name ""%s""' % (network_id, network_name)] seg_num = 1 for seg in segments: cmds.append('segment %d type %s id %d' % (seg_num, seg['network_type'], seg['segmentation_id'])) seg_num += 1 cmds.append('exit') # exit for segment mode cmds.append('exit') # exit for network mode cmds.append('exit') # exit for tenant mode self._run_openstack_cmds(cmds) def delete_network(self, tenant_id, network_id): """"""Deletes a specified network for a given tenant :param tenant_id: globally unique neutron tenant identifier :param network_id: globally unique neutron network identifier """""" self.delete_network_bulk(tenant_id, [network_id]) def delete_network_bulk(self, tenant_id, network_id_list): """"""Deletes the network ids specified for a tenant :param tenant_id: globally unique neutron tenant identifier :param network_id_list: list of globally unique neutron network identifiers """""" cmds = ['tenant %s' % tenant_id] for network_id in network_id_list: cmds.append('no network id %s' % network_id) cmds.extend(self._get_exit_mode_cmds(['network', 'tenant'])) self._run_openstack_cmds(cmds) def delete_vm(self, tenant_id, vm_id): """"""Deletes a VM from EOS for a given tenant :param tenant_id : globally unique neutron tenant identifier :param vm_id : id of a VM that needs to be deleted. """""" self.delete_vm_bulk(tenant_id, [vm_id]) def delete_vm_bulk(self, tenant_id, vm_id_list): """"""Deletes VMs from EOS for a given tenant :param tenant_id : globally unique neutron tenant identifier :param vm_id_list : ids of VMs that needs to be deleted. """""" cmds = ['tenant %s' % tenant_id] for vm_id in vm_id_list: cmds.append('no vm id %s' % vm_id) cmds.extend(self._get_exit_mode_cmds(['vm', 'tenant'])) self._run_openstack_cmds(cmds) def create_vm_port_bulk(self, tenant_id, vm_port_list, vms): """"""Sends a bulk request to create ports. :param tenant_id: globaly unique neutron tenant identifier :param vm_port_list: list of ports that need to be created. :param vms: list of vms to which the ports will be attached to. """""" cmds = ['tenant %s' % tenant_id] # Create a reference to function to avoid name lookups in the loop append_cmd = cmds.append for port in vm_port_list: try: vm = vms[port['device_id']] except KeyError: LOG.warn(_LW(""VM id %(vmid)s not found for port %(portid)s""), {'vmid': port['device_id'], 'portid': port['id']}) continue port_name = '' if 'name' not in port else 'name ""%s""' % ( port['name'] ) if port['device_owner'] == n_const.DEVICE_OWNER_DHCP: append_cmd('network id %s' % port['network_id']) append_cmd('dhcp id %s hostid %s port-id %s %s' % (vm['vmId'], vm['host'], port['id'], port_name)) elif port['device_owner'].startswith('compute'): append_cmd('vm id %s hostid %s' % (vm['vmId'], vm['host'])) append_cmd('port id %s %s network-id %s' % (port['id'], port_name, port['network_id'])) else: LOG.warn(_LW(""Unknown device owner: %s""), port['device_owner']) continue append_cmd('exit') self._run_openstack_cmds(cmds) def delete_tenant(self, tenant_id): """"""Deletes a given tenant and all its networks and VMs from EOS. :param tenant_id: globally unique neutron tenant identifier """""" self.delete_tenant_bulk([tenant_id]) def delete_tenant_bulk(self, tenant_list): """"""Sends a bulk request to delete the tenants. :param tenant_list: list of globaly unique neutron tenant ids which need to be deleted. """""" cmds = [] for tenant in tenant_list: cmds.append('no tenant %s' % tenant) cmds.append('exit') self._run_openstack_cmds(cmds) def delete_this_region(self): """"""Deleted the region data from EOS."""""" cmds = ['enable', 'configure', 'cvx', 'service openstack', 'no region %s' % self.region, 'exit', 'exit', 'exit'] self._run_eos_cmds(cmds) def register_with_eos(self): """"""This is the registration request with EOS. This the initial handshake between Neutron and EOS. critical end-point information is registered with EOS. """""" cmds = ['auth url %s user %s password %s tenant %s' % ( self._keystone_url(), self.keystone_conf.admin_user, self.keystone_conf.admin_password, self.keystone_conf.admin_tenant_name)] log_cmds = ['auth url %s user %s password %s tenant %s' % ( self._keystone_url(), self.keystone_conf.admin_user, '******', self.keystone_conf.admin_tenant_name)] sync_interval_cmd = 'sync interval %d' % self.sync_interval cmds.append(sync_interval_cmd) log_cmds.append(sync_interval_cmd) self._run_openstack_cmds(cmds, commands_to_log=log_cmds) def clear_region_updated_time(self): """"""Clear the region updated time which forces a resync."""""" self._region_updated_time = None def region_in_sync(self): """"""Check whether EOS is in sync with Neutron."""""" eos_region_updated_times = self.get_region_updated_time() return (self._region_updated_time and (self._region_updated_time['regionTimestamp'] == eos_region_updated_times['regionTimestamp'])) def get_region_updated_time(self): """"""Return the timestamp of the last update. This method returns the time at which any entities in the region were updated. """""" timestamp_cmd = self.cli_commands['timestamp'] if timestamp_cmd: return self._run_eos_cmds(commands=timestamp_cmd)[0] return None def _run_eos_cmds(self, commands, commands_to_log=None): """"""Execute/sends a CAPI (Command API) command to EOS. In this method, list of commands is appended with prefix and postfix commands - to make is understandble by EOS. :param commands : List of command to be executed on EOS. :param commands_to_log : This should be set to the command that is logged. If it is None, then the commands param is logged. """""" log_cmds = commands if commands_to_log: log_cmds = commands_to_log LOG.info(_LI('Executing command on Arista EOS: %s'), log_cmds) try: # this returns array of return values for every command in # full_command list ret = self._server.runCmds(version=1, cmds=commands) except Exception as error: host = cfg.CONF.ml2_arista.eapi_host error_msg_str = unicode(error) if commands_to_log: # The command might contain sensitive information. If the # command to log is different from the actual command, use # that in the error message. for cmd, log_cmd in itertools.izip(commands, log_cmds): error_msg_str = error_msg_str.replace(cmd, log_cmd) msg = (_('Error %(err)s while trying to execute ' 'commands %(cmd)s on EOS %(host)s') % {'err': error_msg_str, 'cmd': commands_to_log, 'host': host}) # Logging exception here can reveal passwords as the exception # contains the CLI command which contains the credentials. LOG.error(msg) raise arista_exc.AristaRpcError(msg=msg) return ret def _build_command(self, cmds): """"""Build full EOS's openstack CLI command. Helper method to add commands to enter and exit from openstack CLI modes. :param cmds: The openstack CLI commands that need to be executed in the openstack config mode. """""" full_command = [ 'enable', 'configure', 'cvx', 'service openstack', 'region %s' % self.region, ] full_command.extend(cmds) full_command.extend(self._get_exit_mode_cmds(['region', 'openstack', 'cvx'])) full_command.extend(self.cli_commands['timestamp']) return full_command def _run_openstack_cmds(self, commands, commands_to_log=None): """"""Execute/sends a CAPI (Command API) command to EOS. In this method, list of commands is appended with prefix and postfix commands - to make is understandble by EOS. :param commands : List of command to be executed on EOS. :param commands_to_logs : This should be set to the command that is logged. If it is None, then the commands param is logged. """""" full_command = self._build_command(commands) if commands_to_log: full_log_command = self._build_command(commands_to_log) else: full_log_command = None ret = self._run_eos_cmds(full_command, full_log_command) # Remove return values for 'configure terminal', # 'service openstack' and 'exit' commands if self.cli_commands['timestamp']: self._region_updated_time = ret[-1] def _eapi_host_url(self): self._validate_config() user = cfg.CONF.ml2_arista.eapi_username pwd = cfg.CONF.ml2_arista.eapi_password host = cfg.CONF.ml2_arista.eapi_host eapi_server_url = ('https://%s:%s@%s/command-api' % (user, pwd, host)) return eapi_server_url def _validate_config(self): if cfg.CONF.ml2_arista.get('eapi_host') == '': msg = _('Required option eapi_host is not set') LOG.error(msg) raise arista_exc.AristaConfigError(msg=msg) if cfg.CONF.ml2_arista.get('eapi_username') == '': msg = _('Required option eapi_username is not set') LOG.error(msg) raise arista_exc.AristaConfigError(msg=msg) class SyncService(object): """"""Synchronization of information between Neutron and EOS Periodically (through configuration option), this service ensures that Networks and VMs configured on EOS/Arista HW are always in sync with Neutron DB. """""" def __init__(self, rpc_wrapper, neutron_db): self._rpc = rpc_wrapper self._ndb = neutron_db self._force_sync = True def do_synchronize(self): try: # Send trigger to EOS that the ML2->EOS sync has started. self._rpc.sync_start() LOG.info(_LI('Sync start trigger sent to EOS')) except arista_exc.AristaRpcError: LOG.warning(EOS_UNREACHABLE_MSG) return # Perform the sync self.synchronize() try: # Send trigger to EOS that the ML2->EOS sync is Complete. self._rpc.sync_end() except arista_exc.AristaRpcError: LOG.warning(EOS_UNREACHABLE_MSG) def synchronize(self): """"""Sends data to EOS which differs from neutron DB."""""" LOG.info(_LI('Syncing Neutron <-> EOS')) try: # Get the time at which entities in the region were updated. # If the times match, then ML2 is in sync with EOS. Otherwise # perform a complete sync. if not self._force_sync and self._rpc.region_in_sync(): LOG.info(_LI('OpenStack and EOS are in sync!')) return except arista_exc.AristaRpcError: LOG.warning(EOS_UNREACHABLE_MSG) self._force_sync = True return try: #Always register with EOS to ensure that it has correct credentials self._rpc.register_with_eos() eos_tenants = self._rpc.get_tenants() except arista_exc.AristaRpcError: LOG.warning(EOS_UNREACHABLE_MSG) self._force_sync = True return db_tenants = db.get_tenants() if not db_tenants and eos_tenants: # No tenants configured in Neutron. Clear all EOS state try: self._rpc.delete_this_region() LOG.info(_LI('No Tenants configured in Neutron DB. But %d ' 'tenants discovered in EOS during ' 'synchronization. Entire EOS region is cleared'), len(eos_tenants)) # Re-register with EOS so that the timestamp is updated. self._rpc.register_with_eos() # Region has been completely cleaned. So there is nothing to # synchronize self._force_sync = False except arista_exc.AristaRpcError: LOG.warning(EOS_UNREACHABLE_MSG) self._force_sync = True return # Delete tenants that are in EOS, but not in the database tenants_to_delete = frozenset(eos_tenants.keys()).difference( db_tenants.keys()) if tenants_to_delete: try: self._rpc.delete_tenant_bulk(tenants_to_delete) except arista_exc.AristaRpcError: LOG.warning(EOS_UNREACHABLE_MSG) self._force_sync = True return # None of the commands have failed till now. But if subsequent # operations fail, then force_sync is set to true self._force_sync = False for tenant in db_tenants: db_nets = db.get_networks(tenant) db_vms = db.get_vms(tenant) eos_nets = self._get_eos_networks(eos_tenants, tenant) eos_vms = self._get_eos_vms(eos_tenants, tenant) db_nets_key_set = frozenset(db_nets.keys()) db_vms_key_set = frozenset(db_vms.keys()) eos_nets_key_set = frozenset(eos_nets.keys()) eos_vms_key_set = frozenset(eos_vms.keys()) # Find the networks that are present on EOS, but not in Neutron DB nets_to_delete = eos_nets_key_set.difference(db_nets_key_set) # Find the VMs that are present on EOS, but not in Neutron DB vms_to_delete = eos_vms_key_set.difference(db_vms_key_set) # Find the Networks that are present in Neutron DB, but not on EOS nets_to_update = db_nets_key_set.difference(eos_nets_key_set) # Find the VMs that are present in Neutron DB, but not on EOS vms_to_update = db_vms_key_set.difference(eos_vms_key_set) try: if vms_to_delete: self._rpc.delete_vm_bulk(tenant, vms_to_delete) if nets_to_delete: self._rpc.delete_network_bulk(tenant, nets_to_delete) if nets_to_update: # Create a dict of networks keyed by id. neutron_nets = dict( (network['id'], network) for network in self._ndb.get_all_networks_for_tenant(tenant) ) networks = [ {'network_id': net_id, 'segmentation_id': db_nets[net_id]['segmentationTypeId'], 'network_name': neutron_nets.get(net_id, {'name': ''})['name'], } for net_id in nets_to_update ] self._rpc.create_network_bulk(tenant, networks) if vms_to_update: # Filter the ports to only the vms that we are interested # in. vm_ports = [ port for port in self._ndb.get_all_ports_for_tenant( tenant) if port['device_id'] in vms_to_update ] self._rpc.create_vm_port_bulk(tenant, vm_ports, db_vms) except arista_exc.AristaRpcError: LOG.warning(EOS_UNREACHABLE_MSG) self._force_sync = True def _get_eos_networks(self, eos_tenants, tenant): networks = {} if eos_tenants and tenant in eos_tenants: networks = eos_tenants[tenant]['tenantNetworks'] return networks def _get_eos_vms(self, eos_tenants, tenant): vms = {} if eos_tenants and tenant in eos_tenants: vms = eos_tenants[tenant]['tenantVmInstances'] return vms ",,714,674
openstack%2Fproject-config~master~Iad0b0a74a817f239870b866f6dd28b892139bdd1,openstack/project-config,master,Iad0b0a74a817f239870b866f6dd28b892139bdd1,Adds docs publish jobs for tuskar projects,MERGED,2015-01-16 16:28:27.000000000,2015-01-23 19:42:36.000000000,2015-01-23 19:42:34.000000000,"[{'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 5263}, {'_account_id': 6133}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 8041}]","[{'number': 1, 'created': '2015-01-16 16:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f87644482b9e0d9305ed816676e5cc8921fe5814', 'message': 'Adds docs publish jobs for tuskar and tuskarclient\n\nChange-Id: Iad0b0a74a817f239870b866f6dd28b892139bdd1\n'}, {'number': 2, 'created': '2015-01-16 16:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/cb806a76e957fb1a24d92cb70f339531439a9aa1', 'message': 'Adds docs publish jobs for tuskar projects\n\nChange-Id: Iad0b0a74a817f239870b866f6dd28b892139bdd1\n'}, {'number': 3, 'created': '2015-01-16 16:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9cdc58c9a6df1bac0f5b3ecdc6b758e04afc9681', 'message': 'Adds docs publish jobs for tuskar projects\n\nChange-Id: Iad0b0a74a817f239870b866f6dd28b892139bdd1\n'}, {'number': 4, 'created': '2015-01-18 15:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/758bb4bec8a515567d09fef2f3fb13b2e266829b', 'message': 'Adds docs publish jobs for tuskar projects\n\nChange-Id: Iad0b0a74a817f239870b866f6dd28b892139bdd1\n'}, {'number': 5, 'created': '2015-01-18 15:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1fe328bb78656b18a90b9caf9f93c138a8f18d67', 'message': 'Adds docs publish jobs for tuskar projects\n\nChange-Id: Iad0b0a74a817f239870b866f6dd28b892139bdd1\n'}, {'number': 6, 'created': '2015-01-23 14:02:28.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b417ccaf9744155bd7d03ce786d7273e0873c8c8', 'message': 'Adds docs publish jobs for tuskar projects\n\nChange-Id: Iad0b0a74a817f239870b866f6dd28b892139bdd1\n'}]",0,147909,b417ccaf9744155bd7d03ce786d7273e0873c8c8,21,7,6,8041,,,0,"Adds docs publish jobs for tuskar projects

Change-Id: Iad0b0a74a817f239870b866f6dd28b892139bdd1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/09/147909/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,f87644482b9e0d9305ed816676e5cc8921fe5814,tuskar-docs-publish-jobs, - name: openstack-server-publish-jobs - name: openstack-client-publish-jobs,,2,0
openstack%2Fproject-config~master~I3d70421a3f399e4a1a834ba7419bc2210e5a1b70,openstack/project-config,master,I3d70421a3f399e4a1a834ba7419bc2210e5a1b70,Stackforge project for Brocade MechDrivers and ServicePlugins,MERGED,2015-01-16 21:02:19.000000000,2015-01-23 19:34:11.000000000,2015-01-23 19:34:10.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5217}, {'_account_id': 5263}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-01-16 21:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fd4a7b8c897338e72233fd2c6169643811234021', 'message': 'New stackforge project for Brocade Vendor Mech-Drivers and ServicePlugins\n\nChange-Id: I3d70421a3f399e4a1a834ba7419bc2210e5a1b70\n'}, {'number': 2, 'created': '2015-01-21 22:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/822410b438f81f6ddc2c0c29fd0b6f6394124f74', 'message': 'New stackforge project for Brocade Vendor Mech-Drivers and ServicePlugins\n\nChange-Id: I3d70421a3f399e4a1a834ba7419bc2210e5a1b70\n'}, {'number': 3, 'created': '2015-01-21 22:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/457f8d3e13e89961adb1a87d5c1d8afb5ffc7e18', 'message': 'New stackforge project for Brocade Vendor Mech-Drivers and ServicePlugins\n\nChange-Id: I3d70421a3f399e4a1a834ba7419bc2210e5a1b70\n'}, {'number': 4, 'created': '2015-01-21 23:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/38202964bfe8b43caefa9be836d9887fa16086d8', 'message': 'New stackforge project for Brocade Vendor Mech-Drivers and ServicePlugins\n\nChange-Id: I3d70421a3f399e4a1a834ba7419bc2210e5a1b70\n'}, {'number': 5, 'created': '2015-01-21 23:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/13530e23b0a3b5a9041fcc63f655a07f79ff3be6', 'message': 'Stackforge project for Brocade MechDrivers and ServicePlugins\n\nChange-Id: I3d70421a3f399e4a1a834ba7419bc2210e5a1b70\n'}, {'number': 6, 'created': '2015-01-21 23:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/080cf8db69f3d82b7e6210987ddbe3af565a69e8', 'message': 'Stackforge project for Brocade MechDrivers and ServicePlugins\n\nChange-Id: I3d70421a3f399e4a1a834ba7419bc2210e5a1b70\n'}, {'number': 7, 'created': '2015-01-22 18:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0883cdf221bf9a7b3b1005037cb28f3d5ca78110', 'message': 'Stackforge project for Brocade MechDrivers and ServicePlugins\n\nChange-Id: I3d70421a3f399e4a1a834ba7419bc2210e5a1b70\n'}, {'number': 8, 'created': '2015-01-22 19:38:08.000000000', 'files': ['jenkins/jobs/projects.yaml', 'gerrit/acls/stackforge/networking-brocade.config', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3dbbe75304db182c4cef31e765070fc4cabda7b5', 'message': 'Stackforge project for Brocade MechDrivers and ServicePlugins\n\nChange-Id: I3d70421a3f399e4a1a834ba7419bc2210e5a1b70\n'}]",2,147990,3dbbe75304db182c4cef31e765070fc4cabda7b5,39,5,8,5217,,,0,"Stackforge project for Brocade MechDrivers and ServicePlugins

Change-Id: I3d70421a3f399e4a1a834ba7419bc2210e5a1b70
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/147990/8 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'gerrit/acls/stackforge/networking-brocade.config', 'gerrit/projects.yaml', 'zuul/layout.yaml']",4,fd4a7b8c897338e72233fd2c6169643811234021,new-project, - name: stackforge/networking-brocade template: - name: merge-check - name: python-jobs ,,29,0
openstack%2Fmonasca-thresh~master~I77adfb2b5e328f29e701b8d29c5b4319617d2ecb,openstack/monasca-thresh,master,I77adfb2b5e328f29e701b8d29c5b4319617d2ecb,Fix init script so it compatible with newer systemd versions,MERGED,2015-01-23 18:39:38.000000000,2015-01-23 19:27:30.000000000,2015-01-23 19:27:29.000000000,"[{'_account_id': 3}, {'_account_id': 11094}]","[{'number': 1, 'created': '2015-01-23 18:39:38.000000000', 'files': ['thresh/src/deb/init/monasca-thresh'], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/d1debf628bef885700cf955e306239d3a16a8fd4', 'message': 'Fix init script so it compatible with newer systemd versions\n\nChange-Id: I77adfb2b5e328f29e701b8d29c5b4319617d2ecb\n'}]",0,149702,d1debf628bef885700cf955e306239d3a16a8fd4,6,2,1,11809,,,0,"Fix init script so it compatible with newer systemd versions

Change-Id: I77adfb2b5e328f29e701b8d29c5b4319617d2ecb
",git fetch https://review.opendev.org/openstack/monasca-thresh refs/changes/02/149702/1 && git format-patch -1 --stdout FETCH_HEAD,['thresh/src/deb/init/monasca-thresh'],1,d1debf628bef885700cf955e306239d3a16a8fd4,,#!/bin/bash ### BEGIN INIT INFO # Provides: monasca-thresh # Required-Start: $nimbus # Required-Stop: # Default-Start: 2 3 4 5 # Default-Stop: # Short-Description: Monitoring threshold engine running under storm # Description: ### END INIT INFO,#! /bin/bash #### BEGIN INIT INFO ## Provides: monasca-thresh ## Required-Start: $nimbus ## Required-Stop: ## Default-Start: 2 3 4 5 ## Default-Stop: ## Short-Description: Monitoring threshold engine running under storm ## Description: #### END INIT INFO,10,10
openstack%2Fopenstacksdk~master~I9ef9fdb48f922b1fd95fafe0286de8f901b142a7,openstack/openstacksdk,master,I9ef9fdb48f922b1fd95fafe0286de8f901b142a7,Get rid of some useless code,MERGED,2015-01-23 19:07:35.000000000,2015-01-23 19:22:41.000000000,2015-01-23 19:22:40.000000000,"[{'_account_id': 3}, {'_account_id': 8257}]","[{'number': 1, 'created': '2015-01-23 19:07:35.000000000', 'files': ['examples/common.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/763c7418601815e11ddbccfb7951e6c6b54563f6', 'message': 'Get rid of some useless code\n\nFor some reason this argument parsing code in examples had\na useless if statement.\n\nChange-Id: I9ef9fdb48f922b1fd95fafe0286de8f901b142a7\n'}]",0,149724,763c7418601815e11ddbccfb7951e6c6b54563f6,6,2,1,8736,,,0,"Get rid of some useless code

For some reason this argument parsing code in examples had
a useless if statement.

Change-Id: I9ef9fdb48f922b1fd95fafe0286de8f901b142a7
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/24/149724/1 && git format-patch -1 --stdout FETCH_HEAD,['examples/common.py'],1,763c7418601815e11ddbccfb7951e6c6b54563f6,getridofjunk," if '=' in kvp: service, value = kvp.split('=') else: service = cls.pref.ALL value = kvp"," if var == 'region': if '=' in kvp: service, value = kvp.split('=') else: service = cls.pref.ALL value = kvp else: if '=' in kvp: service, value = kvp.split('=') else: service = cls.pref.ALL value = kvp",4,11
openstack%2Fopenstack-ansible~juno~Ie15f96ef22ff18fa3b4bc145174d6ce21e9fd69a,openstack/openstack-ansible,juno,Ie15f96ef22ff18fa3b4bc145174d6ce21e9fd69a,Add swift_all inventory to swift-common play,MERGED,2015-01-23 15:56:29.000000000,2015-01-23 19:13:17.000000000,2015-01-23 16:54:48.000000000,"[{'_account_id': 3}, {'_account_id': 7307}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-23 15:56:29.000000000', 'files': ['rpc_deployment/playbooks/openstack/swift-common.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/acba277c7cffc9ecb571d8f9a99d5d82c1e48f4b', 'message': 'Add swift_all inventory to swift-common play\n\nThis patch adds the swift_all inventory to the swift-common play to\nensure that the correct service name is used when the play tries to\ninstall the openstack software. Without including the inventory a\ndifferent service name is used when the software installation is\nexecuted, resulting in the play attempting to install neutron instead.\n\nChange-Id: Ie15f96ef22ff18fa3b4bc145174d6ce21e9fd69a\nCloses-Bug: #1402582\n(cherry picked from commit 1378ecf66950006b50640827c512a03b90010c72)\n'}]",0,149664,acba277c7cffc9ecb571d8f9a99d5d82c1e48f4b,7,4,1,6816,,,0,"Add swift_all inventory to swift-common play

This patch adds the swift_all inventory to the swift-common play to
ensure that the correct service name is used when the play tries to
install the openstack software. Without including the inventory a
different service name is used when the software installation is
executed, resulting in the play attempting to install neutron instead.

Change-Id: Ie15f96ef22ff18fa3b4bc145174d6ce21e9fd69a
Closes-Bug: #1402582
(cherry picked from commit 1378ecf66950006b50640827c512a03b90010c72)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/64/149664/1 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/playbooks/openstack/swift-common.yml'],1,acba277c7cffc9ecb571d8f9a99d5d82c1e48f4b,, - inventory/group_vars/swift_all.yml,,1,0
openstack%2Fproject-config~master~Icd8af32b47c04ae207471007435c1dac45471a18,openstack/project-config,master,Icd8af32b47c04ae207471007435c1dac45471a18,Properly publish specs pages to top-level,MERGED,2015-01-21 19:10:16.000000000,2015-01-23 19:09:16.000000000,2015-01-23 19:09:15.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 6609}]","[{'number': 1, 'created': '2015-01-21 19:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/94e894351e819f7c68e84ff3880df055d927cbea', 'message': 'Properly publish specs pages to top-level\n\nThe content is generated in specs/output and we need to publish it\ndirectly in the specs directory. Move files around so that we can\npublish to it since the scp publisher does not allow removal of paths.\n\nChange-Id: Icd8af32b47c04ae207471007435c1dac45471a18\n'}, {'number': 2, 'created': '2015-01-22 20:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a108d8716e7c29ca35a794b981df1df3ce0d53b1', 'message': 'Properly publish specs pages to top-level\n\nThe content is generated in specs/output and we need to publish it\ndirectly in the specs directory. Move files around so that we can\npublish to it since the scp publisher does not allow removal of\npaths.\n\nChange-Id: Icd8af32b47c04ae207471007435c1dac45471a18\nCo-Authored-By: Andreas Jaeger <aj@suse.de>\n'}, {'number': 3, 'created': '2015-01-22 20:51:31.000000000', 'files': ['jenkins/jobs/static-publish-jobs.yaml', 'jenkins/jobs/macros.yaml', 'jenkins/jobs/specs-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1aec2939d0c19ff22f27bdecea547cc2da034f0b', 'message': 'Properly publish specs pages to top-level\n\nThe content is generated in specs/output and we need to publish it\ndirectly in the specs directory. Move files around so that we can\npublish to it since the scp publisher does not allow removal of paths.\n\nChange-Id: Icd8af32b47c04ae207471007435c1dac45471a18\n'}]",4,149026,1aec2939d0c19ff22f27bdecea547cc2da034f0b,15,4,3,6547,,,0,"Properly publish specs pages to top-level

The content is generated in specs/output and we need to publish it
directly in the specs directory. Move files around so that we can
publish to it since the scp publisher does not allow removal of paths.

Change-Id: Icd8af32b47c04ae207471007435c1dac45471a18
",git fetch https://review.opendev.org/openstack/project-config refs/changes/26/149026/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/specs-jobs.yaml'],1,94e894351e819f7c68e84ff3880df055d927cbea,specs-publishing-patch1," # We want to publish to the top-level but the scp publisher cannot # remove paths, so use a shell builder to move the content in the # right place and publish from there. - shell: | #!/bin/bash -xe rm -rf ,html mv specs/output ,html rm -rf .[^.]* [^,]* mv ,html/.[^.]* ,html/* ./ rm -r ,html source: '**'", source: 'specs/output/**',13,1
openstack%2Ftaskflow~master~I6f6c6e39c3b10b436244b32fb56deceb8ad5da41,openstack/taskflow,master,I6f6c6e39c3b10b436244b32fb56deceb8ad5da41,Warn when eventlet is being used and certain modules are not patched,ABANDONED,2015-01-23 01:29:50.000000000,2015-01-23 18:58:44.000000000,,"[{'_account_id': 3}, {'_account_id': 10584}]","[{'number': 1, 'created': '2015-01-23 01:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/a782f8ef909f2e9d8a35e3fa12cf3b50e558cd3a', 'message': ""Warn when eventlet is being used and certain modules are not patched\n\nWhen greenthreads are being used (and/or eventlet is available and\nsome modules have been monkey patched) emit warnings to the users\nof engines (which is pretty much everyone) that certain modules should\nbe monkey-patched and if they are not then spurious or unexpected\nlock-ups and/or hangs may result due to this type of mixed usage which\ndoesn't typically end well.\n\nChange-Id: I6f6c6e39c3b10b436244b32fb56deceb8ad5da41\n""}, {'number': 2, 'created': '2015-01-23 01:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/87635ecdd4651dad33135b50cf868f1f904d3d75', 'message': ""Warn when eventlet is being used and certain modules are not patched\n\nWhen greenthreads are being used (and/or eventlet is available and\nsome modules have been monkey patched) emit warnings to the users\nof engines (which is pretty much everyone) that certain modules should\nbe monkey-patched and if they are not then spurious or unexpected\nlock-ups and/or hangs may result due to this type of mixed usage which\ndoesn't typically end well.\n\nChange-Id: I6f6c6e39c3b10b436244b32fb56deceb8ad5da41\n""}, {'number': 3, 'created': '2015-01-23 01:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/983374642be89fab8064d431f4bdaedd983089dc', 'message': ""Warn when eventlet is being used and certain modules are not patched\n\nWhen greenthreads are being used (and/or eventlet is available and\nsome modules have been monkey patched) emit warnings to the users\nof engines (which is pretty much everyone) that certain modules should\nbe monkey-patched and if they are not then spurious or unexpected\nlock-ups and/or hangs may result due to this type of mixed usage which\ndoesn't typically end well.\n\nChange-Id: I6f6c6e39c3b10b436244b32fb56deceb8ad5da41\n""}, {'number': 4, 'created': '2015-01-23 01:49:51.000000000', 'files': ['taskflow/utils/eventlet_utils.py', 'taskflow/engines/__init__.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/587e27b1f5cf9cb2bc929f446805547a4d50b289', 'message': ""Warn when eventlet is being used and certain modules are not patched\n\nWhen greenthreads are being used (and/or eventlet is available and\nsome modules have been monkey-patched) emit warnings to the users\nof engines (which is pretty much everyone) that certain modules should\nbe monkey-patched and if they are not then spurious or unexpected\nlock-ups and/or hangs may result due to this type of mixed usage which\ndoesn't typically end well.\n\nChange-Id: I6f6c6e39c3b10b436244b32fb56deceb8ad5da41\n""}]",0,149452,587e27b1f5cf9cb2bc929f446805547a4d50b289,6,2,4,1297,,,0,"Warn when eventlet is being used and certain modules are not patched

When greenthreads are being used (and/or eventlet is available and
some modules have been monkey-patched) emit warnings to the users
of engines (which is pretty much everyone) that certain modules should
be monkey-patched and if they are not then spurious or unexpected
lock-ups and/or hangs may result due to this type of mixed usage which
doesn't typically end well.

Change-Id: I6f6c6e39c3b10b436244b32fb56deceb8ad5da41
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/52/149452/3 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/utils/eventlet_utils.py', 'taskflow/engines/__init__.py']",2,a782f8ef909f2e9d8a35e3fa12cf3b50e558cd3a,,"# Promote helpers to this module namespace (for easy access).from taskflow.utils import eventlet_utils as _eventlet_utils # Since this library uses native threads and native time for various purposes # mixing non-patched threads/time calls with greenthreads typically doesn't # end well... _eventlet_utils.warn_eventlet_not_patched(['time', 'thread'])", # promote helpers to this module namespace,46,7
openstack%2Fpython-novaclient~master~I07688edd374ac6588fc6d120d612dea71cfa9b8c,openstack/python-novaclient,master,I07688edd374ac6588fc6d120d612dea71cfa9b8c,Updated from global requirements,MERGED,2015-01-23 04:38:22.000000000,2015-01-23 18:57:22.000000000,2015-01-23 18:57:21.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1849}]","[{'number': 1, 'created': '2015-01-23 04:38:22.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/fbad274c9db4a573d437b5e0852250b7b2e9dc9c', 'message': 'Updated from global requirements\n\nChange-Id: I07688edd374ac6588fc6d120d612dea71cfa9b8c\n'}]",0,149487,fbad274c9db4a573d437b5e0852250b7b2e9dc9c,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I07688edd374ac6588fc6d120d612dea71cfa9b8c
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/87/149487/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,fbad274c9db4a573d437b5e0852250b7b2e9dc9c,openstack/requirements,oslo.i18n>=1.3.0 # Apache-2.0,oslo.i18n>=1.0.0 # Apache-2.0,1,1
openstack%2Frally~master~I9df462cbf770cfeeb19c27ca683826aba7b01c54,openstack/rally,master,I9df462cbf770cfeeb19c27ca683826aba7b01c54,"Replace ' with "" in rally/common",MERGED,2015-01-23 11:34:35.000000000,2015-01-23 18:54:47.000000000,2015-01-23 18:54:43.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 8507}, {'_account_id': 14135}]","[{'number': 1, 'created': '2015-01-23 11:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7c431db161cec2046525edf22ad4fe17f1594666', 'message': 'Replace \' with "" in rally/common\n\nPartial bug: 1405884\n\nChange-Id: I9df462cbf770cfeeb19c27ca683826aba7b01c54\n'}, {'number': 2, 'created': '2015-01-23 15:28:05.000000000', 'files': ['rally/common/fileutils.py', 'rally/common/sshutils.py', 'rally/common/i18n.py', 'rally/common/version.py', 'rally/common/utils.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/541b7967fc949357c5485bb80f1ead317869631c', 'message': 'Replace \' with "" in rally/common\n\nPartial bug: 1405884\n\nChange-Id: I9df462cbf770cfeeb19c27ca683826aba7b01c54\n'}]",0,149584,541b7967fc949357c5485bb80f1ead317869631c,13,4,2,14598,,,0,"Replace ' with "" in rally/common

Partial bug: 1405884

Change-Id: I9df462cbf770cfeeb19c27ca683826aba7b01c54
",git fetch https://review.opendev.org/openstack/rally refs/changes/84/149584/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/common/fileutils.py', 'rally/common/sshutils.py', 'rally/common/i18n.py', 'rally/common/version.py', 'rally/common/utils.py']",5,7c431db161cec2046525edf22ad4fe17f1594666,bug/1405884," if not k.startswith(""_""): raise TypeError(_(""itersubclasses must be called with "" ""new-style classes, not %.100r"") % cls) path = [os.path.dirname(rally.__file__), ""..""] + package.split(""."") if filename.startswith(""__"") or not filename.endswith("".py""): module_name = ""%s.%s"" % (new_package, filename[:-3]) :param obj: task or deployment which must be attribute of ""self"" return _log_wrapper(""task"", log, msg, **kw) return _log_wrapper(""deployment"", log, msg, **kw) return _log_wrapper(""verification"", log, msg, **kw)"," if not k.startswith('_'): raise TypeError(_('itersubclasses must be called with ' 'new-style classes, not %.100r') % cls) path = [os.path.dirname(rally.__file__), '..'] + package.split('.') if filename.startswith('__') or not filename.endswith('.py'): module_name = '%s.%s' % (new_package, filename[:-3]) :param obj: task or deployment which must be attribute of 'self' return _log_wrapper('task', log, msg, **kw) return _log_wrapper('deployment', log, msg, **kw) return _log_wrapper('verification', log, msg, **kw)",39,39
openstack%2Fcinder~master~I1555744fbf80771455ebd9f9095e8f9ddc7d16e7,openstack/cinder,master,I1555744fbf80771455ebd9f9095e8f9ddc7d16e7,Fix cinder-manage shell ipython,MERGED,2015-01-22 06:03:38.000000000,2015-01-23 18:54:19.000000000,2015-01-22 21:33:11.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 8587}, {'_account_id': 9751}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 13636}]","[{'number': 1, 'created': '2015-01-22 06:03:38.000000000', 'files': ['cinder/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f5e35bfbced1f4109b2d03b96f035b4a3fe7ccc9', 'message': 'Fix cinder-manage shell ipython\n\nIPython current stable version is 2.3.1, and the code\nin cinder-manage is only work for IPython < 0.11. The\npatch make it work for IPython 2.3.1.\n\nChange-Id: I1555744fbf80771455ebd9f9095e8f9ddc7d16e7\nCloses-Bug: #1413485\n'}]",0,149155,f5e35bfbced1f4109b2d03b96f035b4a3fe7ccc9,18,14,1,1678,,,0,"Fix cinder-manage shell ipython

IPython current stable version is 2.3.1, and the code
in cinder-manage is only work for IPython < 0.11. The
patch make it work for IPython 2.3.1.

Change-Id: I1555744fbf80771455ebd9f9095e8f9ddc7d16e7
Closes-Bug: #1413485
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/149155/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/cmd/manage.py'],1,f5e35bfbced1f4109b2d03b96f035b4a3fe7ccc9,bug/1413485," from IPython import embed embed() except ImportError: try: # Ipython < 0.11 # Explicitly pass an empty list as arguments, because # otherwise IPython would use sys.argv from this script. import IPython shell = IPython.Shell.IPShell(argv=[]) shell.mainloop() except ImportError: # no IPython module shell = 'python'"," import IPython # Explicitly pass an empty list as arguments, because # otherwise IPython would use sys.argv from this script. shell = IPython.Shell.IPShell(argv=[]) shell.mainloop() except ImportError: shell = 'python'",13,6
openstack%2Fmanila~master~Ibaffdd9712cd5363b09718c3113c5cb68ebd1cbe,openstack/manila,master,Ibaffdd9712cd5363b09718c3113c5cb68ebd1cbe,Port cinder EMS and ASUP support to manila,MERGED,2015-01-08 22:42:20.000000000,2015-01-23 18:50:50.000000000,2015-01-23 18:50:50.000000000,"[{'_account_id': 3}, {'_account_id': 428}, {'_account_id': 2417}, {'_account_id': 7102}, {'_account_id': 8851}, {'_account_id': 9003}, {'_account_id': 9186}, {'_account_id': 11878}, {'_account_id': 14232}]","[{'number': 1, 'created': '2015-01-08 22:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5005de52118aea2085441c62d4cdcaed433c5b9e', 'message': 'Port cinder EMS and ASUP support to manila\n\nIn Cinder, NetApp drivers collect useful information about\ndeployments - release, version, distribution, etc. -- and\npost it to Event Management System (EMS) logs on backend\nfilers, where it can then be used for NetApp AutoSupport\n(ASUP).  This commit ports this code to Manila NetApp\ndrivers.\n\nChange-Id: Ibaffdd9712cd5363b09718c3113c5cb68ebd1cbe\nImplements: bp/netapp-asup-support\n'}, {'number': 2, 'created': '2015-01-09 16:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/cbfca414d9b955a946c9d9ebfd26082155f16d35', 'message': 'Port cinder EMS and ASUP support to manila\n\nIn Cinder, NetApp drivers collect useful information about\ndeployments - release, version, distribution, etc. -- and\npost it to Event Management System (EMS) logs on backend\nfilers, where it can then be used for NetApp AutoSupport\n(ASUP).  This commit ports this code to Manila NetApp\ndrivers.\n\nChange-Id: Ibaffdd9712cd5363b09718c3113c5cb68ebd1cbe\nImplements: bp/netapp-asup-support\n'}, {'number': 3, 'created': '2015-01-13 19:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2480dc812895fbed72d2c01809ec7974365cfcfc', 'message': 'Port cinder EMS and ASUP support to manila\n\nIn Cinder, NetApp drivers collect useful information about\ndeployments - release, version, distribution, etc. -- and\npost it to Event Management System (EMS) logs on backend\nfilers, where it can then be used for NetApp AutoSupport\n(ASUP).  This commit ports this code to Manila NetApp\ndrivers.\n\nChange-Id: Ibaffdd9712cd5363b09718c3113c5cb68ebd1cbe\nImplements: bp/netapp-asup-support\n'}, {'number': 4, 'created': '2015-01-23 16:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/58251fb30fc0de0c515fece66c0e18f3fdb412fd', 'message': 'Port cinder EMS and ASUP support to manila\n\nIn Cinder, NetApp drivers collect useful information about\ndeployments - release, version, distribution, etc. -- and\npost it to Event Management System (EMS) logs on backend\nfilers, where it can then be used for NetApp AutoSupport\n(ASUP).  This commit ports this code to Manila NetApp\ndrivers.\n\nImplements: bp/netapp-asup-support\nChange-Id: Ibaffdd9712cd5363b09718c3113c5cb68ebd1cbe\n'}, {'number': 5, 'created': '2015-01-23 17:48:13.000000000', 'files': ['manila/share/drivers/netapp/cluster_mode.py', 'manila/share/drivers/netapp/utils.py', 'manila/tests/share/drivers/netapp/test_cluster_mode.py', 'manila/tests/share/drivers/netapp/test_utils.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/7651b002c21b2732e3da416de18781e34d97bfe8', 'message': 'Port cinder EMS and ASUP support to manila\n\nIn Cinder, NetApp drivers collect useful information about\ndeployments - release, version, distribution, etc. -- and\npost it to Event Management System (EMS) logs on backend\nfilers, where it can then be used for NetApp AutoSupport\n(ASUP).  This commit ports this code to Manila NetApp\ndrivers.\n\nImplements blueprint: netapp-asup-support\nChange-Id: Ibaffdd9712cd5363b09718c3113c5cb68ebd1cbe\n'}]",22,145953,7651b002c21b2732e3da416de18781e34d97bfe8,42,9,5,9003,,,0,"Port cinder EMS and ASUP support to manila

In Cinder, NetApp drivers collect useful information about
deployments - release, version, distribution, etc. -- and
post it to Event Management System (EMS) logs on backend
filers, where it can then be used for NetApp AutoSupport
(ASUP).  This commit ports this code to Manila NetApp
drivers.

Implements blueprint: netapp-asup-support
Change-Id: Ibaffdd9712cd5363b09718c3113c5cb68ebd1cbe
",git fetch https://review.opendev.org/openstack/manila refs/changes/53/145953/3 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/cluster_mode.py', 'manila/share/drivers/netapp/utils.py', 'manila/tests/share/drivers/netapp/test_cluster_mode.py', 'manila/tests/share/drivers/netapp/test_utils.py']",4,5005de52118aea2085441c62d4cdcaed433c5b9e,bp/netapp-asup-support,"# Copyright 2014 Tom Barron. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import platform import mock from oslo.concurrency import processutils as putils from manila.share.drivers.netapp import utils as na_utils from manila import test from manila import version class OpenstackInfoTestCase(test.TestCase): UNKNOWN_VERSION = 'unknown version' UNKNOWN_RELEASE = 'unknown release' UNKNOWN_VENDOR = 'unknown vendor' UNKNOWN_PLATFORM = 'unknown platform' VERSION_STRING_RET_VAL = 'fake_version_1' RELEASE_STRING_RET_VAL = 'fake_release_1' PLATFORM_RET_VAL = 'fake_platform_1' VERSION_INFO_VERSION = 'fake_version_2' VERSION_INFO_RELEASE = 'fake_release_2' RPM_INFO_VERSION = 'fake_version_3' RPM_INFO_RELEASE = 'fake_release_3' RPM_INFO_VENDOR = 'fake vendor 3' PUTILS_RPM_RET_VAL = ('fake_version_3 fake_release_3 fake vendor 3', '') NO_PKG_FOUND = ('', 'whatever') PUTILS_DPKG_RET_VAL = ('epoch:upstream_version-debian_revision', '') DEB_RLS = 'upstream_version-debian_revision' DEB_VENDOR = 'debian_revision' def setUp(self): super(OpenstackInfoTestCase, self).setUp() def test_openstack_info_init(self): info = na_utils.OpenStackInfo() self.assertEqual(self.UNKNOWN_VERSION, info._version) self.assertEqual(self.UNKNOWN_RELEASE, info._release) self.assertEqual(self.UNKNOWN_VENDOR, info._vendor) self.assertEqual(self.UNKNOWN_PLATFORM, info._platform) @mock.patch.object(version.version_info, 'version_string', mock.Mock(return_value=VERSION_STRING_RET_VAL)) def test_update_version_from_version_string(self): info = na_utils.OpenStackInfo() info._update_version_from_version_string() self.assertEqual(self.VERSION_STRING_RET_VAL, info._version) self.assertEqual(self.UNKNOWN_RELEASE, info._release) self.assertEqual(self.UNKNOWN_VENDOR, info._vendor) self.assertEqual(self.UNKNOWN_PLATFORM, info._platform) @mock.patch.object(version.version_info, 'version_string', mock.Mock(side_effect=Exception)) def test_xcption_in_update_version_from_version_string(self): info = na_utils.OpenStackInfo() info._update_version_from_version_string() self.assertEqual(self.UNKNOWN_VERSION, info._version) self.assertEqual(self.UNKNOWN_RELEASE, info._release) self.assertEqual(self.UNKNOWN_VENDOR, info._vendor) self.assertEqual(self.UNKNOWN_PLATFORM, info._platform) @mock.patch.object(version.version_info, 'release_string', mock.Mock(return_value=RELEASE_STRING_RET_VAL)) def test_update_release_from_release_string(self): info = na_utils.OpenStackInfo() info._update_release_from_release_string() self.assertEqual(self.UNKNOWN_VERSION, info._version) self.assertEqual(self.RELEASE_STRING_RET_VAL, info._release) self.assertEqual(self.UNKNOWN_VENDOR, info._vendor) self.assertEqual(self.UNKNOWN_PLATFORM, info._platform) @mock.patch.object(version.version_info, 'release_string', mock.Mock(side_effect=Exception)) def test_xcption_in_update_release_from_release_string(self): info = na_utils.OpenStackInfo() info._update_release_from_release_string() self.assertEqual(self.UNKNOWN_VERSION, info._version) self.assertEqual(self.UNKNOWN_RELEASE, info._release) self.assertEqual(self.UNKNOWN_VENDOR, info._vendor) self.assertEqual(self.UNKNOWN_PLATFORM, info._platform) @mock.patch.object(platform, 'platform', mock.Mock(return_value=PLATFORM_RET_VAL)) def test_update_platform(self): info = na_utils.OpenStackInfo() info._update_platform() self.assertEqual(self.UNKNOWN_VERSION, info._version) self.assertEqual(self.UNKNOWN_RELEASE, info._release) self.assertEqual(self.UNKNOWN_VENDOR, info._vendor) self.assertEqual(self.PLATFORM_RET_VAL, info._platform) @mock.patch.object(platform, 'platform', mock.Mock(side_effect=Exception)) def test_xcption_in_update_platform(self): info = na_utils.OpenStackInfo() info._update_platform() self.assertEqual(self.UNKNOWN_VERSION, info._version) self.assertEqual(self.UNKNOWN_RELEASE, info._release) self.assertEqual(self.UNKNOWN_VENDOR, info._vendor) self.assertEqual(self.UNKNOWN_PLATFORM, info._platform) @mock.patch.object(na_utils.OpenStackInfo, '_get_version_info_version', mock.Mock(return_value=VERSION_INFO_VERSION)) @mock.patch.object(na_utils.OpenStackInfo, '_get_version_info_release', mock.Mock(return_value=VERSION_INFO_RELEASE)) def test_update_info_from_version_info(self): info = na_utils.OpenStackInfo() info._update_info_from_version_info() self.assertEqual(self.VERSION_INFO_VERSION, info._version) self.assertEqual(self.VERSION_INFO_RELEASE, info._release) self.assertEqual(self.UNKNOWN_VENDOR, info._vendor) self.assertEqual(self.UNKNOWN_PLATFORM, info._platform) @mock.patch.object(na_utils.OpenStackInfo, '_get_version_info_version', mock.Mock(return_value='')) @mock.patch.object(na_utils.OpenStackInfo, '_get_version_info_release', mock.Mock(return_value=None)) def test_no_info_from_version_info(self): info = na_utils.OpenStackInfo() info._update_info_from_version_info() self.assertEqual(self.UNKNOWN_VERSION, info._version) self.assertEqual(self.UNKNOWN_RELEASE, info._release) self.assertEqual(self.UNKNOWN_VENDOR, info._vendor) self.assertEqual(self.UNKNOWN_PLATFORM, info._platform) @mock.patch.object(na_utils.OpenStackInfo, '_get_version_info_version', mock.Mock(return_value=VERSION_INFO_VERSION)) @mock.patch.object(na_utils.OpenStackInfo, '_get_version_info_release', mock.Mock(side_effect=Exception)) def test_xcption_in_info_from_version_info(self): info = na_utils.OpenStackInfo() info._update_info_from_version_info() self.assertEqual(self.VERSION_INFO_VERSION, info._version) self.assertEqual(self.UNKNOWN_RELEASE, info._release) self.assertEqual(self.UNKNOWN_VENDOR, info._vendor) self.assertEqual(self.UNKNOWN_PLATFORM, info._platform) @mock.patch.object(putils, 'execute', mock.Mock(return_value=PUTILS_RPM_RET_VAL)) def test_update_info_from_rpm(self): info = na_utils.OpenStackInfo() found_package = info._update_info_from_rpm() self.assertEqual(self.RPM_INFO_VERSION, info._version) self.assertEqual(self.RPM_INFO_RELEASE, info._release) self.assertEqual(self.RPM_INFO_VENDOR, info._vendor) self.assertEqual(self.UNKNOWN_PLATFORM, info._platform) self.assertTrue(found_package) @mock.patch.object(putils, 'execute', mock.Mock(return_value=NO_PKG_FOUND)) def test_update_info_from_rpm_no_pkg_found(self): info = na_utils.OpenStackInfo() found_package = info._update_info_from_rpm() self.assertEqual(self.UNKNOWN_VERSION, info._version) self.assertEqual(self.UNKNOWN_RELEASE, info._release) self.assertEqual(self.UNKNOWN_VENDOR, info._vendor) self.assertEqual(self.UNKNOWN_PLATFORM, info._platform) self.assertFalse(found_package) @mock.patch.object(putils, 'execute', mock.Mock(side_effect=Exception)) def test_xcption_in_update_info_from_rpm(self): info = na_utils.OpenStackInfo() found_package = info._update_info_from_rpm() self.assertEqual(self.UNKNOWN_VERSION, info._version) self.assertEqual(self.UNKNOWN_RELEASE, info._release) self.assertEqual(self.UNKNOWN_VENDOR, info._vendor) self.assertEqual(self.UNKNOWN_PLATFORM, info._platform) self.assertFalse(found_package) @mock.patch.object(putils, 'execute', mock.Mock(return_value=PUTILS_DPKG_RET_VAL)) def test_update_info_from_dpkg(self): info = na_utils.OpenStackInfo() found_package = info._update_info_from_dpkg() self.assertEqual(self.UNKNOWN_VERSION, info._version) self.assertEqual(self.DEB_RLS, info._release) self.assertEqual(self.DEB_VENDOR, info._vendor) self.assertEqual(self.UNKNOWN_PLATFORM, info._platform) self.assertTrue(found_package) @mock.patch.object(putils, 'execute', mock.Mock(return_value=NO_PKG_FOUND)) def test_update_info_from_dpkg_no_pkg_found(self): info = na_utils.OpenStackInfo() found_package = info._update_info_from_dpkg() self.assertEqual(self.UNKNOWN_VERSION, info._version) self.assertEqual(self.UNKNOWN_RELEASE, info._release) self.assertEqual(self.UNKNOWN_VENDOR, info._vendor) self.assertEqual(self.UNKNOWN_PLATFORM, info._platform) self.assertFalse(found_package) @mock.patch.object(putils, 'execute', mock.Mock(side_effect=Exception)) def test_xcption_in_update_info_from_dpkg(self): info = na_utils.OpenStackInfo() found_package = info._update_info_from_dpkg() self.assertEqual(self.UNKNOWN_VERSION, info._version) self.assertEqual(self.UNKNOWN_RELEASE, info._release) self.assertEqual(self.UNKNOWN_VENDOR, info._vendor) self.assertEqual(self.UNKNOWN_PLATFORM, info._platform) self.assertFalse(found_package) @mock.patch.object(na_utils.OpenStackInfo, '_update_version_from_version_string', mock.Mock()) @mock.patch.object(na_utils.OpenStackInfo, '_update_release_from_release_string', mock.Mock()) @mock.patch.object(na_utils.OpenStackInfo, '_update_platform', mock.Mock()) @mock.patch.object(na_utils.OpenStackInfo, '_update_info_from_version_info', mock.Mock()) @mock.patch.object(na_utils.OpenStackInfo, '_update_info_from_rpm', mock.Mock(return_value=True)) @mock.patch.object(na_utils.OpenStackInfo, '_update_info_from_dpkg') def test_update_openstack_info_rpm_pkg_found(self, mock_updt_from_dpkg): info = na_utils.OpenStackInfo() info._update_openstack_info() self.assertFalse(mock_updt_from_dpkg.called) @mock.patch.object(na_utils.OpenStackInfo, '_update_version_from_version_string', mock.Mock()) @mock.patch.object(na_utils.OpenStackInfo, '_update_release_from_release_string', mock.Mock()) @mock.patch.object(na_utils.OpenStackInfo, '_update_platform', mock.Mock()) @mock.patch.object(na_utils.OpenStackInfo, '_update_info_from_version_info', mock.Mock()) @mock.patch.object(na_utils.OpenStackInfo, '_update_info_from_rpm', mock.Mock(return_value=False)) @mock.patch.object(na_utils.OpenStackInfo, '_update_info_from_dpkg') def test_update_openstack_info_rpm_pkg_not_found(self, mock_updt_from_dpkg): info = na_utils.OpenStackInfo() info._update_openstack_info() self.assertTrue(mock_updt_from_dpkg.called) ",,523,0
openstack%2Fproject-config~master~Ibce74d7527527bba0e3e167dab988745fc0ad97e,openstack/project-config,master,Ibce74d7527527bba0e3e167dab988745fc0ad97e,Moved 'rake test' out of the bundle for macro chef-rake-test,MERGED,2015-01-20 08:58:40.000000000,2015-01-23 18:50:32.000000000,2015-01-23 18:50:32.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7128}, {'_account_id': 9488}]","[{'number': 1, 'created': '2015-01-20 08:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/dd2b24117b41006bfda9ace99267bfa338e6844d', 'message': ""Moved 'rake test' out of the bundle\n\nSince we are currently installing rake before we bundle and are acutally\nbundling inside of the rake job, the macro should not use 'bundle exec\nrake test' but 'rake test'\n\nChange-Id: Ibce74d7527527bba0e3e167dab988745fc0ad97e\n""}, {'number': 2, 'created': '2015-01-20 09:00:14.000000000', 'files': ['jenkins/jobs/macros.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a7c3d44571d389b91d2c15058d1b0bb9df33c6de', 'message': ""Moved 'rake test' out of the bundle for macro chef-rake-test\n\nSince we are currently installing rake before we bundle and are acutally\nbundling inside of the rake job, the macro should not use 'bundle exec\nrake test' but 'rake test'\n\nChange-Id: Ibce74d7527527bba0e3e167dab988745fc0ad97e\n""}]",0,148465,a7c3d44571d389b91d2c15058d1b0bb9df33c6de,10,5,2,11915,,,0,"Moved 'rake test' out of the bundle for macro chef-rake-test

Since we are currently installing rake before we bundle and are acutally
bundling inside of the rake job, the macro should not use 'bundle exec
rake test' but 'rake test'

Change-Id: Ibce74d7527527bba0e3e167dab988745fc0ad97e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/65/148465/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/macros.yaml'],1,dd2b24117b41006bfda9ace99267bfa338e6844d,chef-rake, rake test, bundle exec rake test,1,1
openstack%2Fproject-config~master~I9fe56a68bbb550d82212d6825db6fdeeb8e54cc8,openstack/project-config,master,I9fe56a68bbb550d82212d6825db6fdeeb8e54cc8,Add Python 3 jobs to doc8,MERGED,2015-01-19 14:50:18.000000000,2015-01-23 18:50:20.000000000,2015-01-23 18:50:18.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 1106}, {'_account_id': 1297}, {'_account_id': 4690}, {'_account_id': 5263}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 6609}, {'_account_id': 7366}, {'_account_id': 8515}]","[{'number': 1, 'created': '2015-01-19 14:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/cf4d2be575e1a93f1a6fa1c0483dbaf751c6e41b', 'message': 'Add Python 3 jobs to doc8\n\nChange-Id: I9fe56a68bbb550d82212d6825db6fdeeb8e54cc8\n'}, {'number': 2, 'created': '2015-01-23 09:57:15.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6da1b399076708acbc0d9051e480aa496bf32ea4', 'message': 'Add Python 3 jobs to doc8\n\nChange-Id: I9fe56a68bbb550d82212d6825db6fdeeb8e54cc8\n'}]",0,148276,6da1b399076708acbc0d9051e480aa496bf32ea4,16,11,2,1669,,,0,"Add Python 3 jobs to doc8

Change-Id: I9fe56a68bbb550d82212d6825db6fdeeb8e54cc8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/76/148276/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,cf4d2be575e1a93f1a6fa1c0483dbaf751c6e41b,jd/doc8-py3, - name: python3-jobs,,1,0
openstack%2Fproject-config~master~I680a0d261040b52b392aba5377aef2b84edc205e,openstack/project-config,master,I680a0d261040b52b392aba5377aef2b84edc205e,Add CI job with config sample generation for Manila,MERGED,2015-01-19 13:35:54.000000000,2015-01-23 18:50:08.000000000,2015-01-23 18:50:06.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 6786}, {'_account_id': 8851}]","[{'number': 1, 'created': '2015-01-19 13:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d7ea76114a4d41dd5d6da8a9593487249394e57e', 'message': ""Add tox job with config generation for manila\n\nManila has tox job 'genconfig' that generates config sample. It is not tested\nyet. So, all changes to config groups and options are not tested for\ncompatibility with config sample builder.\n\nMake it non-voting until it becomes stable.\n\nChange-Id: I680a0d261040b52b392aba5377aef2b84edc205e\n""}, {'number': 2, 'created': '2015-01-19 13:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d0d59f2779a5d329e0204f193935a516e5596dad', 'message': ""Add tox job with config generation for manila\n\nManila has tox job 'genconfig' that generates config sample. It is not tested\nyet. So, all changes to config groups and options are not tested for\ncompatibility with config sample builder.\n\nMake it non-voting until it becomes stable.\n\nChange-Id: I680a0d261040b52b392aba5377aef2b84edc205e\n""}, {'number': 3, 'created': '2015-01-19 13:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2f1862e0679e7b9be90c2e3fae1b010734f63049', 'message': ""Add CI job with config sample generation for Manila\n\nManila has tox job 'genconfig' that generates config sample. It is not tested\nyet. So, all changes to config groups and options are not tested for\ncompatibility with config sample builder.\n\nMake it non-voting until it becomes stable.\n\nChange-Id: I680a0d261040b52b392aba5377aef2b84edc205e\n""}, {'number': 4, 'created': '2015-01-19 15:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6aeae362c542023c85f1d42d0c9cf6de6445a68c', 'message': ""Add CI job with config sample generation for Manila\n\nManila has tox job 'genconfig' that generates config sample. It is not tested\nyet. So, all changes to config groups and options are not tested for\ncompatibility with config sample builder.\n\nMake it non-voting until it becomes stable.\n\nChange-Id: I680a0d261040b52b392aba5377aef2b84edc205e\n""}, {'number': 5, 'created': '2015-01-22 14:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/00a5dbb0bc13013c465b55c97fedd45a00a9b02b', 'message': ""Add CI job with config sample generation for Manila\n\nManila has tox job 'genconfig' that generates config sample. It is not tested\nyet. So, all changes to config groups and options are not tested for\ncompatibility with config sample builder.\nMake it non-voting until it becomes stable.\n\nChange-Id: I680a0d261040b52b392aba5377aef2b84edc205e\n""}, {'number': 6, 'created': '2015-01-22 18:19:42.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/73c0667cef42d28ec6f282706ad1843e42fa167e', 'message': ""Add CI job with config sample generation for Manila\n\nManila has tox job 'genconfig' that generates config sample. It is not tested\nyet. So, all changes to config groups and options are not tested for\ncompatibility with config sample builder.\nMake it non-voting until it becomes stable.\n\nChange-Id: I680a0d261040b52b392aba5377aef2b84edc205e\n""}]",0,148256,73c0667cef42d28ec6f282706ad1843e42fa167e,19,5,6,8851,,,0,"Add CI job with config sample generation for Manila

Manila has tox job 'genconfig' that generates config sample. It is not tested
yet. So, all changes to config groups and options are not tested for
compatibility with config sample builder.
Make it non-voting until it becomes stable.

Change-Id: I680a0d261040b52b392aba5377aef2b84edc205e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/56/148256/5 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/manila.yaml', 'zuul/layout.yaml']",2,d7ea76114a4d41dd5d6da8a9593487249394e57e,manila, - name: gate-manila-generate-config voting: false,,20,0
openstack%2Fproject-config~master~I065fe82621f9898e6ab05e86222fa7fa825ed2c9,openstack/project-config,master,I065fe82621f9898e6ab05e86222fa7fa825ed2c9,Adding devstack-plugin-glusterfs project to stackforge,MERGED,2015-01-13 11:21:43.000000000,2015-01-23 18:49:13.000000000,2015-01-23 18:49:12.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 6786}, {'_account_id': 7069}, {'_account_id': 7118}, {'_account_id': 10796}, {'_account_id': 14428}]","[{'number': 1, 'created': '2015-01-13 11:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/234bd99c5a490979afcab765338f89eb7e4abec7', 'message': 'Adding devstack-plugin-glusterfs project to stackforge\n\nChange-Id: I065fe82621f9898e6ab05e86222fa7fa825ed2c9\n'}, {'number': 2, 'created': '2015-01-13 11:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2f6a4ea469bcfc2f39baf806386b9ff5404eb3e6', 'message': 'Adding devstack-plugin-glusterfs project to stackforge\n\nChange-Id: I065fe82621f9898e6ab05e86222fa7fa825ed2c9\n'}, {'number': 3, 'created': '2015-01-13 11:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b13f55f6e04d9974913b00f437fe0fca537b8014', 'message': 'Adding devstack-plugin-glusterfs project to stackforge\n\nChange-Id: I065fe82621f9898e6ab05e86222fa7fa825ed2c9\n'}, {'number': 4, 'created': '2015-01-13 12:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b2930d5042c189d66833c115becf2a14e5940a57', 'message': 'Adding devstack-plugin-glusterfs project to stackforge\n\nChange-Id: I065fe82621f9898e6ab05e86222fa7fa825ed2c9\n'}, {'number': 5, 'created': '2015-01-13 12:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f19676451d0bbff66e1a6b128518e9d951dcf197', 'message': 'Adding devstack-plugin-glusterfs project to stackforge\n\nChange-Id: I065fe82621f9898e6ab05e86222fa7fa825ed2c9\n'}, {'number': 6, 'created': '2015-01-13 13:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/66fa5dd2d5835a84b941f2572fe7c75ff723f6ef', 'message': 'Adding devstack-plugin-glusterfs project to stackforge\n\nChange-Id: I065fe82621f9898e6ab05e86222fa7fa825ed2c9\n'}, {'number': 7, 'created': '2015-01-13 17:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/67ccf2ac454cdbc6e99c80fa56a77fd0b792e08a', 'message': 'Adding devstack-plugin-glusterfs project to stackforge\n\nChange-Id: I065fe82621f9898e6ab05e86222fa7fa825ed2c9\n'}, {'number': 8, 'created': '2015-01-13 17:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/260b4e85c8efc0974807c1fca4a97b1a6aa01b1c', 'message': 'Adding devstack-plugin-glusterfs project to stackforge\n\nChange-Id: I065fe82621f9898e6ab05e86222fa7fa825ed2c9\n'}, {'number': 9, 'created': '2015-01-17 03:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ddd62d554fd2b9f150a43a6ddb51fc66079506cb', 'message': 'Adding devstack-plugin-glusterfs project to stackforge\n\nChange-Id: I065fe82621f9898e6ab05e86222fa7fa825ed2c9\n'}, {'number': 10, 'created': '2015-01-23 05:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/57488feb3c800d93f842e1e3444d763ac148644a', 'message': 'Adding devstack-plugin-glusterfs project to stackforge\n\nChange-Id: I065fe82621f9898e6ab05e86222fa7fa825ed2c9\n'}, {'number': 11, 'created': '2015-01-23 07:14:20.000000000', 'files': ['jenkins/jobs/projects.yaml', 'gerrit/acls/stackforge/devstack-plugin-glusterfs.config', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b538d08a8701907847145a02df4ec218195fcb99', 'message': 'Adding devstack-plugin-glusterfs project to stackforge\n\nChange-Id: I065fe82621f9898e6ab05e86222fa7fa825ed2c9\n'}]",5,146822,b538d08a8701907847145a02df4ec218195fcb99,50,12,11,14428,,,0,"Adding devstack-plugin-glusterfs project to stackforge

Change-Id: I065fe82621f9898e6ab05e86222fa7fa825ed2c9
",git fetch https://review.opendev.org/openstack/project-config refs/changes/22/146822/10 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'gerrit/acls/stackforge/devstack-plugin-glusterfs.config', 'gerrit/projects.yaml', 'zuul/layout.yaml']",4,234bd99c5a490979afcab765338f89eb7e4abec7,devstack-plugin-glusterfs, - name: stackforge/devstack-plugin-glusterfs template: - name: merge-check - name: gate-devstack-bashate ,,31,0
openstack%2Fglance~master~I7176924a979b6f71a03a13609d81f25f4007770a,openstack/glance,master,I7176924a979b6f71a03a13609d81f25f4007770a,Adding filesystem schema check in async task,MERGED,2015-01-08 07:23:45.000000000,2015-01-23 18:46:06.000000000,2015-01-23 18:46:05.000000000,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 6484}, {'_account_id': 6549}, {'_account_id': 8871}, {'_account_id': 9096}, {'_account_id': 11864}, {'_account_id': 12000}, {'_account_id': 13161}]","[{'number': 1, 'created': '2015-01-08 07:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/65a8705061afd1f6ae5558f28261cdc33386c535', 'message': 'Adding filesystem schema check in async task\n\nMinor improvement for proper exception.\n\nChange-Id: I7176924a979b6f71a03a13609d81f25f4007770a\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>'}, {'number': 2, 'created': '2015-01-08 10:47:01.000000000', 'files': ['glance/common/scripts/utils.py', 'glance/tests/unit/common/scripts/test_scripts_utils.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/e086049c30218e111a2514673956ce98a6d1d9c0', 'message': 'Adding filesystem schema check in async task\n\nMinor improvement for proper exception.\n\nChange-Id: I7176924a979b6f71a03a13609d81f25f4007770a\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n'}]",2,145708,e086049c30218e111a2514673956ce98a6d1d9c0,34,9,2,6549,,,0,"Adding filesystem schema check in async task

Minor improvement for proper exception.

Change-Id: I7176924a979b6f71a03a13609d81f25f4007770a
Signed-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/08/145708/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/common/scripts/utils.py', 'glance/tests/unit/common/scripts/test_scripts_utils.py']",2,65a8705061afd1f6ae5558f28261cdc33386c535,," self.assertRaises(StandardError, script_utils.validate_location_uri, ""filesystem:///tmp"")",,5,2
openstack%2Fproject-config~master~I606bbcc50fcf445a25cf5edfb9092602408cc065,openstack/project-config,master,I606bbcc50fcf445a25cf5edfb9092602408cc065,Disable os-ansible aio-build voting on all branches except master,MERGED,2015-01-22 15:08:14.000000000,2015-01-23 18:40:30.000000000,2015-01-23 10:49:50.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 6816}]","[{'number': 1, 'created': '2015-01-22 15:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/255b6a02ce18727cc56d9095b97cc50bcb84f2cd', 'message': 'Disable os-ansible aio-build voting on all branches except master\n\nThis patch disables check-os-ansible-deployment-dsvm-aio-build voting on\nall branches except the master branch. This is required to cheery-pick\npatches onto those branches which will get them into a state where the\ncheck will work against them.\n\nChange-Id: I606bbcc50fcf445a25cf5edfb9092602408cc065\n'}, {'number': 2, 'created': '2015-01-22 16:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f03ac76825715c474d9a66041c5db0f30eb6fb5d', 'message': 'Disable os-ansible aio-build voting on all branches except master\n\nThis patch disables check-os-ansible-deployment-dsvm-aio-build voting on\nall branches except the master branch. This is required to cherry-pick\npatches onto those branches which will get them into a state where the\ncheck will work against them.\n\nChange-Id: I606bbcc50fcf445a25cf5edfb9092602408cc065\n'}, {'number': 3, 'created': '2015-01-22 16:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/36fd2ac2477f3c3283ad222e34e0bce99f1d7b82', 'message': 'Disable os-ansible aio-build voting on all branches except master\n\nThis patch disables check-os-ansible-deployment-dsvm-aio-build voting on\nall branches except the master branch. This is required to cherry-pick\npatches onto those branches which will get them into a state where the\ncheck will work against them.\n\nChange-Id: I606bbcc50fcf445a25cf5edfb9092602408cc065\n'}, {'number': 4, 'created': '2015-01-22 17:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/27edb4b9495cd5ee14d23a9e95479aec4739db7c', 'message': 'Disable os-ansible aio-build voting on all branches except master\n\nThis patch disables check-os-ansible-deployment-dsvm-aio-build voting on\nall branches except the master branch. This is required to cherry-pick\npatches onto those branches which will get them into a state where the\ncheck will work against them.\n\nChange-Id: I606bbcc50fcf445a25cf5edfb9092602408cc065\n'}, {'number': 5, 'created': '2015-01-22 18:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/22ba82e0a23fdd0660de679bb0ea5da5d4f88bd0', 'message': 'Disable os-ansible aio-build voting on all branches except master\n\nThis patch disables check-os-ansible-deployment-dsvm-aio-build voting on\nall branches except the master branch. This is required to cherry-pick\npatches onto those branches which will get them into a state where the\ncheck will work against them.\n\nChange-Id: I606bbcc50fcf445a25cf5edfb9092602408cc065\n'}, {'number': 6, 'created': '2015-01-22 19:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/07634690ea7f8c7e3d664dbadc36696264c95ff0', 'message': 'Disable os-ansible aio-build voting on all branches except master\n\nThis patch disables check-os-ansible-deployment-dsvm-aio-build voting on\nall branches except the master branch. This is required to cherry-pick\npatches onto those branches which will get them into a state where the\ncheck will work against them.\n\nChange-Id: I606bbcc50fcf445a25cf5edfb9092602408cc065\n'}, {'number': 7, 'created': '2015-01-22 19:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d38b03699c4d2fea20ad569e3d0863f9b0b61ce7', 'message': 'Disable os-ansible aio-build voting on all branches except master\n\nThis patch disables check-os-ansible-deployment-dsvm-aio-build voting on\nall branches except the master branch. This is required to cherry-pick\npatches onto those branches which will get them into a state where the\ncheck will work against them.\n\nChange-Id: I606bbcc50fcf445a25cf5edfb9092602408cc065\n'}, {'number': 8, 'created': '2015-01-22 22:37:30.000000000', 'files': ['jenkins/jobs/projects.yaml', 'jenkins/jobs/os-ansible-jobs.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ff6e3200e9659f95541b389982dd027ead73b777', 'message': 'Disable os-ansible aio-build voting on all branches except master\n\nThis patch disables check-os-ansible-deployment-dsvm-aio-build voting on\nall branches except the master branch. This is required to cherry-pick\npatches onto those branches which will get them into a state where the\ncheck will work against them.\n\nChange-Id: I606bbcc50fcf445a25cf5edfb9092602408cc065\n'}]",3,149305,ff6e3200e9659f95541b389982dd027ead73b777,24,5,8,6816,,,0,"Disable os-ansible aio-build voting on all branches except master

This patch disables check-os-ansible-deployment-dsvm-aio-build voting on
all branches except the master branch. This is required to cherry-pick
patches onto those branches which will get them into a state where the
check will work against them.

Change-Id: I606bbcc50fcf445a25cf5edfb9092602408cc065
",git fetch https://review.opendev.org/openstack/project-config refs/changes/05/149305/7 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,255b6a02ce18727cc56d9095b97cc50bcb84f2cd,os-ansible-deployment, - name: check-os-ansible-deployment-dsvm-aio-build branch: ^(?!master).+$ voting: false,,3,0
openstack%2Frequirements~master~Id14f74a45f7218c5e3ef40c0d59a60fa8d3bcd31,openstack/requirements,master,Id14f74a45f7218c5e3ef40c0d59a60fa8d3bcd31,Bump oslo.concurrency to >= 1.4.1,MERGED,2015-01-22 21:37:45.000000000,2015-01-23 18:39:46.000000000,2015-01-23 18:39:45.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 1131}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 2592}, {'_account_id': 7448}, {'_account_id': 9656}, {'_account_id': 11114}]","[{'number': 1, 'created': '2015-01-22 21:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c1afdc0c82dc0ebf2fdc84e745e8e14a32330221', 'message': 'Bump oslo.concurrency to >= 1.4.1\n\nThis version is the first one that properly supports substring\nsubstitution, like:\n\nlock_path=$state_path/lock\n\nthat Neutron depends on. Since Neutron migrated to oslo.concurrency as\nof I2ba2295f8f5d55f272a9d23555940586b25b5a1c, we need to bump the\nminimal version accordingly, otherwise installations with old versions\nwill fail to start agents using default configuration files.\n\nChange-Id: Id14f74a45f7218c5e3ef40c0d59a60fa8d3bcd31\n'}, {'number': 2, 'created': '2015-01-22 22:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9f40886861f86cdbc18a255214822049644f0d3c', 'message': 'Bump oslo.concurrency to >= 1.4.1\n\nThis version is the first one that properly supports substring\nsubstitution, like:\n\nlock_path=$state_path/lock\n\nthat Neutron depends on. Since Neutron migrated to oslo.concurrency as\nof I2ba2295f8f5d55f272a9d23555940586b25b5a1c, we need to bump the\nminimal version accordingly, otherwise installations with old versions\nwill fail to start agents using default configuration files.\n\nCloses-Bug: #1413111\nChange-Id: Id14f74a45f7218c5e3ef40c0d59a60fa8d3bcd31\n'}, {'number': 3, 'created': '2015-01-22 22:16:02.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/050a4c38299051294e35196595487215282407ae', 'message': 'Bump oslo.concurrency to >= 1.4.1\n\nThis version is the first one that properly supports substring\nsubstitution, like:\n\nlock_path=$state_path/lock\n\nthat Neutron depends on. Since Neutron migrated to oslo.concurrency as\nof I2ba2295f8f5d55f272a9d23555940586b25b5a1c, we need to bump the\nminimal version accordingly, otherwise installations with old versions\nwill fail to start agents using default configuration files.\n\nPartial-Bug: #1413111\nChange-Id: Id14f74a45f7218c5e3ef40c0d59a60fa8d3bcd31\n'}]",1,149400,050a4c38299051294e35196595487215282407ae,19,9,3,9656,,,0,"Bump oslo.concurrency to >= 1.4.1

This version is the first one that properly supports substring
substitution, like:

lock_path=$state_path/lock

that Neutron depends on. Since Neutron migrated to oslo.concurrency as
of I2ba2295f8f5d55f272a9d23555940586b25b5a1c, we need to bump the
minimal version accordingly, otherwise installations with old versions
will fail to start agents using default configuration files.

Partial-Bug: #1413111
Change-Id: Id14f74a45f7218c5e3ef40c0d59a60fa8d3bcd31
",git fetch https://review.opendev.org/openstack/requirements refs/changes/00/149400/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,c1afdc0c82dc0ebf2fdc84e745e8e14a32330221,conc,oslo.concurrency>=1.4.1 # Apache-2.0,"oslo.concurrency>=0.3.0,!=0.4.0 # Apache-2.0",1,1
openstack%2Fopenstack-manuals~master~I3a352702748dea6c9ebe6c1eac247b6d31e3309f,openstack/openstack-manuals,master,I3a352702748dea6c9ebe6c1eac247b6d31e3309f,made change to png images,MERGED,2015-01-20 19:19:06.000000000,2015-01-23 18:21:54.000000000,2015-01-23 18:21:53.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 6547}, {'_account_id': 9382}]","[{'number': 1, 'created': '2015-01-20 19:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/5cdfe2af667d8581d72100316b768a6e9aa1feb8', 'message': 'made change to Specializide_OOO.png image\n\nflipped to right because it was upside down\n\nChange-Id: I3a352702748dea6c9ebe6c1eac247b6d31e3309f\n'}, {'number': 2, 'created': '2015-01-20 19:27:24.000000000', 'files': ['doc/arch-design/figures/Specialized_Hardware2.png', 'doc/arch-design/figures/Specialized_OOO.png', 'doc/arch-design/figures/Multi-Cloud_Priv-AWS4.png', 'doc/arch-design/figures/Multi-Cloud_failover2.png', 'doc/arch-design/figures/Multi-Site_shared_keystone_horizon_swift1.png', 'doc/arch-design/figures/Massively_Scalable_Cells_+_regions_+_azs.png', 'doc/arch-design/figures/Multi-Cloud_Priv-Pub3.png', 'doc/arch-design/figures/Multi-Cloud_failover.png', 'doc/arch-design/figures/Multi-Site_shared_keystone1.png'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3c488ae6a2471f71f9a63b991890283aa46563e8', 'message': 'made change to png images\n\nflipped to right because it was upside down\n\nChange-Id: I3a352702748dea6c9ebe6c1eac247b6d31e3309f\n'}]",0,148697,3c488ae6a2471f71f9a63b991890283aa46563e8,14,4,2,9382,,,0,"made change to png images

flipped to right because it was upside down

Change-Id: I3a352702748dea6c9ebe6c1eac247b6d31e3309f
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/97/148697/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/arch-design/figures/Specialized_OOO.png'],1,5cdfe2af667d8581d72100316b768a6e9aa1feb8,OpenStack_on_OpenStack,,,0,0
openstack%2Fironic-specs~master~I32796161b578fcf98cf68e39a1e28b75cd9dd3ce,openstack/ironic-specs,master,I32796161b578fcf98cf68e39a1e28b75cd9dd3ce,Local boot support with partition images,MERGED,2014-12-23 09:39:44.000000000,2015-01-23 18:10:20.000000000,2015-01-23 18:10:19.000000000,"[{'_account_id': 3}, {'_account_id': 5805}, {'_account_id': 6773}, {'_account_id': 10239}, {'_account_id': 10375}, {'_account_id': 10574}]","[{'number': 1, 'created': '2014-12-23 09:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f666e8a75fdb356087a8489daa8db11c1f5c1982', 'message': 'Local boot support with partition images\n\nThis spec proposes ironic drivers to support local boot with partition\nimages.\n\nChange-Id: I32796161b578fcf98cf68e39a1e28b75cd9dd3ce\nImplements:https://blueprints.launchpad.net/nova/+spec/pass-flavor-capabilities-to-ironic-virt-driver\n'}, {'number': 2, 'created': '2015-01-13 12:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f3f2cbd454dd7dfbca9d4341153adf6d69511785', 'message': 'Local boot support with partition images\n\nThis spec proposes ironic drivers to support local boot with partition\nimages.\n\nChange-Id: I32796161b578fcf98cf68e39a1e28b75cd9dd3ce\nImplements:https://blueprints.launchpad.net/ironic/+spec/local-boot-support-with-partition-images\n'}, {'number': 3, 'created': '2015-01-22 15:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/c74035fa2e19f03fa025ac19feaa1852165953b9', 'message': 'Local boot support with partition images\n\nThis spec proposes ironic drivers to support local boot with partition\nimages.\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I32796161b578fcf98cf68e39a1e28b75cd9dd3ce\n'}, {'number': 4, 'created': '2015-01-23 18:02:25.000000000', 'files': ['specs/kilo/local-boot-support-with-partition-images.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/31c87a39f8faf4e2b9bbba109456ea726527f2df', 'message': 'Local boot support with partition images\n\nThis spec proposes ironic drivers to support local boot with partition\nimages.\n\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I32796161b578fcf98cf68e39a1e28b75cd9dd3ce\n'}]",54,143636,31c87a39f8faf4e2b9bbba109456ea726527f2df,32,6,4,10574,,,0,"Local boot support with partition images

This spec proposes ironic drivers to support local boot with partition
images.

Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I32796161b578fcf98cf68e39a1e28b75cd9dd3ce
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/36/143636/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/local-boot-support-with-partition-images.rst'],1,f666e8a75fdb356087a8489daa8db11c1f5c1982,bp/local-boot-support-with-partition-images,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Local boot support with partition images ========================================== https://blueprints.launchpad.net/ironic/+spec/local-boot-support-with-partition-images This blueprint proposes to accept the boot option specified by nova flavor and make the subsequent reboot of the baremetal from local hard disk drive instead of pxe or vmedia, depending on the boot option selected by the user. Problem description =================== At present ironic drivers that deploy partition images require ironic conductor for subsequent reboots of the node. The subsequent reboot of the node will happen either through pxe or using virtual media. Also there is no way a nova user can specify the boot option, local/netboot for deploy using partition image. Proposed change =============== * Ironic driver should read the specified boot option ``boot_option`` capability from nova flavor which should be passed through instance_info field. * Create a boot partition, along with root, swap, etc. * Create a boot image, similar to boot cd used by ilo_iscsi driver, and write it to boot partition. * Set the boot device to HDD persistently. * Skip the steps for setting up vmedia and pxe for subsequent boot. Alternatives ------------ * Use ""localboot"" element from Disk image builder: While generating the partition images using disk-image-builder, we can use ""localboot"" element, which is available in tripleo-image-elements project. The downside of using this is that the local boot will be enabled during the firt boot after node deploy. So it requires two resets of the server to enable localboot. Also the ironic conductor is not aware of this change and continue to provide the pxe or vmedia boot for the reboot operation done from conductor. * Use whole disk image to achieve local boot: The other way to achieve a local boot is to use whole disk image for deploy. This can be achieved by using agent driver only. This approch requires two sets of images to be provided to support local and netboot separately. Data model impact ----------------- None. REST API impact --------------- None. RPC API impact -------------- None. Driver API impact ----------------- None. Nova driver impact ------------------ None. Security impact --------------- None. Other end user impact --------------------- Deployer can specify the boot option request in nova flavor as capability. ``boot_option``=``local`` or ``boot_option``=``netboot`` Scalability impact ------------------ None. Performance Impact ------------------ None. Other deployer impact --------------------- Set ``boot_option``:``local`` or ``netboot`` as capability in node.properties. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: faizan-barmawer Other contributors: None Work Items ---------- * Make necessary changes in ilo_iscsi, pxe_ipmitool, ilo_pxe, driver to handle the local boot request. * Implement the code to create boot partition. * Implement the code to generate boot image. * Make necessary changes in ilo_iscsi, ilo_pxe and pxe_ipmitool driver to skip setting up of the configuration for subsequent reboot. * Set boot device to HDD persistently after the deploy before final reset. Dependencies ============ https://review.openstack.org/141012 Require this nova virt ironic driver fix to pass down the capabilities from nova flavor to ironic node's instance info field. Testing ======= * Unit testing. Upgrades and Backwards Compatibility ==================================== Documentation Impact ==================== * Make changes to ironic install guide. References ========== ",,167,0
openstack%2Fnova~master~I678b0bf54b19cc440b8f98d68ec914007b444fc3,openstack/nova,master,I678b0bf54b19cc440b8f98d68ec914007b444fc3,Fixes undocumented commands,MERGED,2015-01-21 17:23:13.000000000,2015-01-23 17:59:27.000000000,2015-01-23 17:59:23.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 1812}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 5638}, {'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 9550}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14358}]","[{'number': 1, 'created': '2015-01-21 17:23:13.000000000', 'files': ['doc/source/man/nova-manage.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/28a1ca611dc7c16f337ec773d62bb7427bbed3b3', 'message': 'Fixes undocumented commands\n\n* nova-manage db null_instance_uuid_scan\n* nova-manage db archive_deleted_rows\nCloses-Bug: #1399616\nChange-Id: I678b0bf54b19cc440b8f98d68ec914007b444fc3\n'}]",0,148993,28a1ca611dc7c16f337ec773d62bb7427bbed3b3,16,12,1,1343,,,0,"Fixes undocumented commands

* nova-manage db null_instance_uuid_scan
* nova-manage db archive_deleted_rows
Closes-Bug: #1399616
Change-Id: I678b0bf54b19cc440b8f98d68ec914007b444fc3
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/148993/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/man/nova-manage.rst'],1,28a1ca611dc7c16f337ec773d62bb7427bbed3b3,bug/1399616,``nova-manage db archive_deleted_rows [--max_rows <number>]`` Move deleted rows from production tables to shadow tables. ``nova-manage db null_instance_uuid_scan [--delete]`` Lists and optionally deletes database records where instance_uuid is NULL. ,,8,0
openstack%2Fopenstack-ansible~icehouse~I78be9373be20295dc0154af6e642eff2ce0ddc66,openstack/openstack-ansible,icehouse,I78be9373be20295dc0154af6e642eff2ce0ddc66,Add debootstrap package to LXC package list,MERGED,2015-01-23 14:33:04.000000000,2015-01-23 17:56:23.000000000,2015-01-23 17:56:23.000000000,"[{'_account_id': 3}, {'_account_id': 2799}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-23 14:33:04.000000000', 'files': ['rpc_deployment/roles/lxc_common/tasks/lxc_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a8921e703ce539f3fe9b7a66bc1463ad6e4b9522', 'message': 'Add debootstrap package to LXC package list\n\nThis patch adds debootstrap to the LXC installation package list in\norder to prevent errors when trying to use debootstrap to setup lxc\ncontainers.\n\nChange-Id: I78be9373be20295dc0154af6e642eff2ce0ddc66\nCloses-Bug: #1412484\n(cherry picked from commit a49fc71e629c7e7decca0c743c7626ab13974ef5)\n'}]",0,149642,a8921e703ce539f3fe9b7a66bc1463ad6e4b9522,7,4,1,6816,,,0,"Add debootstrap package to LXC package list

This patch adds debootstrap to the LXC installation package list in
order to prevent errors when trying to use debootstrap to setup lxc
containers.

Change-Id: I78be9373be20295dc0154af6e642eff2ce0ddc66
Closes-Bug: #1412484
(cherry picked from commit a49fc71e629c7e7decca0c743c7626ab13974ef5)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/42/149642/1 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/roles/lxc_common/tasks/lxc_install.yml'],1,a8921e703ce539f3fe9b7a66bc1463ad6e4b9522,, - debootstrap,,1,0
openstack%2Ffuel-library~master~I873d1c56db0c29b5f3a646c641e20d774cb35e11,openstack/fuel-library,master,I873d1c56db0c29b5f3a646c641e20d774cb35e11,Provide atop and screen to master node,MERGED,2015-01-14 11:03:00.000000000,2015-01-23 17:53:36.000000000,2015-01-23 09:08:21.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7468}, {'_account_id': 8971}, {'_account_id': 9546}, {'_account_id': 10014}, {'_account_id': 11090}, {'_account_id': 11827}, {'_account_id': 12867}, {'_account_id': 13343}]","[{'number': 1, 'created': '2015-01-14 11:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/6a8c417093eeb80d683d5a578c2bc115bcb9435f', 'message': 'Provide atop and screen to master node\n\nProvide installation and configuration\nof atop and screen to master node\n\nChange-Id: I873d1c56db0c29b5f3a646c641e20d774cb35e11\nCloses-Bug: 1362154\n'}, {'number': 2, 'created': '2015-01-14 16:08:31.000000000', 'files': ['deployment/puppet/nailgun/manifests/packages.pp', 'deployment/puppet/nailgun/examples/host-only.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/e0a4700ce0d33e20edc3cde21d19d7f326dc17b1', 'message': 'Provide atop and screen to master node\n\nProvide installation and configuration\nof atop and screen to master node\n\nDocImpact\nChange-Id: I873d1c56db0c29b5f3a646c641e20d774cb35e11\nCloses-Bug: 1362154\n'}]",0,147112,e0a4700ce0d33e20edc3cde21d19d7f326dc17b1,30,10,2,13344,,,0,"Provide atop and screen to master node

Provide installation and configuration
of atop and screen to master node

DocImpact
Change-Id: I873d1c56db0c29b5f3a646c641e20d774cb35e11
Closes-Bug: 1362154
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/12/147112/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/nailgun/manifests/packages.pp', 'deployment/puppet/nailgun/examples/host-only.pp']",2,6a8c417093eeb80d683d5a578c2bc115bcb9435f,bug/1362154,class { 'osnailyfacter::atop': } ,,3,1
openstack%2Fneutron~master~Iff6054dcdd9fe1b680bdfb4cb9cb870db243a1f3,openstack/neutron,master,Iff6054dcdd9fe1b680bdfb4cb9cb870db243a1f3,Drop neutron.common.rpc.Service,ABANDONED,2015-01-23 16:04:04.000000000,2015-01-23 17:45:54.000000000,,"[{'_account_id': 1561}, {'_account_id': 5170}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10153}, {'_account_id': 10387}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-23 16:04:04.000000000', 'files': ['neutron/common/rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a38417a8a3a895f63391d8b0579bba24f7565422', 'message': ""Drop neutron.common.rpc.Service\n\nDrop this Service class.  There's some stuff in it that's not quite\nright, but it's not used in the code base anymore, so it can just be\nremoved.\n\nChange-Id: Iff6054dcdd9fe1b680bdfb4cb9cb870db243a1f3\n""}]",0,149670,a38417a8a3a895f63391d8b0579bba24f7565422,12,10,1,1561,,,0,"Drop neutron.common.rpc.Service

Drop this Service class.  There's some stuff in it that's not quite
right, but it's not used in the code base anymore, so it can just be
removed.

Change-Id: Iff6054dcdd9fe1b680bdfb4cb9cb870db243a1f3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/149670/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/common/rpc.py'],1,a38417a8a3a895f63391d8b0579bba24f7565422,drop-rpc-service,,"class Service(service.Service): """"""Service object for binaries running on hosts. A service enables rpc by listening to queues based on topic and host. """""" def __init__(self, host, topic, manager=None, serializer=None): super(Service, self).__init__() self.host = host self.topic = topic self.serializer = serializer if manager is None: self.manager = self else: self.manager = manager def start(self): super(Service, self).start() self.conn = create_connection(new=True) LOG.debug(""Creating Consumer connection for Service %s"", self.topic) endpoints = [self.manager] # Share this same connection for these Consumers self.conn.create_consumer(self.topic, endpoints, fanout=False) node_topic = '%s.%s' % (self.topic, self.host) self.conn.create_consumer(node_topic, endpoints, fanout=False) self.conn.create_consumer(self.topic, endpoints, fanout=True) # Hook to allow the manager to do other initializations after # the rpc connection is created. if callable(getattr(self.manager, 'initialize_service_hook', None)): self.manager.initialize_service_hook(self) # Consume from all consumers in threads self.conn.consume_in_threads() def stop(self): # Try to shut the connection down, but if we get any sort of # errors, go ahead and ignore them.. as we're shutting down anyway try: self.conn.close() except Exception: pass super(Service, self).stop() ",0,50
openstack%2Fneutron~master~I1bb4bf6969e18ed345f208ed099a692ada5aa4c0,openstack/neutron,master,I1bb4bf6969e18ed345f208ed099a692ada5aa4c0,Added test_dvr_router_lifecycle to cover dvr,MERGED,2014-12-03 05:52:26.000000000,2015-01-23 17:38:08.000000000,2015-01-23 04:56:14.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 2035}, {'_account_id': 5170}, {'_account_id': 7016}, {'_account_id': 7448}, {'_account_id': 8873}, {'_account_id': 9077}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10971}, {'_account_id': 12040}, {'_account_id': 12444}, {'_account_id': 13051}, {'_account_id': 13770}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-03 05:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e1a2e9c563df15737c4486bd440c12ede8a22d2', 'message': 'Added test_dvr_router_lifecycle to cover dvr\n\nSeveral additions were necessary to support testing the lifecycle of a\ndvr router. Added new function _dvr_router_lifecycle and necessary\nsupporting  functions to avoid impacting any other section of the code\nor tests.\n\nChange-Id: I1bb4bf6969e18ed345f208ed099a692ada5aa4c0\n'}, {'number': 2, 'created': '2014-12-04 23:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/37fa24b53f6a6bcf030a119d8992c963be653d54', 'message': 'Added test_dvr_router_lifecycle to cover dvr\n\nSeveral additions were necessary to support testing the lifecycle of a\ndvr router. Added new function _dvr_router_lifecycle and necessary\nsupporting  functions to avoid impacting any other section of the code\nor tests.\n\nChange-Id: I1bb4bf6969e18ed345f208ed099a692ada5aa4c0\n'}, {'number': 3, 'created': '2014-12-09 21:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c71da6d847a37095648f13a5cc3765f1e522412', 'message': 'Added test_dvr_router_lifecycle to cover dvr\n\nSeveral additions were necessary to support testing the lifecycle of a\ndvr router. Added new function _dvr_router_lifecycle and necessary\nsupporting  functions to avoid impacting any other section of the code\nor tests.\n\nChange-Id: I1bb4bf6969e18ed345f208ed099a692ada5aa4c0\n'}, {'number': 4, 'created': '2014-12-12 21:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/498fdce68575181006734b927130e15d9df78982', 'message': 'Added test_dvr_router_lifecycle to cover dvr\n\nSeveral additions were necessary to support testing the lifecycle of a\ndvr router. Added new function _dvr_router_lifecycle and necessary\nsupporting  functions to avoid impacting any other section of the code\nor tests.\n\nChange-Id: I1bb4bf6969e18ed345f208ed099a692ada5aa4c0\n'}, {'number': 5, 'created': '2014-12-15 03:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa90c65dd7948629d34d58704d0c800d61bea66e', 'message': 'Added test_dvr_router_lifecycle to cover dvr\n\nSeveral additions were necessary to support testing the lifecycle of a\ndvr router. Added new function _dvr_router_lifecycle and necessary\nsupporting  functions to avoid impacting any other section of the code\nor tests.\n\nChange-Id: I1bb4bf6969e18ed345f208ed099a692ada5aa4c0\n'}, {'number': 6, 'created': '2015-01-08 19:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/739caab8744eda980726dfeab000dc794d3c12c2', 'message': 'Added test_dvr_router_lifecycle to cover dvr\n\nSeveral additions were necessary to support testing the lifecycle of a\ndvr router. Added new function _dvr_router_lifecycle and necessary\nsupporting  functions to avoid impacting any other section of the code\nor tests.\nTests Added:\ntest_dvr_router_lifecycle\ntest_dvr_snat_router_lifecycle\n\nChange-Id: I1bb4bf6969e18ed345f208ed099a692ada5aa4c0\n'}, {'number': 7, 'created': '2015-01-13 23:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/293e1fd2a64d3df2b7aafc863c7dafc449f6cbc1', 'message': 'Added test_dvr_router_lifecycle to cover dvr\n\nSeveral additions were necessary to support testing the lifecycle of a\ndvr router. Added new function _dvr_router_lifecycle and necessary\nsupporting  functions to avoid impacting any other section of the code\nor tests.\nTests Added:\ntest_dvr_router_lifecycle\ntest_dvr_snat_router_lifecycle\n\nChange-Id: I1bb4bf6969e18ed345f208ed099a692ada5aa4c0\n'}, {'number': 8, 'created': '2015-01-13 23:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca51e277ec4aac228ae5554967b1a38d5d2a4656', 'message': 'Added test_dvr_router_lifecycle to cover dvr\n\nSeveral additions were necessary to support testing the lifecycle of a\ndvr router. Added new function _dvr_router_lifecycle and necessary\nsupporting  functions to avoid impacting any other section of the code\nor tests.\nTests Added:\ntest_dvr_router_lifecycle\ntest_dvr_snat_router_lifecycle\n\nChange-Id: I1bb4bf6969e18ed345f208ed099a692ada5aa4c0\n'}, {'number': 9, 'created': '2015-01-15 21:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/03d9a916c01ecdd43364a6f0a8b7e033ed80459a', 'message': 'Added test_dvr_router_lifecycle to cover dvr\n\nSeveral additions were necessary to support testing the lifecycle of a\ndvr router. Added new function _dvr_router_lifecycle and necessary\nsupporting  functions to avoid impacting any other section of the code\nor tests.\nTests Added:\ntest_dvr_router_lifecycle_without_ha_without_snat_with_fips\ntest_dvr_router_lifecycle_without_ha_with_snat_with_fips\n\nChange-Id: I1bb4bf6969e18ed345f208ed099a692ada5aa4c0\n'}, {'number': 10, 'created': '2015-01-21 00:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3efabb1fbd948c5f9c81c19650e48d9d51b65a9c', 'message': 'Added test_dvr_router_lifecycle to cover dvr\n\nSeveral additions were necessary to support testing the lifecycle of a\ndvr router. Added new function _dvr_router_lifecycle and necessary\nsupporting  functions to avoid impacting any other section of the code\nor tests.\nTests Added:\ntest_dvr_router_lifecycle_without_ha_without_snat_with_fips\ntest_dvr_router_lifecycle_without_ha_with_snat_with_fips\n\nChange-Id: I1bb4bf6969e18ed345f208ed099a692ada5aa4c0\n'}, {'number': 11, 'created': '2015-01-21 18:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ade54c519d7d5c326e4228fa11129aaabcf9507', 'message': 'Added test_dvr_router_lifecycle to cover dvr\n\nSeveral additions were necessary to support testing the lifecycle of a\ndvr router. Added new function _dvr_router_lifecycle and necessary\nsupporting  functions to avoid impacting any other section of the code\nor tests.\nTests Added:\ntest_dvr_router_lifecycle_without_ha_without_snat_with_fips\ntest_dvr_router_lifecycle_without_ha_with_snat_with_fips\n\nChange-Id: I1bb4bf6969e18ed345f208ed099a692ada5aa4c0\n'}, {'number': 12, 'created': '2015-01-22 09:30:19.000000000', 'files': ['neutron/tests/functional/agent/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/816911a28b0832d4f10ffe1338e7dc715f1eaf5a', 'message': 'Added test_dvr_router_lifecycle to cover dvr\n\nSeveral additions were necessary to support testing the lifecycle of a\ndvr router. Added new function _dvr_router_lifecycle and necessary\nsupporting  functions to avoid impacting any other section of the code\nor tests.\nTests Added:\ntest_dvr_router_lifecycle_without_ha_without_snat_with_fips\ntest_dvr_router_lifecycle_without_ha_with_snat_with_fips\n\nChange-Id: I1bb4bf6969e18ed345f208ed099a692ada5aa4c0\n'}]",124,138632,816911a28b0832d4f10ffe1338e7dc715f1eaf5a,305,31,12,13770,,,0,"Added test_dvr_router_lifecycle to cover dvr

Several additions were necessary to support testing the lifecycle of a
dvr router. Added new function _dvr_router_lifecycle and necessary
supporting  functions to avoid impacting any other section of the code
or tests.
Tests Added:
test_dvr_router_lifecycle_without_ha_without_snat_with_fips
test_dvr_router_lifecycle_without_ha_with_snat_with_fips

Change-Id: I1bb4bf6969e18ed345f208ed099a692ada5aa4c0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/138632/10 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/test_l3_agent.py'],1,6e1a2e9c563df15737c4486bd440c12ede8a22d2,dvr_functional_test," def generate_dvr_router_info(self, enable_ha=False, distributed=False, enable_snat=False): router = test_l3_agent.prepare_router_data(enable_snat=True, enable_floating_ip=True, enable_ha=enable_ha) int_ports = router.get(l3_constants.INTERFACE_KEY, []) router['distributed'] = distributed router['gw_port_host'] = self.agent.conf.host router['gw_port']['binding:host_id'] = self.agent.conf.host router['_floatingips'][0]['floating_network_id'] \ = router['gw_port']['network_id'] router['_floatingips'][0]['host'] = self.agent.conf.host router['_floatingips'][0]['port_id'] = int_ports[0]['id'] router['_floatingips'][0]['status'] = 'ACTIVE' if enable_snat: snat_port_list = router.get(l3_constants.SNAT_ROUTER_INTF_KEY, []) if len(snat_port_list) < 1: if len(int_ports) > 0: # We first get values from internal port snat_subnet_id = int_ports[0]['fixed_ips'][0]['subnet_id'] snat_cidr = int_ports[0]['subnet']['cidr'] snat_gw = int_ports[0]['subnet']['gateway_ip'] snat_network_id = int_ports[0]['network_id'] port_ip = int_ports[0]['fixed_ips'][0]['ip_address'] # we pick an ip adress ending in 9(is this safe?) snat_ip = port_ip[0:-1] + ""9"" # And add the info to router as its snat_port # Could do this in one line but makes it hard # to read router[l3_constants.SNAT_ROUTER_INTF_KEY] = [ {'subnet': {'cidr': snat_cidr, 'gateway_ip': snat_gw, 'id': snat_subnet_id}, 'network_id': snat_network_id, 'device_owner': 'network:router_centralized_snat', 'mac_address': 'fa:16:3e:80:8d:89', 'fixed_ips': [{'subnet_id': snat_subnet_id, 'ip_address': snat_ip}], 'id': _uuid(), 'device_id': _uuid()} ] return router def test_dvr_router_lifecycle(self): self.agent.conf.agent_mode = 'dvr_snat' self._dvr_router_lifecycle(enable_ha=False, distributed=True, agent_mode='dvr_snat') def _dvr_router_lifecycle(self, enable_ha=False, distributed=True, agent_mode=None): router_info = self.generate_dvr_router_info(enable_ha, distributed, agent_mode) # We need to mock the get_agent_gateway_port return value # since the whole L3PluginApi is mocked and we need the port # before the l3_agent will create it. l3_agent.L3PluginApi.return_value.get_agent_gateway_port.return_value\ = router_info['gw_port'] router = self.manage_router(self.agent, router_info) if enable_ha: self.wait_until(lambda: router.ha_state == 'master') # Keepalived notifies of a state transition when it starts, # not when it ends. Thus, we have to wait until keepalived finishes # configuring everything. We verify this by waiting until the last # device has an IP address. device = router.router[l3_constants.INTERFACE_KEY][-1] self.wait_until(self.device_exists_with_ip_mac, device, self.agent.get_internal_device_name, router.ns_name) self.assertTrue(self._namespace_exists(router)) self.assertTrue(self._metadata_proxy_exists(self.agent.conf, router)) self._assert_internal_devices(router) self._assert_external_dvr_device(router) self._assert_dvr_gateway(router) self._assert_dvr_floating_ips(router) self._assert_snat_chains(router) self._assert_floating_ip_chains(router) if enable_ha: self._assert_ha_device(router) self.assertTrue(router.keepalived_manager.process.active) self._delete_router(self.agent, router.router_id) self._assert_router_does_not_exist(router) if enable_ha: self.assertFalse(router.keepalived_manager.process.active) def _assert_external_dvr_device(self, router): external_port = self.agent._get_ex_gw_port(router) snat_ns_name = ""snat-"" + str(router.router_id) self.assertTrue(self.device_exists_with_ip_mac( external_port, self.agent.get_external_device_name, snat_ns_name)) def _assert_dvr_gateway(self, router): external_port = self.agent._get_ex_gw_port(router) snat_ns_name = ""snat-"" + str(router.router_id) external_device_name = self.agent.get_external_device_name( external_port['id']) external_device = ip_lib.IPDevice(external_device_name, self.root_helper, snat_ns_name) existing_gateway = ( external_device.route.get_gateway().get('gateway')) expected_gateway = external_port['subnet']['gateway_ip'] self.assertEqual(expected_gateway, existing_gateway) def _assert_dvr_floating_ips(self, router): # in the fip namespace: # Check that the fg-<port-id> (floatingip_agent_gateway) # is created with the ip address of the external gateway port floating_ips = router.router[l3_constants.FLOATINGIP_KEY] self.assertTrue(len(floating_ips)) external_port = self.agent._get_ex_gw_port(router) fip_ns_name = ""fip-"" + str(floating_ips[0]['floating_network_id']) # Check that the fg port is created correctly self.assertTrue(ip_lib.device_exists_with_ip_mac( self.agent.get_fip_ext_device_name(external_port['id']), external_port['ip_cidr'], external_port['mac_address'], fip_ns_name, self.root_helper)) # Check fpr-router device has been created device_name = self.agent.get_fip_int_device_name(router.router_id) self.assertTrue(ip_lib.device_exists(device_name, self.root_helper, fip_ns_name)) # In the router namespace # Check rfp-<router-id> is created correctly for fip in floating_ips: device_name = self.agent.get_rtr_int_device_name(router.router_id) self.assertTrue(ip_lib.device_exists( device_name, self.root_helper, router.ns_name)) ",,138,0
openstack%2Fpuppet-openstack_extras~master~Id84994df3bf2a990d2925b595aa448746db45383,openstack/puppet-openstack_extras,master,Id84994df3bf2a990d2925b595aa448746db45383,Fix primitive_status for pacemaker,MERGED,2015-01-23 11:09:50.000000000,2015-01-23 17:33:03.000000000,2015-01-23 17:33:01.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 7155}, {'_account_id': 9037}]","[{'number': 1, 'created': '2015-01-23 11:09:50.000000000', 'files': ['lib/puppet/provider/pacemaker_common.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/908103d89a1c67aefd817209f774a0dfce634795', 'message': 'Fix primitive_status for pacemaker\n\nWhen calling primitive_status using a node param, the status is not\ndetected properly if the node id in the CIB is not equal to its\nhostname. Fixing this by looping through all nodes and checking the\nuname key.\n\nChange-Id: Id84994df3bf2a990d2925b595aa448746db45383\n'}]",0,149569,908103d89a1c67aefd817209f774a0dfce634795,7,6,1,13294,,,0,"Fix primitive_status for pacemaker

When calling primitive_status using a node param, the status is not
detected properly if the node id in the CIB is not equal to its
hostname. Fixing this by looping through all nodes and checking the
uname key.

Change-Id: Id84994df3bf2a990d2925b595aa448746db45383
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/69/149569/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/pacemaker_common.rb'],1,908103d89a1c67aefd817209f774a0dfce634795,jpena/primitive_status," found_node = nil nodes.each do |k, v| if v.fetch(""uname"", {}).eql? node found_node = v end end return unless found_node found_node. fetch('primitives',{}). fetch(primitive, {}). fetch('status', nil)"," nodes. fetch(node, {}). fetch('primitives',{}). fetch(primitive, {}). fetch('status', nil)",11,5
openstack%2Fpuppet-keystone~stable%2Fjuno~I1ed19b6a4273c08a74cf1bc551e23dcd05efa6bb,openstack/puppet-keystone,stable/juno,I1ed19b6a4273c08a74cf1bc551e23dcd05efa6bb,add require json for to_json dependency,MERGED,2015-01-23 16:02:51.000000000,2015-01-23 17:26:42.000000000,2015-01-23 17:26:41.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7155}]","[{'number': 1, 'created': '2015-01-23 16:02:51.000000000', 'files': ['spec/unit/provider/keystone_user/openstack_spec.rb', 'lib/puppet/provider/keystone_user/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/3043567f0c2e92ce4ee511b18b0ee952d1e27632', 'message': ""add require json for to_json dependency\n\nThe commit to use the REST api to check the password introduced a\ndependency on JSON.  This adds the require 'json' to satisfy it.\nThis also adds some tests to exercise the REST HTTPS code.\n\nChange-Id: I1ed19b6a4273c08a74cf1bc551e23dcd05efa6bb\n(cherry picked from commit beef860d37977750a1656867d3a7778813d0c915)\n""}]",0,149668,3043567f0c2e92ce4ee511b18b0ee952d1e27632,6,3,1,9983,,,0,"add require json for to_json dependency

The commit to use the REST api to check the password introduced a
dependency on JSON.  This adds the require 'json' to satisfy it.
This also adds some tests to exercise the REST HTTPS code.

Change-Id: I1ed19b6a4273c08a74cf1bc551e23dcd05efa6bb
(cherry picked from commit beef860d37977750a1656867d3a7778813d0c915)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/68/149668/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/keystone_user/openstack_spec.rb', 'lib/puppet/provider/keystone_user/openstack.rb']",2,3043567f0c2e92ce4ee511b18b0ee952d1e27632,,require 'json',,74,23
openstack%2Frally~master~I2de902aa67c75ad09cd733926c94e216129fab6b,openstack/rally,master,I2de902aa67c75ad09cd733926c94e216129fab6b,"Replace ' with "" in rally/benchmark",MERGED,2015-01-21 09:13:02.000000000,2015-01-23 17:26:16.000000000,2015-01-23 17:26:12.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 8367}, {'_account_id': 8507}, {'_account_id': 14135}, {'_account_id': 14598}]","[{'number': 1, 'created': '2015-01-21 09:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7d59c6403aa72522f1943a30fe323498bb7517e5', 'message': 'Replace \' with "" in rally/benchmark\n\nPartial bug: 1405884\n\nChange-Id: I2de902aa67c75ad09cd733926c94e216129fab6b\n'}, {'number': 2, 'created': '2015-01-21 19:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4c5c1f7cf3b9fa6e65125ca08c125878109ce0bd', 'message': 'Replace \' with "" in rally/benchmark\n\nPartial bug: 1405884\n\nChange-Id: I2de902aa67c75ad09cd733926c94e216129fab6b\n'}, {'number': 3, 'created': '2015-01-21 21:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/caac759cfd6d880044494d0f78f149590f4bb96e', 'message': 'Replace \' with "" in rally/benchmark\n\nPartial bug: 1405884\n\nChange-Id: I2de902aa67c75ad09cd733926c94e216129fab6b\n'}, {'number': 4, 'created': '2015-01-23 10:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a2a4847f5842375f7f8e083044ba1f77d5b35ec7', 'message': 'Replace \' with "" in rally/benchmark\n\nPartial bug: 1405884\n\nChange-Id: I2de902aa67c75ad09cd733926c94e216129fab6b\n'}, {'number': 5, 'created': '2015-01-23 11:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/0dfb438e73775cf841dab9a8958b79c2ce035f6d', 'message': 'Replace \' with "" in rally/benchmark\n\nPartial bug: 1405884\n\nChange-Id: I2de902aa67c75ad09cd733926c94e216129fab6b\n'}, {'number': 6, 'created': '2015-01-23 15:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5190ed255e6579afae516b8bbc4e8bf3703362ca', 'message': 'Replace \' with "" in rally/benchmark\n\nPartial bug: 1405884\n\nChange-Id: I2de902aa67c75ad09cd733926c94e216129fab6b\n'}, {'number': 7, 'created': '2015-01-23 15:54:15.000000000', 'files': ['rally/benchmark/runners/serial.py', 'rally/benchmark/scenarios/quotas/utils.py', 'rally/benchmark/utils.py', 'rally/benchmark/scenarios/sahara/utils.py', 'rally/benchmark/processing/charts/histogram.py', 'rally/benchmark/scenarios/zaqar/utils.py', 'rally/benchmark/types.py', 'rally/benchmark/scenarios/heat/utils.py', 'rally/benchmark/scenarios/cinder/utils.py', 'rally/benchmark/scenarios/dummy/dummy.py', 'rally/benchmark/context/servers.py', 'rally/benchmark/scenarios/cinder/volumes.py', 'rally/benchmark/scenarios/glance/utils.py', 'rally/benchmark/scenarios/ceilometer/utils.py', 'rally/benchmark/processing/plot.py', 'rally/benchmark/scenarios/quotas/quotas.py', 'rally/benchmark/context/images.py', 'rally/benchmark/scenarios/designate/basic.py', 'rally/benchmark/context/volumes.py', 'rally/benchmark/scenarios/vm/utils.py', 'rally/benchmark/scenarios/nova/utils.py', 'rally/benchmark/scenarios/nova/servers.py', 'rally/benchmark/scenarios/sahara/node_group_templates.py', 'rally/benchmark/context/secgroup.py', 'rally/benchmark/scenarios/sahara/clusters.py', 'rally/benchmark/scenarios/neutron/network.py', 'rally/benchmark/scenarios/neutron/utils.py', 'rally/benchmark/engine.py', 'rally/benchmark/scenarios/keystone/utils.py', 'rally/benchmark/scenarios/designate/utils.py', 'rally/benchmark/validation.py', 'rally/benchmark/scenarios/tempest/tempest.py', 'rally/benchmark/sla/base.py', 'rally/benchmark/wrappers/keystone.py', 'rally/benchmark/scenarios/utils.py', 'rally/benchmark/context/users.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/96fd52182aed95e4557bb02214cbc815a33080f6', 'message': 'Replace \' with "" in rally/benchmark\n\nPartial bug: 1405884\n\nChange-Id: I2de902aa67c75ad09cd733926c94e216129fab6b\n'}]",5,148851,96fd52182aed95e4557bb02214cbc815a33080f6,42,6,7,14598,,,0,"Replace ' with "" in rally/benchmark

Partial bug: 1405884

Change-Id: I2de902aa67c75ad09cd733926c94e216129fab6b
",git fetch https://review.opendev.org/openstack/rally refs/changes/51/148851/5 && git format-patch -1 --stdout FETCH_HEAD,"['rally/benchmark/runners/serial.py', 'rally/benchmark/scenarios/quotas/utils.py', 'rally/benchmark/utils.py', 'rally/benchmark/scenarios/sahara/utils.py', 'rally/benchmark/processing/charts/histogram.py', 'rally/benchmark/scenarios/zaqar/utils.py', 'rally/benchmark/types.py', 'rally/benchmark/scenarios/heat/utils.py', 'rally/benchmark/scenarios/cinder/utils.py', 'rally/benchmark/scenarios/dummy/dummy.py', 'rally/benchmark/context/servers.py', 'rally/benchmark/scenarios/cinder/volumes.py', 'rally/benchmark/scenarios/glance/utils.py', 'rally/benchmark/scenarios/ceilometer/utils.py', 'rally/benchmark/processing/plot.py', 'rally/benchmark/scenarios/quotas/quotas.py', 'rally/benchmark/context/images.py', 'rally/benchmark/scenarios/designate/basic.py', 'rally/benchmark/context/volumes.py', 'rally/benchmark/scenarios/vm/utils.py', 'rally/benchmark/scenarios/nova/utils.py', 'rally/benchmark/scenarios/nova/servers.py', 'rally/benchmark/scenarios/sahara/node_group_templates.py', 'rally/benchmark/context/secgroup.py', 'rally/benchmark/scenarios/base.py', 'rally/benchmark/scenarios/sahara/clusters.py', 'rally/benchmark/scenarios/neutron/network.py', 'rally/benchmark/scenarios/neutron/utils.py', 'rally/benchmark/engine.py', 'rally/benchmark/scenarios/keystone/utils.py', 'rally/benchmark/scenarios/designate/utils.py', 'rally/benchmark/validation.py', 'rally/benchmark/sla/base.py', 'rally/benchmark/wrappers/keystone.py', 'rally/benchmark/scenarios/utils.py', 'rally/benchmark/context/users.py']",36,7d59c6403aa72522f1943a30fe323498bb7517e5,bug/1405884," group=cfg.OptGroup(name=""users_context"", title=""benchmark context options"")) if not utils.check_service_status(nova_admin, ""nova-network""):"," group=cfg.OptGroup(name='users_context', title='benchmark context options')) if not utils.check_service_status(nova_admin, 'nova-network'):",309,302
openstack%2Fmanila~master~Ib87c4883e7e344491b4fc45656dad3ddf003bad1,openstack/manila,master,Ib87c4883e7e344491b4fc45656dad3ddf003bad1,Fix tempest pep8 failures,MERGED,2015-01-22 19:03:35.000000000,2015-01-23 17:20:09.000000000,2015-01-23 17:20:08.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6116}, {'_account_id': 8851}, {'_account_id': 11878}]","[{'number': 1, 'created': '2015-01-22 19:03:35.000000000', 'files': ['contrib/tempest/tempest/api/share/base.py', 'contrib/tempest/tempest/api/share/test_metadata_negative.py', 'contrib/tempest/tempest/services/share/json/shares_client.py', 'contrib/tempest/tempest/api/share/admin/test_share_servers_negative.py', 'contrib/tempest/tempest/api/share/test_rules_negative.py', 'contrib/tempest/tempest/api/share/test_share_networks.py', 'contrib/tempest/tempest/api/share/admin/test_share_networks.py', 'contrib/tempest/tempest/api/share/admin/test_shares_actions.py', 'contrib/tempest/tempest/api/share/test_shares_actions.py', 'contrib/tempest/tempest/api/share/test_security_services_mapping_negative.py', 'contrib/tempest/tempest/api/share/admin/test_quotas_negative.py', 'contrib/tempest/tempest/api/share/admin/test_admin_actions.py', 'contrib/tempest/tempest/api/share/test_shares.py', 'contrib/tempest/tempest/api/share/test_metadata.py', 'contrib/tempest/tempest/cli/simple_read_only/test_manila.py', 'contrib/tempest/tempest/api/share/test_quotas.py', 'contrib/tempest/tempest/api/share/test_security_services_mapping.py', 'contrib/tempest/tempest/api/share/admin/test_volume_types_extra_specs_negative.py', 'contrib/tempest/tempest/api/share/admin/test_admin_actions_negative.py', 'contrib/tempest/tempest/api/share/admin/test_volume_types_negative.py', 'contrib/tempest/tempest/api/share/test_rules.py', 'contrib/tempest/tempest/api/share/admin/test_share_servers.py', 'contrib/tempest/tempest/api/share/admin/test_volume_types_extra_specs.py', 'contrib/tempest/tempest/api/share/admin/test_multi_backend.py', 'contrib/tempest/tempest/api/share/admin/test_quotas.py', 'contrib/tempest/tempest/api/share/admin/test_services_negative.py', 'contrib/tempest/tempest/api/share/test_quotas_negative.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/1574a3e4a6756c59517c99173b9a00b15370fb13', 'message': ""Fix tempest pep8 failures\n\nThis fix changes the tempest code in manila's contrib\nfolder to comply with current tempest pep8/flake8 checks.\n\nChange-Id: Ib87c4883e7e344491b4fc45656dad3ddf003bad1\n""}]",0,149367,1574a3e4a6756c59517c99173b9a00b15370fb13,10,5,1,9366,,,0,"Fix tempest pep8 failures

This fix changes the tempest code in manila's contrib
folder to comply with current tempest pep8/flake8 checks.

Change-Id: Ib87c4883e7e344491b4fc45656dad3ddf003bad1
",git fetch https://review.opendev.org/openstack/manila refs/changes/67/149367/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/tempest/tempest/api/share/base.py', 'contrib/tempest/tempest/api/share/test_metadata_negative.py', 'contrib/tempest/tempest/services/share/json/shares_client.py', 'contrib/tempest/tempest/api/share/admin/test_share_servers_negative.py', 'contrib/tempest/tempest/api/share/test_rules_negative.py', 'contrib/tempest/tempest/api/share/test_share_networks.py', 'contrib/tempest/tempest/api/share/admin/test_share_networks.py', 'contrib/tempest/tempest/api/share/admin/test_shares_actions.py', 'contrib/tempest/tempest/api/share/test_shares_actions.py', 'contrib/tempest/tempest/api/share/test_security_services_mapping_negative.py', 'contrib/tempest/tempest/api/share/admin/test_quotas_negative.py', 'contrib/tempest/tempest/api/share/admin/test_admin_actions.py', 'contrib/tempest/tempest/api/share/test_shares.py', 'contrib/tempest/tempest/api/share/test_metadata.py', 'contrib/tempest/tempest/cli/simple_read_only/test_manila.py', 'contrib/tempest/tempest/api/share/test_quotas.py', 'contrib/tempest/tempest/api/share/test_security_services_mapping.py', 'contrib/tempest/tempest/api/share/admin/test_volume_types_extra_specs_negative.py', 'contrib/tempest/tempest/api/share/admin/test_admin_actions_negative.py', 'contrib/tempest/tempest/api/share/admin/test_volume_types_negative.py', 'contrib/tempest/tempest/api/share/test_rules.py', 'contrib/tempest/tempest/api/share/admin/test_share_servers.py', 'contrib/tempest/tempest/api/share/admin/test_volume_types_extra_specs.py', 'contrib/tempest/tempest/api/share/admin/test_multi_backend.py', 'contrib/tempest/tempest/api/share/admin/test_quotas.py', 'contrib/tempest/tempest/api/share/admin/test_services_negative.py', 'contrib/tempest/tempest/api/share/test_quotas_negative.py']",27,1574a3e4a6756c59517c99173b9a00b15370fb13,tempest_pep8," def resource_setup(cls): super(SharesQuotasNegativeTest, cls).resource_setup()"," def setUpClass(cls): super(SharesQuotasNegativeTest, cls).setUpClass()",78,76
openstack%2Fgnocchi~master~Iab0ac28b67ef4def26c7c90f0df88f0bf22358e1,openstack/gnocchi,master,Iab0ac28b67ef4def26c7c90f0df88f0bf22358e1,Remove useless requirements,MERGED,2015-01-23 14:28:24.000000000,2015-01-23 17:19:12.000000000,2015-01-23 17:19:12.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 11564}]","[{'number': 1, 'created': '2015-01-23 14:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/d1b245dc28de4371aa74069612924e7ea3f99949', 'message': 'Remove useless requirements\n\nChange-Id: Iab0ac28b67ef4def26c7c90f0df88f0bf22358e1\n'}, {'number': 2, 'created': '2015-01-23 15:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/55536be2a1f943921e87cfdc76cd7439f0529776', 'message': 'Remove useless requirements\n\nChange-Id: Iab0ac28b67ef4def26c7c90f0df88f0bf22358e1\n'}, {'number': 3, 'created': '2015-01-23 16:45:11.000000000', 'files': ['gnocchi/gendoc.py', 'gnocchi/tests/base.py', 'requirements.txt', 'setup-mysql-tests.sh', 'setup-postgresql-tests.sh'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/5b9b43b88015348ef6816eba73283f7e5a1cc2fb', 'message': 'Remove useless requirements\n\nChange-Id: Iab0ac28b67ef4def26c7c90f0df88f0bf22358e1\n'}]",0,149640,5b9b43b88015348ef6816eba73283f7e5a1cc2fb,12,3,3,1669,,,0,"Remove useless requirements

Change-Id: Iab0ac28b67ef4def26c7c90f0df88f0bf22358e1
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/40/149640/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d1b245dc28de4371aa74069612924e7ea3f99949,,,babelsysv_ipc>=0.6.8,0,2
openstack%2Fneutron~stable%2Ficehouse~Ic2ab3f0179b0c192e63af0bc4268d92aa26bdabe,openstack/neutron,stable/icehouse,Ic2ab3f0179b0c192e63af0bc4268d92aa26bdabe,Reset policies after RESOURCE_ATTRIBUTE_MAP is populated,MERGED,2015-01-12 18:41:56.000000000,2015-01-23 17:17:34.000000000,2015-01-23 17:17:32.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 2874}, {'_account_id': 5170}, {'_account_id': 8124}, {'_account_id': 9656}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 10153}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14212}]","[{'number': 1, 'created': '2015-01-12 18:41:56.000000000', 'files': ['neutron/api/extensions.py', 'neutron/tests/functional/api/test_policies.py', 'neutron/tests/functional/api/__init__.py', 'neutron/api/v2/router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9cb001626e90239b1ffe5583ab9a4349280856c', 'message': 'Reset policies after RESOURCE_ATTRIBUTE_MAP is populated\n\nThe REST API relies on neutron-specific policy checking logic that is\nonly available after the extensions are loaded and the\nRESOURCE_ATTRIBUTE_MAP is populated. This patch resets the policies\nimmediately after these steps are done. This ensures that in the event\nthe policies are prematurely loaded for any reason, the on-demand\nloading of the policies will reload the policies and properly configure\nthe neutron specific checks on the next policy check.\n\nChange-Id: Ic2ab3f0179b0c192e63af0bc4268d92aa26bdabe\nCloses-Bug: #1398566\nRelated-Bug: #1254555\n(cherry picked from commit eeff5d06b2099ed9813091926dd8cef58680ad8f)\n'}]",4,146603,c9cb001626e90239b1ffe5583ab9a4349280856c,19,13,1,6681,,,0,"Reset policies after RESOURCE_ATTRIBUTE_MAP is populated

The REST API relies on neutron-specific policy checking logic that is
only available after the extensions are loaded and the
RESOURCE_ATTRIBUTE_MAP is populated. This patch resets the policies
immediately after these steps are done. This ensures that in the event
the policies are prematurely loaded for any reason, the on-demand
loading of the policies will reload the policies and properly configure
the neutron specific checks on the next policy check.

Change-Id: Ic2ab3f0179b0c192e63af0bc4268d92aa26bdabe
Closes-Bug: #1398566
Related-Bug: #1254555
(cherry picked from commit eeff5d06b2099ed9813091926dd8cef58680ad8f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/146603/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/extensions.py', 'neutron/tests/functional/api/test_policies.py', 'neutron/api/v2/router.py', 'neutron/tests/functional/api/__init__.py']",4,c9cb001626e90239b1ffe5583ab9a4349280856c,bug/1398566,,,109,2
openstack%2Fnova~master~Id0fa74a115be436137e0c94585294f4e131e5f5e,openstack/nova,master,Id0fa74a115be436137e0c94585294f4e131e5f5e,Use get_my_ipv4 from oslo.utils,MERGED,2014-12-22 15:42:48.000000000,2015-01-23 17:16:13.000000000,2015-01-23 15:05:27.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 7491}, {'_account_id': 7730}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9545}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 9796}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}]","[{'number': 1, 'created': '2014-12-22 15:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79d8e77c122e3eee1c81268ba8ac6a2f98a2d6ed', 'message': ""Use get_my_ipv4 from oslo.utils\n\nRemove _get_my_ip from nova and replace it's usages\nby usages of get_my_ipv4 from netutils, because this methods\nimplements the same functionality.\n\nChange-Id: Id0fa74a115be436137e0c94585294f4e131e5f5e\n""}, {'number': 2, 'created': '2014-12-23 10:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff4dfc12b25e39a16301721df32db521f5afd3c4', 'message': ""Use get_my_ipv4 from oslo.utils\n\nRemove _get_my_ip from nova and replace it's usages\nby usages of get_my_ipv4 from netutils, because this methods\nimplements the same functionality.\n\nAlso removed related tests\n\nChange-Id: Id0fa74a115be436137e0c94585294f4e131e5f5e\n""}, {'number': 3, 'created': '2014-12-25 16:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7277619b24e19d78ce312239176d499db4b7b555', 'message': ""Use get_my_ipv4 from oslo.utils\n\nRemove _get_my_ip from nova and replace it's usages\nby usages of get_my_ipv4 from netutils, because this methods\nimplements the same functionality.\n\nAlso removed related tests\n\nChange-Id: Id0fa74a115be436137e0c94585294f4e131e5f5e\n""}, {'number': 4, 'created': '2015-01-06 11:34:03.000000000', 'files': ['nova/netconf.py', 'nova/tests/unit/test_utils.py', 'nova/tests/unit/api/openstack/fakes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ed51210813d90389c7dd48f0c826e566595adf97', 'message': ""Use get_my_ipv4 from oslo.utils\n\nRemove _get_my_ip from nova and replace it's usages\nby usages of get_my_ipv4 from netutils, because this methods\nimplements the same functionality.\n\nAlso removed related tests\n\nChange-Id: Id0fa74a115be436137e0c94585294f4e131e5f5e\n""}]",3,143473,ed51210813d90389c7dd48f0c826e566595adf97,71,17,4,9550,,,0,"Use get_my_ipv4 from oslo.utils

Remove _get_my_ip from nova and replace it's usages
by usages of get_my_ipv4 from netutils, because this methods
implements the same functionality.

Also removed related tests

Change-Id: Id0fa74a115be436137e0c94585294f4e131e5f5e
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/143473/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/netconf.py', 'nova/tests/unit/api/openstack/fakes.py']",2,79d8e77c122e3eee1c81268ba8ac6a2f98a2d6ed,reuse_netutils,"from oslo.utils import netutils stubs.Set(netutils, 'get_my_ipv4', get_my_ip)"," stubs.Set(nova.netconf, '_get_my_ip', get_my_ip)",4,22
openstack%2Ffuel-main~stable%2F6.0~I21b015dec730eeca737524b04661aa435f7e5097,openstack/fuel-main,stable/6.0,I21b015dec730eeca737524b04661aa435f7e5097,Add neutron failover tests,MERGED,2015-01-14 09:39:44.000000000,2015-01-23 17:10:11.000000000,2015-01-23 17:10:11.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11081}, {'_account_id': 11969}, {'_account_id': 12867}]","[{'number': 1, 'created': '2015-01-14 09:39:44.000000000', 'files': ['fuelweb_test/tests/tests_strength/test_neutron.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/b50d6000b32ae226c1a584d816782af370df72ba', 'message': 'Add neutron failover tests\n\n- Add test on l3 agent rescheduling after non-primary controller reset\nand after non-primary controller shutdown\n\nImplement blueprint ha-test-improvements\n\nChange-Id: I21b015dec730eeca737524b04661aa435f7e5097\n(cherry picked from commit c9479102c97d700547d8b9d1753f642a1d032ed9)\n'}]",4,147096,b50d6000b32ae226c1a584d816782af370df72ba,11,8,1,10136,,,0,"Add neutron failover tests

- Add test on l3 agent rescheduling after non-primary controller reset
and after non-primary controller shutdown

Implement blueprint ha-test-improvements

Change-Id: I21b015dec730eeca737524b04661aa435f7e5097
(cherry picked from commit c9479102c97d700547d8b9d1753f642a1d032ed9)
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/96/147096/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/tests_strength/test_neutron.py'],1,b50d6000b32ae226c1a584d816782af370df72ba,,"from proboscis import SkipTestfrom fuelweb_test.helpers.decorators import retry @classmethod def get_node_with_dhcp(cls, self, os_conn, net_id): node = os_conn.get_node_with_dhcp_for_network(net_id)[0] node_fqdn = self.fuel_web.get_fqdn_by_hostname(node) logger.debug('node name with dhcp is {0}'.format(node)) devops_node = self.fuel_web.find_devops_node_by_nailgun_fqdn( node_fqdn, self.env.nodes().slaves[0:6]) return devops_node @classmethod def get_node_with_l3(cls, self, node_with_l3): node_with_l3_fqdn = self.fuel_web.get_fqdn_by_hostname(node_with_l3) logger.debug(""new node with l3 is {0}"".format(node_with_l3)) devops_node = self.fuel_web.find_devops_node_by_nailgun_fqdn( node_with_l3_fqdn, self.env.nodes().slaves[0:6]) return devops_node @classmethod def create_instance_with_keypair(cls, os_conn, remote): remote.execute( '. openrc;' ' nova keypair-add instancekey > /root/.ssh/webserver_rsa') remote.execute('chmod 400 /root/.ssh/webserver_rsa') instance = os_conn.create_server_for_migration( neutron=True, key_name='instancekey') return instance @classmethod def reshedule_router_manually(cls, os_conn, router_id): l3_agent_id = os_conn.get_l3_agent_ids(router_id)[0] logger.debug(""l3 agent id is {0}"".format(l3_agent_id)) another_l3_agent = os_conn.get_available_l3_agents_ids( l3_agent_id)[0] logger.debug(""another l3 agent is {0}"".format(another_l3_agent)) os_conn.remove_l3_from_router(l3_agent_id, router_id) os_conn.add_l3_to_router(another_l3_agent, router_id) wait(lambda: os_conn.get_l3_agent_ids(router_id), timeout=60 * 5) @classmethod def check_instance_connectivity(cls, remote, dhcp_namespace, instance_ip): cmd = "". openrc; ip netns exec {0} ssh -i /root/.ssh/webserver_rsa"" \ "" -o 'StrictHostKeyChecking no'"" \ "" cirros@{1} \""ping -c 1 8.8.8.8\"""".format(dhcp_namespace, instance_ip) wait(lambda: remote.execute(cmd)['exit_code'] == 0, timeout=2 * 60) res = remote.execute(cmd) assert_equal(0, res['exit_code'], 'instance has no connectivity, exit code {0}'.format( res['exit_code'])) """"""Deploy cluster in HA mode, Neutron with GRE segmentation try: self.check_run('deploy_ha_neutron') except SkipTest: return self.env.make_snapshot(""deploy_ha_neutron"", is_make=True) @test(depends_on=[deploy_ha_neutron], groups=[""neutron_l3_migration""]) @log_snapshot_on_error def neutron_l3_migration(self): """"""Check l3-agent rescheduling after l3-agent dies Scenario: 1. Revert snapshot with neutron cluster 2. Manually reschedule router from primary controller to another one 3. Stop l3-agent on new node with pcs 4. Check l3-agent was rescheduled 5. Check network connectivity from instance via dhcp namespace 6. Run OSTF Snapshot deploy_ha_neutron """""" self.env.revert_snapshot(""deploy_ha_neutron"") cluster_id = self.fuel_web.get_last_created_cluster() devops_node = self.get_node_with_dhcp(self, os_conn, net_id) instance_ip = \ self.create_instance_with_keypair( os_conn, remote).addresses['net04'][0]['addr'] self.reshedule_router_manually(os_conn, router_id) self.check_instance_connectivity(remote, dhcp_namespace, instance_ip) new_devops = self.get_node_with_l3(self, node_with_l3) self.check_instance_connectivity(remote, dhcp_namespace, instance_ip) @test(depends_on=[deploy_ha_neutron], groups=[""neutron_l3_migration_after_reset""]) @log_snapshot_on_error def neutron_l3_migration_after_reset(self): """"""Check l3-agent rescheduling after reset non-primary controller Scenario: 1. Revert snapshot with neutron cluster 2. Manually reschedule router from primary controller to another one 3. Reset controller with l3-agent 4. Check l3-agent was rescheduled 5. Check network connectivity from instance via dhcp namespace 6. Run OSTF Snapshot deploy_ha_neutron """""" self.env.revert_snapshot(""deploy_ha_neutron"") cluster_id = self.fuel_web.get_last_created_cluster() os_conn = os_actions.OpenStackActions( self.fuel_web.get_public_vip(cluster_id)) net_id = os_conn.get_network('net04')['id'] devops_node = self.get_node_with_dhcp(self, os_conn, net_id) remote = self.env.get_ssh_to_remote_by_name(devops_node.name) dhcp_namespace = ''.join(remote.execute('ip netns | grep {0}'.format( net_id))['stdout']).rstrip() logger.debug('dhcp namespace is {0}'.format(dhcp_namespace)) instance_ip = \ self.create_instance_with_keypair( os_conn, remote).addresses['net04'][0]['addr'] logger.debug('instance internal ip is {0}'.format(instance_ip)) router_id = os_conn.get_routers_ids()[0] self.reshedule_router_manually(os_conn, router_id) self.check_instance_connectivity(remote, dhcp_namespace, instance_ip) node_with_l3 = os_conn.get_l3_agent_hosts(router_id)[0] new_devops = self.get_node_with_l3(self, node_with_l3) self.fuel_web.warm_restart_nodes([new_devops]) try: wait(lambda: not node_with_l3 == os_conn.get_l3_agent_hosts( router_id)[0], timeout=60 * 3) except TimeoutError: raise TimeoutError( ""l3 agent wasn't rescheduled, it is still {0}"".format( os_conn.get_l3_agent_hosts(router_id)[0])) wait(lambda: os_conn.get_l3_agent_ids(router_id), timeout=60) self.check_instance_connectivity(remote, dhcp_namespace, instance_ip) self.fuel_web.run_ostf( cluster_id=cluster_id, test_sets=['ha', 'smoke', 'sanity']) @test(depends_on=[deploy_ha_neutron], groups=[""neutron_l3_migration_after_destroy""]) @log_snapshot_on_error def neutron_l3_migration_after_destroy(self): """"""Check l3-agent rescheduling after destroy non-primary controller Scenario: 1. Revert snapshot with neutron cluster 2. Manually reschedule router from primary controller to another one 3. Destroy controller with l3-agent 4. Check l3-agent was rescheduled 5. Check network connectivity from instance via dhcp namespace 6. Run OSTF Snapshot deploy_ha_neutron """""" self.env.revert_snapshot(""deploy_ha_neutron"") cluster_id = self.fuel_web.get_last_created_cluster() os_conn = os_actions.OpenStackActions( self.fuel_web.get_public_vip(cluster_id)) net_id = os_conn.get_network('net04')['id'] devops_node = self.get_node_with_dhcp(self, os_conn, net_id) remote = self.env.get_ssh_to_remote_by_name(devops_node.name) dhcp_namespace = ''.join(remote.execute('ip netns | grep {0}'.format( net_id))['stdout']).rstrip() logger.debug('dhcp namespace is {0}'.format(dhcp_namespace)) instance_ip = \ self.create_instance_with_keypair( os_conn, remote).addresses['net04'][0]['addr'] logger.debug('instance internal ip is {0}'.format(instance_ip)) router_id = os_conn.get_routers_ids()[0] self.reshedule_router_manually(os_conn, router_id) self.check_instance_connectivity(remote, dhcp_namespace, instance_ip) node_with_l3 = os_conn.get_l3_agent_hosts(router_id)[0] new_devops = self.get_node_with_l3(self, node_with_l3) new_devops.destroy() wait(lambda: not self.fuel_web.get_nailgun_node_by_devops_node( new_devops)['online'], timeout=60 * 10) self.fuel_web.wait_mysql_galera_is_up( [n.name for n in set(self.env.nodes().slaves[:3]) - {new_devops}]) try: wait(lambda: not node_with_l3 == os_conn.get_l3_agent_hosts( router_id)[0], timeout=60 * 3) except TimeoutError: raise TimeoutError( ""l3 agent wasn't rescheduled, it is still {0}"".format( os_conn.get_l3_agent_hosts(router_id)[0])) wait(lambda: os_conn.get_l3_agent_ids(router_id), timeout=60) self.check_instance_connectivity(remote, dhcp_namespace, instance_ip) @retry(count=3, delay=120) def run_single_test(cluster_id): self.fuel_web.run_single_ostf_test( cluster_id, test_sets=['smoke'], test_name='fuel_health.tests.smoke.' 'test_neutron_actions.TestNeutron.' 'test_check_neutron_objects_creation') run_single_test(cluster_id) self.fuel_web.run_ostf( cluster_id=cluster_id, test_sets=['ha', 'smoke', 'sanity'], should_fail=1, failed_test_name=['Check that required services are running'])"," """"""Check l3-agent rescheduling after l3-agent dies 6. Manually reschedule router from primary controller to another one 7. Stop l3-agent on new node with pcs 8. Check l3-agent was rescheduled 9. Check network connectivity from instance via dhcp namespace 10. Run OSTF node = os_conn.get_node_with_dhcp_for_network(net_id)[0] node_fqdn = self.fuel_web.get_fqdn_by_hostname(node) logger.debug('node name with dhcp is {0}'.format(node)) devops_node = self.fuel_web.find_devops_node_by_nailgun_fqdn( node_fqdn, self.env.nodes().slaves[0:6]) remote.execute( '. openrc;' ' nova keypair-add instancekey > /root/.ssh/webserver_rsa') remote.execute('chmod 400 /root/.ssh/webserver_rsa') instance = os_conn.create_server_for_migration( neutron=True, key_name='instancekey') instance_ip = instance.addresses['net04'][0]['addr'] l3_agent_id = os_conn.get_l3_agent_ids(router_id)[0] logger.debug(""l3 agent id is {0}"".format(l3_agent_id)) another_l3_agent = os_conn.get_available_l3_agents_ids( l3_agent_id)[0] logger.debug(""another l3 agent is {0}"".format(another_l3_agent)) os_conn.remove_l3_from_router(l3_agent_id, router_id) os_conn.add_l3_to_router(another_l3_agent, router_id) wait(lambda: os_conn.get_l3_agent_ids(router_id), timeout=60 * 5) cmd = "". openrc; ip netns exec {0} ssh -i /root/.ssh/webserver_rsa"" \ "" -o 'StrictHostKeyChecking no'"" \ "" cirros@{1} \""ping -c 1 8.8.8.8\"""".format(dhcp_namespace, instance_ip) wait(lambda: remote.execute(cmd)['exit_code'] == 0, timeout=60) res = remote.execute(cmd) assert_equal(0, res['exit_code'], 'instance has no connectivity, exit code {0}'.format( res['exit_code'])) node_with_l3_fqdn = self.fuel_web.get_fqdn_by_hostname(node_with_l3) logger.debug(""new node with l3 is {0}"".format(node_with_l3)) new_devops = self.fuel_web.find_devops_node_by_nailgun_fqdn( node_with_l3_fqdn, self.env.nodes().slaves[0:6]) wait(lambda: remote.execute(cmd)['exit_code'] == 0, timeout=120) res = remote.execute(cmd) assert_equal(0, res['exit_code'], 'instance has no connectivity, exit code is {0}'.format( res['exit_code']))",226,53
openstack%2Ffuel-main~master~Icdd383b0e8c0db6c78934788056e3c56c3d66ac7,openstack/fuel-main,master,Icdd383b0e8c0db6c78934788056e3c56c3d66ac7,Fix for OSTF pull request check,MERGED,2015-01-08 14:05:13.000000000,2015-01-23 17:08:34.000000000,2015-01-23 17:08:33.000000000,"[{'_account_id': 3}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9439}, {'_account_id': 10136}, {'_account_id': 11081}, {'_account_id': 12129}, {'_account_id': 12867}]","[{'number': 1, 'created': '2015-01-08 14:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/7a80c8f9beb33032740ca2ce65a2d121626c022c', 'message': 'Fix for OSTF pull request check\n\nMove all checks into ostf container\n\nChange-Id: Icdd383b0e8c0db6c78934788056e3c56c3d66ac7\nCloses-bug: #1305561\n'}, {'number': 2, 'created': '2015-01-09 14:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/cd8c22ac9afdeec4f83fb6a854e636ef6e8ff34f', 'message': 'Fix for OSTF pull request check\n\nMove all checks into ostf container\n\nChange-Id: Icdd383b0e8c0db6c78934788056e3c56c3d66ac7\nCloses-bug: #1305561\n'}, {'number': 3, 'created': '2015-01-12 14:28:57.000000000', 'files': ['fuelweb_test/helpers/decorators.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/fa8fe952b795676bf7fffcfbf959de1cd2a7fda4', 'message': 'Fix for OSTF pull request check\n\nMove all checks into ostf container\n\nChange-Id: Icdd383b0e8c0db6c78934788056e3c56c3d66ac7\nCloses-bug: #1305561\n'}]",7,145785,fa8fe952b795676bf7fffcfbf959de1cd2a7fda4,24,8,3,9439,,,0,"Fix for OSTF pull request check

Move all checks into ostf container

Change-Id: Icdd383b0e8c0db6c78934788056e3c56c3d66ac7
Closes-bug: #1305561
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/85/145785/2 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/helpers/decorators.py'],1,7a80c8f9beb33032740ca2ce65a2d121626c022c,ostf," remote.execute('dockerctl shell cobbler ' 'bash -c ""cd /tmp/fuel-ostf; ' 'python setup.py develop""') remote.execute(""supervisorctl status docker-ostf | awk\"," remote.execute('source /opt/fuel_plugins/ostf/bin/activate; ' 'cd /tmp/fuel-ostf; python setup.py develop') remote.execute(""supervisorctl status ostf | awk\",4,3
openstack%2Ffuel-web~stable%2F6.0~Ib2e10f558f7de976b72ea75e2cae4ff0c3ed98d3,openstack/fuel-web,stable/6.0,Ib2e10f558f7de976b72ea75e2cae4ff0c3ed98d3,Fix lvm volume creation in fuel-agent,MERGED,2015-01-19 16:19:13.000000000,2015-01-23 17:08:04.000000000,2015-01-23 17:08:04.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8392}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 10391}]","[{'number': 1, 'created': '2015-01-19 16:19:13.000000000', 'files': ['fuel_agent/fuel_agent/utils/lvm_utils.py', 'fuel_agent/fuel_agent/tests/test_lvm_utils.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/197ca1cbce5c4372871f7568b18d6a1b7d3313bf', 'message': 'Fix lvm volume creation in fuel-agent\n\nlvm_utils.lvcreate totally ignores volume group from which volume was\nbeing allocated when checking for volume existance. If another volume\nfrom another volume group has the same name it will fail to create\nvolume throwing ""volume already exists"" error.\n\nChange-Id: Ib2e10f558f7de976b72ea75e2cae4ff0c3ed98d3\nCloses-Bug: #1412464\n'}]",0,148306,197ca1cbce5c4372871f7568b18d6a1b7d3313bf,13,6,1,8003,,,0,"Fix lvm volume creation in fuel-agent

lvm_utils.lvcreate totally ignores volume group from which volume was
being allocated when checking for volume existance. If another volume
from another volume group has the same name it will fail to create
volume throwing ""volume already exists"" error.

Change-Id: Ib2e10f558f7de976b72ea75e2cae4ff0c3ed98d3
Closes-Bug: #1412464
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/06/148306/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_agent/fuel_agent/utils/lvm_utils.py', 'fuel_agent/fuel_agent/tests/test_lvm_utils.py']",2,197ca1cbce5c4372871f7568b18d6a1b7d3313bf,bug/1412464," mock_lvdisplay.return_value = [{'name': 'lvname', 'vg': 'vgname'}] @mock.patch.object(lu, 'vgdisplay') @mock.patch.object(lu, 'lvdisplay') @mock.patch.object(utils, 'execute') def test_lvcreate_lv_name_collision(self, mock_exec, mock_lvdisplay, mock_vgdisplay): # lv lvname already exists in another pv mock_vgdisplay.return_value = [{'name': 'vgname', 'free': 2000}, {'name': 'some', 'free': 2000}] mock_lvdisplay.return_value = [{'name': 'lvname', 'vg': 'some'}] lu.lvcreate('vgname', 'lvname', 1000) mock_exec.assert_called_once_with('lvcreate', '-L', '1000m', '-n', 'lvname', 'vgname', check_exit_code=[0]) ", mock_lvdisplay.return_value = [{'name': 'lvname'}],17,2
openstack%2Fpython-solumclient~master~I138038cb3de4904c3d367e871e85dbc5d5a28dee,openstack/python-solumclient,master,I138038cb3de4904c3d367e871e85dbc5d5a28dee,Fix plan create language_pack reference,MERGED,2015-01-23 16:47:29.000000000,2015-01-23 17:05:26.000000000,2015-01-23 17:05:25.000000000,"[{'_account_id': 3}, {'_account_id': 1375}, {'_account_id': 9095}]","[{'number': 1, 'created': '2015-01-23 16:47:29.000000000', 'files': ['solumclient/solum.py'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/bf5087f8a06fa299ad2803f6f58cf58a220e4d60', 'message': 'Fix plan create language_pack reference\n\nChange-Id: I138038cb3de4904c3d367e871e85dbc5d5a28dee\n'}]",0,149679,bf5087f8a06fa299ad2803f6f58cf58a220e4d60,7,3,1,1375,,,0,"Fix plan create language_pack reference

Change-Id: I138038cb3de4904c3d367e871e85dbc5d5a28dee
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/79/149679/1 && git format-patch -1 --stdout FETCH_HEAD,['solumclient/solum.py'],1,bf5087f8a06fa299ad2803f6f58cf58a220e4d60,lp-bugfix, elif plan_definition['artifacts'][0].get('language_pack') is None:, elif plan_definition['artifacts'][0].get('languagepack') is None:,1,1
openstack%2Fdjango_openstack_auth~master~Ic12e8c4241cdd594f1ada6263ff3c89fd7c24cf6,openstack/django_openstack_auth,master,Ic12e8c4241cdd594f1ada6263ff3c89fd7c24cf6,User not logout if admin changed user permission,ABANDONED,2015-01-09 17:19:02.000000000,2015-01-23 17:02:04.000000000,,"[{'_account_id': 3}, {'_account_id': 12355}]","[{'number': 1, 'created': '2015-01-09 17:19:02.000000000', 'files': ['openstack_auth/views.py'], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/c58cd54d4c4cf71a4c82628674ccee502fa896a2', 'message': 'User not logout if admin changed user permission\n\nNow, if admin remove/change permission for user,\nuser doesn\'t get error-message ""Unauthorized"".\nInstead it -- user logout.\n\nRelated commit: https://review.openstack.org/#/c/142481/\nCloses-Bug: #1086189\n\nChange-Id: Ic12e8c4241cdd594f1ada6263ff3c89fd7c24cf6\n'}]",0,146141,c58cd54d4c4cf71a4c82628674ccee502fa896a2,4,2,1,12355,,,0,"User not logout if admin changed user permission

Now, if admin remove/change permission for user,
user doesn't get error-message ""Unauthorized"".
Instead it -- user logout.

Related commit: https://review.openstack.org/#/c/142481/
Closes-Bug: #1086189

Change-Id: Ic12e8c4241cdd594f1ada6263ff3c89fd7c24cf6
",git fetch https://review.opendev.org/openstack/django_openstack_auth refs/changes/41/146141/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_auth/views.py'],1,c58cd54d4c4cf71a4c82628674ccee502fa896a2,bug/1086189_horizon,"from keystoneclient.v2_0 import client as keystone_client_v2 def check_token(request): """"""Check a token."""""" token = request.session.get('token') insecure = getattr(settings, 'OPENSTACK_SSL_NO_VERIFY', False) ca_cert = getattr(settings, ""OPENSTACK_SSL_CACERT"", None) try: if utils.get_keystone_version() < 3: client = keystone_client_v2.Client( endpoint=request.session.get('region_endpoint'), token=token.id, insecure=insecure, cacert=ca_cert, debug=settings.DEBUG ) client.tokens.authenticate(token=token.id) LOG.info('Check token %s' % token.id) else: pass except keystone_exceptions.ClientException: LOG.info('Could not check token') utils.remove_project_cache(token.id) return False return True",,26,0
openstack%2Fopenstack-ansible~master~Iffad2ffce93e8173da68863210afba0aa105622d,openstack/openstack-ansible,master,Iffad2ffce93e8173da68863210afba0aa105622d,Adjust os-ansible-aio-check to work for all branches,MERGED,2015-01-22 14:34:10.000000000,2015-01-23 16:58:24.000000000,2015-01-23 15:50:32.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7217}, {'_account_id': 7353}, {'_account_id': 9884}, {'_account_id': 12892}]","[{'number': 1, 'created': '2015-01-22 14:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b70ec6941d337365ce7eaaf01250e8d1109a957e', 'message': 'Set the use of conf.d to be optional for os-ansible-aio-check\n\nThe icehouse branch does not currently have support for using the conf.d\ndirectory for additional user configuration. This patch implements a\ncheck to see if that directory exists, then uses it if possible -\notherwise it puts all configuration into a monolothic file.\n\nThe reason to not make it always put all configuration into a monolithic\nfile is that the use of the conf.d directory is cleaner and a good\ndisplay of how to do things correctly to end-users that are evaluating\nthis deployment method.\n\nChange-Id: Iffad2ffce93e8173da68863210afba0aa105622d\nCloses-Bug: #1413606\n'}, {'number': 2, 'created': '2015-01-22 15:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b8a68492b94bd50d7835dfd5e2357b765ca28c1e', 'message': 'Set os-ansible-aio-check to only use conf.d for swift\n\nThe icehouse branch does not currently have support for using the conf.d\ndirectory for additional user configuration. This patch implements all\nthe configuration, except swift (which is not available in the icehouse\nbranch) into a monolothic user configuration file. This ensures\ncompatibibility of the configuration process for all branches.\n\nChange-Id: Iffad2ffce93e8173da68863210afba0aa105622d\nCloses-Bug: #1413606\n'}, {'number': 3, 'created': '2015-01-22 15:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/33a2539d323fa3b9c04f6b1fbdcdf065c846150b', 'message': 'Set os-ansible-aio-check to only use conf.d for swift\n\nThe icehouse branch does not currently have support for using the conf.d\ndirectory for additional user configuration. This patch implements all\nthe configuration, except swift (which is not available in the icehouse\nbranch) into a monolothic user configuration file. This ensures\ncompatibibility of the configuration process for all branches.\n\nChange-Id: Iffad2ffce93e8173da68863210afba0aa105622d\nCloses-Bug: #1413606\n'}, {'number': 4, 'created': '2015-01-22 17:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/11cdafe9172c9cf20b7471d68df23d1d25159957', 'message': 'Adjust os-ansible-aio-check to work for all branches\n\nThe icehouse branch does not currently have support for using the conf.d\ndirectory for additional user configuration. This patch implements all\nthe configuration, except swift (which is not available in the icehouse\nbranch) into a monolothic user configuration file. This ensures\ncompatibility of the configuration process for all branches.\nThis patch also ensures that the plays executed are appropriate for the\nbranches - the icehouse branch has different names for some of the\nplays.\n\nChange-Id: Iffad2ffce93e8173da68863210afba0aa105622d\nCloses-Bug: #1413606\n'}, {'number': 5, 'created': '2015-01-22 19:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/26c7c2a16aa6bfbe579e2c13f4d4631cb4bb0829', 'message': 'Adjust os-ansible-aio-check to work for all branches\n\nThe icehouse branch does not currently have support for using the conf.d\ndirectory for additional user configuration. This patch implements all\nthe configuration, except swift (which is not available in the icehouse\nbranch) into a monolothic user configuration file. This ensures\ncompatibility of the configuration process for all branches.\nThis patch also ensures that the plays executed are appropriate for the\nbranches - the icehouse branch has different names for some of the\nplays.\n\nChange-Id: Iffad2ffce93e8173da68863210afba0aa105622d\nCloses-Bug: #1413606\n'}, {'number': 6, 'created': '2015-01-22 21:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1362b228bad9b1cfa7e4832525c0069f40fbbddc', 'message': 'Adjust os-ansible-aio-check to work for all branches\n\nThe icehouse branch does not currently have support for using the conf.d\ndirectory for additional user configuration. This patch implements all\nthe configuration, except swift (which is not available in the icehouse\nbranch) into a monolothic user configuration file. This ensures\ncompatibility of the configuration process for all branches.\nThis patch also ensures that the plays executed are appropriate for the\nbranches - the icehouse branch has different names for some of the\nplays.\n\nChange-Id: Iffad2ffce93e8173da68863210afba0aa105622d\nCloses-Bug: #1413606\n'}, {'number': 7, 'created': '2015-01-22 21:24:43.000000000', 'files': ['scripts/os-ansible-aio-check.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8a21f096577a20be1aafdb2e3656cf5b06ff2f90', 'message': 'Adjust os-ansible-aio-check to work for all branches\n\nThe icehouse branch does not currently have support for using the conf.d\ndirectory for additional user configuration. This patch implements all\nthe configuration, except swift (which is not available in the icehouse\nbranch) into a monolothic user configuration file. This ensures\ncompatibility of the configuration process for all branches.\nThis patch also ensures that the plays executed are appropriate for the\nbranches - the icehouse branch has different names for some of the\nplays.\n\nChange-Id: Iffad2ffce93e8173da68863210afba0aa105622d\nCloses-Bug: #1413606\n'}]",2,149279,8a21f096577a20be1aafdb2e3656cf5b06ff2f90,31,6,7,6816,,,0,"Adjust os-ansible-aio-check to work for all branches

The icehouse branch does not currently have support for using the conf.d
directory for additional user configuration. This patch implements all
the configuration, except swift (which is not available in the icehouse
branch) into a monolothic user configuration file. This ensures
compatibility of the configuration process for all branches.
This patch also ensures that the plays executed are appropriate for the
branches - the icehouse branch has different names for some of the
plays.

Change-Id: Iffad2ffce93e8173da68863210afba0aa105622d
Closes-Bug: #1413606
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/79/149279/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/os-ansible-aio-check.sh'],1,b70ec6941d337365ce7eaaf01250e8d1109a957e,bug/1413606,"if [ -d ""/etc/rpc_deploy/conf.d"" ]; then CONF_PROV_NET_FILE='/etc/rpc_deploy/conf.d/provider_networks.yml' echo '---' > ${CONF_PROV_NET_FILE} else CONF_PROV_NET_FILE='/etc/rpc_deploy/rpc_user_config.yml' fi cat >> ${CONF_PROV_NET_FILE} <<EOF cat >> ${CONF_PROV_NET_FILE} <<EOF if [ -d ""/etc/rpc_deploy/conf.d"" ]; then CONF_SWIFT_FILE='/etc/rpc_deploy/conf.d/swift.yml' echo '---' > ${CONF_SWIFT_FILE} else CONF_SWIFT_FILE='/etc/rpc_deploy/rpc_user_config.yml' fi cat >> ${CONF_SWIFT_FILE} <<EOF",cat > /etc/rpc_deploy/conf.d/provider_networks.yml <<EOF --- cat >> /etc/rpc_deploy/conf.d/provider_networks.yml <<EOF cat > /etc/rpc_deploy/conf.d/swift.yml <<EOF --- # workaround for https://bugs.launchpad.net/openstack-ansible/+bug/1402594 container_vars: swift_vars:,17,8
openstack%2Fpuppet-openstack_extras~master~I5c86376f710cf747b8a7450c29b9f581f44b2cab,openstack/puppet-openstack_extras,master,I5c86376f710cf747b8a7450c29b9f581f44b2cab,Support native OS primitive classes in Pacemaker,MERGED,2015-01-19 16:07:11.000000000,2015-01-23 16:58:10.000000000,2015-01-23 16:58:08.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7155}, {'_account_id': 9037}]","[{'number': 1, 'created': '2015-01-19 16:07:11.000000000', 'files': ['lib/puppet/provider/service/pacemaker.rb', 'spec/unit/puppet/provider/service/pacemaker_spec.rb', 'lib/puppet/provider/pacemaker_common.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/bbfc89f427c0b9ad70026dd43470f19048bf7f8e', 'message': 'Support native OS primitive classes in Pacemaker\n\nWhen creating a Pacemaker service that uses an OS native class (e.g. systemd),\nthe pacemaker provider stops the native service before starting it again as\npart of the resource, which creates some issues.\n\nChange-Id: I5c86376f710cf747b8a7450c29b9f581f44b2cab\n'}]",0,148302,bbfc89f427c0b9ad70026dd43470f19048bf7f8e,8,5,1,13294,,,0,"Support native OS primitive classes in Pacemaker

When creating a Pacemaker service that uses an OS native class (e.g. systemd),
the pacemaker provider stops the native service before starting it again as
part of the resource, which creates some issues.

Change-Id: I5c86376f710cf747b8a7450c29b9f581f44b2cab
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/02/148302/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/service/pacemaker.rb', 'spec/unit/puppet/provider/service/pacemaker_spec.rb', 'lib/puppet/provider/pacemaker_common.rb']",3,bbfc89f427c0b9ad70026dd43470f19048bf7f8e,jpena/systemd, # return primitive class # @param primitive [String] primitive id # @return [String] def primitive_class(primitive) return unless primitive_exists? primitive primitives[primitive]['class'] end ,,22,2
openstack%2Fpuppet-openstack_extras~master~I165e07d1943b1001ee1f11e7fa80026c4226cf82,openstack/puppet-openstack_extras,master,I165e07d1943b1001ee1f11e7fa80026c4226cf82,Support cloned resources,MERGED,2015-01-21 11:07:23.000000000,2015-01-23 16:56:08.000000000,2015-01-23 16:56:07.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 7155}, {'_account_id': 9037}]","[{'number': 1, 'created': '2015-01-21 11:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/d74602cdef1241f2aee7ed89eeb61f356e4ecf1f', 'message': 'Support cloned resources\n\nThis patch adds support for the creation of cloned Pacemaker\nresources. Requires an updated version of puppetlabs-corosync, as\nit makes use of the new cs_clone provider.\n\nChange-Id: I165e07d1943b1001ee1f11e7fa80026c4226cf82\n'}, {'number': 2, 'created': '2015-01-21 11:18:29.000000000', 'files': ['spec/defines/openstack_extras_pacemaker_service_spec.rb', 'manifests/pacemaker/service.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/ba7c65a5fb562a93bc9e900445c6adf9966055f0', 'message': 'Support cloned resources\n\nThis patch adds support for the creation of cloned Pacemaker\nresources. Requires an updated version of puppetlabs-corosync, as\nit makes use of the new cs_clone provider.\n\nChange-Id: I165e07d1943b1001ee1f11e7fa80026c4226cf82\n'}]",0,148882,ba7c65a5fb562a93bc9e900445c6adf9966055f0,11,6,2,13294,,,0,"Support cloned resources

This patch adds support for the creation of cloned Pacemaker
resources. Requires an updated version of puppetlabs-corosync, as
it makes use of the new cs_clone provider.

Change-Id: I165e07d1943b1001ee1f11e7fa80026c4226cf82
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/82/148882/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/openstack_extras_pacemaker_service_spec.rb', 'manifests/pacemaker/service.pp']",2,d74602cdef1241f2aee7ed89eeb61f356e4ecf1f,jpena/clone,"# [*clone*] # (optional) Create a cloned primitive # Defaults to false # $clone = false, $clone_name=""${primitive_name}-clone"" if $clone { cs_clone { $clone_name : ensure => present, primitive => $primitive_name, require => Cs_primitive[$primitive_name] } } else { cs_clone { $clone_name : ensure => absent, require => Cs_primitive[$primitive_name] } }",,44,1
openstack%2Foslo.utils~master~Idf7ff1d21b0ccf22a16859ec53409c0250c39ee2,openstack/oslo.utils,master,Idf7ff1d21b0ccf22a16859ec53409c0250c39ee2,Updated from global requirements,MERGED,2014-11-18 11:36:24.000000000,2015-01-23 16:50:10.000000000,2015-01-23 16:50:10.000000000,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 7491}, {'_account_id': 12363}]","[{'number': 1, 'created': '2014-11-18 11:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/89ac87488f2c1d832f02ccb2d1406a3334f87e84', 'message': 'Updated from global requirements\n\nChange-Id: Idf7ff1d21b0ccf22a16859ec53409c0250c39ee2\n'}, {'number': 2, 'created': '2014-11-19 21:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/fdf0e0e1d88b2c7e6669d26c7618cd68eb5a9297', 'message': 'Updated from global requirements\n\nChange-Id: Idf7ff1d21b0ccf22a16859ec53409c0250c39ee2\n'}, {'number': 3, 'created': '2015-01-23 04:37:46.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/ff05ecc7ea8e0ab4f7eb9c88a0de105ddd23f1a1', 'message': 'Updated from global requirements\n\nChange-Id: Idf7ff1d21b0ccf22a16859ec53409c0250c39ee2\n'}]",0,135242,ff05ecc7ea8e0ab4f7eb9c88a0de105ddd23f1a1,25,4,3,11131,,,0,"Updated from global requirements

Change-Id: Idf7ff1d21b0ccf22a16859ec53409c0250c39ee2
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/42/135242/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,89ac87488f2c1d832f02ccb2d1406a3334f87e84,openstack/requirements,"testtools>=0.9.36,!=1.2.0,!=1.4.0","testtools>=0.9.36,!=1.2.0",1,1
openstack%2Fglance~stable%2Ficehouse~I47229b366c25367ec1bd48aec684e0880f3dfe60,openstack/glance,stable/icehouse,I47229b366c25367ec1bd48aec684e0880f3dfe60,Cleanup chunks for deleted image that was 'saving',MERGED,2015-01-23 14:46:36.000000000,2015-01-23 16:45:36.000000000,2015-01-23 16:45:32.000000000,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 6159}, {'_account_id': 6549}, {'_account_id': 12000}]","[{'number': 1, 'created': '2015-01-23 14:46:36.000000000', 'files': ['glance/api/v2/image_data.py', 'glance/api/authorization.py', 'glance/store/__init__.py', 'glance/tests/unit/v1/test_api.py', 'glance/db/__init__.py', 'glance/api/v1/upload_utils.py', 'glance/tests/unit/test_domain_proxy.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/unit/test_quota.py', 'glance/tests/unit/test_store_image.py', 'glance/tests/unit/test_policy.py', 'glance/api/policy.py', 'glance/notifier.py', 'glance/domain/proxy.py', 'glance/quota/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/f1260cc771ee068651aa62b972bef49d9af81eb0', 'message': ""Cleanup chunks for deleted image that was 'saving'\n\nCurrently image data cannot be removed synchronously for an image that\nis in saving state. And when, the upload operation for such an image is\ncompleted the operator configured quota can be exceeded.\nThis patch fixes the issue of left over chunks for an image which was\ndeleted from saving status. However, by the limitation of the design we\ncannot enforce a global quota check for the image in saving status.\nThis change introduces a inconsonance between http response codes of\nv1 and v2 APIs. The status codes which we will now see after the upload\nprocess completes on an image which was deleted mid way are:\n\nv1: 412 Precondition Failed\nv2: 410 Gone\n\nSecurityImpact\nUpgradeImpact\nAPIImpact\n\nCloses-Bug: 1383973\nCloses-Bug: 1398830\nCloses-Bug: 1188532\n\nConflicts:\n        glance/api/v1/upload_utils.py\n        glance/api/v2/image_data.py\n        glance/quota/__init__.py\n        glance/tests/unit/test_domain_proxy.py\n        glance/tests/unit/test_quota.py\n        glance/tests/unit/v1/test_api.py\n\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n(cherry picked from commit 0dc8fbb3479a53c5bba8475d14f4c7206904c5ea)\n\nChange-Id: I47229b366c25367ec1bd48aec684e0880f3dfe60\n""}]",0,149646,f1260cc771ee068651aa62b972bef49d9af81eb0,10,5,1,6159,,,0,"Cleanup chunks for deleted image that was 'saving'

Currently image data cannot be removed synchronously for an image that
is in saving state. And when, the upload operation for such an image is
completed the operator configured quota can be exceeded.
This patch fixes the issue of left over chunks for an image which was
deleted from saving status. However, by the limitation of the design we
cannot enforce a global quota check for the image in saving status.
This change introduces a inconsonance between http response codes of
v1 and v2 APIs. The status codes which we will now see after the upload
process completes on an image which was deleted mid way are:

v1: 412 Precondition Failed
v2: 410 Gone

SecurityImpact
UpgradeImpact
APIImpact

Closes-Bug: 1383973
Closes-Bug: 1398830
Closes-Bug: 1188532

Conflicts:
        glance/api/v1/upload_utils.py
        glance/api/v2/image_data.py
        glance/quota/__init__.py
        glance/tests/unit/test_domain_proxy.py
        glance/tests/unit/test_quota.py
        glance/tests/unit/v1/test_api.py

Signed-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>
(cherry picked from commit 0dc8fbb3479a53c5bba8475d14f4c7206904c5ea)

Change-Id: I47229b366c25367ec1bd48aec684e0880f3dfe60
",git fetch https://review.opendev.org/openstack/glance refs/changes/46/149646/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_data.py', 'glance/api/authorization.py', 'glance/store/__init__.py', 'glance/tests/unit/v1/test_api.py', 'glance/db/__init__.py', 'glance/api/v1/upload_utils.py', 'glance/tests/unit/test_domain_proxy.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/unit/test_quota.py', 'glance/tests/unit/test_store_image.py', 'glance/tests/unit/test_policy.py', 'glance/api/policy.py', 'glance/notifier.py', 'glance/domain/proxy.py', 'glance/quota/__init__.py']",15,f1260cc771ee068651aa62b972bef49d9af81eb0,bug/1383973," def save(self, image, from_state=None): return super(ImageRepoProxy, self).save(image, from_state=from_state)"," def save(self, image): super(ImageRepoProxy, self).save(image)",95,78
openstack%2Fpython-monascaclient~master~I7c4c3d68014ab937cdd9f0f47900ce5d0b37004b,openstack/python-monascaclient,master,I7c4c3d68014ab937cdd9f0f47900ce5d0b37004b,Added pagerduty to the valid set of notifications,MERGED,2015-01-23 00:03:31.000000000,2015-01-23 16:34:17.000000000,2015-01-23 16:34:16.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 11094}, {'_account_id': 11809}]","[{'number': 1, 'created': '2015-01-23 00:03:31.000000000', 'files': ['monascaclient/v2_0/shell.py'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/5acfbb0f6e355249f9470c65fb8a854a3782fbc7', 'message': 'Added pagerduty to the valid set of notifications\n\nChange-Id: I7c4c3d68014ab937cdd9f0f47900ce5d0b37004b\n'}]",0,149436,5acfbb0f6e355249f9470c65fb8a854a3782fbc7,8,4,1,14273,,,0,"Added pagerduty to the valid set of notifications

Change-Id: I7c4c3d68014ab937cdd9f0f47900ce5d0b37004b
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/36/149436/1 && git format-patch -1 --stdout FETCH_HEAD,['monascaclient/v2_0/shell.py'],1,5acfbb0f6e355249f9470c65fb8a854a3782fbc7,,"notification_types = ['EMAIL', 'WEBHOOK', 'PAGERDUTY']","notification_types = ['EMAIL', 'WEBHOOK']",1,1
openstack%2Fmonasca-agent~master~I3dfd87aacb5142dfa9102aa225af306dcc6787e3,openstack/monasca-agent,master,I3dfd87aacb5142dfa9102aa225af306dcc6787e3,Add configuration for system metrics.,MERGED,2015-01-22 15:43:16.000000000,2015-01-23 16:33:09.000000000,2015-01-23 16:33:06.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 11094}, {'_account_id': 12108}, {'_account_id': 12443}, {'_account_id': 12512}, {'_account_id': 14273}]","[{'number': 1, 'created': '2015-01-22 15:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/5775be7c9f1b75dd23994f83304593da433b9aed', 'message': 'Add configuration for system metrics.\n\nSpecifically you can turn off any of the system checks now and add\nfilesystem exclusions for the disk check.\n\nAlso I removed dogstream and updated the unix system metrics to all\nmatch 1 style rather than some being in the legacy style.\n\nChange-Id: I3dfd87aacb5142dfa9102aa225af306dcc6787e3\n'}, {'number': 2, 'created': '2015-01-22 20:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/59d4591e077bab3cc5e3e286e09bd964de43932f', 'message': 'Add configuration for system metrics.\n\nSpecifically you can turn off any of the system checks now and add\nfilesystem exclusions for the disk check.\n\nAlso I removed dogstream and updated the unix system metrics to all\nmatch 1 style rather than some being in the legacy style.\n\nChange-Id: I3dfd87aacb5142dfa9102aa225af306dcc6787e3\n'}, {'number': 3, 'created': '2015-01-22 20:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/389a2eed7c6fb4662d0f10591a986c498ebeb59e', 'message': 'Add configuration for system metrics.\n\nSpecifically you can turn off any of the system checks now and add\nfilesystem exclusions for the disk check.\n\nAlso I removed dogstream and updated the unix system metrics to all\nmatch 1 style rather than some being in the legacy style.\n\nChange-Id: I3dfd87aacb5142dfa9102aa225af306dcc6787e3\n'}, {'number': 4, 'created': '2015-01-22 20:57:12.000000000', 'files': ['monasca_agent/collector/dogstream/supervisord_log.py', 'agent.conf.template', 'monasca_agent/collector/checks/datadog.py', 'monasca_agent/collector/dogstream/common.py', 'monasca_agent/collector/checks/collector.py', 'monasca_agent/collector/dogstream/cassandra.py', 'monasca_agent/collector/dogstream/__init__.py', 'monasca_agent/collector/modules.py', 'monasca_agent/collector/checks/utils.py', 'monasca_agent/common/config.py', 'monasca_agent/collector/checks/system/unix.py', 'monasca_agent/collector/checks/check.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/ab9b87a310aabad11168610d6c386a89e3c0bc82', 'message': 'Add configuration for system metrics.\n\nSpecifically you can turn off any of the system checks now and add\nfilesystem exclusions for the disk check.\n\nAlso I removed dogstream and updated the unix system metrics to all\nmatch 1 style rather than some being in the legacy style.\n\nChange-Id: I3dfd87aacb5142dfa9102aa225af306dcc6787e3\n'}]",3,149320,ab9b87a310aabad11168610d6c386a89e3c0bc82,16,7,4,11094,,,0,"Add configuration for system metrics.

Specifically you can turn off any of the system checks now and add
filesystem exclusions for the disk check.

Also I removed dogstream and updated the unix system metrics to all
match 1 style rather than some being in the legacy style.

Change-Id: I3dfd87aacb5142dfa9102aa225af306dcc6787e3
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/20/149320/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_agent/collector/dogstream/supervisord_log.py', 'agent.conf.template', 'monasca_agent/collector/checks/datadog.py', 'monasca_agent/collector/dogstream/common.py', 'monasca_agent/collector/checks/collector.py', 'monasca_agent/collector/dogstream/cassandra.py', 'monasca_agent/collector/dogstream/__init__.py', 'monasca_agent/collector/modules.py', 'monasca_agent/collector/checks/utils.py', 'monasca_agent/common/config.py', 'monasca_agent/collector/checks/system/unix.py', 'monasca_agent/collector/checks/check.py']",12,5775be7c9f1b75dd23994f83304593da433b9aed,feature/limit-merge,# todo convert all checks to the new interface then remove this and Laconic filter which isn't used elsewhere# of the agent and is currently only used for Windows.,from monasca_agent.common.keystone import Keystone# todo convert all checks to the new interface then remove this. # Is the LaconicFilter on logs used elsewhere?# of the agent.,162,1128
openstack%2Fmonasca-ceilometer~master~I1d87a013ce46886808e111ef94f7fe112b3e2659,openstack/monasca-ceilometer,master,I1d87a013ce46886808e111ef94f7fe112b3e2659,Add retrieval of Keystone token,MERGED,2015-01-23 00:19:39.000000000,2015-01-23 16:32:19.000000000,2015-01-23 16:32:18.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 12512}]","[{'number': 1, 'created': '2015-01-23 00:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/52170d029eb22a398c90c014d17098ea5d1e1351', 'message': 'Add retrieval of Keystone token\n\nmonclient.py needed more code to get a valid keystone token if\nusername and password were used. Allow a token to set if desired.\n\nUse python-monascaclient directly.\n\nFix missing import\n\nUpdate readme\n\nChange-Id: I1d87a013ce46886808e111ef94f7fe112b3e2659\n'}, {'number': 2, 'created': '2015-01-23 00:30:10.000000000', 'files': ['monclient.py', 'README.md'], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/cc20f7f39f902156e3f0d4fb192265241aaca192', 'message': 'Add retrieval of Keystone token\n\nmonclient.py needed more code to get a valid keystone token if\nusername and password were used. Allow a token to set if desired.\n\nUse python-monascaclient directly.\n\nFix missing import\n\nUpdate readme\n\nChange-Id: I1d87a013ce46886808e111ef94f7fe112b3e2659\n'}]",0,149443,cc20f7f39f902156e3f0d4fb192265241aaca192,10,3,2,11809,,,0,"Add retrieval of Keystone token

monclient.py needed more code to get a valid keystone token if
username and password were used. Allow a token to set if desired.

Use python-monascaclient directly.

Fix missing import

Update readme

Change-Id: I1d87a013ce46886808e111ef94f7fe112b3e2659
",git fetch https://review.opendev.org/openstack/monasca-ceilometer refs/changes/43/149443/2 && git format-patch -1 --stdout FETCH_HEAD,"['monclient.py', 'README.md']",2,52170d029eb22a398c90c014d17098ea5d1e1351,,2. Install python-monascaclient pip install python-monascaclient Edit monclient.py and set auth_url if using username and password for authentication. Either set a token or username and password in monclient.py or configure it in pipeline.yaml below. Set a valid username and password if a token or username and password weren't added to monclient.py 2. Reuse the token until it expires if username and password are used,2. Clone python-monascaclient from github.com. Copy python-monascaclient to the following path: /opt/stack/ceilometer/ceilometer/monclient,45,26
openstack%2Fironic~stable%2Fjuno~If67c7e60eb6d048fa3aa03469d7904c6c233ff89,openstack/ironic,stable/juno,If67c7e60eb6d048fa3aa03469d7904c6c233ff89,Ensure that image link points to the correct image,MERGED,2015-01-19 11:12:09.000000000,2015-01-23 16:31:28.000000000,2015-01-23 16:31:28.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 5805}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 8125}, {'_account_id': 11680}, {'_account_id': 12081}]","[{'number': 1, 'created': '2015-01-19 11:12:09.000000000', 'files': ['ironic/drivers/modules/image_cache.py', 'ironic/tests/drivers/test_image_cache.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c2b89f93a2ae25faeb18e1fcd93249bcf29ebc2e', 'message': ""Ensure that image link points to the correct image\n\nIf an image is cached for a node, and the image changes, Ironic won't\nnotice because we only check if the link exists. In this change it's\nproposed to check in the image_cache if the image is up to date.\n\nCloses-bug: #1405448\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\n(cherry picked from commit 2f0c8cd8d8d8b2846b641b518b742ca051425028)\n\nConflicts:\n\tironic/drivers/modules/image_cache.py\n\tironic/tests/drivers/test_image_cache.py\n\nChange-Id: If67c7e60eb6d048fa3aa03469d7904c6c233ff89\n""}]",0,148218,c2b89f93a2ae25faeb18e1fcd93249bcf29ebc2e,14,8,1,9420,,,0,"Ensure that image link points to the correct image

If an image is cached for a node, and the image changes, Ironic won't
notice because we only check if the link exists. In this change it's
proposed to check in the image_cache if the image is up to date.

Closes-bug: #1405448
Co-Authored-By: Vladyslav Drok <vdrok@mirantis.com>
(cherry picked from commit 2f0c8cd8d8d8b2846b641b518b742ca051425028)

Conflicts:
	ironic/drivers/modules/image_cache.py
	ironic/tests/drivers/test_image_cache.py

Change-Id: If67c7e60eb6d048fa3aa03469d7904c6c233ff89
",git fetch https://review.opendev.org/openstack/ironic refs/changes/18/148218/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/image_cache.py', 'ironic/tests/drivers/test_image_cache.py']",2,c2b89f93a2ae25faeb18e1fcd93249bcf29ebc2e,," @mock.patch.object(os, 'unlink') def test_fetch_image_dest_and_master_exist_uptodate(self, mock_download, mock_clean_up, mock_unlink, mock_fetch): touch(self.master_path) os.link(self.master_path, self.dest_path) self.cache.fetch_image(self.uuid, self.dest_path) self.assertFalse(mock_unlink.called) self.assertFalse(mock_download.called) self.assertFalse(mock_fetch.called) self.assertFalse(mock_clean_up.called) @mock.patch.object(image_cache.ImageCache, 'clean_up') @mock.patch.object(image_cache.ImageCache, '_download_image') def test_fetch_image_dest_and_master_exist_outdated(self, mock_download, mock_clean_up, mock_fetch): touch(self.master_path) self.assertNotEqual(os.stat(self.dest_path).st_ino, os.stat(self.master_path).st_ino) self.assertFalse(mock_fetch.called) self.assertTrue(os.path.isfile(self.dest_path)) self.assertEqual(os.stat(self.dest_path).st_ino, os.stat(self.master_path).st_ino) @mock.patch.object(os, 'unlink') @mock.patch.object(image_cache.ImageCache, 'clean_up') @mock.patch.object(image_cache.ImageCache, '_download_image') def test_fetch_image_only_dest_exists(self, mock_download, mock_clean_up, mock_unlink, mock_fetch): touch(self.dest_path) self.cache.fetch_image(self.uuid, self.dest_path) mock_unlink.assert_called_once_with(self.dest_path) self.assertFalse(mock_fetch.called) mock_download.assert_called_once_with( self.uuid, self.master_path, self.dest_path, ctx=None) self.assertTrue(mock_clean_up.called) "," def test_fetch_image_dest_exists(self, mock_download, mock_clean_up, mock_fetch_to_raw): self.assertFalse(mock_fetch_to_raw.called)",48,8
openstack%2Fcinder~master~If953441b2c24dee46bd64e6d4b8f4d3ab116f0fa,openstack/cinder,master,If953441b2c24dee46bd64e6d4b8f4d3ab116f0fa,Fix bug in rbd driver: the cloned volume size is wrong,MERGED,2015-01-19 06:54:08.000000000,2015-01-23 16:31:18.000000000,2015-01-23 16:31:17.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2759}, {'_account_id': 4355}, {'_account_id': 4523}, {'_account_id': 5538}, {'_account_id': 6984}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9236}, {'_account_id': 9751}, {'_account_id': 11676}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12707}, {'_account_id': 12779}]","[{'number': 1, 'created': '2015-01-19 06:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f181b685f77b579f670082782c831479b18ba4e8', 'message': ""Fix bug in rbd driver: the cloned volume size is wrong\n\nThe cloned volume size is wrong when the size is different\nfrom source volume. This is because rbd driver doesn't\nresize the volume when clone has completed.\n\nChange-Id: If953441b2c24dee46bd64e6d4b8f4d3ab116f0fa\nCloses-Bug: #1412317\n""}, {'number': 2, 'created': '2015-01-19 11:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6815e234f53c03d2ce9acb2b925f2fdf50459bee', 'message': ""Fix bug in rbd driver: the cloned volume size is wrong\n\nThe cloned volume size is wrong when the size is different\nfrom source volume. This is because rbd driver doesn't\nresize the volume when clone has completed.\n\nChange-Id: If953441b2c24dee46bd64e6d4b8f4d3ab116f0fa\nCloses-Bug: #1412317\n""}, {'number': 3, 'created': '2015-01-22 02:41:50.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ae375ebb9d64f67767838d91c5d007fee93f4f63', 'message': ""Fix bug in rbd driver: the cloned volume size is wrong\n\nThe cloned volume size is wrong when the size is different\nfrom source volume. This is because rbd driver doesn't\nresize the volume when clone has completed.\n\nChange-Id: If953441b2c24dee46bd64e6d4b8f4d3ab116f0fa\nCloses-Bug: #1412317\n""}]",6,148185,ae375ebb9d64f67767838d91c5d007fee93f4f63,38,22,3,11676,,,0,"Fix bug in rbd driver: the cloned volume size is wrong

The cloned volume size is wrong when the size is different
from source volume. This is because rbd driver doesn't
resize the volume when clone has completed.

Change-Id: If953441b2c24dee46bd64e6d4b8f4d3ab116f0fa
Closes-Bug: #1412317
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/148185/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,f181b685f77b579f670082782c831479b18ba4e8,bug/1412317, if int(volume['size']): self._resize(volume) ,,3,0
openstack%2Fceilometer~master~I59b49f7a169ca616f46270e855bd23fe56e17616,openstack/ceilometer,master,I59b49f7a169ca616f46270e855bd23fe56e17616,Remove argparse from requirements,MERGED,2015-01-23 11:23:10.000000000,2015-01-23 16:31:07.000000000,2015-01-23 16:31:06.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}]","[{'number': 1, 'created': '2015-01-23 11:23:10.000000000', 'files': ['requirements.txt', 'requirements-py3.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ef8897b8eee2069fd410a9456b39574cf067195e', 'message': ""Remove argparse from requirements\n\nSince we don't support Python 2.6 anymore and argparse is native in\nPython 2.7, no need to pip install it.\n\nChange-Id: I59b49f7a169ca616f46270e855bd23fe56e17616\n""}]",0,149577,ef8897b8eee2069fd410a9456b39574cf067195e,8,3,1,1669,,,0,"Remove argparse from requirements

Since we don't support Python 2.6 anymore and argparse is native in
Python 2.7, no need to pip install it.

Change-Id: I59b49f7a169ca616f46270e855bd23fe56e17616
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/77/149577/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'requirements-py3.txt']",2,ef8897b8eee2069fd410a9456b39574cf067195e,jd/remove-argparse,,argparse,0,2
openstack%2Fneutron~master~I4bcde80257ef5fe7c744086019841cdef5e3c60c,openstack/neutron,master,I4bcde80257ef5fe7c744086019841cdef5e3c60c,Add index generation for IPv6 rules for DVR,MERGED,2014-11-15 00:04:28.000000000,2015-01-23 16:30:54.000000000,2015-01-23 16:30:52.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 6502}, {'_account_id': 6524}, {'_account_id': 6620}, {'_account_id': 6685}, {'_account_id': 7016}, {'_account_id': 7183}, {'_account_id': 7448}, {'_account_id': 8253}, {'_account_id': 8645}, {'_account_id': 9077}, {'_account_id': 9411}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10257}, {'_account_id': 10294}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 10969}, {'_account_id': 10971}, {'_account_id': 12040}, {'_account_id': 12683}, {'_account_id': 12890}, {'_account_id': 13051}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-11-15 00:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e744f13d3f8240bb9735de51065ae68ea48132b8', 'message': 'Add index generation for IPv6 rules for DVR\n\nFor IPv6 support with DVR the index used for rule priority and\nroute table needs to be generated such that the index is 32 bits\nor less but greater than the system generated rule entries.\nFor code modularity, added a helper method to generate indexes\nfor IPv4 and IPv6.\n\nPartial-bug: #1376325\n\nChange-Id: I4bcde80257ef5fe7c744086019841cdef5e3c60c\n'}, {'number': 2, 'created': '2014-11-18 00:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b164ed954e412f2f357a896f864cfb5bbab02c52', 'message': 'Add index generation for IPv6 rules for DVR\n\nFor IPv6 support with DVR the index used for rule priority and\nroute table needs to be generated such that the index is 32 bits\nor less but greater than the system generated rule entries.\nFor code modularity, added a helper method to generate indexes\nfor IPv4 and IPv6.\n\nPartial-bug: #1376325\n\nChange-Id: I4bcde80257ef5fe7c744086019841cdef5e3c60c\n'}, {'number': 3, 'created': '2014-11-20 23:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f781c76223aff2f854e013cebe9307bfd8dee5f6', 'message': 'Add index generation for IPv6 rules for DVR\n\nFor IPv6 support with DVR the index used for rule priority and\nroute table needs to be generated such that the index is 32 bits\nor less but greater than the system generated rule entries.\n\nFor IPv4 the numeric value of the network is used as the index.\nFor IPv6 the 30 bit xor-folded crc32 of the cidr is used. if the\nvalue smaller than system generated entries are extended into\nthe range freed up because of xor-folding.\nFor code modularity, wrapped index generation into a helper method.\n\nPartial-bug: #1376325\n\nChange-Id: I4bcde80257ef5fe7c744086019841cdef5e3c60c\n'}, {'number': 4, 'created': '2014-11-20 23:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4777ae41b24b302be763590d916453b5dcea3415', 'message': 'Add index generation for IPv6 rules for DVR\n\nFor IPv6 support with DVR the index used for rule priority and\nroute table needs to be generated such that the index is 32 bits\nor less but greater than the system generated rule entries.\n\nFor IPv4 the numeric value of the network is used as the index.\nFor IPv6 the 30 bit xor-folded crc32 of the cidr is used.\nValues smaller than system generated entries are extended into\nthe range freed up because of xor-folding.\nFor code modularity, index generation is wrapped into a helper\nmethod.\n\nPartial-bug: #1376325\n\nChange-Id: I4bcde80257ef5fe7c744086019841cdef5e3c60c\n'}, {'number': 5, 'created': '2014-11-26 20:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b52364e4d292124c70adb848278b89152215009', 'message': 'Add index generation for IPv6 rules for DVR\n\nFor IPv6 support with DVR the index used for rule priority and\nroute table needs to be generated such that the index is 32 bits\nor less but greater than the system generated rule entries.\n\nFor IPv4 the numeric value of the network is used as the index.\nFor IPv6 the 30 bit xor-folded crc32 of the cidr is used.\nValues smaller than system generated entries are extended into\nthe range freed up because of xor-folding.\nFor code modularity, index generation is wrapped into a helper\nmethod.\n\nPartial-bug: #1376325\n\nChange-Id: I4bcde80257ef5fe7c744086019841cdef5e3c60c\n'}, {'number': 6, 'created': '2014-12-01 23:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b5d150af0be8ddc31699a8ae5aa7fc9246c52d3', 'message': 'Add index generation for IPv6 rules for DVR\n\nFor IPv6 support with DVR the index used for rule priority and\nroute table needs to be generated such that the index is 32 bits\nor less but greater than the system generated rule entries.\n\nFor IPv4 the numeric value of the network is used as the index.\nFor IPv6 the 30 bit xor-folded crc32 of the cidr is used.\nValues smaller than system generated entries are extended into\nthe range freed up because of xor-folding.\nFor code modularity, index generation is wrapped into a helper\nmethod.\n\nPartial-bug: #1376325\n\nChange-Id: I4bcde80257ef5fe7c744086019841cdef5e3c60c\n'}, {'number': 7, 'created': '2014-12-02 15:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/30939ececa145ac74a5cac967f549744a0f0d98e', 'message': 'Add index generation for IPv6 rules for DVR\n\nFor IPv6 support with DVR the index used for rule priority and\nroute table needs to be generated such that the index is 32 bits\nor less but greater than the system generated rule entries.\n\nFor IPv4 the numeric value of the network is used as the index.\nFor IPv6 the 30 bit xor-folded crc32 of the cidr is used.\nValues smaller than system generated entries are extended into\nthe range freed up because of xor-folding.\nFor code modularity, index generation is wrapped into a helper\nmethod.\n\nPartial-bug: #1376325\n\nChange-Id: I4bcde80257ef5fe7c744086019841cdef5e3c60c\n'}, {'number': 8, 'created': '2014-12-10 01:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d0dd756eb4520b6a89b8169f4efb19839523272', 'message': 'Add index generation for IPv6 rules for DVR\n\nFor IPv6 support with DVR the index used for rule priority and\nroute table needs to be generated such that the index is 32 bits\nor less but greater than the system generated rule entries.\n\nFor IPv4 the numeric value of the network is used as the index.\nFor IPv6 the 30 bit xor-folded crc32 of the cidr is used.\nValues smaller than system generated entries are extended into\nthe range freed up because of xor-folding.\nFor code modularity, index generation is wrapped into a helper\nmethod.\n\nPartial-bug: #1376325\n\nChange-Id: I4bcde80257ef5fe7c744086019841cdef5e3c60c\n'}, {'number': 9, 'created': '2014-12-11 23:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9c3409601233432498c76a6a72153dd04026851', 'message': 'Add index generation for IPv6 rules for DVR\n\nFor IPv6 support with DVR the index used for rule priority and\nroute table needs to be generated such that the index is 32 bits\nor less but greater than the system generated rule entries.\n\nFor IPv4 the numeric value of the network is used as the index.\nFor IPv6 the 30 bit xor-folded crc32 of the cidr is used.\nValues smaller than system generated entries are extended into\nthe range freed up because of xor-folding.\nFor code modularity, index generation is wrapped into a helper\nmethod.\n\nPartial-bug: #1376325\n\nChange-Id: I4bcde80257ef5fe7c744086019841cdef5e3c60c\n'}, {'number': 10, 'created': '2014-12-15 22:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d082e53556d21aecaacc9f9506e8a61d30e6a4c', 'message': 'Add index generation for IPv6 rules for DVR\n\nFor IPv6 support with DVR the index used for rule priority and\nroute table needs to be generated such that the index is 32 bits\nor less but greater than the system generated rule entries.\n\nFor IPv4 the numeric value of the network is used as the index.\nFor IPv6 the 30 bit xor-folded crc32 of the cidr is used.\nValues smaller than system generated entries are extended into\nthe range freed up because of xor-folding.\nFor code modularity, index generation is wrapped into a helper\nmethod.\n\nPartial-bug: #1376325\n\nChange-Id: I4bcde80257ef5fe7c744086019841cdef5e3c60c\n'}, {'number': 11, 'created': '2014-12-18 17:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b0c36f324c90de86e50969285a1fc336c09e6d6', 'message': 'Add index generation for IPv6 rules for DVR\n\nFor IPv6 support with DVR the index used for rule priority and\nroute table needs to be generated such that the index is 32 bits\nor less but greater than the system generated rule entries.\n\nFor IPv4 the numeric value of the network is used as the index.\nFor IPv6 the 30 bit xor-folded crc32 of the cidr is used.\nValues smaller than system generated entries are extended into\nthe range freed up because of xor-folding.\nFor code modularity, index generation is wrapped into a helper\nmethod.\n\nPartial-bug: #1376325\n\nChange-Id: I4bcde80257ef5fe7c744086019841cdef5e3c60c\n'}, {'number': 12, 'created': '2014-12-19 15:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/51000976180a7e9d7406b0ef8d729be5d1296bcb', 'message': 'Add index generation for IPv6 rules for DVR\n\nFor IPv6 support with DVR the index used for rule priority and\nroute table needs to be generated such that the index is 32 bits\nor less but greater than the system generated rule entries.\n\nFor IPv4 the numeric value of the network is used as the index.\nFor IPv6 the 30 bit xor-folded crc32 of the cidr is used.\nValues smaller than system generated entries are extended into\nthe range freed up because of xor-folding.\nFor code modularity, index generation is wrapped into a helper\nmethod.\n\nPartial-bug: #1376325\n\nChange-Id: I4bcde80257ef5fe7c744086019841cdef5e3c60c\n'}, {'number': 13, 'created': '2014-12-24 00:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/468aa10d03928500623c7c192d7fe22f6bb68f29', 'message': 'Add index generation for IPv6 rules for DVR\n\nFor IPv6 support with DVR the index used for rule priority and\nroute table needs to be generated such that the index is 32 bits\nor less but greater than the system generated rule entries.\n\nFor IPv4 the numeric value of the network is used as the index.\nFor IPv6 the 30 bit xor-folded crc32 of the cidr is used.\nValues smaller than system generated entries are extended into\nthe range freed up because of xor-folding.\nFor code modularity, index generation is wrapped into a helper\nmethod.\n\nPartial-bug: #1376325\n\nChange-Id: I4bcde80257ef5fe7c744086019841cdef5e3c60c\n'}, {'number': 14, 'created': '2015-01-07 00:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c877de5c4e68c4834b73cc7ae294a3925bd39fd1', 'message': 'Add index generation for IPv6 rules for DVR\n\nFor IPv6 support with DVR the index used for rule priority and\nroute table needs to be generated such that the index is 32 bits\nor less but greater than the system generated rule entries.\n\nFor IPv4 the numeric value of the network is used as the index.\nFor IPv6 the 30 bit xor-folded crc32 of the cidr is used.\nValues smaller than system generated entries are extended into\nthe range freed up because of xor-folding.\nFor code modularity, index generation is wrapped into a helper\nmethod.\n\nPartial-bug: #1376325\n\nChange-Id: I4bcde80257ef5fe7c744086019841cdef5e3c60c\n'}, {'number': 15, 'created': '2015-01-07 22:02:34.000000000', 'files': ['neutron/tests/unit/test_l3_agent.py', 'neutron/agent/l3/dvr.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7eb23f662cd62f29700ae51ee16dc535d251fc27', 'message': 'Add index generation for IPv6 rules for DVR\n\nFor IPv6 support with DVR the index used for rule priority and\nroute table needs to be generated such that the index is 32 bits\nor less but greater than the system generated rule entries.\n\nFor IPv4 the numeric value of the network is used as the index.\nFor IPv6 the 30 bit xor-folded crc32 of the cidr is used.\nValues smaller than system generated entries are extended into\nthe range freed up because of xor-folding.\nFor code modularity, index generation is wrapped into a helper\nmethod.\n\nPartial-bug: #1376325\n\nChange-Id: I4bcde80257ef5fe7c744086019841cdef5e3c60c\n'}]",42,134676,7eb23f662cd62f29700ae51ee16dc535d251fc27,347,44,15,9077,,,0,"Add index generation for IPv6 rules for DVR

For IPv6 support with DVR the index used for rule priority and
route table needs to be generated such that the index is 32 bits
or less but greater than the system generated rule entries.

For IPv4 the numeric value of the network is used as the index.
For IPv6 the 30 bit xor-folded crc32 of the cidr is used.
Values smaller than system generated entries are extended into
the range freed up because of xor-folding.
For code modularity, index generation is wrapped into a helper
method.

Partial-bug: #1376325

Change-Id: I4bcde80257ef5fe7c744086019841cdef5e3c60c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/134676/10 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3_agent.py', 'neutron/tests/unit/test_l3_agent.py']",2,e744f13d3f8240bb9735de51065ae68ea48132b8,rajeev-rebase," def test__get_snat_idx_4(self): ip_cidr = '101.12.13.14/24' agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) snat_idx, version = agent._get_snat_idx(ip_cidr) self.assertEqual(snat_idx, 1695288590) self.assertEqual(version, 4) def test__get_snat_idx_6(self): ip_cidr = '2620:0:a03:e100:bd30:2665:7550:871b/64' agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) snat_idx, version = agent._get_snat_idx(ip_cidr) self.assertEqual(snat_idx, 541026060) self.assertEqual(version, 6) ",,28,2
openstack%2Fmagnetodb~master~I236250753674ed8584de7fef79dd246a3009ff93,openstack/magnetodb,master,I236250753674ed8584de7fef79dd246a3009ff93,Migrates to oslo.context library,MERGED,2015-01-22 20:38:43.000000000,2015-01-23 16:25:49.000000000,2015-01-23 16:25:48.000000000,"[{'_account_id': 3}, {'_account_id': 7553}, {'_account_id': 8188}, {'_account_id': 8491}, {'_account_id': 8601}, {'_account_id': 8863}, {'_account_id': 11006}]","[{'number': 1, 'created': '2015-01-22 20:38:43.000000000', 'files': ['magnetodb/notifier/__init__.py', 'requirements.txt', 'magnetodb/context.py', 'magnetodb/common/middleware/context.py', 'bin/magnetodb-async-task-executor', 'magnetodb/openstack/common/context.py'], 'web_link': 'https://opendev.org/openstack/magnetodb/commit/1f899990c0360fff305d965dd4eedba54661318c', 'message': 'Migrates to oslo.context library\n\nImplements: bp oslo-context-migration\nChange-Id: I236250753674ed8584de7fef79dd246a3009ff93\n'}]",0,149393,1f899990c0360fff305d965dd4eedba54661318c,9,7,1,8863,,,0,"Migrates to oslo.context library

Implements: bp oslo-context-migration
Change-Id: I236250753674ed8584de7fef79dd246a3009ff93
",git fetch https://review.opendev.org/openstack/magnetodb refs/changes/93/149393/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnetodb/notifier/__init__.py', 'requirements.txt', 'magnetodb/context.py', 'magnetodb/common/middleware/context.py', 'bin/magnetodb-async-task-executor', 'magnetodb/openstack/common/context.py']",6,1f899990c0360fff305d965dd4eedba54661318c,bp/oslo-context-migration,,"# Copyright 2011 OpenStack Foundation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Simple class that stores security context information in the web request. Projects should subclass this class if they wish to enhance the request context or provide additional information in their specific WSGI pipeline. """""" import itertools from magnetodb.openstack.common import uuidutils def generate_request_id(): return 'req-%s' % uuidutils.generate_uuid() class RequestContext(object): """""" Stores information about the security context under which the user accesses the system, as well as additional request information. """""" def __init__(self, auth_token=None, user=None, tenant=None, is_admin=False, roles=None, read_only=False, show_deleted=False, request_id=None): self.auth_token = auth_token self.user = user self.tenant = tenant self.is_admin = is_admin self.roles = roles self.read_only = read_only self.show_deleted = show_deleted if not request_id: request_id = generate_request_id() self.request_id = request_id def to_dict(self): return {'user': self.user, 'tenant': self.tenant, 'is_admin': self.is_admin, 'roles': self.roles, 'read_only': self.read_only, 'show_deleted': self.show_deleted, 'auth_token': self.auth_token, 'request_id': self.request_id} def get_admin_context(show_deleted=""no""): context = RequestContext(None, tenant=None, is_admin=True, show_deleted=show_deleted) return context def get_context_from_function_and_args(function, args, kwargs): """"""Find an arg of type RequestContext and return it. This is useful in a couple of decorators where we don't know much about the function we're wrapping. """""" for arg in itertools.chain(kwargs.values(), args): if isinstance(arg, RequestContext): return arg return None ",141,90
openstack%2Fnova~master~Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0,openstack/nova,master,Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0,Move generate_image_url into image.api,ABANDONED,2014-08-01 06:33:58.000000000,2015-01-23 16:24:35.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6159}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}, {'_account_id': 12175}]","[{'number': 1, 'created': '2014-08-01 06:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c00cbcd8da3fc866baedd5ca3b386c37ce29b89b', 'message': 'Move generate_glance_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api. This patch moves generate_glance_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 2, 'created': '2014-08-01 07:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/121ef9e95a762209310953b96434370e2ed49f77', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api. This patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 3, 'created': '2014-08-13 08:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/574199b4a7d01f44738906f3887f74d940e4832d', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api. This patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 4, 'created': '2014-08-14 05:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6fb9e16a207178b3fcdda87f52b8fef7e99e0826', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api. This patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 5, 'created': '2014-08-27 03:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8697592ea9bc14ed81ba867b43c5c791c54b09c9', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api. This patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 6, 'created': '2014-08-27 04:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0cb3e43b11448f759a2f64a6e733ce42ee5ce340', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api. This patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 7, 'created': '2014-08-27 05:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/212798e69dd6ae61d31ebd99b64d1f5a72acad7f', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api. This patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 8, 'created': '2014-08-27 05:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba7c041201fb5e937ce5437544c1a25858d86038', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api. This patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 9, 'created': '2014-08-27 07:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76b8181ba42fd2e2f55f51670a204cef694b3010', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api. This patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 10, 'created': '2014-09-26 10:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18d156f632e9d8af73068973135fecd9f0c78f90', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api. This patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 11, 'created': '2014-10-09 02:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e88b5d7400591e514632defad87640102ea76ca', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api. This patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 12, 'created': '2014-10-22 07:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0eb532fd3f1c74aced62d4a630b4a04a9cc0dee', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api. This patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 13, 'created': '2014-10-24 05:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e1889d72fa6e820add113c5c2fdef2cca18d388', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api. This patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 14, 'created': '2014-10-24 05:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4bd4d9b6a0c3dd46e24329f61a097e5f3db9fb23', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api. This patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 15, 'created': '2014-10-24 07:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad92bed914dc3b585ada0e3d4f5acdf27276987c', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api. This patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 16, 'created': '2014-10-28 08:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d0d58f2cc1baa2dbee3c91e48cc584563109b96', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api. This patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 17, 'created': '2014-11-13 08:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea54c7ab3aad2acbe7b825c0300d2614dfdd1a19', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api. This patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 18, 'created': '2014-11-20 04:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/764c39daceefc2008e4a20940d163e785c4a4e14', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api. This patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 19, 'created': '2014-11-22 14:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf5c19b2d1454c4c3e20f49100c53a9c2ba08179', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api. This patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 20, 'created': '2014-11-22 15:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1da1b461ac4ca6509610c1933a55221b3476bd0', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api. This patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 21, 'created': '2014-11-23 14:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c570ca3b1f9f31b172fd756feb34e592915cca9', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api and make image API the only interface for images.\nThis patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 22, 'created': '2014-11-24 08:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dad1028fa0d0cf4c3f78eb674002407313124f80', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api and make image API the only interface for images.\nThis patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}, {'number': 23, 'created': '2014-12-09 05:33:56.000000000', 'files': ['nova/notifications.py', 'nova/api/openstack/compute/plugins/v3/servers.py', 'nova/tests/unit/compute/test_compute.py', 'nova/image/api.py', 'nova/compute/manager.py', 'nova/tests/unit/api/openstack/compute/plugins/v3/test_server_actions.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/522abc89019448b62ba14dfacf49042cf588630c', 'message': 'Move generate_image_url into image.api\n\nWe moved glance call into image.api as cinder and neutron in this\nrelease. So it would be better to move all glance related calls\ninto image api and make image API the only interface for images.\nThis patch moves generate_image_url into image api.\n\nChange-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0\n'}]",18,111173,522abc89019448b62ba14dfacf49042cf588630c,156,14,23,6062,,,0,"Move generate_image_url into image.api

We moved glance call into image.api as cinder and neutron in this
release. So it would be better to move all glance related calls
into image api and make image API the only interface for images.
This patch moves generate_image_url into image api.

Change-Id: Ic0f75d7e726daaaf862ef825a3e1a2e5e828f2b0
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/111173/21 && git format-patch -1 --stdout FETCH_HEAD,"['nova/notifications.py', 'nova/api/openstack/compute/plugins/v3/servers.py', 'nova/image/api.py', 'nova/compute/manager.py', 'nova/tests/api/openstack/compute/plugins/v3/test_server_actions.py', 'nova/tests/compute/test_compute.py', 'nova/api/openstack/compute/views/images.py']",7,c00cbcd8da3fc866baedd5ca3b386c37ce29b89b,move_generate_glance_url_image_api,from nova.image import api as image_api glance_api = image_api.API() glance_url = glance_api.generate_glance_url() glance_api = image_api.API() glance_url = glance_api.generate_image_url(identifier),from nova.image import glance glance_url = glance.generate_glance_url() glance_url = glance.generate_image_url(identifier),37,21
openstack%2Fironic~master~Idc41e9d8bd743002c408dd282dffb6bdb71ca037,openstack/ironic,master,Idc41e9d8bd743002c408dd282dffb6bdb71ca037,Remove argparse from requirements,MERGED,2015-01-23 11:31:42.000000000,2015-01-23 16:17:51.000000000,2015-01-23 16:17:50.000000000,"[{'_account_id': 3}, {'_account_id': 3099}, {'_account_id': 10239}, {'_account_id': 12081}]","[{'number': 1, 'created': '2015-01-23 11:31:42.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/91378f7cd94096298fd7815fbb0d8f9c8c1beecf', 'message': ""Remove argparse from requirements\n\nSince Python 2.6 support has been dropped and argparse is native in\nPython 2.7, there's no need to pip install it.\n\nChange-Id: Idc41e9d8bd743002c408dd282dffb6bdb71ca037\n""}]",0,149582,91378f7cd94096298fd7815fbb0d8f9c8c1beecf,10,4,1,1669,,,0,"Remove argparse from requirements

Since Python 2.6 support has been dropped and argparse is native in
Python 2.7, there's no need to pip install it.

Change-Id: Idc41e9d8bd743002c408dd282dffb6bdb71ca037
",git fetch https://review.opendev.org/openstack/ironic refs/changes/82/149582/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,91378f7cd94096298fd7815fbb0d8f9c8c1beecf,jd/clean-requirement,,argparse,0,1
openstack%2Fsahara~master~I6be5c3f8514c2dd3f33b56399e6c39222caad367,openstack/sahara,master,I6be5c3f8514c2dd3f33b56399e6c39222caad367,Updated from global requirements,MERGED,2015-01-23 04:38:37.000000000,2015-01-23 16:17:36.000000000,2015-01-23 16:17:35.000000000,"[{'_account_id': 3}, {'_account_id': 7213}, {'_account_id': 10670}, {'_account_id': 12038}]","[{'number': 1, 'created': '2015-01-23 04:38:37.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara/commit/8c786bc5259107c625ef868e3cee5d2af407a9e2', 'message': 'Updated from global requirements\n\nChange-Id: I6be5c3f8514c2dd3f33b56399e6c39222caad367\n'}]",0,149490,8c786bc5259107c625ef868e3cee5d2af407a9e2,8,4,1,11131,,,0,"Updated from global requirements

Change-Id: I6be5c3f8514c2dd3f33b56399e6c39222caad367
",git fetch https://review.opendev.org/openstack/sahara refs/changes/90/149490/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,8c786bc5259107c625ef868e3cee5d2af407a9e2,openstack/requirements,oslo.db>=1.4.1 # Apache-2.0 oslo.i18n>=1.3.0 # Apache-2.0,oslo.db>=1.3.0 # Apache-2.0 oslo.i18n>=1.0.0 # Apache-2.0,2,2
openstack%2Fcookbook-openstack-compute~master~Icf6ed3ffcc8d54f3632f97d5e10ad61e31c3c718,openstack/cookbook-openstack-compute,master,Icf6ed3ffcc8d54f3632f97d5e10ad61e31c3c718,Fix race condition in openstack-compute,ABANDONED,2015-01-23 15:33:45.000000000,2015-01-23 16:17:22.000000000,,"[{'_account_id': 3}, {'_account_id': 7128}, {'_account_id': 10068}]","[{'number': 1, 'created': '2015-01-23 15:33:45.000000000', 'files': ['attributes/default.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/6445a29c8f734c10099fae2a0c55078617dc2280', 'message': 'Fix race condition in openstack-compute\n\nnova-api still tries to start nova-api-metadata despite that being\nhandled in openstack-compute::api-metadata now and causes a race\ncondition leaving nova-api in a broken state.\n\nRemoving the metadata endpoint from enabled_apis allows both\nnova-api and nova-api-metadata to start independently of each other.\n\nChange-Id: Icf6ed3ffcc8d54f3632f97d5e10ad61e31c3c718\n'}]",0,149655,6445a29c8f734c10099fae2a0c55078617dc2280,5,3,1,14790,,,0,"Fix race condition in openstack-compute

nova-api still tries to start nova-api-metadata despite that being
handled in openstack-compute::api-metadata now and causes a race
condition leaving nova-api in a broken state.

Removing the metadata endpoint from enabled_apis allows both
nova-api and nova-api-metadata to start independently of each other.

Change-Id: Icf6ed3ffcc8d54f3632f97d5e10ad61e31c3c718
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/55/149655/1 && git format-patch -1 --stdout FETCH_HEAD,['attributes/default.rb'],1,6445a29c8f734c10099fae2a0c55078617dc2280,,"default['openstack']['compute']['enabled_apis'] = 'ec2,osapi_compute'","default['openstack']['compute']['enabled_apis'] = 'ec2,osapi_compute,metadata'",1,1
openstack%2Fopenstack-ansible~master~I3e3e2ca796f92df6655a8f78242228c135671cd2,openstack/openstack-ansible,master,I3e3e2ca796f92df6655a8f78242228c135671cd2,[WIP] Do deterministic distributed sorting,ABANDONED,2014-12-17 22:36:01.000000000,2015-01-23 16:10:36.000000000,,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-12-17 22:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/11aab7d6aa73feb4bbafb51d23519fea1645ab52', 'message': 'Do deterministic distributed sorting\n\nAdd a new module to handle to sorting that ansible is not capable of doing.\n\nChange-Id: I3e3e2ca796f92df6655a8f78242228c135671cd2\nCloses-Bug: 1403663\n'}, {'number': 2, 'created': '2014-12-17 22:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/372a6dc1a38654203715cf44424d9317959b0109', 'message': '[WIP] Do deterministic distributed sorting\n\nAdd a new module to handle to sorting that ansible is not capable of doing.\n\nChange-Id: I3e3e2ca796f92df6655a8f78242228c135671cd2\nCloses-Bug: 1403663\n'}, {'number': 3, 'created': '2014-12-17 22:42:19.000000000', 'files': ['rpc_deployment/library/dist_sort'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/15a250458257f2599c3a5af38435f5203aaa7731', 'message': '[WIP] Do deterministic distributed sorting\n\nAdd a new module to handle to sorting that ansible is not capable of doing.\n\nChange-Id: I3e3e2ca796f92df6655a8f78242228c135671cd2\nCloses-Bug: 1403663\n'}]",1,142596,15a250458257f2599c3a5af38435f5203aaa7731,10,4,3,14119,,,0,"[WIP] Do deterministic distributed sorting

Add a new module to handle to sorting that ansible is not capable of doing.

Change-Id: I3e3e2ca796f92df6655a8f78242228c135671cd2
Closes-Bug: 1403663
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/96/142596/1 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/library/dist_sort'],1,11aab7d6aa73feb4bbafb51d23519fea1645ab52,bug/1403663,"#!/usr/bin/python # -*- coding: utf-8 -*- # (c) 2014, openstack-ansible # http://github.com/stackforge/os-ansible-deployment # # This file is part of Ansible # # Ansible is free software: you can redistribute it and/or modify # it under the terms of the GNU General Public License as published by # the Free Software Foundation, either version 3 of the License, or # (at your option) any later version. # # Ansible is distributed in the hope that it will be useful, # but WITHOUT ANY WARRANTY; without even the implied warranty of # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the # GNU General Public License for more details. # # You should have received a copy of the GNU General Public License # along with Ansible. If not, see <http://www.gnu.org/licenses/>. DOCUMENTATION = """""" --- module: dist_sort short_description: deterministically distribute list order description: - Deterministically order list to distribute the elements in the list evenly - based on external values such as host or static modifer options: src_list: description: - list in the form of a string seperated by a delimiter required: True ref_list: description: - list to lookup value_to_lookup against to return index number required: False value_to_lookup: description: - value is looked up against ref_list to get index number required: False sort_modifier: description: - add a static int into the sort equation to wieght the output type: int default: 0 delimiter: description: - delimiter used to parse src_list with default: ',' author: Sam Yaple """""" EXAMPLES = """""" # pop the top and append to end 2 times - dist_sort: src_list=""test01,test02,test03"" sort_modifier=2 # pop the top and append to end n times, where n is the modulo of \ # lst.index(value_to_lookup) % len(csv_list) - dist_sort: src_list=""test01,test02,test03"" ref_list=""index01,index02,index03"" value_to_lookup=""index02"" # pop the top and append to end n times, where n is the modulo of \ # sort_modifier + lst.index(value_to_lookup) % len(csv_list) - dist_sort: src_list=""test01#test02#test03"" ref_list=""index01,index02,index03"" value_to_lookup=""index02"" sort_modifier=2 delimiter=# """""" def main(): module = AnsibleModule( argument_spec=dict( csv_list=dict( required=True ), ref_list=dict( required=False ), value_to_lookup=dict( required=False ), sort_modifier=dict( type='int', default=0 ), delimiter=dict( default=',' ) ), supports_check_mode=False ) csv_list = module.params['csv_list'] ref_list = module.params['ref_list'] value_to_lookup = module.params['value_to_lookup'] sort_modifier = module.params.get('sort_modifier') delimiter = module.params.get('delimiter') lst = csv_list.split(delimiter) if ref_list and value_to_lookup: sort_modifier = sort_modifier + ref_lst.index(value_to_lookup) % \ len(lst) for i in xrange(sort_modifier): lst.append(lst.pop(0)) try: resp = {'sorted list as': lst} module.exit_json(changed=True, **resp) except Exception as exp: resp = {'stderr': exp} module.fail_json(msg='Failed Process', **resp) from ansible.module_utils.basic import * main() ",,110,0
openstack%2Fnova~master~Ie931a31997fed211752549e06a362fd36981cfec,openstack/nova,master,Ie931a31997fed211752549e06a362fd36981cfec,use-uuid-v1,ABANDONED,2014-12-17 16:51:18.000000000,2015-01-23 16:10:35.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13071}]","[{'number': 1, 'created': '2014-12-17 16:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2bfbb1b48d3c6930245dfeabde3bff0940403703', 'message': 'use-uuid-v1\n\nAdd the possibility to use UUID v1 for new instances\nspecifying last 12 hex digits of UUID\n\nImplements blueprint use-uuid-v1\n\nChange-Id: Ie931a31997fed211752549e06a362fd36981cfec\n'}, {'number': 2, 'created': '2014-12-18 15:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bfdf78bffaeace25d6aee025f795d56aeda2743', 'message': 'use-uuid-v1\n\nAdd the possibility to use UUID v1 for new instances\nspecifying last 12 hex digits of UUID\n\nImplements blueprint use-uuid-v1\n\nAPIImpact\n\nChange-Id: Ie931a31997fed211752549e06a362fd36981cfec\n'}, {'number': 3, 'created': '2014-12-19 14:19:09.000000000', 'files': ['nova/tests/functional/api_samples/os-node-uuid/node-uuid-post-req.xml.tpl', 'etc/nova/policy.json', 'doc/api_samples/all_extensions/extensions-get-resp.xml', 'nova/tests/functional/api_samples/os-node-uuid/node-uuid-post-req.json.tpl', 'nova/api/openstack/compute/plugins/v3/node_uuid.py', 'nova/tests/functional/v3/test_node_uuid.py', 'nova/tests/unit/api/openstack/compute/contrib/test_node_uuid.py', 'nova/tests/functional/api_samples/all_extensions/extensions-get-resp.json.tpl', 'nova/api/openstack/compute/contrib/node_uuid.py', 'nova/compute/api.py', 'doc/v3/api_samples/os-node-uuid/node-uuid-post-req.json', 'nova/tests/functional/api_samples/all_extensions/extensions-get-resp.xml.tpl', 'doc/api_samples/all_extensions/extensions-get-resp.json', 'doc/api_samples/os-node-uuid/node-uuid-post-resp.xml', 'nova/tests/functional/v3/api_samples/os-node-uuid/node-uuid-post-resp.json.tpl', 'nova/tests/functional/test_api_samples.py', 'doc/v3/api_samples/all_extensions/extensions-list-resp.json', 'nova/api/openstack/compute/servers.py', 'nova/tests/functional/api_samples/os-node-uuid/node-uuid-post-resp.json.tpl', 'doc/api_samples/os-node-uuid/node-uuid-post-resp.json', 'doc/v3/api_samples/os-node-uuid/node-uuid-post-resp.json', 'doc/api_samples/os-node-uuid/node-uuid-post-req.json', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/fake_policy.py', 'nova/tests/functional/v3/api_samples/all_extensions/extensions-list-resp.json.tpl', 'doc/api_samples/os-node-uuid/node-uuid-post-req.xml', 'nova/tests/unit/api/openstack/compute/test_extensions.py', 'nova/tests/functional/v3/api_samples/os-node-uuid/node-uuid-post-req.json.tpl', 'setup.cfg', 'nova/api/openstack/compute/schemas/v3/node_uuid.py', 'nova/tests/functional/api_samples/os-node-uuid/node-uuid-post-resp.xml.tpl'], 'web_link': 'https://opendev.org/openstack/nova/commit/7ffdf7b6c1e6b756153f39e4d117b598d436ca94', 'message': 'use-uuid-v1\n\nAdd the possibility to use UUID v1 for new instances\nspecifying last 12 hex digits of UUID\n\nImplements blueprint use-uuid-v1\n\nAPIImpact\n\nChange-Id: Ie931a31997fed211752549e06a362fd36981cfec\n'}]",0,142498,7ffdf7b6c1e6b756153f39e4d117b598d436ca94,24,8,3,13071,,,0,"use-uuid-v1

Add the possibility to use UUID v1 for new instances
specifying last 12 hex digits of UUID

Implements blueprint use-uuid-v1

APIImpact

Change-Id: Ie931a31997fed211752549e06a362fd36981cfec
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/142498/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api_samples/os-node-uuid/node-uuid-post-req.xml.tpl', 'etc/nova/policy.json', 'doc/api_samples/all_extensions/extensions-get-resp.xml', 'nova/tests/functional/api_samples/os-node-uuid/node-uuid-post-req.json.tpl', 'nova/api/openstack/compute/plugins/v3/node_uuid.py', 'nova/tests/functional/v3/test_node_uuid.py', 'nova/tests/unit/api/openstack/compute/contrib/test_node_uuid.py', 'nova/tests/functional/api_samples/all_extensions/extensions-get-resp.json.tpl', 'nova/api/openstack/compute/contrib/node_uuid.py', 'nova/compute/api.py', 'doc/v3/api_samples/os-node-uuid/node-uuid-post-req.json', 'nova/tests/functional/api_samples/all_extensions/extensions-get-resp.xml.tpl', 'doc/api_samples/all_extensions/extensions-get-resp.json', 'doc/api_samples/os-node-uuid/node-uuid-post-resp.xml', 'nova/tests/functional/v3/api_samples/os-node-uuid/node-uuid-post-resp.json.tpl', 'nova/tests/functional/test_api_samples.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/functional/api_samples/os-node-uuid/node-uuid-post-resp.json.tpl', 'doc/api_samples/os-node-uuid/node-uuid-post-resp.json', 'doc/v3/api_samples/os-node-uuid/node-uuid-post-resp.json', 'doc/api_samples/os-node-uuid/node-uuid-post-req.json', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/fake_policy.py', 'doc/api_samples/os-node-uuid/node-uuid-post-req.xml', 'nova/tests/unit/api/openstack/compute/test_extensions.py', 'nova/tests/functional/v3/api_samples/os-node-uuid/node-uuid-post-req.json.tpl', 'setup.cfg', 'nova/api/openstack/compute/schemas/v3/node_uuid.py', 'nova/tests/functional/api_samples/os-node-uuid/node-uuid-post-resp.xml.tpl']",29,2bfbb1b48d3c6930245dfeabde3bff0940403703,bp/use-uuid-v1,"<?xml version='1.0' encoding='UTF-8'?> <server xmlns:atom=""http://www.w3.org/2005/Atom"" xmlns=""http://docs.openstack.org/compute/api/v1.1"" id=""%(id)s"" adminPass=""%(password)s""> <metadata/> <atom:link href=""%(host)s/v2/openstack/servers/%(uuid)s"" rel=""self""/> <atom:link href=""%(host)s/openstack/servers/%(uuid)s"" rel=""bookmark""/> </server> ",,549,17
openstack%2Fopenstack-ansible~icehouse~I78716b737b37feab8b21d6e765a349e4e6724bf6,openstack/openstack-ansible,icehouse,I78716b737b37feab8b21d6e765a349e4e6724bf6,Use HTTPS when installing from mirror.rackspace.com,MERGED,2015-01-20 17:21:37.000000000,2015-01-23 16:06:47.000000000,2015-01-23 16:06:47.000000000,"[{'_account_id': 3}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7217}, {'_account_id': 7353}, {'_account_id': 9884}, {'_account_id': 12000}]","[{'number': 1, 'created': '2015-01-20 17:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/877988f78290d55ea59c1ee61ed53828ac84b559', 'message': 'Use HTTPS when installing from mirror.rackspace.com\n\nSecurityImpact\n\nCloses-bug: 1411331\n\nConflicts:\n\trequirements.txt\n\trpc_deployment/inventory/group_vars/all.yml\n\tscripts/os-ansible-aio-check.sh\n\nChange-Id: I78716b737b37feab8b21d6e765a349e4e6724bf6\n(cherry picked from commit 28b6c2da9c4138b8f05b673174c7560d6c8efe07)\n'}, {'number': 2, 'created': '2015-01-20 20:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7819d72e1ee4976b86e6df5f5531a09b3d3f9c4d', 'message': 'Use HTTPS when installing from mirror.rackspace.com\n\nSecurityImpact\n\nCloses-bug: 1411331\n\nConflicts:\n\trequirements.txt\n\trpc_deployment/inventory/group_vars/all.yml\n\tscripts/os-ansible-aio-check.sh\n\nChange-Id: I78716b737b37feab8b21d6e765a349e4e6724bf6\n(cherry picked from commit 28b6c2da9c4138b8f05b673174c7560d6c8efe07)\n'}, {'number': 3, 'created': '2015-01-21 15:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5300170111f9c9d0fbdf96abb0823971e0dbc1de', 'message': 'Use HTTPS when installing from mirror.rackspace.com\n\nSecurityImpact\n\nCloses-Bug: #1411331\nRelated-Bug: #1409762\n\nConflicts:\n\trequirements.txt\n\trpc_deployment/inventory/group_vars/all.yml\n\tscripts/os-ansible-aio-check.sh\n\nChange-Id: I78716b737b37feab8b21d6e765a349e4e6724bf6\n(cherry picked from commit 28b6c2da9c4138b8f05b673174c7560d6c8efe07)\n'}, {'number': 4, 'created': '2015-01-21 19:11:54.000000000', 'files': ['requirements.txt', 'rpc_deployment/vars/repo_packages/all_common.yml', 'scripts/rpc9.0.0-aio-heat-template.yml', 'rpc_deployment/inventory/group_vars/all.yml', 'scripts/rpc9.0.0-aio-rax-heat-template.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/56f4ba03bd8196e9d504b0518f24a3f311036260', 'message': 'Use HTTPS when installing from mirror.rackspace.com\n\nSecurityImpact\n\nCloses-Bug: #1411331\nRelated-Bug: #1409762\n\nConflicts:\n\trequirements.txt\n\trpc_deployment/inventory/group_vars/all.yml\n\tscripts/os-ansible-aio-check.sh\n\nChange-Id: I78716b737b37feab8b21d6e765a349e4e6724bf6\n(cherry picked from commit 28b6c2da9c4138b8f05b673174c7560d6c8efe07)\n'}]",2,148661,56f4ba03bd8196e9d504b0518f24a3f311036260,26,7,4,12000,,,0,"Use HTTPS when installing from mirror.rackspace.com

SecurityImpact

Closes-Bug: #1411331
Related-Bug: #1409762

Conflicts:
	requirements.txt
	rpc_deployment/inventory/group_vars/all.yml
	scripts/os-ansible-aio-check.sh

Change-Id: I78716b737b37feab8b21d6e765a349e4e6724bf6
(cherry picked from commit 28b6c2da9c4138b8f05b673174c7560d6c8efe07)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/61/148661/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'rpc_deployment/vars/repo_packages/all_common.yml', 'rpc_deployment/inventory/group_vars/all.yml', 'scripts/rpc9.0.0-aio-heat-template.yml', 'scripts/rpc9.0.0-aio-rax-heat-template.yml']",5,877988f78290d55ea59c1ee61ed53828ac84b559,bug/1411331, default: https://mirror.rackspace.com/rackspaceprivatecloud, default: http://mirror.rackspace.com/rackspaceprivatecloud,6,6
openstack%2Fopenstack-ansible~icehouse~I9005c6f03fd88345028183f38c682c7734562b24,openstack/openstack-ansible,icehouse,I9005c6f03fd88345028183f38c682c7734562b24,Use reliable static mirror for mariadb apt repository,MERGED,2015-01-21 12:05:53.000000000,2015-01-23 16:06:07.000000000,2015-01-23 16:06:06.000000000,"[{'_account_id': 3}, {'_account_id': 7217}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-21 12:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cc3da6fe13ec9e11e7a8c94f459ef7ab7668eaab', 'message': 'Use reliable static mirror for mariadb apt repository\n\nThis patch enables the use of the rackspace mirror of the mariadb\narchive. This is necessary as archive.mariadb.org is not always\nresponding appropriately to apt requests.\n\nChange-Id: I9005c6f03fd88345028183f38c682c7734562b24\nCloses-Bug: #1412521\n'}, {'number': 2, 'created': '2015-01-21 15:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3bff0c81f895dacb116ec617ad53337714af30c0', 'message': 'Use reliable static mirror for mariadb apt repository\n\nThis patch enables the use of the rackspace mirror of the mariadb\narchive. This is necessary as archive.mariadb.org is not always\nresponding appropriately to apt requests.\n\nChange-Id: I9005c6f03fd88345028183f38c682c7734562b24\nCloses-Bug: #1412521\nRelated-Bug: #1409762\n'}, {'number': 3, 'created': '2015-01-21 15:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f6313dfff5d1d5c68362f17c3179efaeab4108fa', 'message': 'Use reliable static mirror for mariadb apt repository\n\nThis patch enables the use of the rackspace mirror of the mariadb\narchive. This is necessary as archive.mariadb.org is not always\nresponding appropriately to apt requests.\n\nChange-Id: I9005c6f03fd88345028183f38c682c7734562b24\nCloses-Bug: #1412521\nRelated-Bug: #1409762\n'}, {'number': 4, 'created': '2015-01-21 19:11:54.000000000', 'files': ['rpc_deployment/inventory/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4d7096d6434d35936c620579cfee2b88632afa04', 'message': 'Use reliable static mirror for mariadb apt repository\n\nThis patch enables the use of the rackspace mirror of the mariadb\narchive. This is necessary as archive.mariadb.org is not always\nresponding appropriately to apt requests.\n\nChange-Id: I9005c6f03fd88345028183f38c682c7734562b24\nCloses-Bug: #1412521\nRelated-Bug: #1409762\n'}]",0,148905,4d7096d6434d35936c620579cfee2b88632afa04,19,4,4,6816,,,0,"Use reliable static mirror for mariadb apt repository

This patch enables the use of the rackspace mirror of the mariadb
archive. This is necessary as archive.mariadb.org is not always
responding appropriately to apt requests.

Change-Id: I9005c6f03fd88345028183f38c682c7734562b24
Closes-Bug: #1412521
Related-Bug: #1409762
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/05/148905/4 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/inventory/group_vars/all.yml'],1,cc3da6fe13ec9e11e7a8c94f459ef7ab7668eaab,bug/1411331," - { repo: ""deb http://mirror.rackspace.com/rackspaceprivatecloud/mirror/mariadb/mariadb-5.5.41/repo/ubuntu/ {{ ansible_distribution_release }} main"", state: ""present"" }"," - { repo: ""deb http://archive.mariadb.org/mariadb-5.5.41/repo/ubuntu/ {{ ansible_distribution_release }} main"", state: ""present"" }",1,1
openstack%2Fopenstack-ansible~icehouse~Ic5de676422a6bde5d35ff5b1f6bf85037dcbcafc,openstack/openstack-ansible,icehouse,Ic5de676422a6bde5d35ff5b1f6bf85037dcbcafc,use archive.mariadb.org for to install mariadb package,MERGED,2015-01-21 11:45:55.000000000,2015-01-23 16:05:20.000000000,2015-01-23 16:05:20.000000000,"[{'_account_id': 3}, {'_account_id': 425}, {'_account_id': 7217}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-21 11:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7b31ab8549152e6f05c7cd9bac3a2b3b9f380a3b', 'message': 'use archive.mariadb.org for to install mariadb package\n\nthe current source repo for mariadb expires packages after 6 months.\nThe official archive keeps all versions, so we switch to using that.\n\nAdditionally, this commit removes unused references to this repo and key\nfrom vars/repo_packages/all_common.yml\n\nCloses-Bug: #1410743\nChange-Id: Ic5de676422a6bde5d35ff5b1f6bf85037dcbcafc\n'}, {'number': 2, 'created': '2015-01-21 15:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fdd6dcd42b621d3ea8713ee802242e5d83fa879f', 'message': 'use archive.mariadb.org for to install mariadb package\n\nthe current source repo for mariadb expires packages after 6 months.\nThe official archive keeps all versions, so we switch to using that.\n\nAdditionally, this commit removes unused references to this repo and key\nfrom vars/repo_packages/all_common.yml\n\nCloses-Bug: #1410743\nRelated-Bug: #1409762\nChange-Id: Ic5de676422a6bde5d35ff5b1f6bf85037dcbcafc\n'}, {'number': 3, 'created': '2015-01-21 19:11:54.000000000', 'files': ['rpc_deployment/vars/repo_packages/all_common.yml', 'rpc_deployment/inventory/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/23124164037b187fd1be671bcf548d27071b1be2', 'message': 'use archive.mariadb.org for to install mariadb package\n\nthe current source repo for mariadb expires packages after 6 months.\nThe official archive keeps all versions, so we switch to using that.\n\nAdditionally, this commit removes unused references to this repo and key\nfrom vars/repo_packages/all_common.yml\n\nCloses-Bug: #1410743\nRelated-Bug: #1409762\nChange-Id: Ic5de676422a6bde5d35ff5b1f6bf85037dcbcafc\n'}]",0,148898,23124164037b187fd1be671bcf548d27071b1be2,17,5,3,6816,,,0,"use archive.mariadb.org for to install mariadb package

the current source repo for mariadb expires packages after 6 months.
The official archive keeps all versions, so we switch to using that.

Additionally, this commit removes unused references to this repo and key
from vars/repo_packages/all_common.yml

Closes-Bug: #1410743
Related-Bug: #1409762
Change-Id: Ic5de676422a6bde5d35ff5b1f6bf85037dcbcafc
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/98/148898/3 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/vars/repo_packages/all_common.yml', 'rpc_deployment/inventory/group_vars/all.yml']",2,7b31ab8549152e6f05c7cd9bac3a2b3b9f380a3b,bug/1411331," - { repo: ""deb http://archive.mariadb.org/mariadb-5.5.41/repo/ubuntu/ {{ ansible_distribution_release }} main"", state: ""present"" }"," - { repo: ""deb http://ftp.osuosl.org/pub/mariadb/repo/5.5/ubuntu {{ ansible_distribution_release }} main"", state: ""present"" }",1,20
openstack%2Fmonasca-agent~master~I60faad0299a533f3beb383f4f0bf0ceb9bd32c90,openstack/monasca-agent,master,I60faad0299a533f3beb383f4f0bf0ceb9bd32c90,Removed the BucketGauge class as it is not used anymore.,MERGED,2015-01-23 02:45:31.000000000,2015-01-23 16:04:53.000000000,2015-01-23 16:04:52.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 11094}, {'_account_id': 12443}, {'_account_id': 12512}, {'_account_id': 14273}, {'_account_id': 14791}]","[{'number': 1, 'created': '2015-01-23 02:45:31.000000000', 'files': ['monasca_agent/common/metrics.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/a2a8fc01a25c36751563bf8e44d8c92da9d46b22', 'message': 'Removed the BucketGauge class as it is not used anymore.\n\nRecently changed the statsd aggregator to use the Gauge instead\nof the BucketGauge.  BucketGauge class not used anymore.\n\nChange-Id: I60faad0299a533f3beb383f4f0bf0ceb9bd32c90\n'}]",0,149461,a2a8fc01a25c36751563bf8e44d8c92da9d46b22,8,7,1,12108,,,0,"Removed the BucketGauge class as it is not used anymore.

Recently changed the statsd aggregator to use the Gauge instead
of the BucketGauge.  BucketGauge class not used anymore.

Change-Id: I60faad0299a533f3beb383f4f0bf0ceb9bd32c90
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/61/149461/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_agent/common/metrics.py'],1,a2a8fc01a25c36751563bf8e44d8c92da9d46b22,monasca/switch-to-gauge-class,,"class BucketGauge(Gauge): """""" A metric that tracks a value at particular points in time. The difference beween this class and Gauge is that this class will report that gauge sample time as the time that Metric is flushed, as opposed to the time that the sample was collected. """""" def flush(self, timestamp, interval): if self.value is not None: res = [self.formatter( metric=self.name, timestamp=timestamp, value=self.value, dimensions=self.dimensions, delegated_tenant=self.delegated_tenant, hostname=self.hostname, device_name=self.device_name, metric_type=MetricTypes.GAUGE, interval=interval, )] self.value = None return res return [] ",0,28
openstack%2Fopenstack-ansible~icehouse~If015428ee83be8d32766507765e1c9e6fe0879d6,openstack/openstack-ansible,icehouse,If015428ee83be8d32766507765e1c9e6fe0879d6,Sync gate scripts with master,MERGED,2015-01-21 14:18:57.000000000,2015-01-23 16:04:18.000000000,2015-01-23 16:04:17.000000000,"[{'_account_id': 3}, {'_account_id': 7217}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-21 14:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/61b734f4c0edfaa3434827004d6a15d9e25a73b6', 'message': ""Sync gate scripts with master\n\nThere has been work going on to get the AIO gate working in the master\nbranch. In order to enable the AIO for reviews against the icehouse\nbranch we need to pull these changes in from master.\n\nThe differences between this commit and master's version are:\n1) cloudserver-aio.sh uses the icehouse branch (instead of master)\n2) os-ansible-aio-check.sh has swift deployment disabled\n\nChange-Id: If015428ee83be8d32766507765e1c9e6fe0879d6\nCloses-Bug: #1409762\n""}, {'number': 2, 'created': '2015-01-21 19:11:54.000000000', 'files': ['scripts/os-ansible-aio-check.sh', 'scripts/cloudserver-aio.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/919deb837468e9047cd30deb0c7dd692950a92e7', 'message': ""Sync gate scripts with master\n\nThere has been work going on to get the AIO gate working in the master\nbranch. In order to enable the AIO for reviews against the icehouse\nbranch we need to pull these changes in from master.\n\nThe differences between this commit and master's version are:\n1) cloudserver-aio.sh uses the icehouse branch (instead of master)\n2) os-ansible-aio-check.sh has swift deployment disabled\n\nChange-Id: If015428ee83be8d32766507765e1c9e6fe0879d6\nCloses-Bug: #1409762\n""}]",0,148937,919deb837468e9047cd30deb0c7dd692950a92e7,14,4,2,6816,,,0,"Sync gate scripts with master

There has been work going on to get the AIO gate working in the master
branch. In order to enable the AIO for reviews against the icehouse
branch we need to pull these changes in from master.

The differences between this commit and master's version are:
1) cloudserver-aio.sh uses the icehouse branch (instead of master)
2) os-ansible-aio-check.sh has swift deployment disabled

Change-Id: If015428ee83be8d32766507765e1c9e6fe0879d6
Closes-Bug: #1409762
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/37/148937/2 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/os-ansible-aio-check.sh', 'scripts/cloudserver-aio.sh']",2,61b734f4c0edfaa3434827004d6a15d9e25a73b6,bug/1411331,"REPO_URL=${REPO_URL:-""https://github.com/stackforge/os-ansible-deployment.git""} REPO_BRANCH=${REPO_BRANCH:-""icehouse""} WORKING_FOLDER=${WORKING_FOLDER:-""/opt/stackforge/os-ansible-deployment""} # install git so that we can fetch the repo apt-get update && apt-get install -y git # fetch the repo git clone -b ${REPO_BRANCH} ${REPO_URL} ${WORKING_FOLDER}/ # put an motd in place to help the user know how to restart galera after reboot cat > /etc/update-motd.d/20-openstack<< EOFecho ""############ ansible-os-deployment all-in-one build #############"" echo ""If this server has been rebooted, you will need to re-bootstrap"" echo ""Galera to get the cluster operational. To do this execute:""echo ""cd /opt/ansible-lxc-rpc/rpc_deployment""chmod +x /etc/update-motd.d/20-openstack # run the same aio build script that is used in the OpenStack CI pipeline cd ${WORKING_FOLDER} ./scripts/os-ansible-aio-check.sh","REPO_URL=${REPO_URL:-""https://github.com/rcbops/ansible-lxc-rpc.git""} REPO_BRANCH=${REPO_BRANCH:-""9.0.5""} FROZEN_REPO_URL=${FROZEN_REPO:-""http://mirror.rackspace.com/rackspaceprivatecloud""} MAX_RETRIES=${MAX_RETRIES:-5} apt-get update apt-get install -y python-dev \ python2.7 \ build-essential \ curl \ git-core \ ipython \ tmux \ vim \ vlan \ bridge-utils \ lvm2 \ linux-image-extra-$(uname -r) function key_create(){ ssh-keygen -t rsa -f /root/.ssh/id_rsa -N '' } # Used to retry process that may fail due to random issues. function successerator() { set +e RETRY=0 # Set the initial return value to failure false while [ $? -ne 0 -a ${RETRY} -lt ${MAX_RETRIES} ];do RETRY=$((${RETRY}+1)) $@ done if [ ${RETRY} -eq ${MAX_RETRIES} ];then echo ""Hit maximum number of retries, giving up..."" exit 1 fi set -e } function install_bits() { successerator ansible-playbook -e @/etc/rpc_deploy/user_variables.yml \ playbooks/$@ } if [ ! -d ""/opt"" ];then mkdir /opt fi if [ ! ""$(swapon -s | grep -v Filename)"" ];then cat > /opt/swap.sh <<EOF #!/usr/bin/env bash if [ ! ""\$(swapon -s | grep -v Filename)"" ];then SWAPFILE=""/tmp/SwapFile"" if [ -f ""\${SWAPFILE}"" ];then swapoff -a rm \${SWAPFILE} fi dd if=/dev/zero of=\${SWAPFILE} bs=1M count=512 mkswap \${SWAPFILE} swapon \${SWAPFILE} fi EOF chmod +x /opt/swap.sh /opt/swap.sh fi if [ -f ""/opt/swap.sh"" ];then if [ ! -f ""/etc/rc.local"" ];then touch /etc/rc.local fi if [ ""$(grep 'exit 0' /etc/rc.local)"" ];then sed -i '/exit\ 0/ s/^/#\ /' /etc/rc.local fi if [ ! ""$(grep 'swap.sh' /etc/rc.local)"" ];then echo ""/opt/swap.sh"" | tee -a /etc/rc.local fi chmod +x /etc/rc.local fi # Make the system key used for bootstrapping self pushd /root/.ssh/ if [ ! -f ""id_rsa"" ];then key_create fi if [ ! -f ""id_rsa.pub"" ];then rm ""id_rsa"" key_create fi KEYENTRY=$(cat id_rsa.pub) if [ ! ""$(grep \""$KEYENTRY\"" authorized_keys)"" ];then echo ""$KEYENTRY"" | tee -a authorized_keys fi popd CINDER=""/opt/cinder.img"" if [ ! ""$(losetup -a | grep /opt/cinder.img)"" ];then LOOP=$(losetup -f) dd if=/dev/zero of=${CINDER} bs=1 count=0 seek=1000G losetup ${LOOP} ${CINDER} pvcreate ${LOOP} vgcreate cinder-volumes ${LOOP} pvscan fi # Get the source if [ -d ""/opt/ansible-lxc-rpc"" ];then rm -rf ""/opt/ansible-lxc-rpc"" fi git clone ""${REPO_URL}"" ""/opt/ansible-lxc-rpc"" pushd /opt/ansible-lxc-rpc git checkout ""${REPO_BRANCH}"" # Copy the base etc files if [ -d ""/etc/rpc_deploy"" ];then rm -rf ""/etc/rpc_deploy"" fi cp -R /opt/ansible-lxc-rpc/etc/rpc_deploy /etc/ # Install pip curl ${FROZEN_REPO_URL}/downloads/get-pip.py | python # Install requirements pip install -r /opt/ansible-lxc-rpc/requirements.txt # Generate the passwords /opt/ansible-lxc-rpc/scripts/pw-token-gen.py --file /etc/rpc_deploy/user_variables.yml popd cat > /etc/rpc_deploy/user_variables.yml <<EOF --- rpc_repo_url: ${FROZEN_REPO_URL} required_kernel: 3.13.0-30-generic ## Rackspace Cloud Details rackspace_cloud_auth_url: https://identity.api.rackspacecloud.com/v2.0 rackspace_cloud_tenant_id: SomeTenantID # The cloudfiles_tenant_id is the long MossoCloudFS tenantID only required rackspace_cloudfiles_tenant_id: SomeTenantID rackspace_cloud_username: SomeUserName rackspace_cloud_password: SomeUsersPassword rackspace_cloud_api_key: SomeAPIKey ## Rabbit Options rabbitmq_password: secrete rabbitmq_cookie_token: secrete ## Tokens memcached_encryption_key: secrete ## Container default user container_openstack_password: secrete ## Galera Options mysql_root_password: secrete mysql_debian_sys_maint_password: secrete ## Keystone Options keystone_container_mysql_password: secrete keystone_auth_admin_token: secrete keystone_auth_admin_password: secrete keystone_service_password: secrete ## Cinder Options cinder_container_mysql_password: secrete cinder_service_password: secrete cinder_v2_service_password: secrete # Set default_store to ""swift"" if using Cloud Files or swift backend glance_default_store: file glance_container_mysql_password: secrete glance_service_password: secrete glance_swift_store_auth_address: ""{{ rackspace_cloud_auth_url }}"" glance_swift_store_user: ""{{ rackspace_cloudfiles_tenant_id }}:{{ rackspace_cloud_username }}"" glance_swift_store_key: ""{{ rackspace_cloud_password }}"" glance_swift_store_container: SomeContainerName glance_swift_store_region: SomeRegion glance_swift_store_endpoint_type: internalURL glance_notification_driver: noop ## Heat Options heat_stack_domain_admin_password: secrete heat_container_mysql_password: secrete ### THE HEAT AUTH KEY NEEDS TO BE 32 CHARACTERS LONG ## heat_auth_encryption_key: 12345678901234567890123456789012 ### THE HEAT AUTH KEY NEEDS TO BE 32 CHARACTERS LONG ## heat_service_password: secrete heat_cfn_service_password: secrete ## Horizon Options horizon_container_mysql_password: secrete ## MaaS Options maas_auth_method: password maas_auth_url: ""{{ rackspace_cloud_auth_url }}"" maas_username: ""{{ rackspace_cloud_username }}"" maas_api_key: ""{{ rackspace_cloud_api_key }}"" maas_auth_token: some_token maas_api_url: https://monitoring.api.rackspacecloud.com/v1.0/{{ rackspace_cloud_tenant_id }} maas_notification_plan: npManaged # By default we will create an agent token for each entity, however if you'd # prefer to use the same agent token for all entities then specify it here #maas_agent_token: some_token maas_target_alias: public0_v4 maas_scheme: https # Override scheme for specific service remote monitor by specifying here: E.g. # maas_nova_scheme: http maas_keystone_user: maas maas_keystone_password: secrete # Check this number of times before registering state change maas_alarm_local_consecutive_count: 3 maas_alarm_remote_consecutive_count: 1 # Timeout must be less than period maas_check_period: 60 maas_check_timeout: 30 maas_monitoring_zones: - mzdfw - mziad - mzord - mzlon - mzhkg maas_repo_version: 9.0.5 ## Neutron Options neutron_container_mysql_password: secrete neutron_service_password: secrete ## Nova Options nova_virt_type: qemu nova_container_mysql_password: secrete nova_metadata_proxy_secret: secrete nova_ec2_service_password: secrete nova_service_password: secrete nova_v3_service_password: secrete nova_s3_service_password: secrete ## RPC Support rpc_support_holland_password: secrete ## Kibana Options kibana_password: secrete EOF cat > /etc/rpc_deploy/rpc_user_config.yml <<EOF --- # This is the md5 of the environment file environment_version: $(md5sum /etc/rpc_deploy/rpc_environment.yml | awk '{print $1}') # User defined CIDR used for containers cidr_networks: # Cidr used in the Management network container: 172.29.236.0/22 # Cidr used in the Service network snet: 172.29.248.0/22 # Cidr used in the VM network tunnel: 172.29.240.0/22 # Cidr used in the Storage network storage: 172.29.244.0/22 used_ips: - 172.29.236.1,172.29.236.50 - 172.29.244.1,172.29.244.50 global_overrides: rpc_repo_url: ${FROZEN_REPO_URL} # Internal Management vip address internal_lb_vip_address: 172.29.236.100 # External DMZ VIP address external_lb_vip_address: 10.200.200.146 # Bridged interface to use with tunnel type networks tunnel_bridge: ""br-vxlan"" # Bridged interface to build containers with management_bridge: ""br-mgmt"" # Define your Add on container networks. provider_networks: - network: group_binds: - all_containers - hosts type: ""raw"" container_bridge: ""br-mgmt"" container_interface: ""eth1"" ip_from_q: ""container"" - network: group_binds: - glance_api - cinder_api - cinder_volume - nova_compute type: ""raw"" container_bridge: ""br-storage"" container_interface: ""eth2"" ip_from_q: ""storage"" - network: group_binds: - glance_api - nova_compute - neutron_linuxbridge_agent type: ""raw"" container_bridge: ""br-snet"" container_interface: ""eth3"" ip_from_q: ""snet"" - network: group_binds: - neutron_linuxbridge_agent container_bridge: ""br-vxlan"" container_interface: ""eth10"" ip_from_q: ""tunnel"" type: ""vxlan"" range: ""1:1000"" net_name: ""vxlan"" - network: group_binds: - neutron_linuxbridge_agent container_bridge: ""br-vlan"" container_interface: ""eth11"" type: ""flat"" net_name: ""vlan"" - network: group_binds: - neutron_linuxbridge_agent container_bridge: ""br-vlan"" container_interface: ""eth11"" type: ""vlan"" range: ""1:1"" net_name: ""vlan"" # Name of load balancer lb_name: lb_name_in_core # User defined Infrastructure Hosts, this should be a required group infra_hosts: aio1: ip: 172.29.236.100 # User defined Compute Hosts, this should be a required group compute_hosts: aio1: ip: 172.29.236.100 # User defined Storage Hosts, this should be a required group storage_hosts: aio1: ip: 172.29.236.100 container_vars: cinder_backends: limit_container_types: cinder_volume lvm: volume_group: cinder-volumes volume_driver: cinder.volume.drivers.lvm.LVMISCSIDriver volume_backend_name: LVM_iSCSI # User defined Logging Hosts, this should be a required group log_hosts: aio1: ip: 172.29.236.100 # User defined Networking Hosts, this should be a required group network_hosts: aio1: ip: 172.29.236.100 haproxy_hosts: aio1: ip: 172.29.236.100 EOF cat > /etc/network/interfaces.d/aio-bridges.cfg <<EOF ## Required network bridges; br-vlan, br-vxlan, br-mgmt. auto br-mgmt iface br-mgmt inet static bridge_stp off bridge_waitport 0 bridge_fd 0 # Notice the bridge port is the vlan tagged interface bridge_ports none address 172.29.236.100 netmask 255.255.252.0 auto br-vxlan iface br-vxlan inet static bridge_stp off bridge_waitport 0 bridge_fd 0 bridge_ports none address 172.29.240.100 netmask 255.255.252.0 auto br-vlan iface br-vlan inet manual bridge_stp off bridge_waitport 0 bridge_fd 0 # Notice this bridge port is an Untagged host interface bridge_ports none auto br-storage iface br-storage inet static bridge_stp off bridge_waitport 0 bridge_fd 0 bridge_ports none address 172.29.244.100 netmask 255.255.252.0 auto br-snet iface br-snet inet static bridge_stp off bridge_waitport 0 bridge_fd 0 bridge_ports none # Notice there is NO physical interface in this bridge! address 172.29.248.100 netmask 255.255.252.0 EOF # Ensure the network source is in place if [ ! ""$(grep -Rni '^source\ /etc/network/interfaces.d/\*.cfg' /etc/network/interfaces)"" ]; then echo ""source /etc/network/interfaces.d/*.cfg"" | tee -a /etc/network/interfaces fi # Bring up the new interfaces for i in br-snet br-storage br-vlan br-vxlan br-mgmt; do /sbin/ifup $i || true done # Export the home directory just in case it's not set export HOME=""/root"" pushd /opt/ansible-lxc-rpc/rpc_deployment # Install all host bits install_bits setup/host-setup.yml # Install haproxy for dev purposes only install_bits infrastructure/haproxy-install.yml # Install all of the infra bits install_bits infrastructure/infrastructure-setup.yml # install all of the Openstack Bits install_bits openstack/openstack-common.yml install_bits openstack/keystone.yml install_bits openstack/keystone-add-all-services.yml install_bits openstack/glance-all.yml install_bits openstack/heat-all.yml install_bits openstack/nova-all.yml install_bits openstack/neutron-all.yml install_bits openstack/cinder-all.yml install_bits openstack/horizon-all.yml install_bits openstack/utility.yml install_bits openstack/rpc-support.yml # Stop rsyslog container(s) for i in $(lxc-ls | grep ""rsyslog""); do lxc-stop -k -n $i; lxc-start -d -n $i done # Reconfigure Rsyslog install_bits infrastructure/rsyslog-config.yml popd if [ ! ""$(dpkg -l | grep linux-image-extra-3.13.0-35-generic)"" ];then apt-get install -y linux-image-extra-3.13.0-35-generic rm /etc/update-motd.d/* cat > /etc/update-motd.d/00-rpc-notice<< EOFecho ""############ RPC DEPLOYMENT #############"" echo ""A new kernel was installed on this system. you will"" echo ""need to re-bootstrap Galera to get the cluster operataional."" echo ""from the /opt/ansible-lxc-rpc/rpc_deployment directory execute:""chmod +x /etc/update-motd.d/00-rpc-notice shutdown -r now fi",488,446
openstack%2Fpuppet-keystone~master~I1ed19b6a4273c08a74cf1bc551e23dcd05efa6bb,openstack/puppet-keystone,master,I1ed19b6a4273c08a74cf1bc551e23dcd05efa6bb,add require json for to_json dependency,MERGED,2015-01-23 15:07:39.000000000,2015-01-23 16:02:51.000000000,2015-01-23 15:44:49.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7155}]","[{'number': 1, 'created': '2015-01-23 15:07:39.000000000', 'files': ['spec/unit/provider/keystone_user/openstack_spec.rb', 'lib/puppet/provider/keystone_user/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/beef860d37977750a1656867d3a7778813d0c915', 'message': ""add require json for to_json dependency\n\nThe commit to use the REST api to check the password introduced a\ndependency on JSON.  This adds the require 'json' to satisfy it.\nThis also adds some tests to exercise the REST HTTPS code.\n\nChange-Id: I1ed19b6a4273c08a74cf1bc551e23dcd05efa6bb\n""}]",0,149648,beef860d37977750a1656867d3a7778813d0c915,8,3,1,9983,,,0,"add require json for to_json dependency

The commit to use the REST api to check the password introduced a
dependency on JSON.  This adds the require 'json' to satisfy it.
This also adds some tests to exercise the REST HTTPS code.

Change-Id: I1ed19b6a4273c08a74cf1bc551e23dcd05efa6bb
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/48/149648/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/keystone_user/openstack_spec.rb', 'lib/puppet/provider/keystone_user/openstack.rb']",2,beef860d37977750a1656867d3a7778813d0c915,bug/1414024,require 'json',,74,23
openstack%2Fopenstack-ansible~juno~I0203dc525ca9e8f962ac683ca07b5cb3bea41589,openstack/openstack-ansible,juno,I0203dc525ca9e8f962ac683ca07b5cb3bea41589,Fixed generator type assumption error,MERGED,2015-01-21 15:20:11.000000000,2015-01-23 16:01:13.000000000,2015-01-23 16:01:11.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-21 15:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/722387ece646315545a5998fc1617ba46de5d860', 'message': 'Fixed generator type assumption error\n\nWhen adding the swift config pieces the dynamic inventory has attempts\nto add extra arguments to host _meta inventory which assumes the option\nis in a dictionary format. To address the issue an if block  has been\nadded which which checks the object type and proceeds accordingly.\n\nCloses-Bug: 1399387\nChange-Id: I0203dc525ca9e8f962ac683ca07b5cb3bea41589\n(cherry picked from commit 1710987f0a1d7e170e1d8e441f65742c645fa398)\n'}, {'number': 2, 'created': '2015-01-21 15:44:13.000000000', 'files': ['rpc_deployment/inventory/dynamic_inventory.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/40183d68cf10895e568056cc35a92119dd66c376', 'message': 'Fixed generator type assumption error\n\nWhen adding the swift config pieces the dynamic inventory has attempts\nto add extra arguments to host _meta inventory which assumes the option\nis in a dictionary format. To address the issue an if block  has been\nadded which which checks the object type and proceeds accordingly.\n\nCloses-Bug: #1399387\nRelated-Bug: #1409762\nChange-Id: I0203dc525ca9e8f962ac683ca07b5cb3bea41589\n(cherry picked from commit 1710987f0a1d7e170e1d8e441f65742c645fa398)\n'}]",0,148958,40183d68cf10895e568056cc35a92119dd66c376,19,5,2,6816,,,0,"Fixed generator type assumption error

When adding the swift config pieces the dynamic inventory has attempts
to add extra arguments to host _meta inventory which assumes the option
is in a dictionary format. To address the issue an if block  has been
added which which checks the object type and proceeds accordingly.

Closes-Bug: #1399387
Related-Bug: #1409762
Change-Id: I0203dc525ca9e8f962ac683ca07b5cb3bea41589
(cherry picked from commit 1710987f0a1d7e170e1d8e441f65742c645fa398)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/58/148958/2 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/inventory/dynamic_inventory.py'],1,722387ece646315545a5998fc1617ba46de5d860,," if isinstance(options, (str, dict, list)): if 'limit_container_types' in options: limit = options.pop( 'limit_container_types', None )"," if 'limit_container_types' in options: limit = options.pop( 'limit_container_types', None )",5,4
openstack%2Foslo-incubator~master~I399081f72fb11636480851ae9ed4cc647f19e6f7,openstack/oslo-incubator,master,I399081f72fb11636480851ae9ed4cc647f19e6f7,Replace mox by mox3,MERGED,2015-01-19 12:49:08.000000000,2015-01-23 15:59:29.000000000,2015-01-23 15:59:27.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 6928}, {'_account_id': 9107}, {'_account_id': 9656}]","[{'number': 1, 'created': '2015-01-19 12:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/7b63657c8ec677cb0275bc1b3acd741728b85138', 'message': ""Replace mox by mox3\n\nThis remove the usage of six.moves.mox as it's a dangerous side-effect\nfrom importing oslotest, and it is anyway a no-op as it's always\npointing to mox3. We therefore replace the mox dependency by mox3.\n\nChange-Id: I399081f72fb11636480851ae9ed4cc647f19e6f7\n""}, {'number': 2, 'created': '2015-01-23 10:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/9e940c6d978cc745deeeb4190136255b7965260e', 'message': ""Replace mox by mox3\n\nThis remove the usage of six.moves.mox as it's a dangerous side-effect\nfrom importing oslotest, and it is anyway a no-op as it's always\npointing to mox3. We therefore replace the mox dependency by mox3.\n\nChange-Id: I399081f72fb11636480851ae9ed4cc647f19e6f7\n""}, {'number': 3, 'created': '2015-01-23 10:18:09.000000000', 'files': ['test-requirements.txt', 'tests/unit/test_service.py', 'openstack/common/fixture/__init__.py', 'tests/unit/test_loopingcall.py', 'tests/unit/test_fileutils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/b8917f6847f7c751864ab76ef6349c4408122ca6', 'message': ""Replace mox by mox3\n\nThis remove the usage of six.moves.mox as it's a dangerous side-effect\nfrom importing oslotest, and it is anyway a no-op as it's always\npointing to mox3. We therefore replace the mox dependency by mox3.\n\nChange-Id: I399081f72fb11636480851ae9ed4cc647f19e6f7\n""}]",1,148243,b8917f6847f7c751864ab76ef6349c4408122ca6,14,5,3,1669,,,0,"Replace mox by mox3

This remove the usage of six.moves.mox as it's a dangerous side-effect
from importing oslotest, and it is anyway a no-op as it's always
pointing to mox3. We therefore replace the mox dependency by mox3.

Change-Id: I399081f72fb11636480851ae9ed4cc647f19e6f7
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/43/148243/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tests/unit/test_service.py', 'tests/unit/test_loopingcall.py', 'tests/unit/test_fileutils.py', 'tox.ini']",5,7b63657c8ec677cb0275bc1b3acd741728b85138,jd/remove-deps,, six.moves.mox,4,5
openstack%2Fnova~master~Ice1450b1babcabbcc6032c490667d1822f5fb86d,openstack/nova,master,Ice1450b1babcabbcc6032c490667d1822f5fb86d,libvirt: rename self.conn in LibvirtVolume{Snapshot||Usage}TestCase,MERGED,2014-12-10 15:06:18.000000000,2015-01-23 15:57:29.000000000,2015-01-23 15:57:26.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9382}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-12-10 15:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5e95443945ce4063a6a0dfbd4f4ff95abef57d3', 'message': 'libvirt: rename self.conn in LibvirtVolume{Snapshot||Usage}TestCase\n\nThe self.conn variable points to the libvirt Nova driver, not the\nlibvirt connection. Rename it to self.drvr to stop confusing\neveryone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: Ice1450b1babcabbcc6032c490667d1822f5fb86d\n'}, {'number': 2, 'created': '2014-12-10 16:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70ce07d022b36d6312ffc0e6cb583c20203dd297', 'message': 'libvirt: rename self.conn in LibvirtVolume{Snapshot||Usage}TestCase\n\nThe self.conn variable points to the libvirt Nova driver, not the\nlibvirt connection. Rename it to self.drvr to stop confusing\neveryone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: Ice1450b1babcabbcc6032c490667d1822f5fb86d\n'}, {'number': 3, 'created': '2014-12-10 17:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/038354225791201f66daa919f4159e4e8920c0ec', 'message': 'libvirt: rename self.conn in LibvirtVolume{Snapshot||Usage}TestCase\n\nThe self.conn variable points to the libvirt Nova driver, not the\nlibvirt connection. Rename it to self.drvr to stop confusing\neveryone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: Ice1450b1babcabbcc6032c490667d1822f5fb86d\n'}, {'number': 4, 'created': '2014-12-16 12:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c9d773fd900fbec84ff297104e670ec5f6f0d61', 'message': 'libvirt: rename self.conn in LibvirtVolume{Snapshot||Usage}TestCase\n\nThe self.conn variable points to the libvirt Nova driver, not the\nlibvirt connection. Rename it to self.drvr to stop confusing\neveryone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: Ice1450b1babcabbcc6032c490667d1822f5fb86d\n'}, {'number': 5, 'created': '2014-12-17 11:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6833f9a5c4ecfb1c6e1cb27e1d7c6d39f5bbf4a', 'message': 'libvirt: rename self.conn in LibvirtVolume{Snapshot||Usage}TestCase\n\nThe self.conn variable points to the libvirt Nova driver, not the\nlibvirt connection. Rename it to self.drvr to stop confusing\neveryone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: Ice1450b1babcabbcc6032c490667d1822f5fb86d\n'}, {'number': 6, 'created': '2014-12-18 14:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa5b83e928ad0cc0fe9ad5d0442baa553c2e92d1', 'message': 'libvirt: rename self.conn in LibvirtVolume{Snapshot||Usage}TestCase\n\nThe self.conn variable points to the libvirt Nova driver, not the\nlibvirt connection. Rename it to self.drvr to stop confusing\neveryone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: Ice1450b1babcabbcc6032c490667d1822f5fb86d\n'}, {'number': 7, 'created': '2014-12-19 11:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40fc64edc978825e904f90b4e5e3cdf4d06bda66', 'message': 'libvirt: rename self.conn in LibvirtVolume{Snapshot||Usage}TestCase\n\nThe self.conn variable points to the libvirt Nova driver, not the\nlibvirt connection. Rename it to self.drvr to stop confusing\neveryone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: Ice1450b1babcabbcc6032c490667d1822f5fb86d\n'}, {'number': 8, 'created': '2015-01-06 14:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d49cbab2cbec82108a995582fb7e267cf3b989e6', 'message': 'libvirt: rename self.conn in LibvirtVolume{Snapshot||Usage}TestCase\n\nThe self.conn variable points to the libvirt Nova driver, not the\nlibvirt connection. Rename it to self.drvr to stop confusing\neveryone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: Ice1450b1babcabbcc6032c490667d1822f5fb86d\n'}, {'number': 9, 'created': '2015-01-06 14:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf03fa603145e2e736ca13d8079c347105dbf825', 'message': 'libvirt: rename self.conn in LibvirtVolume{Snapshot||Usage}TestCase\n\nThe self.conn variable points to the libvirt Nova driver, not the\nlibvirt connection. Rename it to self.drvr to stop confusing\neveryone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: Ice1450b1babcabbcc6032c490667d1822f5fb86d\n'}, {'number': 10, 'created': '2015-01-07 09:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec8c4b56621772f705aa499001c90217d1d5df31', 'message': 'libvirt: rename self.conn in LibvirtVolume{Snapshot||Usage}TestCase\n\nThe self.conn variable points to the libvirt Nova driver, not the\nlibvirt connection. Rename it to self.drvr to stop confusing\neveryone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: Ice1450b1babcabbcc6032c490667d1822f5fb86d\n'}, {'number': 11, 'created': '2015-01-13 13:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80d2c99d84863ece93d81072169f58e43eaed0d2', 'message': 'libvirt: rename self.conn in LibvirtVolume{Snapshot||Usage}TestCase\n\nThe self.conn variable points to the libvirt Nova driver, not the\nlibvirt connection. Rename it to self.drvr to stop confusing\neveryone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: Ice1450b1babcabbcc6032c490667d1822f5fb86d\n'}, {'number': 12, 'created': '2015-01-19 16:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30540c563271ca038e4c781ebcb3545b57bf9314', 'message': 'libvirt: rename self.conn in LibvirtVolume{Snapshot||Usage}TestCase\n\nThe self.conn variable points to the libvirt Nova driver, not the\nlibvirt connection. Rename it to self.drvr to stop confusing\neveryone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: Ice1450b1babcabbcc6032c490667d1822f5fb86d\n'}, {'number': 13, 'created': '2015-01-20 11:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9cafa6aa09fdcefb0062bbe974c3901b70963df', 'message': 'libvirt: rename self.conn in LibvirtVolume{Snapshot||Usage}TestCase\n\nThe self.conn variable points to the libvirt Nova driver, not the\nlibvirt connection. Rename it to self.drvr to stop confusing\neveryone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: Ice1450b1babcabbcc6032c490667d1822f5fb86d\n'}, {'number': 14, 'created': '2015-01-22 11:26:01.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4580f69c91def27dffca8fa438d1c1e03ea7fde4', 'message': 'libvirt: rename self.conn in LibvirtVolume{Snapshot||Usage}TestCase\n\nThe self.conn variable points to the libvirt Nova driver, not the\nlibvirt connection. Rename it to self.drvr to stop confusing\neveryone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: Ice1450b1babcabbcc6032c490667d1822f5fb86d\n'}]",0,140728,4580f69c91def27dffca8fa438d1c1e03ea7fde4,98,14,14,1779,,,0,"libvirt: rename self.conn in LibvirtVolume{Snapshot||Usage}TestCase

The self.conn variable points to the libvirt Nova driver, not the
libvirt connection. Rename it to self.drvr to stop confusing
everyone.

Blueprint: libvirt-driver-class-refactor
Change-Id: Ice1450b1babcabbcc6032c490667d1822f5fb86d
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/140728/9 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/test_driver.py'],1,b5e95443945ce4063a6a0dfbd4f4ff95abef57d3,libvirt-driver-refactor-4," self.drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) self.stubs.Set(self.drvr, 'block_stats', fake_block_stats) vol_usage = self.drvr.get_all_volume_usage(self.c, vol_usage = self.drvr.get_all_volume_usage(self.c, self.drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) self.drvr._volume_refresh_connection_info(self.c, self.inst, self.drvr._volume_api, self.drvr) self.mox.StubOutWithMock(self.drvr._host, 'get_domain') self.mox.StubOutWithMock(self.drvr, '_volume_api') self.drvr._volume_snapshot_create(self.c, instance, domain, self.mox.StubOutWithMock(self.drvr._host, 'get_domain') self.mox.StubOutWithMock(self.drvr, '_volume_api') self.drvr._volume_snapshot_create(self.c, instance, domain, self.mox.StubOutWithMock(self.drvr._host, 'get_domain') self.mox.StubOutWithMock(self.drvr, '_volume_api') self.mox.StubOutWithMock(self.drvr, '_volume_snapshot_create') self.drvr._host.get_domain(instance).AndReturn(domain) self.drvr._volume_snapshot_create(self.c, self.drvr._volume_api.update_snapshot_status( self.mox.StubOutWithMock(self.drvr._volume_api, 'get_snapshot') self.drvr._volume_api.get_snapshot(self.c, self.mox.StubOutWithMock(self.drvr, '_volume_refresh_connection_info') self.drvr._volume_refresh_connection_info(self.c, instance, self.drvr.volume_snapshot_create(self.c, instance, self.volume_uuid, self.mox.StubOutWithMock(self.drvr._host, 'get_domain') self.mox.StubOutWithMock(self.drvr, '_volume_api') self.mox.StubOutWithMock(self.drvr, '_volume_snapshot_create') self.drvr._host.get_domain(instance).AndReturn(domain) self.drvr._volume_snapshot_create(self.c, self.drvr._volume_api.update_snapshot_status( self.drvr.volume_snapshot_create, self.mox.StubOutWithMock(self.drvr._host, 'get_domain') self.mox.StubOutWithMock(self.drvr._host, 'has_min_version') self.drvr._host.get_domain(instance).AndReturn(domain) self.drvr._host.has_min_version(mox.IgnoreArg()).AndReturn(True) self.drvr._volume_snapshot_delete(self.c, instance, self.volume_uuid, self.mox.StubOutWithMock(self.drvr._host, 'get_domain') self.mox.StubOutWithMock(self.drvr._host, 'has_min_version') self.drvr._host.get_domain(instance).AndReturn(domain) self.drvr._host.has_min_version(mox.IgnoreArg()).AndReturn(True) self.drvr._volume_snapshot_delete(self.c, instance, self.volume_uuid, self.mox.StubOutWithMock(self.drvr._host, 'get_domain') self.mox.StubOutWithMock(self.drvr, '_volume_api') self.mox.StubOutWithMock(self.drvr, '_volume_snapshot_delete') self.drvr._volume_snapshot_delete(self.c, self.drvr._volume_api.update_snapshot_status( self.mox.StubOutWithMock(self.drvr, '_volume_refresh_connection_info') self.drvr._volume_refresh_connection_info(self.c, instance, self.drvr.volume_snapshot_delete(self.c, instance, self.volume_uuid, self.mox.StubOutWithMock(self.drvr._host, 'get_domain') self.mox.StubOutWithMock(self.drvr, '_volume_api') self.mox.StubOutWithMock(self.drvr, '_volume_snapshot_delete') self.drvr._volume_snapshot_delete(self.c, self.drvr._volume_api.update_snapshot_status( self.drvr.volume_snapshot_delete, self.mox.StubOutWithMock(self.drvr._host, 'get_domain') self.mox.StubOutWithMock(self.drvr, '_volume_api') self.mox.StubOutWithMock(self.drvr._host, 'has_min_version') self.drvr._host.has_min_version(mox.IgnoreArg()).AndReturn(True) self.drvr._volume_api.update_snapshot_status( self.drvr.volume_snapshot_delete, self.mox.StubOutWithMock(self.drvr._host, 'get_domain') self.mox.StubOutWithMock(self.drvr._host, 'has_min_version') self.drvr._host.get_domain(instance).AndReturn(domain) self.drvr._host.has_min_version(mox.IgnoreArg()).AndReturn(True) self.drvr._volume_snapshot_delete(self.c, instance, self.volume_uuid, self.mox.StubOutWithMock(self.drvr._host, 'get_domain') self.mox.StubOutWithMock(self.drvr._host, 'has_min_version') self.drvr._host.get_domain(instance).AndReturn(domain) self.drvr._host.has_min_version(mox.IgnoreArg()).AndReturn(True) self.drvr._volume_snapshot_delete(self.c, instance, self.volume_uuid,"," self.conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) self.stubs.Set(self.conn, 'block_stats', fake_block_stats) vol_usage = self.conn.get_all_volume_usage(self.c, vol_usage = self.conn.get_all_volume_usage(self.c, self.conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) self.conn._volume_refresh_connection_info(self.c, self.inst, self.conn._volume_api, self.conn) self.mox.StubOutWithMock(self.conn._host, 'get_domain') self.mox.StubOutWithMock(self.conn, '_volume_api') self.conn._volume_snapshot_create(self.c, instance, domain, self.mox.StubOutWithMock(self.conn._host, 'get_domain') self.mox.StubOutWithMock(self.conn, '_volume_api') self.conn._volume_snapshot_create(self.c, instance, domain, self.mox.StubOutWithMock(self.conn._host, 'get_domain') self.mox.StubOutWithMock(self.conn, '_volume_api') self.mox.StubOutWithMock(self.conn, '_volume_snapshot_create') self.conn._host.get_domain(instance).AndReturn(domain) self.conn._volume_snapshot_create(self.c, self.conn._volume_api.update_snapshot_status( self.mox.StubOutWithMock(self.conn._volume_api, 'get_snapshot') self.conn._volume_api.get_snapshot(self.c, self.mox.StubOutWithMock(self.conn, '_volume_refresh_connection_info') self.conn._volume_refresh_connection_info(self.c, instance, self.conn.volume_snapshot_create(self.c, instance, self.volume_uuid, self.mox.StubOutWithMock(self.conn._host, 'get_domain') self.mox.StubOutWithMock(self.conn, '_volume_api') self.mox.StubOutWithMock(self.conn, '_volume_snapshot_create') self.conn._host.get_domain(instance).AndReturn(domain) self.conn._volume_snapshot_create(self.c, self.conn._volume_api.update_snapshot_status( self.conn.volume_snapshot_create, self.mox.StubOutWithMock(self.conn._host, 'get_domain') self.mox.StubOutWithMock(self.conn._host, 'has_min_version') self.conn._host.get_domain(instance).AndReturn(domain) self.conn._host.has_min_version(mox.IgnoreArg()).AndReturn(True) self.conn._volume_snapshot_delete(self.c, instance, self.volume_uuid, self.mox.StubOutWithMock(self.conn._host, 'get_domain') self.mox.StubOutWithMock(self.conn._host, 'has_min_version') self.conn._host.get_domain(instance).AndReturn(domain) self.conn._host.has_min_version(mox.IgnoreArg()).AndReturn(True) self.conn._volume_snapshot_delete(self.c, instance, self.volume_uuid, self.mox.StubOutWithMock(self.conn._host, 'get_domain') self.mox.StubOutWithMock(self.conn, '_volume_api') self.mox.StubOutWithMock(self.conn, '_volume_snapshot_delete') self.conn._volume_snapshot_delete(self.c, self.conn._volume_api.update_snapshot_status( self.mox.StubOutWithMock(self.conn, '_volume_refresh_connection_info') self.conn._volume_refresh_connection_info(self.c, instance, self.conn.volume_snapshot_delete(self.c, instance, self.volume_uuid, self.mox.StubOutWithMock(self.conn._host, 'get_domain') self.mox.StubOutWithMock(self.conn, '_volume_api') self.mox.StubOutWithMock(self.conn, '_volume_snapshot_delete') self.conn._volume_snapshot_delete(self.c, self.conn._volume_api.update_snapshot_status( self.conn.volume_snapshot_delete, self.mox.StubOutWithMock(self.conn._host, 'get_domain') self.mox.StubOutWithMock(self.conn, '_volume_api') self.mox.StubOutWithMock(self.conn._host, 'has_min_version') self.conn._host.has_min_version(mox.IgnoreArg()).AndReturn(True) self.conn._volume_api.update_snapshot_status( self.conn.volume_snapshot_delete, self.mox.StubOutWithMock(self.conn._host, 'get_domain') self.mox.StubOutWithMock(self.conn._host, 'has_min_version') self.conn._host.get_domain(instance).AndReturn(domain) self.conn._host.has_min_version(mox.IgnoreArg()).AndReturn(True) self.conn._volume_snapshot_delete(self.c, instance, self.volume_uuid, self.mox.StubOutWithMock(self.conn._host, 'get_domain') self.mox.StubOutWithMock(self.conn._host, 'has_min_version') self.conn._host.get_domain(instance).AndReturn(domain) self.conn._host.has_min_version(mox.IgnoreArg()).AndReturn(True) self.conn._volume_snapshot_delete(self.c, instance, self.volume_uuid,",71,71
openstack%2Frally~master~Ied0ffe4f843e91626c8177e6e44ab7d9c06f19c1,openstack/rally,master,Ied0ffe4f843e91626c8177e6e44ab7d9c06f19c1,"Replace ' with "" in rally/openstack",ABANDONED,2015-01-23 11:57:58.000000000,2015-01-23 15:57:11.000000000,,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 14135}, {'_account_id': 14598}]","[{'number': 1, 'created': '2015-01-23 11:57:58.000000000', 'files': ['rally/openstack/common/cliutils.py', 'rally/openstack/common/periodic_task.py', 'rally/openstack/common/threadgroup.py', 'rally/openstack/common/log.py', 'rally/openstack/common/lockutils.py', 'rally/openstack/common/service.py', 'rally/openstack/common/loopingcall.py', 'rally/openstack/common/eventlet_backdoor.py', 'rally/openstack/common/_i18n.py', 'rally/openstack/common/fileutils.py', 'rally/openstack/common/systemd.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/bc3ab908595c6eb135a139dcde40f57e8a86402b', 'message': 'Replace \' with "" in rally/openstack\n\nPartial bug: 1405884\n\nChange-Id: Ied0ffe4f843e91626c8177e6e44ab7d9c06f19c1\n'}]",0,149594,bc3ab908595c6eb135a139dcde40f57e8a86402b,7,4,1,14598,,,0,"Replace ' with "" in rally/openstack

Partial bug: 1405884

Change-Id: Ied0ffe4f843e91626c8177e6e44ab7d9c06f19c1
",git fetch https://review.opendev.org/openstack/rally refs/changes/94/149594/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/openstack/common/cliutils.py', 'rally/openstack/common/periodic_task.py', 'rally/openstack/common/threadgroup.py', 'rally/openstack/common/lockutils.py', 'rally/openstack/common/log.py', 'rally/openstack/common/service.py', 'rally/openstack/common/eventlet_backdoor.py', 'rally/openstack/common/loopingcall.py', 'rally/openstack/common/_i18n.py', 'rally/openstack/common/fileutils.py', 'rally/openstack/common/systemd.py']",11,bc3ab908595c6eb135a139dcde40f57e8a86402b,bug/1405884," if socket_name.startswith(""@""): socket_name = ""\0%s"" % socket_name[1:] notify_socket = os.getenv(""NOTIFY_SOCKET"") del os.environ[""NOTIFY_SOCKET""] _sd_notify(False, ""READY=1"") _sd_notify(True, ""READY=1"") if ""READY=1"" in msg:if __name__ == ""__main__"": notify_socket = os.getenv(""NOTIFY_SOCKET"")"," if socket_name.startswith('@'): socket_name = '\0%s' % socket_name[1:] notify_socket = os.getenv('NOTIFY_SOCKET') del os.environ['NOTIFY_SOCKET'] _sd_notify(False, 'READY=1') _sd_notify(True, 'READY=1') if 'READY=1' in msg:if __name__ == '__main__': notify_socket = os.getenv('NOTIFY_SOCKET')",281,281
openstack%2Fopenstack-ansible~master~Ie15f96ef22ff18fa3b4bc145174d6ce21e9fd69a,openstack/openstack-ansible,master,Ie15f96ef22ff18fa3b4bc145174d6ce21e9fd69a,Add swift_all inventory to swift-common play,MERGED,2014-12-15 10:27:33.000000000,2015-01-23 15:56:29.000000000,2014-12-15 11:17:41.000000000,"[{'_account_id': 3}, {'_account_id': 2799}, {'_account_id': 7307}, {'_account_id': 9884}]","[{'number': 1, 'created': '2014-12-15 10:27:33.000000000', 'files': ['rpc_deployment/playbooks/openstack/swift-common.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1378ecf66950006b50640827c512a03b90010c72', 'message': 'Add swift_all inventory to swift-common play\n\nThis patch adds the swift_all inventory to the swift-common play to\nensure that the correct service name is used when the play tries to\ninstall the openstack software. Without including the inventory a\ndifferent service name is used when the software installation is\nexecuted, resulting in the play attempting to install neutron instead.\n\nChange-Id: Ie15f96ef22ff18fa3b4bc145174d6ce21e9fd69a\nCloses-Bug: #1402582\n'}]",0,141764,1378ecf66950006b50640827c512a03b90010c72,9,4,1,6816,,,0,"Add swift_all inventory to swift-common play

This patch adds the swift_all inventory to the swift-common play to
ensure that the correct service name is used when the play tries to
install the openstack software. Without including the inventory a
different service name is used when the software installation is
executed, resulting in the play attempting to install neutron instead.

Change-Id: Ie15f96ef22ff18fa3b4bc145174d6ce21e9fd69a
Closes-Bug: #1402582
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/64/141764/1 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/playbooks/openstack/swift-common.yml'],1,1378ecf66950006b50640827c512a03b90010c72,bug/1402582, - inventory/group_vars/swift_all.yml,,1,0
openstack%2Fceilometer~master~I7d6472a1924320c890dec47c41bf22db07a36efc,openstack/ceilometer,master,I7d6472a1924320c890dec47c41bf22db07a36efc,Remove the Nova notifier,MERGED,2015-01-23 10:51:46.000000000,2015-01-23 15:55:23.000000000,2015-01-23 15:55:21.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}, {'_account_id': 3153}, {'_account_id': 6537}, {'_account_id': 11564}]","[{'number': 1, 'created': '2015-01-23 10:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a7dac0a6066b6a8d9e57fd153f72a57aeb437876', 'message': ""Remove the Nova notifier\n\nThis has not been tested for month and doesn't work anymore. There's no\nway people are using it, so let's drop it until someone starts fixing it\nagain.\n\nChange-Id: I7d6472a1924320c890dec47c41bf22db07a36efc\n""}, {'number': 2, 'created': '2015-01-23 11:35:35.000000000', 'files': ['ceilometer/compute/nova_notifier.py', 'doc/source/install/manual.rst', 'nova_tests/test_notifier.py', 'nova_tests/.testr.conf', 'tools/enable_notifications.sh', 'doc/source/conf.py', 'nova_tests/__init__.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/eed463659f2e6f7018b5db1fcae9931ae1d60a00', 'message': ""Remove the Nova notifier\n\nThis has not been tested for months and doesn't work anymore. There's no\nway people are using it, so let's drop it until someone starts fixing it\nagain.\n\nChange-Id: I7d6472a1924320c890dec47c41bf22db07a36efc\n""}]",1,149564,eed463659f2e6f7018b5db1fcae9931ae1d60a00,12,6,2,1669,,,0,"Remove the Nova notifier

This has not been tested for months and doesn't work anymore. There's no
way people are using it, so let's drop it until someone starts fixing it
again.

Change-Id: I7d6472a1924320c890dec47c41bf22db07a36efc
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/64/149564/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/compute/nova_notifier.py', 'doc/source/install/manual.rst', 'nova_tests/test_notifier.py', 'nova_tests/.testr.conf', 'tools/enable_notifications.sh', 'doc/source/conf.py', 'nova_tests/__init__.py']",7,a7dac0a6066b6a8d9e57fd153f72a57aeb437876,jd/remove-nova-notifier,,"# # Copyright 2013 Intel Corp. # # Author: Lianhao Lu <lianhao.lu@intel.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import gettext gettext.install('nova', unicode=True) ",1,530
openstack%2Fopenstack-ansible~juno~I8119a9fef4a09ee429220e88bad06005e064c5fa,openstack/openstack-ansible,juno,I8119a9fef4a09ee429220e88bad06005e064c5fa,"Revert ""Squash all patches required to make gating work""",MERGED,2015-01-22 22:46:15.000000000,2015-01-23 15:54:48.000000000,2015-01-23 15:54:48.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7217}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-22 22:46:15.000000000', 'files': ['rpc_deployment/playbooks/openstack/swift-account.yml', 'rpc_deployment/inventory/dynamic_inventory.py', 'rpc_deployment/playbooks/openstack/swift-common.yml', 'rpc_deployment/playbooks/openstack/swift-build-rings.yml', 'scripts/os-ansible-aio-check.sh', 'rpc_deployment/playbooks/openstack/swift-container.yml', 'rpc_deployment/roles/swift_ring_builder/templates/ring.contents.j2', 'rpc_deployment/roles/swift_storage_setup/tasks/main.yml', 'rpc_deployment/roles/lxc_common/tasks/lxc_install.yml', 'rpc_deployment/vars/repo_packages/all_common.yml', 'rpc_deployment/playbooks/openstack/swift-object.yml', 'rpc_deployment/inventory/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/21733e181b0aba1a4f7e3e8d36532145249e1de7', 'message': 'Revert ""Squash all patches required to make gating work""\n\nThis reverts commit e01165bcc729ba151473dfe3199f913906e8d4b9.\n\nChange-Id: I8119a9fef4a09ee429220e88bad06005e064c5fa\n'}]",2,149418,21733e181b0aba1a4f7e3e8d36532145249e1de7,12,5,1,6816,,,0,"Revert ""Squash all patches required to make gating work""

This reverts commit e01165bcc729ba151473dfe3199f913906e8d4b9.

Change-Id: I8119a9fef4a09ee429220e88bad06005e064c5fa
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/18/149418/1 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/playbooks/openstack/swift-account.yml', 'rpc_deployment/inventory/dynamic_inventory.py', 'rpc_deployment/playbooks/openstack/swift-common.yml', 'rpc_deployment/playbooks/openstack/swift-build-rings.yml', 'scripts/os-ansible-aio-check.sh', 'rpc_deployment/playbooks/openstack/swift-container.yml', 'rpc_deployment/roles/swift_ring_builder/templates/ring.contents.j2', 'rpc_deployment/roles/swift_storage_setup/tasks/main.yml', 'rpc_deployment/roles/lxc_common/tasks/lxc_install.yml', 'rpc_deployment/vars/repo_packages/all_common.yml', 'rpc_deployment/playbooks/openstack/swift-object.yml', 'rpc_deployment/inventory/group_vars/all.yml']",12,21733e181b0aba1a4f7e3e8d36532145249e1de7,," - { repo: ""deb http://mirror.jmu.edu/pub/mariadb/repo/5.5/ubuntu {{ ansible_distribution_release }} main"", state: ""present"" }"," - { repo: ""deb http://mirror.rackspace.com/rackspaceprivatecloud/mirror/mariadb/mariadb-5.5.41/repo/ubuntu/ {{ ansible_distribution_release }} main"", state: ""present"" }",34,36
openstack%2Ffuel-web~master~Ifbf22b684978bbf1c5b211166f8dc6d04a21fbbf,openstack/fuel-web,master,Ifbf22b684978bbf1c5b211166f8dc6d04a21fbbf,Add restart_radosgw serializer,MERGED,2014-12-26 10:19:33.000000000,2015-01-23 15:53:19.000000000,2015-01-23 15:50:24.000000000,"[{'_account_id': 3}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 11082}, {'_account_id': 12200}, {'_account_id': 13445}]","[{'number': 1, 'created': '2014-12-26 10:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/818e280906f7b1b7e1725dbced1682b1a0c7f999', 'message': 'Add restart_radosgw serializer\n\nRestart radowsgw task requires condition - that this task\nshould be executed only on controllers in case there was\nnodes with ceph-osd role in current deployment\n\nimplements blueprint granular-deployment-based-on-tasks\n\nChange-Id: Ifbf22b684978bbf1c5b211166f8dc6d04a21fbbf\n'}, {'number': 2, 'created': '2014-12-26 14:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ce27ea52f1f5556ed3655b79061488bf84fa354d', 'message': 'Add restart_radosgw serializer\n\nRestart radowsgw task requires condition - that this task\nshould be executed only on controllers in case there was\nnodes with ceph-osd role in current deployment\n\nimplements blueprint granular-deployment-based-on-tasks\n\nChange-Id: Ifbf22b684978bbf1c5b211166f8dc6d04a21fbbf\n'}, {'number': 3, 'created': '2014-12-30 09:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/714ff2420b50e05940ec478dacd3df9e988f7abb', 'message': 'Add restart_radosgw serializer\n\nRestart radowsgw task requires condition - that this task\nshould be executed only on controllers in case there was\nnodes with ceph-osd role in current deployment\n\nimplements blueprint granular-deployment-based-on-tasks\n\nChange-Id: Ifbf22b684978bbf1c5b211166f8dc6d04a21fbbf\n'}, {'number': 4, 'created': '2014-12-30 11:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/a87ebf27e96d6953730ee59acb78b43882877570', 'message': 'Add restart_radosgw serializer\n\nRestart radowsgw task requires condition - that this task\nshould be executed only on controllers in case there was\nnodes with ceph-osd role in current deployment\n\nimplements blueprint granular-deployment-based-on-tasks\n\nChange-Id: Ifbf22b684978bbf1c5b211166f8dc6d04a21fbbf\n'}, {'number': 5, 'created': '2015-01-12 15:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/47cc15a08d77ef6d0efc05aa1891c9e5c5b6414c', 'message': 'Add restart_radosgw serializer\n\nRestart radowsgw task requires condition - that this task\nshould be executed only on controllers in case there was\nnodes with ceph-osd role in current deployment\n\nimplements blueprint granular-deployment-based-on-tasks\n\nChange-Id: Ifbf22b684978bbf1c5b211166f8dc6d04a21fbbf\n'}, {'number': 6, 'created': '2015-01-13 14:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/964e69e85cba35e1171810e61a2abc89fb573956', 'message': 'Add restart_radosgw serializer\n\nRestart radowsgw task requires condition - that this task\nshould be executed only on controllers in case there was\nnodes with ceph-osd role in current deployment\n\nimplements blueprint granular-deployment-based-on-tasks\n\nChange-Id: Ifbf22b684978bbf1c5b211166f8dc6d04a21fbbf\n'}, {'number': 7, 'created': '2015-01-14 13:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/fae44e2dd41b0dd0e45efd716c5220aa0669e69b', 'message': 'Add restart_radosgw serializer\n\nRestart radowsgw task requires condition - that this task\nshould be executed only on controllers in case there was\nnodes with ceph-osd role in current deployment\n\nimplements blueprint granular-deployment-based-on-tasks\n\nChange-Id: Ifbf22b684978bbf1c5b211166f8dc6d04a21fbbf\n'}, {'number': 8, 'created': '2015-01-19 14:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/288f4cd3fa551de368f8a626aa084a0bd261e9fa', 'message': 'Add restart_radosgw serializer\n\nRestart radowsgw task requires condition - that this task\nshould be executed only on controllers in case there was\nnodes with ceph-osd role in current deployment\n\nimplements blueprint granular-deployment-based-on-tasks\n\nChange-Id: Ifbf22b684978bbf1c5b211166f8dc6d04a21fbbf\n'}, {'number': 9, 'created': '2015-01-20 11:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/c15e9d2bd0f0009c63f3a9c2b57402a150e9e3ef', 'message': 'Add restart_radosgw serializer\n\nRestart radowsgw task requires condition - that this task\nshould be executed only on controllers in case there was\nnodes with ceph-osd role in current deployment\n\nimplements blueprint granular-deployment-based-on-tasks\n\nChange-Id: Ifbf22b684978bbf1c5b211166f8dc6d04a21fbbf\n'}, {'number': 10, 'created': '2015-01-21 15:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/0aaf4a9a50cc029f459fde8798b2a5c8f035483e', 'message': 'Add restart_radosgw serializer\n\nRestart radowsgw task requires condition - that this task\nshould be executed only on controllers in case there was\nnodes with ceph-osd role in current deployment\n\nimplements blueprint granular-deployment-based-on-tasks\n\nChange-Id: Ifbf22b684978bbf1c5b211166f8dc6d04a21fbbf\n'}, {'number': 11, 'created': '2015-01-22 11:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/e54b62e1d23b35f79b5b796658f8066e20d03e16', 'message': 'Add restart_radosgw serializer\n\nRestart radowsgw task requires condition - that this task\nshould be executed only on controllers in case there was\nnodes with ceph-osd role in current deployment\n\nimplements blueprint granular-deployment-based-on-tasks\n\nChange-Id: Ifbf22b684978bbf1c5b211166f8dc6d04a21fbbf\n'}, {'number': 12, 'created': '2015-01-22 13:53:41.000000000', 'files': ['nailgun/nailgun/test/unit/test_stages_task_serialization.py', 'nailgun/nailgun/orchestrator/deployment_graph.py', 'nailgun/nailgun/orchestrator/graph_configuration.py', 'nailgun/nailgun/task/task.py', 'nailgun/nailgun/orchestrator/tasks_serializer.py', 'nailgun/nailgun/orchestrator/stages.py', 'nailgun/nailgun/api/v1/handlers/orchestrator.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f7d27d6343560d9b8842d580166168a688f3e256', 'message': 'Add restart_radosgw serializer\n\nRestart radowsgw task requires condition - that this task\nshould be executed only on controllers in case there was\nnodes with ceph-osd role in current deployment\n\nimplements blueprint granular-deployment-based-on-tasks\n\nChange-Id: Ifbf22b684978bbf1c5b211166f8dc6d04a21fbbf\n'}]",10,144110,f7d27d6343560d9b8842d580166168a688f3e256,84,8,12,8907,,,0,"Add restart_radosgw serializer

Restart radowsgw task requires condition - that this task
should be executed only on controllers in case there was
nodes with ceph-osd role in current deployment

implements blueprint granular-deployment-based-on-tasks

Change-Id: Ifbf22b684978bbf1c5b211166f8dc6d04a21fbbf
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/10/144110/12 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/orchestrator/deployment_graph.py', 'nailgun/nailgun/orchestrator/graph_configuration.py', 'nailgun/nailgun/task/task.py', 'nailgun/nailgun/test/unit/test_stages_task_serialization.py', 'nailgun/nailgun/orchestrator/tasks_serializer.py', 'nailgun/nailgun/orchestrator/stages.py', 'nailgun/nailgun/api/v1/handlers/orchestrator.py']",7,818e280906f7b1b7e1725dbced1682b1a0c7f999,bp/granular-deployment-based-on-tasks," graph = deployment_graph.AstuteGraph(cluster) return post_deployment_serialize(graph, cluster, nodes)"," return post_deployment_serialize(cluster, nodes)",67,10
openstack%2Ffuel-web~master~I3baf1b06b7c0fa9d712edff5283c9854a7b26431,openstack/fuel-web,master,I3baf1b06b7c0fa9d712edff5283c9854a7b26431,Rsync puppet/Upload repos tasks serialization,MERGED,2014-12-09 17:41:56.000000000,2015-01-23 15:50:03.000000000,2015-01-23 15:50:02.000000000,"[{'_account_id': 3}, {'_account_id': 8392}, {'_account_id': 8749}, {'_account_id': 8776}, {'_account_id': 8907}, {'_account_id': 8931}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 10391}, {'_account_id': 11082}, {'_account_id': 12200}, {'_account_id': 13445}]","[{'number': 1, 'created': '2014-12-09 17:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/6322cb1c38f9a695f7ccaee0c080eda3a7a2de54', 'message': 'Pre/post tasks serialization\n\nAdded several serializers to support pre/post tasks\ndefined in configuration graph and in nailgun.\n\nSuch tasks as upload_glance/update_no_quorum require\ncomplicated logic to find uid where they shouold be executed\n\nOn the other sides part of tasks, such as update_hosts, restart_rados\ncan be easily defined by configuration graph\n\nCurrently ordering of serialized tasks is next:\n\n- serialize graph based tasks\n- serialize tasks defined in nailgun\n- serialize plugins tasks\n\nThis order will be reflected in priorities sended to astute\n\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 2, 'created': '2014-12-09 18:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/caa6fc79b1da0c47dfd06b77c79fb07e575304f3', 'message': 'Pre/post tasks serialization\n\nAdded several serializers to support pre/post tasks\ndefined in configuration graph and in nailgun.\n\nSuch tasks as upload_glance/update_no_quorum require\ncomplicated logic to find uid where they shouold be executed\n\nOn the other sides part of tasks, such as update_hosts, restart_rados\ncan be easily defined by configuration graph\n\nCurrently ordering of serialized tasks is next:\n\n- serialize graph based tasks\n- serialize tasks defined in nailgun\n- serialize plugins tasks\n\nThis order will be reflected in priorities sended to astute\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 3, 'created': '2014-12-11 12:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/1c05cc3647ef9016f30e7096bfd5f8cb28e4b2a3', 'message': 'Pre/post tasks serialization\n\nAdded several serializers to support pre/post tasks\ndefined in configuration graph and in nailgun.\n\nSuch tasks as upload_glance/update_no_quorum require\ncomplicated logic to find uid where they shouold be executed\n\nCurrently ordering of serialized tasks is next:\n\n- serialize tasks defined in nailgun\n- serialize plugins tasks\n\nThis order will be reflected in priorities sended to astute\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 4, 'created': '2014-12-11 12:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/717c15fbe7d2f112d62b607ad85d023bff1a751b', 'message': 'Pre/post tasks serialization\n\nAdded several serializers to support pre/post tasks\ndefined in configuration graph and in nailgun.\n\nSuch tasks as upload_glance/update_no_quorum require\ncomplicated logic to find uid where they shouold be executed\n\nCurrently ordering of serialized tasks is next:\n\n- serialize tasks defined in nailgun\n- serialize plugins tasks\n\nThis order will be reflected in priorities sended to astute\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 5, 'created': '2014-12-11 14:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/dc832b95166d1664ca58f46d6bb7b0abecf198fa', 'message': 'Pre/post tasks serialization\n\nAdded several serializers to support pre/post tasks\ndefined in configuration graph and in nailgun.\n\nSuch tasks as upload_glance/update_no_quorum require\ncomplicated logic to find uid where they shouold be executed\n\nCurrently ordering of serialized tasks is next:\n\n- serialize tasks defined in nailgun\n- serialize plugins tasks\n\nThis order will be reflected in priorities sended to astute\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 6, 'created': '2014-12-11 14:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7453445837cd9302d27c53cc9669b00ce600da0d', 'message': 'Pre/post tasks serialization\n\nAdded several serializers to support pre/post tasks\ndefined in configuration graph and in nailgun.\n\nSuch tasks as upload_glance/update_no_quorum require\ncomplicated logic to find uid where they shouold be executed\n\nCurrently ordering of serialized tasks is next:\n\n- serialize tasks defined in nailgun\n- serialize plugins tasks\n\nThis order will be reflected in priorities sended to astute\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 7, 'created': '2014-12-23 08:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/fceb7d7abd87ce99c8eea1622010777f95eb2f9a', 'message': 'Pre/post tasks serialization\n\nAdded several serializers to support pre/post tasks\ndefined in configuration graph and in nailgun.\n\nSuch tasks as upload_glance/update_no_quorum require\ncomplicated logic to find uid where they shouold be executed\n\nCurrently ordering of serialized tasks is next:\n\n- serialize tasks defined in nailgun\n- serialize plugins tasks\n\nThis order will be reflected in priorities sended to astute\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 8, 'created': '2014-12-23 10:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/fb60bf245730cffffff76fe36e16d4db7db8b3ed', 'message': 'Pre/post tasks serialization\n\nAdded several serializers to support pre/post tasks\ndefined in configuration graph and in nailgun.\n\nSuch tasks as upload_glance/update_no_quorum require\ncomplicated logic to find uid where they shouold be executed\n\nCurrently ordering of serialized tasks is next:\n\n- serialize tasks defined in nailgun\n- serialize plugins tasks\n\nThis order will be reflected in priorities sended to astute\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 9, 'created': '2014-12-23 15:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/aedd9a83d6d249f19584ea71a19fec1cf814d485', 'message': 'Pre/post tasks serialization\n\nAdded several serializers to support pre/post tasks\ndefined in configuration graph and in nailgun.\n\nSuch tasks as upload_glance/update_no_quorum require\ncomplicated logic to find uid where they shouold be executed\n\nCurrently ordering of serialized tasks is next:\n\n- serialize tasks defined in nailgun\n- serialize plugins tasks\n\nThis order will be reflected in priorities sended to astute\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 10, 'created': '2014-12-24 11:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/188c8dc8e0be28fba5265da43bc0471da7e619d7', 'message': 'Pre/post tasks serialization\n\nAdded several serializers to support pre/post tasks\ndefined in configuration graph and in nailgun.\n\nSuch tasks as upload_glance/update_no_quorum require\ncomplicated logic to find uid where they shouold be executed\n\nCurrently ordering of serialized tasks is next:\n\n- serialize tasks defined in nailgun\n- serialize plugins tasks\n\nThis order will be reflected in priorities sended to astute\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 11, 'created': '2014-12-25 12:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/4309fe808ac343fe629e43595c74725efdfb0f35', 'message': 'Pre/post tasks serialization\n\nAdded several serializers to support pre/post tasks\ndefined in configuration graph and in nailgun.\n\nSuch tasks as upload_glance/update_no_quorum require\ncomplicated logic to find uid where they shouold be executed\n\nCurrently ordering of serialized tasks is next:\n\n- serialize tasks defined in nailgun\n- serialize plugins tasks\n\nThis order will be reflected in priorities sended to astute\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 12, 'created': '2014-12-26 09:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/dee65f49e6615c98b4d682b9c816b5cbd517b4f6', 'message': 'Rsync puppet/Upload repos tasks serialization\n\nImplemented backbone for pre/post task serializers,\nwith few examples for pre task serializers\n\n- Rsync puppet\nuses mask in arguments, that is processed in serializer\n- Upload repos\nFor given task in config - serializes number of tasks,\none task for each repo in repo_metadata, and one task for\nregenerating metadata after repo was added\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 13, 'created': '2014-12-26 14:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/eca5d70f175005ba75379a9cbf2351ef671d4a38', 'message': 'Rsync puppet/Upload repos tasks serialization\n\nImplemented backbone for pre/post task serializers,\nwith few examples for pre task serializers\n\n- Rsync puppet\nuses mask in arguments, that is processed in serializer\n- Upload repos\nFor given task in config - serializes number of tasks,\none task for each repo in repo_metadata, and one task for\nregenerating metadata after repo was added\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 14, 'created': '2014-12-30 09:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/c4198d01600cff8e3488247c4595f2c6af82ae2c', 'message': 'Rsync puppet/Upload repos tasks serialization\n\nImplemented backbone for pre/post task serializers,\nwith few examples for pre task serializers\n\n- Rsync puppet\nuses mask in arguments, that is processed in serializer\n- Upload repos\nFor given task in config - serializes number of tasks,\none task for each repo in repo_metadata, and one task for\nregenerating metadata after repo was added\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 15, 'created': '2014-12-30 11:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/3d33d4b39623cd5a87a17e51f2966951249bc82f', 'message': 'Rsync puppet/Upload repos tasks serialization\n\nImplemented backbone for pre/post task serializers,\nwith few examples for pre task serializers\n\n- Rsync puppet\nuses mask in arguments, that is processed in serializer\n- Upload repos\nFor given task in config - serializes number of tasks,\none task for each repo in repo_metadata, and one task for\nregenerating metadata after repo was added\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 16, 'created': '2015-01-12 11:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/54fcfc95623e52a33b59430cd5ffbf32dbb38320', 'message': 'Rsync puppet/Upload repos tasks serialization\n\nImplemented backbone for pre/post task serializers,\nwith few examples for pre task serializers\n\n- Rsync puppet\nuses mask in arguments, that is processed in serializer\n- Upload repos\nFor given task in config - serializes number of tasks,\none task for each repo in repo_metadata, and one task for\nregenerating metadata after repo was added\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 17, 'created': '2015-01-12 14:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5c29c00318ed55192b3074d906d98529eb6053e8', 'message': 'Rsync puppet/Upload repos tasks serialization\n\nImplemented backbone for pre/post task serializers,\nwith few examples for pre task serializers\n\n- Rsync puppet\nuses mask in arguments, that is processed in serializer\n- Upload repos\nFor given task in config - serializes number of tasks,\none task for each repo in repo_metadata, and one task for\nregenerating metadata after repo was added\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 18, 'created': '2015-01-14 11:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/6286697dbf87e9f8d13a83cb85752139655873d6', 'message': 'Rsync puppet/Upload repos tasks serialization\n\nImplemented backbone for pre/post task serializers,\nwith few examples for pre task serializers\n\n- Rsync puppet\nuses mask in arguments, that is processed in serializer\n- Upload repos\nFor given task in config - serializes number of tasks,\none task for each repo in repo_metadata, and one task for\nregenerating metadata after repo was added\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 19, 'created': '2015-01-14 11:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/3fe4ca248ee39addacc87036d28dd059b1f9d49a', 'message': 'Rsync puppet/Upload repos tasks serialization\n\nImplemented backbone for pre/post task serializers,\nwith few examples for pre task serializers\n\n- Rsync puppet\nuses mask in arguments, that is processed in serializer\n- Upload repos\nFor given task in config - serializes number of tasks,\none task for each repo in repo_metadata, and one task for\nregenerating metadata after repo was added\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 20, 'created': '2015-01-14 12:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/e861846428657c38394657af91df6c73fa15b8e3', 'message': 'Rsync puppet/Upload repos tasks serialization\n\nImplemented backbone for pre/post task serializers,\nwith few examples for pre task serializers\n\n- Rsync puppet\nuses mask in arguments, that is processed in serializer\n- Upload repos\nFor given task in config - serializes number of tasks,\none task for each repo in repo_metadata, and one task for\nregenerating metadata after repo was added\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 21, 'created': '2015-01-15 13:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/aa6f8542fe7aa41cef8074fcfd622a5538973055', 'message': 'Rsync puppet/Upload repos tasks serialization\n\nImplemented backbone for pre/post task serializers,\nwith few examples for pre task serializers\n\n- Rsync puppet\nuses mask in arguments, that is processed in serializer\n- Upload repos\nFor given task in config - serializes number of tasks,\none task for each repo in repo_metadata, and one task for\nregenerating metadata after repo was added\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 22, 'created': '2015-01-15 20:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ccd9531b929a371de1482a0e6cbb68007a37da36', 'message': 'Rsync puppet/Upload repos tasks serialization\n\nImplemented backbone for pre/post task serializers,\nwith few examples for pre task serializers\n\n- Rsync puppet\nuses mask in arguments, that is processed in serializer\n- Upload repos\nFor given task in config - serializes number of tasks,\none task for each repo in repo_metadata, and one task for\nregenerating metadata after repo was added\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 23, 'created': '2015-01-16 12:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/d9976725b41999e7e4405371648dc7e353f27218', 'message': 'Rsync puppet/Upload repos tasks serialization\n\nImplemented backbone for pre/post task serializers,\nwith few examples for pre task serializers\n\n- Rsync puppet\nuses mask in arguments, that is processed in serializer\n- Upload repos\nFor given task in config - serializes number of tasks,\none task for each repo in repo_metadata, and one task for\nregenerating metadata after repo was added\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 24, 'created': '2015-01-16 14:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/856c7981796070c0e219d49a8fcf111cb17528e6', 'message': 'Rsync puppet/Upload repos tasks serialization\n\nImplemented backbone for pre/post task serializers,\nwith few examples for pre task serializers\n\n- Rsync puppet\nuses mask in arguments, that is processed in serializer\n- Upload repos\nFor given task in config - serializes number of tasks,\none task for each repo in repo_metadata, and one task for\nregenerating metadata after repo was added\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 25, 'created': '2015-01-19 10:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/70e11a8dbd0ead756c11ff16fa59f7d443b081d9', 'message': 'Rsync puppet/Upload repos tasks serialization\n\nImplemented backbone for pre/post task serializers,\nwith few examples for pre task serializers\n\n- Rsync puppet\nuses mask in arguments, that is processed in serializer\n- Upload repos\nFor given task in config - serializes number of tasks,\none task for each repo in repo_metadata, and one task for\nregenerating metadata after repo was added\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 26, 'created': '2015-01-19 14:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/2f26dd7468051e0992beb8c0f82e1066807394a0', 'message': 'Rsync puppet/Upload repos tasks serialization\n\nImplemented backbone for pre/post task serializers,\nwith few examples for pre task serializers\n\n- Rsync puppet\nuses mask in arguments, that is processed in serializer\n- Upload repos\nFor given task in config - serializes number of tasks,\none task for each repo in repo_metadata, and one task for\nregenerating metadata after repo was added\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 27, 'created': '2015-01-21 11:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/c466fe7b3b6efe26dcd12577ac3d82a30f264241', 'message': 'Rsync puppet/Upload repos tasks serialization\n\nImplemented backbone for pre/post task serializers,\nwith few examples for pre task serializers\n\n- Rsync puppet\nuses mask in arguments, that is processed in serializer\n- Upload repos\nFor given task in config - serializes number of tasks,\none task for each repo in repo_metadata, and one task for\nregenerating metadata after repo was added\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 28, 'created': '2015-01-21 15:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/bd9329e4d7b2f0d3c1f4de5eedc9117ed786a7d5', 'message': 'Rsync puppet/Upload repos tasks serialization\n\nImplemented backbone for pre/post task serializers,\nwith few examples for pre task serializers\n\n- Rsync puppet\nuses mask in arguments, that is processed in serializer\n- Upload repos\nFor given task in config - serializes number of tasks,\none task for each repo in repo_metadata, and one task for\nregenerating metadata after repo was added\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 29, 'created': '2015-01-22 10:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/925d7049a40d06fbefe7987b0a95bca68adc6fa2', 'message': 'Rsync puppet/Upload repos tasks serialization\n\nImplemented backbone for pre/post task serializers,\nwith few examples for pre task serializers\n\n- Rsync puppet\nuses mask in arguments, that is processed in serializer\n- Upload repos\nFor given task in config - serializes number of tasks,\none task for each repo in repo_metadata, and one task for\nregenerating metadata after repo was added\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}, {'number': 30, 'created': '2015-01-22 13:52:21.000000000', 'files': ['nailgun/nailgun/test/unit/test_stages_task_serialization.py', 'nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/orchestrator/tasks_serializer.py', 'nailgun/nailgun/test/unit/test_plugins_serializers.py', 'nailgun/nailgun/orchestrator/plugins_serializers.py', 'nailgun/nailgun/test/unit/test_graph_serializer.py', 'nailgun/nailgun/consts.py', 'nailgun/nailgun/orchestrator/deployment_graph.py', 'nailgun/nailgun/orchestrator/graph_configuration.py', 'nailgun/nailgun/task/task.py', 'nailgun/nailgun/test/integration/test_plugins_api.py', 'nailgun/nailgun/orchestrator/stages.py', 'nailgun/nailgun/orchestrator/tasks_templates.py', 'nailgun/nailgun/api/v1/handlers/orchestrator.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/43cac9811bd77818798fc0d1ffaf5594c57a998e', 'message': 'Rsync puppet/Upload repos tasks serialization\n\nImplemented backbone for pre/post task serializers,\nwith few examples for pre task serializers\n\n- Rsync puppet\nuses mask in arguments, that is processed in serializer\n- Upload repos\nFor given task in config - serializes number of tasks,\none task for each repo in repo_metadata, and one task for\nregenerating metadata after repo was added\n\nimplements blueprint granular-deployment-based-on-tasks\nChange-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431\n'}]",55,140414,43cac9811bd77818798fc0d1ffaf5594c57a998e,177,12,30,8907,,,0,"Rsync puppet/Upload repos tasks serialization

Implemented backbone for pre/post task serializers,
with few examples for pre task serializers

- Rsync puppet
uses mask in arguments, that is processed in serializer
- Upload repos
For given task in config - serializes number of tasks,
one task for each repo in repo_metadata, and one task for
regenerating metadata after repo was added

implements blueprint granular-deployment-based-on-tasks
Change-Id: I3baf1b06b7c0fa9d712edff5283c9854a7b26431
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/14/140414/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/orchestrator/deployment_graph.py', 'nailgun/nailgun/orchestrator/tasks_serializer.py', 'nailgun/nailgun/orchestrator/plugins_serializers.py', 'nailgun/nailgun/orchestrator/stages.py', 'nailgun/nailgun/orchestrator/tasks_templates.py']",5,6322cb1c38f9a695f7ccaee0c080eda3a7a2de54,bp/granular-deployment-based-on-tasks," def make_generic_task(uids, task): return { 'type': task['type'], 'uids': uids, 'fail_on_error': task.get('fail_on_error', True), 'parameters': task['parameters'] }",,173,38
openstack%2Fnetworking-odl~master~I6ac3247915a85a3f217107dfbf7b365ee4d25b50,openstack/networking-odl,master,I6ac3247915a85a3f217107dfbf7b365ee4d25b50,Bump hacking and allow author tags,MERGED,2015-01-23 15:22:00.000000000,2015-01-23 15:49:51.000000000,2015-01-23 15:49:51.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 9656}, {'_account_id': 10386}, {'_account_id': 11240}, {'_account_id': 11952}]","[{'number': 1, 'created': '2015-01-23 15:22:00.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/abe31653ee2fa77caeceacb17f8b51b11dcbc810', 'message': 'Bump hacking and allow author tags\n\nUpdate test-requirements to work with the latest version of\nhacking, similar to neutron. Allow author tags.\n\nChange-Id: I6ac3247915a85a3f217107dfbf7b365ee4d25b50\n'}]",0,149651,abe31653ee2fa77caeceacb17f8b51b11dcbc810,8,6,1,105,,,0,"Bump hacking and allow author tags

Update test-requirements to work with the latest version of
hacking, similar to neutron. Allow author tags.

Change-Id: I6ac3247915a85a3f217107dfbf7b365ee4d25b50
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/51/149651/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,abe31653ee2fa77caeceacb17f8b51b11dcbc810,hacking-update,"# H105 skipped as we're allowing @author tags hereignore = H105,E123,E125,H803","ignore = E123,E125,H803",3,2
openstack%2Foslo-incubator~master~Ib6e426fdc1f09619b3a7a494cdb7082238eb5e8f,openstack/oslo-incubator,master,Ib6e426fdc1f09619b3a7a494cdb7082238eb5e8f,Remove useless dependencies,MERGED,2015-01-19 12:49:08.000000000,2015-01-23 15:49:36.000000000,2015-01-23 15:49:35.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 6928}, {'_account_id': 9107}, {'_account_id': 9656}]","[{'number': 1, 'created': '2015-01-19 12:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/757be20109c7b61d0567ca059a17ee2fc8d9e73f', 'message': 'Remove useless dependencies\n\nThese are not used anymore.\n\nChange-Id: Ib6e426fdc1f09619b3a7a494cdb7082238eb5e8f\n'}, {'number': 2, 'created': '2015-01-23 10:18:09.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/a40f785d11f75c823bed986a3cd01dfbcb0fb6a3', 'message': 'Remove useless dependencies\n\nThese are not used anymore.\n\nChange-Id: Ib6e426fdc1f09619b3a7a494cdb7082238eb5e8f\n'}]",0,148242,a40f785d11f75c823bed986a3cd01dfbcb0fb6a3,11,5,2,1669,,,0,"Remove useless dependencies

These are not used anymore.

Change-Id: Ib6e426fdc1f09619b3a7a494cdb7082238eb5e8f
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/42/148242/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,757be20109c7b61d0567ca059a17ee2fc8d9e73f,jd/remove-deps,,anyjson>=0.3.3lockfile>=0.8 netaddr>=0.7.12pycadf>=0.6.0,0,4
openstack%2Fmurano~master~I57e7e433099309906d4c85d9dff8227a2a89acf4,openstack/murano,master,I57e7e433099309906d4c85d9dff8227a2a89acf4,Changes replacement policy for Neutron ports to AUTO,MERGED,2015-01-23 13:56:30.000000000,2015-01-23 15:49:24.000000000,2015-01-23 15:49:24.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7549}, {'_account_id': 7821}]","[{'number': 1, 'created': '2015-01-23 13:56:30.000000000', 'files': ['meta/io.murano/Classes/resources/Instance.yaml'], 'web_link': 'https://opendev.org/openstack/murano/commit/987e897937ddf534770afa4ebfe7dfeeed6d8ade', 'message': 'Changes replacement policy for Neutron ports to AUTO\n\nThis fix is supposed to be a workaround for an issue when\ninstances loose their network upon subsequent stack updates.\n\nChange-Id: I57e7e433099309906d4c85d9dff8227a2a89acf4\nWorkaround-for: #1393376\nCloses-bug: #1414008\n'}]",0,149632,987e897937ddf534770afa4ebfe7dfeeed6d8ade,13,5,1,7225,,,0,"Changes replacement policy for Neutron ports to AUTO

This fix is supposed to be a workaround for an issue when
instances loose their network upon subsequent stack updates.

Change-Id: I57e7e433099309906d4c85d9dff8227a2a89acf4
Workaround-for: #1393376
Closes-bug: #1414008
",git fetch https://review.opendev.org/openstack/murano refs/changes/32/149632/1 && git format-patch -1 --stdout FETCH_HEAD,['meta/io.murano/Classes/resources/Instance.yaml'],1,987e897937ddf534770afa4ebfe7dfeeed6d8ade,bug/1414008, replacement_policy: AUTO,,1,0
openstack%2Fmonasca-api~master~Ic4d7d992ac03710ba4b6c6c6cefe2351f09b203d,openstack/monasca-api,master,Ic4d7d992ac03710ba4b6c6c6cefe2351f09b203d,Integrating monasca-api with keystone-middleware,ABANDONED,2014-12-12 14:22:16.000000000,2015-01-23 15:46:37.000000000,,"[{'_account_id': 3}, {'_account_id': 2860}, {'_account_id': 10046}, {'_account_id': 12512}]","[{'number': 1, 'created': '2014-12-12 14:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/bae5a92b166f7bacd3aec499d32046c7d59e6461', 'message': 'Integrating monasca-api with keystone-middleware (WIP)\n\nThis patch adds the possibility of authenticating through keystone-middleware\nand creates a Keystone Context after validating the token.\n\nChange-Id: Ic4d7d992ac03710ba4b6c6c6cefe2351f09b203d\n'}, {'number': 2, 'created': '2015-01-19 20:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/cf7ee05da3c67328ccfe205b45fcfe2dd4fde165', 'message': 'Integrating monasca-api with keystone-middleware (WIP)\n\nThis patch adds the possibility of authenticating through keystone-middleware\nand creates a Keystone Context after validating the token.\n\nChange-Id: Ic4d7d992ac03710ba4b6c6c6cefe2351f09b203d\n'}, {'number': 3, 'created': '2015-01-20 17:34:16.000000000', 'files': ['monasca/middleware/context.py', 'requirements.txt', 'etc/monasca.ini', 'etc/monasca.conf', 'monasca/middleware/auth.py', 'monasca/middleware/wsgi.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/764c42195150673d20c951c2ee03c414dc871b83', 'message': 'Integrating monasca-api with keystone-middleware\n\nThis patch adds the possibility of authenticating through keystone-middleware\nand creates a Keystone Context after validating the token.\n\nChange-Id: Ic4d7d992ac03710ba4b6c6c6cefe2351f09b203d\n'}]",15,141382,764c42195150673d20c951c2ee03c414dc871b83,16,4,3,10046,,,0,"Integrating monasca-api with keystone-middleware

This patch adds the possibility of authenticating through keystone-middleware
and creates a Keystone Context after validating the token.

Change-Id: Ic4d7d992ac03710ba4b6c6c6cefe2351f09b203d
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/82/141382/2 && git format-patch -1 --stdout FETCH_HEAD,"['monasca/middleware/context.py', 'requirements.txt', 'etc/monasca.conf', 'etc/monasca.ini', 'monasca/middleware/auth.py', 'monasca/middleware/wsgi.py']",6,bae5a92b166f7bacd3aec499d32046c7d59e6461,,"# Copyright (c) 2014 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Utility classes for working with Keystone Middleware."""""" from __future__ import print_function import sys import webob.dec import webob.exc class Request(webob.Request): pass class Application(object): """"""Base WSGI application wrapper. Subclasses need to implement __call__."""""" @classmethod def factory(cls, global_config, **local_config): """"""Used for paste app factories in paste.deploy config files. Any local configuration (that is, values under the [app:APPNAME] section of the paste config) will be passed into the `__init__` method as kwargs. A hypothetical configuration would look like: [app:wadl] latest_version = 1.3 paste.app_factory = nova.api.fancy_api:Wadl.factory which would result in a call to the `Wadl` class as import nova.api.fancy_api fancy_api.Wadl(latest_version='1.3') You could of course re-implement the `factory` method in subclasses, but using the kwarg passing it shouldn't be necessary. """""" return cls(**local_config) def __call__(self, environ, start_response): r""""""Subclasses will probably want to implement __call__ like this: @webob.dec.wsgify(RequestClass=Request) def __call__(self, req): # Any of the following objects work as responses: # Option 1: simple string res = 'message\n' # Option 2: a nicely formatted HTTP exception page res = exc.HTTPForbidden(explanation='Nice try') # Option 3: a webob Response object (in case you need to play with # headers, or you want to be treated like an iterable, or or or) res = Response(); res.app_iter = open('somefile') # Option 4: any wsgi app to be run next res = self.application # Option 5: you can get a Response object for a wsgi app, too, to # play with headers etc res = req.get_response(self.application) # You can then just return your response... return res # ... or set req.response and return None. req.response = res See the end of http://pythonpaste.org/webob/modules/dec.html for more info. """""" raise NotImplementedError('You must implement __call__') class Middleware(Application): """"""Base WSGI middleware. These classes require an application to be initialized that will be called next. By default the middleware will simply call its wrapped app, or you can override __call__ to customize its behavior. """""" @classmethod def factory(cls, global_config, **local_config): """"""Used for paste app factories in paste.deploy config files. Any local configuration (that is, values under the [filter:APPNAME] section of the paste config) will be passed into the `__init__` method as kwargs. A hypothetical configuration would look like: [filter:analytics] redis_host = 127.0.0.1 paste.filter_factory = nova.api.analytics:Analytics.factory which would result in a call to the `Analytics` class as import nova.api.analytics analytics.Analytics(app_from_paste, redis_host='127.0.0.1') You could of course re-implement the `factory` method in subclasses, but using the kwarg passing it shouldn't be necessary. """""" def _factory(app): return cls(app, **local_config) return _factory def __init__(self, application): self.application = application def process_request(self, req): """"""Called on each request. If this returns None, the next application down the stack will be executed. If it returns a response then that response will be returned and execution will stop here. """""" return None def process_response(self, response): """"""Do whatever you'd like to the response."""""" return response @webob.dec.wsgify(RequestClass=Request) def __call__(self, req): response = self.process_request(req) if response: return response response = req.get_response(self.application) return self.process_response(response) class Debug(Middleware): """"""Helper class for debugging a WSGI application. Can be inserted into any WSGI application chain to get information about the request and response. """""" @webob.dec.wsgify(RequestClass=Request) def __call__(self, req): print(('*' * 40) + ' REQUEST ENVIRON') for key, value in req.environ.items(): print(key, '=', value) print() resp = req.get_response(self.application) print(('*' * 40) + ' RESPONSE HEADERS') for (key, value) in resp.headers.iteritems(): print(key, '=', value) print() resp.app_iter = self.print_generator(resp.app_iter) return resp @staticmethod def print_generator(app_iter): """"""Iterator that prints the contents of a wrapper string."""""" print(('*' * 40) + ' BODY') for part in app_iter: sys.stdout.write(part) sys.stdout.flush() yield part print() ",,421,4
openstack%2Fmonasca-api~master~Iaa6dadb6cd3f170170377769e8bd92761ed919bf,openstack/monasca-api,master,Iaa6dadb6cd3f170170377769e8bd92761ed919bf,elastic search implementation draft #1,ABANDONED,2014-12-12 12:58:01.000000000,2015-01-23 15:46:20.000000000,,"[{'_account_id': 3}, {'_account_id': 688}, {'_account_id': 2860}, {'_account_id': 12512}]","[{'number': 1, 'created': '2014-12-12 12:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/76ebab4b725140a0d5df7d80be928f9b86b513cc', 'message': 'elastic search implementation draft #1\n\nThis patch set will enable the end point for post metrics to end\npoint /v2.0/metrics\n\nother methods will be implemented based on elastic search in later\npatch set. There will be a series of the patchset to eventually\nhave a complete implementation of metrics apis based on\nelasticsearch.\n\nChange-Id: Iaa6dadb6cd3f170170377769e8bd92761ed919bf\n'}, {'number': 2, 'created': '2014-12-12 16:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/c2eab68b894565f26c50af4ebae264a438000d31', 'message': 'elastic search implementation draft #1\n\nThis patch set will enable the end point for post metrics to end\npoint /v2.0/metrics\n\nother methods will be implemented based on elastic search in later\npatch set. There will be a series of the patchset to eventually\nhave a complete implementation of metrics apis based on\nelasticsearch.\n\nChange-Id: Iaa6dadb6cd3f170170377769e8bd92761ed919bf\n'}, {'number': 3, 'created': '2014-12-15 15:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/f12ce7cf956fbf8763de1e83446ea1818a5b4aec', 'message': 'elastic search implementation draft #1\n\nThis patch set will enable the end point for post metrics to end\npoint /v2.0/metrics\n\nother methods will be implemented based on elastic search in later\npatch set. There will be a series of the patchset to eventually\nhave a complete implementation of metrics apis based on\nelasticsearch.\n\nChange-Id: Iaa6dadb6cd3f170170377769e8bd92761ed919bf\n'}, {'number': 4, 'created': '2014-12-15 15:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/6dca0c9e5b6a542539e86032608f9960b00fd05f', 'message': 'elastic search implementation draft #1\n\nThis patch set will enable the end point for post metrics to end\npoint /v2.0/metrics\n\nother methods will be implemented based on elastic search in later\npatch set. There will be a series of the patchset to eventually\nhave a complete implementation of metrics apis based on\nelasticsearch.\n\nthis patch set also fixed the pep check errors in reference impl.\n\nadded unit test cases for elastic search impl.\n\nChange-Id: Iaa6dadb6cd3f170170377769e8bd92761ed919bf\n'}, {'number': 5, 'created': '2014-12-18 16:44:21.000000000', 'files': ['test-requirements.txt', 'monasca/v2/elasticsearch/metrics.py', 'monasca/tests/v2/elasticsearch/test_base.py', 'monasca/tests/v2/elasticsearch/test_metrics.py', 'monasca/tests/v2/__init__.py', 'monasca/tests/v2/elasticsearch/__init__.py', 'monasca/common/kafka_conn.py', 'requirements.txt', 'etc/monasca-es.conf', 'monasca/tests/first_test.py', 'monasca/v2/reference/alarms.py', 'monasca/common/repositories/elasticsearch/__init__.py', 'monasca/v2/elasticsearch/__init__.py', 'setup.cfg', 'monasca/v2/reference/alarm_definitions.py', 'tox.ini', 'monasca/v2/elasticsearch/base.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/101f0861502f4be64cd0757ca0f54e93ad18e827', 'message': 'elastic search implementation draft #1\n\nThis patch set will enable the end point for post metrics to end\npoint /v2.0/metrics\n\nother methods will be implemented based on elastic search in later\npatch set. There will be a series of the patchset to eventually\nhave a complete implementation of metrics apis based on\nelasticsearch.\n\nthis patch set also fixed the pep check errors in reference impl.\n\nadded unit test cases for elastic search impl.\n\nChange-Id: Iaa6dadb6cd3f170170377769e8bd92761ed919bf\n'}]",0,141357,101f0861502f4be64cd0757ca0f54e93ad18e827,21,4,5,2860,,,0,"elastic search implementation draft #1

This patch set will enable the end point for post metrics to end
point /v2.0/metrics

other methods will be implemented based on elastic search in later
patch set. There will be a series of the patchset to eventually
have a complete implementation of metrics apis based on
elasticsearch.

this patch set also fixed the pep check errors in reference impl.

added unit test cases for elastic search impl.

Change-Id: Iaa6dadb6cd3f170170377769e8bd92761ed919bf
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/57/141357/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'monasca/v2/elasticsearch/metrics.py', 'monasca/tests/v2/elasticsearch/test_base.py', 'monasca/tests/v2/elasticsearch/test_metrics.py', 'monasca/tests/v2/__init__.py', 'monasca/tests/v2/elasticsearch/__init__.py', 'monasca/common/kafka_conn.py', 'requirements.txt', 'etc/monasca-es.conf', 'monasca/tests/first_test.py', 'monasca/common/repositories/elasticsearch/__init__.py', 'monasca/v2/elasticsearch/__init__.py', 'setup.cfg', 'tox.ini', 'monasca/v2/elasticsearch/base.py']",15,76ebab4b725140a0d5df7d80be928f9b86b513cc,,"class BaseDispatcher(monasca_api_v2.V2API): def __init__(self, global_conf, topic): LOG.debug('initializing BaseDispatcher!') super(BaseDispatcher, self).__init__(global_conf) self._kafka_conn = kafka_conn.KafkaConnection(topic) def post_data(self, req, res):","from monasca.common import resource_apiclass KafkaDispatcher(monasca_api_v2.V2API): def __init__(self, global_conf): LOG.debug('initializing KafkaDispatcher!') super(KafkaDispatcher, self).__init__(global_conf) self._kafka_conn = kafka_conn.KafkaConnection() @resource_api.Restify('/v2.0/metrics/', method='post') def do_post_metrics(self, req, res):",337,46
openstack%2Fpuppet-monasca~master~I42b0946a54e19294a5c03444d0ff9f711a81cdf9,openstack/puppet-monasca,master,I42b0946a54e19294a5c03444d0ff9f711a81cdf9,Fix persister log file directory,MERGED,2015-01-22 22:26:56.000000000,2015-01-23 15:43:43.000000000,2015-01-23 15:43:43.000000000,"[{'_account_id': 3}, {'_account_id': 8126}, {'_account_id': 9500}, {'_account_id': 11155}]","[{'number': 1, 'created': '2015-01-22 22:26:56.000000000', 'files': ['templates/persister-config.yml.erb'], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/0e5224ce91b0fb6e1b0eb47d1b008f59d082b434', 'message': 'Fix persister log file directory\n\nChange-Id: I42b0946a54e19294a5c03444d0ff9f711a81cdf9\n'}]",0,149413,0e5224ce91b0fb6e1b0eb47d1b008f59d082b434,7,4,1,8126,,,0,"Fix persister log file directory

Change-Id: I42b0946a54e19294a5c03444d0ff9f711a81cdf9
",git fetch https://review.opendev.org/openstack/puppet-monasca refs/changes/13/149413/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/persister-config.yml.erb'],1,0e5224ce91b0fb6e1b0eb47d1b008f59d082b434,fix_persister_log_dir, currentLogFilename: /var/log/monasca/monasca-persister.log archivedLogFilenamePattern: /var/log/monasca/monasca-persister.log-%d.log.gz, currentLogFilename: /var/log/mon/mon-persister.log archivedLogFilenamePattern: /var/log/mon/mon-persister.log-%d.log.gz,2,2
openstack%2Fmonasca-api~master~Ia2ada1957198b9072fa957bc2a41791457664241,openstack/monasca-api,master,Ia2ada1957198b9072fa957bc2a41791457664241,Distribute messages better among the Kafka partitions,MERGED,2015-01-21 15:56:37.000000000,2015-01-23 15:39:43.000000000,2015-01-23 15:39:42.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 11182}, {'_account_id': 11809}, {'_account_id': 12512}, {'_account_id': 14375}]","[{'number': 1, 'created': '2015-01-21 15:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/cb818f9299469a7934556faf81f7f3052c23654b', 'message': 'Distribute messages better among the Kafka partitions\n\nEnsure that the same Metric always goes to the same partition. This\nis done by using the tenant id, metric name and dimensions as the\nkey used to hash to a partition. This works as long as the number\nof partitions does not change.\n\nDistribute the events randomly among partitions by using a message\ncount as the key.\n\nAdd in a special kafka partitioner class that gives better distribution\nfor the metrics although I am not sure exactly why\n\nChange-Id: Ia2ada1957198b9072fa957bc2a41791457664241\n'}, {'number': 2, 'created': '2015-01-22 22:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/1f2747d2531d5c3e71c22f106b723f11c284a0d9', 'message': 'Distribute messages better among the Kafka partitions\n\nEnsure that the same Metric always goes to the same partition. This\nis done by using the tenant id, metric name and dimensions as the\nkey used to hash to a partition. This works as long as the number\nof partitions does not change.\n\nDistribute the events randomly among partitions by using a message\ncount as the key.\n\nChange-Id: Ia2ada1957198b9072fa957bc2a41791457664241\n'}, {'number': 3, 'created': '2015-01-22 23:39:07.000000000', 'files': ['src/main/java/monasca/api/app/AlarmService.java', 'src/main/java/monasca/api/app/MetricService.java', 'src/main/java/monasca/api/app/AlarmDefinitionService.java', 'src/test/java/monasca/api/app/AlarmDefinitionServiceTest.java'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/a96a2ae801a9325f17df1555ccd576bd185855ab', 'message': 'Distribute messages better among the Kafka partitions\n\nEnsure that the same Metric always goes to the same partition. This\nis done by using the tenant id, metric name and dimensions as the\nkey used to hash to a partition. This works as long as the number\nof partitions does not change.\n\nDistribute the events randomly among partitions by using a message\ncount as the key.\n\nChange-Id: Ia2ada1957198b9072fa957bc2a41791457664241\n'}]",4,148967,a96a2ae801a9325f17df1555ccd576bd185855ab,19,6,3,11809,,,0,"Distribute messages better among the Kafka partitions

Ensure that the same Metric always goes to the same partition. This
is done by using the tenant id, metric name and dimensions as the
key used to hash to a partition. This works as long as the number
of partitions does not change.

Distribute the events randomly among partitions by using a message
count as the key.

Change-Id: Ia2ada1957198b9072fa957bc2a41791457664241
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/67/148967/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/main/java/monasca/api/app/AlarmService.java', 'src/main/java/monasca/api/MonascaStringPartitioner.java', 'src/main/java/monasca/api/app/MetricService.java', 'src/main/java/monasca/api/app/AlarmDefinitionService.java', 'src/test/java/monasca/api/app/AlarmDefinitionServiceTest.java', 'src/main/java/monasca/api/MonApiModule.java']",6,cb818f9299469a7934556faf81f7f3052c23654b,," props.put(""partitioner.class"", MonascaStringPartitioner.class.getName());",,99,27
openstack%2Fneutron~master~I8a6351c96b8699fdba50009fa9eace337b937a34,openstack/neutron,master,I8a6351c96b8699fdba50009fa9eace337b937a34,Move process monitor settings to neutron.conf AGENT section,MERGED,2015-01-22 14:21:50.000000000,2015-01-23 15:33:48.000000000,2015-01-23 03:02:53.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 2035}, {'_account_id': 5170}, {'_account_id': 8788}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-22 14:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/79adfe6342213d32bb6103881d809016410b7887', 'message': 'Move process monitor settings to neutron.conf AGENT section\n\nInstead of defining specific settings on each agent configuration\nfile for later patches in the series, we provide a single\npoint of configuration in the AGENT section of the neutron.conf\nfile, which could yet be overriden per agent config file if needed.\n\nPartially Implements: blueprint agent-child-processes-status\n\nChange-Id: I8a6351c96b8699fdba50009fa9eace337b937a34\n'}, {'number': 2, 'created': '2015-01-22 21:36:11.000000000', 'files': ['neutron/tests/functional/agent/linux/test_process_monitor.py', 'neutron/tests/unit/agent/linux/test_process_monitor.py', 'neutron/agent/linux/external_process.py', 'etc/neutron.conf', 'neutron/agent/common/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/166206143d736733db39ebe3a259eed2dc0fce81', 'message': 'Move process monitor settings to neutron.conf AGENT section\n\nInstead of defining specific settings on each agent configuration\nfile for later patches in the series, we provide a single\npoint of configuration in the AGENT section of the neutron.conf\nfile, which could yet be overriden per agent config file if needed.\n\nPartially Implements: blueprint agent-child-processes-status\n\nChange-Id: I8a6351c96b8699fdba50009fa9eace337b937a34\n'}]",5,149266,166206143d736733db39ebe3a259eed2dc0fce81,44,22,2,8788,,,0,"Move process monitor settings to neutron.conf AGENT section

Instead of defining specific settings on each agent configuration
file for later patches in the series, we provide a single
point of configuration in the AGENT section of the neutron.conf
file, which could yet be overriden per agent config file if needed.

Partially Implements: blueprint agent-child-processes-status

Change-Id: I8a6351c96b8699fdba50009fa9eace337b937a34
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/149266/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/linux/test_process_monitor.py', 'neutron/tests/unit/agent/linux/test_process_monitor.py', 'neutron/agent/linux/external_process.py', 'etc/neutron.conf', 'neutron/agent/common/config.py']",5,79adfe6342213d32bb6103881d809016410b7887,bp/agent-child-processes-status,"PROCESS_MONITOR_OPTS = [ cfg.StrOpt('check_child_processes_action', default='respawn', choices=['respawn', 'exit'], help=_('Action to be executed when a child process dies')), cfg.IntOpt('check_child_processes_interval', default=0, help=_('Interval between checks of child process liveness ' '(seconds), use 0 to disable')), ] def register_process_monitor_opts(conf): conf.register_opts(PROCESS_MONITOR_OPTS, 'AGENT') ",,34,15
openstack%2Ftraining-guides~master~I79da47d829ed387f510318d27ec919af575344c3,openstack/training-guides,master,I79da47d829ed387f510318d27ec919af575344c3,Fix test case for cinder volumes,MERGED,2015-01-19 19:36:21.000000000,2015-01-23 15:28:41.000000000,2015-01-23 15:28:41.000000000,"[{'_account_id': 3}, {'_account_id': 7007}, {'_account_id': 9178}, {'_account_id': 11109}, {'_account_id': 11710}, {'_account_id': 11889}]","[{'number': 1, 'created': '2015-01-19 19:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-guides/commit/acd65744d5a96db9f28fd4e127e095905cb3df26', 'message': 'Removes test case for Cinder Volumes.\n\nCinder Volumes script is installed on the compute node. This makes the\ncontroller-api unreachable since the compute node does not have the\napi network. This fails the cluster build and is thus disabled for the\ntime being.\n\nChange-Id: I79da47d829ed387f510318d27ec919af575344c3\n'}, {'number': 2, 'created': '2015-01-19 22:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-guides/commit/389973e0449bf34ef4580239d52bacf0578e9010', 'message': 'Removes test case for Cinder Volumes\n\nThe verification step (test) in setup_cinder_volumes fails because the\ncompute node does not have access to the api network (noticed with KVM;\nour VirtualBox setup hides the problem). This patch removes the test.\n\nChange-Id: I79da47d829ed387f510318d27ec919af575344c3'}, {'number': 3, 'created': '2015-01-21 16:18:56.000000000', 'files': ['labs/scripts/setup_cinder_volumes.sh', 'labs/lib/functions.guest'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/d99d2062625653e0c95ae6c7ebe2fbfd2d5af86f', 'message': 'Fix test case for cinder volumes\n\nThe verification step (test) in setup_cinder_volumes fails because the\ncompute node does not have access to the api network (noticed with KVM;\nour VirtualBox setup hides the problem).\n\nThis changeset adds helper functions that allow scripts to make ssh\ncalls into other node VMs. The script, setup_cinder_volumes.sh, now\nruns the tests on the controller node.\n\nChange-Id: I79da47d829ed387f510318d27ec919af575344c3\nCo-Authored-By: Roger Luethi <rl@patchworkscience.org>\n'}]",0,148345,d99d2062625653e0c95ae6c7ebe2fbfd2d5af86f,19,6,3,7007,,,0,"Fix test case for cinder volumes

The verification step (test) in setup_cinder_volumes fails because the
compute node does not have access to the api network (noticed with KVM;
our VirtualBox setup hides the problem).

This changeset adds helper functions that allow scripts to make ssh
calls into other node VMs. The script, setup_cinder_volumes.sh, now
runs the tests on the controller node.

Change-Id: I79da47d829ed387f510318d27ec919af575344c3
Co-Authored-By: Roger Luethi <rl@patchworkscience.org>
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/45/148345/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/scripts/setup_cinder_volumes.sh'],1,acd65744d5a96db9f28fd4e127e095905cb3df26,148345,,"#------------------------------------------------------------------------------ # Verify the Block Storage installation #------------------------------------------------------------------------------ echo ""Waiting for cinder to start."" until cinder list >/dev/null 2>&1; do sleep 1 done echo ""cinder create --display-name labsVolume 1"" cinder create --display-name labsVolume 1 echo ""cinder list"" cinder list echo ""cinder delete labsVolume"" cinder delete labsVolume echo ""cinder list"" cinder list ",0,21
openstack%2Fnova~master~I7b89650fb258869268092dfa79cdc698b936b5de,openstack/nova,master,I7b89650fb258869268092dfa79cdc698b936b5de,Get compute node from host and hypervisor_hostname,ABANDONED,2014-07-01 07:01:27.000000000,2015-01-23 15:26:04.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4573}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 6849}, {'_account_id': 7166}, {'_account_id': 7543}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-07-01 07:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/177f672a0579173ba9973e9d8d7efe6e37ab0337', 'message': 'WIP: Get compute node from host and hypervisor_hostname\n\nAdd an interface to get the compute node from host and\nhypervisor_hostname, which will be useful to resource tracker who\ndetermine compute node based on host and nodename.\n\nChange-Id: I7b89650fb258869268092dfa79cdc698b936b5de\n'}, {'number': 2, 'created': '2014-07-01 22:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eee47ee79ab904a8d0949d15d3b0ceb097aed8e2', 'message': 'Get compute node from host and hypervisor_hostname\n\nAdd an interface to get the compute node from host and\nhypervisor_hostname, which will be useful to resource tracker who\ndetermine compute node based on host and nodename.\n\nCloses-Bug: #1333498\n\nChange-Id: I7b89650fb258869268092dfa79cdc698b936b5de\n'}, {'number': 3, 'created': '2014-07-23 22:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23c9f9c16904b831b2553325e666446b1e9fe381', 'message': 'Get compute node from host and hypervisor_hostname\n\nAdd an interface to get the compute node from host and\nhypervisor_hostname, which will be useful to resource tracker who\ndetermine compute node based on host and nodename.\n\nCloses-Bug: #1333498\n\nChange-Id: I7b89650fb258869268092dfa79cdc698b936b5de\n'}, {'number': 4, 'created': '2014-08-07 21:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21a36fc39dbb4db4f71dd6bfb239b9d4d47f21c2', 'message': 'Get compute node from host and hypervisor_hostname\n\nAdd an interface to get the compute node from host and\nhypervisor_hostname, which will be useful to resource tracker who\ndetermine compute node based on host and nodename.\n\nCloses-Bug: #1333498\n\nChange-Id: I7b89650fb258869268092dfa79cdc698b936b5de\n'}, {'number': 5, 'created': '2014-08-19 20:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08609d217360ce4fa8a3fe814c57623d9a39ce49', 'message': 'Get compute node from host and hypervisor_hostname\n\nAdd an interface to get the compute node from host and\nhypervisor_hostname, which will be useful to resource tracker who\ndetermine compute node based on host and nodename.\n\nCloses-Bug: #1333498\n\nChange-Id: I7b89650fb258869268092dfa79cdc698b936b5de\n'}, {'number': 6, 'created': '2014-08-27 21:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0aaa5db0fe7126277beb8cf8d640f4c57c0d5af9', 'message': 'Get compute node from host and hypervisor_hostname\n\nAdd an interface to get the compute node from host and\nhypervisor_hostname, which will be useful to resource tracker who\ndetermine compute node based on host and nodename.\n\nCloses-Bug: #1333498\n\nChange-Id: I7b89650fb258869268092dfa79cdc698b936b5de\n'}, {'number': 7, 'created': '2014-08-28 18:18:49.000000000', 'files': ['nova/tests/objects/test_compute_node.py', 'nova/objects/compute_node.py', 'nova/objects/service.py', 'nova/tests/objects/test_objects.py', 'nova/tests/db/test_db_api.py', 'nova/db/api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/74d327984987481c763a167ea0896326c2118aee', 'message': 'Get compute node from host and hypervisor_hostname\n\nAdd an interface to get the compute node from host and\nhypervisor_hostname, which will be useful to resource tracker who\ndetermine compute node based on host and nodename.\n\nCloses-Bug: #1333498\n\nChange-Id: I7b89650fb258869268092dfa79cdc698b936b5de\n'}]",6,103759,74d327984987481c763a167ea0896326c2118aee,81,13,7,4573,,,0,"Get compute node from host and hypervisor_hostname

Add an interface to get the compute node from host and
hypervisor_hostname, which will be useful to resource tracker who
determine compute node based on host and nodename.

Closes-Bug: #1333498

Change-Id: I7b89650fb258869268092dfa79cdc698b936b5de
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/103759/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/compute_node.py', 'nova/tests/objects/test_compute_node.py', 'nova/tests/objects/test_objects.py', 'nova/tests/db/test_db_api.py', 'nova/db/api.py', 'nova/db/sqlalchemy/api.py']",6,177f672a0579173ba9973e9d8d7efe6e37ab0337,pci_node_id,"def compute_node_get_by_hypervisorname(context, host, hypervisor_hostname): result = model_query(context, models.ComputeNode, read_deleted='no').\ filter_by(hypervisor_hostname=hypervisor_hostname).\ filter(models.Service.host == host).\ first() if not result: raise exception.ComputeHostNotFound(host=host) return result @require_admin_context",,53,2
openstack%2Fnova~master~I9fdc840a14c64bf550fe6a926d383e89215fd832,openstack/nova,master,I9fdc840a14c64bf550fe6a926d383e89215fd832,Unshelve is not working if snapshot is deleted,ABANDONED,2014-11-11 00:24:31.000000000,2015-01-23 15:26:02.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8300}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-11 00:24:31.000000000', 'files': ['nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a6407fc527cf53c42c627f85f7a9e21bd447a20a', 'message': 'Unshelve is not working if snapshot is deleted\n\nWith admin-user unshelve is not setting instance into error state\nif we delete snapshot and image from glance. This is happening\nbecause in case of admin-user glance returns image if it is in\ndeleted state, it do not raise ImageNotFound error.\nBut in case of normal-user it raises ImageNotFound error.\n\nAlso when we send unshelve request 2nd time with admin-user, instance\ngoes into active state. It start instance with image which is used\nat time of starting instance and it gets this image from cache.\nIt tries to use cached image wchich is used for creating instance\nbecause at first time when we send unshelve api request, nova-conductor\nupdated instance system_metadata and sets shelved_image_id, shelved_at etc\nproperties to deleted state.\n\nChange-Id: I9fdc840a14c64bf550fe6a926d383e89215fd832\nCloses-Bug: #1380617\n'}]",0,133581,a6407fc527cf53c42c627f85f7a9e21bd447a20a,10,8,1,8300,,,0,"Unshelve is not working if snapshot is deleted

With admin-user unshelve is not setting instance into error state
if we delete snapshot and image from glance. This is happening
because in case of admin-user glance returns image if it is in
deleted state, it do not raise ImageNotFound error.
But in case of normal-user it raises ImageNotFound error.

Also when we send unshelve request 2nd time with admin-user, instance
goes into active state. It start instance with image which is used
at time of starting instance and it gets this image from cache.
It tries to use cached image wchich is used for creating instance
because at first time when we send unshelve api request, nova-conductor
updated instance system_metadata and sets shelved_image_id, shelved_at etc
properties to deleted state.

Change-Id: I9fdc840a14c64bf550fe6a926d383e89215fd832
Closes-Bug: #1380617
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/133581/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/manager.py'],1,a6407fc527cf53c42c627f85f7a9e21bd447a20a,bug/1380617, # In case of admin user glance returns image with # deleted status also. But in case of normal user it # gives ImageNotFound error. if not image or image['status'] == 'deleted': raise exception.ImageNotFound,,5,0
openstack%2Fnova~master~If782cba98ebb26dd90094ad6c736042a88bd5b97,openstack/nova,master,If782cba98ebb26dd90094ad6c736042a88bd5b97,Sanitize the wql params in hyperv,ABANDONED,2014-10-28 13:49:49.000000000,2015-01-23 15:26:00.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 3185}, {'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 13670}]","[{'number': 1, 'created': '2014-10-28 13:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8627586ec606e2a24835cc1e19bfb0b1f37c703a', 'message': 'Sanitize the wql params in hyperv\n\nSanitize all wql parameters for dynamic queries in\nthe hyperv/volumeutilsv2 and basevolumeutils modules\n\nChange-Id: If782cba98ebb26dd90094ad6c736042a88bd5b97\nCloses-Bug: #1370295\n'}, {'number': 2, 'created': '2014-10-28 13:54:29.000000000', 'files': ['nova/virt/hyperv/volumeutilsv2.py', 'nova/virt/hyperv/volumeutils.py', 'nova/virt/hyperv/basevolumeutils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2e56ee6a9478f750bf2e03dbc8e52cc6cf5e9481', 'message': 'Sanitize the wql params in hyperv\n\nSanitize all wql parameters for dynamic queries in\nthe hyperv/volumeutils and volumeutilsv2 and\nbasevolumeutils modules\n\nChange-Id: If782cba98ebb26dd90094ad6c736042a88bd5b97\nCloses-Bug: #1370295\n'}]",4,131433,2e56ee6a9478f750bf2e03dbc8e52cc6cf5e9481,11,8,2,8911,,,0,"Sanitize the wql params in hyperv

Sanitize all wql parameters for dynamic queries in
the hyperv/volumeutils and volumeutilsv2 and
basevolumeutils modules

Change-Id: If782cba98ebb26dd90094ad6c736042a88bd5b97
Closes-Bug: #1370295
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/131433/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hyperv/volumeutilsv2.py', 'nova/virt/hyperv/basevolumeutils.py']",2,8627586ec606e2a24835cc1e19bfb0b1f37c703a,bug/1370295," @staticmethod def sanitize_wql_param(param): return param.replace('\'', '\'\'') def get_device_number_for_target(self, target_iqn, target_lun): initiator_sessions = self._conn_wmi.query( ""SELECT * FROM MSiSCSIInitiator_SessionClass "" ""WHERE TargetName='%s'"" % self.sanitize_wql_param(target_iqn))"," def get_device_number_for_target(self, target_iqn, target_lun): initiator_sessions = self._conn_wmi.query(""SELECT * FROM "" ""MSiSCSIInitiator_Session"" ""Class WHERE TargetName='%s'"" % target_iqn)",16,12
openstack%2Fnova~master~Iebd14eb952d30920623d65a9e56693f0edb3da95,openstack/nova,master,Iebd14eb952d30920623d65a9e56693f0edb3da95,Neutron migration as part of cold migration,ABANDONED,2014-08-20 13:09:16.000000000,2015-01-23 15:25:57.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-20 13:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0dd7e449daa48e185e61e021e9500fddee5e2c6', 'message': 'Neutron migration as part of cold migration\n\nThis patch updates existing cold migration process\nby allocating network resources on a destination node\nin case current instance networks are not found in Neutron -\nwhich is considered as a sign that this is Nova-net to Neutron migration.\n\nNeutron networks where ports should be created for the instance are\ndetermined according to nova_net_neutron_network_map dict option\nwhich should be configured on a destination node prior to migration\n\nWIP: yet not handling floating ips and security groups\n\nPartially-implements blueprint neutron-migration\n\nChange-Id: Iebd14eb952d30920623d65a9e56693f0edb3da95\n'}, {'number': 2, 'created': '2014-08-20 13:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c344618c9657486c36d6aadcdb1689b18fb84c6a', 'message': 'Neutron migration as part of cold migration\n\nThis patch updates existing cold migration process\nby allocating network resources on a destination node\nin case current instance networks are not found in Neutron -\nwhich is considered as a sign that this is Nova-net to Neutron migration.\n\nNeutron networks where ports should be created for the instance are\ndetermined according to nova_net_neutron_network_map dict option\nwhich should be configured on a destination node prior to migration\n\nWIP: yet not handling floating ips and security groups\n\nPartially-implements blueprint neutron-migration\n\nChange-Id: Iebd14eb952d30920623d65a9e56693f0edb3da95\n'}, {'number': 3, 'created': '2014-08-21 13:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e58fadf5d679bada0c260661b3464c5326b8e02', 'message': 'Neutron migration as part of cold migration\n\nThis patch updates existing cold migration process\nby allocating network resources on a destination node\nin case current instance networks are not found in Neutron -\nwhich is considered as a sign that this is Nova-net to Neutron migration.\n\nNeutron networks where ports should be created for the instance are\ndetermined according to nova_net_neutron_network_map dict option\nwhich should be configured on a destination node prior to migration\n\nWIP: yet not handling floating ips and security groups\n\nPartially-implements blueprint neutron-migration\n\nChange-Id: Iebd14eb952d30920623d65a9e56693f0edb3da95\n'}, {'number': 4, 'created': '2014-10-30 14:22:56.000000000', 'files': ['nova/network/neutronv2/api.py', 'nova/network/api.py', 'nova/network/base_api.py', 'nova/compute/manager.py', 'nova/tests/compute/test_compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c9c5251ebc936c3a22a2969d2a30156235bd6f3e', 'message': 'Neutron migration as part of cold migration\n\nThis patch updates existing cold migration process\nby allocating network resources on a destination node\nin case current instance networks are not found in Neutron -\nwhich is considered as a sign that this is Nova-net to Neutron migration.\n\nNeutron networks where ports should be created for the instance are\ndetermined according to nova_net_neutron_network_map dict option\nwhich should be configured on a destination node prior to migration\n\nWIP: yet not handling floating ips and security groups\n\nPartially-implements blueprint neutron-migration\n\nChange-Id: Iebd14eb952d30920623d65a9e56693f0edb3da95\n'}]",0,115635,c9c5251ebc936c3a22a2969d2a30156235bd6f3e,25,8,4,5948,,,0,"Neutron migration as part of cold migration

This patch updates existing cold migration process
by allocating network resources on a destination node
in case current instance networks are not found in Neutron -
which is considered as a sign that this is Nova-net to Neutron migration.

Neutron networks where ports should be created for the instance are
determined according to nova_net_neutron_network_map dict option
which should be configured on a destination node prior to migration

WIP: yet not handling floating ips and security groups

Partially-implements blueprint neutron-migration

Change-Id: Iebd14eb952d30920623d65a9e56693f0edb3da95
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/115635/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/network/api.py', 'nova/network/base_api.py', 'nova/compute/manager.py']",4,b0dd7e449daa48e185e61e021e9500fddee5e2c6,bp/neutron-migration," def _get_instance_nw_info(self, context, instance, use_slave=False, update_cache=True): network_info = self.network_api.get_instance_nw_info( context, instance, update_cache) def _handle_neutron_migration(self, context, instance): """""" Check and allocate network resources for the instance if needed This is for the case instance is migrating from compute node using nova-network to compute node using neutron """""" if utils.is_neutron(): net_info = compute_utils.get_nw_info_for_instance(instance) instance_net_ids = [vif['network']['id'] for vif in net_info] try: self.network_api.validate_networks( context, [(_id, None, None) for _id in instance_net_ids], num_instances=1) except exception.NetworkNotFound: LOG.info(_('Networks not found, going to allocate net ' 'resources')) ports_to_create = [] for vif in net_info: target_net = CONF.nova_net_neutron_network_map.get( vif['network']['id']) if not target_net: msg = (_('No matching Neutron network configured to ' 'migrate instances from Nova-net network %s') % vif['network']['id']) raise exception.MigrationError(msg) ip = vif['network']['subnets'][0]['ips'][0]['address'] mac = vif['address'] ports_to_create.append((target_net, ip, mac)) for port in ports_to_create: target_net, ip, mac = port neutron_net_info = self.network_api.allocate_for_instance( context, instance, requested_networks=[(target_net, ip, None)], macs=[mac]) if len(neutron_net_info) != 1: self.network_api.deallocate_for_instance(context, instance) msg = (_('Can\'t allocate port for instance on ' 'network %s') % target_net) LOG.error(msg) raise exception.MigrationError(msg) # check and handle possible Neutron migration self._handle_neutron_migration(context, instance) # do not update instance cache in case this is a migration from # nova-net compute node to neutron compute node where new neutron # net info was already put into cache by dest node in prep_resize network_info = self._get_instance_nw_info(context, instance, update_cache=False)"," def _get_instance_nw_info(self, context, instance, use_slave=False): network_info = self.network_api.get_instance_nw_info(context, instance) network_info = self._get_instance_nw_info(context, instance)",72,16
openstack%2Fnova~master~Ibac492422592ce757a64e801f89af5b6aad38416,openstack/nova,master,Ibac492422592ce757a64e801f89af5b6aad38416,Return proper code when Floating IP DNS not implemented,ABANDONED,2014-03-16 00:25:56.000000000,2015-01-23 15:25:54.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 360}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6348}, {'_account_id': 6873}, {'_account_id': 7730}, {'_account_id': 8163}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9275}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-03-16 00:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d45e03b4d0477ae7659a796a15da4f682b774f7', 'message': ""Return proper code when Floating IP DNS not implemented\n\nWhen using dns functionality if the current network api class\ndo not support that feature a 500 error is returned that may lead\nto confusion about what's going on.\n\nThis patch add the code to catch NotImplementedError and return\n501 code instead.\n\nCloses-Bud: #1293000\nChange-Id: Ibac492422592ce757a64e801f89af5b6aad38416\n""}, {'number': 2, 'created': '2014-03-17 11:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db8064142eceb819ade9cb71efc2ee36934d5533', 'message': ""Return proper code when Floating IP DNS not implemented\n\nWhen using dns functionality if the current network api class\ndo not support that feature a 500 error is returned that may lead\nto confusion about what's going on.\n\nThis patch add the code to catch NotImplementedError and return\n501 code instead.\n\nCloses-Bud: #1293000\nChange-Id: Ibac492422592ce757a64e801f89af5b6aad38416\n""}, {'number': 4, 'created': '2014-03-17 12:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/959886800a7e6a29f4a78d94d5d2d5d7defe2aa5', 'message': ""Return proper code when Floating IP DNS not implemented\n\nWhen using dns functionality if the current network api class\ndoes not support that feature a 500 error is returned that may lead\nto confusion about what's going on.\n\nThis patch adds the code to catch NotImplementedError and returns\n501 code instead.\n\nCloses-Bug: #1293000\nChange-Id: Ibac492422592ce757a64e801f89af5b6aad38416\n""}, {'number': 3, 'created': '2014-03-17 12:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5dd3d2147763a9fcbd53f5939d2e9f0d1bcbe3f', 'message': ""Return proper code when Floating IP DNS not implemented\n\nWhen using dns functionality if the current network api class\ndoes not support that feature a 500 error is returned that may lead\nto confusion about what's going on.\n\nThis patch adds the code to catch NotImplementedError and returns\n501 code instead.\n\nCloses-Bug: #1293000\nChange-Id: Ibac492422592ce757a64e801f89af5b6aad38416\n""}, {'number': 5, 'created': '2014-03-26 12:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f0fcd7b3fa37ac47875af913c9b49ec140d2a91', 'message': ""Return proper code when Floating IP DNS not implemented\n\nWhen using dns functionality if the current network api class\ndoes not support that feature a 500 error is returned that may lead\nto confusion about what's going on.\n\nThis patch adds the code to catch NotImplementedError and returns\n501 code instead.\n\nCloses-Bug: #1293000\nChange-Id: Ibac492422592ce757a64e801f89af5b6aad38416\n""}, {'number': 6, 'created': '2014-04-19 02:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/014b95911dfcf4df30368ef31f8ccce95a8c7c66', 'message': ""Return proper code when Floating IP DNS not implemented\n\nWhen using dns functionality if the current network api class\ndoes not support that feature a 500 error is returned that may lead\nto confusion about what's going on.\n\nThis patch adds the code to catch NotImplementedError and returns\n501 code instead.\n\nCloses-Bug: #1293000\nChange-Id: Ibac492422592ce757a64e801f89af5b6aad38416\n""}, {'number': 7, 'created': '2014-10-08 00:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ed7a92e9c36cfb40fd0d19d5280ecae370db8d8', 'message': ""Return proper code when Floating IP DNS not implemented\n\nWhen using dns functionality if the current network api class\ndoes not support that feature a 500 error is returned that may lead\nto confusion about what's going on.\n\nThis patch adds the code to catch NotImplementedError and returns\n501 code instead.\n\nCloses-Bug: #1293000\nChange-Id: Ibac492422592ce757a64e801f89af5b6aad38416\n""}, {'number': 8, 'created': '2014-10-08 02:02:00.000000000', 'files': ['nova/api/openstack/compute/contrib/floating_ip_dns.py', 'nova/tests/api/openstack/compute/contrib/test_floating_ip_dns.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/694c9b6da568c22f2a9b190987459456c22cdbcc', 'message': ""Return proper code when Floating IP DNS not implemented\n\nWhen using dns functionality if the current network api class\ndoes not support that feature a 500 error is returned that may lead\nto confusion about what's going on.\n\nThis patch adds the code to catch NotImplementedError and returns\n501 code instead.\n\nCloses-Bug: #1293000\nChange-Id: Ibac492422592ce757a64e801f89af5b6aad38416\n""}]",32,80812,694c9b6da568c22f2a9b190987459456c22cdbcc,119,18,8,9275,,,0,"Return proper code when Floating IP DNS not implemented

When using dns functionality if the current network api class
does not support that feature a 500 error is returned that may lead
to confusion about what's going on.

This patch adds the code to catch NotImplementedError and returns
501 code instead.

Closes-Bug: #1293000
Change-Id: Ibac492422592ce757a64e801f89af5b6aad38416
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/80812/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/contrib/floating_ip_dns.py', 'nova/tests/api/openstack/compute/contrib/test_floating_ip_dns.py']",2,9d45e03b4d0477ae7659a796a15da4f682b774f7,DNS_NOT_IMPLEMENT,"import mock @mock.patch('nova.network.api.API.get_dns_entries_by_name') def test_not_implemented_return_proper_code(self, get_dns_mock): get_dns_mock.side_effect = NotImplementedError() req = fakes.HTTPRequest.blank( '/v2/123/os-floating-ip-dns/%s/entries/%s' % (_quote_domain(domain), 'anetwork')) self.assertRaises(webob.exc.HTTPNotImplemented, self.entry_controller.show, req, _quote_domain(domain), 'network') ",,55,13
openstack%2Fnova~master~Idfca804833d3ddc43e4a85f60230527f6c06ac72,openstack/nova,master,Idfca804833d3ddc43e4a85f60230527f6c06ac72,The instance uuid is not right after reschedule,ABANDONED,2014-04-23 06:23:35.000000000,2015-01-23 15:25:52.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7494}, {'_account_id': 8247}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12175}]","[{'number': 1, 'created': '2014-04-23 06:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/22c6dd0a6e71ad7329700f25f65a71e7396cd642', 'message': 'The instance uuid is not right after reschedule\n\nWith retry filter, when creating multiple instance, if one\ninstance creation failed (Not the first one), then this instance\nwill be rescheduled. But before reschedule, the instance_properties\nof request_spec still using the first instance instance_properties,\nthis caused the uuid, display_name and hostname is not correct.\n\nThis patch updates the instance_properties for request_spec before\nreschedule to make sure the instance uuid, display_name and hostname\nare correct.\n\nChange-Id: Idfca804833d3ddc43e4a85f60230527f6c06ac72\nCloses-Bug: #1268450\n'}, {'number': 2, 'created': '2014-04-24 09:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb4794a9814e6c612d4a6f862825078f2a88c21f', 'message': 'The instance uuid is not right after reschedule\n\nWith retry filter, when creating multiple instance, if one\ninstance creation failed (Not the first one), then this instance\nwill be rescheduled. But before reschedule, the instance_properties\nof request_spec still using the first instance instance_properties,\nthis caused the uuid, display_name and hostname is not correct.\n\nThis patch updates the instance_properties for request_spec before\nreschedule to make sure the instance uuid, display_name and hostname\nare correct.\n\nChange-Id: Idfca804833d3ddc43e4a85f60230527f6c06ac72\nCloses-Bug: #1268450\n'}, {'number': 3, 'created': '2014-05-25 04:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c568f808e4cb2d68774510d8cd69c62b6c35ea3', 'message': 'The instance uuid is not right after reschedule\n\nWith retry filter, when creating multiple instance, if one\ninstance creation failed (Not the first one), then this instance\nwill be rescheduled. But before reschedule, the instance_properties\nof request_spec still using the first instance instance_properties,\nthis caused the uuid, display_name and hostname is not correct.\n\nThis patch updates the instance_properties for request_spec before\nreschedule to make sure the instance uuid, display_name and hostname\nare correct.\n\nCloses-Bug: #1268450\n\nChange-Id: Idfca804833d3ddc43e4a85f60230527f6c06ac72\n'}, {'number': 4, 'created': '2014-07-24 00:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1aeeaf2698493594fff9272684d4a82bfe9efb4c', 'message': 'The instance uuid is not right after reschedule\n\nWith retry filter, when creating multiple instance, if one\ninstance creation failed (Not the first one), then this instance\nwill be rescheduled. But before reschedule, the instance_properties\nof request_spec still using the first instance instance_properties,\nthis caused the uuid, display_name and hostname is not correct.\n\nThis patch updates the instance_properties for request_spec before\nreschedule to make sure the instance uuid, display_name and hostname\nare correct.\n\nCloses-Bug: #1268450\n\nChange-Id: Idfca804833d3ddc43e4a85f60230527f6c06ac72\n'}, {'number': 5, 'created': '2014-07-24 00:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f02d461b777d1a0e622ddb26fbff429fe5a2602', 'message': 'The instance uuid is not right after reschedule\n\nWith retry filter, when creating multiple instance, if one\ninstance creation failed (Not the first one), then this instance\nwill be rescheduled. But before reschedule, the instance_properties\nof request_spec still using the first instance instance_properties,\nthis caused the uuid, display_name and hostname is not correct.\n\nThis patch updates the instance_properties for request_spec before\nreschedule to make sure the instance uuid, display_name and hostname\nare correct.\n\nCloses-Bug: #1268450\n\nChange-Id: Idfca804833d3ddc43e4a85f60230527f6c06ac72\n'}, {'number': 6, 'created': '2014-09-14 13:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec231eb3415e957d760fafb873a6c0ffd7005de3', 'message': 'The instance uuid is not right after reschedule\n\nWith retry filter, when creating multiple instance, if one\ninstance creation failed (Not the first one), then this instance\nwill be rescheduled. But before reschedule, the instance_properties\nof request_spec still using the first instance instance_properties,\nthis caused the uuid, display_name and hostname is not correct.\n\nThis patch updates the instance_properties for request_spec before\nreschedule to make sure the instance uuid, display_name and hostname\nare correct.\n\nCloses-Bug: #1268450\n\nChange-Id: Idfca804833d3ddc43e4a85f60230527f6c06ac72\n'}, {'number': 7, 'created': '2014-09-20 11:54:46.000000000', 'files': ['nova/compute/manager.py', 'nova/tests/compute/test_compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/373922ab93c0134906524bb065b2482a57651f5c', 'message': 'The instance uuid is not right after reschedule\n\nWith retry filter, when creating multiple instance, if one\ninstance creation failed (Not the first one), then this instance\nwill be rescheduled. But before reschedule, the instance_properties\nof request_spec still using the first instance instance_properties,\nthis caused the uuid, display_name and hostname is not correct.\n\nThis patch updates the instance_properties for request_spec before\nreschedule to make sure the instance uuid, display_name and hostname\nare correct.\n\nCloses-Bug: #1268450\n\nChange-Id: Idfca804833d3ddc43e4a85f60230527f6c06ac72\n'}]",14,89757,373922ab93c0134906524bb065b2482a57651f5c,92,16,7,7494,,,0,"The instance uuid is not right after reschedule

With retry filter, when creating multiple instance, if one
instance creation failed (Not the first one), then this instance
will be rescheduled. But before reschedule, the instance_properties
of request_spec still using the first instance instance_properties,
this caused the uuid, display_name and hostname is not correct.

This patch updates the instance_properties for request_spec before
reschedule to make sure the instance uuid, display_name and hostname
are correct.

Closes-Bug: #1268450

Change-Id: Idfca804833d3ddc43e4a85f60230527f6c06ac72
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/89757/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/compute/test_compute.py']",2,22c6dd0a6e71ad7329700f25f65a71e7396cd642,bug/1268450," self.instance = self._create_fake_instance() self.instance['uuid'] = '1-2-3-4' self.instance['display_name'] = 'fake_display_name' self.instance['hostname'] = 'fake_hostname' filter_properties, self.instance, scheduler_method, request_spec = {'instance_uuids': ['foo', 'bar'], 'instance_properties': {'foo': 'bar'}} filter_properties, instance, scheduler_method, self.compute._reschedule(self.context, None, {}, self.instance, instance,"," instance_uuid = ""12-34-56-78-90"" filter_properties, instance_uuid, scheduler_method, request_spec = {'instance_uuids': ['foo', 'bar']} filter_properties, instance_uuid, scheduler_method, self.compute._reschedule(self.context, None, {}, instance_uuid, instance.uuid,",20,10
openstack%2Fnova~master~I3ededf913440c919d9c2925baff1cd8a3ec658a3,openstack/nova,master,I3ededf913440c919d9c2925baff1cd8a3ec658a3,Allow requiring exact CPU topology,ABANDONED,2014-09-17 23:38:01.000000000,2015-01-23 15:25:51.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11748}]","[{'number': 1, 'created': '2014-09-17 23:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03dddedcf0c29c02d2b0f7307ccb90ed5b880bf9', 'message': 'Allow requiring exact CPU topology\n\nThis adds a flavor extra spec key and image metadata key that let the\nuser require an exact CPU topology instead of merely making a best\nattempt at fulfilling the topology requested. Impossible topologies\nwill raise errors if the key is set.\n\nDocImpact\nCloses-Bug: 1369705\nChange-Id: I3ededf913440c919d9c2925baff1cd8a3ec658a3\n'}, {'number': 2, 'created': '2014-09-22 16:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/abccb7ebee095e2645167be570a4af728cb487be', 'message': 'Allow requiring exact CPU topology\n\nThis adds a flavor extra spec key and image metadata key that let the\nuser require an exact CPU topology instead of merely making a best\nattempt at fulfilling the topology requested. Impossible topologies\nwill raise errors if the key is set.\n\nDocImpact\nCloses-Bug: 1369705\nChange-Id: I3ededf913440c919d9c2925baff1cd8a3ec658a3\n'}, {'number': 3, 'created': '2014-09-22 18:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2b68288fa6f55283fc7bd4921b099d770283f87', 'message': 'Allow requiring exact CPU topology\n\nThis adds a flavor extra spec key and image metadata key that let the\nuser require an exact CPU topology instead of merely making a best\nattempt at fulfilling the topology requested. Impossible topologies\nwill raise errors if the key is set.\n\nDocImpact\nCloses-Bug: 1369705\nChange-Id: I3ededf913440c919d9c2925baff1cd8a3ec658a3\n'}, {'number': 4, 'created': '2014-09-23 13:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66bc08878f82be774603d50f3272ab4bd127c323', 'message': 'Allow requiring exact CPU topology\n\nThis adds a flavor extra spec key and image metadata key that let the\nuser require an exact CPU topology instead of merely making a best\nattempt at fulfilling the topology requested. Impossible topologies\nwill raise errors if the key is set.\n\nDocImpact\nCloses-Bug: 1369705\nChange-Id: I3ededf913440c919d9c2925baff1cd8a3ec658a3\n'}, {'number': 5, 'created': '2014-09-24 13:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c8b6d9656b1c5415f093ea541a93c29d1147c04', 'message': 'Allow requiring exact CPU topology\n\nThis adds a flavor extra spec key and image metadata key that let the\nuser require an exact CPU topology instead of merely making a best\nattempt at fulfilling the topology requested. Impossible topologies\nwill raise errors if the key is set.\n\nDocImpact\nCloses-Bug: 1369705\nChange-Id: I3ededf913440c919d9c2925baff1cd8a3ec658a3\n'}, {'number': 6, 'created': '2014-10-13 16:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d39d66ef7738d069b332513459479ad39191a84e', 'message': 'Allow requiring exact CPU topology\n\nThis adds a flavor extra spec key and image metadata key that let the\nuser require an exact CPU topology instead of merely making a best\nattempt at fulfilling the topology requested. Impossible topologies\nwill raise errors if the key is set.\n\nDocImpact\nCloses-Bug: 1369705\nChange-Id: I3ededf913440c919d9c2925baff1cd8a3ec658a3\n'}, {'number': 7, 'created': '2014-10-13 18:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/482a45d444d70dcabbabf638ffe33e256612fc19', 'message': 'Allow requiring exact CPU topology\n\nThis adds a flavor extra spec key and image metadata key that let the\nuser require an exact CPU topology instead of merely making a best\nattempt at fulfilling the topology requested. Impossible topologies\nwill raise errors if the key is set.\n\nDocImpact\nCloses-Bug: 1369705\nChange-Id: I3ededf913440c919d9c2925baff1cd8a3ec658a3\n'}, {'number': 8, 'created': '2014-10-21 20:31:40.000000000', 'files': ['nova/tests/virt/test_hardware.py', 'nova/exception.py', 'nova/virt/hardware.py', 'nova/tests/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c5b92b89935284bdce05d0c6fdae9dc14fdea208', 'message': 'Allow requiring exact CPU topology\n\nThis adds a flavor extra spec key and image metadata key that let the\nuser require an exact CPU topology instead of merely making a best\nattempt at fulfilling the topology requested. Impossible topologies\nwill raise errors if the key is set.\n\nDocImpact\nCloses-Bug: 1369705\nChange-Id: I3ededf913440c919d9c2925baff1cd8a3ec658a3\n'}]",8,122268,c5b92b89935284bdce05d0c6fdae9dc14fdea208,58,13,8,11748,,,0,"Allow requiring exact CPU topology

This adds a flavor extra spec key and image metadata key that let the
user require an exact CPU topology instead of merely making a best
attempt at fulfilling the topology requested. Impossible topologies
will raise errors if the key is set.

DocImpact
Closes-Bug: 1369705
Change-Id: I3ededf913440c919d9c2925baff1cd8a3ec658a3
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/122268/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/test_hardware.py', 'nova/exception.py', 'nova/virt/hardware.py', 'nova/tests/virt/libvirt/test_driver.py']",4,03dddedcf0c29c02d2b0f7307ccb90ed5b880bf9,bug/1369705," def test_exact_guest_cpu_topology(self): fake_flavor = objects.flavor.Flavor.get_by_id( self.context, self.test_instance['instance_type_id']) fake_flavor.vcpus = 8 fake_flavor.extra_specs = {'hw:cpu_sockets': '2', 'hw:cpu_cores': '4', 'hw:cpu_topology_exact': 'True'} conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) instance_ref = db.instance_create(self.context, self.test_instance) disk_info = blockinfo.get_disk_info(CONF.libvirt.virt_type, instance_ref) with mock.patch.object(objects.flavor.Flavor, 'get_by_id', return_value=fake_flavor): conf = conn._get_guest_config(instance_ref, _fake_network_info(self.stubs, 1), {}, disk_info) self.assertIsInstance(conf.cpu, vconfig.LibvirtConfigGuestCPU) self.assertEqual(conf.cpu.mode, ""host-model"") self.assertEqual(conf.cpu.sockets, 2) self.assertEqual(conf.cpu.cores, 4) self.assertEqual(conf.cpu.threads, 1) def test_exact_guest_cpu_topology_impossible(self): fake_flavor = objects.flavor.Flavor.get_by_id( self.context, self.test_instance['instance_type_id']) fake_flavor.vcpus = 3 fake_flavor.extra_specs = {'hw:cpu_sockets': '4', 'hw:cpu_topology_exact': 'True'} conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) instance_ref = db.instance_create(self.context, self.test_instance) disk_info = blockinfo.get_disk_info(CONF.libvirt.virt_type, instance_ref) with mock.patch.object(objects.flavor.Flavor, 'get_by_id', return_value=fake_flavor): self.assertRaises(exception.ImageVCPUExactTopologyImpossible, conn._get_guest_config, instance_ref, _fake_network_info(self.stubs, 1), {}, disk_info) ",,167,13
openstack%2Fnova~master~I8f37c43c46c1d98f75949577c1b5304db4a3176e,openstack/nova,master,I8f37c43c46c1d98f75949577c1b5304db4a3176e,Updated handler.py to use address of instance,ABANDONED,2014-11-10 08:05:35.000000000,2015-01-23 15:25:50.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7133}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12864}, {'_account_id': 13049}]","[{'number': 1, 'created': '2014-11-10 08:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21791d16feacf772f8719ef2cd9249d416eca1fc', 'message': 'Updated handler.py to use address of instance\n\nWhen an EC2 metadata request is received via the neutron metadata proxy,\nNova assumes that the X-Forwarded-For item in the header is the\naddress of the instance. In fact, depending on the network path,\nthis is a comma seperated list of addresses.\nOnly the first element is the address of the instance.\n\nChange-Id: I8f37c43c46c1d98f75949577c1b5304db4a3176e\nCloses-Bug: #1284741\n'}, {'number': 2, 'created': '2014-11-11 16:37:27.000000000', 'files': ['nova/api/metadata/handler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c5947bf2a3549100192892eaedbc564180d310eb', 'message': 'Updated handler.py to use address of instance\n\nWhen an EC2 metadata request is received via the neutron metadata proxy,\nNova assumes that the X-Forwarded-For item in the header is the\naddress of the instance. In fact, depending on the network path,\nthis is a comma seperated list of addresses.\nOnly the first element is the address of the instance.\n\nChange-Id: I8f37c43c46c1d98f75949577c1b5304db4a3176e\nCloses-Bug: #1284741\n'}]",1,133400,c5947bf2a3549100192892eaedbc564180d310eb,20,11,2,12864,,,0,"Updated handler.py to use address of instance

When an EC2 metadata request is received via the neutron metadata proxy,
Nova assumes that the X-Forwarded-For item in the header is the
address of the instance. In fact, depending on the network path,
this is a comma seperated list of addresses.
Only the first element is the address of the instance.

Change-Id: I8f37c43c46c1d98f75949577c1b5304db4a3176e
Closes-Bug: #1284741
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/133400/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/metadata/handler.py'],1,21791d16feacf772f8719ef2cd9249d416eca1fc,b1284741," remote_address = req.headers.get('X-Forwarded-For').split(',')[0]"," remote_address = req.headers.get('X-Forwarded-For', remote_address)",1,1
openstack%2Fnova~master~Ib299bad74a5952a95d22f587478ba82ced079558,openstack/nova,master,Ib299bad74a5952a95d22f587478ba82ced079558,Code clean up db.instance_get_all_by_host(),ABANDONED,2014-11-11 17:05:42.000000000,2015-01-23 15:25:44.000000000,,"[{'_account_id': 3}, {'_account_id': 1812}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11905}]","[{'number': 1, 'created': '2014-11-11 17:05:42.000000000', 'files': ['nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c333d71db722b2dfc56604ba77e4e9ffd3c81fb3', 'message': 'Code clean up db.instance_get_all_by_host()\n\nReplaces db.instance_get_all_by_host()\nwith objects.InstanceList.get_by_host()\n\nCloses-Bug: 1390483\nChange-Id: Ib299bad74a5952a95d22f587478ba82ced079558\n'}]",0,133761,c333d71db722b2dfc56604ba77e4e9ffd3c81fb3,11,10,1,13633,,,0,"Code clean up db.instance_get_all_by_host()

Replaces db.instance_get_all_by_host()
with objects.InstanceList.get_by_host()

Closes-Bug: 1390483
Change-Id: Ib299bad74a5952a95d22f587478ba82ced079558
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/133761/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,c333d71db722b2dfc56604ba77e4e9ffd3c81fb3,bug/1390483," return objects.InstanceList.get_by_host(context, host_name)"," return self.db.instance_get_all_by_host(context, host_name)",1,1
openstack%2Fnova~master~I2aeb397485699d3c0665b96fa76cb5a556659683,openstack/nova,master,I2aeb397485699d3c0665b96fa76cb5a556659683,VMWare: use OS clean shutdown for virtual machine,ABANDONED,2014-10-08 07:59:30.000000000,2015-01-23 15:25:39.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 7148}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-08 07:59:30.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/vmwareapi/vm_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6fe79f6f47ebc2915ded073d58acd7ed25cb5c3e', 'message': 'VMWare: use OS clean shutdown for virtual machine\n\nWith current vmware driver, it use method PowerOffVM_Task to\nexplicitly shutdown VM. This may cause data corruption if vm is\nwriting to the disk. It should be able to use os shutdown\ncommand to power off the vm gracefully if possible.\n\nChange-Id: I2aeb397485699d3c0665b96fa76cb5a556659683\nCloses-Bug: #1377781\n'}]",9,126833,6fe79f6f47ebc2915ded073d58acd7ed25cb5c3e,10,7,1,7148,,,0,"VMWare: use OS clean shutdown for virtual machine

With current vmware driver, it use method PowerOffVM_Task to
explicitly shutdown VM. This may cause data corruption if vm is
writing to the disk. It should be able to use os shutdown
command to power off the vm gracefully if possible.

Change-Id: I2aeb397485699d3c0665b96fa76cb5a556659683
Closes-Bug: #1377781
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/126833/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/vmwareapi/vm_util.py']",3,6fe79f6f47ebc2915ded073d58acd7ed25cb5c3e,bug/1377781,"import timedef _hard_power_off(session, vm_ref, instance): def power_off_instance(session, instance, vm_ref=None, timeout=0): """"""Power off the specified instance."""""" if vm_ref is None: vm_ref = get_vm_ref(session, instance) lst_properties = [""summary.guest.toolsStatus"", ""summary.guest.toolsRunningStatus""] props = session._call_method(vim_util, ""get_object_properties"", None, vm_ref, ""VirtualMachine"", lst_properties) query = get_values_from_object_properties(session, props) tools_status = query['summary.guest.toolsStatus'] tools_running_status = query['summary.guest.toolsRunningStatus'] if (tools_status == ""toolsOk"" and tools_running_status == ""guestToolsRunning""): LOG.debug(""Shutdown Guest OS"", instance=instance) session._call_method(session._get_vim(), ""ShutdownGuest"", vm_ref) time.sleep(timeout) vm_state = session._call_method(vim_util, ""get_dynamic_property"", ""PowerOffVM_Task"", vm_ref) if vm_state != 'poweredOff': _hard_power_off(session, vm_ref, instance) else: _hard_power_off(session, vm_ref, instance)","def power_off_instance(session, instance, vm_ref=None): """"""Power off the specified instance."""""" if vm_ref is None: vm_ref = get_vm_ref(session, instance) ",34,9
openstack%2Fnova~master~Icd960d07a1b4398c239f4d6a90f6101098d3fe2f,openstack/nova,master,Icd960d07a1b4398c239f4d6a90f6101098d3fe2f,Adding accepted traffic logging and ratelimiting,ABANDONED,2014-09-07 03:04:08.000000000,2015-01-23 15:25:37.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7130}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-09-07 03:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51eaaa0f7c8470f53903fd1d8f791738c4fbe7fb', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\ndropped traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with accepted_traffic_log_level\nlevel.\n* accepted_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n* packet_limit_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-loggin\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 2, 'created': '2014-09-07 03:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1fdd4651383c907185ba00ecbc3dad86ddb7b3dd', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\ndropped traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with accepted_traffic_log_level\nlevel.\n* accepted_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n* packet_limit_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-loggin\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 3, 'created': '2014-09-07 03:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae9dc6d169fe5fd06c0da35aa973ae509160c071', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\ndropped traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with accepted_traffic_log_level\nlevel.\n* accepted_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n* packet_limit_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-loggin\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 4, 'created': '2014-09-07 03:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27fc124d2c2d79e337710ff60063d77260e4b441', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with accepted_traffic_log_level\nlevel.\n* accepted_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n* packet_limit_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-loggin\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 5, 'created': '2014-09-07 03:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a4e6beb2b91216aa64d09ec439e239216b7fe37', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with accepted_traffic_log_level\nlevel.\n* accepted_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n* packet_limit_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-loggin\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 6, 'created': '2014-09-07 03:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1e197f89c9d23a2fdbde000de412fadcbb2dcd4', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with accepted_traffic_log_level\nlevel.\n* accepted_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n* packet_limit_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-loggin\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 7, 'created': '2014-09-07 03:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55c3ace69c12a32eab47862639e74fd3cdfd7ed1', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with accepted_traffic_log_level\nlevel.\n* accepted_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n* packet_limit_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-loggin\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 8, 'created': '2014-09-07 03:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/199daeef3a1c371b1c706f6c31798c5b5561276f', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with accepted_traffic_log_level\nlevel.\n* accepted_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n* packet_limit_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-loggin\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 9, 'created': '2014-09-07 03:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/48ae4312d654746c4f0a29081bdc681114632289', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with accepted_traffic_log_level\nlevel.\n* accepted_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n* packet_limit_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-loggin\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 10, 'created': '2014-09-07 05:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f242ede9710ae12637e36576a49eb59017b54026', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with accepted_traffic_log_level\nlevel.\n* accepted_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n* packet_limit_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-loggin\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 11, 'created': '2014-09-07 05:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1b477bc60e5c923d6564fbc5fa011bab64e3482', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with accepted_traffic_log_level\nlevel.\n* accepted_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n* packet_limit_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-loggin\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 12, 'created': '2014-09-07 05:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53a81ba7c20a489fbdee2e32341924034912c367', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with accepted_traffic_log_level\nlevel.\n* accepted_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n* packet_limit_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-loggin\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 13, 'created': '2014-09-07 05:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d305facba33da95f7ecf59308ec3c5562613cda9', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with accepted_traffic_log_level\nlevel.\n* accepted_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n* packet_limit_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-loggin\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 14, 'created': '2014-09-07 05:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec2fa596ff1e720367cecc00843f6587ba4b6467', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with accepted_traffic_log_level\nlevel.\n* accepted_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n* packet_limit_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-loggin\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 15, 'created': '2014-09-07 06:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7aeaddbc42d3dc2087892987cea8cba1dfc9cdd9', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\nWhen set to true, add firewall logging entry to each\nguest instances tagged with accepted_traffic_log_level\nlevel.\n* accepted_traffic_log_level: Integer\nThe level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n* packet_limit_rate: String\nThe parmeter accept the following format N/freq where\nN is an integer and freq is replaced by sec, min, hour or\nday\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-logging\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 16, 'created': '2014-09-07 06:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b855f41a1ad28078be01508294d4a9947afd658', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\n  When set to true, add firewall logging entry to each\n  guest instances tagged with accepted_traffic_log_level\n  level.\n* accepted_traffic_log_level: Integer\n  The level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n* packet_limit_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-logging\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 17, 'created': '2014-09-07 13:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3702d6f977c2fc5cbe7a9454897540a2746e2636', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\n  When set to true, add firewall logging entry to each\n  guest instances tagged with accepted_traffic_log_level\n  level.\n* accepted_traffic_log_level: Integer\n  The level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n* packet_limit_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-logging\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 18, 'created': '2014-09-07 13:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91c7c363281e48a22bfb9ee8cf98ddfcdd0e7a11', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\n  When set to true, add firewall logging entry to each\n  guest instances tagged with accepted_traffic_log_level\n  level.\n* accepted_traffic_log_level: Integer\n  The level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n* packet_limit_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-logging\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 19, 'created': '2014-09-08 01:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/391bc89eee45debb68fc7110d037cddd6a0a9471', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\n  When set to true, add firewall logging entry to each\n  guest instances tagged with accepted_traffic_log_level\n  level.\n* accepted_traffic_log_level: Integer\n  The level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n* packet_limit_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-logging\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 20, 'created': '2014-09-08 15:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce524254482bd82ef01112ab2ddc93e3c193458b', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\n  When set to true, add firewall logging entry to each\n  guest instances tagged with accepted_traffic_log_level\n  level.\n* accepted_traffic_log_level: Integer\n  The level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n* packet_limit_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-logging\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 21, 'created': '2014-09-09 06:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1859bb750459a8a332a6c0f4267ad8ef3e22e34e', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\n  When set to true, add firewall logging entry to each\n  guest instances tagged with accepted_traffic_log_level\n  level.\n* accepted_traffic_log_level: Integer\n  The level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n* packet_limit_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-logging\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 22, 'created': '2014-09-10 00:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea7612965c39f2d89beba337d500b862834be89f', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\n  When set to true, add firewall logging entry to each\n  guest instances tagged with accepted_traffic_log_level\n  level.\n* accepted_traffic_log_level: Integer\n  The level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n* packet_limit_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-logging\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 23, 'created': '2014-09-10 03:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/182f642ecae1b4adfbc13ddd733c6b12d8bebfc3', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\n  When set to true, add firewall logging entry to each\n  guest instances tagged with accepted_traffic_log_level\n  level.\n* accepted_traffic_log_level: Integer\n  The level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n* packet_limit_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-logging\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 24, 'created': '2014-09-10 20:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e583660f13dd962d1b4305dc35032aa037a97f19', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\n  When set to true, add firewall logging entry to each\n  guest instances tagged with accepted_traffic_log_level\n  level.\n* accepted_traffic_log_level: Integer\n  The level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n* packet_limit_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-logging\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}, {'number': 25, 'created': '2014-10-15 18:43:00.000000000', 'files': ['nova/tests/virt/libvirt/test_vif.py', 'nova/virt/firewall.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eff3a00ee9382006b71dd246215af1c2e4b41179', 'message': 'Adding accepted traffic logging and ratelimiting\n\nAdding 4 new configuration switches that would allow to log\naccepted traffic sent to a guest instance.\n\n* log_accepted_traffic: Bool\n  When set to true, add firewall logging entry to each\n  guest instances tagged with accepted_traffic_log_level\n  level.\n* accepted_traffic_log_level: Integer\n  The level ranges from 0 to 7 and 4 being the default.\n* accepted_traffic_logging_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n* packet_limit_rate: String\n  The parmeter accept the following format N/freq where\n  N is an integer and freq is replaced by sec, min, hour or\n  day\n\nDocImpact\nRelated-Bug: #1316271\nBlueprint: nova-compute-instance-traffic-logging\nChange-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f\n'}]",8,119589,eff3a00ee9382006b71dd246215af1c2e4b41179,94,10,25,7130,,,0,"Adding accepted traffic logging and ratelimiting

Adding 4 new configuration switches that would allow to log
accepted traffic sent to a guest instance.

* log_accepted_traffic: Bool
  When set to true, add firewall logging entry to each
  guest instances tagged with accepted_traffic_log_level
  level.
* accepted_traffic_log_level: Integer
  The level ranges from 0 to 7 and 4 being the default.
* accepted_traffic_logging_rate: String
  The parmeter accept the following format N/freq where
  N is an integer and freq is replaced by sec, min, hour or
  day
* packet_limit_rate: String
  The parmeter accept the following format N/freq where
  N is an integer and freq is replaced by sec, min, hour or
  day

DocImpact
Related-Bug: #1316271
Blueprint: nova-compute-instance-traffic-logging
Change-Id: Icd960d07a1b4398c239f4d6a90f6101098d3fe2f
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/119589/25 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/firewall.py'],1,51eaaa0f7c8470f53903fd1d8f791738c4fbe7fb,bp/nova-compute-instance-traffic-logging," cfg.BoolOpt('log_accepted_traffic', default=False, help='Log Accepted traffic (Default: False)'), cfg.IntOpt('accepted_traffic_log_level', default=4, help='Accepted traffic logging level (Default: 4)' 'Range 0 to 7'), cfg.StrOpt('accepted_traffic_logging_rate', default='', help='Rate limiting of accpeted packet (Default: none)' 'Accepts N/freq where N is an integer bigger than 0 ' 'and freq is in min, sec, hour or day'), cfg.StrOpt('packet_limit_rate', default='', help='Rate limiting of accepted packet (Default: none)' 'Accepts N/freq where N is an integer bigger than 0 ' 'and freq is in min, sec, hour or day'), if CONF.packet_limit_rate: args += '-m -limit', CONF.packet_limit_rate] if CONF.log_accepted_traffic: """""" not created yet """""" if CONF.packet_limit_rate: args += '-m -limit', CONF.packet_limit_rate] if CONF.log_accepted_traffic: """""" not created yet """""" ",,25,0
openstack%2Fnova~master~I2d2c1bf8b1b53da76dfc719b09216716ecc470b2,openstack/nova,master,I2d2c1bf8b1b53da76dfc719b09216716ecc470b2,Set delete_on_termination=True in image's block device mapping,ABANDONED,2014-10-31 16:35:11.000000000,2015-01-23 15:25:33.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7653}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-31 16:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f920b388ddfe95af88ec9118e062085a6cebf7ce', 'message': 'Set delete_on_termination=True in image\'s block device mapping\n\nWhen creating image from an instance that boot from volume, cinder\nwill snapshot the volume as an image, which will be uploaded to\nglance, the image should specify ""delete_on_termination"": True so\nthat the cinder volumes created for VMs booted from the image will\nbe cleaned up on VM deletion.\n\nChange-Id: I2d2c1bf8b1b53da76dfc719b09216716ecc470b2\n'}, {'number': 2, 'created': '2014-11-01 02:05:20.000000000', 'files': ['nova/tests/compute/test_compute_api.py', 'nova/tests/test_block_device.py', 'nova/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3f608447e99888eb221f146bf1bdd88978564862', 'message': 'Set delete_on_termination=True in image\'s block device mapping\n\nWhen creating image from an instance that boot from volume, cinder\nwill snapshot the volume as an image, which will be uploaded to\nglance, the image should specify ""delete_on_termination"": True so\nthat the cinder volumes created for VMs booted from the image will\nbe cleaned up on VM deletion.\n\nCloses-Bug: #1384386\n\nChange-Id: I2d2c1bf8b1b53da76dfc719b09216716ecc470b2\n'}]",2,132299,3f608447e99888eb221f146bf1bdd88978564862,28,9,2,7653,,,0,"Set delete_on_termination=True in image's block device mapping

When creating image from an instance that boot from volume, cinder
will snapshot the volume as an image, which will be uploaded to
glance, the image should specify ""delete_on_termination"": True so
that the cinder volumes created for VMs booted from the image will
be cleaned up on VM deletion.

Closes-Bug: #1384386

Change-Id: I2d2c1bf8b1b53da76dfc719b09216716ecc470b2
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/132299/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/test_block_device.py', 'nova/block_device.py']",2,f920b388ddfe95af88ec9118e062085a6cebf7ce,Bug1384386," 'delete_on_termination': True,",,2,0
openstack%2Fnova~master~I0d560d0fc0f8f5d4618676efbd95534e7556b2c6,openstack/nova,master,I0d560d0fc0f8f5d4618676efbd95534e7556b2c6,Exclude 'down' compute node from hypervisor-stats,ABANDONED,2014-10-22 17:50:34.000000000,2015-01-23 15:25:32.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8574}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-22 17:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f493c9ec1780aad7216073862dc6ab84a9654e4', 'message': 'Exclude \'down\' compute node from hypervisor-stats\n\n""nova hypervisor-stats"" returns the total number of memory and\nvcpus even though some compute nodase are down. Need to exclude\nthose compute nodes which are in down state, in order to make the\nstatistical data accurate\n\nChange-Id: I0d560d0fc0f8f5d4618676efbd95534e7556b2c6\nCloses-Bug: 1326147\n'}, {'number': 2, 'created': '2014-10-23 07:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/173bcda672a7ff30d329d61d1e1ad14e67fa8bb0', 'message': 'Exclude \'down\' compute node from hypervisor-stats\n\n""nova hypervisor-stats"" returns the total number of memory and\nvcpus even though some compute nodase are down. Need to exclude\nthose compute nodes which are in down state, in order to make the\nstatistical data accurate\n\nChange-Id: I0d560d0fc0f8f5d4618676efbd95534e7556b2c6\nCloses-Bug: 1326147\n'}, {'number': 3, 'created': '2014-10-23 08:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3f579971bc9bf4c592620a78b1270cfd00a2f9d', 'message': 'Exclude \'down\' compute node from hypervisor-stats\n\n""nova hypervisor-stats"" returns the total number of memory and\nvcpus even though some compute nodase are down. Need to exclude\nthose compute nodes which are in down state, in order to make the\nstatistical data accurate\n\nChange-Id: I0d560d0fc0f8f5d4618676efbd95534e7556b2c6\nCloses-Bug: 1326147\n'}, {'number': 4, 'created': '2014-11-19 10:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19c2c9fed23f772511e964417a83787cfb6bcead', 'message': 'Exclude \'down\' compute node from hypervisor-stats\n\n""nova hypervisor-stats"" returns the total number of memory and\nvcpus even though some compute nodase are down. Need to exclude\nthose compute nodes which are in down state, in order to make the\nstatistical data accurate\n\nChange-Id: I0d560d0fc0f8f5d4618676efbd95534e7556b2c6\nCloses-Bug: 1326147\n'}, {'number': 5, 'created': '2014-11-19 10:47:15.000000000', 'files': ['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/15f60510bda89838de2bf4be2f38d538188984eb', 'message': 'Exclude \'down\' compute node from hypervisor-stats\n\n""nova hypervisor-stats"" returns the total number of memory and\nvcpus even though some compute nodase are down. Need to exclude\nthose compute nodes which are in down state, in order to make the\nstatistical data accurate\n\nChange-Id: I0d560d0fc0f8f5d4618676efbd95534e7556b2c6\nCloses-Bug: 1326147\n'}]",2,130289,15f60510bda89838de2bf4be2f38d538188984eb,34,9,5,8574,,,0,"Exclude 'down' compute node from hypervisor-stats

""nova hypervisor-stats"" returns the total number of memory and
vcpus even though some compute nodase are down. Need to exclude
those compute nodes which are in down state, in order to make the
statistical data accurate

Change-Id: I0d560d0fc0f8f5d4618676efbd95534e7556b2c6
Closes-Bug: 1326147
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/130289/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",2,3f493c9ec1780aad7216073862dc6ab84a9654e4,bug/1326147,"CONF.import_opt('service_down_time', 'nova.service') # Calculate cut-off time in order to filter out compute nodes in down state delta = datetime.timedelta(seconds = CONF.service_down_time) deadline = timeutils.utcnow() - delta filter(models.Service.updated_at >= deadline).\",,17,1
openstack%2Fnova~master~I5a12324e3e20def222842545f8b0fb488a363b4c,openstack/nova,master,I5a12324e3e20def222842545f8b0fb488a363b4c,Xenapi: refactor _find_vdi_refs and lookup_vm_vdis,ABANDONED,2014-04-22 16:29:04.000000000,2015-01-23 15:25:28.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 100}, {'_account_id': 679}, {'_account_id': 688}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 8430}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-22 16:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44c9b84be8970281e1b858575b0c5c15cea0320c', 'message': ""Xenapi: refactor _find_vdi_refs and lookup_vm_vdis\n\nThe two functions look to be doing the same thing and we really don't\nneed two implementations.  This change works to remove the\nlookup_vm_vdis implementation, but keep it's name.\n\nTest cases are adjusted to handle passing dictionary instead or list.\n\nChange-Id: I5a12324e3e20def222842545f8b0fb488a363b4c\nCloses-bug: 1311197\n""}, {'number': 2, 'created': '2014-04-22 16:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f03adb4be545876fca8fceb0ca475530025b2b57', 'message': ""Xenapi: refactor _find_vdi_refs and lookup_vm_vdis\n\nThe two functions look to be doing the same thing and we really don't\nneed two implementations.  This change works to remove the\nlookup_vm_vdis implementation, but keep it's name.\n\nTest cases are adjusted to handle passing dictionary instead or list.\n\nChange-Id: I5a12324e3e20def222842545f8b0fb488a363b4c\nCloses-bug: 1311197\n""}, {'number': 3, 'created': '2014-04-23 03:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1c0e7f25cf3705a78bdb6f328ac05aa0951a17b', 'message': ""Xenapi: refactor _find_vdi_refs and lookup_vm_vdis\n\nThe two functions look to be doing the same thing and we really don't\nneed two implementations.  This change works to remove the\nlookup_vm_vdis implementation, but keep it's name.\n\nTest cases are adjusted to handle passing dictionary instead of list.\n\nChange-Id: I5a12324e3e20def222842545f8b0fb488a363b4c\nCloses-bug: 1311197\n""}, {'number': 4, 'created': '2014-04-23 19:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0e59b0da7cc3dff60118ae5126be128d647ded7', 'message': ""Xenapi: refactor _find_vdi_refs and lookup_vm_vdis\n\nThe two functions look to be doing the same thing and we really don't\nneed two implementations.  This change works to remove the\nlookup_vm_vdis implementation, but keep it's name.\n\nTest cases are adjusted to handle passing dictionary instead of list.\nAlso added tests cases for lookup_vm_vdis.\n\nChange-Id: I5a12324e3e20def222842545f8b0fb488a363b4c\nCloses-bug: 1311197\n""}, {'number': 5, 'created': '2014-07-14 20:07:58.000000000', 'files': ['nova/virt/xenapi/vm_utils.py', 'nova/virt/xenapi/vmops.py', 'nova/tests/virt/xenapi/test_vmops.py', 'nova/tests/virt/xenapi/test_vm_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a89bdb31176327c5e131f4d9f895cddc0639e70c', 'message': ""Xenapi: refactor _find_vdi_refs and lookup_vm_vdis\n\nThe two functions look to be doing the same thing and we really don't\nneed two implementations.  This change works to remove the\nlookup_vm_vdis implementation, but keep it's name.\n\nTest cases are adjusted to handle passing dictionary instead of list.\nAlso added tests cases for lookup_vm_vdis.\n\nChange-Id: I5a12324e3e20def222842545f8b0fb488a363b4c\nCloses-bug: 1311197\n""}]",6,89634,a89bdb31176327c5e131f4d9f895cddc0639e70c,56,13,5,8430,,,0,"Xenapi: refactor _find_vdi_refs and lookup_vm_vdis

The two functions look to be doing the same thing and we really don't
need two implementations.  This change works to remove the
lookup_vm_vdis implementation, but keep it's name.

Test cases are adjusted to handle passing dictionary instead of list.
Also added tests cases for lookup_vm_vdis.

Change-Id: I5a12324e3e20def222842545f8b0fb488a363b4c
Closes-bug: 1311197
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/89634/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/xenapi/vm_utils.py', 'nova/virt/xenapi/vmops.py', 'nova/tests/virt/xenapi/test_vmops.py']",3,44c9b84be8970281e1b858575b0c5c15cea0320c,bug/1311197," self.mox.StubOutWithMock(vm_utils, 'lookup_vm_vdis') vm_utils.lookup_vm_vdis(self.vmops._session, ""ref"", exclude_volumes=True).AndReturn(vbd_refs)"," self.mox.StubOutWithMock(self.vmops, '_find_vdi_refs') self.vmops._find_vdi_refs(""ref"", exclude_volumes=True).AndReturn( vbd_refs)",24,40
openstack%2Fnova~master~I03336da3b617f4f53d4f5a695d8ab75732c58685,openstack/nova,master,I03336da3b617f4f53d4f5a695d8ab75732c58685,Update quota when instance stuck to DELETING,ABANDONED,2014-04-23 07:26:37.000000000,2015-01-23 15:25:27.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 8430}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-04-23 07:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/931d60bdcf5604f34e2f1abbdfc083c31c5cb66b', 'message': ""Update quota when instance stuck to DELETING\n\nThe only place we ever update quotas as part of delete should\nbe when the instance DB record is removed. If something is\nstuck in DELETING, it means that the quota was not updated.\nWe should make sure we're always updating the quota when\nthe instance DB record is removed.\n\nChange-Id: I03336da3b617f4f53d4f5a695d8ab75732c58685\nPartial-Bug: #1296414\n""}, {'number': 2, 'created': '2014-04-23 12:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0613ecb4a9d77982ca3c06a65fcc382e21a99221', 'message': ""Update quota when instance stuck to DELETING\n\nThe only place we ever update quotas as part of delete should\nbe when the instance DB record is removed. If something is\nstuck in DELETING, it means that the quota was not updated.\nWe should make sure we're always updating the quota when\nthe instance DB record is removed.\n\nChange-Id: I03336da3b617f4f53d4f5a695d8ab75732c58685\nPartial-Bug: #1296414\n""}, {'number': 3, 'created': '2014-07-03 06:20:33.000000000', 'files': ['nova/tests/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/54d8e7ee7e76a2374d3150566295f8ccff4b0697', 'message': ""Update quota when instance stuck to DELETING\n\nThe only place we ever update quotas as part of delete should\nbe when the instance DB record is removed. If something is\nstuck in DELETING, it means that the quota was not updated.\nWe should make sure we're always updating the quota when\nthe instance DB record is removed.\n\nChange-Id: I03336da3b617f4f53d4f5a695d8ab75732c58685\nPartial-Bug: #1296414\n""}]",4,89761,54d8e7ee7e76a2374d3150566295f8ccff4b0697,43,11,3,6062,,,0,"Update quota when instance stuck to DELETING

The only place we ever update quotas as part of delete should
be when the instance DB record is removed. If something is
stuck in DELETING, it means that the quota was not updated.
We should make sure we're always updating the quota when
the instance DB record is removed.

Change-Id: I03336da3b617f4f53d4f5a695d8ab75732c58685
Partial-Bug: #1296414
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/89761/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,931d60bdcf5604f34e2f1abbdfc083c31c5cb66b,bug/1296414,"from nova import quotaQUOTAS = quota.QUOTAS project_id, user_id = quotas_obj.ids_from_instance(context, instance) instance_vcpus = instance['vcpus'] instance_memory_mb = instance['memory_mb'] reservations = QUOTAS.reserve(context, project_id=project_id, user_id=user_id, instances=-1, cores=-instance_vcpus, ram=-instance_memory_mb) context, reservations, instance=instance)"," # FIXME(comstud): This needs fixed. We should be creating # reservations and updating quotas, because quotas # wouldn't have been updated for this instance since it is # still in DELETING. See bug 1296414. # # Create a dummy quota object for now. context, None, instance=instance)",33,7
openstack%2Fnova~master~I6432c208a3ded2e5ab9e19223daf134f15718bf3,openstack/nova,master,I6432c208a3ded2e5ab9e19223daf134f15718bf3,Moves node resource tests to a separate testcase,ABANDONED,2014-11-18 11:11:55.000000000,2015-01-23 15:25:26.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5263}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12527}]","[{'number': 1, 'created': '2014-11-18 11:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2c53cc113383f7f5d0ebeb4934feedcdf5f2e61', 'message': 'Moves node resource tests to a separate testcase\n\nAs an effort to split the Nova driver test cases, this patch\nmoves node resource to its own testcase class. The testscenarios module\nwas used since the tests share the same test routine.\n\nPartial-bug: 1325906\n\nChange-Id: I6432c208a3ded2e5ab9e19223daf134f15718bf3\n'}, {'number': 2, 'created': '2014-11-19 09:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ff0d84a1d37bc391bd5c26f51ee8d80bfbf5980', 'message': 'Moves node resource tests to a separate testcase\n\nAs an effort to split the Nova driver test cases, this patch\nmoves node resource to its own testcase class. The testscenarios module\nwas used since the tests share the same test routine.\n\nPartial-bug: 1325906\n\nChange-Id: I6432c208a3ded2e5ab9e19223daf134f15718bf3\n'}, {'number': 3, 'created': '2014-11-19 10:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc2474dffd0fe314ec18bee65208695b34a49fc4', 'message': 'Moves node resource tests to a separate testcase\n\nAs an effort to split the Nova driver test cases, this patch\nmoves node resource to its own testcase class. The testscenarios module\nwas used since the tests share the same test routine.\n\nPartial-bug: 1325906\n\nChange-Id: I6432c208a3ded2e5ab9e19223daf134f15718bf3\n'}, {'number': 4, 'created': '2014-11-19 10:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/022b49c93f8ab89994daaa6a8ee8f01db17e523e', 'message': 'Moves node resource tests to a separate testcase\n\nAs an effort  to split the Nova driver test cases, this patch\nmoves node resource to its own testcase class. The testscenarios module\nwas used since the tests share the same test routine.\n\nPartial-bug: 1325906\n\nChange-Id: I6432c208a3ded2e5ab9e19223daf134f15718bf3\n'}, {'number': 5, 'created': '2014-11-20 06:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10d8852959e3fa0a4f5fa300c6c96080d852cdf9', 'message': 'Moves node resource tests to a separate testcase\n\nAs an effort  to split the Nova driver test cases, this patch\nmoves node resource to its own testcase class. The testscenarios module\nwas used since the tests share the same test routine.\n\nPartial-bug: 1325906\n\nChange-Id: I6432c208a3ded2e5ab9e19223daf134f15718bf3\n'}, {'number': 6, 'created': '2014-11-20 16:07:55.000000000', 'files': ['nova/tests/unit/virt/ironic/test_driver.py', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/16bdc9aa6b212bc97bc9b5c76e341523ad74d989', 'message': 'Moves node resource tests to a separate testcase\n\nAs an effort  to split the Nova driver test cases, this patch\nmoves node resource to its own testcase class. The testscenarios module\nwas used since the tests share the same test routine.\n\nPartial-bug: 1325906\nChange-Id: I6432c208a3ded2e5ab9e19223daf134f15718bf3\n'}]",5,135230,16bdc9aa6b212bc97bc9b5c76e341523ad74d989,36,10,6,12527,,,0,"Moves node resource tests to a separate testcase

As an effort  to split the Nova driver test cases, this patch
moves node resource to its own testcase class. The testscenarios module
was used since the tests share the same test routine.

Partial-bug: 1325906
Change-Id: I6432c208a3ded2e5ab9e19223daf134f15718bf3
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/135230/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/ironic/test_driver.py', 'test-requirements.txt']",2,b2c53cc113383f7f5d0ebeb4934feedcdf5f2e61,bug/1325906,testscenarios>=0.4,,68,65
openstack%2Fnova~master~I8367e34aeac31632e056fffea0f58afe0d8d62db,openstack/nova,master,I8367e34aeac31632e056fffea0f58afe0d8d62db,Fix novnc functions broken for python under 2.7.4,ABANDONED,2014-11-20 06:40:57.000000000,2015-01-23 15:25:20.000000000,,"[{'_account_id': 3}, {'_account_id': 1812}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9420}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11114}]","[{'number': 1, 'created': '2014-11-20 06:40:57.000000000', 'files': ['nova/console/websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a6d9227e5a17a8f7b7f9d58d64d91dfdcb5b69e4', 'message': ""Fix novnc functions broken for python under 2.7.4\n\nRecently commit Ib6e0fc4e50c1ea144a9c538099e23597d66b429b\nhad made an explicit python version check for vnc function. This will\nbreak the novnc functions for python under 2.7.4.\n\nThere are two problems for it:\n1) The self.path argument will always be a relative path from the python\nhttp basic module. If novnc, it will be 'websockify'. Hence, parse.scheme\nwill be always being empty.\n2) Using python version to determine function compatible seems not to be\nvery appropariate. For example, Redhat 6.5 will ship with python2.6.6\nbut it already patched with urllibparse fix.\n\nWe should remove the version check for this part.\n\nCloses-Bug: #1388351\nChange-Id: I8367e34aeac31632e056fffea0f58afe0d8d62db\n""}]",1,135862,a6d9227e5a17a8f7b7f9d58d64d91dfdcb5b69e4,12,11,1,7148,,,0,"Fix novnc functions broken for python under 2.7.4

Recently commit Ib6e0fc4e50c1ea144a9c538099e23597d66b429b
had made an explicit python version check for vnc function. This will
break the novnc functions for python under 2.7.4.

There are two problems for it:
1) The self.path argument will always be a relative path from the python
http basic module. If novnc, it will be 'websockify'. Hence, parse.scheme
will be always being empty.
2) Using python version to determine function compatible seems not to be
very appropariate. For example, Redhat 6.5 will ship with python2.6.6
but it already patched with urllibparse fix.

We should remove the version check for this part.

Closes-Bug: #1388351
Change-Id: I8367e34aeac31632e056fffea0f58afe0d8d62db
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/135862/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/console/websocketproxy.py'],1,a6d9227e5a17a8f7b7f9d58d64d91dfdcb5b69e4,bug/1388351,," if parse.scheme not in ('http', 'https'): # From a bug in urlparse in Python < 2.7.4 we cannot support # special schemes (cf: http://bugs.python.org/issue9374) if sys.version_info < (2, 7, 4): raise exception.NovaException( _(""We do not support scheme '%s' under Python < 2.7.4, "" ""please use http or https"") % parse.scheme) ",0,8
openstack%2Fnova~master~I209b78d825c1b9f505cc67d3f7e94149331d79e5,openstack/nova,master,I209b78d825c1b9f505cc67d3f7e94149331d79e5,Splits version API samples out into separate file,ABANDONED,2014-09-23 00:37:15.000000000,2015-01-23 15:25:19.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}]","[{'number': 1, 'created': '2014-09-23 00:37:15.000000000', 'files': ['nova/tests/integrated/api_samples/test_versions.py', 'nova/tests/integrated/test_api_samples.py', 'nova/tests/integrated/api_samples/__init__.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/45c4a1aa478899e161711a50c000eaca5c2f9a25', 'message': 'Splits version API samples out into separate file\n\nSimply relocates the API sample tests for the version resource out of\ntest_api_samples.py and into its own test file.\n\nChange-Id: I209b78d825c1b9f505cc67d3f7e94149331d79e5\n'}]",0,123297,45c4a1aa478899e161711a50c000eaca5c2f9a25,13,6,1,7,,,0,"Splits version API samples out into separate file

Simply relocates the API sample tests for the version resource out of
test_api_samples.py and into its own test file.

Change-Id: I209b78d825c1b9f505cc67d3f7e94149331d79e5
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/123297/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/integrated/api_samples/test_versions.py', 'nova/tests/integrated/test_api_samples.py', 'nova/tests/integrated/api_samples/__init__.py']",3,45c4a1aa478899e161711a50c000eaca5c2f9a25,func-test-split,,,24,11
openstack%2Fnova~master~I661de3656d5213c7808caf02a618e7d7a5464026,openstack/nova,master,I661de3656d5213c7808caf02a618e7d7a5464026,Move tests of API extensions to own file,ABANDONED,2014-09-23 00:37:15.000000000,2015-01-23 15:25:18.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}]","[{'number': 1, 'created': '2014-09-23 00:37:15.000000000', 'files': ['nova/tests/integrated/api_samples/test_extensions.py', 'nova/tests/integrated/test_api_samples.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9ff266170f0a2536fea6d65f8aff4c22fd6dbef5', 'message': 'Move tests of API extensions to own file\n\nMoves tests of the extensions/ API resource to own file. Also moves the\ntrap test for untested API extensions into this file, and in the\nprocess, slightly updates the test to look in the api_samples/ directory\nfor test classes instead of relying on the globals() of the\ntest_api_samples module, which previously contained all API sample\ntests.\n\nChange-Id: I661de3656d5213c7808caf02a618e7d7a5464026\n'}]",0,123298,9ff266170f0a2536fea6d65f8aff4c22fd6dbef5,15,6,1,7,,,0,"Move tests of API extensions to own file

Moves tests of the extensions/ API resource to own file. Also moves the
trap test for untested API extensions into this file, and in the
process, slightly updates the test to look in the api_samples/ directory
for test classes instead of relying on the globals() of the
test_api_samples module, which previously contained all API sample
tests.

Change-Id: I661de3656d5213c7808caf02a618e7d7a5464026
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/123298/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/integrated/api_samples/test_extensions.py', 'nova/tests/integrated/test_api_samples.py']",2,9ff266170f0a2536fea6d65f8aff4c22fd6dbef5,func-test-split,,"import inspectfrom nova.openstack.common import importutilsfrom nova.tests.integrated import integrated_helpersclass ApiSamplesTrap(base.ApiSampleTestBaseV2): """"""Make sure extensions don't get added without tests."""""" all_extensions = True def _get_extensions_tested(self): tests = [] for attr in globals().values(): if not inspect.isclass(attr): continue # Skip non-class objects if not issubclass(attr, integrated_helpers._IntegratedTestBase): continue # Skip non-test classes if attr.extension_name is None: continue # Skip base tests cls = importutils.import_class(attr.extension_name) tests.append(cls.alias) return tests def _get_extensions(self): extensions = [] response = self._do_get('extensions') for extension in jsonutils.loads(response.read())['extensions']: extensions.append(str(extension['alias'])) return extensions def test_all_extensions_have_samples(self): # NOTE(danms): This is a list of extensions which are currently # in the tree but that don't (yet) have tests. This list should # NOT be allowed to grow, and should shrink to zero (and be # removed) soon. do_not_approve_additions = [] do_not_approve_additions.append('os-create-server-ext') tests = self._get_extensions_tested() extensions = self._get_extensions() missing_tests = [] for extension in extensions: # NOTE(danms): if you add tests, remove it from the # exclusions list self.assertFalse(extension in do_not_approve_additions and extension in tests) # NOTE(danms): if you add an extension, it must come with # api_samples tests! if (extension not in tests and extension not in do_not_approve_additions): missing_tests.append(extension) if missing_tests: LOG.error(""Extensions are missing tests: %s"" % missing_tests) self.assertEqual(missing_tests, []) class ExtensionsSampleJsonTest(base.ApiSampleTestBaseV2): all_extensions = True def test_extensions_get(self): response = self._do_get('extensions') subs = self._get_regexes() self._verify_response('extensions-get-resp', subs, response, 200) class ExtensionsSampleXmlTest(ExtensionsSampleJsonTest): ctype = 'xml' ",112,69
openstack%2Fnova~master~Ie482d8cdb7a6607772a977bfb31f4fbbcca14cf1,openstack/nova,master,Ie482d8cdb7a6607772a977bfb31f4fbbcca14cf1,Move flavor API sample tests into own file,ABANDONED,2014-09-23 00:37:15.000000000,2015-01-23 15:25:17.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}]","[{'number': 1, 'created': '2014-09-23 00:37:15.000000000', 'files': ['nova/tests/integrated/test_api_samples.py', 'nova/tests/integrated/api_samples/test_flavors.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6e15962efb6398fe1162f4eafba3a1632959c34c', 'message': 'Move flavor API sample tests into own file\n\nMoves the flavor-related API sample tests (including extensions) into\nits own API sample test file in the /nova/tests/integrated/api_samples/\ndirectory.\n\nChange-Id: Ie482d8cdb7a6607772a977bfb31f4fbbcca14cf1\n'}]",0,123299,6e15962efb6398fe1162f4eafba3a1632959c34c,14,6,1,7,,,0,"Move flavor API sample tests into own file

Moves the flavor-related API sample tests (including extensions) into
its own API sample test file in the /nova/tests/integrated/api_samples/
directory.

Change-Id: Ie482d8cdb7a6607772a977bfb31f4fbbcca14cf1
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/123299/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/integrated/test_api_samples.py', 'nova/tests/integrated/api_samples/test_flavors.py']",2,6e15962efb6398fe1162f4eafba3a1632959c34c,func-test-split,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo.config import cfg from nova.tests.integrated import api_samples_test_base as base CONF = cfg.CONF class FlavorsSampleJsonTest(base.ApiSampleTestBaseV2): def test_flavors_get(self): response = self._do_get('flavors/1') subs = self._get_regexes() self._verify_response('flavor-get-resp', subs, response, 200) def test_flavors_list(self): response = self._do_get('flavors') subs = self._get_regexes() self._verify_response('flavors-list-resp', subs, response, 200) class FlavorsSampleXmlTest(FlavorsSampleJsonTest): ctype = 'xml' class FlavorsSampleAllExtensionJsonTest(FlavorsSampleJsonTest): all_extensions = True class FlavorsSampleAllExtensionXmlTest(FlavorsSampleXmlTest): all_extensions = True class FlavorsExtraDataJsonTest(base.ApiSampleTestBaseV2): extension_name = ('nova.api.openstack.compute.contrib.flavorextradata.' 'Flavorextradata') def _get_flags(self): f = super(FlavorsExtraDataJsonTest, self)._get_flags() f['osapi_compute_extension'] = CONF.osapi_compute_extension[:] # Flavorextradata extension also needs Flavormanage to be loaded. f['osapi_compute_extension'].append( 'nova.api.openstack.compute.contrib.flavormanage.Flavormanage') return f def test_flavors_extra_data_get(self): flavor_id = 1 response = self._do_get('flavors/%s' % flavor_id) subs = { 'flavor_id': flavor_id, 'flavor_name': 'm1.tiny' } subs.update(self._get_regexes()) self._verify_response('flavors-extra-data-get-resp', subs, response, 200) def test_flavors_extra_data_list(self): response = self._do_get('flavors/detail') subs = self._get_regexes() self._verify_response('flavors-extra-data-list-resp', subs, response, 200) def test_flavors_extra_data_create(self): subs = { 'flavor_id': 666, 'flavor_name': 'flavortest' } response = self._do_post('flavors', 'flavors-extra-data-post-req', subs) subs.update(self._get_regexes()) self._verify_response('flavors-extra-data-post-resp', subs, response, 200) class FlavorsExtraDataXmlTest(FlavorsExtraDataJsonTest): ctype = 'xml' class FlavorRxtxJsonTest(base.ApiSampleTestBaseV2): extension_name = ('nova.api.openstack.compute.contrib.flavor_rxtx.' 'Flavor_rxtx') def _get_flags(self): f = super(FlavorRxtxJsonTest, self)._get_flags() f['osapi_compute_extension'] = CONF.osapi_compute_extension[:] # FlavorRxtx extension also needs Flavormanage to be loaded. f['osapi_compute_extension'].append( 'nova.api.openstack.compute.contrib.flavormanage.Flavormanage') return f def test_flavor_rxtx_get(self): flavor_id = 1 response = self._do_get('flavors/%s' % flavor_id) subs = { 'flavor_id': flavor_id, 'flavor_name': 'm1.tiny' } subs.update(self._get_regexes()) self._verify_response('flavor-rxtx-get-resp', subs, response, 200) def test_flavors_rxtx_list(self): response = self._do_get('flavors/detail') subs = self._get_regexes() self._verify_response('flavor-rxtx-list-resp', subs, response, 200) def test_flavors_rxtx_create(self): subs = { 'flavor_id': 100, 'flavor_name': 'flavortest' } response = self._do_post('flavors', 'flavor-rxtx-post-req', subs) subs.update(self._get_regexes()) self._verify_response('flavor-rxtx-post-resp', subs, response, 200) class FlavorRxtxXmlTest(FlavorRxtxJsonTest): ctype = 'xml' class FlavorSwapJsonTest(base.ApiSampleTestBaseV2): extension_name = ('nova.api.openstack.compute.contrib.flavor_swap.' 'Flavor_swap') def _get_flags(self): f = super(FlavorSwapJsonTest, self)._get_flags() f['osapi_compute_extension'] = CONF.osapi_compute_extension[:] # FlavorSwap extension also needs Flavormanage to be loaded. f['osapi_compute_extension'].append( 'nova.api.openstack.compute.contrib.flavormanage.Flavormanage') return f def test_flavor_swap_get(self): flavor_id = 1 response = self._do_get('flavors/%s' % flavor_id) subs = { 'flavor_id': flavor_id, 'flavor_name': 'm1.tiny' } subs.update(self._get_regexes()) self._verify_response('flavor-swap-get-resp', subs, response, 200) def test_flavor_swap_list(self): response = self._do_get('flavors/detail') subs = self._get_regexes() self._verify_response('flavor-swap-list-resp', subs, response, 200) def test_flavor_swap_create(self): subs = { 'flavor_id': 100, 'flavor_name': 'flavortest' } response = self._do_post('flavors', 'flavor-swap-post-req', subs) subs.update(self._get_regexes()) self._verify_response('flavor-swap-post-resp', subs, response, 200) class FlavorSwapXmlTest(FlavorSwapJsonTest): ctype = 'xml' class FlavorManageSampleJsonTests(base.ApiSampleTestBaseV2): extension_name = (""nova.api.openstack.compute.contrib.flavormanage."" ""Flavormanage"") def _create_flavor(self): """"""Create a flavor."""""" subs = { 'flavor_id': 10, 'flavor_name': ""test_flavor"" } response = self._do_post(""flavors"", ""flavor-create-post-req"", subs) subs.update(self._get_regexes()) self._verify_response(""flavor-create-post-resp"", subs, response, 200) def test_create_flavor(self): # Get api sample to create a flavor. self._create_flavor() def test_delete_flavor(self): # Get api sample to delete a flavor. self._create_flavor() response = self._do_delete(""flavors/10"") self.assertEqual(response.status, 202) self.assertEqual(response.read(), '') class FlavorManageSampleXmlTests(FlavorManageSampleJsonTests): ctype = ""xml"" class FlavorDisabledSampleJsonTests(base.ApiSampleTestBaseV2): extension_name = (""nova.api.openstack.compute.contrib.flavor_disabled."" ""Flavor_disabled"") def test_show_flavor(self): # Get api sample to show flavor_disabled attr. of a flavor. flavor_id = 1 response = self._do_get('flavors/%s' % flavor_id) subs = self._get_regexes() subs['flavor_id'] = flavor_id self._verify_response('flavor-show-get-resp', subs, response, 200) def test_detail_flavor(self): # Get api sample to show details of a flavor. response = self._do_get('flavors/detail') subs = self._get_regexes() self._verify_response('flavor-detail-get-resp', subs, response, 200) class FlavorDisabledSampleXmlTests(FlavorDisabledSampleJsonTests): ctype = ""xml"" class FlavorExtraSpecsSampleJsonTests(base.ApiSampleTestBaseV2): extension_name = (""nova.api.openstack.compute.contrib.flavorextraspecs."" ""Flavorextraspecs"") def _flavor_extra_specs_create(self): subs = {'value1': 'value1', 'value2': 'value2' } response = self._do_post('flavors/1/os-extra_specs', 'flavor-extra-specs-create-req', subs) self._verify_response('flavor-extra-specs-create-resp', subs, response, 200) def test_flavor_extra_specs_get(self): subs = {'value1': 'value1'} self._flavor_extra_specs_create() response = self._do_get('flavors/1/os-extra_specs/key1') self._verify_response('flavor-extra-specs-get-resp', subs, response, 200) def test_flavor_extra_specs_list(self): subs = {'value1': 'value1', 'value2': 'value2' } self._flavor_extra_specs_create() response = self._do_get('flavors/1/os-extra_specs') self._verify_response('flavor-extra-specs-list-resp', subs, response, 200) def test_flavor_extra_specs_create(self): self._flavor_extra_specs_create() def test_flavor_extra_specs_update(self): subs = {'value1': 'new_value1'} self._flavor_extra_specs_create() response = self._do_put('flavors/1/os-extra_specs/key1', 'flavor-extra-specs-update-req', subs) self._verify_response('flavor-extra-specs-update-resp', subs, response, 200) def test_flavor_extra_specs_delete(self): self._flavor_extra_specs_create() response = self._do_delete('flavors/1/os-extra_specs/key1') self.assertEqual(response.status, 200) self.assertEqual(response.read(), '') class FlavorExtraSpecsSampleXmlTests(FlavorExtraSpecsSampleJsonTests): ctype = 'xml' class FlavorAccessSampleJsonTests(base.ApiSampleTestBaseV2): extension_name = (""nova.api.openstack.compute.contrib.flavor_access."" ""Flavor_access"") def _get_flags(self): f = super(FlavorAccessSampleJsonTests, self)._get_flags() f['osapi_compute_extension'] = CONF.osapi_compute_extension[:] # FlavorAccess extension also needs Flavormanage to be loaded. f['osapi_compute_extension'].append( 'nova.api.openstack.compute.contrib.flavormanage.Flavormanage') return f def _add_tenant(self): subs = { 'tenant_id': 'fake_tenant', 'flavor_id': 10 } response = self._do_post('flavors/10/action', 'flavor-access-add-tenant-req', subs) self._verify_response('flavor-access-add-tenant-resp', subs, response, 200) def _create_flavor(self): subs = { 'flavor_id': 10, 'flavor_name': 'test_flavor' } response = self._do_post(""flavors"", ""flavor-access-create-req"", subs) subs.update(self._get_regexes()) self._verify_response(""flavor-access-create-resp"", subs, response, 200) def test_flavor_access_create(self): self._create_flavor() def test_flavor_access_detail(self): response = self._do_get('flavors/detail') subs = self._get_regexes() self._verify_response('flavor-access-detail-resp', subs, response, 200) def test_flavor_access_list(self): self._create_flavor() self._add_tenant() flavor_id = 10 response = self._do_get('flavors/%s/os-flavor-access' % flavor_id) subs = { 'flavor_id': flavor_id, 'tenant_id': 'fake_tenant', } self._verify_response('flavor-access-list-resp', subs, response, 200) def test_flavor_access_show(self): flavor_id = 1 response = self._do_get('flavors/%s' % flavor_id) subs = { 'flavor_id': flavor_id } subs.update(self._get_regexes()) self._verify_response('flavor-access-show-resp', subs, response, 200) def test_flavor_access_add_tenant(self): self._create_flavor() self._add_tenant() def test_flavor_access_remove_tenant(self): self._create_flavor() self._add_tenant() subs = { 'tenant_id': 'fake_tenant', } response = self._do_post('flavors/10/action', ""flavor-access-remove-tenant-req"", subs) exp_subs = { ""tenant_id"": self.api.project_id, ""flavor_id"": ""10"" } self._verify_response('flavor-access-remove-tenant-resp', exp_subs, response, 200) class FlavorAccessSampleXmlTests(FlavorAccessSampleJsonTests): ctype = 'xml' ",,367,350
openstack%2Fnova~master~Idb2b8b3d0f1fe70ad425cba4b9e08e27119a1c7a,openstack/nova,master,Idb2b8b3d0f1fe70ad425cba4b9e08e27119a1c7a,Move images API sample tests into own file,ABANDONED,2014-09-23 00:37:15.000000000,2015-01-23 15:25:16.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}]","[{'number': 1, 'created': '2014-09-23 00:37:15.000000000', 'files': ['nova/tests/integrated/test_api_samples.py', 'nova/tests/integrated/api_samples/test_images.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/22aebe105241218c77e5ae2e870d1d90e2c77d0f', 'message': 'Move images API sample tests into own file\n\nMoves all the images API sample tests into own test file under\nnova/tests/integrated/api_samples/.\n\nChange-Id: Idb2b8b3d0f1fe70ad425cba4b9e08e27119a1c7a\n'}]",0,123300,22aebe105241218c77e5ae2e870d1d90e2c77d0f,14,6,1,7,,,0,"Move images API sample tests into own file

Moves all the images API sample tests into own test file under
nova/tests/integrated/api_samples/.

Change-Id: Idb2b8b3d0f1fe70ad425cba4b9e08e27119a1c7a
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/123300/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/integrated/test_api_samples.py', 'nova/tests/integrated/api_samples/test_images.py']",2,22aebe105241218c77e5ae2e870d1d90e2c77d0f,func-test-split,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova.tests.image import fake from nova.tests.integrated import api_samples_test_base as base class ImagesSampleJsonTest(base.ApiSampleTestBaseV2): def test_images_list(self): # Get api sample of images get list request. response = self._do_get('images') subs = self._get_regexes() self._verify_response('images-list-get-resp', subs, response, 200) def test_image_get(self): # Get api sample of one single image details request. image_id = fake.get_valid_image_id() response = self._do_get('images/%s' % image_id) subs = self._get_regexes() subs['image_id'] = image_id self._verify_response('image-get-resp', subs, response, 200) def test_images_details(self): # Get api sample of all images details request. response = self._do_get('images/detail') subs = self._get_regexes() self._verify_response('images-details-get-resp', subs, response, 200) def test_image_metadata_get(self): # Get api sample of an image metadata request. image_id = fake.get_valid_image_id() response = self._do_get('images/%s/metadata' % image_id) subs = self._get_regexes() subs['image_id'] = image_id self._verify_response('image-metadata-get-resp', subs, response, 200) def test_image_metadata_post(self): # Get api sample to update metadata of an image metadata request. image_id = fake.get_valid_image_id() response = self._do_post( 'images/%s/metadata' % image_id, 'image-metadata-post-req', {}) subs = self._get_regexes() self._verify_response('image-metadata-post-resp', subs, response, 200) def test_image_metadata_put(self): # Get api sample of image metadata put request. image_id = fake.get_valid_image_id() response = self._do_put('images/%s/metadata' % image_id, 'image-metadata-put-req', {}) subs = self._get_regexes() self._verify_response('image-metadata-put-resp', subs, response, 200) def test_image_meta_key_get(self): # Get api sample of an image metadata key request. image_id = fake.get_valid_image_id() key = ""kernel_id"" response = self._do_get('images/%s/metadata/%s' % (image_id, key)) subs = self._get_regexes() self._verify_response('image-meta-key-get', subs, response, 200) def test_image_meta_key_put(self): # Get api sample of image metadata key put request. image_id = fake.get_valid_image_id() key = ""auto_disk_config"" response = self._do_put('images/%s/metadata/%s' % (image_id, key), 'image-meta-key-put-req', {}) subs = self._get_regexes() self._verify_response('image-meta-key-put-resp', subs, response, 200) class ImagesSampleXmlTest(ImagesSampleJsonTest): ctype = 'xml' class ImageSizeSampleJsonTests(base.ApiSampleTestBaseV2): extension_name = (""nova.api.openstack.compute.contrib"" "".image_size.Image_size"") def test_show(self): # Get api sample of one single image details request. image_id = fake.get_valid_image_id() response = self._do_get('images/%s' % image_id) subs = self._get_regexes() subs['image_id'] = image_id self._verify_response('image-get-resp', subs, response, 200) def test_detail(self): # Get api sample of all images details request. response = self._do_get('images/detail') subs = self._get_regexes() self._verify_response('images-details-get-resp', subs, response, 200) class ImageSizeSampleXmlTests(ImageSizeSampleJsonTests): ctype = 'xml' ",,105,91
openstack%2Fnova~master~I7dc107e76f3df15d7a01752fc6366b50076b2194,openstack/nova,master,I7dc107e76f3df15d7a01752fc6366b50076b2194,Garbage collect neutron ports not in nw_cache,ABANDONED,2014-11-18 12:15:01.000000000,2015-01-23 15:25:12.000000000,,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 1501}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 8688}, {'_account_id': 9008}, {'_account_id': 9420}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-18 12:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2f2e592a32ffaf065ac32775f30dba224a026c1', 'message': ""Garbage collect neutron ports not in nw_cache\n\nThis patch adds code which garbage collects ports in neutron that are\nnot found in nova's network cache and should be deleted. These ports\nusually manifest when nova-compute fails to receive a response from neutron\nwhen creating a port due to a timeout. This patch needs toput a lock around\nallocate_for_instance in order to prevent a possible race condition when\nhotplugging a network-interface to an instance and the port is garbage\ncollected before its put into the network_cache.\n\nThis patch supercedes I1435b73756fe8f0702e2377a486e0a75ff0480bc by agreement\nwith the original author.\n\nChange-Id: I7dc107e76f3df15d7a01752fc6366b50076b2194\nCloses-bug: #1324934\n""}, {'number': 2, 'created': '2014-11-18 16:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9753419de03be938468e0c76df3b2eba91386406', 'message': ""Garbage collect neutron ports not in nw_cache\n\nThis patch adds code which garbage collects ports in neutron that are\nnot found in nova's network cache and should be deleted. These ports\nusually manifest when nova-compute fails to receive a response from neutron\nwhen creating a port due to a timeout. This patch needs toput a lock around\nallocate_for_instance in order to prevent a possible race condition when\nhotplugging a network-interface to an instance and the port is garbage\ncollected before its put into the network_cache.\n\nThis patch supercedes I1435b73756fe8f0702e2377a486e0a75ff0480bc by agreement\nwith the original author.\n\nChange-Id: I7dc107e76f3df15d7a01752fc6366b50076b2194\nCloses-bug: #1324934\n""}, {'number': 3, 'created': '2014-11-18 16:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f1a827cef072fcde11d07de9b1fb412d9902ba8', 'message': ""Garbage collect neutron ports not in nw_cache\n\nThis patch adds code which garbage collects ports in neutron that are\nnot found in nova's network cache and should be deleted. These ports\nusually manifest when nova-compute fails to receive a response from neutron\nwhen creating a port due to a timeout. This patch needs to put a lock around\nallocate_for_instance in order to prevent a possible race condition when\nhotplugging a network-interface to an instance and the port is garbage\ncollected before its put into the network_cache.\n\nThis patch supersedes I1435b73756fe8f0702e2377a486e0a75ff0480bc by agreement\nwith the original author.\n\nChange-Id: I7dc107e76f3df15d7a01752fc6366b50076b2194\nCloses-bug: #1324934\n""}, {'number': 4, 'created': '2014-11-18 21:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04d7fdb69eb4d81b978a4b4e19bbcd1a8ec956a0', 'message': ""Garbage collect neutron ports not in nw_cache\n\nThis patch adds code which garbage collects ports in neutron that are\nnot found in nova's network cache and should be deleted. These ports\nusually manifest when nova-compute fails to receive a response from neutron\nwhen creating a port due to a timeout. This patch needs to put a lock around\nallocate_for_instance in order to prevent a possible race condition when\nhotplugging a network-interface to an instance and the port is garbage\ncollected before its put into the network_cache.\n\nThis patch supersedes I1435b73756fe8f0702e2377a486e0a75ff0480bc by agreement\nwith the original author.\n\nChange-Id: I7dc107e76f3df15d7a01752fc6366b50076b2194\nCloses-bug: #1324934\n""}, {'number': 5, 'created': '2014-11-19 09:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45217c1be4b2c1b996b5b684bc0296162760b63c', 'message': ""Garbage collect neutron ports not in nw_cache\n\nThis patch adds code which garbage collects ports in neutron that are\nnot found in nova's network cache and should be deleted. These ports\nusually manifest when nova-compute fails to receive a response from neutron\nwhen creating a port due to a timeout. This patch needs to put a lock around\nallocate_for_instance in order to prevent a possible race condition when\nhotplugging a network-interface to an instance and the port is garbage\ncollected before its put into the network_cache.\n\nThis patch supersedes I1435b73756fe8f0702e2377a486e0a75ff0480bc by agreement\nwith the original author.\n\nChange-Id: I7dc107e76f3df15d7a01752fc6366b50076b2194\nCloses-bug: #1324934\n""}, {'number': 6, 'created': '2014-11-24 15:50:00.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3ab97f5f29f2c346d203278b20b5068babafaf93', 'message': ""Garbage collect neutron ports not in nw_cache\n\nThis patch adds code which garbage collects ports in neutron that are\nnot found in nova's network cache and should be deleted. These ports\nusually manifest when nova-compute fails to receive a response from neutron\nwhen creating a port due to a timeout. This patch needs to put a lock around\nallocate_for_instance in order to prevent a possible race condition when\nhotplugging a network-interface to an instance and the port is garbage\ncollected before its put into the network_cache.\n\nThis patch supersedes I1435b73756fe8f0702e2377a486e0a75ff0480bc by agreement\nwith the original author.\n\nChange-Id: I7dc107e76f3df15d7a01752fc6366b50076b2194\nCloses-bug: #1324934\n""}]",13,135260,3ab97f5f29f2c346d203278b20b5068babafaf93,49,15,6,9420,,,0,"Garbage collect neutron ports not in nw_cache

This patch adds code which garbage collects ports in neutron that are
not found in nova's network cache and should be deleted. These ports
usually manifest when nova-compute fails to receive a response from neutron
when creating a port due to a timeout. This patch needs to put a lock around
allocate_for_instance in order to prevent a possible race condition when
hotplugging a network-interface to an instance and the port is garbage
collected before its put into the network_cache.

This patch supersedes I1435b73756fe8f0702e2377a486e0a75ff0480bc by agreement
with the original author.

Change-Id: I7dc107e76f3df15d7a01752fc6366b50076b2194
Closes-bug: #1324934
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/135260/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/compute/manager.py']",3,c2f2e592a32ffaf065ac32775f30dba224a026c1,bug/1324934," with lock(instance['uuid'] + "".nw_cache""): if (not hasattr(instance, 'system_metadata') or len(instance['system_metadata']) == 0): # NOTE(danms): Several places in the code look up instances # without pulling system_metadata for performance, and call # this function. If we get an instance without it, re-fetch # so that the call to network_api (which requires it for # instance_type) will succeed. instance = objects.Instance.get_by_uuid(context, instance['uuid'], use_slave=use_slave) network_info = self.network_api.get_instance_nw_info(context, instance) return network_info"," if (not hasattr(instance, 'system_metadata') or len(instance['system_metadata']) == 0): # NOTE(danms): Several places in the code look up instances without # pulling system_metadata for performance, and call this function. # If we get an instance without it, re-fetch so that the call # to network_api (which requires it for instance_type) will # succeed. instance = objects.Instance.get_by_uuid(context, instance['uuid'], use_slave=use_slave) network_info = self.network_api.get_instance_nw_info(context, instance) return network_info",45,17
openstack%2Fnova~stable%2Ficehouse~Ia92b648eb18c70996747d361e227de771f33ee9c,openstack/nova,stable/icehouse,Ia92b648eb18c70996747d361e227de771f33ee9c,EndpointNotFound deleting volume backend instance,ABANDONED,2014-10-14 04:09:08.000000000,2015-01-23 15:25:11.000000000,,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1313}, {'_account_id': 2750}, {'_account_id': 3031}, {'_account_id': 4428}, {'_account_id': 5170}, {'_account_id': 7546}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9656}, {'_account_id': 10118}]","[{'number': 1, 'created': '2014-10-14 04:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/667ce559cdc03adc8f5dd6e66ffa01d2e3553785', 'message': 'EndpointNotFound deleting volume backend instance\n\nWhen there is some error in volume creating on booting from volume,\nwe may get the EndpointNotFound exception when deleting the error instance.\nThen we can never delete the instance successfully. The exception should\nbe ignored.\n\nChange-Id: Ia92b648eb18c70996747d361e227de771f33ee9c\nCloses-bug: 1346866\n(cherry picked from commit e5c3ff67b51f7c466d89778cc2c4999e10c7e08e)\n'}, {'number': 2, 'created': '2014-10-14 23:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a791475e24e2babe263aed02dbe9e3c5655764b', 'message': 'EndpointNotFound deleting volume backend instance\n\nWhen there is some error in volume creating on booting from volume,\nwe may get the EndpointNotFound exception when deleting the error instance.\nThen we can never delete the instance successfully. The exception should\nbe ignored.\n\nChange-Id: Ia92b648eb18c70996747d361e227de771f33ee9c\nCloses-bug: 1346866\n(cherry picked from commit e5c3ff67b51f7c466d89778cc2c4999e10c7e08e)\n'}, {'number': 3, 'created': '2014-10-15 00:38:36.000000000', 'files': ['nova/tests/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3fff41c7d2952ed7a8f1ae06170bbb96488875c3', 'message': 'EndpointNotFound deleting volume backend instance\n\nWhen there is some error in volume creating on booting from volume,\nwe may get the EndpointNotFound exception when deleting the error instance.\nThen we can never delete the instance successfully. The exception should\nbe ignored.\n\nChange-Id: Ia92b648eb18c70996747d361e227de771f33ee9c\nCloses-bug: 1346866\n(cherry picked from commit e5c3ff67b51f7c466d89778cc2c4999e10c7e08e)\n'}]",4,128166,3fff41c7d2952ed7a8f1ae06170bbb96488875c3,28,12,3,3031,,,0,"EndpointNotFound deleting volume backend instance

When there is some error in volume creating on booting from volume,
we may get the EndpointNotFound exception when deleting the error instance.
Then we can never delete the instance successfully. The exception should
be ignored.

Change-Id: Ia92b648eb18c70996747d361e227de771f33ee9c
Closes-bug: 1346866
(cherry picked from commit e5c3ff67b51f7c466d89778cc2c4999e10c7e08e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/128166/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,667ce559cdc03adc8f5dd6e66ffa01d2e3553785,bug/1346866,"from cinderclient import exceptions as cinder_exception except cinder_exception.EndpointNotFound as exc: LOG.warn(_LW('Ignoring EndpointNotFound: %s'), exc, instance=instance)",,25,0
openstack%2Fnova~master~Ib475fb75fa63711a423b45cb5f539233a2d782d5,openstack/nova,master,Ib475fb75fa63711a423b45cb5f539233a2d782d5,XenAPI: Auto disk config should use VDI size when booted from volume,ABANDONED,2014-10-21 21:31:45.000000000,2015-01-23 15:25:10.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11642}]","[{'number': 1, 'created': '2014-10-21 21:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/443a05f279b42b554f30a4547533e36e81b51242', 'message': ""XenAPI: Auto disk config should use VDI size when booted from volume\n\nBecause there is no relation between the flavor root_gb setting and the\nsize of a volume, auto_disk_config might resize the filesystem\nincorrectly based on root_gb.  When booting from a volume Nova doesn't\ntrack volume size internally, but the VDI of the attached volume matches\nthe volume size so we can use that for the auto_disk_config process.\n\nCloses-bug: #1383899\nChange-Id: Ib475fb75fa63711a423b45cb5f539233a2d782d5\n""}, {'number': 2, 'created': '2014-11-13 21:34:37.000000000', 'files': ['nova/virt/xenapi/vmops.py', 'nova/tests/unit/virt/xenapi/test_vmops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/559aa47f80ecc99562e1f13fdc89d64d38b1a997', 'message': ""XenAPI: Auto disk config should use VDI size when booted from volume\n\nBecause there is no relation between the flavor root_gb setting and the\nsize of a volume, auto_disk_config might resize the filesystem\nincorrectly based on root_gb.  When booting from a volume Nova doesn't\ntrack volume size internally, but the VDI of the attached volume matches\nthe volume size so we can use that for the auto_disk_config process.\n\nCloses-bug: #1383899\nChange-Id: Ib475fb75fa63711a423b45cb5f539233a2d782d5\n""}]",0,130038,559aa47f80ecc99562e1f13fdc89d64d38b1a997,20,8,2,5441,,,0,"XenAPI: Auto disk config should use VDI size when booted from volume

Because there is no relation between the flavor root_gb setting and the
size of a volume, auto_disk_config might resize the filesystem
incorrectly based on root_gb.  When booting from a volume Nova doesn't
track volume size internally, but the VDI of the attached volume matches
the volume size so we can use that for the auto_disk_config process.

Closes-bug: #1383899
Change-Id: Ib475fb75fa63711a423b45cb5f539233a2d782d5
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/130038/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/xenapi/vmops.py', 'nova/tests/virt/xenapi/test_vmops.py']",2,443a05f279b42b554f30a4547533e36e81b51242,bug/1383899,"from oslo.utils import units from nova.compute import flavors @mock.patch.object(vm_utils, 'try_auto_configure_disk', side_effect=test.TestingException) @mock.patch.object(flavors, 'extract_flavor', return_value={'root_gb': 20}) def test_attach_disk_volume_auto_disk_config(self, mock_ext_flavor, mock_auto_config): ctxt = context.RequestContext('fake-user', 'fake-project') instance = fake_instance.fake_instance_obj(ctxt, auto_disk_config=True) vm_ref = 'fake-vm-ref' name_label = 'fake-name' disk_size_gb = 150 vdi_ref = 'fake-vdi-ref' vdis = {'root': {'osvol': True, 'ref': vdi_ref}} disk_image_type = 'fake-type' network_info = {} with mock.patch.object(self.vmops._session, 'call_xenapi', return_value={'virtual_size': str(disk_size_gb * units.Gi)}): try: self.vmops._attach_disks(instance, vm_ref, name_label, vdis, disk_image_type, network_info) except test.TestingException: pass mock_auto_config.assert_called_once_with(mock.ANY, vdi_ref, disk_size_gb) @mock.patch.object(vm_utils, 'try_auto_configure_disk', side_effect=test.TestingException) @mock.patch.object(flavors, 'extract_flavor', return_value={'root_gb': 20}) def test_attach_disk_auto_disk_config(self, mock_ext_flavor, mock_auto_config): ctxt = context.RequestContext('fake-user', 'fake-project') instance = fake_instance.fake_instance_obj(ctxt, auto_disk_config=True) vm_ref = 'fake-vm-ref' name_label = 'fake-name' vdi_ref = 'fake-vdi-ref' vdis = {'root': {'ref': vdi_ref}} disk_image_type = 'fake-type' network_info = {} try: self.vmops._attach_disks(instance, vm_ref, name_label, vdis, disk_image_type, network_info) except test.TestingException: pass mock_auto_config.assert_called_once_with(mock.ANY, vdi_ref, 20) ",,58,1
openstack%2Fnova~master~Ib9cdbecb7907ba0f79be42299333eb5dbf73ab75,openstack/nova,master,Ib9cdbecb7907ba0f79be42299333eb5dbf73ab75,Make object namespace optional during serialization,ABANDONED,2014-11-17 15:27:00.000000000,2015-01-23 15:25:07.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-17 15:27:00.000000000', 'files': ['nova/objects/base.py', 'nova/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e92871c97489c361b3bf19945f3b25342586d169', 'message': 'Make object namespace optional during serialization\n\nThis allows us to control the inclusion and requirement of a namespace\nelement in the object serialized format. We may want to do this for\nspace savings in the database. This keeps the existing behavior unless\nthe overrides are passed to the (de-)serialization routines.\n\nRelated to blueprint kilo-objects\n\nChange-Id: Ib9cdbecb7907ba0f79be42299333eb5dbf73ab75\n'}]",4,134969,e92871c97489c361b3bf19945f3b25342586d169,13,9,1,4393,,,0,"Make object namespace optional during serialization

This allows us to control the inclusion and requirement of a namespace
element in the object serialized format. We may want to do this for
space savings in the database. This keeps the existing behavior unless
the overrides are passed to the (de-)serialization routines.

Related to blueprint kilo-objects

Change-Id: Ib9cdbecb7907ba0f79be42299333eb5dbf73ab75
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/134969/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/base.py', 'nova/tests/unit/objects/test_objects.py']",2,e92871c97489c361b3bf19945f3b25342586d169,bp/kilo-objects," def test_dehydration_no_ns(self): obj = MyObj(foo=1) obj.obj_reset_changes() self.assertNotIn('nova_object.namespace', obj.obj_to_primitive(include_ns=False)) def test_hydration_no_ns(self): obj = MyObj(foo=1) obj.obj_reset_changes() base.NovaObject.obj_from_primitive( obj.obj_to_primitive(include_ns=False), require_ns=False) self.assertRaises(exception.UnsupportedObjectError, base.NovaObject.obj_from_primitive, obj.obj_to_primitive(include_ns=False), require_ns=True) ",,25,5
openstack%2Fnova~stable%2Ficehouse~I60cb60ccaeb0cb8c536906d897249e31ae396923,openstack/nova,stable/icehouse,I60cb60ccaeb0cb8c536906d897249e31ae396923,Fixes Hyper-V boot from volume live migration,ABANDONED,2014-08-27 09:34:43.000000000,2015-01-23 15:25:06.000000000,,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 2750}, {'_account_id': 3185}, {'_account_id': 5170}, {'_account_id': 8213}, {'_account_id': 9008}, {'_account_id': 9656}]","[{'number': 1, 'created': '2014-08-27 09:34:43.000000000', 'files': ['nova/virt/hyperv/imagecache.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c7fb5ca829add33e8ae0b025c10aed541ef914af', 'message': 'Fixes Hyper-V boot from volume live migration\n\nLive migration fails on Hyper-V when boot from volume is used with\nCoW, as the target host tries to cache the root disk image in\npre_live_migration, but in this case the image_ref is empty.\n\nThis patch adds a check to handle the empty image_ref case.\n\nChange-Id: I60cb60ccaeb0cb8c536906d897249e31ae396923\nCloses-Bug: #1362075\n'}]",0,117153,c7fb5ca829add33e8ae0b025c10aed541ef914af,11,8,1,3185,,,0,"Fixes Hyper-V boot from volume live migration

Live migration fails on Hyper-V when boot from volume is used with
CoW, as the target host tries to cache the root disk image in
pre_live_migration, but in this case the image_ref is empty.

This patch adds a check to handle the empty image_ref case.

Change-Id: I60cb60ccaeb0cb8c536906d897249e31ae396923
Closes-Bug: #1362075
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/117153/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/hyperv/imagecache.py'],1,c7fb5ca829add33e8ae0b025c10aed541ef914af,, image_id = instance.get('image_ref') if not image_id: return, image_id = instance['image_ref'],4,1
openstack%2Fnova~stable%2Ficehouse~I7858dbb49bee8de3fe725beb6793eac3ecba71b6,openstack/nova,stable/icehouse,I7858dbb49bee8de3fe725beb6793eac3ecba71b6,Update websocketproxy to work with websockify 0.6,ABANDONED,2014-08-13 06:07:07.000000000,2015-01-23 15:25:04.000000000,,"[{'_account_id': 3}, {'_account_id': 67}, {'_account_id': 979}, {'_account_id': 1313}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6476}, {'_account_id': 7677}, {'_account_id': 9008}, {'_account_id': 9656}, {'_account_id': 10118}]","[{'number': 1, 'created': '2014-08-13 06:07:07.000000000', 'files': ['nova/cmd/spicehtml5proxy.py', 'requirements.txt', 'nova/console/websocketproxy.py', 'nova/cmd/novncproxy.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/11ed391c11523d583d9e075d27b56d865db673a2', 'message': 'Update websocketproxy to work with websockify 0.6\n\nWebsockify version 0.6 bring with it several bugfixes\nand new features that affect Nova (including a fix for\nnovncproxy zombies hanging around and better support\nfor the python logging framework).  However, it also\nbroke backwards compatibility due to a refactor which\nbrought it inline with other Python socket server libraries.\n\nThis patch updates the websockify code to function with\nwebsockify version 0.6 as well as websockify version 0.5.x.\n\nChange-Id: I7858dbb49bee8de3fe725beb6793eac3ecba71b6\n(cherry picked from commit 9386dd2fa301aee42da1e734b67670b317a0355f)\n'}]",0,113784,11ed391c11523d583d9e075d27b56d865db673a2,16,11,1,6476,,,0,"Update websocketproxy to work with websockify 0.6

Websockify version 0.6 bring with it several bugfixes
and new features that affect Nova (including a fix for
novncproxy zombies hanging around and better support
for the python logging framework).  However, it also
broke backwards compatibility due to a refactor which
brought it inline with other Python socket server libraries.

This patch updates the websockify code to function with
websockify version 0.6 as well as websockify version 0.5.x.

Change-Id: I7858dbb49bee8de3fe725beb6793eac3ecba71b6
(cherry picked from commit 9386dd2fa301aee42da1e734b67670b317a0355f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/113784/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/cmd/spicehtml5proxy.py', 'requirements.txt', 'nova/console/websocketproxy.py', 'nova/cmd/novncproxy.py']",4,11ed391c11523d583d9e075d27b56d865db673a2,websockify-0.6,"from nova.openstack.common import log as logging logging.setup(""nova"") listen_host=CONF.novncproxy_host, listen_port=CONF.novncproxy_port, source_is_ipv6=CONF.source_is_ipv6, verbose=CONF.verbose, cert=CONF.cert, key=CONF.key, ssl_only=CONF.ssl_only, daemon=CONF.daemon, record=CONF.record, traffic=CONF.verbose and not CONF.daemon, web=CONF.web, file_only=True, RequestHandlerClass=websocketproxy.NovaProxyRequestHandler)"," listen_host=CONF.novncproxy_host, listen_port=CONF.novncproxy_port, source_is_ipv6=CONF.source_is_ipv6, verbose=CONF.verbose, cert=CONF.cert, key=CONF.key, ssl_only=CONF.ssl_only, daemon=CONF.daemon, record=CONF.record, web=CONF.web, file_only=True, no_parent=True, target_host='ignore', target_port='ignore', wrap_mode='exit', wrap_cmd=None)",93,44
openstack%2Fnova~master~Ie47040ea578b6f1614a886e69cef3df1bb90b526,openstack/nova,master,Ie47040ea578b6f1614a886e69cef3df1bb90b526,Configure block migrate config drive,ABANDONED,2014-10-23 11:38:27.000000000,2015-01-23 15:25:02.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 1970}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 2813}, {'_account_id': 5170}, {'_account_id': 8054}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-23 11:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e768af98646e359da653a753b8afb328f113f328', 'message': 'Configure block migrate config drive\n\nThis patch makes block-migrate with config drive configurable so\nthat instances with vfat drives can continue to be migrated.\nLive migration of instances using config drive is not supported\nbecause of a bug in libvirt (read only devices are not copied by\nlibvirt)\n\nChange-Id: Ie47040ea578b6f1614a886e69cef3df1bb90b526\nPartial-Bug: 1246201\nCloses-Bug: 1377000\n'}, {'number': 2, 'created': '2014-10-23 11:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e44a36ed770edabfd9d4d32130f4025031d1a732', 'message': 'Configure block migrate config drive\n\nThis patch makes block-migrate with config drive configurable so\nthat instances with vfat drives can continue to be migrated.\nLive migration of instances using config drive is not supported\nbecause of a bug in libvirt (read only devices are not copied by\nlibvirt)\n\nPartial-Bug: 1246201\nCloses-Bug: 1377000\n\nChange-Id: Ie47040ea578b6f1614a886e69cef3df1bb90b526\n'}, {'number': 3, 'created': '2014-10-23 12:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98434a957db150e22f0a99f054c7dafbf031c6bf', 'message': 'Configure block migrate config drive\n\nThis patch makes block-migrate with config drive configurable so\nthat instances with vfat drives can continue to be migrated.\nLive migration of instances using config drive is not supported\nbecause of a bug in libvirt (read only devices are not copied by\nlibvirt)\n\nPartial-Bug: 1246201\nCloses-Bug: 1377000\n\nChange-Id: Ie47040ea578b6f1614a886e69cef3df1bb90b526\n'}, {'number': 4, 'created': '2014-10-24 09:25:12.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5a6f98c051a603efa00d24f9092bfd652e6a4b84', 'message': 'Configure block migrate config drive\n\nThis patch makes block-migrate with config drive configurable so\nthat instances with vfat drives can continue to be migrated.\nLive migration of instances using config drive is not supported\nbecause of a bug in libvirt (read only devices are not copied by\nlibvirt)\n\nPartial-Bug: 1246201\nCloses-Bug: 1377000\n\nChange-Id: Ie47040ea578b6f1614a886e69cef3df1bb90b526\n'}]",5,130505,5a6f98c051a603efa00d24f9092bfd652e6a4b84,27,13,4,8054,,,0,"Configure block migrate config drive

This patch makes block-migrate with config drive configurable so
that instances with vfat drives can continue to be migrated.
Live migration of instances using config drive is not supported
because of a bug in libvirt (read only devices are not copied by
libvirt)

Partial-Bug: 1246201
Closes-Bug: 1377000

Change-Id: Ie47040ea578b6f1614a886e69cef3df1bb90b526
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/130505/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/virt/libvirt/test_driver.py']",2,e768af98646e359da653a753b8afb328f113f328,bug/1246201," self.flags(block_migrate_config_drive=True, group=""libvirt"") ",,10,1
openstack%2Fnova~master~I7845b73bcd2a3ad100e1e68175715445888e5b25,openstack/nova,master,I7845b73bcd2a3ad100e1e68175715445888e5b25,Move ApiSampleBaseTestV2 into api_sample_test_base,ABANDONED,2014-09-23 00:37:15.000000000,2015-01-23 15:25:00.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}]","[{'number': 1, 'created': '2014-09-23 00:37:15.000000000', 'files': ['nova/tests/integrated/api_samples_test_base.py', 'nova/tests/integrated/test_api_samples.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ac7180c922859f33f708d3cec6615da7d560677d', 'message': 'Move ApiSampleBaseTestV2 into api_sample_test_base\n\nThe goal for this series of patches is to split the 4500+ lines of test\ncode in /nova/tests/integrated/test_api_samples.py into multiple test\nfiles that test a particular API resource or extension individually.\n\nBefore we do that, we need to put the base V2 API sample test class\nwhere it belongs, in the api_sample_test_base module.\n\nChange-Id: I7845b73bcd2a3ad100e1e68175715445888e5b25\n'}]",1,123296,ac7180c922859f33f708d3cec6615da7d560677d,20,12,1,7,,,0,"Move ApiSampleBaseTestV2 into api_sample_test_base

The goal for this series of patches is to split the 4500+ lines of test
code in /nova/tests/integrated/test_api_samples.py into multiple test
files that test a particular API resource or extension individually.

Before we do that, we need to put the base V2 API sample test class
where it belongs, in the api_sample_test_base module.

Change-Id: I7845b73bcd2a3ad100e1e68175715445888e5b25
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/123296/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/integrated/api_samples_test_base.py', 'nova/tests/integrated/test_api_samples.py']",2,ac7180c922859f33f708d3cec6615da7d560677d,func-test-split,"from nova.tests.integrated import api_samples_test_base as baseclass ApiSamplesTrap(base.ApiSampleTestBaseV2):class VersionsSampleJsonTest(base.ApiSampleTestBaseV2):class ServersSampleBase(base.ApiSampleTestBaseV2):class ExtensionsSampleJsonTest(base.ApiSampleTestBaseV2):class FlavorsSampleJsonTest(base.ApiSampleTestBaseV2):class HostsSampleJsonTest(base.ApiSampleTestBaseV2):class ImagesSampleJsonTest(base.ApiSampleTestBaseV2):class LimitsSampleJsonTest(base.ApiSampleTestBaseV2):class UserDataJsonTest(base.ApiSampleTestBaseV2):class FlavorsExtraDataJsonTest(base.ApiSampleTestBaseV2):class FlavorRxtxJsonTest(base.ApiSampleTestBaseV2):class FlavorSwapJsonTest(base.ApiSampleTestBaseV2):class SchedulerHintsJsonTest(base.ApiSampleTestBaseV2):class FloatingIpsJsonTest(base.ApiSampleTestBaseV2):class FloatingIpsBulkJsonTest(base.ApiSampleTestBaseV2):class KeyPairsSampleJsonTest(base.ApiSampleTestBaseV2):class CloudPipeSampleJsonTest(base.ApiSampleTestBaseV2):class CloudPipeUpdateJsonTest(base.ApiSampleTestBaseV2):class AgentsJsonTest(base.ApiSampleTestBaseV2):class FixedIpJsonTest(base.ApiSampleTestBaseV2):class CertificatesSamplesJsonTest(base.ApiSampleTestBaseV2):class UsedLimitsSamplesJsonTest(base.ApiSampleTestBaseV2):class UsedLimitsForAdminSamplesJsonTest(base.ApiSampleTestBaseV2):class ServicesJsonTest(base.ApiSampleTestBaseV2):class ExtendedServicesJsonTest(base.ApiSampleTestBaseV2):class ExtendedServicesDeleteJsonTest(base.ApiSampleTestBaseV2):class QuotasSampleJsonTests(base.ApiSampleTestBaseV2):class ExtendedQuotasSampleJsonTests(base.ApiSampleTestBaseV2):class UserQuotasSampleJsonTests(base.ApiSampleTestBaseV2):class FlavorManageSampleJsonTests(base.ApiSampleTestBaseV2):class OsNetworksJsonTests(base.ApiSampleTestBaseV2):class NetworksJsonTests(base.ApiSampleTestBaseV2):class ExtendedNetworksJsonTests(base.ApiSampleTestBaseV2):class NetworksAssociateJsonTests(base.ApiSampleTestBaseV2):class FlavorDisabledSampleJsonTests(base.ApiSampleTestBaseV2):class QuotaClassesSampleJsonTests(base.ApiSampleTestBaseV2):class CellsSampleJsonTest(base.ApiSampleTestBaseV2):class CellsCapacitySampleJsonTest(base.ApiSampleTestBaseV2):class BareMetalNodesJsonTest(base.ApiSampleTestBaseV2, bm_db_base.BMDBTestCase):class FloatingIPPoolsSampleJsonTests(base.ApiSampleTestBaseV2):class InstanceUsageAuditLogJsonTest(base.ApiSampleTestBaseV2):class FlavorExtraSpecsSampleJsonTests(base.ApiSampleTestBaseV2):class FloatingIpDNSJsonTest(base.ApiSampleTestBaseV2):class InstanceActionsSampleJsonTest(base.ApiSampleTestBaseV2):class ImageSizeSampleJsonTests(base.ApiSampleTestBaseV2):class FlavorAccessSampleJsonTests(base.ApiSampleTestBaseV2):class HypervisorsSampleJsonTests(base.ApiSampleTestBaseV2):class ExtendedHypervisorsJsonTest(base.ApiSampleTestBaseV2):class HypervisorStatusJsonTest(base.ApiSampleTestBaseV2):class HypervisorsCellsSampleJsonTests(base.ApiSampleTestBaseV2):class SnapshotsSampleJsonTests(base.ApiSampleTestBaseV2):class AssistedVolumeSnapshotsJsonTest(base.ApiSampleTestBaseV2):class MigrationsSamplesJsonTest(base.ApiSampleTestBaseV2):","import osfrom nova import testfrom nova.tests import fake_networkfrom nova.tests import fake_utilsfrom nova.tests.integrated import api_samples_test_baseclass ApiSampleTestBaseV2(api_samples_test_base.ApiSampleTestBase): _api_version = 'v2' def setUp(self): extends = [] self.flags(use_ipv6=False, osapi_compute_link_prefix=self._get_host(), osapi_glance_link_prefix=self._get_glance_host()) if not self.all_extensions: if hasattr(self, 'extends_name'): extends = [self.extends_name] ext = [self.extension_name] if self.extension_name else [] self.flags(osapi_compute_extension=ext + extends) super(ApiSampleTestBaseV2, self).setUp() self.useFixture(test.SampleNetworks(host=self.network.host)) fake_network.stub_compute_with_ips(self.stubs) fake_utils.stub_out_utils_spawn_n(self.stubs) self.generate_samples = os.getenv('GENERATE_SAMPLES') is not None class ApiSamplesTrap(ApiSampleTestBaseV2):class VersionsSampleJsonTest(ApiSampleTestBaseV2):class ServersSampleBase(ApiSampleTestBaseV2):class ExtensionsSampleJsonTest(ApiSampleTestBaseV2):class FlavorsSampleJsonTest(ApiSampleTestBaseV2):class HostsSampleJsonTest(ApiSampleTestBaseV2):class ImagesSampleJsonTest(ApiSampleTestBaseV2):class LimitsSampleJsonTest(ApiSampleTestBaseV2):class UserDataJsonTest(ApiSampleTestBaseV2):class FlavorsExtraDataJsonTest(ApiSampleTestBaseV2):class FlavorRxtxJsonTest(ApiSampleTestBaseV2):class FlavorSwapJsonTest(ApiSampleTestBaseV2):class SchedulerHintsJsonTest(ApiSampleTestBaseV2):class FloatingIpsJsonTest(ApiSampleTestBaseV2):class FloatingIpsBulkJsonTest(ApiSampleTestBaseV2):class KeyPairsSampleJsonTest(ApiSampleTestBaseV2):class CloudPipeSampleJsonTest(ApiSampleTestBaseV2):class CloudPipeUpdateJsonTest(ApiSampleTestBaseV2):class AgentsJsonTest(ApiSampleTestBaseV2):class FixedIpJsonTest(ApiSampleTestBaseV2):class CertificatesSamplesJsonTest(ApiSampleTestBaseV2):class UsedLimitsSamplesJsonTest(ApiSampleTestBaseV2):class UsedLimitsForAdminSamplesJsonTest(ApiSampleTestBaseV2):class ServicesJsonTest(ApiSampleTestBaseV2):class ExtendedServicesJsonTest(ApiSampleTestBaseV2):class ExtendedServicesDeleteJsonTest(ApiSampleTestBaseV2):class QuotasSampleJsonTests(ApiSampleTestBaseV2):class ExtendedQuotasSampleJsonTests(ApiSampleTestBaseV2):class UserQuotasSampleJsonTests(ApiSampleTestBaseV2):class FlavorManageSampleJsonTests(ApiSampleTestBaseV2):class OsNetworksJsonTests(ApiSampleTestBaseV2):class NetworksJsonTests(ApiSampleTestBaseV2):class ExtendedNetworksJsonTests(ApiSampleTestBaseV2):class NetworksAssociateJsonTests(ApiSampleTestBaseV2):class FlavorDisabledSampleJsonTests(ApiSampleTestBaseV2):class QuotaClassesSampleJsonTests(ApiSampleTestBaseV2):class CellsSampleJsonTest(ApiSampleTestBaseV2):class CellsCapacitySampleJsonTest(ApiSampleTestBaseV2):class BareMetalNodesJsonTest(ApiSampleTestBaseV2, bm_db_base.BMDBTestCase):class FloatingIPPoolsSampleJsonTests(ApiSampleTestBaseV2):class InstanceUsageAuditLogJsonTest(ApiSampleTestBaseV2):class FlavorExtraSpecsSampleJsonTests(ApiSampleTestBaseV2):class FloatingIpDNSJsonTest(ApiSampleTestBaseV2):class InstanceActionsSampleJsonTest(ApiSampleTestBaseV2):class ImageSizeSampleJsonTests(ApiSampleTestBaseV2):class FlavorAccessSampleJsonTests(ApiSampleTestBaseV2):class HypervisorsSampleJsonTests(ApiSampleTestBaseV2):class ExtendedHypervisorsJsonTest(ApiSampleTestBaseV2):class HypervisorStatusJsonTest(ApiSampleTestBaseV2):class HypervisorsCellsSampleJsonTests(ApiSampleTestBaseV2):class SnapshotsSampleJsonTests(ApiSampleTestBaseV2):class AssistedVolumeSnapshotsJsonTest(ApiSampleTestBaseV2):class MigrationsSamplesJsonTest(ApiSampleTestBaseV2):",77,78
openstack%2Fnova~master~I2228a464578fdd0f6f4368ee7522ac90135438fc,openstack/nova,master,I2228a464578fdd0f6f4368ee7522ac90135438fc,xenapi: Add initial unit test for glance plugin,ABANDONED,2014-10-16 11:14:30.000000000,2015-01-23 15:24:57.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-16 11:14:30.000000000', 'files': ['plugins/xenserver/xenapi/etc/xapi.d/plugins/glance', 'test-requirements.txt', 'nova/tests/virt/xenapi/plugins/test_glance.py', 'plugins/xenserver/xenapi/etc/xapi.d/plugins/utils.py', 'nova/tests/virt/xenapi/plugins/__init__.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8b04e9dbf6f117207e3bf40d4b726a160d97d322', 'message': 'xenapi: Add initial unit test for glance plugin\n\nWIP - attempt to add unit tests for xenapi plugins\n\nChange-Id: I2228a464578fdd0f6f4368ee7522ac90135438fc\n'}]",0,128886,8b04e9dbf6f117207e3bf40d4b726a160d97d322,16,8,1,782,,,0,"xenapi: Add initial unit test for glance plugin

WIP - attempt to add unit tests for xenapi plugins

Change-Id: I2228a464578fdd0f6f4368ee7522ac90135438fc
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/128886/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/xenserver/xenapi/etc/xapi.d/plugins/glance', 'test-requirements.txt', 'nova/tests/virt/xenapi/plugins/test_glance.py', 'plugins/xenserver/xenapi/etc/xapi.d/plugins/utils.py', 'nova/tests/virt/xenapi/plugins/__init__.py']",5,8b04e9dbf6f117207e3bf40d4b726a160d97d322,,"# Copyright (c) 2014 Rackspace # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import imp import os import sys def _get_plugin_path(): current_path = os.path.realpath(__file__) rel_path = os.path.join(current_path, ""../../../../../../plugins/xenserver/xenapi/etc/xapi.d/plugins"") plugin_path = os.path.abspath(rel_path) return plugin_path def load_plugin(name): plugin_path = _get_plugin_path() if plugin_path not in sys.path: sys.path.append(plugin_path) # be sure not to create c files next to the plugins sys.dont_write_bytecode = True path = os.path.join(plugin_path, name) return imp.load_source(name, path) ",,79,2
openstack%2Fnova~master~I3d8fbfb650360d4b3dcc168df6968059476989e6,openstack/nova,master,I3d8fbfb650360d4b3dcc168df6968059476989e6,linux_net: introduce create_bridge helper,ABANDONED,2014-08-24 10:08:27.000000000,2015-01-23 15:24:56.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6509}, {'_account_id': 6677}, {'_account_id': 8412}, {'_account_id': 8531}, {'_account_id': 8543}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}]","[{'number': 1, 'created': '2014-08-24 10:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e77f65364ccba97da153a4c2c9943963f9cc784c', 'message': 'linux_net: introduce create_bridge helper\n\nCurrently, LinuxBridgeInterfaceDriver and\nNeutronLinuxBridgeInterfaceDriver contain a code that creates\nLinux bridge devices by calling brctl(8).\n\nMove out this code to a function create_bridge() that creates\na bridge device and, optionally, sets MAC address and IP address.\n\nAdd a test for this function to nova.tests.network.linux_net.\n\nChange-Id: I3d8fbfb650360d4b3dcc168df6968059476989e6\n'}, {'number': 2, 'created': '2014-08-26 08:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3536902724a67a672550cbc0f459a81fd2993006', 'message': 'linux_net: introduce create_bridge helper\n\nCurrently, LinuxBridgeInterfaceDriver and\nNeutronLinuxBridgeInterfaceDriver contain a code that creates\nLinux bridge devices by calling brctl(8).\n\nMove out this code to a function create_bridge() that creates\na bridge device and, optionally, sets MAC address and IP address.\n\nAdd a test for this function to nova.tests.network.linux_net.\n\nChange-Id: I3d8fbfb650360d4b3dcc168df6968059476989e6\n'}, {'number': 3, 'created': '2014-09-02 05:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0aa1365ad56f64a4ff853ffcb991d35b3dfa5c4', 'message': 'linux_net: introduce create_bridge helper\n\nCurrently, LinuxBridgeInterfaceDriver and\nNeutronLinuxBridgeInterfaceDriver contain a code that creates\nLinux bridge devices by calling brctl(8).\n\nMove out this code to a function create_bridge() that creates\na bridge device and, optionally, sets MAC address and IP address.\n\nAdd a test for this function to nova.tests.network.linux_net.\n\nChange-Id: I3d8fbfb650360d4b3dcc168df6968059476989e6\n'}, {'number': 4, 'created': '2014-09-02 14:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f212e7add564e9f33b2eb03683f9c42a73a1d41', 'message': 'linux_net: introduce create_bridge helper\n\nCurrently, LinuxBridgeInterfaceDriver and\nNeutronLinuxBridgeInterfaceDriver contain a code that creates\nLinux bridge devices by calling brctl(8).\n\nMove out this code to a function create_bridge() that creates\na bridge device and, optionally, sets MAC address and IP address.\n\nAdd a test for this function to nova.tests.network.linux_net.\n\nChange-Id: I3d8fbfb650360d4b3dcc168df6968059476989e6\n'}, {'number': 5, 'created': '2014-09-04 07:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/490a72f8de7a0048da849be64d507987afac63ad', 'message': 'linux_net: introduce create_bridge helper\n\nCurrently, LinuxBridgeInterfaceDriver and\nNeutronLinuxBridgeInterfaceDriver contain a code that creates\nLinux bridge devices by calling brctl(8).\n\nMove out this code to a function create_bridge() that creates\na bridge device and, optionally, sets MAC address and IP address.\n\nAdd a test for this function to nova.tests.network.linux_net.\n\nChange-Id: I3d8fbfb650360d4b3dcc168df6968059476989e6\n'}, {'number': 6, 'created': '2014-09-11 09:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b9b5fac284014788f32f9319bbeccd965d8e664', 'message': 'linux_net: introduce create_bridge helper\n\nCurrently, LinuxBridgeInterfaceDriver and\nNeutronLinuxBridgeInterfaceDriver contain a code that creates\nLinux bridge devices by calling brctl(8).\n\nMove out this code to a function create_bridge() that creates\na bridge device and, optionally, sets MAC address and IP address.\n\nAdd a test for this function to nova.tests.network.linux_net.\n\nChange-Id: I3d8fbfb650360d4b3dcc168df6968059476989e6\n'}, {'number': 7, 'created': '2014-10-10 06:43:09.000000000', 'files': ['nova/network/linux_net.py', 'nova/tests/network/test_linux_net.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e1bb8a21e6f3225b8b83ea7e526eca34f4a574fa', 'message': 'linux_net: introduce create_bridge helper\n\nCurrently, LinuxBridgeInterfaceDriver and\nNeutronLinuxBridgeInterfaceDriver contain a code that creates\nLinux bridge devices by calling brctl(8).\n\nMove out this code to a function create_bridge() that creates\na bridge device and, optionally, sets an IP address.\n\nAlso, drop setting of the MAC address for the bridge in ensure_bridge()\nmethod of the NeutronLinuxBridgeInterfaceDriver class as setting MAC\naddress on the bridge is useless as the bridge will inherit the MAC\naddress of the enslaved NIC device with the highest numeric value MAC\naddress.\n\nAdd a test for this function to nova.tests.network.linux_net.\n\nChange-Id: I3d8fbfb650360d4b3dcc168df6968059476989e6\n'}]",10,116502,e1bb8a21e6f3225b8b83ea7e526eca34f4a574fa,89,17,7,6509,,,0,"linux_net: introduce create_bridge helper

Currently, LinuxBridgeInterfaceDriver and
NeutronLinuxBridgeInterfaceDriver contain a code that creates
Linux bridge devices by calling brctl(8).

Move out this code to a function create_bridge() that creates
a bridge device and, optionally, sets an IP address.

Also, drop setting of the MAC address for the bridge in ensure_bridge()
method of the NeutronLinuxBridgeInterfaceDriver class as setting MAC
address on the bridge is useless as the bridge will inherit the MAC
address of the enslaved NIC device with the highest numeric value MAC
address.

Add a test for this function to nova.tests.network.linux_net.

Change-Id: I3d8fbfb650360d4b3dcc168df6968059476989e6
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/116502/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/linux_net.py', 'nova/tests/network/test_linux_net.py']",2,e77f65364ccba97da153a4c2c9943963f9cc784c,," def test_create_bridge(self): calls = [ mock.call('brctl', 'addbr', 'bridge', run_as_root=True), mock.call('brctl', 'setfd', 'bridge', '0', run_as_root=True), mock.call('brctl', 'stp', 'bridge', 'off', run_as_root=True), mock.call('ip', 'link', 'set', 'bridge', 'address', 'de:ad:be:ef:be:ef', run_as_root=True, check_exit_code=[0, 2, 254]), mock.call('ip', 'link', 'set', 'bridge', 'up', run_as_root=True, check_exit_code=[0, 2, 254]), mock.call('ip', 'address', 'add', '192.168.0.1', 'dev', 'bridge', run_as_root=True, check_exit_code=[0, 2, 254]), ] with contextlib.nested( mock.patch.object(linux_net, 'device_exists', return_value=False), mock.patch.object(linux_net, '_execute', return_value=('', '')), ) as (device_exists, _execute): linux_net.create_bridge('bridge', mac_address='de:ad:be:ef:be:ef', ip_addr='192.168.0.1') device_exists.assert_called_once_with('bridge') _execute.assert_has_calls(calls) ",,56,27
openstack%2Fnova~master~I0377bd6bf06221cffc294e68ce232f3148927b1d,openstack/nova,master,I0377bd6bf06221cffc294e68ce232f3148927b1d,Network objects: prevent DB operation is there is no DB backing,ABANDONED,2014-11-21 15:28:55.000000000,2015-01-23 15:24:54.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-21 15:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a38b2005806270fa09fc9c36fa7aeec0b5aa71c', 'message': 'Network objects: have a flag indicating the owner of the network\n\nWIP\n\nChange-Id: I0377bd6bf06221cffc294e68ce232f3148927b1d\n'}, {'number': 2, 'created': '2014-11-21 15:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52c0e16dff2583935816d6035ccc6d1e48d5f70f', 'message': ""Network objects: do not save if there is no 'id' on the network object\n\nThis will be used to prevent a user trying to update an object that\nis backed by Neutron and not Nova.\n\nWIP - still need to write tests.\n\nChange-Id: I0377bd6bf06221cffc294e68ce232f3148927b1d\n""}, {'number': 3, 'created': '2014-11-23 11:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a7a22052776079cb91e75b141f02382a547962d', 'message': ""Network objects: do not save if there is no 'id' on the network object\n\nThis will be used to prevent a user trying to update an object that\nis backed by Neutron and not Nova.\n\nWIP - still need to write tests.\n\nChange-Id: I0377bd6bf06221cffc294e68ce232f3148927b1d\n""}, {'number': 4, 'created': '2014-11-23 12:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05792e7ad13aa6bf08e5bab7c723cbbd03df73b1', 'message': 'Network objects: prevent DB operation is there is no DB backing\n\nEnsure that objects that do not have a database entry do no\npermit database opertaions.\n\nA neutron network does not have a database entry. If there is a\nuser of a network object that is for a Neutron network, then any\nupdate to that object will cause an exception. This is due to the\nfact that it will try and write to the database.\n\nChange-Id: I0377bd6bf06221cffc294e68ce232f3148927b1d\n'}, {'number': 5, 'created': '2014-11-24 12:41:00.000000000', 'files': ['nova/network/neutronv2/api.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_network.py', 'nova/objects/network.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4e6dd1e8056fc8c70ae3f0ae9763e379953da2a1', 'message': 'Network objects: prevent DB operation is there is no DB backing\n\nEnsure that objects that do not have a database entry do no\npermit database opertaions.\n\nA neutron network does not have a database entry. If there is a\nuser of a network object that is for a Neutron network, then any\nupdate to that object will cause an exception. This is due to the\nfact that it will try and write to the database.\n\nChange-Id: I0377bd6bf06221cffc294e68ce232f3148927b1d\n'}]",3,136386,4e6dd1e8056fc8c70ae3f0ae9763e379953da2a1,64,12,5,1653,,,0,"Network objects: prevent DB operation is there is no DB backing

Ensure that objects that do not have a database entry do no
permit database opertaions.

A neutron network does not have a database entry. If there is a
user of a network object that is for a Neutron network, then any
update to that object will cause an exception. This is due to the
fact that it will try and write to the database.

Change-Id: I0377bd6bf06221cffc294e68ce232f3148927b1d
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/136386/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/objects/network.py']",2,1a38b2005806270fa09fc9c36fa7aeec0b5aa71c,network-object-owner," # Version 1.3: Added mtu, dhcp_server, enable_dhcp, share_address VERSION = '1.3' 'neutron': fields.BooleanField(), if target_version < (1, 3): if 'neutron' in primitive: del primitive['neutron'] if self.neutron: raise ValueError(_('The network is owned by Neutron it cannot ' 'be updated'))", VERSION = '1.2',13,3
openstack%2Fnova~master~I28fdd5268b26b21469889d098f06a82fe188ad1a,openstack/nova,master,I28fdd5268b26b21469889d098f06a82fe188ad1a,use safe SSL connection in xenserver glance plugin,ABANDONED,2014-10-01 01:29:42.000000000,2015-01-23 15:24:53.000000000,,"[{'_account_id': 3}, {'_account_id': 100}, {'_account_id': 782}, {'_account_id': 1297}, {'_account_id': 2750}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 6802}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-01 01:29:42.000000000', 'files': ['nova/virt/xenapi/image/glance.py', 'plugins/xenserver/xenapi/etc/xapi.d/plugins/glance', 'nova/tests/virt/xenapi/image/test_glance.py', 'plugins/xenserver/xenapi/etc/xapi.d/plugins/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cc5943577ad3cbd164e3525847399d705229f833', 'message': 'use safe SSL connection in xenserver glance plugin\n\nhttplib.HTTPSConnection is known to not verify SSL certificates\nin Python 2.x. This change replaces use of httplib.HTTPSConnection\nwith the requests module. It uses the existing nova config setting\n""glance.api_insecure"" to decide whether or not to verify certs.\n\nSecurityImpact\nDocImpact\nCloses-Bug: #1374001\n\nChange-Id: I28fdd5268b26b21469889d098f06a82fe188ad1a\n'}]",9,125249,cc5943577ad3cbd164e3525847399d705229f833,26,13,1,4690,,,0,"use safe SSL connection in xenserver glance plugin

httplib.HTTPSConnection is known to not verify SSL certificates
in Python 2.x. This change replaces use of httplib.HTTPSConnection
with the requests module. It uses the existing nova config setting
""glance.api_insecure"" to decide whether or not to verify certs.

SecurityImpact
DocImpact
Closes-Bug: #1374001

Change-Id: I28fdd5268b26b21469889d098f06a82fe188ad1a
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/125249/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/xenapi/image/glance.py', 'plugins/xenserver/xenapi/etc/xapi.d/plugins/glance', 'nova/tests/virt/xenapi/image/test_glance.py', 'plugins/xenserver/xenapi/etc/xapi.d/plugins/utils.py']",4,cc5943577ad3cbd164e3525847399d705229f833,bug/1374001,"def create_tarball(fileobj, path, callback=None, compression_level=None, generator=False): if generator: yield ""%x\r\n%s\r\n"" % (len(chunk), chunk)","def create_tarball(fileobj, path, callback=None, compression_level=None):",74,89
openstack%2Fnova~master~Id998bf11ba31215b67df8fdc286a9bf4db329ccb,openstack/nova,master,Id998bf11ba31215b67df8fdc286a9bf4db329ccb,Nova Trusted geo-asset tag filter,ABANDONED,2014-12-05 17:41:39.000000000,2015-01-23 15:24:52.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-05 17:41:39.000000000', 'files': ['nova/scheduler/filters/asset_tag_filter.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d0ebad80e11f407668a71c7d9f0a8f0bfb654c27', 'message': 'Nova Trusted geo-asset tag filter\n\nnova BP: https://review.openstack.org/#/c/133106\n\nChange-Id: Id998bf11ba31215b67df8fdc286a9bf4db329ccb\n'}]",0,139689,d0ebad80e11f407668a71c7d9f0a8f0bfb654c27,10,9,1,13800,,,0,"Nova Trusted geo-asset tag filter

nova BP: https://review.openstack.org/#/c/133106

Change-Id: Id998bf11ba31215b67df8fdc286a9bf4db329ccb
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/139689/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/filters/asset_tag_filter.py'],1,d0ebad80e11f407668a71c7d9f0a8f0bfb654c27,bp/for,"# vim: tabstop=4 shiftwidth=4 softtabstop=4 # Copyright (c) 2012 Intel, Inc. # Copyright (c) 2011-2012 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Filter to add support for Trusted Computing Pools. Filter that only schedules tasks on a host if the integrity (trust) of that host matches the trust requested in the `extra_specs' for the flavor. The `extra_specs' will contain a key/value pair where the key is `trust'. The value of this pair (`trusted'/`untrusted') must match the integrity of that host (obtained from the Attestation service) before the task can be scheduled on that host. Note that the parameters to control access to the Attestation Service are in the `nova.conf' file in a separate `trust' section. For example, the config file will look something like: [DEFAULT] verbose=True ... [trust] server=attester.mynetwork.com Details on the specific parameters can be found in the file `trust_attest.py'. Details on setting up and using an Attestation Service can be found at the Open Attestation project at: https://github.com/OpenAttestation/OpenAttestation """""" import httplib import socket import ssl import json import ast from oslo.config import cfg from nova import context from nova import db from nova.openstack.common.gettextutils import _ from nova.openstack.common import jsonutils from nova.openstack.common import log as logging from nova.openstack.common import timeutils from nova.scheduler import filters from lxml import etree import base64 from base64 import b64encode import random LOG = logging.getLogger(__name__) trusted_opts = [ cfg.StrOpt('attestation_server', help='attestation server http'), cfg.StrOpt('attestation_server_ca_file', help='attestation server Cert file for Identity verification'), cfg.StrOpt('attestation_port', default='8443', help='attestation server port'), cfg.StrOpt('attestation_api_url', default='/OpenAttestationWebServices/V1.0', help='attestation web API URL'), cfg.StrOpt('attestation_auth_blob', help='attestation authorization blob - must change'), cfg.IntOpt('attestation_auth_timeout', default=60, help='Attestation status cache valid period length'), ] CONF = cfg.CONF trust_group = cfg.OptGroup(name='trusted_computing', title='Trust parameters') CONF.register_group(trust_group) CONF.register_opts(trusted_opts, group=trust_group) class HTTPSClientAuthConnection(httplib.HTTPSConnection): """""" Class to make a HTTPS connection, with support for full client-based SSL Authentication """""" def __init__(self, host, port, key_file, cert_file, ca_file, timeout=None): httplib.HTTPSConnection.__init__(self, host, key_file=key_file, cert_file=cert_file) self.host = host self.port = port self.key_file = key_file self.cert_file = cert_file self.ca_file = ca_file self.timeout = timeout def connect(self): """""" Connect to a host on a given (SSL) port. If ca_file is pointing somewhere, use it to check Server Certificate. Redefined/copied and extended from httplib.py:1105 (Python 2.6.x). This is needed to pass cert_reqs=ssl.CERT_REQUIRED as parameter to ssl.wrap_socket(), which forces SSL to check server certificate against our client certificate. """""" sock = socket.create_connection((self.host, self.port), self.timeout) self.sock = ssl.wrap_socket(sock, self.key_file, self.cert_file, ca_certs=self.ca_file) #cert_reqs=ssl.CERT_REQUIRED) class AttestationService(object): # Provide access wrapper to attestation server to get integrity report. def __init__(self): self.api_url = CONF.trusted_computing.attestation_api_url self.host = CONF.trusted_computing.attestation_server self.port = CONF.trusted_computing.attestation_port self.auth_blob = CONF.trusted_computing.attestation_auth_blob self.key_file = None self.cert_file = None self.ca_file = CONF.trusted_computing.attestation_server_ca_file self.ca_file = None self.request_count = 100 def _do_request(self, method, action_url, params, headers): # Connects to the server and issues a request. # :returns: result data # :raises: IOError if the request fails action_url = ""%s?%s"" % (self.api_url, params) try: c = HTTPSClientAuthConnection(self.host, self.port, key_file=self.key_file, cert_file=self.cert_file, ca_file=self.ca_file) c.request(method, action_url, '', headers) res = c.getresponse() status_code = res.status if status_code in (httplib.OK, httplib.CREATED, httplib.ACCEPTED, httplib.NO_CONTENT): return httplib.OK, res return status_code, None except (socket.error, IOError): return IOError, None def _request(self, cmd, subcmd, host): params = ""hostName="" + host headers = {} auth = base64.encodestring(self.auth_blob).replace('\n', '') if self.auth_blob: # headers['x-auth-blob'] = self.auth_blob headers['Authorization'] = ""Basic "" + auth status, res = self._do_request(cmd, subcmd, params, headers) if status == httplib.OK: data = res.read() return status, data else: return status, None def do_attestation(self, hosts): """"""Attests compute nodes through OAT service. :param hosts: hosts list to be attested :returns: dictionary for trust level and validate time """""" result = None #status, data = self._request(""POST"", ""PollHosts"", hosts) status, data = self._request(""GET"", """", hosts) return data class TrustAssertionFilter(filters.BaseHostFilter): def __init__(self): self.attestservice = AttestationService() self.compute_nodes = {} admin = context.get_admin_context() # Fetch compute node list to initialize the compute_nodes, # so that we don't need poll OAT service one by one for each # host in the first round that scheduler invokes us. self.compute_nodes = db.compute_node_get_all(admin) def host_passes(self, host_state, filter_properties): """"""Only return hosts with required Trust level."""""" verify_asset_tag = False verify_trust_status = False spec = filter_properties.get('request_spec', {}) image_props = spec.get('image', {}).get('properties', {}) # Get the Tag verification flag from the image properties tag_selections = image_props.get('tags') # comma seperated values trust_verify = image_props.get('trust') # comma seperated values #if tag_selections is None or tag_selections == 'Trust': if trust_verify == 'true': verify_trust_status = True if tag_selections != None and tag_selections != {}: verify_asset_tag = True if not verify_trust_status: # Filter returns success/true if neither trust or tag has to be verified. return True host_data = self.attestservice.do_attestation(host_state.hypervisor_hostname) trust, asset_tag = self.verify_and_parse_saml(host_data) if not trust: return False if verify_asset_tag: # Verify the asset tag restriction return self.verify_asset_tag(asset_tag, tag_selections) return True def verify_and_parse_saml(self, saml_data): trust = False asset_tag = {} # Trust attestation service responds with a JSON in case the given host name is not found # Need to update this after the mt. wilson service is updated to return consistent message formats try: if json.loads(saml_data): return trust, asset_tag except: LOG.debug(""System does not exist in the Mt. Wilson portal"") ns = {'saml2p': '{urn:oasis:names:tc:SAML:2.0:protocol}', 'saml2': '{urn:oasis:names:tc:SAML:2.0:assertion}'} try: # xpath strings xp_attributestatement = '{saml2}AttributeStatement/{saml2}Attribute'.format(**ns) xp_attributevalue = '{saml2}AttributeValue'.format(**ns) doc = etree.XML(saml_data) elements = doc.findall(xp_attributestatement) for el in elements: if el.attrib['Name'].lower() == 'trusted': if el.find(xp_attributevalue).text == 'true': trust = True elif el.attrib['Name'].lower().startswith(""tag""): asset_tag[el.attrib['Name'].lower().split('[')[1].split(']')[0]] = el.find(xp_attributevalue).text return trust, asset_tag except: return trust, asset_tag # Verifies the asset tag match with the tag selections provided by the user. def verify_asset_tag(self, host_tags, tag_selections): # host_tags is the list of tags set on the host # tag_selections is the list of tags set as the policy of the image ret_status = False selection_details = {} try: sel_tags = ast.literal_eval(tag_selections) iteration_status = True for tag in list(sel_tags.keys()): if tag not in list(host_tags.keys()) or host_tags[tag] not in sel_tags[tag]: iteration_status = False if(iteration_status): ret_status = True except: ret_status = False return ret_status ",,292,0
openstack%2Fnova~master~Ib38ab5490118367d39f9411f0a99c3f57bb9a92f,openstack/nova,master,Ib38ab5490118367d39f9411f0a99c3f57bb9a92f,Not to create default security group if neutron sg is used,ABANDONED,2014-07-04 15:57:46.000000000,2015-01-23 15:24:50.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 2874}, {'_account_id': 5170}, {'_account_id': 6450}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-07-04 15:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6e3c351a77279dbfa66c357950ee708e300fd5c', 'message': 'Not to create default security group if neutron sg is used\n\nChange-Id: Ib38ab5490118367d39f9411f0a99c3f57bb9a92f\nCloses-Bug: 1337912\n'}, {'number': 2, 'created': '2014-07-07 01:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0e79cf0fa4a298335b9f1dbf957fd0cea4bd7f3', 'message': 'Not to create default security group if neutron sg is used\n\nChange-Id: Ib38ab5490118367d39f9411f0a99c3f57bb9a92f\nCloses-Bug: 1337912\n'}, {'number': 3, 'created': '2014-07-07 09:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31178743fb72788152b6d06ed1ca0800c95b7dc9', 'message': 'Not to create default security group if neutron sg is used\n\nThe sqlalchemy api will create default sg even if we are\nusing neutron sg. This patch makes the API recognize\nthe sg API configuration item and not to create default\nsecurity group if neutron sg is used.\n\nChange-Id: Ib38ab5490118367d39f9411f0a99c3f57bb9a92f\nCloses-Bug: 1337912\n'}, {'number': 4, 'created': '2014-10-09 06:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed8fd6dc4b333b96f32f93005904dbcd6d176532', 'message': 'Not to create default security group if neutron sg is used\n\nThe sqlalchemy api would create default sg even if we were\nusing neutron sg. This patch makes the API recognize\nthe neutron API configuration item and not to create default\nsecurity group if neutron is used.\n\nChange-Id: Ib38ab5490118367d39f9411f0a99c3f57bb9a92f\nCloses-Bug: 1337912\n'}, {'number': 5, 'created': '2014-10-09 10:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae128b1d0329f5e1a2b503381bf34259e2443edb', 'message': 'Not to create default security group if neutron sg is used\n\nThe sqlalchemy api would create default sg even if we were\nusing neutron sg. This patch makes the API recognize\nthe neutron API configuration item and not to create default\nsecurity group if neutron is used.\n\nChange-Id: Ib38ab5490118367d39f9411f0a99c3f57bb9a92f\nCloses-Bug: 1337912\n'}, {'number': 6, 'created': '2014-10-10 09:05:45.000000000', 'files': ['nova/tests/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a086c47c3583665a9f4e41d827e5c9f066eb6695', 'message': 'Not to create default security group if neutron sg is used\n\nThe sqlalchemy api would create default sg even if we were\nusing neutron sg. This patch makes the API recognize\nthe neutron API configuration item and not to create default\nsecurity group if neutron is used.\n\nChange-Id: Ib38ab5490118367d39f9411f0a99c3f57bb9a92f\nCloses-Bug: 1337912\n'}]",8,104928,a086c47c3583665a9f4e41d827e5c9f066eb6695,63,13,6,2874,,,0,"Not to create default security group if neutron sg is used

The sqlalchemy api would create default sg even if we were
using neutron sg. This patch makes the API recognize
the neutron API configuration item and not to create default
security group if neutron is used.

Change-Id: Ib38ab5490118367d39f9411f0a99c3f57bb9a92f
Closes-Bug: 1337912
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/104928/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/sqlalchemy/api.py'],1,b6e3c351a77279dbfa66c357950ee708e300fd5c,bug/1337912," if cfg.CONF.security_group_api.lower() != 'neutron': instance_ref.security_groups = _get_sec_group_models(session, else: instance_ref.security_groups = []"," instance_ref.security_groups = _get_sec_group_models(session,",4,1
openstack%2Fnova~master~Ia0157793ff81f37053bf1f673f09699c54d3ba6c,openstack/nova,master,Ia0157793ff81f37053bf1f673f09699c54d3ba6c,nfs attach bug fixed,ABANDONED,2014-11-26 04:24:58.000000000,2015-01-23 15:24:48.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-26 04:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1eb16ce9639258c166663e02b76a7000b2112c10', 'message': 'nfs attach bug #1374915 fixed\n\nChange-Id: Ia0157793ff81f37053bf1f673f09699c54d3ba6c\n'}, {'number': 2, 'created': '2014-11-26 05:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ef6eab6a4f923364e9ef9c0e3383a664afc4f9d', 'message': 'nfs attach bug #1374915 fixed\n\nChange-Id: Ia0157793ff81f37053bf1f673f09699c54d3ba6c\n'}, {'number': 3, 'created': '2014-11-27 01:05:49.000000000', 'files': ['nova/tests/functional/api_samples/os-services/services-list-get-resp.json.tpl', 'nova/tests/functional/v3/test_console_output.py', 'nova/tests/functional/api_samples/os-volumes/attach-volume-to-server-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-security-groups/servers-detail-resp.json.tpl', 'nova/tests/functional/api_samples/os-floating-ip-dns/floating-ip-dns-entry-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-security-groups/security-group-remove-post-req.xml.tpl', 'nova/tests/functional/api_samples/OS-FLV-EXT-DATA/flavors-extra-data-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-server-usage/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-flavor-rxtx/flavor-rxtx-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-groups/server-groups-post-req.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-security-groups/security-groups-list-get-resp.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-VIF-NET/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-hide-server-addresses/server-post-req.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-tenant-networks/networks-post-req.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-AZ/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-flavor-access/flavor-access-create-resp.xml.tpl', 'nova/tests/functional/api_samples/os-networks-associate/network-disassociate-project-req.json.tpl', 'nova/tests/functional/api_samples/os-volumes/snapshots-list-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-agents/agent-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/all_extensions/servers-list-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-suspend-server/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-aggregates/aggregate-add-host-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/flavor-access/flavor-access-create-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-entry-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-resp.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-STS/server-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-keypairs/keypairs-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-volumes/snapshots-detail-resp.json.tpl', 'doc/v3/api_samples/os-volumes/update-volume-req.json', 'nova/tests/functional/v3/api_samples/os-extended-server-attributes/server-get-resp.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-VIF-NET/server-post-req.json.tpl', 'nova/tests/functional/api_samples/all_extensions/server-action-createimage.json.tpl', 'nova/tests/functional/api_samples/os-tenant-networks/networks-list-res.json.tpl', 'nova/tests/functional/api_samples/os-console-output/server-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-extended-floating-ips/floating-ips-create-nopool-req.xml.tpl', 'nova/tests/functional/v3/api_samples/all_extensions/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-cells/cells-list-resp.xml.tpl', 'nova/tests/functional/api_samples/OS-FLV-DISABLED/flavor-detail-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-quota-class-sets/quota-classes-show-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-rescue/server-get-resp-rescue.xml.tpl', 'nova/tests/functional/api_samples/os-hosts/host-get-reboot.json.tpl', 'nova/virt/vmwareapi/driver.py', 'nova/tests/functional/api_samples/os-deferred-delete/server-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-evacuate/server-evacuate-resp.json.tpl', 'nova/tests/functional/api_samples/os-volumes/os-volumes-index-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-disk-config/server-action-rebuild-resp.json.tpl', 'nova/tests/functional/v3/test_quota_classes.py', 'nova/tests/functional/api_samples/os-flavor-extra-specs/flavor-extra-specs-update-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-remote-consoles/get-spice-console-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-lock-server/lock-server.json.tpl', 'nova/tests/functional/v3/api_samples/os-multiple-create/multiple-create-no-resv-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-hypervisors/hypervisors-search-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/image-size/images-details-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-security-group-default-rules/security-group-default-rules-show-resp.json.tpl', 'nova/tests/functional/api_samples/image-meta-key-put-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-hosts/host-put-maintenance-req.json.tpl', 'nova/tests/functional/api_samples/all_extensions/server-action-createimage.xml.tpl', 'nova/tests/functional/api_samples/os-cloudpipe/cloud-pipe-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/extension-info/extensions-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-networks-associate/network-disassociate-project-req.xml.tpl', 'nova/tests/functional/api_samples/flavors-list-resp.xml.tpl', 'nova/tests/functional/api_samples/OS-EXT-IPS-MAC/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/flavors-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-cell-capacities/cells-capacities-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-start-stop/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/server-metadata/server-metadata-req.json.tpl', 'nova/tests/functional/api_samples/server-action-rebuild.json.tpl', 'nova/tests/functional/api_samples/os-multiple-create/multiple-create-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-security-groups/server-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-rescue/server-rescue.xml.tpl', 'nova/tests/functional/v3/api_samples/os-used-limits/usedlimits-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-extended-rescue-with-image/server-get-resp-rescue.xml.tpl', 'nova/tests/functional/api_samples/os-volumes/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-access-ips/servers-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-external-events/event-create-req.json.tpl', 'nova/tests/functional/api_samples/os-extended-floating-ips/floating-ips-create-resp.json.tpl', 'nova/tests/functional/v3/api_samples/flavor-access/flavor-access-list-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-config-drive/servers-config-drive-details-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-security-groups/security-group-remove-post-req.json.tpl', 'nova/tests/functional/api_samples/image-metadata-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-multiple-create/multiple-create-no-resv-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-hosts/host-get-reboot.json.tpl', 'nova/tests/functional/v3/api_samples/os-rescue/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-quota-sets/user-quotas-update-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-rescue/server-get-resp-unrescue.xml.tpl', 'nova/tests/functional/v3/api_samples/os-quota-sets/user-quotas-update-post-req.json.tpl', 'nova/tests/functional/api_samples/os-quota-class-sets/quota-classes-update-post-req.json.tpl', 'nova/tests/functional/api_samples/NMN/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-IPS-MAC/servers-detail-resp.xml.tpl', 'nova/tests/functional/api_samples/OS-EXT-IPS-MAC/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-hypervisors/hypervisors-servers-resp.xml.tpl', 'nova/tests/functional/api_samples/all_extensions/server-action-resize.xml.tpl', 'nova/tests/functional/api_samples/OS-DCF/list-servers-detail-get.xml.tpl', 'nova/tests/functional/api_samples/os-extended-floating-ips/floating-ips-get-resp.xml.tpl', 'nova/tests/functional/api_samples/images-list-resp.xml.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-rescue/server-unrescue-req.json.tpl', 'nova/tests/functional/api_samples/os-floating-ips-bulk/floating-ips-bulk-create-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-remote-consoles/get-rdp-console-post-req.json.tpl', 'nova/tests/functional/v3/test_extended_status.py', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-resume.xml.tpl', 'nova/tests/functional/api_samples/OS-EXT-AZ/server-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-admin-password/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-floating-ips-bulk/floating-ips-bulk-create-req.xml.tpl', 'nova/tests/functional/api_samples/os-quota-class-sets/quota-classes-update-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-preserve-ephemeral-rebuild/server-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-consoles/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-resp.json.tpl', 'nova/tests/functional/v3/api_samples/server-metadata/server-metadata-all-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-networks/networks-disassociate-req.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-IMG-SIZE/image-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-hosts/hosts-list-resp.xml.tpl', 'nova/tests/functional/api_samples/servers-details-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-quota-class-sets/quota-classes-update-post-req.json.tpl', 'nova/tests/functional/api_samples/os-flavor-access/flavor-access-add-tenant-req.xml.tpl', 'nova/tests/functional/api_samples/os-fping/server-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-volumes/server-post-resp.xml.tpl', 'nova/tests/functional/api_samples/image-metadata-resp.json.tpl', 'nova/tests/functional/api_samples/os-hosts/host-put-maintenance-req.xml.tpl', 'nova/tests/functional/api_samples/os-consoles/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-volumes/list-volume-attachments-resp.xml.tpl', 'nova/api/openstack/compute/schemas/v3/server_external_events.py', 'nova/tests/functional/api_samples/os-availability-zone/availability-zone-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-hypervisors/hypervisors-detail-resp.xml.tpl', 'nova/tests/functional/api_samples/os-services/service-disable-log-put-req.xml.tpl', 'nova/tests/functional/api_samples/os-networks/networks-disassociate-req.json.tpl', 'nova/tests/functional/test_api_samples.py', 'nova/tests/functional/v3/test_floating_ips_bulk.py', 'nova/tests/functional/api_samples/flavor-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-cells/cells-list-empty-resp.xml.tpl', 'nova/tests/functional/api_samples/os-flavor-extra-specs/flavor-extra-specs-create-req.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-certificates/certificate-create-resp.json.tpl', 'nova/tests/functional/api_samples/os-consoles/get-serial-console-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-server-diagnostics/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/flavor-extra-specs/flavor-extra-specs-update-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-access-ips/server-put-req.json.tpl', 'nova/tests/functional/api_samples/os-admin-actions/server-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-instance_usage_audit_log/inst-usage-audit-log-index-get-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/flavor-access/flavor-access-detail-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-deferred-delete/restore-post-req.json.tpl', 'nova/tests/functional/api_samples/os-console-auth-tokens/get-console-connect-info-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-flavor-manage/flavor-create-post-req.json.tpl', 'nova/tests/functional/api_samples/os-server-external-events/event-create-resp.json.tpl', 'nova/tests/functional/api_samples/os-quota-class-sets/quota-classes-update-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-tenant-networks/networks-list-res.xml.tpl', 'nova/tests/functional/api_samples/os-evacuate/server-evacuate-resp.json.tpl', 'nova/tests/functional/api_samples/os-evacuate/server-post-req.json.tpl', 'nova/tests/functional/v3/test_instance_usage_audit_log.py', 'nova/tests/functional/api_samples/OS-DCF/server-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-keypairs/keypairs-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-volumes/attach-volume-to-server-resp.json.tpl', 'nova/tests/functional/api_samples/os-volumes/os-volumes-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-hypervisors/hypervisors-show-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-extended-availability-zone/server-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-floating-ips/floating-ips-list-empty-resp.xml.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-security-groups/security-groups-get-resp.json.tpl', 'nova/api/openstack/compute/plugins/v3/server_external_events.py', 'nova/tests/functional/api_samples/os-assisted-volume-snapshots/snapshot-create-assisted-req.json.tpl', 'nova/tests/functional/api_samples/all_extensions/extensions-get-resp.xml.tpl', 'nova/tests/functional/api_samples/server-ips-resp.json.tpl', 'nova/tests/functional/api_samples/os-floating-ips-bulk/floating-ips-bulk-delete-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/flavor-extra-specs/flavor-extra-specs-create-resp.json.tpl', 'nova/tests/functional/api_samples/os-preserve-ephemeral-rebuild/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-consoles/get-spice-console-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-console-auth-tokens/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-extended-networks/network-create-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-user-data/userdata-post-req.json.tpl', 'nova/tests/functional/api_samples/os-server-group-quotas/quota-classes-update-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-keypairs/keypairs-import-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-server-group-quotas/quotas-show-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-extended-networks/networks-list-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-certificates/certificate-create-req.json.tpl', 'nova/tests/functional/api_samples/all_extensions/servers-list-resp.json.tpl', 'nova/tests/functional/api_samples/OS-DCF/server-update-put-req.json.tpl', 'nova/tests/functional/api_samples/image-meta-key-put-resp.json.tpl', 'nova/tests/functional/v3/api_samples/server-ips/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-resp.xml.tpl', 'nova/tests/functional/api_samples/os-server-group-quotas/quota-classes-update-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/images/images-details-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-floating-ip-pools/floatingippools-list-resp.json.tpl', 'nova/tests/functional/api_samples/OS-SCH-HNT/scheduler-hints-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-rescue/server-rescue.json.tpl', 'nova/tests/functional/api_samples/os-aggregates/aggregate-metadata-post-req.json.tpl', 'nova/tests/functional/api_samples/os-security-groups/security-groups-create-resp.xml.tpl', 'nova/tests/functional/api_samples/os-aggregates/aggregate-update-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-attach-interfaces/attach-interfaces-create-req.json.tpl', 'nova/tests/functional/api_samples/os-flavor-manage/flavor-create-post-req.xml.tpl', 'nova/tests/functional/api_samples/OS-EXT-STS/server-post-req.xml.tpl', 'nova/tests/functional/v3/test_instance_actions.py', 'nova/tests/functional/api_samples/os-fixed-ips/fixedips-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-deferred-delete/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/servers/server-action-rebuild-preserve-ephemeral.json.tpl', 'nova/tests/functional/v3/api_samples/os-services/services-list-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-extended-quotas/quotas-update-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-disk-config/server-action-rebuild-req.json.tpl', 'nova/tests/functional/api_samples/server-metadata-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-server-external-events/event-create-req.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-SRV-ATTR/server-get-resp.xml.tpl', 'nova/tests/functional/api_samples/image-meta-key-get.xml.tpl', 'nova/tests/functional/v3/api_samples/os-quota-sets/quotas-show-get-resp.json.tpl', 'nova/tests/functional/v3/test_config_drive.py', 'nova/tests/functional/api_samples/OS-EXT-STS/servers-detail-resp.xml.tpl', 'nova/tests/functional/api_samples/os-extended-volumes/servers-detail-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-server-usage/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-cloudpipe/cloud-pipe-create-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-instance-actions/instance-action-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-networks/networks-list-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/extension-info/extensions-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-create-backup/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-volumes/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-shelve/server-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-aggregates/aggregates-remove-host-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-extended-networks/networks-list-resp.xml.tpl', 'nova/tests/functional/api_samples/os-server-group-quotas/limit-get-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/servers/server-action-rebuild-preserve-ephemeral-resp.json.tpl', 'nova/tests/functional/api_samples/image-metadata-put-req.json.tpl', 'nova/tests/functional/api_samples/os-rescue/server-unrescue-req.xml.tpl', 'nova/tests/functional/api_samples/os-volumes/snapshot-create-req.xml.tpl', 'nova/tests/functional/api_samples/os-flavor-access/flavor-access-show-resp.json.tpl', 'nova/tests/functional/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-entry-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-services/service-disable-put-resp.json.tpl', 'nova/tests/functional/api_samples/all_extensions/server-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-extended-rescue-with-image/server-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-quota-sets/quotas-show-defaults-get-resp.json.tpl', 'nova/tests/functional/api_samples/OS-DCF/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-pci/pci-index-resp.json.tpl', 'nova/tests/functional/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-by-host-resp.json.tpl', 'nova/tests/functional/api_samples/os-flavor-extra-specs/flavor-extra-specs-list-resp.xml.tpl', 'nova/tests/functional/api_samples/os-config-drive/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-aggregates/aggregate-metadata-post-req.json.tpl', 'nova/tests/functional/api_samples/os-extended-floating-ips/floating-ips-create-req.xml.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-admin-actions/admin-actions-inject-network-info.json.tpl', 'nova/tests/functional/api_samples/os-rescue/server-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-aggregates/aggregate-post-req.xml.tpl', 'nova/tests/functional/api_samples/OS-DCF/server-action-rebuild-resp.json.tpl', 'nova/tests/functional/api_samples/os-quota-sets/quotas-update-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-server-groups/server-groups-list-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/consoles/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-simple-tenant-usage/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/OS-EXT-IPS/server-post-resp.xml.tpl', 'nova/tests/functional/v3/test_extended_volumes.py', 'nova/tests/functional/api_samples/os-console-output/console-output-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-multiple-create/multiple-create-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-cloudpipe/cloud-pipe-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-consoles/get-vnc-console-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-server-list-multi-status/server-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-pci/pci-show-resp.json.tpl', 'nova/tests/functional/api_samples/server-ips-resp.xml.tpl', 'nova/tests/functional/v3/test_fixed_ips.py', 'nova/tests/functional/v3/api_samples/os-security-groups/security-group-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/servers/servers-details-resp.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-AZ/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-multiple-create/multiple-create-no-resv-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-services/service-disable-log-put-req.json.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-backup-server.json.tpl', 'nova/tests/functional/v3/test_migrations.py', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-unlock-server.json.tpl', 'nova/tests/functional/api_samples/os-used-limits/usedlimits-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-extended-hypervisors/hypervisors-show-with-ip-resp.xml.tpl', 'nova/tests/functional/api_samples/OS-DCF/server-get-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-pci/hypervisors-pci-show-resp.json.tpl', 'nova/tests/unit/integrated/__init__.py', 'nova/tests/functional/api_samples/os-keypairs/keypairs-list-resp.xml.tpl', 'nova/tests/functional/api_samples/os-instance-actions/instance-actions-list-resp.xml.tpl', 'nova/tests/functional/api_samples/os-extended-evacuate-find-host/server-evacuate-find-host-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-disk-config/image-list-resp.json.tpl', 'nova/tests/functional/v3/test_migrate_server.py', 'nova/tests/functional/v3/api_samples/os-extended-volumes/swap-volume-req.json.tpl', 'nova/tests/functional/api_samples/os-services/service-enable-put-resp.json.tpl', 'nova/tests/functional/api_samples/os-volumes/list-volume-attachments-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-shelve/os-shelve-offload.json.tpl', 'nova/tests/functional/api_samples/os-volumes/snapshots-show-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-networks/network-create-resp.json.tpl', 'nova/tests/functional/api_samples/os-shelve/os-shelve.json.tpl', 'nova/tests/functional/v3/api_samples/os-fping/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-volumes/snapshots-list-resp.xml.tpl', 'nova/tests/functional/api_samples/servers-details-resp.json.tpl', 'doc/v3/api_samples/os-volumes/list-volume-attachments-resp.json', 'nova/tests/functional/api_samples/OS-EXT-STS/servers-detail-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-pause-server/pause-server.json.tpl', 'nova/tests/functional/api_samples/os-server-group-quotas/usedlimits-get-resp.xml.tpl', 'nova/tests/functional/api_samples/OS-EXT-VIF-NET/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/OS-DCF/server-action-rebuild-req.xml.tpl', 'nova/tests/functional/api_samples/os-aggregates/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-certificates/certificate-get-root-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-security-groups/security-group-post-req.json.tpl', 'nova/tests/functional/api_samples/os-evacuate/server-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/images/image-meta-key-put-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-shelve/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-attach-interfaces/attach-interfaces-create-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-networks/network-add-req.json.tpl', 'nova/tests/functional/v3/test_cells.py', 'nova/tests/functional/api_samples/OS-EXT-IPS/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-hosts/host-put-maintenance-resp.xml.tpl', 'nova/tests/functional/api_samples/os-networks/network-create-req.xml.tpl', 'nova/tests/functional/api_samples/OS-DCF/image-list-resp.xml.tpl', 'nova/tests/functional/api_samples/os-aggregates/aggregates-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-list-multi-status/server-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-extended-server-attributes/servers-detail-resp.json.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-suspend.json.tpl', 'nova/tests/functional/api_samples/os-extended-networks/network-create-req.xml.tpl', 'nova/tests/functional/v3/test_servers_ips.py', 'nova/tests/functional/api_samples/os-extended-evacuate-find-host/server-post-req.json.tpl', 'nova/tests/functional/api_samples/all_extensions/flavors-list-resp.xml.tpl', 'nova/tests/functional/api_samples/os-networks/network-show-resp.xml.tpl', 'nova/tests/functional/api_samples/os-config-drive/servers-config-drive-details-resp.json.tpl', 'nova/tests/functional/v3/api_samples/flavor-extra-specs/flavor-extra-specs-create-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-server-usage/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-admin-actions/admin-actions-reset-server-state.json.tpl', 'nova/tests/functional/api_samples/OS-DCF/server-resize-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-extended-rescue-with-image/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-deferred-delete/server-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-volumes/os-volumes-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-attach-interfaces/attach-interfaces-create-req.xml.tpl', 'nova/tests/functional/api_samples/image-metadata-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-group-quotas/quotas-show-defaults-get-resp.xml.tpl', 'nova/tests/functional/test_extensions.py', 'nova/tests/functional/v3/api_samples/os-volumes/os-volumes-index-resp.json.tpl', 'nova/tests/functional/api_samples/os-hide-server-addresses/servers-details-resp.xml.tpl', 'nova/tests/functional/api_samples/os-keypairs/keypairs-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-quota-sets/quotas-update-force-post-req.json.tpl', 'nova/tests/functional/api_samples/all_extensions/server-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/flavor-manage/flavor-create-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/servers/server-action-reboot.json.tpl', 'nova/tests/functional/api_samples/os-flavor-extra-specs/flavor-extra-specs-update-req.json.tpl', 'nova/tests/functional/api_samples/server-action-revertresize.json.tpl', 'nova/tests/functional/api_samples/image-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-rescue/server-post-resp.json.tpl', 'nova/tests/functional/v3/test_server_groups.py', 'nova/tests/unit/integrated/v3/api_samples/os-services/service-enable-put-req.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-IPS/servers-detail-resp.xml.tpl', 'nova/tests/functional/api_samples/os-hide-server-addresses/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/OS-SRV-USG/server-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-services/service-disable-log-put-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-server-diagnostics/server-post-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-agents/agent-update-put-req.json.tpl', 'nova/tests/functional/api_samples/os-extended-volumes/server-post-resp.xml.tpl', 'nova/tests/functional/api_samples/OS-SRV-USG/server-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-migrate-server/migrate-server.json.tpl', 'nova/tests/functional/api_samples/os-fping/fping-get-resp.xml.tpl', 'nova/tests/functional/v3/test_flavor_access.py', 'nova/tests/unit/integrated/v3/api_samples/os-multiple-create/multiple-create-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-floating-ips/floating-ips-list-empty-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-password/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/all_extensions/flavor-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-group-quotas/quotas-update-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-aggregates/aggregates-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/flavors/flavors-list-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-floating-ips-bulk/floating-ips-bulk-delete-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-assisted-volume-snapshots/snapshot-create-assisted-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-networks/networks-list-resp.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-SRV-ATTR/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-hide-server-addresses/servers-details-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-password/get-password-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-instance-usage-audit-log/inst-usage-audit-log-index-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-volumes/server-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-extended-rescue-with-image/server-rescue.xml.tpl', 'nova/tests/functional/v3/api_samples/os-cloudpipe/cloud-pipe-create-req.json.tpl', 'nova/tests/functional/v3/test_multinic.py', 'nova/tests/functional/api_samples/os-flavor-access/flavor-access-detail-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-availability-zone/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-pci/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-disk-config/image-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-instance_usage_audit_log/inst-usage-audit-log-show-get-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-services/service-enable-put-req.json.tpl', 'nova/tests/functional/api_samples/os-user-quotas/user-quotas-update-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-cells/cells-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-suspend.xml.tpl', 'nova/tests/functional/v3/api_samples/os-extended-availability-zone/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/OS-SRV-USG/server-post-req.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-AZ/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-extended-evacuate-find-host/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-IMG-SIZE/image-get-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-networks-associate/network-disassociate-host-req.json.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-unlock-server.xml.tpl', 'nova/tests/functional/api_samples/os-hypervisors/hypervisors-servers-resp.json.tpl', 'nova/tests/functional/api_samples/OS-DCF/image-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-extended-volumes/server-get-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-instance-usage-audit-log/inst-usage-audit-log-show-get-resp.json.tpl', 'nova/virt/hyperv/imagecache.py', 'nova/tests/functional/api_samples/os-extended-networks/network-show-resp.json.tpl', 'nova/tests/functional/api_samples/limit-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-networks-associate/network-disassociate-req.json.tpl', 'nova/tests/functional/api_samples/os-security-groups/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-disk-config/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-flavor-swap/flavor-swap-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-availability-zone/availability-zone-details-resp.json.tpl', 'nova/tests/functional/api_samples/os-flavor-access/flavor-access-add-tenant-resp.json.tpl', 'nova/tests/functional/api_samples/os-networks/networks-disassociate-req.xml.tpl', 'nova/tests/functional/api_samples/os-migrations/migrations-get.xml.tpl', 'nova/tests/functional/api_samples/os-hosts/host-get-reboot.xml.tpl', 'nova/tests/functional/api_samples/os-hypervisors/hypervisors-statistics-resp.xml.tpl', 'nova/tests/functional/api_samples/OS-EXT-IMG-SIZE/images-details-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-aggregates/aggregate-update-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-volumes/attach-volume-to-server-req.json.tpl', 'nova/tests/functional/v3/test_hide_server_addresses.py', 'nova/tests/functional/v3/test_networks.py', 'nova/tests/functional/api_samples/os-aggregates/aggregate-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-groups/server-groups-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-console-auth-tokens/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-floating-ips/floating-ips-create-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-config-drive/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-networks/networks-list-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-security-group-default-rules/security-group-default-rules-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-fping/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-migrate.xml.tpl', 'nova/tests/functional/api_samples/os-flavor-manage/flavor-create-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-access-ips/server-action-rebuild.json.tpl', 'nova/tests/functional/v3/test_image_size.py', 'nova/tests/functional/api_samples/os-console-output/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-rescue/server-rescue-req.json.tpl', 'nova/tests/functional/api_samples/os-flavor-access/flavor-access-detail-resp.json.tpl', 'nova/tests/functional/api_samples/images-details-get-resp.json.tpl', 'nova/tests/functional/api_samples/all_extensions/server-action-changepassword.xml.tpl', 'nova/tests/functional/api_samples/all_extensions/server-action-confirmresize.xml.tpl', 'nova/tests/functional/api_samples/os-extended-floating-ips/floating-ips-list-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-agents/agent-update-put-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-simple-tenant-usage/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-hosts/host-get-shutdown.json.tpl', 'nova/tests/functional/api_samples/os-attach-interfaces/attach-interfaces-list-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-multiple-create/multiple-create-post-req.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-admin-actions/admin-actions-reset-server-state.json.tpl', 'nova/tests/functional/v3/api_samples/flavor-manage/flavor-create-post-req.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-services/service-disable-log-put-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-flavor-rxtx/flavor-rxtx-post-req.json.tpl', 'nova/tests/functional/api_samples/os-certificates/certificate-create-req.xml.tpl', 'nova/tests/functional/api_samples/os-hosts/host-get-shutdown.json.tpl', 'nova/tests/functional/api_samples/os-volumes/os-volumes-post-req.json.tpl', 'nova/tests/functional/api_samples/os-agents/agent-update-put-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-console-auth-tokens/get-rdp-console-post-req.json.tpl', 'nova/tests/functional/api_samples/os-security-groups/security-groups-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-availability-zone/availability-zone-post-req.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-deferred-delete/restore-post-req.json.tpl', 'nova/tests/functional/api_samples/os-shelve/server-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-pause-server/unpause-server.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-server-groups/server-groups-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-availability-zone/availability-zone-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/flavor-access/flavor-access-add-tenant-resp.json.tpl', 'nova/tests/functional/api_samples/os-services/service-enable-put-req.xml.tpl', 'nova/tests/functional/api_samples/os-flavor-extra-specs/flavor-extra-specs-create-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-tenant-networks/networks-post-res.json.tpl', 'nova/tests/functional/api_samples/os-extended-floating-ips/floating-ips-list-resp.xml.tpl', 'nova/tests/functional/api_samples/os-server-group-quotas/quota-classes-show-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-services/service-disable-put-req.xml.tpl', 'nova/tests/functional/api_samples/os-extended-rescue-with-image/server-get-resp-rescue.json.tpl', 'nova/tests/functional/api_samples/os-volumes/attach-volume-to-server-req.xml.tpl', 'nova/tests/functional/api_samples/os-networks-associate/network-disassociate-req.xml.tpl', 'nova/tests/functional/api_samples/image-meta-key-put-req.xml.tpl', 'nova/tests/functional/api_samples/os-deferred-delete/restore-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/consoles/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-extended-rescue-with-image/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-hypervisors/hypervisors-show-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-tenant-networks/networks-list-res.json.tpl', 'nova/tests/functional/v3/__init__.py', 'nova/tests/functional/v3/api_samples/os-server-diagnostics/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-block-device-mapping-v2-boot/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/NMN/server-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-volumes/server-post-req.json.tpl', 'nova/tests/functional/v3/test_rescue.py', 'nova/tests/functional/api_samples/OS-EXT-IPS/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-extended-volumes/server-get-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-volumes/os-volumes-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-volumes/server-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-hide-server-addresses/servers-details-resp.json.tpl', 'nova/tests/functional/v3/api_samples/server-metadata/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-reset-state.xml.tpl', 'nova/tests/functional/api_samples/os-networks/network-add-req.xml.tpl', 'nova/tests/functional/api_samples/os-agents/agent-post-req.json.tpl', 'nova/tests/functional/api_samples/all_extensions/server-post-req.json.tpl', 'nova/tests/functional/v3/test_extended_server_attributes.py', 'nova/tests/functional/api_samples/os-volumes/server-post-req.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-security-group-default-rules/security-group-default-rules-create-resp.json.tpl', 'nova/tests/functional/api_samples/os-certificates/certificate-create-req.json.tpl', 'nova/tests/functional/api_samples/os-consoles/server-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-services/service-disable-put-resp.json.tpl', 'nova/tests/functional/api_samples/os-agents/agent-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-flavor-access/flavor-access-add-tenant-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-admin-actions/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-agents/agent-post-req.json.tpl', 'nova/tests/functional/api_samples/os-security-group-default-rules/security-group-default-rules-show-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-attach-interfaces/attach-interfaces-create-resp.json.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-inject-network-info.json.tpl', 'nova/tests/functional/v3/api_samples/os-attach-interfaces/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-extended-rescue-with-image/server-rescue-req.xml.tpl', 'nova/tests/functional/v3/api_samples/all_extensions/servers-details-resp.json.tpl', 'nova/tests/functional/api_samples/image-metadata-get-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-server-groups/server-groups-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-console-auth-tokens/server-post-req.json.tpl', 'nova/tests/functional/api_samples/OS-DCF/image-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-console-output/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-used-limits-for-admin/usedlimitsforadmin-get-resp.json.tpl', 'nova/tests/functional/api_samples/server-metadata-all-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/flavor-access/flavor-access-show-resp.json.tpl', 'nova/tests/functional/v3/api_samples/images/image-meta-key-put-resp.json.tpl', 'nova/tests/functional/api_samples/os-preserve-ephemeral-rebuild/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-pci/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-reset-network.json.tpl', 'nova/tests/functional/api_samples/OS-DCF/server-action-rebuild-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-volumes/attach-volume-req.json.tpl', 'nova/tests/functional/v3/api_samples/servers/servers-list-resp.json.tpl', 'nova/tests/functional/api_samples/OS-FLV-EXT-DATA/flavors-extra-data-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-services/service-disable-put-req.json.tpl', 'nova/tests/functional/v3/test_floating_ip_pools.py', 'nova/tests/functional/api_samples/os-consoles/get-spice-console-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-virtual-interfaces/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-live-migrate.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-STS/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-services/service-disable-log-put-resp.json.tpl', 'nova/tests/functional/api_samples/all_extensions/server-action-rebuild-resp.json.tpl', 'nova/tests/functional/api_samples/os-block-device-mapping-v2-boot/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-cloudpipe/cloud-pipe-create-resp.json.tpl', 'nova/tests/functional/api_samples/os-flavor-swap/flavor-swap-list-resp.json.tpl', 'nova/tests/unit/network/test_api.py', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-reset-server-state.json.tpl', 'nova/tests/functional/api_samples/os-multiple-create/multiple-create-no-resv-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-availability-zone/availability-zone-details-resp.xml.tpl', 'nova/tests/functional/api_samples/os-instance-actions/instance-actions-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-console-auth-tokens/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-instance_usage_audit_log/inst-usage-audit-log-show-get-resp.json.tpl', 'nova/tests/functional/api_samples/OS-DCF/server-update-put-req.xml.tpl', 'nova/tests/functional/api_samples/os-aggregates/aggregates-remove-host-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-hide-server-addresses/server-post-req.json.tpl', 'nova/tests/functional/api_samples/OS-DCF/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-keypairs/keypairs-list-resp.json.tpl', 'nova/tests/functional/api/__init__.py', 'nova/tests/functional/v3/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-entry-resp.json.tpl', 'nova/tests/functional/api_samples/image-metadata-put-resp.json.tpl', 'nova/tests/functional/api_samples/os-agents/agents-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/flavor-access/flavor-access-add-tenant-req.json.tpl', 'nova/tests/functional/v3/test_server_diagnostics.py', 'nova/tests/functional/v3/api_samples/os-quota-sets/quotas-update-force-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-security-groups/security-groups-get-resp.json.tpl', 'nova/tests/functional/api_samples/versions-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/images/images-list-get-resp.json.tpl', 'nova/tests/functional/api_samples/OS-DCF/server-get-resp.json.tpl', 'nova/tests/functional/api_samples/server-action-changepassword.json.tpl', 'nova/tests/functional/v3/api_samples/os-admin-actions/admin-actions-inject-network-info.json.tpl', 'doc/v3/api_samples/os-volumes/attach-volume-to-server-resp.json', 'nova/tests/unit/integrated/v3/api_samples/os-quota-class-sets/quota-classes-update-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-aggregates/aggregates-add-host-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-reset-state.json.tpl', 'nova/tests/functional/v3/api_samples/os-cloudpipe/cloud-pipe-update-req.json.tpl', 'nova/tests/functional/v3/test_used_limits.py', 'nova/tests/functional/v3/api_samples/os-migrations/migrations-get.json.tpl', 'nova/tests/functional/api_samples/OS-FLV-DISABLED/flavor-show-get-resp.json.tpl', 'nova/tests/functional/v3/test_certificates.py', 'nova/tests/functional/api_samples/OS-EXT-STS/server-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-simple-tenant-usage/simple-tenant-usage-get.json.tpl', 'nova/tests/functional/api_samples/os-consoles/get-spice-console-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-shelve/os-unshelve.json.tpl', 'nova/tests/functional/v3/api_samples/keypairs/keypairs-post-resp.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-SRV-ATTR/server-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-floating-ip-dns/floating-ip-dns-entry-list-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-access-ips/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-server-external-events/event-create-req.json.tpl', 'nova/tests/functional/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-by-host-resp.xml.tpl', 'doc/v3/api_samples/os-volumes/volume-attachment-detail-resp.json', 'nova/tests/functional/api_samples/os-quota-sets/quotas-update-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-floating-ips-bulk/floating-ips-bulk-delete-req.xml.tpl', 'nova/tests/functional/api_samples/os-fping/fping-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-floating-ips/floating-ips-create-nopool-req.xml.tpl', 'nova/tests/functional/api_samples/os-server-group-quotas/quotas-show-get-resp.xml.tpl', 'nova/tests/functional/api_samples/all_extensions/server-action-rebuild.xml.tpl', 'nova/tests/functional/v3/api_samples/os-multinic/server-post-resp.json.tpl', 'nova/tests/functional/v3/test_create_backup.py', 'nova/tests/functional/api_samples/os-attach-interfaces/attach-interfaces-show-resp.json.tpl', 'nova/tests/functional/api_samples/os-volumes/snapshot-create-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-multinic/multinic-remove-fixed-ip-req.json.tpl', 'nova/tests/functional/api_samples/os-server-start-stop/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/README.rst', 'nova/tests/functional/v3/api_samples/os-pause-server/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-by-host-resp.json.tpl', 'nova/tests/functional/api_samples/os-extended-networks/network-show-resp.xml.tpl', 'nova/tests/functional/api_samples/os-server-diagnostics/server-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-extended-status/servers-detail-resp.json.tpl', 'nova/tests/functional/api_samples/os-simple-tenant-usage/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-keypairs/keypairs-import-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/servers/server-action-revert-resize.json.tpl', 'nova/tests/functional/api_samples/os-services/service-disable-put-req.json.tpl', 'nova/tests/functional/api_samples/os-assisted-volume-snapshots/snapshot-create-assisted-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-admin-actions/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-start-stop/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-attach-interfaces/attach-interfaces-create-resp.xml.tpl', 'nova/tests/functional/api_samples/os-tenant-networks/networks-post-res.json.tpl', 'nova/tests/functional/api_samples/os-fixed-ips/fixedips-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-services/service-disable-log-put-resp.xml.tpl', 'nova/tests/functional/api_samples/server-action-resize.json.tpl', 'nova/tests/functional/api_samples/os-cloudpipe-update/cloud-pipe-update-req.xml.tpl', 'nova/tests/functional/api_samples/os-assisted-volume-snapshots/snapshot-create-assisted-resp.xml.tpl', 'nova/tests/functional/v3/test_suspend_server.py', 'nova/tests/functional/v3/api_samples/consoles/consoles-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-aggregates/aggregate-post-resp.xml.tpl', 'etc/nova/policy.json', 'nova/tests/functional/api_samples/os-extended-rescue-with-image/server-rescue-req.json.tpl', 'nova/tests/functional/api_samples/os-flavor-rxtx/flavor-rxtx-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-volumes/os-volumes-get-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-entry-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-flavor-rxtx/flavor-rxtx-list-resp.json.tpl', 'nova/tests/functional/v3/test_flavor_extraspecs.py', 'nova/tests/functional/api_samples/os-aggregates/aggregate-add-host-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-remote-consoles/get-spice-console-post-resp.json.tpl', 'nova/tests/functional/api_samples/server-action-rebuild-resp.xml.tpl', 'nova/tests/functional/api_samples/all_extensions/server-action-reboot.xml.tpl', 'nova/tests/functional/api_samples/os-server-list-multi-status/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-hypervisors/hypervisors-list-resp.xml.tpl', 'nova/tests/functional/api_samples/os-extended-floating-ips/floating-ips-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-console-auth-tokens/get-rdp-console-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-availability-zone/availability-zone-detail-resp.json.tpl', 'nova/tests/functional/v3/api_samples/server-ips/server-ips-resp.json.tpl', 'nova/tests/functional/api_samples/OS-SCH-HNT/scheduler-hints-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-certificates/certificate-create-resp.json.tpl', 'nova/tests/functional/v3/api_samples/servers/server-post-resp.json.tpl', 'nova/api/openstack/compute/plugins/v3/volumes.py', 'nova/tests/functional/api_samples/os-admin-actions/server-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-floating-ips-bulk/floating-ips-bulk-create-req.json.tpl', 'nova/tests/functional/api_samples/os-floating-ips-bulk/floating-ips-bulk-create-resp.xml.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-floating-ip-dns/floating-ip-dns-entry-get-resp.json.tpl', 'nova/tests/functional/v3/test_console_auth_tokens.py', 'nova/tests/functional/api_samples/os-hypervisors/hypervisors-statistics-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-diagnostics/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/keypairs/keypairs-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-aggregates/aggregates-remove-host-post-resp.json.tpl', 'nova/tests/functional/v3/test_flavor_manage.py', 'nova/tests/functional/v3/api_samples/os-floating-ip-pools/floatingippools-list-resp.json.tpl', 'nova/tests/functional/v3/test_simple_tenant_usage.py', 'nova/tests/functional/api_samples/server-action-confirmresize.xml.tpl', 'nova/tests/functional/api_samples/os-volume-attachment-update/server-post-req.json.tpl', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/v3/api_samples/os-access-ips/server-put-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-evacuate/server-evacuate-req.json.tpl', 'nova/tests/functional/api_samples/OS-FLV-EXT-DATA/flavors-extra-data-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-consoles/get-serial-console-post-req.xml.tpl', 'nova/tests/functional/v3/test_agents.py', 'nova/tests/functional/api_samples/os-security-groups/security-group-add-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-disk-config/list-servers-detail-get.json.tpl', 'nova/tests/functional/v3/api_samples/os-volumes/snapshot-create-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-lock-server/server-post-req.json.tpl', 'nova/tests/functional/v3/test_admin_password.py', 'nova/tests/functional/api_samples/server-get-resp.json.tpl', 'nova/tests/functional/v3/test_deferred_delete.py', 'nova/tests/functional/api_samples/os-security-group-default-rules/security-group-default-rules-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-flavor-access/flavor-access-create-req.xml.tpl', 'nova/tests/functional/api_samples/os-networks/network-create-req.json.tpl', 'nova/tests/functional/api_samples/os-extended-services-delete/services-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-assisted-volume-snapshots/snapshot-create-assisted-req.xml.tpl', 'nova/tests/functional/api_samples/os-user-data/userdata-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-disk-config/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-group-quotas/quota-classes-show-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-entry-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-attach-interfaces/attach-interfaces-create-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-remote-consoles/server-post-req.json.tpl', 'nova/tests/functional/api_samples/OS-SRV-USG/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-aggregates/aggregate-remove-host-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/images/image-metadata-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-aggregates/aggregates-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-extended-quotas/quotas-update-post-req.json.tpl', 'nova/tests/functional/api_samples/os-server-external-events/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-server-groups/server-groups-get-resp.xml.tpl', 'nova/tests/functional/api_samples/OS-EXT-IPS/server-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-quota-sets/quotas-show-defaults-get-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-tenant-networks/networks-post-req.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-volumes/os-volumes-detail-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-instance-actions/instance-action-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/flavor-extra-specs/flavor-extra-specs-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-aggregates/aggregate-update-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-services/service-enable-put-resp.xml.tpl', 'nova/tests/functional/api_samples/server-metadata-all-req.xml.tpl', 'nova/tests/functional/api_samples/OS-SCH-HNT/scheduler-hints-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-reset-server-state.xml.tpl', 'nova/tests/functional/v3/api_samples/flavor-access/flavor-access-remove-tenant-resp.json.tpl', 'nova/tests/functional/api_samples/os-cloudpipe/cloud-pipe-create-resp.json.tpl', 'nova/tests/functional/v3/test_disk_config.py', 'nova/tests/functional/api_samples/os-volume-attachment-update/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-volume-attachment-update/update-volume-req.json.tpl', 'nova/tests/functional/api_samples/os-admin-actions/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-floating-ip-dns/floating-ip-dns-entry-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-user-quotas/user-quotas-show-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-consoles/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-extended-evacuate-find-host/server-evacuate-find-host-resp.json.tpl', 'nova/tests/functional/api_samples/os-hide-server-addresses/server-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-security-groups/security-groups-create-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-security-groups/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/NMN/multinic-add-fixed-ip-req.xml.tpl', 'nova/tests/functional/api_samples/os-security-groups/security-groups-get-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-aggregates/aggregates-metadata-post-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-server-groups/server-groups-post-req.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-SRV-ATTR/servers-detail-resp.json.tpl', 'nova/tests/functional/api_samples/server-action-confirmresize.json.tpl', 'nova/tests/functional/v3/test_availability_zone.py', 'nova/tests/functional/api_samples/os-aggregates/aggregate-metadata-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/consoles/consoles-create-req.json.tpl', 'nova/tests/functional/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-entry-req.xml.tpl', 'nova/tests/functional/api_samples/os-networks-associate/network-associate-host-req.json.tpl', 'nova/tests/functional/v3/api_samples/keypairs/keypairs-import-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-cells/cells-list-empty-resp.json.tpl', 'nova/tests/functional/api_samples/os-fixed-ips/fixedip-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-extended-floating-ips/floating-ips-list-empty-resp.xml.tpl', 'nova/tests/functional/api_samples/os-server-group-quotas/quota-classes-update-post-req.json.tpl', 'nova/tests/functional/api_samples/os-floating-ips/floating-ips-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-attach-interfaces/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-floating-ips/floating-ips-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-server-list-multi-status/servers-list-resp.xml.tpl', 'nova/tests/functional/api_samples/image-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-preserve-ephemeral-rebuild/server-action-rebuild.xml.tpl', 'nova/tests/functional/api_samples/os-rescue/server-rescue-req.json.tpl', 'nova/tests/functional/api_samples/os-aggregates/aggregates-metadata-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-consoles/get-rdp-console-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-unpause.xml.tpl', 'nova/tests/functional/api_samples/os-extended-floating-ips/floating-ips-list-empty-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-config-drive/server-config-drive-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-flavor-access/flavor-access-remove-tenant-req.json.tpl', 'nova/tests/functional/v3/test_security_group_default_rules.py', 'nova/tests/functional/api_samples/images-details-resp.xml.tpl', 'nova/tests/functional/api_samples/os-flavor-access/flavor-access-add-tenant-resp.xml.tpl', 'nova/tests/functional/api_samples/os-quota-sets/quotas-show-get-resp.xml.tpl', 'nova/network/api.py', 'nova/tests/functional/__init__.py', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-reset-network.xml.tpl', 'nova/tests/functional/api_samples/os-hide-server-addresses/servers-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-volumes/os-volumes-detail-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-volumes/servers-detail-resp.json.tpl', 'nova/tests/functional/api_samples/os-config-drive/server-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/server-metadata/server-metadata-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-instance-actions/instance-actions-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-used-limits-for-admin/usedlimitsforadmin-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-volumes/os-volumes-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-keypairs/keypairs-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-cells/cells-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-volumes/volume-attachment-detail-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-hide-server-addresses/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-backup-server.xml.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-pause.json.tpl', 'nova/tests/functional/api_samples/os-flavor-extra-specs/flavor-extra-specs-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-aggregates/server-post-resp.xml.tpl', 'nova/tests/functional/api_samples/server-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-security-groups/security-group-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-simple-tenant-usage/simple-tenant-usage-get.xml.tpl', 'nova/tests/functional/api_samples/server-metadata-all-req.json.tpl', 'nova/tests/functional/api_samples/OS-SRV-USG/server-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-access-ips/server-post-req.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-security-group-default-rules/security-group-default-rules-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-extended-volumes/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-status/server-post-req.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-IMG-SIZE/images-details-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-flavor-rxtx/flavor-rxtx-list-resp.xml.tpl', 'nova/tests/functional/v3/test_keypairs.py', 'nova/tests/functional/v3/api_samples/os-fping/fping-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-config-drive/server-config-drive-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-floating-ip-dns/floating-ip-dns-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-aggregates/aggregate-update-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-server-list-multi-status/servers-list-resp.json.tpl', 'nova/tests/functional/v3/api_samples/all_extensions/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-hypervisors/hypervisors-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-rescue/server-get-resp-unrescue.json.tpl', 'nova/tests/functional/api_samples/os-extended-volumes/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-hosts/host-get-startup.xml.tpl', 'nova/tests/functional/v3/api_samples/os-server-groups/server-groups-list-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-deferred-delete/force-delete-post-req.json.tpl', 'nova/tests/functional/api_samples/os-attach-interfaces/attach-interfaces-show-resp.xml.tpl', 'nova/tests/functional/v3/test_hypervisors.py', 'nova/tests/functional/api_samples/os-virtual-interfaces/vifs-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-aggregates/aggregates-metadata-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-hypervisor-status/hypervisors-show-with-status-resp.xml.tpl', 'nova/tests/functional/api_samples/OS-EXT-STS/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-quota-sets/user-quotas-show-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-security-group-default-rules/security-group-default-rules-create-req.xml.tpl', 'nova/tests/functional/v3/api_samples/flavor-extra-specs/flavor-extra-specs-update-resp.json.tpl', 'nova/tests/functional/api_samples/os-block-device-mapping-v2-boot/server-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-extended-floating-ips/floating-ips-create-nopool-req.json.tpl', 'nova/tests/functional/v3/api_samples/images/image-metadata-post-resp.json.tpl', 'nova/api/openstack/compute/plugins/v3/services.py', 'nova/tests/functional/api_samples/os-user-data/userdata-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-server-diagnostics/server-diagnostics-get-resp.xml.tpl', 'nova/tests/functional/api_samples/versions-get-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-resp.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-IPS-MAC/servers-detail-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-volumes/attach-volume-to-server-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-server-external-events/server-post-req.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-floating-ip-dns/floating-ip-dns-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-fixed-ips/fixedip-post-req.json.tpl', 'nova/tests/functional/api_samples/all_extensions/server-action-rebuild-resp.xml.tpl', 'nova/tests/functional/api_samples/os-consoles/get-vnc-console-post-resp.json.tpl', 'nova/tests/functional/api_samples/OS-DCF/server-update-put-resp.json.tpl', 'nova/tests/functional/v3/api_sample_base.py', 'nova/tests/functional/api_samples/os-server-password/server-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-create-backup/create-backup-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-migrate-server/live-migrate-server.json.tpl', 'nova/tests/functional/v3/test_networks_associate.py', 'nova/tests/functional/v3/api_samples/os-hosts/host-put-maintenance-resp.json.tpl', 'nova/tests/functional/api_samples/os-aggregates/aggregates-list-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-consoles/get-vnc-console-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-security-groups/server-security-groups-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-flavor-swap/flavor-swap-post-req.json.tpl', 'nova/tests/functional/api_samples/os-security-group-default-rules/security-group-default-rules-create-req.json.tpl', 'nova/tests/functional/api_samples/os-consoles/get-spice-console-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-pci/servers-detail-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-volumes/os-volumes-index-resp.json.tpl', 'nova/tests/functional/api_samples/OS-DCF/server-resize-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-pci/pci-detail-resp.json.tpl', 'nova/tests/functional/api_samples/all_extensions/server-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/servers/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-flavor-rxtx/flavor-rxtx-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-server-external-events/event-create-resp.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-AZ/server-get-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-volumes/snapshots-detail-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-disk-config/server-get-resp.json.tpl', 'nova/tests/functional/api_samples/OS-FLV-EXT-DATA/flavors-extra-data-get-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/server-ips/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-fixed-ips/fixedips-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-groups/server-groups-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-rescue/server-rescue-req-with-image-ref.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-IPS/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-simple-tenant-usage/simple-tenant-usage-get-specific.json.tpl', 'nova/tests/functional/api_samples/os-server-password/get-password-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-volumes/snapshots-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-certificates/certificate-create-resp.xml.tpl', 'nova/tests/functional/api_samples/os-keypairs/keypairs-import-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-availability-zone/servers-detail-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-list-multi-status/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-IPS/servers-detail-resp.json.tpl', 'nova/tests/functional/api_samples/os-services/services-list-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-flavor-access/flavor-access-show-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-agents/agents-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-volumes/os-volumes-index-resp.xml.tpl', 'nova/tests/functional/api_samples/os-console-output/console-output-post-req.json.tpl', 'nova/tests/functional/api_samples/os-admin-actions/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-diagnostics/server-diagnostics-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-pci/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-flavor-rxtx/flavor-rxtx-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-aggregates/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-virtual-interfaces/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-instance-actions/instance-actions-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-floating-ips/floating-ips-create-req.json.tpl', 'nova/tests/functional/v3/test_admin_actions.py', 'nova/tests/functional/v3/test_remote_consoles.py', 'nova/tests/functional/api_samples/os-cloudpipe/cloud-pipe-create-req.xml.tpl', 'nova/tests/functional/api_samples/os-security-group-default-rules/security-group-default-rules-create-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-lock-server/unlock-server.json.tpl', 'nova/tests/functional/api_samples/os-agents/agent-update-put-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-hide-server-addresses/servers-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-volume-attachment-update/update-volume-req.xml.tpl', 'nova/tests/functional/v3/test_consoles.py', 'nova/tests/functional/api_samples/os-attach-interfaces/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-config-drive/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-networks-associate/network-disassociate-req.json.tpl', 'nova/tests/functional/api_samples/os-simple-tenant-usage/simple-tenant-usage-get-specific.xml.tpl', 'nova/tests/functional/v3/api_samples/os-fixed-ips/fixedip-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-cells/cells-capacities-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-hypervisors/hypervisors-statistics-resp.json.tpl', 'nova/tests/functional/api_samples/images-list-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-aggregates/aggregates-add-host-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-cells/cells-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-console-auth-tokens/get-rdp-console-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-remote-consoles/get-rdp-console-post-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-console-output/console-output-post-req.json.tpl', 'nova/tests/functional/api_samples/os-floating-ips-bulk/floating-ips-bulk-delete-resp.json.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-unpause.json.tpl', 'nova/tests/functional/v3/api_samples/os-simple-tenant-usage/server-post-req.json.tpl', 'nova/tests/functional/api_samples_test_base.py', 'nova/tests/functional/api_samples/os-aggregates/aggregate-post-req.json.tpl', 'nova/tests/functional/api_samples/os-extended-hypervisors/hypervisors-show-with-ip-resp.json.tpl', 'nova/tests/functional/api_samples/os-certificates/certificate-get-root-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-evacuate/server-evacuate-find-host-req.json.tpl', 'nova/tests/functional/v3/test_floating_ip_dns.py', 'nova/tests/functional/api_samples/os-hosts/host-get-startup.json.tpl', 'nova/tests/functional/api_samples/os-shelve/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-flavor-extra-specs/flavor-extra-specs-get-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-floating-ip-dns/floating-ip-dns-entry-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-quota-sets/quotas-update-post-req.json.tpl', 'nova/tests/functional/api_samples/os-fping/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-shelve/os-shelve.xml.tpl', 'nova/tests/functional/api_samples/os-simple-tenant-usage/simple-tenant-usage-get-specific.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-STS/server-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-shelve/os-shelve-offload.json.tpl', 'nova/tests/functional/api_samples/os-volume-attachment-update/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-extended-floating-ips/floating-ips-create-req.json.tpl', 'nova/tests/functional/api_samples/os-hosts/host-get-resp.json.tpl', 'nova/tests/functional/api_samples/server-post-resp.xml.tpl', 'nova/tests/functional/api_samples/OS-SCH-HNT/scheduler-hints-post-req.json.tpl', 'nova/tests/functional/api_samples/os-services/services-get-resp.xml.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-floating-ips-bulk/floating-ips-bulk-delete-req.json.tpl', 'nova/tests/functional/api_samples/NMN/multinic-remove-fixed-ip-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-server-diagnostics/server-diagnostics-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-services/service-enable-put-req.json.tpl', 'nova/tests/functional/api_samples/os-volumes/os-volumes-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-attach-interfaces/attach-interfaces-list-resp.xml.tpl', 'nova/tests/functional/api_samples/os-flavor-extra-specs/flavor-extra-specs-create-req.xml.tpl', 'nova/tests/functional/api_samples/os-volumes/os-volumes-get-resp.xml.tpl', 'nova/tests/functional/api_samples/all_extensions/extensions-get-resp.json.tpl', 'nova/tests/functional/api_samples/server-action-rebuild-resp.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-IPS/server-post-req.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-evacuate/server-evacuate-req.json.tpl', 'nova/tests/functional/api_samples/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-evacuate/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-cells/cells-get-resp.json.tpl', 'nova/tests/functional/v3/test_pause_server.py', 'nova/tests/functional/api_samples/os-cells/cells-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-groups/server-groups-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-availability-zone/availability-zone-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-rescue/server-unrescue-req.json.tpl', 'nova/tests/functional/api_samples/all_extensions/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-security-groups/security-group-add-post-req.json.tpl', 'nova/tests/unit/fake_policy.py', 'nova/tests/functional/api_samples/os-rescue/server-rescue-req.xml.tpl', 'nova/tests/functional/api_samples/os-multiple-create/multiple-create-no-resv-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/servers/server-action-start.json.tpl', 'nova/tests/functional/api_samples/os-console-output/console-output-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-quota-sets/quotas-update-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-create-backup/server-post-resp.json.tpl', 'nova/tests/functional/v3/test_fping.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/tests/functional/api_samples/os-security-group-default-rules/security-group-default-rules-list-resp.xml.tpl', 'nova/tests/functional/api_samples/servers-list-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-quota-class-sets/quota-classes-show-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-volumes/os-volumes-detail-resp.json.tpl', 'nova/tests/functional/api_samples/os-hosts/host-get-shutdown.xml.tpl', 'nova/tests/functional/api_samples/os-user-quotas/user-quotas-update-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-availability-zone/availability-zone-get-resp.json.tpl', 'nova/network/neutronv2/api.py', 'nova/tests/functional/api_samples/all_extensions/flavor-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-server-group-quotas/quotas-update-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-server-external-events/server-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-quota-class-sets/quota-classes-update-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/flavor-access/flavor-access-remove-tenant-req.json.tpl', 'nova/tests/functional/api_samples/os-consoles/get-rdp-console-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-hypervisors/hypervisors-uptime-resp.json.tpl', 'nova/tests/functional/api_samples/image-meta-key-get.json.tpl', 'nova/tests/functional/api_samples/os-certificates/certificate-get-root-resp.json.tpl', 'nova/tests/functional/api_samples/os-deferred-delete/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/server-action-revertresize.xml.tpl', 'nova/tests/functional/v3/api_samples/os-security-groups/security-groups-list-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-security-groups/security-groups-create-resp.json.tpl', 'nova/tests/functional/api_samples/os-flavor-rxtx/flavor-rxtx-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-preserve-ephemeral-rebuild/server-action-rebuild.json.tpl', 'nova/tests/functional/api_samples/os-migrations/migrations-get.json.tpl', 'nova/tests/functional/v3/api_samples/os-disk-config/server-update-put-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-quota-sets/quotas-update-force-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-floating-ip-dns/floating-ip-dns-entry-list-resp.json.tpl', 'nova/tests/functional/v3/test_volumes.py', 'nova/tests/functional/api_samples/all_extensions/servers-details-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-volumes/snapshot-create-resp.json.tpl', 'nova/tests/functional/api_samples/os-fping/server-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/servers/server-action-rebuild-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-group-quotas/quotas-update-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-volumes/update-volume-req.json.tpl', 'nova/tests/functional/api_samples/os-hypervisors/hypervisors-list-resp.json.tpl', 'etc/nova/api-paste.ini', 'nova/tests/functional/v3/test_flavor_rxtx.py', 'nova/tests/functional/v3/api_samples/os-volumes/volume-attachment-detail-resp.json.tpl', 'nova/tests/functional/api_samples/os-block-device-mapping-v2-boot/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-user-data/userdata-post-req.json.tpl', 'nova/tests/functional/api_samples/os-consoles/get-serial-console-post-req.json.tpl', 'nova/tests/functional/api_samples/os-floating-ip-dns/floating-ip-dns-entry-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-agents/agent-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/keypairs/keypairs-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-networks/network-create-resp.xml.tpl', 'nova/tests/functional/api_samples/os-extended-services-delete/services-get-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-instance-actions/instance-instance-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-hosts/host-put-maintenance-resp.json.tpl', 'nova/tests/functional/api_samples/os-volumes/os-volumes-detail-resp.xml.tpl', 'nova/tests/functional/api_samples/os-volumes/volume-attachment-detail-resp.xml.tpl', 'nova/tests/functional/api_samples/images-list-get-resp.xml.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-shelve/os-shelve.json.tpl', 'nova/tests/functional/api_samples/image-metadata-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-server-external-events/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-lock-server.json.tpl', 'nova/tests/functional/api_samples/os-config-drive/servers-config-drive-details-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-aggregates/aggregate-remove-host-post-req.json.tpl', 'nova/tests/functional/api_samples/os-shelve/server-post-resp.json.tpl', 'nova/tests/functional/test_xml.py', 'nova/tests/unit/api/openstack/compute/contrib/test_server_external_events.py', 'nova/tests/functional/api_samples/os-extended-networks/network-create-req.json.tpl', 'nova/tests/functional/api_samples/os-console-output/console-output-post-resp.xml.tpl', 'nova/tests/functional/api_samples/NMN/server-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-rescue/server-post-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-agents/agent-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-security-groups/server-get-resp.json.tpl', 'nova/tests/functional/v3/test_quota_sets.py', 'nova/tests/functional/v3/test_tenant_networks.py', 'nova/tests/functional/api_samples/OS-EXT-IPS-MAC/server-get-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/servers/server-action-rebuild.json.tpl', 'nova/tests/functional/api_samples/os-consoles/get-rdp-console-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-user-quotas/user-quotas-update-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-evacuate/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-volumes/list-volume-attachments-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-external-events/event-create-resp.xml.tpl', 'nova/tests/functional/api_samples/os-services/service-disable-log-put-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-access-ips/server-action-rebuild-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-access-ips/servers-details-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-server-groups/server-groups-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-quota-sets/quotas-update-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-scheduler-hints/scheduler-hints-post-req.json.tpl', 'nova/tests/functional/api_samples/all_extensions/server-action-revertresize.xml.tpl', 'nova/tests/functional/api_samples/server-metadata-resp.xml.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-quota-class-sets/quota-classes-update-post-req.json.tpl', 'nova/tests/functional/api_samples/all_extensions/server-action-changepassword.json.tpl', 'nova/tests/functional/api_samples/all_extensions/server-action-reboot.json.tpl', 'nova/tests/functional/api_samples/os-flavor-swap/flavor-swap-list-resp.xml.tpl', 'nova/tests/functional/api_samples/server-action-reboot.json.tpl', 'nova/tests/functional/v3/api_samples/os-deferred-delete/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-flavor-swap/flavor-swap-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-aggregates/aggregates-list-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-shelve/os-shelve.json.tpl', 'nova/tests/functional/v3/api_samples/os-availability-zone/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-admin-password/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-shelve/os-unshelve.xml.tpl', 'nova/tests/functional/api_samples/os-evacuate/server-evacuate-req.json.tpl', 'nova/tests/functional/api_samples/os-hosts/hosts-list-resp.json.tpl', 'nova/api/ec2/cloud.py', 'nova/tests/functional/api_samples/servers-list-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-console-output/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-security-groups/security-groups-list-get-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-fping/fping-get-details-resp.json.tpl', 'nova/tests/functional/v3/test_server_external_events.py', 'nova/tests/functional/api_samples/os-extended-volumes/server-post-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-security-group-default-rules/security-group-default-rules-create-req.json.tpl', 'nova/tests/functional/api_samples/os-server-groups/server-groups-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-agents/agent-update-put-req.json.tpl', 'nova/tests/functional/api_samples/os-extended-evacuate-find-host/server-evacuate-find-host-req.xml.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-volumes/snapshots-show-resp.json.tpl', 'nova/tests/functional/v3/api_samples/servers/server-action-stop.json.tpl', 'nova/tests/functional/v3/api_samples/keypairs/keypairs-import-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-security-groups/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-console-output/console-output-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-preserve-ephemeral-rebuild/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-virtual-interfaces/server-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-aggregates/aggregate-update-post-req.json.tpl', 'nova/tests/functional/api/client.py', 'nova/tests/functional/api_samples/os-used-limits/usedlimits-get-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-hosts/hosts-list-compute-service-resp.json.tpl', 'nova/tests/functional/api_samples/os-hypervisors/hypervisors-detail-resp.json.tpl', 'nova/tests/functional/api_samples/server-action-resize.xml.tpl', 'nova/tests/functional/api_samples/all_extensions/server-action-revertresize.json.tpl', 'nova/tests/functional/v3/api_samples/flavor-extra-specs/flavor-extra-specs-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-cell-capacities/cells-capacities-resp.xml.tpl', 'nova/tests/functional/api_samples/os-config-drive/server-config-drive-get-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-hypervisors/hypervisors-servers-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-shelve/os-unshelve.json.tpl', 'nova/tests/functional/api_samples/os-hypervisor-status/hypervisors-show-with-status-resp.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-SRV-ATTR/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-evacuate/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-volumes/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-agents/agent-update-put-req.xml.tpl', 'nova/tests/functional/api_samples/OS-EXT-VIF-NET/server-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-volumes/snapshot-create-resp.json.tpl', 'nova/tests/functional/api_samples/os-security-groups/security-groups-list-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-agents/agents-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-keypairs/keypairs-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-tenant-networks/networks-post-res.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-volumes/detach-volume-req.json.tpl', 'nova/tests/functional/api_samples/os-aggregates/aggregate-update-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-pci/hypervisors-pci-detail-resp.json.tpl', 'nova/tests/functional/api_samples/os-extended-rescue-with-image/server-rescue.json.tpl', 'nova/tests/functional/api_samples/os-quota-sets/quotas-show-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-networks-associate/network-associate-host-req.json.tpl', 'nova/tests/functional/api_samples/OS-DCF/server-update-put-resp.xml.tpl', 'nova/tests/functional/api_samples/os-evacuate/server-evacuate-req.xml.tpl', 'nova/tests/functional/api_samples/os-services/services-get-resp.json.tpl', 'nova/tests/functional/v3/test_evacuate.py', 'nova/tests/functional/v3/api_samples/os-suspend-server/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-security-group-default-rules/security-group-default-rules-create-resp.json.tpl', 'nova/tests/functional/api_samples/os-virtual-interfaces/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-volumes/snapshots-show-resp.json.tpl', 'nova/tests/functional/api_samples/os-hide-server-addresses/server-post-resp.xml.tpl', 'nova/tests/functional/v3/test_extension_info.py', 'nova/tests/functional/api_samples/os-server-start-stop/server-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/servers/server-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-security-groups/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/OS-EXT-IPS-MAC/server-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-instance_usage_audit_log/inst-usage-audit-log-index-get-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-floating-ip-pools/floatingippools-list-resp.json.tpl', 'nova/tests/functional/api_samples/images-details-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-resume.json.tpl', 'nova/tests/functional/v3/api_samples/os-services/service-enable-put-resp.json.tpl', 'nova/tests/functional/v3/test_server_metadata.py', 'nova/tests/functional/api_samples/os-networks/network-show-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-certificates/certificate-get-root-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-password/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/servers/server-action-create-image.json.tpl', 'nova/tests/functional/api_samples/image-metadata-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/all_extensions/server-post-req.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-VIF-NET/vifs-list-resp.xml.tpl', 'nova/tests/functional/api_samples/os-extended-evacuate-find-host/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-quota-class-sets/quota-classes-show-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-server-external-events/server-post-resp.json.tpl', 'nova/tests/unit/integrated/v3/test_volumes.py', 'nova/tests/unit/integrated/v3/api_samples/os-admin-actions/admin-actions-reset-state.json.tpl', 'nova/tests/functional/api_samples/os-multiple-create/multiple-create-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-shelve/os-unshelve.json.tpl', 'nova/tests/functional/api_samples/os-security-groups/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-rescue/server-get-resp-rescue.json.tpl', 'nova/tests/functional/api_samples/os-attach-interfaces/server-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-consoles/get-rdp-console-post-req.json.tpl', 'nova/tests/functional/api_samples/os-hypervisors/hypervisors-search-resp.json.tpl', 'nova/tests/functional/v3/api_samples/images/image-meta-key-get.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-attach-interfaces/attach-interfaces-create-req.json.tpl', 'nova/tests/functional/api_samples/os-flavor-access/flavor-access-create-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-floating-ip-dns/floating-ip-dns-entry-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-remote-consoles/get-vnc-console-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-flavor-access/flavor-access-remove-tenant-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-admin-actions/admin-actions-reset-state.json.tpl', 'nova/tests/functional/v3/api_samples/os-remote-consoles/get-serial-console-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-deferred-delete/force-delete-post-req.xml.tpl', 'nova/tests/functional/api_samples/images-details-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-hosts/host-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-aggregates/aggregate-add-host-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-volumes/os-volumes-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-quota-sets/quotas-show-defaults-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-hide-server-addresses/servers-list-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/servers/server-action-confirm-resize.json.tpl', 'nova/tests/functional/api_samples/OS-FLV-EXT-DATA/flavors-extra-data-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-hosts/host-get-startup.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-volumes/os-volumes-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-group-quotas/quota-classes-update-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-floating-ips-bulk/floating-ips-bulk-delete-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-networks/network-create-req.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-volumes/snapshots-list-resp.json.tpl', 'nova/tests/functional/api_samples/NMN/multinic-add-fixed-ip-req.json.tpl', 'nova/tests/functional/api_samples/os-server-group-quotas/quotas-show-defaults-get-resp.json.tpl', 'nova/tests/functional/api_samples/server-action-changepassword.xml.tpl', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-entry-resp.xml.tpl', 'nova/tests/functional/api_samples/os-floating-ip-pools/floatingippools-list-resp.xml.tpl', 'nova/tests/functional/api_samples/os-server-group-quotas/limit-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/server-ips/server-ips-network-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-volumes/snapshot-create-resp.json.tpl', 'nova/tests/functional/api_samples/all_extensions/server-action-rebuild.json.tpl', 'nova/tests/functional/api_samples/image-metadata-put-req.xml.tpl', 'nova/tests/functional/api_samples/os-floating-ips/floating-ips-create-resp.xml.tpl', 'nova/tests/unit/api/openstack/compute/plugins/v3/test_services.py', 'nova/tests/functional/api_samples/os-flavor-manage/flavor-create-post-resp.xml.tpl', 'nova/tests/functional/api_samples/OS-EXT-AZ/server-get-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/server-metadata/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-networks/network-add-req.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-security-group-default-rules/security-group-default-rules-show-resp.json.tpl', 'nova/tests/functional/api_samples/os-hide-server-addresses/server-post-resp.json.tpl', 'nova/tests/functional/v3/test_services.py', 'nova/tests/functional/api_samples/flavor-get-resp.xml.tpl', 'nova/tests/functional/api_samples/OS-EXT-IPS-MAC/server-get-resp.json.tpl', 'nova/tests/functional/api_samples/image-metadata-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-flavor-access/flavor-access-create-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-fping/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-flavor-swap/flavor-swap-get-resp.json.tpl', 'nova/tests/functional/api_samples/OS-DCF/list-servers-detail-get.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-deferred-delete/force-delete-post-req.json.tpl', 'nova/tests/functional/api_samples/os-flavor-extra-specs/flavor-extra-specs-create-resp.xml.tpl', 'nova/tests/functional/api_samples/os-security-group-default-rules/security-group-default-rules-show-resp.xml.tpl', 'nova/tests/functional/api_samples/server-action-createimage.json.tpl', 'nova/tests/functional/v3/api_samples/os-simple-tenant-usage/simple-tenant-usage-get.json.tpl', 'nova/tests/functional/api_samples/os-availability-zone/availability-zone-post-req.xml.tpl', 'nova/tests/functional/v3/test_lock_server.py', 'nova/tests/functional/v3/test_cloudpipe.py', 'nova/tests/functional/api_samples/os-fping/fping-get-details-resp.xml.tpl', 'nova/api/openstack/compute/contrib/floating_ips.py', 'nova/tests/functional/v3/api_samples/os-pause-server/server-post-req.json.tpl', 'nova/tests/functional/api_samples/OS-SRV-USG/servers-detail-resp.json.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-lock-server.xml.tpl', 'nova/tests/functional/api_samples/server-metadata-req.json.tpl', 'nova/tests/functional/v3/test_assisted_volume_snapshots.py', 'nova/tests/functional/v3/api_samples/os-admin-password/admin-password-change-password.json.tpl', 'nova/tests/unit/api/openstack/compute/contrib/test_volumes.py', 'nova/tests/functional/api_samples/os-keypairs/keypairs-post-req.json.tpl', 'nova/tests/functional/api_samples/OS-FLV-DISABLED/flavor-detail-get-resp.json.tpl', 'nova/compute/manager.py', 'nova/tests/functional/api_samples/os-hosts/host-put-maintenance-req.json.tpl', 'nova/tests/functional/api_samples/os-networks-associate/network-disassociate-host-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-availability-zone/server-post-req.json.tpl', 'nova/tests/functional/v3/test_scheduler_hints.py', 'nova/tests/functional/v3/api_samples/os-multinic/server-post-req.json.tpl', 'nova/tests/functional/api_samples/server-metadata-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-attach-interfaces/attach-interfaces-show-resp.json.tpl', 'nova/tests/functional/api_samples/os-attach-interfaces/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-deferred-delete/force-delete-post-req.json.tpl', 'nova/tests/functional/api_samples/os-flavor-extra-specs/flavor-extra-specs-update-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-console-auth-tokens/get-console-connect-info-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-status/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-tenant-networks/networks-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-access-ips/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-user-data/userdata-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-user-data/userdata-post-resp.json.tpl', 'nova/tests/functional/api_samples/all_extensions/flavors-list-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-req.json.tpl', 'nova/tests/functional/api_samples/os-rescue/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-remote-consoles/get-vnc-console-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-suspend-server/server-suspend.json.tpl', 'nova/tests/functional/v3/api_samples/os-admin-actions/admin-actions-reset-network.json.tpl', 'nova/tests/functional/api_samples/os-quota-class-sets/quota-classes-update-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/consoles/consoles-list-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/image-size/image-get-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-services/service-disable-put-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-server-usage/servers-detail-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-disk-config/server-resize-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-networks-associate/network-disassociate-project-req.json.tpl', 'nova/tests/functional/api_samples/os-aggregates/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-inject-network-info.xml.tpl', 'nova/tests/functional/api_samples/os-flavor-rxtx/flavor-rxtx-list-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-flavor-rxtx/flavor-rxtx-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-live-migrate.xml.tpl', 'nova/tests/functional/v3/test_multiple_create.py', 'nova/tests/functional/api_samples/os-volumes/snapshots-show-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-extended-server-attributes/server-post-resp.json.tpl', 'nova/tests/functional/v3/test_servers.py', 'nova/tests/functional/api_samples/os-security-groups/server-security-groups-list-resp.xml.tpl', 'nova/tests/functional/api_samples/os-extended-quotas/quotas-update-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-flavor-access/flavor-access-remove-tenant-resp.json.tpl', 'nova/tests/functional/api_samples/os-networks-associate/network-associate-host-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-suspend-server/server-resume.json.tpl', 'nova/tests/functional/api_samples/os-volumes/snapshots-detail-resp.xml.tpl', 'nova/tests/functional/api_samples/os-consoles/get-vnc-console-post-resp.xml.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-evacuate/server-evacuate-resp.json.tpl', 'nova/tests/functional/api_samples/os-deferred-delete/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-security-group-default-rules/security-group-default-rules-create-resp.xml.tpl', 'nova/tests/functional/api_samples/os-volume-attachment-update/server-post-resp.xml.tpl', 'nova/tests/functional/v3/test_server_usage.py', 'nova/tests/functional/v3/api_samples/os-disk-config/server-update-put-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-networks/network-show-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-attach-interfaces/server-post-req.json.tpl', 'nova/tests/functional/api_samples/all_extensions/servers-details-resp.xml.tpl', 'nova/tests/functional/api_samples/OS-FLV-EXT-DATA/flavors-extra-data-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-hide-server-addresses/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-lock-server/server-post-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-floating-ips-bulk/floating-ips-bulk-create-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-security-groups/server-security-groups-list-resp.json.tpl', 'nova/tests/functional/api_samples/OS-FLV-EXT-DATA/flavors-extra-data-list-resp.xml.tpl', 'nova/tests/functional/api_samples/os-tenant-networks/networks-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-server-groups/server-groups-post-req.json.tpl', 'nova/tests/functional/api_samples/os-flavor-rxtx/flavor-rxtx-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-server-groups/server-groups-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-migrate.json.tpl', 'nova/tests/functional/api_samples/os-networks-associate/network-disassociate-host-req.xml.tpl', 'nova/tests/functional/api_samples/os-rescue/server-rescue.json.tpl', 'nova/tests/functional/v3/api_samples/images/image-metadata-put-resp.json.tpl', 'nova/tests/functional/api_samples/os-shelve/os-shelve-offload.xml.tpl', 'doc/v3/api_samples/os-volumes/attach-volume-to-server-req.json', 'nova/tests/functional/api_samples/os-server-start-stop/server_start_stop.xml.tpl', 'nova/tests/functional/api_samples/os-flavor-extra-specs/flavor-extra-specs-update-resp.json.tpl', 'nova/tests/functional/api_samples/server-action-createimage.xml.tpl', 'nova/tests/functional/api_samples/image-meta-key-put-req.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-AZ/servers-detail-resp.xml.tpl', 'nova/tests/functional/api_samples/os-console-auth-tokens/get-console-connect-info-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-flavor-access/flavor-access-remove-tenant-req.xml.tpl', 'nova/tests/functional/api_samples/server-ips-network-resp.json.tpl', 'nova/tests/functional/api_samples/os-extended-quotas/quotas-update-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/images/image-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-volumes/snapshot-create-req.json.tpl', 'nova/tests/functional/api_samples/os-console-auth-tokens/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-floating-ips/floating-ips-create-req.xml.tpl', 'nova/tests/functional/v3/test_images.py', 'nova/tests/functional/v3/test_extended_availability_zone.py', 'nova/tests/unit/integrated/v3/api_samples/os-certificates/certificate-create-req.json.tpl', 'nova/tests/functional/api_samples/os-services/service-disable-put-resp.xml.tpl', 'nova/tests/functional/v3/test_aggregates.py', 'nova/tests/functional/api_samples/os-keypairs/keypairs-import-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-volumes/attach-volume-to-server-resp.json.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-pause.xml.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-server-external-events/event-create-resp.json.tpl', 'nova/tests/unit/api/openstack/compute/contrib/test_services.py', 'nova/tests/unit/integrated/v3/api_samples/os-assisted-volume-snapshots/snapshot-create-assisted-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-console-output/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-evacuate/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-evacuate/server-evacuate-find-host-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-shelve/os-shelve-offload.json.tpl', 'nova/tests/functional/v3/api_samples/os-aggregates/aggregate-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-floating-ips-bulk/floating-ips-bulk-delete-req.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-resp.json.tpl', 'nova/tests/functional/api_samples/os-instance-actions/instance-action-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-security-groups/security-group-post-req.json.tpl', 'nova/tests/functional/v3/test_user_data.py', 'nova/tests/functional/v3/api_samples/servers/server-action-resize.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-volumes/snapshot-create-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-config-drive/server-post-resp.json.tpl', 'nova/tests/functional/v3/test_security_groups.py', 'nova/tests/functional/api_samples/all_extensions/servers-list-resp.xml.tpl', 'nova/api/metadata/base.py', 'nova/tests/functional/api_samples/os-rescue/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-server-external-events/event-create-req.xml.tpl', 'nova/tests/functional/v3/test_attach_interfaces.py', 'nova/tests/functional/api_samples/os-simple-tenant-usage/server-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/flavors/flavor-get-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-quota-class-sets/quota-classes-show-get-resp.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-SRV-ATTR/server-post-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-certificates/certificate-create-resp.json.tpl', 'nova/tests/functional/api_samples/os-extended-networks/network-create-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-password/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-aggregates/aggregate-post-resp.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-VIF-NET/vifs-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-aggregates/aggregate-remove-host-post-req.json.tpl', 'nova/tests/functional/api_samples/os-cloudpipe/cloud-pipe-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-cells/cells-list-empty-resp.json.tpl', 'nova/tests/functional/api_samples/server-action-reboot.xml.tpl', 'nova/tests/functional/api_samples/os-flavor-swap/flavor-swap-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-user-quotas/user-quotas-show-get-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/server-metadata/server-metadata-all-req.json.tpl', 'nova/tests/functional/v3/api_samples/images/image-metadata-put-req.json.tpl', 'nova/tests/functional/api_samples/server-action-rebuild.xml.tpl', 'nova/tests/functional/v3/api_samples/os-rescue/server-unrescue-req.json.tpl', 'nova/tests/functional/v3/api_samples/flavors/flavors-detail-resp.json.tpl', 'nova/tests/functional/api_samples/os-flavor-extra-specs/flavor-extra-specs-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-tenant-networks/networks-post-res.xml.tpl', 'nova/tests/functional/api_samples/server-metadata-all-resp.json.tpl', 'nova/tests/functional/api_samples/os-agents/agent-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-agents/agent-update-put-resp.json.tpl', 'nova/tests/functional/v3/test_shelve.py', 'nova/tests/functional/api_samples/os-server-group-quotas/quotas-update-post-resp.xml.tpl', 'nova/tests/functional/api_samples/OS-EXT-IPS-MAC/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-tenant-networks/networks-list-res.json.tpl', 'nova/tests/functional/api_samples/os-instance-actions/instance-action-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-remote-consoles/get-serial-console-post-req.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-admin-actions/admin-actions-reset-network.json.tpl', 'nova/tests/functional/api_samples/os-cloudpipe/cloud-pipe-create-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-floating-ips-bulk/floating-ips-bulk-create-resp.json.tpl', 'nova/tests/functional/api_samples/OS-SRV-USG/servers-detail-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-rescue/server-get-resp-unrescue.json.tpl', 'nova/tests/functional/v3/api_samples/os-rescue/server-get-resp-rescue.json.tpl', 'nova/tests/functional/api_samples/os-floating-ips/floating-ips-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-hypervisors/hypervisors-uptime-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-attach-interfaces/attach-interfaces-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-floating-ip-dns/floating-ip-dns-create-or-update-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-multinic/multinic-add-fixed-ip-req.json.tpl', 'nova/tests/functional/api_samples/os-console-auth-tokens/server-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-migrate-server/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-volumes/snapshots-detail-resp.json.tpl', 'nova/tests/functional/api_samples/os-evacuate/server-evacuate-resp.xml.tpl', 'nova/tests/functional/api_samples/os-floating-ip-dns/floating-ip-dns-list-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-floating-ips-bulk/floating-ips-bulk-delete-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-hypervisors/hypervisors-show-resp.json.tpl', 'nova/tests/functional/api_samples/os-extended-volumes/servers-detail-resp.xml.tpl', 'nova/tests/functional/api_samples/os-virtual-interfaces/vifs-list-resp.xml.tpl', 'nova/tests/functional/api_samples/os-console-output/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-quota-sets/quotas-update-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-scheduler-hints/scheduler-hints-post-resp.json.tpl', 'nova/tests/functional/api_samples/limit-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-floating-ips-bulk/floating-ips-bulk-create-resp.json.tpl', 'nova/tests/functional/api_samples/OS-SRV-USG/server-get-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-server-groups/server-groups-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-assisted-volume-snapshots/snapshot-create-assisted-resp.json.tpl', 'nova/tests/functional/api_samples/OS-DCF/server-action-rebuild-resp.xml.tpl', 'nova/tests/functional/api_samples/os-extended-evacuate-find-host/server-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-extended-server-attributes/server-post-req.json.tpl', 'nova/tests/functional/api_samples/os-config-drive/server-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-hypervisors/hypervisors-uptime-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-hypervisors/hypervisors-search-resp.json.tpl', 'nova/tests/functional/api_samples/OS-DCF/server-post-req.json.tpl', 'nova/tests/functional/api_samples/OS-FLV-EXT-DATA/flavors-extra-data-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-extended-floating-ips/floating-ips-create-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-hide-server-addresses/server-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-diagnostics/server-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-remote-consoles/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-volumes/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-hypervisors/hypervisors-detail-resp.json.tpl', 'nova/tests/functional/api_samples/os-availability-zone/availability-zone-post-resp.xml.tpl', 'nova/tests/functional/api_samples/os-extended-rescue-with-image/server-post-req.json.tpl', 'nova/tests/functional/api_samples/all_extensions/server-action-resize.json.tpl', 'nova/tests/functional/api_samples/os-fping/fping-get-details-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-multiple-create/multiple-create-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-aggregates/aggregates-list-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-consoles/get-serial-console-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/flavor-access/flavor-access-create-req.json.tpl', 'nova/tests/functional/api_samples/os-server-group-quotas/usedlimits-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-security-groups/security-group-add-post-req.json.tpl', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/api_samples/server-ips-network-resp.xml.tpl', 'nova/tests/functional/api_samples/os-extended-evacuate-find-host/server-evacuate-find-host-req.json.tpl', 'nova/tests/functional/api_samples/os-cloudpipe-update/cloud-pipe-update-req.json.tpl', 'nova/tests/functional/v3/test_access_ips.py', 'nova/tests/functional/api_samples/NMN/server-post-req.json.tpl', 'nova/tests/functional/api_samples/all_extensions/server-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-simple-tenant-usage/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-start-stop/server_start_stop.json.tpl', 'nova/tests/functional/api_samples/os-preserve-ephemeral-rebuild/server-action-rebuild-resp.xml.tpl', 'nova/tests/functional/api_samples/os-networks/network-create-resp.json.tpl', 'nova/tests/functional/api_samples/os-multiple-create/multiple-create-post-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-extended-status/server-get-resp.json.tpl', 'nova/tests/functional/api_samples/os-server-external-events/server-post-req.json.tpl', 'nova/tests/functional/test_login.py', 'nova/tests/functional/v3/api_samples/os-shelve/server-post-req.json.tpl', 'tox.ini', 'nova/tests/functional/api_samples/OS-EXT-SRV-ATTR/server-post-resp.json.tpl', 'nova/tests/functional/api_samples/os-aggregates/aggregates-add-host-post-resp.xml.tpl', 'nova/tests/functional/api_samples/OS-EXT-AZ/servers-detail-resp.json.tpl', 'nova/tests/functional/api_samples/server-post-req.xml.tpl', 'nova/tests/functional/api_samples/os-flavor-access/flavor-access-list-resp.json.tpl', 'nova/tests/functional/v3/test_pci.py', 'nova/tests/functional/v3/api_samples/images/image-metadata-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/keypairs/keypairs-get-resp.json.tpl', 'nova/tests/functional/api_samples/image-metadata-put-resp.xml.tpl', 'nova/tests/functional/v3/api_samples/os-hosts/hosts-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-deferred-delete/restore-post-req.json.tpl', 'nova/tests/functional/api_samples/all_extensions/server-action-confirmresize.json.tpl', 'nova/tests/functional/api_samples/os-floating-ips/floating-ips-create-nopool-req.json.tpl', 'nova/tests/functional/v3/test_hosts.py', 'nova/tests/functional/api_samples/server-post-req.json.tpl', 'nova/tests/functional/api_samples/OS-FLV-DISABLED/flavor-show-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-user-quotas/user-quotas-update-post-req.json.tpl', 'nova/tests/functional/api_samples/OS-DCF/image-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-flavor-rxtx/flavor-rxtx-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-volumes/os-volumes-post-req.json.tpl', 'nova/tests/functional/api_samples/os-flavor-swap/flavor-swap-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-floating-ip-dns/floating-ip-dns-list-resp.json.tpl', 'nova/tests/functional/api_samples/OS-EXT-SRV-ATTR/servers-detail-resp.xml.tpl', 'nova/tests/functional/api_samples/os-flavor-access/flavor-access-list-resp.xml.tpl', 'nova/tests/functional/api_samples/os-preserve-ephemeral-rebuild/server-action-rebuild-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-security-group-default-rules/security-group-default-rules-create-req.json.tpl', 'nova/tests/functional/api_samples/os-floating-ips/floating-ips-list-resp.xml.tpl', 'nova/tests/functional/v3/test_flavors.py', 'nova/tests/functional/api_samples/images-list-resp.json.tpl', 'nova/tests/functional/api_samples/os-multiple-create/multiple-create-no-resv-post-req.json.tpl', 'nova/tests/functional/api_samples/os-hosts/host-get-resp.xml.tpl', 'nova/tests/functional/api_samples/os-security-groups/security-group-remove-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-migrate-server/server-post-req.json.tpl', 'nova/virt/libvirt/volume.py', 'nova/tests/functional/api_samples/NMN/multinic-remove-fixed-ip-req.xml.tpl', 'nova/tests/functional/v3/api_samples/os-console-output/console-output-post-req.json.tpl', 'nova/tests/functional/api_samples/os-security-groups/server-security-groups-list-resp.json.tpl', 'nova/tests/unit/integrated/v3/api_samples/os-server-groups/server-groups-get-resp.json.tpl'], 'web_link': 'https://opendev.org/openstack/nova/commit/0f30519950a4a082924c1e3a275819b15a77a82c', 'message': 'nfs attach bug fixed\n\nCloses-Bug: #1374915\nChange-Id: Ia0157793ff81f37053bf1f673f09699c54d3ba6c\n'}]",1,137272,0f30519950a4a082924c1e3a275819b15a77a82c,24,10,3,7096,,,0,"nfs attach bug fixed

Closes-Bug: #1374915
Change-Id: Ia0157793ff81f37053bf1f673f09699c54d3ba6c
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/137272/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/volume.py'],1,1eb16ce9639258c166663e02b76a7000b2112c10,bug/1374915, if options is not None and options != '':, if options is not None:,1,1
openstack%2Fnova~master~I3080c44c88e319436c59e00cd55055f525c8978b,openstack/nova,master,I3080c44c88e319436c59e00cd55055f525c8978b,Makes HTTP Location Header return as utf-8 as opposed to unicode,ABANDONED,2013-10-15 10:33:01.000000000,2015-01-23 15:24:46.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 360}, {'_account_id': 2166}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 5441}, {'_account_id': 5586}, {'_account_id': 5754}, {'_account_id': 6816}, {'_account_id': 9008}, {'_account_id': 9578}]","[{'number': 1, 'created': '2013-10-15 10:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/816b40c1cd7ad9a1bb55913772f63ed19999ae29', 'message': 'Makes HTTP Location Header return as utf-8 as opposed to unicode\n\nChange-Id: I3080c44c88e319436c59e00cd55055f525c8978b\nCloses-Bug: #1235220\n'}, {'number': 2, 'created': '2013-10-25 03:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9aeefb250b7c00fd664ee16ea47bcac18d287d6', 'message': 'Makes HTTP Location Header return as utf-8 as opposed to unicode\n\nEnsures that the HTTP location header is always utf-8 and not unicode\nas required by the RFC for HTTP headers\n\nCloses-Bug: #1235220\nChange-Id: I3080c44c88e319436c59e00cd55055f525c8978b\n'}, {'number': 3, 'created': '2014-09-23 01:53:20.000000000', 'files': ['nova/tests/api/openstack/compute/test_servers.py', 'nova/tests/api/openstack/compute/contrib/test_admin_actions.py', 'nova/api/openstack/compute/plugins/v3/servers.py', 'nova/tests/api/openstack/compute/plugins/v3/test_servers.py', 'nova/tests/api/openstack/compute/plugins/v3/test_create_backup.py', 'nova/api/openstack/compute/plugins/v3/create_backup.py', 'nova/api/openstack/compute/contrib/admin_actions.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2eda348149a6b63c5c1b158f33287b32e4872678', 'message': 'Makes HTTP Location Header return as utf-8 as opposed to unicode\n\nEnsures that the HTTP location header is always utf-8 and not unicode\nas required by RFC 5897 which covers HTTP headers\n\nCloses-Bug: #1235220\nChange-Id: I3080c44c88e319436c59e00cd55055f525c8978b\n'}]",4,51812,2eda348149a6b63c5c1b158f33287b32e4872678,39,14,3,5292,,,0,"Makes HTTP Location Header return as utf-8 as opposed to unicode

Ensures that the HTTP location header is always utf-8 and not unicode
as required by RFC 5897 which covers HTTP headers

Closes-Bug: #1235220
Change-Id: I3080c44c88e319436c59e00cd55055f525c8978b
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/51812/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/plugins/v3/servers.py', 'nova/api/openstack/compute/servers.py']",2,816b40c1cd7ad9a1bb55913772f63ed19999ae29,bug/1235220, resp.headers['Location'] = image_ref.encode('utf-8'), resp.headers['Location'] = image_ref,2,2
openstack%2Fnova~master~Ib61bc4b9bf14b1f9dfcb1ab9afd56d876bb897b2,openstack/nova,master,Ib61bc4b9bf14b1f9dfcb1ab9afd56d876bb897b2,No need return when calling live_migration,ABANDONED,2014-08-21 03:50:04.000000000,2015-01-23 15:24:43.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 7641}, {'_account_id': 8412}, {'_account_id': 8531}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-21 03:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1b116076ac6644762feb7d2a7d6f26d1d0bb3d9', 'message': 'No need return when callng live_migration\n\nIn the compute rpc, the live_migration is a cast call.\n\nChange-Id: Ib61bc4b9bf14b1f9dfcb1ab9afd56d876bb897b2\n'}, {'number': 2, 'created': '2014-08-21 07:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5afa3304cba1111cc6a19c63a98927b97f7d469', 'message': 'No need return when callng live_migration\n\nIn the compute rpc, the live_migration is a cast call.\n\nChange-Id: Ib61bc4b9bf14b1f9dfcb1ab9afd56d876bb897b2\n'}, {'number': 3, 'created': '2014-08-21 08:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a0f9e143baf07b1e621cbaa9e388809ff5285c6', 'message': 'No need return when calling live_migration\n\nIn the compute rpc, the live_migration is a cast call.\n\nChange-Id: Ib61bc4b9bf14b1f9dfcb1ab9afd56d876bb897b2\n'}, {'number': 4, 'created': '2014-08-25 05:17:08.000000000', 'files': ['nova/conductor/tasks/live_migrate.py', 'nova/tests/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9fce21ecf1ebbcdd9e41aeb1bc0f5f928f7c23e4', 'message': 'No need return when calling live_migration\n\nIn the compute rpc, the live_migration is a cast call.\n\nChange-Id: Ib61bc4b9bf14b1f9dfcb1ab9afd56d876bb897b2\n'}]",3,115860,9fce21ecf1ebbcdd9e41aeb1bc0f5f928f7c23e4,34,12,4,7641,,,0,"No need return when calling live_migration

In the compute rpc, the live_migration is a cast call.

Change-Id: Ib61bc4b9bf14b1f9dfcb1ab9afd56d876bb897b2
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/115860/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/tasks/live_migrate.py'],1,c1b116076ac6644762feb7d2a7d6f26d1d0bb3d9,," self.compute_rpcapi.live_migration(self.context,"," return self.compute_rpcapi.live_migration(self.context,",1,1
openstack%2Fnova~master~Iab89aba13ec00c9ed8f92940a52486bf2dab1a15,openstack/nova,master,Iab89aba13ec00c9ed8f92940a52486bf2dab1a15,Adds ability to add project name or id to VM names upon build time,ABANDONED,2014-08-23 18:13:42.000000000,2015-01-23 15:24:42.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6509}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 13011}]","[{'number': 1, 'created': '2014-08-23 18:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c102886fbf1e8760b64256d8a2c8478fb2d4479', 'message': ""Adds ability to add project name or id to VM names upon build time\n\nFeature is most useful for flat networks where one may have several\nprojects/teams in one domain and hostnames are required to be unique\nacross the network or organisation. This will enable you to add\nproject_id and project_name to VMs by setting configuration variable\nin nova.conf when using multi_instance_display_name_template,\nfor single instances you'd set single_instance_display_name_template\ninstead. multi_instance_display_name_template also has been amended\nto be able to set project_id and/or project_name.\n\nAdded msg level LOG.exception(_LE())\nAdded and updated unittests\n\nChange-Id: Iab89aba13ec00c9ed8f92940a52486bf2dab1a15\n""}, {'number': 2, 'created': '2014-08-24 10:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/517e70dc8368b43a8b7cb3dde823d40b06b9c73c', 'message': ""Adds ability to add project name or id to VM names upon build time\n\nFeature is most useful for flat networks where one may have several\nprojects/teams in one domain and hostnames are required to be unique\nacross the network or organisation. This will enable you to add\nproject_id and project_name to VMs by setting configuration variable\nin nova.conf when using multi_instance_display_name_template,\nfor single instances you'd set single_instance_display_name_template\ninstead. multi_instance_display_name_template also has been amended\nto be able to set project_id and/or project_name.\n\nAdded msg level LOG.exception(_LE())\nAdded and updated unittests\n\nChange-Id: Iab89aba13ec00c9ed8f92940a52486bf2dab1a15\n""}, {'number': 3, 'created': '2014-08-24 13:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14eb3d5f3d306eeb5ece76f1d9a063ebbd9bf65b', 'message': ""Adds ability to add project name or id to VM names upon build time\n\nFeature is most useful for flat networks where one may have several\nprojects/teams in one domain and hostnames are required to be unique\nacross the network or organisation. This will enable you to add\nproject_id and project_name to VMs by setting configuration variable\nin nova.conf when using multi_instance_display_name_template,\nfor single instances you'd set single_instance_display_name_template\ninstead. multi_instance_display_name_template also has been amended\nto be able to set project_id and/or project_name.\n\nAdded msg level LOG.exception(_LE())\nAdded and updated unittests\n\nChange-Id: Iab89aba13ec00c9ed8f92940a52486bf2dab1a15\n""}, {'number': 4, 'created': '2014-09-06 11:55:07.000000000', 'files': ['nova/tests/compute/test_compute.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9e70a037abed41690f7ae61dbf09e8a3451bdfcd', 'message': ""Adds ability to add project name or id to VM names upon build time\n\nFeature is most useful for flat networks where one may have several\nprojects/teams in one domain and hostnames are required to be unique\nacross the network or organisation. This will enable you to add\nproject_id and project_name to VMs by setting configuration variable\nin nova.conf when using multi_instance_display_name_template,\nfor single instances you'd set single_instance_display_name_template\ninstead. multi_instance_display_name_template also has been amended\nto be able to set project_id and/or project_name.\n\nAdded msg level LOG.exception(_LE())\nAdded and updated unittests\n\nChange-Id: Iab89aba13ec00c9ed8f92940a52486bf2dab1a15\n""}]",15,116472,9e70a037abed41690f7ae61dbf09e8a3451bdfcd,29,9,4,13011,,,0,"Adds ability to add project name or id to VM names upon build time

Feature is most useful for flat networks where one may have several
projects/teams in one domain and hostnames are required to be unique
across the network or organisation. This will enable you to add
project_id and project_name to VMs by setting configuration variable
in nova.conf when using multi_instance_display_name_template,
for single instances you'd set single_instance_display_name_template
instead. multi_instance_display_name_template also has been amended
to be able to set project_id and/or project_name.

Added msg level LOG.exception(_LE())
Added and updated unittests

Change-Id: Iab89aba13ec00c9ed8f92940a52486bf2dab1a15
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/116472/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/api.py', 'nova/tests/compute/test_compute.py']",2,7c102886fbf1e8760b64256d8a2c8478fb2d4479,allow_vm_name_to_use_project_name_or_id_take3," self.project_name = 'fakeprojectname' self.project_id, self.project_name) def test_single_instance_display_name_template(self): self.user_id = 'fake' self.project_id = 'fake' self.project_name = 'fakeprojectname' self.context = context.RequestContext(self.user_id, self.project_id, self.project_name) self.flags(single_instance_display_name_template='%(name)s') (refs, resv_id) = self.compute_api.create(self.context, flavors.get_default_flavor(), image_href='some-fake-image', min_count=1, max_count=1, display_name='x') self.assertEqual(refs[0]['display_name'], 'x') self.assertEqual(refs[0]['hostname'], 'x') self.flags(single_instance_display_name_template='%(name)s-' '%(project_id)s') (refs, resv_id) = self.compute_api.create(self.context, flavors.get_default_flavor(), image_href='some-fake-image', min_count=1, max_count=1, display_name='x') self.assertEqual(refs[0]['display_name'], 'x-fake') self.assertEqual(refs[0]['hostname'], 'x-fake') self.flags(single_instance_display_name_template='%(name)s-' '%(project_name)s') (refs, resv_id) = self.compute_api.create(self.context, flavors.get_default_flavor(), image_href='some-fake-image', min_count=1, max_count=1, display_name='x') self.assertEqual(refs[0]['display_name'], 'x-fakeprojectname') self.assertEqual(refs[0]['hostname'], 'x-fakeprojectname') self.flags(single_instance_display_name_template='%(name)s-%(uuid)s') (refs, resv_id) = self.compute_api.create(self.context, flavors.get_default_flavor(), image_href='some-fake-image', min_count=2, max_count=2, display_name='x') self.assertEqual(refs[0]['display_name'], 'x-%s' % refs[0]['uuid']) self.assertEqual(refs[0]['hostname'], 'x-%s' % refs[0]['uuid']) def test_multi_instance_display_name_template(self): self.user_id = 'fake' self.project_id = 'fake' self.project_name = 'fakeprojectname' self.context = context.RequestContext(self.user_id, self.project_id, self.project_name) ", self.project_id) def test_multi_instance_display_name_template(self):,83,2
openstack%2Fnova~master~Id5fb1afb9ceda1f49a85f8241739506f945da598,openstack/nova,master,Id5fb1afb9ceda1f49a85f8241739506f945da598,Add unit test coverage for describe_tags for non-matching resource id,ABANDONED,2014-08-26 18:21:02.000000000,2015-01-23 15:24:40.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5538}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-26 18:21:02.000000000', 'files': ['nova/tests/api/ec2/test_cloud.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e3b17b7ea724bbe4c2e00904b3fda9a5cc6260c6', 'message': 'Add unit test coverage for describe_tags for non-matching resource id\n\nThis adds a test case when describe_tags is called with\ntwo filters with different resource ids. Since the filters\nare ANDed, it should always return an empty list.\n\nChange-Id: Id5fb1afb9ceda1f49a85f8241739506f945da598\n'}]",0,116986,e3b17b7ea724bbe4c2e00904b3fda9a5cc6260c6,13,8,1,6661,,,0,"Add unit test coverage for describe_tags for non-matching resource id

This adds a test case when describe_tags is called with
two filters with different resource ids. Since the filters
are ANDed, it should always return an empty list.

Change-Id: Id5fb1afb9ceda1f49a85f8241739506f945da598
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/116986/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/api/ec2/test_cloud.py'],1,e3b17b7ea724bbe4c2e00904b3fda9a5cc6260c6,ec2-describe-tags-coverage," tags = self.cloud.describe_tags(self.context, filter=[{'name': 'resource-id', 'value': [ec2_id1]}, {'name': 'resource-id', 'value': [ec2_id2]}])['tagSet'] self.assertEqual(tags, []) ",,7,0
openstack%2Fnova~master~I14f4fd04c195705ab392d2c40743ecd4c8c8253c,openstack/nova,master,I14f4fd04c195705ab392d2c40743ecd4c8c8253c,Adding firewall rules to isolate guests from gateway interface,ABANDONED,2014-09-02 22:04:40.000000000,2015-01-23 15:24:39.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7130}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-09-02 22:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c4686b50973e376716faa1349856b59f4e49df5', 'message': 'Adding firewall rules to isolate guests from gateway interface\n\nAdding a new configuration switch that would isolate guests\nfrom accessing gateway IP adress directly if set to true.\nBy default set to false (current behavior):\nisolate_guests_from_gateway: false\n\nCloses-Bug: #1316271\n\nDocImpact\n\nChange-Id: I14f4fd04c195705ab392d2c40743ecd4c8c8253c\n'}, {'number': 2, 'created': '2014-09-02 22:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ee70cae365d604b8695e2d076c7329511c580a5', 'message': 'Adding firewall rules to isolate guests from gateway interface\n\nAdding a new configuration switch that would isolate guests\nfrom accessing gateway IP adress directly if set to true.\nBy default set to false (current behavior):\nisolate_guests_from_gateway: false\n\nCloses-Bug: #1316271\n\nDocImpact\n\nChange-Id: I14f4fd04c195705ab392d2c40743ecd4c8c8253c\n'}, {'number': 3, 'created': '2014-09-02 22:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90734a137f0aba068761690a42f22e887bc7f910', 'message': 'Adding firewall rules to isolate guests from gateway interface\n\nAdding a new configuration switch that would isolate guests\nfrom accessing gateway IP adress directly if set to true.\nBy default set to false (current behavior):\nisolate_guests_from_gateway: false\n\nCloses-Bug: #1316271\n\nDocImpact\n\nChange-Id: I14f4fd04c195705ab392d2c40743ecd4c8c8253c\n'}, {'number': 4, 'created': '2014-09-02 22:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a8e1ac8c09aea35235e6b4f0a39b7033f76f6dc', 'message': 'Adding firewall rules to isolate guests from gateway interface\n\nAdding a new configuration switch that would isolate guests\nfrom accessing gateway IP adress directly if set to true.\nBy default set to false (current behavior):\nisolate_guests_from_gateway: false\n\nCloses-Bug: #1316271\n\nDocImpact\n\nChange-Id: I14f4fd04c195705ab392d2c40743ecd4c8c8253c\n'}, {'number': 5, 'created': '2014-09-02 22:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8316526b2980106437b2728c5107d3eb8a782ab1', 'message': 'Adding firewall rules to isolate guests from gateway interface\n\nAdding a new configuration switch that would isolate guests\nfrom accessing gateway IP adress directly if set to true.\nBy default set to false (current behavior):\nisolate_guests_from_gateway: false\n\nCloses-Bug: #1316271\n\nDocImpact\n\nChange-Id: I14f4fd04c195705ab392d2c40743ecd4c8c8253c\n'}, {'number': 6, 'created': '2014-09-03 02:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/752f08409af4515555acd4a57def9e392d3b1f73', 'message': 'Adding firewall rules to isolate guests from gateway interface\n\nAdding a new configuration switch that would isolate guests\nfrom accessing gateway IP adress directly if set to true.\nBy default set to false (current behavior):\nisolate_guests_from_gateway: false\n\nCloses-Bug: #1316271\n\nDocImpact\n\nChange-Id: I14f4fd04c195705ab392d2c40743ecd4c8c8253c\n'}, {'number': 7, 'created': '2014-09-03 04:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8e1193ad69bad83c32f2baa659af5e6c85802ec', 'message': 'Adding firewall rules to isolate guests from gateway interface\n\nAdding a new configuration switch that would isolate guests\nfrom accessing gateway IP adress directly if set to true.\nBy default set to false (current behavior):\nisolate_guests_from_gateway: false\n\nCloses-Bug: #1316271\n\nDocImpact\n\nChange-Id: I14f4fd04c195705ab392d2c40743ecd4c8c8253c\n'}, {'number': 8, 'created': '2014-09-04 03:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fc20a07b5ffab35917135bf1305af7bde242562', 'message': 'Adding firewall rules to isolate guests from gateway interface\n\nAdding a new configuration switch that would isolate guests\nfrom accessing gateway IP adress directly if set to true.\nBy default set to false (current behavior):\nisolate_guests_from_gateway: false\n\nCloses-Bug: #1316271\n\nDocImpact\n\nChange-Id: I14f4fd04c195705ab392d2c40743ecd4c8c8253c\n'}, {'number': 9, 'created': '2014-09-04 03:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/462731120bc2075047fd84e057968711e510e029', 'message': 'Adding firewall rules to isolate guests from gateway interface\n\nAdding a new configuration switch that would isolate guests\nfrom accessing gateway IP adress directly if set to true.\nBy default set to false (current behavior):\nisolate_guests_from_gateway: false\n\nCloses-Bug: #1316271\n\nDocImpact\n\nChange-Id: I14f4fd04c195705ab392d2c40743ecd4c8c8253c\n'}, {'number': 10, 'created': '2014-09-07 00:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8bac27f416b57f3eea35562a67a06592bd80df77', 'message': 'Adding firewall rules to isolate guests from gateway interface\n\nAdding two new configuration switches that would isolate guests\nfrom accessing gateway IP adress directly if set to true.\n\n* isolate_guests_from_gateway: Bool\n    If set to true, will add iptables rules to drop all packet\n    sent from a guest to the gateway but will let metadata\n    packet go through unless use_libvirt_injection is set to\n    true too.\n* use_libvirt_injection: Bool\n    If set to true, will not allow guests to reach metadata\n    ports on the gateway.  isolate_guests_from_gateway must\n    be set to true otherwise this switch wont be considered.\n\nCloses-Bug: #1316271\n\nDocImpact\n\nChange-Id: I14f4fd04c195705ab392d2c40743ecd4c8c8253c\n'}, {'number': 11, 'created': '2014-09-07 01:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7642f0a1c05219b5634980d6cfe02762a645b76a', 'message': 'Adding firewall rules to isolate guests from gateway interface\n\nAdding two new configuration switches that would isolate guests\nfrom accessing gateway IP adress directly if set to true.\n\n* isolate_guests_from_gateway: Bool\n    If set to true, will add iptables rules to drop all packet\n    sent from a guest to the gateway but will let metadata\n    packet go through unless use_libvirt_injection is set to\n    true too.\n* use_libvirt_injection: Bool\n    If set to true, will not allow guests to reach metadata\n    ports on the gateway.  isolate_guests_from_gateway must\n    be set to true otherwise this switch wont be considered.\n\nCloses-Bug: #1316271\n\nDocImpact\n\nChange-Id: I14f4fd04c195705ab392d2c40743ecd4c8c8253c\n'}, {'number': 12, 'created': '2014-09-07 01:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8606d2d45521445fd5adeb64514a6d18a4d66ce', 'message': 'Adding firewall rules to isolate guests from gateway interface\n\nAdding two new configuration switches that would isolate guests\nfrom accessing gateway IP adress directly if set to true.\n\n* isolate_guests_from_gateway: Bool\nIf set to true, will add iptables rules to drop all packet\nsent from a guest to the gateway but will let metadata\npacket go through unless use_libvirt_injection is set to\ntrue too.\n* use_libvirt_injection: Bool\nIf set to true, will not allow guests to reach metadata\nports on the gateway.  isolate_guests_from_gateway must\nbe set to true otherwise this switch wont be considered.\n\nCloses-Bug: #1316271\n\nDocImpact\n\nChange-Id: I14f4fd04c195705ab392d2c40743ecd4c8c8253c\n'}, {'number': 13, 'created': '2014-09-07 05:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/114b3e80d63e82ae21700922c91213cc8b785a5b', 'message': 'Adding firewall rules to isolate guests from gateway interface\n\nAdding two new configuration switches that would isolate guests\nfrom accessing gateway IP adress directly if set to true.\n\n* isolate_guests_from_gateway: Bool\nIf set to true, will add iptables rules to drop all packet\nsent from a guest to the gateway but will let metadata\npacket go through unless use_libvirt_injection is set to\ntrue too.\n* use_libvirt_injection: Bool\nIf set to true, will not allow guests to reach metadata\nports on the gateway.  isolate_guests_from_gateway must\nbe set to true otherwise this switch wont be considered.\n\nCloses-Bug: #1316271\n\nDocImpact\n\nChange-Id: I14f4fd04c195705ab392d2c40743ecd4c8c8253c\n'}, {'number': 14, 'created': '2014-09-07 06:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/559f8437d2c705b28f2982371c1f205d12d20c28', 'message': 'Adding firewall rules to isolate guests from gateway interface\n\nAdding two new configuration switches that would isolate guests\nfrom accessing gateway IP adress directly if set to true.\n\n* isolate_guests_from_gateway: Bool\n  If set to true, will add iptables rules to drop all packet\n  sent from a guest to the gateway but will let metadata\n  packet go through unless use_libvirt_injection is set to\n  true too.\n* use_libvirt_injection: Bool\n  If set to true, will not allow guests to reach metadata\n  ports on the gateway.  isolate_guests_from_gateway must\n  be set to true otherwise this switch wont be considered.\n\nCloses-Bug: #1316271\n\nDocImpact\n\nChange-Id: I14f4fd04c195705ab392d2c40743ecd4c8c8253c\n'}, {'number': 15, 'created': '2014-09-07 13:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed59644c3660104d8874bf2bc5b541b7ffdff17c', 'message': 'Adding firewall rules to isolate guests from gateway interface\n\nAdding two new configuration switches that would isolate guests\nfrom accessing gateway IP adress directly if set to true.\n\n* isolate_guests_from_gateway: Bool\n  If set to true, will add iptables rules to drop all packet\n  sent from a guest to the gateway but will let metadata\n  packet go through unless use_libvirt_injection is set to\n  true too.\n* use_libvirt_injection: Bool\n  If set to true, will not allow guests to reach metadata\n  ports on the gateway.  isolate_guests_from_gateway must\n  be set to true otherwise this switch wont be considered.\n\nCloses-Bug: #1316271\n\nDocImpact\n\nChange-Id: I14f4fd04c195705ab392d2c40743ecd4c8c8253c\n'}, {'number': 16, 'created': '2014-09-07 13:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e70a44060f3d90dd8a4b3efdece5175270ab35a', 'message': 'Adding firewall rules to isolate guests from gateway interface\n\nAdding two new configuration switches that would isolate guests\nfrom accessing gateway IP adress directly if set to true.\n\n* isolate_guests_from_gateway: Bool\n  If set to true, will add iptables rules to drop all packet\n  sent from a guest to the gateway but will let metadata\n  packet go through unless use_libvirt_injection is set to\n  true too.\n* use_libvirt_injection: Bool\n  If set to true, will not allow guests to reach metadata\n  ports on the gateway.  isolate_guests_from_gateway must\n  be set to true otherwise this switch wont be considered.\n\nCloses-Bug: #1316271\n\nDocImpact\n\nChange-Id: I14f4fd04c195705ab392d2c40743ecd4c8c8253c\n'}, {'number': 17, 'created': '2014-10-13 10:15:56.000000000', 'files': ['nova/network/manager.py', 'nova/network/linux_net.py', 'nova/tests/network/test_linux_net.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ba27e6809f183477b32c25e60884200fbcd56f0c', 'message': 'Adding firewall rules to isolate guests from gateway interface\n\nAdding two new configuration switches that would isolate guests\nfrom accessing gateway IP adress directly if set to true.\n\n* isolate_guests_from_gateway: Bool\n  If set to true, will add iptables rules to drop all packet\n  sent from a guest to the gateway but will let metadata\n  packet go through unless use_libvirt_injection is set to\n  true too.\n* use_libvirt_injection: Bool\n  If set to true, will not allow guests to reach metadata\n  ports on the gateway.  isolate_guests_from_gateway must\n  be set to true otherwise this switch wont be considered.\n\nCloses-Bug: #1316271\n\nDocImpact\n\nChange-Id: I14f4fd04c195705ab392d2c40743ecd4c8c8253c\n'}]",7,118476,ba27e6809f183477b32c25e60884200fbcd56f0c,104,10,17,7130,,,0,"Adding firewall rules to isolate guests from gateway interface

Adding two new configuration switches that would isolate guests
from accessing gateway IP adress directly if set to true.

* isolate_guests_from_gateway: Bool
  If set to true, will add iptables rules to drop all packet
  sent from a guest to the gateway but will let metadata
  packet go through unless use_libvirt_injection is set to
  true too.
* use_libvirt_injection: Bool
  If set to true, will not allow guests to reach metadata
  ports on the gateway.  isolate_guests_from_gateway must
  be set to true otherwise this switch wont be considered.

Closes-Bug: #1316271

DocImpact

Change-Id: I14f4fd04c195705ab392d2c40743ecd4c8c8253c
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/118476/17 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/linux_net.py'],1,1c4686b50973e376716faa1349856b59f4e49df5,bug1316271," cfg.BoolOpt('isolate_guests_from_gateway', default=False, help=('If set to true, will prevent guests from accessing ' 'the gateway.')),def isolate_compute_from_guest(network_ref): if not network_ref: return iptables_manager.ipv4['filter'].add_rule('INPUT', '-p tcp -d %s --dport 8775 ' '-j ACCEPT' % network_ref['dhcp_server']) iptables_manager.ipv4['filter'].add_rule('FORWARD', '-p tcp -d %s --dport 8775 ' '-j ACCEPT' % network_ref['dhcp_server']) iptables_manager.ipv4['filter'].add_rule('INPUT', '-d %s ! -i lo ' '-j DROP' % network_ref['dhcp_server']) iptables_manager.ipv4['filter'].add_rule('FORWARD', '-d %s ! -i lo ' '-j DROP' % network_ref['dhcp_server']) iptables_manager.apply() if CONF.isolate_guests_from_gateway: isolate_compute_from_guest(network_ref) if CONF.isolate_guests_from_gateway: isolate_compute_from_guest(network_ref)",,25,0
openstack%2Fnova~master~I2c0ebb29063bdc43f7c40954e30d1b6b0e3b8b6c,openstack/nova,master,I2c0ebb29063bdc43f7c40954e30d1b6b0e3b8b6c,compute: keep tracking of image when create volume from image,ABANDONED,2014-09-15 10:45:00.000000000,2015-01-23 15:24:38.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4428}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-09-15 10:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36337f847d7a24bdb1a00e10c35b2bcd44495d34', 'message': ""compute: keep track of image_id when booting from volume\n\nWhen botting from volume the content of the image used\nis copied to a cynder volume. We don't keep track of\nthis image. This commit fixes the problem by referencing\nimage_id and image_href early in the process.\n\nChange-Id: I2c0ebb29063bdc43f7c40954e30d1b6b0e3b8b6c\n""}, {'number': 2, 'created': '2014-09-15 14:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b115be8218a0a36390c63b4e78977d7a110c931b', 'message': 'compute: keep tracking of image when create volume from image\n\nWhen booting an instance with a volume created from image\nwe should keep tracking of the image used.\n\nCloses-Bug: #1369563\nChange-Id: I2c0ebb29063bdc43f7c40954e30d1b6b0e3b8b6c\n'}, {'number': 3, 'created': '2014-09-16 08:32:54.000000000', 'files': ['nova/tests/compute/test_compute_api.py', 'nova/tests/compute/test_compute.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/08339e6216eb51983582f9226b79c19c62963c72', 'message': 'compute: keep tracking of image when create volume from image\n\nWhen booting an instance with a volume created from image or\nbootable volume we should keep tracking of the image used.\n\nCloses-Bug: #1369563\nChange-Id: I2c0ebb29063bdc43f7c40954e30d1b6b0e3b8b6c\n'}]",0,121503,08339e6216eb51983582f9226b79c19c62963c72,27,9,3,7730,,,0,"compute: keep tracking of image when create volume from image

When booting an instance with a volume created from image or
bootable volume we should keep tracking of the image used.

Closes-Bug: #1369563
Change-Id: I2c0ebb29063bdc43f7c40954e30d1b6b0e3b8b6c
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/121503/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,36337f847d7a24bdb1a00e10c35b2bcd44495d34,bug/1369563," image_href, image_id = [boot_meta['id']] * 2", image_id = None,1,1
openstack%2Fnova~master~I6a7114334f3467c63728fc54f1e8a6c1dc00852f,openstack/nova,master,I6a7114334f3467c63728fc54f1e8a6c1dc00852f,Change HTTPBadRequest to HTTPConflict when creating default rule,ABANDONED,2014-09-26 08:08:00.000000000,2015-01-23 15:24:35.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 6167}, {'_account_id': 6348}, {'_account_id': 9008}, {'_account_id': 9578}]","[{'number': 1, 'created': '2014-09-26 08:08:00.000000000', 'files': ['nova/api/openstack/compute/contrib/security_group_default_rules.py', 'nova/tests/api/openstack/compute/contrib/test_security_group_default_rules.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1d05c7c95c692f77a8ecf16fca1644e7941942e9', 'message': 'Change HTTPBadRequest to HTTPConflict when creating default rule\n\nWhen creating secgroup group default rules which already exists,\nHTTPBadRequest is raised which should be changed to HTTPConflict.\n\nChange-Id: I6a7114334f3467c63728fc54f1e8a6c1dc00852f\nCloses-Bug: #1374320\n'}]",0,124326,1d05c7c95c692f77a8ecf16fca1644e7941942e9,13,9,1,6348,,,0,"Change HTTPBadRequest to HTTPConflict when creating default rule

When creating secgroup group default rules which already exists,
HTTPBadRequest is raised which should be changed to HTTPConflict.

Change-Id: I6a7114334f3467c63728fc54f1e8a6c1dc00852f
Closes-Bug: #1374320
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/124326/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/contrib/security_group_default_rules.py', 'nova/tests/api/openstack/compute/contrib/test_security_group_default_rules.py']",2,1d05c7c95c692f77a8ecf16fca1644e7941942e9,secgroup_add_default_rule_conflict," self.assertRaises(webob.exc.HTTPConflict, self.controller.create,"," self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create,",2,2
openstack%2Fnova~master~I9aaaa90d063ae03d2047d052c76c0a87969c4aab,openstack/nova,master,I9aaaa90d063ae03d2047d052c76c0a87969c4aab,Add isNot operator for extra_specs,ABANDONED,2014-01-24 08:21:40.000000000,2015-01-23 15:24:34.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5652}, {'_account_id': 6390}, {'_account_id': 7872}, {'_account_id': 8802}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-01-24 08:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9c96f517810db2559b1547662e1d6e663f295bf', 'message': 'Add isNot operator for extra_specs\n\nAdds a operator to check if a certain value does not exist in the\nhost metadata. Use case are boolean values in host aggregates. Instead\nof defining two groups with value=true and value=false the isNot operator\ncan be used for the false value.\n\nChange-Id: I9aaaa90d063ae03d2047d052c76c0a87969c4aab\n'}, {'number': 2, 'created': '2014-06-02 06:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4ca63524cf74875db30fb33af0b7b26c2d1075a', 'message': 'Add isNot operator for extra_specs\n\nAdds a operator to check if a certain value does not exist in the\nhost metadata. Use case are boolean values in host aggregates. Instead\nof defining two groups with value=true and value=false the isNot operator\ncan be used for the false value.\n\nChange-Id: I9aaaa90d063ae03d2047d052c76c0a87969c4aab\n'}, {'number': 3, 'created': '2014-06-03 12:54:16.000000000', 'files': ['nova/tests/scheduler/test_host_filters.py', 'nova/scheduler/filters/extra_specs_ops.py', 'nova/scheduler/filters/aggregate_instance_extra_specs.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/764281e0a4c216ee67614040fcfff2aaa1328d7b', 'message': 'Add isNot operator for extra_specs\n\nAdds a operator to check if a certain value does not exist in the\nhost metadata. Use case are boolean values in host aggregates. Instead\nof defining two groups with value=true and value=false the isNot operator\ncan be used for the false value.\n\nImplements: bp isnot-operator\nChange-Id: I9aaaa90d063ae03d2047d052c76c0a87969c4aab\n'}]",0,68871,764281e0a4c216ee67614040fcfff2aaa1328d7b,37,12,3,7872,,,0,"Add isNot operator for extra_specs

Adds a operator to check if a certain value does not exist in the
host metadata. Use case are boolean values in host aggregates. Instead
of defining two groups with value=true and value=false the isNot operator
can be used for the false value.

Implements: bp isnot-operator
Change-Id: I9aaaa90d063ae03d2047d052c76c0a87969c4aab
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/68871/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/scheduler/test_host_filters.py', 'nova/scheduler/filters/extra_specs_ops.py', 'nova/scheduler/filters/aggregate_instance_extra_specs.py']",3,e9c96f517810db2559b1547662e1d6e663f295bf,bp/isnot-operator," if extra_specs_ops.match(None, req): break",,26,3
openstack%2Fnova~master~Ia952cc90a42720c3682090a2bd6da86a223d2c8d,openstack/nova,master,Ia952cc90a42720c3682090a2bd6da86a223d2c8d,check the sum of vlan number and networks,ABANDONED,2014-07-03 07:47:09.000000000,2015-01-23 15:24:33.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6849}, {'_account_id': 8282}, {'_account_id': 8531}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 9847}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-07-03 07:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/adb2a72d7ed7da67caa7a9aa3128adc5abd47834', 'message': 'check sum of vlan_start, num_net and existing net\n\nIf there are a lot of networks existing, the new\nvlan is the sum of the vlan_start and the number\nof existing networks. So I add a check of this.\n\nChange-Id: Ia952cc90a42720c3682090a2bd6da86a223d2c8d\nCloses-Bug: #1337179\n'}, {'number': 2, 'created': '2014-07-03 09:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13e2e24d725bd2655aee5cc94cfdb1b1e7fc72e7', 'message': 'check sum of vlan_start, num_net and existing net\n\nIf there are a lot of networks existing, the new\nvlan is the sum of the vlan_start and the number\nof existing networks. So I add a check of this.\n\nChange-Id: Ia952cc90a42720c3682090a2bd6da86a223d2c8d\nCloses-Bug: #1337179\n'}, {'number': 3, 'created': '2014-08-28 13:58:15.000000000', 'files': ['nova/network/manager.py', 'nova/tests/network/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/05ae7567e8488a5a23ab20e7c42936125d8085a9', 'message': 'check the sum of vlan number and networks\n\nIf there are a lot of existing networks, the id\nassigned to a new vlan is the sum of the\nvlan_start and the number of existing networks.\nSo I add a check of this.\n\nChange-Id: Ia952cc90a42720c3682090a2bd6da86a223d2c8d\nCloses-Bug: #1337179\n'}]",6,104468,05ae7567e8488a5a23ab20e7c42936125d8085a9,59,13,3,8282,,,0,"check the sum of vlan number and networks

If there are a lot of existing networks, the id
assigned to a new vlan is the sum of the
vlan_start and the number of existing networks.
So I add a check of this.

Change-Id: Ia952cc90a42720c3682090a2bd6da86a223d2c8d
Closes-Bug: #1337179
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/104468/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/manager.py', 'nova/tests/network/test_manager.py']",2,adb2a72d7ed7da67caa7a9aa3128adc5abd47834,bug/vlan_start,"import six def test_total_vlan_number(self): # There are two networks existing, create a new network with vlan_start=4093. exc = self.assertRaises(ValueError, self.network.create_networks, self.context_admin, label=""fake"", num_networks=1, vlan_start=4093, cidr='192.168.3.1/24', network_size=1) error_msg = 'The sum of the vlan start, the number of networks' \ ' and the number of existing networks cannot be' \ ' greater than 4094' self.assertIn(error_msg, six.text_type(exc)) ",,19,0
openstack%2Fnova~master~I8165819f6568c35192d27726ca5433f6940bafe2,openstack/nova,master,I8165819f6568c35192d27726ca5433f6940bafe2,disk: refactor extend workflow to avoid using vfs,ABANDONED,2014-09-03 16:10:26.000000000,2015-01-23 15:24:31.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-09-03 16:10:26.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/virt/disk/test_api.py', 'nova/virt/disk/api.py', 'nova/tests/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9e63ac8cfa420332abc2fed24c9bb65293dafcf6', 'message': 'disk: refactor extend workflow to avoid using vfs\n\nRefactors disk.extend workflow to remove unecessary\ndependance with vfs.\nWhen extend an image not partition less e2fsck command fails\n\nCloses-Bug: #1352806\nCloses-Bug: #1246852\nCloses-Bug: #1279858\nChange-Id: I8165819f6568c35192d27726ca5433f6940bafe2\n'}]",3,118677,9e63ac8cfa420332abc2fed24c9bb65293dafcf6,12,7,1,7730,,,0,"disk: refactor extend workflow to avoid using vfs

Refactors disk.extend workflow to remove unecessary
dependance with vfs.
When extend an image not partition less e2fsck command fails

Closes-Bug: #1352806
Closes-Bug: #1246852
Closes-Bug: #1279858
Change-Id: I8165819f6568c35192d27726ca5433f6940bafe2
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/118677/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/virt/disk/test_api.py', 'nova/tests/virt/libvirt/test_driver.py', 'nova/virt/disk/api.py']",4,9e63ac8cfa420332abc2fed24c9bb65293dafcf6,bug/1352806,"SUPPORTED_FS_TO_EXTEND = ( FS_FORMAT_EXT2, FS_FORMAT_EXT3, FS_FORMAT_EXT4 ) def get_format_fs(dev): """"""Returns the filesystem type or an empty string."""""" out, err = utils.execute( 'blkid', '-o', 'value', '-s', 'TYPE', dev, run_as_root=True) return out.strip() if not CONF.resize_fs_using_block_device: # Operator does not allow host to mount the device, at this # step we expect that the image provides the necessary mechanism # to achieve this work during the boot time. imgfmt = use_cow or 'qcow2' and 'raw' mounter = mount.Mount.instance_for_format( image, None, None, imgfmt) if mounter.get_dev(): fs = get_format_fs(mounter.device) if fs in SUPPORTED_FS_TO_EXTEND: try: resize2fs(mounter.device, run_as_root=True, check_exit_code=[0]) except processutils.ProcessExecutionError as exc: LOG.debug(""Resizing the file system with resize2fs "" ""has failed with error: %s"", exc) finally: mounter.unget_dev()"," # if we can't access the filesystem, we can't do anything more if not is_image_partitionless(image, use_cow): def safe_resize2fs(dev, run_as_root=False, finally_call=lambda: None): try: resize2fs(dev, run_as_root=run_as_root, check_exit_code=[0]) except processutils.ProcessExecutionError as exc: LOG.debug(""Resizing the file system with resize2fs "" ""has failed with error: %s"", exc) finally: finally_call() # NOTE(vish): attempts to resize filesystem if use_cow: if CONF.resize_fs_using_block_device: # in case of non-raw disks we can't just resize the image, but # rather the mounted device instead mounter = mount.Mount.instance_for_format( image, None, None, 'qcow2') if mounter.get_dev(): safe_resize2fs(mounter.device, run_as_root=True, finally_call=mounter.unget_dev) else: safe_resize2fs(image)def is_image_partitionless(image, use_cow=False): """"""Check whether we can resize contained file system."""""" LOG.debug('Checking if we can resize filesystem inside %(image)s. ' 'CoW=%(use_cow)s', {'image': image, 'use_cow': use_cow}) # Check the image is unpartitioned if use_cow: try: fs = vfs.VFS.instance_for_image(image, 'qcow2', None) fs.setup() fs.teardown() except exception.NovaException as e: LOG.debug('Unable to mount image %(image)s with ' 'error %(error)s. Cannot resize.', {'image': image, 'error': e}) return False else: # For raw, we can directly inspect the file system try: utils.execute('e2label', image) except processutils.ProcessExecutionError as e: LOG.debug('Unable to determine label for image %(image)s with ' 'error %(error)s. Cannot resize.', {'image': image, 'error': e}) return False return True ",77,151
openstack%2Fnova~master~I7b83c09a12f68fb46d46e8fec840109e0932e26e,openstack/nova,master,I7b83c09a12f68fb46d46e8fec840109e0932e26e,Fix flavor extra_specs to propogate to child cells,ABANDONED,2014-10-03 20:38:04.000000000,2015-01-23 15:24:30.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5292}, {'_account_id': 5441}, {'_account_id': 8412}, {'_account_id': 8430}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 12548}]","[{'number': 1, 'created': '2014-10-03 20:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1e3d1c75afcfc8005280ccd509e81c7c87897c3', 'message': ""Fix flavor extra_specs to propogate to child cells\n\nWe can program flavor extra_specs, but it doesn't propogate the\ninformation to child cells.  This patch fixes this in a\nsomewhat quick way.  A better proposal needs to be made\nupstream in relation to conductor/etc.\n\nChange-Id: I7b83c09a12f68fb46d46e8fec840109e0932e26e\nCloses-bug: 1211011\n""}, {'number': 2, 'created': '2014-10-06 18:42:48.000000000', 'files': ['nova/tests/compute/test_compute_cells.py', 'nova/cells/manager.py', 'nova/compute/cells_api.py', 'nova/tests/cells/test_cells_rpcapi.py', 'nova/tests/cells/test_cells_messaging.py', 'nova/api/openstack/compute/contrib/flavorextraspecs.py', 'nova/tests/cells/test_cells_manager.py', 'nova/cells/messaging.py', 'nova/cells/rpcapi.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/05d2b41b4330df34fbef84bbfd053fed9b9cf872', 'message': ""Fix flavor extra_specs to propogate to child cells\n\nWe can program flavor extra_specs, but it doesn't propogate the\ninformation to child cells.  This patch fixes this in a\nsomewhat quick way.  A better proposal needs to be made\nupstream in relation to conductor/etc.\n\nChange-Id: I7b83c09a12f68fb46d46e8fec840109e0932e26e\nPartial-bug: 1211011\n""}]",8,126064,05d2b41b4330df34fbef84bbfd053fed9b9cf872,21,11,2,8430,,,0,"Fix flavor extra_specs to propogate to child cells

We can program flavor extra_specs, but it doesn't propogate the
information to child cells.  This patch fixes this in a
somewhat quick way.  A better proposal needs to be made
upstream in relation to conductor/etc.

Change-Id: I7b83c09a12f68fb46d46e8fec840109e0932e26e
Partial-bug: 1211011
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/126064/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/cells/manager.py', 'nova/compute/cells_api.py', 'nova/tests/compute/test_compute_cells.py', 'nova/tests/cells/test_cells_rpcapi.py', 'nova/tests/cells/test_cells_messaging.py', 'nova/api/openstack/compute/contrib/flavorextraspecs.py', 'nova/tests/cells/test_cells_manager.py', 'nova/cells/messaging.py', 'nova/cells/rpcapi.py', 'nova/compute/api.py']",10,e1e3d1c75afcfc8005280ccd509e81c7c87897c3,bug/1211011," def get_instance_system_metadata(self, context, instance): """"""Get all system metadata associated with an instance."""""" rv = self.db.instance_system_metadata_get(context, instance['uuid']) return dict(rv.iteritems()) def delete_instance_system_metadata(self, context, instance, meta): """"""Delete the given system metadata item from db."""""" self.db.instance_system_metadata_delete(context, instance['uuid'], meta) def update_instance_system_metadata(self, context, instance, metadata, delete=False): """"""Updates or creates instance system metadata. If delete is True, metadata items that are not specified in the `metadata` argument will be deleted. """""" self.db.instance_system_metadata_update(context, instance['uuid'], metadata, delete=delete) def update_flavor_extra_specs(self, context, flavor_id, flavor_extra_specs): """"""Propogate flavor extra specs to cells."""""" try: flavor = objects.Flavor.get_by_flavor_id(context, flavor_id) flavor.extra_specs = flavor_extra_specs flavor.save() # if flavor doesn't exist in cell ignore update' except exception.FlavorNotFound: pass ",,198,1
openstack%2Fnova~master~Ifc3d227092c422dab8e2fc8e83ec94d2f1876622,openstack/nova,master,Ifc3d227092c422dab8e2fc8e83ec94d2f1876622,Add drivertype priority scheduling on migration,ABANDONED,2014-11-28 07:58:42.000000000,2015-01-23 15:24:27.000000000,,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11531}]","[{'number': 1, 'created': '2014-11-28 07:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da14c47b0197b53ac489f06bc521ca7ebb296ab0', 'message': 'Add drivertype priority scheduling on migration\n\nIn the process of live_migration, if the user does not specify the\ndestination, the scheduler will choose a suitable host,  but the scheduler\ncan not choose hosts according to the driver_type and driver_version in\nthe existing scheduling method, especially in a heterogeneous environment,\nit will lead to the migration failure probability increased, so I think\nthe OpenStack as an excellent choice should be able to deal with this\nsituation.\n\nImplements blueprint support-driver-filter\n\nChange-Id: Ifc3d227092c422dab8e2fc8e83ec94d2f1876622\n'}, {'number': 2, 'created': '2014-11-28 08:04:48.000000000', 'files': ['nova/scheduler/filters/hypervisor_filter.py', 'nova/conductor/tasks/live_migrate.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0ef50db306c997899e7ca270d2787a4a0779a9d2', 'message': 'Add drivertype priority scheduling on migration\n\nIn the process of live_migration, if the user does not specify the\ndestination, the scheduler will choose a suitable host,  but the scheduler\ncan not choose hosts according to the driver_type and driver_version in\nthe existing scheduling method, especially in a heterogeneous environment,\nit will lead to the migration failure probability increased, so I think\nthe OpenStack as an excellent choice should be able to deal with this\nsituation.\n\nImplements blueprint support-driver-filter\n\nChange-Id: Ifc3d227092c422dab8e2fc8e83ec94d2f1876622\n'}]",2,137736,0ef50db306c997899e7ca270d2787a4a0779a9d2,13,9,2,11531,,,0,"Add drivertype priority scheduling on migration

In the process of live_migration, if the user does not specify the
destination, the scheduler will choose a suitable host,  but the scheduler
can not choose hosts according to the driver_type and driver_version in
the existing scheduling method, especially in a heterogeneous environment,
it will lead to the migration failure probability increased, so I think
the OpenStack as an excellent choice should be able to deal with this
situation.

Implements blueprint support-driver-filter

Change-Id: Ifc3d227092c422dab8e2fc8e83ec94d2f1876622
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/137736/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conductor/tasks/live_migrate.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py']",2,da14c47b0197b53ac489f06bc521ca7ebb296ab0,bp/support-driver-filter," hostinfo = {'hypervisor_type': 'type', 'hypervisor_version': 'version'} self.mox.StubOutWithMock(self.task, '_get_compute_info') self.task._get_compute_info(mox.IgnoreArg()).AndReturn(hostinfo) hostinfo = {'hypervisor_type': 'type', 'hypervisor_version': 'version'} self.mox.StubOutWithMock(self.task, '_get_compute_info') self.task._get_compute_info(mox.IgnoreArg()).AndReturn(hostinfo) def test_find_destination_retry_with_invalid_livem_checks(self): hostinfo = {'hypervisor_type': 'type', 'hypervisor_version': 'version'} self.mox.StubOutWithMock(self.task, '_get_compute_info') self.task._get_compute_info(mox.IgnoreArg()).AndReturn(hostinfo) hostinfo = {'hypervisor_type': 'type', 'hypervisor_version': 'version'} self.mox.StubOutWithMock(self.task, '_get_compute_info') self.mox.StubOutWithMock(self.task, '_call_livem_checks_on_host') self.task._get_compute_info(mox.IgnoreArg()).AndReturn(hostinfo) self.task._call_livem_checks_on_host(""host1"")\ hostinfo = {'hypervisor_type': 'type', 'hypervisor_version': 'version'} self.mox.StubOutWithMock(self.task, '_get_compute_info') self.task._get_compute_info(mox.IgnoreArg()).AndReturn(hostinfo)"," self.mox.StubOutWithMock(self.task, '_check_compatible_with_source_hypervisor') self.task._check_compatible_with_source_hypervisor(""host1"") self.mox.StubOutWithMock(self.task, '_check_compatible_with_source_hypervisor') self.task._check_compatible_with_source_hypervisor(""host1"") def _test_find_destination_retry_hypervisor_raises(self, error): self.mox.StubOutWithMock(compute_utils, 'get_image_metadata') self.mox.StubOutWithMock(scheduler_utils, 'build_request_spec') self.mox.StubOutWithMock(self.task.scheduler_client, 'select_destinations') self.mox.StubOutWithMock(self.task, '_check_compatible_with_source_hypervisor') self.mox.StubOutWithMock(self.task, '_call_livem_checks_on_host') compute_utils.get_image_metadata(self.context, self.task.image_api, self.instance_image, self.instance).AndReturn(""image"") scheduler_utils.build_request_spec(self.context, mox.IgnoreArg(), mox.IgnoreArg()).AndReturn({}) self.task.scheduler_client.select_destinations(self.context, mox.IgnoreArg(), mox.IgnoreArg()).AndReturn( [{'host': 'host1'}]) self.task._check_compatible_with_source_hypervisor(""host1"")\ .AndRaise(error) self.task.scheduler_client.select_destinations(self.context, mox.IgnoreArg(), mox.IgnoreArg()).AndReturn( [{'host': 'host2'}]) self.task._check_compatible_with_source_hypervisor(""host2"") self.task._call_livem_checks_on_host(""host2"") self.mox.ReplayAll() self.assertEqual(""host2"", self.task._find_destination()) def test_find_destination_retry_with_old_hypervisor(self): self._test_find_destination_retry_hypervisor_raises( exception.DestinationHypervisorTooOld) def test_find_destination_retry_with_invalid_hypervisor_type(self): self._test_find_destination_retry_hypervisor_raises( exception.InvalidHypervisorType) def test_find_destination_retry_with_invalid_livem_checks(self): self.mox.StubOutWithMock(self.task, '_check_compatible_with_source_hypervisor') self.task._check_compatible_with_source_hypervisor(""host1"") self.task._check_compatible_with_source_hypervisor(""host2"") self.mox.StubOutWithMock(self.task, '_check_compatible_with_source_hypervisor') self.task._check_compatible_with_source_hypervisor(""host1"")\",23,53
openstack%2Fnova~master~I67fc3779ee1d024bb722a817dfe3667946017313,openstack/nova,master,I67fc3779ee1d024bb722a817dfe3667946017313,Make fake vmware driver use host per cluster,ABANDONED,2014-11-17 14:57:15.000000000,2015-01-23 15:24:25.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7148}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-17 14:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f915dbfd98c7cb144e0ac8a4338ae834de68f070', 'message': ""Seperate fake host for different clusters\n\nIn reality cases, the esxi host can't belog to different clusters.\nCurrently the fake.py are incorrectly have same mock esxi host under\ndifferent clusters. This could mask some problems from being found\nsuch as bug #1347039. VMs from unit tests need to explicitly understand\nwhich esxi host they are placed.\n\nChange-Id: I67fc3779ee1d024bb722a817dfe3667946017313\n""}, {'number': 2, 'created': '2014-11-17 15:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9bdf5dd050ac16d4a90969f324b03ccf164a8722', 'message': ""Seperate fake host for different clusters\n\nIn reality case, the ESXi host can't belong to different clusters.\nCurrently the fake.py are incorrectly have the same mock ESXi host under\ndifferent clusters. This could mask some problems from being found\nsuch as bug #1347039. VMs from unit tests need to explicitly understand\nwhich esxi host they are placed.\n\nChange-Id: I67fc3779ee1d024bb722a817dfe3667946017313\n""}, {'number': 3, 'created': '2014-11-18 03:09:00.000000000', 'files': ['nova/tests/unit/virt/vmwareapi/fake.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7c8eb87d408a2642f1dd8f263bc3006542a2c4d8', 'message': ""Make fake vmware driver use host per cluster\n\nIn reality case, the ESXi host can't belong to different clusters.\nCurrently the fake.py are incorrectly have the same mock ESXi host under\ndifferent clusters. This could mask some problems from being found\nsuch as bug #1347039. VMs from unit tests need to explicitly understand\nwhich esxi host they are placed.\n\nChange-Id: I67fc3779ee1d024bb722a817dfe3667946017313\n""}]",2,134963,7c8eb87d408a2642f1dd8f263bc3006542a2c4d8,19,8,3,7148,,,0,"Make fake vmware driver use host per cluster

In reality case, the ESXi host can't belong to different clusters.
Currently the fake.py are incorrectly have the same mock ESXi host under
different clusters. This could mask some problems from being found
such as bug #1347039. VMs from unit tests need to explicitly understand
which esxi host they are placed.

Change-Id: I67fc3779ee1d024bb722a817dfe3667946017313
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/134963/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/vmwareapi/fake.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py']",2,f915dbfd98c7cb144e0ac8a4338ae834de68f070,bug/1347039," self.ds = 'ds3' self.vnc_host = 'host3' cluster = (self.node_name2 if 'test_cluster2' not in self.node_name else self.node_name) self._create_vm(node=cluster) self.ds = 'ds3' self.vnc_host = 'host3' node = (self.node_name2 if 'test_cluster2' not in self.node_name else self.node_name) stats = self.conn.get_available_resource(node) cpu_info = {""model"": [""Intel(R) Xeon(R)""], ""vendor"": [""Intel""], ""topology"": {""cores"": 8, ""threads"": 16}} self.assertEqual(stats['vcpus'], 16) self.assertEqual(stats['hypervisor_hostname'], node) # currently there are 3 data stores self.assertEqual(3, len(vmops._datastore_dc_mapping))"," self.ds = 'ds2' self.vnc_host = 'ha-host' self._create_vm() self.ds = 'ds2' self.vnc_host = 'ha-host' stats = self.conn.get_available_resource(self.node_name) cpu_info = {""model"": [""Intel(R) Xeon(R)"", ""Intel(R) Xeon(R)""], ""vendor"": [""Intel"", ""Intel""], ""topology"": {""cores"": 16, ""threads"": 32}} self.assertEqual(stats['vcpus'], 32) self.assertEqual(stats['hypervisor_hostname'], self.node_name) # currently there are 2 data stores self.assertEqual(2, len(vmops._datastore_dc_mapping))",49,31
openstack%2Fnova~master~I76855216f659eeac34f5d8f4d68f7f176f2376bd,openstack/nova,master,I76855216f659eeac34f5d8f4d68f7f176f2376bd,VMWare: Fix issue for incorrect disk resource report,ABANDONED,2014-07-22 17:09:29.000000000,2015-01-23 15:24:23.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 7148}, {'_account_id': 7400}, {'_account_id': 8412}, {'_account_id': 8574}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}]","[{'number': 1, 'created': '2014-07-22 17:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27d3a8e7c7fdd6346f173f8a8d2f0890b0c6249a', 'message': 'VMWare: Fix issue for incorrect disk resource report\n\nFor reporting host status of vcenter driver, it only pick up a single\ndatastore for disk calculations. This is incorrect if the compute cluster\ncan access multiple datastores. This fix will consider all available and\naccessible datastores for disk report.\n\nChange-Id: I76855216f659eeac34f5d8f4d68f7f176f2376bd\nCloses-Bug: #1347039\n'}, {'number': 2, 'created': '2014-07-29 06:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5221137212a23a90129b47ae673843073953c695', 'message': 'VMWare: Fix issue for incorrect disk resource report\n\nFor reporting host status of vcenter driver, it only pick up a single\ndatastore for disk calculations. This is incorrect if the compute cluster\ncan access multiple datastores. This fix will consider all available and\naccessible datastores for disk report.\n\nChange-Id: I76855216f659eeac34f5d8f4d68f7f176f2376bd\nCloses-Bug: #1347039\n'}, {'number': 3, 'created': '2014-08-04 14:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e054f8a68126071648acc531c382ea2e9e6f20f', 'message': 'VMWare: Fix issue for incorrect disk resource report\n\nFor reporting host status of vcenter driver, it only pick up a single\ndatastore for disk calculations. This is incorrect if the compute cluster\ncan access multiple datastores. This fix will consider all available and\naccessible datastores for disk report.\n\nChange-Id: I76855216f659eeac34f5d8f4d68f7f176f2376bd\nCloses-Bug: #1347039\n'}, {'number': 4, 'created': '2014-08-26 07:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/859c134ac4dac1d1e82a1edbf0955e296d424e37', 'message': 'VMWare: Fix issue for incorrect disk resource report\n\nReporting host status of vcenter driver now picks up only a single\ndatastore for disk calculations. This is incorrect if the compute cluster\ncan access multiple datastores. This fix will consider all available and\naccessible datastores for disk report.\n\nChange-Id: I76855216f659eeac34f5d8f4d68f7f176f2376bd\nCloses-Bug: #1347039\n'}, {'number': 5, 'created': '2014-08-26 09:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9ef5f2d67f9ee82d25746492568bdbdae525fff', 'message': 'VMWare: Fix issue for incorrect disk resource report\n\nReporting host status of vcenter driver now picks up only a single\ndatastore for disk calculations. This is incorrect if the compute cluster\ncan access multiple datastores. This fix will consider all available and\naccessible datastores for disk report.\n\nChange-Id: I76855216f659eeac34f5d8f4d68f7f176f2376bd\nCloses-Bug: #1347039\n'}, {'number': 6, 'created': '2014-08-27 09:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab97a328c486951714d93b1fe189deed4d28968f', 'message': 'VMWare: Fix issue for incorrect disk resource report\n\nReporting host status of vcenter driver now picks up only a single\ndatastore for disk calculations. This is incorrect if the compute cluster\ncan access multiple datastores. This fix will consider all available and\naccessible datastores for disk report.\n\nChange-Id: I76855216f659eeac34f5d8f4d68f7f176f2376bd\nCloses-Bug: #1347039\n'}, {'number': 7, 'created': '2014-08-29 07:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/850a84176c43809358cfcaaea310605effd7f603', 'message': 'VMWare: Fix issue for incorrect disk resource report\n\nReporting host status of vcenter driver now picks up only a single\ndatastore for disk calculations. This is incorrect if the compute cluster\ncan access multiple datastores. This fix will consider all available and\naccessible datastores for disk report.\n\nChange-Id: I76855216f659eeac34f5d8f4d68f7f176f2376bd\nCloses-Bug: #1347039\n'}, {'number': 8, 'created': '2014-08-29 12:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4651ea1fef80e97db6e61ae16cc79a6c145d456', 'message': 'VMWare: Fix issue for incorrect disk resource report\n\nReporting host status of vcenter driver now picks up only a single\ndatastore for disk calculations. This is incorrect if the compute cluster\ncan access multiple datastores. This fix will consider all available and\naccessible datastores for disk report.\n\nChange-Id: I76855216f659eeac34f5d8f4d68f7f176f2376bd\nCloses-Bug: #1347039\n'}, {'number': 9, 'created': '2014-09-12 04:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c76bb449a1d71e469a7bce04d4257221bbe4c31', 'message': 'VMWare: Fix issue for incorrect disk resource report\n\nReporting host status of vcenter driver now picks up only a single\ndatastore for disk calculations. This is incorrect if the compute cluster\ncan access multiple datastores. This fix will consider all available and\naccessible datastores for disk report.\n\nChange-Id: I76855216f659eeac34f5d8f4d68f7f176f2376bd\nCloses-Bug: #1347039\n'}, {'number': 10, 'created': '2014-09-12 07:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0fdff036e7d2fec85285a600366ad338adcccbe0', 'message': 'VMWare: Fix issue for incorrect disk resource report\n\nReporting host status of vcenter driver now picks up only a single\ndatastore for disk calculations. This is incorrect if the compute cluster\ncan access multiple datastores. This fix will consider all available and\naccessible datastores for disk report.\n\nThis fix will also avoid vmware fake to have same host system belong to\ndifferent clusters and allow creation of fake VM on host under certain\ncluster.\n\nChange-Id: I76855216f659eeac34f5d8f4d68f7f176f2376bd\nCloses-Bug: #1347039\n'}, {'number': 11, 'created': '2014-09-17 10:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e2b0867f62f8f1905aaef44157c1ee7a3ebd215', 'message': 'VMWare: Fix issue for incorrect disk resource report\n\nReporting host status of vcenter driver now picks up only a single\ndatastore for disk calculations. This is incorrect if the compute cluster\ncan access multiple datastores. This fix will consider all available and\naccessible datastores for disk report.\n\nThis fix will also avoid vmware fake to have same host system belong to\ndifferent clusters and allow creation of fake VM on host under certain\ncluster.\n\nChange-Id: I76855216f659eeac34f5d8f4d68f7f176f2376bd\nCloses-Bug: #1347039\n'}, {'number': 12, 'created': '2014-09-17 12:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68ab3146438be6158392409f25c836afebfb1f86', 'message': 'VMWare: Fix issue for incorrect disk resource report\n\nReporting host status of vcenter driver now picks up only a single\ndatastore for disk calculations. This is incorrect if the compute cluster\ncan access multiple datastores. This fix will consider all available and\naccessible datastores for disk report.\n\nThis fix will also avoid vmware fake to have same host system belong to\ndifferent clusters and allow creation of fake VM on host under certain\ncluster.\n\nChange-Id: I76855216f659eeac34f5d8f4d68f7f176f2376bd\nCloses-Bug: #1347039\n'}, {'number': 13, 'created': '2014-09-22 01:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5695ce698ea15f9c732abb214ad93c4273707df4', 'message': 'VMWare: Fix issue for incorrect disk resource report\n\nReporting host status of vcenter driver now picks up only a single\ndatastore for disk calculations. This is incorrect if the compute cluster\ncan access multiple datastores. This fix will consider all available and\naccessible datastores for disk report.\n\nThis commit will also fix vmware fake to have same host system belong to\ndifferent clusters and allow creation of fake VM on host under certain\ncluster.\n\nChange-Id: I76855216f659eeac34f5d8f4d68f7f176f2376bd\nCloses-Bug: #1347039\n'}, {'number': 14, 'created': '2014-09-26 06:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e80369182a36f888850975ab6db5b5d751cc841d', 'message': 'VMWare: Fix issue for incorrect disk resource report\n\nReporting host status of vcenter driver now picks up only a single\ndatastore for disk calculations. This is incorrect if the compute cluster\ncan access multiple datastores. This fix will consider all available and\naccessible datastores for disk report.\n\nThis commit will also fix vmware fake to have same host system belong to\ndifferent clusters and allow creation of fake VM on host under certain\ncluster.\n\nChange-Id: I76855216f659eeac34f5d8f4d68f7f176f2376bd\nCloses-Bug: #1347039\n'}, {'number': 15, 'created': '2014-10-07 10:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37eae3a3e71417b1d16e94462e931b00c65b72b0', 'message': 'VMWare: Fix issue for incorrect disk resource report\n\nReporting host status of vcenter driver now picks up only a single\ndatastore for disk calculations. This is incorrect if the compute cluster\ncan access multiple datastores. This fix will consider all available and\naccessible datastores for disk report.\n\nThis commit will also fix vmware fake to have same host system belong to\ndifferent clusters and allow creation of fake VM on host under certain\ncluster.\n\nChange-Id: I76855216f659eeac34f5d8f4d68f7f176f2376bd\nCloses-Bug: #1347039\n'}, {'number': 16, 'created': '2014-10-09 03:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/935adac5bcb14a9f7077db793342dca93fbc4a0f', 'message': 'VMWare: Fix issue for incorrect disk resource report\n\nReporting host status of vcenter driver now picks up only a single\ndatastore for disk calculations. This is incorrect if the compute cluster\ncan access multiple datastores. This fix will consider all available and\naccessible datastores for disk report.\n\nThis commit will also fix vmware fake to have same host system belong to\ndifferent clusters and allow creation of fake VM on host under certain\ncluster.\n\nChange-Id: I76855216f659eeac34f5d8f4d68f7f176f2376bd\nCloses-Bug: #1347039\n'}, {'number': 17, 'created': '2014-10-14 15:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6a0f8d2c5885febcb2ea36fb370acb577ae5028', 'message': 'VMWare: Fix issue for incorrect disk resource report\n\nReporting host status of vcenter driver now picks up only a single\ndatastore for disk calculations. This is incorrect if the compute cluster\ncan access multiple datastores. This fix will consider all available and\naccessible datastores for disk report.\n\nThis commit will also fix vmware fake to have same host system belong to\ndifferent clusters and allow creation of fake VM on host under certain\ncluster.\n\nChange-Id: I76855216f659eeac34f5d8f4d68f7f176f2376bd\nCloses-Bug: #1347039\n'}, {'number': 18, 'created': '2014-10-20 03:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf9a82d3a38b4e577c9ce5853f6b471bae416f1d', 'message': 'VMWare: Fix issue for incorrect disk resource report\n\nReporting host status of vcenter driver now picks up only a single\ndatastore for disk calculations. This is incorrect if the compute cluster\ncan access multiple datastores. This fix will consider all available and\naccessible datastores for disk report.\n\nThis commit will also fix vmware fake to have same host system belong to\ndifferent clusters and allow creation of fake VM on host under certain\ncluster.\n\nChange-Id: I76855216f659eeac34f5d8f4d68f7f176f2376bd\nCloses-Bug: #1347039\n'}, {'number': 19, 'created': '2014-10-25 07:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3e22f9c6f494da0c55ff145de56e8d08e7ae0f2', 'message': 'VMWare: Fix issue for incorrect disk resource report\n\nReporting host status of vcenter driver now picks up only a single\ndatastore for disk calculations. This is incorrect if the compute cluster\ncan access multiple datastores. This fix will consider all available and\naccessible datastores for disk report.\n\nThis commit will also fix vmware fake to have same host system belong to\ndifferent clusters and allow creation of fake VM on host under certain\ncluster.\n\nChange-Id: I76855216f659eeac34f5d8f4d68f7f176f2376bd\nCloses-Bug: #1347039\n'}, {'number': 20, 'created': '2014-11-17 15:36:19.000000000', 'files': ['nova/virt/vmwareapi/ds_util.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/virt/vmwareapi/host.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eac026d91f7a73eadde3db4bf6ae5a2e87ce9653', 'message': 'VMWare: Fix issue for incorrect disk resource report\n\nReporting host status of vcenter driver now picks up only a single\ndatastore for disk calculations. This is incorrect if the compute cluster\ncan access multiple datastores. This fix will consider all available and\naccessible datastores for disk report.\n\nChange-Id: I76855216f659eeac34f5d8f4d68f7f176f2376bd\nCloses-Bug: #1347039\n'}]",26,108777,eac026d91f7a73eadde3db4bf6ae5a2e87ce9653,180,18,20,7148,,,0,"VMWare: Fix issue for incorrect disk resource report

Reporting host status of vcenter driver now picks up only a single
datastore for disk calculations. This is incorrect if the compute cluster
can access multiple datastores. This fix will consider all available and
accessible datastores for disk report.

Change-Id: I76855216f659eeac34f5d8f4d68f7f176f2376bd
Closes-Bug: #1347039
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/108777/17 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/ds_util.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/virt/vmwareapi/fake.py', 'nova/virt/vmwareapi/host.py', 'nova/tests/virt/vmwareapi/test_driver_api.py']",5,27d3a8e7c7fdd6346f173f8a8d2f0890b0c6249a,bug/1347039," self.assertEqual(stats['local_gb'], 1024 * 2) self.assertEqual(stats['local_gb_used'], 1024 * 2 - 500 * 2)"," self.assertEqual(stats['local_gb'], 1024) self.assertEqual(stats['local_gb_used'], 1024 - 500)",33,18
openstack%2Fnova~master~Id282c5455435480849c5fd3ace3894183c96bbce,openstack/nova,master,Id282c5455435480849c5fd3ace3894183c96bbce,libvirt: do not use assertEqual for boolean values,ABANDONED,2014-09-05 13:01:42.000000000,2015-01-23 15:24:21.000000000,,"[{'_account_id': 3}, {'_account_id': 91}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11642}]","[{'number': 1, 'created': '2014-09-05 13:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7d7472eb42009c240d2e467e9ad9d55fdf2bd09', 'message': 'libvirt: do not use assertEqual for boolean values\n\nThere were a some tests using assertEqual(True, foo) or\nassertEqual(False, foo) instead of assertTrue(foo) or assertFalse(foo).\n\nChange-Id: Id282c5455435480849c5fd3ace3894183c96bbce\n'}, {'number': 2, 'created': '2014-10-01 12:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd2736fa06f9a947b64f7c358142155520b64680', 'message': 'libvirt: do not use assertEqual for boolean values\n\nThere were a some tests using assertEqual(True, foo) or\nassertEqual(False, foo) instead of assertTrue(foo) or assertFalse(foo).\n\nChange-Id: Id282c5455435480849c5fd3ace3894183c96bbce\n'}, {'number': 3, 'created': '2014-10-08 07:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f71e87c1f1e66d460a616f5ca4f7ee88be0d4af6', 'message': 'libvirt: do not use assertEqual for boolean values\n\nThere were a some tests using assertEqual(True, foo) or\nassertEqual(False, foo) instead of assertTrue(foo) or assertFalse(foo).\n\nChange-Id: Id282c5455435480849c5fd3ace3894183c96bbce\n'}, {'number': 4, 'created': '2014-10-21 08:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c035a050de8d02bdebae4daab001cd5fe4a0d8a0', 'message': 'libvirt: do not use assertEqual for boolean values\n\nThere were a some tests using assertEqual(True, foo) or\nassertEqual(False, foo) instead of assertTrue(foo) or assertFalse(foo).\n\nChange-Id: Id282c5455435480849c5fd3ace3894183c96bbce\n'}, {'number': 5, 'created': '2014-11-10 11:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d56331e5b4732279c20ce0501a66b30b71e362af', 'message': 'libvirt: do not use assertEqual for boolean values\n\nThere were a some tests using assertEqual(True, foo) or\nassertEqual(False, foo) instead of assertTrue(foo) or assertFalse(foo).\n\nChange-Id: Id282c5455435480849c5fd3ace3894183c96bbce\n'}, {'number': 6, 'created': '2014-11-10 12:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e8474b3c98fcdab69bcffabcc443e444d7ea40d', 'message': 'libvirt: do not use assertEqual for boolean values\n\nThere were a some tests using assertEqual(True, foo) or\nassertEqual(False, foo) instead of assertTrue(foo) or assertFalse(foo).\n\nChange-Id: Id282c5455435480849c5fd3ace3894183c96bbce\n'}, {'number': 7, 'created': '2014-11-10 14:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2146587dce6a29e9515409ff03ab00ba78c93327', 'message': 'libvirt: do not use assertEqual for boolean values\n\nThere were a some tests using assertEqual(True, foo) or\nassertEqual(False, foo) instead of assertTrue(foo) or assertFalse(foo).\n\nChange-Id: Id282c5455435480849c5fd3ace3894183c96bbce\n'}, {'number': 8, 'created': '2014-11-13 08:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03e912ab43c72368315b3b1178271b56f2ddc637', 'message': 'libvirt: do not use assertEqual for boolean values\n\nThere were a some tests using assertEqual(True, foo) or\nassertEqual(False, foo) instead of assertTrue(foo) or assertFalse(foo).\n\nChange-Id: Id282c5455435480849c5fd3ace3894183c96bbce\n'}, {'number': 9, 'created': '2014-11-13 09:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cdaba87e43539acb6af7252ef29265ffcf1e1468', 'message': 'libvirt: do not use assertEqual for boolean values\n\nThere were a some tests using assertEqual(True, foo) or\nassertEqual(False, foo) instead of assertTrue(foo) or assertFalse(foo).\n\nChange-Id: Id282c5455435480849c5fd3ace3894183c96bbce\n'}, {'number': 10, 'created': '2014-11-13 22:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6b92d1fd838cb4fa3c84905c498011b8a9d2574', 'message': 'libvirt: do not use assertEqual for boolean values\n\nThere were a some tests using assertEqual(True, foo) or\nassertEqual(False, foo) instead of assertTrue(foo) or assertFalse(foo).\n\nChange-Id: Id282c5455435480849c5fd3ace3894183c96bbce\n'}, {'number': 11, 'created': '2014-11-14 07:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c69b30b25fd8636707a0d1671184117f48023178', 'message': 'libvirt: do not use assertEqual for boolean values\n\nThere were a some tests using assertEqual(True, foo) or\nassertEqual(False, foo) instead of assertTrue(foo) or assertFalse(foo).\n\nChange-Id: Id282c5455435480849c5fd3ace3894183c96bbce\n'}, {'number': 12, 'created': '2014-11-17 08:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/632d76568a265fad27dc269c059718f7de1f4ae0', 'message': 'libvirt: do not use assertEqual for boolean values\n\nThere were a some tests using assertEqual(True, foo) or\nassertEqual(False, foo) instead of assertTrue(foo) or assertFalse(foo).\n\nChange-Id: Id282c5455435480849c5fd3ace3894183c96bbce\n'}, {'number': 13, 'created': '2014-11-20 17:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4873e4179011bf1f2191d25637c7b96fb6f59b31', 'message': 'libvirt: do not use assertEqual for boolean values\n\nThere were a some tests using assertEqual(True, foo) or\nassertEqual(False, foo) instead of assertTrue(foo) or assertFalse(foo).\n\nChange-Id: Id282c5455435480849c5fd3ace3894183c96bbce\n'}, {'number': 14, 'created': '2014-11-24 10:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac4b5163a3bb29d635815ac08518a4f08230cdc8', 'message': 'libvirt: do not use assertEqual for boolean values\n\nThere were a some tests using assertEqual(True, foo) or\nassertEqual(False, foo) instead of assertTrue(foo) or assertFalse(foo).\n\nChange-Id: Id282c5455435480849c5fd3ace3894183c96bbce\n'}, {'number': 15, 'created': '2014-11-24 10:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ddcebb58b5d217e946be363926b9840a856d431', 'message': 'libvirt: do not use assertEqual for boolean values\n\nThere were a some tests using assertEqual(True, foo) or\nassertEqual(False, foo) instead of assertTrue(foo) or assertFalse(foo).\n\nChange-Id: Id282c5455435480849c5fd3ace3894183c96bbce\n'}, {'number': 16, 'created': '2014-11-26 18:59:38.000000000', 'files': ['nova/hacking/checks.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6863192fe7ca5fe771888a61d0ae8bf48b0f1ca2', 'message': 'libvirt: do not use assertEqual for boolean values\n\nThere were a some tests using assertEqual(True, foo) or\nassertEqual(False, foo) instead of assertTrue(foo) or assertFalse(foo).\n\nChange-Id: Id282c5455435480849c5fd3ace3894183c96bbce\n'}]",0,119366,6863192fe7ca5fe771888a61d0ae8bf48b0f1ca2,105,13,16,91,,,0,"libvirt: do not use assertEqual for boolean values

There were a some tests using assertEqual(True, foo) or
assertEqual(False, foo) instead of assertTrue(foo) or assertFalse(foo).

Change-Id: Id282c5455435480849c5fd3ace3894183c96bbce
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/119366/16 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/virt/libvirt/test_driver.py'],1,d7d7472eb42009c240d2e467e9ad9d55fdf2bd09,hacking, self.assertFalse(cfg.pae) self.assertTrue(cfg.acpi) self.assertTrue(cfg.apic) self.assertTrue(cfg.acpi) self.assertFalse(cfg.acpi) self.assertTrue(cfg.pae) self.assertTrue(cfg.pae) self.assertTrue(c.is_expected)," self.assertEqual(cfg.pae, False) self.assertEqual(cfg.acpi, True) self.assertEqual(cfg.apic, True) self.assertEqual(cfg.acpi, True) self.assertEqual(cfg.acpi, False) self.assertEqual(cfg.pae, True) self.assertEqual(cfg.pae, True) self.assertEqual(True, c.is_expected)",8,8
openstack%2Fnova~master~Ic3ca3a5bb36a82eeb37fa88494bf3748ccd3f8ae,openstack/nova,master,Ic3ca3a5bb36a82eeb37fa88494bf3748ccd3f8ae,Make some functions in HostAPI use object,ABANDONED,2014-10-24 11:12:48.000000000,2015-01-23 15:24:16.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13633}]","[{'number': 1, 'created': '2014-10-24 11:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9246d7a078c45cb1b0dbb3b9c4f8de57cd721f54', 'message': 'Make some functions in HostAPI use object\n\nCurrently in nova compute layer, there are some functions\ndirectly use db instead of object, this patch makes them\nuse object instead.\n\nChange-Id: Ic3ca3a5bb36a82eeb37fa88494bf3748ccd3f8ae\n'}, {'number': 2, 'created': '2014-11-06 06:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f651710167ac67f10c9acec0eee8e7e9ab12658', 'message': 'Make some functions in HostAPI use object\n\nCurrently in nova compute layer, there are some functions\ndirectly use db instead of object, this patch makes them\nuse object instead.\n\nChange-Id: Ic3ca3a5bb36a82eeb37fa88494bf3748ccd3f8ae\n'}, {'number': 3, 'created': '2014-11-06 14:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5bfa9dbc463342e0433e72eaa97f798ac48b59e6', 'message': 'Make some functions in HostAPI use object\n\nCurrently in nova compute layer, there are some functions\ndirectly use db instead of object, this patch makes them\nuse object instead.\n\nChange-Id: Ic3ca3a5bb36a82eeb37fa88494bf3748ccd3f8ae\n'}, {'number': 4, 'created': '2014-11-07 12:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/774ac83c48ba2c203ae88182aa546d52c2f76ce6', 'message': 'Make some functions in HostAPI use object\n\nCurrently in nova compute layer, there are some functions\ndirectly use db instead of object, this patch makes them\nuse object instead.\n\nChange-Id: Ic3ca3a5bb36a82eeb37fa88494bf3748ccd3f8ae\n'}, {'number': 5, 'created': '2014-11-13 08:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a1ae9d3c4a98ee61aca650fd9c1d4a748232b87', 'message': 'Make some functions in HostAPI use object\n\nCurrently in nova compute layer, there are some functions\ndirectly use db instead of object, this patch makes them\nuse object instead.\n\nChange-Id: Ic3ca3a5bb36a82eeb37fa88494bf3748ccd3f8ae\n'}, {'number': 6, 'created': '2014-11-22 14:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ac4656ca03f0860d07f3734c1c19fc0c6859c8f', 'message': 'Make some functions in HostAPI use object\n\nCurrently in nova compute layer, there are some functions\ndirectly use db instead of object, this patch makes them\nuse object instead.\n\nChange-Id: Ic3ca3a5bb36a82eeb37fa88494bf3748ccd3f8ae\n'}, {'number': 7, 'created': '2014-11-23 14:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d33ccbf6d0239e5c24557956a503221a1964d6ca', 'message': 'Make some functions in HostAPI use object\n\nCurrently in nova compute layer, there are some functions\ndirectly use db instead of object, this patch makes them\nuse object instead.\n\nChange-Id: Ic3ca3a5bb36a82eeb37fa88494bf3748ccd3f8ae\n'}, {'number': 8, 'created': '2014-11-27 10:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3102ffa16eb889a8f1b5310e2d644de7e521244', 'message': 'Make some functions in HostAPI use object\n\nCurrently in nova compute layer, there are some functions\ndirectly use db instead of object, this patch makes them\nuse object instead.\n\nChange-Id: Ic3ca3a5bb36a82eeb37fa88494bf3748ccd3f8ae\n'}, {'number': 9, 'created': '2014-12-09 05:30:21.000000000', 'files': ['nova/api/openstack/compute/contrib/hypervisors.py', 'nova/tests/unit/api/openstack/compute/plugins/v3/test_pci.py', 'nova/tests/unit/objects/test_compute_node.py', 'nova/objects/service.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/tests/functional/v3/test_pci.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/api/openstack/compute/contrib/test_extended_hypervisors.py', 'nova/objects/compute_node.py', 'nova/api/openstack/compute/plugins/v3/hypervisors.py', 'nova/tests/unit/compute/test_multiple_nodes.py', 'nova/tests/unit/api/openstack/compute/contrib/test_hypervisors.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d96d72980e92d2ebd127b38fed54a8b68f133647', 'message': 'Make some functions in HostAPI use object\n\nCurrently in nova compute layer, there are some functions\ndirectly use db instead of object, this patch makes them\nuse object instead.\n\nChange-Id: Ic3ca3a5bb36a82eeb37fa88494bf3748ccd3f8ae\n'}]",4,130744,d96d72980e92d2ebd127b38fed54a8b68f133647,74,10,9,6062,,,0,"Make some functions in HostAPI use object

Currently in nova compute layer, there are some functions
directly use db instead of object, this patch makes them
use object instead.

Change-Id: Ic3ca3a5bb36a82eeb37fa88494bf3748ccd3f8ae
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/130744/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/compute/test_host_api.py', 'nova/compute/api.py']",2,9246d7a078c45cb1b0dbb3b9c4f8de57cd721f54,replace_db_calls_in_compute," return objects.InstanceList.get_by_host(context, host_name) return objects.ComputeNode.get_by_id(context, int(compute_id)) return objects.ComputeNodeList.get_all(context) return objects.ComputeNodeList.get_by_hypervisor(context, hypervisor_match)"," return self.db.instance_get_all_by_host(context, host_name) return self.db.compute_node_get(context, int(compute_id)) return self.db.compute_node_get_all(context) return self.db.compute_node_search_by_hypervisor(context, hypervisor_match)",41,11
openstack%2Fnova~master~I538ac28159890578d115eb1a42827867ac9d39d5,openstack/nova,master,I538ac28159890578d115eb1a42827867ac9d39d5,Replace get_remote_image_service usage,ABANDONED,2014-08-04 07:22:54.000000000,2015-01-23 15:24:15.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12175}]","[{'number': 1, 'created': '2014-08-04 07:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0fa4405884a15d9e53066b9dbae0d5fafa3f4f1d', 'message': 'Replace get_remote_image_service usage\n\nThere are get_remote_image_service usage in virt layer, this\npatch replace them with image.api functions.\n\nChange-Id: I538ac28159890578d115eb1a42827867ac9d39d5\n'}, {'number': 2, 'created': '2014-08-04 07:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/599957f44ec40853abe85594e7fb72cde16f3bde', 'message': 'Replace get_remote_image_service usage\n\nThere are get_remote_image_service usage in virt layer, this\npatch replace them with image.api functions.\n\nChange-Id: I538ac28159890578d115eb1a42827867ac9d39d5\n'}, {'number': 3, 'created': '2014-08-14 03:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4dcbb00c6625f35ef029b95d0bc4d216c6eff51b', 'message': 'Replace get_remote_image_service usage\n\nThere are get_remote_image_service usage in virt layer, this\npatch replace them with image.api functions.\n\nChange-Id: I538ac28159890578d115eb1a42827867ac9d39d5\n'}, {'number': 4, 'created': '2014-08-14 03:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f96db2408a52d7cf9a1efcfa59e73b954b98ef8e', 'message': 'Replace get_remote_image_service usage\n\nThere are get_remote_image_service usage in virt layer, this\npatch replace them with image.api functions.\n\nChange-Id: I538ac28159890578d115eb1a42827867ac9d39d5\n'}, {'number': 5, 'created': '2014-08-14 05:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28e05af3a6c0a70cd39b805313a6279a215b6467', 'message': 'Replace get_remote_image_service usage\n\nThere are get_remote_image_service usage in virt layer, this\npatch replace them with image.api functions.\n\nChange-Id: I538ac28159890578d115eb1a42827867ac9d39d5\n'}, {'number': 6, 'created': '2014-08-27 04:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9998ac53e6916a16950b14134c1db20be29c5a20', 'message': 'Replace get_remote_image_service usage\n\nThere are get_remote_image_service usage in virt layer, this\npatch replace them with image.api functions.\n\nChange-Id: I538ac28159890578d115eb1a42827867ac9d39d5\n'}, {'number': 7, 'created': '2014-08-27 07:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/355c3ca942d671b89ae19ccea7903dac1b0b835d', 'message': 'Replace get_remote_image_service usage\n\nThere are get_remote_image_service usages in virt layer, this\npatch replace them with image.api functions.\n\nChange-Id: I538ac28159890578d115eb1a42827867ac9d39d5\n'}, {'number': 8, 'created': '2014-08-27 09:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fea1721f25f253693aeff0def569b98a11826edc', 'message': 'Replace get_remote_image_service usage.\n\nThere are get_remote_image_service usages in virt layer, this\npatch replace them with image.api functions.\n\nChange-Id: I538ac28159890578d115eb1a42827867ac9d39d5\n'}, {'number': 9, 'created': '2014-08-28 05:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0de7e2f987e9dad55f3608948615a332ee971675', 'message': 'Replace get_remote_image_service usage.\n\nThere are get_remote_image_service usages in virt layer, this\npatch replace them with image.api functions.\n\nChange-Id: I538ac28159890578d115eb1a42827867ac9d39d5\n'}, {'number': 10, 'created': '2014-10-24 08:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/797327fad4114938f9a69960fe4435ef6b976b0c', 'message': 'Replace get_remote_image_service usage.\n\nThere are get_remote_image_service usages in virt layer, this\npatch replace them with image.api functions.\n\nChange-Id: I538ac28159890578d115eb1a42827867ac9d39d5\n'}, {'number': 11, 'created': '2014-10-24 08:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/993513d36efef8bcdbd3ccdd060f7420d9f26460', 'message': 'Replace get_remote_image_service usage\n\nThere are get_remote_image_service usages in virt layer, this\npatch replace them with image.api functions.\n\nChange-Id: I538ac28159890578d115eb1a42827867ac9d39d5\n'}, {'number': 12, 'created': '2014-10-24 10:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ef987bffc79ce64d349e25957b7fd6a946f3661', 'message': 'Replace get_remote_image_service usage\n\nThere are get_remote_image_service usages in virt layer, this\npatch replace them with image.api functions.\n\nChange-Id: I538ac28159890578d115eb1a42827867ac9d39d5\n'}, {'number': 13, 'created': '2014-10-28 09:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d19250987553b506ac0ce501217a9f78556ab84e', 'message': 'Replace get_remote_image_service usage\n\nThere are get_remote_image_service usages in virt layer, this\npatch replace them with image.api functions.\n\nChange-Id: I538ac28159890578d115eb1a42827867ac9d39d5\n'}, {'number': 14, 'created': '2014-11-04 06:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dae856a919ffe40b6908f28804023ede47f9ffdd', 'message': 'Replace get_remote_image_service usage\n\nThere are get_remote_image_service usages in virt layer, this\npatch replace them with image.api functions.\n\nChange-Id: I538ac28159890578d115eb1a42827867ac9d39d5\n'}, {'number': 15, 'created': '2014-11-04 06:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66642b6f712cca030581e011a453ef5378e2cd41', 'message': 'Replace get_remote_image_service usage\n\nThere are get_remote_image_service usages in virt layer, this\npatch replace them with image.api functions.\n\nChange-Id: I538ac28159890578d115eb1a42827867ac9d39d5\n'}, {'number': 16, 'created': '2014-11-22 14:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd970ed1ac7afbb072bacac981eacc9727a140fc', 'message': 'Replace get_remote_image_service usage\n\nThere are get_remote_image_service usages in virt layer, this\npatch replace them with image.api functions.\n\nChange-Id: I538ac28159890578d115eb1a42827867ac9d39d5\n'}, {'number': 17, 'created': '2014-11-22 15:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eccc22397d8aeffe2a98af8dd113a6607a56e19d', 'message': 'Replace get_remote_image_service usage\n\nThere are get_remote_image_service usages in virt layer, this\npatch replace them with image.api functions.\n\nChange-Id: I538ac28159890578d115eb1a42827867ac9d39d5\n'}, {'number': 18, 'created': '2014-11-23 14:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d72c6ac1fd9c7f8aafc4d0e090507d1c089adeb', 'message': 'Replace get_remote_image_service usage\n\nThere are get_remote_image_service usages in virt layer, this\npatch replace them with image.api functions, this will make\nimage.API as the only interface for image related functions\n\nChange-Id: I538ac28159890578d115eb1a42827867ac9d39d5\n'}, {'number': 19, 'created': '2014-11-24 08:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f605467f499b8fe36410ac74c91d05735b0e86bf', 'message': 'Replace get_remote_image_service usage\n\nThere are get_remote_image_service usages in virt layer, this\npatch replace them with image.api functions, this will make\nimage.API as the only interface for image related functions\n\nChange-Id: I538ac28159890578d115eb1a42827867ac9d39d5\n'}, {'number': 20, 'created': '2014-12-09 05:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99fd66b7abef3bf44754c1770b90a0450a0a002b', 'message': 'Replace get_remote_image_service usage\n\nThere are get_remote_image_service usages in virt layer, this\npatch replace them with image.api functions, this will make\nimage.API as the only interface for image related functions\n\nChange-Id: I538ac28159890578d115eb1a42827867ac9d39d5\n'}, {'number': 21, 'created': '2014-12-09 08:26:10.000000000', 'files': ['nova/tests/unit/virt/hyperv/test_hypervapi.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/api/openstack/compute/plugins/v3/test_servers.py', 'nova/virt/hyperv/snapshotops.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/unit/virt/vmwareapi/test_configdrive.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/849d2104958760f06d74dc915528872bff4d5fb0', 'message': 'Replace get_remote_image_service usage\n\nThere are get_remote_image_service usages in virt layer, this\npatch replace them with image.api functions, this will make\nimage.API as the only interface for image related functions\n\nChange-Id: I538ac28159890578d115eb1a42827867ac9d39d5\n'}]",20,111660,849d2104958760f06d74dc915528872bff4d5fb0,133,13,21,6062,,,0,"Replace get_remote_image_service usage

There are get_remote_image_service usages in virt layer, this
patch replace them with image.api functions, this will make
image.API as the only interface for image related functions

Change-Id: I538ac28159890578d115eb1a42827867ac9d39d5
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/111660/21 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/api/openstack/compute/test_servers.py', 'nova/tests/api/openstack/compute/plugins/v3/test_servers.py', 'nova/tests/virt/hyperv/test_hypervapi.py', 'nova/tests/virt/vmwareapi/test_configdrive.py', 'nova/virt/hyperv/snapshotops.py', 'nova/tests/virt/vmwareapi/test_driver_api.py']",6,0fa4405884a15d9e53066b9dbae0d5fafa3f4f1d,move_generate_glance_url_image_api,"from nova.image import api as image_api self.glance_api = image_api.API() metadata = self.glance_api.get(self.context, image_ref)","from nova.image import glance (image_service, image_id) = glance.get_remote_image_service( self.context, image_ref) metadata = image_service.show(self.context, image_id)",28,34
openstack%2Fnova~master~I664821dc12818b50046b94462d06beb3f68956d7,openstack/nova,master,I664821dc12818b50046b94462d06beb3f68956d7,Replace generate_glance_url usage,ABANDONED,2014-11-04 06:49:43.000000000,2015-01-23 15:24:13.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 7148}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-04 06:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/639701c416bb003d009106c9a29c608a0ffa5a2b', 'message': 'Replace generate_glance_url usage\n\nThere are generate_glance_url usages in API layer, this\npatch replace them with image.api functions.\n\nChange-Id: I664821dc12818b50046b94462d06beb3f68956d7\n'}, {'number': 2, 'created': '2014-11-04 06:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb58e38ae735c3ed3ea29def82f0485e6d5af421', 'message': 'Replace generate_glance_url usage\n\nThere are generate_glance_url usages in API layer, this\npatch replace them with image.api functions.\n\nChange-Id: I664821dc12818b50046b94462d06beb3f68956d7\n'}, {'number': 3, 'created': '2014-11-13 08:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb9d46bb91493d538111b51f7c99d42520dc18b2', 'message': 'Replace generate_glance_url usage\n\nThere are generate_glance_url usages in API layer, this\npatch replace them with image.api functions.\n\nChange-Id: I664821dc12818b50046b94462d06beb3f68956d7\n'}, {'number': 4, 'created': '2014-11-20 04:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/501042796f7fb527630a036fb0db21ce6b038166', 'message': 'Replace generate_glance_url usage\n\nThere are generate_glance_url usages in API layer, this\npatch replace them with image.api functions.\n\nChange-Id: I664821dc12818b50046b94462d06beb3f68956d7\n'}, {'number': 5, 'created': '2014-11-24 05:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0683040fffe3c9848fdf6a08eac435c7b32e8fb3', 'message': ""Replace generate_glance_url usage\n\nThere are generate_glance_url usages in API layer, this\npatch replace them with image.api functions. So user don't need\nto call glance API directly, instead, they interact with image API.\n\nChange-Id: I664821dc12818b50046b94462d06beb3f68956d7\n""}, {'number': 6, 'created': '2014-11-24 08:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9193b88a76057d87ae6489780f7c937e40c27ef9', 'message': ""Replace generate_glance_url usage\n\nThere are generate_glance_url usages in API layer, this\npatch replace them with image.api functions. So user don't need\nto call glance API directly, instead, they interact with image API.\n\nChange-Id: I664821dc12818b50046b94462d06beb3f68956d7\n""}, {'number': 7, 'created': '2014-12-09 05:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07f97f5d0d07bddc25b3281eb9cae6633807f30c', 'message': ""Replace generate_glance_url usage\n\nThere are generate_glance_url usages in API layer, this\npatch replace them with image.api functions. So user don't need\nto call glance API directly, instead, they interact with image API.\n\nChange-Id: I664821dc12818b50046b94462d06beb3f68956d7\n""}, {'number': 8, 'created': '2014-12-09 08:26:10.000000000', 'files': ['nova/image/glance.py', 'nova/image/api.py', 'nova/tests/unit/api/openstack/compute/test_images.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/api/openstack/compute/views/images.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/075045e4e7d5ef8f4a10a7e9556506ea089cc389', 'message': ""Replace generate_glance_url usage\n\nThere are generate_glance_url usages in API layer, this\npatch replace them with image.api functions. So user don't need\nto call glance API directly, instead, they interact with image API.\n\nChange-Id: I664821dc12818b50046b94462d06beb3f68956d7\n""}]",0,132624,075045e4e7d5ef8f4a10a7e9556506ea089cc389,62,11,8,6062,,,0,"Replace generate_glance_url usage

There are generate_glance_url usages in API layer, this
patch replace them with image.api functions. So user don't need
to call glance API directly, instead, they interact with image API.

Change-Id: I664821dc12818b50046b94462d06beb3f68956d7
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/132624/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/image/glance.py', 'nova/tests/compute/test_compute_utils.py', 'nova/tests/api/openstack/compute/test_images.py', 'nova/image/api.py', 'nova/api/openstack/compute/views/images.py']",5,639701c416bb003d009106c9a29c608a0ffa5a2b,move_generate_glance_url_image_api,"from nova.image import api image_api = api.API() image_url = self.image_api.generate_image_url() image_url = self._update_glance_link_prefix(image_url) return '/'.join([image_url,","from nova.image import glance glance_url = glance.generate_glance_url() glance_url = self._update_glance_link_prefix(glance_url) return '/'.join([glance_url,",32,24
openstack%2Fnova~master~I8f5e23da2a2bfd31f2f950b000117ad91b1d748c,openstack/nova,master,I8f5e23da2a2bfd31f2f950b000117ad91b1d748c,Fix driver attach volume error,ABANDONED,2014-07-15 08:13:02.000000000,2015-01-23 15:24:11.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7641}, {'_account_id': 7730}, {'_account_id': 8247}, {'_account_id': 8412}, {'_account_id': 8543}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9533}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11531}]","[{'number': 1, 'created': '2014-07-15 08:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b2137964436a51c32bf9af30af6bf7530861553', 'message': ""Fix driver attach volume error\n\nI attach volume on VM, there is a exception occured when call Cinder's\nattach_volume, Cinder is shown that the volume is not mounted, but I login\nin to the VM and found that the volume was mounted on the VM.\nI think that Nova need to detach volume when the exception occrurd,\nbeacuse the Nova driver has mounted successful before call Cinder's\nattach_volume.\n\nChange-Id: I8f5e23da2a2bfd31f2f950b000117ad91b1d748c\nCloses-Bug: #1340709\n""}, {'number': 2, 'created': '2014-07-15 11:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18e2c7f0dc84d7b7210ed6460938e6831d3d6b8f', 'message': ""Fix driver attach volume error\n\nI attach volume on VM, there is a exception occured when call Cinder's\nattach_volume, Cinder is shown that the volume is not mounted, but I login\nin to the VM and found that the volume was mounted on the VM.\nI think that Nova need to detach volume when the exception occrurd,\nbeacuse the Nova driver has mounted successful before call Cinder's\nattach_volume.\n\nChange-Id: I8f5e23da2a2bfd31f2f950b000117ad91b1d748c\nCloses-Bug: #1340709\n""}, {'number': 3, 'created': '2014-07-24 08:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d91874564c158b540b2900fb9423251b9f72033', 'message': ""Fix driver attach volume error\n\nI attach volume on VM, there is a exception occured when call Cinder's\nattach_volume, Cinder is shown that the volume is not mounted, but I login\nin to the VM and found that the volume was mounted on the VM.\nI think that Nova need to detach volume when the exception occrurd,\nbeacuse the Nova driver has mounted successful before call Cinder's\nattach_volume.\n\nChange-Id: I8f5e23da2a2bfd31f2f950b000117ad91b1d748c\nCloses-Bug: #1340709\n""}, {'number': 4, 'created': '2014-07-24 08:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e073b3574d41782edfc32868c0f52cbeb9179af8', 'message': ""Fix driver attach volume error\n\nI attach volume on VM, there is a exception occured when call Cinder's\nattach_volume, Cinder is shown that the volume is not mounted, but I login\nin to the VM and found that the volume was mounted on the VM.\nI think that Nova need to detach volume when the exception occrurd,\nbeacuse the Nova driver has mounted successful before call Cinder's\nattach_volume.\n\nChange-Id: I8f5e23da2a2bfd31f2f950b000117ad91b1d748c\nCloses-Bug: #1340709\n""}, {'number': 5, 'created': '2014-07-24 08:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef7aed26b3afe237ef5d38533dd7b3328356bb95', 'message': ""Fix driver attach volume error\n\nI attach volume on VM, there is a exception occured when call Cinder's\nattach_volume, Cinder is shown that the volume is not mounted, but I login\nin to the VM and found that the volume was mounted on the VM.\nI think that Nova need to detach volume when the exception occrurd,\nbeacuse the Nova driver has mounted successful before call Cinder's\nattach_volume.\n\nChange-Id: I8f5e23da2a2bfd31f2f950b000117ad91b1d748c\nCloses-Bug: #1340709\n""}, {'number': 6, 'created': '2014-08-04 07:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/228419d63c68595deb2a474ea795fb3a7e3728fc', 'message': ""Fix driver attach volume error\n\nI attach volume on VM, there is a exception occured when call Cinder's\nattach_volume, Cinder is shown that the volume is not mounted, but I login\nin to the VM and found that the volume was mounted on the VM.\nI think that Nova need to detach volume when the exception occrurd,\nbeacuse the Nova driver has mounted successful before call Cinder's\nattach_volume.\n\nChange-Id: I8f5e23da2a2bfd31f2f950b000117ad91b1d748c\nCloses-Bug: #1340709\n""}, {'number': 7, 'created': '2014-08-06 03:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f33888cebddfb74872a37a7c3eea3aaa0c970dd7', 'message': ""Fix driver attach volume error\n\nI attach volume on VM, there is a exception occured when call Cinder's\nattach_volume, Cinder is shown that the volume is not mounted, but I login\nin to the VM and found that the volume was mounted on the VM.\nI think that Nova need to detach volume when the exception occrurd,\nbeacuse the Nova driver has mounted successful before call Cinder's\nattach_volume.\n\nChange-Id: I8f5e23da2a2bfd31f2f950b000117ad91b1d748c\nCloses-Bug: #1340709\n""}, {'number': 8, 'created': '2014-08-13 07:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a86956d06de8ee85024e402d0e1c6e80e4be7207', 'message': ""Fix driver attach volume error\n\nI attach volume on VM, there is a exception occured when call Cinder's\nattach_volume, Cinder is shown that the volume is not mounted, but I login\nin to the VM and found that the volume was mounted on the VM.\nI think that Nova need to detach volume when the exception occrurd,\nbeacuse the Nova driver has mounted successful before call Cinder's\nattach_volume.\n\nChange-Id: I8f5e23da2a2bfd31f2f950b000117ad91b1d748c\nCloses-Bug: #1340709\n""}, {'number': 9, 'created': '2014-08-14 00:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12e20a77b5ee1951efcf00149396599007a72e7f', 'message': ""Fix driver attach volume error\n\nI attach volume on VM, there is a exception occured when call Cinder's\nattach_volume, Cinder is shown that the volume is not mounted, but I login\nin to the VM and found that the volume was mounted on the VM.\nI think that Nova need to detach volume when the exception occrurd,\nbeacuse the Nova driver has mounted successful before call Cinder's\nattach_volume.\n\nChange-Id: I8f5e23da2a2bfd31f2f950b000117ad91b1d748c\nCloses-Bug: #1340709\n""}, {'number': 10, 'created': '2014-08-14 03:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62184d3e54ac6096932e032c51f99e28f095719c', 'message': ""Fix driver attach volume error\n\nI attach volume on VM, there is a exception occured when call Cinder's\nattach_volume, Cinder is shown that the volume is not mounted, but I login\nin to the VM and found that the volume was mounted on the VM.\nI think that Nova need to detach volume when the exception occrurd,\nbeacuse the Nova driver has mounted successful before call Cinder's\nattach_volume.\n\nChange-Id: I8f5e23da2a2bfd31f2f950b000117ad91b1d748c\nCloses-Bug: #1340709\n""}, {'number': 11, 'created': '2014-08-15 00:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e7941f00adc77a3467ba68a73fb8ee7eeb604d0', 'message': ""Fix driver attach volume error\n\nI attach volume on VM, there is a exception occured when call Cinder's\nattach_volume, Cinder is shown that the volume is not mounted, but I login\nin to the VM and found that the volume was mounted on the VM.\nI think that Nova need to detach volume when the exception occrurd,\nbeacuse the Nova driver has mounted successful before call Cinder's\nattach_volume.\n\nChange-Id: I8f5e23da2a2bfd31f2f950b000117ad91b1d748c\nCloses-Bug: #1340709\n""}, {'number': 12, 'created': '2014-08-15 09:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f9cfef406501748aaad4f8b6b6aec1fdbc077ce', 'message': ""Fix driver attach volume error\n\nI attach volume on VM, there is a exception occured when call Cinder's\nattach_volume, Cinder is shown that the volume is not mounted, but I login\nin to the VM and found that the volume was mounted on the VM.\nI think that Nova need to detach volume when the exception occrurd,\nbeacuse the Nova driver has mounted successful before call Cinder's\nattach_volume.\n\nChange-Id: I8f5e23da2a2bfd31f2f950b000117ad91b1d748c\nCloses-Bug: #1340709\n""}, {'number': 13, 'created': '2014-08-27 11:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/707c7a95f689200b2a7b43c715466531b6171ea4', 'message': ""Fix driver attach volume error\n\nI attach volume on VM, there is a exception occured when call Cinder's\nattach_volume, Cinder is shown that the volume is not mounted, but I login\nin to the VM and found that the volume was mounted on the VM.\nI think that Nova need to detach volume when the exception occrurd,\nbeacuse the Nova driver has mounted successful before call Cinder's\nattach_volume.\n\nChange-Id: I8f5e23da2a2bfd31f2f950b000117ad91b1d748c\nCloses-Bug: #1340709\n""}, {'number': 14, 'created': '2014-08-28 00:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f48628c3ab827556ded4bd50c57f54932196bbf3', 'message': ""Fix driver attach volume error\n\nI attach volume on VM, there is a exception occured when call Cinder's\nattach_volume, Cinder is shown that the volume is not mounted, but I login\nin to the VM and found that the volume was mounted on the VM.\nI think that Nova need to detach volume when the exception occurs,\nbeacuse the Nova driver has mounted successful before call Cinder's\nattach_volume.\n\nChange-Id: I8f5e23da2a2bfd31f2f950b000117ad91b1d748c\nCloses-Bug: #1340709\n""}, {'number': 15, 'created': '2014-09-23 01:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc95b7ca5c64ef4cde5f3e994d42dcd2ce04e547', 'message': ""Fix driver attach volume error\n\nI attach volume on VM, there is a exception occured when call Cinder's\nattach_volume, Cinder is shown that the volume is not mounted, but I login\nin to the VM and found that the volume was mounted on the VM.\nI think that Nova need to detach volume when the exception occurs,\nbecause the Nova driver has mounted successful before call Cinder's\nattach_volume.\n\nChange-Id: I8f5e23da2a2bfd31f2f950b000117ad91b1d748c\nCloses-Bug: #1340709\n""}, {'number': 16, 'created': '2014-09-30 03:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1bf573c0ea2033a4db5c1a167f7cb80cb1d17255', 'message': ""Fix driver attach volume error\n\nI attach volume on VM, there is a exception occured when call Cinder's\nattach_volume, Cinder is shown that the volume is not mounted, but I login\nin to the VM and found that the volume was mounted on the VM.\nI think that Nova need to detach volume when the exception occurs,\nbecause the Nova driver has mounted successful before call Cinder's\nattach_volume.\n\nChange-Id: I8f5e23da2a2bfd31f2f950b000117ad91b1d748c\nCloses-Bug: #1340709\n""}, {'number': 17, 'created': '2014-10-08 02:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8902d8be7bba6c17332bf94aa0e46453f70b95db', 'message': ""Fix driver attach volume error\n\nI attach volume on VM, there is a exception occured when call Cinder's\nattach_volume, Cinder is shown that the volume is not mounted, but I login\nin to the VM and found that the volume was mounted on the VM.\nI think that Nova need to detach volume when the exception occurs,\nbecause the Nova driver has mounted successful before call Cinder's\nattach_volume.\n\nChange-Id: I8f5e23da2a2bfd31f2f950b000117ad91b1d748c\nCloses-Bug: #1340709\n""}, {'number': 18, 'created': '2014-12-08 04:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49a831ee22a7ba0703696ded5ccdfa64cc87b334', 'message': ""Fix driver attach volume error\n\nI attach volume on VM, there is a exception occured when call Cinder's\nattach_volume, Cinder is shown that the volume is not mounted, but I login\nin to the VM and found that the volume was mounted on the VM.\nI think that Nova need to detach volume when the exception occurs,\nbecause the Nova driver has mounted successful before call Cinder's\nattach_volume.\n\nChange-Id: I8f5e23da2a2bfd31f2f950b000117ad91b1d748c\nCloses-Bug: #1340709\n""}, {'number': 19, 'created': '2014-12-09 02:39:45.000000000', 'files': ['nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/17acc1353795f3eb5fd7b0eaf1f637258be3a206', 'message': ""Fix driver attach volume error\n\nI attach volume on VM, there is a exception occured when calling Cinder's\nattach_volume, Cinder shows that the volume is not mounted, but I login\nin to the VM and found that the volume was mounted on the VM.\nI think that Nova need to detach volume when the exception occurred,\nbecause the Nova driver has mounted successful before call Cinder's\nattach_volume.\n\nChange-Id: I8f5e23da2a2bfd31f2f950b000117ad91b1d748c\nCloses-Bug: #1340709\n""}]",66,106958,17acc1353795f3eb5fd7b0eaf1f637258be3a206,181,20,19,11531,,,0,"Fix driver attach volume error

I attach volume on VM, there is a exception occured when calling Cinder's
attach_volume, Cinder shows that the volume is not mounted, but I login
in to the VM and found that the volume was mounted on the VM.
I think that Nova need to detach volume when the exception occurred,
because the Nova driver has mounted successful before call Cinder's
attach_volume.

Change-Id: I8f5e23da2a2bfd31f2f950b000117ad91b1d748c
Closes-Bug: #1340709
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/106958/16 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/block_device.py'],1,1b2137964436a51c32bf9af30af6bf7530861553,bug/1340709," try: # If do_cinder_attach is error, we will detach the volume on driver. volume_api.attach(context, volume_id, instance['uuid'], except Exception: with excutils.save_and_reraise_exception(): LOG.exception(_(""Cinder failed to attach volume "" ""%(volume_id)s at %(mountpoint)s""), {'volume_id': volume_id, 'mountpoint': self['mount_device']}, context=context, instance=instance) if do_driver_attach: virt_driver.detach_volume(connection_info, instance, self['mount_device'])"," volume_api.attach(context, volume_id, instance['uuid'],",13,1
openstack%2Fnova~master~I16a3931cb01a78dd550331b4f16abec1c0f036d8,openstack/nova,master,I16a3931cb01a78dd550331b4f16abec1c0f036d8,Replace get_default_image_service usage.,ABANDONED,2014-10-24 08:34:47.000000000,2015-01-23 15:24:08.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12175}]","[{'number': 1, 'created': '2014-10-24 08:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3eed5f9f5e28c89789c5b08c7a28359c973be108', 'message': 'Replace get_default_image_service usage.\n\nThere are get_default_image_service usages in compute layer, this\npatch replace them with image.api functions.\n\nChange-Id: I16a3931cb01a78dd550331b4f16abec1c0f036d8\n'}, {'number': 2, 'created': '2014-10-28 09:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6328b0068fdfdc6232f412b43082ebda40487de0', 'message': 'Replace get_default_image_service usage.\n\nThere are get_default_image_service usages in compute layer, this\npatch replace them with image.api functions.\n\nChange-Id: I16a3931cb01a78dd550331b4f16abec1c0f036d8\n'}, {'number': 3, 'created': '2014-11-13 08:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/942a9200559dced09501b1771cc8b670ac250c12', 'message': 'Replace get_default_image_service usage.\n\nThere are get_default_image_service usages in compute layer, this\npatch replace them with image.api functions.\n\nChange-Id: I16a3931cb01a78dd550331b4f16abec1c0f036d8\n'}, {'number': 4, 'created': '2014-11-20 04:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1532d4d2c5348ae73435c538c42f7dea17ed4c5', 'message': 'Replace get_default_image_service usage.\n\nThere are get_default_image_service usages in compute layer, this\npatch replace them with image.api functions.\n\nChange-Id: I16a3931cb01a78dd550331b4f16abec1c0f036d8\n'}, {'number': 5, 'created': '2014-11-22 14:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0cd5548e0ccc71293d5931d1fbd6d593a5d258f1', 'message': 'Replace get_default_image_service usage.\n\nThere are get_default_image_service usages in compute layer, this\npatch replace them with image.api functions.\n\nChange-Id: I16a3931cb01a78dd550331b4f16abec1c0f036d8\n'}, {'number': 6, 'created': '2014-11-22 15:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6fb170d0a762aa09a2cb8ed45f57c292af5c7edb', 'message': 'Replace get_default_image_service usage.\n\nThere are get_default_image_service usages in compute layer, this\npatch replace them with image.api functions.\n\nChange-Id: I16a3931cb01a78dd550331b4f16abec1c0f036d8\n'}, {'number': 7, 'created': '2014-11-23 14:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3692deb12b515dbdac7130ef6e77bf0200feae9b', 'message': 'Replace get_default_image_service usage.\n\nThere are get_default_image_service usages in compute layer, this\npatch replace them with image.api functions and makes the image.API\nas the only interface for image related functions.\n\nChange-Id: I16a3931cb01a78dd550331b4f16abec1c0f036d8\n'}, {'number': 8, 'created': '2014-11-24 08:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f3f18cab1d10d9ed9e4fe420714da3638d9085f', 'message': 'Replace get_default_image_service usage.\n\nThere are get_default_image_service usages in compute layer, this\npatch replace them with image.api functions and makes the image.API\nas the only interface for image related functions.\n\nChange-Id: I16a3931cb01a78dd550331b4f16abec1c0f036d8\n'}, {'number': 9, 'created': '2014-12-09 05:33:56.000000000', 'files': ['nova/compute/manager.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/scheduler/test_scheduler.py', 'nova/tests/unit/api/openstack/compute/plugins/v3/test_server_actions.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6f6e48256ad51ee7328b915c41d0439ee4af1df3', 'message': 'Replace get_default_image_service usage.\n\nThere are get_default_image_service usages in compute layer, this\npatch replace them with image.api functions and makes the image.API\nas the only interface for image related functions.\n\nChange-Id: I16a3931cb01a78dd550331b4f16abec1c0f036d8\n'}]",0,130716,6f6e48256ad51ee7328b915c41d0439ee4af1df3,62,8,9,6062,,,0,"Replace get_default_image_service usage.

There are get_default_image_service usages in compute layer, this
patch replace them with image.api functions and makes the image.API
as the only interface for image related functions.

Change-Id: I16a3931cb01a78dd550331b4f16abec1c0f036d8
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/130716/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/api/openstack/compute/test_server_actions.py', 'nova/tests/scheduler/test_scheduler.py', 'nova/compute/manager.py', 'nova/tests/api/openstack/compute/plugins/v3/test_server_actions.py']",4,3eed5f9f5e28c89789c5b08c7a28359c973be108,move_generate_glance_url_image_api," self.image_api.create(None, original_image) image = self.image_api.get(None, image_id) image = self.image_api.get(None, image_id)","from nova.image import glance image_service = glance.get_default_image_service() image_service.create(None, original_image) image = image_service.show(None, image_id) image_service = glance.get_default_image_service() image = image_service.show(None, image_id)",13,22
openstack%2Fnova~master~Ib6be8be3bcdd678babc45142fac75252e8403927,openstack/nova,master,Ib6be8be3bcdd678babc45142fac75252e8403927,Allow scheduler record meaningful exception after no host to retry,ABANDONED,2014-09-16 03:18:38.000000000,2015-01-23 15:24:06.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6526}, {'_account_id': 7148}, {'_account_id': 7166}, {'_account_id': 8247}, {'_account_id': 8574}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12175}]","[{'number': 1, 'created': '2014-09-16 03:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62637723c31d12627dce5603796d4aa5fda2fca9', 'message': 'Allow scheduler record meaningful exception after retry finish\n\nWith nova scheduler, the filter_scheduler will raise an empty exception\ntrace after all hosts are retried(weighed_hosts become empty). Actually\nwithin the last attempt for the vm deployment, nova-compute can raise\ncertain exception with more accurate and meaningful exception messages\nfrom Hypervisor. For scheduler, it should be able to record them\ninstead of raise InvalidHost excepction with no useful message. By\ndoing this, the nova show can be able to display more useful message\nfor operator to check and diagnose problems.\n\nChange-Id: Ib6be8be3bcdd678babc45142fac75252e8403927\nCloses-Bug: #1369818\n'}, {'number': 2, 'created': '2014-09-16 04:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a02d64d3fdbf9694333e72ceb460ce993fd5df8', 'message': 'Allow scheduler record meaningful exception after retry finish\n\nWith nova scheduler, the filter_scheduler will raise an empty exception\ntrace after all hosts are retried(weighed_hosts become empty). Actually\nwithin the last attempt for the vm deployment, nova-compute can raise\ncertain exception with more accurate and meaningful exception messages\nfrom Hypervisor. For scheduler, it should be able to record them\ninstead of raise InvalidHost excepction with no useful message. By\ndoing this, the nova show can be able to display more useful message\nfor operator to check and diagnose problems.\n\nChange-Id: Ib6be8be3bcdd678babc45142fac75252e8403927\nCloses-Bug: #1369818\n'}, {'number': 3, 'created': '2014-09-16 04:07:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd3d7499ab51ba8d505b97f89e0a9408a113940e', 'message': 'Allow scheduler record meaningful exception after retry finish\n\nWith nova scheduler, the filter_scheduler will raise an empty exception\ntrace after all hosts are retried(weighed_hosts become empty). Actually\nwithin the last attempt for the vm deployment, nova-compute can raise\ncertain exception with more accurate and meaningful exception messages\nfrom Hypervisor. For scheduler, it should be able to record them\ninstead of raise InvalidHost exception with no useful message. By\ndoing this, the nova show can be able to display more useful message\nfor operator to check and diagnose problems.\n\nChange-Id: Ib6be8be3bcdd678babc45142fac75252e8403927\nCloses-Bug: #1369818\n'}, {'number': 4, 'created': '2014-09-16 08:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c9bce52700b76678b09cad8e06a5191e2b5a3d6', 'message': 'Allow scheduler record meaningful exception after no host to retry\n\nWith nova scheduler, the filter_scheduler will raise an empty exception\ntrace after all hosts are retried(weighed_hosts become empty). Actually\nwithin the VM deploy attempt for the last host, nova-compute can raise\ncertain exception with more accurate and meaningful exception messages\nfrom Hypervisor. For scheduler, it should be able to record them\ninstead of raise InvalidHost exception with no useful message. By\ndoing this, the nova show can be able to display more useful message\nfor operator to check and diagnose problems.\n\nChange-Id: Ib6be8be3bcdd678babc45142fac75252e8403927\nCloses-Bug: #1369818\n'}, {'number': 5, 'created': '2014-09-16 09:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94194e3bca3f84b2575b2f754c3e450cd0440e80', 'message': 'Allow scheduler record meaningful exception after no host to retry\n\nWith nova scheduler, the filter_scheduler will raise an empty exception\ntrace after all hosts are retried(weighed_hosts become empty). Actually\nwithin the VM deploy attempt for the last host, nova-compute can raise\ncertain exception with more accurate and meaningful exception messages\nfrom Hypervisor. For scheduler, it should be able to record them\ninstead of raise InvalidHost exception with no useful message. By\ndoing this, the nova show can be able to display more useful message\nfor operator to check and diagnose problems.\n\nChange-Id: Ib6be8be3bcdd678babc45142fac75252e8403927\nCloses-Bug: #1369818\n'}, {'number': 6, 'created': '2014-09-22 05:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bba964016cceedae9f6dbef72c6c72b903907950', 'message': 'Allow scheduler record meaningful exception after no host to retry\n\nWith nova scheduler, the filter_scheduler will raise an empty exception\ntrace after all hosts are retried(weighed_hosts become empty). Actually\nwithin the VM deploy attempt for the last host, nova-compute can raise\ncertain exception with more accurate and meaningful exception messages\nfrom Hypervisor. For scheduler, it should be able to record them\ninstead of raise InvalidHost exception with no useful message. By\ndoing this, the nova show can be able to display more useful message\nfor operator to check and diagnose problems.\n\nChange-Id: Ib6be8be3bcdd678babc45142fac75252e8403927\nCloses-Bug: #1369818\n'}, {'number': 7, 'created': '2014-09-26 07:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a05b0b93eb7c996e0e44bfd4c88922591496ca3f', 'message': 'Allow scheduler record meaningful exception after no host to retry\n\nWith nova scheduler, the filter_scheduler will raise an empty exception\ntrace after all hosts are retried(weighed_hosts become empty). Actually\nwithin the VM deploy attempt for the last host, nova-compute can raise\ncertain exception with more accurate and meaningful exception messages\nfrom Hypervisor. For scheduler, it should be able to record them\ninstead of raise InvalidHost exception with no useful message. By\ndoing this, the nova show can be able to display more useful message\nfor operator to check and diagnose problems.\n\nChange-Id: Ib6be8be3bcdd678babc45142fac75252e8403927\nCloses-Bug: #1369818\n'}, {'number': 8, 'created': '2014-10-07 12:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5cb32dba89ad72fdcd10fcbbe1a56007b337a57', 'message': 'Allow scheduler record meaningful exception after no host to retry\n\nWith nova scheduler, the filter_scheduler will raise an empty exception\ntrace after all hosts are retried(weighed_hosts become empty). Actually\nwithin the VM deploy attempt for the last host, nova-compute can raise\ncertain exception with more accurate and meaningful exception messages\nfrom Hypervisor. For scheduler, it should be able to record them\ninstead of raise InvalidHost exception with no useful message. By\ndoing this, the nova show can be able to display more useful message\nfor operator to check and diagnose problems.\n\nChange-Id: Ib6be8be3bcdd678babc45142fac75252e8403927\nCloses-Bug: #1369818\n'}, {'number': 9, 'created': '2014-10-09 02:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9bf76cdc146a5d3f2a7515f46f92beb5edaa0305', 'message': 'Allow scheduler record meaningful exception after no host to retry\n\nWith nova scheduler, the filter_scheduler will raise an empty exception\ntrace after all hosts are retried(weighed_hosts become empty). Actually\nwithin the VM deploy attempt for the last host, nova-compute can raise\ncertain exception with more accurate and meaningful exception messages\nfrom Hypervisor. For scheduler, it should be able to record them\ninstead of raise InvalidHost exception with no useful message. By\ndoing this, the nova show can be able to display more useful message\nfor operator to check and diagnose problems.\n\nChange-Id: Ib6be8be3bcdd678babc45142fac75252e8403927\nCloses-Bug: #1369818\n'}, {'number': 10, 'created': '2014-10-13 06:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3bc7338f9dbafd8c189066f87c7b371008e76191', 'message': 'Allow scheduler record meaningful exception after no host to retry\n\nWith nova scheduler, the filter_scheduler will raise an empty exception\ntrace after all hosts are retried(weighed_hosts become empty). Actually\nwithin the VM deploy attempt for the last host, nova-compute can raise\ncertain exception with more accurate and meaningful exception messages\nfrom Hypervisor. For scheduler, it should be able to record them\ninstead of raise InvalidHost exception with no useful message. By\ndoing this, the nova show can be able to display more useful message\nfor operator to check and diagnose problems.\n\nChange-Id: Ib6be8be3bcdd678babc45142fac75252e8403927\nCloses-Bug: #1369818\n'}, {'number': 11, 'created': '2014-10-23 05:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f236d03f5ae5d7605b835c0f07a308870c1629d4', 'message': 'Allow scheduler record meaningful exception after no host to retry\n\nWith nova scheduler, the filter_scheduler will raise an empty exception\ntrace after all hosts are retried(weighed_hosts become empty). Actually\nwithin the VM deploy attempt for the last host, nova-compute can raise\ncertain exception with more accurate and meaningful exception messages\nfrom Hypervisor. For scheduler, it should be able to record them\ninstead of raise InvalidHost exception with no useful message. By\ndoing this, the nova show can be able to display more useful message\nfor operator to check and diagnose problems.\n\nChange-Id: Ib6be8be3bcdd678babc45142fac75252e8403927\nCloses-Bug: #1369818\n'}, {'number': 12, 'created': '2014-10-25 07:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1bd53e7da9c0fbfb26825a4443f9da48b02c7d1', 'message': 'Allow scheduler record meaningful exception after no host to retry\n\nWith nova scheduler, the filter_scheduler will raise an empty exception\ntrace after all hosts are retried(weighed_hosts become empty). Actually\nwithin the VM deploy attempt for the last host, nova-compute can raise\ncertain exception with more accurate and meaningful exception messages\nfrom Hypervisor. For scheduler, it should be able to record them\ninstead of raise InvalidHost exception with no useful message. By\ndoing this, the nova show can be able to display more useful message\nfor operator to check and diagnose problems.\n\nChange-Id: Ib6be8be3bcdd678babc45142fac75252e8403927\nCloses-Bug: #1369818\n'}, {'number': 13, 'created': '2014-11-17 03:12:14.000000000', 'files': ['nova/scheduler/filter_scheduler.py', 'nova/tests/unit/scheduler/test_filter_scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2ae5eda693221ae79bf7c499c5ec5818c932501a', 'message': 'Allow scheduler record meaningful exception after no host to retry\n\nWith nova scheduler, the filter_scheduler will raise an empty exception\ntrace after all hosts are retried(weighed_hosts become empty). Actually\nwithin the VM deploy attempt for the last host, nova-compute can raise\ncertain exception with more accurate and meaningful exception messages\nfrom Hypervisor. For scheduler, it should be able to record them\ninstead of raise InvalidHost exception with no useful message. By\ndoing this, the nova show can be able to display more useful message\nfor operator to check and diagnose problems.\n\nChange-Id: Ib6be8be3bcdd678babc45142fac75252e8403927\nCloses-Bug: #1369818\n'}]",22,121739,2ae5eda693221ae79bf7c499c5ec5818c932501a,113,15,13,7148,,,0,"Allow scheduler record meaningful exception after no host to retry

With nova scheduler, the filter_scheduler will raise an empty exception
trace after all hosts are retried(weighed_hosts become empty). Actually
within the VM deploy attempt for the last host, nova-compute can raise
certain exception with more accurate and meaningful exception messages
from Hypervisor. For scheduler, it should be able to record them
instead of raise InvalidHost exception with no useful message. By
doing this, the nova show can be able to display more useful message
for operator to check and diagnose problems.

Change-Id: Ib6be8be3bcdd678babc45142fac75252e8403927
Closes-Bug: #1369818
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/121739/10 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/filter_scheduler.py'],1,62637723c31d12627dce5603796d4aa5fda2fca9,bug/1369818," # Before populate_retry, store the last exception trace exception_message = None if (filter_properties and filter_properties.get('retry') and filter_properties.get('retry').get('exc')): exception_message = (""exception from last deployment attempt:"" + filter_properties.get('retry').get('exc')[-1]) if exception_message: raise exception.NoValidHost(reason=exception_message)",,10,0
openstack%2Fnova~master~I4b5077aacc76385542ed04d9f7746c5e0be0351e,openstack/nova,master,I4b5077aacc76385542ed04d9f7746c5e0be0351e,WIP: demonstration of monkeypatch oddity,ABANDONED,2014-12-10 15:47:12.000000000,2015-01-23 15:24:05.000000000,,"[{'_account_id': 3}, {'_account_id': 2455}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-10 15:47:12.000000000', 'files': ['nova/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a0c1475ae0316f169666e3fe84ea3797a33f7004', 'message': ""WIP: demonstration of monkeypatch oddity\n\nIf you run tox -epy27 you should get a lot of RPC fails with this, you\ndon't.\n\nChange-Id: I4b5077aacc76385542ed04d9f7746c5e0be0351e\n""}]",2,140741,a0c1475ae0316f169666e3fe84ea3797a33f7004,11,8,1,2750,,,0,"WIP: demonstration of monkeypatch oddity

If you run tox -epy27 you should get a lot of RPC fails with this, you
don't.

Change-Id: I4b5077aacc76385542ed04d9f7746c5e0be0351e
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/140741/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures.py'],1,a0c1475ae0316f169666e3fe84ea3797a33f7004,badmonkey," def send(*args): class PoisonSendException(exception): pass raise PoisonSendException() self.useFixture(fixtures.MonkeyPatch( 'oslo.messaging._drivers.impl_fake.FakeDriver.send', send))",,8,0
openstack%2Fnova~master~I979310e4605c1e84398d642912306fd5aa369017,openstack/nova,master,I979310e4605c1e84398d642912306fd5aa369017,Fix a straggling non-object Instance update in compute manager,ABANDONED,2014-12-02 16:30:51.000000000,2015-01-23 15:24:03.000000000,,"[{'_account_id': 3}, {'_account_id': 67}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-02 16:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e59b151ab42f12bf3bb2d3722e2943951fe523fb', 'message': 'WIP Fix a straggling non-object Instance update in compute manager\n\nThis replaces a (trivial to fix) instance of old-school instance updating\nwith use of a proper Instance.save().\n\nRelated to blueprint kilo-objects\n\nChange-Id: I979310e4605c1e84398d642912306fd5aa369017\n'}, {'number': 2, 'created': '2014-12-02 17:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2bdc037284a98d5fd4c6c73f95870bfb9e362ce', 'message': 'WIP Fix a straggling non-object Instance update in compute manager\n\nThis replaces a (trivial to fix) instance of old-school instance updating\nwith use of a proper Instance.save().\n\nRelated to blueprint kilo-objects\n\nChange-Id: I979310e4605c1e84398d642912306fd5aa369017\n'}, {'number': 3, 'created': '2014-12-02 19:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01f89543c54df48922653aee79ff1ab378225bff', 'message': 'Fix a straggling non-object Instance update in compute manager\n\nThis replaces a (trivial to fix) instance of old-school instance updating\nwith use of a proper Instance.save().\n\nRelated to blueprint kilo-objects\n\nChange-Id: I979310e4605c1e84398d642912306fd5aa369017\n'}, {'number': 4, 'created': '2014-12-03 21:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3db6c375d2407cd4deec67f851b42a1db1b651f0', 'message': 'Fix a straggling non-object Instance update in compute manager\n\nThis replaces a (trivial to fix) instance of old-school instance updating\nwith use of a proper Instance.save().\n\nRelated to blueprint kilo-objects\n\nChange-Id: I979310e4605c1e84398d642912306fd5aa369017\n'}, {'number': 5, 'created': '2014-12-04 16:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9296034397df93082632d6bd779a91033fbacbcf', 'message': 'Fix a straggling non-object Instance update in compute manager\n\nThis replaces a (trivial to fix) instance of old-school instance updating\nwith use of a proper Instance.save().\n\nRelated to blueprint kilo-objects\n\nChange-Id: I979310e4605c1e84398d642912306fd5aa369017\n'}, {'number': 6, 'created': '2014-12-05 16:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4270416fe60acd39836ace99ee75f1d15f9dc8d', 'message': 'Fix a straggling non-object Instance update in compute manager\n\nThis replaces a (trivial to fix) instance of old-school instance updating\nwith use of a proper Instance.save().\n\nRelated to blueprint kilo-objects\n\nChange-Id: I979310e4605c1e84398d642912306fd5aa369017\n'}, {'number': 7, 'created': '2014-12-05 18:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9118d019ad06cec776a2e3206b591233992ac5b7', 'message': 'Fix a straggling non-object Instance update in compute manager\n\nThis replaces a (trivial to fix) instance of old-school instance updating\nwith use of a proper Instance.save().\n\nRelated to blueprint kilo-objects\n\nChange-Id: I979310e4605c1e84398d642912306fd5aa369017\n'}, {'number': 8, 'created': '2014-12-08 19:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e13f1f20915441ae27afd3c760d9318e2fb12e4a', 'message': 'Fix a straggling non-object Instance update in compute manager\n\nThis replaces a (trivial to fix) instance of old-school instance updating\nwith use of a proper Instance.save().\n\nRelated to blueprint kilo-objects\n\nChange-Id: I979310e4605c1e84398d642912306fd5aa369017\n'}, {'number': 9, 'created': '2014-12-08 21:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1bfcaf2fb8026f15b931b1e2ab283c33dfd0058', 'message': 'Fix a straggling non-object Instance update in compute manager\n\nThis replaces a (trivial to fix) instance of old-school instance updating\nwith use of a proper Instance.save().\n\nRelated to blueprint kilo-objects\n\nChange-Id: I979310e4605c1e84398d642912306fd5aa369017\n'}, {'number': 10, 'created': '2014-12-09 17:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70a3002e367361efa17d3e207116bc977ef66d6e', 'message': 'Fix a straggling non-object Instance update in compute manager\n\nThis replaces a (trivial to fix) instance of old-school instance updating\nwith use of a proper Instance.save().\n\nRelated to blueprint kilo-objects\n\nChange-Id: I979310e4605c1e84398d642912306fd5aa369017\n'}, {'number': 11, 'created': '2014-12-09 19:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/affce2e9862f560475071a805cfcde4e350f5c76', 'message': 'Fix a straggling non-object Instance update in compute manager\n\nThis replaces a (trivial to fix) instance of old-school instance updating\nwith use of a proper Instance.save().\n\nRelated to blueprint kilo-objects\n\nChange-Id: I979310e4605c1e84398d642912306fd5aa369017\n'}, {'number': 12, 'created': '2014-12-09 21:43:33.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6ead4c2f0059e95eda9806d238f81a44f062f765', 'message': 'Fix a straggling non-object Instance update in compute manager\n\nThis replaces a (trivial to fix) instance of old-school instance updating\nwith use of a proper Instance.save().\n\nRelated to blueprint kilo-objects\n\nChange-Id: I979310e4605c1e84398d642912306fd5aa369017\n'}]",4,138429,6ead4c2f0059e95eda9806d238f81a44f062f765,80,13,12,4393,,,0,"Fix a straggling non-object Instance update in compute manager

This replaces a (trivial to fix) instance of old-school instance updating
with use of a proper Instance.save().

Related to blueprint kilo-objects

Change-Id: I979310e4605c1e84398d642912306fd5aa369017
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/138429/12 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,e59b151ab42f12bf3bb2d3722e2943951fe523fb,bp/kilo-objects, instance.system_metadata['network_allocated'] = True instance.save()," sys_meta = instance.system_metadata sys_meta['network_allocated'] = 'True' self._instance_update(context, instance.uuid, system_metadata=sys_meta)",4,6
openstack%2Fnova~master~Ie01b02aca313d9aaad2f5b20e7e590ffcbc9c47c,openstack/nova,master,Ie01b02aca313d9aaad2f5b20e7e590ffcbc9c47c,WIP: improve OverLimit Exceptions,ABANDONED,2014-12-16 01:59:28.000000000,2015-01-23 15:23:48.000000000,,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-16 01:59:28.000000000', 'files': ['nova/exception.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cce9a25fb929a61e9729ffb247b98f951668f0c5', 'message': 'WIP: improve OverLimit Exceptions\n\nNova currently returns the following message to the end user:\n""ERROR (OverLimit): Quota exceeded for ram: Requested 8192, but already\nused 8192 of 15360 ram (HTTP 413)""\n\nTHis message isn\'t very user friendly, instead it should say something\nlike:\n\n""ERROR (OverLimit): RAM quota exceeded: Requested 8192 MB, but only\n7168 MB of the 15360 MB RAM quota is available(HTTP 413)""\n\nChange-Id: Ie01b02aca313d9aaad2f5b20e7e590ffcbc9c47c\n'}]",0,141959,cce9a25fb929a61e9729ffb247b98f951668f0c5,11,10,1,1849,,,0,"WIP: improve OverLimit Exceptions

Nova currently returns the following message to the end user:
""ERROR (OverLimit): Quota exceeded for ram: Requested 8192, but already
used 8192 of 15360 ram (HTTP 413)""

THis message isn't very user friendly, instead it should say something
like:

""ERROR (OverLimit): RAM quota exceeded: Requested 8192 MB, but only
7168 MB of the 15360 MB RAM quota is available(HTTP 413)""

Change-Id: Ie01b02aca313d9aaad2f5b20e7e590ffcbc9c47c
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/141959/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/exception.py'],1,cce9a25fb929a61e9729ffb247b98f951668f0c5,tmp," msg_fmt = _(""Quota exceeded for %(overs)s: Requested %(req)s %(units)s,"" "" but already used %(used)d %(units)s of %(allowed)d"" ""%(units)s %(resource)s"")"," msg_fmt = _(""Quota exceeded for %(overs)s: Requested %(req)s,"" "" but already used %(used)d of %(allowed)d %(resource)s"")",3,2
openstack%2Fnova~master~I39fc07ea5f30758cd3d85e4f5288e71ee476c0d5,openstack/nova,master,I39fc07ea5f30758cd3d85e4f5288e71ee476c0d5,Ironic: Do one API call per power state sync,ABANDONED,2014-12-06 00:10:36.000000000,2015-01-23 15:23:47.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 2889}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10343}, {'_account_id': 10385}, {'_account_id': 14228}]","[{'number': 1, 'created': '2014-12-06 00:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d7493d26a72195bb06c455e973dd8a0c0eae6fc', 'message': ""Do one API call per power state sync\n\nThe power state sync loop calls get_info() once per instance.\nThis ends up with $instance_count calls to the Ironic API, as\nfast as possible, each time the power state loop runs.\n\nFix this by using the existing node cache, refreshing it if it's\nempty.\n\nChange-Id: I39fc07ea5f30758cd3d85e4f5288e71ee476c0d5\nCloses-Bug: #1399830\n""}, {'number': 2, 'created': '2014-12-06 01:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ccb0fbc0d5672e58e338ffc120ead3affce504fb', 'message': ""Do one API call per power state sync\n\nThe power state sync loop calls get_info() once per instance.\nThis ends up with $instance_count calls to the Ironic API, as\nfast as possible, each time the power state loop runs.\n\nFix this by using the existing node cache, refreshing it if it's\nempty.\n\nChange-Id: I39fc07ea5f30758cd3d85e4f5288e71ee476c0d5\nCloses-Bug: #1399830\n""}, {'number': 3, 'created': '2014-12-07 01:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/291d8ea8a5fcfc122c83cd8098751818320e000f', 'message': ""Do one API call per power state sync\n\nThe power state sync loop calls get_info() once per instance.\nThis ends up with $instance_count calls to the Ironic API, as\nfast as possible, each time the power state loop runs.\n\nFix this by using the existing node cache, refreshing it if it's\nempty.\n\nChange-Id: I39fc07ea5f30758cd3d85e4f5288e71ee476c0d5\nCloses-Bug: #1399830\n""}, {'number': 4, 'created': '2014-12-09 14:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4b5f41f660cbd7ea31fa92bb4c72a37caae45f5', 'message': ""Ironic: Do one API call per power state sync\n\nThe power state sync loop calls get_info() once per instance.\nThis ends up with $instance_count calls to the Ironic API, as\nfast as possible, each time the power state loop runs.\n\nFix this by using the existing node cache, refreshing it if it's\nempty.\n\nChange-Id: I39fc07ea5f30758cd3d85e4f5288e71ee476c0d5\nCloses-Bug: #1399830\n""}, {'number': 5, 'created': '2014-12-09 14:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8bfe1de192cfd213d16ab590c147fbc4942fe245', 'message': ""Ironic: Do one API call per power state sync\n\nThe power state sync loop calls get_info() once per instance.\nThis ends up with $instance_count calls to the Ironic API, as\nfast as possible, each time the power state loop runs.\n\nFix this by using the existing node cache, refreshing it if it's\nempty.\n\nChange-Id: I39fc07ea5f30758cd3d85e4f5288e71ee476c0d5\nCloses-Bug: #1399830\n""}, {'number': 6, 'created': '2014-12-10 01:15:56.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/65ac48b313dd20b51b1d062ce66beaf5da9813c1', 'message': ""Ironic: Do one API call per power state sync\n\nThe power state sync loop calls get_info() once per instance.\nThis ends up with $instance_count calls to the Ironic API, as\nfast as possible, each time the power state loop runs.\n\nFix this by using the existing node cache, refreshing it if it's\nempty.\n\nChange-Id: I39fc07ea5f30758cd3d85e4f5288e71ee476c0d5\nCloses-Bug: #1399830\n""}]",4,139767,65ac48b313dd20b51b1d062ce66beaf5da9813c1,38,12,6,10343,,,0,"Ironic: Do one API call per power state sync

The power state sync loop calls get_info() once per instance.
This ends up with $instance_count calls to the Ironic API, as
fast as possible, each time the power state loop runs.

Fix this by using the existing node cache, refreshing it if it's
empty.

Change-Id: I39fc07ea5f30758cd3d85e4f5288e71ee476c0d5
Closes-Bug: #1399830
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/139767/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py']",2,0d7493d26a72195bb06c455e973dd8a0c0eae6fc,bug/1399830," def test_get_info(self): self.driver.node_cache = [node] @mock.patch.object(FAKE_CLIENT.node, 'node_list') def test_get_info_empty_cache(self, mock_nl): instance_uuid = 'aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee' properties = {'memory_mb': 512, 'cpus': 2} power_state = ironic_states.POWER_ON node = ironic_utils.get_test_node(instance_uuid=instance_uuid, properties=properties, power_state=power_state) self.driver.node_cache = [] mock_nl.return_value = [node] # ironic_states.POWER_ON should be mapped to # nova_states.RUNNING memory_kib = properties['memory_mb'] * 1024 instance = fake_instance.fake_instance_obj('fake-context', uuid=instance_uuid) result = self.driver.get_info(instance) self.assertEqual(hardware.InstanceInfo(state=nova_states.RUNNING, max_mem_kb=memory_kib, mem_kb=memory_kib, num_cpu=properties['cpus']), result) def test_get_info_node_not_found(self): node = ironic_utils.get_test_node() self.driver.node_cache = [node]"," @mock.patch.object(FAKE_CLIENT.node, 'get_by_instance_uuid') def test_get_info(self, mock_gbiu): mock_gbiu.return_value = node @mock.patch.object(FAKE_CLIENT.node, 'get_by_instance_uuid') def test_get_info_http_not_found(self, mock_gbiu): mock_gbiu.side_effect = ironic_exception.NotFound()",39,8
openstack%2Fnova~master~I5743d94a37ae7830796c259a2c51b748bc84e157,openstack/nova,master,I5743d94a37ae7830796c259a2c51b748bc84e157,Let Ironic handle instance deletion during spawn,ABANDONED,2014-11-19 22:53:00.000000000,2015-01-23 15:23:44.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 2889}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10342}, {'_account_id': 10343}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-19 22:53:00.000000000', 'files': ['nova/virt/ironic/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/77ef867148d884aec2f202fd71a30e86523f7663', 'message': ""Let Ironic handle instance deletion during spawn\n\nIf, while waiting for spawn() to complete, one deletes the instance\nrecord in Ironic (either manually or via a second nova-compute process),\nnova-compute's state will get out of sync, as it believes the spawn\ncompleted successfully.\n\nThis patch adds an assertion at the end of spawn that checks whether\nthe Ironic node record still contains the correct instance UUID.\nIf not (eg, because it was deleted), then the ironic virt driver will\nraise InstanceNotFound.\n\nThis behavior is in line with the libvirt driver's behavior; if during\nspawn the virt domain is suddenly not found, it will also raise\nInstanceNotFound.\n\nChange-Id: I5743d94a37ae7830796c259a2c51b748bc84e157\nPartial-bug: #1337461\n""}]",0,135767,77ef867148d884aec2f202fd71a30e86523f7663,11,10,1,2889,,,0,"Let Ironic handle instance deletion during spawn

If, while waiting for spawn() to complete, one deletes the instance
record in Ironic (either manually or via a second nova-compute process),
nova-compute's state will get out of sync, as it believes the spawn
completed successfully.

This patch adds an assertion at the end of spawn that checks whether
the Ironic node record still contains the correct instance UUID.
If not (eg, because it was deleted), then the ironic virt driver will
raise InstanceNotFound.

This behavior is in line with the libvirt driver's behavior; if during
spawn the virt domain is suddenly not found, it will also raise
InstanceNotFound.

Change-Id: I5743d94a37ae7830796c259a2c51b748bc84e157
Partial-bug: #1337461
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/135767/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/ironic/driver.py'],1,77ef867148d884aec2f202fd71a30e86523f7663,partial-1337461," # re-assert that this node is still associated to this instance # because someone else might have deleted it while we were waiting check = _validate_instance_and_node(ironicclient, instance) if check.instance_uuid != instance.uuid: raise exception.InstanceNotFound(instance_id=instance['uuid']) ",,7,0
openstack%2Fnova~master~I5703e704aa7079dabf83db5d4ff4b19920dfb794,openstack/nova,master,I5703e704aa7079dabf83db5d4ff4b19920dfb794,Floating-ip-bulk-delete deletes associated ip,ABANDONED,2014-10-30 06:02:13.000000000,2015-01-23 15:23:35.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-30 06:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae84ad9dc356374967587400de1b82763dab86d2', 'message': 'Floating-ip-bulk-delete deletes associated ip\n\nInitially floating-ip-bulk-delete was deleting a floating ip\nthat was associated to an instance but this caused confusion\nas the instance was still associated to that floating-ip.\n\nUpdated the code so that floating-ip-bulk-delete method\nfirst disassociates the floating-ip from the instance\nand then deletes it.\nCloses-Bug: #1265447\n\nChange-Id: I5703e704aa7079dabf83db5d4ff4b19920dfb794\n'}, {'number': 2, 'created': '2014-10-30 06:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e24e3838c65c670aa71d88c361a9bc2b2966dd80', 'message': 'Floating-ip-bulk-delete deletes associated ip\n\nInitially floating-ip-bulk-delete was deleting a floating ip\nthat was associated to an instance but this caused confusion\nas the instance was still associated to that floating-ip.\n\nUpdated the code so that floating-ip-bulk-delete method\nfirst disassociates the floating-ip from the instance\nand then deletes it.\nCloses-Bug: #1265447\n\nChange-Id: I5703e704aa7079dabf83db5d4ff4b19920dfb794\n'}, {'number': 3, 'created': '2014-10-30 10:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9bffa45212e82d9ac6b8e3696a46d7f354a9313d', 'message': 'Floating-ip-bulk-delete deletes associated ip\n\nInitially floating-ip-bulk-delete was deleting a floating ip\nthat was associated to an instance but this caused confusion\nas the instance was still associated to that floating-ip.\n\nUpdated the code so that floating-ip-bulk-delete method\nfirst disassociates the floating-ip from the instance\nand then deletes it.\nCloses-Bug: #1265447\n\nChange-Id: I5703e704aa7079dabf83db5d4ff4b19920dfb794\n'}, {'number': 4, 'created': '2014-11-04 07:57:51.000000000', 'files': ['nova/api/openstack/compute/contrib/floating_ips_bulk.py', 'nova/api/openstack/compute/plugins/v3/floating_ips_bulk.py', 'nova/tests/api/openstack/compute/contrib/test_floating_ips_bulk.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9806462ea3503cda918caf8d324d8cc9cc3bf443', 'message': 'Floating-ip-bulk-delete deletes associated ip\n\nInitially floating-ip-bulk-delete was deleting a floating ip\nthat was associated to an instance but this caused confusion\nas the instance was still associated to that floating-ip.\n\nUpdated the code so that floating-ip-bulk-delete method\nfirst disassociates the floating-ip from the instance\nand then deletes it.\nCloses-Bug: #1265447\n\nChange-Id: I5703e704aa7079dabf83db5d4ff4b19920dfb794\n'}]",3,131935,9806462ea3503cda918caf8d324d8cc9cc3bf443,20,8,4,12140,,,0,"Floating-ip-bulk-delete deletes associated ip

Initially floating-ip-bulk-delete was deleting a floating ip
that was associated to an instance but this caused confusion
as the instance was still associated to that floating-ip.

Updated the code so that floating-ip-bulk-delete method
first disassociates the floating-ip from the instance
and then deletes it.
Closes-Bug: #1265447

Change-Id: I5703e704aa7079dabf83db5d4ff4b19920dfb794
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/131935/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/contrib/floating_ips_bulk.py', 'nova/tests/api/openstack/compute/contrib/test_floating_ips_bulk.py']",2,ae84ad9dc356374967587400de1b82763dab86d2,bug/1265447,"import contextlib import mock with contextlib.nested( mock.patch.object(self.controller.network_api, 'disassociate_floating_ip'), mock.patch.object(self.controller.network_api, 'get_instance_id_by_floating_address', return_value=None)) as ( disoc_fip, _): res_dict = self.controller.update(req, ""delete"", body=body) self.assertTrue(disoc_fip.called)"," res_dict = self.controller.update(req, ""delete"", body=body) ",48,3
openstack%2Fnova~master~Idaf249349dff1c96991e880edfa89edf909c98e8,openstack/nova,master,Idaf249349dff1c96991e880edfa89edf909c98e8,Fix floating ip isn't migrated when evacuate instance,ABANDONED,2014-09-30 08:13:21.000000000,2015-01-23 15:23:27.000000000,,"[{'_account_id': 3}, {'_account_id': 1313}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}]","[{'number': 1, 'created': '2014-09-30 08:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/212fc0aaa2c37d580185cbb710ae9df26720547d', 'message': ""Fix floating ip isn't migrated when evacuate instance\n\nUing nova network as networking service with multi host mode,\nwhen evacuate instances with floating ip associated, floating ip\nisn't migrated to new node, this patch fixes the issue by adding\nmigrate_instance_finish call to config floating ip at destination\nnode.\n\nChange-Id: Idaf249349dff1c96991e880edfa89edf909c98e8\nCloses-bug: #1375606\n""}, {'number': 2, 'created': '2014-10-01 07:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06703837a474b1675758b3de859b9dca8338e0e6', 'message': ""Fix floating ip isn't migrated when evacuate instance\n\nUing nova network as networking service with multi host mode,\nwhen evacuate instances with floating ip associated, floating ip\nisn't migrated to new node, this patch fixes the issue by adding\nmigrate_instance_finish call to config floating ip at destination\nnode.\n\nChange-Id: Idaf249349dff1c96991e880edfa89edf909c98e8\nCloses-bug: #1375606\n""}, {'number': 3, 'created': '2014-10-02 02:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84677faee7e33dc69344eca8e0c10c49b4300fd4', 'message': ""Fix floating ip isn't migrated when evacuate instance\n\nUsing nova-network as networking service with multi host mode,\nwhen evacuate instances with floating ip associated, floating ip\nisn't migrated to new node, this patch fixes the issue by adding\nmigrate_instance_finish call to config floating ip at destination\nnode.\n\nChange-Id: Idaf249349dff1c96991e880edfa89edf909c98e8\nCloses-bug: #1375606\n""}, {'number': 4, 'created': '2014-10-08 07:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/293eccc917d20abeff0328f5fe8e047448b0aa2d', 'message': ""Fix floating ip isn't migrated when evacuate instance\n\nUsing nova-network as networking service with multi host mode,\nwhen evacuate instances with floating ip associated, floating ip\nisn't migrated to new node, this patch fixes the issue by adding\nmigrate_instance_finish call to config floating ip at destination\nnode.\n\nChange-Id: Idaf249349dff1c96991e880edfa89edf909c98e8\nCloses-bug: #1375606\n""}, {'number': 5, 'created': '2014-10-10 15:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2db07be6884c32573bd8b8682237c2991d0ab3a7', 'message': ""Fix floating ip isn't migrated when evacuate instance\n\nUsing nova-network as networking service with multi host mode,\nwhen evacuate instances with floating ip associated, floating ip\nisn't migrated to new node, this patch fixes the issue by adding\nmigrate_instance_finish call to config floating ip at destination\nnode.\n\nChange-Id: Idaf249349dff1c96991e880edfa89edf909c98e8\nCloses-bug: #1375606\n""}, {'number': 6, 'created': '2014-10-14 04:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bb634b8b21a7673ca1d2e83f07e99c7d3ff8fbd', 'message': ""Fix floating ip isn't migrated when evacuate instance\n\nUsing nova-network as networking service with multi host mode,\nwhen evacuate instances with floating ip associated, floating ip\nisn't migrated to new node, this patch fixes the issue by adding\nmigrate_instance_finish call to config floating ip at destination\nnode.\n\nChange-Id: Idaf249349dff1c96991e880edfa89edf909c98e8\nCloses-bug: #1375606\n""}, {'number': 7, 'created': '2014-12-10 10:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26fe3a8cf64add39eb20a9c1956a8765a7c150ba', 'message': ""Fix floating ip isn't migrated when evacuate instance\n\nUsing nova-network as networking service with multi host mode,\nwhen evacuate instances with floating ip associated, floating ip\nisn't migrated to new node, this patch fixes the issue by adding\nmigrate_instance_finish call to config floating ip at destination\nnode.\n\nChange-Id: Idaf249349dff1c96991e880edfa89edf909c98e8\nCloses-bug: #1375606\n""}, {'number': 8, 'created': '2014-12-19 17:20:45.000000000', 'files': ['nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3f521a4ff1f2a7c07fa6e8909d25c76baab59e43', 'message': ""Fix floating ip isn't migrated when evacuate instance\n\nUsing nova-network as networking service with multi host mode,\nwhen evacuate instances with floating ip associated, floating ip\nisn't migrated to new node, this patch fixes the issue by adding\nmigrate_instance_finish call to config floating ip at destination\nnode.\n\nChange-Id: Idaf249349dff1c96991e880edfa89edf909c98e8\nCloses-bug: #1375606\n""}]",5,124974,3f521a4ff1f2a7c07fa6e8909d25c76baab59e43,76,12,8,1313,,,0,"Fix floating ip isn't migrated when evacuate instance

Using nova-network as networking service with multi host mode,
when evacuate instances with floating ip associated, floating ip
isn't migrated to new node, this patch fixes the issue by adding
migrate_instance_finish call to config floating ip at destination
node.

Change-Id: Idaf249349dff1c96991e880edfa89edf909c98e8
Closes-bug: #1375606
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/124974/7 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,212fc0aaa2c37d580185cbb710ae9df26720547d,bug/1375606," migration = {'source_compute': '', 'dest_compute': self.host} self.network_api.migrate_instance_finish(context, instance, migration)",,3,0
openstack%2Fnova~master~I04baaffeac8a8e131d135d659bb64524330f47eb,openstack/nova,master,I04baaffeac8a8e131d135d659bb64524330f47eb,Implements attach/detach interface for nova-net,ABANDONED,2014-10-06 18:42:47.000000000,2015-01-23 15:23:23.000000000,,"[{'_account_id': 3}, {'_account_id': 67}, {'_account_id': 136}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-10-06 18:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef749216d4c3d932fd967a44994e9f72f943b02a', 'message': 'WIP\n\nChange-Id: I04baaffeac8a8e131d135d659bb64524330f47eb\n'}, {'number': 2, 'created': '2014-10-06 18:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e6166fb549f77c9673695e937a75a2d54406ade', 'message': 'WIP\n\nChange-Id: I04baaffeac8a8e131d135d659bb64524330f47eb\n'}, {'number': 3, 'created': '2014-10-07 00:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ca209e43ea1d32d1b7515583329a1e5223d71a8', 'message': 'WIP\n\nChange-Id: I04baaffeac8a8e131d135d659bb64524330f47eb\n'}, {'number': 4, 'created': '2014-10-07 05:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/452dbf35782afe77f786472ff927053fac065941', 'message': 'WIP\n\nChange-Id: I04baaffeac8a8e131d135d659bb64524330f47eb\n'}, {'number': 5, 'created': '2014-10-07 16:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ced53defe0880c7eb1fd840943a4812ca1bc7db', 'message': 'WIP\n\nChange-Id: I04baaffeac8a8e131d135d659bb64524330f47eb\n'}, {'number': 6, 'created': '2014-10-07 18:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d386bc7088f0acabee673ecd1741c2b7800b27a3', 'message': 'WIP\n\nChange-Id: I04baaffeac8a8e131d135d659bb64524330f47eb\n'}, {'number': 7, 'created': '2014-10-07 20:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e98a8fe83f047636a110f5e5c8dce7b8fdfa4af', 'message': 'Implements attach/detach interface for nova-net\n\nThe backend calls mostly existed for attach/detach interface in\nnova-network. A little plumbing was needed to transform the calls\ninto the existing allocate_ and deallocate_for_instance calls.\n\nA small bump to virtual interfaces was needed to add a method to\ndelete interfaces by id.\n\nChange-Id: I04baaffeac8a8e131d135d659bb64524330f47eb\n'}, {'number': 8, 'created': '2014-10-10 22:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce86db644b33b9139859851187d0d3e986583653', 'message': 'Implements attach/detach interface for nova-net\n\nThe backend calls mostly existed for attach/detach interface in\nnova-network. A little plumbing was needed to transform the calls\ninto the existing allocate_ and deallocate_for_instance calls.\n\nA small bump to virtual interfaces was needed to add a method to\ndelete interfaces by id.\n\nChange-Id: I04baaffeac8a8e131d135d659bb64524330f47eb\n'}, {'number': 9, 'created': '2014-10-10 22:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c02df4f68b81ac32636a97f501be12f29857e53a', 'message': 'Implements attach/detach interface for nova-net\n\nThe backend calls mostly existed for attach/detach interface in\nnova-network. A little plumbing was needed to transform the calls\ninto the existing allocate_ and deallocate_for_instance calls.\n\nA small bump to virtual interfaces was needed to add a method to\ndelete interfaces by id.\n\nChange-Id: I04baaffeac8a8e131d135d659bb64524330f47eb\n'}, {'number': 10, 'created': '2014-10-13 18:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82dcc80fea9ea15ef247a9e73b079a8c5617e5c6', 'message': 'Implements attach/detach interface for nova-net\n\nThe backend calls mostly existed for attach/detach interface in\nnova-network. A little plumbing was needed to transform the calls\ninto the existing allocate_ and deallocate_for_instance calls.\n\nA small bump to virtual interfaces was needed to add a method to\ndelete interfaces by id.\n\nChange-Id: I04baaffeac8a8e131d135d659bb64524330f47eb\n'}, {'number': 11, 'created': '2014-10-30 21:33:43.000000000', 'files': ['nova/network/api.py', 'nova/tests/objects/test_objects.py', 'nova/network/manager.py', 'nova/tests/db/test_db_api.py', 'nova/tests/network/test_manager.py', 'nova/db/api.py', 'nova/objects/virtual_interface.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6ae72c003d8df08ff9e5d75ad6a6e95ab67a8910', 'message': 'Implements attach/detach interface for nova-net\n\nThe backend calls mostly existed for attach/detach interface in\nnova-network. A little plumbing was needed to transform the calls\ninto the existing allocate_ and deallocate_for_instance calls.\n\nA small bump to virtual interfaces was needed to add a method to\ndelete interfaces by id.\n\nImplements: blueprint attach-detach-nova-network\nChange-Id: I04baaffeac8a8e131d135d659bb64524330f47eb\n'}]",8,126382,6ae72c003d8df08ff9e5d75ad6a6e95ab67a8910,58,13,11,67,,,0,"Implements attach/detach interface for nova-net

The backend calls mostly existed for attach/detach interface in
nova-network. A little plumbing was needed to transform the calls
into the existing allocate_ and deallocate_for_instance calls.

A small bump to virtual interfaces was needed to add a method to
delete interfaces by id.

Implements: blueprint attach-detach-nova-network
Change-Id: I04baaffeac8a8e131d135d659bb64524330f47eb
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/126382/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/api.py', 'nova/network/manager.py', 'nova/objects/fixed_ip.py']",3,ef749216d4c3d932fd967a44994e9f72f943b02a,bp/attach-detach-nova-network," expected_attrs = ['network', 'floating_ips']", expected_attrs = ['floating_ips'],85,18
openstack%2Fnova~master~I0436f75db9867f7799bc5dd82ff4671cf1da4ea5,openstack/nova,master,I0436f75db9867f7799bc5dd82ff4671cf1da4ea5,EC2: DescribeVolumes: Implement all filters,ABANDONED,2014-01-30 11:00:39.000000000,2015-01-23 15:23:19.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 679}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5538}, {'_account_id': 6094}, {'_account_id': 8163}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}]","[{'number': 1, 'created': '2014-01-30 11:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8bfec18670b50876ecaab16565e4ce5933ea15e7', 'message': 'describe volumes missing filters\n\nChange-Id: I0436f75db9867f7799bc5dd82ff4671cf1da4ea5\n'}, {'number': 2, 'created': '2014-01-30 11:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ee058ace1425cfbfe9ea702806610740c80725a', 'message': 'describe volumes missing filters\ntest123\n\nChange-Id: I0436f75db9867f7799bc5dd82ff4671cf1da4ea5\n'}, {'number': 3, 'created': '2014-01-30 11:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4a6c6e787bd19b923856fb6fa8071aaa6249013', 'message': 'describe volumes missing filters\ntest123\n\nChange-Id: I0436f75db9867f7799bc5dd82ff4671cf1da4ea5\n'}, {'number': 4, 'created': '2014-02-03 12:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c96366c7bec50111a7849bc1be261bed39c65474', 'message': 'describe volumes missing filters\ntest123\n\nChange-Id: I0436f75db9867f7799bc5dd82ff4671cf1da4ea5\n'}, {'number': 5, 'created': '2014-02-04 09:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce6180f649ec10f0040900edeb3338ffd00db6de', 'message': 'describe volumes missing filters\ntest123\n\nChange-Id: I0436f75db9867f7799bc5dd82ff4671cf1da4ea5\n'}, {'number': 6, 'created': '2014-02-04 11:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6e9637582f1376718139e43f4596da44106f3ae', 'message': 'EC2: DescribeVolumes: Implement all filters\n\nChange-Id: I0436f75db9867f7799bc5dd82ff4671cf1da4ea5\n'}, {'number': 7, 'created': '2014-02-05 08:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38472456862bac7d0c115f2c3b29307d56917805', 'message': 'EC2: DescribeVolumes: Implement all filters\n\nChange-Id: I0436f75db9867f7799bc5dd82ff4671cf1da4ea5\n'}, {'number': 8, 'created': '2014-02-05 09:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/abeb76661f4e0c0c4fbf71dc1bf495d6f650c0dc', 'message': 'EC2: DescribeVolumes: Implement all filters\n\nChange-Id: I0436f75db9867f7799bc5dd82ff4671cf1da4ea5\n'}, {'number': 9, 'created': '2014-02-07 05:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/48300d75188a60d243a723e2b40e1a8579898542', 'message': 'EC2: DescribeVolumes: Implement all filters\n\nChange-Id: I0436f75db9867f7799bc5dd82ff4671cf1da4ea5\n'}, {'number': 10, 'created': '2014-02-12 07:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f8aab202f3891997b42cc94b739c73e5bcd44c7', 'message': ""EC2: DescribeVolumes: Implement all filters\n\nDescribeVolumes API did not have full support for all the\npossible filters. This patch fixes that.\n\nCinder has little filtering support. Although this is very\nminimal, we were not using it so far. This patch fixes this\ntoo -- the filters are separated into two API calls: The first\nset is used to get filtered volumes from Cinder, and the other\nis used to use the remaining filters specified in EC2 API call\n\nAs 'volume tags' support is now available (in the dependent\npatch), filtering based on tags is also implemented.\n\nFiltering based on regular expressions for values is also\nsupported now.\n\n'attachment.attach-time' filter is still not supported.\n\nChange-Id: I0436f75db9867f7799bc5dd82ff4671cf1da4ea5\n""}, {'number': 11, 'created': '2014-02-12 07:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c8260897b6ef853fc16cd7824473dc51f2830a2', 'message': ""EC2: DescribeVolumes: Implement all filters\n\nDescribeVolumes API did not have full support for all the\npossible filters. This patch fixes that.\n\nCinder has little filtering support. Although this is very\nminimal, we were not using it so far. This patch fixes this\ntoo -- the filters are separated into two API calls: The first\nset is used to get filtered volumes from Cinder, and the other\nis used to use the remaining filters specified in EC2 API call\n\nAs 'volume tags' support is now available (in the dependent\npatch), filtering based on tags is also implemented.\n\nFiltering based on regular expressions for values is also\nsupported now.\n\n'attachment.attach-time' filter is still not supported.\n\nBlueprint: ec2-volume-filtering\nChange-Id: I0436f75db9867f7799bc5dd82ff4671cf1da4ea5\n""}, {'number': 12, 'created': '2014-02-12 12:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8d447eb4bf7c1c7c8557e7a63df335d51086300', 'message': ""EC2: DescribeVolumes: Implement all filters\n\nDescribeVolumes API did not have full support for all the\npossible filters. This patch fixes that.\n\nCinder has little filtering support. Although this is very\nminimal, we were not using it so far. This patch fixes this\ntoo -- the filters are separated into two API calls: The first\nset is used to get filtered volumes from Cinder, and the other\nis used to use the remaining filters specified in EC2 API call\n\nAs 'volume tags' support is now available (in the dependent\npatch), filtering based on tags is also implemented.\n\nFiltering based on regular expressions for values is also\nsupported now.\n\n'attachment.attach-time' filter is still not supported.\n\nBlueprint: ec2-volume-filtering\nChange-Id: I0436f75db9867f7799bc5dd82ff4671cf1da4ea5\n""}, {'number': 13, 'created': '2014-02-12 18:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/615c61407c6b1a77779df50607441f0ec8b88ca0', 'message': ""EC2: DescribeVolumes: Implement all filters\n\nDescribeVolumes API did not have full support for all the\npossible filters. This patch fixes that.\n\nCinder has little filtering support. Although this is very\nminimal, we were not using it so far. This patch fixes this\ntoo -- the filters are separated into two API calls: The first\nset is used to get filtered volumes from Cinder, and the other\nis used to use the remaining filters specified in EC2 API call\n\nAs 'volume tags' support is now available (in the dependent\npatch), filtering based on tags is also implemented.\n\nFiltering based on regular expressions for values is also\nsupported now.\n\n'attachment.attach-time' filter is still not supported.\n\nBlueprint: ec2-volume-filtering\nChange-Id: I0436f75db9867f7799bc5dd82ff4671cf1da4ea5\n""}, {'number': 14, 'created': '2014-02-25 17:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b99b638e0dba55ea74d63ec6533404b3755cacc', 'message': ""EC2: DescribeVolumes: Implement all filters\n\nDescribeVolumes API did not have full support for all the\npossible filters. This patch fixes that.\n\nCinder has little filtering support. Although this is very\nminimal, we were not using it so far. This patch fixes this\ntoo -- the filters are separated into two API calls: The first\nset is used to get filtered volumes from Cinder, and the other\nis used to use the remaining filters specified in EC2 API call\n\nAs 'volume tags' support is now available (in the dependent\npatch), filtering based on tags is also implemented.\n\nFiltering based on regular expressions for values is also\nsupported now.\n\n'attachment.attach-time' filter is still not supported.\n\nBlueprint: ec2-volume-filtering\nChange-Id: I0436f75db9867f7799bc5dd82ff4671cf1da4ea5\n""}, {'number': 15, 'created': '2014-02-25 18:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d41d6f9fc891e28a4a4988707438301e47ff6ace', 'message': ""EC2: DescribeVolumes: Implement all filters\n\nDescribeVolumes API did not have full support for all the\npossible filters. This patch fixes that.\n\nCinder has little filtering support. Although this is very\nminimal, we were not using it so far. This patch fixes this\ntoo -- the filters are separated into two API calls: The first\nset is used to get filtered volumes from Cinder, and the other\nis used to use the remaining filters specified in EC2 API call\n\nAs 'volume tags' support is now available (in the dependent\npatch), filtering based on tags is also implemented.\n\nFiltering based on regular expressions for values is also\nsupported now.\n\n'attachment.attach-time' filter is still not supported.\n\nBlueprint: ec2-volume-filtering\nChange-Id: I0436f75db9867f7799bc5dd82ff4671cf1da4ea5\n""}, {'number': 16, 'created': '2014-04-04 04:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9acbf773b1265105fb5a6d8d6a9cb738ec92442', 'message': ""EC2: DescribeVolumes: Implement all filters\n\nDescribeVolumes API did not have full support for all the\npossible filters. This patch fixes that.\n\nCinder has little filtering support, but we were not using\nit so far. This patch fixes this too -- the filters are\nseparated into two method calls: The first set is used to\nget filtered volumes from Cinder, and the other\nis used to use the remaining filters specified in EC2 API\ncall.\n\nAs 'volume tags' support is now available (in the dependent\npatch), filtering based on tags is also implemented.\n\nFiltering based on wildcards for values is also\nsupported now.\n\n'attachment.attach-time' filter is still not supported.\n\nBlueprint: ec2-volume-filtering\nChange-Id: I0436f75db9867f7799bc5dd82ff4671cf1da4ea5\n""}, {'number': 17, 'created': '2014-04-04 09:33:45.000000000', 'files': ['nova/tests/api/ec2/test_cinder_cloud.py', 'nova/volume/cinder.py', 'nova/api/ec2/cloud.py', 'nova/tests/fake_volume.py', 'nova/tests/volume/test_cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a189a541044d826fc23ed42b20f462364a2d1b97', 'message': ""EC2: DescribeVolumes: Implement all filters\n\nDescribeVolumes API did not have full support for all the\npossible filters. This patch fixes that.\n\nCinder has little filtering support, but we were not using\nit so far. This patch fixes this too -- the filters are\nseparated into two method calls: The first set is used to\nget filtered volumes from Cinder, and the other\nis used to use the remaining filters specified in EC2 API\ncall.\n\nAs 'volume tags' support is now available (in the dependent\npatch), filtering based on tags is also implemented.\n\nFiltering based on wildcards for values is also\nsupported now.\n\n'attachment.attach-time' filter is still not supported.\n\nBlueprint: ec2-volume-filtering\nChange-Id: I0436f75db9867f7799bc5dd82ff4671cf1da4ea5\n""}]",1,70085,a189a541044d826fc23ed42b20f462364a2d1b97,125,13,17,5538,,,0,"EC2: DescribeVolumes: Implement all filters

DescribeVolumes API did not have full support for all the
possible filters. This patch fixes that.

Cinder has little filtering support, but we were not using
it so far. This patch fixes this too -- the filters are
separated into two method calls: The first set is used to
get filtered volumes from Cinder, and the other
is used to use the remaining filters specified in EC2 API
call.

As 'volume tags' support is now available (in the dependent
patch), filtering based on tags is also implemented.

Filtering based on wildcards for values is also
supported now.

'attachment.attach-time' filter is still not supported.

Blueprint: ec2-volume-filtering
Change-Id: I0436f75db9867f7799bc5dd82ff4671cf1da4ea5
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/70085/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/volume/cinder.py', 'nova/api/ec2/cloud.py', 'nova/api/ec2/ec2utils.py']",3,8bfec18670b50876ecaab16565e4ce5933ea15e7,bp/ec2-volume-filtering,"def search_opts_from_filters_all_values(filters): """"""Retains all values for keys. Returns list of key, list(values) pairs."""""" return_dict = {} for filter in filters: return_dict[filter['name'].replace('-', '_')] = \ list(filter['value'].values()) LOG.audit('filters: %s', str(filters)) LOG.audit('return_dict: %s', str(return_dict)) return return_dict def search_opts_from_filters_one_value(filters, allowed_filters=None): """"""Returns only the filters for which filter keys have only one value. Also, only filters in :allowed_filters: are returned. """""" pass",,166,1
openstack%2Fnova~master~Ifa64644ed90fc904322b741ff0901f15d6d63078,openstack/nova,master,Ifa64644ed90fc904322b741ff0901f15d6d63078,DO NOT MERGE: Test patch to showing bug in hacking rule,ABANDONED,2014-11-18 18:34:54.000000000,2015-01-23 15:23:17.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-18 18:34:54.000000000', 'files': ['nova/virt/xenapi/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2059af12b442784762e048938312aff20354cc88', 'message': 'DO NOT MERGE: Test patch to showing bug in hacking rule\n\nThis patch is here to demonstrate the issue with the hacking rules that\nis fixed in: https://review.openstack.org/#/c/131600\n\nChange-Id: Ifa64644ed90fc904322b741ff0901f15d6d63078\n'}]",0,135388,2059af12b442784762e048938312aff20354cc88,10,8,1,1849,,,0,"DO NOT MERGE: Test patch to showing bug in hacking rule

This patch is here to demonstrate the issue with the hacking rules that
is fixed in: https://review.openstack.org/#/c/131600

Change-Id: Ifa64644ed90fc904322b741ff0901f15d6d63078
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/135388/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/xenapi/driver.py'],1,2059af12b442784762e048938312aff20354cc88,example,"from nova.virt.libvirt import utils as libvirt_utilslibvirt_utils.is_valid_hostname(""bob"") ",,3,0
openstack%2Fnova~stable%2Ficehouse~I30717a8ee0ef7ba82a45d8b1b22058ea1ecf0d25,openstack/nova,stable/icehouse,I30717a8ee0ef7ba82a45d8b1b22058ea1ecf0d25,libvirt: Make sure volumes are well detected during block migration,ABANDONED,2014-08-28 21:54:13.000000000,2015-01-23 15:23:15.000000000,,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1313}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8122}, {'_account_id': 8412}, {'_account_id': 8996}, {'_account_id': 9008}, {'_account_id': 9107}, {'_account_id': 9656}, {'_account_id': 10118}]","[{'number': 1, 'created': '2014-08-28 21:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e677b1429e987c9c94ae5c6c9cb9c068b61241e', 'message': 'WIP: backport of https://review.openstack.org/#/c/115041/\n\nChange-Id: I30717a8ee0ef7ba82a45d8b1b22058ea1ecf0d25\n'}, {'number': 2, 'created': '2014-08-29 09:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/882554e55982bdf1f0b6094036017b9197de4458', 'message': 'WIP: backport of https://review.openstack.org/#/c/115041/\n\nChange-Id: I30717a8ee0ef7ba82a45d8b1b22058ea1ecf0d25\n'}, {'number': 3, 'created': '2014-10-15 15:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b46c8ef607c106c755e4c5fd6b4af950f9d9139', 'message': 'libvirt: Make sure volumes are well detected during block migration\n\nCurrent implementation of live migration in libvirt incorrectly includes\nblock devices on shared storage (e.g., NFS) when computing destination\nstorage requirements. Since these volumes are already on shared storage\nthey do not need to be migrated. As a result, migration fails if the\namount of free space on the shared drive is less than the size of the\nvolume to be migrated. The problem is addressed by adding a\nblock_device_info parameter to check_can_live_migrate_source() to allow\nvolumes to be filtered correctly when computing migration space\nrequirements.\n\nThis only fixes the issue on libvirt: it is unclear whether other\nimplementations suffer from the same issue.\n\nThanks to Florent Flament for spotting and fixing an issue while trying out\nthis patch.\n\nCo-Authored-By: Florent Flament <florent.flament@cloudwatt.com>\nChange-Id: I30717a8ee0ef7ba82a45d8b1b22058ea1ecf0d25\nCloses-Bug: #1356552\n'}, {'number': 4, 'created': '2014-10-15 22:31:33.000000000', 'files': ['nova/tests/virt/libvirt/test_libvirt.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/fake.py', 'nova/tests/compute/test_compute_mgr.py', 'nova/virt/driver.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/22ae3669e6e3b1400b69114127c93837c942f712', 'message': 'libvirt: Make sure volumes are well detected during block migration\n\nCurrent implementation of live migration in libvirt incorrectly includes\nblock devices on shared storage (e.g., NFS) when computing destination\nstorage requirements. Since these volumes are already on shared storage\nthey do not need to be migrated. As a result, migration fails if the\namount of free space on the shared drive is less than the size of the\nvolume to be migrated. The problem is addressed by adding a\nblock_device_info parameter to check_can_live_migrate_source() to allow\nvolumes to be filtered correctly when computing migration space\nrequirements.\n\nThis only fixes the issue on libvirt: it is unclear whether other\nimplementations suffer from the same issue.\n\nThanks to Florent Flament for spotting and fixing an issue while trying out\nthis patch.\n\nCo-Authored-By: Florent Flament <florent.flament@cloudwatt.com>\nChange-Id: I30717a8ee0ef7ba82a45d8b1b22058ea1ecf0d25\nCloses-Bug: #1356552\n'}]",2,117631,22ae3669e6e3b1400b69114127c93837c942f712,31,12,4,8122,,,0,"libvirt: Make sure volumes are well detected during block migration

Current implementation of live migration in libvirt incorrectly includes
block devices on shared storage (e.g., NFS) when computing destination
storage requirements. Since these volumes are already on shared storage
they do not need to be migrated. As a result, migration fails if the
amount of free space on the shared drive is less than the size of the
volume to be migrated. The problem is addressed by adding a
block_device_info parameter to check_can_live_migrate_source() to allow
volumes to be filtered correctly when computing migration space
requirements.

This only fixes the issue on libvirt: it is unclear whether other
implementations suffer from the same issue.

Thanks to Florent Flament for spotting and fixing an issue while trying out
this patch.

Co-Authored-By: Florent Flament <florent.flament@cloudwatt.com>
Change-Id: I30717a8ee0ef7ba82a45d8b1b22058ea1ecf0d25
Closes-Bug: #1356552
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/117631/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/tests/compute/test_compute_mgr.py', 'nova/virt/fake.py', 'nova/virt/driver.py', 'nova/compute/manager.py']",6,8e677b1429e987c9c94ae5c6c9cb9c068b61241e,bug/1356552," block_device_info = self._get_instance_volume_block_device_info( ctxt, instance, refresh_conn_info=True) dest_check_data, block_device_info)", dest_check_data),20,9
openstack%2Fnova~stable%2Ficehouse~I2755c59b4db736151000dae351fd776d3c15ca39,openstack/nova,stable/icehouse,I2755c59b4db736151000dae351fd776d3c15ca39,Improve shared storage checks for live migration,ABANDONED,2014-09-25 19:58:33.000000000,2015-01-23 15:23:14.000000000,,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1313}, {'_account_id': 2750}, {'_account_id': 4625}, {'_account_id': 5170}, {'_account_id': 8213}, {'_account_id': 8787}, {'_account_id': 8829}, {'_account_id': 9008}, {'_account_id': 9656}]","[{'number': 1, 'created': '2014-09-25 19:58:33.000000000', 'files': ['nova/virt/fake.py', 'nova/virt/driver.py', 'nova/tests/compute/test_compute.py', 'nova/virt/hyperv/driver.py', 'nova/tests/virt/libvirt/test_libvirt.py', 'nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/compute/test_rpcapi.py', 'nova/tests/virt/test_ironic_api_contracts.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/virt/baremetal/driver.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cb1c16ca0cc0be0b6eecb3abc16ad80bd9cbec61', 'message': 'Improve shared storage checks for live migration\n\nDue to an assumption that libvirt live migrations work only when both\ninstance path and disk data is shared between source and destination\nhosts (e.g. libvirt instances directory is on NFS), instance disks are\nremoved from shared storage when instance path is not shared (e.g. Ceph\nRBD backend is enabled).\n\nDistinguish cases that require shared instance drive and shared libvirt\ninstance directory. Reflect the fact that RBD backed instances have\nshared instance drive (and no shared libvirt instance directory) in the\nrelevant conditionals.\n\nUpgradeImpact: Live migrations from or to a compute host running a\nversion of Nova pre-dating this commit are disabled in order to\neliminate possibility of data loss. Upgrade Nova on both the source and\nthe target node before attempting a live migration.\n\nCloses-bug: 1250751\nCloses-bug: 1314526\nCo-authored-by: Ryan Moe <rmoe@mirantis.com>\nCo-authored-by: Yaguang Tang <yaguang.tang@canonical.com>\nSigned-off-by: Dmitry Borodaenko <dborodaenko@mirantis.com>\nChange-Id: I2755c59b4db736151000dae351fd776d3c15ca39\n(cherry picked from commit bc45c56f102cdef58840e02b609a89f5278e8cce)\n'}]",0,124161,cb1c16ca0cc0be0b6eecb3abc16ad80bd9cbec61,13,11,1,4625,,,0,"Improve shared storage checks for live migration

Due to an assumption that libvirt live migrations work only when both
instance path and disk data is shared between source and destination
hosts (e.g. libvirt instances directory is on NFS), instance disks are
removed from shared storage when instance path is not shared (e.g. Ceph
RBD backend is enabled).

Distinguish cases that require shared instance drive and shared libvirt
instance directory. Reflect the fact that RBD backed instances have
shared instance drive (and no shared libvirt instance directory) in the
relevant conditionals.

UpgradeImpact: Live migrations from or to a compute host running a
version of Nova pre-dating this commit are disabled in order to
eliminate possibility of data loss. Upgrade Nova on both the source and
the target node before attempting a live migration.

Closes-bug: 1250751
Closes-bug: 1314526
Co-authored-by: Ryan Moe <rmoe@mirantis.com>
Co-authored-by: Yaguang Tang <yaguang.tang@canonical.com>
Signed-off-by: Dmitry Borodaenko <dborodaenko@mirantis.com>
Change-Id: I2755c59b4db736151000dae351fd776d3c15ca39
(cherry picked from commit bc45c56f102cdef58840e02b609a89f5278e8cce)
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/124161/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/fake.py', 'nova/virt/driver.py', 'nova/tests/compute/test_compute.py', 'nova/virt/hyperv/driver.py', 'nova/tests/virt/libvirt/test_libvirt.py', 'nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/compute/test_rpcapi.py', 'nova/tests/virt/test_ironic_api_contracts.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/virt/baremetal/driver.py', 'nova/virt/libvirt/imagebackend.py']",15,cb1c16ca0cc0be0b6eecb3abc16ad80bd9cbec61,bug/1250751," @staticmethod def is_shared_block_storage(): """"""True if the backend puts images on a shared block storage."""""" return False @staticmethod def is_shared_block_storage(): return True ",,541,204
openstack%2Fnova~master~I0ce5a2609019ccb9e56821cce05122ed42f1dd66,openstack/nova,master,I0ce5a2609019ccb9e56821cce05122ed42f1dd66,Support starting index auto naming multi instances,ABANDONED,2014-08-01 02:15:31.000000000,2015-01-23 15:23:11.000000000,,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 1779}, {'_account_id': 1812}, {'_account_id': 2750}, {'_account_id': 4428}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 7641}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10614}, {'_account_id': 12299}]","[{'number': 1, 'created': '2014-08-01 02:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98e078e0ae29c9411536d8db7bc3cb3e5d7dcece', 'message': ""More humanity names when booting multi instances\n\nCurrently when booting multiple instances, the instance display-names\nwill be something like 'test-1,test-2' if we set\nmulti_instance_display_name_template = %(name)s-%(count)s. Here is the\nproblem, if we need more instances and want the instance names start\nwith 'test-3', there is no such way to do so now.\n\nIf we enter instance name like `test-12` when booting multiple instances,\nthe display name of the remaining instances will be auto plus with 1\nand begin with `12`.\n\nChange-Id: I0ce5a2609019ccb9e56821cce05122ed42f1dd66\nCloses-bug: 1351122\n""}, {'number': 2, 'created': '2014-08-01 15:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2af3e7dbbd16218c2baf08ddae1fa61d6a30871b', 'message': ""More humanity names when booting multi instances\n\nCurrently when booting multiple instances, the instance display-names\nwill be something like 'test-1,test-2' if we set\nmulti_instance_display_name_template = %(name)s-%(count)s. Here is the\nproblem, if we need more instances and want the instance names start\nwith 'test-3', there is no such way to do so now.\n\nIf we enter instance name like `test-12` when booting multiple instances,\nthe display name of the remaining instances will be auto plus with 1\nand begin with `12`.\n\nChange-Id: I0ce5a2609019ccb9e56821cce05122ed42f1dd66\nCloses-bug: 1351122\n""}, {'number': 3, 'created': '2014-08-04 01:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/162bd9b38029ac51ca7e7beb6a8bd7f045b639ea', 'message': ""More humanity names when booting multi instances\n\nCurrently when booting multiple instances, the instance display-names\nwill be something like 'test-1,test-2' if we set\nmulti_instance_display_name_template = %(name)s-%(count)s. Here is the\nproblem, if we need more instances and want the instance names start\nwith 'test-3', there is no such way to do so now.\n\nIf we enter instance name like `test-12` when booting multiple instances,\nthe display name of the remaining instances will be auto plus with 1\nand begin with `12`.\n\nChange-Id: I0ce5a2609019ccb9e56821cce05122ed42f1dd66\nCloses-bug: 1351122\n""}, {'number': 4, 'created': '2014-08-04 08:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d646440d9303757475491cc11bdc364c1e4448a9', 'message': ""More humanity names when booting multi instances\n\nCurrently when booting multiple instances, the instance display-names\nwill be something like 'test-1,test-2' if we set\nmulti_instance_display_name_template = %(name)s-%(count)s. Here is the\nproblem, if we need more instances and want the instance names start\nwith 'test-3', there is no such way to do so now.\n\nIf we enter instance name like `test-12` when booting multiple instances,\nthe display name of the remaining instances will be auto plus with 1\nand begin with `12`.\n\nChange-Id: I0ce5a2609019ccb9e56821cce05122ed42f1dd66\nCloses-bug: 1351122\n""}, {'number': 5, 'created': '2014-08-04 09:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d5fb3b87dedb13d403206f565539fbe45c79f98d', 'message': ""More humanity names when booting multi instances\n\nCurrently when booting multiple instances, the instance display-names\nwill be something like 'test-1,test-2' if we set\nmulti_instance_display_name_template = %(name)s-%(count)s. Here is the\nproblem, if we need more instances and want the instance names start\nwith 'test-3', there is no such way to do so now.\n\nIf we enter instance name like `test-12` when booting multiple instances,\nthe display name of the remaining instances will be auto plus with 1\nand begin with `12`.\n\nDocImpact\n\nChange-Id: I0ce5a2609019ccb9e56821cce05122ed42f1dd66\nCloses-bug: 1351122\n""}, {'number': 6, 'created': '2014-08-05 02:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0bf7bc30d39715b6691f83636a5b94afa773d1b', 'message': ""More humanity names when booting multi instances\n\nCurrently when booting multiple instances, the instance display-names\nwill be something like 'test-1,test-2' if we set\nmulti_instance_display_name_template = %(name)s-%(count)s. Here is the\nproblem, if we need more instances and want the instance names start\nwith 'test-3', there is no such way to do so now.\n\nIf we enter instance name like `test-12` when booting multiple instances,\nthe display name of the remaining instances will be auto plus with 1\nand begin with `12`.\n\nDocImpact\n\nChange-Id: I0ce5a2609019ccb9e56821cce05122ed42f1dd66\nCloses-bug: 1351122\n""}, {'number': 7, 'created': '2014-08-06 00:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c66e766d961830c41c7e0436e02b1d3512063d0', 'message': ""More humanity names when booting multi instances\n\nCurrently when booting multiple instances, the instance display-names\nwill be something like 'test-1,test-2' if we set\nmulti_instance_display_name_template = %(name)s-%(count)s. Here is the\nproblem, if we need more instances and want the instance names start\nwith 'test-3', there is no such way to do so now.\n\nIf we enter instance name like `test-12` when booting multiple instances,\nthe display name of the remaining instances will be auto plus with 1\nand begin with `12`.\n\nDocImpact\n\nChange-Id: I0ce5a2609019ccb9e56821cce05122ed42f1dd66\nCloses-bug: 1351122\n""}, {'number': 8, 'created': '2014-08-07 01:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21df7d6708f70e1175631eb332149c1ca368e9cb', 'message': ""More humanity names when booting multi instances\n\nCurrently when booting multiple instances, the instance display-names\nwill be something like 'test-1,test-2' if we set\nmulti_instance_display_name_template = %(name)s-%(count)s. Here is the\nproblem, if we need more instances and want the instance names start\nwith 'test-3', there is no such way to do so now.\n\nIf we enter instance name like `test-12` when booting multiple instances,\nthe display name of the remaining instances will be auto plus with 1\nand begin with `12`.\n\nDocImpact\n\nChange-Id: I0ce5a2609019ccb9e56821cce05122ed42f1dd66\nCloses-bug: 1351122\n""}, {'number': 9, 'created': '2014-08-26 02:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbec3641cec6d8a0c977a642dcba1e7817553533', 'message': ""Support a starting index when auto naming multiple instances\n\nCurrently when booting multiple instances, the instance display-names\nwill be something like 'test-1,test-2' if we set\nmulti_instance_display_name_template = %(name)s-%(count)s. Here is the\nproblem, if we need more instances and want the instance names start\nwith 'test-3', there is no such way to do so now.\n\nIf we enter instance name like `test-12` when booting multiple instances,\nthe display name of the remaining instances will be auto plus with 1\nand begin with `12`.\n\nDocImpact\n\nChange-Id: I0ce5a2609019ccb9e56821cce05122ed42f1dd66\nCloses-bug: 1351122\n""}, {'number': 10, 'created': '2014-08-26 07:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38d475d89dfa1132f886237812dd9b42ba78ffb0', 'message': ""Support a starting index when auto naming multiple instances\n\nCurrently when booting multiple instances, the instance display-names\nwill be something like 'test-1,test-2' if we set\nmulti_instance_display_name_template = %(name)s-%(count)s. Here is the\nproblem, if we need more instances and want the instance names start\nwith 'test-3', there is no such way to do so now.\n\nIf we enter instance name like `test-12` when booting multiple instances,\nthe display name of the remaining instances will be auto plus with 1\nand begin with `12`.\n\nDocImpact\n\nChange-Id: I0ce5a2609019ccb9e56821cce05122ed42f1dd66\nCloses-bug: 1351122\n""}, {'number': 11, 'created': '2014-09-04 07:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6c219cb1d0507a530563aa944914f94962752ef', 'message': ""Support a starting index when auto naming multiple instances\n\nCurrently when booting multiple instances, the instance display-names\nwill be something like 'test-1,test-2' if we set\nmulti_instance_display_name_template = %(name)s-%(count)s. Here is the\nproblem, if we need more instances and want the instance names start\nwith 'test-3', there is no such way to do so now.\n\nSo a new template is introduced to solve the issue: '%(name)s-%(index)s'.\nIf we enter instance name like `test-12` when booting multiple instances,\nthe display name of the remaining instances will be auto plus with 1\nand begin with `12`.\n\nDocImpact\n\nChange-Id: I0ce5a2609019ccb9e56821cce05122ed42f1dd66\nCloses-bug: 1351122\n""}, {'number': 12, 'created': '2014-09-04 11:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd799bd66f47b12f3ca94f49fa837ee51c9b40e8', 'message': ""Support starting index auto naming multi instances\n\nCurrently when booting multiple instances, the instance display-names\nwill be something like 'test-1,test-2' if we set\nmulti_instance_display_name_template = %(name)s-%(count)s. Here is the\nproblem, if we need more instances and want the instance names start\nwith 'test-3', there is no such way to do so now.\n\nSo a new template is introduced to solve the issue: '%(name)s-%(index)s'\nIf we enter instance name like `test-12` when booting multiple\ninstances, the display name of the remaining instances will be auto\nplus with 1 and begin with `12`.\n\nDocImpact\n\nChange-Id: I0ce5a2609019ccb9e56821cce05122ed42f1dd66\nCloses-bug: #1351122\n""}, {'number': 13, 'created': '2014-10-10 10:37:18.000000000', 'files': ['nova/tests/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/188409b47bcf3ccf8262cd603bd181377262549b', 'message': ""Support starting index auto naming multi instances\n\nCurrently when booting multiple instances, the instance display-names\nwill be something like 'test-1,test-2' if we set\nmulti_instance_display_name_template = %(name)s-%(count)s. Here is the\nproblem, if we need more instances and want the instance names start\nwith 'test-3', there is no such way to do so now.\n\nSo a new template is introduced to solve the issue: '%(name)s-%(index)s'\nIf we enter instance name like `test-12` when booting multiple\ninstances, the display name of the remaining instances will be auto\nplus with 1 and begin with `12`.\n\nDocImpact\n\nChange-Id: I0ce5a2609019ccb9e56821cce05122ed42f1dd66\nCloses-bug: #1351122\n""}]",36,111138,188409b47bcf3ccf8262cd603bd181377262549b,135,18,13,4428,,,0,"Support starting index auto naming multi instances

Currently when booting multiple instances, the instance display-names
will be something like 'test-1,test-2' if we set
multi_instance_display_name_template = %(name)s-%(count)s. Here is the
problem, if we need more instances and want the instance names start
with 'test-3', there is no such way to do so now.

So a new template is introduced to solve the issue: '%(name)s-%(index)s'
If we enter instance name like `test-12` when booting multiple
instances, the display name of the remaining instances will be auto
plus with 1 and begin with `12`.

DocImpact

Change-Id: I0ce5a2609019ccb9e56821cce05122ed42f1dd66
Closes-bug: #1351122
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/111138/10 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,98e078e0ae29c9411536d8db7bc3cb3e5d7dcece,enhance-instance-name, names = instance['display_name'].split('-') if len(names) > 1 and names[1].isdigit(): params['name'] = names[0] params['count'] = int(names[1]) + index,,4,0
openstack%2Fnova~master~I3b33475012187c95b2523b9600416f94a0233a27,openstack/nova,master,I3b33475012187c95b2523b9600416f94a0233a27,Nova Trusted geo-asset tag filter,ABANDONED,2014-12-11 23:38:49.000000000,2015-01-23 15:23:08.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-11 23:38:49.000000000', 'files': ['nova/scheduler/filters/asset_tag_filter.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0c5321ac71c92af99d4aff0209c7a227f1521a56', 'message': 'Nova Trusted geo-asset tag filter\n\nWith Asset Tags, you can enforce policies to control placement,\nmigration or bursting of workloads to trusted systems\n\nnova BP: https://review.openstack.org/#/c/133106\n\nChange-Id: I3b33475012187c95b2523b9600416f94a0233a27\n'}]",0,141214,0c5321ac71c92af99d4aff0209c7a227f1521a56,12,10,1,13800,,,0,"Nova Trusted geo-asset tag filter

With Asset Tags, you can enforce policies to control placement,
migration or bursting of workloads to trusted systems

nova BP: https://review.openstack.org/#/c/133106

Change-Id: I3b33475012187c95b2523b9600416f94a0233a27
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/141214/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/filters/asset_tag_filter.py'],1,0c5321ac71c92af99d4aff0209c7a227f1521a56,bp/https,"# vim: tabstop=4 shiftwidth=4 softtabstop=4 # Copyright (c) 2012 Intel, Inc. # Copyright (c) 2011-2012 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Filter to add support for Trusted Computing Pools. Filter that only schedules tasks on a host if the integrity (trust) of that host matches the trust requested in the `extra_specs' for the flavor. The `extra_specs' will contain a key/value pair where the key is `trust'. The value of this pair (`trusted'/`untrusted') must match the integrity of that host (obtained from the Attestation service) before the task can be scheduled on that host. Note that the parameters to control access to the Attestation Service are in the `nova.conf' file in a separate `trust' section. For example, the config file will look something like: [DEFAULT] verbose=True ... [trust] server=attester.mynetwork.com Details on the specific parameters can be found in the file `trust_attest.py'. Details on setting up and using an Attestation Service can be found at the Open Attestation project at: https://github.com/OpenAttestation/OpenAttestation """""" import httplib import socket import ssl import json import ast from oslo.config import cfg from nova import context from nova import db from nova.openstack.common.gettextutils import _ from nova.openstack.common import jsonutils from nova.openstack.common import log as logging from nova.openstack.common import timeutils from nova.scheduler import filters from lxml import etree import base64 from base64 import b64encode import random LOG = logging.getLogger(__name__) trusted_opts = [ cfg.StrOpt('attestation_server', help='attestation server http'), cfg.StrOpt('attestation_server_ca_file', help='attestation server Cert file for Identity verification'), cfg.StrOpt('attestation_port', default='8443', help='attestation server port'), cfg.StrOpt('attestation_api_url', default='/OpenAttestationWebServices/V1.0', help='attestation web API URL'), cfg.StrOpt('attestation_auth_blob', help='attestation authorization blob - must change'), cfg.IntOpt('attestation_auth_timeout', default=60, help='Attestation status cache valid period length'), ] CONF = cfg.CONF trust_group = cfg.OptGroup(name='trusted_computing', title='Trust parameters') CONF.register_group(trust_group) CONF.register_opts(trusted_opts, group=trust_group) class HTTPSClientAuthConnection(httplib.HTTPSConnection): """""" Class to make a HTTPS connection, with support for full client-based SSL Authentication """""" def __init__(self, host, port, key_file, cert_file, ca_file, timeout=None): httplib.HTTPSConnection.__init__(self, host, key_file=key_file, cert_file=cert_file) self.host = host self.port = port self.key_file = key_file self.cert_file = cert_file self.ca_file = ca_file self.timeout = timeout def connect(self): """""" Connect to a host on a given (SSL) port. If ca_file is pointing somewhere, use it to check Server Certificate. Redefined/copied and extended from httplib.py:1105 (Python 2.6.x). This is needed to pass cert_reqs=ssl.CERT_REQUIRED as parameter to ssl.wrap_socket(), which forces SSL to check server certificate against our client certificate. """""" sock = socket.create_connection((self.host, self.port), self.timeout) self.sock = ssl.wrap_socket(sock, self.key_file, self.cert_file, ca_certs=self.ca_file) #cert_reqs=ssl.CERT_REQUIRED) class AttestationService(object): # Provide access wrapper to attestation server to get integrity report. def __init__(self): self.api_url = CONF.trusted_computing.attestation_api_url self.host = CONF.trusted_computing.attestation_server self.port = CONF.trusted_computing.attestation_port self.auth_blob = CONF.trusted_computing.attestation_auth_blob self.key_file = None self.cert_file = None self.ca_file = CONF.trusted_computing.attestation_server_ca_file self.ca_file = None self.request_count = 100 def _do_request(self, method, action_url, params, headers): # Connects to the server and issues a request. # :returns: result data # :raises: IOError if the request fails action_url = ""%s?%s"" % (self.api_url, params) try: c = HTTPSClientAuthConnection(self.host, self.port, key_file=self.key_file, cert_file=self.cert_file, ca_file=self.ca_file) c.request(method, action_url, '', headers) res = c.getresponse() status_code = res.status if status_code in (httplib.OK, httplib.CREATED, httplib.ACCEPTED, httplib.NO_CONTENT): return httplib.OK, res return status_code, None except (socket.error, IOError): return IOError, None def _request(self, cmd, subcmd, host): params = ""hostName="" + host headers = {} auth = base64.encodestring(self.auth_blob).replace('\n', '') if self.auth_blob: # headers['x-auth-blob'] = self.auth_blob headers['Authorization'] = ""Basic "" + auth status, res = self._do_request(cmd, subcmd, params, headers) if status == httplib.OK: data = res.read() return status, data else: return status, None def do_attestation(self, hosts): """"""Attests compute nodes through OAT service. :param hosts: hosts list to be attested :returns: dictionary for trust level and validate time """""" result = None #status, data = self._request(""POST"", ""PollHosts"", hosts) status, data = self._request(""GET"", """", hosts) return data class TrustAssertionFilter(filters.BaseHostFilter): def __init__(self): self.attestservice = AttestationService() self.compute_nodes = {} admin = context.get_admin_context() # Fetch compute node list to initialize the compute_nodes, # so that we don't need poll OAT service one by one for each # host in the first round that scheduler invokes us. self.compute_nodes = db.compute_node_get_all(admin) def host_passes(self, host_state, filter_properties): """"""Only return hosts with required Trust level."""""" verify_asset_tag = False verify_trust_status = False spec = filter_properties.get('request_spec', {}) image_props = spec.get('image', {}).get('properties', {}) # Get the Tag verification flag from the image properties tag_selections = image_props.get('tags') # comma seperated values trust_verify = image_props.get('trust') # comma seperated values #if tag_selections is None or tag_selections == 'Trust': if trust_verify == 'true': verify_trust_status = True if tag_selections != None and tag_selections != {}: verify_asset_tag = True if not verify_trust_status: # Filter returns success/true if neither trust or tag has to be verified. return True host_data = self.attestservice.do_attestation(host_state.hypervisor_hostname) trust, asset_tag = self.verify_and_parse_saml(host_data) if not trust: return False if verify_asset_tag: # Verify the asset tag restriction return self.verify_asset_tag(asset_tag, tag_selections) return True def verify_and_parse_saml(self, saml_data): trust = False asset_tag = {} # Trust attestation service responds with a JSON in case the given host name is not found # Need to update this after the mt. wilson service is updated to return consistent message formats try: if json.loads(saml_data): return trust, asset_tag except: LOG.debug(""System does not exist in the Mt. Wilson portal"") ns = {'saml2p': '{urn:oasis:names:tc:SAML:2.0:protocol}', 'saml2': '{urn:oasis:names:tc:SAML:2.0:assertion}'} try: # xpath strings xp_attributestatement = '{saml2}AttributeStatement/{saml2}Attribute'.format(**ns) xp_attributevalue = '{saml2}AttributeValue'.format(**ns) doc = etree.XML(saml_data) elements = doc.findall(xp_attributestatement) for el in elements: if el.attrib['Name'].lower() == 'trusted': if el.find(xp_attributevalue).text == 'true': trust = True elif el.attrib['Name'].lower().startswith(""tag""): asset_tag[el.attrib['Name'].lower().split('[')[1].split(']')[0]] = el.find(xp_attributevalue).text return trust, asset_tag except: return trust, asset_tag # Verifies the asset tag match with the tag selections provided by the user. def verify_asset_tag(self, host_tags, tag_selections): # host_tags is the list of tags set on the host # tag_selections is the list of tags set as the policy of the image ret_status = False selection_details = {} try: sel_tags = ast.literal_eval(tag_selections) iteration_status = True for tag in list(sel_tags.keys()): if tag not in list(host_tags.keys()) or host_tags[tag] not in sel_tags[tag]: iteration_status = False if(iteration_status): ret_status = True except: ret_status = False return ret_status ",,292,0
openstack%2Fnova~master~Ib2b85db4c4d92710ca163f89199654da2099dc6b,openstack/nova,master,Ib2b85db4c4d92710ca163f89199654da2099dc6b,Horizontally Scalable Scheduler,ABANDONED,2014-02-18 16:08:08.000000000,2015-01-23 15:23:07.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4120}, {'_account_id': 5170}, {'_account_id': 7069}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12487}]","[{'number': 1, 'created': '2014-02-18 16:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ecaf629a6bb795caa9c408b4625839e251debac6', 'message': 'Scalable scheduler\n\nChange-Id: Ib2b85db4c4d92710ca163f89199654da2099dc6b\nImplements: blueprint horizontally-scalable-scheduling\n'}, {'number': 2, 'created': '2014-02-27 10:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d59885ef45756ff18941e8dd1eefd3abd2268de', 'message': 'Scalable scheduler\n\nChange-Id: Ib2b85db4c4d92710ca163f89199654da2099dc6b\nImplements: blueprint horizontally-scalable-scheduling\n'}, {'number': 3, 'created': '2014-12-18 12:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eacb12939ac0ee8c1499a3f85be155772b923286', 'message': 'Horizontally Scalable Scheduler\n\nThis patch adds code that implements a scalable approach towards scheduling\nVM requests. The nova API directly places the request onto the queue on topics\nbased on the instance type of the VM.\n\n* Registers option ""bypass_scheduler"" during conductor initialization\n* Bypasses scheduler and puts the request on to the queue based on instance type directly.\n* Host resource information is preserved and retreived using getter.\n  This infomation is required by the compute manager to evaluate its own capability.\n* Validates the host capacity with available flavors\n* Subscribes to queues with flavor which are under the capacity\n* Considers ram,cores and disk allocation ratio during the validation.\n* Manages inital subscription and un-subscription\n* Revalidates subscription when an instance is created or terminated.\n\nImplements: blueprint horizontally-scalable-scheduling\nChange-Id: Ib2b85db4c4d92710ca163f89199654da2099dc6b\n'}, {'number': 4, 'created': '2014-12-18 19:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed86dabaa87de7315ec4b6f208dec58b0d7df951', 'message': 'Horizontally Scalable Scheduler\n\nThis patch adds code that implements a scalable approach towards scheduling\nVM requests. The nova API directly places the request onto the queue on topics\nbased on the instance type of the VM.\n\n* Registers config option ""bypass_scheduler"" during conductor initialization.\n* Bypasses scheduler and puts the request directly on to the queue based on instance type.\n* Validates the host capacity with available instance type.\n* Subscribes to queues with instance type which are under the capacity\n* Considers ram,cores and disk allocation ratio during the validation.\n* Manages inital subscription and un-subscription\n* Revalidates subscription when an instance is created or terminated.\n\nImplements: blueprint horizontally-scalable-scheduling\nChange-Id: Ib2b85db4c4d92710ca163f89199654da2099dc6b\n'}, {'number': 5, 'created': '2014-12-18 20:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bab58e16bf05c8c557fac3386a9d9604f5bffb06', 'message': 'Horizontally Scalable Scheduler\n\nThis patch adds code that implements a scalable approach towards scheduling\nVM requests. The nova API directly places the request onto the queue on topics\nbased on the instance type of the VM.\n\n* Registers config option ""bypass_scheduler"" during conductor initialization.\n* Bypasses scheduler and puts the request directly on to the queue based on instance type.\n* Validates the host capacity with available instance type.\n* Subscribes to queues with instance type which are under the capacity\n* Considers ram,cores and disk allocation ratio during the validation.\n* Manages inital subscription and un-subscription\n* Revalidates subscription when an instance is created or terminated.\n\nImplements: blueprint horizontally-scalable-scheduling\nChange-Id: Ib2b85db4c4d92710ca163f89199654da2099dc6b\n'}, {'number': 6, 'created': '2014-12-18 21:26:47.000000000', 'files': ['nova/conductor/__init__.py', 'nova/conductor/manager.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/14555cfe135148154317f11fddf3ff74b10192d2', 'message': 'Horizontally Scalable Scheduler\n\nThis patch adds code that implements a scalable approach towards scheduling\nVM requests. The nova API directly places the request onto the queue on topics\nbased on the instance type of the VM.\n\n* Registers config option ""bypass_scheduler"" during conductor initialization.\n* Bypasses scheduler and puts the request directly on to the queue based on instance type.\n* Validates the host capacity with available instance type.\n* Subscribes to queues with instance type which are under the capacity\n* Considers ram,cores and disk allocation ratio during the validation.\n* Manages inital subscription and un-subscription\n* Revalidates subscription when an instance is created or terminated.\n\nImplements: blueprint horizontally-scalable-scheduling\nChange-Id: Ib2b85db4c4d92710ca163f89199654da2099dc6b\n'}]",0,74423,14555cfe135148154317f11fddf3ff74b10192d2,59,12,6,4120,,,0,"Horizontally Scalable Scheduler

This patch adds code that implements a scalable approach towards scheduling
VM requests. The nova API directly places the request onto the queue on topics
based on the instance type of the VM.

* Registers config option ""bypass_scheduler"" during conductor initialization.
* Bypasses scheduler and puts the request directly on to the queue based on instance type.
* Validates the host capacity with available instance type.
* Subscribes to queues with instance type which are under the capacity
* Considers ram,cores and disk allocation ratio during the validation.
* Manages inital subscription and un-subscription
* Revalidates subscription when an instance is created or terminated.

Implements: blueprint horizontally-scalable-scheduling
Change-Id: Ib2b85db4c4d92710ca163f89199654da2099dc6b
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/74423/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/service.py', 'nova/conductor/rpcapi.py', 'nova/conductor/api.py', 'nova/conductor/manager.py', 'nova/scheduler/__init__.py', 'nova/cmd/compute.py']",6,ecaf629a6bb795caa9c408b4625839e251debac6,bp/horizontally-scalable-scheduling,"CONF.import_opt('bypass_scheduler', 'nova.scheduler') bypass_scheduler=CONF.bypass_scheduler)",,73,10
openstack%2Fnova~master~I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6,openstack/nova,master,I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6,VMware: Add option to ignore the port group creation,ABANDONED,2014-07-04 13:41:43.000000000,2015-01-23 15:23:04.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6526}, {'_account_id': 7400}, {'_account_id': 8247}, {'_account_id': 8412}, {'_account_id': 8574}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10441}, {'_account_id': 10614}, {'_account_id': 10618}, {'_account_id': 11823}]","[{'number': 1, 'created': '2014-07-04 13:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7358bc7f4cc05e46c2d459e06347f0ed98115dda', 'message': 'Add option to ignore the port group creation when using nova-network\n\nIn the existing VMware environment, for security reason, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 2, 'created': '2014-07-04 14:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5890e90ace9837512911a784410cf80476ab515', 'message': 'Add option to ignore the port group creation when using nova-network\n\nIn the existing VMware environment, for security reason, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 3, 'created': '2014-07-07 01:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f600939542aba8a3afa46130dc72b984ac75ef32', 'message': 'VMware: Add option to ignore the port group creation when using\nnova-network\n\nIn the existing VMware environment, for security reason, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 4, 'created': '2014-07-07 02:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4dd2daf3532cc8de98d8e987bf956c166d9b136d', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reason, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 5, 'created': '2014-07-07 07:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2e70cc6068f7f8b6b9384756f3b7a06d95ed2e6', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6'}, {'number': 6, 'created': '2014-07-17 07:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d072d8e3e211a448635b23a0701377122e8f516c', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6'}, {'number': 7, 'created': '2014-07-24 06:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3a3a10268c5680c6febebd97130b8f7e7e5f2af', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 8, 'created': '2014-07-24 09:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65365b37d8a721e7ebd4276dae8703237d8e4b5e', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 9, 'created': '2014-08-04 01:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae9202a789299e4fca44b6f0677768d6f84fd140', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 10, 'created': '2014-08-07 07:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31a8115026ee5bac09c7d80ede4ae9c63b650603', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 11, 'created': '2014-08-08 05:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab637cee160dc5997de0bd7905f4ca01596720f0', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 12, 'created': '2014-08-08 08:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21eaefd84ec580cd68d5ab4e5d731cdd252a01e3', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 13, 'created': '2014-08-12 03:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99f1d19597daf3b85ca716878d319766835fdd2b', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 14, 'created': '2014-08-15 09:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7baf6a0340ec8c1b20ece3ff005afc93626e9aa0', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 15, 'created': '2014-08-20 07:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa0536fe6d1134b35599ca3a6ccb28a96ff1b39a', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 16, 'created': '2014-08-25 07:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b209478bb39a14af3099d91a74808540e9e87d0', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 17, 'created': '2014-08-29 05:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7171a15341b6d077f57e109184401d805eb580c0', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 18, 'created': '2014-09-04 06:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f5471e6e9362dc5095a07e0d8135738723cad03', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 19, 'created': '2014-09-04 06:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ff613a18bbbe18d703396275df486bdccae568b', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 20, 'created': '2014-09-10 07:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3513bf890df5555440c975f54d4827c2a690c30b', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 21, 'created': '2014-09-10 07:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3d6bf456aa909fe4418d3f955c3b6c7b976a183', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 22, 'created': '2014-09-11 02:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ceed14804d92e8cb48e1b20291a4ee9b69bdfe4c', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 23, 'created': '2014-09-12 05:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9be4bcf07047d4ab65b69f3467afa88cd5a77733', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 24, 'created': '2014-09-18 23:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2151c99678e3b4df74fdffc9ce703662229736f9', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 25, 'created': '2014-09-22 01:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b573780cd5cc4e804cdc295edd26cf49b462de46', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 26, 'created': '2014-09-22 07:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eba00a7ab8f5b85d9865116d8f2a5181c9df7be4', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 27, 'created': '2014-09-23 01:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc7fe341d84b67f70aca903398f227447b7c88a7', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 28, 'created': '2014-09-23 06:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dae561550108403a0fc0f65d41f8582e0efd9a60', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 29, 'created': '2014-09-24 00:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80a96ddd6f149e1d3e3cbab15d323306f7f95886', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 30, 'created': '2014-09-29 12:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/748e6f5f4fc682be34c5041c5ebb083bb75a7880', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 31, 'created': '2014-09-29 14:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79c64e7cb26c8b60f43c998965776fa633fccdda', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 32, 'created': '2014-10-20 01:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4319e97879ac08dc6f9cb6bcdee9041d7c3b8373', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 33, 'created': '2014-10-21 07:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c4a1ac56bb58f553668f54d59886fecede26ed6', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 34, 'created': '2014-10-23 00:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c751b6831a218bbc09876beefcbe57dc11f4133', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 35, 'created': '2014-11-05 01:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b355d60ab73b78512e9e5c1d94f72f33875ad83d', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 36, 'created': '2014-11-12 07:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b567973cfee081916e8114adfcd13c4293c07ca', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 37, 'created': '2014-11-13 00:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87aa7422917d1b4068f4e0692b8ddf86f4a202c7', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 38, 'created': '2014-11-13 08:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e29ec0e814d7ef141632c5cce94aeb84f7f33982', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 39, 'created': '2014-11-26 15:23:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd963af562cd617b533d7a79b7b02a9bb24cb01d', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 40, 'created': '2014-12-04 02:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/245ca69b260a086f35454cc6677dca38340b47ab', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 41, 'created': '2014-12-10 13:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa7e83ed997e91567d205eb923b61693c1134176', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 42, 'created': '2014-12-11 10:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e54c232acb1ac515f0cad9bbd6ca14431c2af8e', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 43, 'created': '2014-12-15 08:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4a6a6b0951b550e894e2c13fcdab573ef7aa73c', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}, {'number': 44, 'created': '2014-12-17 08:07:47.000000000', 'files': ['nova/virt/vmwareapi/vif.py', 'nova/tests/unit/virt/vmwareapi/test_vif.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1dcce4b79b1a48a2c059792216b441f33981d0f2', 'message': 'VMware: Add option to ignore the port group creation\n\nIn the existing VMware environment, for security reasons, VMware\nadministrator more like to create the port group by themselves with\nconfigure some additional firewall rules for example instead of create\nit in code automatically. So, we need provide an option to disable the\nport group creation and throw exception to let user do it by self when\nusing the nova-network.\n\nDocImpact\nNew option: ignore_portgroup_create, default is False, if True then do\nnot create the port group when using nova-network.\n\nCloses-Bug: #1337214\nChange-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6\n'}]",22,104893,1dcce4b79b1a48a2c059792216b441f33981d0f2,386,22,44,6526,,,0,"VMware: Add option to ignore the port group creation

In the existing VMware environment, for security reasons, VMware
administrator more like to create the port group by themselves with
configure some additional firewall rules for example instead of create
it in code automatically. So, we need provide an option to disable the
port group creation and throw exception to let user do it by self when
using the nova-network.

DocImpact
New option: ignore_portgroup_create, default is False, if True then do
not create the port group when using nova-network.

Closes-Bug: #1337214
Change-Id: I96d1f6709f2c4c92ef5e17f2efe29cc8bbac92f6
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/104893/23 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vif.py', 'nova/tests/virt/vmwareapi/test_vif.py']",2,7358bc7f4cc05e46c2d459e06347f0ed98115dda,bug/1337214," @mock.patch.object(network_util, 'get_network_with_the_name', return_value=None) def test_ensure_vlan_bridge_ignore_portgroup_create(self): self.flags(ignore_portgroup_create=True, group='vmware') self.assertRaises(exception.NetworkNotFoundForBridge, vif.ensure_vlan_bridge, self.session, self.vif, create_vlan=True) ",,18,0
openstack%2Fmonasca-persister~master~I3d7ee8795fd744a5cd5ecc74203d6c883d3c5326,openstack/monasca-persister,master,I3d7ee8795fd744a5cd5ecc74203d6c883d3c5326,Persist serialized metrics to vertica's alarm state history table,ABANDONED,2014-10-10 23:07:19.000000000,2015-01-23 15:21:22.000000000,,"[{'_account_id': 3}, {'_account_id': 1976}, {'_account_id': 2419}, {'_account_id': 11182}, {'_account_id': 11809}, {'_account_id': 12512}]","[{'number': 1, 'created': '2014-10-10 23:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/2b180de907f1c15fbd934a6b7d52e3d797ed127a', 'message': ""Persist serialized metrics to vertica's alarm state history table.\n\nChange-Id: I3d7ee8795fd744a5cd5ecc74203d6c883d3c5326\n""}, {'number': 2, 'created': '2014-10-15 19:26:33.000000000', 'files': ['src/test/java/monasca/persister/PersisterApplicationRunner.java', 'src/main/java/monasca/persister/repository/VerticaAlarmRepository.java'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/6a8ae3762176d0e3829af5de1a388e6413b1445d', 'message': ""Persist serialized metrics to vertica's alarm state history table\n\nChange-Id: I3d7ee8795fd744a5cd5ecc74203d6c883d3c5326\n""}]",0,127677,6a8ae3762176d0e3829af5de1a388e6413b1445d,9,6,2,1976,,,0,"Persist serialized metrics to vertica's alarm state history table

Change-Id: I3d7ee8795fd744a5cd5ecc74203d6c883d3c5326
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/77/127677/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/test/java/monasca/persister/PersisterApplicationRunner.java', 'src/main/java/monasca/persister/repository/VerticaAlarmRepository.java']",2,2b180de907f1c15fbd934a6b7d52e3d797ed127a,,"import com.fasterxml.jackson.databind.ObjectMapper; import com.fasterxml.jackson.databind.PropertyNamingStrategy; ""insert into MonAlarms.StateHistory (tenant_id, alarm_id, metrics, old_state, new_state, reason, reason_data, time_stamp) values (:tenant_id, :alarm_id, :old_state, :new_state, :reason, :reason_data, :time_stamp)""; private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper(); private final Environment environment; static { OBJECT_MAPPER .setPropertyNamingStrategy(PropertyNamingStrategy.CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES); } try { String timeStamp = simpleDateFormat.format(new Date(message.timestamp * 1000)); batch.add().bind(0, message.tenantId).bind(1, message.alarmId) .bind(2, OBJECT_MAPPER.writeValueAsString(message.metrics)) .bind(3, message.oldState.name()).bind(4, message.newState.name()) .bind(5, message.stateChangeReason).bind(6, ""{}"").bind(7, timeStamp); } catch (Exception e) { logger.error(""Failed to add message to batch %s"", message, e); }"," private final Environment environment; ""insert into MonAlarms.StateHistory (tenant_id, alarm_id, old_state, new_state, reason, reason_data, time_stamp) values (:tenant_id, :alarm_id, :old_state, :new_state, :reason, :reason_data, :time_stamp)""; String timeStamp = simpleDateFormat.format(new Date(message.timestamp * 1000)); batch.add().bind(0, message.tenantId).bind(1, message.alarmId).bind(2, message.oldState.name()) .bind(3, message.newState.name()).bind(4, message.stateChangeReason).bind(5, ""{}"") .bind(6, timeStamp);",42,8
openstack%2Fmanila~master~I07cb223c0f4c7de4018c3c744e6551c1396591be,openstack/manila,master,I07cb223c0f4c7de4018c3c744e6551c1396591be,Release resources in tempest test properly,MERGED,2015-01-19 17:39:45.000000000,2015-01-23 15:20:56.000000000,2015-01-23 15:20:55.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 8851}, {'_account_id': 11878}, {'_account_id': 14232}]","[{'number': 1, 'created': '2015-01-19 17:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3163193bfe59bf8bebe99fadd370f80fa88fa1d8', 'message': ""Release resources in tempest test properly\n\nTempest test 'test_delete_share_server' creates share on fresh share-server.\nIf retry functionality was used and share was created not from first attempt,\nthen this test fails. But it is not the point of test, so need to avoid\nerrors in this case.\n\nChange-Id: I07cb223c0f4c7de4018c3c744e6551c1396591be\nCloses-Bug: #1412525\n""}, {'number': 2, 'created': '2015-01-19 17:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/be64529d49dc9711ba2b9ad78a880f2d21388ba5', 'message': ""Release resources in tempest test properly\n\nTempest test 'test_delete_share_server' creates share on fresh share-server.\nIf retry functionality was used and share was created not from first attempt,\nthen this test fails. But it is not the point of test, so need to avoid\nerrors in this case.\n\nChange-Id: I07cb223c0f4c7de4018c3c744e6551c1396591be\nCloses-Bug: #1412525\n""}, {'number': 3, 'created': '2015-01-19 17:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b410050e16b47f5cf74e47a664c2632f9e7b2ebb', 'message': ""Release resources in tempest test properly\n\nTempest test 'test_delete_share_server' creates share on fresh share-server.\nIf retry functionality was used and share was created not from first attempt,\nthen this test fails. But it is not the point of test, so need to avoid\nerrors in this case.\n\nChange-Id: I07cb223c0f4c7de4018c3c744e6551c1396591be\nCloses-Bug: #1412525\n""}, {'number': 4, 'created': '2015-01-19 19:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b6cf6c75f4f8e6c47151926fdc05061df1c38999', 'message': ""Release resources in tempest test properly\n\nTempest test 'test_delete_share_server' creates share on fresh share-server.\nIf retry functionality was used and share was created not from first attempt,\nthen this test fails. But it is not the point of test, so need to avoid\nerrors in this case.\n\nChange-Id: I07cb223c0f4c7de4018c3c744e6551c1396591be\nCloses-Bug: #1412525\n""}, {'number': 5, 'created': '2015-01-20 07:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c744fe5d8f766bc13d98af2092566520c2f3dfde', 'message': ""Release resources in tempest test properly\n\nTempest test 'test_delete_share_server' creates share on fresh share-server.\nIf retry functionality was used and share was created not from first attempt,\nthen this test fails. But it is not the point of test, so need to avoid\nerrors in this case.\n\nChange-Id: I07cb223c0f4c7de4018c3c744e6551c1396591be\nCloses-Bug: #1412525\n""}, {'number': 6, 'created': '2015-01-20 10:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c9b1891bada383bc4c5eae66aaa190078ed5950f', 'message': ""Release resources in tempest test properly\n\nTempest test 'test_delete_share_server' creates share on fresh share-server.\nIf retry functionality was used and share was created not from first attempt,\nthen this test fails. But it is not the point of test, so need to avoid\nerrors in this case.\n\nChange-Id: I07cb223c0f4c7de4018c3c744e6551c1396591be\nCloses-Bug: #1412525\n""}, {'number': 7, 'created': '2015-01-20 13:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e4f70b4d51f4b796d86e8a20bc25d5e31d038062', 'message': ""Release resources in tempest test properly\n\nTempest test 'test_delete_share_server' creates share on fresh share-server.\nIf retry functionality was used and share was created not from first attempt,\nthen this test fails. But it is not the point of test, so need to avoid\nerrors in this case.\n\nChange-Id: I07cb223c0f4c7de4018c3c744e6551c1396591be\nCloses-Bug: #1412525\n""}, {'number': 8, 'created': '2015-01-21 21:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b867c727eaf2b27755181a38b5fd6ed6d071aa5f', 'message': ""Release resources in tempest test properly\n\nTempest test 'test_delete_share_server' creates share on fresh share-server.\nIf retry functionality was used and share was created not from first attempt,\nthen this test fails. But it is not the point of test, so need to avoid\nerrors in this case.\n\nChange-Id: I07cb223c0f4c7de4018c3c744e6551c1396591be\nCloses-Bug: #1412525\n""}, {'number': 9, 'created': '2015-01-22 17:06:01.000000000', 'files': ['contrib/tempest/tempest/api/share/admin/test_share_servers.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/8bb9fdb482aadeb1339bfb6d29b16384b1a74241', 'message': ""Release resources in tempest test properly\n\nTempest test 'test_delete_share_server' creates share on fresh share-server.\nIf retry functionality was used and share was created not from first attempt,\nthen this test fails. But it is not the point of test, so need to avoid\nerrors in this case.\n\nChange-Id: I07cb223c0f4c7de4018c3c744e6551c1396591be\nCloses-Bug: #1412525\n""}]",0,148323,8bb9fdb482aadeb1339bfb6d29b16384b1a74241,26,6,9,8851,,,0,"Release resources in tempest test properly

Tempest test 'test_delete_share_server' creates share on fresh share-server.
If retry functionality was used and share was created not from first attempt,
then this test fails. But it is not the point of test, so need to avoid
errors in this case.

Change-Id: I07cb223c0f4c7de4018c3c744e6551c1396591be
Closes-Bug: #1412525
",git fetch https://review.opendev.org/openstack/manila refs/changes/23/148323/9 && git format-patch -1 --stdout FETCH_HEAD,['contrib/tempest/tempest/api/share/admin/test_share_servers.py'],1,3163193bfe59bf8bebe99fadd370f80fa88fa1d8,bug/1412525," # List share servers, filtered by share_network_id # There can be more than one share server for share network when retry # was used and share was created successfully not from first time. # So, iterate all share-servers, release all created resources. It will # allow share network to be deleted in cleanup. for serv in servers: # Verify that filtering worked as expected. self.assertEqual(new_sn[""id""], serv[""share_network_id""]) # List shares by share server id params = {""share_server_id"": serv[""id""]} resp, shares = self.shares_client.list_shares_with_detail(params) self.assertIn(int(resp[""status""]), test.HTTP_SUCCESS) for s in shares: self.assertEqual(new_sn[""id""], s[""share_network_id""]) self.assertTrue(any(share[""id""] == s[""id""] for s in shares)) # Delete shares, so we will have share server without shares for s in shares: self.shares_client.delete_share(s[""id""]) # Wait for shares deletion for s in shares: self.shares_client.wait_for_resource_deletion(share_id=s[""id""]) # List shares by share server id, we expect empty list params = {""share_server_id"": serv[""id""]} resp, empty_list = self.shares_client.list_shares_with_detail(params) self.assertIn(int(resp[""status""]), test.HTTP_SUCCESS) self.assertEqual(len(empty_list), 0) # Delete share server resp, __ = self.shares_client.delete_share_server(servers[0][""id""]) self.assertIn(int(resp[""status""]), test.HTTP_SUCCESS) # Wait for share server deletion self.shares_client.wait_for_resource_deletion(server_id=serv[""id""])"," # List share servers, filtered by share_network_id, # list with only one item is expected - our share server. self.assertEqual(len(servers), 1) # List shares by share server id, we expect only one share params = {""share_server_id"": servers[0][""id""]} resp, shares = self.shares_client.list_shares_with_detail(params) self.assertIn(int(resp[""status""]), test.HTTP_SUCCESS) self.assertEqual(len(shares), 1) self.assertEqual(shares[0][""id""], share[""id""]) # Delete share, so we will have share server without shares self.shares_client.delete_share(share[""id""]) # Wait for share deletion self.shares_client.wait_for_resource_deletion(share_id=share[""id""]) # List shares by share server id, we expect empty list params = {""share_server_id"": servers[0][""id""]} resp, empty_list = self.shares_client.list_shares_with_detail(params) self.assertIn(int(resp[""status""]), test.HTTP_SUCCESS) self.assertEqual(len(empty_list), 0) # Delete share server resp, server = self.shares_client.delete_share_server(servers[0][""id""]) self.assertIn(int(resp[""status""]), test.HTTP_SUCCESS) # Wait for share server deletion self.shares_client.wait_for_resource_deletion( server_id=servers[0][""id""])",32,24
openstack%2Fpython-muranoclient~master~Iedf149bdf1587e3a30d25bced50563efcce5035f,openstack/python-muranoclient,master,Iedf149bdf1587e3a30d25bced50563efcce5035f,Remove obsolete checks from tox.ini,MERGED,2014-12-29 18:15:53.000000000,2015-01-23 15:18:12.000000000,2015-01-23 15:18:11.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7600}]","[{'number': 1, 'created': '2014-12-29 18:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/cd9dd8b69d2091cf06add90426936a5edb86c8bc', 'message': 'Update tox.ini\n\n* Deprecate py26 support\n* Remove obsolete checks\n\nChange-Id: Iedf149bdf1587e3a30d25bced50563efcce5035f\n'}, {'number': 2, 'created': '2014-12-30 07:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/38fe7ab7432adac5a007513c71f704d2eeb50325', 'message': 'Update tox.ini\n\n* Deprecate py26 support\n* Remove obsolete checks\n\nChange-Id: Iedf149bdf1587e3a30d25bced50563efcce5035f\n'}, {'number': 3, 'created': '2014-12-30 07:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/cddbf0d7e75540487739aaae46d9864f5b7ab3c6', 'message': 'Update tox.ini\n\n* Deprecate py26 support\n* Remove obsolete checks\n\nChange-Id: Iedf149bdf1587e3a30d25bced50563efcce5035f\n'}, {'number': 4, 'created': '2014-12-30 09:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/541e286aa45edaf81b7c774bd22e1cc1a4ecdfa1', 'message': 'Update tox.ini\n\n* Deprecate py26 support\n* Remove obsolete checks\n\nChange-Id: Iedf149bdf1587e3a30d25bced50563efcce5035f\n'}, {'number': 5, 'created': '2015-01-20 08:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/ef6fad1de5d28cc04d7358efd66df5c0abae03e8', 'message': 'Update tox.ini\n\n* Deprecate py26 support\n* Remove obsolete checks\n\nChange-Id: Iedf149bdf1587e3a30d25bced50563efcce5035f\n'}, {'number': 6, 'created': '2015-01-20 12:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/284a907c975368b391bb617925cf071ea75c7700', 'message': 'Update tox.ini\n\n* Deprecate py26 support\n* Remove obsolete checks\n\nChange-Id: Iedf149bdf1587e3a30d25bced50563efcce5035f\n'}, {'number': 7, 'created': '2015-01-22 15:15:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/17e5148c22c83bf39973955931dc6e51aedf374e', 'message': 'Remove obsolete checks from tox.ini\n\nChange-Id: Iedf149bdf1587e3a30d25bced50563efcce5035f\n'}]",1,144339,17e5148c22c83bf39973955931dc6e51aedf374e,22,4,7,7549,,,0,"Remove obsolete checks from tox.ini

Change-Id: Iedf149bdf1587e3a30d25bced50563efcce5035f
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/39/144339/5 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cd9dd8b69d2091cf06add90426936a5edb86c8bc,use_oslo,"envlist = py27,pep8","envlist = py26,py27,pep8[tox:jenkins] downloadcache = ~/cache/pip [testenv:jenkins26] basepython = python2.6 setenv = NOSE_WITH_XUNIT=1 deps = file://{toxinidir}/.cache.bundle [testenv:jenkins27] basepython = python2.7 setenv = NOSE_WITH_XUNIT=1 deps = file://{toxinidir}/.cache.bundle [testenv:jenkinscover] deps = file://{toxinidir}/.cache.bundle setenv = NOSE_WITH_XUNIT=1 commands = nosetests --cover-erase --cover-package=muranoclient --with-xcoverage [testenv:jenkinsvenv] deps = file://{toxinidir}/.cache.bundle setenv = NOSE_WITH_XUNIT=1 commands = {posargs} ",1,24
openstack%2Ffuel-web~stable%2F6.0~I0d1912da504df959e36c316ed09effaf1bcb682f,openstack/fuel-web,stable/6.0,I0d1912da504df959e36c316ed09effaf1bcb682f,Fix cloud-init metadata re-applying on every single boot,MERGED,2015-01-22 12:41:03.000000000,2015-01-23 15:15:53.000000000,2015-01-23 15:15:52.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8392}, {'_account_id': 8907}, {'_account_id': 8931}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 11577}]","[{'number': 1, 'created': '2015-01-22 12:41:03.000000000', 'files': ['fuel_agent/cloud-init-templates/boothook_ubuntu.jinja2', 'fuel_agent/cloud-init-templates/meta-data_centos.jinja2', 'fuel_agent/cloud-init-templates/meta-data_ubuntu.jinja2', 'fuel_agent/cloud-init-templates/boothook_centos.jinja2'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/393195b11567047acee1f5ab808c531655cec79b', 'message': 'Fix cloud-init metadata re-applying on every single boot\n\nThe actual reason is that cloud-init re-applies its metadata again\nand again. Wiping out all the metadata from datasource resolves\nthe issue.\n\nChange-Id: I0d1912da504df959e36c316ed09effaf1bcb682f\nCloses-Bug: #1398207\n'}]",0,149237,393195b11567047acee1f5ab808c531655cec79b,12,8,1,8003,,,0,"Fix cloud-init metadata re-applying on every single boot

The actual reason is that cloud-init re-applies its metadata again
and again. Wiping out all the metadata from datasource resolves
the issue.

Change-Id: I0d1912da504df959e36c316ed09effaf1bcb682f
Closes-Bug: #1398207
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/37/149237/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_agent/cloud-init-templates/boothook_ubuntu.jinja2', 'fuel_agent/cloud-init-templates/meta-data_centos.jinja2', 'fuel_agent/cloud-init-templates/meta-data_ubuntu.jinja2', 'fuel_agent/cloud-init-templates/boothook_centos.jinja2']",4,393195b11567047acee1f5ab808c531655cec79b,bug/1398207,"#NOTE: it will be broken, once ifconfig (net-tools) 2.0 or higher version of package be used INSTALL_IF=$(ifconfig -a | grep ""$ADMIN_MAC"" | head -1 | cut -d' ' -f1)","INSTALL_IF=$(ifconfig | grep ""$ADMIN_MAC"" | head -1 | cut -d' ' -f1)",26,21
openstack%2Fmanila~master~I3cbeb49c26f5f24152b42b649ce3bc75451964ef,openstack/manila,master,I3cbeb49c26f5f24152b42b649ce3bc75451964ef,glusterfs: add infrastructure to accommodate NAS helpers,MERGED,2014-09-28 16:20:52.000000000,2015-01-23 15:12:32.000000000,2015-01-23 15:12:31.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 8056}, {'_account_id': 8851}, {'_account_id': 9521}, {'_account_id': 11878}]","[{'number': 1, 'created': '2014-09-28 16:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3e2d3726240c7bf3b2383e87091cb7d92144c2fa', 'message': 'glusterfs: add infrastructure to accomodate NAS helpers\n\nPartially implements blueprint gateway-mediated-with-ganesha\n\nChange-Id: I3cbeb49c26f5f24152b42b649ce3bc75451964ef\n'}, {'number': 2, 'created': '2014-10-15 05:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8d09127dad59679d1b91f82d40d94e3f2121f868', 'message': ""glusterfs: add infrastructure to accommodate NAS helpers\n\n- Internal API change: retire GlusterAddress.make_gluster_args()\n  in favor of GlusterAddress.make_gluster_call().\n- Rationale: to apply a more correct approach to remote execution.\n- In details:\n  - make_gluster_args factilitated remote execution by\n    prefixing the arguments with 'ssh';\n  - make_gluster_call's remote execution is based on\n    processutils.ssh_execute.\n\nPartially implements blueprint gateway-mediated-with-ganesha\n\nChange-Id: I3cbeb49c26f5f24152b42b649ce3bc75451964ef\n""}, {'number': 3, 'created': '2014-10-15 07:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/62142e81b4f8fa3b743142347803be009ae2135c', 'message': ""glusterfs: add infrastructure to accommodate NAS helpers\n\n- Internal API change: retire GlusterAddress.make_gluster_args()\n  in favor of GlusterAddress.make_gluster_call().\n- Rationale: to apply a more correct approach to remote execution.\n- In details:\n  - make_gluster_args factilitated remote execution by\n    prefixing the arguments with 'ssh';\n  - make_gluster_call's remote execution is based on\n    processutils.ssh_execute.\n\nPartially implements blueprint gateway-mediated-with-ganesha\n\nChange-Id: I3cbeb49c26f5f24152b42b649ce3bc75451964ef\n""}, {'number': 4, 'created': '2014-11-22 01:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ca34f4a68ffac8d2d62a861de5841fae98b75eed', 'message': ""glusterfs: add infrastructure to accommodate NAS helpers\n\n- Internal API change: retire GlusterAddress.make_gluster_args()\n  in favor of GlusterAddress.make_gluster_call().\n- Rationale: to apply a more correct approach to remote execution.\n- In details:\n  - make_gluster_args factilitated remote execution by\n    prefixing the arguments with 'ssh';\n  - make_gluster_call's remote execution is based on\n    processutils.ssh_execute.\n\nPartially implements blueprint gateway-mediated-with-ganesha\n\nChange-Id: I3cbeb49c26f5f24152b42b649ce3bc75451964ef\n""}, {'number': 5, 'created': '2014-11-27 12:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f40207327557fc44713f82ed7b26dcafd5972833', 'message': ""glusterfs: add infrastructure to accommodate NAS helpers\n\n- Internal API change: retire GlusterAddress.make_gluster_args()\n  in favor of GlusterAddress.make_gluster_call().\n- Rationale: to apply a more correct approach to remote execution.\n- In details:\n  - make_gluster_args factilitated remote execution by\n    prefixing the arguments with 'ssh';\n  - make_gluster_call's remote execution is based on\n    processutils.ssh_execute.\n\nPartially implements blueprint gateway-mediated-with-ganesha\n\nChange-Id: I3cbeb49c26f5f24152b42b649ce3bc75451964ef\n""}, {'number': 6, 'created': '2014-12-01 01:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/218ccc5ea958cecc22b13461aad2f234f7713bf2', 'message': ""glusterfs: add infrastructure to accommodate NAS helpers\n\n- Internal API change: retire GlusterAddress.make_gluster_args()\n  in favor of GlusterAddress.make_gluster_call().\n- Rationale: to apply a more correct approach to remote execution.\n- In details:\n  - make_gluster_args factilitated remote execution by\n    prefixing the arguments with 'ssh';\n  - make_gluster_call's remote execution is based on\n    processutils.ssh_execute.\n\nPartially implements blueprint gateway-mediated-with-ganesha\n\nChange-Id: I3cbeb49c26f5f24152b42b649ce3bc75451964ef\n""}, {'number': 7, 'created': '2014-12-03 03:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d1d0cbb3871d8e3f6d17bbaef7cfe1c85f3c3751', 'message': ""glusterfs: add infrastructure to accommodate NAS helpers\n\n- Internal API change: retire GlusterAddress.make_gluster_args()\n  in favor of GlusterAddress.make_gluster_call().\n- Rationale: to apply a more correct approach to remote execution.\n- In details:\n  - make_gluster_args factilitated remote execution by\n    prefixing the arguments with 'ssh';\n  - make_gluster_call's remote execution is based on\n    processutils.ssh_execute.\n\nPartially implements blueprint gateway-mediated-with-ganesha\n\nChange-Id: I3cbeb49c26f5f24152b42b649ce3bc75451964ef\n""}, {'number': 8, 'created': '2014-12-09 02:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/41dbc381f712875a9849cf838b3d3c56e55b23a7', 'message': ""glusterfs: add infrastructure to accommodate NAS helpers\n\n- Internal API change: retire GlusterAddress.make_gluster_args()\n  in favor of GlusterAddress.make_gluster_call().\n- Rationale: to apply a more correct approach to remote execution.\n- In details:\n  - make_gluster_args factilitated remote execution by\n    prefixing the arguments with 'ssh';\n  - make_gluster_call's remote execution is based on\n    processutils.ssh_execute.\n\nPartially implements blueprint gateway-mediated-with-ganesha\n\nChange-Id: I3cbeb49c26f5f24152b42b649ce3bc75451964ef\n""}, {'number': 9, 'created': '2014-12-16 04:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0ed6221ad1d5ad44d9d41d7523eb12e68aff296c', 'message': ""glusterfs: add infrastructure to accommodate NAS helpers\n\n- Internal API change: retire GlusterAddress.make_gluster_args()\n  in favor of GlusterAddress.make_gluster_call().\n- Rationale: to apply a more correct approach to remote execution.\n- In details:\n  - make_gluster_args factilitated remote execution by\n    prefixing the arguments with 'ssh';\n  - make_gluster_call's remote execution is based on\n    processutils.ssh_execute.\n\nPartially implements blueprint gateway-mediated-with-ganesha\n\nChange-Id: I3cbeb49c26f5f24152b42b649ce3bc75451964ef\n""}, {'number': 10, 'created': '2014-12-16 08:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ddd7d4d53a8a673c9fadcfc583c0181306865c09', 'message': ""glusterfs: add infrastructure to accommodate NAS helpers\n\n- Internal API change: retire GlusterAddress.make_gluster_args()\n  in favor of GlusterAddress.make_gluster_call().\n- Rationale: to apply a more correct approach to remote execution.\n- In details:\n  - make_gluster_args factilitated remote execution by\n    prefixing the arguments with 'ssh';\n  - make_gluster_call's remote execution is based on\n    processutils.ssh_execute.\n\nPartially implements blueprint gateway-mediated-with-ganesha\n\nChange-Id: I3cbeb49c26f5f24152b42b649ce3bc75451964ef\n""}, {'number': 11, 'created': '2015-01-10 13:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e96c3dfe09b0b4c4804d5bcf72518a172d8750c9', 'message': ""glusterfs: add infrastructure to accommodate NAS helpers\n\n- Refactor the main driver class, GlusterFSShareDriver, to make it\n  pluggable with different NAS helpers.\n\n   - Add GlusterNFS helper class to manage shares served by Gluster-NFS\n     server. The management of these share was earlier done within the\n     main driver class.\n\n- Enhance the methods of the GlusterAddress class that would be used\n  by the main driver class and the helper classes. Rename the\n  GlusterAddress class to GlusterManager class. This class would\n  contain the methods to interface with the backend GlusterFS volumes.\n\n   - Retire GlusterAddress.make_gluster_args() in favor of\n     GlusterManager.make_gluster_call(). The make_gluster_call() method\n     implements a more correct approach to remote execution. It's\n     remote execution is based on processutils.ssh_execute. The\n     make_gluster_args() method that it replaces facilitated remote\n     execution by prefixing arguments with 'ssh'.\n\n   - Move the interface used to fetch the value of an option set on a\n     GlusterFS volume, from the main driver class to the GlusterManager\n     class.\n\nPartially implements blueprint gateway-mediated-with-ganesha\n\nChange-Id: I3cbeb49c26f5f24152b42b649ce3bc75451964ef\n""}, {'number': 12, 'created': '2015-01-12 10:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bd320a9c08f58154bc2ade1d09e9fb8ca355b3e8', 'message': ""glusterfs: add infrastructure to accommodate NAS helpers\n\n- Refactor the main driver class, GlusterFSShareDriver, to make it\n  pluggable with different NAS helpers.\n\n   - Add GlusterNFS helper class to manage shares served by Gluster-NFS\n     server. The management of these share was earlier done within the\n     main driver class.\n\n- Enhance the methods of the GlusterAddress class that would be used\n  by the main driver class and the helper classes. Rename the\n  GlusterAddress class to GlusterManager class. This class would\n  contain the methods to interface with the backend GlusterFS volumes.\n\n   - Retire GlusterAddress.make_gluster_args() in favor of\n     GlusterManager.make_gluster_call(). The make_gluster_call() method\n     implements a more correct approach to remote execution. It's\n     remote execution is based on processutils.ssh_execute. The\n     make_gluster_args() method that it replaces facilitated remote\n     execution by prefixing arguments with 'ssh'.\n\n   - Move the interface used to fetch the value of an option set on a\n     GlusterFS volume, from the main driver class to the GlusterManager\n     class.\n\nPartially implements blueprint gateway-mediated-with-ganesha\n\nChange-Id: I3cbeb49c26f5f24152b42b649ce3bc75451964ef\n""}, {'number': 13, 'created': '2015-01-16 02:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b76c35d21b3db6c76794acf4ade120bf374e9e67', 'message': ""glusterfs: add infrastructure to accommodate NAS helpers\n\n- Refactor the main driver class, GlusterFSShareDriver, to make it\n  pluggable with different NAS helpers.\n\n   - Add GlusterNFS helper class to manage shares served by Gluster-NFS\n     server. The management of these share was earlier done within the\n     main driver class.\n\n- Enhance the methods of the GlusterAddress class that would be used\n  by the main driver class and the helper classes. Rename the\n  GlusterAddress class to GlusterManager class. This class would\n  contain the methods to interface with the backend GlusterFS volumes.\n\n   - Retire GlusterAddress.make_gluster_args() in favor of\n     GlusterManager.make_gluster_call(). The make_gluster_call() method\n     implements a more correct approach to remote execution. It's\n     remote execution is based on processutils.ssh_execute. The\n     make_gluster_args() method that it replaces facilitated remote\n     execution by prefixing arguments with 'ssh'.\n\n   - Move the interface used to fetch the value of an option set on a\n     GlusterFS volume, from the main driver class to the GlusterManager\n     class.\n\nPartially implements blueprint gateway-mediated-with-ganesha\n\nChange-Id: I3cbeb49c26f5f24152b42b649ce3bc75451964ef\n""}, {'number': 14, 'created': '2015-01-23 00:59:48.000000000', 'files': ['manila/share/drivers/glusterfs_native.py', 'manila/tests/share/drivers/test_glusterfs_native.py', 'manila/tests/share/drivers/test_glusterfs.py', 'manila/share/drivers/glusterfs.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/ca294a7449601d6f4763fccdb0022fb03a2c82f6', 'message': ""glusterfs: add infrastructure to accommodate NAS helpers\n\n- Refactor the main driver class, GlusterFSShareDriver, to make it\n  pluggable with different NAS helpers.\n\n   - Add GlusterNFS helper class to manage shares served by Gluster-NFS\n     server. The management of these share was earlier done within the\n     main driver class.\n\n- Enhance the methods of the GlusterAddress class that would be used\n  by the main driver class and the helper classes. Rename the\n  GlusterAddress class to GlusterManager class. This class would\n  contain the methods to interface with the backend GlusterFS volumes.\n\n   - Retire GlusterAddress.make_gluster_args() in favor of\n     GlusterManager.make_gluster_call(). The make_gluster_call() method\n     implements a more correct approach to remote execution. It's\n     remote execution is based on processutils.ssh_execute. The\n     make_gluster_args() method that it replaces facilitated remote\n     execution by prefixing arguments with 'ssh'.\n\n   - Move the interface used to fetch the value of an option set on a\n     GlusterFS volume, from the main driver class to the GlusterManager\n     class.\n\nPartially implements blueprint gateway-mediated-with-ganesha\n\nChange-Id: I3cbeb49c26f5f24152b42b649ce3bc75451964ef\n""}]",54,124636,ca294a7449601d6f4763fccdb0022fb03a2c82f6,61,7,14,9521,,,0,"glusterfs: add infrastructure to accommodate NAS helpers

- Refactor the main driver class, GlusterFSShareDriver, to make it
  pluggable with different NAS helpers.

   - Add GlusterNFS helper class to manage shares served by Gluster-NFS
     server. The management of these share was earlier done within the
     main driver class.

- Enhance the methods of the GlusterAddress class that would be used
  by the main driver class and the helper classes. Rename the
  GlusterAddress class to GlusterManager class. This class would
  contain the methods to interface with the backend GlusterFS volumes.

   - Retire GlusterAddress.make_gluster_args() in favor of
     GlusterManager.make_gluster_call(). The make_gluster_call() method
     implements a more correct approach to remote execution. It's
     remote execution is based on processutils.ssh_execute. The
     make_gluster_args() method that it replaces facilitated remote
     execution by prefixing arguments with 'ssh'.

   - Move the interface used to fetch the value of an option set on a
     GlusterFS volume, from the main driver class to the GlusterManager
     class.

Partially implements blueprint gateway-mediated-with-ganesha

Change-Id: I3cbeb49c26f5f24152b42b649ce3bc75451964ef
",git fetch https://review.opendev.org/openstack/manila refs/changes/36/124636/12 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/drivers/glusterfs.py'],1,3e2d3726240c7bf3b2383e87091cb7d92144c2fa,bp/gateway-mediated-with-ganesha,"import sysfrom manila.share.drivers.ganesha import GaneshaNASHelper from manila.share.drivers.ganesha import NASHelperBase from manila.share.drivers.ganesha import utils as ganeshautils cfg.StrOpt('glusterfs_nfs_server_type', default='Gluster', help='Type of NFS server that mediate access to the Gluster ' 'volumes.'), def make_gluster_call(self, execf): if self.remote_user: wexecf = ganeshautils.SSHExecutor(self.host, 22, None, self.remote_user) else: wexecf = ganeshautils.RootExecutor(execf) return lambda *args, **kwargs: wexecf(*(('gluster',) + args), **kwargs) self._helpers = {} """"""Initializes protocol-specific NAS drivers."""""" # The below seems crude. Accomodate CIFS helper as well? nfs_helper = getattr( sys.modules[__name__], self.configuration.glusterfs_nfs_server_type + 'NFSHelper') self._helpers['NFS'] = nfs_helper(self._execute, self.configuration, gluster_address=self.gluster_address) for helper in self._helpers.values(): helper.init_helper() def _get_helper(self, share): if share['share_proto'].startswith('NFS'): return self._helpers['NFS'] elif share['share_proto'].startswith('CIFS'): # Late notification. # Notify error while creating a CIFS share itself. raise NotImplementedError() else: raise exception.InvalidShare(reason='Wrong share type') def allow_access(self, context, share, access, share_server=None): """"""Allow access to the share."""""" self._get_helper(share).allow_access('/', share, access) def deny_access(self, context, share, access, share_server=None): """"""Deny access to the share."""""" self._get_helper(share).deny_access('/', share, access) class GlusterNFSHelper(NASHelperBase): def __init__(self, execute, config_object, **kwargs): self.gluster_address = kwargs.pop('gluster_address') super(GlusterNFSHelper, self).__init__(execute, config_object, **kwargs) self.gluster_call = self.gluster_address.make_gluster_call( self._execute) def init_helper(self): # exporting the whole volume must be prohibited # to not to defeat access control try: self.gluster_call('volume', 'set', self.gluster_address.volume, NFS_EXPORT_VOL, 'off') except exception.ProcessExecutionError as exc: LOG.error(_(""Error in gluster volume set: %s"") % exc.stderr) raise def _get_export_dir_dict(self): """"""Get the export entries of shares in the GlusterFS volume."""""" try: out, err = self.gluster_call( '--xml', 'volume', 'info', self.gluster_address.volume ) except exception.ProcessExecutionError as exc: LOG.error(_(""Error retrieving volume info: %s"") % exc.stderr) raise if not out: raise exception.GlusterfsException( 'Empty answer from gluster command' ) vix = etree.fromstring(out) if int(vix.find('./volInfo/volumes/count').text) != 1: raise exception.InvalidShare('Volume name ambiguity') export_dir = None for o, v in \ ((e.find(a).text for a in ('name', 'value')) for e in vix.findall("".//option"")): if o == NFS_EXPORT_DIR: export_dir = v break edh = {} if export_dir: # see # https://github.com/gluster/glusterfs # /blob/aa19909/xlators/nfs/server/src/nfs.c#L1582 # regarding the format of nfs.export-dir edl = export_dir.split(',') # parsing export_dir into a dict of {dir: [hostpec,..]..} # format r = re.compile('\A/(.*)\((.*)\)\Z') for ed in edl: d, e = r.match(ed).groups() edh[d] = e.split('|') return edh def _manage_access(self, share_name, access_type, access_to, cbk): if access_type != 'ip': if cbk(export_dir_dict, share_name, access_to): args = ('volume', 'set', self.gluster_address.volume, NFS_EXPORT_DIR, export_dir_new) else: args = ('volume', 'reset', self.gluster_address.volume, NFS_EXPORT_DIR) try: self.gluster_call(*args) def allow_access(self, base, share, access): self._manage_access(share['name'], access['access_type'], access['access_to'], cbk) def deny_access(self, base, share, access): self._manage_access(share['name'], access['access_type'], access['access_to'], cbk)","import pipes def make_gluster_args(self, *args): args = ('gluster',) + args kw = {} if self.remote_user: args = ('ssh', '@'.join([self.remote_user, self.host]), ' '.join(pipes.quote(a) for a in args)) else: kw['run_as_root'] = True return args, kw self._helpers = None # exporting the whole volume must be prohibited # to not to defeat access control args, kw = self.gluster_address.make_gluster_args( 'volume', 'set', self.gluster_address.volume, NFS_EXPORT_VOL, 'off') try: self._execute(*args, **kw) except exception.ProcessExecutionError as exc: LOG.error(_(""Error in gluster volume set: %s""), exc.stderr) raise def _get_export_dir_dict(self): """"""Get the export entries of shares in the GlusterFS volume."""""" try: args, kw = self.gluster_address.make_gluster_args( '--xml', 'volume', 'info', self.gluster_address.volume ) out, err = self._execute(*args, **kw) except exception.ProcessExecutionError as exc: LOG.error(_(""Error retrieving volume info: %s""), exc.stderr) raise if not out: raise exception.GlusterfsException( 'Empty answer from gluster command' ) vix = etree.fromstring(out) if int(vix.find('./volInfo/volumes/count').text) != 1: raise exception.InvalidShare('Volume name ambiguity') export_dir = None for o, v in \ ((e.find(a).text for a in ('name', 'value')) for e in vix.findall("".//option"")): if o == NFS_EXPORT_DIR: export_dir = v break edh = {} if export_dir: # see # https://github.com/gluster/glusterfs # /blob/aa19909/xlators/nfs/server/src/nfs.c#L1582 # regarding the format of nfs.export-dir edl = export_dir.split(',') # parsing export_dir into a dict of {dir: [hostpec,..]..} # format r = re.compile('\A/(.*)\((.*)\)\Z') for ed in edl: d, e = r.match(ed).groups() edh[d] = e.split('|') return edh def _manage_access(self, context, share, access, cbk): if access['access_type'] != 'ip': if cbk(export_dir_dict, share['name'], access['access_to']): args, kw = self.gluster_address.make_gluster_args( 'volume', 'set', self.gluster_address.volume, NFS_EXPORT_DIR, export_dir_new) else: args, kw = self.gluster_address.make_gluster_args( 'volume', 'reset', self.gluster_address.volume, NFS_EXPORT_DIR) try: self._execute(*args, **kw) def allow_access(self, context, share, access, share_server=None): self._manage_access(context, share, access, cbk) def deny_access(self, context, share, access, share_server=None): self._manage_access(context, share, access, cbk)",120,77
openstack%2Fpycadf~master~I92df0ba359d5bcf11331518ca70222f3cadf5d8f,openstack/pycadf,master,I92df0ba359d5bcf11331518ca70222f3cadf5d8f,Updated from global requirements,MERGED,2015-01-23 04:37:54.000000000,2015-01-23 15:10:44.000000000,2015-01-23 15:10:43.000000000,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 6537}]","[{'number': 1, 'created': '2015-01-23 04:37:54.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/84544aade7a0abd7681c6aaf8e8a7f9d7b730956', 'message': 'Updated from global requirements\n\nChange-Id: I92df0ba359d5bcf11331518ca70222f3cadf5d8f\n'}]",0,149481,84544aade7a0abd7681c6aaf8e8a7f9d7b730956,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I92df0ba359d5bcf11331518ca70222f3cadf5d8f
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/81/149481/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,84544aade7a0abd7681c6aaf8e8a7f9d7b730956,openstack/requirements,oslo.i18n>=1.3.0 # Apache-2.0,oslo.i18n>=1.0.0 # Apache-2.0,1,1
openstack%2Fmanila~master~I212ddf9f0b4b50d62970043405ea3cb59b83f03b,openstack/manila,master,I212ddf9f0b4b50d62970043405ea3cb59b83f03b,Add doc for Huawei driver,MERGED,2015-01-12 07:44:38.000000000,2015-01-23 15:07:41.000000000,2015-01-23 15:07:39.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 6491}, {'_account_id': 8851}, {'_account_id': 11878}, {'_account_id': 13203}]","[{'number': 1, 'created': '2015-01-12 07:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/50ae958ab95adc12826e810a56f3018346256863', 'message': 'Add doc for Huawei driver\n\nAdd doc for Huawei driver with descriptions on its requirements,\nlimitations, and configuration instructions.\n\nChange-Id: I212ddf9f0b4b50d62970043405ea3cb59b83f03b\n'}, {'number': 2, 'created': '2015-01-12 09:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3d6a3d45478b4baedd1197ce8e6f3a866f83ac1a', 'message': 'Add doc for Huawei driver\n\nAdd doc for Huawei driver with descriptions on its requirements,\nlimitations, and configuration instructions.\n\nChange-Id: I212ddf9f0b4b50d62970043405ea3cb59b83f03b\n'}, {'number': 3, 'created': '2015-01-13 06:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7f4e0e842209e72e378e2409f8f882bb04dba304', 'message': 'Add doc for Huawei driver\n\nAdd doc for Huawei driver with descriptions on its requirements,\nlimitations, and configuration instructions.\n\nChange-Id: I212ddf9f0b4b50d62970043405ea3cb59b83f03b\n'}, {'number': 4, 'created': '2015-01-13 09:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a480c2449703ffc49094eb73c55b6285d74fba33', 'message': 'Add doc for Huawei driver\n\nAdd doc for Huawei driver with descriptions on its requirements,\nlimitations, and configuration instructions.\n\nChange-Id: I212ddf9f0b4b50d62970043405ea3cb59b83f03b\n'}, {'number': 5, 'created': '2015-01-14 08:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fb536fb0a02a5dcc606b2d820a9c176342cbd570', 'message': 'Add doc for Huawei driver\n\nAdd doc for Huawei driver with descriptions on its requirements,\nlimitations, and configuration instructions.\n\nChange-Id: I212ddf9f0b4b50d62970043405ea3cb59b83f03b\n'}, {'number': 6, 'created': '2015-01-15 09:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/26d350fcc17c9f8800b99b266508cb5e7b8d1d6d', 'message': 'Add doc for Huawei driver\n\nAdd doc for Huawei driver with descriptions on its requirements,\nlimitations, and configuration instructions.\n\nChange-Id: I212ddf9f0b4b50d62970043405ea3cb59b83f03b\n'}, {'number': 7, 'created': '2015-01-16 09:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/abc64f8502fe23f766486aa1d697902542433bd2', 'message': 'Add doc for Huawei driver\n\nAdd doc for Huawei driver with descriptions on its requirements,\nlimitations, and configuration instructions.\n\nChange-Id: I212ddf9f0b4b50d62970043405ea3cb59b83f03b\n'}, {'number': 8, 'created': '2015-01-19 08:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9462f0752265de10acc9c9d0695c1e9e78992006', 'message': 'Add doc for Huawei driver\n\nAdd doc for Huawei driver with descriptions on its requirements,\nlimitations, and configuration instructions.\n\nChange-Id: I212ddf9f0b4b50d62970043405ea3cb59b83f03b\n'}, {'number': 9, 'created': '2015-01-20 11:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8c0854a95036ac8672337dc6c53aea26707179e1', 'message': 'Add doc for Huawei driver\n\nAdd doc for Huawei driver with descriptions on its requirements,\nlimitations, and configuration instructions.\n\nChange-Id: I212ddf9f0b4b50d62970043405ea3cb59b83f03b\n'}, {'number': 10, 'created': '2015-01-21 02:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b4c783f0dce155f21949079b468b52f9b69251c3', 'message': 'Add doc for Huawei driver\n\nAdd doc for Huawei driver with descriptions on its requirements,\nlimitations, and configuration instructions.\n\nChange-Id: I212ddf9f0b4b50d62970043405ea3cb59b83f03b\n'}, {'number': 11, 'created': '2015-01-21 09:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/316262b9fcaf6f8a02f952c9f33196f8688f7a75', 'message': 'Add doc for Huawei driver\n\nAdd doc for Huawei driver with descriptions on its requirements,\nlimitations, and configuration instructions.\n\nChange-Id: I212ddf9f0b4b50d62970043405ea3cb59b83f03b\n'}, {'number': 12, 'created': '2015-01-22 09:15:06.000000000', 'files': ['doc/source/devref/huawei_nas_driver.rst', 'doc/source/devref/index.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/9e9e7feb71ed217a502c5c45fb79862a2221dbb8', 'message': 'Add doc for Huawei driver\n\nAdd doc for Huawei driver with descriptions on its requirements,\nlimitations, and configuration instructions.\n\nChange-Id: I212ddf9f0b4b50d62970043405ea3cb59b83f03b\n'}]",71,146389,9e9e7feb71ed217a502c5c45fb79862a2221dbb8,56,6,12,13203,,,0,"Add doc for Huawei driver

Add doc for Huawei driver with descriptions on its requirements,
limitations, and configuration instructions.

Change-Id: I212ddf9f0b4b50d62970043405ea3cb59b83f03b
",git fetch https://review.opendev.org/openstack/manila refs/changes/89/146389/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/huawei_nas_driver.rst'],1,50ae958ab95adc12826e810a56f3018346256863,huawei-nas-docs,".. Copyright (c) 2014 Huawei Technologies Co., Ltd. All Rights Reserved. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. Huawei Driver ============= Manila Storage Driver is a plug-in that is deployed on the OpenStack Manila module. The plug-in can be used to provide functions such as the share and snapshot for virtual machines (VMs) in OpenStack. Manila Storage Driver enables the OceanStor V3 series V300R002 storage system to provide file storage services for OpenStack. Requirements ------------ - the OceanStor V3 series V300R002 storage system. - The following licenses should be activated on V3 for File: * CIFS * NFS * HyperSnap License (for snapshot) Supported Operations -------------------- The following operations will be supported on V3 storage: - Create CIFS/NFS Share - Delete CIFS/NFS Share - Allow CIFS/NFS Share access * Only IP access type is supported for NFS. * Only user access type is supported for CIFS. - Deny CIFS/NFS Share access - Create snapshot - Delete snapshot While the generic driver creates shared filesystems based on Cinder volumes attached to Nova VMs, the VNX driver performs similar operations using the Data Movers on the array. Pre-Configurations on Huawei ---------------------------- 1. In `/etc/manila`, create a driver configuration file. The driver configuration file name must be the same as the manila_huawei_conf_file item in the manila_conf configuration file. 2. Configure Product. Product indicate the storage system type. For the OceanStor V3 series V300R002 storage systems, the driver configuration file is as follows: <?xml version='1.0' encoding='UTF-8'?> <config> <Storage> <Product>V3</Product> <LogicalPortIP>x.x.x.x</LogicalPortIP> <RestURL>https:// x.x.x.x:8088/deviceManager/rest/</RestURL> <UserName>xxxxxxxxx</UserName> <UserPassword>xxxxxxxxx</UserPassword> </Storage> <FILESYSTEM> <AllocType>Thin</AllocType> <StoragePool>xxxxxxxxx</StoragePool> <WaitInterval>3</WaitInterval> <Timeout>60<Timeout/> </FILESYSTEM> </config> Backend Configuration --------------------- 1. Modify the `/etc/manila/manila.conf` Manila configuration file and add share_driver and manila_huawei_conf_file items. Example for configuring a storage system: share_driver = manila.share.drivers.huawei.huawei_nas.HuaweiNasDriver manila_huawei_conf_file = /etc/manila/manila_huawei_conf.xml Example for configuring multiple storage systems: enabled_backends = huawei_manila_1, huawei_manila_2 [huawei_manila_1] share_driver = manila.share.drivers.huawei.huawei_nas.HuaweiNasDriver manila_huawei_conf_file = /etc/manila/manila_huawei_conf_1.xml [huawei_manila_2] share_driver = manila.share.drivers.huawei.huawei_nas.HuaweiNasDriver manila_huawei_conf_file = /etc/manila/manila_huawei_conf_2.xml Restart of manila-share service is needed for the configuration changes to take effect. Restrictions ------------ The Huawei driver has the following restrictions: - Only IP access type is supported for NFS. - Only user access type is supported for CIFS. - Only configure one StoragePool Information in the configuration file. The :mod:`manila.share.drivers.huawei` Module ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ .. automodule:: manila.share.drivers.huawei :noindex: :members: :undoc-members: :show-inheritance: The :mod:`manila.share.drivers.huawei.huawei_nas` Module ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ .. automodule:: manila.share.drivers.huawei.huawei_nas :noindex: :members: :undoc-members: :show-inheritance: ",,133,0
openstack%2Fglance~stable%2Ficehouse~I835eefaeedd8486f4b2d300087186f30e6a1fa61,openstack/glance,stable/icehouse,I835eefaeedd8486f4b2d300087186f30e6a1fa61,Cleanup chunks for deleted image that was 'saving',ABANDONED,2015-01-22 21:22:22.000000000,2015-01-23 15:03:57.000000000,,"[{'_account_id': 3}, {'_account_id': 6159}, {'_account_id': 6549}, {'_account_id': 9751}]","[{'number': 1, 'created': '2015-01-22 21:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d52879afef45181c830caa28aadffa804a567adc', 'message': ""Cleanup chunks for deleted image that was 'saving'\n\nCurrently image data cannot be removed synchronously for an image that\nis in saving state. And when, the upload operation for such an image is\ncompleted the operator configured quota can be exceeded.\nThis patch fixes the issue of left over chunks for an image which was\ndeleted from saving status. However, by the limitation of the design we\ncannot enforce a global quota check for the image in saving status.\nThis change introduces a inconsonance between http response codes of\nv1 and v2 APIs. The status codes which we will now see after the upload\nprocess completes on an image which was deleted mid way are:\n\nv1: 412 Precondition Failed\nv2: 410 Gone\n\nSecurityImpact\nUpgradeImpact\nAPIImpact\n\nCloses-Bug: 1383973\nCloses-Bug: 1398830\nCloses-Bug: 1188532\n\nConflicts:\n\tglance/api/v1/upload_utils.py\n\tglance/api/v2/image_data.py\n\tglance/tests/unit/test_domain_proxy.py\n\tglance/tests/unit/v1/test_api.py\n\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n(cherry picked from commit 0dc8fbb3479a53c5bba8475d14f4c7206904c5ea)\n\nChange-Id: I835eefaeedd8486f4b2d300087186f30e6a1fa61\n""}, {'number': 2, 'created': '2015-01-22 21:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9f5d859ec41a79f2ac99110038d00bcacfa45882', 'message': ""Cleanup chunks for deleted image that was 'saving'\n\nCurrently image data cannot be removed synchronously for an image that\nis in saving state. And when, the upload operation for such an image is\ncompleted the operator configured quota can be exceeded.\nThis patch fixes the issue of left over chunks for an image which was\ndeleted from saving status. However, by the limitation of the design we\ncannot enforce a global quota check for the image in saving status.\nThis change introduces a inconsonance between http response codes of\nv1 and v2 APIs. The status codes which we will now see after the upload\nprocess completes on an image which was deleted mid way are:\n\nv1: 412 Precondition Failed\nv2: 410 Gone\n\nSecurityImpact\nUpgradeImpact\nAPIImpact\n\nCloses-Bug: 1383973\nCloses-Bug: 1398830\nCloses-Bug: 1188532\n\nConflicts:\n        glance/api/v1/upload_utils.py\n        glance/api/v2/image_data.py\n        glance/quota/__init__.py\n        glance/tests/unit/test_domain_proxy.py\n        glance/tests/unit/test_quota.py\n        glance/tests/unit/v1/test_api.py\n\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n(cherry picked from commit 0dc8fbb3479a53c5bba8475d14f4c7206904c5ea)\n\nChange-Id: I835eefaeedd8486f4b2d300087186f30e6a1fa61\n""}, {'number': 3, 'created': '2015-01-22 22:22:27.000000000', 'files': ['glance/api/v2/image_data.py', 'glance/api/authorization.py', 'glance/store/__init__.py', 'glance/tests/unit/v1/test_api.py', 'glance/db/__init__.py', 'glance/api/v1/upload_utils.py', 'glance/tests/unit/test_domain_proxy.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/unit/test_quota.py', 'glance/tests/unit/test_store_image.py', 'glance/tests/unit/test_policy.py', 'glance/api/policy.py', 'glance/notifier.py', 'glance/domain/proxy.py', 'glance/quota/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/a83b0d3fc723cf5cc004f0c44a1bd41218d5438c', 'message': ""Cleanup chunks for deleted image that was 'saving'\n\nCurrently image data cannot be removed synchronously for an image that\nis in saving state. And when, the upload operation for such an image is\ncompleted the operator configured quota can be exceeded.\nThis patch fixes the issue of left over chunks for an image which was\ndeleted from saving status. However, by the limitation of the design we\ncannot enforce a global quota check for the image in saving status.\nThis change introduces a inconsonance between http response codes of\nv1 and v2 APIs. The status codes which we will now see after the upload\nprocess completes on an image which was deleted mid way are:\n\nv1: 412 Precondition Failed\nv2: 410 Gone\n\nSecurityImpact\nUpgradeImpact\nAPIImpact\n\nCloses-Bug: 1383973\nCloses-Bug: 1398830\nCloses-Bug: 1188532\n\nConflicts:\n        glance/api/v1/upload_utils.py\n        glance/api/v2/image_data.py\n        glance/quota/__init__.py\n        glance/tests/unit/test_domain_proxy.py\n        glance/tests/unit/test_quota.py\n        glance/tests/unit/v1/test_api.py\n\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n(cherry picked from commit 0dc8fbb3479a53c5bba8475d14f4c7206904c5ea)\n\nChange-Id: I835eefaeedd8486f4b2d300087186f30e6a1fa61\n""}]",1,149397,a83b0d3fc723cf5cc004f0c44a1bd41218d5438c,13,4,3,2537,,,0,"Cleanup chunks for deleted image that was 'saving'

Currently image data cannot be removed synchronously for an image that
is in saving state. And when, the upload operation for such an image is
completed the operator configured quota can be exceeded.
This patch fixes the issue of left over chunks for an image which was
deleted from saving status. However, by the limitation of the design we
cannot enforce a global quota check for the image in saving status.
This change introduces a inconsonance between http response codes of
v1 and v2 APIs. The status codes which we will now see after the upload
process completes on an image which was deleted mid way are:

v1: 412 Precondition Failed
v2: 410 Gone

SecurityImpact
UpgradeImpact
APIImpact

Closes-Bug: 1383973
Closes-Bug: 1398830
Closes-Bug: 1188532

Conflicts:
        glance/api/v1/upload_utils.py
        glance/api/v2/image_data.py
        glance/quota/__init__.py
        glance/tests/unit/test_domain_proxy.py
        glance/tests/unit/test_quota.py
        glance/tests/unit/v1/test_api.py

Signed-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>
(cherry picked from commit 0dc8fbb3479a53c5bba8475d14f4c7206904c5ea)

Change-Id: I835eefaeedd8486f4b2d300087186f30e6a1fa61
",git fetch https://review.opendev.org/openstack/glance refs/changes/97/149397/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_data.py', 'glance/api/authorization.py', 'glance/store/__init__.py', 'glance/tests/unit/v1/test_api.py', 'glance/db/__init__.py', 'glance/api/v1/upload_utils.py', 'glance/tests/unit/test_domain_proxy.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/unit/test_quota.py', 'glance/tests/unit/test_store_image.py', 'glance/tests/unit/test_policy.py', 'glance/api/policy.py', 'glance/notifier.py', 'glance/domain/proxy.py', 'glance/quota/__init__.py']",15,d52879afef45181c830caa28aadffa804a567adc,bug/1383973," def save(self, image, from_state=None): return super(ImageRepoProxy, self).save(image, from_state=from_state)"," def save(self, image): super(ImageRepoProxy, self).save(image)",95,78
openstack%2Ffuel-web~master~Ieecfdde33387e0577b366f95598a1f63169b2e9c,openstack/fuel-web,master,Ieecfdde33387e0577b366f95598a1f63169b2e9c,Dispatcher,MERGED,2014-12-29 15:50:49.000000000,2015-01-23 15:02:54.000000000,2015-01-23 15:02:54.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 9730}, {'_account_id': 13445}, {'_account_id': 13516}]","[{'number': 1, 'created': '2014-12-29 15:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/78ab46904a067cfc8e963fb12616487f6a0c1462', 'message': 'Dispatcher PoC\n\nImplementation of Dispatcher which can be used to reduce coupling\n\nRelated to blueprint react-router\nRelated to blueprint backbone-to-react\n\nChange-Id: Ieecfdde33387e0577b366f95598a1f63169b2e9c\n'}, {'number': 2, 'created': '2015-01-23 10:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/d1481e060ce67825a62de24dd160beb47cfab5e9', 'message': 'Dispatcher PoC\n\nImplementation of Dispatcher which can be used to reduce coupling\n\nRelated to blueprint react-router\nRelated to blueprint backbone-to-react\n\nChange-Id: Ieecfdde33387e0577b366f95598a1f63169b2e9c\n'}, {'number': 3, 'created': '2015-01-23 11:53:41.000000000', 'files': ['nailgun/static/js/component_mixins.jsx', 'nailgun/static/js/config.js', 'nailgun/static/js/dispatcher.js'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/1e63d98c3b48dd72a456e539655d488f67519e79', 'message': 'Dispatcher\n\nImplementation of Dispatcher pattern which can be used\nto reduce coupling\n\nRelated to blueprint react-router\nRelated to blueprint backbone-to-react\n\nChange-Id: Ieecfdde33387e0577b366f95598a1f63169b2e9c\n'}]",0,144318,1e63d98c3b48dd72a456e539655d488f67519e79,24,8,3,8735,,,0,"Dispatcher

Implementation of Dispatcher pattern which can be used
to reduce coupling

Related to blueprint react-router
Related to blueprint backbone-to-react

Change-Id: Ieecfdde33387e0577b366f95598a1f63169b2e9c
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/18/144318/2 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/static/js/views/dialogs.jsx', 'nailgun/static/js/views/cluster_page.js', 'nailgun/static/js/component_mixins.jsx', 'nailgun/static/js/view_mixins.js', 'nailgun/static/js/config.js', 'nailgun/static/js/dispatcher.js']",6,78ab46904a067cfc8e963fb12616487f6a0c1462,(detached,"/* * Copyright 2015 Mirantis, Inc. * * Licensed under the Apache License, Version 2.0 (the ""License""); you may * not use this file except in compliance with the License. You may obtain * a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * License for the specific language governing permissions and limitations * under the License. **/ define(['underscore', 'backbone'], function(_, Backbone) { 'use strict'; var dispatcher = _.clone(Backbone.Events); _.bindAll(dispatcher); return dispatcher; }); ",,58,8
openstack%2Fneutron~master~Ib64fe5f371f33132eee58fdd550ba47db0a6e62c,openstack/neutron,master,Ib64fe5f371f33132eee58fdd550ba47db0a6e62c,Serialize keepalived notifier scripts,ABANDONED,2014-12-14 13:44:39.000000000,2015-01-23 14:52:54.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 6502}, {'_account_id': 6854}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10692}, {'_account_id': 13051}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-14 13:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b6c59111f5653711c71f6b6254b2cf2b350fae25', 'message': ""Serialize keepalived notifier scripts\n\nkeepalived invokes the Neutron notifier scripts when state change\noccur. However, when keepalived invokes two consecutive state changes\nfor the same router, the scripts may execute commands out of order.\nFor example, keepalived changes the state of an HA router from\nfail to master to standby. It invokes notify_master,\nthen notify_standby.\n\nHowever, from that point, we have no guarantee of ordering.\nWhen the bug manifests, notify_standby writes 'standby' to the\nHA state file, followed by notify_master; Meaning, the order\nof notify script execution does not match the order of state\nfile writing.\n\nThe solution is to use flock when executing the scripts.\nNote that I tried calling flock from inside the scripts in their\ncurrent form (Bash), as well as in a modified Python script,\nbut then you have no guarantee that the scripts will grab the lock\nin the order in which they were executed. Thus the only option\nis to use flock when executing the script itself.\n\nCloses-Bug: #1402010\nChange-Id: Ib64fe5f371f33132eee58fdd550ba47db0a6e62c\n""}, {'number': 2, 'created': '2014-12-14 17:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e679b0237cbeaa6b3b165fc6a14e6bf8c401111a', 'message': ""Serialize keepalived notifier scripts\n\nkeepalived invokes the Neutron notifier scripts when state change\noccur. However, when keepalived invokes two consecutive state changes\nfor the same router, the scripts may execute commands out of order.\nFor example, keepalived changes the state of an HA router from\nfail to master to standby. It invokes notify_master,\nthen notify_standby.\n\nHowever, from that point, we have no guarantee of ordering.\nWhen the bug manifests, notify_standby writes 'standby' to the\nHA state file, followed by notify_master; Meaning, the order\nof notify script execution does not match the order of state\nfile writing.\n\nThe solution is to use flock when executing the scripts.\nNote that I tried calling flock from inside the scripts in their\ncurrent form (Bash), as well as in a modified Python script,\nbut then you have no guarantee that the scripts will grab the lock\nin the order in which they were executed. Thus the only option\nis to use flock when executing the script itself.\n\nCloses-Bug: #1402010\nChange-Id: Ib64fe5f371f33132eee58fdd550ba47db0a6e62c\n""}, {'number': 3, 'created': '2014-12-14 17:10:58.000000000', 'files': ['neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/l3/agent.py', 'neutron/agent/linux/keepalived.py', 'neutron/tests/functional/agent/test_l3_agent.py', 'neutron/agent/l3/ha.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c3601883c734e66963525e4752eb1cec0de2c1fe', 'message': ""Serialize keepalived notifier scripts\n\nkeepalived invokes the Neutron notifier scripts when state change\noccur. However, when keepalived invokes two consecutive state changes\nfor the same router, the scripts may execute commands out of order.\nFor example, keepalived changes the state of an HA router from\nfail to master to standby. It invokes notify_master,\nthen notify_standby.\n\nHowever, from that point, we have no guarantee of ordering.\nWhen the bug manifests, notify_standby writes 'standby' to the\nHA state file, followed by notify_master; Meaning, the order\nof notify script execution does not match the order of state\nfile writing.\n\nThe solution is to use flock when executing the scripts.\nNote that I tried calling flock from inside the scripts in their\ncurrent form (Bash), as well as in a modified Python script,\nbut then you have no guarantee that the scripts will grab the lock\nin the order in which they were executed. Thus the only option\nis to use flock when executing the script itself.\n\nIn order to call the script through flock without -o,\nwe must remove any forking in the script itself. This change\nmoves the metadata proxy managemt from the notifier scripts\nback to the agent. This means that the metadata proxy\nwill be spawned on the standby nodes as well.\n\nI'm open to any alternatives.\n\nCloses-Bug: #1402010\nChange-Id: Ib64fe5f371f33132eee58fdd550ba47db0a6e62c\n""}]",2,141645,c3601883c734e66963525e4752eb1cec0de2c1fe,52,22,3,8873,,,0,"Serialize keepalived notifier scripts

keepalived invokes the Neutron notifier scripts when state change
occur. However, when keepalived invokes two consecutive state changes
for the same router, the scripts may execute commands out of order.
For example, keepalived changes the state of an HA router from
fail to master to standby. It invokes notify_master,
then notify_standby.

However, from that point, we have no guarantee of ordering.
When the bug manifests, notify_standby writes 'standby' to the
HA state file, followed by notify_master; Meaning, the order
of notify script execution does not match the order of state
file writing.

The solution is to use flock when executing the scripts.
Note that I tried calling flock from inside the scripts in their
current form (Bash), as well as in a modified Python script,
but then you have no guarantee that the scripts will grab the lock
in the order in which they were executed. Thus the only option
is to use flock when executing the script itself.

In order to call the script through flock without -o,
we must remove any forking in the script itself. This change
moves the metadata proxy managemt from the notifier scripts
back to the agent. This means that the metadata proxy
will be spawned on the standby nodes as well.

I'm open to any alternatives.

Closes-Bug: #1402010
Change-Id: Ib64fe5f371f33132eee58fdd550ba47db0a6e62c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/141645/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/linux/keepalived.py', 'neutron/tests/functional/agent/test_l3_agent.py']",3,b6c59111f5653711c71f6b6254b2cf2b350fae25,bug/1402010,"from distutils import spawn # pylint: disable=E0611 flock = spawn.find_executable('flock') notify_master ""%(flock)s -o %(ha_confs_path)s/%(router_id)s/lock %(ha_confs_path)s/%(router_id)s/notify_master.sh"" notify_backup ""%(flock)s -o %(ha_confs_path)s/%(router_id)s/lock %(ha_confs_path)s/%(router_id)s/notify_backup.sh"" notify_fault ""%(flock)s -o %(ha_confs_path)s/%(router_id)s/lock %(ha_confs_path)s/%(router_id)s/notify_fault.sh""}"""""" % { # noqa 'default_gateway_ip': default_gateway_ip, 'flock': flock"," notify_master ""%(ha_confs_path)s/%(router_id)s/notify_master.sh"" notify_backup ""%(ha_confs_path)s/%(router_id)s/notify_backup.sh"" notify_fault ""%(ha_confs_path)s/%(router_id)s/notify_fault.sh""}"""""" % { 'default_gateway_ip': default_gateway_ip",28,10
openstack%2Ffuel-web~stable%2F6.0~I7311006d6c050423ff31923310c5f9de8519788d,openstack/fuel-web,stable/6.0,I7311006d6c050423ff31923310c5f9de8519788d,Disable SSH password auth for IBP provisioned nodes,MERGED,2015-01-23 11:22:51.000000000,2015-01-23 14:51:10.000000000,2015-01-23 14:51:10.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8392}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 10391}]","[{'number': 1, 'created': '2015-01-23 11:22:51.000000000', 'files': ['fuel_agent/cloud-init-templates/cloud_config_centos.jinja2', 'fuel_agent/cloud-init-templates/cloud_config_ubuntu.jinja2'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/2e7914200d4fb68519e1eb8b34c89d01e98b2f98', 'message': 'Disable SSH password auth for IBP provisioned nodes\n\nSSH password authentification was enabled in cloud-config.\nSetting it to `false`.\n\nChange-Id: I7311006d6c050423ff31923310c5f9de8519788d\nCloses-Bug: #1413690\n'}]",0,149576,2e7914200d4fb68519e1eb8b34c89d01e98b2f98,11,7,1,8003,,,0,"Disable SSH password auth for IBP provisioned nodes

SSH password authentification was enabled in cloud-config.
Setting it to `false`.

Change-Id: I7311006d6c050423ff31923310c5f9de8519788d
Closes-Bug: #1413690
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/76/149576/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_agent/cloud-init-templates/cloud_config_centos.jinja2', 'fuel_agent/cloud-init-templates/cloud_config_ubuntu.jinja2']",2,2e7914200d4fb68519e1eb8b34c89d01e98b2f98,bug/1413690,ssh_pwauth: false,ssh_pwauth: true,2,2
openstack%2Fpython-glanceclient~master~Ifd588b5f6820ef21beb186d88d0b3f1a267695aa,openstack/python-glanceclient,master,Ifd588b5f6820ef21beb186d88d0b3f1a267695aa,Handle HTTP byte returns in python 3,MERGED,2015-01-05 01:55:17.000000000,2015-01-23 14:47:37.000000000,2015-01-23 14:47:36.000000000,"[{'_account_id': 3}, {'_account_id': 177}, {'_account_id': 360}, {'_account_id': 455}, {'_account_id': 616}, {'_account_id': 706}, {'_account_id': 792}, {'_account_id': 1132}, {'_account_id': 2284}, {'_account_id': 2537}, {'_account_id': 4463}, {'_account_id': 5202}, {'_account_id': 6159}, {'_account_id': 6484}, {'_account_id': 6493}, {'_account_id': 6549}, {'_account_id': 7191}, {'_account_id': 8127}, {'_account_id': 8759}, {'_account_id': 12000}]","[{'number': 1, 'created': '2015-01-05 01:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/cb1d7623dd56e74f21caf86df8365ffc22fbf694', 'message': ""Handle HTTP byte returns in python 3\n\nThe returns from requests' response.content is a bytes type. Under\npython 3 this fails in error handling and string conversion. The\nresponse.text variable should be used to treat a response body as a\nstring.\n\nCloses-Bug: #1407531\nChange-Id: Ifd588b5f6820ef21beb186d88d0b3f1a267695aa\n""}, {'number': 2, 'created': '2015-01-14 02:32:52.000000000', 'files': ['glanceclient/common/http.py', 'tests/utils.py', 'tests/test_http.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/62df6c669f2625582cea9602ed2ec4a4aca2948a', 'message': ""Handle HTTP byte returns in python 3\n\nThe returns from requests' response.content is a bytes type. Under\npython 3 this fails in error handling and string conversion. The\nresponse.text variable should be used to treat a response body as a\nstring.\n\nCloses-Bug: #1407531\nChange-Id: Ifd588b5f6820ef21beb186d88d0b3f1a267695aa\n""}]",3,144908,62df6c669f2625582cea9602ed2ec4a4aca2948a,15,20,2,7191,,,0,"Handle HTTP byte returns in python 3

The returns from requests' response.content is a bytes type. Under
python 3 this fails in error handling and string conversion. The
response.text variable should be used to treat a response body as a
string.

Closes-Bug: #1407531
Change-Id: Ifd588b5f6820ef21beb186d88d0b3f1a267695aa
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/08/144908/2 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/common/http.py', 'tests/utils.py', 'tests/test_http.py']",3,cb1d7623dd56e74f21caf86df8365ffc22fbf694,session-tests," fake = utils.FakeResponse({}, b""OK"")"," fake = utils.FakeResponse({}, ""OK"")",11,4
openstack%2Fpython-glanceclient~master~Ie498ee1b93524d91a43343f73140446c2cc9ab92,openstack/python-glanceclient,master,Ie498ee1b93524d91a43343f73140446c2cc9ab92,Make non-boolean check strict,MERGED,2014-12-19 17:00:29.000000000,2015-01-23 14:40:28.000000000,2015-01-23 14:40:27.000000000,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 6159}, {'_account_id': 6549}, {'_account_id': 9096}, {'_account_id': 11356}, {'_account_id': 12000}, {'_account_id': 12299}]","[{'number': 1, 'created': '2014-12-19 17:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/37ab36c424cefc873564da044bbac0075d91406f', 'message': ""Make non-boolean check strict\n\nCurrently when we enter any non-boolean strings in the client, it\naccepts it and defaults the value to false. It should check if the\nstrings are boolean values and respond with an error if they're not.\n\nChange-Id: Ie498ee1b93524d91a43343f73140446c2cc9ab92\nCloses-Bug: #1394236\n""}, {'number': 2, 'created': '2014-12-19 17:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/960c576ce6061e40532ccc77a8287ae35a4e140d', 'message': ""Make non-boolean check strict\n\nCurrently when we enter any non-boolean strings in the client, it\naccepts it and defaults the value to false. It should check if the\nstrings are boolean values and respond with an error if they're not.\n\nCloses-Bug: #1394236\nChange-Id: Ie498ee1b93524d91a43343f73140446c2cc9ab92\n""}, {'number': 3, 'created': '2015-01-06 15:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/1f044f687152a6d39ed93552b0f1624c03c1ffa5', 'message': ""Make non-boolean check strict\n\nCurrently when we enter any non-boolean strings in the client, it\naccepts it and defaults the value to false. It should check if the\nstrings are boolean values and respond with an error if they're not.\n\nCloses-Bug: #1394236\nChange-Id: Ie498ee1b93524d91a43343f73140446c2cc9ab92\n""}, {'number': 4, 'created': '2015-01-06 16:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/969d86cdd398a7abf42d54d5f5749a49b239390a', 'message': ""Make non-boolean check strict\n\nCurrently when we enter any non-boolean strings in the client, it\naccepts it and defaults the value to false. It should check if the\nstrings are boolean values and respond with an error if they're not.\n\nCloses-Bug: #1394236\nChange-Id: Ie498ee1b93524d91a43343f73140446c2cc9ab92\n""}, {'number': 5, 'created': '2015-01-06 16:36:09.000000000', 'files': ['glanceclient/v1/shell.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/6eaaad532ad42d46a4d5ccb6e96e6508bee5ebef', 'message': ""Make non-boolean check strict\n\nCurrently when we enter any non-boolean strings in the client, it\naccepts it and defaults the value to false. It should check if the\nstrings are boolean values and respond with an error if they're not.\n\nCloses-Bug: #1394236\nChange-Id: Ie498ee1b93524d91a43343f73140446c2cc9ab92\n""}]",1,143137,6eaaad532ad42d46a4d5ccb6e96e6508bee5ebef,27,9,5,9096,,,0,"Make non-boolean check strict

Currently when we enter any non-boolean strings in the client, it
accepts it and defaults the value to false. It should check if the
strings are boolean values and respond with an error if they're not.

Closes-Bug: #1394236
Change-Id: Ie498ee1b93524d91a43343f73140446c2cc9ab92
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/37/143137/4 && git format-patch -1 --stdout FETCH_HEAD,['glanceclient/v1/shell.py'],1,37ab36c424cefc873564da044bbac0075d91406f,bug/1394236,"import functoolsbool_strict = functools.partial(strutils.bool_from_string, strict=True) type=bool_strict, metavar='{True,False}', type=bool_strict, metavar='{True,False}', type=bool_strict, metavar='{True,False}', type=bool_strict, metavar='{True,False}', type=bool_strict, metavar='{True,False}',"," type=strutils.bool_from_string, metavar='{True,False}', type=strutils.bool_from_string, metavar='{True,False}', type=strutils.bool_from_string, metavar='{True,False}', type=strutils.bool_from_string, metavar='{True,False}', type=strutils.bool_from_string, metavar='{True,False}',",7,5
openstack%2Fglance_store~master~I18f86c4f2838a14de344ef7887353ca0b5f1a1dd,openstack/glance_store,master,I18f86c4f2838a14de344ef7887353ca0b5f1a1dd,Move from oslo.config to oslo_config,MERGED,2015-01-12 14:48:44.000000000,2015-01-23 14:39:11.000000000,2015-01-23 14:39:11.000000000,"[{'_account_id': 3}, {'_account_id': 455}, {'_account_id': 6549}, {'_account_id': 8158}, {'_account_id': 11356}]","[{'number': 1, 'created': '2015-01-12 14:48:44.000000000', 'files': ['glance_store/_drivers/gridfs.py', 'requirements.txt', 'glance_store/_drivers/s3.py', 'glance_store/_drivers/vmware_datastore.py', 'glance_store/_drivers/rbd.py', 'glance_store/tests/base.py', 'glance_store/_drivers/sheepdog.py', 'glance_store/_drivers/cinder.py', 'glance_store/common/config.py', 'tests/unit/test_swift_store.py', 'glance_store/_drivers/filesystem.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/3adc94ed14fdf52c3520129c51e665a859b43eea', 'message': 'Move from oslo.config to oslo_config\n\noslo_config was moved out of the oslo namespace in oslo.config>=1.6.0.\n\nThis updates the required version of oslo.config.\n\nRelated-to: blueprint drop-namespace-packages\n\nChange-Id: I18f86c4f2838a14de344ef7887353ca0b5f1a1dd\n'}]",3,146481,3adc94ed14fdf52c3520129c51e665a859b43eea,11,5,1,11356,,,0,"Move from oslo.config to oslo_config

oslo_config was moved out of the oslo namespace in oslo.config>=1.6.0.

This updates the required version of oslo.config.

Related-to: blueprint drop-namespace-packages

Change-Id: I18f86c4f2838a14de344ef7887353ca0b5f1a1dd
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/81/146481/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/_drivers/gridfs.py', 'requirements.txt', 'glance_store/_drivers/s3.py', 'glance_store/_drivers/vmware_datastore.py', 'glance_store/_drivers/rbd.py', 'glance_store/_drivers/sheepdog.py', 'glance_store/tests/base.py', 'glance_store/_drivers/cinder.py', 'glance_store/common/config.py', 'tests/unit/test_swift_store.py', 'glance_store/_drivers/filesystem.py']",11,3adc94ed14fdf52c3520129c51e665a859b43eea,bp/drop-namespace-packages,from oslo_config import cfg,from oslo.config import cfg,11,11
openstack%2Ffuel-web~master~I119f8407267056d14f011a19fc73805739bd36e7,openstack/fuel-web,master,I119f8407267056d14f011a19fc73805739bd36e7,Add hiera and netconfig tasks into current deployment,ABANDONED,2015-01-14 14:18:12.000000000,2015-01-23 14:39:01.000000000,,"[{'_account_id': 3}, {'_account_id': 8776}, {'_account_id': 8971}, {'_account_id': 9037}]","[{'number': 1, 'created': '2015-01-14 14:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/d5ec72cdad56baeac8174ea5464fd4c7aebac578', 'message': 'Add hiera and netconfig tasks into current deployment\n\nThis patch add hiera and netconfig puppet manifests\ninto current deployment graph.\nThis tasks alredy in fuel-library master\n\nimplements blueprint granular-deployment-based-on-tasks\n\nChange-Id: I119f8407267056d14f011a19fc73805739bd36e7\n'}, {'number': 2, 'created': '2015-01-14 19:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/024f07d2a7453ab171b062a18d2a82292becbdda', 'message': 'Add hiera and netconfig tasks into current deployment\n\nThis patch add hiera and netconfig puppet manifests\ninto current deployment graph.\nThis tasks alredy in fuel-library master\n\nimplements blueprint granular-deployment-based-on-tasks\n\nChange-Id: I119f8407267056d14f011a19fc73805739bd36e7\n'}, {'number': 3, 'created': '2015-01-15 09:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/84ae85b7a8faf71f15d1395f843199f28e0947d7', 'message': 'Add hiera and netconfig tasks into current deployment\n\nThis patch add hiera and netconfig puppet manifests\ninto current deployment graph.\nThis tasks alredy in fuel-library master\n\nimplements blueprint granular-deployment-based-on-tasks\n\nChange-Id: I119f8407267056d14f011a19fc73805739bd36e7\n'}, {'number': 4, 'created': '2015-01-15 18:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/eafb2ec6ad819beb01cf01d0d2d991dae0914323', 'message': 'Add hiera and netconfig tasks into current deployment\n\nThis patch add hiera and netconfig puppet manifests\ninto current deployment graph.\nThis tasks alredy in fuel-library master\n\nimplements blueprint granular-deployment-based-on-tasks\n\nChange-Id: I119f8407267056d14f011a19fc73805739bd36e7\n'}, {'number': 5, 'created': '2015-01-23 14:22:35.000000000', 'files': ['nailgun/nailgun/orchestrator/graph_configuration.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/904cfd77616c42d5ad493af4174846dc88f639bd', 'message': 'Add hiera and netconfig tasks into current deployment\n\nThis patch add hiera and netconfig puppet manifests\ninto current deployment graph.\nThis tasks alredy in fuel-library master\n\nimplements blueprint granular-deployment-based-on-tasks\n\nChange-Id: I119f8407267056d14f011a19fc73805739bd36e7\n'}]",0,147167,904cfd77616c42d5ad493af4174846dc88f639bd,28,4,5,8907,,,0,"Add hiera and netconfig tasks into current deployment

This patch add hiera and netconfig puppet manifests
into current deployment graph.
This tasks alredy in fuel-library master

implements blueprint granular-deployment-based-on-tasks

Change-Id: I119f8407267056d14f011a19fc73805739bd36e7
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/67/147167/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/nailgun/orchestrator/graph_configuration.py'],1,d5ec72cdad56baeac8174ea5464fd4c7aebac578,bp/granular-deployment-based-on-tasks," #DEPLOYMENT TASKS - id: hiera type: puppet groups: [primary-controller, controller, cinder, compute, ceph-osd, zabbix-server, primary-mongo, mongo] required_for: [deploy] parameters: puppet_manifest: /etc/puppet/modules/osnailyfacter/modular/hiera.pp puppet_modules: /etc/puppet/modules timeout: 3600 - id: netconfig type: puppet groups: [primary-controller, controller, cinder, compute, ceph-osd, zabbix-server, primary-mongo, mongo] required_for: [deploy] requires: [hiera] parameters: puppet_manifest: /etc/puppet/modules/osnailyfacter/modular/netconfig.pp puppet_modules: /etc/puppet/modules timeout: 3600 - id: legacy requires: [hiera, netconfig] parameters: puppet_manifest: /etc/puppet/modules/osnailyfacter/modular/legacy.pp",- id: deploy_legacy parameters: puppet_manifest: /etc/puppet/manifests/site.pp,27,2
openstack%2Fglance_store~master~Id4ccf076983592026d35407107e79cf1575248ce,openstack/glance_store,master,Id4ccf076983592026d35407107e79cf1575248ce,Move from oslo.utils to oslo_utils,MERGED,2015-01-09 19:22:18.000000000,2015-01-23 14:36:09.000000000,2015-01-23 14:36:07.000000000,"[{'_account_id': 3}, {'_account_id': 455}, {'_account_id': 6549}, {'_account_id': 8158}, {'_account_id': 11356}]","[{'number': 1, 'created': '2015-01-09 19:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/affae030627e85f3750c83cf2bbd74543159352a', 'message': 'Move from oslo.utils to oslo_utils\n\noslo_utils has been moved out of the oslo namespace.\n\nbp drop-namespace-packages\n\nChange-Id: Id4ccf076983592026d35407107e79cf1575248ce\n'}, {'number': 2, 'created': '2015-01-09 20:16:27.000000000', 'files': ['tests/unit/test_filesystem_store.py', 'tests/unit/test_vmware_store.py', 'glance_store/_drivers/gridfs.py', 'requirements.txt', 'glance_store/_drivers/s3.py', 'tests/unit/test_s3_store.py', 'glance_store/_drivers/vmware_datastore.py', 'glance_store/_drivers/sheepdog.py', 'glance_store/common/utils.py', 'tests/unit/test_swift_store.py', 'glance_store/_drivers/filesystem.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/94554c606f86a714ad34d62ceff2af1ed00748c7', 'message': 'Move from oslo.utils to oslo_utils\n\noslo_utils has been moved out of the oslo namespace.\n\nbp drop-namespace-packages\n\nChange-Id: Id4ccf076983592026d35407107e79cf1575248ce\n'}]",3,146183,94554c606f86a714ad34d62ceff2af1ed00748c7,14,5,2,11356,,,0,"Move from oslo.utils to oslo_utils

oslo_utils has been moved out of the oslo namespace.

bp drop-namespace-packages

Change-Id: Id4ccf076983592026d35407107e79cf1575248ce
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/83/146183/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_filesystem_store.py', 'glance_store/_drivers/gridfs.py', 'requirements.txt', 'tests/unit/test_vmware_store.py', 'glance_store/_drivers/s3.py', 'tests/unit/test_s3_store.py', 'glance_store/_drivers/vmware_datastore.py', 'glance_store/_drivers/sheepdog.py', 'glance_store/common/utils.py', 'tests/unit/test_swift_store.py', 'glance_store/_drivers/filesystem.py']",11,affae030627e85f3750c83cf2bbd74543159352a,bp/drop-namespace-packages,from oslo_utils import excutils from oslo_utils import units,from oslo.utils import excutils from oslo.utils import units,15,15
openstack%2Fopenstack-ansible~master~I78be9373be20295dc0154af6e642eff2ce0ddc66,openstack/openstack-ansible,master,I78be9373be20295dc0154af6e642eff2ce0ddc66,Add debootstrap package to LXC package list,MERGED,2015-01-19 15:52:00.000000000,2015-01-23 14:33:04.000000000,2015-01-19 18:07:16.000000000,"[{'_account_id': 3}, {'_account_id': 2799}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-19 15:52:00.000000000', 'files': ['rpc_deployment/roles/lxc_common/tasks/lxc_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a49fc71e629c7e7decca0c743c7626ab13974ef5', 'message': 'Add debootstrap package to LXC package list\n\nThis patch adds debootstrap to the LXC installation package list in\norder to prevent errors when trying to use debootstrap to setup lxc\ncontainers.\n\nChange-Id: I78be9373be20295dc0154af6e642eff2ce0ddc66\nCloses-Bug: #1412484\n'}]",0,148299,a49fc71e629c7e7decca0c743c7626ab13974ef5,9,4,1,6816,,,0,"Add debootstrap package to LXC package list

This patch adds debootstrap to the LXC installation package list in
order to prevent errors when trying to use debootstrap to setup lxc
containers.

Change-Id: I78be9373be20295dc0154af6e642eff2ce0ddc66
Closes-Bug: #1412484
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/99/148299/1 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/roles/lxc_common/tasks/lxc_install.yml'],1,a49fc71e629c7e7decca0c743c7626ab13974ef5,bug/1412484, - debootstrap,,1,0
openstack%2Fopenstack-manuals~stable%2Fjuno~I1eb4ebb7e819e62d0d956f853f0f77265d07016e,openstack/openstack-manuals,stable/juno,I1eb4ebb7e819e62d0d956f853f0f77265d07016e,Update help text for netapp_server_port option,MERGED,2015-01-22 00:27:45.000000000,2015-01-23 14:30:42.000000000,2015-01-23 14:30:40.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6547}, {'_account_id': 7923}, {'_account_id': 9186}]","[{'number': 1, 'created': '2015-01-22 00:27:45.000000000', 'files': ['doc/common/tables/cinder-netapp_cdot_nfs.xml', 'doc/common/tables/cinder-netapp_cdot_iscsi.xml', 'doc/common/tables/cinder-netapp_7mode_nfs.xml', 'doc/common/tables/cinder-netapp_7mode_iscsi.xml', 'doc/common/tables/cinder-netapp_eseries_iscsi.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/32c3d6ecc9eaeed807c7f33c0d52bcd7128c21b4', 'message': 'Update help text for netapp_server_port option\n\nhttps://review.openstack.org/#/c/128700/ merged upstream in Kilo last\nnight; this change is a result of running the autohelp-wrapper from\nopenstack-doc-tools on the master branch of cinder.\n\nChange-Id: I1eb4ebb7e819e62d0d956f853f0f77265d07016e\n(cherry picked from commit d2a3713fe74c65b958e8860c0fab1bec0eb4e1be)\n'}]",0,149093,32c3d6ecc9eaeed807c7f33c0d52bcd7128c21b4,11,5,1,9186,,,0,"Update help text for netapp_server_port option

https://review.openstack.org/#/c/128700/ merged upstream in Kilo last
night; this change is a result of running the autohelp-wrapper from
openstack-doc-tools on the master branch of cinder.

Change-Id: I1eb4ebb7e819e62d0d956f853f0f77265d07016e
(cherry picked from commit d2a3713fe74c65b958e8860c0fab1bec0eb4e1be)
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/93/149093/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/common/tables/cinder-netapp_cdot_nfs.xml', 'doc/common/tables/cinder-netapp_cdot_iscsi.xml', 'doc/common/tables/cinder-netapp_7mode_iscsi.xml', 'doc/common/tables/cinder-netapp_7mode_nfs.xml', 'doc/common/tables/cinder-netapp_eseries_iscsi.xml']",5,32c3d6ecc9eaeed807c7f33c0d52bcd7128c21b4,bug/1322379_juno," <td>netapp_server_port = None</td> <td>(IntOpt) The TCP port to use for communication with the storage system or proxy server. If not specified, Data ONTAP drivers will use 80 for HTTP and 443 for HTTPS; E-Series will use 8080 for HTTP and 8443 for HTTPS.</td>"," <td>netapp_server_port = 80</td> <td>(IntOpt) The TCP port to use for communication with the storage system or proxy server. Traditionally, port 80 is used for HTTP and port 443 is used for HTTPS; however, this value should be changed if an alternate port has been configured on the storage system or proxy server.</td>",10,10
openstack%2Foslo-incubator~master~I96be866daf5a8afd0278b0fa13acf09342a3a8ac,openstack/oslo-incubator,master,I96be866daf5a8afd0278b0fa13acf09342a3a8ac,Remove uuidutils,MERGED,2015-01-20 13:20:42.000000000,2015-01-23 14:25:33.000000000,2015-01-23 14:25:32.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 5638}, {'_account_id': 7634}, {'_account_id': 9107}, {'_account_id': 12038}]","[{'number': 1, 'created': '2015-01-20 13:20:42.000000000', 'files': ['openstack/common/apiclient/utils.py', 'openstack/common/uuidutils.py', 'MAINTAINERS', 'tox.ini', 'tests/unit/test_uuidutils.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/a908d663a4efead92e2c88fef63c34838875101e', 'message': 'Remove uuidutils\n\nThis has been merged into oslo.utils.\n\nChange-Id: I96be866daf5a8afd0278b0fa13acf09342a3a8ac\n'}]",0,148547,a908d663a4efead92e2c88fef63c34838875101e,10,6,1,1669,,,0,"Remove uuidutils

This has been merged into oslo.utils.

Change-Id: I96be866daf5a8afd0278b0fa13acf09342a3a8ac
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/47/148547/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/common/apiclient/utils.py', 'openstack/common/uuidutils.py', 'MAINTAINERS', 'tox.ini', 'tests/unit/test_uuidutils.py']",5,a908d663a4efead92e2c88fef63c34838875101e,jd/remove-uuidutils,,"# Copyright (c) 2012 Intel Corporation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import uuid from oslotest import base as test_base from openstack.common import uuidutils class UUIDUtilsTest(test_base.BaseTestCase): def test_generate_uuid(self): uuid_string = uuidutils.generate_uuid() self.assertTrue(isinstance(uuid_string, str)) self.assertEqual(len(uuid_string), 36) # make sure there are 4 dashes self.assertEqual(len(uuid_string.replace('-', '')), 32) def test_is_uuid_like(self): self.assertTrue(uuidutils.is_uuid_like(str(uuid.uuid4()))) def test_is_uuid_like_insensitive(self): self.assertTrue(uuidutils.is_uuid_like(str(uuid.uuid4()).upper())) def test_id_is_uuid_like(self): self.assertFalse(uuidutils.is_uuid_like(1234567)) def test_name_is_uuid_like(self): self.assertFalse(uuidutils.is_uuid_like('zhongyueluo')) ",1,88
openstack%2Fmurano-dashboard~master~I696c2430ecb0898dee0fa66cfb0b7bda615e67f1,openstack/murano-dashboard,master,I696c2430ecb0898dee0fa66cfb0b7bda615e67f1,Show reason of failure during package upload,MERGED,2014-11-25 10:15:54.000000000,2015-01-23 14:24:14.000000000,2015-01-23 14:24:13.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7549}, {'_account_id': 7562}, {'_account_id': 7600}, {'_account_id': 7821}, {'_account_id': 8040}]","[{'number': 1, 'created': '2014-11-25 10:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/f12427f5aa042b6e2f8f9fec58beb91d232ee87b', 'message': 'Show reason of failure during package upload\n\nChange-Id: I696c2430ecb0898dee0fa66cfb0b7bda615e67f1\n'}, {'number': 2, 'created': '2014-11-25 13:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/856633ffbdb750aeccc8ae5ebc696e175e2f51c7', 'message': 'Show reason of failure during package upload\n\nChange-Id: I696c2430ecb0898dee0fa66cfb0b7bda615e67f1\n'}, {'number': 3, 'created': '2014-12-16 12:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/b22ef017cb7ad30006c0e95af0454586864341ce', 'message': 'Show reason of failure during package upload\n\nChange-Id: I696c2430ecb0898dee0fa66cfb0b7bda615e67f1\n'}, {'number': 4, 'created': '2014-12-18 12:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/36a9e21dbda7d1eb7249b939873e39912002ac39', 'message': 'Show reason of failure during package upload\n\nChange-Id: I696c2430ecb0898dee0fa66cfb0b7bda615e67f1\n'}, {'number': 5, 'created': '2014-12-18 15:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/da94a4b3870be7ee9ae6b121d4544044cf4db4c0', 'message': 'Show reason of failure during package upload\n\nChange-Id: I696c2430ecb0898dee0fa66cfb0b7bda615e67f1\n'}, {'number': 6, 'created': '2014-12-22 10:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/9686aef9462358e5ef9431e113dce6b8d30f4a7b', 'message': 'Show reason of failure during package upload\n\nIf HTTP response contains details about error,\nit will shown to the user.\n\nChange-Id: I696c2430ecb0898dee0fa66cfb0b7bda615e67f1\n'}, {'number': 7, 'created': '2014-12-29 13:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/9d31fe123b9dec08a7a0a4a330b0bde426aad162', 'message': 'Show reason of failure during package upload\n\nIf HTTP response contains details about error,\nit will shown to the user.\n\n\nChange-Id: I696c2430ecb0898dee0fa66cfb0b7bda615e67f1\n'}, {'number': 8, 'created': '2015-01-16 08:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/bcfe392c7a10263053bf41cc6ed3d78113996142', 'message': 'Show reason of failure during package upload\n\nIf HTTP response contains details about error,\nit will shown to the user.\n\n\nChange-Id: I696c2430ecb0898dee0fa66cfb0b7bda615e67f1\n'}, {'number': 9, 'created': '2015-01-16 15:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/2be808307497e1ffef52d87f8c6a3cb34148dd88', 'message': 'Show reason of failure during package upload\n\n\nIf HTTP response contains details about error,\nit will shown to the user.\n\n\nChange-Id: I696c2430ecb0898dee0fa66cfb0b7bda615e67f1\n'}, {'number': 10, 'created': '2015-01-19 14:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/01c3498cd2f90deb5da20f82245ccd262ebc50ba', 'message': 'Show reason of failure during package upload\n\nIf HTTP response contains details about error,\nit will shown to the user.\n\nChange-Id: I696c2430ecb0898dee0fa66cfb0b7bda615e67f1\n'}, {'number': 11, 'created': '2015-01-19 16:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/3131d459e1f669afeda69bf1d4a49c4d992c5661', 'message': 'Show reason of failure during package upload\n\nIf HTTP response contains details about error,\nit will shown to the user.\n\nChange-Id: I696c2430ecb0898dee0fa66cfb0b7bda615e67f1\n'}, {'number': 12, 'created': '2015-01-20 14:23:33.000000000', 'files': ['requirements.txt', 'muranodashboard/packages/views.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/5e51d53b1e9a89ad376dbb0f47eb8bee95bf78e6', 'message': 'Show reason of failure during package upload\n\nIf HTTP response contains details about error,\nit will shown to the user.\n\nChange-Id: I696c2430ecb0898dee0fa66cfb0b7bda615e67f1\n'}]",2,137004,5e51d53b1e9a89ad376dbb0f47eb8bee95bf78e6,63,8,12,7549,,,0,"Show reason of failure during package upload

If HTTP response contains details about error,
it will shown to the user.

Change-Id: I696c2430ecb0898dee0fa66cfb0b7bda615e67f1
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/04/137004/12 && git format-patch -1 --stdout FETCH_HEAD,"['muranodashboard/packages/utils.py', 'muranodashboard/packages/views.py']",2,f12427f5aa042b6e2f8f9fec58beb91d232ee87b,extend_error_msg,"from muranodashboard.packages import utils as murano_utils except (exc.HTTPException, Exception) as e: reason = '' if e.details: parser = murano_utils.CustomHTMLparser() parser.feed(e.details) data = parser.HTMLDATA reason = data[-1] parser.clean() msg = _('Uploading package failed. {0}').format(reason) LOG.exception(msg) msg,"," except (exc.HTTPException, Exception): LOG.exception(_('Uploading package failed')) _('Unable to modify package'),",52,3
openstack%2Ffuel-library~master~I3dc327180d2bd7c9918b24ad2b9b867321a279d2,openstack/fuel-library,master,I3dc327180d2bd7c9918b24ad2b9b867321a279d2,Check need to install ceph on node.,MERGED,2014-12-08 17:12:25.000000000,2015-01-23 14:20:24.000000000,2015-01-23 14:20:24.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9387}, {'_account_id': 11827}, {'_account_id': 13343}, {'_account_id': 13344}]","[{'number': 1, 'created': '2014-12-08 17:12:25.000000000', 'files': ['deployment/puppet/osnailyfacter/manifests/cluster_ha.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_simple.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/6ea5fcc87877d817ef4d0e9570fb547a0aa254d3', 'message': 'Check need to install ceph on node.\n\nIn configuration when used ceph for Glance, but for Cinder use something\nelse (like a lvm or vmdk) we today installing ceph on Cinder nodes too,\nbut not use it. I add check for that situation.\n\nChange-Id: I3dc327180d2bd7c9918b24ad2b9b867321a279d2\nCloses-Bug: 1398801\n'}]",0,140080,6ea5fcc87877d817ef4d0e9570fb547a0aa254d3,16,8,1,11827,,,0,"Check need to install ceph on node.

In configuration when used ceph for Glance, but for Cinder use something
else (like a lvm or vmdk) we today installing ceph on Cinder nodes too,
but not use it. I add check for that situation.

Change-Id: I3dc327180d2bd7c9918b24ad2b9b867321a279d2
Closes-Bug: 1398801
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/80/140080/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/osnailyfacter/manifests/cluster_ha.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_simple.pp']",2,6ea5fcc87877d817ef4d0e9570fb547a0aa254d3,bug/1398801, if ($::use_ceph and !(($::fuel_settings['role'] == 'cinder') and $storage_hash['volumes_lvm'])) {, if ($::use_ceph) {,2,2
openstack%2Foslo-incubator~master~Ie48093914e3d9a03d8ff3f8108d5c521f1b6ca45,openstack/oslo-incubator,master,Ie48093914e3d9a03d8ff3f8108d5c521f1b6ca45,Change apiclient to use oslo_utils.uuidutils,ABANDONED,2015-01-08 08:42:49.000000000,2015-01-23 14:20:13.000000000,,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 11356}]","[{'number': 1, 'created': '2015-01-08 08:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/1effd3d8405eca2e44af5b18703c67a10ad0b809', 'message': 'Change apiclient to use oslo_utils.uuidutils\n\nInsteading of usingincubative openstack.common.uuidutils.\n\nThis can also help project synchronize, which was already using\noslo_utils.\n\nChange-Id: Ie48093914e3d9a03d8ff3f8108d5c521f1b6ca45\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n'}, {'number': 2, 'created': '2015-01-12 08:49:45.000000000', 'files': ['openstack/common/apiclient/utils.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/8490dcbaecd34057aa475169bf57cacb52f80a8d', 'message': 'Change apiclient to use oslo_utils.uuidutils\n\nInstead of using incubated openstack.common.uuidutils.\n\nThis can also help projects which were already using\noslo_utils synchronize.\n\nChange-Id: Ie48093914e3d9a03d8ff3f8108d5c521f1b6ca45\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n'}]",0,145717,8490dcbaecd34057aa475169bf57cacb52f80a8d,8,5,2,6549,,,0,"Change apiclient to use oslo_utils.uuidutils

Instead of using incubated openstack.common.uuidutils.

This can also help projects which were already using
oslo_utils synchronize.

Change-Id: Ie48093914e3d9a03d8ff3f8108d5c521f1b6ca45
Signed-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/17/145717/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/apiclient/utils.py'],1,1effd3d8405eca2e44af5b18703c67a10ad0b809,,from oslo.utils import uuidutils,from openstack.common import uuidutils,1,1
openstack%2Fneutron~master~I640ac161bfe5db476c4bc3a383998ef002529095,openstack/neutron,master,I640ac161bfe5db476c4bc3a383998ef002529095,Corrected singulars/plurals in iptables_firewall.py,MERGED,2015-01-17 17:57:07.000000000,2015-01-23 14:16:04.000000000,2015-01-23 14:16:02.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 642}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 2170}, {'_account_id': 2592}, {'_account_id': 2874}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 7293}, {'_account_id': 7787}, {'_account_id': 8645}, {'_account_id': 8788}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-17 17:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4cc4683a1e20c83fc383f1415666aecd3435d827', 'message': 'Corrected singulars/plurals in iptables_firewall.py functions\n\nPartially implements blueprint refactor-iptables-firewall-driver\n\nChange-Id: I640ac161bfe5db476c4bc3a383998ef002529095\n'}, {'number': 2, 'created': '2015-01-17 18:39:53.000000000', 'files': ['neutron/agent/linux/iptables_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ba3079445bea3033b42a5d78f9db6d3c3bd328b', 'message': 'Corrected singulars/plurals in iptables_firewall.py\n\nPartially implements blueprint refactor-iptables-firewall-driver\n\nChange-Id: I640ac161bfe5db476c4bc3a383998ef002529095\n'}]",3,148066,8ba3079445bea3033b42a5d78f9db6d3c3bd328b,113,30,2,8788,,,0,"Corrected singulars/plurals in iptables_firewall.py

Partially implements blueprint refactor-iptables-firewall-driver

Change-Id: I640ac161bfe5db476c4bc3a383998ef002529095
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/148066/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/iptables_firewall.py'],1,4cc4683a1e20c83fc383f1415666aecd3435d827,bp/refactor-iptables-firewall-driver," def _add_rules_to_chain_v4v6(self, chain_name, ipv4_rules, ipv6_rules, comment=None): self._add_rules_to_chain_v4v6('FORWARD', jump_rule, jump_rule, comment=ic.VM_INT_SG) self._add_rules_to_chain_v4v6(SG_CHAIN, jump_rule, jump_rule, comment=ic.SG_TO_VM_SG) self._add_rules_to_chain_v4v6('INPUT', jump_rule, jump_rule, comment=ic.INPUT_TO_SG) self._add_rules_to_chain_v4v6(chain_name, ipv4_iptables_rule, ipv6_iptables_rule)"," def _add_rule_to_chain_v4v6(self, chain_name, ipv4_rules, ipv6_rules, comment=None): self._add_rule_to_chain_v4v6('FORWARD', jump_rule, jump_rule, comment=ic.VM_INT_SG) self._add_rule_to_chain_v4v6(SG_CHAIN, jump_rule, jump_rule, comment=ic.SG_TO_VM_SG) self._add_rule_to_chain_v4v6('INPUT', jump_rule, jump_rule, comment=ic.INPUT_TO_SG) self._add_rule_to_chain_v4v6(chain_name, ipv4_iptables_rule, ipv6_iptables_rule)",11,11
openstack%2Ffuel-main~master~I9571928c93067e2cd48cad2cdd735c11081b20b9,openstack/fuel-main,master,I9571928c93067e2cd48cad2cdd735c11081b20b9,Fixed some issues,ABANDONED,2015-01-23 10:57:28.000000000,2015-01-23 14:15:39.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 12867}]","[{'number': 1, 'created': '2015-01-23 10:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/6ac9d67aa57c7408d4106ff77646f0ef8ba18a21', 'message': 'Added network verification step. Fixed some issues\n\nChange-Id: I9571928c93067e2cd48cad2cdd735c11081b20b9\n'}, {'number': 2, 'created': '2015-01-23 11:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/03cf393e3d26012bb94bbec1ea2c0377dd850309', 'message': '1. Added network verification step. Fixed some issues\n\nChange-Id: I9571928c93067e2cd48cad2cdd735c11081b20b9\n'}, {'number': 3, 'created': '2015-01-23 13:17:38.000000000', 'files': ['fuelweb_test/tests/test_simple.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/7325f06ab75f8420d6efe15d9c63dfb0af0e730b', 'message': 'Fixed some issues\n\nChange-Id: I9571928c93067e2cd48cad2cdd735c11081b20b9\n'}]",0,149566,7325f06ab75f8420d6efe15d9c63dfb0af0e730b,15,3,3,14057,,,0,"Fixed some issues

Change-Id: I9571928c93067e2cd48cad2cdd735c11081b20b9
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/66/149566/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_simple.py'],1,6ac9d67aa57c7408d4106ff77646f0ef8ba18a21,akurenyshev," """"""Add base-os node to cluster in simple mode 4. Run network verification 5. Run OSTF Snapshot: deploy_base_os_node self.fuel web.verify network(cluster_id) self.env.make_snapshot(""deploy_base_os_node"", is_make=True) "," """"""Add compute node to cluster in simple mode 4. Run OSTF Snapshot: simple_flat_add_compute self.env.make_snapshot(""simple_flat_add_base_os"", is_make=True)",9,4
openstack%2Ffuel-main~master~I79604368a8b707370c8a5202a59dd3cb51a67d70,openstack/fuel-main,master,I79604368a8b707370c8a5202a59dd3cb51a67d70,Added network verification step. Fixed some issues,ABANDONED,2015-01-23 10:27:03.000000000,2015-01-23 14:15:02.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 10068}, {'_account_id': 11969}, {'_account_id': 12867}]","[{'number': 1, 'created': '2015-01-23 10:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/20d53296af6468ed379d2eca4317f2e06ff7aa21', 'message': 'added new test for base-os node adding\n\nChange-Id: I79604368a8b707370c8a5202a59dd3cb51a67d70\n'}, {'number': 2, 'created': '2015-01-23 10:57:28.000000000', 'files': ['fuelweb_test/tests/test_simple.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/79ccdd1aceb9a4649cfca3be9c890c9aa97d2370', 'message': 'Added network verification step. Fixed some issues\n\nChange-Id: I79604368a8b707370c8a5202a59dd3cb51a67d70\n'}]",6,149553,79ccdd1aceb9a4649cfca3be9c890c9aa97d2370,15,5,2,14057,,,0,"Added network verification step. Fixed some issues

Change-Id: I79604368a8b707370c8a5202a59dd3cb51a67d70
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/53/149553/2 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_simple.py'],1,20d53296af6468ed379d2eca4317f2e06ff7aa21,akurenyshev," self.env.make_snapshot(""deploy_simple_vlan"", is_make=True) @test(depends_on=[deploy_simple_vlan], groups=[""deploy_base_os_node""]) @log_snapshot_on_error def deploy_base_os_node(self): """"""Add compute node to cluster in simple mode Scenario: 1. Revert snapshot ""deploy_simple_vlan"" 2. Add 1 node with base-os role 3. Deploy the cluster 4. Run OSTF Snapshot: simple_flat_add_compute """""" self.env.revert_snapshot(""deploy_simple_vlan"") cluster_id = self.fuel_web.get_last_created_cluster() self.fuel_web.update_nodes( cluster_id, {'slave-03': ['base-os']}, True, False) self.fuel_web.deploy_cluster_wait(cluster_id) assert_equal( 3, len(self.fuel_web.client.list_cluster_nodes(cluster_id))) self.fuel_web.run_ostf(cluster_id=cluster_id) self.env.make_snapshot(""simple_flat_add_base_os"", is_make=True)"," self.env.make_snapshot(""deploy_simple_vlan"") ",30,1
openstack%2Fhorizon~master~Ibcb0e4b592882e2dfb9322632b56c1385a782c44,openstack/horizon,master,Ibcb0e4b592882e2dfb9322632b56c1385a782c44,Misspell in comments in settings.py,MERGED,2015-01-23 04:11:42.000000000,2015-01-23 14:10:25.000000000,2015-01-23 14:10:24.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 2455}, {'_account_id': 4264}, {'_account_id': 13325}]","[{'number': 1, 'created': '2015-01-23 04:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ac7ae0bcb5764e78450915d353f35dc8439a7bf1', 'message': ""Misspell in comments\n\n'af' should be 'of'\n\nChange-Id: Ibcb0e4b592882e2dfb9322632b56c1385a782c44\n""}, {'number': 2, 'created': '2015-01-23 11:08:57.000000000', 'files': ['openstack_dashboard/settings.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a3c6300161e036539aad5bed06a8b5b33f385478', 'message': ""Misspell in comments in settings.py\n\n'af' should be 'of' in openstack_dashboard/settings.py\n\nChange-Id: Ibcb0e4b592882e2dfb9322632b56c1385a782c44\n""}]",1,149470,a3c6300161e036539aad5bed06a8b5b33f385478,11,5,2,6282,,,0,"Misspell in comments in settings.py

'af' should be 'of' in openstack_dashboard/settings.py

Change-Id: Ibcb0e4b592882e2dfb9322632b56c1385a782c44
",git fetch https://review.opendev.org/openstack/horizon refs/changes/70/149470/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/settings.py'],1,ac7ae0bcb5764e78450915d353f35dc8439a7bf1,misspell,"# A token can be near the end of validity when a page starts loading, and","# A token can be near the end af validity when a page starts loading, and",1,1
openstack%2Fhorizon~master~I8084ea39beacb8339f18d8ea3805df720ca776df,openstack/horizon,master,I8084ea39beacb8339f18d8ea3805df720ca776df,Fix spelling and description in IPv6 subnet modes,MERGED,2015-01-22 14:05:59.000000000,2015-01-23 14:10:14.000000000,2015-01-23 14:10:12.000000000,"[{'_account_id': 3}, {'_account_id': 2455}, {'_account_id': 4978}, {'_account_id': 8871}]","[{'number': 1, 'created': '2015-01-22 14:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d195af502e798da51896b0ad8c7a7a6aeb21cf45', 'message': 'Fixing spelling and description in IPv6 subnet modes\n\nChange-Id: I8084ea39beacb8339f18d8ea3805df720ca776df\n'}, {'number': 2, 'created': '2015-01-22 14:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b977727771b1568d5561928bb64b9bb1d0c637a1', 'message': 'Fixing spelling and description in IPv6 subnet modes. \n\nCloses-Bug:1413594\nChange-Id: I8084ea39beacb8339f18d8ea3805df720ca776df\n'}, {'number': 3, 'created': '2015-01-22 20:48:43.000000000', 'files': ['openstack_dashboard/dashboards/project/networks/subnets/utils.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/88c22bd1d4a59eb58fd1c9bc5117e2216a5c9844', 'message': 'Fix spelling and description in IPv6 subnet modes\n\nCloses-Bug:1413594\nChange-Id: I8084ea39beacb8339f18d8ea3805df720ca776df\n'}]",0,149262,88c22bd1d4a59eb58fd1c9bc5117e2216a5c9844,14,4,3,11420,,,0,"Fix spelling and description in IPv6 subnet modes

Closes-Bug:1413594
Change-Id: I8084ea39beacb8339f18d8ea3805df720ca776df
",git fetch https://review.opendev.org/openstack/horizon refs/changes/62/149262/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/networks/subnets/utils.py'],1,d195af502e798da51896b0ad8c7a7a6aeb21cf45,bug/1413594," _('SLAAC: Address discovered from OpenStack Router')), _('DHCPv6 stateful: Address discovered from OpenStack DHCP')), _('DHCPv6 stateless: Address discovered from OpenStack Router ' 'and additional information from OpenStack DHCP')),"," _('SLAAC: Address discovered from Openstack Router')), _('DHCPv6 stateful: Address discovered from Openstack DHCP')), _('DHCPv6 stateless: Address discovered from Openstack Router ' 'and info from Openstack DHCP')),",4,4
openstack%2Fhorizon~master~I0a2c6f62844a4120081e74689c4ca8d8cf35251d,openstack/horizon,master,I0a2c6f62844a4120081e74689c4ca8d8cf35251d,"Add ""Check Stack"" action to Stacks table",MERGED,2014-12-19 14:35:07.000000000,2015-01-23 14:10:02.000000000,2015-01-23 14:10:00.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 2455}, {'_account_id': 6577}, {'_account_id': 6914}]","[{'number': 1, 'created': '2014-12-19 14:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b08ae39ec4250bff55b76f0594026dd377dbd410', 'message': 'Add ""Check Stack"" action to Stacks table\n\nThis patch set adds ""Check Stack"" button to Stacks table\nto provide user with a possibility to check stack, like it is\nalready implemented in CLI.\n\nPartially implements blueprint: heat-ui-improvement\n\nChange-Id: I0a2c6f62844a4120081e74689c4ca8d8cf35251d\n'}, {'number': 2, 'created': '2014-12-19 20:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6fbb99ea27e329e38a9c76bcc47ddbffd63c70d0', 'message': 'Add ""Check Stack"" action to Stacks table\n\nThis patch set adds ""Check Stack"" button to Stacks table\nto provide user with a possibility to check stack, like it is\nalready implemented in CLI.\n\nPartially implements blueprint: heat-ui-improvement\n\nChange-Id: I0a2c6f62844a4120081e74689c4ca8d8cf35251d\n'}, {'number': 3, 'created': '2015-01-20 10:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/35ff38dbbc3d2e58e6ecd3c99f0c4d82fe962d11', 'message': 'Add ""Check Stack"" action to Stacks table\n\nThis patch set adds ""Check Stack"" button to Stacks table\nto provide user with a possibility to check stack, like it is\nalready implemented in CLI.\n\nPartially implements blueprint: heat-ui-improvement\n\nChange-Id: I0a2c6f62844a4120081e74689c4ca8d8cf35251d\n'}, {'number': 4, 'created': '2015-01-22 04:30:10.000000000', 'files': ['openstack_dashboard/api/heat.py', 'openstack_dashboard/dashboards/project/stacks/tests.py', 'openstack_dashboard/conf/heat_policy.json', 'openstack_dashboard/dashboards/project/stacks/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a57e913e6cd0a38077aeb7b3d10d43a36741f69a', 'message': 'Add ""Check Stack"" action to Stacks table\n\nThis patch set adds ""Check Stack"" button to Stacks table\nto provide user with a possibility to check stack, like it is\nalready implemented in CLI.\n\nPartially implements blueprint: heat-ui-improvement\n\nChange-Id: I0a2c6f62844a4120081e74689c4ca8d8cf35251d\n'}]",6,143098,a57e913e6cd0a38077aeb7b3d10d43a36741f69a,22,5,4,6914,,,0,"Add ""Check Stack"" action to Stacks table

This patch set adds ""Check Stack"" button to Stacks table
to provide user with a possibility to check stack, like it is
already implemented in CLI.

Partially implements blueprint: heat-ui-improvement

Change-Id: I0a2c6f62844a4120081e74689c4ca8d8cf35251d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/98/143098/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/api/heat.py', 'openstack_dashboard/dashboards/project/stacks/tables.py']",2,b08ae39ec4250bff55b76f0594026dd377dbd410,bp/heat-ui-improvement,"import logging from django import shortcutsfrom horizon import exceptionsLOG = logging.getLogger(__name__) class CheckStack(tables.Action): name = ""check"" verbose_name = _(""Check Stack"") url = ""horizon:project:stacks:select_template"" # classes = (""ajax-modal"",) # policy_rules = ((""orchestration"", ""cloudformation:CheckStack""),) def single(self, table, request, stack_id): try: api.heat.action_check(request, stack_id) LOG.info('Check stack ""%s"".' % stack_id) messages.success(request, _('Successfully checked stack: %s') % stack_id) except Exception: exceptions.handle(request, _('Unable to check stack.')) return shortcuts.redirect('horizon:project:stacks:index') ChangeStackTemplate, CheckStack)", ChangeStackTemplate),33,1
openstack%2Fneutron~master~I967339c4579d42c5ca9cea7f1ef3ba2233a6ff9d,openstack/neutron,master,I967339c4579d42c5ca9cea7f1ef3ba2233a6ff9d,Drop SecurityGroupServerRpcApiMixin,MERGED,2015-01-21 21:40:55.000000000,2015-01-23 14:09:47.000000000,2015-01-23 14:09:45.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 7293}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-21 21:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bf2e6f651a9198a167ac0a68168d061d2d90d379', 'message': 'Drop SecurityGroupServerRpcApiMixin\n\nThe code base has now been migrated away from using this class, so it\ncan be removed.  This was a prerequisite to being able to put this rpc\napi into a messaging namespace.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I967339c4579d42c5ca9cea7f1ef3ba2233a6ff9d\n'}, {'number': 2, 'created': '2015-01-22 14:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be126a6ccf7182334b404325aca6dac170d5a490', 'message': 'Drop SecurityGroupServerRpcApiMixin\n\nThe code base has now been migrated away from using this class, so it\ncan be removed.  This was a prerequisite to being able to put this rpc\napi into a messaging namespace.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I967339c4579d42c5ca9cea7f1ef3ba2233a6ff9d\n'}, {'number': 3, 'created': '2015-01-22 20:39:50.000000000', 'files': ['neutron/agent/securitygroups_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/482f41b8c1e68699075162cc92737794700f25a6', 'message': 'Drop SecurityGroupServerRpcApiMixin\n\nThe code base has now been migrated away from using this class, so it\ncan be removed.  This was a prerequisite to being able to put this rpc\napi into a messaging namespace.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I967339c4579d42c5ca9cea7f1ef3ba2233a6ff9d\n'}]",0,149054,482f41b8c1e68699075162cc92737794700f25a6,61,23,3,1561,,,0,"Drop SecurityGroupServerRpcApiMixin

The code base has now been migrated away from using this class, so it
can be removed.  This was a prerequisite to being able to put this rpc
api into a messaging namespace.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: I967339c4579d42c5ca9cea7f1ef3ba2233a6ff9d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/149054/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/securitygroups_rpc.py'],1,bf2e6f651a9198a167ac0a68168d061d2d90d379,bp/rpc-docs-and-namespaces,"class SecurityGroupServerRpcApi(object): """"""RPC client for security group methods in the plugin. This class implements the client side of an rpc interface. This interface is used by agents to call security group related methods implemented on the plugin side. The other side of this interface can be found in neutron.api.rpc.handlers.SecurityGroupServerRpcCallback. For more information about changing rpc interfaces, see doc/source/devref/rpc_api.rst. """""" def __init__(self, topic): target = messaging.Target(topic=topic, version='1.0') self.client = n_rpc.get_client(target)","class SecurityGroupServerRpcApiMixin(object): """"""A mix-in that enable SecurityGroup support in plugin rpc.""""""# NOTE(russellb) This class currently serves as a transition point as the code # base is migrated away from using the Mixin class. Once the mixin usage is # removed, the body of the mixin will be folded into this class. This class # must become standalone before we can move this API into a messaging # namespace. For more info on why this should be put in a namespace, see # http://specs.openstack.org/openstack/neutron-specs/ # specs/kilo/rpc-docs-and-namespaces.html class SecurityGroupServerRpcApi(SecurityGroupServerRpcApiMixin): """"""RPC client for security group methods in the plugin. This class implements the client side of an rpc interface. This interface is used by agents to call security group related methods implemented on the plugin side. The other side of this interface can be found in neutron.api.rpc.handlers.SecurityGroupServerRpcCallback. For more information about changing rpc interfaces, see doc/source/devref/rpc_api.rst. """""" def __init__(self, topic): target = messaging.Target(topic=topic, version='1.0') self.client = n_rpc.get_client(target) ",13,24
openstack%2Ffuel-web~master~I7311006d6c050423ff31923310c5f9de8519788d,openstack/fuel-web,master,I7311006d6c050423ff31923310c5f9de8519788d,Disable SSH password auth for IBP provisioned nodes,MERGED,2015-01-23 11:19:48.000000000,2015-01-23 14:06:54.000000000,2015-01-23 14:06:54.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8392}, {'_account_id': 8749}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 10391}]","[{'number': 1, 'created': '2015-01-23 11:19:48.000000000', 'files': ['fuel_agent/cloud-init-templates/cloud_config_centos.jinja2', 'fuel_agent/cloud-init-templates/cloud_config_ubuntu.jinja2'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/82a9643434113277f50908b160e488cec07b0da7', 'message': 'Disable SSH password auth for IBP provisioned nodes\n\nSSH password authentification was enabled in cloud-config.\nSetting it to `false`.\n\nChange-Id: I7311006d6c050423ff31923310c5f9de8519788d\nCloses-Bug: #1413690\n'}]",0,149573,82a9643434113277f50908b160e488cec07b0da7,11,7,1,8003,,,0,"Disable SSH password auth for IBP provisioned nodes

SSH password authentification was enabled in cloud-config.
Setting it to `false`.

Change-Id: I7311006d6c050423ff31923310c5f9de8519788d
Closes-Bug: #1413690
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/73/149573/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_agent/cloud-init-templates/cloud_config_centos.jinja2', 'fuel_agent/cloud-init-templates/cloud_config_ubuntu.jinja2']",2,82a9643434113277f50908b160e488cec07b0da7,bug/1413690,ssh_pwauth: false,ssh_pwauth: true,2,2
openstack%2Fneutron~master~I157866bb65f884f80a9c3d70ffdcd487644caaef,openstack/neutron,master,I157866bb65f884f80a9c3d70ffdcd487644caaef,sriovnicagent: drop usage of SecurityGroupServerRpcApiMixin,MERGED,2015-01-21 21:40:55.000000000,2015-01-23 14:06:28.000000000,2015-01-23 14:06:27.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-21 21:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bac86599dbe69c9e24f835c910d2b517dcfef26f', 'message': 'sriovnicagent: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in sriovnicagent.\nThis is required to be able to eventually move this API into\na messaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as\na mixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I157866bb65f884f80a9c3d70ffdcd487644caaef\n'}, {'number': 2, 'created': '2015-01-22 14:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d752c23fbd42648147f7fa62fd5e4e2a1228de55', 'message': 'sriovnicagent: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in sriovnicagent.\nThis is required to be able to eventually move this API into\na messaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as\na mixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I157866bb65f884f80a9c3d70ffdcd487644caaef\n'}, {'number': 3, 'created': '2015-01-22 20:39:50.000000000', 'files': ['neutron/plugins/sriovnicagent/sriov_nic_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1af2cdc374f6b1b62a3258ff6cda51369aad7a5', 'message': 'sriovnicagent: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in sriovnicagent.\nThis is required to be able to eventually move this API into\na messaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as\na mixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I157866bb65f884f80a9c3d70ffdcd487644caaef\n'}]",0,149053,a1af2cdc374f6b1b62a3258ff6cda51369aad7a5,53,20,3,1561,,,0,"sriovnicagent: drop usage of SecurityGroupServerRpcApiMixin

Drop usage of SecurityGroupServerRpcApiMixin in sriovnicagent.
This is required to be able to eventually move this API into
a messaging namespace.  It needs to use its own messaging client
instance, instead of a different one it gets after being used as
a mixin.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: I157866bb65f884f80a9c3d70ffdcd487644caaef
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/149053/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/sriovnicagent/sriov_nic_agent.py'],1,bac86599dbe69c9e24f835c910d2b517dcfef26f,bp/rpc-docs-and-namespaces," self.plugin_rpc = agent_rpc.PluginApi(topics.PLUGIN) self.sg_plugin_rpc = sg_rpc.SecurityGroupServerRpcApi(topics.PLUGIN) self.sg_plugin_rpc, self.root_helper)","class SriovNicSwitchPluginApi(agent_rpc.PluginApi, sg_rpc.SecurityGroupServerRpcApiMixin): pass self.plugin_rpc = SriovNicSwitchPluginApi(topics.PLUGIN) self.plugin_rpc, self.root_helper)",3,7
openstack%2Fneutron~master~I46bdf2132bfed582df85bb302f55b1840e7a7a18,openstack/neutron,master,I46bdf2132bfed582df85bb302f55b1840e7a7a18,sriovnicagent: untangle SecurityGroupAgentRpcMixin,MERGED,2015-01-21 21:40:55.000000000,2015-01-23 14:00:36.000000000,2015-01-23 14:00:34.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 7743}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-21 21:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1eec76898f2b124589402b1edce40ff46948a83', 'message': ""sriovnicagent: untangle SecurityGroupAgentRpcMixin\n\nThis patch separates the use of SecurityGroupAgentRpcMixin out to its\nown class.  This matches most of the rest of the code base.  This\nseparation is needed to be able to eventually move this rpc API into\nits own messaging namespace.  Now that it's separate, a future change\ncan pass the new class an instance of SecurityGroupServerRpcApi\ninstead of assuming that the PluginApi instance includes\nSecurityGroupServerRpcApiMixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I46bdf2132bfed582df85bb302f55b1840e7a7a18\n""}, {'number': 2, 'created': '2015-01-22 14:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/18dd204899f462e5b8e8098380d4dc40ad8c7348', 'message': ""sriovnicagent: untangle SecurityGroupAgentRpcMixin\n\nThis patch separates the use of SecurityGroupAgentRpcMixin out to its\nown class.  This matches most of the rest of the code base.  This\nseparation is needed to be able to eventually move this rpc API into\nits own messaging namespace.  Now that it's separate, a future change\ncan pass the new class an instance of SecurityGroupServerRpcApi\ninstead of assuming that the PluginApi instance includes\nSecurityGroupServerRpcApiMixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I46bdf2132bfed582df85bb302f55b1840e7a7a18\n""}, {'number': 3, 'created': '2015-01-22 20:39:50.000000000', 'files': ['neutron/plugins/sriovnicagent/sriov_nic_agent.py', 'neutron/tests/unit/sriovnicagent/test_sriov_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6592f74021fbb4a1d577733292233f0a3f7be5f', 'message': ""sriovnicagent: untangle SecurityGroupAgentRpcMixin\n\nThis patch separates the use of SecurityGroupAgentRpcMixin out to its\nown class.  This matches most of the rest of the code base.  This\nseparation is needed to be able to eventually move this rpc API into\nits own messaging namespace.  Now that it's separate, a future change\ncan pass the new class an instance of SecurityGroupServerRpcApi\ninstead of assuming that the PluginApi instance includes\nSecurityGroupServerRpcApiMixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I46bdf2132bfed582df85bb302f55b1840e7a7a18\n""}]",0,149052,e6592f74021fbb4a1d577733292233f0a3f7be5f,55,22,3,1561,,,0,"sriovnicagent: untangle SecurityGroupAgentRpcMixin

This patch separates the use of SecurityGroupAgentRpcMixin out to its
own class.  This matches most of the rest of the code base.  This
separation is needed to be able to eventually move this rpc API into
its own messaging namespace.  Now that it's separate, a future change
can pass the new class an instance of SecurityGroupServerRpcApi
instead of assuming that the PluginApi instance includes
SecurityGroupServerRpcApiMixin.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: I46bdf2132bfed582df85bb302f55b1840e7a7a18
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/149052/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/sriovnicagent/sriov_nic_agent.py', 'neutron/tests/unit/sriovnicagent/test_sriov_neutron_agent.py']",2,f1eec76898f2b124589402b1edce40ff46948a83,bp/rpc-docs-and-namespaces," agent.sg_agent.prepare_devices_filter = mock.Mock() agent.sg_agent.refresh_firewall = mock.Mock() agent.sg_agent.prepare_devices_filter.assert_called_with( set(['mac3', 'mac4'])) self.assertTrue(agent.sg_agent.refresh_firewall.called)"," agent.prepare_devices_filter = mock.Mock() agent.refresh_firewall = mock.Mock() agent.prepare_devices_filter.assert_called_with(set(['mac3', 'mac4'])) self.assertTrue(agent.refresh_firewall.called)",25,13
openstack%2Fneutron~master~Iba96bddf30f33569a96548a5f116d66a4db6fc8f,openstack/neutron,master,Iba96bddf30f33569a96548a5f116d66a4db6fc8f,mlnx: drop usage of SecurityGroupServerRpcApiMixin,MERGED,2015-01-21 20:19:00.000000000,2015-01-23 14:00:21.000000000,2015-01-23 14:00:19.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-21 20:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7e8694630226adad51b55f0a7a20e12a161caa6', 'message': 'mlnx: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the mlnx agent.\nThis is required to be able to eventually move this API into\na messaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as\na mixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Iba96bddf30f33569a96548a5f116d66a4db6fc8f\n'}, {'number': 2, 'created': '2015-01-22 14:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9dc3836ffb38a8b2c279eecb3f8f65e52d9e29db', 'message': 'mlnx: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the mlnx agent.\nThis is required to be able to eventually move this API into\na messaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as\na mixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Iba96bddf30f33569a96548a5f116d66a4db6fc8f\n'}, {'number': 3, 'created': '2015-01-22 20:39:50.000000000', 'files': ['neutron/plugins/mlnx/agent/eswitch_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/168b3c5dfd2b9bf50520e89ebc293f0fac0c35a6', 'message': 'mlnx: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the mlnx agent.\nThis is required to be able to eventually move this API into\na messaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as\na mixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Iba96bddf30f33569a96548a5f116d66a4db6fc8f\n'}]",0,149034,168b3c5dfd2b9bf50520e89ebc293f0fac0c35a6,51,20,3,1561,,,0,"mlnx: drop usage of SecurityGroupServerRpcApiMixin

Drop usage of SecurityGroupServerRpcApiMixin in the mlnx agent.
This is required to be able to eventually move this API into
a messaging namespace.  It needs to use its own messaging client
instance, instead of a different one it gets after being used as
a mixin.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: Iba96bddf30f33569a96548a5f116d66a4db6fc8f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/149034/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/mlnx/agent/eswitch_neutron_agent.py'],1,e7e8694630226adad51b55f0a7a20e12a161caa6,bp/rpc-docs-and-namespaces," self.plugin_rpc = agent_rpc.PluginApi(topics.PLUGIN) self.sg_plugin_rpc = sg_rpc.SecurityGroupServerRpcApi(topics.PLUGIN) self.sg_plugin_rpc, root_helper)","class MlnxEswitchPluginApi(agent_rpc.PluginApi, sg_rpc.SecurityGroupServerRpcApiMixin): pass self.plugin_rpc = MlnxEswitchPluginApi(topics.PLUGIN) self.plugin_rpc, root_helper)",3,7
openstack%2Fneutron~master~Ie850a262bc7e4b697003cf6d91780dc819c688e0,openstack/neutron,master,Ie850a262bc7e4b697003cf6d91780dc819c688e0,mlnx: untangle SecurityGroupAgentRpcMixin,MERGED,2015-01-21 20:19:00.000000000,2015-01-23 14:00:06.000000000,2015-01-23 14:00:05.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 7743}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-21 20:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e23d40c90071b406aaf923afb9fe7108337f838f', 'message': ""mlnx: untangle SecurityGroupAgentRpcMixin\n\nThis patch separates the use of SecurityGroupAgentRpcMixin out to its\nown class.  This matches most of the rest of the code base.  This\nseparation is needed to be able to eventually move this rpc API into\nits own messaging namespace.  Now that it's separate, a future change\ncan pass the new class an instance of SecurityGroupServerRpcApi\ninstead of assuming that the PluginApi instance includes\nSecurityGroupServerRpcApiMixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Ie850a262bc7e4b697003cf6d91780dc819c688e0\n""}, {'number': 2, 'created': '2015-01-22 14:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/21920523ced14170aff53f1db11c072c7ea2c8f3', 'message': ""mlnx: untangle SecurityGroupAgentRpcMixin\n\nThis patch separates the use of SecurityGroupAgentRpcMixin out to its\nown class.  This matches most of the rest of the code base.  This\nseparation is needed to be able to eventually move this rpc API into\nits own messaging namespace.  Now that it's separate, a future change\ncan pass the new class an instance of SecurityGroupServerRpcApi\ninstead of assuming that the PluginApi instance includes\nSecurityGroupServerRpcApiMixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Ie850a262bc7e4b697003cf6d91780dc819c688e0\n""}, {'number': 3, 'created': '2015-01-22 20:39:50.000000000', 'files': ['neutron/tests/unit/mlnx/test_mlnx_neutron_agent.py', 'neutron/plugins/mlnx/agent/eswitch_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe4a82254d54750082c3a6d909c6643aa9d2bce7', 'message': ""mlnx: untangle SecurityGroupAgentRpcMixin\n\nThis patch separates the use of SecurityGroupAgentRpcMixin out to its\nown class.  This matches most of the rest of the code base.  This\nseparation is needed to be able to eventually move this rpc API into\nits own messaging namespace.  Now that it's separate, a future change\ncan pass the new class an instance of SecurityGroupServerRpcApi\ninstead of assuming that the PluginApi instance includes\nSecurityGroupServerRpcApiMixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Ie850a262bc7e4b697003cf6d91780dc819c688e0\n""}]",1,149033,fe4a82254d54750082c3a6d909c6643aa9d2bce7,51,20,3,1561,,,0,"mlnx: untangle SecurityGroupAgentRpcMixin

This patch separates the use of SecurityGroupAgentRpcMixin out to its
own class.  This matches most of the rest of the code base.  This
separation is needed to be able to eventually move this rpc API into
its own messaging namespace.  Now that it's separate, a future change
can pass the new class an instance of SecurityGroupServerRpcApi
instead of assuming that the PluginApi instance includes
SecurityGroupServerRpcApiMixin.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: Ie850a262bc7e4b697003cf6d91780dc819c688e0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/149033/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/mlnx/test_mlnx_neutron_agent.py', 'neutron/plugins/mlnx/agent/eswitch_neutron_agent.py']",2,e23d40c90071b406aaf923afb9fe7108337f838f,bp/rpc-docs-and-namespaces," def __init__(self, context, agent, sg_agent): self.sg_agent = sg_agentclass MlnxEswitchSecurityGroupAgent(sg_rpc.SecurityGroupAgentRpcMixin): def __init__(self, context, plugin_rpc, root_helper): self.context = context self.plugin_rpc = plugin_rpc self.root_helper = root_helper self.init_firewall() class MlnxEswitchNeutronAgent(object): def __init__(self, interface_mapping, root_helper): self.context = context.get_admin_context_without_session() self.plugin_rpc = MlnxEswitchPluginApi(topics.PLUGIN) self.sg_agent = MlnxEswitchSecurityGroupAgent(self.context, self.plugin_rpc, root_helper) self.endpoints = [MlnxEswitchRpcCallbacks(self.context, self, self.sg_agent)] root_helper = cfg.CONF.AGENT.root_helper try: agent = MlnxEswitchNeutronAgent(interface_mappings, root_helper)"," def __init__(self, context, agent): self.sg_agent = agentclass MlnxEswitchNeutronAgent(sg_rpc.SecurityGroupAgentRpcMixin): def __init__(self, interface_mapping): self.init_firewall() self.plugin_rpc = MlnxEswitchPluginApi(topics.PLUGIN) self.context = context.get_admin_context_without_session() self.endpoints = [MlnxEswitchRpcCallbacks(self.context, self)] try: agent = MlnxEswitchNeutronAgent(interface_mappings)",22,10
openstack%2Fneutron~master~I736468ebd32822352e44eda8c5f1a25972a70fda,openstack/neutron,master,I736468ebd32822352e44eda8c5f1a25972a70fda,linuxbridge: drop usage of SecurityGroupServerRpcApiMixin,MERGED,2015-01-21 18:46:32.000000000,2015-01-23 13:57:48.000000000,2015-01-23 13:57:47.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6854}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-21 18:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/600d31c414004905a08138252a9c9d47997448a9', 'message': 'linuxbridge: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the linuxbridge agent.\nThis is required to be able to eventually move this API into\na messaging namespace.  It needs to use its own messaging lient\ninstance, instead of a different one it gets after being used as\na mixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I736468ebd32822352e44eda8c5f1a25972a70fda\n'}, {'number': 2, 'created': '2015-01-21 19:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2156a5dccb94b3f1cf1ebc7e861f8c8676add95a', 'message': 'linuxbridge: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the linuxbridge agent.\nThis is required to be able to eventually move this API into\na messaging namespace.  It needs to use its own messaging lient\ninstance, instead of a different one it gets after being used as\na mixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I736468ebd32822352e44eda8c5f1a25972a70fda\n'}, {'number': 3, 'created': '2015-01-21 20:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/540bb2aa5c49b87acdf73013a52f3ddd6ae9a90b', 'message': 'linuxbridge: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the linuxbridge agent.\nThis is required to be able to eventually move this API into\na messaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as\na mixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I736468ebd32822352e44eda8c5f1a25972a70fda\n'}, {'number': 4, 'created': '2015-01-22 14:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4bb9240a9284cbd4f9e431d90119b8f660b764b6', 'message': 'linuxbridge: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the linuxbridge agent.\nThis is required to be able to eventually move this API into\na messaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as\na mixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I736468ebd32822352e44eda8c5f1a25972a70fda\n'}, {'number': 5, 'created': '2015-01-22 20:39:50.000000000', 'files': ['neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff4574bf4ec5bf3aba06fef715f9138b27a059fa', 'message': 'linuxbridge: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the linuxbridge agent.\nThis is required to be able to eventually move this API into\na messaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as\na mixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I736468ebd32822352e44eda8c5f1a25972a70fda\n'}]",0,149023,ff4574bf4ec5bf3aba06fef715f9138b27a059fa,79,22,5,1561,,,0,"linuxbridge: drop usage of SecurityGroupServerRpcApiMixin

Drop usage of SecurityGroupServerRpcApiMixin in the linuxbridge agent.
This is required to be able to eventually move this API into
a messaging namespace.  It needs to use its own messaging client
instance, instead of a different one it gets after being used as
a mixin.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: I736468ebd32822352e44eda8c5f1a25972a70fda
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/149023/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py'],1,600d31c414004905a08138252a9c9d47997448a9,bp/rpc-docs-and-namespaces," self.sg_plugin_rpc, self.root_helper) self.plugin_rpc = agent_rpc.PluginApi(topics.PLUGIN) self.sg_plugin_rpc = sg_rpc.SecurityGroupServerRpcApi(topics.PLUGIN)","class LinuxBridgePluginApi(agent_rpc.PluginApi, sg_rpc.SecurityGroupServerRpcApiMixin): pass self.plugin_rpc, self.root_helper) self.plugin_rpc = LinuxBridgePluginApi(topics.PLUGIN)",3,7
openstack%2Fec2-api~master~Idcf928e3887b20d6bd0636747a02ab43bc1cf812,openstack/ec2-api,master,Idcf928e3887b20d6bd0636747a02ab43bc1cf812,Fixed bugs in filtering and routing,MERGED,2015-01-23 12:53:55.000000000,2015-01-23 13:42:20.000000000,2015-01-23 13:42:19.000000000,"[{'_account_id': 3}, {'_account_id': 10224}, {'_account_id': 10234}]","[{'number': 1, 'created': '2015-01-23 12:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/e6b27505751ba4e0673bbecb62925ae6e8dae440', 'message': 'Fixed bugs in filtering and routing\n\nChange-Id: Idcf928e3887b20d6bd0636747a02ab43bc1cf812\n'}, {'number': 2, 'created': '2015-01-23 13:22:58.000000000', 'files': ['ec2api/api/common.py', 'ec2api/tests/test_common.py', 'ec2api/tests/test_route_table.py', 'ec2api/api/route_table.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/e7b38152ff8f542eae80e33158b94bc3c7a65038', 'message': 'Fixed bugs in filtering and routing\n\nChange-Id: Idcf928e3887b20d6bd0636747a02ab43bc1cf812\n'}]",0,149608,e7b38152ff8f542eae80e33158b94bc3c7a65038,9,3,2,9312,,,0,"Fixed bugs in filtering and routing

Change-Id: Idcf928e3887b20d6bd0636747a02ab43bc1cf812
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/08/149608/2 && git format-patch -1 --stdout FETCH_HEAD,"['ec2api/api/common.py', 'ec2api/api/route_table.py']",2,e6b27505751ba4e0673bbecb62925ae6e8dae440,, return {'newAssociationId': association_id}, return {'associationId': association_id},6,2
openstack%2Fmistral~master~I4eca8180b7af5993dbbec38ea95dff9741df963f,openstack/mistral,master,I4eca8180b7af5993dbbec38ea95dff9741df963f,Changing publishing mechanism to allow referencing context variables,ABANDONED,2015-01-23 13:23:12.000000000,2015-01-23 13:33:18.000000000,,[{'_account_id': 8731}],"[{'number': 1, 'created': '2015-01-23 13:23:12.000000000', 'files': ['mistral/workflow/data_flow.py', 'mistral/tests/unit/engine1/test_dataflow.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/712f56dbf6ff7528219d1ce3d32741a5d30f7ba4', 'message': 'Changing publishing mechanism to allow referencing context variables\n\n* All previously published variables can be now access using \'$.\'\n  as in other places. E.g., if we had variable \'var1\' in the context\n  we can use \'$.var1\' to access it in \'publish\'.\n* Action/workflow result can be referenced using ""$.taskName."".\n  E.g, if task name is \'task0\' and its action/workflow returned {x: y}\n  then \'x\' can be referenced using \'$.task0.x\' in \'publish\'.\n\nWIP\n\nCloses-Bug: #1412635\n\nChange-Id: I4eca8180b7af5993dbbec38ea95dff9741df963f\n'}]",0,149619,712f56dbf6ff7528219d1ce3d32741a5d30f7ba4,3,1,1,8731,,,0,"Changing publishing mechanism to allow referencing context variables

* All previously published variables can be now access using '$.'
  as in other places. E.g., if we had variable 'var1' in the context
  we can use '$.var1' to access it in 'publish'.
* Action/workflow result can be referenced using ""$.taskName."".
  E.g, if task name is 'task0' and its action/workflow returned {x: y}
  then 'x' can be referenced using '$.task0.x' in 'publish'.

WIP

Closes-Bug: #1412635

Change-Id: I4eca8180b7af5993dbbec38ea95dff9741df963f
",git fetch https://review.opendev.org/openstack/mistral refs/changes/19/149619/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/workflow/data_flow.py', 'mistral/tests/unit/engine1/test_dataflow.py']",2,712f56dbf6ff7528219d1ce3d32741a5d30f7ba4,bug/1412635,"import mockfrom mistral.db.v2.sqlalchemy import modelsfrom mistral.tests import base as test_base from mistral.tests.unit.engine1 import base as engine_test_base from mistral.workflow import data_flow from mistral.workflow import states from mistral.workflow import utilsclass DataFlowEngineTest(engine_test_base.EngineTestCase): class DataFlowTest(test_base.BaseTest): def test_evaluate_task_output_simple(self): """"""Test simplest green-path scenario: action status is SUCCESS, action output is string published variables are static (no expression), environment __env is absent. Expected to get publish variables AS IS. """""" publish_dict = {'foo': 'bar'} action_output = 'string data' task_db = models.Task(name='task1') task_spec = mock.MagicMock() task_spec.get_publish = mock.MagicMock(return_value=publish_dict) raw_result = utils.TaskResult(data=action_output, error=None) res = data_flow.evaluate_task_output(task_db, task_spec, raw_result) self.assertEqual(res['foo'], 'bar') self.assertEqual(res['task']['task1'], publish_dict) def test_evaluate_task_output(self): """"""Test green-path scenario with evaluations action status is SUCCESS, action output is dict published variables with expression, environment __env is present. Expected to get resolved publish variables. """""" in_context = { 'var': 'val', '__env': {'ekey': 'edata'} } action_output = {'akey': 'adata'} publish = { 'v': '{$.var}', 'e': '$.__env.ekey', 'a': '{$.task1.akey}' } task_db = models.Task(name='task1') task_db.in_context = in_context task_spec = mock.MagicMock() task_spec.get_publish = mock.MagicMock(return_value=publish) raw_result = utils.TaskResult(data=action_output, error=None) res = data_flow.evaluate_task_output(task_db, task_spec, raw_result) # Resolved from inbound context. self.assertEqual(res['v'], 'val') # Resolved from environment. self.assertEqual(res['e'], 'edata') # Resolved from action output. self.assertEqual(res['a'], 'adata') def test_evaluate_task_output_with_error(self): """"""Test handling ERROR in action action status is ERROR, action output is error string published variables should not evaluate, Expected to get action error. """""" publish_dict = {'foo': '$.akey'} action_output = 'error data' task_db = models.Task(name='task1') task_spec = mock.MagicMock() task_spec.get_publish = mock.MagicMock(return_value=publish_dict) raw_result = utils.TaskResult(data=None, error=action_output) res = data_flow.evaluate_task_output(task_db, task_spec, raw_result) self.assertDictEqual( res, {'error': action_output, 'task': {'task1': action_output}})",from mistral.engine import statesfrom mistral.tests.unit.engine1 import baseclass DataFlowEngineTest(base.EngineTestCase):,126,27
openstack%2Ffuel-library~master~I79b5b33c44efb6e6fb4c9a110e2394cafef693dd,openstack/fuel-library,master,I79b5b33c44efb6e6fb4c9a110e2394cafef693dd,Add pre/post stages into graph stored in library,MERGED,2015-01-22 15:31:33.000000000,2015-01-23 13:17:55.000000000,2015-01-23 13:17:54.000000000,"[{'_account_id': 3}, {'_account_id': 8776}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}, {'_account_id': 11827}, {'_account_id': 12200}]","[{'number': 1, 'created': '2015-01-22 15:31:33.000000000', 'files': ['deployment/puppet/deployment_groups/tasks.yaml'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/575f0bcd3fd0ea0635cb69d866e86a241d7b5c6e', 'message': 'Add pre/post stages into graph stored in library\n\nRequired for nailgun to operate on graph\n\nimplements blueprint granular-deployment-based-on-tasks\n\nChange-Id: I79b5b33c44efb6e6fb4c9a110e2394cafef693dd\n'}]",0,149316,575f0bcd3fd0ea0635cb69d866e86a241d7b5c6e,15,8,1,8907,,,0,"Add pre/post stages into graph stored in library

Required for nailgun to operate on graph

implements blueprint granular-deployment-based-on-tasks

Change-Id: I79b5b33c44efb6e6fb4c9a110e2394cafef693dd
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/16/149316/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/deployment_groups/tasks.yaml'],1,575f0bcd3fd0ea0635cb69d866e86a241d7b5c6e,bp/granular-deployment-based-on-tasks,- id: pre_deployment type: stage - id: post_deployment type: stage,,4,0
openstack%2Ffuel-web~master~Id155e722da88549499641f5b924f35bfab3ab137,openstack/fuel-web,master,Id155e722da88549499641f5b924f35bfab3ab137,Added an option to run Nailgun performance test,MERGED,2014-12-29 16:19:12.000000000,2015-01-23 12:58:20.000000000,2015-01-23 12:58:20.000000000,"[{'_account_id': 3}, {'_account_id': 8392}, {'_account_id': 8749}, {'_account_id': 8789}, {'_account_id': 8954}, {'_account_id': 8971}, {'_account_id': 9977}, {'_account_id': 11082}, {'_account_id': 12200}, {'_account_id': 13445}, {'_account_id': 14036}]","[{'number': 1, 'created': '2014-12-29 16:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/300d51a207222a55b751abb9054933590a7151cc', 'message': ""Introduce an option to execute or not to execute Nailgun performance tests.\n\nThe -n option works as before\nrun_tests.sh [-n | --nailgun] - execute nailgun tests that are not performance tests\nrun_tests.sh [-N | --no-nailgun] - do not run nailgun non-performance tests\n\nThe -p option works for performance tests now (was used for flake8 tests before)\nrun_tests.sh [-p | --nailgun-performance] - execute nailgun performance tests\nrun_tests.sh [-P | --no-nailgun-perfomance] - do not run nailgun performance tests\n\nThe -f option added to specify flake8 tests:\nrun_tests.sh [-f | --flake8 ] Run FLAKE8 and HACKING compliance check\nrun_tests.sh [-F | --no-flake8] Don't run static code checks\nPreviously -p was used for flake8 tests\n\nChange-Id: Id155e722da88549499641f5b924f35bfab3ab137\nCloses-Bug: #1394196\n""}, {'number': 2, 'created': '2014-12-30 06:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5844fd9bbfcd257ebd4243d35afb3434b2210128', 'message': ""Introduce an option to execute or not to execute Nailgun performance tests\n\nThe -n option works as before\nrun_tests.sh [-n | --nailgun] - execute nailgun tests that are not performance tests\nrun_tests.sh [-N | --no-nailgun] - do not run nailgun non-performance tests\n\nThe -p option works for performance tests now (was used for flake8 tests before)\nrun_tests.sh [-p | --nailgun-performance] - execute nailgun performance tests\nrun_tests.sh [-P | --no-nailgun-perfomance] - do not run nailgun performance tests\n\nThe -f option added to specify flake8 tests:\nrun_tests.sh [-f | --flake8 ] Run FLAKE8 and HACKING compliance check\nrun_tests.sh [-F | --no-flake8] Don't run static code checks\nPreviously -p was used for flake8 tests\n\nChange-Id: Id155e722da88549499641f5b924f35bfab3ab137\nCloses-Bug: #1394196\n""}, {'number': 3, 'created': '2014-12-30 08:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/d6794cc5fedfa92694e7deade55cd0879cae5751', 'message': ""Introduce an option to execute or not to execute Nailgun performance tests\n\nThe -n option works as before\nrun_tests.sh [-n | --nailgun] - execute nailgun tests that are not performance tests\nrun_tests.sh [-N | --no-nailgun] - do not run nailgun non-performance tests\n\nThe -p option works for performance tests now (was used for flake8 tests before)\nrun_tests.sh [-p | --nailgun-performance] - execute nailgun performance tests\nrun_tests.sh [-P | --no-nailgun-perfomance] - do not run nailgun performance tests\n\nThe -f option added to specify flake8 tests:\nrun_tests.sh [-f | --flake8 ] Run FLAKE8 and HACKING compliance check\nrun_tests.sh [-F | --no-flake8] Don't run static code checks\nPreviously -p was used for flake8 tests\n\nChange-Id: Id155e722da88549499641f5b924f35bfab3ab137\nCloses-Bug: #1394196\n""}, {'number': 4, 'created': '2015-01-19 18:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f5d37de0a37b1745ce2e839c09d472bf87dcefe7', 'message': 'Added an option to run Nailgun performance test\n\nA new option -x | -X added\n\nrun_tests.sh [-x | --nailgun-performance]\n             - run nailgun performance tests\nrun_tests.sh [-X | --no-nailgun-perfomance]\n             - do not run nailgun performance tests\n\nOption -n | -N works exactly as before: run | do not run\nNailgun non-performance tests\n\nChange-Id: Id155e722da88549499641f5b924f35bfab3ab137\nCloses-Bug: #1394196\n'}, {'number': 5, 'created': '2015-01-19 19:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b3a39b033b96041987122f86e40b04f105ed74d7', 'message': 'Added an option to run Nailgun performance test\n\nA new option -x | -X added\n\nrun_tests.sh [-x | --nailgun-performance]\n             - run nailgun performance tests\nrun_tests.sh [-X | --no-nailgun-perfomance]\n             - do not run nailgun performance tests\n\nOption -n | -N works exactly as before: run | do not run\nNailgun non-performance tests\n\nDocImpact\nChange-Id: Id155e722da88549499641f5b924f35bfab3ab137\nCloses-Bug: #1394196\n'}, {'number': 6, 'created': '2015-01-20 14:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/32a01280a9bd1a95494fd10ac6dabd76484fffaf', 'message': 'Added an option to run Nailgun performance test\n\nA new option -x added\n\nrun_tests.sh [-x | --nailgun-performance]\n             - run nailgun performance tests\n\nIf -x option is not specified, run_test.sh will not run\nperformance tests. For this reason no matching -X option was added.\n\nOption -n | -N works exactly as before: run | do not run\nNailgun non-performance tests.\n\nExamples of usage:\nrun_tests.sh -n -x - run both regular and performance nailgun tests.\nrun_tests.sh -x    - run nailgun performance tests only, do not run\n                     regular nailgun tests\nrun_tests.sh -N    - run all tests except for nailgun regular and\n                     performance tests\n\nDocImpact\nChange-Id: Id155e722da88549499641f5b924f35bfab3ab137\nCloses-Bug: #1394196\n'}, {'number': 7, 'created': '2015-01-20 15:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/8c80fd3aaef30d8c959ccdbbdaf9d9e663bed8b9', 'message': 'Added an option to run Nailgun performance test\n\nA new option -x added\n\nrun_tests.sh [-x | --nailgun-performance]\n             - run nailgun performance tests\n\nIf -x option is not specified, run_test.sh will not run\nperformance tests. For this reason no matching -X option was added.\n\nOption -n | -N works exactly as before: run | do not run\nNailgun non-performance tests.\n\nExamples of usage:\nrun_tests.sh -n -x - run both regular and performance nailgun tests.\nrun_tests.sh -x    - run nailgun performance tests only, do not run\n                     regular nailgun tests\nrun_tests.sh -N    - run all tests except for nailgun regular and\n                     performance tests\n\nDocImpact\nChange-Id: Id155e722da88549499641f5b924f35bfab3ab137\nCloses-Bug: #1394196\n'}, {'number': 8, 'created': '2015-01-22 12:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/e0105e8b050a92bf85b91e9beeb5304dfb1fb882', 'message': 'Added an option to run Nailgun performance test\n\nA new option -x added\n\nrun_tests.sh [-x | --nailgun-performance]\n             - run nailgun performance tests\n\nIf -x option is not specified, run_test.sh will not run\nperformance tests. For this reason no matching -X option was added.\n\nOption -n | -N works exactly as before: run | do not run\nNailgun non-performance tests.\n\nExamples of usage:\nrun_tests.sh -n -x - run both regular and performance nailgun tests.\nrun_tests.sh -x    - run nailgun performance tests only, do not run\n                     regular nailgun tests\nrun_tests.sh -N    - run all tests except for nailgun regular and\n                     performance tests\n\nDocImpact\nChange-Id: Id155e722da88549499641f5b924f35bfab3ab137\nCloses-Bug: #1394196\n'}, {'number': 9, 'created': '2015-01-22 14:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/ea89ff70294f0425bf37b4ed0b747f5b6528da47', 'message': 'Added an option to run Nailgun performance test\n\nA new option -x added\n\nrun_tests.sh [-x | --performance]\n             - run nailgun performance tests\n\nIf -x option is not specified, run_test.sh will not run\nperformance tests. For this reason no matching -X option was added.\n\nOption -n | -N works exactly as before: run | do not run\nNailgun non-performance tests.\n\nExamples of usage:\nrun_tests.sh -n -x - run both regular and performance nailgun tests.\nrun_tests.sh -x    - run nailgun performance tests only, do not run\n                     regular nailgun tests\nrun_tests.sh -n    - run regular nailgun tests only\nrun_tests.sh -N    - run all tests except for nailgun regular and\n                     performance tests\n\nDocImpact\nChange-Id: Id155e722da88549499641f5b924f35bfab3ab137\nCloses-Bug: #1394196\n'}, {'number': 10, 'created': '2015-01-22 16:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/740ac3a6f9f70c7f5378eab9c308ab9927fdffd6', 'message': 'Added an option to run Nailgun performance test\n\nA new option -x added\n\nrun_tests.sh [-x | --performance]\n             - run nailgun performance tests\n\nIf -x option is not specified, run_test.sh will not run\nperformance tests. For this reason no matching -X option was added.\n\nOption -n | -N works exactly as before: run | do not run\nNailgun non-performance tests.\n\nExamples of usage:\nrun_tests.sh -n -x - run both regular and performance nailgun tests.\nrun_tests.sh -x    - run nailgun performance tests only, do not run\n                     regular nailgun tests\nrun_tests.sh -n    - run regular nailgun tests only\nrun_tests.sh -N    - run all tests except for nailgun regular and\n                     performance tests\n\nDocImpact\nChange-Id: Id155e722da88549499641f5b924f35bfab3ab137\nCloses-Bug: #1394196\n'}, {'number': 11, 'created': '2015-01-22 16:57:01.000000000', 'files': ['run_tests.sh', 'nailgun/nailgun/test/performance/base.py', 'nailgun/nailgun/settings.yaml'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/30e4d4e65508e4c6872a3728ff27862df6249f47', 'message': 'Added an option to run Nailgun performance test\n\nA new option -x added\n\nrun_tests.sh [-x | --performance]\n             - run nailgun performance tests\n\nIf -x option is not specified, run_test.sh will not run\nperformance tests. For this reason no matching -X option was added.\n\nOption -n | -N works exactly as before: run | do not run\nNailgun non-performance tests.\n\nExamples of usage:\nrun_tests.sh -n -x - run both regular and performance nailgun tests.\nrun_tests.sh -x    - run nailgun performance tests only, do not run\n                     regular nailgun tests\nrun_tests.sh -n    - run regular nailgun tests only\nrun_tests.sh -N    - run all tests except for nailgun regular and\n                     performance tests\n\nDocImpact\nChange-Id: Id155e722da88549499641f5b924f35bfab3ab137\nCloses-Bug: #1394196\n'}]",28,144322,30e4d4e65508e4c6872a3728ff27862df6249f47,92,11,11,14036,,,0,"Added an option to run Nailgun performance test

A new option -x added

run_tests.sh [-x | --performance]
             - run nailgun performance tests

If -x option is not specified, run_test.sh will not run
performance tests. For this reason no matching -X option was added.

Option -n | -N works exactly as before: run | do not run
Nailgun non-performance tests.

Examples of usage:
run_tests.sh -n -x - run both regular and performance nailgun tests.
run_tests.sh -x    - run nailgun performance tests only, do not run
                     regular nailgun tests
run_tests.sh -n    - run regular nailgun tests only
run_tests.sh -N    - run all tests except for nailgun regular and
                     performance tests

DocImpact
Change-Id: Id155e722da88549499641f5b924f35bfab3ab137
Closes-Bug: #1394196
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/22/144322/11 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'nailgun/nailgun/test/performance/base.py', 'nailgun/nailgun/settings.yaml', 'nailgun/nailgun/test/base.py', 'nailgun/nailgun/test/unit/test_snapshot_conf.py', 'nailgun/conftest.py', 'nailgun/nailgun/test/integration/test_db_refresh.py', 'nailgun/nailgun/test/unit/test_middleware_utils.py', 'nailgun/nailgun/test/unit/test_load_db_driver_handler.py']",9,300d51a207222a55b751abb9054933590a7151cc,bug/1394196,"from nose import SkipTest from nailgun.settings import settings @classmethod def setUpClass(cls): if not settings.config[""run_nailgun_tests""]: raise SkipTest(""Skipping Nailgun tests"") ",,77,13
openstack%2Ffuel-web~master~Ic61e1d179993a4ebb85b4d24e686a8406bccbf4d,openstack/fuel-web,master,Ic61e1d179993a4ebb85b4d24e686a8406bccbf4d,Fix model mixins inheritance,MERGED,2015-01-13 17:41:10.000000000,2015-01-23 12:51:03.000000000,2015-01-23 12:51:02.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 9730}, {'_account_id': 13445}]","[{'number': 1, 'created': '2015-01-13 17:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b4bb849f65583f19432f36cea1c34971e0ba29d1', 'message': 'Fix model mixins inheritance\n\nAlso introduce BaseModel and BaseCollection\n\nChange-Id: Ic61e1d179993a4ebb85b4d24e686a8406bccbf4d\n'}, {'number': 2, 'created': '2015-01-13 17:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/90b5140bf6d6958577dd14f6039ebaaf8f92ce22', 'message': 'Fix model mixins inheritance\n\nAlso introduce BaseModel and BaseCollection\n\nChange-Id: Ic61e1d179993a4ebb85b4d24e686a8406bccbf4d\n'}, {'number': 3, 'created': '2015-01-13 18:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/f6a851bfa6a3afc30e401df408112963e69889c7', 'message': 'Fix model mixins inheritance\n\nAlso introduce BaseModel and BaseCollection\n\nChange-Id: Ic61e1d179993a4ebb85b4d24e686a8406bccbf4d\n'}, {'number': 4, 'created': '2015-01-22 16:22:49.000000000', 'files': ['nailgun/static/js/models.js'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/2abc8ffe6c009ed299e14028a37b1283cb659414', 'message': 'Fix model mixins inheritance\n\nAlso introduce BaseModel and BaseCollection\n\nChange-Id: Ic61e1d179993a4ebb85b4d24e686a8406bccbf4d\n'}]",0,146941,2abc8ffe6c009ed299e14028a37b1283cb659414,30,7,4,8735,,,0,"Fix model mixins inheritance

Also introduce BaseModel and BaseCollection

Change-Id: Ic61e1d179993a4ebb85b4d24e686a8406bccbf4d
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/41/146941/3 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/static/js/models.js'],1,b4bb849f65583f19432f36cea1c34971e0ba29d1,(detached," return this.constructor.__super__.fetch.apply(this, arguments); var deferred = this.constructor.__super__.sync.apply(this, arguments); var BaseModel = models.BaseModel = Backbone.Model.extend({ constructorName: 'BaseModel' }); var BaseCollection = models.BaseCollection = Backbone.Collection.extend({ constructorName: 'BaseCollection', getByIds: function(ids) { return this.filter(function(model) {return _.contains(ids, model.id);}); } }); models.Role = BaseModel.extend(restrictionMixin).extend({ models.Roles = BaseCollection.extend(restrictionMixin).extend({ models.Release = BaseModel.extend({ models.Releases = BaseCollection.extend({ models.Cluster = BaseModel.extend({ models.Clusters = BaseCollection.extend({ models.Node = BaseModel.extend({ models.Nodes = BaseCollection.extend({ models.NodesStatistics = BaseModel.extend({ models.Task = BaseModel.extend({ models.Tasks = BaseCollection.extend({ models.Notification = BaseModel.extend({ models.Notifications = BaseCollection.extend({ fetch: function() { console.log('fetch'); return $.Deferred().resolve(); }, data[this.root] = this.constructor.__super__.toJSON.call(this, options); }).extend(cacheMixin, restrictionMixin); models.Disk = BaseModel.extend({ models.Disks = BaseCollection.extend({ models.Volume = BaseModel.extend({ models.Volumes = BaseCollection.extend({ models.Interface = BaseModel.extend({ models.Interfaces = BaseCollection.extend({ models.InterfaceNetwork = BaseModel.extend({ models.InterfaceNetworks = BaseCollection.extend({ models.Network = BaseModel.extend({ models.Networks = BaseCollection.extend({ models.NetworkingParameters = BaseModel.extend({ models.NetworkConfiguration = BaseModel.extend(cacheMixin).extend({ models.LogSource = BaseModel.extend({ models.LogSources = BaseCollection.extend({ models.RedHatAccount = BaseModel.extend({ models.TestSet = BaseModel.extend({ models.TestSets = BaseCollection.extend({ models.Test = BaseModel.extend({ models.Tests = BaseCollection.extend({ models.TestRun = BaseModel.extend({ models.TestRuns = BaseCollection.extend({ models.OSTFClusterMetadata = BaseModel.extend({ models.FuelKey = BaseModel.extend({ models.FuelVersion = BaseModel.extend({ models.User = BaseModel.extend({ models.LogsPackage = BaseModel.extend({ models.CapacityLog = BaseModel.extend({ } } }, this); return errors.length ? errors : null; }, initialize: function(config) { this.defaults = this.parseConfig(config); } }); return models; });"," //FIXME: ignoring inheritance here and calling fetch method of Backbone.Model/Backbone.Collection return Backbone[this instanceof Backbone.Model ? 'Model' : 'Collection'].prototype.fetch.apply(this, arguments); //FIXME: ignoring inheritance here and calling sync method of Backbone.Model/Backbone.Collection var deferred = Backbone[this instanceof Backbone.Model ? 'Model' : 'Collection'].prototype.sync.apply(this, arguments); models.Role = Backbone.Model.extend({ _.extend(models.Role.prototype, restrictionMixin); models.Roles = Backbone.Collection.extend({ models.Release = Backbone.Model.extend({ models.Releases = Backbone.Collection.extend({ models.Cluster = Backbone.Model.extend({ models.Clusters = Backbone.Collection.extend({ models.Node = Backbone.Model.extend({ models.Nodes = Backbone.Collection.extend({ }, getByIds: function(ids) { return this.filter(function(node) {return _.contains(ids, node.id);}); models.NodesStatistics = Backbone.Model.extend({ models.Task = Backbone.Model.extend({ models.Tasks = Backbone.Collection.extend({ models.Notification = Backbone.Model.extend({ models.Notifications = Backbone.Collection.extend({ data[this.root] = Backbone.Model.prototype.toJSON.call(this, options); }); _.extend(models.Settings.prototype, cacheMixin, restrictionMixin); models.Disk = Backbone.Model.extend({ models.Disks = Backbone.Collection.extend({ models.Volume = Backbone.Model.extend({ models.Volumes = Backbone.Collection.extend({ models.Interface = Backbone.Model.extend({ models.Interfaces = Backbone.Collection.extend({ models.InterfaceNetwork = Backbone.Model.extend({ models.InterfaceNetworks = Backbone.Collection.extend({ models.Network = Backbone.Model.extend({ models.Networks = Backbone.Collection.extend({ models.NetworkingParameters = Backbone.Model.extend({ models.NetworkConfiguration = Backbone.Model.extend({ _.extend(models.NetworkConfiguration.prototype, cacheMixin); models.LogSource = Backbone.Model.extend({ models.LogSources = Backbone.Collection.extend({ models.RedHatAccount = Backbone.Model.extend({ models.TestSet = Backbone.Model.extend({ models.TestSets = Backbone.Collection.extend({ models.Test = Backbone.Model.extend({ models.Tests = Backbone.Collection.extend({ models.TestRun = Backbone.Model.extend({ models.TestRuns = Backbone.Collection.extend({ models.OSTFClusterMetadata = Backbone.Model.extend({ models.FuelKey = Backbone.Model.extend({ models.FuelVersion = Backbone.Model.extend({ models.User = Backbone.Model.extend({ models.LogsPackage = Backbone.Model.extend({ models.CapacityLog = Backbone.Model.extend({",70,52
openstack%2Fpython-keystoneclient~master~I1056ebd68d5befabcddedf8cc57ef1533a8b9690,openstack/python-keystoneclient,master,I1056ebd68d5befabcddedf8cc57ef1533a8b9690,Updated from global requirements,MERGED,2015-01-23 04:38:10.000000000,2015-01-23 12:40:31.000000000,2015-01-23 12:40:30.000000000,"[{'_account_id': 3}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-01-23 04:38:10.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/99078247c7af7e82d34c8c95b1542895ba365907', 'message': 'Updated from global requirements\n\nChange-Id: I1056ebd68d5befabcddedf8cc57ef1533a8b9690\n'}]",0,149485,99078247c7af7e82d34c8c95b1542895ba365907,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I1056ebd68d5befabcddedf8cc57ef1533a8b9690
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/85/149485/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,99078247c7af7e82d34c8c95b1542895ba365907,openstack/requirements,oslo.i18n>=1.3.0 # Apache-2.0,oslo.i18n>=1.0.0 # Apache-2.0,1,1
openstack%2Fhorizon~master~Ibaaa6c4d36defeae420919d0ea647e18127afefb,openstack/horizon,master,Ibaaa6c4d36defeae420919d0ea647e18127afefb,Updating startpanel for pluggables,MERGED,2015-01-13 04:20:41.000000000,2015-01-23 12:37:44.000000000,2015-01-23 12:37:42.000000000,"[{'_account_id': 3}, {'_account_id': 2455}, {'_account_id': 4264}, {'_account_id': 5623}, {'_account_id': 8871}, {'_account_id': 9576}, {'_account_id': 14223}]","[{'number': 1, 'created': '2015-01-13 04:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d38c36466687388020c44a9340d37a93f9f16089', 'message': ""Updating startpanel for pluggables\n\n'run_tests.sh -m startpanel <name>' command for creating new panels\nstill requires specifying the dashboard with the\n'--dashboard=<dash-python-path>' otherwise it fails.\n\nWith the new mechanism for plugging in extensions, this should no longer\nbe a requirement as the handling of the enabled file will do the\nregistration.\n\nIt is still a valid option for integrated content generation though.\n\nCloses-Bug: #1410025\nChange-Id: Ibaaa6c4d36defeae420919d0ea647e18127afefb\n""}, {'number': 2, 'created': '2015-01-13 20:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0a5b6899b8636f7604b77fd304684bdea081d91c', 'message': ""Updating startpanel for pluggables\n\n'run_tests.sh -m startpanel <name>' command for creating new panels\nstill requires specifying the dashboard with the\n'--dashboard=<dash-python-path>' otherwise it fails.\n\nWith the new mechanism for plugging in extensions, this should no longer\nbe a requirement as the handling of the enabled file will do the\nregistration.\n\nIt is still a valid option for integrated content generation though.\n\nCloses-Bug: #1410025\nChange-Id: Ibaaa6c4d36defeae420919d0ea647e18127afefb\n""}, {'number': 3, 'created': '2015-01-14 23:11:47.000000000', 'files': ['horizon/conf/panel_template/models.py', 'horizon/management/commands/startpanel.py', 'horizon/conf/panel_template/templates/panel_name/index.html', 'doc/source/ref/run_tests.rst', 'horizon/conf/panel_template/panel.py.tmpl'], 'web_link': 'https://opendev.org/openstack/horizon/commit/2aecf4470b61086f75c6af9889379b121c7beb44', 'message': ""Updating startpanel for pluggables\n\n'run_tests.sh -m startpanel <name>' command for creating new panels\nstill requires specifying the dashboard with the\n'--dashboard=<dash-python-path>' otherwise it fails.\n\nWith the new mechanism for plugging in extensions, this should no longer\nbe a requirement as the handling of the enabled file will do the\nregistration.\n\nIt is still a valid option for integrated content generation though.\n\nCloses-Bug: #1410025\nChange-Id: Ibaaa6c4d36defeae420919d0ea647e18127afefb\n""}]",0,146755,2aecf4470b61086f75c6af9889379b121c7beb44,20,7,3,5623,,,0,"Updating startpanel for pluggables

'run_tests.sh -m startpanel <name>' command for creating new panels
still requires specifying the dashboard with the
'--dashboard=<dash-python-path>' otherwise it fails.

With the new mechanism for plugging in extensions, this should no longer
be a requirement as the handling of the enabled file will do the
registration.

It is still a valid option for integrated content generation though.

Closes-Bug: #1410025
Change-Id: Ibaaa6c4d36defeae420919d0ea647e18127afefb
",git fetch https://review.opendev.org/openstack/horizon refs/changes/55/146755/3 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/conf/panel_template/models.py', 'horizon/management/commands/startpanel.py', 'horizon/conf/panel_template/panel.py.tmpl']",3,d38c36466687388020c44a9340d37a93f9f16089,bug-1410025,{% if dashboard %}from {{ dash_path }} import dashboard{% endif %}{% if dashboard %} dashboard.{{ dash_name|title }}.register({{ panel_name|title }}){% endif %}, from {{ dash_path }} import dashboard dashboard.{{ dash_name|title }}.register({{ panel_name|title }}),14,23
openstack%2Fneutron~master~I913ef0e2f981b258ea03a519f53a55b4afe80daa,openstack/neutron,master,I913ef0e2f981b258ea03a519f53a55b4afe80daa,linuxbridge: untangle SecurityGroupAgentRpcMixin,MERGED,2015-01-21 18:46:32.000000000,2015-01-23 12:33:13.000000000,2015-01-23 08:53:10.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1561}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6854}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-21 18:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0096abab8ccc04dd33a8efef633bd72d3e3b5e47', 'message': ""linuxbridge: untangle SecurityGroupAgentRpcMixin\n\nThis patch separates the use of SecurityGroupAgentRpcMixin out to its\nown class.  This matches most of the rest of the code base.  This\nseparation is needed to be able to eventually move this rpc API into\nits own messaging namespace.  Now that it's separate, a future change\ncan pass the new class an instance of SecurityGroupServerRpcApi\ninstead of assuming that the LinuxBridgePluginApi includes\nSecurityGroupServerRpcApiMixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I913ef0e2f981b258ea03a519f53a55b4afe80daa\n""}, {'number': 2, 'created': '2015-01-21 19:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ccac3092d7659dc4f39deb7e280f3229fa69f4c9', 'message': ""linuxbridge: untangle SecurityGroupAgentRpcMixin\n\nThis patch separates the use of SecurityGroupAgentRpcMixin out to its\nown class.  This matches most of the rest of the code base.  This\nseparation is needed to be able to eventually move this rpc API into\nits own messaging namespace.  Now that it's separate, a future change\ncan pass the new class an instance of SecurityGroupServerRpcApi\ninstead of assuming that the LinuxBridgePluginApi includes\nSecurityGroupServerRpcApiMixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I913ef0e2f981b258ea03a519f53a55b4afe80daa\n""}, {'number': 3, 'created': '2015-01-22 14:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/03a5fab3ed0bdbbf890f4138e2e02574c5382ed2', 'message': ""linuxbridge: untangle SecurityGroupAgentRpcMixin\n\nThis patch separates the use of SecurityGroupAgentRpcMixin out to its\nown class.  This matches most of the rest of the code base.  This\nseparation is needed to be able to eventually move this rpc API into\nits own messaging namespace.  Now that it's separate, a future change\ncan pass the new class an instance of SecurityGroupServerRpcApi\ninstead of assuming that the LinuxBridgePluginApi includes\nSecurityGroupServerRpcApiMixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I913ef0e2f981b258ea03a519f53a55b4afe80daa\n""}, {'number': 4, 'created': '2015-01-22 20:39:50.000000000', 'files': ['neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/linuxbridge/test_lb_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f5629f04b1b7fe2220dbb808dff3556157c3c385', 'message': ""linuxbridge: untangle SecurityGroupAgentRpcMixin\n\nThis patch separates the use of SecurityGroupAgentRpcMixin out to its\nown class.  This matches most of the rest of the code base.  This\nseparation is needed to be able to eventually move this rpc API into\nits own messaging namespace.  Now that it's separate, a future change\ncan pass the new class an instance of SecurityGroupServerRpcApi\ninstead of assuming that the LinuxBridgePluginApi includes\nSecurityGroupServerRpcApiMixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I913ef0e2f981b258ea03a519f53a55b4afe80daa\n""}]",2,149022,f5629f04b1b7fe2220dbb808dff3556157c3c385,68,22,4,1561,,,0,"linuxbridge: untangle SecurityGroupAgentRpcMixin

This patch separates the use of SecurityGroupAgentRpcMixin out to its
own class.  This matches most of the rest of the code base.  This
separation is needed to be able to eventually move this rpc API into
its own messaging namespace.  Now that it's separate, a future change
can pass the new class an instance of SecurityGroupServerRpcApi
instead of assuming that the LinuxBridgePluginApi includes
SecurityGroupServerRpcApiMixin.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: I913ef0e2f981b258ea03a519f53a55b4afe80daa
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/149022/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/linuxbridge/test_lb_neutron_agent.py']",2,0096abab8ccc04dd33a8efef633bd72d3e3b5e47,bp/rpc-docs-and-namespaces," mock.patch.object(agent.sg_agent, ""remove_devices_filter"") mock.patch.object(agent.sg_agent, ""remove_devices_filter"") mock.patch.object(agent.sg_agent, ""remove_devices_filter"") agent.sg_agent.prepare_devices_filter = mock.Mock() agent.sg_agent.refresh_firewall = mock.Mock() agent.sg_agent.prepare_devices_filter.assert_called_with( set(['tap3', 'tap4'])) self.assertTrue(agent.sg_agent.refresh_firewall.called)"," mock.patch.object(agent, ""remove_devices_filter"") mock.patch.object(agent, ""remove_devices_filter"") mock.patch.object(agent, ""remove_devices_filter"") agent.prepare_devices_filter = mock.Mock() agent.refresh_firewall = mock.Mock() agent.prepare_devices_filter.assert_called_with(set(['tap3', 'tap4'])) self.assertTrue(agent.refresh_firewall.called)",22,12
openstack%2Fglance~master~Ia57b9acc983b783df83a59b6b74cb674089bb7ac,openstack/glance,master,Ia57b9acc983b783df83a59b6b74cb674089bb7ac,Upgrade to hacking 0.10,MERGED,2015-01-13 13:07:30.000000000,2015-01-23 12:20:07.000000000,2015-01-23 12:20:06.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 8158}, {'_account_id': 8871}, {'_account_id': 10485}, {'_account_id': 11356}, {'_account_id': 12000}]","[{'number': 1, 'created': '2015-01-13 13:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9a3ae66e23271854593345b4ece0ef3c4288dd24', 'message': 'Upgrade to hacking 0.10\n\nChange-Id: Ia57b9acc983b783df83a59b6b74cb674089bb7ac\n'}, {'number': 2, 'created': '2015-01-13 14:03:31.000000000', 'files': ['glance/tests/unit/common/test_wsgi.py', 'glance/tests/unit/common/test_utils.py', 'glance/tests/unit/test_store_location.py', 'glance/tests/unit/v1/test_registry_client.py', 'test-requirements.txt', 'glance/tests/functional/__init__.py', 'glance/common/wsme_utils.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/4ec5f5a6c6104ca09890ecd60a8f5e0debf9b322', 'message': 'Upgrade to hacking 0.10\n\nChange-Id: Ia57b9acc983b783df83a59b6b74cb674089bb7ac\n'}]",0,146851,4ec5f5a6c6104ca09890ecd60a8f5e0debf9b322,35,9,2,1669,,,0,"Upgrade to hacking 0.10

Change-Id: Ia57b9acc983b783df83a59b6b74cb674089bb7ac
",git fetch https://review.opendev.org/openstack/glance refs/changes/51/146851/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/common/test_utils.py', 'glance/tests/unit/common/test_wsgi.py', 'glance/tests/unit/test_store_location.py', 'glance/tests/unit/v1/test_registry_client.py', 'test-requirements.txt', 'glance/tests/functional/__init__.py', 'glance/common/wsme_utils.py']",7,9a3ae66e23271854593345b4ece0ef3c4288dd24,jd/hacking,class WSMEModelTransformer(object):,class WSMEModelTransformer():,9,8
openstack%2Fmurano-dashboard~master~I2e17d9829fe72cff30757d5f7a3523d342e87186,openstack/murano-dashboard,master,I2e17d9829fe72cff30757d5f7a3523d342e87186,Fixes wrong catalog pagination buttons placement,MERGED,2015-01-22 15:27:28.000000000,2015-01-23 12:14:35.000000000,2015-01-23 12:14:35.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7549}, {'_account_id': 7821}, {'_account_id': 10068}]","[{'number': 1, 'created': '2015-01-22 15:27:28.000000000', 'files': ['muranodashboard/templates/catalog/index.html'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/b98ab770d2a4ffd53f69dfcde6a299282ed3351c', 'message': 'Fixes wrong catalog pagination buttons placement\n\nChange-Id: I2e17d9829fe72cff30757d5f7a3523d342e87186\nCloses-Bug: #1411738\n'}]",0,149312,b98ab770d2a4ffd53f69dfcde6a299282ed3351c,10,5,1,14726,,,0,"Fixes wrong catalog pagination buttons placement

Change-Id: I2e17d9829fe72cff30757d5f7a3523d342e87186
Closes-Bug: #1411738
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/12/149312/1 && git format-patch -1 --stdout FETCH_HEAD,['muranodashboard/templates/catalog/index.html'],1,b98ab770d2a4ffd53f69dfcde6a299282ed3351c,bug/1411738," <div class=""col-row col-xs-12"">"," <div class=""col-row"">",1,1
openstack%2Fec2-api~master~I7434ffbeab925becce404dac395eda32cef401eb,openstack/ec2-api,master,I7434ffbeab925becce404dac395eda32cef401eb,fix parameter name,MERGED,2015-01-23 10:38:50.000000000,2015-01-23 12:12:54.000000000,2015-01-23 12:12:54.000000000,"[{'_account_id': 3}, {'_account_id': 9312}, {'_account_id': 10224}, {'_account_id': 11420}]","[{'number': 1, 'created': '2015-01-23 10:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/cbb58073a438b7abb5b86491fd9eff4f37d92fe8', 'message': 'fix parameter name\n\nChange-Id: I7434ffbeab925becce404dac395eda32cef401eb\n'}, {'number': 2, 'created': '2015-01-23 11:59:16.000000000', 'files': ['ec2api/api/cloud.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/ed62986f2fd90d645ae32a23f5c1585868781502', 'message': 'fix parameter name\n\nChange-Id: I7434ffbeab925becce404dac395eda32cef401eb\n'}]",0,149561,ed62986f2fd90d645ae32a23f5c1585868781502,9,4,2,10234,,,0,"fix parameter name

Change-Id: I7434ffbeab925becce404dac395eda32cef401eb
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/61/149561/1 && git format-patch -1 --stdout FETCH_HEAD,['ec2api/api/cloud.py'],1,cbb58073a438b7abb5b86491fd9eff4f37d92fe8,," @module_and_param_types(internet_gateway, 'igw_ids', 'filter')"," @module_and_param_types(internet_gateway, 'igw_idS', 'filter')",1,2
openstack%2Fironic~master~Ifa0433da6bd4260754217f56c2f7f200b1d710d7,openstack/ironic,master,Ifa0433da6bd4260754217f56c2f7f200b1d710d7,DracClient to handle ReturnValue validation,MERGED,2015-01-14 15:29:57.000000000,2015-01-23 12:03:09.000000000,2015-01-23 12:03:08.000000000,"[{'_account_id': 3}, {'_account_id': 6773}, {'_account_id': 7419}, {'_account_id': 8125}, {'_account_id': 10239}, {'_account_id': 12081}]","[{'number': 1, 'created': '2015-01-14 15:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/216d3cae537fd065ee073585d4d7052ac266ae20', 'message': 'DracClient to handle ReturnValue validation\n\nThe ReturnValue in the response xml document was checked separately each\ntime DracClient#invoke was called. This patch moves the ReturnValue\nchecking logic to the invoke functions, which helps keeping the code\nDRY.\n\nChange-Id: Ifa0433da6bd4260754217f56c2f7f200b1d710d7\n'}, {'number': 2, 'created': '2015-01-15 10:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ec75e71de1615c69d4d9ed30800b59a411b827c3', 'message': 'DracClient to handle ReturnValue validation\n\nThe ReturnValue in the response xml document was checked separately each\ntime DracClient#invoke was called. This patch moves the ReturnValue\nchecking logic to the invoke functions, which helps keeping the code\nDRY.\n\nChange-Id: Ifa0433da6bd4260754217f56c2f7f200b1d710d7\n'}, {'number': 3, 'created': '2015-01-15 16:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8ee4a764ee4f13ca13be98d6698c812ac0d79849', 'message': 'DracClient to handle ReturnValue validation\n\nThe ReturnValue in the response xml document was checked separately each\ntime DracClient#invoke was called. This patch moves the ReturnValue\nchecking logic to the invoke functions, which helps keeping the code\nDRY.\n\nChange-Id: Ifa0433da6bd4260754217f56c2f7f200b1d710d7\n'}, {'number': 4, 'created': '2015-01-21 10:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dff93460bdf24a16543b9f77515d35a0431d5381', 'message': 'DracClient to handle ReturnValue validation\n\nThe ReturnValue in the response xml document was checked separately each\ntime DracClient#invoke was called. This patch moves the ReturnValue\nchecking logic to the invoke functions, which helps keeping the code\nDRY.\n\nChange-Id: Ifa0433da6bd4260754217f56c2f7f200b1d710d7\n'}, {'number': 5, 'created': '2015-01-21 14:16:15.000000000', 'files': ['ironic/drivers/modules/drac/management.py', 'ironic/tests/drivers/drac/test_power.py', 'ironic/common/exception.py', 'ironic/drivers/modules/drac/client.py', 'ironic/drivers/modules/drac/common.py', 'ironic/tests/drivers/drac/test_management.py', 'ironic/drivers/modules/drac/power.py', 'ironic/tests/drivers/drac/test_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/63ccb2072261550e731e9bf607a35659dfc5ffd1', 'message': 'DracClient to handle ReturnValue validation\n\nThe ReturnValue in the response xml document was checked separately each\ntime DracClient#invoke was called. This patch moves the ReturnValue\nchecking logic to the invoke functions, which helps keeping the code\nDRY.\n\nChange-Id: Ifa0433da6bd4260754217f56c2f7f200b1d710d7\n'}]",22,147203,63ccb2072261550e731e9bf607a35659dfc5ffd1,36,6,5,7419,,,0,"DracClient to handle ReturnValue validation

The ReturnValue in the response xml document was checked separately each
time DracClient#invoke was called. This patch moves the ReturnValue
checking logic to the invoke functions, which helps keeping the code
DRY.

Change-Id: Ifa0433da6bd4260754217f56c2f7f200b1d710d7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/03/147203/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/tests/drivers/drac/test_power.py', 'ironic/common/exception.py', 'ironic/drivers/modules/drac/client.py', 'ironic/drivers/modules/drac/common.py', 'ironic/tests/drivers/drac/test_management.py', 'ironic/drivers/modules/drac/power.py', 'ironic/tests/drivers/drac/test_client.py']",8,216d3cae537fd065ee073585d4d7052ac266ae20,drac-returnvalue-validation," resource_uri = 'https://foo/wsman' result_xml = test_utils.build_soap_xml( [{'ReturnValue': drac_client.RET_SUCCESS}], resource_uri) mock_xml = test_utils.mock_wsman_root(result_xml) resource_uri = 'https://foo/wsman' result_xml = test_utils.build_soap_xml( [{'ReturnValue': drac_client.RET_SUCCESS}], resource_uri) mock_xml = test_utils.mock_wsman_root(result_xml) resource_uri = 'https://foo/wsman' result_xml = test_utils.build_soap_xml( [{'ReturnValue': drac_client.RET_SUCCESS}], resource_uri) mock_xml = test_utils.mock_wsman_root(result_xml) resource_uri = 'https://foo/wsman' result_xml = test_utils.build_soap_xml( [{'ReturnValue': drac_client.RET_SUCCESS}], resource_uri) mock_xml = test_utils.mock_wsman_root(result_xml) mock_pywsman_client.invoke.return_value = mock_xml self.assertEqual(2, mock_request_xml.root().add.call_count) def test_wsman_invoke_receives_error_return_value(self, mock_client_pywsman): resource_uri = 'https://foo/wsman' result_xml = test_utils.build_soap_xml( [{'ReturnValue': drac_client.RET_ERROR, 'Message': 'error message'}], resource_uri) mock_xml = test_utils.mock_wsman_root(result_xml) mock_pywsman_client = mock_client_pywsman.Client.return_value mock_pywsman_client.invoke.return_value = mock_xml method_name = 'method' client = drac_client.Client(**INFO_DICT) self.assertRaises(exception.DracOperationFailedError, client.wsman_invoke, resource_uri, method_name) mock_options = mock_client_pywsman.ClientOptions.return_value mock_pywsman_client.invoke.assert_called_once_with(mock_options, resource_uri, method_name, None) def test_wsman_invoke_receives_unexpected_return_value(self, mock_client_pywsman): resource_uri = 'https://foo/wsman' result_xml = test_utils.build_soap_xml( [{'ReturnValue': '42'}], resource_uri) mock_xml = test_utils.mock_wsman_root(result_xml) mock_pywsman_client = mock_client_pywsman.Client.return_value mock_pywsman_client.invoke.return_value = mock_xml method_name = 'method' client = drac_client.Client(**INFO_DICT) self.assertRaises(exception.DracUnexpectedReturnValueError, client.wsman_invoke, resource_uri, method_name) mock_options = mock_client_pywsman.ClientOptions.return_value mock_pywsman_client.invoke.assert_called_once_with(mock_options, resource_uri, method_name, None) "," mock_xml = test_utils.mock_wsman_root('<test></test>') resource_uri = 'https://foo/wsman' mock_xml = test_utils.mock_wsman_root('<test></test>') resource_uri = 'https://foo/wsman' mock_xml = test_utils.mock_wsman_root('<test></test>') resource_uri = 'https://foo/wsman' mock_response_xml = test_utils.mock_wsman_root('<test></test>') mock_pywsman_client.invoke.return_value = mock_response_xml resource_uri = 'https://foo/wsman' self.assertEqual(2, mock_request_xml.root().add.call_count)",172,114
openstack%2Fnova~master~Ie0c5c06997e5a9163369752e81a06b5aeac79026,openstack/nova,master,Ie0c5c06997e5a9163369752e81a06b5aeac79026,Cleanups in preparation of flavor attributes on Instance,MERGED,2014-12-12 03:32:46.000000000,2015-01-23 12:02:40.000000000,2015-01-23 12:02:37.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 679}, {'_account_id': 1063}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-12-12 03:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e94b3d12165afc6d9a155d4047c4e25fc78e68d6', 'message': 'Cleanups in preparation of flavor attributes on Instance\n\nThese are all changes that are ultimately required in the next patch,\nbut that all stand on their own and can be made ahead of time to drop\nthe amount of stuff we need to change in a single patch.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: Ie0c5c06997e5a9163369752e81a06b5aeac79026\n'}, {'number': 2, 'created': '2014-12-12 03:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/09afce1e6f3e042c7f5af9752e9f716bb9ac1540', 'message': 'Cleanups in preparation of flavor attributes on Instance\n\nThese are all changes that are ultimately required in the next patch,\nbut that all stand on their own and can be made ahead of time to drop\nthe amount of stuff we need to change in a single patch.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: Ie0c5c06997e5a9163369752e81a06b5aeac79026\n'}, {'number': 3, 'created': '2014-12-12 04:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/120857e0cdc5f45efce81fe0c1d0bc60ba947529', 'message': 'Cleanups in preparation of flavor attributes on Instance\n\nThese are all changes that are ultimately required in the next patch,\nbut that all stand on their own and can be made ahead of time to drop\nthe amount of stuff we need to change in a single patch.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: Ie0c5c06997e5a9163369752e81a06b5aeac79026\n'}, {'number': 4, 'created': '2014-12-15 20:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/321526e8a02546497ce9a479bd78b3e3632d893d', 'message': 'Cleanups in preparation of flavor attributes on Instance\n\nThese are all changes that are ultimately required in the next patch,\nbut that all stand on their own and can be made ahead of time to drop\nthe amount of stuff we need to change in a single patch.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: Ie0c5c06997e5a9163369752e81a06b5aeac79026\n'}, {'number': 5, 'created': '2014-12-16 16:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab9a2f2e108a0a646e7e0b9bb2c6aa167ef4eb5e', 'message': 'Cleanups in preparation of flavor attributes on Instance\n\nThese are all changes that are ultimately required in the next patch,\nbut that all stand on their own and can be made ahead of time to drop\nthe amount of stuff we need to change in a single patch.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: Ie0c5c06997e5a9163369752e81a06b5aeac79026\n'}, {'number': 6, 'created': '2014-12-16 22:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aafb174c9e664b1ba49dffa58f98acac01da1f7e', 'message': 'Cleanups in preparation of flavor attributes on Instance\n\nThese are all changes that are ultimately required in the next patch,\nbut that all stand on their own and can be made ahead of time to drop\nthe amount of stuff we need to change in a single patch.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: Ie0c5c06997e5a9163369752e81a06b5aeac79026\n'}, {'number': 7, 'created': '2014-12-19 16:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16de434844dc7818f3303cd5d0737361be8eb518', 'message': 'Cleanups in preparation of flavor attributes on Instance\n\nThese are all changes that are ultimately required in the next patch,\nbut that all stand on their own and can be made ahead of time to drop\nthe amount of stuff we need to change in a single patch.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: Ie0c5c06997e5a9163369752e81a06b5aeac79026\n'}, {'number': 8, 'created': '2015-01-12 15:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7723a3abb8453841c86a2c866bd7422c53b97483', 'message': 'Cleanups in preparation of flavor attributes on Instance\n\nThese are all changes that are ultimately required in the next patch,\nbut that all stand on their own and can be made ahead of time to drop\nthe amount of stuff we need to change in a single patch.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: Ie0c5c06997e5a9163369752e81a06b5aeac79026\n'}, {'number': 9, 'created': '2015-01-15 14:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5839a935185d2ce8064c872b0ea8e8273251823f', 'message': 'Cleanups in preparation of flavor attributes on Instance\n\nThese are all changes that are ultimately required in the next patch,\nbut that all stand on their own and can be made ahead of time to drop\nthe amount of stuff we need to change in a single patch.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: Ie0c5c06997e5a9163369752e81a06b5aeac79026\n'}, {'number': 10, 'created': '2015-01-16 17:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07ee9a2581345a4fb7f52cad572875ffb9553ea8', 'message': 'Cleanups in preparation of flavor attributes on Instance\n\nThese are all changes that are ultimately required in the next patch,\nbut that all stand on their own and can be made ahead of time to drop\nthe amount of stuff we need to change in a single patch.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: Ie0c5c06997e5a9163369752e81a06b5aeac79026\n'}, {'number': 11, 'created': '2015-01-19 18:46:01.000000000', 'files': ['nova/tests/unit/api/openstack/compute/contrib/test_disk_config.py', 'nova/tests/unit/api/openstack/compute/contrib/test_multiple_create.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/tests/unit/api/openstack/compute/plugins/v3/test_servers.py', 'nova/tests/unit/cells/test_cells_scheduler.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/api/openstack/compute/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1ea94cdadd25be4f63a7b32f84d40960415f5510', 'message': 'Cleanups in preparation of flavor attributes on Instance\n\nThese are all changes that are ultimately required in the next patch,\nbut that all stand on their own and can be made ahead of time to drop\nthe amount of stuff we need to change in a single patch.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: Ie0c5c06997e5a9163369752e81a06b5aeac79026\n'}]",1,141261,1ea94cdadd25be4f63a7b32f84d40960415f5510,85,16,11,4393,,,0,"Cleanups in preparation of flavor attributes on Instance

These are all changes that are ultimately required in the next patch,
but that all stand on their own and can be made ahead of time to drop
the amount of stuff we need to change in a single patch.

Related to blueprint flavor-from-sysmeta-to-blob

Change-Id: Ie0c5c06997e5a9163369752e81a06b5aeac79026
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/141261/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/contrib/test_disk_config.py', 'nova/tests/unit/api/openstack/compute/contrib/test_multiple_create.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/tests/unit/api/openstack/compute/plugins/v3/test_servers.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/cells/test_cells_scheduler.py', 'nova/tests/unit/api/openstack/compute/test_servers.py']",7,e94b3d12165afc6d9a155d4047c4e25fc78e68d6,flavorextra3,," ""extra"": {""pci_requests"": None, ""numa_topology"": None},",14,13
openstack%2Fec2-api~master~I1265f682345e0420c5d5ab9f19105c0d9fc9cccf,openstack/ec2-api,master,I1265f682345e0420c5d5ab9f19105c0d9fc9cccf,fix filtering.,MERGED,2015-01-23 10:38:50.000000000,2015-01-23 12:00:16.000000000,2015-01-23 12:00:15.000000000,"[{'_account_id': 3}, {'_account_id': 9312}, {'_account_id': 10224}]","[{'number': 1, 'created': '2015-01-23 10:38:50.000000000', 'files': ['ec2api/api/common.py', 'ec2api/tests/test_common.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/23c4c2d2603e292730fedca526425bea08b3d0e3', 'message': ""fix filtering.\n\nfilters are applied by 'and' and filter item with list by 'or'\n\nChange-Id: I1265f682345e0420c5d5ab9f19105c0d9fc9cccf\n""}]",0,149560,23c4c2d2603e292730fedca526425bea08b3d0e3,6,3,1,10234,,,0,"fix filtering.

filters are applied by 'and' and filter item with list by 'or'

Change-Id: I1265f682345e0420c5d5ab9f19105c0d9fc9cccf
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/60/149560/1 && git format-patch -1 --stdout FETCH_HEAD,"['ec2api/api/common.py', 'ec2api/tests/test_common.py']",2,23c4c2d2603e292730fedca526425bea08b3d0e3,," def test_filter(self): obj = common.UniversalDescriber() obj.FILTER_MAP = {'prop1': 'prop-1', 'prop2': 'prop-2'} res = obj.filtered_out( {'prop-1': 'val-0', 'prop-2': 'val-123'}, [{'name': 'prop1', 'value': ['val-0']}]) self.assertFalse(res) res = obj.filtered_out( {'prop-1': 'val-0', 'prop-2': 'val-123'}, [{'name': 'prop1', 'value': ['val-0', '0-val']}]) self.assertFalse(res) res = obj.filtered_out( {'prop-1': 'val-0', 'prop-2': 'val-123'}, [{'name': 'prop1', 'value': ['0-val', 'val-0']}]) self.assertFalse(res) res = obj.filtered_out( {'prop-1': 'val-0', 'prop-2': 'val-123'}, [{'name': 'prop1', 'value': ['0-val']}]) self.assertTrue(res) res = obj.filtered_out( {'prop-1': 'val-0', 'prop-2': 'val-123'}, [{'name': 'prop1', 'value': ['val-0']}, {'name': 'prop2', 'value': ['val-123']}]) self.assertFalse(res) res = obj.filtered_out( {'prop-1': 'val-0', 'prop-2': 'val-123'}, [{'name': 'prop1', 'value': ['val-0']}, {'name': 'prop2', 'value': ['123-val']}]) self.assertTrue(res) res = obj.filtered_out( {'prop-1': 'val-0', 'prop-2': 'val-123'}, [{'name': 'prop1', 'value': ['0-val']}, {'name': 'prop2', 'value': ['val-123']}]) self.assertTrue(res) ",,48,4
openstack%2Fnova~master~I84852f479c25994620297a6fb2d4752288cf9ff1,openstack/nova,master,I84852f479c25994620297a6fb2d4752288cf9ff1,Add flavor column to instance_extra table,MERGED,2014-10-01 19:59:08.000000000,2015-01-23 11:59:27.000000000,2015-01-23 11:59:23.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 642}, {'_account_id': 679}, {'_account_id': 1063}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 4393}, {'_account_id': 4601}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 5511}, {'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-10-01 19:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ddd25d1a25957830213f4a455b0a964098551e0', 'message': 'Add flavor column to instance_extra table\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 2, 'created': '2014-10-06 17:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/75f464c8958f4565dfa5905d17b3099f196e75f9', 'message': 'Add flavor column to instance_extra table\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 3, 'created': '2014-10-06 20:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efbaf0bd9210a3e1069f64bdf8fbec53e2a79518', 'message': 'Add flavor column to instance_extra table\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 4, 'created': '2014-10-07 14:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74b6789e6312d9fbb045dbdfda78dcec3a69b7ed', 'message': 'Add flavor column to instance_extra table\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 5, 'created': '2014-10-07 20:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8bbb184a4770e3ec0581bfb43efe61bbeb3a551a', 'message': 'Add flavor column to instance_extra table\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 6, 'created': '2014-10-08 14:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d37413a6db9e9ec17f692c62290a618d889f4cec', 'message': 'Add flavor column to instance_extra table\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 7, 'created': '2014-10-08 18:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8276a59def4b3b38ef6dbbf2e1fb7194037825d2', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 8, 'created': '2014-10-14 14:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c55b0103c2f41cf568fc36eee941535baa694eb5', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 9, 'created': '2014-10-14 17:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/336757d843ed400efb05d2c0e93f233b9c33c588', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 10, 'created': '2014-10-14 18:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6ede89508869bdec7567f510b46e6920ce18554', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 11, 'created': '2014-10-14 19:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8233897116ab372fec6266672a0143b62e2b8c37', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 12, 'created': '2014-10-14 22:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6f176135c50bddce59c187222c83ea1907919a4', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 13, 'created': '2014-10-15 15:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37940b57488139a64c24f2afe385a79e8f97fa46', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 14, 'created': '2014-10-15 16:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d98142be57bf8fe15a2098c26e806481f9a095ba', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 15, 'created': '2014-10-15 18:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00a9371ff433ef80daea14681cf2c76ee989ff49', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 16, 'created': '2014-10-15 19:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70aa0bc4bc40dd00949ee7c318ed4922629f7782', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 17, 'created': '2014-10-16 16:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6df743c716f6324f007d6cf5fdbbac236b40bdf5', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 18, 'created': '2014-10-16 16:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61b1fe61fae6e56458fca8c29f9d250862c78104', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 19, 'created': '2014-10-16 19:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3885e4323e784fc6f0101d46963f5b57f423459', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 20, 'created': '2014-10-16 20:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/afbaf8e43b5384ec9b76e56a5ef42f1e91071658', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 21, 'created': '2014-10-17 14:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2003902ee2734faf5b39e6c608cd4ace967e8de7', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 22, 'created': '2014-10-17 14:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00a252d8407b46f1a7322bcc4bd07889f1c3b922', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 23, 'created': '2014-10-17 16:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba33ea6ba80344e5a10bf612c02d27c0e3891040', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 24, 'created': '2014-10-20 14:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f0c8e2df4ff914cd61df1df04a30cfbfee57866', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 25, 'created': '2014-10-22 15:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe77516efecee2671510daa3fb26a6b18f68ece4', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 26, 'created': '2014-10-24 14:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc51d0db320d8b59ccc85375dad3f72716a0a414', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 27, 'created': '2014-10-28 19:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/227e8a92e61b3b38169b57d1a89d6d74c4c12f4f', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 28, 'created': '2014-11-11 17:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36063494db79bde1ede270c4c1b69467223049a3', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 29, 'created': '2014-11-11 18:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d49d0575b0088c0c103eaffcc214147bfa1cd629', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 30, 'created': '2014-11-13 17:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f3d1e6821ce36936e3f3431a6d466a105c5ddc4', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 31, 'created': '2014-11-13 21:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a867365297a6d2366fa3f79307614caa20b08f2', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 32, 'created': '2014-11-17 16:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0957c184bc84519e450c103375197736f27d8a73', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 33, 'created': '2014-11-19 19:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8a9e0bed2541e173ebccaa94902c73d4aa3f6e5', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 34, 'created': '2014-11-19 22:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a781512b44d14e5200c7de47b099973baec139fe', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 35, 'created': '2014-11-20 15:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dda8a2ea0d83055c402b8355b24106a9be69aadc', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 36, 'created': '2014-11-20 18:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4ede54d27d0d21e281d9b7cab6d6bbe3c5b06f7', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 37, 'created': '2014-11-20 21:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58b9f23f95395f19c0648038240aa76cc94ba62d', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 38, 'created': '2014-11-20 23:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5c649aa63b05bcfb1852836537ef8d70ae3db39', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 39, 'created': '2014-11-21 15:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a6c6091db7d294fc815903a9ef80dae7e3067e2', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 40, 'created': '2014-11-25 21:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/352b51b716978e760805e7bf49067128846c6aae', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 41, 'created': '2014-11-26 14:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/334f5064b5e3fca621e5d4a360e89574397d87db', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 42, 'created': '2014-12-01 18:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3587474326b4793953edb08dd25351477cf58bf4', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 43, 'created': '2014-12-02 16:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad53548c1b6598990bcc311f49616fdba942c0e8', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 44, 'created': '2014-12-02 17:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc99de20a208afde9c016e46590ce6fac73b3d41', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 45, 'created': '2014-12-02 19:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/48bb386717f6ac301a9921703aec6ddd33a4acaa', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 46, 'created': '2014-12-03 21:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ad5cc8e74742712c8e4e74eaf981493d792e741', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 47, 'created': '2014-12-04 16:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8c062cfb4194dd56f60d7050ee89079d631128b', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 48, 'created': '2014-12-05 16:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2de6ca458696432a470f9ff11bf96d9e68b0795a', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 49, 'created': '2014-12-05 18:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1aa38b61440aef6da8eaa4f73e0e21b3db625f02', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 50, 'created': '2014-12-08 19:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f238946d83e1a763094a978877edecd1740741cd', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 51, 'created': '2014-12-08 21:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53e6d811409e5ec30642e68151baf782fd71c762', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 52, 'created': '2014-12-09 17:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/685c19d5219e5a69edd12bbd885df757193ca7b9', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 53, 'created': '2014-12-11 17:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce9c28bd637265efa4101ba1cf00f5741be4d4e5', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 54, 'created': '2014-12-12 03:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34a6f1763dbb2fc0ec34d1cb02406e373befcab5', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 55, 'created': '2014-12-12 03:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9df719e34433850190ed869bd3a198d00c6cc637', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 56, 'created': '2014-12-12 03:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/239b3c4391c5456306138bd041008e126de86f76', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 57, 'created': '2014-12-12 04:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be628211a8f5708024ce76e1980bfb41243617ab', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 58, 'created': '2014-12-15 20:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb4111d264aef360b038ac10c63a0dcd79f7a2fe', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 59, 'created': '2014-12-16 16:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64f9127cd912162e4401c8eed1bb01df74c1460f', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 60, 'created': '2014-12-16 22:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30b7cdd7388ba675e0908a113a777c9fe76936e8', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 61, 'created': '2014-12-19 16:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d59c59edbae7eee48543ddc203a4664d24962682', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 62, 'created': '2015-01-12 15:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40ee5deae5d0997e810ede06d0e3de382fc5a013', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 63, 'created': '2015-01-15 14:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/534b47abecb8455c3b7f0fa07c3f0cf5fe86a0a6', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 64, 'created': '2015-01-16 17:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d9d3127296623e71a4aad942d2244329ee8ddac', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}, {'number': 65, 'created': '2015-01-19 18:46:01.000000000', 'files': ['nova/db/sqlalchemy/models.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/sqlalchemy/migrate_repo/versions/270_flavor_data_in_extra.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dd2e736fc8fe47a81ac8fa886110883abcb1d45d', 'message': 'Add flavor column to instance_extra table\n\nThis adds a flavor column to the instance_extra table in preparation\nfor the next patch which does online migration of flavor data from\nsystem_metadata to instance_extra.\n\nRelated to blueprint flavor-from-sysmeta-to-blob\n\nChange-Id: I84852f479c25994620297a6fb2d4752288cf9ff1\n'}]",0,125484,dd2e736fc8fe47a81ac8fa886110883abcb1d45d,367,21,65,4393,,,0,"Add flavor column to instance_extra table

This adds a flavor column to the instance_extra table in preparation
for the next patch which does online migration of flavor data from
system_metadata to instance_extra.

Related to blueprint flavor-from-sysmeta-to-blob

Change-Id: I84852f479c25994620297a6fb2d4752288cf9ff1
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/125484/65 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/models.py', 'nova/db/sqlalchemy/migrate_repo/versions/265_flavor_data_in_extra.py', 'nova/tests/db/test_migrations.py', 'nova/db/sqlalchemy/api.py']",4,0ddd25d1a25957830213f4a455b0a964098551e0,flavorextra3," big_columns = set(['numa_topology', 'pci_requests', 'flavor'])"," big_columns = set(['numa_topology', 'pci_requests'])",60,1
openstack%2Fopenstack-ansible~icehouse~I0203dc525ca9e8f962ac683ca07b5cb3bea41589,openstack/openstack-ansible,icehouse,I0203dc525ca9e8f962ac683ca07b5cb3bea41589,Fixed generator type assumption error,MERGED,2015-01-21 15:21:10.000000000,2015-01-23 11:51:06.000000000,2015-01-23 11:51:05.000000000,"[{'_account_id': 3}, {'_account_id': 7217}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-21 15:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/42910b4625d2739f078215b45c8ada1a33664884', 'message': 'Fixed generator type assumption error\n\nWhen adding the swift config pieces the dynamic inventory has attempts\nto add extra arguments to host _meta inventory which assumes the option\nis in a dictionary format. To address the issue an if block  has been\nadded which which checks the object type and proceeds accordingly.\n\nCloses-Bug: 1399387\nChange-Id: I0203dc525ca9e8f962ac683ca07b5cb3bea41589\n(cherry picked from commit 1710987f0a1d7e170e1d8e441f65742c645fa398)\n'}, {'number': 2, 'created': '2015-01-21 15:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fd710f8280bc90d9846b172f8e16fc89ab7d14dd', 'message': 'Fixed generator type assumption error\n\nWhen adding the swift config pieces the dynamic inventory has attempts\nto add extra arguments to host _meta inventory which assumes the option\nis in a dictionary format. To address the issue an if block  has been\nadded which which checks the object type and proceeds accordingly.\n\nCloses-Bug: #1399387\nRelated-Bug: #1409762\nChange-Id: I0203dc525ca9e8f962ac683ca07b5cb3bea41589\n(cherry picked from commit 1710987f0a1d7e170e1d8e441f65742c645fa398)\n'}, {'number': 3, 'created': '2015-01-21 19:11:54.000000000', 'files': ['rpc_deployment/inventory/dynamic_inventory.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/12b56a6d8bc0db643d1fa68daf01a046d8e48977', 'message': 'Fixed generator type assumption error\n\nWhen adding the swift config pieces the dynamic inventory has attempts\nto add extra arguments to host _meta inventory which assumes the option\nis in a dictionary format. To address the issue an if block  has been\nadded which which checks the object type and proceeds accordingly.\n\nCloses-Bug: #1399387\nRelated-Bug: #1409762\nChange-Id: I0203dc525ca9e8f962ac683ca07b5cb3bea41589\n(cherry picked from commit 1710987f0a1d7e170e1d8e441f65742c645fa398)\n'}]",0,148959,12b56a6d8bc0db643d1fa68daf01a046d8e48977,15,4,3,6816,,,0,"Fixed generator type assumption error

When adding the swift config pieces the dynamic inventory has attempts
to add extra arguments to host _meta inventory which assumes the option
is in a dictionary format. To address the issue an if block  has been
added which which checks the object type and proceeds accordingly.

Closes-Bug: #1399387
Related-Bug: #1409762
Change-Id: I0203dc525ca9e8f962ac683ca07b5cb3bea41589
(cherry picked from commit 1710987f0a1d7e170e1d8e441f65742c645fa398)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/59/148959/1 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/inventory/dynamic_inventory.py'],1,42910b4625d2739f078215b45c8ada1a33664884,bug/1411331," if isinstance(options, (str, dict, list)): if 'limit_container_types' in options: limit = options.pop( 'limit_container_types', None )"," if 'limit_container_types' in options: limit = options.pop( 'limit_container_types', None )",5,4
openstack%2Fnova~stable%2Fjuno~Ica1cf3558baeea12b519bda50c61cea446429364,openstack/nova,stable/juno,Ica1cf3558baeea12b519bda50c61cea446429364,Add LibvirtGPFSVolumeDriver class,MERGED,2015-01-15 07:49:49.000000000,2015-01-23 11:46:56.000000000,2015-01-23 11:46:52.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 8213}, {'_account_id': 9067}, {'_account_id': 9656}, {'_account_id': 10118}]","[{'number': 1, 'created': '2015-01-15 07:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5eea9aaca1b2726133373f0dbfb32ce3a66e3998', 'message': ""Add LibvirtGPFSVolumeDriver class\n\nCurrently, GPFS use LibvirtVolumeDriver to generate the libvirt\nxml configuration when attaching a gpfs volume. But the driver\nalways set the disk_type to 'block' which should be 'file' for\nGPFS volume.\n\nThis patch create a new volume driver class for GPFS, the class\ncan generate the right xml configuration for GPFS volume.\n\nChange-Id: Ica1cf3558baeea12b519bda50c61cea446429364\nCloses-Bug:#1405044\n(cherry picked from commit 8c62b79610cb5680a052c7a0c779a3faf4568781)\n""}, {'number': 2, 'created': '2015-01-20 23:27:31.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/volume.py', 'nova/tests/virt/libvirt/test_volume.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8c07d429a00ee35166820c61a67618430dbb83b8', 'message': ""Add LibvirtGPFSVolumeDriver class\n\nCurrently, GPFS use LibvirtVolumeDriver to generate the libvirt\nxml configuration when attaching a gpfs volume. But the driver\nalways set the disk_type to 'block' which should be 'file' for\nGPFS volume.\n\nThis patch create a new volume driver class for GPFS, the class\ncan generate the right xml configuration for GPFS volume.\n\nChange-Id: Ica1cf3558baeea12b519bda50c61cea446429364\nCloses-Bug:#1405044\n(cherry picked from commit 8c62b79610cb5680a052c7a0c779a3faf4568781)\n""}]",0,147411,8c07d429a00ee35166820c61a67618430dbb83b8,15,9,2,12927,,,0,"Add LibvirtGPFSVolumeDriver class

Currently, GPFS use LibvirtVolumeDriver to generate the libvirt
xml configuration when attaching a gpfs volume. But the driver
always set the disk_type to 'block' which should be 'file' for
GPFS volume.

This patch create a new volume driver class for GPFS, the class
can generate the right xml configuration for GPFS volume.

Change-Id: Ica1cf3558baeea12b519bda50c61cea446429364
Closes-Bug:#1405044
(cherry picked from commit 8c62b79610cb5680a052c7a0c779a3faf4568781)
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/147411/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/volume.py', 'nova/tests/virt/libvirt/test_volume.py']",3,5eea9aaca1b2726133373f0dbfb32ce3a66e3998,bug/1405044," def test_libvirt_gpfs_driver_get_config(self): libvirt_driver = volume.LibvirtGPFSVolumeDriver(self.fake_conn) connection_info = { 'driver_volume_type': 'gpfs', 'data': { 'device_path': '/gpfs/foo', }, 'serial': 'fake_serial', } conf = libvirt_driver.get_config(connection_info, self.disk_info) tree = conf.format_dom() self.assertEqual('file', tree.get('type')) self.assertEqual('fake_serial', tree.find('./serial').text)",,31,0
openstack%2Fpython-ceilometerclient~master~I66f42d7bd1342f236ddd00f6d56e79d6136eecde,openstack/python-ceilometerclient,master,I66f42d7bd1342f236ddd00f6d56e79d6136eecde,Upgrade to hacking 0.10,MERGED,2015-01-13 13:05:23.000000000,2015-01-23 11:43:35.000000000,2015-01-23 11:43:34.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 3012}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 13273}]","[{'number': 1, 'created': '2015-01-13 13:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ceilometerclient/commit/04c662efdf5163175d89b622293a80ec0110c9f1', 'message': 'Upgrade to hacking 0.10\n\nChange-Id: I66f42d7bd1342f236ddd00f6d56e79d6136eecde\n'}, {'number': 2, 'created': '2015-01-13 13:59:57.000000000', 'files': ['ceilometerclient/tests/v2/test_query_samples.py', 'test-requirements.txt', 'ceilometerclient/tests/v2/test_query_alarms.py', 'ceilometerclient/tests/v2/test_alarms.py', 'ceilometerclient/v2/alarms.py'], 'web_link': 'https://opendev.org/openstack/python-ceilometerclient/commit/c4dee7a484eb2657bda2e5230ae140dafaa9086a', 'message': 'Upgrade to hacking 0.10\n\nChange-Id: I66f42d7bd1342f236ddd00f6d56e79d6136eecde\n'}]",0,146850,c4dee7a484eb2657bda2e5230ae140dafaa9086a,15,6,2,1669,,,0,"Upgrade to hacking 0.10

Change-Id: I66f42d7bd1342f236ddd00f6d56e79d6136eecde
",git fetch https://review.opendev.org/openstack/python-ceilometerclient refs/changes/50/146850/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometerclient/tests/v2/test_query_samples.py', 'ceilometerclient/tests/v2/test_query_alarms.py', 'test-requirements.txt', 'ceilometerclient/tests/v2/test_alarms.py', 'ceilometerclient/v2/alarms.py']",5,04c662efdf5163175d89b622293a80ec0110c9f1,jd/hacking,,# Author: Eoghan Glynn <eglynn@redhat.com> #,1,9
openstack%2Fglance~stable%2Fjuno~I47229b366c25367ec1bd48aec684e0880f3dfe60,openstack/glance,stable/juno,I47229b366c25367ec1bd48aec684e0880f3dfe60,Cleanup chunks for deleted image that was 'saving',MERGED,2015-01-22 20:19:49.000000000,2015-01-23 11:36:24.000000000,2015-01-23 11:36:23.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 6159}, {'_account_id': 6549}, {'_account_id': 8127}, {'_account_id': 8871}, {'_account_id': 9311}, {'_account_id': 9751}, {'_account_id': 11356}]","[{'number': 1, 'created': '2015-01-22 20:19:49.000000000', 'files': ['glance/api/v2/image_data.py', 'glance/location.py', 'glance/api/authorization.py', 'glance/tests/unit/v1/test_api.py', 'glance/db/__init__.py', 'glance/api/v1/upload_utils.py', 'glance/tests/unit/test_domain_proxy.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/unit/test_quota.py', 'glance/tests/unit/test_store_image.py', 'glance/tests/unit/test_policy.py', 'glance/api/policy.py', 'glance/notifier.py', 'glance/domain/proxy.py', 'glance/quota/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/7d5d8657fd70b20518610b3c6f8e41e16c72fa31', 'message': ""Cleanup chunks for deleted image that was 'saving'\n\nCurrently image data cannot be removed synchronously for an image that\nis in saving state. And when, the upload operation for such an image is\ncompleted the operator configured quota can be exceeded.\n\nThis patch fixes the issue of left over chunks for an image which was\ndeleted from saving status. However, by the limitation of the design we\ncannot enforce a global quota check for the image in saving status.\n\nThis change introduces a inconsonance between http response codes of\nv1 and v2 APIs. The status codes which we will now see after the upload\nprocess completes on an image which was deleted mid way are:\n\nv1: 412 Precondition Failed\nv2: 410 Gone\n\nSecurityImpact\nUpgradeImpact\nAPIImpact\n\nCloses-Bug: 1383973\nCloses-Bug: 1398830\nCloses-Bug: 1188532\n\nConflicts:\n\tglance/api/v1/upload_utils.py\n\tglance/api/v2/image_data.py\n\tglance/tests/unit/test_domain_proxy.py\n\tglance/tests/unit/v1/test_api.py\n\nChange-Id: I47229b366c25367ec1bd48aec684e0880f3dfe60\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n(cherry picked from commit 0dc8fbb3479a53c5bba8475d14f4c7206904c5ea)\n""}]",0,149387,7d5d8657fd70b20518610b3c6f8e41e16c72fa31,11,11,1,12000,,,0,"Cleanup chunks for deleted image that was 'saving'

Currently image data cannot be removed synchronously for an image that
is in saving state. And when, the upload operation for such an image is
completed the operator configured quota can be exceeded.

This patch fixes the issue of left over chunks for an image which was
deleted from saving status. However, by the limitation of the design we
cannot enforce a global quota check for the image in saving status.

This change introduces a inconsonance between http response codes of
v1 and v2 APIs. The status codes which we will now see after the upload
process completes on an image which was deleted mid way are:

v1: 412 Precondition Failed
v2: 410 Gone

SecurityImpact
UpgradeImpact
APIImpact

Closes-Bug: 1383973
Closes-Bug: 1398830
Closes-Bug: 1188532

Conflicts:
	glance/api/v1/upload_utils.py
	glance/api/v2/image_data.py
	glance/tests/unit/test_domain_proxy.py
	glance/tests/unit/v1/test_api.py

Change-Id: I47229b366c25367ec1bd48aec684e0880f3dfe60
Signed-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>
(cherry picked from commit 0dc8fbb3479a53c5bba8475d14f4c7206904c5ea)
",git fetch https://review.opendev.org/openstack/glance refs/changes/87/149387/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_data.py', 'glance/location.py', 'glance/api/authorization.py', 'glance/tests/unit/v1/test_api.py', 'glance/db/__init__.py', 'glance/api/v1/upload_utils.py', 'glance/tests/unit/test_domain_proxy.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/unit/test_quota.py', 'glance/tests/unit/test_store_image.py', 'glance/tests/unit/test_policy.py', 'glance/api/policy.py', 'glance/notifier.py', 'glance/domain/proxy.py', 'glance/quota/__init__.py']",15,7d5d8657fd70b20518610b3c6f8e41e16c72fa31,bug/1383973," def save(self, image, from_state=None): return super(ImageRepoProxy, self).save(image, from_state=from_state)"," def save(self, image): return super(ImageRepoProxy, self).save(image)",98,80
openstack%2Fglance~master~I023529b32b3b766c6d625d73010debe8dbd5fc65,openstack/glance,master,I023529b32b3b766c6d625d73010debe8dbd5fc65,Remove test dependency on curl,MERGED,2015-01-20 23:56:25.000000000,2015-01-23 11:35:34.000000000,2015-01-23 11:35:33.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 6484}, {'_account_id': 9751}, {'_account_id': 11864}, {'_account_id': 12000}, {'_account_id': 12807}, {'_account_id': 13777}]","[{'number': 1, 'created': '2015-01-20 23:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5eaf9cf766bf29a654d9e3b76f50423a32badde8', 'message': 'Remove test dependency on curl\n\ntest_exception_not_eaten_from_registry_to_api unnecessarily invoked curl\nthrough a command exec to perform a simple GET and POST to the glance API. The\ntest has been modified to use httplib2 which was already imported for another\ntest in the same test class.\n\nChange-Id: I023529b32b3b766c6d625d73010debe8dbd5fc65\nCloses-Bug: 1410563\n'}, {'number': 2, 'created': '2015-01-21 23:04:34.000000000', 'files': ['glance/tests/functional/v1/test_misc.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/94fe4a03aaea642bed9fbb667bac30e2c1433bfe', 'message': 'Remove test dependency on curl\n\ntest_exception_not_eaten_from_registry_to_api unnecessarily invoked curl\nthrough a command exec to perform a simple GET and POST to the glance API. The\ntest has been modified to use httplib2 which was already imported for another\ntest in the same test class.\n\nChange-Id: I023529b32b3b766c6d625d73010debe8dbd5fc65\nCloses-Bug: 1410563\n'}]",1,148750,94fe4a03aaea642bed9fbb667bac30e2c1433bfe,19,8,2,12807,,,0,"Remove test dependency on curl

test_exception_not_eaten_from_registry_to_api unnecessarily invoked curl
through a command exec to perform a simple GET and POST to the glance API. The
test has been modified to use httplib2 which was already imported for another
test in the same test class.

Change-Id: I023529b32b3b766c6d625d73010debe8dbd5fc65
Closes-Bug: 1410563
",git fetch https://review.opendev.org/openstack/glance refs/changes/50/148750/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/functional/v1/test_misc.py'],1,5eaf9cf766bf29a654d9e3b76f50423a32badde8,bug/1410563," path = 'http://127.0.0.1:%d/v1/images' % api_port http = httplib2.Http() response, content = http.request(path, 'GET') self.assertEqual(200, response.status) self.assertEqual('{""images"": []}', content) headers = {'Content-Type': 'application/octet-stream', 'X-Image-Meta-Name': 'ImageName', 'X-Image-Meta-Disk-Format': 'Invalid', } ignored, content = http.request(path, 'POST', headers=headers) self.assertTrue('Invalid disk format' in content, ""in output: %s"" % content)","from glance.tests.utils import execute cmd = ""curl -g http://127.0.0.1:%d/v1/images"" % api_port exitcode, out, err = execute(cmd) self.assertEqual(0, exitcode) self.assertEqual('{""images"": []}', out.strip()) cmd = (""curl -X POST -H 'Content-Type: application/octet-stream' "" ""-H 'X-Image-Meta-Name: ImageName' "" ""-H 'X-Image-Meta-Disk-Format: Invalid' "" ""http://127.0.0.1:%d/v1/images"" % api_port) ignored, out, err = execute(cmd) self.assertTrue('Invalid disk format' in out, ""in output: %s"" % out)",11,14
openstack%2Fheat~stable%2Fjuno~I2beb33371cf5e6701e22dbb41c8f5aa681c379de,openstack/heat,stable/juno,I2beb33371cf5e6701e22dbb41c8f5aa681c379de,Check that template format plugins are registered,MERGED,2015-01-21 10:38:29.000000000,2015-01-23 11:25:30.000000000,2015-01-23 11:25:28.000000000,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 7634}, {'_account_id': 8246}, {'_account_id': 9542}, {'_account_id': 9656}, {'_account_id': 13009}]","[{'number': 1, 'created': '2015-01-21 10:38:29.000000000', 'files': ['heat/engine/template.py', 'bin/heat-engine'], 'web_link': 'https://opendev.org/openstack/heat/commit/65294f43977bb3bbf0cb67a321cbff3ab5039e35', 'message': 'Check that template format plugins are registered\n\nOtherwise log an error and exit\n\nChange-Id: I2beb33371cf5e6701e22dbb41c8f5aa681c379de\nCloses-Bug: #1402426\n(cherry picked from commit ed76af426934147b895e2b746193491896369f82)\n'}]",5,148870,65294f43977bb3bbf0cb67a321cbff3ab5039e35,19,8,1,13323,,,0,"Check that template format plugins are registered

Otherwise log an error and exit

Change-Id: I2beb33371cf5e6701e22dbb41c8f5aa681c379de
Closes-Bug: #1402426
(cherry picked from commit ed76af426934147b895e2b746193491896369f82)
",git fetch https://review.opendev.org/openstack/heat refs/changes/70/148870/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/template.py', 'bin/heat-engine']",2,65294f43977bb3bbf0cb67a321cbff3ab5039e35,bug/1402426,"from heat.common.i18n import _LCfrom heat.engine import template mgr = None try: mgr = template._get_template_extension_manager() except template.TemplatePluginNotRegistered as ex: LOG.critical(_LC(""%s""), ex) if not mgr or not mgr.names(): sys.exit(""ERROR: No template format plugins registered"") ",,20,1
openstack%2Fopenstack-ansible~icehouse~I3392cb0bc341f773fb1f5995daf5749c4822fd9c,openstack/openstack-ansible,icehouse,I3392cb0bc341f773fb1f5995daf5749c4822fd9c,Remove empty playbooks/infrastructure/repo-install.yml,MERGED,2015-01-21 17:24:38.000000000,2015-01-23 11:21:47.000000000,2015-01-23 11:21:47.000000000,"[{'_account_id': 3}, {'_account_id': 7353}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-21 17:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b312d1e4283ac2e778bea90a2cd52ac731d72b3d', 'message': 'Remove empty playbooks/infrastructure/repo-install.yml\n\nChange-Id: I3392cb0bc341f773fb1f5995daf5749c4822fd9c\nRelated-Bug: #1409762\n'}, {'number': 2, 'created': '2015-01-21 17:25:43.000000000', 'files': ['rpc_deployment/playbooks/infrastructure/repo-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8ef95408b0103687c55328c95b0f9571169962f5', 'message': 'Remove empty playbooks/infrastructure/repo-install.yml\n\nNot only is the file empty, but it causes the lint test to fail as a\nresult of being empty.\n\nChange-Id: I3392cb0bc341f773fb1f5995daf5749c4822fd9c\nRelated-Bug: #1409762\n'}]",0,148994,8ef95408b0103687c55328c95b0f9571169962f5,12,3,2,6816,,,0,"Remove empty playbooks/infrastructure/repo-install.yml

Not only is the file empty, but it causes the lint test to fail as a
result of being empty.

Change-Id: I3392cb0bc341f773fb1f5995daf5749c4822fd9c
Related-Bug: #1409762
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/94/148994/1 && git format-patch -1 --stdout FETCH_HEAD,['rpc_deployment/playbooks/infrastructure/repo-install.yml'],1,b312d1e4283ac2e778bea90a2cd52ac731d72b3d,bug/1409762,,,0,0
openstack%2Foslo.middleware~master~Ife7e7e6eaf96a9a9191312c97b37415f351d1fdd,openstack/oslo.middleware,master,Ife7e7e6eaf96a9a9191312c97b37415f351d1fdd,Updated from global requirements,MERGED,2015-01-23 04:37:41.000000000,2015-01-23 10:52:46.000000000,2015-01-23 10:52:46.000000000,"[{'_account_id': 3}, {'_account_id': 1669}]","[{'number': 1, 'created': '2015-01-23 04:37:41.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/88c69a0fc7efcc78dd7ba12eaf142d8cc8945c8a', 'message': 'Updated from global requirements\n\nChange-Id: Ife7e7e6eaf96a9a9191312c97b37415f351d1fdd\n'}]",0,149478,88c69a0fc7efcc78dd7ba12eaf142d8cc8945c8a,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Ife7e7e6eaf96a9a9191312c97b37415f351d1fdd
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/78/149478/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,88c69a0fc7efcc78dd7ba12eaf142d8cc8945c8a,openstack/requirements,oslo.i18n>=1.3.0 # Apache-2.0,oslo.i18n>=1.0.0 # Apache-2.0,1,1
openstack%2Fdiskimage-builder~master~I74154176987d5d07cf84ddc6c18d989873dbce0a,openstack/diskimage-builder,master,I74154176987d5d07cf84ddc6c18d989873dbce0a,Element to add an user for testing purposes.,ABANDONED,2015-01-23 09:38:16.000000000,2015-01-23 10:52:27.000000000,,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 9453}]","[{'number': 1, 'created': '2015-01-23 09:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/aaf74d4e5e8b54698bbf8170c06f5b27ec426f65', 'message': 'Add element to add an user with password and sudo access\nfor testing purposes.\n\nSometimes is useful to just have an user to enter into\nan image for testing, without the need to ssh. This is a\nsimple element that just creates an user with sudo access,\nspecified by DIB_TESTING_USERNAME and DIB_TESTING_PASSWORD\nparameters.\n\nChange-Id: I74154176987d5d07cf84ddc6c18d989873dbce0a\n'}, {'number': 2, 'created': '2015-01-23 09:52:19.000000000', 'files': ['elements/add-testing-user/README.rst', 'elements/add-testing-user/install.d/20-create-user'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/213acecb077fa282d9b0295ebd8c4a471e76c0ea', 'message': 'Element to add an user for testing purposes.\n\nSometimes is useful to just have an user to enter into\nan image for testing, without the need to ssh. This is a\nsimple element that just creates an user with sudo access,\nspecified by DIB_TESTING_USERNAME and DIB_TESTING_PASSWORD\nparameters.\n\nChange-Id: I74154176987d5d07cf84ddc6c18d989873dbce0a\n'}]",0,149547,213acecb077fa282d9b0295ebd8c4a471e76c0ea,6,3,2,6133,,,0,"Element to add an user for testing purposes.

Sometimes is useful to just have an user to enter into
an image for testing, without the need to ssh. This is a
simple element that just creates an user with sudo access,
specified by DIB_TESTING_USERNAME and DIB_TESTING_PASSWORD
parameters.

Change-Id: I74154176987d5d07cf84ddc6c18d989873dbce0a
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/47/149547/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/add-testing-user/README.rst', 'elements/add-testing-user/install.d/20-create-user']",2,aaf74d4e5e8b54698bbf8170c06f5b27ec426f65,,"#!/bin/bash -xe # Copyright (C) 2014 Hewlett-Packard Development Company, L.P. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # # See the License for the specific language governing permissions and # limitations under the License. # create user based on DIB_TEST_USERNAME and DIB_TEST_PASSWORD useradd $DIB_TEST_USERNAME -g sudo -d /home/$DIB_TEST_USERNAME -s /bin/bash echo ""$DIB_TEST_USERNAME:$DIB_TEST_PASSWORD"" | chpasswd ",,28,0
openstack%2Ffuel-library~master~I92504e3ed5487464a985758b1f8c996e68a6fc0b,openstack/fuel-library,master,I92504e3ed5487464a985758b1f8c996e68a6fc0b,Sync puppet module xinetd to v1.3.0 from upstream,ABANDONED,2014-06-27 10:15:58.000000000,2015-01-23 10:50:52.000000000,,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8787}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-06-27 10:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/ee9d7e8531950f7572a8719efae66d6df894918e', 'message': 'Sync puppet module xinetd to v1.3.0 from upstream\n\nv1.3.0 sha1: 4e7191ddde8802f44b91b4aab6b656cf0fe2fff6\nupstream repo link: https://github.com/puppetlabs/puppetlabs-xinetd\nImplements: blueprint merge-openstack-puppet-modules\n\nChange-Id: I92504e3ed5487464a985758b1f8c996e68a6fc0b\n'}, {'number': 2, 'created': '2014-10-09 08:27:45.000000000', 'files': ['deployment/puppet/xinetd/templates/service.erb', 'deployment/puppet/xinetd/.gitignore', 'deployment/puppet/xinetd/.fixtures.yml', 'deployment/puppet/xinetd/spec/defines/xinetd_service_spec.rb', 'deployment/puppet/xinetd/manifests/init.pp', 'deployment/puppet/xinetd/spec/system/class_spec.rb', 'deployment/puppet/xinetd/manifests/service.pp', 'deployment/puppet/xinetd/.project', 'deployment/puppet/xinetd/spec/spec_helper_system.rb', 'deployment/puppet/xinetd/.nodeset.yml', 'deployment/puppet/xinetd/README', 'deployment/puppet/xinetd/.travis.yml', 'deployment/puppet/xinetd/README.md', 'deployment/puppet/xinetd/spec/classes/xinetd_init_spec.rb', 'deployment/puppet/xinetd/manifests/params.pp', 'deployment/puppet/xinetd/.gemfile', 'deployment/puppet/xinetd/templates/xinetd.conf.erb', 'deployment/puppet/xinetd/spec/system/service_spec.rb', 'deployment/puppet/xinetd/Rakefile', 'deployment/puppet/xinetd/LICENSE', 'deployment/puppet/xinetd/spec/fixtures/manifests/site.pp', 'deployment/puppet/xinetd/Modulefile', 'deployment/puppet/xinetd/Gemfile', 'deployment/puppet/xinetd/CHANGELOG'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/ed624041313dbdeda9d7375878eb1a5a69ae26c2', 'message': 'Sync puppet module xinetd to v1.3.0 from upstream\n\nv1.3.0 sha1: 4e7191ddde8802f44b91b4aab6b656cf0fe2fff6\nupstream repo link: https://github.com/puppetlabs/puppetlabs-xinetd\nImplements: blueprint merge-openstack-puppet-modules\n\n\nChange-Id: I92504e3ed5487464a985758b1f8c996e68a6fc0b\n'}]",0,103075,ed624041313dbdeda9d7375878eb1a5a69ae26c2,20,7,2,11827,,,0,"Sync puppet module xinetd to v1.3.0 from upstream

v1.3.0 sha1: 4e7191ddde8802f44b91b4aab6b656cf0fe2fff6
upstream repo link: https://github.com/puppetlabs/puppetlabs-xinetd
Implements: blueprint merge-openstack-puppet-modules


Change-Id: I92504e3ed5487464a985758b1f8c996e68a6fc0b
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/75/103075/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/xinetd/templates/service.erb', 'deployment/puppet/xinetd/.gitignore', 'deployment/puppet/xinetd/.fixtures.yml', 'deployment/puppet/xinetd/spec/defines/xinetd_service_spec.rb', 'deployment/puppet/xinetd/manifests/init.pp', 'deployment/puppet/xinetd/spec/system/class_spec.rb', 'deployment/puppet/xinetd/manifests/service.pp', 'deployment/puppet/xinetd/.project', 'deployment/puppet/xinetd/spec/spec_helper_system.rb', 'deployment/puppet/xinetd/.nodeset.yml', 'deployment/puppet/xinetd/README', 'deployment/puppet/xinetd/.travis.yml', 'deployment/puppet/xinetd/README.md', 'deployment/puppet/xinetd/spec/classes/xinetd_init_spec.rb', 'deployment/puppet/xinetd/manifests/params.pp', 'deployment/puppet/xinetd/.gemfile', 'deployment/puppet/xinetd/templates/xinetd.conf.erb', 'deployment/puppet/xinetd/spec/system/service_spec.rb', 'deployment/puppet/xinetd/Rakefile', 'deployment/puppet/xinetd/LICENSE', 'deployment/puppet/xinetd/spec/fixtures/manifests/site.pp', 'deployment/puppet/xinetd/Modulefile', 'deployment/puppet/xinetd/Gemfile', 'deployment/puppet/xinetd/CHANGELOG']",24,ee9d7e8531950f7572a8719efae66d6df894918e,bp/merge-openstack-puppet-modules,"2014-06-18 Release 1.3.0 Features: - Add 'log_on_success', 'log_on_success_operator' and 'log_on_failure_operator parameters to xinetd::service - Add 'service_restart', 'service_status', 'service_hasrestart', and 'service_hasstatus' parameters to class xinetd. - Add support for Amazon Linux. - License changes to ASLv2 - Testing and documentation updates. Bugfixes: - Remove duplicated $log_on_failure parameter 2013-07-30 Release 1.2.0 Features: - Add `confdir`, `conffile`, `package_name`, and `service_name` parameters to `Class['xinetd']` - Add support for FreeBSD and Suse. - Add `log_on_failure`, `service_name`, `groups`, `no_access`, `access_times`, `log_type`, `only_from`, and `xtype` parameters to `Xinetd::Service` define Bugfixes: - Redesign for `xinetd::params` pattern - Add validation - Add unit testing ",,553,151
openstack%2Foslo.serialization~master~Iaf7ab2815b9fbe2e7743b01c8281d337fea691f3,openstack/oslo.serialization,master,Iaf7ab2815b9fbe2e7743b01c8281d337fea691f3,Updated from global requirements,MERGED,2015-01-23 04:37:44.000000000,2015-01-23 10:46:59.000000000,2015-01-23 10:46:59.000000000,"[{'_account_id': 3}, {'_account_id': 1669}]","[{'number': 1, 'created': '2015-01-23 04:37:44.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/b17b786b1caf53e667ff3f2d115df8354a2d60ea', 'message': 'Updated from global requirements\n\nChange-Id: Iaf7ab2815b9fbe2e7743b01c8281d337fea691f3\n'}]",0,149479,b17b786b1caf53e667ff3f2d115df8354a2d60ea,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Iaf7ab2815b9fbe2e7743b01c8281d337fea691f3
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/79/149479/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,b17b786b1caf53e667ff3f2d115df8354a2d60ea,openstack/requirements,oslo.i18n>=1.3.0 # Apache-2.0,oslo.i18n>=1.0.0 # Apache-2.0,1,1
openstack%2Fheat~master~Ia013c91d3eadb3079eaf59bdbb26857297cfdc34,openstack/heat,master,Ia013c91d3eadb3079eaf59bdbb26857297cfdc34,Spelling and grammatical mistakes fixed in comments.,ABANDONED,2014-09-03 18:13:30.000000000,2015-01-23 10:46:20.000000000,,"[{'_account_id': 3}, {'_account_id': 6577}, {'_account_id': 6698}, {'_account_id': 7193}, {'_account_id': 8289}, {'_account_id': 9542}, {'_account_id': 13107}]","[{'number': 1, 'created': '2014-09-03 18:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/026a916f18daffb811cf50ea33d5adbc49e58f11', 'message': 'Spelling mistakes fixed in comments.\n\nChange-Id: Ia013c91d3eadb3079eaf59bdbb26857297cfdc34\n'}, {'number': 2, 'created': '2014-09-03 21:52:11.000000000', 'files': ['heat/engine/resources/instance.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/fad6dc63c9217fc2ff24af0e784ec79bca97e764', 'message': 'Spelling and grammatical mistakes fixed in comments.\n\nChange-Id: Ia013c91d3eadb3079eaf59bdbb26857297cfdc34\n'}]",1,118711,fad6dc63c9217fc2ff24af0e784ec79bca97e764,17,7,2,13107,,,0,"Spelling and grammatical mistakes fixed in comments.

Change-Id: Ia013c91d3eadb3079eaf59bdbb26857297cfdc34
",git fetch https://review.opendev.org/openstack/heat refs/changes/11/118711/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/instance.py'],1,026a916f18daffb811cf50ea33d5adbc49e58f11,," # if there is entries in old_network_ifaces and new_network_ifaces, # remove the same entries from old and new ifaces"," # if there is entrys in old_network_ifaces and new_network_ifaces, # remove the same entrys from old and new ifaces",2,2
openstack%2Fheat~master~I2002065e6ff8f5903eb131c48af0277ced00d6ad,openstack/heat,master,I2002065e6ff8f5903eb131c48af0277ced00d6ad,Spelling and grammatical errors fixed in the comments.,ABANDONED,2014-09-05 01:20:16.000000000,2015-01-23 10:46:09.000000000,,"[{'_account_id': 3}, {'_account_id': 6577}, {'_account_id': 9542}]","[{'number': 1, 'created': '2014-09-05 01:20:16.000000000', 'files': ['heat/engine/resources/instance.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/f70d4d3d6057d08e1d10bc43d65e7ca14f9909de', 'message': 'Spelling and grammatical errors fixed in the comments.\n\nChange-Id: I2002065e6ff8f5903eb131c48af0277ced00d6ad\n'}]",0,119271,f70d4d3d6057d08e1d10bc43d65e7ca14f9909de,6,3,1,13107,,,0,"Spelling and grammatical errors fixed in the comments.

Change-Id: I2002065e6ff8f5903eb131c48af0277ced00d6ad
",git fetch https://review.opendev.org/openstack/heat refs/changes/71/119271/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/instance.py'],1,f70d4d3d6057d08e1d10bc43d65e7ca14f9909de,," # if there are entries in old_network_ifaces and new_network_ifaces, # remove the same entries from old and new ifaces"," # if there is entrys in old_network_ifaces and new_network_ifaces, # remove the same entrys from old and new ifaces",2,2
openstack%2Fpython-ceilometerclient~master~I62da558578ebd2687ef95e188c3542ab8b7e31a3,openstack/python-ceilometerclient,master,I62da558578ebd2687ef95e188c3542ab8b7e31a3,Updated from global requirements,MERGED,2015-01-23 04:37:58.000000000,2015-01-23 10:44:31.000000000,2015-01-23 10:44:31.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6676}, {'_account_id': 13273}]","[{'number': 1, 'created': '2015-01-23 04:37:58.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-ceilometerclient/commit/47d5123e8d959a259409556f4294ec6289bd4968', 'message': 'Updated from global requirements\n\nChange-Id: I62da558578ebd2687ef95e188c3542ab8b7e31a3\n'}]",0,149483,47d5123e8d959a259409556f4294ec6289bd4968,8,4,1,11131,,,0,"Updated from global requirements

Change-Id: I62da558578ebd2687ef95e188c3542ab8b7e31a3
",git fetch https://review.opendev.org/openstack/python-ceilometerclient refs/changes/83/149483/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,47d5123e8d959a259409556f4294ec6289bd4968,openstack/requirements,oslo.i18n>=1.3.0 # Apache-2.0,oslo.i18n>=1.0.0 # Apache-2.0,1,1
openstack%2Ffuel-astute~master~I920ab585a4324204bc8060850e2838a88db3b2e8,openstack/fuel-astute,master,I920ab585a4324204bc8060850e2838a88db3b2e8,Check existing or upload cirros by one request,MERGED,2014-11-17 10:22:23.000000000,2015-01-23 10:40:07.000000000,2015-01-23 10:40:07.000000000,"[{'_account_id': 3}, {'_account_id': 8749}, {'_account_id': 8776}, {'_account_id': 8782}, {'_account_id': 8907}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-11-17 10:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/4db71fcc38d4245072d74df74edf3d9e2c95cc92', 'message': 'Check existing or upload cirros by one request\n\nSometimes mcollective do not receive answer and\nwe can upload 2 images instead of one. This\nsolution join 2 command into 1: check existing\nand upload if not exist. Now this is idempotency\noperation.\n\nChange-Id: I920ab585a4324204bc8060850e2838a88db3b2e8\nCloses-Bug: #1342039\n'}, {'number': 2, 'created': '2014-11-17 13:31:20.000000000', 'files': ['lib/astute/post_deployment_actions/upload_cirros_image.rb', 'spec/unit/post_deployment_actions/upload_cirros_image_hook_spec.rb'], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/1aa7efb3905a9b5d48718b70a6321cf914c7aa71', 'message': 'Check existing or upload cirros by one request\n\nSometimes mcollective do not receive answer and\nwe can upload 2 images instead of one. This\nsolution join 2 command into 1: check existing\nand upload if not exist. Now this is idempotency\noperation.\n\nChange-Id: I920ab585a4324204bc8060850e2838a88db3b2e8\nCloses-Bug: #1342039\n'}]",1,134893,1aa7efb3905a9b5d48718b70a6321cf914c7aa71,21,6,2,8776,,,0,"Check existing or upload cirros by one request

Sometimes mcollective do not receive answer and
we can upload 2 images instead of one. This
solution join 2 command into 1: check existing
and upload if not exist. Now this is idempotency
operation.

Change-Id: I920ab585a4324204bc8060850e2838a88db3b2e8
Closes-Bug: #1342039
",git fetch https://review.opendev.org/openstack/fuel-astute refs/changes/93/134893/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/astute/post_deployment_actions/upload_cirros_image.rb', 'spec/unit/post_deployment_actions/upload_cirros_image_hook_spec.rb']",2,4db71fcc38d4245072d74df74edf3d9e2c95cc92,bug/1342039,, .then.returns(:data => {:exit_code => 1}),18,21
openstack%2Ffuel-astute~master~I2e620fd54722f63ebd697fbe9d6cdff31c7e22f1,openstack/fuel-astute,master,I2e620fd54722f63ebd697fbe9d6cdff31c7e22f1,Disable run hook UpdateNoQuorumPolicy if primary-controller fail,MERGED,2014-12-04 10:43:45.000000000,2015-01-23 10:38:12.000000000,2015-01-23 10:38:12.000000000,"[{'_account_id': 3}, {'_account_id': 8749}, {'_account_id': 8776}, {'_account_id': 8782}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 11969}]","[{'number': 1, 'created': '2014-12-04 10:43:45.000000000', 'files': ['spec/unit/post_deployment_actions/update_no_quorum_policy_spec.rb', 'lib/astute/post_deployment_actions/update_no_quorum_policy.rb'], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/b5e6e0cb7285fc5d05a2f30230307e144afe9599', 'message': 'Disable run hook UpdateNoQuorumPolicy if primary-controller fail\n\nIf deployment have failed for whatever reason\nsetting quorum makes already bad situation even\nworse and cripples debugging.\n\nChange-Id: I2e620fd54722f63ebd697fbe9d6cdff31c7e22f1\nCloses-Bug: #1397432\n'}]",0,139008,b5e6e0cb7285fc5d05a2f30230307e144afe9599,16,8,1,8776,,,0,"Disable run hook UpdateNoQuorumPolicy if primary-controller fail

If deployment have failed for whatever reason
setting quorum makes already bad situation even
worse and cripples debugging.

Change-Id: I2e620fd54722f63ebd697fbe9d6cdff31c7e22f1
Closes-Bug: #1397432
",git fetch https://review.opendev.org/openstack/fuel-astute refs/changes/08/139008/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/post_deployment_actions/update_no_quorum_policy_spec.rb', 'lib/astute/post_deployment_actions/update_no_quorum_policy.rb']",2,b5e6e0cb7285fc5d05a2f30230307e144afe9599,bug/1397432," if context.status[primary_controller['uid']] == 'error' Astute.logger.info ""Update quorum policy for corosync cluster "" \ ""disabled because of primary-controller status is error"" return end Astute.logger.info ""Started updating no quorum policy for corosync cluster"""," Astute.logger.info ""Started updating no quorum policy for corosync cluster""",14,3
openstack%2Fec2-api~master~I1265f682b2ee0420c5d5ab9f19105c0d9fc9cccf,openstack/ec2-api,master,I1265f682b2ee0420c5d5ab9f19105c0d9fc9cccf,fix filtering.,ABANDONED,2015-01-22 18:18:08.000000000,2015-01-23 10:38:10.000000000,,"[{'_account_id': 3}, {'_account_id': 9312}, {'_account_id': 10224}]","[{'number': 1, 'created': '2015-01-22 18:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/29a8d79b0df93dcc21d1e864e853b2da18881ce5', 'message': ""fix filtering.\n\nfilters are applied by 'and' and filter item with list by 'or'\n\nChange-Id: I1265f682b2ee0420c5d5ab9f19105c0d9fc9cccf\n""}, {'number': 2, 'created': '2015-01-23 06:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/9f1240c21ca7a8a963501af28f2b7b4841876c9d', 'message': ""fix filtering.\n\nfilters are applied by 'and' and filter item with list by 'or'\n\nChange-Id: I1265f682b2ee0420c5d5ab9f19105c0d9fc9cccf\n""}, {'number': 3, 'created': '2015-01-23 08:56:30.000000000', 'files': ['ec2api/api/common.py', 'ec2api/tests/test_common.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/d592f992815733a96f649bf0eb6b41028be0d458', 'message': ""fix filtering.\n\nfilters are applied by 'and' and filter item with list by 'or'\n\nChange-Id: I1265f682b2ee0420c5d5ab9f19105c0d9fc9cccf\n""}]",1,149357,d592f992815733a96f649bf0eb6b41028be0d458,8,3,3,10234,,,0,"fix filtering.

filters are applied by 'and' and filter item with list by 'or'

Change-Id: I1265f682b2ee0420c5d5ab9f19105c0d9fc9cccf
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/57/149357/2 && git format-patch -1 --stdout FETCH_HEAD,"['ec2api/api/common.py', 'ec2api/tests/test_common.py']",2,29a8d79b0df93dcc21d1e864e853b2da18881ce5,master-3," def test_filter(self): obj = common.UniversalDescriber() obj.FILTER_MAP = {'prop1': 'prop-1', 'prop2': 'prop-2'} res = obj.filtered_out( {'prop-1': 'val-0', 'prop-2': 'val-123'}, [{'name': 'prop1', 'value': ['val-0']}]) self.assertFalse(res) res = obj.filtered_out( {'prop-1': 'val-0', 'prop-2': 'val-123'}, [{'name': 'prop1', 'value': ['val-0', '0-val']}]) self.assertFalse(res) res = obj.filtered_out( {'prop-1': 'val-0', 'prop-2': 'val-123'}, [{'name': 'prop1', 'value': ['0-val', 'val-0']}]) self.assertFalse(res) res = obj.filtered_out( {'prop-1': 'val-0', 'prop-2': 'val-123'}, [{'name': 'prop1', 'value': ['0-val']}]) self.assertTrue(res) res = obj.filtered_out( {'prop-1': 'val-0', 'prop-2': 'val-123'}, [{'name': 'prop1', 'value': ['val-0']}, {'name': 'prop2', 'value': ['val-123']}]) self.assertFalse(res) res = obj.filtered_out( {'prop-1': 'val-0', 'prop-2': 'val-123'}, [{'name': 'prop1', 'value': ['val-0']}, {'name': 'prop2', 'value': ['123-val']}]) self.assertTrue(res) res = obj.filtered_out( {'prop-1': 'val-0', 'prop-2': 'val-123'}, [{'name': 'prop1', 'value': ['0-val']}, {'name': 'prop2', 'value': ['val-123']}]) self.assertTrue(res) ",,47,2
openstack%2Foslo.concurrency~master~I466ddfebafde7b6a249543efa6fa79e1891fc916,openstack/oslo.concurrency,master,I466ddfebafde7b6a249543efa6fa79e1891fc916,Updated from global requirements,MERGED,2015-01-23 04:37:28.000000000,2015-01-23 10:37:28.000000000,2015-01-23 10:37:27.000000000,"[{'_account_id': 3}, {'_account_id': 1669}]","[{'number': 1, 'created': '2015-01-23 04:37:28.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/63c30e532bcdccd88624ac7fb94960d266a5b999', 'message': 'Updated from global requirements\n\nChange-Id: I466ddfebafde7b6a249543efa6fa79e1891fc916\n'}]",0,149475,63c30e532bcdccd88624ac7fb94960d266a5b999,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I466ddfebafde7b6a249543efa6fa79e1891fc916
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/75/149475/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,63c30e532bcdccd88624ac7fb94960d266a5b999,openstack/requirements,oslo.i18n>=1.3.0 # Apache-2.0,oslo.i18n>=1.0.0 # Apache-2.0,1,1
openstack%2Fopenstack-planet~master~I72bca61500b14e85885cf8f223881d0114a1b228,openstack/openstack-planet,master,I72bca61500b14e85885cf8f223881d0114a1b228,Change of blog URL (cberendt.net --> blog.berendt.io),MERGED,2015-01-22 09:57:07.000000000,2015-01-23 10:28:39.000000000,2015-01-23 10:28:39.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 308}]","[{'number': 1, 'created': '2015-01-22 09:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-planet/commit/52e63a34840c6a23b26c6e565d563fab6e6a7c31', 'message': 'Change of blog URL (cberendt.net --> berendt.ghost.io)\n\nMy private blog moved from cberendt.net to berendt.ghost.io.\n\nChange-Id: I72bca61500b14e85885cf8f223881d0114a1b228\n'}, {'number': 2, 'created': '2015-01-22 11:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-planet/commit/f30dddd6b8f7c23ac94488358beeaadf5ed4fcc4', 'message': 'Change of blog URL (cberendt.net --> berendt.ghost.io)\n\nMy private blog moved from cberendt.net to berendt.ghost.io.\n\nChange-Id: I72bca61500b14e85885cf8f223881d0114a1b228\n'}, {'number': 3, 'created': '2015-01-22 11:55:52.000000000', 'files': ['planet.ini', 'images/berendt.png'], 'web_link': 'https://opendev.org/openstack/openstack-planet/commit/2d7b64b14005d0208e4d812880fc130d90cd6d11', 'message': 'Change of blog URL (cberendt.net --> blog.berendt.io)\n\nMy private blog moved from cberendt.net to blog.berendt.io.\n\nChange-Id: I72bca61500b14e85885cf8f223881d0114a1b228\n'}]",0,149198,2d7b64b14005d0208e4d812880fc130d90cd6d11,14,3,3,167,,,0,"Change of blog URL (cberendt.net --> blog.berendt.io)

My private blog moved from cberendt.net to blog.berendt.io.

Change-Id: I72bca61500b14e85885cf8f223881d0114a1b228
",git fetch https://review.opendev.org/openstack/openstack-planet refs/changes/98/149198/1 && git format-patch -1 --stdout FETCH_HEAD,['planet.ini'],1,52e63a34840c6a23b26c6e565d563fab6e6a7c31,move_blog,[http://berendt.ghost.io/tag/openstack-planet/rss/],[http://www.cberendt.net/category/openstack/feed/]face = berendt.pngfaceheight = 100 facewidth = 100,1,4
openstack%2Fglance~master~I47229b366c25367ec1bd48aec684e0880f3dfe60,openstack/glance,master,I47229b366c25367ec1bd48aec684e0880f3dfe60,Cleanup chunks for deleted image that was 'saving',MERGED,2014-12-30 14:45:54.000000000,2015-01-23 10:22:44.000000000,2015-01-17 00:26:16.000000000,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 6159}, {'_account_id': 6549}, {'_account_id': 9096}, {'_account_id': 9311}, {'_account_id': 12000}]","[{'number': 1, 'created': '2014-12-30 14:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/868fff5a796a7017b23314a9bf1511efa36da2ae', 'message': 'Remove image chunks when deleting it during upload\n\nCurrently image data cannot be removed by glance when deleting a saving\nstatus image, and finially the image space usage will exceed quota\nlimitation which operator configured in glance configure file.\n\nThis patch covered the issue in v2 api branch.\n\nPartial-bug: #1383973 #1398830\nChange-Id: I47229b366c25367ec1bd48aec684e0880f3dfe60\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>'}, {'number': 2, 'created': '2014-12-30 16:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8215298ac45c79fb4cf71368925521bd560da3e6', 'message': 'Remove image chunks when deleting it during upload\n\nCurrently image data cannot be removed by glance when deleting a saving\nstatus image, and finially the image space usage will exceed quota\nlimitation which operator configured in glance configure file.\n\nCloses-bug: #1383973 #1398830\nChange-Id: I47229b366c25367ec1bd48aec684e0880f3dfe60\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n'}, {'number': 3, 'created': '2014-12-31 08:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/97d2bb1a524a822a3246d28bdc2109384fd6a328', 'message': ""Remove image chunks when deleting it during upload\n\nCurrently image data cannot be removed by glance when deleting a saving\nstatus image, and finially the image space usage will exceed quota\nlimitation which operator configured in glance configure file.\n\nNote, there's an inconsonance on http response code between v1 and v2\nimage api in this case, but in anyway with this change the image chunks\nwouldn't leak.\nv1: 412 Precondition Failed\nv2: 410 Gone\n\nCloses-bug: #1383973 #1398830\nChange-Id: I47229b366c25367ec1bd48aec684e0880f3dfe60\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>""}, {'number': 4, 'created': '2015-01-06 08:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6a86ca568fb29f04222d2384d4b06ed82ded73b0', 'message': ""Remove image chunks when deleting it during upload\n\nCurrently image data cannot be removed by glance when deleting a saving\nstatus image, and finially the image space usage will exceed quota\nlimitation which operator configured in glance configure file.\n\nNote, there's an inconsonance on http response code between v1 and v2\nimage api in this case, but in anyway with this change the image chunks\nwouldn't leak.\nv1: 412 Precondition Failed\nv2: 410 Gone\n\nCloses-bug: #1383973 #1398830\nChange-Id: I47229b366c25367ec1bd48aec684e0880f3dfe60\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>""}, {'number': 5, 'created': '2015-01-14 23:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a2bd91cea0000c1df9cc892032142d5624e33d48', 'message': ""Cleanup chunks for deleted image that was 'saving'\n\nCurrently image data cannot be removed synchronously for an image that is in saving state. And when, the upload operation for such an image is completed the operator configured quota can be exceeded.\n\nThis patch fixes the issue of left over chunks for an image which was deleted from saving status. However, by the limitation of the design we cannot enforce a global quota check for the image in saving status.\n\nThis change introduces a inconsonance between http response codes of v1 and v2 APIs.\nThe status codes which we will now see after the upload process completes on an image which was deleted mid way are:\nv1: 412 Precondition Failed\nv2: 410 Gone\n\nCloses-bug: #1383973\nPartial-Bug: #1398830\n\nChange-Id: I47229b366c25367ec1bd48aec684e0880f3dfe60\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n""}, {'number': 6, 'created': '2015-01-14 23:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a9733d85876436add23e765a73b80988ac80b162', 'message': ""Cleanup chunks for deleted image that was 'saving'\n\nCurrently image data cannot be removed synchronously for an image that\nis in saving state. And when, the upload operation for such an image is\ncompleted the operator configured quota can be exceeded.\n\nThis patch fixes the issue of left over chunks for an image which was\ndeleted from saving status. However, by the limitation of the design we\ncannot enforce a global quota check for the image in saving status.\n\nThis change introduces a inconsonance between http response codes of\nv1 and v2 APIs. The status codes which we will now see after the upload\nprocess completes on an image which was deleted mid way are:\n\nv1: 412 Precondition Failed\nv2: 410 Gone\n\nSecurityImpact\nUpgradeImpact\nAPIImpact\n\nCloses-Bug: #1383973\nPartial-Bug: #1398830\n\nChange-Id: I47229b366c25367ec1bd48aec684e0880f3dfe60\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n""}, {'number': 7, 'created': '2015-01-15 15:56:56.000000000', 'files': ['glance/api/v2/image_data.py', 'glance/location.py', 'glance/api/authorization.py', 'glance/tests/unit/v1/test_api.py', 'glance/db/__init__.py', 'glance/api/v1/upload_utils.py', 'glance/tests/unit/test_domain_proxy.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/unit/test_quota.py', 'glance/tests/unit/test_store_image.py', 'glance/tests/unit/test_policy.py', 'glance/api/policy.py', 'glance/notifier.py', 'glance/domain/proxy.py', 'glance/quota/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/0dc8fbb3479a53c5bba8475d14f4c7206904c5ea', 'message': ""Cleanup chunks for deleted image that was 'saving'\n\nCurrently image data cannot be removed synchronously for an image that\nis in saving state. And when, the upload operation for such an image is\ncompleted the operator configured quota can be exceeded.\n\nThis patch fixes the issue of left over chunks for an image which was\ndeleted from saving status. However, by the limitation of the design we\ncannot enforce a global quota check for the image in saving status.\n\nThis change introduces a inconsonance between http response codes of\nv1 and v2 APIs. The status codes which we will now see after the upload\nprocess completes on an image which was deleted mid way are:\n\nv1: 412 Precondition Failed\nv2: 410 Gone\n\nSecurityImpact\nUpgradeImpact\nAPIImpact\n\nCloses-Bug: 1383973\nCloses-Bug: 1398830\nCloses-Bug: 1188532\n\nChange-Id: I47229b366c25367ec1bd48aec684e0880f3dfe60\nSigned-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>\n""}]",2,144464,0dc8fbb3479a53c5bba8475d14f4c7206904c5ea,31,7,7,6549,,,0,"Cleanup chunks for deleted image that was 'saving'

Currently image data cannot be removed synchronously for an image that
is in saving state. And when, the upload operation for such an image is
completed the operator configured quota can be exceeded.

This patch fixes the issue of left over chunks for an image which was
deleted from saving status. However, by the limitation of the design we
cannot enforce a global quota check for the image in saving status.

This change introduces a inconsonance between http response codes of
v1 and v2 APIs. The status codes which we will now see after the upload
process completes on an image which was deleted mid way are:

v1: 412 Precondition Failed
v2: 410 Gone

SecurityImpact
UpgradeImpact
APIImpact

Closes-Bug: 1383973
Closes-Bug: 1398830
Closes-Bug: 1188532

Change-Id: I47229b366c25367ec1bd48aec684e0880f3dfe60
Signed-off-by: Zhi Yan Liu <zhiyanl@cn.ibm.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/64/144464/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_data.py', 'glance/location.py', 'glance/api/authorization.py', 'glance/db/__init__.py', 'glance/tests/unit/test_domain_proxy.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/unit/test_quota.py', 'glance/tests/unit/test_store_image.py', 'glance/tests/unit/test_policy.py', 'glance/api/policy.py', 'glance/notifier.py', 'glance/domain/proxy.py', 'glance/quota/__init__.py']",13,868fff5a796a7017b23314a9bf1511efa36da2ae,bug/1383973," def save(self, image, from_state=None): return super(ImageRepoProxy, self).save(image, from_state=from_state)"," def save(self, image): return super(ImageRepoProxy, self).save(image)",61,47
openstack%2Fopenstack-manuals~master~Iff59b2c27b3704bdc878cc4c406d95db608de1d7,openstack/openstack-manuals,master,Iff59b2c27b3704bdc878cc4c406d95db608de1d7,Add documentation how to setup CLI credentials to use in PKI scenarios.,MERGED,2015-01-13 11:23:59.000000000,2015-01-23 10:22:29.000000000,2015-01-23 10:22:27.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 752}, {'_account_id': 964}, {'_account_id': 6547}, {'_account_id': 6772}, {'_account_id': 7923}]","[{'number': 1, 'created': '2015-01-13 11:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d148694ecc829700af29ddb82dd559178358743e', 'message': 'Add documentation how to setup CLI credentials to use in PKI scenarios.\n\nThis adds CACERT configuration to the credentials section used\nin the user guide section and in the CLI keystone section.\n\nChange-Id: Iff59b2c27b3704bdc878cc4c406d95db608de1d7\nCloses-Bug: #1163938\n'}, {'number': 2, 'created': '2015-01-13 12:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/09a74caca610d880ab11a5148fd5c89850c8f8c0', 'message': 'Add documentation how to setup CLI credentials to use in PKI scenarios.\n\nThis adds CACERT configuration to the credentials section used\nin the user guide section and in the CLI keystone section.\n\nChange-Id: Iff59b2c27b3704bdc878cc4c406d95db608de1d7\nCloses-Bug: #1163938\n'}, {'number': 3, 'created': '2015-01-13 15:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/81ff7373a8fc870ea8effa34cd13ca1d590b6f3e', 'message': 'Add documentation how to setup CLI credentials to use in PKI scenarios.\n\nThis adds CACERT configuration to the credentials section used\nin the user guide section and in the CLI keystone section.\n\nChange-Id: Iff59b2c27b3704bdc878cc4c406d95db608de1d7\nCloses-Bug: #1163938\n'}, {'number': 4, 'created': '2015-01-14 13:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/fa88754559b1db2cda9e7b67709dc861683aa34f', 'message': 'Add documentation how to setup CLI credentials to use in PKI scenarios.\n\nThis adds CACERT configuration to the credentials section used\nin the user guide section and in the CLI keystone section.\n\nChange-Id: Iff59b2c27b3704bdc878cc4c406d95db608de1d7\nCloses-Bug: #1163938\n'}, {'number': 5, 'created': '2015-01-22 11:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/17632747894ca68d6caf7b40ceb1a45346c40b10', 'message': 'Add documentation how to setup CLI credentials to use in PKI scenarios.\n\nThis adds CACERT configuration to the credentials section used\nin the user guide section and in the CLI keystone section.\n\nChange-Id: Iff59b2c27b3704bdc878cc4c406d95db608de1d7\nCloses-Bug: #1163938\n'}, {'number': 6, 'created': '2015-01-22 12:19:01.000000000', 'files': ['doc/common/section_cli_openrc.xml', 'doc/common/section_cli_keystone_credentials.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7e8861d76e34b635958b64289324bebe37bb22cc', 'message': 'Add documentation how to setup CLI credentials to use in PKI scenarios.\n\nThis adds CACERT configuration to the credentials section used\nin the user guide section and in the CLI keystone section.\n\nChange-Id: Iff59b2c27b3704bdc878cc4c406d95db608de1d7\nCloses-Bug: #1163938\n'}]",23,146823,7e8861d76e34b635958b64289324bebe37bb22cc,29,7,6,752,,,0,"Add documentation how to setup CLI credentials to use in PKI scenarios.

This adds CACERT configuration to the credentials section used
in the user guide section and in the CLI keystone section.

Change-Id: Iff59b2c27b3704bdc878cc4c406d95db608de1d7
Closes-Bug: #1163938
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/23/146823/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/common/section_cli_openrc.xml', 'doc/common/section_cli_keystone_credentials.xml']",2,d148694ecc829700af29ddb82dd559178358743e,bug/1163938," <procedure> <title>To configure the keystone client to verify the TLS (HTTPS) server certificate.</title> <step> <para>The location for the CA truststore (PEM formatted) for this client. <varname>OS_CACERT</varname> environment variable:</para> <screen><prompt>$</prompt> <userinput>export OS_CACERT=""&lt;cacertFile&gt;""</userinput></screen> </step> <note> <para>Alternatively, you can specify these parameters on any keystone client command:</para> <para> <literal>--os-cacert <replaceable>OS_CACERT</replaceable></literal>. CA bundle file to use in verifying a TLS (HTTPS) server certificate. Defaults to <code>env[OS_CACERT]</code>.</para> </note> </procedure>",,27,1
openstack%2Fmistral~master~I5de648fdcf56afcd74e15b3652ac8a13a2a7d37c,openstack/mistral,master,I5de648fdcf56afcd74e15b3652ac8a13a2a7d37c,Fixing problem with trust creation,MERGED,2015-01-21 09:33:45.000000000,2015-01-23 10:19:27.000000000,2015-01-23 10:19:24.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8592}, {'_account_id': 8731}]","[{'number': 1, 'created': '2015-01-21 09:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/601512f885616dedbfd1454d33590a564fd86bb0', 'message': 'Fixing problem with trust creation\n\nCloses-Bug: #1413124\n\nChange-Id: I5de648fdcf56afcd74e15b3652ac8a13a2a7d37c\n'}, {'number': 2, 'created': '2015-01-21 09:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/bd52bd734a38fa8734ff1481344b36053dc6225b', 'message': 'Fixing problem with trust creation\n\nCloses-Bug: #1413124\n\nChange-Id: I5de648fdcf56afcd74e15b3652ac8a13a2a7d37c\n'}, {'number': 3, 'created': '2015-01-21 10:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9ae032db63c4cf860fc71411ccd9475d651b9e6e', 'message': 'Fixing problem with trust creation\n\nCloses-Bug: #1413124\n\nChange-Id: I5de648fdcf56afcd74e15b3652ac8a13a2a7d37c\n'}, {'number': 4, 'created': '2015-01-21 12:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/29068e95912d29f7a7bdb15418a381fde9746cd5', 'message': 'Fixing problem with trust creation\n\nCloses-Bug: #1413124\n\nChange-Id: I5de648fdcf56afcd74e15b3652ac8a13a2a7d37c\n'}, {'number': 5, 'created': '2015-01-22 09:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/a48831c9b752e44e2305924d52262e84f3952315', 'message': 'Fixing problem with trust creation\n\nCloses-Bug: #1413124\n\nChange-Id: I5de648fdcf56afcd74e15b3652ac8a13a2a7d37c\n'}, {'number': 6, 'created': '2015-01-23 09:50:31.000000000', 'files': ['mistral/workflow/data_flow.py', 'mistral/tests/unit/test_trigger_service.py', 'mistral/services/triggers.py', 'mistral/services/periodic.py', 'mistral/engine1/default_engine.py', 'mistral/services/workflows.py', 'mistral/db/v2/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/fdfee071c96a3cf230fe51298258fa2992a65691', 'message': 'Fixing problem with trust creation\n\nCloses-Bug: #1413124\n\nChange-Id: I5de648fdcf56afcd74e15b3652ac8a13a2a7d37c\n'}]",0,148856,fdfee071c96a3cf230fe51298258fa2992a65691,18,4,6,7700,,,0,"Fixing problem with trust creation

Closes-Bug: #1413124

Change-Id: I5de648fdcf56afcd74e15b3652ac8a13a2a7d37c
",git fetch https://review.opendev.org/openstack/mistral refs/changes/56/148856/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/workflow/data_flow.py', 'mistral/tests/unit/test_trigger_service.py', 'mistral/services/triggers.py', 'mistral/services/periodic.py', 'mistral/engine1/default_engine.py', 'mistral/services/workflows.py', 'mistral/db/v2/sqlalchemy/models.py']",7,601512f885616dedbfd1454d33590a564fd86bb0,bug/1413124, trust_id = sa.Column(sa.String(80)) trust_id = sa.Column(sa.String(80)) , trust_id = sa.Column(sa.String(80)) ,38,17
openstack%2Ffuel-web~master~Iafbc7b846bd247b6a80fc705c4498f4398981d1e,openstack/fuel-web,master,Iafbc7b846bd247b6a80fc705c4498f4398981d1e,At least one Cinder node is required when Cinder role selected,ABANDONED,2015-01-22 15:07:46.000000000,2015-01-23 10:18:44.000000000,,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 11082}, {'_account_id': 12200}, {'_account_id': 13445}]","[{'number': 1, 'created': '2015-01-22 15:07:46.000000000', 'files': ['nailgun/nailgun/fixtures/openstack.yaml', 'nailgun/nailgun/db/migration/alembic_migrations/versions/fuel_6_1.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7cf322dcd9839104f0d52a19b5f48e92633fa718', 'message': 'At least one Cinder node is required when Cinder role selected\n\nChange-Id: Iafbc7b846bd247b6a80fc705c4498f4398981d1e\nCloses-Bug: #1405582\n'}]",0,149304,7cf322dcd9839104f0d52a19b5f48e92633fa718,10,7,1,13445,,,0,"At least one Cinder node is required when Cinder role selected

Change-Id: Iafbc7b846bd247b6a80fc705c4498f4398981d1e
Closes-Bug: #1405582
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/04/149304/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/fixtures/openstack.yaml', 'nailgun/nailgun/db/migration/alembic_migrations/versions/fuel_6_1.py']",2,7cf322dcd9839104f0d52a19b5f48e92633fa718,bug/1405582," 'min': 1, ""At least 1 Cinder node is required when """," 'recommended': 1, ""At least 1 Cinder node is recommended when """,4,4
openstack%2Ffuel-library~master~I4033b91f36cae09c99b6fc295f8ad0d1d3215e2f,openstack/fuel-library,master,I4033b91f36cae09c99b6fc295f8ad0d1d3215e2f,Fix typo in Ceph backup driver for Cinder,MERGED,2015-01-22 13:22:25.000000000,2015-01-23 10:17:52.000000000,2015-01-23 10:17:51.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 9546}, {'_account_id': 11090}, {'_account_id': 13343}, {'_account_id': 13344}]","[{'number': 1, 'created': '2015-01-22 13:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/573b0ee7d3be11eb819c5420ffe5d06fbbb335fc', 'message': 'Fix typo in Ceph backup driver for Cinder\n\nBackported from upstream: I54eceeb366a7ccd7e78b382fcb8830106f9153d3\n\nChange-Id: I4033b91f36cae09c99b6fc295f8ad0d1d3215e2f\n'}, {'number': 2, 'created': '2015-01-23 07:09:56.000000000', 'files': ['deployment/puppet/cinder/manifests/backup/ceph.pp', 'deployment/puppet/cinder/spec/classes/cinder_backup_ceph_spec.rb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/7402b1a66be1ae7cda81b50bb5f1643b53033612', 'message': 'Fix typo in Ceph backup driver for Cinder\n\nBackported from upstream: I54eceeb366a7ccd7e78b382fcb8830106f9153d3\n\nRelated-Bug: 1411635\nChange-Id: I4033b91f36cae09c99b6fc295f8ad0d1d3215e2f\n'}]",0,149250,7402b1a66be1ae7cda81b50bb5f1643b53033612,24,9,2,13948,,,0,"Fix typo in Ceph backup driver for Cinder

Backported from upstream: I54eceeb366a7ccd7e78b382fcb8830106f9153d3

Related-Bug: 1411635
Change-Id: I4033b91f36cae09c99b6fc295f8ad0d1d3215e2f
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/50/149250/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/cinder/manifests/backup/ceph.pp', 'deployment/puppet/cinder/spec/classes/cinder_backup_ceph_spec.rb']",2,573b0ee7d3be11eb819c5420ffe5d06fbbb335fc,bug/1411635, should contain_cinder_config('DEFAULT/backup_driver').with_value('cinder.backup.drivers.ceph'), should contain_cinder_config('DEFAULT/backup_driver').with_value('cinder.backup.driver.ceph'),6,2
openstack%2Ffuel-library~master~Ifc875d0d6c937caf59c60e63cd25a6c85a7eede0,openstack/fuel-library,master,Ifc875d0d6c937caf59c60e63cd25a6c85a7eede0,Ensure that cinder db_sync is run before other services are up,MERGED,2015-01-22 13:22:25.000000000,2015-01-23 10:17:38.000000000,2015-01-23 10:17:38.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 9546}, {'_account_id': 11090}, {'_account_id': 13343}, {'_account_id': 13344}]","[{'number': 1, 'created': '2015-01-22 13:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/6c9c5eb195b894487a3d7576d8a5914e9078ef39', 'message': 'Ensure that cinder db_sync is run before other services are up\n\nBackported from upstream module: I7005b0ceb36786ccec99b8950c4e4bea9c065ea3\n\nChange-Id: Ifc875d0d6c937caf59c60e63cd25a6c85a7eede0\n'}, {'number': 2, 'created': '2015-01-23 07:07:11.000000000', 'files': ['deployment/puppet/cinder/manifests/backup.pp', 'deployment/puppet/cinder/manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/e6fc7d19bcd0b07ef926123bfab3da1d60d3fe5f', 'message': 'Ensure that cinder db_sync is run before other services are up\n\nBackported from upstream module: I7005b0ceb36786ccec99b8950c4e4bea9c065ea3\n\nRelated-Bug: 1411635\nChange-Id: Ifc875d0d6c937caf59c60e63cd25a6c85a7eede0\n'}]",0,149249,e6fc7d19bcd0b07ef926123bfab3da1d60d3fe5f,24,9,2,13948,,,0,"Ensure that cinder db_sync is run before other services are up

Backported from upstream module: I7005b0ceb36786ccec99b8950c4e4bea9c065ea3

Related-Bug: 1411635
Change-Id: Ifc875d0d6c937caf59c60e63cd25a6c85a7eede0
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/49/149249/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/cinder/manifests/backup.pp', 'deployment/puppet/cinder/manifests/api.pp']",2,6c9c5eb195b894487a3d7576d8a5914e9078ef39,bug/1411635," before => Service['cinder-api'],",,2,1
openstack%2Fcinder~master~I848897ed006147305f9a2c5e1e6a5ecbf598c128,openstack/cinder,master,I848897ed006147305f9a2c5e1e6a5ecbf598c128,Shrink down customized logging listener,MERGED,2015-01-22 01:02:14.000000000,2015-01-23 10:12:22.000000000,2015-01-22 21:20:53.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 8871}, {'_account_id': 9751}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12779}]","[{'number': 1, 'created': '2015-01-22 01:02:14.000000000', 'files': ['cinder/flow_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/54f97a6b3b8f20a091db806c2eb93f4094baeb09', 'message': 'Shrink down customized logging listener\n\nMost of the code for this has been moved into taskflow\nupstream; so now we should be able to override a single\n*cinder-specific* method and retain the same functionality\nthat previously existed but in a more shareable manner (for\nexample glance will be using similar code).\n\nChange-Id: I848897ed006147305f9a2c5e1e6a5ecbf598c128\n'}]",0,149102,54f97a6b3b8f20a091db806c2eb93f4094baeb09,21,15,1,1297,,,0,"Shrink down customized logging listener

Most of the code for this has been moved into taskflow
upstream; so now we should be able to override a single
*cinder-specific* method and retain the same functionality
that previously existed but in a more shareable manner (for
example glance will be using similar code).

Change-Id: I848897ed006147305f9a2c5e1e6a5ecbf598c128
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/149102/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/flow_utils.py'],1,54f97a6b3b8f20a091db806c2eb93f4094baeb09,,"import osfrom taskflow.listeners import base from taskflow.listeners import logging as logging_listenerclass DynamicLogListener(logging_listener.DynamicLoggingListener): #: Exception is an excepted case, don't include traceback in log if fails. _NO_TRACE_EXCEPTIONS = (exception.InvalidInput, exception.QuotaError) task_listen_for=base.DEFAULT_LISTEN_FOR, flow_listen_for=base.DEFAULT_LISTEN_FOR, retry_listen_for=base.DEFAULT_LISTEN_FOR, logger=LOG): flow_listen_for=flow_listen_for, retry_listen_for=retry_listen_for, log=logger) def _format_failure(self, fail): if fail.check(*self._NO_TRACE_EXCEPTIONS) is not None: exc_info = None exc_details = '%s%s' % (os.linesep, fail.pformat(traceback=False)) return (exc_info, exc_details) else: return super(DynamicLogListener, self)._format_failure(fail)","import logging as base_loggingfrom taskflow.listeners import base as base_listener from taskflow import statesfrom taskflow.utils import miscfrom cinder.i18n import _class DynamicLogListener(base_listener.ListenerBase): task_listen_for=(misc.Notifier.ANY,), flow_listen_for=(misc.Notifier.ANY,), logger=None): flow_listen_for=flow_listen_for) if logger is None: self._logger = LOG else: self._logger = logger def _flow_receiver(self, state, details): # Gets called on flow state changes. level = base_logging.DEBUG if state in (states.FAILURE, states.REVERTED): level = base_logging.WARNING self._logger.log(level, _(""Flow '%(flow_name)s' (%(flow_uuid)s) transitioned"" "" into state '%(state)s' from state"" "" '%(old_state)s'"") % {'flow_name': details['flow_name'], 'flow_uuid': details['flow_uuid'], 'state': state, 'old_state': details.get('old_state')}) def _task_receiver(self, state, details): # Gets called on task state changes. if 'result' in details and state in base_listener.FINISH_STATES: result = details.get('result') # If task failed log the exception if isinstance(result, misc.Failure): message_dict = {'task_name': details['task_name'], 'task_uuid': details['task_uuid'], 'state': state} if (result.check(exception.InvalidInput, exception.QuotaError) is not None): # Exception is an excepted case, don't stacktrace message_dict['exception_str'] = result.exception_str message = (_(""Task '%(task_name)s' (%(task_uuid)s)"" "" transitioned into state '%(state)s'. "" ""Exception: '%(exception_str)s'"") % message_dict) self._logger.warn(message) else: # Task failed with unexpected Exception, show stacktrace message = (_(""Task '%(task_name)s' (%(task_uuid)s)"" "" transitioned into state '%(state)s'"") % message_dict) self._logger.warn(message, exc_info=tuple(result.exc_info)) else: # Otherwise, depending on the enabled logging level/state we # will show or hide results that the task may have produced # during execution. level = base_logging.DEBUG if state == states.FAILURE: level = base_logging.WARNING if (self._logger.isEnabledFor(base_logging.DEBUG) or state == states.FAILURE): self._logger.log(level, _(""Task '%(task_name)s' (%(task_uuid)s)"" "" transitioned into state '%(state)s'"" "" with result '%(result)s'"") % {'task_name': details['task_name'], 'task_uuid': details['task_uuid'], 'state': state, 'result': result}) else: self._logger.log(level, _(""Task '%(task_name)s' (%(task_uuid)s)"" "" transitioned into state"" "" '%(state)s'"") % {'task_name': details['task_name'], 'task_uuid': details['task_uuid'], 'state': state}) else: level = base_logging.DEBUG if state in (states.REVERTING, states.RETRYING): level = base_logging.WARNING self._logger.log(level, _(""Task '%(task_name)s' (%(task_uuid)s)"" "" transitioned into state '%(state)s'"") % {'task_name': details['task_name'], 'task_uuid': details['task_uuid'], 'state': state})",20,86
openstack%2Fcinder~master~Ice8ab88a89e447a08c3ce71c7698dd5fcf02d1e9,openstack/cinder,master,Ice8ab88a89e447a08c3ce71c7698dd5fcf02d1e9,Prevent deleting volumes in a consistency group,MERGED,2015-01-22 00:34:29.000000000,2015-01-23 10:11:42.000000000,2015-01-22 02:29:42.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 6491}, {'_account_id': 9751}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12779}]","[{'number': 1, 'created': '2015-01-22 00:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7106e817f74edfc1035721fd68cc191e452cdf61', 'message': ""Prevent deleting volumes in a consistency group\n\nCurrently you have to destroy the consistency group if you want to\ndelete these volumes. In the Kilo release, we'll have the ability to\nremove a volume from a consistency group, which then can be deleted.\n\nChange-Id: Ice8ab88a89e447a08c3ce71c7698dd5fcf02d1e9\nCloses-Bug: #1413427\n""}, {'number': 2, 'created': '2015-01-22 00:45:12.000000000', 'files': ['cinder/tests/test_volume.py', 'cinder/tests/api/contrib/test_volume_unmanage.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb107145173fb71314de9b10cf3ca50c74442519', 'message': ""Prevent deleting volumes in a consistency group\n\nCurrently you have to destroy the consistency group if you want to\ndelete these volumes. In the Kilo release, we'll have the ability to\nremove a volume from a consistency group, which then can be deleted.\n\nCloses-Bug: #1413427\nChange-Id: Ice8ab88a89e447a08c3ce71c7698dd5fcf02d1e9\n""}]",1,149095,eb107145173fb71314de9b10cf3ca50c74442519,20,12,2,170,,,0,"Prevent deleting volumes in a consistency group

Currently you have to destroy the consistency group if you want to
delete these volumes. In the Kilo release, we'll have the ability to
remove a volume from a consistency group, which then can be deleted.

Closes-Bug: #1413427
Change-Id: Ice8ab88a89e447a08c3ce71c7698dd5fcf02d1e9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/149095/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/test_volume.py', 'cinder/tests/api/contrib/test_volume_unmanage.py', 'cinder/volume/api.py']",3,7106e817f74edfc1035721fd68cc191e452cdf61,bug/1413427," if volume['consistencygroup_id'] is not None: msg = _(""Volume cannot be deleted while in a consistency group."") raise exception.InvalidVolume(reason=msg) ",,18,0
openstack%2Fneutron~master~I38ae711c327f2286afbd5065889616588cc39bb0,openstack/neutron,master,I38ae711c327f2286afbd5065889616588cc39bb0,remove the state_path using in lock_path,ABANDONED,2015-01-23 07:01:35.000000000,2015-01-23 10:11:07.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 7183}, {'_account_id': 9656}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10153}, {'_account_id': 10387}, {'_account_id': 11114}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-23 07:01:35.000000000', 'files': ['etc/neutron.conf'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a68f05a7a175c9071d78c375b4d32d39d777d32', 'message': ""remove the state_path using in lock_path\n\nFrom commit 35d838ff600729f4b7b2ac8be92d3a3be4d96cb8, lock_utils comes from\noslo_concurrency which don't support state_path opt like before, so we can't\nuse it in lock_path.\n\nChange-Id: I38ae711c327f2286afbd5065889616588cc39bb0\nCloses-bug: #1413503\n""}]",0,149514,3a68f05a7a175c9071d78c375b4d32d39d777d32,18,15,1,11114,,,0,"remove the state_path using in lock_path

From commit 35d838ff600729f4b7b2ac8be92d3a3be4d96cb8, lock_utils comes from
oslo_concurrency which don't support state_path opt like before, so we can't
use it in lock_path.

Change-Id: I38ae711c327f2286afbd5065889616588cc39bb0
Closes-bug: #1413503
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/149514/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/neutron.conf'],1,3a68f05a7a175c9071d78c375b4d32d39d777d32,bug/1413503,# lock_path = /opt/stack/data/neutron/lock,lock_path = $state_path/lock,1,1
openstack%2Fcinder~master~Idee3585a08efa1d6af1f4ee2b74e8cefb05cc54f,openstack/cinder,master,Idee3585a08efa1d6af1f4ee2b74e8cefb05cc54f,Correct default service_name for nova_catalog*_info config option,MERGED,2014-12-15 06:34:10.000000000,2015-01-23 10:10:30.000000000,2014-12-17 07:08:59.000000000,"[{'_account_id': 3}, {'_account_id': 2759}, {'_account_id': 7198}, {'_account_id': 8587}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 12861}, {'_account_id': 13636}, {'_account_id': 14242}]","[{'number': 1, 'created': '2014-12-15 06:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/978cdfb10bf48287f646b9cb5f6a3b7953ab1003', 'message': 'Correct the service_name of Nova compute service\n\nThe service_name is hard-coded mistakenly. Consequently,\nit is impossible to invoke novaclient APIs from Cinder code.\nThe correct service_name is defined in Keystone\'s config file\n""/etc/keystone/default_catalog.templates"" as follows:\ncatalog.RegionOne.compute.name = Compute Service.\n\nChange-Id: Idee3585a08efa1d6af1f4ee2b74e8cefb05cc54f\nCloses-Bug: 1401800\n'}, {'number': 2, 'created': '2014-12-15 07:08:09.000000000', 'files': ['cinder/compute/nova.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ad15c040fdc115bca9efb1c952279988a2a48b3', 'message': 'Correct default service_name for nova_catalog*_info config option\n\nThe default service_name in config option (nova_catalog_info and \nnova_catalog_admin_info) was mistakenly put as \'nova\'. Consequently,\nit is impossible to invoke novaclient APIs from Cinder code without\nchanging the default value of those config options.\n\nThe correct service_name defined in Keystone\'s config file\n""/etc/keystone/default_catalog.templates"" is:\ncatalog.RegionOne.compute.name = Compute Service.\n\nThis change replaces \'nova\' with \'Compute Service\' for default value\nof \'nova_catalog*_info\' config options.\n\nChange-Id: Idee3585a08efa1d6af1f4ee2b74e8cefb05cc54f\nCloses-Bug: 1401800\n'}]",0,141727,5ad15c040fdc115bca9efb1c952279988a2a48b3,25,12,2,12861,,,0,"Correct default service_name for nova_catalog*_info config option

The default service_name in config option (nova_catalog_info and 
nova_catalog_admin_info) was mistakenly put as 'nova'. Consequently,
it is impossible to invoke novaclient APIs from Cinder code without
changing the default value of those config options.

The correct service_name defined in Keystone's config file
""/etc/keystone/default_catalog.templates"" is:
catalog.RegionOne.compute.name = Compute Service.

This change replaces 'nova' with 'Compute Service' for default value
of 'nova_catalog*_info' config options.

Change-Id: Idee3585a08efa1d6af1f4ee2b74e8cefb05cc54f
Closes-Bug: 1401800
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/141727/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/compute/nova.py'],1,978cdfb10bf48287f646b9cb5f6a3b7953ab1003,bug/1401800," default='compute:Compute Service:publicURL', default='compute:Compute Service:adminURL',"," default='compute:nova:publicURL', default='compute:nova:adminURL',",2,2
openstack%2Foslo-incubator~master~Ifa4f989b27b78d870c23221158fba9a28104eaed,openstack/oslo-incubator,master,Ifa4f989b27b78d870c23221158fba9a28104eaed,Updated from global requirements,MERGED,2015-01-23 04:37:26.000000000,2015-01-23 10:06:45.000000000,2015-01-23 10:06:43.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6676}]","[{'number': 1, 'created': '2015-01-23 04:37:26.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/039b9f84d4d5fe7f809ca4935d1a2d2f1de39b37', 'message': 'Updated from global requirements\n\nChange-Id: Ifa4f989b27b78d870c23221158fba9a28104eaed\n'}]",0,149474,039b9f84d4d5fe7f809ca4935d1a2d2f1de39b37,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: Ifa4f989b27b78d870c23221158fba9a28104eaed
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/74/149474/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,039b9f84d4d5fe7f809ca4935d1a2d2f1de39b37,openstack/requirements,oslo.i18n>=1.3.0 # Apache-2.0,oslo.i18n>=1.0.0 # Apache-2.0,1,1
openstack%2Fswift~master~Ibf7c6dc14c14f379421a79afb6c90a5e64b235fa,openstack/swift,master,Ibf7c6dc14c14f379421a79afb6c90a5e64b235fa,Make ThreadPools deallocatable.,MERGED,2015-01-08 00:55:31.000000000,2015-01-23 09:57:37.000000000,2015-01-23 09:57:36.000000000,"[{'_account_id': 3}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 8262}, {'_account_id': 8542}, {'_account_id': 13052}]","[{'number': 1, 'created': '2015-01-08 00:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d4f03a5503973f3fbc0e2070756aa92b5de04f68', 'message': ""Make ThreadPools deallocatable.\n\nCurrently, a ThreadPool acquires resources that last until process\nexit. You can let the ThreadPool go out of scope, but that doesn't\nterminate the worker threads or close file descriptors or anything.\n\nThis commit makes it so you can .terminate() a ThreadPool object and\nget its resources back.\n\nI have some internal code that could really use this, plus it makes\nthe unit test run not leak resources, which is nice.\n\nChange-Id: Ibf7c6dc14c14f379421a79afb6c90a5e64b235fa\n""}, {'number': 2, 'created': '2015-01-08 01:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/684b81b661279e96dbb8c0f2edecbfd09ab5af99', 'message': ""Make ThreadPools deallocatable.\n\nCurrently, a ThreadPool acquires resources that last until process\nexit. You can let the ThreadPool go out of scope, but that doesn't\nterminate the worker threads or close file descriptors or anything.\n\nThis commit makes it so you can .terminate() a ThreadPool object and\nget its resources back.\n\nI have some internal code that could really use this, plus it makes\nthe unit test run not leak resources, which is nice.\n\nChange-Id: Ibf7c6dc14c14f379421a79afb6c90a5e64b235fa\n""}, {'number': 3, 'created': '2015-01-12 19:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3c667f094157fb8c49d50b1fdb03ee51dfff4f1b', 'message': ""Make ThreadPools deallocatable.\n\nCurrently, a ThreadPool acquires resources that last until process\nexit. You can let the ThreadPool go out of scope, but that doesn't\nterminate the worker threads or close file descriptors or anything.\n\nThis commit makes it so you can .terminate() a ThreadPool object and\nget its resources back.\n\nI have some internal code that could really use this, plus it makes\nthe unit test run not leak resources, which is nice.\n\nChange-Id: Ibf7c6dc14c14f379421a79afb6c90a5e64b235fa\n""}, {'number': 4, 'created': '2015-01-22 21:55:41.000000000', 'files': ['swift/common/utils.py', 'test/unit/common/test_utils.py', 'swift/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f58f397cf6c2a33db21cabeab6c54163e503cde3', 'message': ""Make ThreadPools deallocatable.\n\nCurrently, a ThreadPool acquires resources that last until process\nexit. You can let the ThreadPool go out of scope, but that doesn't\nterminate the worker threads or close file descriptors or anything.\n\nThis commit makes it so you can .terminate() a ThreadPool object and\nget its resources back. Also, after you call .terminate(), trying to\nuse the ThreadPool raises an exception so you know you've goofed.\n\nI have some internal code that could really use this, plus it makes\nthe unit test run not leak resources, which is nice.\n\nChange-Id: Ibf7c6dc14c14f379421a79afb6c90a5e64b235fa\n""}]",5,145647,f58f397cf6c2a33db21cabeab6c54163e503cde3,26,8,4,2622,,,0,"Make ThreadPools deallocatable.

Currently, a ThreadPool acquires resources that last until process
exit. You can let the ThreadPool go out of scope, but that doesn't
terminate the worker threads or close file descriptors or anything.

This commit makes it so you can .terminate() a ThreadPool object and
get its resources back. Also, after you call .terminate(), trying to
use the ThreadPool raises an exception so you know you've goofed.

I have some internal code that could really use this, plus it makes
the unit test run not leak resources, which is nice.

Change-Id: Ibf7c6dc14c14f379421a79afb6c90a5e64b235fa
",git fetch https://review.opendev.org/openstack/swift refs/changes/47/145647/4 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'test/unit/common/test_utils.py']",2,d4f03a5503973f3fbc0e2070756aa92b5de04f68,die-you-gravy-sucking-pig-dog,"import statclass TestThreadPool(unittest.TestCase): def setUp(self): self.tp = None def tearDown(self): if self.tp: self.tp.terminate() def _pipe_count(self): # Counts the number of pipes that this process owns. fd_dir = ""/proc/%d/fd"" % os.getpid() def is_pipe(path): try: stat_result = os.stat(path) return stat.S_ISFIFO(stat_result.st_mode) except OSError: return False return len([fd for fd in os.listdir(fd_dir) if is_pipe(os.path.join(fd_dir, fd))]) tp = self.tp = utils.ThreadPool(1) tp = self.tp = utils.ThreadPool(1) tp = self.tp = utils.ThreadPool(1) def test_terminate(self): initial_thread_count = threading.activeCount() initial_pipe_count = self._pipe_count() tp = utils.ThreadPool(4) # do some work to ensure any lazy initialization happens tp.run_in_thread(os.path.join, 'foo', 'bar') tp.run_in_thread(os.path.join, 'baz', 'quux') # 4 threads in the ThreadPool, plus one pipe for IPC; this also # serves as a sanity check that we're actually allocating some # resources to free later self.assertEqual(initial_thread_count, threading.activeCount() - 4) self.assertEqual(initial_pipe_count, self._pipe_count() - 2) tp.terminate() self.assertEqual(initial_thread_count, threading.activeCount()) self.assertEqual(initial_pipe_count, self._pipe_count()) ",class TestThreadpool(unittest.TestCase): tp = utils.ThreadPool(1) tp = utils.ThreadPool(1) tp = utils.ThreadPool(1),69,4
openstack%2Fmistral~master~I4e8858dafd76484e1e09f6c6559bba716c73dafb,openstack/mistral,master,I4e8858dafd76484e1e09f6c6559bba716c73dafb,Working on secure DB access (part 4),MERGED,2015-01-21 12:02:44.000000000,2015-01-23 09:57:30.000000000,2015-01-23 09:57:28.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8592}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2015-01-21 12:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f1af67004d326951e4c88df56b84f58ae047afa7', 'message': 'Working on secure DB access (part 4)\n\n* Refactored SQLAlchemy DB API v2 with _secure_query() method that\n  applies needed project_id/scope filtering\n\nChange-Id: I4e8858dafd76484e1e09f6c6559bba716c73dafb\n'}, {'number': 2, 'created': '2015-01-21 12:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/bbff860336e751f52d3660d08503d9a16a5a584b', 'message': 'Working on secure DB access (part 4)\n\n* Refactored SQLAlchemy DB API v2 with _secure_query() method that\n  applies needed project_id/scope filtering\n\nChange-Id: I4e8858dafd76484e1e09f6c6559bba716c73dafb\n'}, {'number': 3, 'created': '2015-01-21 19:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/3f8e81b071767f35a3cac8b5563db7d5e98e4546', 'message': 'Working on secure DB access (part 4)\n\n* Refactored SQLAlchemy DB API v2 with _secure_query() method that\n  applies needed project_id/scope filtering\n\nChange-Id: I4e8858dafd76484e1e09f6c6559bba716c73dafb\n'}, {'number': 4, 'created': '2015-01-22 06:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f774891936ee9e077123d919d63d9c78d4ff9ab5', 'message': 'Working on secure DB access (part 4)\n\n* Refactored SQLAlchemy DB API v2 with _secure_query() method that\n  applies needed project_id/scope filtering\n\nChange-Id: I4e8858dafd76484e1e09f6c6559bba716c73dafb\n'}, {'number': 5, 'created': '2015-01-22 16:37:37.000000000', 'files': ['mistral/db/v2/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/6c71f6166f0fb794169f4f393b5a9bfc1aa9086e', 'message': 'Working on secure DB access (part 4)\n\n* Refactored SQLAlchemy DB API v2 with _secure_query() method that\n  applies needed project_id/scope filtering\n\nChange-Id: I4e8858dafd76484e1e09f6c6559bba716c73dafb\n'}]",0,148901,6c71f6166f0fb794169f4f393b5a9bfc1aa9086e,14,5,5,8731,,,0,"Working on secure DB access (part 4)

* Refactored SQLAlchemy DB API v2 with _secure_query() method that
  applies needed project_id/scope filtering

Change-Id: I4e8858dafd76484e1e09f6c6559bba716c73dafb
",git fetch https://review.opendev.org/openstack/mistral refs/changes/01/148901/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/db/v2/sqlalchemy/api.py'],1,f1af67004d326951e4c88df56b84f58ae047afa7,bp/mistral-secure-data-access,"from mistral.db.sqlalchemy import model_base as mbdef _secure_query(model): query = b.model_query(model) if issubclass(model, mb.MistralSecureModelBase): query = query.filter( sa.or_( model.project_id == security.get_project_id(), model.scope == 'public' ) ) return query def _delete_all(model, session=None, **kwargs): _secure_query(model).filter_by(**kwargs).delete() return _secure_query(model).filter_by(**kwargs).order_by(model.name).all() query = _secure_query(model) return query.filter_by(**kwargs).order_by(model.created_at).all() return _secure_query(model).filter_by(name=name).first() return _secure_query(model).filter_by(id=id).first()","def _delete_all(model, session=None, **kwargs): query = b.model_query(model).filter_by(**kwargs) query.delete() query = b.model_query(model) proj = query.filter_by( project_id=security.get_project_id(), **kwargs ) public = query.filter_by(scope='public', **kwargs) return proj.union(public).order_by(model.name).all() query = b.model_query(model) return query.filter_by( project_id=security.get_project_id(), **kwargs ).order_by(model.created_at).all() query = b.model_query(model) private = query.filter_by(name=name, project_id=security.get_project_id()) public = query.filter_by(name=name, scope='public') return private.union(public).first() query = b.model_query(model) return query.filter_by(id=id, project_id=security.get_project_id()).first()",21,25
openstack%2Fmistral~master~Id4a166a754c1eda24280e7454530339b43243cb3,openstack/mistral,master,Id4a166a754c1eda24280e7454530339b43243cb3,Working on secure DB access (part 3),MERGED,2015-01-19 11:31:31.000000000,2015-01-23 09:56:27.000000000,2015-01-23 09:56:25.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8592}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2015-01-19 11:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/2856ac1fba3e7d003b12cc5b6fa1a5fb3be3f983', 'message': 'Working on secure DB access (part 3)\n\n* Moving method get_project_id() to services/security.py\n\nChange-Id: Id4a166a754c1eda24280e7454530339b43243cb3\n'}, {'number': 2, 'created': '2015-01-19 12:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/3e315699b4001868f10708cf1134cc244bc2a0c7', 'message': 'Working on secure DB access (part 3)\n\n* Moving method get_project_id() to services/security.py\n\nChange-Id: Id4a166a754c1eda24280e7454530339b43243cb3\n'}, {'number': 3, 'created': '2015-01-21 11:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/3fe8285f47ac13fb29c3b7afdf7d63b27bc08816', 'message': 'Working on secure DB access (part 3)\n\n* Moving method get_project_id() to services/security.py\n\nChange-Id: Id4a166a754c1eda24280e7454530339b43243cb3\n'}, {'number': 4, 'created': '2015-01-21 19:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/d4542e91f3aecb9b0f411c256b7afc167cdd4888', 'message': 'Working on secure DB access (part 3)\n\n* Moving method get_project_id() to services/security.py\n\nChange-Id: Id4a166a754c1eda24280e7454530339b43243cb3\n'}, {'number': 5, 'created': '2015-01-22 06:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4739508876518d329e6c8837f6ee104817ebf138', 'message': 'Working on secure DB access (part 3)\n\n* Moving method get_project_id() to services/security.py\n\nChange-Id: Id4a166a754c1eda24280e7454530339b43243cb3\n'}, {'number': 6, 'created': '2015-01-22 16:37:30.000000000', 'files': ['mistral/services/workbooks.py', 'mistral/tests/unit/api/v1/controllers/test_workbooks.py', 'mistral/db/v2/__init__.py', 'mistral/services/triggers.py', 'mistral/services/actions.py', 'mistral/db/sqlalchemy/model_base.py', 'mistral/db/v2/sqlalchemy/api.py', 'mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py', 'mistral/engine1/default_engine.py', 'mistral/services/workflows.py', 'mistral/services/security.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/9fcbfbe2f950b7868332c140128f75dd2a153f82', 'message': 'Working on secure DB access (part 3)\n\n* Moving method get_project_id() to services/security.py\n\nChange-Id: Id4a166a754c1eda24280e7454530339b43243cb3\n'}]",2,148224,9fcbfbe2f950b7868332c140128f75dd2a153f82,21,5,6,8731,,,0,"Working on secure DB access (part 3)

* Moving method get_project_id() to services/security.py

Change-Id: Id4a166a754c1eda24280e7454530339b43243cb3
",git fetch https://review.opendev.org/openstack/mistral refs/changes/24/148224/5 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/services/workbooks.py', 'mistral/tests/unit/api/v1/controllers/test_workbooks.py', 'mistral/db/v2/__init__.py', 'mistral/services/triggers.py', 'mistral/services/actions.py', 'mistral/db/sqlalchemy/model_base.py', 'mistral/db/v2/sqlalchemy/api.py', 'mistral/engine1/default_engine.py', 'mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py', 'mistral/services/workflows.py', 'mistral/services/security.py']",11,2856ac1fba3e7d003b12cc5b6fa1a5fb3be3f983,bp/mistral-secure-data-access,"# Copyright 2015 - Mirantis, Inc.from mistral import context as auth_ctx# Make sure to import 'auth_enable' option before using it. CONF.import_opt('auth_enable', 'mistral.config', group='pecan') DEFAULT_PROJECT_ID = ""<default-project>"" def get_project_id(): if CONF.pecan.auth_enable and auth_ctx.has_ctx(): return auth_ctx.ctx().project_id else: return DEFAULT_PROJECT_ID ctx = auth_ctx.ctx() return auth_ctx.MistralContext( return auth_ctx.MistralContext(","# Copyright 2013 - Mirantis, Inc.from mistral import context ctx = context.ctx() return context.MistralContext( return context.MistralContext(def add_project_id(secure_object_values, scope='private'): if cfg.CONF.pecan.auth_enable and scope == 'private': secure_object_values.update({ 'project_id': context.ctx().project_id }) ",31,73
openstack%2Fmistral~master~Ie0922a6f43f974738c23981dc399136138dd5c75,openstack/mistral,master,Ie0922a6f43f974738c23981dc399136138dd5c75,Working on secure DB access (part 2),MERGED,2015-01-19 10:15:12.000000000,2015-01-23 09:55:00.000000000,2015-01-23 09:54:59.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8592}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2015-01-19 10:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/ea035d2f7d343039e7ee46f1ead8803d89be51b8', 'message': 'Working on secure DB layer\n\n* Added a hook for all secure models to automatically set proper project id\n* Removed all direct assignments of project id\n* Added a simple test\n* Other minor changes\n\nChange-Id: Ie0922a6f43f974738c23981dc399136138dd5c75\n'}, {'number': 2, 'created': '2015-01-19 10:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1f636068dd443e3b2ccdb4d39e4b10036a15753b', 'message': 'Working on secure DB layer\n\n* Added a hook for all secure models to automatically set proper project id\n* Removed all direct assignments of project id\n* Added a simple test\n* Other minor changes\n\nChange-Id: Ie0922a6f43f974738c23981dc399136138dd5c75\n'}, {'number': 3, 'created': '2015-01-19 10:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/bfe26d5478650b3f84d5a8124587102bcb3c12ce', 'message': 'Working on secure DB layer (part 2)\n\n* Added a hook for all secure models to automatically set proper project id\n* Removed all direct assignments of project id\n* Added a simple test\n* Other minor changes\n\nChange-Id: Ie0922a6f43f974738c23981dc399136138dd5c75\n'}, {'number': 4, 'created': '2015-01-19 10:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/8470ebaf81361d4eded99ad314ff5c8facac76ae', 'message': 'Working on secure DB layer (part 2)\n\n* Added a hook for all secure models to automatically set proper project id\n* Removed all direct assignments of project id\n* Added a simple test\n* Other minor changes\n\nChange-Id: Ie0922a6f43f974738c23981dc399136138dd5c75\n'}, {'number': 5, 'created': '2015-01-19 11:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/41d4fee50aa1f1649611df58fc00ea8ab18ce95c', 'message': 'Working on secure DB access (part 2)\n\n* Added a hook for all secure models to automatically set proper project id\n* Removed all direct assignments of project id\n* Added a simple test\n* Other minor changes\n\nChange-Id: Ie0922a6f43f974738c23981dc399136138dd5c75\n'}, {'number': 6, 'created': '2015-01-19 12:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9a5a8cc5dfab6be6b95f1486ac4940ed86686e7f', 'message': 'Working on secure DB access (part 2)\n\n* Added a hook for all secure models to automatically set proper project id\n* Removed all direct assignments of project id\n* Added a simple test\n* Other minor changes\n\nChange-Id: Ie0922a6f43f974738c23981dc399136138dd5c75\n'}, {'number': 7, 'created': '2015-01-21 11:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1542f10bd591f4d4e560c5ed2460544c391eef5b', 'message': 'Working on secure DB access (part 2)\n\n* Added a hook for all secure models to automatically set proper project id\n* Removed all direct assignments of project id\n* Added a simple test\n* Other minor changes\n\nChange-Id: Ie0922a6f43f974738c23981dc399136138dd5c75\n'}, {'number': 8, 'created': '2015-01-21 19:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/ff5941e242ef8269a66d6c999419fe17b11a4c5f', 'message': 'Working on secure DB access (part 2)\n\n* Added a hook for all secure models to automatically set proper project id\n* Removed all direct assignments of project id\n* Added a simple test\n* Other minor changes\n\nChange-Id: Ie0922a6f43f974738c23981dc399136138dd5c75\n'}, {'number': 9, 'created': '2015-01-22 06:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/0b685cf6cdcb79c5c5a50bc4018c794afa9522af', 'message': 'Working on secure DB access (part 2)\n\n* Added a hook for all secure models to automatically set proper project id\n* Removed all direct assignments of project id\n* Added a simple test\n* Other minor changes\n\nChange-Id: Ie0922a6f43f974738c23981dc399136138dd5c75\n'}, {'number': 10, 'created': '2015-01-22 16:37:23.000000000', 'files': ['mistral/db/v2/api.py', 'mistral/db/v2/__init__.py', 'mistral/db/sqlalchemy/model_base.py', 'mistral/db/v2/sqlalchemy/api.py', 'mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py', 'mistral/db/v2/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/14a7b44bb0ac7e589e37c523d713deac5c2e557a', 'message': 'Working on secure DB access (part 2)\n\n* Added a hook for all secure models to automatically set proper project id\n* Removed all direct assignments of project id\n* Added a simple test\n* Other minor changes\n\nChange-Id: Ie0922a6f43f974738c23981dc399136138dd5c75\n'}]",1,148210,14a7b44bb0ac7e589e37c523d713deac5c2e557a,25,5,10,8731,,,0,"Working on secure DB access (part 2)

* Added a hook for all secure models to automatically set proper project id
* Removed all direct assignments of project id
* Added a simple test
* Other minor changes

Change-Id: Ie0922a6f43f974738c23981dc399136138dd5c75
",git fetch https://review.opendev.org/openstack/mistral refs/changes/10/148210/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/db/v2/api.py', 'mistral/db/v2/__init__.py', 'mistral/db/sqlalchemy/model_base.py', 'mistral/db/v2/sqlalchemy/api.py', 'mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py', 'mistral/db/v2/sqlalchemy/models.py']",6,ea035d2f7d343039e7ee46f1ead8803d89be51b8,bp/mistral-secure-data-access,"# Copyright 2015 - Mirantis, Inc.class Workbook(mb.MistralSecureModelBase):class Workflow(mb.MistralSecureModelBase):class Execution(mb.MistralSecureModelBase):class Task(mb.MistralSecureModelBase):class Action(mb.MistralSecureModelBase):class Environment(mb.MistralSecureModelBase):class CronTrigger(mb.MistralSecureModelBase): # Register all hooks related to secure models. mb.register_secure_model_hooks()","# Copyright 2013 - Mirantis, Inc.class Workbook(mb.MistralModelBase, mb.MistralSecureModelMixin):class Workflow(mb.MistralModelBase, mb.MistralSecureModelMixin):class Execution(mb.MistralModelBase, mb.MistralSecureModelMixin):class Task(mb.MistralModelBase, mb.MistralSecureModelMixin):class Action(mb.MistralModelBase, mb.MistralSecureModelMixin):class Environment(mb.MistralModelBase, mb.MistralSecureModelMixin):class CronTrigger(mb.MistralModelBase, mb.MistralSecureModelMixin):",56,41
openstack%2Fmistral~master~I9f2cb5c02670aa8c4c3dd06c4301f2e613f5c013,openstack/mistral,master,I9f2cb5c02670aa8c4c3dd06c4301f2e613f5c013,Working on secure DB access (part 1),MERGED,2015-01-15 07:31:34.000000000,2015-01-23 09:54:12.000000000,2015-01-23 09:54:11.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8592}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2015-01-15 07:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/8fe2a16673cf30738df06a5a3bb29c7a16c56d99', 'message': 'Working on secure DB access layer\n\n* Refactored DB models with new mixin class MistralSecureModelMixin\n* Refactored services working with workflows, worbooks, actions\n* Other minor changes\n\nChange-Id: I9f2cb5c02670aa8c4c3dd06c4301f2e613f5c013\n'}, {'number': 2, 'created': '2015-01-15 08:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/52dd43b63c1f48e3daa5f5b3521ca26f954a6407', 'message': 'Working on secure DB access layer\n\n* Refactored DB models with new mixin class MistralSecureModelMixin\n* Refactored services working with workflows, worbooks, actions\n* Other minor changes\n\nChange-Id: I9f2cb5c02670aa8c4c3dd06c4301f2e613f5c013\n'}, {'number': 3, 'created': '2015-01-19 10:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9714c6057b9825b1ca8b8df52615839619ed6ac2', 'message': 'Working on secure DB access layer\n\n* Refactored DB models with new mixin class MistralSecureModelMixin\n* Refactored services working with workflows, worbooks, actions\n* Other minor changes\n\nChange-Id: I9f2cb5c02670aa8c4c3dd06c4301f2e613f5c013\n'}, {'number': 4, 'created': '2015-01-19 11:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c6602c2e910f8d665a30d58966b79c41f02a7c03', 'message': 'Working on secure DB access (part 1)\n\n* Refactored DB models with new mixin class MistralSecureModelMixin\n* Refactored services working with workflows, worbooks, actions\n* Other minor changes\n\nChange-Id: I9f2cb5c02670aa8c4c3dd06c4301f2e613f5c013\n'}, {'number': 5, 'created': '2015-01-19 12:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/140c8e55c7c4a05dd28bc2da1109392927be0491', 'message': 'Working on secure DB access (part 1)\n\n* Refactored DB models with new mixin class MistralSecureModelMixin\n* Refactored services working with workflows, worbooks, actions\n* Other minor changes\n\nChange-Id: I9f2cb5c02670aa8c4c3dd06c4301f2e613f5c013\n'}, {'number': 6, 'created': '2015-01-21 11:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/389cf750d2c8cbe6ccaade2473d9cef77fe0c4a9', 'message': 'Working on secure DB access (part 1)\n\n* Refactored DB models with new mixin class MistralSecureModelMixin\n* Refactored services working with workflows, worbooks, actions\n* Other minor changes\n\nChange-Id: I9f2cb5c02670aa8c4c3dd06c4301f2e613f5c013\n'}, {'number': 7, 'created': '2015-01-21 19:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c45d72f8071c35f2479bf24059d18fbe686e8d00', 'message': 'Working on secure DB access (part 1)\n\n* Refactored DB models with new mixin class MistralSecureModelMixin\n* Refactored services working with workflows, worbooks, actions\n* Other minor changes\n\nChange-Id: I9f2cb5c02670aa8c4c3dd06c4301f2e613f5c013\n'}, {'number': 8, 'created': '2015-01-22 06:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/b325a05c6283eb3bd9925866e6f84a38c5f3f25f', 'message': 'Working on secure DB access (part 1)\n\n* Refactored DB models with new mixin class MistralSecureModelMixin\n* Refactored services working with workflows, worbooks, actions\n* Other minor changes\n\nChange-Id: I9f2cb5c02670aa8c4c3dd06c4301f2e613f5c013\n'}, {'number': 9, 'created': '2015-01-22 16:35:26.000000000', 'files': ['mistral/services/workbooks.py', 'mistral/tests/unit/api/v1/controllers/test_workbooks.py', 'mistral/services/triggers.py', 'mistral/services/actions.py', 'mistral/db/sqlalchemy/model_base.py', 'mistral/db/v2/sqlalchemy/api.py', 'mistral/services/workflows.py', 'mistral/db/v2/sqlalchemy/models.py', 'mistral/services/security.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/693227ffcf413a993bcd6917b0fce85d604eee32', 'message': 'Working on secure DB access (part 1)\n\n* Refactored DB models with new mixin class MistralSecureModelMixin\n* Refactored services working with workflows, worbooks, actions\n* Other minor changes\n\nChange-Id: I9f2cb5c02670aa8c4c3dd06c4301f2e613f5c013\n'}]",4,147405,693227ffcf413a993bcd6917b0fce85d604eee32,47,5,9,8731,,,0,"Working on secure DB access (part 1)

* Refactored DB models with new mixin class MistralSecureModelMixin
* Refactored services working with workflows, worbooks, actions
* Other minor changes

Change-Id: I9f2cb5c02670aa8c4c3dd06c4301f2e613f5c013
",git fetch https://review.opendev.org/openstack/mistral refs/changes/05/147405/9 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/services/workbooks.py', 'mistral/tests/unit/api/v1/controllers/test_workbooks.py', 'mistral/services/triggers.py', 'mistral/services/actions.py', 'mistral/db/sqlalchemy/model_base.py', 'mistral/services/workflows.py', 'mistral/db/v2/sqlalchemy/models.py', 'mistral/services/security.py']",8,8fe2a16673cf30738df06a5a3bb29c7a16c56d99,bp/mistral-secure-data-access,"def add_project_id(secure_object_values, scope='private'): def add_trust_id(secure_object_values, scope='private'): if cfg.CONF.pecan.auth_enable and scope == 'private': secure_object_values.update({ 'trust_id': create_trust().id })","def add_security_info(secure_object_values, scope='private'): 'trust_id': create_trust().id,",39,44
openstack%2Ffuel-web~master~I752d6ee184b27240b247b7d8ed0b1a8c8a5cdde9,openstack/fuel-web,master,I752d6ee184b27240b247b7d8ed0b1a8c8a5cdde9,[React] Cluster page,MERGED,2015-01-13 12:55:23.000000000,2015-01-23 09:46:49.000000000,2015-01-23 09:46:48.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 9730}, {'_account_id': 13445}]","[{'number': 1, 'created': '2015-01-13 12:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/4890959a1863882302f55bf8800e1851f2091289', 'message': '[React] Cluster page\n\nRelated to blueprint react-router\n\nChange-Id: I752d6ee184b27240b247b7d8ed0b1a8c8a5cdde9\n'}, {'number': 2, 'created': '2015-01-16 10:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/bcf2a35dc61af7ffb49c854a8cc57ee7aea76fff', 'message': '[React] Cluster page\n\nRelated to blueprint react-router\n\nChange-Id: I752d6ee184b27240b247b7d8ed0b1a8c8a5cdde9\n'}, {'number': 3, 'created': '2015-01-16 13:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/02403d83de25f3723d8fe59de866c813d5e940a3', 'message': '[React] Cluster page\n\nNo support of screen changing animation and keeping of scroll position (WIP).\n\nRelated to blueprint react-router\n\nChange-Id: I752d6ee184b27240b247b7d8ed0b1a8c8a5cdde9\n'}, {'number': 4, 'created': '2015-01-19 13:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/c33eb76826c45c9ba0768d72caad356983e7be06', 'message': '[React] Cluster page\n\nRelated to blueprint react-router\n\nChange-Id: I752d6ee184b27240b247b7d8ed0b1a8c8a5cdde9\n'}, {'number': 5, 'created': '2015-01-20 14:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/8d1f4d92305c1abe484d8a95740e281e719ce2f7', 'message': '[React] Cluster page\n\nIntroduces React.addons.CSSTransitionGroup also.\n\nRelated to blueprint react-router\n\nChange-Id: I752d6ee184b27240b247b7d8ed0b1a8c8a5cdde9\n'}, {'number': 6, 'created': '2015-01-21 12:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/861f6d9cbc7c8b8eb118981313178bb55781a775', 'message': '[React] Cluster page\n\nIntroduces React.addons.CSSTransitionGroup also.\n\nRelated to blueprint react-router\n\nChange-Id: I752d6ee184b27240b247b7d8ed0b1a8c8a5cdde9\n'}, {'number': 7, 'created': '2015-01-21 12:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/0f10b46f4bcec0d8e5a2d5265541fd3143dff8c0', 'message': '[React] Cluster page\n\nIntroduces React.addons.CSSTransitionGroup also.\n\nRelated to blueprint react-router\n\nChange-Id: I752d6ee184b27240b247b7d8ed0b1a8c8a5cdde9\n'}, {'number': 8, 'created': '2015-01-22 11:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/e5ddea23ac0cddcb9f95bc9e10269e7ec45a9389', 'message': '[React] Cluster page\n\nIntroduces React.addons.TransitionGroup\n\nRelated to blueprint react-router\n\nChange-Id: I752d6ee184b27240b247b7d8ed0b1a8c8a5cdde9\n'}, {'number': 9, 'created': '2015-01-22 14:00:07.000000000', 'files': ['nailgun/static/js/views/common.js', 'nailgun/static/js/views/cluster_page_tabs/healthcheck_tab.jsx', 'nailgun/static/js/views/cluster_page_tabs/logs_tab.jsx', 'nailgun/static/js/views/cluster_page_tabs/nodes_tab_screens/edit_node_interfaces_screen.js', 'nailgun/static/js/views/cluster_page_tabs/actions_tab.jsx', 'nailgun/static/js/views/cluster_page_tabs/nodes_tab_screens/edit_node_disks_screen.js', 'nailgun/ui_tests/test_cluster_stop_reset_deployment.js', 'nailgun/static/js/views/cluster_page_tabs/nodes_tab.js', 'nailgun/static/js/views/cluster_page_tabs/settings_tab.jsx', 'nailgun/static/js/views/cluster_page.jsx', 'nailgun/static/js/views/cluster_page_tabs/nodes_tab_screens/edit_node_screen.js', 'nailgun/static/js/views/cluster_page_tabs/nodes_tab.jsx', 'nailgun/static/js/views/cluster_page_subviews.jsx', 'nailgun/static/js/views/cluster_page_tabs/nodes_tab_screens/node_list_screen.jsx', 'nailgun/static/js/app.js', 'nailgun/static/js/models.js', 'nailgun/static/js/views/cluster_page_tabs/nodes_tab_screens/add_nodes_screen.jsx', 'nailgun/static/js/views/cluster_page_tabs/nodes_tab_screens/cluster_nodes_screen.jsx', 'nailgun/static/js/views/root.jsx', 'nailgun/static/js/views/cluster_page.js', 'nailgun/static/js/views/cluster_page_tabs/nodes_tab_screens/screen.js', 'nailgun/static/templates/cluster/page.html', 'nailgun/static/js/views/cluster_page_tabs/nodes_tab_screens/edit_nodes_screen.jsx', 'nailgun/static/css/styles.less', 'nailgun/static/js/views/cluster_page_tabs/network_tab.js'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/3a4cca7c21be4234ec0d851e3876c4ac5234caec', 'message': '[React] Cluster page\n\nIntroduces React.addons.TransitionGroup\n\nRelated to blueprint react-router\n\nChange-Id: I752d6ee184b27240b247b7d8ed0b1a8c8a5cdde9\n'}]",71,146843,3a4cca7c21be4234ec0d851e3876c4ac5234caec,83,7,9,8766,,,0,"[React] Cluster page

Introduces React.addons.TransitionGroup

Related to blueprint react-router

Change-Id: I752d6ee184b27240b247b7d8ed0b1a8c8a5cdde9
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/43/146843/8 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/static/js/views/cluster_page_tabs/nodes_tab.js', 'nailgun/static/js/views/common.js', 'nailgun/static/js/views/cluster_page.js', 'nailgun/static/js/views/cluster_page.jsx', 'nailgun/static/js/views/cluster_page_tabs/nodes_tab_screens/edit_node_screen.js', 'nailgun/static/templates/cluster/page.html', 'nailgun/static/js/views/cluster_page_tabs/nodes_tab.jsx', 'nailgun/static/js/views/cluster_page_subviews.jsx', 'nailgun/static/js/app.js', 'nailgun/static/js/views/cluster_page_tabs/network_tab.js']",10,4890959a1863882302f55bf8800e1851f2091289,bp/react-router,"function($, _, i18n, Backbone, utils, models, dialogViews, networkTabTemplate, networkTemplate, rangeTemplate, networkingParametersTemplate, networkTabVerificationControlTemplate) { NetworkTab = Backbone.View.extend({"," 'views/common',function($, _, i18n, Backbone, utils, models, commonViews, dialogViews, networkTabTemplate, networkTemplate, rangeTemplate, networkingParametersTemplate, networkTabVerificationControlTemplate) { NetworkTab = commonViews.Tab.extend({",450,572
openstack%2Ffuel-web~master~Iaea05d939392d2d0742ec9866a91a1433d502d19,openstack/fuel-web,master,Iaea05d939392d2d0742ec9866a91a1433d502d19,Fix css for Deploy Changes warning,MERGED,2015-01-22 17:30:19.000000000,2015-01-23 09:45:02.000000000,2015-01-23 09:45:02.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}]","[{'number': 1, 'created': '2015-01-22 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/149334b130a6daa64c2b77e7e20e502a91c1e969', 'message': 'Fix css for Deploy Chages warning\n\nCloses-bug: #1413669\nChange-Id: Iaea05d939392d2d0742ec9866a91a1433d502d19\n'}, {'number': 2, 'created': '2015-01-22 17:30:47.000000000', 'files': ['nailgun/static/css/styles.less'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/15bfc86b8f3df24291d82b0443c5717c4e774658', 'message': 'Fix css for Deploy Changes warning\n\nCloses-bug: #1413669\nChange-Id: Iaea05d939392d2d0742ec9866a91a1433d502d19\n'}]",0,149338,15bfc86b8f3df24291d82b0443c5717c4e774658,15,4,2,9091,,,0,"Fix css for Deploy Changes warning

Closes-bug: #1413669
Change-Id: Iaea05d939392d2d0742ec9866a91a1433d502d19
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/38/149338/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/static/css/styles.less'],1,149334b130a6daa64c2b77e7e20e502a91c1e969,css_deploy_fix, font-style: italic; text-align: center; i { margin-right: 3px; },,5,0
openstack%2Fneutron~master~Iab2f6135f0931bc8963caff2386578fc05d849cf,openstack/neutron,master,Iab2f6135f0931bc8963caff2386578fc05d849cf,Ext Nets in ML2 have invalid providernet types,ABANDONED,2014-07-09 01:21:55.000000000,2015-01-23 09:42:52.000000000,,"[{'_account_id': 3}, {'_account_id': 1689}, {'_account_id': 5170}, {'_account_id': 6876}, {'_account_id': 8124}, {'_account_id': 9681}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10652}, {'_account_id': 10692}, {'_account_id': 12955}]","[{'number': 1, 'created': '2014-07-09 01:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/55838196cbd42727d9aba88b44e1b4a6a5bdf5f9', 'message': ""Ext Nets in ML2 have invalid providernet types (WIP)\n\nThis is a work in progress.\n\nWith the ML2 Plugin, every network created has segments which\nprovider:network_types being tenant_network_types. When applied to\nexternal networks, the types that could be in tenant_network_types\nparameter (like vxlan or gre) are not appropriate.\n\nAn external network actually a 'flat' network.  This patch makes\nexternal networks to have segments with 'flat' provider:network_type\ninstead of value in tenant_network_types.\n\nChange-Id: Iab2f6135f0931bc8963caff2386578fc05d849cf\nCloses-Bug: #1328991\n""}, {'number': 2, 'created': '2014-07-09 01:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04c3e1f3ded6c24edc9f480a7e97d56ea3e960c4', 'message': ""Ext Nets in ML2 have invalid providernet types (WIP)\n\nThis is a work in progress.\n\nWith the ML2 Plugin, every network created has segments which\nprovider:network_types being tenant_network_types. When applied to\nexternal networks, the types that could be in tenant_network_types\nparameter (like vxlan or gre) are not appropriate.\n\nAn external network actually a 'flat' network.  This patch makes\nexternal networks to have segments with 'flat' provider:network_type\ninstead of value in tenant_network_types.\n\nChange-Id: Iab2f6135f0931bc8963caff2386578fc05d849cf\nCloses-Bug: #1328991\n""}, {'number': 3, 'created': '2014-07-11 13:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d79b97d84068fcda63077975e27868ba33a2f0b', 'message': ""Ext Nets in ML2 have invalid providernet types\n\nWith the ML2 Plugin, every network created has segments whith\nprovider:network_types being tenant_network_types. When applied to\nexternal networks, the types that could be in tenant_network_types\nparameter (like vxlan or gre) are not appropriate.\n\nAn external network is actually a 'flat' network.  This patch makes\nexternal networks have segments with the 'flat' provider:network_type\ninstead of values in tenant_network_types.\n\nChange-Id: Iab2f6135f0931bc8963caff2386578fc05d849cf\nCloses-Bug: #1328991\n""}, {'number': 4, 'created': '2014-07-21 18:58:34.000000000', 'files': ['neutron/plugins/ml2/managers.py', 'neutron/tests/unit/ml2/test_ml2_plugin.py', 'neutron/tests/unit/ml2/test_type_manager.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e3b8ddc387ec45ae82de415d5a497be0376671c', 'message': ""Ext Nets in ML2 have invalid providernet types\n\nWith the ML2 Plugin, every network created has segments whith\nprovider:network_types being tenant_network_types. When applied to\nexternal networks, the types that could be in tenant_network_types\nparameter (like vxlan or gre) are not appropriate.\n\nThis patch makes external networks have segments with the 'local'\nprovider:network_type when the network_type is not explicitly set\ninstead of values in tenant_network_types.\n\nChange-Id: Iab2f6135f0931bc8963caff2386578fc05d849cf\nCloses-Bug: #1328991\n""}]",8,105639,3e3b8ddc387ec45ae82de415d5a497be0376671c,78,24,4,6876,,,0,"Ext Nets in ML2 have invalid providernet types

With the ML2 Plugin, every network created has segments whith
provider:network_types being tenant_network_types. When applied to
external networks, the types that could be in tenant_network_types
parameter (like vxlan or gre) are not appropriate.

This patch makes external networks have segments with the 'local'
provider:network_type when the network_type is not explicitly set
instead of values in tenant_network_types.

Change-Id: Iab2f6135f0931bc8963caff2386578fc05d849cf
Closes-Bug: #1328991
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/105639/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/managers.py', 'neutron/plugins/ml2/plugin.py']",2,55838196cbd42727d9aba88b44e1b4a6a5bdf5f9,bug/1328991,"from neutron.extensions import external_netREQUIRED_TYPES = [service_constants.TYPE_FLAT] self.type_manager = managers.TypeManager(REQUIRED_TYPES) if self._get_attribute(network, external_net.EXTERNAL): if not network_type: network_type = service_constants.TYPE_FLAT if not physical_network: physical_network = self._get_attribute(network, 'name') elif self._get_attribute(network, external_net.EXTERNAL): segments = [{provider.NETWORK_TYPE: service_constants.TYPE_FLAT, provider.PHYSICAL_NETWORK: self._get_attribute(network, 'name'), provider.SEGMENTATION_ID: None}]", self.type_manager = managers.TypeManager() else: return,27,5
openstack%2Ffuel-stats~master~I265b617e78de142f8f10f22e85f734d0df7979c2,openstack/fuel-stats,master,I265b617e78de142f8f10f22e85f734d0df7979c2,Http hander for fetching clusters stats as CSV,MERGED,2015-01-19 13:54:33.000000000,2015-01-23 09:42:13.000000000,2015-01-23 09:42:13.000000000,"[{'_account_id': 3}, {'_account_id': 8053}, {'_account_id': 8392}, {'_account_id': 8931}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}, {'_account_id': 11110}, {'_account_id': 11577}]","[{'number': 1, 'created': '2015-01-19 13:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/930b87e2591b1ecd03776e0e456e312dde6f8759', 'message': 'Http hander for fetching clusters stats as CSV\n\nFlask application added for export clusters statstics in CSV format.\n\nCloses-Bug: #1410262\nChange-Id: I265b617e78de142f8f10f22e85f734d0df7979c2\n'}, {'number': 2, 'created': '2015-01-19 15:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/0c7c32fb7447052e903b2e59467dc07ecee84d0b', 'message': 'Http hander for fetching clusters stats as CSV\n\nFlask application added for export clusters statstics in CSV format.\n\nCloses-Bug: #1410262\nBlueprint: export-stats-to-csv\nChange-Id: I265b617e78de142f8f10f22e85f734d0df7979c2\n'}, {'number': 3, 'created': '2015-01-21 17:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/8633313b100f9f06a0e83d3f384a7b1fa29146c6', 'message': 'Http hander for fetching clusters stats as CSV\n\nFlask application added for export clusters statstics in CSV format.\nExport process streams data by the generators.\n\nCloses-Bug: #1410262\nBlueprint: export-stats-to-csv\nChange-Id: I265b617e78de142f8f10f22e85f734d0df7979c2\n'}, {'number': 4, 'created': '2015-01-22 10:19:02.000000000', 'files': ['analytics/fuel_analytics/api/app_prod.py', 'analytics/fuel_analytics/test/api/resources/__init__.py', 'collector/requirements.txt', 'analytics/fuel_analytics/api/app.py', 'analytics/fuel_analytics/api/app_test.py', 'analytics/fuel_analytics/api/resources/utils/__init__.py', 'analytics/fuel_analytics/test/api/resources/utils/test_es_client.py', 'analytics/fuel_analytics/__init__.py', 'analytics/fuel_analytics/api/config.py', 'analytics/uwsgi/analytics_example.yaml', 'analytics/fuel_analytics/api/log.py', 'analytics/fuel_analytics/test/base.py', 'analytics/fuel_analytics/api/resources/csv_exporter.py', 'analytics/MANIFEST.in', 'analytics/fuel_analytics/api/resources/__init__.py', 'analytics/fuel_analytics/test/api/__init__.py', 'analytics/manage_analytics.py', 'migration/migration/test/base.py', 'analytics/fuel_analytics/test/api/resources/utils/__init__.py', 'analytics/requirements.txt', 'analytics/test-requirements.txt', 'analytics/tox.ini', 'analytics/fuel_analytics/api/__init__.py', 'analytics/fuel_analytics/api/resources/utils/skeleton.py', 'analytics/fuel_analytics/test/api/resources/utils/test_stats_to_csv.py', 'analytics/fuel_analytics/api/resources/utils/stats_to_csv.py', 'analytics/fuel_analytics/test/__init__.py', 'analytics/fuel_analytics/test/test_common.py', 'analytics/fuel_analytics/api/resources/utils/es_client.py', 'analytics/setup.py'], 'web_link': 'https://opendev.org/openstack/fuel-stats/commit/2f4eb792332dc89cd1658c582740601238f10983', 'message': 'Http hander for fetching clusters stats as CSV\n\nFlask application added for export clusters statstics in CSV format.\nExport process streams data by the generators.\n\nCloses-Bug: #1410262\nBlueprint: export-stats-to-csv\nChange-Id: I265b617e78de142f8f10f22e85f734d0df7979c2\n'}]",28,148262,2f4eb792332dc89cd1658c582740601238f10983,36,9,4,10959,,,0,"Http hander for fetching clusters stats as CSV

Flask application added for export clusters statstics in CSV format.
Export process streams data by the generators.

Closes-Bug: #1410262
Blueprint: export-stats-to-csv
Change-Id: I265b617e78de142f8f10f22e85f734d0df7979c2
",git fetch https://review.opendev.org/openstack/fuel-stats refs/changes/62/148262/3 && git format-patch -1 --stdout FETCH_HEAD,"['analytics/analytics/__init__.py', 'analytics/analytics/api/app_prod.py', 'analytics/analytics/api/resources/__init__.py', 'analytics/analytics/test/api/resources/__init__.py', 'analytics/analytics/api/app_test.py', 'analytics/analytics/test/api/resources/utils/test_es_client.py', 'analytics/uwsgi/analytics_example.yaml', 'analytics/analytics/test/api/resources/utils/test_stats_to_csv.py', 'analytics/analytics/api/resources/csv_exporter.py', 'analytics/analytics/api/app.py', 'analytics/analytics/api/resources/utils/__init__.py', 'analytics/MANIFEST.in', 'analytics/analytics/api/resources/utils/stats_to_csv.py', 'analytics/analytics/api/config.py', 'analytics/manage_analytics.py', 'analytics/analytics/test/api/resources/utils/__init__.py', 'migration/migration/test/base.py', 'analytics/analytics/test/api/__init__.py', 'analytics/analytics/api/__init__.py', 'analytics/requirements.txt', 'analytics/analytics/api/log.py', 'analytics/analytics/api/resources/utils/es_client.py', 'analytics/test-requirements.txt', 'analytics/tox.ini', 'analytics/analytics/test/base.py', 'analytics/analytics/test/test_common.py', 'analytics/analytics/test/__init__.py', 'analytics/setup.py']",28,930b87e2591b1ecd03776e0e456e312dde6f8759,bp/export-stats-to-csv,"# Copyright 2014 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os from setuptools import find_packages from setuptools import setup def parse_requirements_txt(): root = os.path.dirname(os.path.abspath(__file__)) requirements = [] with open(os.path.join(root, 'requirements.txt'), 'r') as f: for line in f.readlines(): line = line.rstrip() if not line or line.startswith('#'): continue requirements.append(line) return requirements setup( name='analytics', version='0.0.1', description=""Service of analytics reports"", long_description=""""""Service of analytics reports"""""", license=""http://www.apache.org/licenses/LICENSE-2.0"", classifiers=[ ""License :: OSI Approved :: Apache Software License"", ""Development Status :: 3 - Alpha"", ""Programming Language :: Python"", ""Topic :: Internet :: WWW/HTTP"", ""Topic :: Internet :: WWW/HTTP :: WSGI :: Application"", ], author='Mirantis Inc.', author_email='product@mirantis.com', url='https://mirantis.com', keywords='fuel statistics analytics mirantis', packages=find_packages(), zip_safe=False, install_requires=parse_requirements_txt(), include_package_data=True, scripts=['manage_analytics.py'] ) ",,886,2
openstack%2Fopenstack-ansible~icehouse~I99791d05a390584416ce9199a306b1ededa919f9,openstack/openstack-ansible,icehouse,I99791d05a390584416ce9199a306b1ededa919f9,Squash all patches required to make gating work,ABANDONED,2015-01-22 11:14:41.000000000,2015-01-23 09:41:07.000000000,,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-22 11:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/63114fbf9d179dd168c9542680c8350b6d073916', 'message': 'Squash all patches required to make gating work\n\nThis is a merge of the following patches:\n12b56a6 Fixed generator type assumption error\n919deb8 Sync gate scripts with master\n2312416 use archive.mariadb.org for to install mariadb package\n4d7096d Use reliable static mirror for mariadb apt repository\n56f4ba0 Use HTTPS when installing from mirror.rackspace.com\n4e07dd7 Add debootstrap package to LXC package list\n8ef9540 Remove empty playbooks/infrastructure/repo-install.yml\n\nChange-Id: I99791d05a390584416ce9199a306b1ededa919f9\nCloses-Bug: #1409762\n'}, {'number': 2, 'created': '2015-01-22 14:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f3c18e94b64b3df50df933251c679d93f4cca0ed', 'message': 'Squash all patches required to make gating work\n\nAs the AIO check is now voting, the patches below cannot be committed\nindividually as they each fail on their own. This is a once-off combined\npatch to get to a working gate state to ensure that any follow-up\npatches run through a proper set of tests before merging.\n\nThis is a merge of the following patches:\nf9fcf08 pin setuptools to 7.0 to workaround brokenness in 8.x\n12b56a6 Fixed generator type assumption error\n919deb8 Sync gate scripts with master\n2312416 use archive.mariadb.org for to install mariadb package\n4d7096d Use reliable static mirror for mariadb apt repository\n56f4ba0 Use HTTPS when installing from mirror.rackspace.com\n4e07dd7 Add debootstrap package to LXC package list\n8ef9540 Remove empty playbooks/infrastructure/repo-install.yml\n\nChange-Id: I99791d05a390584416ce9199a306b1ededa919f9\nCloses-Bug: #1399387\nCloses-Bug: #1402672\nCloses-Bug: #1402679\nCloses-Bug: #1409762\nCloses-Bug: #1410743\nCloses-Bug: #1411331\nCloses-Bug: #1412521\nCloses-Bug: #1412484\n'}, {'number': 3, 'created': '2015-01-22 14:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fce1db456da9fe670a711a15bf6856543013a672', 'message': 'Squash all patches required to make gating work\n\nAs the AIO check is now voting, the patches below cannot be committed\nindividually as they each fail on their own. This is a once-off combined\npatch to get to a working gate state to ensure that any follow-up\npatches run through a proper set of tests before merging.\n\nThis is a merge of the following patches:\nf9fcf08 pin setuptools to 7.0 to workaround brokenness in 8.x\n12b56a6 Fixed generator type assumption error\n919deb8 Sync gate scripts with master\n2312416 use archive.mariadb.org for to install mariadb package\n4d7096d Use reliable static mirror for mariadb apt repository\n56f4ba0 Use HTTPS when installing from mirror.rackspace.com\n4e07dd7 Add debootstrap package to LXC package list\n8ef9540 Remove empty playbooks/infrastructure/repo-install.yml\n963c203 Set the use of conf.d to be optional for os-ansible-aio-check\n\nChange-Id: I99791d05a390584416ce9199a306b1ededa919f9\nCloses-Bug: #1399387\nCloses-Bug: #1402672\nCloses-Bug: #1402679\nCloses-Bug: #1409762\nCloses-Bug: #1410743\nCloses-Bug: #1411331\nCloses-Bug: #1412521\nCloses-Bug: #1412484\nCloses-Bug: #1413606\n'}, {'number': 4, 'created': '2015-01-22 15:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f01f95a40d47cd5a7330bcac9d52cacca3977026', 'message': 'Squash all patches required to make gating work\n\nAs the AIO check is now voting, the patches below cannot be committed\nindividually as they each fail on their own. This is a once-off combined\npatch to get to a working gate state to ensure that any follow-up\npatches run through a proper set of tests before merging.\n\nThis is a merge of the following patches:\nf9fcf08 pin setuptools to 7.0 to workaround brokenness in 8.x\n12b56a6 Fixed generator type assumption error\n919deb8 Sync gate scripts with master\n2312416 use archive.mariadb.org for to install mariadb package\n4d7096d Use reliable static mirror for mariadb apt repository\n56f4ba0 Use HTTPS when installing from mirror.rackspace.com\n4e07dd7 Add debootstrap package to LXC package list\n8ef9540 Remove empty playbooks/infrastructure/repo-install.yml\ne7825af Set os-ansible-aio-check to only use conf.d for swift\n\nChange-Id: I99791d05a390584416ce9199a306b1ededa919f9\nCloses-Bug: #1399387\nCloses-Bug: #1402672\nCloses-Bug: #1402679\nCloses-Bug: #1409762\nCloses-Bug: #1410743\nCloses-Bug: #1411331\nCloses-Bug: #1412521\nCloses-Bug: #1412484\nCloses-Bug: #1413606\n'}, {'number': 5, 'created': '2015-01-22 18:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b04fb896c6b2c3dce9b0aa8c491224d6d3ee4a75', 'message': 'Squash all patches required to make gating work\n\nAs the AIO check is now voting, the patches below cannot be committed\nindividually as they each fail on their own. This is a once-off combined\npatch to get to a working gate state to ensure that any follow-up\npatches run through a proper set of tests before merging.\n\nThis is a merge of the following patches:\nf9fcf08 pin setuptools to 7.0 to workaround brokenness in 8.x\n12b56a6 Fixed generator type assumption error\n919deb8 Sync gate scripts with master\n2312416 use archive.mariadb.org for to install mariadb package\n4d7096d Use reliable static mirror for mariadb apt repository\n56f4ba0 Use HTTPS when installing from mirror.rackspace.com\n4e07dd7 Add debootstrap package to LXC package list\n8ef9540 Remove empty playbooks/infrastructure/repo-install.yml\nd4ec698 Adjust os-ansible-aio-check to work for all branches\n\nChange-Id: I99791d05a390584416ce9199a306b1ededa919f9\nCloses-Bug: #1399387\nCloses-Bug: #1402672\nCloses-Bug: #1402679\nCloses-Bug: #1409762\nCloses-Bug: #1410743\nCloses-Bug: #1411331\nCloses-Bug: #1412521\nCloses-Bug: #1412484\nCloses-Bug: #1413606\n'}, {'number': 6, 'created': '2015-01-22 19:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ad257e3b888a9dbf35734b6174665caba26da9f3', 'message': 'Squash all patches required to make gating work\n\nAs the AIO check is now voting, the patches below cannot be committed\nindividually as they each fail on their own. This is a once-off combined\npatch to get to a working gate state to ensure that any follow-up\npatches run through a proper set of tests before merging.\n\nThis is a merge of the following patches:\nf9fcf08 pin setuptools to 7.0 to workaround brokenness in 8.x\n12b56a6 Fixed generator type assumption error\n919deb8 Sync gate scripts with master\n2312416 use archive.mariadb.org for to install mariadb package\n4d7096d Use reliable static mirror for mariadb apt repository\n56f4ba0 Use HTTPS when installing from mirror.rackspace.com\n4e07dd7 Add debootstrap package to LXC package list\n8ef9540 Remove empty playbooks/infrastructure/repo-install.yml\nd4ec698 Adjust os-ansible-aio-check to work for all branches\n\nChange-Id: I99791d05a390584416ce9199a306b1ededa919f9\nCloses-Bug: #1399387\nCloses-Bug: #1402672\nCloses-Bug: #1402679\nCloses-Bug: #1409762\nCloses-Bug: #1410743\nCloses-Bug: #1411331\nCloses-Bug: #1412521\nCloses-Bug: #1412484\nCloses-Bug: #1413606\n'}, {'number': 7, 'created': '2015-01-22 21:27:32.000000000', 'files': ['requirements.txt', 'rpc_deployment/inventory/dynamic_inventory.py', 'rpc_deployment/vars/repo_packages/readme.rst', 'rpc_deployment/roles/lxc_common/tasks/lxc_install.yml', 'rpc_deployment/vars/repo_packages/all_common.yml', 'scripts/os-ansible-aio-check.sh', 'scripts/rpc9.0.0-aio-heat-template.yml', 'rpc_deployment/inventory/group_vars/all.yml', 'scripts/rpc9.0.0-aio-rax-heat-template.yml', 'rpc_deployment/playbooks/infrastructure/repo-install.yml', 'scripts/cloudserver-aio.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7e3b6f324abcc2475e934df53240267581761bf1', 'message': 'Squash all patches required to make gating work\n\nAs the AIO check is now voting, the patches below cannot be committed\nindividually as they each fail on their own. This is a once-off combined\npatch to get to a working gate state to ensure that any follow-up\npatches run through a proper set of tests before merging.\n\nThis is a merge of the following patches:\nf9fcf08 pin setuptools to 7.0 to workaround brokenness in 8.x\n12b56a6 Fixed generator type assumption error\n919deb8 Sync gate scripts with master\n2312416 use archive.mariadb.org for to install mariadb package\n4d7096d Use reliable static mirror for mariadb apt repository\n56f4ba0 Use HTTPS when installing from mirror.rackspace.com\n4e07dd7 Add debootstrap package to LXC package list\n8ef9540 Remove empty playbooks/infrastructure/repo-install.yml\na84f2b4 Adjust os-ansible-aio-check to work for all branches\n\nChange-Id: I99791d05a390584416ce9199a306b1ededa919f9\nCloses-Bug: #1399387\nCloses-Bug: #1402672\nCloses-Bug: #1402679\nCloses-Bug: #1409762\nCloses-Bug: #1410743\nCloses-Bug: #1411331\nCloses-Bug: #1412521\nCloses-Bug: #1412484\nCloses-Bug: #1413606\n'}]",0,149213,7e3b6f324abcc2475e934df53240267581761bf1,28,3,7,6816,,,0,"Squash all patches required to make gating work

As the AIO check is now voting, the patches below cannot be committed
individually as they each fail on their own. This is a once-off combined
patch to get to a working gate state to ensure that any follow-up
patches run through a proper set of tests before merging.

This is a merge of the following patches:
f9fcf08 pin setuptools to 7.0 to workaround brokenness in 8.x
12b56a6 Fixed generator type assumption error
919deb8 Sync gate scripts with master
2312416 use archive.mariadb.org for to install mariadb package
4d7096d Use reliable static mirror for mariadb apt repository
56f4ba0 Use HTTPS when installing from mirror.rackspace.com
4e07dd7 Add debootstrap package to LXC package list
8ef9540 Remove empty playbooks/infrastructure/repo-install.yml
a84f2b4 Adjust os-ansible-aio-check to work for all branches

Change-Id: I99791d05a390584416ce9199a306b1ededa919f9
Closes-Bug: #1399387
Closes-Bug: #1402672
Closes-Bug: #1402679
Closes-Bug: #1409762
Closes-Bug: #1410743
Closes-Bug: #1411331
Closes-Bug: #1412521
Closes-Bug: #1412484
Closes-Bug: #1413606
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/13/149213/7 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'rpc_deployment/inventory/dynamic_inventory.py', 'rpc_deployment/roles/lxc_common/tasks/lxc_install.yml', 'rpc_deployment/vars/repo_packages/all_common.yml', 'rpc_deployment/inventory/group_vars/all.yml', 'scripts/os-ansible-aio-check.sh', 'scripts/rpc9.0.0-aio-heat-template.yml', 'scripts/rpc9.0.0-aio-rax-heat-template.yml', 'rpc_deployment/playbooks/infrastructure/repo-install.yml', 'scripts/cloudserver-aio.sh']",10,63114fbf9d179dd168c9542680c8350b6d073916,bug/1399387,"REPO_URL=${REPO_URL:-""https://github.com/stackforge/os-ansible-deployment.git""} REPO_BRANCH=${REPO_BRANCH:-""icehouse""} WORKING_FOLDER=${WORKING_FOLDER:-""/opt/stackforge/os-ansible-deployment""} # install git so that we can fetch the repo apt-get update && apt-get install -y git # fetch the repo git clone -b ${REPO_BRANCH} ${REPO_URL} ${WORKING_FOLDER}/ # put an motd in place to help the user know how to restart galera after reboot cat > /etc/update-motd.d/20-openstack<< EOFecho ""############ ansible-os-deployment all-in-one build #############"" echo ""If this server has been rebooted, you will need to re-bootstrap"" echo ""Galera to get the cluster operational. To do this execute:""echo ""cd /opt/ansible-lxc-rpc/rpc_deployment""chmod +x /etc/update-motd.d/20-openstack # run the same aio build script that is used in the OpenStack CI pipeline cd ${WORKING_FOLDER} ./scripts/os-ansible-aio-check.sh","REPO_URL=${REPO_URL:-""https://github.com/rcbops/ansible-lxc-rpc.git""} REPO_BRANCH=${REPO_BRANCH:-""9.0.5""} FROZEN_REPO_URL=${FROZEN_REPO:-""http://mirror.rackspace.com/rackspaceprivatecloud""} MAX_RETRIES=${MAX_RETRIES:-5} apt-get update apt-get install -y python-dev \ python2.7 \ build-essential \ curl \ git-core \ ipython \ tmux \ vim \ vlan \ bridge-utils \ lvm2 \ linux-image-extra-$(uname -r) function key_create(){ ssh-keygen -t rsa -f /root/.ssh/id_rsa -N '' } # Used to retry process that may fail due to random issues. function successerator() { set +e RETRY=0 # Set the initial return value to failure false while [ $? -ne 0 -a ${RETRY} -lt ${MAX_RETRIES} ];do RETRY=$((${RETRY}+1)) $@ done if [ ${RETRY} -eq ${MAX_RETRIES} ];then echo ""Hit maximum number of retries, giving up..."" exit 1 fi set -e } function install_bits() { successerator ansible-playbook -e @/etc/rpc_deploy/user_variables.yml \ playbooks/$@ } if [ ! -d ""/opt"" ];then mkdir /opt fi if [ ! ""$(swapon -s | grep -v Filename)"" ];then cat > /opt/swap.sh <<EOF #!/usr/bin/env bash if [ ! ""\$(swapon -s | grep -v Filename)"" ];then SWAPFILE=""/tmp/SwapFile"" if [ -f ""\${SWAPFILE}"" ];then swapoff -a rm \${SWAPFILE} fi dd if=/dev/zero of=\${SWAPFILE} bs=1M count=512 mkswap \${SWAPFILE} swapon \${SWAPFILE} fi EOF chmod +x /opt/swap.sh /opt/swap.sh fi if [ -f ""/opt/swap.sh"" ];then if [ ! -f ""/etc/rc.local"" ];then touch /etc/rc.local fi if [ ""$(grep 'exit 0' /etc/rc.local)"" ];then sed -i '/exit\ 0/ s/^/#\ /' /etc/rc.local fi if [ ! ""$(grep 'swap.sh' /etc/rc.local)"" ];then echo ""/opt/swap.sh"" | tee -a /etc/rc.local fi chmod +x /etc/rc.local fi # Make the system key used for bootstrapping self pushd /root/.ssh/ if [ ! -f ""id_rsa"" ];then key_create fi if [ ! -f ""id_rsa.pub"" ];then rm ""id_rsa"" key_create fi KEYENTRY=$(cat id_rsa.pub) if [ ! ""$(grep \""$KEYENTRY\"" authorized_keys)"" ];then echo ""$KEYENTRY"" | tee -a authorized_keys fi popd CINDER=""/opt/cinder.img"" if [ ! ""$(losetup -a | grep /opt/cinder.img)"" ];then LOOP=$(losetup -f) dd if=/dev/zero of=${CINDER} bs=1 count=0 seek=1000G losetup ${LOOP} ${CINDER} pvcreate ${LOOP} vgcreate cinder-volumes ${LOOP} pvscan fi # Get the source if [ -d ""/opt/ansible-lxc-rpc"" ];then rm -rf ""/opt/ansible-lxc-rpc"" fi git clone ""${REPO_URL}"" ""/opt/ansible-lxc-rpc"" pushd /opt/ansible-lxc-rpc git checkout ""${REPO_BRANCH}"" # Copy the base etc files if [ -d ""/etc/rpc_deploy"" ];then rm -rf ""/etc/rpc_deploy"" fi cp -R /opt/ansible-lxc-rpc/etc/rpc_deploy /etc/ # Install pip curl ${FROZEN_REPO_URL}/downloads/get-pip.py | python # Install requirements pip install -r /opt/ansible-lxc-rpc/requirements.txt # Generate the passwords /opt/ansible-lxc-rpc/scripts/pw-token-gen.py --file /etc/rpc_deploy/user_variables.yml popd cat > /etc/rpc_deploy/user_variables.yml <<EOF --- rpc_repo_url: ${FROZEN_REPO_URL} required_kernel: 3.13.0-30-generic ## Rackspace Cloud Details rackspace_cloud_auth_url: https://identity.api.rackspacecloud.com/v2.0 rackspace_cloud_tenant_id: SomeTenantID # The cloudfiles_tenant_id is the long MossoCloudFS tenantID only required rackspace_cloudfiles_tenant_id: SomeTenantID rackspace_cloud_username: SomeUserName rackspace_cloud_password: SomeUsersPassword rackspace_cloud_api_key: SomeAPIKey ## Rabbit Options rabbitmq_password: secrete rabbitmq_cookie_token: secrete ## Tokens memcached_encryption_key: secrete ## Container default user container_openstack_password: secrete ## Galera Options mysql_root_password: secrete mysql_debian_sys_maint_password: secrete ## Keystone Options keystone_container_mysql_password: secrete keystone_auth_admin_token: secrete keystone_auth_admin_password: secrete keystone_service_password: secrete ## Cinder Options cinder_container_mysql_password: secrete cinder_service_password: secrete cinder_v2_service_password: secrete # Set default_store to ""swift"" if using Cloud Files or swift backend glance_default_store: file glance_container_mysql_password: secrete glance_service_password: secrete glance_swift_store_auth_address: ""{{ rackspace_cloud_auth_url }}"" glance_swift_store_user: ""{{ rackspace_cloudfiles_tenant_id }}:{{ rackspace_cloud_username }}"" glance_swift_store_key: ""{{ rackspace_cloud_password }}"" glance_swift_store_container: SomeContainerName glance_swift_store_region: SomeRegion glance_swift_store_endpoint_type: internalURL glance_notification_driver: noop ## Heat Options heat_stack_domain_admin_password: secrete heat_container_mysql_password: secrete ### THE HEAT AUTH KEY NEEDS TO BE 32 CHARACTERS LONG ## heat_auth_encryption_key: 12345678901234567890123456789012 ### THE HEAT AUTH KEY NEEDS TO BE 32 CHARACTERS LONG ## heat_service_password: secrete heat_cfn_service_password: secrete ## Horizon Options horizon_container_mysql_password: secrete ## MaaS Options maas_auth_method: password maas_auth_url: ""{{ rackspace_cloud_auth_url }}"" maas_username: ""{{ rackspace_cloud_username }}"" maas_api_key: ""{{ rackspace_cloud_api_key }}"" maas_auth_token: some_token maas_api_url: https://monitoring.api.rackspacecloud.com/v1.0/{{ rackspace_cloud_tenant_id }} maas_notification_plan: npManaged # By default we will create an agent token for each entity, however if you'd # prefer to use the same agent token for all entities then specify it here #maas_agent_token: some_token maas_target_alias: public0_v4 maas_scheme: https # Override scheme for specific service remote monitor by specifying here: E.g. # maas_nova_scheme: http maas_keystone_user: maas maas_keystone_password: secrete # Check this number of times before registering state change maas_alarm_local_consecutive_count: 3 maas_alarm_remote_consecutive_count: 1 # Timeout must be less than period maas_check_period: 60 maas_check_timeout: 30 maas_monitoring_zones: - mzdfw - mziad - mzord - mzlon - mzhkg maas_repo_version: 9.0.5 ## Neutron Options neutron_container_mysql_password: secrete neutron_service_password: secrete ## Nova Options nova_virt_type: qemu nova_container_mysql_password: secrete nova_metadata_proxy_secret: secrete nova_ec2_service_password: secrete nova_service_password: secrete nova_v3_service_password: secrete nova_s3_service_password: secrete ## RPC Support rpc_support_holland_password: secrete ## Kibana Options kibana_password: secrete EOF cat > /etc/rpc_deploy/rpc_user_config.yml <<EOF --- # This is the md5 of the environment file environment_version: $(md5sum /etc/rpc_deploy/rpc_environment.yml | awk '{print $1}') # User defined CIDR used for containers cidr_networks: # Cidr used in the Management network container: 172.29.236.0/22 # Cidr used in the Service network snet: 172.29.248.0/22 # Cidr used in the VM network tunnel: 172.29.240.0/22 # Cidr used in the Storage network storage: 172.29.244.0/22 used_ips: - 172.29.236.1,172.29.236.50 - 172.29.244.1,172.29.244.50 global_overrides: rpc_repo_url: ${FROZEN_REPO_URL} # Internal Management vip address internal_lb_vip_address: 172.29.236.100 # External DMZ VIP address external_lb_vip_address: 10.200.200.146 # Bridged interface to use with tunnel type networks tunnel_bridge: ""br-vxlan"" # Bridged interface to build containers with management_bridge: ""br-mgmt"" # Define your Add on container networks. provider_networks: - network: group_binds: - all_containers - hosts type: ""raw"" container_bridge: ""br-mgmt"" container_interface: ""eth1"" ip_from_q: ""container"" - network: group_binds: - glance_api - cinder_api - cinder_volume - nova_compute type: ""raw"" container_bridge: ""br-storage"" container_interface: ""eth2"" ip_from_q: ""storage"" - network: group_binds: - glance_api - nova_compute - neutron_linuxbridge_agent type: ""raw"" container_bridge: ""br-snet"" container_interface: ""eth3"" ip_from_q: ""snet"" - network: group_binds: - neutron_linuxbridge_agent container_bridge: ""br-vxlan"" container_interface: ""eth10"" ip_from_q: ""tunnel"" type: ""vxlan"" range: ""1:1000"" net_name: ""vxlan"" - network: group_binds: - neutron_linuxbridge_agent container_bridge: ""br-vlan"" container_interface: ""eth11"" type: ""flat"" net_name: ""vlan"" - network: group_binds: - neutron_linuxbridge_agent container_bridge: ""br-vlan"" container_interface: ""eth11"" type: ""vlan"" range: ""1:1"" net_name: ""vlan"" # Name of load balancer lb_name: lb_name_in_core # User defined Infrastructure Hosts, this should be a required group infra_hosts: aio1: ip: 172.29.236.100 # User defined Compute Hosts, this should be a required group compute_hosts: aio1: ip: 172.29.236.100 # User defined Storage Hosts, this should be a required group storage_hosts: aio1: ip: 172.29.236.100 container_vars: cinder_backends: limit_container_types: cinder_volume lvm: volume_group: cinder-volumes volume_driver: cinder.volume.drivers.lvm.LVMISCSIDriver volume_backend_name: LVM_iSCSI # User defined Logging Hosts, this should be a required group log_hosts: aio1: ip: 172.29.236.100 # User defined Networking Hosts, this should be a required group network_hosts: aio1: ip: 172.29.236.100 haproxy_hosts: aio1: ip: 172.29.236.100 EOF cat > /etc/network/interfaces.d/aio-bridges.cfg <<EOF ## Required network bridges; br-vlan, br-vxlan, br-mgmt. auto br-mgmt iface br-mgmt inet static bridge_stp off bridge_waitport 0 bridge_fd 0 # Notice the bridge port is the vlan tagged interface bridge_ports none address 172.29.236.100 netmask 255.255.252.0 auto br-vxlan iface br-vxlan inet static bridge_stp off bridge_waitport 0 bridge_fd 0 bridge_ports none address 172.29.240.100 netmask 255.255.252.0 auto br-vlan iface br-vlan inet manual bridge_stp off bridge_waitport 0 bridge_fd 0 # Notice this bridge port is an Untagged host interface bridge_ports none auto br-storage iface br-storage inet static bridge_stp off bridge_waitport 0 bridge_fd 0 bridge_ports none address 172.29.244.100 netmask 255.255.252.0 auto br-snet iface br-snet inet static bridge_stp off bridge_waitport 0 bridge_fd 0 bridge_ports none # Notice there is NO physical interface in this bridge! address 172.29.248.100 netmask 255.255.252.0 EOF # Ensure the network source is in place if [ ! ""$(grep -Rni '^source\ /etc/network/interfaces.d/\*.cfg' /etc/network/interfaces)"" ]; then echo ""source /etc/network/interfaces.d/*.cfg"" | tee -a /etc/network/interfaces fi # Bring up the new interfaces for i in br-snet br-storage br-vlan br-vxlan br-mgmt; do /sbin/ifup $i || true done # Export the home directory just in case it's not set export HOME=""/root"" pushd /opt/ansible-lxc-rpc/rpc_deployment # Install all host bits install_bits setup/host-setup.yml # Install haproxy for dev purposes only install_bits infrastructure/haproxy-install.yml # Install all of the infra bits install_bits infrastructure/infrastructure-setup.yml # install all of the Openstack Bits install_bits openstack/openstack-common.yml install_bits openstack/keystone.yml install_bits openstack/keystone-add-all-services.yml install_bits openstack/glance-all.yml install_bits openstack/heat-all.yml install_bits openstack/nova-all.yml install_bits openstack/neutron-all.yml install_bits openstack/cinder-all.yml install_bits openstack/horizon-all.yml install_bits openstack/utility.yml install_bits openstack/rpc-support.yml # Stop rsyslog container(s) for i in $(lxc-ls | grep ""rsyslog""); do lxc-stop -k -n $i; lxc-start -d -n $i done # Reconfigure Rsyslog install_bits infrastructure/rsyslog-config.yml popd if [ ! ""$(dpkg -l | grep linux-image-extra-3.13.0-35-generic)"" ];then apt-get install -y linux-image-extra-3.13.0-35-generic rm /etc/update-motd.d/* cat > /etc/update-motd.d/00-rpc-notice<< EOFecho ""############ RPC DEPLOYMENT #############"" echo ""A new kernel was installed on this system. you will"" echo ""need to re-bootstrap Galera to get the cluster operataional."" echo ""from the /opt/ansible-lxc-rpc/rpc_deployment directory execute:""chmod +x /etc/update-motd.d/00-rpc-notice shutdown -r now fi",501,476
openstack%2Fswift~master~I0f6e175ad7752169ecf94df949336e0665928df7,openstack/swift,master,I0f6e175ad7752169ecf94df949336e0665928df7,dlo: Update doc about manifest containing data,MERGED,2015-01-12 08:15:41.000000000,2015-01-23 09:41:03.000000000,2015-01-23 09:41:01.000000000,"[{'_account_id': 3}, {'_account_id': 2622}, {'_account_id': 7847}, {'_account_id': 8542}, {'_account_id': 9625}, {'_account_id': 13052}]","[{'number': 1, 'created': '2015-01-12 08:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bf4a11fe1f33c873dac3d28d70b9e71458a71787', 'message': ""dlo: Reject manifest file PUTs that has body\n\nIf data/body is present in manifest file PUT, it gets saved onto disk.\nHowever, it's never served on a GET. There is an exception: when the\nmanifest object path is part of prefix, this is the behavior:\nhttp://paste.openstack.org/show/156399/\n\nI'm not sure if this is a bug or intended behavior ?\nIf this patch is not required, the behavior should be documented.\n\nChange-Id: I0f6e175ad7752169ecf94df949336e0665928df7\nSigned-off-by: Prashanth Pai <ppai@redhat.com>\n""}, {'number': 2, 'created': '2015-01-12 10:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/94a6368da6883f46707e0b69f1cd38f53837c8aa', 'message': ""dlo: Reject manifest file PUTs that has body\n\nIf data/body is present in manifest file PUT, it gets saved onto disk.\nHowever, it's never served on a GET. There is an exception: when the\nmanifest object path is part of prefix, this is the behavior:\nhttp://paste.openstack.org/show/156399/\n\nAlso, the documentation states that COPY is not a valid operation\nfor DLO manifest. However, functional tests for copy were present.\nhttp://docs.openstack.org/api/openstack-object-storage/1.0/content/comparison_dynamic_static_objects.html\n\nI'm not sure if this is a bug or intended behavior ?\nIf this patch is not required, the behavior should be documented.\n\nChange-Id: I0f6e175ad7752169ecf94df949336e0665928df7\nSigned-off-by: Prashanth Pai <ppai@redhat.com>\n""}, {'number': 3, 'created': '2015-01-13 08:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8bd64e1417a8747ddcbf9e35ee30d79ba7f4a4f4', 'message': ""dlo: Update doc about manifest containing data\n\nCurrent behavior:\n* If data/body is present in manifest file PUT request, the data/body gets\n  saved onto disk, just like for a normal object.\n* Generally, this data in manifest file is never served on a GET response.\n  However, when the manifest object path itself is part of prefix, GET\n  response would contain data present in manifest file as well.\n* The query param multipart-manifest=get meant to retrieve SLO manifest\n  also works in case of DLO manifest. Hence a COPY request with the\n  multipart-manifest=get query param would actually copy DLO manifest.\n\nHow things should have been:\n* The DLO manifest object is supposed to have no content and only have\n  X-Object-Manifest metadata header.\n* Query param multipart-manifest=get is SLO specific and shouldn't have\n  any role in DLO.\n\nThis change intends to only document current behaviour and not change it,\nassuming there are users who have previously saved some content in DLO\nmanifest file and/or have been using multipart-manifest=get to fetch\nand/or COPY the DLO manifest file with it's content.\n\nChange-Id: I0f6e175ad7752169ecf94df949336e0665928df7\nSigned-off-by: Prashanth Pai <ppai@redhat.com>\n""}, {'number': 4, 'created': '2015-01-13 12:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/83d5598c4eba3df1805518fa005abba96c6c6e0e', 'message': ""dlo: Update doc about manifest containing data\n\nCurrent behavior:\n* If data/body is present in manifest file PUT request, the data/body gets\n  saved onto disk, just like for a normal object.\n* Generally, this data in manifest file is never served on a GET response.\n  However, when the manifest object path itself is part of prefix, GET\n  response would contain data present in manifest file as well.\n* The query param multipart-manifest=get meant to retrieve SLO manifest\n  also works in case of DLO manifest. Hence a COPY request with the\n  multipart-manifest=get query param would actually copy DLO manifest.\n\nHow things should have been:\n* The DLO manifest object is supposed to have no content and only have\n  X-Object-Manifest metadata header.\n* Query param multipart-manifest=get is SLO specific and shouldn't have\n  any role in DLO.\n\nThis change intends to only document current behaviour and not change it,\nassuming there are users who have previously saved some content in DLO\nmanifest file and/or have been using multipart-manifest=get to fetch\nand/or COPY the DLO manifest file with it's content.\n\nChange-Id: I0f6e175ad7752169ecf94df949336e0665928df7\nSigned-off-by: Prashanth Pai <ppai@redhat.com>\n""}, {'number': 5, 'created': '2015-01-15 05:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/14e7d53ac6d4c22dd325b61ee76a9ba34ed99b06', 'message': ""dlo: Update doc about manifest containing data\n\nCurrent behavior:\n* If data/body is present in manifest file PUT request, the data/body gets\n  saved onto disk, just like for a normal object.\n* Generally, this data in manifest file is never served on a GET response.\n  However, when the manifest object path itself is part of prefix, GET\n  response would contain data present in manifest file as well.\n* The query param multipart-manifest=get meant to retrieve SLO manifest\n  also works in case of DLO manifest. Hence a COPY request with the\n  multipart-manifest=get query param would actually copy DLO manifest.\n\nHow things should have been:\n* The DLO manifest object is supposed to have no content and only have\n  X-Object-Manifest metadata header.\n* Query param multipart-manifest=get is SLO specific and shouldn't have\n  any role in DLO.\n\nThis change intends to only document current behaviour and not change it,\nassuming there are users who have previously saved some content in DLO\nmanifest file and/or have been using multipart-manifest=get to fetch\nand/or COPY the DLO manifest file with it's content.\n\nChange-Id: I0f6e175ad7752169ecf94df949336e0665928df7\nSigned-off-by: Prashanth Pai <ppai@redhat.com>\n""}, {'number': 6, 'created': '2015-01-16 04:56:13.000000000', 'files': ['test/functional/tests.py', 'doc/source/api/large_objects.rst', 'doc/source/overview_large_objects.rst', 'test/functional/swift_test_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a0977ab8ca77a6ff899baa669134b242f328470a', 'message': ""dlo: Update doc about manifest containing data\n\nCurrent behavior:\n* If data/body is present in manifest file PUT request, the data/body gets\n  saved onto disk, just like for a normal object.\n* Generally, this data in manifest file is never served on a GET response.\n  However, when the manifest object path itself is part of prefix, GET\n  response would contain data present in manifest file as well.\n* The query param multipart-manifest=get meant to retrieve SLO manifest\n  also works in case of DLO manifest. Hence a COPY request with the\n  multipart-manifest=get query param would actually copy DLO manifest.\n\nHow things should have been:\n* The DLO manifest object is supposed to have no content and only have\n  X-Object-Manifest metadata header.\n* Query param multipart-manifest=get is SLO specific and shouldn't have\n  any role in DLO.\n\nThis change intends to only document current behaviour and not change it,\nassuming there are users who have previously saved some content in DLO\nmanifest file and/or have been using multipart-manifest=get to fetch\nand/or COPY the DLO manifest file with it's content.\n\nChange-Id: I0f6e175ad7752169ecf94df949336e0665928df7\nSigned-off-by: Prashanth Pai <ppai@redhat.com>\n""}]",10,146390,a0977ab8ca77a6ff899baa669134b242f328470a,35,6,6,8542,,,0,"dlo: Update doc about manifest containing data

Current behavior:
* If data/body is present in manifest file PUT request, the data/body gets
  saved onto disk, just like for a normal object.
* Generally, this data in manifest file is never served on a GET response.
  However, when the manifest object path itself is part of prefix, GET
  response would contain data present in manifest file as well.
* The query param multipart-manifest=get meant to retrieve SLO manifest
  also works in case of DLO manifest. Hence a COPY request with the
  multipart-manifest=get query param would actually copy DLO manifest.

How things should have been:
* The DLO manifest object is supposed to have no content and only have
  X-Object-Manifest metadata header.
* Query param multipart-manifest=get is SLO specific and shouldn't have
  any role in DLO.

This change intends to only document current behaviour and not change it,
assuming there are users who have previously saved some content in DLO
manifest file and/or have been using multipart-manifest=get to fetch
and/or COPY the DLO manifest file with it's content.

Change-Id: I0f6e175ad7752169ecf94df949336e0665928df7
Signed-off-by: Prashanth Pai <ppai@redhat.com>
",git fetch https://review.opendev.org/openstack/swift refs/changes/90/146390/6 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/dlo.py'],1,bf4a11fe1f33c873dac3d28d70b9e71458a71787,dlo-data," if req.content_length not in (None, 0) or \ req.headers.get('transfer-encoding') == 'chunked': return HTTPBadRequest( request=req, body=('Manifest must not contain data.'))",,4,0
openstack%2Fheat~master~Iad75360ec0f7e39672e9725fb0279051cc8854c1,openstack/heat,master,Iad75360ec0f7e39672e9725fb0279051cc8854c1,Move resource group property update tests to functional,MERGED,2015-01-05 05:54:15.000000000,2015-01-23 09:39:39.000000000,2015-01-23 09:39:37.000000000,"[{'_account_id': 3}, {'_account_id': 1633}, {'_account_id': 4571}, {'_account_id': 6577}, {'_account_id': 7634}, {'_account_id': 9542}]","[{'number': 1, 'created': '2015-01-05 05:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3cbb4b3b7b3a718f14f85d826c8423b43910aa54', 'message': 'Move resource group property update tests to functional\n\nPart of blueprint decouple-nested\n\nChange-Id: Iad75360ec0f7e39672e9725fb0279051cc8854c1\n'}, {'number': 2, 'created': '2015-01-06 13:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1602251a04d7f840606d1444ca5010629ce67347', 'message': 'Move resource group property update tests to functional\n\nPart of blueprint decouple-nested\n\nChange-Id: Iad75360ec0f7e39672e9725fb0279051cc8854c1\n'}, {'number': 3, 'created': '2015-01-07 06:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a7745ad58007be3aed5ba81e715cbdebd5f85af1', 'message': 'Move resource group property update tests to functional\n\nPart of blueprint decouple-nested\n\nChange-Id: Iad75360ec0f7e39672e9725fb0279051cc8854c1\n'}, {'number': 4, 'created': '2015-01-12 13:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/174c65642a60cfdca271911ce506072bece6b187', 'message': 'Move resource group property update tests to functional\n\nPart of blueprint decouple-nested\n\nChange-Id: Iad75360ec0f7e39672e9725fb0279051cc8854c1\n'}, {'number': 5, 'created': '2015-01-19 13:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6708e16a6930dd98d07eae806012b2c9940aea90', 'message': 'Move resource group property update tests to functional\n\nPart of blueprint decouple-nested\nChange-Id: Iad75360ec0f7e39672e9725fb0279051cc8854c1\n'}, {'number': 6, 'created': '2015-01-21 00:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/34015b85f3890dec869334ed0a1311774358780d', 'message': 'Move resource group property update tests to functional\n\nPart of blueprint decouple-nested\nChange-Id: Iad75360ec0f7e39672e9725fb0279051cc8854c1\n'}, {'number': 7, 'created': '2015-01-23 05:32:16.000000000', 'files': ['heat_integrationtests/functional/test_resource_group.py', 'heat/tests/test_resource_group.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/bac63f6144c3af9c986ba5ac1a1d7dab5993de30', 'message': 'Move resource group property update tests to functional\n\nPart of blueprint decouple-nested\nChange-Id: Iad75360ec0f7e39672e9725fb0279051cc8854c1\n'}]",0,144928,bac63f6144c3af9c986ba5ac1a1d7dab5993de30,29,6,7,4715,,,0,"Move resource group property update tests to functional

Part of blueprint decouple-nested
Change-Id: Iad75360ec0f7e39672e9725fb0279051cc8854c1
",git fetch https://review.opendev.org/openstack/heat refs/changes/28/144928/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat_integrationtests/functional/test_resource_group.py', 'heat/tests/test_resource_group.py']",2,3cbb4b3b7b3a718f14f85d826c8423b43910aa54,good-to-here-but-more-on-the-way,,"from heat.engine import schedulertemplate_repl2 = { ""heat_template_version"": ""2013-05-23"", ""resources"": { ""group1"": { ""type"": ""OS::Heat::ResourceGroup"", ""properties"": { ""count"": 2, ""resource_def"": { ""type"": ""dummy.resource"", ""properties"": { ""Foo"": ""Bar%index%"" } } } } } } def _create_dummy_stack(self, template_data=template, expect_count=2): stack = utils.parse_stack(template_data) resg = stack['group1'] scheduler.TaskRunner(resg.create)() self.stack = resg.nested() self.assertEqual(expect_count, len(resg.nested())) self.assertEqual((resg.CREATE, resg.COMPLETE), resg.state) return resg def test_props_update(self): """"""Test update of resource_def properties."""""" resg = self._create_dummy_stack() self.assertEqual(2, len(resg.nested())) resource_names = [r.name for r in resg.nested().iter_resources()] self.assertEqual(['0', '1'], sorted(resource_names)) new_snip = copy.deepcopy(resg.t) new_snip['Properties']['resource_def']['properties']['Foo'] = 'xyz' preupdate_resgid = resg.id preupdate_nestedid = resg.nested().id scheduler.TaskRunner(resg.update, new_snip)() self.stack = resg.nested() self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.state) self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.nested().state) self.assertEqual(2, len(resg.nested())) resource_names = [r.name for r in resg.nested().iter_resources()] self.assertEqual(['0', '1'], sorted(resource_names)) # resource_def update should recurse and update (not replace) nested self.assertEqual(preupdate_resgid, resg.id) self.assertEqual(preupdate_nestedid, resg.nested().id) def test_update_nochange(self): """"""Test update with no properties change."""""" resg = self._create_dummy_stack() self.assertEqual(2, len(resg.nested())) resource_names = [r.name for r in resg.nested().iter_resources()] self.assertEqual(['0', '1'], sorted(resource_names)) new_snip = copy.deepcopy(resg.t) scheduler.TaskRunner(resg.update, new_snip)() self.stack = resg.nested() self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.state) self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.nested().state) self.assertEqual(2, len(resg.nested())) resource_names = [r.name for r in resg.nested().iter_resources()] self.assertEqual(['0', '1'], sorted(resource_names)) def test_update_nochange_resource_needs_update(self): """"""Test update when the resource definition has changed."""""" # Test the scenario when the ResourceGroup update happens without # any changed properties, this can happen if the definition of # a contained provider resource changes (files map changes), then # the group and underlying nested stack should end up updated. resg = self._create_dummy_stack() self.assertEqual(2, len(resg.nested())) resource_names = [r.name for r in resg.nested().iter_resources()] self.assertEqual(['0', '1'], sorted(resource_names)) new_snip = copy.deepcopy(resg.t) resg._needs_update = mock.Mock(return_value=True) scheduler.TaskRunner(resg.update, new_snip)() self.stack = resg.nested() self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.state) self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.nested().state) self.assertEqual(2, len(resg.nested())) resource_names = [r.name for r in resg.nested().iter_resources()] self.assertEqual(['0', '1'], sorted(resource_names)) ",113,84
openstack%2Fironic~master~If7ec49540f9c46d96b5b381ebad6e652f5c90af8,openstack/ironic,master,If7ec49540f9c46d96b5b381ebad6e652f5c90af8,Add ipmitool to quickstart guide for Ubuntu,MERGED,2015-01-22 19:53:26.000000000,2015-01-23 09:39:05.000000000,2015-01-23 09:39:03.000000000,"[{'_account_id': 3}, {'_account_id': 3099}, {'_account_id': 6618}, {'_account_id': 7882}, {'_account_id': 10239}, {'_account_id': 12081}]","[{'number': 1, 'created': '2015-01-22 19:53:26.000000000', 'files': ['doc/source/dev/dev-quickstart.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0e95cc1e0327e1b0bb25011eaa10de6536aeba0e', 'message': 'Add ipmitool to quickstart guide for Ubuntu\n\nThe ipmitool package was missing for the Ubuntu package list in\nthe quickstart guide. This has to be installed for the examples.\n\nChange-Id: If7ec49540f9c46d96b5b381ebad6e652f5c90af8\n'}]",2,149381,0e95cc1e0327e1b0bb25011eaa10de6536aeba0e,12,6,1,3099,,,0,"Add ipmitool to quickstart guide for Ubuntu

The ipmitool package was missing for the Ubuntu package list in
the quickstart guide. This has to be installed for the examples.

Change-Id: If7ec49540f9c46d96b5b381ebad6e652f5c90af8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/81/149381/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/dev/dev-quickstart.rst'],1,0e95cc1e0327e1b0bb25011eaa10de6536aeba0e,fix_guide, sudo apt-get install python-dev libssl-dev python-pip libmysqlclient-dev libxml2-dev libxslt-dev libpq-dev git git-review libffi-dev gettext ipmitool psmisc, sudo apt-get install python-dev libssl-dev python-pip libmysqlclient-dev libxml2-dev libxslt-dev libpq-dev git git-review libffi-dev gettext psmisc,1,1
openstack%2Fneutron~master~Ib6316cdda0aed10d8f430790b0c4f909ad833eb0,openstack/neutron,master,Ib6316cdda0aed10d8f430790b0c4f909ad833eb0,Ignore 404 error and lower a warning log to info,MERGED,2015-01-22 07:38:35.000000000,2015-01-23 09:38:03.000000000,2015-01-23 09:38:02.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 7249}, {'_account_id': 7634}, {'_account_id': 7787}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-22 07:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c118bd608943826d76e8f0589178f379066684f1', 'message': 'Ignore 404 error and lower a warning log to info\n\nCloses-Bug: #1413457\nIgnore an expected 404 error. Lower the severity of an informational log entry\nfrom warning to info to avoid polluting the server.log\n\nChange-Id: Ib6316cdda0aed10d8f430790b0c4f909ad833eb0\n'}, {'number': 2, 'created': '2015-01-22 16:49:14.000000000', 'files': ['neutron/plugins/bigswitch/servermanager.py', 'neutron/plugins/ml2/drivers/mech_bigswitch/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/705b76d02db318ecedcbd96d09af9785f14429ee', 'message': 'Ignore 404 error and lower a warning log to info\n\nIgnore an expected 404 error. Lower the severity of an informational log entry\nfrom warning to info to avoid polluting the server.log\n\nCloses-Bug: #1413457\nChange-Id: Ib6316cdda0aed10d8f430790b0c4f909ad833eb0\n'}]",2,149172,705b76d02db318ecedcbd96d09af9785f14429ee,41,22,2,7591,,,0,"Ignore 404 error and lower a warning log to info

Ignore an expected 404 error. Lower the severity of an informational log entry
from warning to info to avoid polluting the server.log

Closes-Bug: #1413457
Change-Id: Ib6316cdda0aed10d8f430790b0c4f909ad833eb0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/149172/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/bigswitch/servermanager.py', 'neutron/plugins/ml2/drivers/mech_bigswitch/driver.py']",2,c118bd608943826d76e8f0589178f379066684f1,bug/1413457, exists = bool(self.servers.rest_get_switch(host)) except servermanager.RemoteRestError: # Connectivity or internal server error. Skip cache to try again on # next binding attempt return," self.servers.rest_get_switch(host) exists = True except servermanager.RemoteRestError as e: if e.status == 404: exists = False else: # Another error, return without caching to try again on # next binding return",14,15
openstack%2Ffuel-library~stable%2F5.1~I20a53f95e2dececcc2d388e2a5c39d48ee789296,openstack/fuel-library,stable/5.1,I20a53f95e2dececcc2d388e2a5c39d48ee789296,Delete tos orphan from ntp.conf,MERGED,2014-12-29 15:54:12.000000000,2015-01-23 09:37:53.000000000,2015-01-23 09:37:52.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7195}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 9387}]","[{'number': 1, 'created': '2014-12-29 15:54:12.000000000', 'files': ['deployment/puppet/ntp/templates/ntp.conf.centosserver.erb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/8040e5cca6e7d2d0ae16e2c8d8396330fd306bb7', 'message': ""Delete tos orphan from ntp.conf\n\nDue to misnomer 'tos orphan' option with local undisciplined clock\nit had deleted from config.\n\nChange-Id: I20a53f95e2dececcc2d388e2a5c39d48ee789296\nCloses-Bug: 1405139\n""}]",0,144319,8040e5cca6e7d2d0ae16e2c8d8396330fd306bb7,12,6,1,11827,,,0,"Delete tos orphan from ntp.conf

Due to misnomer 'tos orphan' option with local undisciplined clock
it had deleted from config.

Change-Id: I20a53f95e2dececcc2d388e2a5c39d48ee789296
Closes-Bug: 1405139
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/19/144319/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/ntp/templates/ntp.conf.centosserver.erb'],1,8040e5cca6e7d2d0ae16e2c8d8396330fd306bb7,bug/1405139,,tos orphan 7 ,0,2
openstack%2Ffuel-library~master~I594a6a7ade6029689232d2946acc28b9dd3b835c,openstack/fuel-library,master,I594a6a7ade6029689232d2946acc28b9dd3b835c,Change references to Mirantis to Fuel in OCF pathes,MERGED,2014-12-22 13:37:23.000000000,2015-01-23 09:34:10.000000000,2015-01-23 09:34:10.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 9546}, {'_account_id': 11090}, {'_account_id': 13343}, {'_account_id': 13344}, {'_account_id': 13948}]","[{'number': 1, 'created': '2014-12-22 13:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/9efd14418e0dd43529b7871fa5d0dbae03dab4dc', 'message': 'Change references to Mirantis to Fuel in OCF pathes\n\nChange-Id: I594a6a7ade6029689232d2946acc28b9dd3b835c\nCloses-Bug: 1402610\n'}, {'number': 2, 'created': '2015-01-07 10:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/cabdcded48483dd157c95440d5581bdfe209ccb9', 'message': 'Change references to Mirantis to Fuel in OCF pathes\n\nChange-Id: I594a6a7ade6029689232d2946acc28b9dd3b835c\nCloses-Bug: 1402610\n'}, {'number': 3, 'created': '2015-01-07 11:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d000d8378c88a39ac7140e13692c3066d230daef', 'message': 'Change references to Mirantis to Fuel in OCF pathes\n\nChange-Id: I594a6a7ade6029689232d2946acc28b9dd3b835c\nCloses-Bug: 1402610\n'}, {'number': 4, 'created': '2015-01-19 08:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/8f9d6cd3918c069b18923e5285f49e445af4f5dd', 'message': 'Change references to Mirantis to Fuel in OCF pathes\n\nChange-Id: I594a6a7ade6029689232d2946acc28b9dd3b835c\nCloses-Bug: 1402610\n'}, {'number': 5, 'created': '2015-01-19 11:39:35.000000000', 'files': ['deployment/puppet/cluster/manifests/haproxy_ocf.pp', 'deployment/puppet/vmware/manifests/ceilometer/ha.pp', 'deployment/puppet/cluster/manifests/init.pp', 'deployment/puppet/vmware/spec/classes/ceilometer_spec.rb', 'deployment/puppet/vmware/manifests/controller.pp', 'deployment/puppet/openstack/manifests/ceilometer.pp', 'deployment/puppet/vmware/manifests/network/nova.pp', 'deployment/puppet/vmware/spec/classes/controller_spec.rb', 'deployment/puppet/vmware/spec/defines/vmware_ceilometer_ha_spec.rb', 'deployment/puppet/vmware/spec/defines/vmware_compute_ha_spec.rb', 'deployment/puppet/galera/manifests/init.pp', 'deployment/puppet/vmware/manifests/compute/ha.pp', 'deployment/puppet/vmware/manifests/ceilometer.pp', 'deployment/puppet/openstack/manifests/ha/haproxy_service.pp', 'deployment/puppet/pacemaker_wrappers/manifests/service.pp', 'deployment/puppet/cluster/manifests/corosync/cs_service.pp', 'deployment/puppet/cluster/manifests/virtual_ip.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/c09228d03a40fd486048d9983dd667ad69754a90', 'message': 'Change references to Mirantis to Fuel in OCF pathes\n\nChange-Id: I594a6a7ade6029689232d2946acc28b9dd3b835c\nCloses-Bug: 1402610\n'}]",0,143440,c09228d03a40fd486048d9983dd667ad69754a90,53,10,5,13948,,,0,"Change references to Mirantis to Fuel in OCF pathes

Change-Id: I594a6a7ade6029689232d2946acc28b9dd3b835c
Closes-Bug: 1402610
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/40/143440/5 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/cluster/manifests/haproxy_ocf.pp', 'deployment/puppet/vmware/manifests/ceilometer/ha.pp', 'deployment/puppet/cluster/manifests/init.pp', 'deployment/puppet/vmware/spec/classes/ceilometer_spec.rb', 'deployment/puppet/vmware/manifests/controller.pp', 'deployment/puppet/openstack/manifests/ceilometer.pp', 'deployment/puppet/vmware/manifests/network/nova.pp', 'deployment/puppet/vmware/spec/classes/controller_spec.rb', 'deployment/puppet/vmware/spec/defines/vmware_ceilometer_ha_spec.rb', 'deployment/puppet/vmware/spec/defines/vmware_compute_ha_spec.rb', 'deployment/puppet/galera/manifests/init.pp', 'deployment/puppet/vmware/manifests/compute/ha.pp', 'deployment/puppet/vmware/manifests/ceilometer.pp', 'deployment/puppet/nova/manifests/rabbitmq.pp', 'deployment/puppet/openstack/manifests/ha/haproxy_service.pp', 'deployment/puppet/cluster/manifests/corosync/cs_service.pp', 'deployment/puppet/cluster/manifests/virtual_ip.pp']",17,9efd14418e0dd43529b7871fa5d0dbae03dab4dc,bug/1402610," provided_by => 'fuel',"," provided_by => 'mirantis',",34,34
openstack%2Frally~master~I07ee593a7ecc7dab2043d6836b3f35474cda024c,openstack/rally,master,I07ee593a7ecc7dab2043d6836b3f35474cda024c,Updated from global requirements,MERGED,2015-01-23 04:39:51.000000000,2015-01-23 09:22:52.000000000,2015-01-23 09:22:49.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 14135}]","[{'number': 1, 'created': '2015-01-23 04:39:51.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/rally/commit/1a559fabc8314c533826c37b0984566c48af63ca', 'message': 'Updated from global requirements\n\nChange-Id: I07ee593a7ecc7dab2043d6836b3f35474cda024c\n'}]",0,149495,1a559fabc8314c533826c37b0984566c48af63ca,9,3,1,11131,,,0,"Updated from global requirements

Change-Id: I07ee593a7ecc7dab2043d6836b3f35474cda024c
",git fetch https://review.opendev.org/openstack/rally refs/changes/95/149495/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,1a559fabc8314c533826c37b0984566c48af63ca,openstack/requirements,oslo.db>=1.4.1 # Apache-2.0 oslo.i18n>=1.3.0 # Apache-2.0,oslo.db>=1.3.0 # Apache-2.0 oslo.i18n>=1.0.0 # Apache-2.0,2,2
openstack%2Ftaskflow~master~Ic2987c6f4393a5398065de883bdb15ffec923451,openstack/taskflow,master,Ic2987c6f4393a5398065de883bdb15ffec923451,WBE documentation tweaks/adjustments,MERGED,2015-01-21 23:33:26.000000000,2015-01-23 09:20:33.000000000,2015-01-23 09:20:32.000000000,"[{'_account_id': 3}, {'_account_id': 1297}]","[{'number': 1, 'created': '2015-01-21 23:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/108fcfc18dadd23f4c7b7445e0c7a940947233ae', 'message': 'WBE documentation tweaks/adjustments\n\nInclude the protocol code/classes (and the json schema that\nis used for validation) in the docs; adjust the examples to\nbe after the protocol definition/classes. Some other small\nwording tweaks as well.\n\nChange-Id: Ic2987c6f4393a5398065de883bdb15ffec923451\n'}, {'number': 2, 'created': '2015-01-22 05:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/1ee8930d4f354545ee89b45ff2ef353ef7c79005', 'message': 'WBE documentation tweaks/adjustments\n\nInclude the protocol code/classes (and the json schema that\nis used for validation) in the docs; adjust the examples to\nbe after the protocol definition/classes. Some other small\nwording tweaks as well.\n\nChange-Id: Ic2987c6f4393a5398065de883bdb15ffec923451\n'}, {'number': 3, 'created': '2015-01-23 07:26:09.000000000', 'files': ['doc/source/workers.rst', 'taskflow/engines/worker_based/protocol.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/067246771f4e7133c12ab15b0ee6aadd040f6793', 'message': 'WBE documentation tweaks/adjustments\n\nInclude the protocol code/classes (and the json schema that\nis used for validation) in the docs; adjust the examples to\nbe after the protocol definition/classes. Some other small\nwording tweaks as well.\n\nChange-Id: Ic2987c6f4393a5398065de883bdb15ffec923451\n'}]",0,149081,067246771f4e7133c12ab15b0ee6aadd040f6793,11,2,3,1297,,,0,"WBE documentation tweaks/adjustments

Include the protocol code/classes (and the json schema that
is used for validation) in the docs; adjust the examples to
be after the protocol definition/classes. Some other small
wording tweaks as well.

Change-Id: Ic2987c6f4393a5398065de883bdb15ffec923451
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/81/149081/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/workers.rst', 'taskflow/engines/worker_based/protocol.py']",2,108fcfc18dadd23f4c7b7445e0c7a940947233ae,," #: String constant representing this message type. #: Expected notify *response* message schema (in json schema format). RESPONSE_SCHEMA = { #: Expected *sender* request message schema (in json schema format). SENDER_SCHEMA = { schema = cls.RESPONSE_SCHEMA else: schema = cls.SENDER_SCHEMA #: String constant representing this message type. #: Expected message schema (in json schema format). SCHEMA = { jsonschema.validate(data, cls.SCHEMA, types=_SCHEMA_TYPES) #: String constant representing this message type. #: Expected message schema (in json schema format). SCHEMA = { jsonschema.validate(data, cls.SCHEMA, types=_SCHEMA_TYPES)"," _RESPONSE_SCHEMA = { _SENDER_SCHEMA = { schema = cls._RESPONSE_SCHEMA else: schema = cls._SENDER_SCHEMA _SCHEMA = { jsonschema.validate(data, cls._SCHEMA, types=_SCHEMA_TYPES) _SCHEMA = { jsonschema.validate(data, cls._SCHEMA, types=_SCHEMA_TYPES)",83,60
openstack%2Ffuel-main~master~Iabb34a738b0a534006b1fc8019ca6e9584a56ecf,openstack/fuel-main,master,Iabb34a738b0a534006b1fc8019ca6e9584a56ecf,Get rid of using reprepro repos,ABANDONED,2014-09-03 09:50:45.000000000,2015-01-23 09:12:17.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 9582}]","[{'number': 1, 'created': '2014-09-03 09:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/286393785dc7955257bb04ecbf3c5472f0710278', 'message': 'Get rid of using reprepro\n\nChange-Id: Iabb34a738b0a534006b1fc8019ca6e9584a56ecf\n'}, {'number': 2, 'created': '2014-09-03 09:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/22ac776e4434c21e62a286a37bf2851097c4bf32', 'message': 'Get rid of using reprepro repos\n\nChange-Id: Iabb34a738b0a534006b1fc8019ca6e9584a56ecf'}, {'number': 3, 'created': '2014-10-01 17:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/ae6862efbdff7840c52ccb874d5ffd291da0c1fa', 'message': 'Get rid of using reprepro repos\n\nChange-Id: Iabb34a738b0a534006b1fc8019ca6e9584a56ecf'}, {'number': 4, 'created': '2014-10-01 17:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/a0de31d717ba7184c991d4789ef18d0a45f6195d', 'message': 'Get rid of using reprepro repos\n\nChange-Id: Iabb34a738b0a534006b1fc8019ca6e9584a56ecf\n'}, {'number': 5, 'created': '2014-10-10 12:30:09.000000000', 'files': ['config.mk', 'mirror/ubuntu/createchroot.mk'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/59d2f91f79367d8dac5b67e4f42375cea90e615a', 'message': 'Get rid of using reprepro repos\n\nChange-Id: Iabb34a738b0a534006b1fc8019ca6e9584a56ecf\n'}]",0,118585,59d2f91f79367d8dac5b67e4f42375cea90e615a,26,3,5,9582,,,0,"Get rid of using reprepro repos

Change-Id: Iabb34a738b0a534006b1fc8019ca6e9584a56ecf
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/85/118585/5 && git format-patch -1 --stdout FETCH_HEAD,"['config.mk', 'mirror/ubuntu/createchroot.mk']",2,286393785dc7955257bb04ecbf3c5472f0710278,, echo deb $(MIRROR_FUEL_UBUNTU) / | sudo tee $(LOCAL_MIRROR_UBUNTU_OS_BASEURL)/chroot/etc/apt/sources.list.d/mirantis.list; \, echo deb $(MIRROR_FUEL_UBUNTU) $(UBUNTU_RELEASE) main | sudo tee $(LOCAL_MIRROR_UBUNTU_OS_BASEURL)/chroot/etc/apt/sources.list.d/mirantis.list; \,2,2
openstack%2Frally~master~I8861a84d2bb607347162f5fb96516a025099f1b2,openstack/rally,master,I8861a84d2bb607347162f5fb96516a025099f1b2,Add cinder scenario: create volume from volume(clone),MERGED,2015-01-15 10:32:59.000000000,2015-01-23 09:09:36.000000000,2015-01-23 09:09:33.000000000,"[{'_account_id': 3}, {'_account_id': 7369}, {'_account_id': 8507}, {'_account_id': 9601}, {'_account_id': 13636}, {'_account_id': 14135}]","[{'number': 1, 'created': '2015-01-15 10:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d1bbc5f8514e80c2f80aecc7ab25b3b633f4b19b', 'message': 'Add cinder scenario: create volume from volume(clone)\n\nChange-Id: I8861a84d2bb607347162f5fb96516a025099f1b2\n'}, {'number': 2, 'created': '2015-01-15 17:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/70806558c1158ed4619a2f9303ff965b8e5a9e8d', 'message': 'Add cinder scenario: create volume from volume(clone)\n\nChange-Id: I8861a84d2bb607347162f5fb96516a025099f1b2\n'}, {'number': 3, 'created': '2015-01-15 17:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8d8a3af952019239764c32de009ec3882d2ea996', 'message': 'Add cinder scenario: create volume from volume(clone)\n\nChange-Id: I8861a84d2bb607347162f5fb96516a025099f1b2\n'}, {'number': 4, 'created': '2015-01-19 10:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d515cc260777bf61cda87d76ecb9bd508b0481fd', 'message': 'Add cinder scenario: create volume from volume(clone)\n\nChange-Id: I8861a84d2bb607347162f5fb96516a025099f1b2\n'}, {'number': 5, 'created': '2015-01-20 11:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/db8895d124d1dcfa251f68b5228de4ee7e373856', 'message': 'Add cinder scenario: create volume from volume(clone)\n\nChange-Id: I8861a84d2bb607347162f5fb96516a025099f1b2\n'}, {'number': 6, 'created': '2015-01-21 10:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/1b520e3d86d3265d0a09b2dc10005cf250ab5539', 'message': 'Add cinder scenario: create volume from volume(clone)\n\nChange-Id: I8861a84d2bb607347162f5fb96516a025099f1b2\n'}, {'number': 7, 'created': '2015-01-21 10:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f2ae2d164314cbb477d12b4f1b66ae157d74b9bc', 'message': 'Add cinder scenario: create volume from volume(clone)\n\nChange-Id: I8861a84d2bb607347162f5fb96516a025099f1b2\n'}, {'number': 8, 'created': '2015-01-21 12:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/19977ff62e90f7fa78a44b7c9390db004735a143', 'message': 'Add cinder scenario: create volume from volume(clone)\n\nChange-Id: I8861a84d2bb607347162f5fb96516a025099f1b2\n'}, {'number': 9, 'created': '2015-01-21 12:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9ab5b6f7d770bc0c4700366674ffe40875eb4c8a', 'message': 'Add cinder scenario: create volume from volume(clone)\n\nChange-Id: I8861a84d2bb607347162f5fb96516a025099f1b2\n'}, {'number': 10, 'created': '2015-01-21 13:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/faed342cc317046e15c244d9c5dbb2681d7fd346', 'message': 'Add cinder scenario: create volume from volume(clone)\n\nChange-Id: I8861a84d2bb607347162f5fb96516a025099f1b2\n'}, {'number': 11, 'created': '2015-01-22 13:42:39.000000000', 'files': ['samples/tasks/scenarios/cinder/create-from-volume-and-delete-volume.yaml', 'tests/unit/benchmark/scenarios/cinder/test_volumes.py', 'rally/benchmark/scenarios/cinder/volumes.py', 'samples/tasks/scenarios/cinder/create-from-volume-and-delete-volume.json', 'rally-jobs/rally-neutron.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/67ed016a73d724f4ad513f924062564c105067e1', 'message': 'Add cinder scenario: create volume from volume(clone)\n\nChange-Id: I8861a84d2bb607347162f5fb96516a025099f1b2\n'}]",0,147449,67ed016a73d724f4ad513f924062564c105067e1,40,6,11,13636,,,0,"Add cinder scenario: create volume from volume(clone)

Change-Id: I8861a84d2bb607347162f5fb96516a025099f1b2
",git fetch https://review.opendev.org/openstack/rally refs/changes/49/147449/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/benchmark/scenarios/cinder/volumes.py', 'tests/unit/benchmark/scenarios/cinder/test_volumes.py', 'doc/samples/tasks/scenarios/cinder/create-from-volume-and-delete-volume.yaml', 'doc/samples/tasks/scenarios/cinder/create-from-volume-and-delete-volume.json', 'rally-jobs/rally-neutron.yaml']",5,d1bbc5f8514e80c2f80aecc7ab25b3b633f4b19b,cinder-scenarios," CinderVolumes.create_from_volume_and_delete_volume: - args: size: 1 runner: type: ""constant"" times: 2 concurrency: 2 context: users: tenants: 2 users_per_tenant: 2 sla: failure_rate: max: 0 ",,90,0
openstack%2Frally~master~Idb2f80efa24d6f721bbdafc4644afc68d59552ac,openstack/rally,master,Idb2f80efa24d6f721bbdafc4644afc68d59552ac,Add image arg for creating volume from image,MERGED,2015-01-13 11:10:55.000000000,2015-01-23 09:06:59.000000000,2015-01-23 09:06:55.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 6172}, {'_account_id': 7369}, {'_account_id': 8507}, {'_account_id': 9601}, {'_account_id': 13636}, {'_account_id': 14135}]","[{'number': 1, 'created': '2015-01-13 11:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/32c74f6a018908290e714983b83a4d298034ea62', 'message': 'Add cinder scenario: create volume from image\n\nChange-Id: Idb2f80efa24d6f721bbdafc4644afc68d59552ac\n'}, {'number': 2, 'created': '2015-01-15 09:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a35df6db97bb680cbf535b4c4ed317d02a9df8c2', 'message': 'Add cinder scenario: create volume from image\n\nChange-Id: Idb2f80efa24d6f721bbdafc4644afc68d59552ac\n'}, {'number': 3, 'created': '2015-01-15 17:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2c2f3ff29799b5085a6854e8146daa3d9b0f9ea2', 'message': 'Add cinder scenario: create volume from image\n\nChange-Id: Idb2f80efa24d6f721bbdafc4644afc68d59552ac\n'}, {'number': 4, 'created': '2015-01-15 17:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/1737b56ce3af171899da77ee2779d7cf6be23d8c', 'message': 'Add cinder scenario: create volume from image\n\nChange-Id: Idb2f80efa24d6f721bbdafc4644afc68d59552ac\n'}, {'number': 5, 'created': '2015-01-19 10:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d3e2d73a24148466555ea468eba8c039a8278164', 'message': 'Add cinder scenario: create volume from image\n\nChange-Id: Idb2f80efa24d6f721bbdafc4644afc68d59552ac\n'}, {'number': 6, 'created': '2015-01-20 11:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/811adb3d39e3eb528d3634be0444fbd53639c9cc', 'message': 'Change cinder scenario: create and delete volume\n\nAdd new arg for creating volume from image.\n\nChange-Id: Idb2f80efa24d6f721bbdafc4644afc68d59552ac\n'}, {'number': 7, 'created': '2015-01-21 10:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d11e93890800173a05421fd59c742731da8a86bf', 'message': 'Change cinder scenario: create and delete volume\n\nAdd new arg for creating volume from image.\n\nChange-Id: Idb2f80efa24d6f721bbdafc4644afc68d59552ac\n'}, {'number': 8, 'created': '2015-01-21 12:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/54e1b415e61eb176537d3d652795214ca2efc3a1', 'message': 'Add image arg for creating volume from image\n\nThis change adds image arg to next scenarios: create_volume,\ncreate_and_delete_volume, create_and_list_volume.\n\nChange-Id: Idb2f80efa24d6f721bbdafc4644afc68d59552ac\n'}, {'number': 9, 'created': '2015-01-21 12:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8c864c93ca35fba0d1e35c019d20d72463d3896a', 'message': 'Add image arg for creating volume from image\n\nThis change adds image arg to next scenarios: create_volume,\ncreate_and_delete_volume, create_and_list_volume.\n\nChange-Id: Idb2f80efa24d6f721bbdafc4644afc68d59552ac\n'}, {'number': 10, 'created': '2015-01-21 13:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a03793dec9c3b88f0b898ba63f9ff0ea4f2c8844', 'message': 'Add image arg for creating volume from image\n\nThis change adds image arg to next scenarios: create_volume,\ncreate_and_delete_volume, create_and_list_volume.\n\nChange-Id: Idb2f80efa24d6f721bbdafc4644afc68d59552ac\n'}, {'number': 11, 'created': '2015-01-22 13:42:39.000000000', 'files': ['rally/benchmark/validation.py', 'samples/tasks/scenarios/cinder/create-from-image-and-delete-volume.json', 'tests/unit/benchmark/scenarios/cinder/test_volumes.py', 'rally/benchmark/scenarios/cinder/volumes.py', 'samples/tasks/scenarios/cinder/create-from-image-and-delete-volume.yaml', 'tests/unit/benchmark/test_validation.py', 'rally-jobs/rally-neutron.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/a1c8e313bc597b83613cd44fe55c5d458ea43daf', 'message': 'Add image arg for creating volume from image\n\nThis change adds image arg to next scenarios: create_volume,\ncreate_and_delete_volume, create_and_list_volume.\nAdd nullable arg to image_exists for specify image require.\n\nChange-Id: Idb2f80efa24d6f721bbdafc4644afc68d59552ac\n'}]",16,146820,a1c8e313bc597b83613cd44fe55c5d458ea43daf,77,8,11,13636,,,0,"Add image arg for creating volume from image

This change adds image arg to next scenarios: create_volume,
create_and_delete_volume, create_and_list_volume.
Add nullable arg to image_exists for specify image require.

Change-Id: Idb2f80efa24d6f721bbdafc4644afc68d59552ac
",git fetch https://review.opendev.org/openstack/rally refs/changes/20/146820/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/samples/tasks/scenarios/cinder/create_and_delete_volume_from_image.json', 'doc/samples/tasks/scenarios/cinder/create_and_delete_volume_from_image.yaml', 'rally/benchmark/scenarios/cinder/volumes.py', 'tests/unit/benchmark/scenarios/cinder/test_volumes.py', 'rally-jobs/rally-neutron.yaml']",5,32c74f6a018908290e714983b83a4d298034ea62,cinder-scenarios," CinderVolumes.create_and_delete_volume_from_image: - args: size: 1 image: name: ""^cirros.*uec$"" runner: type: ""constant"" times: 3 concurrency: 2 context: users: tenants: 2 users_per_tenant: 2 sla: failure_rate: max: 0 ",,92,0
openstack%2Ftaskflow~master~If25b5c6402aff6e294886cc6c5f248413183c4e4,openstack/taskflow,master,If25b5c6402aff6e294886cc6c5f248413183c4e4,Add a WBE request state diagram + explanation,MERGED,2015-01-21 21:09:15.000000000,2015-01-23 08:59:51.000000000,2015-01-23 08:59:50.000000000,"[{'_account_id': 3}, {'_account_id': 1297}]","[{'number': 1, 'created': '2015-01-21 21:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/6fe3d412fb5e72f162b42ca91e6969b59615d35a', 'message': 'Add a wbe request state diagram + explanation\n\nTo make it more clear what the wbe request states are\nand what they imply/mean add the appropriate documentation\nand diagram that explains it and its states/concepts.\n\nChange-Id: If25b5c6402aff6e294886cc6c5f248413183c4e4\n'}, {'number': 2, 'created': '2015-01-21 21:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/308ea9ade112ee8d9e3f9ba59ecab5cc1189ec7a', 'message': 'Add a wbe request state diagram + explanation\n\nTo make it more clear what the wbe request states are\nand what they imply/mean add the appropriate documentation\nand diagram that explains it and its states/concepts.\n\nChange-Id: If25b5c6402aff6e294886cc6c5f248413183c4e4\n'}, {'number': 3, 'created': '2015-01-21 21:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f5d3dbb4da101a04e71254d8d8ffeff5d11e0848', 'message': 'Add a wbe request state diagram + explanation\n\nTo make it more clear what the wbe request states are\nand what they imply/mean add the appropriate documentation\nand diagram that explains it and its states/concepts.\n\nChange-Id: If25b5c6402aff6e294886cc6c5f248413183c4e4\n'}, {'number': 4, 'created': '2015-01-22 05:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/801f5e3d81f05d2749d9ba2ebea1aef63b68e678', 'message': 'Add a WBE request state diagram + explanation\n\nTo make it more clear what the WBE request states are\nand what they imply/mean add the appropriate documentation\nand diagram that explains it and its states/concepts.\n\nChange-Id: If25b5c6402aff6e294886cc6c5f248413183c4e4\n'}, {'number': 5, 'created': '2015-01-23 07:26:00.000000000', 'files': ['tools/state_graph.py', 'doc/source/workers.rst', 'doc/source/img/wbe_request_states.svg', 'tools/generate_states.sh'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/55ad11f278e2eb4133486fa817eca292ec1fec8a', 'message': 'Add a WBE request state diagram + explanation\n\nTo make it more clear what the WBE request states are\nand what they imply/mean add the appropriate documentation\nand diagram that explains it and its states/concepts.\n\nChange-Id: If25b5c6402aff6e294886cc6c5f248413183c4e4\n'}]",0,149050,55ad11f278e2eb4133486fa817eca292ec1fec8a,13,2,5,1297,,,0,"Add a WBE request state diagram + explanation

To make it more clear what the WBE request states are
and what they imply/mean add the appropriate documentation
and diagram that explains it and its states/concepts.

Change-Id: If25b5c6402aff6e294886cc6c5f248413183c4e4
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/50/149050/5 && git format-patch -1 --stdout FETCH_HEAD,"['tools/state_graph.py', 'doc/source/workers.rst', 'tools/generate_states.sh']",3,6fe3d412fb5e72f162b42ca91e6969b59615d35a,," echo ""---- Updating wbe request state diagram ----"" python $script_dir/state_graph.py -w -f /tmp/states.svg $xsltproc $PWD/.diagram-tools/notugly.xsl /tmp/states.svg > $img_dir/wbe_request_states.svg",,68,4
openstack%2Fneutron~master~Iad7460356ceb74d963cddf5ec33268d77792f1fe,openstack/neutron,master,Iad7460356ceb74d963cddf5ec33268d77792f1fe,Use db constraint to ensure mac address uniqueness,MERGED,2015-01-12 09:43:59.000000000,2015-01-23 08:41:40.000000000,2015-01-23 08:41:38.000000000,"[{'_account_id': 3}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6072}, {'_account_id': 6524}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7249}, {'_account_id': 7743}, {'_account_id': 7787}, {'_account_id': 7805}, {'_account_id': 8124}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-12 09:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1845a2f2166403f3d38ba476b5810b0f3948104', 'message': 'Use db constraint to ensure mac address uniqueness\n\nCurrently port mac address uniqueness per network is checked before Port\ndb object create but without locking. It implies 2 port create requests\ncan allocate the same mac address on a network if each request performs\nmac address uniqueness check before the other creates the Port db object.\n\nThis change replaces the check by a db unique constraint on Port\n(network_id, mac_address).\n\nChange-Id: Iad7460356ceb74d963cddf5ec33268d77792f1fe\nCloses-Bug: #1194565\n'}, {'number': 2, 'created': '2015-01-12 09:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5508f4902e03a3b0db5d212f3d6f496570b2cac6', 'message': 'Use db constraint to ensure mac address uniqueness\n\nCurrently port mac address uniqueness per network is checked before Port\ndb object create but without locking. It implies 2 port create requests\ncan allocate the same mac address on a network if each request performs\nmac address uniqueness check before the other creates the Port db object.\n\nThis change replaces the check by a db unique constraint on Port\n(network_id, mac_address).\n\nChange-Id: Iad7460356ceb74d963cddf5ec33268d77792f1fe\nCloses-Bug: #1194565\n'}, {'number': 3, 'created': '2015-01-12 12:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/11a16f0b45297331efe9212360f0f1add4ce2a5e', 'message': 'Use db constraint to ensure mac address uniqueness\n\nCurrently port mac address uniqueness per network is checked before Port\ndb object create but without locking. It implies 2 port create requests\ncan allocate the same mac address on a network if each request performs\nmac address uniqueness check before the other creates the Port db object.\n\nThis change replaces the check by a db unique constraint on Port\n(network_id, mac_address).\n\nChange-Id: Iad7460356ceb74d963cddf5ec33268d77792f1fe\nCloses-Bug: #1194565\n'}, {'number': 4, 'created': '2015-01-12 13:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/db19a6fce283cb21072adddb4112c97786c0fa32', 'message': 'Use db constraint to ensure mac address uniqueness\n\nCurrently port mac address uniqueness per network is checked before Port\ndb object create but without locking. It implies 2 port create requests\ncan allocate the same mac address on a network if each request performs\nmac address uniqueness check before the other creates the Port db object.\n\nThis change replaces the check by a db unique constraint on Port\n(network_id, mac_address).\n\nChange-Id: Iad7460356ceb74d963cddf5ec33268d77792f1fe\nCloses-Bug: #1194565\n'}, {'number': 5, 'created': '2015-01-13 13:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/591cb180907d83971dd47dd5baf80fbea98a7216', 'message': 'Use db constraint to ensure mac address uniqueness\n\nCurrently port mac address uniqueness per network is checked before Port\ndb object create but without locking. It implies 2 port create requests\ncan allocate the same mac address on a network if each request performs\nmac address uniqueness check before the other creates the Port db object.\n\nThis change replaces the check by a db unique constraint on Port\n(network_id, mac_address).\n\nChange-Id: Iad7460356ceb74d963cddf5ec33268d77792f1fe\nCloses-Bug: #1194565\n'}, {'number': 6, 'created': '2015-01-13 14:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c8521c9f35ba0fa97fb9a0146ea0862787696466', 'message': 'Use db constraint to ensure mac address uniqueness\n\nCurrently port mac address uniqueness per network is checked before Port\ndb object create but without locking. It implies 2 port create requests\ncan allocate the same mac address on a network if each request performs\nmac address uniqueness check before the other creates the Port db object.\n\nThis change replaces the check by a db unique constraint on Port\n(network_id, mac_address).\n\nChange-Id: Iad7460356ceb74d963cddf5ec33268d77792f1fe\nCloses-Bug: #1194565\n'}, {'number': 7, 'created': '2015-01-13 16:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cce762be2f5637c025e1d306fb286e4f7bd67ef8', 'message': 'Use db constraint to ensure mac address uniqueness\n\nCurrently port mac address uniqueness per network is checked before Port\ndb object create but without locking. It implies 2 port create requests\ncan allocate the same mac address on a network if each request performs\nmac address uniqueness check before the other creates the Port db object.\n\nThis change replaces the check by a db unique constraint on Port\n(network_id, mac_address).\n\nChange-Id: Iad7460356ceb74d963cddf5ec33268d77792f1fe\nCloses-Bug: #1194565\n'}, {'number': 8, 'created': '2015-01-14 21:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed2e9544ca39759aba1bbf22073b6b3fa0fec7d1', 'message': 'Use db constraint to ensure mac address uniqueness\n\nCurrently port mac address uniqueness per network is checked before Port\ndb object create but without locking. It implies 2 port create requests\ncan allocate the same mac address on a network if each request performs\nmac address uniqueness check before the other creates the Port db object.\n\nThis change replaces the check by a db unique constraint on Port\n(network_id, mac_address).\n\nChange-Id: Iad7460356ceb74d963cddf5ec33268d77792f1fe\nCloses-Bug: #1194565\n'}, {'number': 9, 'created': '2015-01-14 21:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/520dee464a72e5a4704a070558a49fe1b63a0479', 'message': 'Use db constraint to ensure mac address uniqueness\n\nCurrently port mac address uniqueness per network is checked before Port\ndb object create but without locking. It implies 2 port create requests\ncan allocate the same mac address on a network if each request performs\nmac address uniqueness check before the other creates the Port db object.\n\nThis change replaces the check by a db unique constraint on Port\n(network_id, mac_address).\n\nChange-Id: Iad7460356ceb74d963cddf5ec33268d77792f1fe\nCloses-Bug: #1194565\n'}, {'number': 10, 'created': '2015-01-15 12:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed246af0ee88b1cd8032b6b36241d9586fc215cc', 'message': 'Use db constraint to ensure mac address uniqueness\n\nCurrently port mac address uniqueness per network is checked before Port\ndb object create but without locking. It implies 2 port create requests\ncan allocate the same mac address on a network if each request performs\nmac address uniqueness check before the other creates the Port db object.\n\nThis change replaces the check by a db unique constraint on Port\n(network_id, mac_address).\n\nChange-Id: Iad7460356ceb74d963cddf5ec33268d77792f1fe\nCloses-Bug: #1194565\n'}, {'number': 11, 'created': '2015-01-20 09:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1abb58272473362b8c14d4d26c135b8cd6cbb444', 'message': 'Use db constraint to ensure mac address uniqueness\n\nCurrently port mac address uniqueness per network is checked before Port\ndb object create but without locking. It implies 2 port create requests\ncan allocate the same mac address on a network if each request performs\nmac address uniqueness check before the other creates the Port db object.\n\nThis change replaces the check by a db unique constraint on Port\n(network_id, mac_address).\n\nChange-Id: Iad7460356ceb74d963cddf5ec33268d77792f1fe\nCloses-Bug: #1194565\n'}, {'number': 12, 'created': '2015-01-22 19:09:57.000000000', 'files': ['neutron/tests/unit/metaplugin/test_metaplugin.py', 'neutron/tests/unit/test_db_plugin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/models_v2.py', 'neutron/tests/unit/ml2/db/test_ml2_db.py', 'neutron/db/migration/alembic_migrations/versions/HEAD', 'neutron/db/migration/alembic_migrations/versions/2a1ee2fb59e0_add_mac_address_unique_constraint.py', 'neutron/tests/unit/ml2/db/test_ml2_dvr_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/09fe057cd475fe9068339f9805fa855476e248bf', 'message': 'Use db constraint to ensure mac address uniqueness\n\nCurrently port mac address uniqueness per network is checked before Port\ndb object create but without locking. It implies 2 port create requests\ncan allocate the same mac address on a network if each request performs\nmac address uniqueness check before the other creates the Port db object.\n\nThis change replaces the check by a db unique constraint on Port\n(network_id, mac_address).\n\nChange-Id: Iad7460356ceb74d963cddf5ec33268d77792f1fe\nCloses-Bug: #1194565\n'}]",30,146404,09fe057cd475fe9068339f9805fa855476e248bf,236,34,12,8124,,,0,"Use db constraint to ensure mac address uniqueness

Currently port mac address uniqueness per network is checked before Port
db object create but without locking. It implies 2 port create requests
can allocate the same mac address on a network if each request performs
mac address uniqueness check before the other creates the Port db object.

This change replaces the check by a db unique constraint on Port
(network_id, mac_address).

Change-Id: Iad7460356ceb74d963cddf5ec33268d77792f1fe
Closes-Bug: #1194565
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/146404/12 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/metaplugin/test_metaplugin.py', 'neutron/tests/unit/test_db_plugin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/models_v2.py', 'neutron/db/migration/alembic_migrations/versions/HEAD', 'neutron/db/migration/alembic_migrations/versions/2a1ee2fb59e0_add_mac_address_unique_constraint.py']",6,b1845a2f2166403f3d38ba476b5810b0f3948104,bug/1194565,"# Copyright 2015 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # """"""Add mac_address unique constraint Revision ID: 2a1ee2fb59e0 Revises: 41662e32bce2 Create Date: 2015-01-10 11:44:27.550349 """""" # revision identifiers, used by Alembic. revision = '2a1ee2fb59e0' down_revision = '41662e32bce2' from alembic import op TABLE_NAME = 'ports' CONSTRAINT_NAME = 'uniq_ports0network_id0mac_address' def upgrade(): op.create_unique_constraint( name=CONSTRAINT_NAME, source=TABLE_NAME, local_cols=['network_id', 'mac_address'] ) def downgrade(): op.drop_constraint( name=CONSTRAINT_NAME, source=TABLE_NAME, local_cols=['network_id', 'mac_address'] ) ",,113,69
openstack%2Fhorizon~stable%2Fjuno~Iccd0e2dfb545a95cb1b9a809187103bb3a5a76a7,openstack/horizon,stable/juno,Iccd0e2dfb545a95cb1b9a809187103bb3a5a76a7,Disable router HA attribute due to Neutron bug,MERGED,2014-10-25 14:00:04.000000000,2015-01-23 08:39:16.000000000,2015-01-23 08:39:15.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1941}, {'_account_id': 1955}, {'_account_id': 2455}, {'_account_id': 4264}, {'_account_id': 6610}, {'_account_id': 6914}, {'_account_id': 7012}, {'_account_id': 7634}, {'_account_id': 9656}, {'_account_id': 9981}, {'_account_id': 12826}, {'_account_id': 13325}]","[{'number': 1, 'created': '2014-10-25 14:00:04.000000000', 'files': ['openstack_dashboard/dashboards/project/routers/tests.py', 'openstack_dashboard/dashboards/project/routers/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/bca0f47d14a096521cd59d6403c8dbeb3112282e', 'message': 'Disable router HA attribute due to Neutron bug\n\nCloses-Bug: #1378525\n(cherry picked from commit 03c562736b984d8a3478c06bb1f8d9c1dbe5f537)\n\nConflicts:\n\topenstack_dashboard/dashboards/project/routers/tests.py\n\nChange-Id: Iccd0e2dfb545a95cb1b9a809187103bb3a5a76a7\n'}]",0,130947,bca0f47d14a096521cd59d6403c8dbeb3112282e,19,14,1,841,,,0,"Disable router HA attribute due to Neutron bug

Closes-Bug: #1378525
(cherry picked from commit 03c562736b984d8a3478c06bb1f8d9c1dbe5f537)

Conflicts:
	openstack_dashboard/dashboards/project/routers/tests.py

Change-Id: Iccd0e2dfb545a95cb1b9a809187103bb3a5a76a7
",git fetch https://review.opendev.org/openstack/horizon refs/changes/47/130947/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/routers/tests.py', 'openstack_dashboard/dashboards/project/routers/forms.py']",2,bca0f47d14a096521cd59d6403c8dbeb3112282e,bug/1378525," # TODO(amotoki): Due to Neutron Bug 1378525, Neutron disables # PUT operation. It will be fixed in Kilo cycle. # self.ha_allowed = api.neutron.get_feature_permission( # self.request, ""l3-ha"", ""update"") self.ha_allowed = False"," self.ha_allowed = api.neutron.get_feature_permission(self.request, ""l3-ha"", ""update"")",22,14
openstack%2Fhorizon~master~I390b8f68563baa7340cad03cbfe7120c1dd8469a,openstack/horizon,master,I390b8f68563baa7340cad03cbfe7120c1dd8469a,Imported Translations from Transifex,MERGED,2015-01-23 06:07:03.000000000,2015-01-23 08:39:04.000000000,2015-01-23 08:39:02.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 6914}]","[{'number': 1, 'created': '2015-01-23 06:07:03.000000000', 'files': ['openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'horizon/locale/ko_KR/LC_MESSAGES/djangojs.po', 'horizon/locale/ko_KR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/27ebcc27d9f9669c007f5157f3e959de8402d13c', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I390b8f68563baa7340cad03cbfe7120c1dd8469a\n'}]",0,149506,27ebcc27d9f9669c007f5157f3e959de8402d13c,7,3,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I390b8f68563baa7340cad03cbfe7120c1dd8469a
",git fetch https://review.opendev.org/openstack/horizon refs/changes/06/149506/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'horizon/locale/ko_KR/LC_MESSAGES/djangojs.po', 'horizon/locale/ko_KR/LC_MESSAGES/django.po']",4,27ebcc27d9f9669c007f5157f3e959de8402d13c,transifex/translations,"""POT-Creation-Date: 2015-01-22 00:01-0600\n"" ""PO-Revision-Date: 2015-01-23 02:27+0000\n"" ""Last-Translator: Sungjin Kang <potopro@gmail.com>\n""","""POT-Creation-Date: 2015-01-20 22:33-0600\n"" ""PO-Revision-Date: 2015-01-21 02:51+0000\n"" ""Last-Translator: Ian Y. Choi <ianyrchoi@gmail.com>\n""",50,50
openstack%2Fhorizon~master~Ifb1c9b6b25b01bb41d97764c109c76df60330a89,openstack/horizon,master,Ifb1c9b6b25b01bb41d97764c109c76df60330a89,Removing dead css,MERGED,2015-01-22 22:47:53.000000000,2015-01-23 08:36:37.000000000,2015-01-23 08:36:35.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 12826}, {'_account_id': 13086}]","[{'number': 1, 'created': '2015-01-22 22:47:53.000000000', 'files': ['openstack_dashboard/static/dashboard/scss/horizon.scss'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6fff51070470195d935c73f1351827f08fabe213', 'message': 'Removing dead css\n\nThe picker was relocated long ago, this css is no longer used and\nshould be removed.\n\nChange-Id: Ifb1c9b6b25b01bb41d97764c109c76df60330a89\nCloses-Bug: #1413783\n'}]",0,149419,6fff51070470195d935c73f1351827f08fabe213,10,6,1,5623,,,0,"Removing dead css

The picker was relocated long ago, this css is no longer used and
should be removed.

Change-Id: Ifb1c9b6b25b01bb41d97764c109c76df60330a89
Closes-Bug: #1413783
",git fetch https://review.opendev.org/openstack/horizon refs/changes/19/149419/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/static/dashboard/scss/horizon.scss'],1,6fff51070470195d935c73f1351827f08fabe213,remove-dead-css,,.sidebar .switcher_bar { width: 190px; height: 38px; padding: 5px 0; margin-left: 14px; margin-bottom: 15px; } .sidebar .switcher_bar a.dropdown-toggle { display: block; padding: 5px 0; background-image: url(../img/drop_arrow.png); border: 1px solid #c0d9e4; background-color: #e9f5fa; background-repeat: no-repeat; background-position: 167px 23px; } .sidebar .switcher_bar a.dropdown-toggle:hover { text-decoration: none; background-color: #cde8f4; } .sidebar .switcher_bar:focus { outline: none; } .sidebar .switcher_bar { h3 { color: #4790ae; font-size: 16px; margin: -6px 0 0 14px; padding: 0; overflow: hidden; text-overflow:ellipsis; white-space: nowrap; } h3:hover { white-space: normal; overflow: visible; text-overflow: none; padding-right: 1em; word-wrap: break-word; } } .sidebar .switcher_bar h4 { color: #6fabc4; font-size: 10px; text-transform: uppercase; font-weight: normal; padding: 0; } .sidebar .switcher_bar ul { border: 1px solid #c0d9e4; margin-left: -1px; width: 190px; } .sidebar .switcher_bar li a:hover{ background: #92d6f1; } ,0,66
openstack%2Ftaskflow~master~I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752,openstack/taskflow,master,I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752,Tidy up the WBE cache (now WBE types) module,MERGED,2014-06-27 21:28:15.000000000,2015-01-23 08:26:48.000000000,2015-01-23 08:26:46.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 2472}, {'_account_id': 8871}, {'_account_id': 14045}]","[{'number': 1, 'created': '2014-06-27 21:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2c6f5201f39128c1e60ca5b2bf92e61c8002211e', 'message': ""Tidy up the worker information storage layer\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a plain dictionary and a\nworker object structure that we can later extend as\nneeded.\n\nAlso add on clear methods that will be used when executor\nstop occurs, to ensure we clear out the worker information\nand any unfinished requests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 2, 'created': '2014-06-27 22:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/7fcda2f1dfb900bc02efb039081bd2c81bd98890', 'message': ""Tidy up the worker information storage layer\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a plain dictionary and a\nworker object structure that we can later extend as\nneeded.\n\nAlso add on clear methods that will be used when executor\nstop occurs, to ensure we clear out the worker information\nand any unfinished requests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 3, 'created': '2014-06-27 22:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/e6a17b312b6fb90ecf669a428ba9acadc72ba12e', 'message': ""Tidy up the worker information storage layer\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a plain dictionary and a\nworker object structure that we can later extend as\nneeded.\n\nAlso add on clear methods that will be used when executor\nstop occurs, to ensure we clear out the worker information\nand any unfinished requests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 4, 'created': '2014-06-29 20:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/dae5152e426b7c2a8e10a8d010e4be8645ff5fcd', 'message': ""Tidy up the worker information storage layer\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods that will be used when executor\nstop occurs, to ensure we clear out the worker information\nand any unfinished requests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 5, 'created': '2014-06-29 20:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/84fb289662daafd37e39e7ba09c29644763309bd', 'message': ""Tidy up the worker information storage layer\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods that will be used when executor\nstop occurs, to ensure we clear out the worker information\nand any unfinished requests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 6, 'created': '2014-06-30 00:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/73233a0ca1fc633df46f3750cd1f66af404ce130', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 7, 'created': '2014-06-30 00:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/4d4843ad0a111d16351f74823e1ddf79dd51f580', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 8, 'created': '2014-07-03 03:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/a4c1b126442aafbb49823e687dbc23d599b2a458', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 9, 'created': '2014-08-16 02:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/1cd99dc3ee5000f3624717cb635e103338efa0f1', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 10, 'created': '2014-08-16 02:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/ffd318195bf24fb3c5f2b09b5703d2ebfc0cf66e', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 11, 'created': '2014-08-16 04:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/1907823c1025111b0d5a989f4000c3a82e439845', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 12, 'created': '2014-08-16 04:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/e3ca48548e52964ca859d81ec6d9cc4d9ef6f099', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 13, 'created': '2014-08-27 23:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f68cf930696c298d5f2cf9bacc2071a214362035', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 14, 'created': '2014-08-28 17:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/1c5c90db212fcbeef9e40226210691647d3c0add', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 15, 'created': '2014-09-04 23:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f0dc360c4532b9b48affe6c346c86e88139abea6', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 16, 'created': '2014-09-05 01:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/d13c7fd05fc437240160bce78e3b8b6833157080', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 17, 'created': '2014-09-05 04:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/b92a48813e8a25fb63bb3f822945635596b7d49c', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 18, 'created': '2014-09-12 07:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/e2eb1e604dd0254431703dda71eea427023c71d5', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 19, 'created': '2014-09-12 07:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/bed436fd3ebc71ae6a673cfc58488f46bee8b80a', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 20, 'created': '2014-09-23 02:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/659c2d793fcc77b20a42ac991256f4e53f91204d', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 21, 'created': '2014-12-06 23:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/dab4e9be07ada7f3646abf78d3f042eb611a93d1', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 22, 'created': '2014-12-06 23:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/c24464aa6f78a4692ec526b30cc04ac58a0169ea', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 23, 'created': '2014-12-08 00:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/3156a587cbbfc69bb5a3324d449f5d9e800e7f2c', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 24, 'created': '2014-12-08 00:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/d65b0cec35366552828a4a1f06f31aef1fddbd58', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 25, 'created': '2014-12-08 02:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/ec6d1ff0a74d17f4bd126621b9f4fd57b2a6d5e3', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 26, 'created': '2014-12-08 02:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f6302bfa349f0db3f64b5e3dd3d3390444738d8e', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 27, 'created': '2014-12-08 22:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2f609a269466ad64de412a38f9f0c1443b243069', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 28, 'created': '2014-12-09 00:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/bce3ea3f8ea39fbe9b49ab9f5c95b45577a0a82f', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 29, 'created': '2014-12-09 00:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/a2a8ce83c99a595d4e00006c6cf7d697637aef51', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 30, 'created': '2014-12-10 23:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/6d5f192504bd63b55120e7e8f45260da087ea805', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 31, 'created': '2014-12-13 07:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/4c5e5a2a4f3419da4b8038e4b0fbd2c6ca6877bb', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 32, 'created': '2014-12-16 06:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/87b62d7e09f63c65281c55890c5d025c0239c61e', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 33, 'created': '2014-12-20 23:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/292cc5445a7c6d90faefb0a78933d8ad51754888', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 34, 'created': '2015-01-16 01:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/9961d4e2b03e5fac655b0559fb1ee60293b42c3b', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 35, 'created': '2015-01-16 01:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/a108fd696dc95d4a3cba69e642d5d87e47273108', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 36, 'created': '2015-01-16 01:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/ac24552f9262ab429d18b64f1a42c834bd11539b', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 37, 'created': '2015-01-16 19:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/1eb4cc0b41872ac36da8c2f5a3c465c8e4f9bb2a', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 38, 'created': '2015-01-16 22:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/7d55780b9dddbb947006538f4e23f0c83068db3b', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}, {'number': 39, 'created': '2015-01-23 07:08:20.000000000', 'files': ['taskflow/engines/worker_based/executor.py', 'taskflow/types/cache.py', 'taskflow/tests/unit/worker_based/test_protocol.py', 'taskflow/engines/worker_based/types.py', 'taskflow/engines/worker_based/cache.py', 'taskflow/engines/worker_based/protocol.py', 'taskflow/tests/unit/worker_based/test_types.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/45ef595fdecb2b755d89fa454c7af5b69f1b48aa', 'message': ""Tidy up the WBE cache (now WBE types) module\n\nInstead of using the expiring cache type as a means\nto store worker information just avoid using that type\nsince we don't support expiry in the first place on\nworker information and use a worker container and a\nworker object that we can later extend as needed.\n\nAlso add on clear methods to the cache type that will be\nused when the WBE executor stop occurs. This ensures we\nclear out the worker information and any unfinished\nrequests.\n\nChange-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752\n""}]",0,103245,45ef595fdecb2b755d89fa454c7af5b69f1b48aa,108,5,39,1297,,,0,"Tidy up the WBE cache (now WBE types) module

Instead of using the expiring cache type as a means
to store worker information just avoid using that type
since we don't support expiry in the first place on
worker information and use a worker container and a
worker object that we can later extend as needed.

Also add on clear methods to the cache type that will be
used when the WBE executor stop occurs. This ensures we
clear out the worker information and any unfinished
requests.

Change-Id: I6a520376eff1e8a6edcef0a59f2d8b9c0eb15752
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/45/103245/1 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/worker_based/executor.py', 'taskflow/types/cache.py', 'taskflow/engines/worker_based/cache.py']",3,2c6f5201f39128c1e60ca5b2bf92e61c8002211e,wbe-types,,"import random class WorkersCache(base.ExpiringCache): """"""Represents a thread-safe workers cache."""""" def get_topic_by_task(self, task): """"""Get topic for a given task."""""" available_topics = [] with self._lock.read_lock(): for topic, tasks in six.iteritems(self._data): if task in tasks: available_topics.append(topic) return random.choice(available_topics) if available_topics else None",67,26
openstack%2Fpython-cinderclient~master~I0bdad6d61da83a3924a6b18678afe4722b5778d6,openstack/python-cinderclient,master,I0bdad6d61da83a3924a6b18678afe4722b5778d6,cinder list fails with 'name' sort key,MERGED,2014-12-19 03:08:27.000000000,2015-01-23 08:16:44.000000000,2015-01-23 08:16:42.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 4355}, {'_account_id': 5538}, {'_account_id': 7198}, {'_account_id': 10559}, {'_account_id': 11600}]","[{'number': 1, 'created': '2014-12-19 03:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/6f2f30b9a686efc4fae1e0a572dd6f995897f25f', 'message': ""cinder list fails with 'name' sort key\n\nThe client restricts the sort keys that the user can supply. The\n'name' key is allowed but is not the correct key for sorting by name,\nit should be 'display_name'.\n\nIf 'name' is used then the client returns with the error 500\nInternal Server Error.\n\nThis patch also adds UT for the sort key and direction error cases\nwhen an invalid value is supplied.\n\nChange-Id: I0bdad6d61da83a3924a6b18678afe4722b5778d6\nCloses-Bug: 1404020\n""}, {'number': 2, 'created': '2014-12-19 15:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/1486ea3eab397cce8293bdae921d28471b1582eb', 'message': ""cinder list fails with 'name' sort key\n\nThe client restricts the sort keys that the user can supply. The\n'name' key is allowed but is not the correct key for sorting by name,\nit should be 'display_name'.\n\nIf 'name' is used then the client returns with the error 500\nInternal Server Error.\n\nThis patch also adds UT for the sort key and direction error cases\nwhen an invalid value is supplied.\n\nChange-Id: I0bdad6d61da83a3924a6b18678afe4722b5778d6\nCloses-Bug: 1404020\n""}, {'number': 3, 'created': '2014-12-22 02:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/b1b5d7ae905267603ed47e289d22d6798d71c248', 'message': ""cinder list fails with 'name' sort key\n\nThe client restricts the sort keys that the user can supply. The\n'name' key is allowed but is not the correct key for sorting by name,\nit should be 'display_name'.\n\nIf 'name' is used then the client returns with the error 500\nInternal Server Error.\n\nThis patch also adds UT for the sort key and direction error cases\nwhen an invalid value is supplied.\n\nChange-Id: I0bdad6d61da83a3924a6b18678afe4722b5778d6\nCloses-Bug: 1404020\n""}, {'number': 4, 'created': '2014-12-26 20:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/6e5c3bd4f0b2790c0bb6611fe98cde3e5b519889', 'message': ""cinder list fails with 'name' sort key\n\nThe client restricts the sort keys that the user can supply. The\n'name' key is allowed but is not the correct key for sorting by name,\nit should be 'display_name'.\n\nIf 'name' is used then the client returns with the error 500\nInternal Server Error.\n\nThis patch will add support for mapping client sort keys (eg, 'name')\nto server sort keys (eg, 'display_name'), allowing the user to supply\nthe 'name' key to sort by name.\n\nThis patch also adds UT for the sort key and direction error cases\nwhen an invalid value is supplied.\n\nChange-Id: I0bdad6d61da83a3924a6b18678afe4722b5778d6\nCloses-Bug: 1404020\n""}, {'number': 5, 'created': '2015-01-22 14:56:34.000000000', 'files': ['cinderclient/tests/v2/test_shell.py', 'cinderclient/v2/volumes.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/0560f7883353ea74fd31bf52535883cc18adecf5', 'message': ""cinder list fails with 'name' sort key\n\nThe client restricts the sort keys that the user can supply. The\n'name' key is allowed but is not the correct key for sorting by name,\nit should be 'display_name'.\n\nIf 'name' is used then the client returns with the error 500\nInternal Server Error.\n\nThis patch will add support for mapping client sort keys (eg, 'name')\nto server sort keys (eg, 'display_name'), allowing the user to supply\nthe 'name' key to sort by name.\n\nThis patch also adds UT for the sort key and direction error cases\nwhen an invalid value is supplied.\n\nChange-Id: I0bdad6d61da83a3924a6b18678afe4722b5778d6\nCloses-Bug: 1404020\n""}]",4,142964,0560f7883353ea74fd31bf52535883cc18adecf5,39,8,5,10559,,,0,"cinder list fails with 'name' sort key

The client restricts the sort keys that the user can supply. The
'name' key is allowed but is not the correct key for sorting by name,
it should be 'display_name'.

If 'name' is used then the client returns with the error 500
Internal Server Error.

This patch will add support for mapping client sort keys (eg, 'name')
to server sort keys (eg, 'display_name'), allowing the user to supply
the 'name' key to sort by name.

This patch also adds UT for the sort key and direction error cases
when an invalid value is supplied.

Change-Id: I0bdad6d61da83a3924a6b18678afe4722b5778d6
Closes-Bug: 1404020
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/64/142964/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/tests/v2/test_shell.py', 'cinderclient/v2/volumes.py']",2,6f2f30b9a686efc4fae1e0a572dd6f995897f25f,bug/1404020,"SORT_KEY_VALUES = ('id', 'status', 'size', 'availability_zone', 'display_name',","SORT_KEY_VALUES = ('id', 'status', 'size', 'availability_zone', 'name',",16,6
openstack%2Fec2-api~master~Ic51c692a3162d776e86efbbd2b19de28597e0047,openstack/ec2-api,master,Ic51c692a3162d776e86efbbd2b19de28597e0047,Create ec2-api-metadata console script,MERGED,2015-01-22 20:10:53.000000000,2015-01-23 08:16:21.000000000,2015-01-23 08:16:21.000000000,"[{'_account_id': 3}, {'_account_id': 9312}, {'_account_id': 10234}]","[{'number': 1, 'created': '2015-01-22 20:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/5237ffabf54470afab90a08430c50f6e7b30a476', 'message': 'Create ec2-api-metadata console script\n\nChange-Id: Ic51c692a3162d776e86efbbd2b19de28597e0047\n'}, {'number': 2, 'created': '2015-01-22 20:32:08.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/879a9db6dcda9f3865111db4c5e00cab6635ee6b', 'message': 'Create ec2-api-metadata console script\n\nChange-Id: Ic51c692a3162d776e86efbbd2b19de28597e0047\n'}]",0,149386,879a9db6dcda9f3865111db4c5e00cab6635ee6b,8,3,2,10224,,,0,"Create ec2-api-metadata console script

Change-Id: Ic51c692a3162d776e86efbbd2b19de28597e0047
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/86/149386/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5237ffabf54470afab90a08430c50f6e7b30a476,master, ec2-api-metadata=ec2api.cmd.metadata:main,,1,0
openstack%2Fec2-api~master~I84842ce459c107d41ab3ebaa6908202e25b1ed47,openstack/ec2-api,master,I84842ce459c107d41ab3ebaa6908202e25b1ed47,Use describe_network_interface instead of formatting manually,MERGED,2015-01-22 20:10:53.000000000,2015-01-23 08:14:45.000000000,2015-01-23 08:14:44.000000000,"[{'_account_id': 3}, {'_account_id': 9312}, {'_account_id': 10234}]","[{'number': 1, 'created': '2015-01-22 20:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/c56ae8be758f8c2ef01deacbd4aa5408cb808684', 'message': 'Use describe_network_interface instead of formatting manually\n\nChange-Id: I84842ce459c107d41ab3ebaa6908202e25b1ed47\n'}, {'number': 2, 'created': '2015-01-22 20:32:08.000000000', 'files': ['ec2api/api/instance.py', 'ec2api/tests/test_instance.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/323114df4dcd82f1137c591114d53f0ff001199e', 'message': 'Use describe_network_interface instead of formatting manually\n\nChange-Id: I84842ce459c107d41ab3ebaa6908202e25b1ed47\n'}]",0,149385,323114df4dcd82f1137c591114d53f0ff001199e,8,3,2,10224,,,0,"Use describe_network_interface instead of formatting manually

Change-Id: I84842ce459c107d41ab3ebaa6908202e25b1ed47
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/85/149385/2 && git format-patch -1 --stdout FETCH_HEAD,"['ec2api/api/instance.py', 'ec2api/tests/test_instance.py']",2,c56ae8be758f8c2ef01deacbd4aa5408cb808684,master," 'get_ec2_network_interfaces') get_ec2_network_interfaces): get_ec2_network_interfaces.return_value = { get_ec2_network_interfaces.assert_called_once_with( mock.ANY, instance_ids=[fakes.ID_EC2_INSTANCE_1]) get_ec2_network_interfaces.reset_mock() 'get_ec2_network_interfaces') get_ec2_network_interfaces): get_ec2_network_interfaces.return_value = dict( 'get_ec2_network_interfaces') get_ec2_network_interfaces): get_ec2_network_interfaces.return_value = []# get_os_instances_by_instances, remove_instances,"," 'format_network_interfaces') format_network_interfaces): format_network_interfaces.return_value = { format_network_interfaces.assert_called_once_with( mock.ANY, [[fakes.DB_NETWORK_INTERFACE_1]]) format_network_interfaces.reset_mock() 'format_network_interfaces') format_network_interfaces): format_network_interfaces.return_value = dict( 'format_network_interfaces') format_network_interfaces): format_network_interfaces.return_value = []# format_network_interfaces, get_os_instances_by_instances, remove_instances,",19,50
openstack%2Fnova~master~Ib5307c1e960ffcd59fe04fd011626b0ba927375d,openstack/nova,master,Ib5307c1e960ffcd59fe04fd011626b0ba927375d,Add unit test for getting project quota remains,MERGED,2014-12-11 08:34:00.000000000,2015-01-23 08:10:06.000000000,2015-01-23 08:10:03.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 5638}, {'_account_id': 6062}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 13689}]","[{'number': 1, 'created': '2014-12-11 08:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4881d37b9c80ea285409fba481409eee5244e9b', 'message': ""Only project quota could have remains\n\nThe result of get_project_quotas() contains attributes 'remains' if the\nargument 'remains=True' is passed to get settable quota range.\n\nCurrently, the 'remains' is calculated in _process_quotas(). The method\nis called by both get_project_quotas() and get_user_quotas(). Since\nonly the project quota could have 'remains', it would be better that\n'remains' is calculated in get_project_quotas().\n\nThe patch moves the calculation to get_project_quotas() and add a unit\ntest to verify get_project_quotas() with 'remains=True'.\n\nChange-Id: Ib5307c1e960ffcd59fe04fd011626b0ba927375d\n""}, {'number': 2, 'created': '2015-01-14 06:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec15b191b868b5265ef74547042fe63afcb7ef3c', 'message': ""Add unit test for getting project quota remains\n\nThis patch adds the unit test for get_project_quotas() when the\nargument 'remains' is true. In this case, remains of each resource are\ncalculated.\n\n'Remains' means the amount of a project quota which is not allocated to\nusers. The added test mocks quota_get_all(), which gets user quota if\nexplicitly set. 'Remains' of instances and cores are calculated by\nsubtracting 'hard_limit' returned by fake_quota_get_all() from 'limit',\nwhich means project quota.\n\nChange-Id: Ib5307c1e960ffcd59fe04fd011626b0ba927375d\n""}, {'number': 3, 'created': '2015-01-16 02:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45760b80332a6c4fb57eff43872786742677cc53', 'message': ""Add unit test for getting project quota remains\n\nThis patch adds the unit test for get_project_quotas() when the\nargument 'remains' is true. In this case, remains of each resource are\ncalculated.\n\n'Remains' means the amount of a project quota which is not allocated to\nusers. The added test mocks quota_get_all(), which gets user quota if\nexplicitly set. 'Remains' of instances and cores are calculated by\nsubtracting 'hard_limit' returned by fake_quota_get_all() from 'limit',\nwhich means project quota.\n\nChange-Id: Ib5307c1e960ffcd59fe04fd011626b0ba927375d\n""}, {'number': 4, 'created': '2015-01-19 23:42:32.000000000', 'files': ['nova/tests/unit/test_quota.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6af1d3aad0938063936ceb0ed87647545f01bba6', 'message': ""Add unit test for getting project quota remains\n\nThis patch adds the unit test for get_project_quotas() when the\nargument 'remains' is true. In this case, remains of each resource are\ncalculated.\n\n'Remains' means the amount of a project quota which is not allocated to\nusers. The added test mocks quota_get_all(), which gets user quota if\nexplicitly set. 'Remains' of instances and cores are calculated by\nsubtracting 'hard_limit' returned by fake_quota_get_all() from 'limit',\nwhich means project quota.\n\nChange-Id: Ib5307c1e960ffcd59fe04fd011626b0ba927375d\n""}]",2,140978,6af1d3aad0938063936ceb0ed87647545f01bba6,52,15,4,13689,,,0,"Add unit test for getting project quota remains

This patch adds the unit test for get_project_quotas() when the
argument 'remains' is true. In this case, remains of each resource are
calculated.

'Remains' means the amount of a project quota which is not allocated to
users. The added test mocks quota_get_all(), which gets user quota if
explicitly set. 'Remains' of instances and cores are calculated by
subtracting 'hard_limit' returned by fake_quota_get_all() from 'limit',
which means project quota.

Change-Id: Ib5307c1e960ffcd59fe04fd011626b0ba927375d
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/140978/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_quota.py', 'nova/quota.py']",2,d4881d37b9c80ea285409fba481409eee5244e9b,add_unit_test/quota_remains," quota_class=None, defaults=True, usages=None): modified_quotas = self._process_quotas(context, resources, project_id, project_quotas, quota_class, defaults=defaults, usages=project_usages) if remains: for value in modified_quotas.values(): value.update(remains=value['limit']) all_user_quotas = db.quota_get_all(context, project_id) for quota in all_user_quotas: if quota.resource in modified_quotas: modified_quotas[quota.resource]['remains'] -= \ quota.hard_limit return modified_quotas"," quota_class=None, defaults=True, usages=None, remains=False): # Initialize remains quotas. if remains: modified_quotas[resource.name].update(remains=limit) if remains: all_quotas = db.quota_get_all(context, project_id) for quota in all_quotas: if quota.resource in modified_quotas: modified_quotas[quota.resource]['remains'] -= \ quota.hard_limit return self._process_quotas(context, resources, project_id, project_quotas, quota_class, defaults=defaults, usages=project_usages, remains=remains)",125,16
openstack%2Ftripleo-incubator~master~I31c90d98c15f7644d4b16bcab7b53067cf7e08bf,openstack/tripleo-incubator,master,I31c90d98c15f7644d4b16bcab7b53067cf7e08bf,Enable Neutron DVR support in TripleO installation,MERGED,2014-10-23 19:51:48.000000000,2015-01-23 07:22:33.000000000,2015-01-23 07:22:32.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 6488}, {'_account_id': 8449}, {'_account_id': 10652}]","[{'number': 1, 'created': '2014-10-23 19:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/bc08dfb7eb3acc17a1d2190a2c9f494bd6a07f69', 'message': ""Enable Neutron DVR support in TripleO installation\n\nThis change adds the necessary parameters/logic to the devtest_overcloud.sh\nscript to enable support for configuring Neutron to use Distributed Virtual\nRouting in the overcloud.\n\nDocImpact\nThis change introduces the environment variable 'OVERCLOUD_DISTRIBUTED_ROUTERS'\nwhich, when set to 'True' will cause the overcloud to be created with Neutron\nDVR enabled.  If unset or set to 'False' then centralized routing will be used\ninstead.\n\nChange-Id: I31c90d98c15f7644d4b16bcab7b53067cf7e08bf\nblueprint: support-neutron-dvr\n""}, {'number': 2, 'created': '2014-10-23 20:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/92645871065f34a00c5801bf7a7a9e518ecb44cf', 'message': ""Enable Neutron DVR support in TripleO installation\n\nThis change adds the necessary parameters/logic to the devtest_overcloud.sh\nscript to enable support for configuring Neutron to use Distributed Virtual\nRouting in the overcloud.\n\nDocImpact\nThis change introduces the environment variable 'OVERCLOUD_DISTRIBUTED_ROUTERS'\nwhich, when set to 'True' will cause the overcloud to be created with Neutron\nDVR enabled.  If unset or set to 'False' then centralized routing will be used\ninstead.\n\nChange-Id: I31c90d98c15f7644d4b16bcab7b53067cf7e08bf\nblueprint: support-neutron-dvr\n""}, {'number': 3, 'created': '2014-10-23 20:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/92885f44fab8681689ddb91cc44fddbc3c5a5670', 'message': ""Enable Neutron DVR support in TripleO installation\n\nThis change adds the necessary parameters/logic to the devtest_overcloud.sh\nscript to enable support for configuring Neutron to use Distributed Virtual\nRouting in the overcloud.\n\nDocImpact\nThis change introduces the environment variable 'OVERCLOUD_DISTRIBUTED_ROUTERS'\nwhich, when set to 'True' will cause the overcloud to be created with Neutron\nDVR enabled.  If unset or set to 'False' then centralized routing will be used\ninstead.\n\nChange-Id: I31c90d98c15f7644d4b16bcab7b53067cf7e08bf\nblueprint: support-neutron-dvr\n""}, {'number': 4, 'created': '2014-10-24 16:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/d197db22948c3057350bb1b45c7937da6781d389', 'message': ""Enable Neutron DVR support in TripleO installation\n\nThis change adds the necessary parameters/logic to the devtest_overcloud.sh\nscript to enable support for configuring Neutron to use Distributed Virtual\nRouting in the overcloud.\n\nDocImpact\nThis change introduces the environment variable 'OVERCLOUD_DISTRIBUTED_ROUTERS'\nwhich, when set to 'True' will cause the overcloud to be created with Neutron\nDVR enabled.  If unset or set to 'False' then centralized routing will be used\ninstead.\n\nChange-Id: I31c90d98c15f7644d4b16bcab7b53067cf7e08bf\nblueprint: support-neutron-dvr\n""}, {'number': 5, 'created': '2014-11-17 15:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/441a172206bfd6bb15748daea818f852b29af994', 'message': ""Enable Neutron DVR support in TripleO installation\n\nThis change adds the necessary parameters/logic to the devtest_overcloud.sh\nscript to enable support for configuring Neutron to use Distributed Virtual\nRouting in the overcloud.\n\nDocImpact\nThis change introduces the environment variable 'OVERCLOUD_DISTRIBUTED_ROUTERS'\nwhich, when set to 'True' will cause the overcloud to be created with Neutron\nDVR enabled.  If unset or set to 'False' then centralized routing will be used\ninstead.\n\nChange-Id: I31c90d98c15f7644d4b16bcab7b53067cf7e08bf\nblueprint: support-neutron-dvr\n""}, {'number': 6, 'created': '2014-11-19 20:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/cee42d2b6f646e602abda4edb21db7c1932b06f3', 'message': ""Enable Neutron DVR support in TripleO installation\n\nThis change adds the necessary parameters/logic to the devtest_overcloud.sh\nscript to enable support for configuring Neutron to use Distributed Virtual\nRouting in the overcloud.\n\nDocImpact\nThis change introduces the environment variable 'OVERCLOUD_DISTRIBUTED_ROUTERS'\nwhich, when set to 'True' will cause the overcloud to be created with Neutron\nDVR enabled.  If unset or set to 'False' then centralized routing will be used\ninstead.\n\nChange-Id: I31c90d98c15f7644d4b16bcab7b53067cf7e08bf\nblueprint: support-neutron-dvr\n""}, {'number': 7, 'created': '2014-11-20 17:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/96324dff4e0a624bf30cf263295f23db187fc500', 'message': ""Enable Neutron DVR support in TripleO installation\n\nThis change adds the necessary parameters/logic to the devtest_overcloud.sh\nscript to enable support for configuring Neutron to use Distributed Virtual\nRouting in the overcloud.\n\nDocImpact\nThis change introduces the environment variable 'OVERCLOUD_DISTRIBUTED_ROUTERS'\nwhich, when set to 'True' will cause the overcloud to be created with Neutron\nDVR enabled.  If unset or set to 'False' then centralized routing will be used\ninstead.\n\nChange-Id: I31c90d98c15f7644d4b16bcab7b53067cf7e08bf\nblueprint: support-neutron-dvr\n""}, {'number': 8, 'created': '2015-01-06 20:08:59.000000000', 'files': ['scripts/devtest_overcloud.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/ea59d53f84cf1d5e48e7d66d634975be72161e4a', 'message': ""Enable Neutron DVR support in TripleO installation\n\nThis change adds the necessary parameters/logic to the devtest_overcloud.sh\nscript to enable support for configuring Neutron to use Distributed Virtual\nRouting in the overcloud.\n\nDocImpact\nThis change introduces the environment variable 'OVERCLOUD_DISTRIBUTED_ROUTERS'\nwhich, when set to 'True' will cause the overcloud to be created with Neutron\nDVR enabled.  If unset or set to 'False' then centralized routing will be used\ninstead.\n\nChange-Id: I31c90d98c15f7644d4b16bcab7b53067cf7e08bf\nblueprint: support-neutron-dvr\n""}]",8,130630,ea59d53f84cf1d5e48e7d66d634975be72161e4a,48,5,8,10652,,,0,"Enable Neutron DVR support in TripleO installation

This change adds the necessary parameters/logic to the devtest_overcloud.sh
script to enable support for configuring Neutron to use Distributed Virtual
Routing in the overcloud.

DocImpact
This change introduces the environment variable 'OVERCLOUD_DISTRIBUTED_ROUTERS'
which, when set to 'True' will cause the overcloud to be created with Neutron
DVR enabled.  If unset or set to 'False' then centralized routing will be used
instead.

Change-Id: I31c90d98c15f7644d4b16bcab7b53067cf7e08bf
blueprint: support-neutron-dvr
",git fetch https://review.opendev.org/openstack/tripleo-incubator refs/changes/30/130630/8 && git format-patch -1 --stdout FETCH_HEAD,['scripts/devtest_overcloud.sh'],1,bc08dfb7eb3acc17a1d2190a2c9f494bd6a07f69,bp/support-neutron-dvr,"#/!/bin/bashOVERCLOUD_DISTRIBUTED_ROUTERS=${OVERCLOUD_DISTRIBUTED_ROUTERS:-'False'} if [ $OVERCLOUD_DISTRIBUTED_ROUTERS == ""True"" ]; then ComputeNeutronRole='neutron-router' else ComputeNeutronRole='neutron-openvswitch-agent' fi baremetal nova-compute nova-kvm $ComputeNeutronRole os-collect-config \NeutronAllowl3AgentFailover=${NeutronAllowl3AgentFailover:-'True'} if [ $OVERCLOUD_DISTRIBUTED_ROUTERS == ""True"" ]; then NeutronMechanismDrivers='openvswitch,l2population' NeutronTunnelTypes='vxlan' NeutronNetworkType='vxlan' NeutronDVR='True' ComputeNeutronRole='neutron-router' OVERCLOUD_HYPERVISOR_PHYSICAL_BRIDGE=${NeutronPhysicalBridge:-'br-ex'} OVERCLOUD_HYPERVISOR_PUBLIC_INTERFACE=${NeutronPublicInterface:-''} NeutronAllowL3AgentFailover='False' else NeutronMechanismDrivers=${NeutronMechanismDrivers:-'openvswitch'} NeutronTunnelTypes=${NeutronTunnelTypes:-'gre'} NeutronNetworkType=${NeutronNetworkTypes:-'gre'} NeutronDVR='False' ComputeNeutronRole='neutron-openvswitch-agent' NeutronAllowL3AgentFailover='True' fi ""NeutronDVR"": ""'${NeutronDVR}'"", ""NeutronTunnelTypes"": ""'${NeutronTunnelTypes}'"", ""NeutronNetworkType"": ""'${NeutronNetworkType}'"", ""NeutronMechanismDrivers"": ""'${NeutronMechanismDrivers}'"", ""NeutronAgentMode"": ""dvr_snat"", ""NeutronComputeAgentMode"": ""dvr"", ""NeutronAllowL3AgentFailover"": ""'${NeutronAllowL3AgentFailover}'"",",#!/bin/bash baremetal nova-compute nova-kvm neutron-openvswitch-agent os-collect-config \,34,2
openstack%2Ftaskflow~master~Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc,openstack/taskflow,master,Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc,Add proxy heartbeat support,ABANDONED,2014-07-03 00:50:48.000000000,2015-01-23 07:22:06.000000000,,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 8895}, {'_account_id': 9608}]","[{'number': 1, 'created': '2014-07-03 00:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/8177ae27cc3f12bf530c9700edccaa3b9a1266f8', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heartbeating so that when workers\nhave disrupted TCP connections they can detect this change\nearlier rather than later.\n\nThis makes workers more robust against these failures types.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 2, 'created': '2014-07-03 00:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/edefaf58d57d83eb267b2a198a7c09e994d4b4b6', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heartbeating so that when workers\nhave disrupted TCP connections they can detect this change\nearlier rather than later.\n\nThis makes workers more robust against these failures types.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 3, 'created': '2014-07-03 00:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/4474ddfc5f4ee707a6712d584c5b2584a450a829', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 4, 'created': '2014-07-03 02:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/06d051e4e9159963ff8d6d0ca358459883aebf65', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 5, 'created': '2014-07-03 04:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f902ef31caa3d7be042ef4bc3ffaf7b5e2d41048', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 6, 'created': '2014-07-03 15:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/54ce6411e8e41916c9c8c0150edc7b74cef3c4f5', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 7, 'created': '2014-07-04 19:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/c8fef5f5e2a10787f9bbe1cd6396fa7312992bb1', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 8, 'created': '2014-07-05 01:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/73150e3960bb4f82e986b3f0c5ff30c1ed33eb88', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 9, 'created': '2014-07-25 21:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2454ed60fd0585ebb5fde59e84daf1c3cf6678ab', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 10, 'created': '2014-07-25 21:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/17a811b771e1f625e15e50754e4541e5b46fdde7', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 11, 'created': '2014-07-25 23:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/d788f1d82a62bfdd7ade0a436e0c88487085ef26', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 12, 'created': '2014-07-26 02:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/9aeed7fc0ffcc751b70fc7d46376a512ac67c216', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 13, 'created': '2014-09-03 21:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/6d596bb11be5dd4d3c8b6dcb58ed5722ccf7bb46', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 14, 'created': '2014-09-28 04:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/e150c6e477c646cd6d56b7946b7dc007c2fcd38e', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 15, 'created': '2014-11-16 17:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/945cb52dc377fb479a5a63c2462c75e22116b695', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 16, 'created': '2014-11-16 17:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/52b98aee6686d5220aab8705d6b2710bb026c29d', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 17, 'created': '2014-11-16 18:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/87860f144fea7dc779f3f20c7fcf14d7a32f1c57', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 18, 'created': '2014-11-16 21:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/fc593572dc729b81e62a066f9fb539aa26ec6318', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 19, 'created': '2014-11-17 00:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/d869f979feb8c9dcea49442681514e2f9508a779', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 20, 'created': '2014-11-17 00:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/93ef1d475393e76e89de4fc6f19189943bff6656', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 21, 'created': '2014-11-19 20:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/16e7d29b9894ed4252f874917e357a84a80204da', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 22, 'created': '2014-12-09 07:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/5fc65a9bc855de637a613fcab60dba4682c02c3c', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 23, 'created': '2014-12-11 04:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/1b5cf348a245e5774a2bc0e656f6f53e2549b567', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 24, 'created': '2014-12-30 18:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/5cd74fc1d2b79b78ba31c3ee1412a9cccc406cf6', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}, {'number': 25, 'created': '2015-01-22 22:32:08.000000000', 'files': ['taskflow/engines/worker_based/proxy.py', 'taskflow/tests/unit/worker_based/test_proxy.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/ac75925777fe6d3d7cc369dc2a232ba75da333e4', 'message': 'Add proxy heartbeat support\n\nKombu now supports basic heart-beating so that when workers\nhave disrupted TCP connections or other network issues they\ncan detect these change earlier rather than later.\n\nThis change makes it possible for those using the WBE to\nenable heartbeating on the server or worker side. By default\nit is not enabled to remain backwards compatible with the\nexisting usage.\n\nChange-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc\n'}]",2,104397,ac75925777fe6d3d7cc369dc2a232ba75da333e4,75,4,25,1297,,,0,"Add proxy heartbeat support

Kombu now supports basic heart-beating so that when workers
have disrupted TCP connections or other network issues they
can detect these change earlier rather than later.

This change makes it possible for those using the WBE to
enable heartbeating on the server or worker side. By default
it is not enabled to remain backwards compatible with the
existing usage.

Change-Id: Ia8758d2420ca835d4fc9d90f3e6d44e0d6fc5dcc
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/97/104397/23 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/worker_based/proxy.py', 'taskflow/tests/unit/worker_based/test_proxy.py']",2,8177ae27cc3f12bf530c9700edccaa3b9a1266f8,beating," self.conn_inst_mock.heartbeat = None transport_options=None, heartbeat=None), self.assertEqual(master_mock_calls, self.master_mock.mock_calls) transport_options=transport_opts, heartbeat=None), self.assertEqual(master_mock_calls, self.master_mock.mock_calls)"," transport_options=None), self.assertEqual(self.master_mock.mock_calls, master_mock_calls) transport_options=transport_opts), self.assertEqual(self.master_mock.mock_calls, master_mock_calls)",76,17
openstack%2Ffuel-main~master~I7969437995c205d8f5b7c0ee3e3aca22c5b1aee2,openstack/fuel-main,master,I7969437995c205d8f5b7c0ee3e3aca22c5b1aee2,Delete patching tests and related data,MERGED,2015-01-22 11:19:28.000000000,2015-01-23 07:19:19.000000000,2015-01-23 07:19:19.000000000,"[{'_account_id': 3}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9977}, {'_account_id': 10136}, {'_account_id': 11969}]","[{'number': 1, 'created': '2015-01-22 11:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/3ad196385f928b60346e5f15ad575b5ee865073c', 'message': 'Delete patching tests and related data\n\nChange-Id: I7969437995c205d8f5b7c0ee3e3aca22c5b1aee2\nRelated-Bug: #1412867\n'}, {'number': 2, 'created': '2015-01-22 12:09:08.000000000', 'files': ['fuelweb_test/helpers/decorators.py', 'fuelweb_test/helpers/patch_test_docstring_template.py', 'fuelweb_test/helpers/packages_fixture.py', 'fuelweb_test/tests/tests_os_patching/__init__.py', 'fuelweb_test/run_tests.py', 'fuelweb_test/tests/tests_os_patching/test_os_patching.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/6acc50f48dc220d2bbb1cf2b4a9f71d87e7bebd8', 'message': 'Delete patching tests and related data\n\nChange-Id: I7969437995c205d8f5b7c0ee3e3aca22c5b1aee2\nRelated-Bug: #1412867\n'}]",0,149215,6acc50f48dc220d2bbb1cf2b4a9f71d87e7bebd8,15,6,2,6719,,,0,"Delete patching tests and related data

Change-Id: I7969437995c205d8f5b7c0ee3e3aca22c5b1aee2
Related-Bug: #1412867
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/15/149215/2 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/helpers/decorators.py', 'fuelweb_test/helpers/patch_test_docstring_template.py', 'fuelweb_test/helpers/packages_fixture.py', 'fuelweb_test/tests/tests_os_patching/__init__.py', 'fuelweb_test/tests/tests_os_patching/test_os_patching.py']",5,3ad196385f928b60346e5f15ad575b5ee865073c,delete_patching_tests,,"# Copyright 2014 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import json import os from proboscis.asserts import assert_not_equal from proboscis.asserts import assert_true from proboscis import factory from proboscis import SkipTest from proboscis import test from fuelweb_test.helpers import checkers from fuelweb_test.helpers.decorators import log_snapshot_on_error from fuelweb_test.helpers import packages_fixture from fuelweb_test.helpers import utils from fuelweb_test import settings as hlp_data from fuelweb_test.tests.base_test_case import TestBasic from fuelweb_test import logger @test(groups=[""os_patching""]) class TestPatch(TestBasic): def __init__(self, snapshot): super(TestPatch, self).__init__() self.snapshot = snapshot @test @log_snapshot_on_error def deploy_and_patch(self): """"""Update OS on reverted env Scenario: 1. Revert environment 2. Upload tarball 3. Check that it uploaded 4. Extract data 5. Get available releases 6. Run upgrade script 7. Check that new release appears 8. Put new release into cluster 9. Run cluster update 10. Get cluster net configuration 11. Check that services are restarted 12. Check that packages are updated 13. Run OSTF 14. Create snapshot """""" logger.info(""snapshot name is {0}"".format(self.snapshot)) if not self.env.get_virtual_environment().has_snapshot(self.snapshot): logger.error('There is no shaphot found {0}'.format(self.snapshot)) raise SkipTest('Can not find snapshot {0}'.format(self.snapshot)) # 1. Revert environment self.env.revert_snapshot(self.snapshot) logger.info(""Start upload upgrade archive"") node_ssh = self.env.get_ssh_to_remote(self.fuel_web.admin_node_ip) # 2. Upload tarball checkers.upload_tarball( node_ssh=node_ssh, tar_path=hlp_data.TARBALL_PATH, tar_target='/var/tmp') logger.info(""Archive should upload. "" ""Lets check that it exists on master node ..."") # 3. Check that it uploaded checkers.check_tarball_exists(node_ssh, os.path.basename( hlp_data.TARBALL_PATH), '/var/tmp') logger.info(""Extract archive to the /var/tmp"") # 4. Extract data checkers.untar(node_ssh, os.path.basename( hlp_data.TARBALL_PATH), '/var/tmp') logger.info(""Get release ids for deployed operation"" "" system before upgrade."") # Get cluster nodes nailgun_nodes = [ self.fuel_web.get_nailgun_node_by_devops_node(node) for node in self.env.nodes().slaves if self.fuel_web.get_nailgun_node_by_devops_node(node)] # Try to remember installed nova-packages before update p_version_before = {} for node in nailgun_nodes: remote = self.fuel_web.get_ssh_for_node(node[""devops_name""]) res = checkers.get_package_versions_from_node( remote=remote, name=""nova"", os_type=hlp_data.OPENSTACK_RELEASE) p_version_before[node[""devops_name""]] = res # 5. Get available releases available_releases_before = self.fuel_web.get_releases_list_for_os( release_name=hlp_data.OPENSTACK_RELEASE) logger.info('Time to run upgrade...') # 6. Run upgrade script checkers.run_script(node_ssh, '/var/tmp', 'upgrade.sh', password= hlp_data.KEYSTONE_CREDS['password']) logger.info('Check if the upgrade complete.') checkers.wait_upgrade_is_done(node_ssh=node_ssh, phrase='*** UPGRADE DONE SUCCESSFULLY', timeout=600 * 10) available_releases_after = self.fuel_web.get_releases_list_for_os( release_name=hlp_data.OPENSTACK_RELEASE) logger.info('release ids list after upgrade is {0}'.format( available_releases_after)) # 7. Check that new release appears assert_true( len(available_releases_after) > len(available_releases_before), ""There is no new release, release ids before {0},"" "" release ids after {1}"". format( available_releases_before, available_releases_after)) release_version = hlp_data.RELEASE_VERSION logger.debug(""Release version is {0}"".format(release_version)) if 'Ubuntu' in hlp_data.OPENSTACK_RELEASE: res = utils.get_yaml_to_json( node_ssh, '/etc/puppet/{0}/manifests/ubuntu-versions.yaml'.format( release_version)) res_packages = json.loads(res[0]) logger.debug('what we have in res_packages {0}'.format( res_packages)) else: res = utils.get_yaml_to_json( node_ssh, '/etc/puppet/{0}/manifests/centos-versions.yaml'.format( release_version)) res_packages = json.loads(res[0]) logger.debug('what we have in res_packages {0}'.format( res_packages)) cluster_id = self.fuel_web.get_last_created_cluster() logger.debug(""Cluster id is {0}"".format(cluster_id)) # 8. Put new release into cluster if release_version: added_release = self.fuel_web.get_releases_list_for_os( release_name=hlp_data.OPENSTACK_RELEASE, release_version=release_version) logger.debug(""Does we have here release id ? {0}"".format( release_version)) else: added_release = [id for id in available_releases_after if id not in available_releases_before] # get nova pids on controller before update ssh_to_controller = self.fuel_web.get_ssh_for_node( [n[""devops_name""] for n in nailgun_nodes if 'controller' in n['roles']][0]) # get puppet log size before upgrade on the controller puppet_lines = remote.execute(""wc -l /var/log/puppet.log |"" ""cut -f1 -d' '"")['stdout'][0].strip() nova_controller_services = ['nova-api', 'nova-cert', 'nova-objectstore', 'nova-conductor', 'nova-scheduler'] nova_pids_before = utils.nova_service_get_pid( ssh_to_controller, nova_controller_services) logger.debug('Nova pids on controller before {0}'.format( nova_pids_before)) # 9. Run cluster update self.fuel_web.update_cluster( cluster_id=cluster_id, data={ 'pending_release_id': added_release[0], 'release_id': self.fuel_web.get_cluster_release_id( cluster_id)}) logger.info('Huh all preparation for update are done.' 'It is time to update cluster.') self.fuel_web.run_update(cluster_id=cluster_id, timeout=hlp_data.UPDATE_TIMEOUT, interval=20) # 10. Get cluster net configuration cluster_net = self.fuel_web.client.get_cluster( cluster_id)['net_provider'] logger.debug('cluster net is {0}'.format(cluster_net)) # 11. Check is services are restarted if 'Ubuntu' in hlp_data.OPENSTACK_RELEASE: utils.check_if_service_restarted( ssh_to_controller, [""keystone'"", ""glance-registry'"", ""glance-api'"", ""heat-api-cfn'"", ""heat-engine'"", ""heat-api'"", ""heat-api-cloudwatch'""], pattern='/sbin/(re)?start', skip=puppet_lines) else: utils.check_if_service_restarted( ssh_to_controller, [""keystone"", ""glance-registry"", ""glance-api"", ""heat-api-cfn"", ""heat-engine"", ""heat-api"", ""heat-api-cloudwatch"", ""nova-novncproxy""], pattern='\/sbin\/service openstack-[^[:space:]]+ (re)?start', skip=puppet_lines) # get nova pids on controller after update nova_pids_after = utils.nova_service_get_pid( ssh_to_controller, nova_controller_services) logger.debug('Nova pids on controller before {0}'.format( nova_pids_before)) assert_not_equal(nova_pids_before, nova_pids_after) # 12. Check is packages are updated if 'Ubuntu' in hlp_data.OPENSTACK_RELEASE: for package in packages_fixture.dep: packages_fixture.dep[package] = res_packages[package] logger.debug(""Current state of dict is {0}"".format( packages_fixture.dep)) for key in packages_fixture.dep: res = checkers.get_package_versions_from_node( ssh_to_controller, name=key, os_type='Ubuntu') logger.debug('res_from_node is {0}'.format(res)) assert_true( packages_fixture.dep[key] in res, ""Wrong version of package {0}. "" ""Should be {1} but get {2}"".format( key, packages_fixture.dep[key], res)) else: for package in packages_fixture.rpm: packages_fixture.rpm[package] = res_packages[package] logger.debug(""Current state of dict is {0}"".format( packages_fixture.rpm)) for key in packages_fixture.rpm: res = checkers.get_package_versions_from_node( ssh_to_controller, name=key, os_type=hlp_data.OPENSTACK_RELEASE) assert_true( packages_fixture.rpm[key] in res, ""Wrong version of package {0}. "" ""Should be {1} but get {2}"".format( key, packages_fixture.rpm[key], res)) p_version_after = {} for node in nailgun_nodes: remote = self.fuel_web.get_ssh_for_node(node[""devops_name""]) res = checkers.get_package_versions_from_node( remote=remote, name=""openstack"", os_type=hlp_data.OPENSTACK_RELEASE) p_version_after[node[""devops_name""]] = res logger.info(""packages before {0}"".format(p_version_before)) logger.info(""packages after {0}"".format(p_version_after)) assert_true(p_version_before != p_version_after) # 13. Run OSTF self.fuel_web.run_ostf(cluster_id=cluster_id) # 14. Create snapshot self.env.make_snapshot('{0}_and_patch'.format(self.snapshot)) # TODO (tleontovich) enable if rollback will be available #@test(depends_on=[deploy_and_patch]) @log_snapshot_on_error def deploy_and_rollback(self): """"""Rollback/Downgrade os on reverted env Scenario: 1. Revert patched environment 2. Get release ids 2. Identify release id for rollback/downgrade 3. Run rollback/downgrade 4. Check that operation was successful 5. Run OSTF """""" logger.info(""snapshot name is {0}"".format(self.snapshot)) if not self.env.get_virtual_environment().has_snapshot( '{0}_and_patch'.format(self.snapshot)): raise SkipTest('Can not find snapshot {0}'.format(self.snapshot)) self.env.revert_snapshot('{0}_and_patch'.format(self.snapshot)) logger.info(""Get release ids for deployed operation"" "" system before rollback.."") # Get cluster nodes nailgun_nodes = [ self.fuel_web.get_nailgun_node_by_devops_node(node) for node in self.env.nodes().slaves if self.fuel_web.get_nailgun_node_by_devops_node(node)] logger.info(""Find next nodes {0}"".format(nailgun_nodes)) # Try to remember installed nova-packages before update p_version_before = {} for node in nailgun_nodes: remote = self.fuel_web.get_ssh_for_node(node[""devops_name""]) res = checkers.get_package_versions_from_node( remote=remote, name=""nova"", os_type=hlp_data.OPENSTACK_RELEASE) p_version_before[node[""devops_name""]] = res avail_release_ids = self.fuel_web.get_releases_list_for_os( release_name=hlp_data.OPENSTACK_RELEASE) logger.info('Available release ids before rollback {0}'.format( avail_release_ids)) cluster_id = self.fuel_web.get_last_created_cluster() cluster_release_id = self.fuel_web.get_cluster_release_id( cluster_id) logger.info('Time to run rollback...') self.fuel_web.update_cluster( cluster_id=cluster_id, data={ 'pending_release_id': [i for i in avail_release_ids if i != cluster_release_id][0], 'release_id': self.fuel_web.get_cluster_release_id( cluster_id)}) self.fuel_web.run_update(cluster_id=cluster_id, timeout=hlp_data.UPDATE_TIMEOUT, interval=20) # Check packages after p_version_after = {} for node in nailgun_nodes: remote = self.fuel_web.get_ssh_for_node(node[""devops_name""]) res = checkers.get_package_versions_from_node( remote=remote, name=""nova"", os_type=hlp_data.OPENSTACK_RELEASE) p_version_after[node[""devops_name""]] = res logger.info(""packages after {0}"".format(p_version_after)) logger.info(""packages before {0}"".format(p_version_before)) # TODO tleontovich: Add assert for packages, when test repo will avail self.fuel_web.run_ostf(cluster_id=cluster_id,) self.env.make_snapshot('{0}_and_rollback'.format(self.snapshot)) @factory def generate_patch_tests(): snap = hlp_data.SNAPSHOT.split("","") return [TestPatch(s) for s in snap] ",2,441
openstack%2Fdjango_openstack_auth~master~I57b3c87ba9d456cc265c0adfa0dc2bab10ea5be7,openstack/django_openstack_auth,master,I57b3c87ba9d456cc265c0adfa0dc2bab10ea5be7,Imported Translations from Transifex,MERGED,2015-01-23 06:03:26.000000000,2015-01-23 07:12:13.000000000,2015-01-23 07:12:12.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 6914}]","[{'number': 1, 'created': '2015-01-23 06:03:26.000000000', 'files': ['openstack_auth/locale/ko_KR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/44b38ef79fff24f13b0d70dc097555daf99b58e5', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I57b3c87ba9d456cc265c0adfa0dc2bab10ea5be7\n'}]",0,149505,44b38ef79fff24f13b0d70dc097555daf99b58e5,7,3,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I57b3c87ba9d456cc265c0adfa0dc2bab10ea5be7
",git fetch https://review.opendev.org/openstack/django_openstack_auth refs/changes/05/149505/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_auth/locale/ko_KR/LC_MESSAGES/django.po'],1,44b38ef79fff24f13b0d70dc097555daf99b58e5,transifex/translations,"""POT-Creation-Date: 2015-01-23 06:03+0000\n"" ""PO-Revision-Date: 2015-01-23 02:27+0000\n"" ""Last-Translator: Sungjin Kang <potopro@gmail.com>\n""","""POT-Creation-Date: 2015-01-21 06:06+0000\n"" ""PO-Revision-Date: 2015-01-20 18:53+0000\n"" ""Last-Translator: Ian Y. Choi <ianyrchoi@gmail.com>\n""",3,3
openstack%2Fmistral~master~I25bd197526970721da051204b669a5cc1a05b1eb,openstack/mistral,master,I25bd197526970721da051204b669a5cc1a05b1eb,Concurrency: part 2,MERGED,2015-01-16 11:10:29.000000000,2015-01-23 07:08:28.000000000,2015-01-23 07:08:28.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2015-01-16 11:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/15eb6945f5e8d59c52163fc05bd05b8ee0edace3', 'message': ""Concurrency: part 2\n\n * Now with_items uses runtime_context for cycle evaluating\n\nThe next step will be implementation of 'concurrency'.\n\nPartially implements blueprint mistral-for-each-parallelism\n\nChange-Id: I25bd197526970721da051204b669a5cc1a05b1eb\n""}, {'number': 2, 'created': '2015-01-22 12:54:38.000000000', 'files': ['mistral/workflow/data_flow.py', 'mistral/workflow/base.py', 'mistral/tests/unit/engine1/test_with_items.py', 'mistral/workflow/with_items.py', 'mistral/tests/unit/engine1/test_default_engine.py', 'mistral/tests/unit/engine1/test_policies.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/66d66d465762b4d2778133a6c9c93555638cebeb', 'message': ""Concurrency: part 2\n\n * Now with_items uses runtime_context for cycle evaluating\n\nThe next step will be implementation of 'concurrency'.\n\nPartially implements blueprint mistral-for-each-parallelism\n\nChange-Id: I25bd197526970721da051204b669a5cc1a05b1eb\n""}]",5,147811,66d66d465762b4d2778133a6c9c93555638cebeb,14,4,2,7700,,,0,"Concurrency: part 2

 * Now with_items uses runtime_context for cycle evaluating

The next step will be implementation of 'concurrency'.

Partially implements blueprint mistral-for-each-parallelism

Change-Id: I25bd197526970721da051204b669a5cc1a05b1eb
",git fetch https://review.opendev.org/openstack/mistral refs/changes/11/147811/2 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/workflow/data_flow.py', 'mistral/workflow/base.py', 'mistral/tests/unit/engine1/test_with_items.py', 'mistral/workflow/with_items.py', 'mistral/tests/unit/engine1/test_default_engine.py', 'mistral/tests/unit/engine1/test_policies.py']",6,15eb6945f5e8d59c52163fc05bd05b8ee0edace3,bp/mistral-for-each-parallelism," self.assertEqual({}, task_db.runtime_context) self.assertEqual({}, task_db.runtime_context)", self.assertIsNone(task_db.runtime_context) self.assertIsNone(task_db.runtime_context),73,17
openstack%2Fha-guide~master~If196b54170e95d72bf67c9ef76cda44dbe88dd08,openstack/ha-guide,master,If196b54170e95d72bf67c9ef76cda44dbe88dd08,Update for Chinese HA Guide,MERGED,2015-01-20 09:55:04.000000000,2015-01-23 07:02:38.000000000,2015-01-23 07:02:37.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6772}]","[{'number': 1, 'created': '2015-01-20 09:55:04.000000000', 'files': ['doc-tools-check-languages.conf'], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/6aa3e9b4b148851670093a30fb56b2e28746396b', 'message': 'Update for Chinese HA Guide\n\nAdd configuration to build and test zh_CN version of the guide.\n\nChange-Id: If196b54170e95d72bf67c9ef76cda44dbe88dd08\n'}]",0,148482,6aa3e9b4b148851670093a30fb56b2e28746396b,12,3,1,6547,,,0,"Update for Chinese HA Guide

Add configuration to build and test zh_CN version of the guide.

Change-Id: If196b54170e95d72bf67c9ef76cda44dbe88dd08
",git fetch https://review.opendev.org/openstack/ha-guide refs/changes/82/148482/1 && git format-patch -1 --stdout FETCH_HEAD,['doc-tools-check-languages.conf'],1,6aa3e9b4b148851670093a30fb56b2e28746396b,transifex/translations," [""zh_CN""]=""high-availability-guide glossary"" [""zh_CN""]=""high-availability-guide""",# So far only the language 'ja' is supported.,2,1
openstack%2Fopenstack-manuals~master~Iab3aa7cde23d7eeecdf2aebad68e85a4c378b61d,openstack/openstack-manuals,master,Iab3aa7cde23d7eeecdf2aebad68e85a4c378b61d,SEC_GROUP to SEC_GROUP_NAME in nova boot,MERGED,2015-01-23 02:24:25.000000000,2015-01-23 06:57:55.000000000,2015-01-23 06:57:53.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 7923}]","[{'number': 1, 'created': '2015-01-23 02:24:25.000000000', 'files': ['doc/user-guide/section_cli_nova_boot.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/147a8264d8b981e25ab0defcf10053dff5f845de', 'message': 'SEC_GROUP to SEC_GROUP_NAME in nova boot\n\nFor nova boot command, In the ""--security-groups SEC_GROUP"" parameter,\n\'SEC_GROUP\' does not detail wether a Security Group ID or Security\nGroup name has to be provided. Make it clear by changing \'SEC_GROUP\'\nto \'SEC_GROUP_NAME\'\n\nChange-Id: Iab3aa7cde23d7eeecdf2aebad68e85a4c378b61d\nCloses-bug: #1413351\n'}]",0,149459,147a8264d8b981e25ab0defcf10053dff5f845de,7,3,1,3191,,,0,"SEC_GROUP to SEC_GROUP_NAME in nova boot

For nova boot command, In the ""--security-groups SEC_GROUP"" parameter,
'SEC_GROUP' does not detail wether a Security Group ID or Security
Group name has to be provided. Make it clear by changing 'SEC_GROUP'
to 'SEC_GROUP_NAME'

Change-Id: Iab3aa7cde23d7eeecdf2aebad68e85a4c378b61d
Closes-bug: #1413351
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/59/149459/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/user-guide/section_cli_nova_boot.xml'],1,147a8264d8b981e25ab0defcf10053dff5f845de,SEC_GROUP-2-SEC_GROUP_NAME, --user-data <replaceable>USER_DATA_FILE</replaceable> --security-groups <replaceable>SEC_GROUP_NAME</replaceable> --meta <replaceable>KEY=VALUE</replaceable> \, --user-data <replaceable>USER_DATA_FILE</replaceable> --security-groups <replaceable>SEC_GROUP</replaceable> --meta <replaceable>KEY=VALUE</replaceable> \,1,1
openstack%2Ftaskflow~master~I9413fad187c330fee494f0d4536cc27d9a90f0fb,openstack/taskflow,master,I9413fad187c330fee494f0d4536cc27d9a90f0fb,Use explicit WBE object arguments (instead of kwargs),MERGED,2015-01-20 02:46:10.000000000,2015-01-23 06:56:54.000000000,2015-01-23 06:56:54.000000000,"[{'_account_id': 3}, {'_account_id': 1297}]","[{'number': 1, 'created': '2015-01-20 02:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/457ece71b32aca445f53d36970c832c22797deee', 'message': 'Use explicit WBE object arguments\n\nInstead of passing around kwargs to root WBE classes and to\ncontained classes prefer to use explicit arguments that are\npassed around. These make the code more obvious as to what\nthe intended arguments are and make it easier for error validation\nwhen other unknown arguments are passed (as well as for docs).\n\nAlso moves the docs for the worker engine to be a sub-TOC under\nthe main engine document so that it can be more easily explored.\n\nChange-Id: I9413fad187c330fee494f0d4536cc27d9a90f0fb\n'}, {'number': 2, 'created': '2015-01-20 03:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/90c305d8f6f81190b843e4c47435d2161c830ece', 'message': 'Use explicit WBE object arguments (instead of kwargs)\n\nInstead of passing around kwargs to root WBE classes and to\ncontained classes prefer to use explicitnamed arguments that are\npassed around. This makes the code more obvious as to what\nthe intended arguments are and makes it easier for error validation\nwhen other unknown arguments are passed (as well as for docs).\n\nAlso moves the docs for the worker engine to be a sub-TOC under\nthe main engine document so that it can be more easily explored\nand managed/found...\n\nChange-Id: I9413fad187c330fee494f0d4536cc27d9a90f0fb\n'}, {'number': 3, 'created': '2015-01-20 03:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/248a0dd190a085d6226103966cd4994f37407ded', 'message': 'Use explicit WBE object arguments (instead of kwargs)\n\nInstead of passing around kwargs to root WBE classes and to\ncontained classes prefer to use explicitnamed arguments that are\npassed around. This makes the code more obvious as to what\nthe intended arguments are and makes it easier for error validation\nwhen other unknown arguments are passed (as well as for docs).\n\nAlso moves the docs for the worker engine to be a sub-TOC under\nthe main engine document so that it can be more easily explored\nand managed/found...\n\nChange-Id: I9413fad187c330fee494f0d4536cc27d9a90f0fb\n'}, {'number': 4, 'created': '2015-01-20 23:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/06940f5a625fe78adb06f635c918125a148d8f46', 'message': 'Use explicit WBE object arguments (instead of kwargs)\n\nInstead of passing around kwargs to root WBE classes and to\ncontained classes prefer to use explicitnamed arguments that are\npassed around. This makes the code more obvious as to what\nthe intended arguments are and makes it easier for error validation\nwhen other unknown arguments are passed (as well as for docs).\n\nAlso moves the docs for the worker engine to be a sub-TOC under\nthe main engine document so that it can be more easily explored\nand managed/found...\n\nChange-Id: I9413fad187c330fee494f0d4536cc27d9a90f0fb\n'}, {'number': 5, 'created': '2015-01-22 20:14:13.000000000', 'files': ['taskflow/engines/worker_based/server.py', 'doc/source/index.rst', 'taskflow/engines/worker_based/proxy.py', 'taskflow/tests/unit/worker_based/test_proxy.py', 'taskflow/engines/worker_based/executor.py', 'doc/source/workers.rst', 'doc/source/engines.rst', 'taskflow/tests/unit/worker_based/test_executor.py', 'taskflow/tests/unit/worker_based/test_worker.py', 'taskflow/tests/unit/worker_based/test_server.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/addc2864094286f34717a635bb73628def669151', 'message': 'Use explicit WBE object arguments (instead of kwargs)\n\nInstead of passing around kwargs to root WBE classes and to\ncontained classes prefer to use explicitnamed arguments that are\npassed around. This makes the code more obvious as to what\nthe intended arguments are and makes it easier for error validation\nwhen other unknown arguments are passed (as well as for docs).\n\nAlso moves the docs for the worker engine to be a sub-TOC under\nthe main engine document so that it can be more easily explored\nand managed/found...\n\nChange-Id: I9413fad187c330fee494f0d4536cc27d9a90f0fb\n'}]",0,148411,addc2864094286f34717a635bb73628def669151,16,2,5,1297,,,0,"Use explicit WBE object arguments (instead of kwargs)

Instead of passing around kwargs to root WBE classes and to
contained classes prefer to use explicitnamed arguments that are
passed around. This makes the code more obvious as to what
the intended arguments are and makes it easier for error validation
when other unknown arguments are passed (as well as for docs).

Also moves the docs for the worker engine to be a sub-TOC under
the main engine document so that it can be more easily explored
and managed/found...

Change-Id: I9413fad187c330fee494f0d4536cc27d9a90f0fb
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/11/148411/3 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/worker_based/server.py', 'taskflow/engines/worker_based/proxy.py', 'taskflow/tests/unit/worker_based/test_proxy.py', 'doc/source/workers.rst', 'taskflow/tests/unit/worker_based/test_executor.py', 'taskflow/engines/worker_based/engine.py', 'doc/source/index.rst', 'taskflow/engines/worker_based/executor.py', 'doc/source/engines.rst', 'taskflow/tests/unit/worker_based/test_worker.py', 'taskflow/engines/worker_based/worker.py', 'taskflow/tests/unit/worker_based/test_server.py']",12,457ece71b32aca445f53d36970c832c22797deee,ensure-retry," mock.ANY, url=self.broker_url, transport=mock.ANY, transport_options=mock.ANY, ensure_options=mock.ANY) mock.ANY, url=self.broker_url, transport=mock.ANY, transport_options=mock.ANY, ensure_options=mock.ANY)"," mock.ANY, url=self.broker_url, on_wait=mock.ANY) mock.ANY, url=self.broker_url, on_wait=mock.ANY)",95,66
openstack%2Ftaskflow~master~I91fea3db6cdd1dfb39963ff9589fd530fe087278,openstack/taskflow,master,I91fea3db6cdd1dfb39963ff9589fd530fe087278,Use a class provided logger before falling back to module,MERGED,2015-01-22 01:12:47.000000000,2015-01-23 06:56:47.000000000,2015-01-23 06:56:46.000000000,"[{'_account_id': 3}, {'_account_id': 1297}]","[{'number': 1, 'created': '2015-01-22 01:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0e415b6a4e816deb24d042d634e23c2071eafcba', 'message': 'Use a class provided logger before falling back to module\n\nIf a subclass overrides the logging listeners and provides\na class specific logger (under the attribute named _LOGGER)\ntry to use that before using the taskflow specific logging\nmodule (and only use this one as a last resort).\n\nThis allows subclasses to easily override the default logger\nwithout having to continually pass in a constructor argument\nto do the same.\n\nChange-Id: I91fea3db6cdd1dfb39963ff9589fd530fe087278\n'}, {'number': 2, 'created': '2015-01-22 07:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2bfc676486ff3ca519f5398f7015303459d385a6', 'message': 'Use a class provided logger before falling back to module\n\nIf a subclass overrides the logging listeners and provides\na class specific logger (under the attribute named _LOGGER)\ntry to use that before using the taskflow specific logging\nmodule (and only use this one as a last resort).\n\nThis allows subclasses to easily override the default logger\nwithout having to continually pass in a constructor argument\nto do the same.\n\nChange-Id: I91fea3db6cdd1dfb39963ff9589fd530fe087278\n'}, {'number': 3, 'created': '2015-01-22 22:57:17.000000000', 'files': ['taskflow/listeners/logging.py', 'taskflow/utils/misc.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/5773fb09e68030acbd318e45f795de4a6a37caee', 'message': 'Use a class provided logger before falling back to module\n\nIf a subclass overrides the logging listeners and provides\na class specific logger (under the attribute named _LOGGER)\ntry to use that before using the taskflow specific logging\nmodule (and only use this one as a last resort).\n\nThis allows subclasses to easily override the default logger\nwithout having to continually pass in a constructor argument\nto do the same.\n\nChange-Id: I91fea3db6cdd1dfb39963ff9589fd530fe087278\n'}]",0,149106,5773fb09e68030acbd318e45f795de4a6a37caee,12,2,3,1297,,,0,"Use a class provided logger before falling back to module

If a subclass overrides the logging listeners and provides
a class specific logger (under the attribute named _LOGGER)
try to use that before using the taskflow specific logging
module (and only use this one as a last resort).

This allows subclasses to easily override the default logger
without having to continually pass in a constructor argument
to do the same.

Change-Id: I91fea3db6cdd1dfb39963ff9589fd530fe087278
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/06/149106/1 && git format-patch -1 --stdout FETCH_HEAD,['taskflow/listeners/logging.py'],1,0e415b6a4e816deb24d042d634e23c2071eafcba,," (``taskflow.listeners.logging``) if none is provided (and no class attribute is overriden). The log level can also be configured, ``logging.DEBUG`` is used by default when none is provided. #: Default logger to use if one is not provided on construction. _LOGGER = None self._logger = self._LOGGER or LOG (``taskflow.listeners.logging``) if none is provided (and no class attribute is overriden). The log level can *slightly* be configured and ``logging.DEBUG`` or ``logging.WARNING`` (unless overriden via a constructor parameter) will be selected automatically based on the execution state and results produced. #: Default logger to use if one is not provided on construction. _LOGGER = None self._logger = self._LOGGER or LOG"," (``taskflow.listeners.logging``) if none is provided. The log level can also be configured, ``logging.DEBUG`` is used by default when none is provided. self._logger = LOG (``taskflow.listeners.logging``) if none is provided. The log level can *slightly* be configured and ``logging.DEBUG`` or ``logging.WARNING`` (unless overriden via a constructor parameter) will be selected automatically based on the execution state and results produced. self._logger = LOG",17,9
openstack%2Ftaskflow~master~I4e7bd64097e5e98586203beff79cb581b864b20c,openstack/taskflow,master,I4e7bd64097e5e98586203beff79cb581b864b20c,Fix leftover/remaining 'oslo.utils' usage,MERGED,2015-01-23 01:53:14.000000000,2015-01-23 06:56:31.000000000,2015-01-23 06:56:30.000000000,"[{'_account_id': 3}, {'_account_id': 1297}]","[{'number': 1, 'created': '2015-01-23 01:53:14.000000000', 'files': ['taskflow/types/futures.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/14695529c6dcfab1176380eaab76e9a400282593', 'message': ""Fix leftover/remaining 'oslo.utils' usage\n\nIt appears another usage of 'oslo.utils' must have merged\nso fix this to use the non-deprecated 'oslo_utils' import\ninstead.\n\nChange-Id: I4e7bd64097e5e98586203beff79cb581b864b20c\n""}]",0,149455,14695529c6dcfab1176380eaab76e9a400282593,6,2,1,1297,,,0,"Fix leftover/remaining 'oslo.utils' usage

It appears another usage of 'oslo.utils' must have merged
so fix this to use the non-deprecated 'oslo_utils' import
instead.

Change-Id: I4e7bd64097e5e98586203beff79cb581b864b20c
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/55/149455/1 && git format-patch -1 --stdout FETCH_HEAD,['taskflow/types/futures.py'],1,14695529c6dcfab1176380eaab76e9a400282593,,from oslo_utils import reflection,from oslo.utils import reflection,1,1
openstack%2Fproject-config~master~I71c77430d26baacac9c7b15ef4dd9b5df36ca58c,openstack/project-config,master,I71c77430d26baacac9c7b15ef4dd9b5df36ca58c,Add experimental glusterfs job,MERGED,2014-12-21 19:09:09.000000000,2015-01-23 06:39:46.000000000,2015-01-23 06:39:45.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 4523}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 10796}, {'_account_id': 13527}, {'_account_id': 14428}]","[{'number': 1, 'created': '2014-12-21 19:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b88fa90a6fa3659fa4432ae4444a68f768a6cfab', 'message': 'Add experimental glusterfs job\n\nAdd a job to the experimental pipeline that enables GlusterFS as a\nbackend for cinder. This change depends on:\n    https://review.openstack.org/#/c/143308/\n\nChange-Id: I71c77430d26baacac9c7b15ef4dd9b5df36ca58c\n'}, {'number': 2, 'created': '2015-01-08 07:31:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c6874073192df080007278c6e96b9f40baeb83ce', 'message': 'Add experimental glusterfs job\n\nAdd a job to the experimental pipeline that enables GlusterFS as a\nbackend for cinder. This change depends on:\n    https://review.openstack.org/#/c/143308/\n\nChange-Id: I71c77430d26baacac9c7b15ef4dd9b5df36ca58c\n'}, {'number': 3, 'created': '2015-01-11 13:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4bfea534912323384fb37082d5274a9d89859c06', 'message': 'Add experimental glusterfs job\n\nAdd a job to the experimental pipeline that enables GlusterFS as a\nbackend for cinder. This change depends on:\n    https://review.openstack.org/#/c/143308/\n\nChange-Id: I71c77430d26baacac9c7b15ef4dd9b5df36ca58c\n'}, {'number': 4, 'created': '2015-01-23 05:30:52.000000000', 'files': ['zuul/layout.yaml', 'jenkins/jobs/devstack-gate.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2082ceaf9fadb8b730681adf1f98941a9c5b927c', 'message': 'Add experimental glusterfs job\n\nAdd a job to the experimental pipeline that enables GlusterFS as a\nbackend for cinder. This change depends on:\n    https://review.openstack.org/#/c/143308/\n\nChange-Id: I71c77430d26baacac9c7b15ef4dd9b5df36ca58c\n'}]",0,143309,2082ceaf9fadb8b730681adf1f98941a9c5b927c,31,10,4,13527,,,0,"Add experimental glusterfs job

Add a job to the experimental pipeline that enables GlusterFS as a
backend for cinder. This change depends on:
    https://review.openstack.org/#/c/143308/

Change-Id: I71c77430d26baacac9c7b15ef4dd9b5df36ca58c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/09/143309/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul/layout.yaml', 'jenkins/jobs/devstack-gate.yaml']",2,b88fa90a6fa3659fa4432ae4444a68f768a6cfab,glusterfs-experimental-job,"- job-template: name: '{pipeline}-tempest-dsvm-full-glusterfs{branch-designator}' node: '{node}' wrappers: - build-timeout: timeout: 125 - timestamps builders: - link-logs - net-info - devstack-checkout - shell: | #!/bin/bash -xe export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TIMEOUT=120 export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_TEMPEST_FULL=1 export DEVSTACK_GATE_GLUSTERFS=1 export BRANCH_OVERRIDE={branch-override} if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh publishers: - devstack-logs - console-log - '{pipeline}-tempest-dsvm-full-glusterfs{branch-designator}'",,36,0
openstack%2Fcinder~stable%2Fjuno~I9d8c8eaaeba0a7aab7ebfc791b9ddd967f324184,openstack/cinder,stable/juno,I9d8c8eaaeba0a7aab7ebfc791b9ddd967f324184,"Defining the variable ""tmp"" before try block",MERGED,2015-01-21 13:20:40.000000000,2015-01-23 06:39:22.000000000,2015-01-23 06:39:21.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 4523}, {'_account_id': 8871}, {'_account_id': 9656}, {'_account_id': 9751}, {'_account_id': 10384}, {'_account_id': 12202}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12780}, {'_account_id': 14428}]","[{'number': 1, 'created': '2015-01-21 13:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cd201f8a0e323523fe4ebaf277c4d4b794c504e1', 'message': 'Defining the variable ""tmp"" before try block\n\nIn file ""image_utils.py"", ""tmp"" variable initialized in try\nblock. So, if any exception occurred in the try block, then\n""tmp"" would not be assigned with any value. Because of this\nfinally block will raise an exception like ""local variable\ntmp tried to use before the assignment"".\n\nThis patch resolves that issue by defining ""tmp"" variable before\ntry block.\n\nChange-Id: I9d8c8eaaeba0a7aab7ebfc791b9ddd967f324184\nCloses-Bug: #1394548\n'}, {'number': 2, 'created': '2015-01-21 15:50:58.000000000', 'files': ['cinder/image/image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6020cc6f85eb4ea534481951294c2c957db852bb', 'message': 'Defining the variable ""tmp"" before try block\n\nIn file ""image_utils.py"", ""tmp"" variable initialized in try\nblock. So, if any exception occurred in the try block, then\n""tmp"" would not be assigned with any value. Because of this\nfinally block will raise an exception like ""local variable\ntmp tried to use before the assignment"".\n\nThis patch resolves that issue by defining ""tmp"" variable before\ntry block.\n\nChange-Id: I9d8c8eaaeba0a7aab7ebfc791b9ddd967f324184\nCloses-Bug: #1394548\n(cherry picked from commit ec1189e4734ed9c1c39bab0175877bf011a32df0)\n'}]",0,148918,6020cc6f85eb4ea534481951294c2c957db852bb,26,12,2,10384,,,0,"Defining the variable ""tmp"" before try block

In file ""image_utils.py"", ""tmp"" variable initialized in try
block. So, if any exception occurred in the try block, then
""tmp"" would not be assigned with any value. Because of this
finally block will raise an exception like ""local variable
tmp tried to use before the assignment"".

This patch resolves that issue by defining ""tmp"" variable before
try block.

Change-Id: I9d8c8eaaeba0a7aab7ebfc791b9ddd967f324184
Closes-Bug: #1394548
(cherry picked from commit ec1189e4734ed9c1c39bab0175877bf011a32df0)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/148918/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/image/image_utils.py'],1,cd201f8a0e323523fe4ebaf277c4d4b794c504e1,bug/1394548, tmp = None if tmp: fileutils.delete_if_exists(tmp), fileutils.delete_if_exists(tmp),3,1
openstack%2Fopenstack-manuals~master~Ieccf976b201cecc4d783b445e6ac6107414440f8,openstack/openstack-manuals,master,Ieccf976b201cecc4d783b445e6ac6107414440f8,Imported Translations from Transifex,MERGED,2015-01-23 06:12:36.000000000,2015-01-23 06:36:04.000000000,2015-01-23 06:36:03.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-01-23 06:12:36.000000000', 'files': ['doc/user-guide/locale/ja.po', 'doc/user-guide/locale/fr.po', 'doc/arch-design/locale/arch-design.pot', 'doc/user-guide/locale/user-guide.pot'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3a4ff59c4a528425aebde47afd56bc3e10d14a41', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ieccf976b201cecc4d783b445e6ac6107414440f8\n'}]",0,149510,3a4ff59c4a528425aebde47afd56bc3e10d14a41,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: Ieccf976b201cecc4d783b445e6ac6107414440f8
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/10/149510/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/user-guide/locale/ja.po', 'doc/user-guide/locale/fr.po', 'doc/arch-design/locale/arch-design.pot', 'doc/user-guide/locale/user-guide.pot']",4,3a4ff59c4a528425aebde47afd56bc3e10d14a41,transifex/translations,"""POT-Creation-Date: 2015-01-23 06:11+0000\n""#: ./doc/user-guide/section_object-api-bulk-delete.xml:8(title) msgid ""Bulk delete"" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:9(para) msgid ""With bulk delete, you can delete up to 10,000 objects or containers (configurable) in one request."" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:12(title) msgid ""Bulk delete request"" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:13(para) msgid ""To perform a bulk delete operation, add the <parameter>bulk-delete</parameter> query parameter to the path of a or operation."" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:17(para) msgid ""The operation is supported for backwards compatibility."" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:20(para) msgid ""The path is the account, such as <literal>/v1/12345678912345</literal>, that contains the objects and containers."" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:23(para) msgid ""In the request body of the or operation, list the objects or containers to be deleted. Separate each name with a newline character. You can include a maximum of 10,000 items (configurable) in the list."" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:27(para) msgid ""In addition, you must:"" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:30(para) msgid ""UTF-8-encode and then URL-encode the names."" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:34(para) msgid ""To indicate an object, specify the container and object name as: <literal><replaceable>CONTAINER_NAME</replaceable>/<replaceable>OBJECT_NAME</replaceable></literal>."" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:39(para) msgid ""To indicate a container, specify the container name as: <literal><replaceable>CONTAINER_NAME</replaceable></literal>. Make sure that the container is empty. If it contains objects, Object Storage cannot delete the container."" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:47(para) msgid ""Set the <literal>Content-Type</literal> request header to <literal>text/plain</literal>."" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:53(title) msgid ""Bulk delete response"" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:54(para) msgid ""When Object Storage processes the request, it performs multiple sub-operations. Even if all sub-operations fail, the operation returns a <returnvalue>200</returnvalue> status. The bulk operation returns a response body that contains details that indicate which sub-operations have succeeded and failed. Some sub-operations might succeed while others fail. Examine the response body to determine the results of each delete sub-operation."" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:62(para) msgid ""You can set the <literal>Accept</literal> request header to one of the following values to define the response format:"" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:67(para) msgid ""<literal>text/plain</literal>. Formats response as plain text. If you omit the <literal>Accept</literal> header, <literal>text/plain</literal> is the default."" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:74(para) msgid ""<literal>application/json</literal>. Formats response as JSON."" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:78(para) msgid ""<literal>application/xml</literal> or <literal>text/xml</literal>. Formats response as XML."" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:83(para) msgid ""The response body contains the following information:"" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:87(para) msgid ""The number of files actually deleted."" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:90(para) msgid ""The number of not found objects."" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:93(para) msgid ""Errors. A list of object names and associated error statuses for the objects that failed to delete. The format depends on the value that you set in the <literal>Accept</literal> header."" msgstr """" #: ./doc/user-guide/section_object-api-bulk-delete.xml:100(para) msgid ""The following bulk delete response is in <literal>application/xml</literal> format. In this example, the <literal>mycontainer</literal> container is not empty, so it cannot be deleted."" msgstr """" ","""POT-Creation-Date: 2015-01-22 06:14+0000\n""",357,7
openstack%2Fsecurity-doc~master~I5eb901641ce97a7fe31324f6ed05d3ff3be6d2a5,openstack/security-doc,master,I5eb901641ce97a7fe31324f6ed05d3ff3be6d2a5,Imported Translations from Transifex,MERGED,2015-01-23 06:01:29.000000000,2015-01-23 06:35:47.000000000,2015-01-23 06:35:46.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-01-23 06:01:29.000000000', 'files': ['security-guide/locale/security-guide.pot', 'security-guide/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/209f11ff525df1810015621a7c2aa1c169e4ace2', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I5eb901641ce97a7fe31324f6ed05d3ff3be6d2a5\n'}]",0,149504,209f11ff525df1810015621a7c2aa1c169e4ace2,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I5eb901641ce97a7fe31324f6ed05d3ff3be6d2a5
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/04/149504/1 && git format-patch -1 --stdout FETCH_HEAD,"['security-guide/locale/security-guide.pot', 'security-guide/locale/ja.po']",2,209f11ff525df1810015621a7c2aa1c169e4ace2,transifex/translations,"""POT-Creation-Date: 2015-01-22 07:33+0000\n"" ""PO-Revision-Date: 2015-01-22 07:33+0000\n""""software and common deployment configurations. They are referenced "" ""throughout this guide. Security Notes are archived at <link ""msgstr """"","""POT-Creation-Date: 2015-01-20 18:23+0000\n"" ""PO-Revision-Date: 2015-01-20 09:57+0000\n""""software and common deployment configurations. They're referenced throughout"" "" this guide. Security Notes are archived at <link ""msgstr ""OpenStack セキュリティノート (OSSN: OpenStack Security Notes) は、VMT の作業をサポートする OpenStack セキュリティグループ (OSSG: OpenStack Security Group) が 作成しています。OSSN はソフトウェアや一般的なデプロイメント設定のサポートにおける問題に対応しています。本書でも OSNN については全体的に参照しています。セキュリティノートは <link href=\""https://launchpad.net/ossn/\"">https://launchpad.net/ossn/</link> でアーカイブされています。""",7,7
openstack%2Fironic-specs~master~I872adc215b747518183c0f1e84cde57ed3710b54,openstack/ironic-specs,master,I872adc215b747518183c0f1e84cde57ed3710b54,Replace requests lib to python-scciclient lib,MERGED,2015-01-19 01:19:55.000000000,2015-01-23 06:25:56.000000000,2015-01-23 01:29:18.000000000,"[{'_account_id': 3}, {'_account_id': 5805}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 13719}]","[{'number': 1, 'created': '2015-01-19 01:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/5ca0050f70d89d6d5b3eadcf27237ecda1cd07d4', 'message': 'Replace requests lib to python-scciclient lib\n\nReplaced requests lib to python-scciclient lib since scci module\nwritten by requests lib has been externalized as\npython-scciclient lib.\n\nChange-Id: I872adc215b747518183c0f1e84cde57ed3710b54\n'}, {'number': 2, 'created': '2015-01-19 13:55:01.000000000', 'files': ['specs/kilo/irmc-power-driver.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/622bdae6617aaafa93691e202babe68bf7d3f2b7', 'message': 'Replace requests lib to python-scciclient lib\n\nReplaced requests lib to python-scciclient lib since scci module\nwritten by requests lib has been externalized as\npython-scciclient lib.\n\nChange-Id: I872adc215b747518183c0f1e84cde57ed3710b54\n'}]",9,148145,622bdae6617aaafa93691e202babe68bf7d3f2b7,17,5,2,13719,,,0,"Replace requests lib to python-scciclient lib

Replaced requests lib to python-scciclient lib since scci module
written by requests lib has been externalized as
python-scciclient lib.

Change-Id: I872adc215b747518183c0f1e84cde57ed3710b54
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/45/148145/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/irmc-power-driver.rst'],1,5ca0050f70d89d6d5b3eadcf27237ecda1cd07d4,update-irmc-power-driver,ServerView Common Command Interface (SCCI) uses `python-scciclient package <https://pypi.python.org/pypi/python-scciclient>`_.* This feature requires `python-scciclient package <https://pypi.python.org/pypi/python-scciclient>`_ library.* `python-scciclient package <https://pypi.python.org/pypi/python-scciclient>`_,"ServerView Common Command Interface (SCCI) uses HTTP/HTTPS POST protocol. iRMC doesn't use external vendor library such as `OpenWSMAN library <http://openwsman.github.io/>`_ of DRAC or `proliantutils library <https://github.com/hpproliant/proliantutils>`_ of iLO. Instead, it makes HTTP/HTTPS POST requests to the SCCI server. The python `requests <https://pypi.python.org/pypi/requests>`_ library will be used for sending these HTTP requests.* This feature requires python `requests <https://pypi.python.org/pypi/requests>`_ library.* python `requests <https://pypi.python.org/pypi/requests>`_ library.",4,10
openstack%2Fhorizon~master~I9632490e94c5d5cd435363c74a2ec65546a9c29f,openstack/horizon,master,I9632490e94c5d5cd435363c74a2ec65546a9c29f,Fix incorrect mocking in quota tests,MERGED,2015-01-22 05:37:30.000000000,2015-01-23 05:48:11.000000000,2015-01-23 05:48:09.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 6914}, {'_account_id': 9981}, {'_account_id': 10442}, {'_account_id': 11798}]","[{'number': 1, 'created': '2015-01-22 05:37:30.000000000', 'files': ['openstack_dashboard/test/tests/quotas.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d54e7b91bbbda036e845f47e32aff0a0d7e77e26', 'message': ""Fix incorrect mocking in quota tests\n\nWe're using self.snapshots as the return value for volume_snapshot_list,\nwhich is a list of Glance snapshots. It should be\nself.cinder_volume_snapshots.\n\nAlso change the assert to assertItemsEqual since we're dealing with\ndictionaries.\n\nCloses-bug: 1413480\nChange-Id: I9632490e94c5d5cd435363c74a2ec65546a9c29f\n""}]",1,149150,d54e7b91bbbda036e845f47e32aff0a0d7e77e26,10,6,1,5733,,,0,"Fix incorrect mocking in quota tests

We're using self.snapshots as the return value for volume_snapshot_list,
which is a list of Glance snapshots. It should be
self.cinder_volume_snapshots.

Also change the assert to assertItemsEqual since we're dealing with
dictionaries.

Closes-bug: 1413480
Change-Id: I9632490e94c5d5cd435363c74a2ec65546a9c29f
",git fetch https://review.opendev.org/openstack/horizon refs/changes/50/149150/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/tests/quotas.py'],1,d54e7b91bbbda036e845f47e32aff0a0d7e77e26,bug/1413480," .AndReturn(self.cinder_volume_snapshots.list()) self.assertItemsEqual(expected_output, quota_usages.usages) self.assertItemsEqual(expected_output, quota_usages.usages) self.assertItemsEqual(expected_output, quota_usages.usages) .AndReturn(self.cinder_volume_snapshots.list()) self.assertItemsEqual(expected_output, quota_usages.usages) .AndReturn(self.cinder_volume_snapshots.list()) self.assertItemsEqual(expected_output, quota_usages.usages)"," .AndReturn(self.snapshots.list()) self.assertEqual(expected_output, quota_usages.usages) self.assertEqual(expected_output, quota_usages.usages) self.assertEqual(expected_output, quota_usages.usages) .AndReturn(self.snapshots.list()) self.assertEqual(quota_usages.usages, expected_output) .AndReturn(self.snapshots.list()) self.assertEqual(expected_output, quota_usages.usages)",8,8
openstack%2Fpython-manilaclient~master~Iad6b1d97a9c43dd24c2c6837bb71739a6f09bb1e,openstack/python-manilaclient,master,Iad6b1d97a9c43dd24c2c6837bb71739a6f09bb1e,Add info about functional tests run to docs,MERGED,2015-01-14 14:03:46.000000000,2015-01-23 05:15:10.000000000,2015-01-23 05:15:09.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 7102}]","[{'number': 1, 'created': '2015-01-14 14:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/0be742fc4b63cc98cfbbf752a2aae88335bf8fc1', 'message': 'Add info about functional tests run to docs\n\nMake doc with tests description up-to-date and provide there information\nthat describes how to run functional tests.\n\nPartially implements bp functional-tests\n\nChange-Id: Iad6b1d97a9c43dd24c2c6837bb71739a6f09bb1e\n'}, {'number': 2, 'created': '2015-01-14 15:41:28.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a05a48b59c45e0609bafe1f77735be5beb0b9f2e', 'message': 'Add info about functional tests run to docs\n\nMake doc with tests description up-to-date and provide there information\nthat describes how to run functional tests.\n\nPartially implements bp functional-tests\n\nChange-Id: Iad6b1d97a9c43dd24c2c6837bb71739a6f09bb1e\n'}]",0,147161,a05a48b59c45e0609bafe1f77735be5beb0b9f2e,10,4,2,8851,,,0,"Add info about functional tests run to docs

Make doc with tests description up-to-date and provide there information
that describes how to run functional tests.

Partially implements bp functional-tests

Change-Id: Iad6b1d97a9c43dd24c2c6837bb71739a6f09bb1e
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/61/147161/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,0be742fc4b63cc98cfbbf752a2aae88335bf8fc1,bp/functional-tests,"Manilaclient has two types of tests - 'unit' and 'functional'. The preferred way to run tests is using ``tox``.Functional tests ---------------- Functional CLI tests require several things to be able to run: - Deployed and working manila service. - Configured config file. Config file is used to get information like 'auth_url', 'username', 'tenant_name' and 'password'. To get config sample need to run following 'tox' job: $ tox -e genconfig This will create file 'etc/manilaclient/manilaclient.conf.sample' with all available config opts. Then rename it removing "".sample"" and set values for opts there. After it, tests can be run using following tox job: $ tox -e functional ",The preferred way to run the unit tests is using ``tox``.,20,1
openstack%2Fpython-manilaclient~master~I1676578025696f3fbd7dce693c2599c797b05100,openstack/python-manilaclient,master,I1676578025696f3fbd7dce693c2599c797b05100,Updated from global requirements,MERGED,2015-01-08 18:51:08.000000000,2015-01-23 05:12:36.000000000,2015-01-23 05:12:36.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 8851}, {'_account_id': 13634}]","[{'number': 1, 'created': '2015-01-08 18:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/d1341a1c7d3154695727e8f3cd69dec57720340b', 'message': 'Updated from global requirements\n\nChange-Id: I1676578025696f3fbd7dce693c2599c797b05100\n'}, {'number': 2, 'created': '2015-01-09 18:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/15bfa1dabd6f900d1c56e0eb5c68fec0648c9027', 'message': 'Updated from global requirements\n\nChange-Id: I1676578025696f3fbd7dce693c2599c797b05100\n'}, {'number': 3, 'created': '2015-01-13 00:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/821e1917f7755fb779365374b73aca7b3fd98c4f', 'message': 'Updated from global requirements\n\nChange-Id: I1676578025696f3fbd7dce693c2599c797b05100\n'}, {'number': 4, 'created': '2015-01-15 02:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/6a8240d64dc38394307fce2992c9a31bc1e38df8', 'message': 'Updated from global requirements\n\nChange-Id: I1676578025696f3fbd7dce693c2599c797b05100\n'}, {'number': 5, 'created': '2015-01-23 04:38:14.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/328b805b96469878e40328d7feff82290912b28b', 'message': 'Updated from global requirements\n\nChange-Id: I1676578025696f3fbd7dce693c2599c797b05100\n'}]",0,145898,328b805b96469878e40328d7feff82290912b28b,21,6,5,11131,,,0,"Updated from global requirements

Change-Id: I1676578025696f3fbd7dce693c2599c797b05100
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/98/145898/5 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d1341a1c7d3154695727e8f3cd69dec57720340b,openstack/requirements,oslo.config>=1.6.0 # Apache-2.0,oslo.config>=1.4.0 # Apache-2.0,1,1
openstack%2Fopenstack-manuals~master~I78c69ba22a61df7d9cbff17bf7381ecb904ac18b,openstack/openstack-manuals,master,I78c69ba22a61df7d9cbff17bf7381ecb904ac18b,Adds bulk delete information to End User Guide,MERGED,2015-01-20 19:16:52.000000000,2015-01-23 05:10:22.000000000,2015-01-23 05:10:22.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 6547}, {'_account_id': 7923}]","[{'number': 1, 'created': '2015-01-20 19:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ace2ea874c07adc84353f5c4c24f1d335a437c96', 'message': 'Adds bulk delete information to End User Guide\n\nWith the moving of the Object Storage API content from a\nlong-form dev guide to a specification, some topics needed\nTo be added to the End User Guide.\n\nChange-Id: I78c69ba22a61df7d9cbff17bf7381ecb904ac18b\nPartial-bug: 1392382\n'}, {'number': 2, 'created': '2015-01-22 20:31:46.000000000', 'files': ['doc/user-guide/section_cli_swift_howto.xml', 'doc/user-guide/section_object-api-bulk-delete.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/72de76c851a47d6385b1897972d79ca3e0ae7c3e', 'message': 'Adds bulk delete information to End User Guide\n\nWith the moving of the Object Storage API content from a\nlong-form dev guide to a specification, some topics needed\nTo be added to the End User Guide.\n\nChange-Id: I78c69ba22a61df7d9cbff17bf7381ecb904ac18b\nPartial-bug: 1392382\n'}]",0,148695,72de76c851a47d6385b1897972d79ca3e0ae7c3e,11,4,2,12454,,,0,"Adds bulk delete information to End User Guide

With the moving of the Object Storage API content from a
long-form dev guide to a specification, some topics needed
To be added to the End User Guide.

Change-Id: I78c69ba22a61df7d9cbff17bf7381ecb904ac18b
Partial-bug: 1392382
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/95/148695/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/user-guide/section_cli_swift_howto.xml', 'doc/user-guide/section_object-api-bulk-delete.xml']",2,ace2ea874c07adc84353f5c4c24f1d335a437c96,bug/1392382,"<?xml version=""1.0"" encoding=""UTF-8""?> <!DOCTYPE section [ <!ENTITY % openstack SYSTEM ""../common/entities/openstack.ent""> %openstack; ]> <section xmlns=""http://docbook.org/ns/docbook"" xmlns:xi=""http://www.w3.org/2001/XInclude"" xmlns:xlink=""http://www.w3.org/1999/xlink"" version=""5.0"" xml:id=""bulk-delete""> <?dbhtml stop-chunking?> <title>Bulk delete</title> <para>With bulk delete, you can delete up to 10,000 objects or containers (configurable) in one request.</para> <section xml:id=""bulk-delete-request""> <title>Bulk delete request</title> <para>To perform a bulk delete operation, add the <parameter>bulk-delete</parameter> query parameter to the path of a &POST; or &DELETE; operation.</para> <note> <para>The &DELETE; operation is supported for backwards compatibility.</para> </note> <para>The path is the account, such as <literal>/v1/12345678912345</literal>, that contains the objects and containers.</para> <para>In the request body of the &POST; or &DELETE; operation, list the objects or containers to be deleted. Separate each name with a newline character. You can include a maximum of 10,000 items (configurable) in the list.</para> <para>In addition, you must:</para> <itemizedlist> <listitem> <para>UTF-8-encode and then URL-encode the names.</para> </listitem> <listitem> <para>To indicate an object, specify the container and object name as: <literal><replaceable>CONTAINER_NAME</replaceable>/<replaceable>OBJECT_NAME</replaceable></literal>.</para> </listitem> <listitem> <para>To indicate a container, specify the container name as: <literal><replaceable>CONTAINER_NAME</replaceable></literal>. Make sure that the container is empty. If it contains objects, Object Storage cannot delete the container.</para> </listitem> <listitem> <para>Set the <literal>Content-Type</literal> request header to <literal>text/plain</literal>.</para> </listitem> </itemizedlist> </section> <section xml:id=""bulk-delete-response""> <title>Bulk delete response</title> <para>When Object Storage processes the request, it performs multiple sub-operations. Even if all sub-operations fail, the operation returns a <returnvalue>200</returnvalue> status. The bulk operation returns a response body that contains details that indicate which sub-operations have succeeded and failed. Some sub-operations might succeed while others fail. Examine the response body to determine the results of each delete sub-operation.</para> <para>You can set the <literal>Accept</literal> request header to one of the following values to define the response format:</para> <itemizedlist> <listitem> <para><literal>text/plain</literal>. Formats response as plain text. If you omit the <literal>Accept</literal> header, <literal>text/plain</literal> is the default.</para> </listitem> <listitem> <para><literal>application/json</literal>. Formats response as JSON.</para> </listitem> <listitem> <para><literal>application/xml</literal> or <literal>text/xml</literal>. Formats response as XML.</para> </listitem> </itemizedlist> <para>The response body contains the following information:</para> <itemizedlist> <listitem> <para>The number of files actually deleted.</para> </listitem> <listitem> <para>The number of not found objects.</para> </listitem> <listitem> <para>Errors. A list of object names and associated error statuses for the objects that failed to delete. The format depends on the value that you set in the <literal>Accept</literal> header.</para> </listitem> </itemizedlist> <para>The following bulk delete response is in <literal>application/xml</literal> format. In this example, the <literal>mycontainer</literal> container is not empty, so it cannot be deleted.</para> <screen><computeroutput>&lt;delete> &lt;number_deleted>2&lt;/number_deleted> &lt;number_not_found>4&lt;/number_not_found> &lt;errors> &lt;object> &lt;name>/v1/12345678912345/mycontainer&lt;/name> &lt;status>409 Conflict&lt;/status> &lt;/object> &lt;/errors> &lt;/delete></computeroutput></screen> </section> </section> ",,116,0
openstack%2Ftrove~master~I69f47806f1552358071b031a9ef68f016df0e7c2,openstack/trove,master,I69f47806f1552358071b031a9ef68f016df0e7c2,Correct calls to mask_password() which no longer work,MERGED,2015-01-22 19:07:26.000000000,2015-01-23 04:55:44.000000000,2015-01-23 04:55:43.000000000,"[{'_account_id': 3}, {'_account_id': 5293}, {'_account_id': 6547}, {'_account_id': 6928}, {'_account_id': 8214}, {'_account_id': 9664}, {'_account_id': 9746}, {'_account_id': 10215}, {'_account_id': 10725}]","[{'number': 1, 'created': '2015-01-22 19:07:26.000000000', 'files': ['trove/instance/service.py', 'trove/extensions/mysql/service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/53213dea1f743a8baa94c2bd9b3994ef191c449e', 'message': ""Correct calls to mask_password() which no longer work\n\nThere were some places in the code where the mask_password() routine\nwas being called incorrectly and these now resulted in a failure due\nto a newer version of oslo.utils (strutils).\n\nI've fixed the one location which was causing the reported failure and\nseven other places where the same incorrect code was present.\n\nChange-Id: I69f47806f1552358071b031a9ef68f016df0e7c2\nCloses-Bug: 1413677\n""}]",7,149369,53213dea1f743a8baa94c2bd9b3994ef191c449e,17,9,1,9664,,,0,"Correct calls to mask_password() which no longer work

There were some places in the code where the mask_password() routine
was being called incorrectly and these now resulted in a failure due
to a newer version of oslo.utils (strutils).

I've fixed the one location which was causing the reported failure and
seven other places where the same incorrect code was present.

Change-Id: I69f47806f1552358071b031a9ef68f016df0e7c2
Closes-Bug: 1413677
",git fetch https://review.opendev.org/openstack/trove refs/changes/69/149369/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/instance/service.py', 'trove/extensions/mysql/service.py']",2,53213dea1f743a8baa94c2bd9b3994ef191c449e,bug/1413677," LOG.info(_(""req : '%s'\n\n"") % logging.mask_password(req)) LOG.info(_(""body : '%s'\n\n"") % logging.mask_password(body)) LOG.info(_(""req : '%s'\n\n"") % logging.mask_password(req)) LOG.info(_(""req : '%s'\n\n"") % logging.mask_password(req))"," LOG.info(logging.mask_password(_(""req : '%s'\n\n"") % req)) LOG.info(logging.mask_password(_(""body : '%s'\n\n"") % body)) LOG.info(logging.mask_password(_(""req : '%s'\n\n"") % req)) LOG.info(logging.mask_password(_(""req : '%s'\n\n"") % req))",8,8
openstack%2Fironic~master~I96b915eb9a4039cf32b8b1dda2c458ee51f2c55d,openstack/ironic,master,I96b915eb9a4039cf32b8b1dda2c458ee51f2c55d,Bring in Nova's pylint tox config,ABANDONED,2014-09-02 07:27:20.000000000,2015-01-23 04:42:21.000000000,,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 6773}, {'_account_id': 8125}, {'_account_id': 10239}, {'_account_id': 12081}, {'_account_id': 12356}]","[{'number': 1, 'created': '2014-09-02 07:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5fb1b894cdaa4b58a3788c213651f2ed46c957a0', 'message': ""Bring in Nova's pylint tox config\n\nThis patch brings in Nova's pylint configuration, and presents a tox\ntarget.  Hopefully this will help us keep code quality high.\n\nChange-Id: I96b915eb9a4039cf32b8b1dda2c458ee51f2c55d\n""}, {'number': 2, 'created': '2014-09-02 07:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/63ea5791e4ae4b2f2eb44ccec9dbc8b0e3c95517', 'message': ""Bring in Nova's pylint tox config\n\nThis patch brings in Nova's pylint configuration, and presents a tox\ntarget.  Hopefully this will help us keep code quality high.\n\nCo-authored-by: Yun Mao <yunmao@gmail.com>\n\nChange-Id: I96b915eb9a4039cf32b8b1dda2c458ee51f2c55d\n""}, {'number': 3, 'created': '2014-10-17 06:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ff48d51d3acb15fb591aecdd437bacbb9392a82c', 'message': ""Bring in Nova's pylint tox config\n\nThis patch brings in Nova's pylint configuration, and presents a tox\ntarget.  Hopefully this will help us keep code quality high.\n\nCo-authored-by: Yun Mao <yunmao@gmail.com>\n\nChange-Id: I96b915eb9a4039cf32b8b1dda2c458ee51f2c55d\n""}, {'number': 4, 'created': '2014-10-19 22:26:26.000000000', 'files': ['tools/lintstack.py', 'pylintrc', '.gitignore', 'test-requirements.txt', 'tools/lintstack.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/59e329766f49609631794faddc53fb4fd6ffdacd', 'message': ""Bring in Nova's pylint tox config\n\nThis patch brings in Nova's pylint configuration, and presents a tox\ntarget.  Hopefully this will help us keep code quality high.\n\nCo-authored-by: Yun Mao <yunmao@gmail.com>\n\nChange-Id: I96b915eb9a4039cf32b8b1dda2c458ee51f2c55d\n""}]",8,118270,59e329766f49609631794faddc53fb4fd6ffdacd,28,7,4,8125,,,0,"Bring in Nova's pylint tox config

This patch brings in Nova's pylint configuration, and presents a tox
target.  Hopefully this will help us keep code quality high.

Co-authored-by: Yun Mao <yunmao@gmail.com>

Change-Id: I96b915eb9a4039cf32b8b1dda2c458ee51f2c55d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/70/118270/4 && git format-patch -1 --stdout FETCH_HEAD,"['tools/lintstack.py', 'pylintrc', '.gitignore', 'test-requirements.txt', 'tools/lintstack.sh', 'tox.ini']",6,5fb1b894cdaa4b58a3788c213651f2ed46c957a0,118270, [testenv:pylint] commands = bash tools/lintstack.sh,,306,0
openstack%2Fnova~master~Ieedbd2cc394a3d0ae99be115987377509f6841c9,openstack/nova,master,Ieedbd2cc394a3d0ae99be115987377509f6841c9,Fix v2.1 os-tenant-networks/networks API,MERGED,2015-01-06 08:37:36.000000000,2015-01-23 04:28:39.000000000,2015-01-23 04:28:36.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-06 08:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fd0df97be657577acf44246f965d278cf936474', 'message': ""Fix v2.1 os-tenant-networks/networks API\n\nIed70ab493982896cd974bb5a98ca92d95352e80f has changed neutronapi\nvalues to objects from bare dicts, and has changed v2.0 API code\nto handle objects. However it didn't change v2.1 API code and\nv2.1 API is broken now.\nThis patch applies the above commit to v2.1 API.\n\nCloses-Bug: #1407885\nChange-Id: Ieedbd2cc394a3d0ae99be115987377509f6841c9\n""}, {'number': 2, 'created': '2015-01-21 05:34:02.000000000', 'files': ['nova/api/openstack/compute/plugins/v3/networks.py', 'nova/api/openstack/compute/plugins/v3/tenant_networks.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d260bcdec99a2b49396e1132e48fb505e163581e', 'message': ""Fix v2.1 os-tenant-networks/networks API\n\nIed70ab493982896cd974bb5a98ca92d95352e80f has changed neutronapi\nvalues to objects from bare dicts, and has changed v2.0 API code\nto handle objects. However it didn't change v2.1 API code and\nv2.1 API is broken now.\nThis patch applies the above commit to v2.1 API.\n\nCloses-Bug: #1407885\nChange-Id: Ieedbd2cc394a3d0ae99be115987377509f6841c9\n""}]",0,145165,d260bcdec99a2b49396e1132e48fb505e163581e,31,14,2,6167,,,0,"Fix v2.1 os-tenant-networks/networks API

Ied70ab493982896cd974bb5a98ca92d95352e80f has changed neutronapi
values to objects from bare dicts, and has changed v2.0 API code
to handle objects. However it didn't change v2.1 API code and
v2.1 API is broken now.
This patch applies the above commit to v2.1 API.

Closes-Bug: #1407885
Change-Id: Ieedbd2cc394a3d0ae99be115987377509f6841c9
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/145165/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/plugins/v3/networks.py', 'nova/api/openstack/compute/plugins/v3/tenant_networks.py']",2,4fd0df97be657577acf44246f965d278cf936474,bug-fix," # NOTE(danms): Here, network should be an object, which could have come # from neutron and thus be missing most of the attributes. Providing a # default to get() avoids trying to lazy-load missing attributes. return {""id"": network.get(""uuid"", None) or network.get(""id"", None), ""cidr"": str(network.get(""cidr"", None)), ""label"": network.get(""label"", None)}"," return {""id"": network.get(""uuid"") or network.get(""id""), ""cidr"": str(network.get(""cidr"")), ""label"": network.get(""label"")}",14,7
openstack%2Ftempest~master~I221db92f0137b2333df5c6be2be352a697bdf42d,openstack/tempest,master,I221db92f0137b2333df5c6be2be352a697bdf42d,Remove CONF values from network client,MERGED,2015-01-21 01:18:34.000000000,2015-01-23 04:27:50.000000000,2015-01-23 04:27:48.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-21 01:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6b8b0ac0ea862e04908158dc80c5fee368e6d645', 'message': 'Remove CONF values from network client\n\nTo move network client to tempest-lib, this patch moves\nCONF values from network client to the client setting.\n\nChange-Id: I221db92f0137b2333df5c6be2be352a697bdf42d\n'}, {'number': 2, 'created': '2015-01-21 05:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/168d2422f337c037de2bc14c65f21cd3ddd6c75c', 'message': 'Remove CONF values from network client\n\nTo move network client to tempest-lib, this patch moves\nCONF values from network client to the client setting.\n\nChange-Id: I221db92f0137b2333df5c6be2be352a697bdf42d\n'}, {'number': 3, 'created': '2015-01-22 04:27:38.000000000', 'files': ['tempest/cmd/javelin.py', 'tempest/services/network/json/network_client.py', 'tempest/clients.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a182e8637dcd341f3ab9c6724ab9bf5563cdda2e', 'message': 'Remove CONF values from network client\n\nTo move network client to tempest-lib, this patch moves\nCONF values from network client to the client setting.\n\nChange-Id: I221db92f0137b2333df5c6be2be352a697bdf42d\n'}]",0,148773,a182e8637dcd341f3ab9c6724ab9bf5563cdda2e,22,5,3,6167,,,0,"Remove CONF values from network client

To move network client to tempest-lib, this patch moves
CONF values from network client to the client setting.

Change-Id: I221db92f0137b2333df5c6be2be352a697bdf42d
",git fetch https://review.opendev.org/openstack/tempest refs/changes/73/148773/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/cmd/javelin.py', 'tempest/services/network/json/network_client.py', 'tempest/clients.py']",3,6b8b0ac0ea862e04908158dc80c5fee368e6d645,service-client," self.network_client = NetworkClientJSON( self.auth_provider, CONF.network.catalog_type, CONF.network.region or CONF.identity.region, endpoint_type=CONF.network.endpoint_type, build_interval=CONF.network.build_interval, build_timeout=CONF.network.build_timeout, **self.default_params)", self.network_client = NetworkClientJSON(self.auth_provider),18,15
openstack%2Frequirements~master~Iaf6132d2720351e981f463d9966c22afae8ebdf3,openstack/requirements,master,Iaf6132d2720351e981f463d9966c22afae8ebdf3,Update barbicanclient requirement to 3.x,MERGED,2015-01-10 00:27:24.000000000,2015-01-23 04:26:58.000000000,2015-01-23 04:26:56.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 7973}, {'_account_id': 10273}]","[{'number': 1, 'created': '2015-01-10 00:27:24.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/11fc0ec1c05bb7f77d5b7fdbb9fdcba3ae936ee9', 'message': ""Update barbicanclient requirement to 3.x\n\nThe 2.x and 3.x branches of python-barbicanclient are API incompatible.\nSince the only other option is to allow projects to specify their own\nversion requirement (which isn't possible), and since Barbican hasn't\nactually been promoted yet, it seems reasonable to force an update to\nthe latest branch of the client now. This way, it will guarantee\neveryone is on the new client by the time Barbican is promoted.\n\nChange-Id: Iaf6132d2720351e981f463d9966c22afae8ebdf3\n""}]",0,146231,11fc0ec1c05bb7f77d5b7fdbb9fdcba3ae936ee9,20,6,1,10273,,,0,"Update barbicanclient requirement to 3.x

The 2.x and 3.x branches of python-barbicanclient are API incompatible.
Since the only other option is to allow projects to specify their own
version requirement (which isn't possible), and since Barbican hasn't
actually been promoted yet, it seems reasonable to force an update to
the latest branch of the client now. This way, it will guarantee
everyone is on the new client by the time Barbican is promoted.

Change-Id: Iaf6132d2720351e981f463d9966c22afae8ebdf3
",git fetch https://review.opendev.org/openstack/requirements refs/changes/31/146231/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,11fc0ec1c05bb7f77d5b7fdbb9fdcba3ae936ee9,,python-barbicanclient>=3.0.1,"python-barbicanclient>=2.1.0,!=3.0.0",1,1
openstack%2Fcookbook-openstack-compute~master~I2d36011d840c9bb304f1704e720505c7579eccec,openstack/cookbook-openstack-compute,master,I2d36011d840c9bb304f1704e720505c7579eccec,Add attributes to allow endpoint configuration,ABANDONED,2014-12-18 06:32:14.000000000,2015-01-23 03:42:56.000000000,,"[{'_account_id': 3}, {'_account_id': 12612}]","[{'number': 1, 'created': '2014-12-18 06:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/1260940d16d9d3fafd9feecb3ed592b67d81c197', 'message': 'Add attributes to allow endpoint configuration\n\nThis patch adds the requried changes to utilize the changes in\ncookbook-openstack-common to allow each individual endpoint to be\nconfigurable\n\nChange-Id: I2d36011d840c9bb304f1704e720505c7579eccec\nPartial-Bug: 1403724\n'}, {'number': 2, 'created': '2015-01-21 04:16:54.000000000', 'files': ['spec/identity_registration_spec.rb', 'CHANGELOG.md', 'metadata.rb', 'recipes/identity_registration.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/5215021746a65c056b3eb392aecc9beb66f1f0dd', 'message': 'Add attributes to allow endpoint configuration\n\nThis patch adds the requried changes to utilize the changes in\ncookbook-openstack-common to allow each individual endpoint to be\nconfigurable\n\nChange-Id: I2d36011d840c9bb304f1704e720505c7579eccec\nPartial-Bug: 1403724\n'}]",0,142685,5215021746a65c056b3eb392aecc9beb66f1f0dd,6,2,2,12612,,,0,"Add attributes to allow endpoint configuration

This patch adds the requried changes to utilize the changes in
cookbook-openstack-common to allow each individual endpoint to be
configurable

Change-Id: I2d36011d840c9bb304f1704e720505c7579eccec
Partial-Bug: 1403724
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/85/142685/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/identity_registration_spec.rb', 'CHANGELOG.md', 'metadata.rb', 'recipes/identity_registration.rb']",4,1260940d16d9d3fafd9feecb3ed592b67d81c197,bug/1403724,nova_admin_endpoint = endpoint 'compute-admin' nova_internal_endpoint = endpoint 'compute-internal' nova_public_endpoint = endpoint 'compute-api'ec2_internal_endpoint = endpoint 'compute-ec2-internal' endpoint_adminurl ::URI.decode nova_admin_endpoint.to_s endpoint_internalurl ::URI.decode nova_internal_endpoint.to_s endpoint_publicurl ::URI.decode nova_public_endpoint.to_s endpoint_internalurl ::URI.decode ec2_internal_endpoint.to_s,nova_api_endpoint = endpoint 'compute-api' endpoint_adminurl ::URI.decode nova_api_endpoint.to_s endpoint_internalurl ::URI.decode nova_api_endpoint.to_s endpoint_publicurl ::URI.decode nova_api_endpoint.to_s endpoint_internalurl ::URI.decode ec2_public_endpoint.to_s,53,7
openstack%2Fneutron~master~I9bb380ad2ef0c1ab0f96904625e6d228f2e505da,openstack/neutron,master,I9bb380ad2ef0c1ab0f96904625e6d228f2e505da,Remove useless constant from l3 agent module,MERGED,2015-01-22 09:42:53.000000000,2015-01-23 02:54:07.000000000,2015-01-22 15:45:51.000000000,"[{'_account_id': 3}, {'_account_id': 2035}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6072}, {'_account_id': 6524}, {'_account_id': 7249}, {'_account_id': 7448}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}]","[{'number': 1, 'created': '2015-01-22 09:42:53.000000000', 'files': ['neutron/agent/l3/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c3dd4dcaaef06690c4eb5cfb9d441ad599fe1515', 'message': 'Remove useless constant from l3 agent module\n\nThis change removes the RPC_LOOP_INTERVAL which is never used.\n\nChange-Id: I9bb380ad2ef0c1ab0f96904625e6d228f2e505da\n'}]",0,149197,c3dd4dcaaef06690c4eb5cfb9d441ad599fe1515,23,21,1,8124,,,0,"Remove useless constant from l3 agent module

This change removes the RPC_LOOP_INTERVAL which is never used.

Change-Id: I9bb380ad2ef0c1ab0f96904625e6d228f2e505da
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/149197/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/agent.py'],1,c3dd4dcaaef06690c4eb5cfb9d441ad599fe1515,cleaning,,RPC_LOOP_INTERVAL = 1,0,1
openstack%2Fhorizon~master~I2c87227c6536e7620c4be584c066c47ebf3b2a08,openstack/horizon,master,I2c87227c6536e7620c4be584c066c47ebf3b2a08,Make some code downward compatible,ABANDONED,2014-12-29 14:53:01.000000000,2015-01-23 02:42:46.000000000,,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 5623}, {'_account_id': 6763}, {'_account_id': 9531}, {'_account_id': 12071}, {'_account_id': 13086}]","[{'number': 1, 'created': '2014-12-29 14:53:01.000000000', 'files': ['openstack_dashboard/dashboards/project/access_and_security/api_access/tests.py', 'openstack_dashboard/api/neutron.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ceeb3d5cb0293e6121db27026e795967bd4582bd', 'message': 'Make some code downward compatible\n\nThere is some code cannot be executed in a python2.6 environment,\nalthough python2.6 has not been deprecated.\nThis patch is to make some code compatible with python2.6.\n\nChange-Id: I2c87227c6536e7620c4be584c066c47ebf3b2a08\n'}]",0,144309,ceeb3d5cb0293e6121db27026e795967bd4582bd,10,7,1,9531,,,0,"Make some code downward compatible

There is some code cannot be executed in a python2.6 environment,
although python2.6 has not been deprecated.
This patch is to make some code compatible with python2.6.

Change-Id: I2c87227c6536e7620c4be584c066c47ebf3b2a08
",git fetch https://review.opendev.org/openstack/horizon refs/changes/09/144309/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/access_and_security/api_access/tests.py', 'openstack_dashboard/api/neutron.py']",2,ceeb3d5cb0293e6121db27026e795967bd4582bd,downward_compatible," vip_dict = dict([(v['port_id'], v['name']) for v in self.client.list_vips().get('vips', [])])"," vip_dict = {v['port_id']: v['name'] for v in self.client.list_vips().get('vips', [])}",4,4
openstack%2Fnova~master~If7429244f09ddc7a6b4ef211cc617d99585d06cb,openstack/nova,master,If7429244f09ddc7a6b4ef211cc617d99585d06cb,Fix wrong instructions for rebuilding API samples,MERGED,2015-01-16 03:27:57.000000000,2015-01-23 02:10:05.000000000,2015-01-23 02:10:02.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-16 03:27:57.000000000', 'files': ['nova/tests/functional/api_samples/README.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/260263db4172cacd10ce12d81bcf2f76b1ad474d', 'message': 'Fix wrong instructions for rebuilding API samples\n\nThe instructions in nova/tests/functional/api_samples/README.rst say to\nrun ""GENERATE_SAMPLES=True tox -epy27 nova.tests.unit.integrated"", but\nthat path doesn\'t exist anymore.\n\nIt looks like this was missed when a bunch of functional tests were\nmoved into nova/tests/functional.\n\nRunning ""GENERATE_SAMPLES=True tox -e functional"" instead.\n\nChange-Id: If7429244f09ddc7a6b4ef211cc617d99585d06cb\nCloses-bug: #1410924\n'}]",0,147737,260263db4172cacd10ce12d81bcf2f76b1ad474d,15,11,1,4428,,,0,"Fix wrong instructions for rebuilding API samples

The instructions in nova/tests/functional/api_samples/README.rst say to
run ""GENERATE_SAMPLES=True tox -epy27 nova.tests.unit.integrated"", but
that path doesn't exist anymore.

It looks like this was missed when a bunch of functional tests were
moved into nova/tests/functional.

Running ""GENERATE_SAMPLES=True tox -e functional"" instead.

Change-Id: If7429244f09ddc7a6b4ef211cc617d99585d06cb
Closes-bug: #1410924
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/147737/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/api_samples/README.rst'],1,260263db4172cacd10ce12d81bcf2f76b1ad474d,fix-instructions, GENERATE_SAMPLES=True tox -e functional, GENERATE_SAMPLES=True tox -epy27 nova.tests.unit.integrated,1,1
openstack%2Fdesignate~master~I610687878be9dee8065ebc492f662e86bbeb8ce7,openstack/designate,master,I610687878be9dee8065ebc492f662e86bbeb8ce7,The New Agent,MERGED,2015-01-22 01:41:05.000000000,2015-01-23 01:51:53.000000000,2015-01-23 01:51:51.000000000,"[{'_account_id': 3}, {'_account_id': 8094}, {'_account_id': 8099}, {'_account_id': 8174}]","[{'number': 1, 'created': '2015-01-22 01:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/81c945336e9a24b1f96416cfe4d2db1fa01fb384', 'message': ""The New Agent\n\nA new Designate service to be run on a DNS master that is the 'reflection' of\nMiniDNS. It receives Create/NOTIFY/Delete actions, and calls into a backend\nthat greatly resembles the style of backends in Designate before Server Pools.\n\nThis is a squashed commit that formerly contained the following 'Agent' topics:\nBasic Service\nAdd basic NOTIFY support\nAdd AXFR Capability\nAdd Support for Receiving Private CLASS/RRDATA Messages\nAdd Backend Capabilities\n\nChange-Id: I610687878be9dee8065ebc492f662e86bbeb8ce7\n""}, {'number': 2, 'created': '2015-01-22 02:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cdfc921ff78e08b7a03f6b2e9fe1f6cde31880e2', 'message': ""The New Agent\n\nA new Designate service to be run on a DNS master that is the 'reflection' of\nMiniDNS. It receives Create/NOTIFY/Delete actions, and calls into a backend\nthat greatly resembles the style of backends in Designate before Server Pools.\n\nThis is a squashed commit that formerly contained the following 'Agent' topics:\nBasic Service\nAdd basic NOTIFY support\nAdd AXFR Capability\nAdd Support for Receiving Private CLASS/RRDATA Messages\nAdd Backend Capabilities\nCleanup (Changes here: http://paste.openstack.org/show/160022/)\n\nChange-Id: I610687878be9dee8065ebc492f662e86bbeb8ce7\n""}, {'number': 3, 'created': '2015-01-22 19:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d792f44bd78eafa435de65d5fe86db9f20958f8d', 'message': ""The New Agent\n\nA new Designate service to be run on a DNS master that is the 'reflection' of\nMiniDNS. It receives Create/NOTIFY/Delete actions, and calls into a backend\nthat greatly resembles the style of backends in Designate before Server Pools.\n\nThis is a squashed commit that formerly contained the following 'Agent' topics:\nBasic Service\nAdd basic NOTIFY support\nAdd AXFR Capability\nAdd Support for Receiving Private CLASS/RRDATA Messages\nAdd Backend Capabilities\nCleanup (Changes here: http://paste.openstack.org/show/160022/)\n\nChange-Id: I610687878be9dee8065ebc492f662e86bbeb8ce7\n""}, {'number': 4, 'created': '2015-01-22 20:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/fcc56a12cd68ae8fd5f612408db0cfd283c8a5c7', 'message': ""The New Agent\n\nA new Designate service to be run on a DNS master that is the 'reflection' of\nMiniDNS. It receives Create/NOTIFY/Delete actions, and calls into a backend\nthat greatly resembles the style of backends in Designate before Server Pools.\n\nThis is a squashed commit that formerly contained the following 'Agent' topics:\nBasic Service\nAdd basic NOTIFY support\nAdd AXFR Capability\nAdd Support for Receiving Private CLASS/RRDATA Messages\nAdd Backend Capabilities\nCleanup (Changes here: http://paste.openstack.org/show/160022/)\n\nChange-Id: I610687878be9dee8065ebc492f662e86bbeb8ce7\n""}, {'number': 5, 'created': '2015-01-23 00:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d206f7c4ed5dbe69affab89a4516a596f8adccb4', 'message': ""The New Agent\n\nA new Designate service to be run on a DNS master that is the 'reflection' of\nMiniDNS. It receives Create/NOTIFY/Delete actions, and calls into a backend\nthat greatly resembles the style of backends in Designate before Server Pools.\n\nThis is a squashed commit that formerly contained the following 'Agent' topics:\nBasic Service\nAdd basic NOTIFY support\nAdd AXFR Capability\nAdd Support for Receiving Private CLASS/RRDATA Messages\nAdd Backend Capabilities\nCleanup (Changes here: http://paste.openstack.org/show/160022/)\n\nImplements: blueprint new-agent\nChange-Id: I610687878be9dee8065ebc492f662e86bbeb8ce7\n""}, {'number': 6, 'created': '2015-01-23 00:24:36.000000000', 'files': ['designate/agent/middleware.py', 'designate/backend/agent_backend/base.py', 'designate/tests/test_agent/test_service.py', 'designate/agent/axfr.py', 'designate/tests/test_agent/__init__.py', 'etc/designate/designate.conf.sample', 'designate/tests/test_agent/test_backends/test_bind9.py', 'designate/agent/handler.py', 'designate/backend/agent_backend/impl_fake.py', 'designate/service.py', 'designate/backend/agent_backend/impl_bind9.py', 'designate/tests/test_agent/test_backends/test_fake.py', 'designate/agent/service.py', 'designate/agent/__init__.py', 'designate/utils.py', 'designate/backend/agent_backend/__init__.py', 'designate/tests/test_agent/test_handler.py', 'designate/cmd/agent.py', 'setup.cfg', 'designate/tests/test_agent/test_backends/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/fbdd8e94005e5a09605ada48421621989a8f90ef', 'message': ""The New Agent\n\nA new Designate service to be run on a DNS master that is the 'reflection' of\nMiniDNS. It receives Create/NOTIFY/Delete actions, and calls into a backend\nthat greatly resembles the style of backends in Designate before Server Pools.\n\nThis is a squashed commit that formerly contained the following 'Agent' topics:\nBasic Service\nAdd basic NOTIFY support\nAdd AXFR Capability\nAdd Support for Receiving Private CLASS/RRDATA Messages\nAdd Backend Capabilities\nCleanup (Changes here: http://paste.openstack.org/show/160022/)\n\nImplements: blueprint new-agent\nChange-Id: I610687878be9dee8065ebc492f662e86bbeb8ce7\n""}]",1,149114,fbdd8e94005e5a09605ada48421621989a8f90ef,17,4,6,8174,,,0,"The New Agent

A new Designate service to be run on a DNS master that is the 'reflection' of
MiniDNS. It receives Create/NOTIFY/Delete actions, and calls into a backend
that greatly resembles the style of backends in Designate before Server Pools.

This is a squashed commit that formerly contained the following 'Agent' topics:
Basic Service
Add basic NOTIFY support
Add AXFR Capability
Add Support for Receiving Private CLASS/RRDATA Messages
Add Backend Capabilities
Cleanup (Changes here: http://paste.openstack.org/show/160022/)

Implements: blueprint new-agent
Change-Id: I610687878be9dee8065ebc492f662e86bbeb8ce7
",git fetch https://review.opendev.org/openstack/designate refs/changes/14/149114/6 && git format-patch -1 --stdout FETCH_HEAD,"['designate/agent/middleware.py', 'designate/backend/agent_backend/base.py', 'designate/tests/test_agent/test_service.py', 'designate/agent/axfr.py', 'designate/tests/test_agent/__init__.py', 'etc/designate/designate.conf.sample', 'designate/tests/test_agent/test_backends/test_bind9.py', 'designate/agent/handler.py', 'designate/service.py', 'designate/backend/agent_backend/impl_bind9.py', 'designate/agent/service.py', 'designate/agent/__init__.py', 'designate/utils.py', 'designate/backend/agent_backend/__init__.py', 'designate/tests/test_agent/test_handler.py', 'designate/cmd/agent.py', 'setup.cfg', 'designate/tests/test_agent/test_backends/__init__.py']",18,81c945336e9a24b1f96416cfe4d2db1fa01fb384,bp/new-agent,"# Copyright 2014 Rackspace Inc. # # Author: Tim Simmons <tim.simmons@rackspace.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo.config import cfg from designate.backend import agent_backend from designate.agent import service class BackendTestMixin(object): def get_backend_driver(self): return agent_backend.get_backend( cfg.CONF['service:agent'].backend_driver, agent_service=service.Service()) ",,1187,0
openstack%2Fneutron~master~I1919ac5e3285a422387bae282ac7d88bd2ee599c,openstack/neutron,master,I1919ac5e3285a422387bae282ac7d88bd2ee599c,Imported Translations from Transifex,MERGED,2015-01-22 06:11:07.000000000,2015-01-23 01:44:04.000000000,2015-01-22 08:32:50.000000000,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}]","[{'number': 1, 'created': '2015-01-22 06:11:07.000000000', 'files': ['neutron/locale/neutron-log-error.pot', 'neutron/locale/pt_BR/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/ja/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/de/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/zh_CN/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/es/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/neutron-log-warning.pot', 'neutron/locale/fr/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/neutron-log-info.pot', 'neutron/locale/neutron.pot', 'neutron/locale/ko_KR/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/zh_TW/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/it/LC_MESSAGES/neutron-log-info.po'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6510c32f04abbed06188efc31c557e1e72fb689c', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I1919ac5e3285a422387bae282ac7d88bd2ee599c\n'}]",0,149159,6510c32f04abbed06188efc31c557e1e72fb689c,17,13,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I1919ac5e3285a422387bae282ac7d88bd2ee599c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/149159/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/locale/neutron-log-error.pot', 'neutron/locale/pt_BR/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/ja/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/de/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/zh_CN/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/es/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/neutron-log-warning.pot', 'neutron/locale/fr/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/neutron-log-info.pot', 'neutron/locale/neutron.pot', 'neutron/locale/ko_KR/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/zh_TW/LC_MESSAGES/neutron-log-info.po', 'neutron/locale/it/LC_MESSAGES/neutron-log-info.po']",13,6510c32f04abbed06188efc31c557e1e72fb689c,transifex/translations,"""POT-Creation-Date: 2015-01-22 06:10+0000\n""#: neutron/agent/securitygroups_rpc.py:81#: neutron/agent/securitygroups_rpc.py:83#: neutron/agent/securitygroups_rpc.py:219#: neutron/agent/securitygroups_rpc.py:231#: neutron/agent/securitygroups_rpc.py:261#: neutron/agent/securitygroups_rpc.py:268#: neutron/agent/securitygroups_rpc.py:290#: neutron/agent/securitygroups_rpc.py:302#: neutron/agent/securitygroups_rpc.py:312#: neutron/agent/securitygroups_rpc.py:316#: neutron/agent/dhcp/agent.py:92 neutron/agent/dhcp/agent.py:596 msgid ""DHCP agent started"" msgstr ""Agent DHCP avviato"" #: neutron/agent/dhcp/agent.py:144 msgid ""Synchronizing state"" msgstr ""Stato sincronizzazione"" #: neutron/agent/dhcp/agent.py:165 msgid ""Synchronizing state complete"" msgstr """" #: neutron/agent/dhcp/agent.py:593 neutron/agent/l3/agent.py:1272 #: neutron/services/metering/agents/metering_agent.py:281 #, python-format msgid ""agent_updated by server side %s!"" msgstr ""agent_updated dal lato server %s!"" #: neutron/agent/l3/agent.py:1172#: neutron/db/db_base_plugin_v2.py:610#: neutron/db/db_base_plugin_v2.py:637#: neutron/db/db_base_plugin_v2.py:644#: neutron/db/db_base_plugin_v2.py:648#: neutron/db/db_base_plugin_v2.py:653#: neutron/db/db_base_plugin_v2.py:677#: neutron/db/l3_db.py:1070#: neutron/db/l3_db.py:1076#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:236#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:261#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:282#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:304#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:321#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:368#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:370#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:397#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:429#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:465","""POT-Creation-Date: 2015-01-20 06:08+0000\n""#: neutron/agent/dhcp_agent.py:119 neutron/agent/dhcp_agent.py:623 msgid ""DHCP agent started"" msgstr ""Agent DHCP avviato"" #: neutron/agent/dhcp_agent.py:171 msgid ""Synchronizing state"" msgstr ""Stato sincronizzazione"" #: neutron/agent/dhcp_agent.py:192 msgid ""Synchronizing state complete"" msgstr """" #: neutron/agent/dhcp_agent.py:620 neutron/agent/l3/agent.py:1253 #: neutron/services/metering/agents/metering_agent.py:281 #, python-format msgid ""agent_updated by server side %s!"" msgstr ""agent_updated dal lato server %s!"" #: neutron/agent/securitygroups_rpc.py:80#: neutron/agent/securitygroups_rpc.py:82#: neutron/agent/securitygroups_rpc.py:196#: neutron/agent/securitygroups_rpc.py:208#: neutron/agent/securitygroups_rpc.py:238#: neutron/agent/securitygroups_rpc.py:245#: neutron/agent/securitygroups_rpc.py:267#: neutron/agent/securitygroups_rpc.py:279#: neutron/agent/securitygroups_rpc.py:289#: neutron/agent/securitygroups_rpc.py:293#: neutron/agent/l3/agent.py:1153#: neutron/db/db_base_plugin_v2.py:618#: neutron/db/db_base_plugin_v2.py:645#: neutron/db/db_base_plugin_v2.py:652#: neutron/db/db_base_plugin_v2.py:656#: neutron/db/db_base_plugin_v2.py:661#: neutron/db/db_base_plugin_v2.py:685#: neutron/db/l3_db.py:1074#: neutron/db/l3_db.py:1080#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:240#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:265#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:286#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:308#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:325#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:372#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:374#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:401#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:433#: neutron/plugins/hyperv/agent/hyperv_neutron_agent.py:469",677,688
openstack%2Fironic-specs~master~I6ff53e32f08e62b7537cb725c00646890c61f9eb,openstack/ironic-specs,master,I6ff53e32f08e62b7537cb725c00646890c61f9eb,UEFI Secure Boot support for iLO drivers,MERGED,2014-11-18 11:04:49.000000000,2015-01-23 01:36:25.000000000,2015-01-23 01:36:25.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 5805}, {'_account_id': 10202}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 11297}]","[{'number': 1, 'created': '2014-11-18 11:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/089c98ff69ca5080e7ae3e8e9539250cf0a89483', 'message': 'UEFI Secure Boot support in for iLO drivers\n\nhttps://blueprints.launchpad.net/ironic/+spec/uefi-secure-boot\n\nSome of the Ironic deploy drivers support UEFI boot. It would be useful to\nsecurity sensitive users to deploy more securely using Secure Boot feature\nof the UEFI. This spec proposes alternatives to support Secure Boot in\nbaremetal provisioning for iLO drivers.\n\nChange-Id: I6ff53e32f08e62b7537cb725c00646890c61f9eb\n'}, {'number': 2, 'created': '2014-11-18 11:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f3baa977381637413ca9b9bf6266ef8026bf783e', 'message': 'UEFI Secure Boot support for iLO drivers\n\nhttps://blueprints.launchpad.net/ironic/+spec/uefi-secure-boot\n\nSome of the Ironic deploy drivers support UEFI boot. It would be useful to\nsecurity sensitive users to deploy more securely using Secure Boot feature\nof the UEFI. This spec proposes alternatives to support Secure Boot in\nbaremetal provisioning for iLO drivers.\n\nChange-Id: I6ff53e32f08e62b7537cb725c00646890c61f9eb\n'}, {'number': 3, 'created': '2014-11-18 15:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/fd19297eea966886f2a100be025266f935404d88', 'message': 'UEFI Secure Boot support for iLO drivers\n\nhttps://blueprints.launchpad.net/ironic/+spec/uefi-secure-boot\n\nSome of the Ironic deploy drivers support UEFI boot. It would be useful to\nsecurity sensitive users to deploy more securely using Secure Boot feature\nof the UEFI. This spec proposes alternatives to support Secure Boot in\nbaremetal provisioning for iLO drivers.\n\nChange-Id: I6ff53e32f08e62b7537cb725c00646890c61f9eb\n'}, {'number': 4, 'created': '2014-11-20 05:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/75f64a7a6a962e741d91a2b2a37d3190e3aff8da', 'message': 'UEFI Secure Boot support for iLO drivers\n\nhttps://blueprints.launchpad.net/ironic/+spec/uefi-secure-boot\n\nSome of the Ironic deploy drivers support UEFI boot. It would be useful to\nsecurity sensitive users to deploy more securely using Secure Boot feature\nof the UEFI. This spec proposes alternatives to support Secure Boot in\nbaremetal provisioning for iLO drivers.\n\nChange-Id: I6ff53e32f08e62b7537cb725c00646890c61f9eb\n'}, {'number': 5, 'created': '2014-12-18 14:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/e7a9ad5b0810870e947b858a7b8e7113a71d766b', 'message': 'UEFI Secure Boot support for iLO drivers\n\nhttps://blueprints.launchpad.net/ironic/+spec/uefi-secure-boot\n\nSome of the Ironic deploy drivers support UEFI boot. It would be useful to\nsecurity sensitive users to deploy more securely using Secure Boot feature\nof the UEFI. This spec proposes alternatives to support Secure Boot in\nbaremetal provisioning for iLO drivers.\n\nChange-Id: I6ff53e32f08e62b7537cb725c00646890c61f9eb\n'}, {'number': 6, 'created': '2015-01-21 03:51:23.000000000', 'files': ['specs/kilo/uefi-secure-boot.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/c225d30b03f8ab2c1dab8b96588e3f120c63a809', 'message': 'UEFI Secure Boot support for iLO drivers\n\nhttps://blueprints.launchpad.net/ironic/+spec/uefi-secure-boot\n\nSome of the Ironic deploy drivers support UEFI boot. It would be useful to\nsecurity sensitive users to deploy more securely using Secure Boot feature\nof the UEFI. This spec proposes alternatives to support Secure Boot in\nbaremetal provisioning for iLO drivers.\n\nChange-Id: I6ff53e32f08e62b7537cb725c00646890c61f9eb\n'}]",44,135228,c225d30b03f8ab2c1dab8b96588e3f120c63a809,32,8,6,11076,,,0,"UEFI Secure Boot support for iLO drivers

https://blueprints.launchpad.net/ironic/+spec/uefi-secure-boot

Some of the Ironic deploy drivers support UEFI boot. It would be useful to
security sensitive users to deploy more securely using Secure Boot feature
of the UEFI. This spec proposes alternatives to support Secure Boot in
baremetal provisioning for iLO drivers.

Change-Id: I6ff53e32f08e62b7537cb725c00646890c61f9eb
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/28/135228/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/uefi-secure-boot.rst'],1,089c98ff69ca5080e7ae3e8e9539250cf0a89483,bp/s,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================ UEFI Secure Boot support in for iLO drivers ============================================ https://blueprints.launchpad.net/ironic/+spec/uefi-secure-boot Some of the Ironic deploy drivers support UEFI boot. It would be useful to security sensitive users to deploy more securely using Secure Boot feature of the UEFI. This spec proposes alternatives to support Secure Boot in baremetal provisioning for iLO drivers. Problem description =================== Secure Boot is part of the UEFI specification (http://www.uefi.org). It helps to make sure that node boots using only software that is trusted by Admin/End user. Secure Boot is different from TPM (Trusted Platform Module). TPM is a standard for a secure cryptoprocessor, which is dedicated microprocessor designed to secure hardware by integrating cryptographic keys into devices. Secure Boot is part of UEFI specification, which can secure the boot process by preventing the loading of drivers or OS loaders that are not signed with an acceptable digital signature. When the node starts with secure boot enabled, system firmware checks the signature of each piece of boot software, including firmware drivers (Option ROMs), boot loaders and the operating system. If the signatures are good, the node boots, and the firmware gives control to the operating system. The Admin and End users having security sensitivity with respect to baremetal provisioning owing to the workloads they intend to run on the provisioned nodes would be interested in using secure boot provided by UEFI. Once secure boot is enabled for a node, it cannot boot using unsigned boot images. Hence it is important to use signed bootloaders and kernel during deploy and regular boot of the node if node were to be booted using secure boot. Proposed change =============== Preparing the environment ------------------------- * The operator informs the Ironic using the ``capabilities`` property of the node. The operator may add a new capability ``secure_boot=True`` in ``capabilities`` within ``properties`` of that node. This is a optional property that an be used if node needs to be provisioned for secure boot. By default the behavior would be as if this property is set to False. The iLO hardware discovery feature (proposed) could auto discover the secure boot capability of the node and create node capability into that node object. * If the user has ``secure_boot`` capability set in the flavor, iLO drivers have ability to change the boot mode to UEFI and prepare the node for the secure boot on the fly using RIS based calls. Preparing flavor for secure boot -------------------------------- * The ``extra_specs`` field in the nova flavor should be used to indicate secure boot. * Nova scheduler would not provision a secure enabled baremetal node if ``secure_boot`` is not present or is set to ``False`` in flavor's ``extra_specs``. * Ironic virt Driver needs to pass the flavor capability information to the driver as part of instance info. Having capability information as part of instance info would help driver in preparing and decommissioning the node appropriately. With respect to secure boot feature, instance info should contain the capability info related to ``secure_boot``. This information would be used by iLO driver for :- * During provisioning, driver can turn on the secure boot capability to validate signatures of bootloaders and kernel. * During de-comissioning, driver would take appropriate action to clear the signatures, if any stored onto the node signature database. Preparing boot and deploy images -------------------------------- Disk Image builder changes are required to integrate signed shim and grub bootloaders. shim bootloader is required as it is signed using Microsoft UEFI CA signature and recognises Ubuntu's Cannonical certificate as a valid certificate. Secure boot enabled Proliant UEFI systems are pre-loaded with Microsoft UEFI CA signature. Additional Management APIs -------------------------- It would be useful to have following Management interfaces to support UEFI secure boot. def set_secure_boot(self, task, flag): """""" Set the node to secure boot for next boot :param task: a task from TaskManager. :param flag: Next boot setting for secure boot. """""" def get_secure_boot(self, task): """""" Retrieves current secure boot setting :param task: a task from TaskManager. """""" def get_secure_boot(self, task): """""" Retrieves current secure boot setting :param task: a task from TaskManager. """""" def clear_all_keys(self, task): """""" Clears all the keys related to secure boot stored in NVRAM of the node. :param task: a task from TaskManager. """""" def reset_keys(self, task): """""" Resets keys related to secure boot stored in NVRAM to OEM shipped ones. :param task: a task from TaskManager. """""" Alternatives ------------ Use vendor-passthrough API for the proposed Management interfaces. Data model impact ----------------- None REST API impact --------------- A new /nodes/<uuid>/management/secure_boot subresource will be added to the API, requests to get or set the secure boot should be handled by it. Driver API impact ----------------- The new proposed Management interfaces need not implemented by all the drivers. The base.ManagementInterface implementation would throw 'UnsupportedDriverExtension' for the same. Nova driver impact ------------------ None Security impact --------------- This enhances security. Only correctly signed firmware, bootloader and OS can be booted. It provides users with the opportunity to run the software of their choice in the most secure manner. Other end user impact --------------------- Users need to use properly signed deploy and boot components. Currently iLO driver would support only ubuntu shipped signed shim and grub for deploy and boot images. If user wants to use custom signed images, then he would need to add those signatures to the nodes manually. Scalability impact ------------------ None Performance Impact ------------------ There is no performance impact due to signature validation in secure boot. Other deployer impact --------------------- None Developer impact ---------------- Proposing as a standard interface , vendor-specific drivers can use the same if required. Implementation ============== Assignee(s) ----------- primary author and contact. Primary assignee: Shivanand Tendulker (stendulker@gmail.com) Work Items ---------- 1. Implement changes for new Management interfaces in REST, RPC and conductor using RIS for iLO driver. 2. Implement code changes for supporting secure boot. 3. Implement secure boot and new Management interfaces for iLO drivers. 4. Changes into Nova Virt Driver to pass capability information in the flavor as instance info. If this approach is fine, we will need submit a design spec for Nova Virt Driver. Dependencies ============ 1. DIB changes are required to add signed shim and grub2 to the ubuntu cloud image creation using disk-image-create and ramdisk-image-create scripts. 2. Changes in Nova Virt driver to pass capabality information from flavor to driver through instance info. Testing ======= Unit tests would be added for all newly added code. Upgrades and Backwards Compatibility ==================================== None Documentation Impact ==================== Newly added functionality would be appropriately documented. References ========== Discover node properties for iLO drivers https://review.openstack.org/#/c/103007 ",,249,0
openstack%2Fmistral~master~Ibb4e414e031698d93f6a049ae437c055e236942f,openstack/mistral,master,Ibb4e414e031698d93f6a049ae437c055e236942f,Fixed indents,ABANDONED,2015-01-23 00:06:45.000000000,2015-01-23 01:25:26.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-01-23 00:06:45.000000000', 'files': ['mistral/actions/std_actions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/83b8ea532b39ab65fb7c08c11c5bdfc6a13aa059', 'message': '    Fixed indents\n\nChange-Id: Ibb4e414e031698d93f6a049ae437c055e236942f\n'}]",0,149440,83b8ea532b39ab65fb7c08c11c5bdfc6a13aa059,3,1,1,14648,,,0,"    Fixed indents

Change-Id: Ibb4e414e031698d93f6a049ae437c055e236942f
",git fetch https://review.opendev.org/openstack/mistral refs/changes/40/149440/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/actions/std_actions.py'],1,83b8ea532b39ab65fb7c08c11c5bdfc6a13aa059,," for h in self.host: h, self.username, self.password) if status_code > 0:"," for h in self.host : h, self.username, self.password) if status_code > 0 :",5,5
openstack%2Fproject-config~master~I969e5c50e18702488b00abf17445fd667047e9c5,openstack/project-config,master,I969e5c50e18702488b00abf17445fd667047e9c5,Add retry for fetching get-pip.py,ABANDONED,2015-01-22 22:50:17.000000000,2015-01-23 01:22:19.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}]","[{'number': 1, 'created': '2015-01-22 22:50:17.000000000', 'files': ['nodepool/scripts/cache_devstack.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f60dd663e3fd3e86a7472650efa81888d5156334', 'message': 'Add retry for fetching get-pip.py\n\nJust add a retry for now, Joe was talking about\nfailing the job. But this is a band aid for now.\n\nChange-Id: I969e5c50e18702488b00abf17445fd667047e9c5\n'}]",1,149422,f60dd663e3fd3e86a7472650efa81888d5156334,4,2,1,5638,,,0,"Add retry for fetching get-pip.py

Just add a retry for now, Joe was talking about
failing the job. But this is a band aid for now.

Change-Id: I969e5c50e18702488b00abf17445fd667047e9c5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/22/149422/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/scripts/cache_devstack.py'],1,f60dd663e3fd3e86a7472650efa81888d5156334,," run_local(['wget', '--tries=5', '--read-timeout=20', '-nv', '-c', url, '-O', os.path.join(CACHEDIR, fname)])"," run_local(['wget', '-nv', '-c', url, '-O', os.path.join(CACHEDIR, fname)])",1,1
openstack%2Fnova~master~I2b891bf6d0a3d8f45fd98ca54a665ae78eab78b3,openstack/nova,master,I2b891bf6d0a3d8f45fd98ca54a665ae78eab78b3,Reschedule queries to nova-scheduler after a timeout occurs,MERGED,2014-12-16 14:56:53.000000000,2015-01-23 01:17:25.000000000,2015-01-23 01:17:22.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 5638}, {'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 8247}, {'_account_id': 9578}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11600}, {'_account_id': 14250}]","[{'number': 1, 'created': '2014-12-16 14:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96b01a35bee6e0d10db461d9aefd3eabafb0a792', 'message': 'Reschedule queries to nova-scheduler after a timeout occurs\n\nIn case the nova-scheduler service dies, try sending the message\nonce again. The message will be picked up by another server or\nthe same one when it restarts.\n\nChange-Id: I2b891bf6d0a3d8f45fd98ca54a665ae78eab78b3\nCloses-Bug: 1402574\n'}, {'number': 2, 'created': '2014-12-16 15:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3e2819be76ef9b948db0a652d13147d54bad724', 'message': 'Reschedule queries to nova-scheduler after a timeout occurs\n\nIn case the nova-scheduler service dies, try sending the message\nonce again. The message will be picked up by another server or\nthe same one when it restarts.\n\nChange-Id: I2b891bf6d0a3d8f45fd98ca54a665ae78eab78b3\nCloses-Bug: 1402574\n'}, {'number': 3, 'created': '2014-12-16 15:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a611377677d3ce148ea31e72e5c06873f863788', 'message': 'Reschedule queries to nova-scheduler after a timeout occurs\n\nIn case the nova-scheduler service dies, try sending the message\nonce again. The message will be picked up by another server or\nthe same one when it restarts.\n\nChange-Id: I2b891bf6d0a3d8f45fd98ca54a665ae78eab78b3\nCloses-Bug: 1402574\n'}, {'number': 4, 'created': '2014-12-17 09:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e27b0360a622165e3a47c5c796b177fd49d5dd1b', 'message': 'Reschedule queries to nova-scheduler after a timeout occurs\n\nIn case the nova-scheduler service dies, try sending the message\nonce again. The message will be picked up by another server or\nthe same one when it restarts.\n\nChange-Id: I2b891bf6d0a3d8f45fd98ca54a665ae78eab78b3\nCloses-Bug: 1402574\n'}, {'number': 5, 'created': '2015-01-19 15:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1a1acf0ad6c248791cf72165683eec4a335e8c4', 'message': 'Reschedule queries to nova-scheduler after a timeout occurs\n\nIn case the nova-scheduler service dies, try sending the message\nonce again. The message will be picked up by another server or\nthe same one when it restarts.\n\nChange-Id: I2b891bf6d0a3d8f45fd98ca54a665ae78eab78b3\nCloses-Bug: 1402574\n'}, {'number': 6, 'created': '2015-01-20 09:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05603e7fb3579e57476c304355b9a6ab468d1d29', 'message': 'Reschedule queries to nova-scheduler after a timeout occurs\n\nIn case the nova-scheduler service dies, try sending the message\nonce again. The message will be picked up by another server or\nthe same one when it restarts.\n\nChange-Id: I2b891bf6d0a3d8f45fd98ca54a665ae78eab78b3\nCloses-Bug: 1402574\n'}, {'number': 7, 'created': '2015-01-22 09:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/253fb6bb364c2e99b9d4ba25eaadef27689a9521', 'message': 'Reschedule queries to nova-scheduler after a timeout occurs\n\nIn case the nova-scheduler service dies, try sending the message\nonce again. The message will be picked up by another server or\nthe same one when it restarts.\n\nChange-Id: I2b891bf6d0a3d8f45fd98ca54a665ae78eab78b3\nCloses-Bug: 1402574\n'}, {'number': 8, 'created': '2015-01-22 11:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10d5c5b7b139bcbcfa47cc381ad809ecb6405a9b', 'message': 'Reschedule queries to nova-scheduler after a timeout occurs\n\nIn case the nova-scheduler service dies, try sending the message\nonce again. The message will be picked up by another server or\nthe same one when it restarts.\n\nChange-Id: I2b891bf6d0a3d8f45fd98ca54a665ae78eab78b3\nCloses-Bug: 1402574\n'}, {'number': 9, 'created': '2015-01-22 12:34:49.000000000', 'files': ['nova/scheduler/client/__init__.py', 'nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_client.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8ba2d8ea527e6d3b4699482ff4567010c1cdc990', 'message': 'Reschedule queries to nova-scheduler after a timeout occurs\n\nIn case the nova-scheduler service dies, try sending the message\nonce again. The message will be picked up by another server or\nthe same one when it restarts.\n\nChange-Id: I2b891bf6d0a3d8f45fd98ca54a665ae78eab78b3\nCloses-Bug: 1402574\n'}]",19,142124,8ba2d8ea527e6d3b4699482ff4567010c1cdc990,68,16,9,14250,,,0,"Reschedule queries to nova-scheduler after a timeout occurs

In case the nova-scheduler service dies, try sending the message
once again. The message will be picked up by another server or
the same one when it restarts.

Change-Id: I2b891bf6d0a3d8f45fd98ca54a665ae78eab78b3
Closes-Bug: 1402574
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/142124/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/client/__init__.py', 'nova/tests/unit/scheduler/test_client.py']",2,96b01a35bee6e0d10db461d9aefd3eabafb0a792,bug/1402574,"from oslo import messaging self.timed_out = False @mock.patch.object(scheduler_query_client.SchedulerQueryClient, 'select_destinations', side_effect=messaging.MessagingTimeout()) def test_select_destinations_timeout(self, mock_select_destinations): # check if the scheduler service times out properly fake_args = ['ctxt', 'fake_spec', 'fake_prop'] self.assertRaises(messaging.MessagingTimeout, self.client.select_destinations, *fake_args) mock_select_destinations.assert_calls(*[mock.call(*fake_args)]*2) def test_select_destinations_timeout_once(self): # scenario: the scheduler service times out & recovers after failure def timeout_once(*args, **kwargs): if self.timed_out: return mock.DEFAULT self.timed_out = True raise messaging.MessagingTimeout() with mock.patch.object( scheduler_query_client.SchedulerQueryClient, 'select_destinations', side_effect=timeout_once) \ as mock_select_destinations: fake_args = ['ctxt', 'fake_spec', 'fake_prop'] self.client.select_destinations(*fake_args) mock_select_destinations.assert_calls(*[mock.call(*fake_args)]*2) ",,39,2
openstack%2Ffuel-docs~master~I6993030292987156156dc1b19acecde376bd3cea,openstack/fuel-docs,master,I6993030292987156156dc1b19acecde376bd3cea,Small structural fixes to 6.0 Release Notes,MERGED,2015-01-02 10:07:10.000000000,2015-01-23 01:14:51.000000000,2015-01-23 01:14:51.000000000,"[{'_account_id': 3}, {'_account_id': 8787}, {'_account_id': 8971}, {'_account_id': 9788}, {'_account_id': 10014}, {'_account_id': 13082}]","[{'number': 1, 'created': '2015-01-02 10:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/0151577696dba202e3f6712182e426eed05a4e3d', 'message': 'RN-6.0 minor edits\n\n- We don\'t need both ""What\'s New in..."" and ""New Features Included...\nheaders now that the ""What is Mirantis OpenStack?"" section is gone.\n\n- ""management network"" -> ""Management network"" in 1030-fuel-install\n\n- ""Known Issues"" in 1080-update-upgrade was wrong header level.\nAlso had a header with a bullet item under it when it should be\nstraight text.\n\n- ""Storage Issues"" had a bullet list for ""Resolved issues"" and\nheaders for ""Known issues""; converted ""Known issues"" to a bullet list.\nFixed some article/preposition/tense issues in the text.\n\nChange-Id: I6993030292987156156dc1b19acecde376bd3cea\n'}, {'number': 2, 'created': '2015-01-08 03:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/26134255604e1bce3d6b58bf4c0c99f1c0560384', 'message': 'Small structural fixes to 6.0 Release Notes\n\n- We don\'t need both ""What\'s New in..."" and ""New Features Included...\nheaders now that the ""What is Mirantis OpenStack?"" section is gone.\n\n- ""management network"" -> ""Management network"" in 1030-fuel-install\n\n- ""Known Issues"" in 1080-update-upgrade was wrong header level.\nAlso had a header with a bullet item under it when it should be\nstraight text.\n\n- ""Storage Issues"" had a bullet list for ""Resolved issues"" and\nheaders for ""Known issues""; converted ""Known issues"" to a bullet list.\nFixed some article/preposition/tense issues in the text.\n\nChange-Id: I6993030292987156156dc1b19acecde376bd3cea\n'}, {'number': 3, 'created': '2015-01-20 02:36:35.000000000', 'files': ['pages/release-notes/v6-0/3000-storage.rst', 'pages/release-notes/v6-0/0020-new-features.rst', 'pages/release-notes/v6-0/1080-update-upgrade.rst', 'pages/release-notes/v6-0/1030-fuel-install.rst'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/cd993136dda29fa3273126bc687b75a5bba6ccc6', 'message': 'Small structural fixes to 6.0 Release Notes\n\n- We don\'t need both ""What\'s New in..."" and ""New Features Included...\nheaders now that the ""What is Mirantis OpenStack?"" section is gone.\n\n- ""management network"" -> ""Management network"" in 1030-fuel-install\n\n- ""Known Issues"" in 1080-update-upgrade was wrong header level.\nAlso had a header with a bullet item under it when it should be\nstraight text.\n\n- ""Storage Issues"" had a bullet list for ""Resolved issues"" and\nheaders for ""Known issues""; converted ""Known issues"" to a bullet list.\nFixed some article/preposition/tense issues in the text.\n\nChange-Id: I6993030292987156156dc1b19acecde376bd3cea\n'}]",2,144729,cd993136dda29fa3273126bc687b75a5bba6ccc6,25,6,3,10014,,,0,"Small structural fixes to 6.0 Release Notes

- We don't need both ""What's New in..."" and ""New Features Included...
headers now that the ""What is Mirantis OpenStack?"" section is gone.

- ""management network"" -> ""Management network"" in 1030-fuel-install

- ""Known Issues"" in 1080-update-upgrade was wrong header level.
Also had a header with a bullet item under it when it should be
straight text.

- ""Storage Issues"" had a bullet list for ""Resolved issues"" and
headers for ""Known issues""; converted ""Known issues"" to a bullet list.
Fixed some article/preposition/tense issues in the text.

Change-Id: I6993030292987156156dc1b19acecde376bd3cea
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/29/144729/1 && git format-patch -1 --stdout FETCH_HEAD,"['pages/release-notes/v6-0/3000-storage.rst', 'pages/release-notes/v6-0/0020-new-features.rst', 'pages/release-notes/v6-0/1080-update-upgrade.rst', 'pages/release-notes/v6-0/1030-fuel-install.rst']",4,0151577696dba202e3f6712182e426eed05a4e3d,rn-edits,GRE-enabled Neutron installation runs inter VM traffic through Management network,GRE-enabled Neutron installation runs inter VM traffic through management network,42,57
openstack%2Fcinder~stable%2Fjuno~If492810a2f10fa5954f8c8bb708b14be0b77fb90,openstack/cinder,stable/juno,If492810a2f10fa5954f8c8bb708b14be0b77fb90,Add client_socket_timeout option,MERGED,2014-12-09 11:42:59.000000000,2015-01-23 01:07:20.000000000,2015-01-22 17:34:26.000000000,"[{'_account_id': 3}, {'_account_id': 455}, {'_account_id': 2807}, {'_account_id': 6802}, {'_account_id': 7012}, {'_account_id': 7198}, {'_account_id': 9303}, {'_account_id': 9656}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 11904}, {'_account_id': 12202}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 13527}, {'_account_id': 13670}, {'_account_id': 13900}, {'_account_id': 14206}, {'_account_id': 14242}]","[{'number': 1, 'created': '2014-12-09 11:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/57ea636e0fcef64436ceacce36c7aedb3bd23819', 'message': ""Add client_socket_timeout option\n\nAdd a parameter to take advantage of the new(ish) eventlet socket timeout\nbehaviour.  Allows closing idle client connections after a period of\ntime, eg:\n\n$ time nc localhost 8776\nreal    1m0.063s\n\nSetting 'client_socket_timeout = 0' means do not timeout.\n\nDocImpact:\nAdded client_socket_timeout option (default=900).\n\nSecurityImpact\n\nConflicts:\n        cinder/wsgi.py\n        etc/cinder/cinder.conf.sample\n\nChange-Id: If492810a2f10fa5954f8c8bb708b14be0b77fb90\nCloses-bug: #1361360\nCloses-bug: #1371022\n(cherry picked from commit 08bfa77aeccb8ca589e3fb5cf9771879818f59de)\n""}, {'number': 2, 'created': '2014-12-19 07:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2ee7551fd3899ec13067ea8828b6c58e1c8badfd', 'message': ""Add client_socket_timeout option\n\nAdd a parameter to take advantage of the new(ish) eventlet socket timeout\nbehaviour.  Allows closing idle client connections after a period of\ntime, eg:\n\n$ time nc localhost 8776\nreal    1m0.063s\n\nSetting 'client_socket_timeout = 0' means do not timeout.\n\nDocImpact:\nAdded client_socket_timeout option (default=0).\n\nSecurityImpact\n\nConflicts:\n        cinder/wsgi.py\n        etc/cinder/cinder.conf.sample\n\nNote: This patch is not 1:1 cherry-pick, I have changed the default value\nof client_socket_timeout to 0, also renamed variable name in test_wsgi.py\n\nChange-Id: If492810a2f10fa5954f8c8bb708b14be0b77fb90\nCloses-bug: #1361360\nCloses-bug: #1371022\n(cherry picked from commit 08bfa77aeccb8ca589e3fb5cf9771879818f59de)\n""}, {'number': 3, 'created': '2014-12-19 07:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/336bd26eca6a80802e388de05d1f8ddd94f4c283', 'message': ""Add client_socket_timeout option\n\nAdd a parameter to take advantage of the new(ish) eventlet socket timeout\nbehaviour.  Allows closing idle client connections after a period of\ntime, eg:\n\n$ time nc localhost 8776\nreal    1m0.063s\n\nSetting 'client_socket_timeout = 0' means do not timeout.\n\nDocImpact:\nAdded client_socket_timeout option (default=0).\n\nSecurityImpact\n\nConflicts:\n        cinder/wsgi.py\n        etc/cinder/cinder.conf.sample\n\nNote: This patch is not 1:1 cherry-pick, I have changed the default value\nof client_socket_timeout to 0, also renamed variable name in test_wsgi.py\n\nChange-Id: If492810a2f10fa5954f8c8bb708b14be0b77fb90\nCloses-bug: #1361360\nCloses-bug: #1371022\n(cherry picked from commit 08bfa77aeccb8ca589e3fb5cf9771879818f59de)\n""}, {'number': 4, 'created': '2015-01-22 13:39:43.000000000', 'files': ['etc/cinder/cinder.conf.sample', 'cinder/wsgi.py', 'cinder/tests/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f88dc8495f7ec5dc7f1b01c43f0237141af6b98f', 'message': ""Add client_socket_timeout option\n\nAdd a parameter to take advantage of the new(ish) eventlet socket timeout\nbehaviour.  Allows closing idle client connections after a period of\ntime, eg:\n\n$ time nc localhost 8776\nreal    1m0.063s\n\nSetting 'client_socket_timeout = 0' means do not timeout.\n\nDocImpact:\nAdded client_socket_timeout option (default=0).\n\nConflicts:\n        cinder/wsgi.py\n        etc/cinder/cinder.conf.sample\n\nNote: This patch is not 1:1 cherry-pick, I have changed the default value\nof client_socket_timeout to 0.\n\nChange-Id: If492810a2f10fa5954f8c8bb708b14be0b77fb90\nCloses-bug: #1361360\nCloses-bug: #1371022\n(cherry picked from commit 08bfa77aeccb8ca589e3fb5cf9771879818f59de)\n""}]",17,140304,f88dc8495f7ec5dc7f1b01c43f0237141af6b98f,42,23,4,9303,,,0,"Add client_socket_timeout option

Add a parameter to take advantage of the new(ish) eventlet socket timeout
behaviour.  Allows closing idle client connections after a period of
time, eg:

$ time nc localhost 8776
real    1m0.063s

Setting 'client_socket_timeout = 0' means do not timeout.

DocImpact:
Added client_socket_timeout option (default=0).

Conflicts:
        cinder/wsgi.py
        etc/cinder/cinder.conf.sample

Note: This patch is not 1:1 cherry-pick, I have changed the default value
of client_socket_timeout to 0.

Change-Id: If492810a2f10fa5954f8c8bb708b14be0b77fb90
Closes-bug: #1361360
Closes-bug: #1371022
(cherry picked from commit 08bfa77aeccb8ca589e3fb5cf9771879818f59de)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/140304/3 && git format-patch -1 --stdout FETCH_HEAD,"['etc/cinder/cinder.conf.sample', 'cinder/wsgi.py', 'cinder/tests/test_wsgi.py']",3,57ea636e0fcef64436ceacce36c7aedb3bd23819,bug/1361360,"import re import socketimport time server.stop() def test_client_socket_timeout(self): CONF.set_default(""client_socket_timeout"", 0.1) greetings = 'Hello, World!!!' def hello_world(env, start_response): start_response('200 OK', [('Content-Type', 'text/plain')]) return [greetings] server = cinder.wsgi.Server(""test_app"", hello_world, host=""127.0.0.1"", port=0) server.start() s = socket.socket() s.connect((""127.0.0.1"", server.port)) fd = s.makefile('rw') fd.write(b'GET / HTTP/1.1\r\nHost: localhost\r\n\r\n') fd.flush() buf = fd.read() self.assertTrue(re.search(greetings, buf)) s2 = socket.socket() s2.connect((""127.0.0.1"", server.port)) time.sleep(0.2) fd = s2.makefile('rw') fd.write(b'GET / HTTP/1.1\r\nHost: localhost\r\n\r\n') fd.flush() buf = fd.read() # connection is closed so we get nothing from the server self.assertFalse(buf)",,51,1
openstack%2Fdesignate~master~I928b70ea73299ad7c818267324606fa88175c65d,openstack/designate,master,I928b70ea73299ad7c818267324606fa88175c65d,Refactor RecordSet Relation Loads,MERGED,2015-01-22 01:26:47.000000000,2015-01-23 01:04:58.000000000,2015-01-23 01:04:56.000000000,"[{'_account_id': 3}, {'_account_id': 8094}, {'_account_id': 8099}, {'_account_id': 8174}]","[{'number': 1, 'created': '2015-01-22 01:26:47.000000000', 'files': ['designate/storage/impl_sqlalchemy/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/9fcb5108f22ae4f43567002727f90e33345fb663', 'message': 'Refactor RecordSet Relation Loads\n\nDe-duplicate the loading of records when loading recordsets\n\nChange-Id: I928b70ea73299ad7c818267324606fa88175c65d\n'}]",0,149109,9fcb5108f22ae4f43567002727f90e33345fb663,8,4,1,741,,,0,"Refactor RecordSet Relation Loads

De-duplicate the loading of records when loading recordsets

Change-Id: I928b70ea73299ad7c818267324606fa88175c65d
",git fetch https://review.opendev.org/openstack/designate refs/changes/09/149109/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/storage/impl_sqlalchemy/__init__.py'],1,9fcb5108f22ae4f43567002727f90e33345fb663,," # Load Relations def _load_relations(recordset): recordset.records = self._find_records( context, {'recordset_id': recordset.id}) recordset.obj_reset_changes(['recordset']) if one: _load_relations(recordsets) else: for recordset in recordsets: _load_relations(recordset) return self._find_recordsets(context, {'id': recordset_id}, one=True) return self._find_recordsets(context, criterion, marker=marker, limit=limit, sort_key=sort_key, sort_dir=sort_dir) return self._find_recordsets(context, criterion, one=True)"," recordset = self._find_recordsets( context, {'id': recordset_id}, one=True) recordset.records = self._find_records( context, {'recordset_id': recordset.id}) recordset.obj_reset_changes(['records']) return recordset recordsets = self._find_recordsets(context, criterion, marker=marker, limit=limit, sort_key=sort_key, sort_dir=sort_dir) for recordset in recordsets: recordset.records = self._find_records( context, {'recordset_id': recordset.id}) recordset.obj_reset_changes(['records']) return recordsets recordset = self._find_recordsets(context, criterion, one=True) recordset.records = self._find_records( context, {'recordset_id': recordset.id}) recordset.obj_reset_changes(['records']) return recordset",18,28
openstack%2Fdesignate~master~I9794341b2bfa06b34b994ed028e41a03e27f196d,openstack/designate,master,I9794341b2bfa06b34b994ed028e41a03e27f196d,Move some methods from mdns to dnsutils,MERGED,2015-01-22 00:05:36.000000000,2015-01-23 01:01:07.000000000,2015-01-23 01:01:05.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8094}, {'_account_id': 8099}, {'_account_id': 8174}]","[{'number': 1, 'created': '2015-01-22 00:05:36.000000000', 'files': ['designate/mdns/service.py', 'designate/dnsutils.py', 'designate/tests/test_mdns/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/d31411dd7832999b764a6e8dcadeccfeef456e57', 'message': 'Move some methods from mdns to dnsutils\n\nAgent needs some methods in mdns. These methods\nare moved to dnsutils to prevent code duplication.\n\nChange-Id: I9794341b2bfa06b34b994ed028e41a03e27f196d\nCloses-Bug: 1413387\n'}]",3,149091,d31411dd7832999b764a6e8dcadeccfeef456e57,9,5,1,8094,,,0,"Move some methods from mdns to dnsutils

Agent needs some methods in mdns. These methods
are moved to dnsutils to prevent code duplication.

Change-Id: I9794341b2bfa06b34b994ed028e41a03e27f196d
Closes-Bug: 1413387
",git fetch https://review.opendev.org/openstack/designate refs/changes/91/149091/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/mdns/service.py', 'designate/dnsutils.py', 'designate/tests/test_mdns/test_service.py']",3,d31411dd7832999b764a6e8dcadeccfeef456e57,bug/1413387,"from designate import dnsutils dnsutils.handle(self.addr, None, self.service.application, sock_udp=self.service._sock_udp) dnsutils.handle( self.addr, binascii.a2b_hex(payload), self.service.application, sock_udp=self.service._sock_udp)"," self.service._handle(self.addr, None) self.service._handle(self.addr, binascii.a2b_hex(payload))",168,136
openstack%2Fproject-config~master~I582beb408a5c153e6afe2d5dd28c3ed351afe71c,openstack/project-config,master,I582beb408a5c153e6afe2d5dd28c3ed351afe71c,Create a repository for stackforge/xstatic-angular-irdragndrop,MERGED,2015-01-15 01:28:19.000000000,2015-01-23 01:00:17.000000000,2015-01-23 01:00:16.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 9576}, {'_account_id': 9622}, {'_account_id': 11809}, {'_account_id': 13785}]","[{'number': 1, 'created': '2015-01-15 01:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c93e41d9577324c701a3131100568a6719472394', 'message': 'Create a repository for stackforge/xstatic-angular-irdragndrop\n\nThis is patch creates a new repository for a package containing an\nangular drag-n-drop javascript to be used in Horizon.\n\nChange-Id: I582beb408a5c153e6afe2d5dd28c3ed351afe71c\n'}, {'number': 2, 'created': '2015-01-22 18:50:35.000000000', 'files': ['gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/160c5c795199fda38766dca3d7b63a04102fb938', 'message': 'Create a repository for stackforge/xstatic-angular-irdragndrop\n\nThis is patch creates a new repository for a package containing an\nangular drag-n-drop javascript to be used in Horizon.\n\nChange-Id: I582beb408a5c153e6afe2d5dd28c3ed351afe71c\n'}]",3,147356,160c5c795199fda38766dca3d7b63a04102fb938,17,8,2,9576,,,0,"Create a repository for stackforge/xstatic-angular-irdragndrop

This is patch creates a new repository for a package containing an
angular drag-n-drop javascript to be used in Horizon.

Change-Id: I582beb408a5c153e6afe2d5dd28c3ed351afe71c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/56/147356/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml']",3,c93e41d9577324c701a3131100568a6719472394,irdragndrop, - name: stackforge/xstatic-angular-irdragndrop template: - name: merge-check - name: noop-jobs ,,18,0
openstack%2Fopenstacksdk~master~I8739ebca2ac77ea4a4d6f4e3ff30a3a253d8b636,openstack/openstacksdk,master,I8739ebca2ac77ea4a4d6f4e3ff30a3a253d8b636,Implement Swift Proxy object and example,MERGED,2014-10-30 19:42:19.000000000,2015-01-23 00:55:33.000000000,2015-01-23 00:55:33.000000000,"[{'_account_id': 3}, {'_account_id': 8257}, {'_account_id': 8736}, {'_account_id': 12000}, {'_account_id': 12807}]","[{'number': 1, 'created': '2014-10-30 19:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4f718f6cc9faee83e80b03a75e19b4b02d213260', 'message': 'Implement Swift Proxy object (for summit demo)\n\nChange-Id: I8739ebca2ac77ea4a4d6f4e3ff30a3a253d8b636\n'}, {'number': 2, 'created': '2014-10-30 22:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4a44215b31882ed8180d667e1926ed41634ee83e', 'message': 'Implement Swift Proxy object (for summit demo)\n\nChange-Id: I8739ebca2ac77ea4a4d6f4e3ff30a3a253d8b636\n'}, {'number': 3, 'created': '2014-10-31 06:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5dd1a5562f6eade8a834f9924c07bf5341a94a7c', 'message': 'Implement Swift Proxy object ane example\n\nThis implements the proxy that is exposed as Connection.object_store,\nand includes some example usage.\n\npython -m examples.object_store --list-containers\npython -m examples.object_store --list-objects <container>\npython -m examples.object_store --upload-directory <directory> --pattern\n<glob pattern>\n\nEx: ... --upload-directory pictures/ --pattern ""*.jpg""\n\nChange-Id: I8739ebca2ac77ea4a4d6f4e3ff30a3a253d8b636\n'}, {'number': 4, 'created': '2014-11-13 17:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b9b6c0a300587655fdaff6ad8e385f7bf413f3d1', 'message': 'Implement Swift Proxy object and example\n\nThis implements the proxy that is exposed as Connection.object_store,\nand includes some example usage.\n\npython -m examples.object_store --list-containers\npython -m examples.object_store --list-objects <container>\npython -m examples.object_store --upload-directory <directory> --pattern\n<glob pattern>\n\nEx: ... --upload-directory pictures/ --pattern ""*.jpg""\n\nChange-Id: I8739ebca2ac77ea4a4d6f4e3ff30a3a253d8b636\n'}, {'number': 5, 'created': '2014-11-25 18:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c381e90ad2250d9dd50acac7c8ecef12ffd0f625', 'message': 'Implement Swift Proxy object and example\n\nThis implements the proxy that is exposed as Connection.object_store,\nand includes some example usage as well as documentation and a user\nguide.\n\npython -m examples.object_store --list-containers\npython -m examples.object_store --list-objects <container>\npython -m examples.object_store --upload-directory <directory> --pattern\n<glob pattern>\n\nEx: ... --upload-directory pictures/ --pattern ""*.jpg""\n\nChange-Id: I8739ebca2ac77ea4a4d6f4e3ff30a3a253d8b636\n'}, {'number': 6, 'created': '2014-12-18 22:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/69cbfbeac382ed3fd964077849d2097c9e4d118b', 'message': 'Implement Swift Proxy object and example\n\nThis implements the proxy that is exposed as Connection.object_store,\nand includes some example usage as well as documentation and a user\nguide.\n\npython -m examples.object_store --list-containers\npython -m examples.object_store --list-objects <container>\npython -m examples.object_store --upload-directory <directory> --pattern\n<glob pattern>\n\nEx: ... --upload-directory pictures/ --pattern ""*.jpg""\n\nChange-Id: I8739ebca2ac77ea4a4d6f4e3ff30a3a253d8b636\n'}, {'number': 7, 'created': '2014-12-19 15:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a66a09fa27acb8486350f20ef7729b65e6e3fd7f', 'message': 'Implement Swift Proxy object and example\n\nThis implements the proxy that is exposed as Connection.object_store,\nand includes some example usage as well as documentation and a user\nguide.\n\npython -m examples.object_store --list-containers\npython -m examples.object_store --list-objects <container>\npython -m examples.object_store --upload-directory <directory> --pattern\n<glob pattern>\n\nEx: ... --upload-directory pictures/ --pattern ""*.jpg""\n\nChange-Id: I8739ebca2ac77ea4a4d6f4e3ff30a3a253d8b636\n'}, {'number': 8, 'created': '2015-01-12 16:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6ce32821e66f24542e1a91116c7a19d9cd31179e', 'message': 'Implement Swift Proxy object and example\n\nThis implements the proxy that is exposed as Connection.object_store,\nand includes some example usage as well as documentation and a user\nguide.\n\npython -m examples.object_store --list-containers\npython -m examples.object_store --list-objects <container>\npython -m examples.object_store --upload-directory <directory> --pattern\n<glob pattern>\n\nEx: ... --upload-directory pictures/ --pattern ""*.jpg""\n\nChange-Id: I8739ebca2ac77ea4a4d6f4e3ff30a3a253d8b636\n'}, {'number': 9, 'created': '2015-01-13 20:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/84b211fcc65cde70f4583a8b31ca2a962c7a758e', 'message': 'Implement Swift Proxy object and example\n\nThis implements the proxy that is exposed as Connection.object_store,\nand includes some example usage as well as documentation and a user\nguide.\n\npython -m examples.object_store --list-containers\npython -m examples.object_store --list-objects <container>\npython -m examples.object_store --upload-directory <directory> --pattern\n<glob pattern>\n\nEx: ... --upload-directory pictures/ --pattern ""*.jpg""\n\nChange-Id: I8739ebca2ac77ea4a4d6f4e3ff30a3a253d8b636\n'}, {'number': 10, 'created': '2015-01-16 21:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/32b25137442e6f8c0df3b620fa099d746a5ed822', 'message': 'Implement Swift Proxy object and example\n\nThis implements the proxy that is exposed as Connection.object_store,\nand includes some example usage as well as documentation and a user\nguide.\n\npython -m examples.object_store --list-containers\npython -m examples.object_store --list-objects <container>\npython -m examples.object_store --upload-directory <directory> --pattern\n<glob pattern>\n\nEx: ... --upload-directory pictures/ --pattern ""*.jpg""\n\nChange-Id: I8739ebca2ac77ea4a4d6f4e3ff30a3a253d8b636\n'}, {'number': 11, 'created': '2015-01-16 21:19:02.000000000', 'files': ['doc/source/code/connection.py', 'openstack/object_store/v1/obj.py', 'doc/source/index.rst', 'examples/object_store.py', 'openstack/tests/object_store/v1/test_proxy.py', 'doc/source/userguides/object_store.rst', 'openstack/object_store/v1/container.py', 'doc/source/highlevel/object_store.rst', 'openstack/object_store/v1/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ad9a4c187879d7a04b82f74e524b8cfb52d4ba22', 'message': 'Implement Swift Proxy object and example\n\nThis implements the proxy that is exposed as Connection.object_store,\nand includes some example usage as well as documentation and a user\nguide.\n\npython -m examples.object_store --list-containers\npython -m examples.object_store --list-objects <container>\npython -m examples.object_store --upload-directory <directory> --pattern\n<glob pattern>\n\nEx: ... --upload-directory pictures/ --pattern ""*.jpg""\n\nChange-Id: I8739ebca2ac77ea4a4d6f4e3ff30a3a253d8b636\n'}]",12,132100,ad9a4c187879d7a04b82f74e524b8cfb52d4ba22,44,5,11,8257,,,0,"Implement Swift Proxy object and example

This implements the proxy that is exposed as Connection.object_store,
and includes some example usage as well as documentation and a user
guide.

python -m examples.object_store --list-containers
python -m examples.object_store --list-objects <container>
python -m examples.object_store --upload-directory <directory> --pattern
<glob pattern>

Ex: ... --upload-directory pictures/ --pattern ""*.jpg""

Change-Id: I8739ebca2ac77ea4a4d6f4e3ff30a3a253d8b636
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/00/132100/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/object_store/v1/_proxy.py'],1,4f718f6cc9faee83e80b03a75e19b4b02d213260,object_storage-high-level,"from openstack.object_store.v1 import container as _container from openstack.object_store.v1 import obj as _obj from openstack import resource def get_account_metadata(self, container=None): """"""Get metatdata for this account. :param container: :type Container: :class:`~openstack.object_store.v1.container` """""" if container is None: container = _container.Container() container.head(self.session) return container def set_account_metadata(self, container): """"""Set metatdata for this account. :param container: :type Container: :class:`~openstack.object_store.v1.container` """""" container.update(self.session) return container def list_containers(self): """"""List containers for this account."""""" container = _container.Container() return container.list(self.session) def get_container_metadata(self, container): """"""Get metatdata for a container. :param container: :type Container: :class:`~openstack.object_store.v1.container` """""" container.head(self.session) return container def set_container_metadata(self, container): """"""Set metatdata for a container. :param container: :type Container: :class:`~openstack.object_store.v1.container` """""" container.update(self.session) return container def create_container(self, container): """"""Create a container, :param container: :type Container: :class:`~openstack.object_store.v1.container` """""" container.create(self.session) return container def delete_container(self, container): """"""Delete a container. :param container: :type Container: :class:`~openstack.object_store.v1.container` """""" container.delete(self.session) def list_objects(self, container): """"""List objects inside a container. :param container: :type Container: :class:`~openstack.object_store.v1.container` """""" obj = _obj.Object() objs = obj.list(self.session, path_args={""container"": container.name}) # TODO: Objects have to know their container at this point, otherwise # further operations like getting their metadata or downloading # them is a hassle because the end-user would have to maintain # both the container and the object separately. for ob in objs: ob.container = container.name return objs def get_object_data(self, obj): """"""Retreive the data contained inside an object. :param obj: :type Object: :class:`~openstack.object_store.v1.obj` """""" return obj.get(self.session) def save_object(self, obj, path): """"""Save the data contained inside an object to disk. :param obj: :type Object: :class:`~openstack.object_store.v1.obj` ""param path str: Location to write the object contents. """""" with open(path, ""w"") as out: out.write(self.get_object_data(obj)) def create_object(self): """"""Create an object."""""" raise NotImplementedError def copy_object(self): """"""Copy an object."""""" raise NotImplementedError def delete_object(self, obj): """"""Delete an object. :param obj: :type Object: :class:`~openstack.object_store.v1.obj` """""" obj.delete(self.session) def get_object_metadata(self, obj): """"""Get metatdata for an object. :param obj: :type Object: :class:`~openstack.object_store.v1.obj` """""" obj.head(self.session) return obj def set_object_metadata(self, obj): """"""Set metatdata for an object. :param obj: :type Object: :class:`~openstack.object_store.v1.obj` """""" obj.update(self.session) return obj ",,133,0
openstack%2Fopenstacksdk~master~I84c2101024849ceb78de677607f6a64bd8134ede,openstack/openstacksdk,master,I84c2101024849ceb78de677607f6a64bd8134ede,Build Resource from either existing object or id,MERGED,2015-01-16 16:42:15.000000000,2015-01-23 00:49:51.000000000,2015-01-23 00:49:49.000000000,"[{'_account_id': 3}, {'_account_id': 8257}, {'_account_id': 8736}, {'_account_id': 12000}]","[{'number': 1, 'created': '2015-01-16 16:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e8862173ff4d2831d7c5cae795316ddc20aef857', 'message': 'Build Resource from either existing object or id\n\nAllow Resource objects to be built from either an existing object, or be\ncreated from scratch with the given id. This is useful at the Proxy\nlevel when creating interfaces that must work with a Resource in the\nend, but will want to be able to either operate on string names or the\nResources returned from other APIs.\n\nAn example is that you may want to create an object in the object store\ngiven a previously obtained container object and a string name for the\nobject. You may also have constructed the Resource for the object ahead\nof time and may want to pass that instead of a string name.\n\nChange-Id: I84c2101024849ceb78de677607f6a64bd8134ede\n'}, {'number': 2, 'created': '2015-01-16 17:35:09.000000000', 'files': ['openstack/resource.py', 'openstack/tests/test_resource.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a250d8893f78bc0943276db762f48e3d61594f9f', 'message': 'Build Resource from either existing object or id\n\nAllow Resource objects to be built from either an existing object, or be\ncreated from scratch with the given id. This is useful at the Proxy\nlevel when creating interfaces that must work with a Resource in the\nend, but will want to be able to either operate on string names or the\nResources returned from other APIs.\n\nAn example is that you may want to create an object in the object store\ngiven a previously obtained container object and a string name for the\nobject. You may also have constructed the Resource for the object ahead\nof time and may want to pass that instead of a string name.\n\nChange-Id: I84c2101024849ceb78de677607f6a64bd8134ede\n'}]",2,147914,a250d8893f78bc0943276db762f48e3d61594f9f,10,4,2,8257,,,0,"Build Resource from either existing object or id

Allow Resource objects to be built from either an existing object, or be
created from scratch with the given id. This is useful at the Proxy
level when creating interfaces that must work with a Resource in the
end, but will want to be able to either operate on string names or the
Resources returned from other APIs.

An example is that you may want to create an object in the object store
given a previously obtained container object and a string name for the
object. You may also have constructed the Resource for the object ahead
of time and may want to pass that instead of a string name.

Change-Id: I84c2101024849ceb78de677607f6a64bd8134ede
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/14/147914/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/resource.py', 'openstack/tests/test_resource.py']",2,e8862173ff4d2831d7c5cae795316ddc20aef857,resource_create_from_id," def test_from_id_with_name(self): name = ""Sandy Koufax"" obj = FakeResource.from_id(name) self.assertEqual(obj.id, name) def test_from_id_with_object(self): name = ""Mickey Mantle"" obj = FakeResource.new(name=name) new_obj = FakeResource.from_id(obj) self.assertIs(new_obj, obj) self.assertEqual(new_obj.name, obj.name) def test_from_id_with_bad_value(self): try: FakeResource.from_id(3.14) except ValueError: pass else: self.fail(""Did not raise ValueError on invalid type."") ",,38,0
openstack%2Fnetworking-odl~master~I926b278b6ae25e6d10a58df4bfb69315da168265,openstack/networking-odl,master,I926b278b6ae25e6d10a58df4bfb69315da168265,Fix unit tests for networking-odl,MERGED,2015-01-23 00:38:49.000000000,2015-01-23 00:49:06.000000000,2015-01-23 00:49:06.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 7016}, {'_account_id': 10386}, {'_account_id': 11240}, {'_account_id': 11952}]","[{'number': 1, 'created': '2015-01-23 00:38:49.000000000', 'files': ['networking_odl/tests/unit/ml2/test_mechanism_odl.py', 'tools/pretty_tox.sh'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/c6a0e4394eca1f57069830f9f1e73b4a08a4570a', 'message': 'Fix unit tests for networking-odl\n\nThis commits fixes problems with the unit tests not running correctly\nas a result of some changes to neutron using new oslo libraries, as well\nas some fundamental problems post refactoring of the neutron ODL parts.\n\nChange-Id: I926b278b6ae25e6d10a58df4bfb69315da168265\nCloses-Bug: #1411780\n'}]",0,149445,c6a0e4394eca1f57069830f9f1e73b4a08a4570a,11,6,1,105,,,0,"Fix unit tests for networking-odl

This commits fixes problems with the unit tests not running correctly
as a result of some changes to neutron using new oslo libraries, as well
as some fundamental problems post refactoring of the neutron ODL parts.

Change-Id: I926b278b6ae25e6d10a58df4bfb69315da168265
Closes-Bug: #1411780
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/45/149445/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/tests/unit/ml2/test_mechanism_odl.py', 'tools/pretty_tox.sh']",2,c6a0e4394eca1f57069830f9f1e73b4a08a4570a,fix-unit-tests,"status=$(exec 4>&1 >&3; ( python setup.py testr --slowest --testr-args=""--subunit $TESTRARGS""; echo $? >&4 ) | $(dirname $0)/subunit-trace.py -f) && exit $status","status=$(exec 4>&1 >&3; ( python -m neutron.openstack.common.lockutils python setup.py testr --slowest --testr-args=""--subunit $TESTRARGS""; echo $? >&4 ) | $(dirname $0)/subunit-trace.py -f) && exit $status",7,5
openstack%2Fbarbican~master~I66e9b2b6dbb7196cf5a639db52f9f25e82da1765,openstack/barbican,master,I66e9b2b6dbb7196cf5a639db52f9f25e82da1765,Fix 500 error when PUTing an order,MERGED,2014-10-01 22:58:08.000000000,2015-01-23 00:33:39.000000000,2015-01-23 00:33:37.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 6783}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 7354}, {'_account_id': 7355}, {'_account_id': 7687}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 8004}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}]","[{'number': 1, 'created': '2014-10-01 22:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/e86a799df82de2ee02c50788d4333fb8605954ff', 'message': 'Fix 500 error when PUTing an order\n\nChange-Id: I66e9b2b6dbb7196cf5a639db52f9f25e82da1765\nCloses-Bug: #1376438\n'}, {'number': 2, 'created': '2014-10-01 23:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/7b8cf78de71b3a13c32405622530a135b2f777c6', 'message': 'Fix 500 error when PUTing an order\n\nChange-Id: I66e9b2b6dbb7196cf5a639db52f9f25e82da1765\nCloses-Bug: #1376438\n'}, {'number': 3, 'created': '2015-01-02 11:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/09d6ddc786b9c5d92f188ac2f352526faafd01c4', 'message': 'Fix 500 error when PUTing an order\n\nSince the load_body function was not being used to parse the request\ninitially for orders, it was resulting in the exception that is seen\nin the bug description. So, load_body was introduced. But, since\nload_body uses a ""read"" for the ByteIO stream that contains the\nrequest\'s payload, it could only be used once. So a ""seek(0)"" was\nintroduced to address this.\n\nChange-Id: I66e9b2b6dbb7196cf5a639db52f9f25e82da1765\nCloses-Bug: #1376438\n'}, {'number': 4, 'created': '2015-01-19 13:43:03.000000000', 'files': ['barbican/api/controllers/orders.py', 'barbican/api/__init__.py', 'barbican/tests/api/test_resources.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/5df7bbf3f84a491010e6e5f532d3dd041bbab98c', 'message': 'Fix 500 error when PUTing an order\n\nSince the load_body function was not being used to parse the request\ninitially for orders, it was resulting in the exception that is seen\nin the bug description. So, load_body was introduced. But, since\nload_body uses a ""read"" for the ByteIO stream that contains the\nrequest\'s payload, it could only be used once. So a ""seek(0)"" was\nintroduced to address this.\n\nChange-Id: I66e9b2b6dbb7196cf5a639db52f9f25e82da1765\nCloses-Bug: #1376438\n'}]",5,125516,5df7bbf3f84a491010e6e5f532d3dd041bbab98c,28,14,4,7973,,,0,"Fix 500 error when PUTing an order

Since the load_body function was not being used to parse the request
initially for orders, it was resulting in the exception that is seen
in the bug description. So, load_body was introduced. But, since
load_body uses a ""read"" for the ByteIO stream that contains the
request's payload, it could only be used once. So a ""seek(0)"" was
introduced to address this.

Change-Id: I66e9b2b6dbb7196cf5a639db52f9f25e82da1765
Closes-Bug: #1376438
",git fetch https://review.opendev.org/openstack/barbican refs/changes/16/125516/4 && git format-patch -1 --stdout FETCH_HEAD,['barbican/tests/api/test_resources.py'],1,e86a799df82de2ee02c50788d4333fb8605954ff,bug/1376438," def test_should_fail_with_bogus_content(self): resp = self.app.put_json( '/orders/{0}'.format(self.order.id), 'bogus', headers={ 'Content-Type': 'application/json' } ) ",,9,0
openstack%2Fneutron~master~I39a20dbae85b2fb671682e0cf94d67f06b9b8535,openstack/neutron,master,I39a20dbae85b2fb671682e0cf94d67f06b9b8535,Use constants from networking_odl project,MERGED,2015-01-22 00:37:56.000000000,2015-01-23 00:32:34.000000000,2015-01-22 13:19:26.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 2874}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 7016}, {'_account_id': 7448}, {'_account_id': 8645}, {'_account_id': 8792}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 11240}, {'_account_id': 11952}, {'_account_id': 12040}]","[{'number': 1, 'created': '2015-01-22 00:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04f309787ac07293bde925e34f33d8c22b274ef4', 'message': 'Use constants from networking_odl project\n\nInstead of redefining ODL_NETWORKS, ODL_SUBNETS, and ODL_PORTS,\ninstead use these from the networking_odl project.\n\nChange-Id: I39a20dbae85b2fb671682e0cf94d67f06b9b8535\n'}, {'number': 2, 'created': '2015-01-22 00:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52550a2255ab6c49dfb60a2c0ce3d808f56518ac', 'message': 'Use constants from networking_odl project\n\nInstead of redefining ODL_NETWORKS, ODL_SUBNETS, and ODL_PORTS,\nuse these from the networking_odl project.\n\nChange-Id: I39a20dbae85b2fb671682e0cf94d67f06b9b8535\n'}, {'number': 3, 'created': '2015-01-22 01:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/12a294ab14ccf99441bd9e8cbb642cd3ead2a339', 'message': 'Use constants from networking_odl project\n\nInstead of redefining ODL_NETWORKS, ODL_SUBNETS, and ODL_PORTS,\nuse these from the networking_odl project.\n\nChange-Id: I39a20dbae85b2fb671682e0cf94d67f06b9b8535\n'}, {'number': 4, 'created': '2015-01-22 05:21:14.000000000', 'files': ['neutron/plugins/ml2/drivers/mechanism_odl.py', 'neutron/tests/unit/ml2/test_mechanism_odl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/082258f5213948c0b74151fe1a74a1888e8dea67', 'message': 'Use constants from networking_odl project\n\nInstead of redefining ODL_NETWORKS, ODL_SUBNETS, and ODL_PORTS,\nuse these from the networking_odl project.\n\nChange-Id: I39a20dbae85b2fb671682e0cf94d67f06b9b8535\n'}]",4,149096,082258f5213948c0b74151fe1a74a1888e8dea67,55,25,4,105,,,0,"Use constants from networking_odl project

Instead of redefining ODL_NETWORKS, ODL_SUBNETS, and ODL_PORTS,
use these from the networking_odl project.

Change-Id: I39a20dbae85b2fb671682e0cf94d67f06b9b8535
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/149096/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/mechanism_odl.py', 'neutron/tests/unit/ml2/test_mechanism_odl.py']",2,04f309787ac07293bde925e34f33d8c22b274ef4,odl-constants," 'networking_odl.common': mock.Mock(), from networking_odl.common import constants as const const.ODL_NETWORKS, const.ODL_NETWORKS, const.ODL_NETWORKS, const.ODL_SUBNETS, const.ODL_SUBNETS, const.ODL_SUBNETS, const.ODL_PORTS, const.ODL_PORTS, const.ODL_PORTS,"," ODL_NETWORKS, ODL_NETWORKS, ODL_NETWORKS, ODL_SUBNETS, ODL_SUBNETS, ODL_SUBNETS, ODL_PORTS, ODL_PORTS, ODL_PORTS,",21,22
openstack%2Fcookbook-openstack-common~master~Iebbbcc0a4330f803af9ef85f9ec11bd949bc6cad,openstack/cookbook-openstack-common,master,Iebbbcc0a4330f803af9ef85f9ec11bd949bc6cad,Add attributes to allow endpoint configuration,ABANDONED,2014-12-18 06:32:07.000000000,2015-01-23 00:32:33.000000000,,"[{'_account_id': 3}, {'_account_id': 1298}, {'_account_id': 7128}, {'_account_id': 8112}, {'_account_id': 9488}, {'_account_id': 12612}]","[{'number': 1, 'created': '2014-12-18 06:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/fef73ed851c3921688f2211c12f643940079af1b', 'message': 'Add attributes to allow endpoint configuration\n\nThis patch adds attributes to allow the configuration of all nova\nendpoints.  Depending on the cloud configuration these may need to be\nmodified independently of eachother.\n\nChange-Id: Iebbbcc0a4330f803af9ef85f9ec11bd949bc6cad\nPartial-Bug: 1403724\n'}, {'number': 2, 'created': '2015-01-21 04:08:37.000000000', 'files': ['attributes/default.rb', 'CHANGELOG.md', 'metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/6e03a1dbe0a82a39207c398a720bfc3d56375d2f', 'message': 'Add attributes to allow endpoint configuration\n\nThis patch adds attributes to allow the configuration of all nova\nendpoints.  Depending on the cloud configuration these may need to be\nmodified independently of eachother.\n\nChange-Id: Iebbbcc0a4330f803af9ef85f9ec11bd949bc6cad\nPartial-Bug: 1403724\n'}]",6,142684,6e03a1dbe0a82a39207c398a720bfc3d56375d2f,14,6,2,12612,,,0,"Add attributes to allow endpoint configuration

This patch adds attributes to allow the configuration of all nova
endpoints.  Depending on the cloud configuration these may need to be
modified independently of eachother.

Change-Id: Iebbbcc0a4330f803af9ef85f9ec11bd949bc6cad
Partial-Bug: 1403724
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/84/142684/2 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/default.rb', 'CHANGELOG.md', 'metadata.rb']",3,fef73ed851c3921688f2211c12f643940079af1b,bug/1403724,version '10.3.0',version '10.2.0',28,1
openstack%2Fmagnum~master~Ied9a855251246bb087bc8bca70809a81594f26c7,openstack/magnum,master,Ied9a855251246bb087bc8bca70809a81594f26c7,Add project_id and user_id to magnum objects,MERGED,2015-01-22 02:37:37.000000000,2015-01-22 23:30:49.000000000,2015-01-22 23:30:48.000000000,"[{'_account_id': 3}, {'_account_id': 2506}, {'_account_id': 2834}, {'_account_id': 7494}, {'_account_id': 12385}]","[{'number': 1, 'created': '2015-01-22 02:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b826bd39edc91546e7ae48bbb33f3d1a5394077a', 'message': 'Add project_id and user_id to magnum objects\n\nproject_id and user_id were added to the following tables:\n1) container\n2) node\n3) bay\n4) pod\n5) replicationcontroller\n6) service\n\nImplements part of bp multi-tenant\n\nChange-Id: Ied9a855251246bb087bc8bca70809a81594f26c7\n'}, {'number': 2, 'created': '2015-01-22 02:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/60cb2e1149208e8c4494d2f913f2e426962d2aa5', 'message': 'Add project_id and user_id to magnum objects\n\nproject_id and user_id were added to the following tables:\n1) container\n2) node\n3) bay\n4) pod\n5) replicationcontroller\n6) service\n\nImplements part of bp multi-tenant\n\nChange-Id: Ied9a855251246bb087bc8bca70809a81594f26c7\n'}, {'number': 3, 'created': '2015-01-22 06:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a8a6bd529fc74ab27186a25e3c5e627d94c40dfa', 'message': 'Add project_id and user_id to magnum objects\n\nproject_id and user_id were added to the following tables:\n1) container\n2) node\n3) bay\n4) pod\n5) replicationcontroller\n6) service\n\nImplements part of bp multi-tenant\n\nChange-Id: Ied9a855251246bb087bc8bca70809a81594f26c7\n'}, {'number': 4, 'created': '2015-01-22 13:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ca1ca9c481b968da4d09cb55c5d5fba596b30c7f', 'message': 'Add project_id and user_id to magnum objects\n\nproject_id and user_id were added to the following tables:\n1) container\n2) node\n3) bay\n4) baymodel\n\nImplements part of bp multi-tenant\n\nChange-Id: Ied9a855251246bb087bc8bca70809a81594f26c7\n'}, {'number': 5, 'created': '2015-01-22 14:29:29.000000000', 'files': ['magnum/objects/bay.py', 'magnum/tests/db/utils.py', 'magnum/objects/node.py', 'magnum/objects/container.py', 'magnum/objects/baymodel.py', 'magnum/db/sqlalchemy/alembic/versions/3bea56f25597_multi_tenant.py', 'magnum/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/57b948248778149652ad3254e709b1e312eda053', 'message': 'Add project_id and user_id to magnum objects\n\nproject_id and user_id were added to the following tables:\n1) container\n2) node\n3) bay\n4) baymodel\n\nImplements part of bp multi-tenant\n\nChange-Id: Ied9a855251246bb087bc8bca70809a81594f26c7\n'}]",0,149123,57b948248778149652ad3254e709b1e312eda053,24,5,5,7494,,,0,"Add project_id and user_id to magnum objects

project_id and user_id were added to the following tables:
1) container
2) node
3) bay
4) baymodel

Implements part of bp multi-tenant

Change-Id: Ied9a855251246bb087bc8bca70809a81594f26c7
",git fetch https://review.opendev.org/openstack/magnum refs/changes/23/149123/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/objects/service.py', 'magnum/objects/bay.py', 'magnum/tests/db/utils.py', 'magnum/objects/replicationcontroller.py', 'magnum/objects/pod.py', 'magnum/objects/node.py', 'magnum/objects/container.py', 'magnum/db/sqlalchemy/alembic/versions/2581ebaf0cb2_initial_migration.py', 'magnum/db/sqlalchemy/models.py']",9,b826bd39edc91546e7ae48bbb33f3d1a5394077a,bp/multi-tenant, project_id = Column(String(255)) user_id = Column(String(255)) project_id = Column(String(255)) user_id = Column(String(255)) project_id = Column(String(255)) user_id = Column(String(255)) project_id = Column(String(255)) user_id = Column(String(255)) project_id = Column(String(255)) user_id = Column(String(255)) project_id = Column(String(255)) user_id = Column(String(255)),,48,0
openstack%2Ftripleo-incubator~master~I4e61e647afa8b088029b47045a568fdc217aafd8,openstack/tripleo-incubator,master,I4e61e647afa8b088029b47045a568fdc217aafd8,Don't delete a file before it's used,MERGED,2015-01-19 18:47:15.000000000,2015-01-22 23:25:07.000000000,2015-01-22 23:25:06.000000000,"[{'_account_id': 3}, {'_account_id': 4190}, {'_account_id': 6449}, {'_account_id': 8399}, {'_account_id': 8449}, {'_account_id': 10035}, {'_account_id': 12459}]","[{'number': 1, 'created': '2015-01-19 18:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/4c8ca02e42fde31a6a046181dd43bea207acef3e', 'message': ""Don't delete a file before it's used\n\nThis code doesn't seem to have ever been exercised since it was created.\n\nIt's not very clever to rm a file just and then try to use it. Usually\none reads, the file and cleans up afterwards.\n\nChange-Id: I4e61e647afa8b088029b47045a568fdc217aafd8\n""}, {'number': 2, 'created': '2015-01-20 11:18:16.000000000', 'files': ['scripts/devtest_seed.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/f42f741c7f0364fc38af2df6297ad0f493aadf78', 'message': ""Don't delete a file before it's used\n\nThis code doesn't seem to have ever been exercised since it was created.\n\nIt's not very clever to rm a file and then try to use it. Usually\none reads the file and cleans up afterwards.\n\nChange-Id: I4e61e647afa8b088029b47045a568fdc217aafd8\n""}]",1,148333,f42f741c7f0364fc38af2df6297ad0f493aadf78,16,7,2,9453,,,0,"Don't delete a file before it's used

This code doesn't seem to have ever been exercised since it was created.

It's not very clever to rm a file and then try to use it. Usually
one reads the file and cleans up afterwards.

Change-Id: I4e61e647afa8b088029b47045a568fdc217aafd8
",git fetch https://review.opendev.org/openstack/tripleo-incubator refs/changes/33/148333/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/devtest_seed.sh'],1,4c8ca02e42fde31a6a046181dd43bea207acef3e,no-dollars, rm $PUBLIC_NETWORK_JSON, rm $PUBLIC_NETWORK_JSON,1,1
openstack%2Fmagnum~master~I6d0b3615c06f27e78958e82ec6b7c0ceaf11efa5,openstack/magnum,master,I6d0b3615c06f27e78958e82ec6b7c0ceaf11efa5,Fix documentation to display on git hub correctly,MERGED,2015-01-22 15:57:04.000000000,2015-01-22 23:24:39.000000000,2015-01-22 23:24:38.000000000,"[{'_account_id': 3}, {'_account_id': 2506}, {'_account_id': 7494}, {'_account_id': 11536}, {'_account_id': 12385}, {'_account_id': 14046}]","[{'number': 1, 'created': '2015-01-22 15:57:04.000000000', 'files': ['doc/source/dev/dev-quickstart.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e08e8f0af87ba3125e73f064491f3c629c1bd810', 'message': 'Fix documentation to display on git hub correctly\n\n""Next configure Magnum::"" always needs a CR after the ::\n\nChange-Id: I6d0b3615c06f27e78958e82ec6b7c0ceaf11efa5\n'}]",0,149324,e08e8f0af87ba3125e73f064491f3c629c1bd810,10,6,1,2834,,,0,"Fix documentation to display on git hub correctly

""Next configure Magnum::"" always needs a CR after the ::

Change-Id: I6d0b3615c06f27e78958e82ec6b7c0ceaf11efa5
",git fetch https://review.opendev.org/openstack/magnum refs/changes/24/149324/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/dev/dev-quickstart.rst'],1,e08e8f0af87ba3125e73f064491f3c629c1bd810,,"If using the m-1 tag or tarball, please use the documentation shipped with the milestone as the current master instructions are slightly incompatible. "," # If using milestone #1, please use the documentation shipped with the milestone # as the current master instructions are slightly incompatible.",3,2
openstack%2Ffuel-docs~master~I891e52da4586e77ff7099c55ab0c17c8e356435b,openstack/fuel-docs,master,I891e52da4586e77ff7099c55ab0c17c8e356435b,add PIL to build requirements,ABANDONED,2015-01-22 22:50:48.000000000,2015-01-22 23:24:12.000000000,,"[{'_account_id': 3}, {'_account_id': 8787}, {'_account_id': 8971}]","[{'number': 1, 'created': '2015-01-22 22:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/6895b25ec30b048bd03247b4fb9930817925f148', 'message': 'add PIL to build requirements\n\nChange-Id: I891e52da4586e77ff7099c55ab0c17c8e356435b\n'}, {'number': 2, 'created': '2015-01-22 22:55:01.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/fe678dedb4955c052345c44fd288c268e2422117', 'message': 'add PIL to build requirements\n\nChange-Id: I891e52da4586e77ff7099c55ab0c17c8e356435b\n'}]",0,149424,fe678dedb4955c052345c44fd288c268e2422117,13,3,2,8787,,,0,"add PIL to build requirements

Change-Id: I891e52da4586e77ff7099c55ab0c17c8e356435b
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/24/149424/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,6895b25ec30b048bd03247b4fb9930817925f148,requirements-pil,PILsphinxcontrib-plantuml ,sphinxcontrib-plantuml,2,1
openstack%2Ftripleo-image-elements~master~Ic7f8d3b108848928bed1b4875927f03eb8b8d342,openstack/tripleo-image-elements,master,Ic7f8d3b108848928bed1b4875927f03eb8b8d342,Correct unbound variable in ssl-ca element,MERGED,2015-01-08 16:46:20.000000000,2015-01-22 23:18:24.000000000,2015-01-22 23:18:24.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 4220}, {'_account_id': 6449}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9453}]","[{'number': 1, 'created': '2015-01-08 16:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/94b3d0e135d3dbfbb0a1a11513b85a46aa578742', 'message': 'Correct unbound variable in ssl-ca element\n\nThe ssl-ca element assumes a DISTRO_NAME variable is available in\nos-refresh-config scripts. This fails with:\n\n    ../configure.d/51-ssl-load-ca-certs: DISTRO_NAME: unbound variable\n\nChange-Id: Ic7f8d3b108848928bed1b4875927f03eb8b8d342\n'}, {'number': 2, 'created': '2015-01-09 18:25:40.000000000', 'files': ['elements/ssl-ca/os-refresh-config/configure.d/51-ssl-load-ca-certs'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/8d426d42e8ad661d2258890f20b278b61c1df79d', 'message': 'Correct unbound variable in ssl-ca element\n\nThe ssl-ca element assumes a DISTRO_NAME variable is available in\nos-refresh-config scripts. This fails with:\n\n    ../configure.d/51-ssl-load-ca-certs: DISTRO_NAME: unbound variable\n\nChange-Id: Ic7f8d3b108848928bed1b4875927f03eb8b8d342\n'}]",2,145834,8d426d42e8ad661d2258890f20b278b61c1df79d,21,8,2,741,,,0,"Correct unbound variable in ssl-ca element

The ssl-ca element assumes a DISTRO_NAME variable is available in
os-refresh-config scripts. This fails with:

    ../configure.d/51-ssl-load-ca-certs: DISTRO_NAME: unbound variable

Change-Id: Ic7f8d3b108848928bed1b4875927f03eb8b8d342
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/34/145834/2 && git format-patch -1 --stdout FETCH_HEAD,['elements/ssl-ca/os-refresh-config/configure.d/51-ssl-load-ca-certs'],1,94b3d0e135d3dbfbb0a1a11513b85a46aa578742,145834,DISTRO_NAME=$(lsb_release -is | tr -s [A-Z] [a-z]),,1,0
openstack%2Ffuel-docs~stable%2F6.0~I4fc7fa70e3b0f902a0a7c147f8bb4c55d8efbf14,openstack/fuel-docs,stable/6.0,I4fc7fa70e3b0f902a0a7c147f8bb4c55d8efbf14,remove obsolete cluster sizing table from Planning Guide,MERGED,2015-01-22 22:50:18.000000000,2015-01-22 23:13:36.000000000,2015-01-22 23:13:36.000000000,"[{'_account_id': 3}, {'_account_id': 8787}, {'_account_id': 8971}]","[{'number': 1, 'created': '2015-01-22 22:50:18.000000000', 'files': ['pages/planning-guide/4400-nodes-roles.rst'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/e1fe4d385f6712b4571c27b05cc524078d3c62de', 'message': 'remove obsolete cluster sizing table from Planning Guide\n\nThe 100 nodes scalability certification has confirmed that 3 controllers\nis still enough to sustain a cluster of up to 100 nodes, we have also\ndropped support for dedicated Swift storage and proxy nodes since v3.1.\n\nChange-Id: I4fc7fa70e3b0f902a0a7c147f8bb4c55d8efbf14\n(cherry picked from commit dbf4760aeca923a6554643d2eeb7d0f69ad21de9)\n'}]",0,149423,e1fe4d385f6712b4571c27b05cc524078d3c62de,8,3,1,8787,,,0,"remove obsolete cluster sizing table from Planning Guide

The 100 nodes scalability certification has confirmed that 3 controllers
is still enough to sustain a cluster of up to 100 nodes, we have also
dropped support for dedicated Swift storage and proxy nodes since v3.1.

Change-Id: I4fc7fa70e3b0f902a0a7c147f8bb4c55d8efbf14
(cherry picked from commit dbf4760aeca923a6554643d2eeb7d0f69ad21de9)
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/23/149423/1 && git format-patch -1 --stdout FETCH_HEAD,['pages/planning-guide/4400-nodes-roles.rst'],1,e1fe4d385f6712b4571c27b05cc524078d3c62de,,,"For a typical OpenStack compute deployment, you can use this table as high-level guidance to determine the number of controllers, compute, and storage nodes you should have: +----------+-----------+--------+-----------------------+ |# of Nodes|Controllers|Computes|Storages | +==========+===========+========+=======================+ |4-10 | 3 | 1-7 |3 (on controllers) | +----------+-----------+--------+-----------------------+ |11-40 | 3 | 3-32 |3+ (swift) + 2 (proxy) | +----------+-----------+--------+-----------------------+ |41-100 | 4 | 29-88 |6+ (swift) + 2 (proxy) | +----------+-----------+--------+-----------------------+ |>100 | 5 | >84 |9+ (swift) + 2 (proxy) | +----------+-----------+--------+-----------------------+",0,15
openstack%2Fmagnum~master~I964b036f5b49b634b809066b52d11858e2541bc9,openstack/magnum,master,I964b036f5b49b634b809066b52d11858e2541bc9,Add a DB management README,MERGED,2015-01-22 14:44:38.000000000,2015-01-22 23:12:19.000000000,2015-01-22 23:12:19.000000000,"[{'_account_id': 3}, {'_account_id': 2506}, {'_account_id': 2834}, {'_account_id': 12385}]","[{'number': 1, 'created': '2015-01-22 14:44:38.000000000', 'files': ['magnum/db/sqlalchemy/alembic/README'], 'web_link': 'https://opendev.org/openstack/magnum/commit/aba7f65d6e448aa2473fdc1283bc7a89bc9d6be4', 'message': 'Add a DB management README\n\nChange-Id: I964b036f5b49b634b809066b52d11858e2541bc9\n'}]",0,149295,aba7f65d6e448aa2473fdc1283bc7a89bc9d6be4,8,4,1,7494,,,0,"Add a DB management README

Change-Id: I964b036f5b49b634b809066b52d11858e2541bc9
",git fetch https://review.opendev.org/openstack/magnum refs/changes/95/149295/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/db/sqlalchemy/alembic/README'],1,aba7f65d6e448aa2473fdc1283bc7a89bc9d6be4,master,"Please see https://alembic.readthedocs.org/en/latest/index.html for general documentation To create alembic migrations use: $ magnum-db-manage revision --message --autogenerate Stamp db with most recent migration version, without actually running migrations $ magnum-db-manage stamp --revision head Upgrade can be performed by: $ magnum-db-manage upgrade # magnum-db-manage upgrade --revision head Downgrading db: $ magnum-db-manage downgrade $ magnum-db-manage downgrade --revision base ",,15,0
openstack%2Foctavia~master~I23292b3580cad2ee9b327de021b806d7b2449c38,openstack/octavia,master,I23292b3580cad2ee9b327de021b806d7b2449c38,Queue Consumer Specification,MERGED,2015-01-15 23:00:17.000000000,2015-01-22 23:08:32.000000000,2015-01-22 23:08:31.000000000,"[{'_account_id': 3}, {'_account_id': 6951}, {'_account_id': 7398}, {'_account_id': 10273}, {'_account_id': 10750}, {'_account_id': 10806}, {'_account_id': 10850}, {'_account_id': 11628}]","[{'number': 1, 'created': '2015-01-15 23:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/808a90aa3a93a4d9cee1a62f2477394c4518b262', 'message': 'API Manager Specification\n\nThis specification defines how Oslo messages will be\ndelegated to deploy workers on the controller nodes.\n\nChange-Id: I23292b3580cad2ee9b327de021b806d7b2449c38\n'}, {'number': 2, 'created': '2015-01-19 23:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/db27c694af10a9d8d5d32571b063ae7d47ff9823', 'message': 'API Manager Specification\n\nThis specification defines how Oslo messages will be\nconsumed and delegated to deploy workers on the\ncontroller nodes.\n\nChange-Id: I23292b3580cad2ee9b327de021b806d7b2449c38\n'}, {'number': 3, 'created': '2015-01-20 21:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d7f6c2adb1a27b1a705bc0ee8bb484af6ce3ab61', 'message': 'Queue Consumer Specification\n\nThis specification defines how Oslo messages will be\nconsumed and delegated to deploy workers on the\ncontroller nodes.\n\nChange-Id: I23292b3580cad2ee9b327de021b806d7b2449c38\n'}, {'number': 4, 'created': '2015-01-21 01:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0bef9b3dfe0abba8b5c8b2fb95a15ba016b0c7ed', 'message': 'Queue Consumer Specification\n\nThis specification defines how Oslo messages will be\nconsumed and delegated to deploy workers on the\ncontroller nodes.\n\nChange-Id: I23292b3580cad2ee9b327de021b806d7b2449c38\n'}, {'number': 5, 'created': '2015-01-21 17:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ed8a633701a71f2db59ae1f01d834350eefbe884', 'message': 'Queue Consumer Specification\n\nThis specification defines how Oslo messages will be\nconsumed and delegated to deploy workers on the\ncontroller nodes.\n\nFixed spelling issues in controller spec\nRenamed API Manager to Queue Consumer in controller\n    spec and graphviz file\n\nChange-Id: I23292b3580cad2ee9b327de021b806d7b2449c38\n'}, {'number': 6, 'created': '2015-01-21 19:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1e8ffead27b359b07733a98dc2f0c80b822cb44e', 'message': 'Queue Consumer Specification\n\nThis specification defines how Oslo messages will be\nconsumed and delegated to deploy workers on the\ncontroller nodes.\n\nFixed spelling issues in controller spec\nRenamed API Manager to Queue Consumer in controller\n    spec and graphviz file\n\nChange-Id: I23292b3580cad2ee9b327de021b806d7b2449c38\n'}, {'number': 7, 'created': '2015-01-22 16:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6ad8e94f7770b0c9254c4b285c7a0f5636bd1860', 'message': 'Queue Consumer Specification\n\nThis specification defines how Oslo messages will be\nconsumed and delegated to deploy workers on the\ncontroller nodes.\n\nFixed spelling issues in controller spec\nRenamed API Manager to Queue Consumer in controller\n    spec and graphviz file\n\nChange-Id: I23292b3580cad2ee9b327de021b806d7b2449c38\n'}, {'number': 8, 'created': '2015-01-22 21:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ac4b2774270c1393871000aed93ea55256d7c965', 'message': 'Queue Consumer Specification\n\nThis specification defines how Oslo messages will be\nconsumed and delegated to deploy workers on the\ncontroller nodes.\n\nFixed spelling issues in controller spec\nRenamed API Manager to Queue Consumer in controller\n    spec and graphviz file\n\nChange-Id: I23292b3580cad2ee9b327de021b806d7b2449c38\n'}, {'number': 9, 'created': '2015-01-22 22:54:53.000000000', 'files': ['specs/version0.5/controller.rst', 'specs/version0.5/queue-consumer.rst', 'specs/version0.5/controller.dot'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8ed1fd389cd8f8d1b36af65fd3d88231e5845c07', 'message': 'Queue Consumer Specification\n\nThis specification defines how Oslo messages will be\nconsumed and delegated to deploy workers on the\ncontroller nodes.\n\nFixed spelling issues in controller spec\nRenamed API Manager to Queue Consumer in controller\n    spec and graphviz file\n\nChange-Id: I23292b3580cad2ee9b327de021b806d7b2449c38\n'}]",17,147699,8ed1fd389cd8f8d1b36af65fd3d88231e5845c07,39,8,9,10750,,,0,"Queue Consumer Specification

This specification defines how Oslo messages will be
consumed and delegated to deploy workers on the
controller nodes.

Fixed spelling issues in controller spec
Renamed API Manager to Queue Consumer in controller
    spec and graphviz file

Change-Id: I23292b3580cad2ee9b327de021b806d7b2449c38
",git fetch https://review.opendev.org/openstack/octavia refs/changes/99/147699/9 && git format-patch -1 --stdout FETCH_HEAD,['specs/version0.5/api-manager.rst'],1,808a90aa3a93a4d9cee1a62f2477394c4518b262,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========== API Manager =========== https://blueprints.launchpad.net/octavia/+spec/api-manager This blueprint describes how Oslo messages are consumed, processed and delegated from the API-controller queue to the deploy worker component of Octavia. The component that is responsible for these activities is called the API Manager. Problem description =================== Oslo messages need to be consumed by the controller and delegated to the proper deploy worker. Something needs to interface with the API-controller queue and spawn the deploy workers. That ""something"" is what we are calling the API Manager. Proposed change =============== WIP Alternatives ------------ There are a variety of ways to consume from Oslo messaging. For example, instead of having a single consumer on the controller we could have multiple consumers (i.e. one for CREATE messages, one for UPDATE messages, etc.). However, since we merely need something to pass messages off to deploy workers other options are overkill. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ WIP - Queue throttling? Other deployer impact --------------------- WIP - Config values for queue throttling? Developer impact ---------------- None Implementation ============== Assignee(s) ----------- jorge-miramontes Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ WIP Testing ======= Unit tests Documentation Impact ==================== None References ========== None ",,99,0
openstack%2Ffuel-docs~master~I4fc7fa70e3b0f902a0a7c147f8bb4c55d8efbf14,openstack/fuel-docs,master,I4fc7fa70e3b0f902a0a7c147f8bb4c55d8efbf14,remove obsolete cluster sizing table from Planning Guide,MERGED,2015-01-22 22:09:55.000000000,2015-01-22 22:50:18.000000000,2015-01-22 22:50:08.000000000,"[{'_account_id': 3}, {'_account_id': 8787}, {'_account_id': 8971}, {'_account_id': 9705}, {'_account_id': 13335}]","[{'number': 1, 'created': '2015-01-22 22:09:55.000000000', 'files': ['pages/planning-guide/4400-nodes-roles.rst'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/dbf4760aeca923a6554643d2eeb7d0f69ad21de9', 'message': 'remove obsolete cluster sizing table from Planning Guide\n\nThe 100 nodes scalability certification has confirmed that 3 controllers\nis still enough to sustain a cluster of up to 100 nodes, we have also\ndropped support for dedicated Swift storage and proxy nodes since v3.1.\n\nChange-Id: I4fc7fa70e3b0f902a0a7c147f8bb4c55d8efbf14\n'}]",0,149407,dbf4760aeca923a6554643d2eeb7d0f69ad21de9,11,5,1,8787,,,0,"remove obsolete cluster sizing table from Planning Guide

The 100 nodes scalability certification has confirmed that 3 controllers
is still enough to sustain a cluster of up to 100 nodes, we have also
dropped support for dedicated Swift storage and proxy nodes since v3.1.

Change-Id: I4fc7fa70e3b0f902a0a7c147f8bb4c55d8efbf14
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/07/149407/1 && git format-patch -1 --stdout FETCH_HEAD,['pages/planning-guide/4400-nodes-roles.rst'],1,dbf4760aeca923a6554643d2eeb7d0f69ad21de9,planning-rm-nodes-table,,"For a typical OpenStack compute deployment, you can use this table as high-level guidance to determine the number of controllers, compute, and storage nodes you should have: +----------+-----------+--------+-----------------------+ |# of Nodes|Controllers|Computes|Storages | +==========+===========+========+=======================+ |4-10 | 3 | 1-7 |3 (on controllers) | +----------+-----------+--------+-----------------------+ |11-40 | 3 | 3-32 |3+ (swift) + 2 (proxy) | +----------+-----------+--------+-----------------------+ |41-100 | 4 | 29-88 |6+ (swift) + 2 (proxy) | +----------+-----------+--------+-----------------------+ |>100 | 5 | >84 |9+ (swift) + 2 (proxy) | +----------+-----------+--------+-----------------------+",0,15
openstack%2Fhorizon~master~I4dda429fdcaf5274d3e25ebbe90529e61be45516,openstack/horizon,master,I4dda429fdcaf5274d3e25ebbe90529e61be45516,Testing a remote openstack deployment,ABANDONED,2015-01-22 14:54:30.000000000,2015-01-22 22:39:25.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-01-22 14:54:30.000000000', 'files': ['openstack_dashboard/test/integration_tests/pages/pageobject.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/32df63bbb66071b5760cb659e30706ef397ece4b', 'message': 'Testing a remote openstack deployment\n\nCloses-Bug: #1413616\nPartially implements blueprint: selenium-integration-testing\nPartially implements blueprint: multi-user-concurrent-test\n\nChange-Id: I4dda429fdcaf5274d3e25ebbe90529e61be45516\n'}]",0,149299,32df63bbb66071b5760cb659e30706ef397ece4b,3,1,1,581,,,0,"Testing a remote openstack deployment

Closes-Bug: #1413616
Partially implements blueprint: selenium-integration-testing
Partially implements blueprint: multi-user-concurrent-test

Change-Id: I4dda429fdcaf5274d3e25ebbe90529e61be45516
",git fetch https://review.opendev.org/openstack/horizon refs/changes/99/149299/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/integration_tests/pages/pageobject.py'],1,32df63bbb66071b5760cb659e30706ef397ece4b,bug/1413616,"import os self.login_url = os.environ.get('REMOTE_DEVSTACK', self.conf.dashboard.login_url)", self.login_url = self.conf.dashboard.login_url,4,1
openstack%2Fneutron~master~Ibab575ff25bd3427ef5c27e1230f2242e2cf50ce,openstack/neutron,master,Ibab575ff25bd3427ef5c27e1230f2242e2cf50ce,remove map/lambda combo,ABANDONED,2015-01-22 20:37:09.000000000,2015-01-22 22:25:19.000000000,,"[{'_account_id': 3}, {'_account_id': 2035}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-22 20:37:09.000000000', 'files': ['neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f8e0364932a3c808d911a86e10c04c46f1ca818f', 'message': 'remove map/lambda combo\n\nRemove map/lambda combo and use list comprehension to remove\nunnecessary method calls.\n\nChange-Id: Ibab575ff25bd3427ef5c27e1230f2242e2cf50ce\n'}]",0,149392,f8e0364932a3c808d911a86e10c04c46f1ca818f,21,19,1,5957,,,0,"remove map/lambda combo

Remove map/lambda combo and use list comprehension to remove
unnecessary method calls.

Change-Id: Ibab575ff25bd3427ef5c27e1230f2242e2cf50ce
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/149392/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/db_base_plugin_v2.py'],1,f8e0364932a3c808d911a86e10c04c46f1ca818f,remove_lambda," mac_address = ':'.join(""%02x"" % x for x in mac)"," mac_address = ':'.join(map(lambda x: ""%02x"" % x, mac))",1,1
openstack%2Fnova~master~Ie433b4708d9df7fb3c6ac230c48dc953402b2055,openstack/nova,master,Ie433b4708d9df7fb3c6ac230c48dc953402b2055,Remove non existent rule N327 from HACKING.rst,MERGED,2015-01-07 23:12:14.000000000,2015-01-22 22:17:08.000000000,2015-01-22 21:07:35.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 8213}, {'_account_id': 8871}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-07 23:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9c531212f9462005f349b5b47af1fcf981aabcc', 'message': 'Remove non existent rule N327 from HACKING.rst\n\nN327 was removed in e0d22ba4dea6d7b70faba14c6918fbc2151983a5\n\nChange-Id: Ie433b4708d9df7fb3c6ac230c48dc953402b2055\n'}, {'number': 2, 'created': '2015-01-10 22:40:40.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/fe9072edde9f4bab3abd65ada4aae421b857b75a', 'message': 'Remove non existent rule N327 from HACKING.rst\n\nN327 was removed in e0d22ba4dea6d7b70faba14c6918fbc2151983a5\n\nChange-Id: Ie433b4708d9df7fb3c6ac230c48dc953402b2055\n'}]",0,145626,fe9072edde9f4bab3abd65ada4aae421b857b75a,38,11,2,1849,,,0,"Remove non existent rule N327 from HACKING.rst

N327 was removed in e0d22ba4dea6d7b70faba14c6918fbc2151983a5

Change-Id: Ie433b4708d9df7fb3c6ac230c48dc953402b2055
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/145626/1 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,b9c531212f9462005f349b5b47af1fcf981aabcc,hacking,,- [N327] assert_called_once() is not a valid method,0,1
openstack%2Fdesignate~master~If662776ea2f081b336639d240584a6495c370a99,openstack/designate,master,If662776ea2f081b336639d240584a6495c370a99,Imported Translations from Transifex,MERGED,2015-01-22 06:12:47.000000000,2015-01-22 22:14:32.000000000,2015-01-22 22:14:31.000000000,"[{'_account_id': 3}, {'_account_id': 8094}, {'_account_id': 8099}]","[{'number': 1, 'created': '2015-01-22 06:12:47.000000000', 'files': ['designate/locale/fr/LC_MESSAGES/designate.po', 'designate/locale/designate.pot'], 'web_link': 'https://opendev.org/openstack/designate/commit/93708cf72a50f40aeaac074158dd8d0898aa6fb2', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: If662776ea2f081b336639d240584a6495c370a99\n'}]",0,149161,93708cf72a50f40aeaac074158dd8d0898aa6fb2,11,3,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: If662776ea2f081b336639d240584a6495c370a99
",git fetch https://review.opendev.org/openstack/designate refs/changes/61/149161/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/locale/designate.pot', 'designate/locale/fr/LC_MESSAGES/designate.po']",2,93708cf72a50f40aeaac074158dd8d0898aa6fb2,transifex/translations,"# Copyright (C) 2015 ORGANIZATION""POT-Creation-Date: 2015-01-22 06:12+0000\n"" ""PO-Revision-Date: 2015-01-21 21:43+0000\n""#: designate/openstack/deprecated/wsgi.py:111#: designate/openstack/deprecated/wsgi.py:373#: designate/openstack/deprecated/wsgi.py:376#: designate/openstack/deprecated/wsgi.py:661#: designate/openstack/deprecated/wsgi.py:667#: designate/openstack/deprecated/wsgi.py:671#: designate/openstack/deprecated/wsgi.py:677#: designate/openstack/deprecated/wsgi.py:727#: designate/openstack/deprecated/wsgi.py:751","# Copyright (C) 2014 ORGANIZATION""POT-Creation-Date: 2014-12-11 06:09+0000\n"" ""PO-Revision-Date: 2014-12-10 13:59+0000\n""#: designate/openstack/common/log.py:298 #, python-format msgid ""Deprecated: %s"" msgstr ""Déprécié : %s"" #: designate/openstack/common/log.py:406 #, python-format msgid ""Error loading logging config %(log_config)s: %(err_msg)s"" msgstr """" ""Erreur de chargement de la config de journalisation %(log_config)s: "" ""%(err_msg)s"" #: designate/openstack/common/log.py:467 #, python-format msgid ""syslog facility must be one of: %s"" msgstr ""La fonction syslog doit faire partie de : %s"" #: designate/openstack/common/log.py:715 #, python-format msgid ""Fatal call to deprecated config: %(msg)s"" msgstr ""Appel fatal à config dépréciée : %(msg)s"" #: designate/openstack/deprecated/wsgi.py:110#: designate/openstack/deprecated/wsgi.py:372#: designate/openstack/deprecated/wsgi.py:375#: designate/openstack/deprecated/wsgi.py:660#: designate/openstack/deprecated/wsgi.py:666#: designate/openstack/deprecated/wsgi.py:670#: designate/openstack/deprecated/wsgi.py:676#: designate/openstack/deprecated/wsgi.py:726#: designate/openstack/deprecated/wsgi.py:750",25,67
openstack%2Fproject-config~master~Icec0a3591e011a5b7268a963d2b7868ebeb8fe7e,openstack/project-config,master,Icec0a3591e011a5b7268a963d2b7868ebeb8fe7e,Move Cells V1 job to check pipeline,ABANDONED,2015-01-22 21:49:45.000000000,2015-01-22 22:08:46.000000000,,"[{'_account_id': 3}, {'_account_id': 5441}]","[{'number': 1, 'created': '2015-01-22 21:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2a3ab0b1194919d82cb3d42274afa39673e1ab90', 'message': 'Move Cells V1 job to check pipeline\n\nAll current Cells V1 regressions should have been marked as exceptions now so\nwe can safely move the job from the experimental pipeline to the check one.\n\nLeaving the job as non-voting.\n\nChange-Id: Icec0a3591e011a5b7268a963d2b7868ebeb8fe7e\n'}, {'number': 2, 'created': '2015-01-22 22:00:53.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/169db2ce7dad7b33a58bb8a4d2e397eeb13ce489', 'message': 'Move Cells V1 job to check pipeline\n\nAll current Cells V1 regressions should have been marked as exceptions now so\nwe can safely move the job from the experimental pipeline to the check one.\n\nLeaving the job as non-voting.\n\nChange-Id: Icec0a3591e011a5b7268a963d2b7868ebeb8fe7e\n'}]",0,149402,169db2ce7dad7b33a58bb8a4d2e397eeb13ce489,5,2,2,7166,,,0,"Move Cells V1 job to check pipeline

All current Cells V1 regressions should have been marked as exceptions now so
we can safely move the job from the experimental pipeline to the check one.

Leaving the job as non-voting.

Change-Id: Icec0a3591e011a5b7268a963d2b7868ebeb8fe7e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/02/149402/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,2a3ab0b1194919d82cb3d42274afa39673e1ab90,cells_check_nova, - check-tempest-dsvm-cells, - check-tempest-dsvm-cells,1,1
openstack%2Ftripleo-image-elements~master~If3339a4f70bf77be2d7eb11100147c209c7ec870,openstack/tripleo-image-elements,master,If3339a4f70bf77be2d7eb11100147c209c7ec870,Ensure-bridge duplicates allow-$bridge stanza,MERGED,2015-01-12 11:53:37.000000000,2015-01-22 21:54:11.000000000,2015-01-22 21:54:09.000000000,"[{'_account_id': 3}, {'_account_id': 6449}, {'_account_id': 6488}, {'_account_id': 6969}, {'_account_id': 7579}, {'_account_id': 8688}, {'_account_id': 10035}, {'_account_id': 10373}]","[{'number': 1, 'created': '2015-01-12 11:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/61aaaad231c95951c7f29cc4e9faa55a66d53f3c', 'message': 'Ensure-bridge duplicates allow-$bridge stanza\n\nEnsure-bridge is missing a sed to clean-up the allow-$bridge stanza before\nre-configuring. This means 1) the stanza gets duplicated, 2) the network is\nreset every time ensure-bridge runs.\n\nCo-Authored-By: alexisl@hp.com\n\nChange-Id: If3339a4f70bf77be2d7eb11100147c209c7ec870\n'}, {'number': 2, 'created': '2015-01-12 12:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/469064f609dc6f53ddc35b8546a38c46aefde2da', 'message': 'Ensure-bridge duplicates allow-$bridge stanza\n\nEnsure-bridge is missing a sed to clean-up the allow-$bridge stanza before\nre-configuring. This means 1) the stanza gets duplicated, 2) the network is\nreset every time ensure-bridge runs.\n\nCo-Authored-By: alexisl@hp.com\n\nChange-Id: If3339a4f70bf77be2d7eb11100147c209c7ec870\n'}, {'number': 3, 'created': '2015-01-12 14:36:07.000000000', 'files': ['elements/network-utils/bin/ensure-bridge'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/e4d3fccb1b6fa8c5b127fda65a578e094f634e88', 'message': 'Ensure-bridge duplicates allow-$bridge stanza\n\nEnsure-bridge is missing a sed to clean-up the allow-$bridge stanza before\nre-configuring. This means 1) the stanza gets duplicated, 2) the network is\nreset every time ensure-bridge runs.\n\nCo-Authored-By: alexisl@hp.com\n\nChange-Id: If3339a4f70bf77be2d7eb11100147c209c7ec870\n'}]",0,146430,e4d3fccb1b6fa8c5b127fda65a578e094f634e88,22,8,3,10373,,,0,"Ensure-bridge duplicates allow-$bridge stanza

Ensure-bridge is missing a sed to clean-up the allow-$bridge stanza before
re-configuring. This means 1) the stanza gets duplicated, 2) the network is
reset every time ensure-bridge runs.

Co-Authored-By: alexisl@hp.com

Change-Id: If3339a4f70bf77be2d7eb11100147c209c7ec870
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/30/146430/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/network-utils/bin/ensure-bridge'],1,61aaaad231c95951c7f29cc4e9faa55a66d53f3c,bug/ensure-bridge," sed -e ""/allow-$bridge $interface\$/,/^$/d"" -i $tmp_config",,1,0
openstack%2Ffuel-main~master~Ifd1dae02233bbfcdcdd4fe4d5ecb86ea4840d626,openstack/fuel-main,master,Ifd1dae02233bbfcdcdd4fe4d5ecb86ea4840d626,Add comment about check_puppet_logs() method.,MERGED,2015-01-20 12:16:13.000000000,2015-01-22 21:53:29.000000000,2015-01-22 21:53:29.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 12867}]","[{'number': 1, 'created': '2015-01-20 12:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/22ecf953f4bbf96b5b468b4c8f43e89f0c9e3481', 'message': 'Add comment about check_puppet_logs() method.\n\nMethod check_puppet_logs() is called after every deploy failure to\ncheck if we have unmet dependences during package installation.\n\nChange-Id: Ifd1dae02233bbfcdcdd4fe4d5ecb86ea4840d626\n'}, {'number': 2, 'created': '2015-01-20 13:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/ab25893b323c27965e7c4485c88ecf46964ca770', 'message': 'Add comment about check_puppet_logs() method.\n\nMethod check_puppet_logs() is called after every deploy failure to\ncheck if we have unmet dependences during package installation.\n\nChange-Id: Ifd1dae02233bbfcdcdd4fe4d5ecb86ea4840d626\n'}, {'number': 3, 'created': '2015-01-22 18:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/64ff26f7b7baeb855ca37748a7aeeea94bd04520', 'message': 'Add comment about check_puppet_logs() method.\n\nMethod check_puppet_logs() is called after every deploy failure to\ncheck if we have unmet dependences during package installation.\n\nChange-Id: Ifd1dae02233bbfcdcdd4fe4d5ecb86ea4840d626\n'}, {'number': 4, 'created': '2015-01-22 18:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/110e325c36edb41b1a3fd85b929b43f5cb7196c6', 'message': 'Add comment about check_puppet_logs() method.\n\nMethod check_puppet_logs() is called after every deploy failure to\ncheck if we have unmet dependences during package installation.\n\nChange-Id: Ifd1dae02233bbfcdcdd4fe4d5ecb86ea4840d626\n'}, {'number': 5, 'created': '2015-01-22 18:56:22.000000000', 'files': ['fuelweb_test/helpers/regenerate_repo.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/b3939ac0a67f6f842b37ac67b7a20bfb792e968f', 'message': 'Add comment about check_puppet_logs() method.\n\nMethod check_puppet_logs() is called after every deploy failure to\ncheck if we have unmet dependences during package installation.\n\nChange-Id: Ifd1dae02233bbfcdcdd4fe4d5ecb86ea4840d626\n'}]",1,148517,b3939ac0a67f6f842b37ac67b7a20bfb792e968f,26,6,5,11969,,,0,"Add comment about check_puppet_logs() method.

Method check_puppet_logs() is called after every deploy failure to
check if we have unmet dependences during package installation.

Change-Id: Ifd1dae02233bbfcdcdd4fe4d5ecb86ea4840d626
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/17/148517/3 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/helpers/decorators.py'],1,22ecf953f4bbf96b5b468b4c8f43e89f0c9e3481,comment," # Every time when deploy is failed, puppet logs are checked # for unmet dependences during package installation on slave nodes.",,2,0
openstack%2Fos-cloud-config~master~I430a07e5762674a420939c8292fac597581e9417,openstack/os-cloud-config,master,I430a07e5762674a420939c8292fac597581e9417,Add tests for setup-flavors command-line utility,MERGED,2014-12-09 05:28:05.000000000,2015-01-22 21:43:14.000000000,2015-01-22 21:43:13.000000000,"[{'_account_id': 3}, {'_account_id': 6449}, {'_account_id': 7585}]","[{'number': 1, 'created': '2014-12-09 05:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-cloud-config/commit/0a3da9864db3f1711f541f3fc768ddb421660c38', 'message': ""Add tests for setup-flavors command-line utility\n\nWhen the code for setup-flavors landed, there were no tests for the\ncommand-line utility 'setup-flavors'. Increase coverage by writing\nsome.\n\nChange-Id: I430a07e5762674a420939c8292fac597581e9417\n""}, {'number': 2, 'created': '2014-12-15 04:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-cloud-config/commit/8693ea9055ceb19f4eafc94a29089864d61288b2', 'message': ""Add tests for setup-flavors command-line utility\n\nWhen the code for setup-flavors landed, there were no tests for the\ncommand-line utility 'setup-flavors'. Increase coverage by writing\nsome.\n\nChange-Id: I430a07e5762674a420939c8292fac597581e9417\n""}, {'number': 3, 'created': '2014-12-18 04:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-cloud-config/commit/db5d139d0ed005d19a9debff649bcac4b109de9c', 'message': ""Add tests for setup-flavors command-line utility\n\nWhen the code for setup-flavors landed, there were no tests for the\ncommand-line utility 'setup-flavors'. Increase coverage by writing\nsome.\n\nChange-Id: I430a07e5762674a420939c8292fac597581e9417\n""}, {'number': 4, 'created': '2015-01-13 08:24:51.000000000', 'files': ['os_cloud_config/cmd/tests/test_setup_flavors.py'], 'web_link': 'https://opendev.org/openstack/os-cloud-config/commit/46eb3b18d609b2511ef7753c5b205944b80e50f4', 'message': ""Add tests for setup-flavors command-line utility\n\nWhen the code for setup-flavors landed, there were no tests for the\ncommand-line utility 'setup-flavors'. Increase coverage by writing\nsome.\n\nChange-Id: I430a07e5762674a420939c8292fac597581e9417\n""}]",0,140234,46eb3b18d609b2511ef7753c5b205944b80e50f4,17,3,4,9369,,,0,"Add tests for setup-flavors command-line utility

When the code for setup-flavors landed, there were no tests for the
command-line utility 'setup-flavors'. Increase coverage by writing
some.

Change-Id: I430a07e5762674a420939c8292fac597581e9417
",git fetch https://review.opendev.org/openstack/os-cloud-config refs/changes/34/140234/1 && git format-patch -1 --stdout FETCH_HEAD,['os_cloud_config/cmd/tests/test_setup_flavors.py'],1,0a3da9864db3f1711f541f3fc768ddb421660c38,add-setup-flavors-tests,"# Copyright (c) 2014 Hewlett-Packard Development Company, L.P. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import sys import tempfile import mock from os_cloud_config.cmd import setup_flavors from os_cloud_config.tests import base class RegisterNodesTest(base.TestCase): @mock.patch('os_cloud_config.cmd.utils._clients.get_nova_bm_client') @mock.patch('os_cloud_config.flavors.create_flavors_from_nodes') @mock.patch.dict('os.environ', {'OS_USERNAME': 'a', 'OS_PASSWORD': 'a', 'OS_TENANT_NAME': 'a', 'OS_AUTH_URL': 'a'}) @mock.patch.object(sys, 'argv', ['setup-flavors', '--nodes', '-k', 'aaa', '-r', 'zzz']) def test_with_arguments_nodes(self, create_flavors_mock, get_nova_bm_client_mock): with tempfile.NamedTemporaryFile() as f: f.write(u'{}\n'.encode('utf-8')) f.flush() sys.argv.insert(2, f.name) return_code = setup_flavors.main() create_flavors_mock.assert_called_once_with( get_nova_bm_client_mock(), {}, 'aaa', 'zzz', None) self.assertEqual(0, return_code) @mock.patch('os_cloud_config.cmd.utils._clients.get_nova_bm_client') @mock.patch('os_cloud_config.flavors.create_flavors_from_list') @mock.patch.dict('os.environ', {'OS_USERNAME': 'a', 'OS_PASSWORD': 'a', 'OS_TENANT_NAME': 'a', 'OS_AUTH_URL': 'a'}) @mock.patch.object(sys, 'argv', ['setup-flavors', '--flavors', '-k', 'aaa', '-r', 'zzz']) def test_with_arguments_flavors(self, create_flavors_mock, get_nova_bm_client_mock): with tempfile.NamedTemporaryFile() as f: f.write(u'{}\n'.encode('utf-8')) f.flush() sys.argv.insert(2, f.name) return_code = setup_flavors.main() create_flavors_mock.assert_called_once_with( get_nova_bm_client_mock(), {}, 'aaa', 'zzz') self.assertEqual(0, return_code) @mock.patch('os_cloud_config.cmd.utils._clients.get_nova_bm_client', return_value='nova_bm_client_mock') @mock.patch('os_cloud_config.flavors.create_flavors_from_nodes') @mock.patch.dict('os.environ', {'OS_USERNAME': 'a', 'OS_PASSWORD': 'a', 'OS_TENANT_NAME': 'a', 'OS_AUTH_URL': 'a'}) @mock.patch.object(sys, 'argv', ['setup-flavors', '--nodes', '-k', 'aaa', '-r', 'zzz']) def test_with_exception(self, create_flavors_mock, get_nova_bm_client_mock): create_flavors_mock.side_effect = ValueError with tempfile.NamedTemporaryFile() as f: f.write(u'{}\n'.encode('utf-8')) f.flush() sys.argv.insert(2, f.name) return_code = setup_flavors.main() self.assertEqual(1, return_code) ",,80,0
openstack%2Fneutron~stable%2Fjuno~I993daf594a28918de6fafff465f5f40e7b89305e,openstack/neutron,stable/juno,I993daf594a28918de6fafff465f5f40e7b89305e,Make L3 HA VIPs ordering consistent in keepalived.conf,MERGED,2015-01-19 18:35:40.000000000,2015-01-22 21:35:49.000000000,2015-01-22 21:35:47.000000000,"[{'_account_id': 3}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 10153}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}]","[{'number': 1, 'created': '2015-01-19 18:35:40.000000000', 'files': ['neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/linux/keepalived.py', 'neutron/agent/l3_ha_agent.py', 'neutron/tests/functional/agent/test_l3_agent.py', 'neutron/tests/unit/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dbc630ae2f58dd81c0b44208059e4691eb14eaab', 'message': ""Make L3 HA VIPs ordering consistent in keepalived.conf\n\nCurrently the order of VIPs in keepalived.conf is determined\nby sorting the VIPs whenever one is added or removed. As it\nturns out, keepalived doesn't like it when the primary VIP\nchanges. One side effect is that virtual routes, in our case\nthe router's default route, may be removed.\n\nThis patch fabricates an IP address on the router's HA interface\nand uses it as the primary VIP.\n\nCloses-Bug: #1404945\nChange-Id: I993daf594a28918de6fafff465f5f40e7b89305e\n(cherry picked from commit ea587e113a838f74efed9a04c78c0ff3d860d04b)\nConflicts:\n\tneutron/tests/functional/agent/test_l3_agent.py\n\tneutron/tests/unit/test_l3_agent.py\n""}]",6,148329,dbc630ae2f58dd81c0b44208059e4691eb14eaab,20,13,1,8873,,,0,"Make L3 HA VIPs ordering consistent in keepalived.conf

Currently the order of VIPs in keepalived.conf is determined
by sorting the VIPs whenever one is added or removed. As it
turns out, keepalived doesn't like it when the primary VIP
changes. One side effect is that virtual routes, in our case
the router's default route, may be removed.

This patch fabricates an IP address on the router's HA interface
and uses it as the primary VIP.

Closes-Bug: #1404945
Change-Id: I993daf594a28918de6fafff465f5f40e7b89305e
(cherry picked from commit ea587e113a838f74efed9a04c78c0ff3d860d04b)
Conflicts:
	neutron/tests/functional/agent/test_l3_agent.py
	neutron/tests/unit/test_l3_agent.py
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/148329/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/linux/keepalived.py', 'neutron/agent/l3_ha_agent.py', 'neutron/tests/functional/agent/test_l3_agent.py', 'neutron/tests/unit/test_l3_agent.py']",5,dbc630ae2f58dd81c0b44208059e4691eb14eaab,," 'subnet': {'cidr': '169.254.192.0/18', 'gateway_ip': '169.254.255.254',"," 'subnet': {'cidr': '169.254.0.0/24', 'gateway_ip': '169.254.0.1', def test_ha_router_keepalived_config(self): agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) router = prepare_router_data(enable_ha=True) router['routes'] = [ {'destination': '8.8.8.8/32', 'nexthop': '35.4.0.10'}, {'destination': '8.8.4.4/32', 'nexthop': '35.4.0.11'}] ri = l3_agent.RouterInfo(router['id'], self.conf.root_helper, self.conf.use_namespaces, router=router) ri.router = router with contextlib.nested(mock.patch.object(agent, '_spawn_metadata_proxy'), mock.patch('neutron.agent.linux.' 'utils.replace_file'), mock.patch('neutron.agent.linux.' 'utils.execute'), mock.patch('os.makedirs')): agent.process_ha_router_added(ri) agent.process_router(ri) config = ri.keepalived_manager.config ha_iface = agent.get_ha_device_name(ri.ha_port['id']) ex_iface = agent.get_external_device_name(ri.ex_gw_port['id']) int_iface = agent.get_internal_device_name( ri.internal_ports[0]['id']) expected = """"""vrrp_sync_group VG_1 { group { VR_1 } } vrrp_instance VR_1 { state BACKUP interface %(ha_iface)s virtual_router_id 1 priority 50 nopreempt advert_int 2 track_interface { %(ha_iface)s } virtual_ipaddress { 19.4.4.4/24 dev %(ex_iface)s } virtual_ipaddress_excluded { 35.4.0.4/24 dev %(int_iface)s } virtual_routes { 0.0.0.0/0 via 19.4.4.1 dev %(ex_iface)s 8.8.8.8/32 via 35.4.0.10 8.8.4.4/32 via 35.4.0.11 } }"""""" % {'ha_iface': ha_iface, 'ex_iface': ex_iface, 'int_iface': int_iface} self.assertEqual(expected, config.get_config_str()) ",147,73
openstack%2Fneutron~master~I00d7b7c64de2912dda9fa57c08d90b1ef1c3aed7,openstack/neutron,master,I00d7b7c64de2912dda9fa57c08d90b1ef1c3aed7,Remove DBDuplicateEntry columns check,MERGED,2014-11-13 12:10:21.000000000,2015-01-22 21:33:35.000000000,2015-01-22 21:33:33.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 490}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 6072}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7183}, {'_account_id': 7293}, {'_account_id': 7930}, {'_account_id': 7962}, {'_account_id': 8112}, {'_account_id': 8124}, {'_account_id': 8172}, {'_account_id': 8645}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10354}, {'_account_id': 10370}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 13051}, {'_account_id': 13667}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-11-13 12:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/159b53905025fcd81082427b90423db51259eb73', 'message': 'Remove DBDuplicateEntry columns check\n\nDBDuplicateEntry exception does not provide columns. Remove this\ncheck in neutron/db/agents_db.py\n\nChange-Id: I00d7b7c64de2912dda9fa57c08d90b1ef1c3aed7\nCloses-bug: #1391766\n'}, {'number': 2, 'created': '2014-11-13 12:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b21442f73233544cac6fe47fc896a39d336fd073', 'message': 'Remove DBDuplicateEntry columns check\n\nDBDuplicateEntry exception does not provide columns. Remove this\ncheck in neutron/db/agents_db.py\n\nChange-Id: I00d7b7c64de2912dda9fa57c08d90b1ef1c3aed7\nCloses-bug: #1391766\n'}, {'number': 3, 'created': '2014-11-14 01:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/12ce6d3d3c5b6f6f0c767392ce9ebc5331c8bd98', 'message': 'Remove DBDuplicateEntry columns check\n\nDBDuplicateEntry exception does not provide columns for db2.\nSo we have to remove this exception columns check in neutron/\ndb/agents_db.py.\n\nSee the comments in\nhttps://github.com/openstack/oslo.db/blob/master/oslo/db/sqlalchemy/exc_filters.py#L221.\n\nChange-Id: I00d7b7c64de2912dda9fa57c08d90b1ef1c3aed7\nCloses-bug: #1391766\n'}, {'number': 4, 'created': '2014-11-14 07:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4379b8560bc96928d0289cdf8646e6cd1c4eef87', 'message': 'Remove DBDuplicateEntry columns check\n\nDBDuplicateEntry exception does not provide columns for db2.\nSo we have to remove this exception columns check in neutron/\ndb/agents_db.py.\n\nSee the comments in\nhttps://github.com/openstack/oslo.db/blob/master/oslo/db/sqlalchemy/exc_filters.py#L221.\n\nChange-Id: I00d7b7c64de2912dda9fa57c08d90b1ef1c3aed7\nCloses-bug: #1391766\n'}, {'number': 5, 'created': '2014-11-14 08:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b0ba283e99082ce74c043742b5e9f10ff6e19d6e', 'message': 'Remove DBDuplicateEntry columns check\n\nDBDuplicateEntry exception does not provide columns for db2.\nSo we have to remove this exception columns check in neutron/\ndb/agents_db.py.\n\nSee the comments in\nhttps://github.com/openstack/oslo.db/blob/master/oslo/db/sqlalchemy/exc_filters.py#L221.\n\nChange-Id: I00d7b7c64de2912dda9fa57c08d90b1ef1c3aed7\nCloses-bug: #1391766\n'}, {'number': 6, 'created': '2014-11-15 10:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b3dd0fc210c8122804ae70e3164c238a03577a1', 'message': 'Remove DBDuplicateEntry columns check\n\nDBDuplicateEntry exception does not provide columns for db2.\nSo we have to remove this exception columns check in neutron/\ndb/agents_db.py.\n\nSee the comments in\nhttps://github.com/openstack/oslo.db/blob/master/oslo/db/sqlalchemy/exc_filters.py#L221.\n\nChange-Id: I00d7b7c64de2912dda9fa57c08d90b1ef1c3aed7\nCloses-bug: #1391766\n'}, {'number': 7, 'created': '2014-11-15 13:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/375487d3e2048a4b9a252e45853ca8689d60ba20', 'message': 'Remove DBDuplicateEntry columns check\n\nDBDuplicateEntry exception does not provide columns for db2.\nwe have to remove this exception columns check in neutron/\ndb/agents_db.py.\n\nSee the comments in\nhttps://github.com/openstack/oslo.db/blob/master/oslo/db/sqlalchemy/exc_filters.py#L221.\n\nChange-Id: I00d7b7c64de2912dda9fa57c08d90b1ef1c3aed7\nCloses-bug: #1391766\n'}, {'number': 8, 'created': '2014-11-19 01:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc2af57dd82525d4a789dac9d676900e5614ccae', 'message': 'Remove DBDuplicateEntry columns check\n\nDBDuplicateEntry exception does not provide columns for db2.\nwe have to remove this exception columns check in neutron/\ndb/agents_db.py.\n\nSee the comments in\nhttps://github.com/openstack/oslo.db/blob/master/oslo/db/sqlalchemy/exc_filters.py#L221.\n\nChange-Id: I00d7b7c64de2912dda9fa57c08d90b1ef1c3aed7\nCloses-bug: #1391766\n'}, {'number': 9, 'created': '2014-11-24 02:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c1e74956b2ff1fbe4523d2bb7916c4f4d7326cc', 'message': 'Remove DBDuplicateEntry columns check\n\nDBDuplicateEntry exception does not provide columns for db2.\nwe have to remove this exception columns check in neutron/\ndb/agents_db.py. It is safe to remove columns check here, because\ntill now, only the duplication of host and agent_type can raise this\nexception.\n\nSee the comments in\nhttps://github.com/openstack/oslo.db/blob/master/oslo/db/sqlalchemy/exc_filters.py#L221.\n\nChange-Id: I00d7b7c64de2912dda9fa57c08d90b1ef1c3aed7\nCloses-bug: #1391766\n'}, {'number': 10, 'created': '2014-12-10 09:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea6aa5b7694bc8efcb107126904f1506061112f5', 'message': 'Remove DBDuplicateEntry columns check\n\nDBDuplicateEntry exception does not provide columns for db2.\nwe have to remove this exception columns check in neutron/\ndb/agents_db.py. It is safe to remove columns check here, since\nonly the duplication of host and agent_type can raise this\nexception.\n\nSee comments in\nhttps://github.com/openstack/oslo.db/blob/master/oslo/db/sqlalchemy/exc_filters.py#L221.\n\nChange-Id: I00d7b7c64de2912dda9fa57c08d90b1ef1c3aed7\nCloses-bug: #1391766\n'}, {'number': 11, 'created': '2014-12-11 02:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/800ac07e4ab559da7da7d4271dac154e56e82cd1', 'message': 'Remove DBDuplicateEntry columns check\n\nDBDuplicateEntry exception does not provide columns for db2.\nwe have to remove this exception columns check in neutron/\ndb/agents_db.py. It is safe to remove columns check here, since\nonly the duplication of host and agent_type can raise this\nexception.\n\nSee comments in\nhttps://github.com/openstack/oslo.db/blob/master/oslo/db/sqlalchemy/exc_filters.py#L221.\n\nChange-Id: I00d7b7c64de2912dda9fa57c08d90b1ef1c3aed7\nCloses-bug: #1391766\n'}, {'number': 12, 'created': '2015-01-07 05:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c7b905967f20a7fd4c3aadf8dee3c49d131659c', 'message': 'Remove DBDuplicateEntry columns check\n\nDBDuplicateEntry exception does not provide columns for db2.\nwe have to remove this exception columns check in neutron/\ndb/agents_db.py. It is safe to remove columns check here, since\nonly the duplication of host and agent_type can raise this\nexception.\n\nSee comments in\nhttps://github.com/openstack/oslo.db/blob/master/oslo/db/sqlalchemy/exc_filters.py#L221.\n\nChange-Id: I00d7b7c64de2912dda9fa57c08d90b1ef1c3aed7\nCloses-bug: #1391766\n'}, {'number': 13, 'created': '2015-01-07 06:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b929b2d31b41f010d8120a32b58d0a39efa1d79', 'message': 'Remove DBDuplicateEntry columns check\n\nDBDuplicateEntry exception does not provide columns for db2.\nwe have to remove this exception columns check in neutron/\ndb/agents_db.py. It is safe to remove columns check here, since\nonly the duplication of host and agent_type can raise this\nexception.\n\nSee comments in\nhttps://github.com/openstack/oslo.db/blob/master/oslo_db/sqlalchemy/exc_filters.py#L236\n\nChange-Id: I00d7b7c64de2912dda9fa57c08d90b1ef1c3aed7\nCloses-bug: #1391766\n'}, {'number': 14, 'created': '2015-01-07 10:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/07610998aef3e30eb3a3c52002c81f66599a893e', 'message': 'Remove DBDuplicateEntry columns check\n\nDBDuplicateEntry exception does not provide columns for db2.\nwe have to remove this exception columns check in neutron/\ndb/agents_db.py. It is safe to remove columns check here, since\nonly the duplication of host and agent_type can raise this\nexception.\n\nChange-Id: I00d7b7c64de2912dda9fa57c08d90b1ef1c3aed7\nCloses-bug: #1391766\n'}, {'number': 15, 'created': '2015-01-09 03:42:42.000000000', 'files': ['neutron/db/agents_db.py', 'neutron/tests/unit/db/test_agent_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a7eead2f1fa71466c5734413165752dc9386ca89', 'message': 'Remove DBDuplicateEntry columns check\n\nDBDuplicateEntry exception does not provide columns for db2.\nwe have to remove this exception columns check in neutron/\ndb/agents_db.py. It is safe to remove columns check here, since\nonly the duplication of host and agent_type can raise this\nexception.\n\nChange-Id: I00d7b7c64de2912dda9fa57c08d90b1ef1c3aed7\nCloses-bug: #1391766\n'}]",19,134176,a7eead2f1fa71466c5734413165752dc9386ca89,366,45,15,8172,,,0,"Remove DBDuplicateEntry columns check

DBDuplicateEntry exception does not provide columns for db2.
we have to remove this exception columns check in neutron/
db/agents_db.py. It is safe to remove columns check here, since
only the duplication of host and agent_type can raise this
exception.

Change-Id: I00d7b7c64de2912dda9fa57c08d90b1ef1c3aed7
Closes-bug: #1391766
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/134176/9 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/agents_db.py'],1,159b53905025fcd81082427b90423db51259eb73,fix_1391766," # It might happen that two or more concurrent transactions # are trying to insert new rows having the same value of # (agent_type, host) pair at the same time (if there has # been no such entry in the table and multiple agent status # updates are being processed at the moment). In this case # having a unique constraint on (agent_type, host) columns # guarantees that only one transaction will succeed and # insert a new agent entry, others will fail and be rolled # back. That means we must retry them one more time: no # INSERTs will be issued, because # _get_agent_by_type_and_host() will return the existing # agent entry, which will be updated multiple times ctxt.reraise = False return self._create_or_update_agent(context, agent)"," if e.columns == ['agent_type', 'host']: # It might happen that two or more concurrent transactions # are trying to insert new rows having the same value of # (agent_type, host) pair at the same time (if there has # been no such entry in the table and multiple agent status # updates are being processed at the moment). In this case # having a unique constraint on (agent_type, host) columns # guarantees that only one transaction will succeed and # insert a new agent entry, others will fail and be rolled # back. That means we must retry them one more time: no # INSERTs will be issued, because # _get_agent_by_type_and_host() will return the existing # agent entry, which will be updated multiple times ctxt.reraise = False return self._create_or_update_agent(context, agent)",14,15
openstack%2Fcinder~master~If9530b2bb8f0f511ccff4527ea9f2d13f7103bdb,openstack/cinder,master,If9530b2bb8f0f511ccff4527ea9f2d13f7103bdb,Ensure lazy translation is disabled properly,MERGED,2015-01-13 05:15:49.000000000,2015-01-22 21:33:22.000000000,2015-01-22 21:33:21.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 6491}, {'_account_id': 6601}, {'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 14259}]","[{'number': 1, 'created': '2015-01-13 05:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dc9fbad9991a7120e225692f599c38c2aaada9d8', 'message': ""Ensure lazy translation is disabled properly\n\nCommit 894f20d9cf57b36ccf9a675c6b2b070d56c9b297 changed the way that\nenable_lazy() is being configured in cinder's test cases.  The changes\nwere required to remove the use of _lazy from the oslo's i18n library.\n_lazy was removed from i18n and the code that was accessing the internal\nvariable broke.  The commit referenced above made changes to remove\nthe use of _lazy.\n\nThe commit, however, changed the behavior of the test cases to only\nenable_lazy without disabling it, which diverges from the original\nbehavior.  This commit is a safer approach until we move to using\nthe new fixture support that will come for enabling lazy translation\nin oslo i18n 1.3.0\n\nChange-Id: If9530b2bb8f0f511ccff4527ea9f2d13f7103bdb\n""}, {'number': 2, 'created': '2015-01-13 06:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a6b4914889161b5a083a7e7c7004cc17b61644c5', 'message': ""Ensure lazy translation is disabled properly\n\nCommit 894f20d9cf57b36ccf9a675c6b2b070d56c9b297 changed the way that\nenable_lazy() is being configured in cinder's test cases.  The changes\nwere required to remove the use of _lazy from the oslo's i18n library.\n_lazy was removed from i18n and the code that was accessing the internal\nvariable broke.  The commit referenced above made changes to remove\nthe use of _lazy.\n\nThe commit, however, changed the behavior of the test cases to only\nenable_lazy without disabling it, which diverges from the original\nbehavior.\n\nThis commit uses the new oslo.i18n ToggleLazy fixture (added in 1.3.0).\n\nChange-Id: If9530b2bb8f0f511ccff4527ea9f2d13f7103bdb\n""}, {'number': 3, 'created': '2015-01-13 23:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f164c38923630df630d20ec8a9b9d204feb13a29', 'message': ""Ensure lazy translation is disabled properly\n\nCommit 894f20d9cf57b36ccf9a675c6b2b070d56c9b297 changed the way that\nenable_lazy() is being configured in cinder's test cases.  The changes\nwere required to remove the use of _lazy from the oslo's i18n library.\n_lazy was removed from i18n and the code that was accessing the internal\nvariable broke.  The commit referenced above made changes to remove\nthe use of _lazy.\n\nThe commit, however, changed the behavior of the test cases to only\nenable_lazy without disabling it, which diverges from the original\nbehavior.\n\nThis commit uses the new oslo.i18n ToggleLazy fixture (added in 1.3.0).\n\nChange-Id: If9530b2bb8f0f511ccff4527ea9f2d13f7103bdb\n""}, {'number': 4, 'created': '2015-01-16 18:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9dedfa9e0bf008bdc6411345e8d3c70bf6a8b6c0', 'message': ""Ensure lazy translation is disabled properly\n\nCommit 894f20d9cf57b36ccf9a675c6b2b070d56c9b297 changed the way that\nenable_lazy() is being configured in cinder's test cases.  The changes\nwere required to remove the use of _lazy from the oslo's i18n library.\n_lazy was removed from i18n and the code that was accessing the internal\nvariable broke.  The commit referenced above made changes to remove\nthe use of _lazy.\n\nThe commit, however, changed the behavior of the test cases to only\nenable_lazy without disabling it, which diverges from the original\nbehavior.\n\nThis commit uses the new oslo.i18n ToggleLazy fixture (added in 1.3.0).\n\nRelated-bug: 1408099\nChange-Id: If9530b2bb8f0f511ccff4527ea9f2d13f7103bdb\n""}, {'number': 5, 'created': '2015-01-20 15:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1c2430bf8b2d217d0d62240707015f7286ad23dc', 'message': ""Ensure lazy translation is disabled properly\n\nCommit 894f20d9cf57b36ccf9a675c6b2b070d56c9b297 changed the way that\nenable_lazy() is being configured in cinder's test cases.  The changes\nwere required to remove the use of _lazy from the oslo's i18n library.\n_lazy was removed from i18n and the code that was accessing the internal\nvariable broke.  The commit referenced above made changes to remove\nthe use of _lazy.\n\nThe commit, however, changed the behavior of the test cases to only\nenable_lazy without disabling it, which diverges from the original\nbehavior.\n\nThis commit uses the new oslo.i18n ToggleLazy fixture (added in 1.3.0).\n\nRelated-bug: 1408099\nChange-Id: If9530b2bb8f0f511ccff4527ea9f2d13f7103bdb\n""}, {'number': 6, 'created': '2015-01-20 16:29:19.000000000', 'files': ['cinder/tests/api/middleware/test_faults.py', 'cinder/tests/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5be6971908d1d63f89c3b1e58963b161e4555315', 'message': ""Ensure lazy translation is disabled properly\n\nCommit 894f20d9cf57b36ccf9a675c6b2b070d56c9b297 changed the way that\nenable_lazy() is being configured in cinder's test cases.  The changes\nwere required to remove the use of _lazy from the oslo's i18n library.\n_lazy was removed from i18n and the code that was accessing the internal\nvariable broke.  The commit referenced above made changes to remove\nthe use of _lazy.\n\nThe commit, however, changed the behavior of the test cases to only\nenable_lazy without disabling it, which diverges from the original\nbehavior.\n\nThis commit uses the new oslo.i18n ToggleLazy fixture (added in 1.3.0).\n\nCloses-bug: 1408099\nChange-Id: If9530b2bb8f0f511ccff4527ea9f2d13f7103bdb\n""}]",1,146763,5be6971908d1d63f89c3b1e58963b161e4555315,91,24,6,7198,,,0,"Ensure lazy translation is disabled properly

Commit 894f20d9cf57b36ccf9a675c6b2b070d56c9b297 changed the way that
enable_lazy() is being configured in cinder's test cases.  The changes
were required to remove the use of _lazy from the oslo's i18n library.
_lazy was removed from i18n and the code that was accessing the internal
variable broke.  The commit referenced above made changes to remove
the use of _lazy.

The commit, however, changed the behavior of the test cases to only
enable_lazy without disabling it, which diverges from the original
behavior.

This commit uses the new oslo.i18n ToggleLazy fixture (added in 1.3.0).

Closes-bug: 1408099
Change-Id: If9530b2bb8f0f511ccff4527ea9f2d13f7103bdb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/63/146763/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/api/middleware/test_faults.py', 'cinder/tests/test_wsgi.py']",2,dc9fbad9991a7120e225692f599c38c2aaada9d8,bug/1408099, self.addCleanup(self.disable_lazy) def disable_lazy(self): i18n.enable_lazy(False),,8,1
openstack%2Fpython-troveclient~master~Id231404b09b1d26274ec9be114d0f304aab02192,openstack/python-troveclient,master,Id231404b09b1d26274ec9be114d0f304aab02192,Fixed typo in exception message,MERGED,2015-01-19 19:34:21.000000000,2015-01-22 21:33:07.000000000,2015-01-22 21:33:05.000000000,"[{'_account_id': 3}, {'_account_id': 8214}, {'_account_id': 9664}, {'_account_id': 9746}, {'_account_id': 10215}, {'_account_id': 13355}, {'_account_id': 14576}]","[{'number': 1, 'created': '2015-01-19 19:34:21.000000000', 'files': ['troveclient/v1/instances.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/9d37dbb716de6905d5557d5dee0b9f5f7094719c', 'message': ""Fixed typo in exception message\n\nThe word 'simultaneously' was incorrectly spelled. This has been fixed.\n\nChange-Id: Id231404b09b1d26274ec9be114d0f304aab02192\n""}]",0,148344,9d37dbb716de6905d5557d5dee0b9f5f7094719c,12,7,1,10215,,,0,"Fixed typo in exception message

The word 'simultaneously' was incorrectly spelled. This has been fixed.

Change-Id: Id231404b09b1d26274ec9be114d0f304aab02192
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/44/148344/1 && git format-patch -1 --stdout FETCH_HEAD,['troveclient/v1/instances.py'],1,9d37dbb716de6905d5557d5dee0b9f5f7094719c,inst_typo," ""simultaneously."")"," ""simultaneosly."")",1,1
openstack%2Fdesignate~master~Icb452e3c83dca5bbcbf38ab44394b61a26867a3b,openstack/designate,master,Icb452e3c83dca5bbcbf38ab44394b61a26867a3b,Ensure Pool Manager Cache is Cleared,MERGED,2015-01-21 17:06:29.000000000,2015-01-22 21:31:00.000000000,2015-01-22 21:30:59.000000000,"[{'_account_id': 3}, {'_account_id': 8094}, {'_account_id': 8099}, {'_account_id': 8174}]","[{'number': 1, 'created': '2015-01-21 17:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b991bf709a2b052ad3131f8888e59e9741051b5e', 'message': 'WIP: Ensure Pool Manager Cache is Resilience\n\nChange-Id: Icb452e3c83dca5bbcbf38ab44394b61a26867a3b\nCloses-Bug: #1408202\n'}, {'number': 2, 'created': '2015-01-21 18:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3471d6ea8762d2a15e7be249e4941c586d59cc5a', 'message': 'WIP: Ensure Pool Manager Cache is Resilience\n\nChange-Id: Icb452e3c83dca5bbcbf38ab44394b61a26867a3b\nCloses-Bug: #1408202\n'}, {'number': 3, 'created': '2015-01-21 19:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5eadc84d27a57b784016d369bd83bf3740ee1f82', 'message': 'Ensure Pool Manager Cache is Cleared\n\nWhen actions (create, delete, update) are completed for a domain, remove\nthe statuses from the pool manager cache.\n\nChange-Id: Icb452e3c83dca5bbcbf38ab44394b61a26867a3b\nCloses-Bug: #1408202\n'}, {'number': 4, 'created': '2015-01-22 00:49:44.000000000', 'files': ['designate/tests/test_pool_manager/test_service.py', 'designate/pool_manager/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/565e5026eb39a06b86636661176e21cd9013b90a', 'message': 'Ensure Pool Manager Cache is Cleared\n\nWhen actions (create, delete, update) are completed for a domain, remove\nthe statuses from the pool manager cache.\n\nChange-Id: Icb452e3c83dca5bbcbf38ab44394b61a26867a3b\nCloses-Bug: #1408202\n'}]",0,148988,565e5026eb39a06b86636661176e21cd9013b90a,12,4,4,9605,,,0,"Ensure Pool Manager Cache is Cleared

When actions (create, delete, update) are completed for a domain, remove
the statuses from the pool manager cache.

Change-Id: Icb452e3c83dca5bbcbf38ab44394b61a26867a3b
Closes-Bug: #1408202
",git fetch https://review.opendev.org/openstack/designate refs/changes/88/148988/3 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/test_pool_manager/test_service.py', 'designate/pool_manager/service.py']",2,b991bf709a2b052ad3131f8888e59e9741051b5e,master,"MAXIMUM_THRESHOLD = 100 if self._is_in_cache(context, domain, DELETE_ACTION) \ and not self._is_delete_consensus(context, domain): update_status = self._retrieve_one_from_cache( self._periodic_create_domains_that_failed(context) if self._is_create_consensus(context, domain, MAXIMUM_THRESHOLD): self._clear_cache(context, domain, CREATE_ACTION) create_statuses = self._retrieve_from_cache( context, action=CREATE_ACTION, status=ERROR_STATUS) if self._is_delete_consensus(context, domain, MAXIMUM_THRESHOLD): self._clear_cache(context, domain) delete_statuses = self._retrieve_from_cache( context, action=DELETE_ACTION, status=ERROR_STATUS) update_status = self._retrieve_one_from_cache( update_statuses = self._retrieve_from_cache( context, action=UPDATE_ACTION, status=ERROR_STATUS) def _exceed_or_meet_threshold(self, count, threshold): count, len(self.server_backends)) >= Decimal(threshold) def _is_success_consensus(self, context, domain, action, threshold=None): pool_manager_statuses = self._retrieve_from_cache( context, domain=domain, action=action) if threshold is None: threshold = self.threshold return self._exceed_or_meet_threshold(success_count, threshold) def _is_create_consensus(self, context, domain, threshold=None): return self._is_success_consensus( context, domain, CREATE_ACTION, threshold) def _is_delete_consensus(self, context, domain, threshold=None): return self._is_success_consensus( context, domain, DELETE_ACTION, threshold) def _is_update_consensus(self, context, domain, threshold=None): return self._is_success_consensus( context, domain, UPDATE_ACTION, threshold) update_statuses = self._retrieve_from_cache( context, domain=domain, action=UPDATE_ACTION) if self._exceed_or_meet_threshold(serial_count, self.threshold): update_statuses = self._retrieve_from_cache( context, domain=domain, action=UPDATE_ACTION) # Methods for manipulating the cache. def _clear_cache(self, context, domain, action=None): pool_manager_statuses = self._retrieve_from_cache( context, domain=domain, action=action) for pool_manager_status in pool_manager_statuses: self.cache.delete_pool_manager_status( context, pool_manager_status.id) def _is_in_cache(self, context, domain, action): return len(self._retrieve_from_cache( context, domain=domain, action=action)) > 0 def _retrieve_from_cache(self, context, domain=None, action=None, status=None): criterion = {} if domain: criterion['domain_id'] = domain.id if action: criterion['action'] = action if status: criterion['status'] = status return self.cache.find_pool_manager_statuses( context, criterion=criterion) def _retrieve_one_from_cache(self, context, server, domain, action):"," if not self._is_delete_consensus(context, domain): update_status = self._retrieve_from_cache( self._periodic_create_domains_that_failed(context) create_statuses = self._find_pool_manager_statuses( context, CREATE_ACTION, status=ERROR_STATUS) delete_statuses = self._find_pool_manager_statuses( context, DELETE_ACTION, status=ERROR_STATUS) update_status = self._retrieve_from_cache( update_statuses = self._find_pool_manager_statuses( context, UPDATE_ACTION, status=ERROR_STATUS) def _exceed_or_meet_threshold(self, count): count, len(self.server_backends)) >= Decimal(self.threshold) def _find_pool_manager_statuses(self, context, action, domain=None, status=None): criterion = { 'action': action } if domain: criterion['domain_id'] = domain.id if status: criterion['status'] = status return self.cache.find_pool_manager_statuses( context, criterion=criterion) def _is_success_consensus(self, context, domain, action): pool_manager_statuses = self._find_pool_manager_statuses( context, action, domain=domain) return self._exceed_or_meet_threshold(success_count) def _is_delete_consensus(self, context, domain): return self._is_success_consensus(context, domain, DELETE_ACTION) update_statuses = self._find_pool_manager_statuses( context, UPDATE_ACTION, domain=domain) if self._exceed_or_meet_threshold(serial_count): update_statuses = self._find_pool_manager_statuses( context, UPDATE_ACTION, domain=domain) def _retrieve_from_cache(self, context, server, domain, action):",107,58
openstack%2Fceilometer~master~I8bff587892396c32b327049b024e6e8acfff64cf,openstack/ceilometer,master,I8bff587892396c32b327049b024e6e8acfff64cf,remove pytidylib and netifaces from tox.ini external dependency,MERGED,2015-01-22 04:03:18.000000000,2015-01-22 21:20:20.000000000,2015-01-22 21:20:19.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 7049}]","[{'number': 1, 'created': '2015-01-22 04:03:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b483a9ab06e6021ded5fc51d1a003d542f1dd306', 'message': ""remove pytidylib and netifaces from tox.ini external dependency\n\npytidylib is introduced on Jan 27, 2014 by\ncommit: 3257d83bbb3e2302638581c995e44d6e84ad44c0,\nchangeId: I73f3202ac7a1420aaa303d5ea2e741b2fe5673e9\nhttps://review.openstack.org/#/c/69491/\n\nbut actually not used, nor used by packages depended by us. The commit\nmessage, review comments and bug report don't provide details for this\nchange.\n\nnetifaces is introduced Jan 21 2014 by:\ncommit: 28f6bee013c55ac9f4b4545293fd8849da45c961\nchangeId: I1721804890423c242bb69697d2c42ca57d0871a4\n\nAt that time, it is required by swift, but now we have removed swift from\n{test-}requirements.\nNow it is only required by oslo.utils.netutils, but can be downloaded\nvia pypi, see:\nhttps://github.com/openstack/oslo.utils/blob/1.2.0/requirements.txt#L11\n\nChange-Id: I8bff587892396c32b327049b024e6e8acfff64cf\nCloses-Bug: #1413455\n""}]",0,149133,b483a9ab06e6021ded5fc51d1a003d542f1dd306,8,4,1,6676,,,0,"remove pytidylib and netifaces from tox.ini external dependency

pytidylib is introduced on Jan 27, 2014 by
commit: 3257d83bbb3e2302638581c995e44d6e84ad44c0,
changeId: I73f3202ac7a1420aaa303d5ea2e741b2fe5673e9
https://review.openstack.org/#/c/69491/

but actually not used, nor used by packages depended by us. The commit
message, review comments and bug report don't provide details for this
change.

netifaces is introduced Jan 21 2014 by:
commit: 28f6bee013c55ac9f4b4545293fd8849da45c961
changeId: I1721804890423c242bb69697d2c42ca57d0871a4

At that time, it is required by swift, but now we have removed swift from
{test-}requirements.
Now it is only required by oslo.utils.netutils, but can be downloaded
via pypi, see:
https://github.com/openstack/oslo.utils/blob/1.2.0/requirements.txt#L11

Change-Id: I8bff587892396c32b327049b024e6e8acfff64cf
Closes-Bug: #1413455
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/33/149133/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b483a9ab06e6021ded5fc51d1a003d542f1dd306,bug/1413455,install_command = pip install -U {opts} {packages},install_command = pip install -U --allow-external pytidylib --allow-insecure pytidylib --allow-external netifaces --allow-insecure netifaces {opts} {packages},1,1
openstack%2Fswift~master~Ia0033756d070bef11d921180e8d32a1ab2b88acf,openstack/swift,master,Ia0033756d070bef11d921180e8d32a1ab2b88acf,Implement OPTIONS verb for storage nodes.,MERGED,2014-12-08 18:00:35.000000000,2015-01-22 21:19:45.000000000,2015-01-22 21:19:43.000000000,"[{'_account_id': 3}, {'_account_id': 330}, {'_account_id': 597}, {'_account_id': 2622}, {'_account_id': 7479}, {'_account_id': 8542}, {'_account_id': 10206}, {'_account_id': 12261}, {'_account_id': 13052}]","[{'number': 1, 'created': '2014-12-08 18:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/db5db305e20d09020f09eff98303f2fd2858eb84', 'message': 'OPTIONS verb implemented for object server.\nNote: Tests are not written yet. This is only an initial version for review.\n\nChange-Id: Ia0033756d070bef11d921180e8d32a1ab2b88acf\n'}, {'number': 2, 'created': '2014-12-08 19:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/31aa3121c34e404dad5603913d06b623862ab43c', 'message': 'OPTIONS verb implemented for object server.\nMany times new deployers get mysterious errors after first setting up their\nSwift clusters. Most of the time, the errors are because the values in the ring\nare incorrect (e.g. a bad port number). OPTIONS will be used in a ring checker\n(which is WIP) that validates values in the ring.\nNote: Tests are not written yet. This is only an initial version for review.\n\nChange-Id: Ia0033756d070bef11d921180e8d32a1ab2b88acf\n'}, {'number': 3, 'created': '2014-12-17 17:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/08d6f5bba1b9c16754402aceb34b14be2ef54ec3', 'message': 'OPTIONS verb implemented for object server.\n\nMany times new deployers get mysterious errors after first setting up their\nSwift clusters. Most of the time, the errors are because the values in the ring\nare incorrect (e.g. a bad port number). OPTIONS will be used in a ring checker\n(which is WIP) that validates values in the ring.\n\nNote: Tests are not written yet. This is only an initial version for review.\n\nChange-Id: Ia0033756d070bef11d921180e8d32a1ab2b88acf\n'}, {'number': 4, 'created': '2014-12-18 19:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6d7a8a118e8ff09dec08288c4911ab52e304c0bb', 'message': 'OPTIONS verb implemented for object server.\n\nMany times new deployers get mysterious errors after first setting up their\nSwift clusters. Most of the time, the errors are because the values in the ring\nare incorrect (e.g. a bad port number). OPTIONS will be used in a ring checker\n(which is WIP) that validates values in the ring.\n\nNote: Tests are not written yet. This is only an initial version for review.\n\nChange-Id: Ia0033756d070bef11d921180e8d32a1ab2b88acf\n'}, {'number': 5, 'created': '2014-12-18 20:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3302676b940f632917fe6c78bbb12590077b95f8', 'message': 'OPTIONS verb implemented for object server.\n\nMany times new deployers get mysterious errors after first setting up their\nSwift clusters. Most of the time, the errors are because the values in the ring\nare incorrect (e.g. a bad port number). OPTIONS will be used in a ring checker\n(which is WIP) that validates values in the ring.\n\nThis patch includes OPTIONS for storage nodes and the respective tests.\n\nChange-Id: Ia0033756d070bef11d921180e8d32a1ab2b88acf\n'}, {'number': 6, 'created': '2014-12-18 20:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4be8a73133376f4119f8ee8af5f903ad09cb74b2', 'message': 'OPTIONS verb implemented for storage nodes.\n\nMany times new deployers get mysterious errors after first setting up their\nSwift clusters. Most of the time, the errors are because the values in the ring\nare incorrect (e.g. a bad port number). OPTIONS will be used in a ring checker\n(which is WIP) that validates values in the ring.\n\nThis patch includes OPTIONS for storage nodes and the respective tests.\n\nChange-Id: Ia0033756d070bef11d921180e8d32a1ab2b88acf\n'}, {'number': 7, 'created': '2014-12-19 21:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/78210e9fe89161b58d611062121c473e22a69839', 'message': 'Implement OPTIONS verb for storage nodes.\n\nMany times new deployers get mysterious errors after first setting up their\nSwift clusters. Most of the time, the errors are because the values in the ring\nare incorrect (e.g. a bad port number). OPTIONS will be used in a ring checker\n(which is WIP) that validates values in the ring.\n\nThis patch includes OPTIONS for storage nodes and the respective tests.\n\nChange-Id: Ia0033756d070bef11d921180e8d32a1ab2b88acf\n'}, {'number': 8, 'created': '2014-12-23 16:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a826cba254eee2b2eb7de70052eb73be72a5d96e', 'message': 'Implement OPTIONS verb for storage nodes.\n\nMany times new deployers get mysterious errors after first setting up their\nSwift clusters. Most of the time, the errors are because the values in the ring\nare incorrect (e.g. a bad port number). OPTIONS will be used in a ring checker\n(which is WIP) that validates values in the ring.\n\nThis patch includes OPTIONS for storage nodes and respective tests.\n\nChange-Id: Ia0033756d070bef11d921180e8d32a1ab2b88acf\n'}, {'number': 9, 'created': '2015-01-06 19:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/eebedb52058802493bb496a7495436794696fd25', 'message': 'Implement OPTIONS verb for storage nodes.\n\nMany times new deployers get mysterious errors after first setting up their\nSwift clusters. Most of the time, the errors are because the values in the ring\nare incorrect (e.g. a bad port number). OPTIONS will be used in a ring checker\n(which is WIP) that validates values in the ring.\n\nThis patch includes OPTIONS for storage nodes and respective tests.\n\nChange-Id: Ia0033756d070bef11d921180e8d32a1ab2b88acf\n'}, {'number': 10, 'created': '2015-01-07 14:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e0c42a6f82eece0289f7e3399ff218ee4598c10e', 'message': 'Implement OPTIONS verb for storage nodes.\n\nMany times new deployers get mysterious errors after first setting up their\nSwift clusters. Most of the time, the errors are because the values in the ring\nare incorrect (e.g. a bad port number). OPTIONS will be used in a ring checker\n(which is WIP) that validates values in the ring.\n\nThis patch includes OPTIONS for storage nodes and respective tests.\n\nChange-Id: Ia0033756d070bef11d921180e8d32a1ab2b88acf\n'}, {'number': 11, 'created': '2015-01-16 18:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1a2392f8a73bd22c7738f5038d94cc3bc9389493', 'message': 'Implement OPTIONS verb for storage nodes.\n\nNote: This is still WIP. Pushing it to get some inputs.\n\nMany times new deployers get mysterious errors after first setting up their\nSwift clusters. Most of the time, the errors are because the values in the ring\nare incorrect (e.g. a bad port number). OPTIONS will be used in a ring checker\n(which is WIP) that validates values in the ring.\n\nThis patch includes OPTIONS for storage nodes and respective tests.\n\nChange-Id: Ia0033756d070bef11d921180e8d32a1ab2b88acf\n'}, {'number': 12, 'created': '2015-01-20 20:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cd1e8eeb2983756fd09200279c1393caf9c3c0ff', 'message': 'Implement OPTIONS verb for storage nodes.\n\nNote: This is still WIP. Pushing it to get some inputs.\n\nMany times new deployers get mysterious errors after first setting up their\nSwift clusters. Most of the time, the errors are because the values in the ring\nare incorrect (e.g. a bad port number). OPTIONS will be used in a ring checker\n(which is WIP) that validates values in the ring.\n\nThis patch includes OPTIONS for storage nodes and respective tests.\n\nChange-Id: Ia0033756d070bef11d921180e8d32a1ab2b88acf\n'}, {'number': 13, 'created': '2015-01-21 15:52:26.000000000', 'files': ['swift/common/base_storage_server.py', 'swift/obj/server.py', 'test/unit/account/test_server.py', 'swift/container/server.py', 'test/unit/obj/test_server.py', 'swift/account/server.py', 'test/unit/container/test_server.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c6fde6de79278cbff7af243ae3bf538b88769fa9', 'message': 'Implement OPTIONS verb for storage nodes.\n\nMany times new deployers get mysterious errors after first setting up their\nSwift clusters. Most of the time, the errors are because the values in the ring\nare incorrect (e.g. a bad port number). OPTIONS will be used in a ring checker\n(which is WIP) that validates values in the ring.\n\nThis patch includes OPTIONS for storage nodes and respective tests.\n\nChange-Id: Ia0033756d070bef11d921180e8d32a1ab2b88acf\n'}]",10,140103,c6fde6de79278cbff7af243ae3bf538b88769fa9,59,9,13,12261,,,0,"Implement OPTIONS verb for storage nodes.

Many times new deployers get mysterious errors after first setting up their
Swift clusters. Most of the time, the errors are because the values in the ring
are incorrect (e.g. a bad port number). OPTIONS will be used in a ring checker
(which is WIP) that validates values in the ring.

This patch includes OPTIONS for storage nodes and respective tests.

Change-Id: Ia0033756d070bef11d921180e8d32a1ab2b88acf
",git fetch https://review.opendev.org/openstack/swift refs/changes/03/140103/5 && git format-patch -1 --stdout FETCH_HEAD,['swift/obj/server.py'],1,db5db305e20d09020f09eff98303f2fd2858eb84,,"import inspect self._allowed_methods = None @property def allowed_methods(self): if self._allowed_methods is None: self._allowed_methods = set() all_methods = inspect.getmembers(self, predicate=inspect.ismethod) for name, m in all_methods: if getattr(m, 'publicly_accessible', False): self._allowed_methods.add(name) return self._allowed_methods @timing_stats() def OPTIONS(self, req): """""" Base handler for OPTIONS requests :param req: swob.Request object :returns: swob.Response object """""" # Prepare the default response headers = {'Allow': ', '.join(self.allowed_methods)} resp = Response(status=200, request=req, headers=headers) return resp @public",,27,0
openstack%2Ftrove~master~I5f86b2b0c0195aafb436a65da03d66e4ff2bf9d6,openstack/trove,master,I5f86b2b0c0195aafb436a65da03d66e4ff2bf9d6,Quote Postgres names to avoid implicit conversion,MERGED,2015-01-19 22:57:04.000000000,2015-01-22 21:19:36.000000000,2015-01-22 21:19:33.000000000,"[{'_account_id': 3}, {'_account_id': 7850}, {'_account_id': 8214}, {'_account_id': 8415}, {'_account_id': 9664}, {'_account_id': 10215}, {'_account_id': 10725}, {'_account_id': 12208}, {'_account_id': 14576}]","[{'number': 1, 'created': '2015-01-19 22:57:04.000000000', 'files': ['trove/guestagent/datastore/postgresql/pgutil.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/9ee427d43f0f8a424751e56fc1e62a0633cdc0e9', 'message': 'Quote Postgres names to avoid implicit conversion\n\nIn PostgreSQL unquoted names are case-insensitive.\nHowever, quoted names are case-sensivite.\nUnquoted names are implicitly lowercased!\n\nProblem:\nTrove guestagent currently uses unquoted names leading to\ninproper behavior when the user actually uses names\nwith uppercase letters.\n\nExample:\ntrove user-create <id> USERNAME <password>\ntrove user-show <id> USERNAME\n\nresults in a 404 error - user not found on instance,\nbecause the user created is actually ""username"".\n\nSolution:\nMake sure we quote user provided names and value strings in\nSQL statements in \'guestagent/datastore/postgresql/pgutil.py\'.\n\nChange-Id: I5f86b2b0c0195aafb436a65da03d66e4ff2bf9d6\nCloses-bug: 1412568\n'}]",3,148378,9ee427d43f0f8a424751e56fc1e62a0633cdc0e9,17,9,1,14576,,,0,"Quote Postgres names to avoid implicit conversion

In PostgreSQL unquoted names are case-insensitive.
However, quoted names are case-sensivite.
Unquoted names are implicitly lowercased!

Problem:
Trove guestagent currently uses unquoted names leading to
inproper behavior when the user actually uses names
with uppercase letters.

Example:
trove user-create <id> USERNAME <password>
trove user-show <id> USERNAME

results in a 404 error - user not found on instance,
because the user created is actually ""username"".

Solution:
Make sure we quote user provided names and value strings in
SQL statements in 'guestagent/datastore/postgresql/pgutil.py'.

Change-Id: I5f86b2b0c0195aafb436a65da03d66e4ff2bf9d6
Closes-bug: 1412568
",git fetch https://review.opendev.org/openstack/trove refs/changes/78/148378/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/guestagent/datastore/postgresql/pgutil.py'],1,9ee427d43f0f8a424751e56fc1e62a0633cdc0e9,bug/1412568," statement = ""CREATE DATABASE \""{name}\"""".format(name=name) if encoding is not None: statement += "" ENCODING = '{encoding}'"".format( statement += "" LC_COLLATE = '{collation}'"".format( return ""DROP DATABASE IF EXISTS \""{name}\"""".format(name=name) return ""CREATE USER \""{name}\"" WITH PASSWORD '{password}'"".format( return ""ALTER USER \""{name}\"" WITH PASSWORD '{password}'"".format( return ""ALTER USER \""{old}\"" RENAME TO '{new}'"".format( old=old, new=new, ) return ""DROP USER \""{name}\"""".format(name=name) return ""GRANT ALL ON DATABASE \""{database}\"" TO \""{user}\"""".format( return ""REVOKE ALL ON DATABASE \""{database}\"" FROM \""{user}\"""".format("," statement = ""CREATE DATABASE {name}"".format(name=name) if encoding is not None: statement += "" ENCODING = {encoding}"".format( statement += "" LC_COLLATE = {collation}"".format( return ""DROP DATABASE IF EXISTS {name}"".format(name=name) return ""CREATE USER {name} WITH PASSWORD '{password}'"".format( return ""ALTER USER {name} WITH PASSWORD '{password}'"".format( return ""ALTER USER {old} RENAME TO {new}"".format(old=old, new=new) return ""DROP USER {name}"".format(name=name) return ""GRANT ALL ON DATABASE {database} TO {user}"".format( return ""REVOKE ALL ON DATABASE {database} FROM {user}"".format(",13,10
openstack%2Fsahara~master~Ide278030b0533d84ace98ea5a81cd062dcb48376,openstack/sahara,master,Ide278030b0533d84ace98ea5a81cd062dcb48376,Drop uuidutils,MERGED,2015-01-21 10:52:50.000000000,2015-01-22 21:08:20.000000000,2015-01-22 21:08:19.000000000,"[{'_account_id': 3}, {'_account_id': 7125}, {'_account_id': 7132}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 8411}, {'_account_id': 8871}, {'_account_id': 10670}, {'_account_id': 12038}]","[{'number': 1, 'created': '2015-01-21 10:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/f64562325ff6241b93032939adf0634585e09133', 'message': 'Drop uuidutils\n\nuuidutils was added to oslo.utils from 1.1.0 release, so we can remove it.\n\nChange-Id: Ide278030b0533d84ace98ea5a81cd062dcb48376\nCloses-bug: #1413154\n'}, {'number': 2, 'created': '2015-01-21 10:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/fbe36131e18678c11a4f4150beb6dba868c8e41f', 'message': 'Drop uuidutils\n\nuuidutils was added to oslo.utils from 1.1.0 release, so we can remove it.\n\nChange-Id: Ide278030b0533d84ace98ea5a81cd062dcb48376\nCloses-bug: #1413154\n'}, {'number': 3, 'created': '2015-01-22 08:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/191f72810a78c0c5af4e08705f11add86a144fb0', 'message': 'Drop uuidutils\n\nuuidutils was added to oslo.utils from 1.1.0 release, so we can remove it.\n\nChange-Id: Ide278030b0533d84ace98ea5a81cd062dcb48376\nCloses-bug: #1413154\n'}, {'number': 4, 'created': '2015-01-22 08:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/748487a5a1d35c669e9530065bd397c22398095c', 'message': 'Drop uuidutils\n\nuuidutils was added to oslo.utils from 1.1.0 release, so we can remove it.\n\nChange-Id: Ide278030b0533d84ace98ea5a81cd062dcb48376\nCloses-bug: #1413154\n'}, {'number': 5, 'created': '2015-01-22 08:22:05.000000000', 'files': ['sahara/utils/api_validator.py', 'sahara/exceptions.py', 'sahara/service/edp/job_utils.py', 'openstack-common.conf', 'sahara/tests/unit/utils/test_api_validator.py', 'sahara/tests/integration/tests/base.py', 'sahara/openstack/common/uuidutils.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/a130012433a19a149afef37735345b917372d7ed', 'message': 'Drop uuidutils\n\nuuidutils was added to oslo.utils from 1.1.0 release, so we can remove it.\n\nChange-Id: Ide278030b0533d84ace98ea5a81cd062dcb48376\nCloses-bug: #1413154\n'}]",2,148876,a130012433a19a149afef37735345b917372d7ed,27,9,5,12038,,,0,"Drop uuidutils

uuidutils was added to oslo.utils from 1.1.0 release, so we can remove it.

Change-Id: Ide278030b0533d84ace98ea5a81cd062dcb48376
Closes-bug: #1413154
",git fetch https://review.opendev.org/openstack/sahara refs/changes/76/148876/4 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/exceptions.py', 'sahara/utils/api_validator.py', 'openstack-common.conf', 'sahara/service/edp/job_utils.py', 'sahara/tests/integration/tests/base.py', 'sahara/openstack/common/uuidutils.py']",6,f64562325ff6241b93032939adf0634585e09133,bug/1413154,,"# Copyright (c) 2012 Intel Corporation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" UUID related utilities and helper functions. """""" import uuid def generate_uuid(): return str(uuid.uuid4()) def is_uuid_like(val): """"""Returns validation of a value as a UUID. For our purposes, a UUID is a canonical form string: aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa """""" try: return str(uuid.UUID(val)) == val except (TypeError, ValueError, AttributeError): return False ",4,42
openstack%2Fcinder~master~I19c331a9b54c5f42c278577ecc59fe1b65e61af0,openstack/cinder,master,I19c331a9b54c5f42c278577ecc59fe1b65e61af0,Move oslo.utils to oslo_utils namespace,MERGED,2015-01-16 22:58:07.000000000,2015-01-22 21:08:10.000000000,2015-01-22 21:08:08.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 6043}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 7219}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12370}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12779}]","[{'number': 1, 'created': '2015-01-16 22:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/13c88d178a24801034c5ef459c29b2fe2b4a5743', 'message': 'Move oslo.utils to oslo_utils namespace\n\nThis is the fourth in a series of changes to move to using\nthe new oslo_<library> namespace that is being used for\noslo libraries.\n\nThere is currently a shim in place that is allowing the old\noslo.<library> imports to work, but we need to be prepared for\nwhen the shims go away.  Thus, we need patches like this one to\nmove to the new namespace.\n\nThis patch also updates our hacking check to ensure that no instances\nof oslo.utils sneak back in.\n\nChange-Id: I19c331a9b54c5f42c278577ecc59fe1b65e61af0\n'}, {'number': 2, 'created': '2015-01-16 23:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e9c6921796548a69a2d74fefa06504005e8eec7b', 'message': 'Move oslo.utils to oslo_utils namespace\n\nThis is the fourth in a series of changes to move to using\nthe new oslo_<library> namespace that is being used for\noslo libraries.\n\nThere is currently a shim in place that is allowing the old\noslo.<library> imports to work, but we need to be prepared for\nwhen the shims go away.  Thus, we need patches like this one to\nmove to the new namespace.\n\nThis patch also updates our hacking check to ensure that no instances\nof oslo.utils sneak back in.\n\nChange-Id: I19c331a9b54c5f42c278577ecc59fe1b65e61af0\n'}, {'number': 3, 'created': '2015-01-20 04:00:36.000000000', 'files': ['cinder/volume/manager.py', 'cinder/service.py', 'cinder/backup/api.py', 'cinder/volume/drivers/vmware/datastore.py', 'cinder/volume/drivers/nimble.py', 'cinder/volume/drivers/hitachi/hbsd_horcm.py', 'cinder/tests/test_ibmnas.py', 'cinder/db/sqlalchemy/api.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_driver.py', 'cinder/tests/test_hp3par.py', 'cinder/tests/test_ibm_flashsystem.py', 'cinder/volume/drivers/ibm/ibmnas.py', 'cinder/volume/drivers/nfs.py', 'cinder/tests/api/contrib/test_backups.py', 'cinder/volume/drivers/glusterfs.py', 'cinder/consistencygroup/api.py', 'cinder/api/v2/limits.py', 'cinder/tests/api/contrib/test_services.py', 'cinder/api/contrib/volume_actions.py', 'cinder/volume/drivers/coraid.py', 'cinder/volume/drivers/netapp/dataontap/nfs_7mode.py', 'cinder/volume/drivers/huaweistorhyper/vbs_client.py', 'cinder/scheduler/driver.py', 'cinder/tests/test_huaweistorac.py', 'cinder/tests/test_nfs.py', 'cinder/transfer/api.py', 'cinder/api/contrib/qos_specs_manage.py', 'cinder/tests/test_prophetstor_dpl.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_san_lookup_service.py', 'cinder/volume/drivers/netapp/eseries/iscsi.py', 'cinder/tests/test_nexenta.py', 'cinder/api/v1/limits.py', 'cinder/volume/drivers/hds/hds.py', 'cinder/volume/drivers/netapp/dataontap/block_7mode.py', 'cinder/volume/utils.py', 'cinder/test.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/tests/scheduler/test_host_manager.py', 'cinder/volume/drivers/ibm/storwize_svc/__init__.py', 'cinder/tests/api/v2/test_types.py', 'cinder/tests/test_srb.py', 'cinder/tests/test_v6000_fcp.py', 'cinder/volume/drivers/violin/v6000_common.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py', 'cinder/volume/drivers/zfssa/zfssaiscsi.py', 'cinder/db/sqlalchemy/models.py', 'cinder/tests/test_glusterfs.py', 'cinder/tests/test_quobyte.py', 'cinder/brick/local_dev/lvm.py', 'cinder/tests/test_replication.py', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/scheduler/flows/create_volume.py', 'cinder/volume/drivers/ibm/flashsystem.py', 'cinder/tests/test_vmware_volumeops.py', 'cinder/volume/__init__.py', 'cinder/backup/__init__.py', 'cinder/tests/test_huawei_drivers_compatibility.py', 'cinder/tests/test_v6000_iscsi.py', 'cinder/tests/test_volume.py', 'cinder/volume/drivers/srb.py', 'cinder/zonemanager/fc_zone_manager.py', 'cinder/volume/drivers/ibm/xiv_ds8k.py', 'cinder/scheduler/host_manager.py', 'cinder/volume/drivers/emc/emc_vnx_cli.py', 'cinder/volume/drivers/vmware/read_write_util.py', 'cinder/tests/test_scality.py', 'cinder/volume/drivers/dell/dell_storagecenter_common.py', 'cinder/volume/drivers/hds/hnas_backend.py', 'cinder/tests/api/v1/test_types.py', 'cinder/volume/drivers/hitachi/hbsd_common.py', 'cinder/volume/drivers/lvm.py', 'cinder/transfer/__init__.py', 'cinder/api/extensions.py', 'cinder/tests/test_utils.py', 'cinder/volume/drivers/datera.py', 'cinder/wsgi.py', 'cinder/volume/drivers/eqlx.py', 'cinder/hacking/checks.py', 'cinder/tests/api/contrib/test_availability_zones.py', 'cinder/volume/drivers/dell/dell_storagecenter_iscsi.py', 'cinder/volume/drivers/san/hp/hp_lefthand_rest_proxy.py', 'cinder/volume/drivers/vmware/vim_util.py', 'cinder/keymgr/__init__.py', 'cinder/tests/test_backup.py', 'cinder/api/views/limits.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_client_cli.py', 'cinder/backup/drivers/swift.py', 'cinder/image/image_utils.py', 'cinder/replication/__init__.py', 'cinder/api/v2/snapshots.py', 'cinder/volume/drivers/netapp/dataontap/ssc_cmode.py', 'cinder/tests/test_quota.py', 'cinder/volume/drivers/dell/dell_storagecenter_fc.py', 'cinder/api/openstack/wsgi.py', 'cinder/volume/drivers/remotefs.py', 'cinder/api/contrib/quotas.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/api/contrib/admin_actions.py', 'cinder/scheduler/manager.py', 'cinder/scheduler/scheduler_options.py', 'cinder/volume/drivers/hitachi/hbsd_fc.py', 'cinder/volume/drivers/huawei/rest_common.py', 'cinder/api/v2/types.py', 'cinder/tests/zonemanager/test_cisco_fc_zone_driver.py', 'cinder/volume/drivers/san/hp/hp_3par_common.py', 'cinder/tests/test_zfssa.py', 'cinder/volume/drivers/sheepdog.py', 'cinder/tests/test_hacking.py', 'cinder/volume/drivers/prophetstor/dplcommon.py', 'cinder/tests/integrated/api/client.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/tests/test_fusionio_ioControl.py', 'cinder/tests/targets/test_tgt_driver.py', 'cinder/volume/drivers/hitachi/hbsd_basiclib.py', 'cinder/volume/drivers/smbfs.py', 'cinder/volume/drivers/netapp/dataontap/client/client_base.py', 'cinder/volume/drivers/rbd.py', 'cinder/volume/drivers/pure.py', 'cinder/volume/drivers/solidfire.py', 'cinder/zonemanager/fc_san_lookup_service.py', 'cinder/context.py', 'cinder/db/base.py', 'cinder/volume/drivers/nexenta/nfs.py', 'cinder/volume/drivers/storpool.py', 'cinder/tests/test_gpfs.py', 'cinder/volume/drivers/fusionio/ioControl.py', 'cinder/tests/scheduler/fakes.py', 'cinder/volume/drivers/huawei/ssh_common.py', 'cinder/tests/test_storwize_svc.py', 'cinder/volume/drivers/fujitsu_eternus_dx_common.py', 'cinder/volume/drivers/hds/iscsi.py', 'cinder/tests/test_coraid.py', 'cinder/tests/test_vmware_datastore.py', 'cinder/tests/test_hplefthand.py', 'cinder/tests/test_pure.py', 'cinder/tests/test_rbd.py', 'cinder/volume/drivers/hds/nfs.py', 'cinder/volume/drivers/nexenta/utils.py', 'cinder/tests/api/contrib/test_admin_actions.py', 'cinder/tests/test_solidfire.py', 'cinder/tests/test_vmware_vmdk.py', 'cinder/volume/drivers/scality.py', 'cinder/volume/api.py', 'cinder/keymgr/barbican.py', 'cinder/backup/manager.py', 'cinder/volume/drivers/block_device.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_driver.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_san_lookup_service.py', 'cinder/volume/drivers/san/san.py', 'cinder/tests/zonemanager/test_brcd_fc_zone_driver.py', 'cinder/tests/scheduler/test_scheduler.py', 'cinder/volume/drivers/huaweistorhyper/huaweistorac.py', 'cinder/volume/drivers/san/hp/hp_lefthand_cliq_proxy.py', 'cinder/consistencygroup/__init__.py', 'cinder/backup/drivers/ceph.py', 'cinder/tests/test_storpool.py', 'cinder/quota.py', 'cinder/volume/drivers/ibm/storwize_svc/helpers.py', 'cinder/compute/__init__.py', 'cinder/volume/drivers/drbdmanagedrv.py', 'cinder/volume/drivers/windows/smbfs.py', 'cinder/volume/drivers/ibm/gpfs.py', 'cinder/tests/targets/test_base_iscsi_driver.py', 'cinder/volume/drivers/vmware/vmdk.py', 'cinder/volume/drivers/violin/v6000_iscsi.py', 'cinder/tests/api/fakes.py', 'cinder/image/glance.py', 'cinder/tests/test_sheepdog.py', 'cinder/api/contrib/services.py', 'cinder/tests/test_drbdmanagedrv.py', 'cinder/volume/driver.py', 'cinder/tests/api/contrib/test_hosts.py', 'cinder/volume/drivers/violin/v6000_fcp.py', 'cinder/volume/drivers/vmware/volumeops.py', 'cinder/volume/drivers/netapp/common.py', 'cinder/volume/drivers/zfssa/zfssanfs.py', 'cinder/api/contrib/hosts.py', 'cinder/utils.py', 'cinder/api/v1/snapshots.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_client_cli.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b6ec77e6d4f27a5e995a92dc6b2efe0bfc9f49e9', 'message': 'Move oslo.utils to oslo_utils namespace\n\nThis is the fourth in a series of changes to move to using\nthe new oslo_<library> namespace that is being used for\noslo libraries.\n\nThere is currently a shim in place that is allowing the old\noslo.<library> imports to work, but we need to be prepared for\nwhen the shims go away.  Thus, we need patches like this one to\nmove to the new namespace.\n\nThis patch also updates our hacking check to ensure that no instances\nof oslo.utils sneak back in.\n\nChange-Id: I19c331a9b54c5f42c278577ecc59fe1b65e61af0\n'}]",0,148018,b6ec77e6d4f27a5e995a92dc6b2efe0bfc9f49e9,37,18,3,7198,,,0,"Move oslo.utils to oslo_utils namespace

This is the fourth in a series of changes to move to using
the new oslo_<library> namespace that is being used for
oslo libraries.

There is currently a shim in place that is allowing the old
oslo.<library> imports to work, but we need to be prepared for
when the shims go away.  Thus, we need patches like this one to
move to the new namespace.

This patch also updates our hacking check to ensure that no instances
of oslo.utils sneak back in.

Change-Id: I19c331a9b54c5f42c278577ecc59fe1b65e61af0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/148018/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/service.py', 'cinder/backup/api.py', 'cinder/volume/drivers/vmware/datastore.py', 'cinder/volume/drivers/nimble.py', 'cinder/volume/drivers/hitachi/hbsd_horcm.py', 'cinder/tests/test_ibmnas.py', 'cinder/db/sqlalchemy/api.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_driver.py', 'cinder/tests/test_hp3par.py', 'cinder/tests/test_ibm_flashsystem.py', 'cinder/volume/drivers/ibm/ibmnas.py', 'cinder/volume/drivers/nfs.py', 'cinder/tests/api/contrib/test_backups.py', 'cinder/volume/drivers/glusterfs.py', 'cinder/consistencygroup/api.py', 'cinder/api/v2/limits.py', 'cinder/tests/api/contrib/test_services.py', 'cinder/api/contrib/volume_actions.py', 'cinder/volume/drivers/coraid.py', 'cinder/volume/drivers/netapp/dataontap/nfs_7mode.py', 'cinder/volume/drivers/huaweistorhyper/vbs_client.py', 'cinder/scheduler/driver.py', 'cinder/tests/test_huaweistorac.py', 'cinder/tests/test_nfs.py', 'cinder/transfer/api.py', 'cinder/api/contrib/qos_specs_manage.py', 'cinder/tests/test_prophetstor_dpl.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_san_lookup_service.py', 'cinder/volume/drivers/netapp/eseries/iscsi.py', 'cinder/tests/test_nexenta.py', 'cinder/api/v1/limits.py', 'cinder/volume/drivers/hds/hds.py', 'cinder/volume/drivers/netapp/dataontap/block_7mode.py', 'cinder/volume/utils.py', 'cinder/test.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/tests/scheduler/test_host_manager.py', 'cinder/volume/drivers/ibm/storwize_svc/__init__.py', 'cinder/tests/api/v2/test_types.py', 'cinder/tests/test_srb.py', 'cinder/tests/test_v6000_fcp.py', 'cinder/volume/drivers/violin/v6000_common.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py', 'cinder/volume/drivers/zfssa/zfssaiscsi.py', 'cinder/db/sqlalchemy/models.py', 'cinder/tests/test_glusterfs.py', 'cinder/tests/test_quobyte.py', 'cinder/brick/local_dev/lvm.py', 'cinder/tests/test_replication.py', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/scheduler/flows/create_volume.py', 'cinder/volume/drivers/ibm/flashsystem.py', 'cinder/tests/test_vmware_volumeops.py', 'cinder/volume/__init__.py', 'cinder/backup/__init__.py', 'cinder/tests/test_huawei_drivers_compatibility.py', 'cinder/tests/test_v6000_iscsi.py', 'cinder/tests/test_volume.py', 'cinder/volume/drivers/srb.py', 'cinder/zonemanager/fc_zone_manager.py', 'cinder/volume/drivers/ibm/xiv_ds8k.py', 'cinder/scheduler/host_manager.py', 'cinder/volume/drivers/emc/emc_vnx_cli.py', 'cinder/volume/drivers/vmware/read_write_util.py', 'cinder/tests/test_scality.py', 'cinder/volume/drivers/dell/dell_storagecenter_common.py', 'cinder/volume/drivers/hds/hnas_backend.py', 'cinder/tests/api/v1/test_types.py', 'cinder/volume/drivers/hitachi/hbsd_common.py', 'cinder/volume/drivers/lvm.py', 'cinder/transfer/__init__.py', 'cinder/api/extensions.py', 'cinder/tests/test_utils.py', 'cinder/volume/drivers/datera.py', 'cinder/wsgi.py', 'cinder/volume/drivers/eqlx.py', 'cinder/hacking/checks.py', 'cinder/tests/api/contrib/test_availability_zones.py', 'cinder/volume/drivers/dell/dell_storagecenter_iscsi.py', 'cinder/volume/drivers/san/hp/hp_lefthand_rest_proxy.py', 'cinder/volume/drivers/vmware/vim_util.py', 'cinder/keymgr/__init__.py', 'cinder/tests/test_backup.py', 'cinder/api/views/limits.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_client_cli.py', 'cinder/backup/drivers/swift.py', 'cinder/image/image_utils.py', 'cinder/replication/__init__.py', 'cinder/api/v2/snapshots.py', 'cinder/volume/drivers/netapp/dataontap/ssc_cmode.py', 'cinder/tests/test_quota.py', 'cinder/volume/drivers/dell/dell_storagecenter_fc.py', 'cinder/api/openstack/wsgi.py', 'cinder/volume/drivers/remotefs.py', 'cinder/api/contrib/quotas.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/api/contrib/admin_actions.py', 'cinder/scheduler/manager.py', 'cinder/scheduler/scheduler_options.py', 'cinder/volume/drivers/hitachi/hbsd_fc.py', 'cinder/volume/drivers/huawei/rest_common.py', 'cinder/api/v2/types.py', 'cinder/tests/zonemanager/test_cisco_fc_zone_driver.py', 'cinder/volume/drivers/san/hp/hp_3par_common.py', 'cinder/tests/test_zfssa.py', 'cinder/volume/drivers/sheepdog.py', 'cinder/tests/test_hacking.py', 'cinder/volume/drivers/prophetstor/dplcommon.py', 'cinder/tests/integrated/api/client.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/tests/test_fusionio_ioControl.py', 'cinder/tests/targets/test_tgt_driver.py', 'cinder/volume/drivers/hitachi/hbsd_basiclib.py', 'cinder/volume/drivers/smbfs.py', 'cinder/volume/drivers/netapp/dataontap/client/client_base.py', 'cinder/volume/drivers/rbd.py', 'cinder/volume/drivers/pure.py', 'cinder/volume/drivers/solidfire.py', 'cinder/zonemanager/fc_san_lookup_service.py', 'cinder/context.py', 'cinder/db/base.py', 'cinder/volume/drivers/nexenta/nfs.py', 'cinder/volume/drivers/storpool.py', 'cinder/tests/test_gpfs.py', 'cinder/volume/drivers/fusionio/ioControl.py', 'cinder/tests/scheduler/fakes.py', 'cinder/volume/drivers/huawei/ssh_common.py', 'cinder/tests/test_storwize_svc.py', 'cinder/volume/drivers/fujitsu_eternus_dx_common.py', 'cinder/volume/drivers/hds/iscsi.py', 'cinder/tests/test_coraid.py', 'cinder/tests/test_vmware_datastore.py', 'cinder/tests/test_hplefthand.py', 'cinder/tests/test_pure.py', 'cinder/tests/test_rbd.py', 'cinder/volume/drivers/hds/nfs.py', 'cinder/volume/drivers/nexenta/utils.py', 'cinder/tests/api/contrib/test_admin_actions.py', 'cinder/tests/test_solidfire.py', 'cinder/tests/test_vmware_vmdk.py', 'cinder/volume/drivers/scality.py', 'cinder/volume/api.py', 'cinder/keymgr/barbican.py', 'cinder/backup/manager.py', 'cinder/volume/drivers/block_device.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_driver.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_san_lookup_service.py', 'cinder/volume/drivers/san/san.py', 'cinder/tests/zonemanager/test_brcd_fc_zone_driver.py', 'cinder/tests/scheduler/test_scheduler.py', 'cinder/volume/drivers/huaweistorhyper/huaweistorac.py', 'cinder/volume/drivers/san/hp/hp_lefthand_cliq_proxy.py', 'cinder/consistencygroup/__init__.py', 'cinder/backup/drivers/ceph.py', 'cinder/tests/test_storpool.py', 'cinder/quota.py', 'cinder/volume/drivers/ibm/storwize_svc/helpers.py', 'cinder/compute/__init__.py', 'cinder/volume/drivers/drbdmanagedrv.py', 'cinder/volume/drivers/windows/smbfs.py', 'cinder/volume/drivers/ibm/gpfs.py', 'cinder/tests/targets/test_base_iscsi_driver.py', 'cinder/volume/drivers/vmware/vmdk.py', 'cinder/volume/drivers/violin/v6000_iscsi.py', 'cinder/tests/api/fakes.py', 'cinder/image/glance.py', 'cinder/tests/test_sheepdog.py', 'cinder/api/contrib/services.py', 'cinder/tests/test_drbdmanagedrv.py', 'cinder/volume/driver.py', 'cinder/tests/api/contrib/test_hosts.py', 'cinder/volume/drivers/violin/v6000_fcp.py', 'cinder/volume/drivers/vmware/volumeops.py', 'cinder/volume/drivers/netapp/common.py', 'cinder/volume/drivers/zfssa/zfssanfs.py', 'cinder/api/contrib/hosts.py', 'cinder/utils.py', 'cinder/api/v1/snapshots.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_client_cli.py']",181,13c88d178a24801034c5ef459c29b2fe2b4a5743,oslo_utils_namespace4,from oslo_utils import excutils,from oslo.utils import excutils,243,239
openstack%2Fneutron~master~Ia07bb2d3f1b30927922b51e3ad51d4204df1e595,openstack/neutron,master,Ia07bb2d3f1b30927922b51e3ad51d4204df1e595,Add ovsdb-related functional tests,MERGED,2015-01-12 22:43:07.000000000,2015-01-22 20:56:38.000000000,2015-01-22 00:05:55.000000000,"[{'_account_id': 3}, {'_account_id': 2035}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 5756}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 7743}, {'_account_id': 8873}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-12 22:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2bfd4d3eea5583cfacb429a8587bcb1ae2f16207', 'message': 'WIP Add ovsdb-related functional tests\n\nThis patch adds functional testing of ovsdb-related ovs_lib\nfunctions. This is to ensure that the OVSDB abstract interface\nrefactor does not accidentally change behavoir.\n\nTODO:\n  Refactor a bit to test different paramenter combinations for\n  each ovsdb method\n\nPartially-Implements: blueprint vsctl-to-ovsdb\nChange-Id: Ia07bb2d3f1b30927922b51e3ad51d4204df1e595\n'}, {'number': 2, 'created': '2015-01-13 16:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/81be582357cac0447a97404d830a564ea7aed4f7', 'message': 'WIP Add ovsdb-related functional tests\n\nThis patch adds functional testing of ovsdb-related ovs_lib\nfunctions. This is to ensure that the OVSDB abstract interface\nrefactor does not accidentally change behavoir.\n\nTODO:\n  Refactor a bit to test different paramenter combinations for\n  each ovsdb method\n\nPartially-Implements: blueprint vsctl-to-ovsdb\nChange-Id: Ia07bb2d3f1b30927922b51e3ad51d4204df1e595\n'}, {'number': 3, 'created': '2015-01-14 00:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1cc4c71e50590ceaf9c6899dd8fa1a55c9176ec', 'message': 'WIP Add ovsdb-related functional tests\n\nThis patch adds functional testing of ovsdb-related ovs_lib\nfunctions. This is to ensure that the OVSDB abstract interface\nrefactor does not accidentally change behavoir.\n\nTODO:\n  Refactor a bit to test different paramenter combinations for\n  each ovsdb method\n\nPartially-Implements: blueprint vsctl-to-ovsdb\nChange-Id: Ia07bb2d3f1b30927922b51e3ad51d4204df1e595\n'}, {'number': 4, 'created': '2015-01-15 04:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd33e5354a86592b373decd4c60ef15156941281', 'message': 'WIP Add ovsdb-related functional tests\n\nThis patch adds functional testing of ovsdb-related ovs_lib\nfunctions. This is to ensure that the OVSDB abstract interface\nrefactor does not accidentally change behavoir.\n\nTODO:\n  Refactor a bit to test different paramenter combinations for\n  each ovsdb method\n\nPartially-Implements: blueprint vsctl-to-ovsdb\nChange-Id: Ia07bb2d3f1b30927922b51e3ad51d4204df1e595\n'}, {'number': 5, 'created': '2015-01-19 20:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7058f530a284d315a565ba449f96f44ceac91442', 'message': 'Add ovsdb-related functional tests\n\nThis patch adds functional testing of ovsdb-related ovs_lib\nfunctions. This is to ensure that the OVSDB abstract interface\nrefactor does not accidentally change behavoir.\n\nPartially-Implements: blueprint vsctl-to-ovsdb\nChange-Id: Ia07bb2d3f1b30927922b51e3ad51d4204df1e595\n'}, {'number': 6, 'created': '2015-01-19 21:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f842b5c527ab70d14e71ab4f81fa0a15881dd114', 'message': 'Add ovsdb-related functional tests\n\nThis patch adds functional testing of ovsdb-related ovs_lib\nfunctions. This is to ensure that the OVSDB abstract interface\nrefactor does not accidentally change behavoir.\n\nPartially-Implements: blueprint vsctl-to-ovsdb\nChange-Id: Ia07bb2d3f1b30927922b51e3ad51d4204df1e595\n'}, {'number': 7, 'created': '2015-01-20 17:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a82f2f3e2685fae23c87d243da484b816630394', 'message': 'Add ovsdb-related functional tests\n\nThis patch adds functional testing of ovsdb-related ovs_lib\nfunctions. This is to ensure that the OVSDB abstract interface\nrefactor does not accidentally change behavoir.\n\nPartially-Implements: blueprint vsctl-to-ovsdb\nChange-Id: Ia07bb2d3f1b30927922b51e3ad51d4204df1e595\n'}, {'number': 8, 'created': '2015-01-20 22:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/42beb9016f9921500adca5896620b9aa4879c8ba', 'message': 'Add ovsdb-related functional tests\n\nThis patch adds functional testing of ovsdb-related ovs_lib\nfunctions. This is to ensure that the OVSDB abstract interface\nrefactor does not accidentally change behavoir.\n\nPartially-Implements: blueprint vsctl-to-ovsdb\nChange-Id: Ia07bb2d3f1b30927922b51e3ad51d4204df1e595\n'}, {'number': 9, 'created': '2015-01-21 15:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0924d2e804c759ca70348c05d62541bf9d368543', 'message': 'Add ovsdb-related functional tests\n\nThis patch adds functional testing of ovsdb-related ovs_lib\nfunctions. This is to ensure that the OVSDB abstract interface\nrefactor does not accidentally change behavoir.\n\nPartially-Implements: blueprint vsctl-to-ovsdb\nChange-Id: Ia07bb2d3f1b30927922b51e3ad51d4204df1e595\n'}, {'number': 10, 'created': '2015-01-21 21:38:11.000000000', 'files': ['neutron/tests/functional/agent/linux/base.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2162aaffa015333b50a87e68c4ede21d314f82f6', 'message': 'Add ovsdb-related functional tests\n\nThis patch adds functional testing of ovsdb-related ovs_lib\nfunctions. This is to ensure that the OVSDB abstract interface\nrefactor does not accidentally change behavoir.\n\nPartially-Implements: blueprint vsctl-to-ovsdb\nChange-Id: Ia07bb2d3f1b30927922b51e3ad51d4204df1e595\n'}]",57,146670,2162aaffa015333b50a87e68c4ede21d314f82f6,178,24,10,5756,,,0,"Add ovsdb-related functional tests

This patch adds functional testing of ovsdb-related ovs_lib
functions. This is to ensure that the OVSDB abstract interface
refactor does not accidentally change behavoir.

Partially-Implements: blueprint vsctl-to-ovsdb
Change-Id: Ia07bb2d3f1b30927922b51e3ad51d4204df1e595
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/146670/7 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/test_ovs_lib.py'],1,2bfd4d3eea5583cfacb429a8587bcb1ae2f16207,bp/vsctl-to-ovsdb,"# Copyright (c) 2015 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron.agent.linux import ovs_lib from neutron.common import constants from neutron.tests.functional.agent.linux import base def get_rand_port_name(): return base.get_rand_name(prefix=base.PORT_PREFIX, max_length=constants.DEVICE_NAME_MAX_LEN) class OVSBridgeTestCase(base.BaseOVSLinuxTestCase): def setUp(self): super(OVSBridgeTestCase, self).setUp() self.br = self.create_ovs_bridge() def create_ovs_port(self, *interface_attrs): attrs = dict(interface_attrs) if 'type' not in attrs: attrs['type'] = 'internal' interface_attrs = attrs.items() port_name = get_rand_port_name() return (port_name, self.br.add_port(port_name, *interface_attrs)) def create_ovs_vif_port(self, iface_id=None, mac=None, iface_field='iface-id'): if iface_id is None: iface_id = base.get_rand_name() if mac is None: mac = base.get_rand_name() attrs = { 'external_ids:%s' % iface_field: iface_id, 'external_ids:attached-mac': mac} port_name, ofport = self.create_ovs_port(*attrs.items()) return ovs_lib.VifPort(port_name, ofport, iface_id, mac, self.br) def _repeat(self, times, fn, *args, **kwargs): results = [] for _ in range(times): results.append(fn(*args, **kwargs)) return results def test_add_exists_del_port(self): (port_name, ofport) = self.create_ovs_port(('type', 'internal')) # ofport should always be an integer string with value -1 or > 0. self.assertTrue(int(ofport)) self.assertTrue(int(self.br.get_port_ofport(port_name))) self.assertTrue(self.br.port_exists(port_name)) self.assertEqual(self.br.br_name, self.br.get_bridge_name_for_port_name(port_name)) self.assertEqual(self.br.br_name, self.br.get_bridge_for_iface(port_name)) self.br.delete_port(port_name) self.assertFalse(self.br.port_exists(port_name)) def test_set_get_clear_db_val(self): (port_name, ofport) = self.create_ovs_port() # TODO (twilson) The existing set/get/clear functions are horribly # limited by not understanding what types should actually be returned # In the OVSDB Abstract Interface, they should understand deal with # real python types tag = '42' self.ovs.set_db_attribute('Port', port_name, 'tag', tag) self.assertEqual(self.ovs.db_get_val('Port', port_name, 'tag'), tag) self.assertEqual(self.br.get_port_tag_dict()[port_name], int(tag)) self.ovs.clear_db_attribute('Port', port_name, 'tag') # ick, ick, ick self.assertEqual(self.ovs.db_get_val('Port', port_name, 'tag'), '[]') self.assertEqual(self.br.get_port_tag_dict()[port_name], []) def test_set_get_del_controller(self): controllers = {'tcp:127.0.0.1:6633', 'tcp:172.17.16.10:55'} self.br.set_controller(controllers) self.assertSetEqual(controllers, set(self.br.get_controller())) self.br.del_controller() # TODO (twilson) I would prefer this test against [], but currently # get_controller returns '' when there are no controllers. This will # change with the OVSDB Abstract Interface work. self.assertEqual(0, len(self.br.get_controller())) def test_set_fail_mode(self): self.br.set_secure_mode() self.assertEqual( self.br.db_get_val('Bridge', self.br.br_name, 'fail_mode'), 'secure') def test_set_protocols(self): # TODO (twilson) set_protocols is technically broken as it should # allow one to set an array of allowed protocols self.br.set_protocols('OpenFlow10') # and again, ick, this has to change self.assertEqual( self.br.db_get_val('Bridge', self.br.br_name, 'protocols'), '[""OpenFlow10""]') def test_get_datapath_id(self): brdev = self.ip.device(self.br.br_name) dpid = brdev.link.attributes['link/ether'].replace(':', '') self.br.set_db_attribute('Bridge', self.br.br_name, 'datapath_id', dpid) self.assertTrue(dpid in self.br.get_datapath_id()) def test_add_tunnel_port(self): attrs = { 'remote_ip': '192.0.2.1', # RFC 5737 TEST-NET-1 'local_ip': '198.51.100.1'} # RFC 5737 TEST-NET-2 port_name = get_rand_port_name() self.br.add_tunnel_port(port_name, attrs['remote_ip'], attrs['local_ip']) self.assertEqual(self.ovs.db_get_val('Interface', port_name, 'type'), 'gre') options = self.ovs._db_get_map('Interface', port_name, 'options') for attr, val in attrs.items(): self.assertEqual(val, options[attr]) def test_add_patch_port(self): local = get_rand_port_name() peer = 'remotepeer' self.br.add_patch_port(local, peer) self.assertEqual(self.ovs.db_get_val('Interface', local, 'type'), 'patch') options = self.ovs._db_get_map('Interface', local, 'options') self.assertEqual(peer, options['peer']) def test_get_port_name_list(self): # Note that ovs-vsctl's list-ports does not include the port created # with the same name as the bridge num_ports = 5 ports = set() for _ in range(num_ports): (port_name, ofport) = self.create_ovs_port() ports.add(port_name) self.assertSetEqual(ports, set(self.br.get_port_name_list())) def test_get_port_stats(self): # Nothing seems to use this function? (port_name, ofport) = self.create_ovs_port() stats = set(self.br.get_port_stats(port_name).keys()) self.assertTrue(set(['rx_packets', 'tx_packets']).issubset(stats)) def test_get_vif_ports(self): self._repeat(2, self.create_ovs_port) vif_ports = self._repeat(3, self.create_ovs_vif_port) ports = self.br.get_vif_ports() self.assertEqual(3, len(ports)) self.assertTrue(all([isinstance(x, ovs_lib.VifPort) for x in ports])) self.assertEqual(sorted([x.port_name for x in vif_ports]), sorted([x.port_name for x in ports])) def test_get_vif_port_set(self): self._repeat(2, self.create_ovs_port) vif_ports = self._repeat(2, self.create_ovs_vif_port) ports = self.br.get_vif_port_set() expected = set([x.vif_id for x in vif_ports]) self.assertEqual(expected, ports) def test_get_port_tag_dict(self): # Simple case tested in port test_set_get_clear_db_val pass def test_get_vif_port_by_id(self): self._repeat(2, self.create_ovs_port) vif_ports = self._repeat(3, self.create_ovs_vif_port) for vif in vif_ports: self.assertEqual(self.br.get_vif_port_by_id(vif.vif_id).vif_id, vif.vif_id) def test_delete_ports(self): # TODO (twilson) I intensely dislike the current delete_ports function # as the default behavior is really delete_vif_ports(), then it acts # more like a delete_ports() seems like it should if all_ports=True is # passed # Create 2 non-vif ports and 2 vif ports for i in range(2): self.create_ovs_port() # TODO (twilson) The formant for interface_attrs will change to # allow dicts in the OVSDB Abstract Interface patch self.create_ovs_vif_port() self.assertEquals(len(self.br.get_port_name_list()), 4) self.br.delete_ports() self.assertEquals(len(self.br.get_port_name_list()), 2) self.br.delete_ports(all_ports=True) self.assertEquals(len(self.br.get_port_name_list()), 0) class OVSLibTestCase(base.BaseOVSLinuxTestCase): def test_add_exists_destroy_bridge(self): name = base.get_rand_name(prefix=base.BR_PREFIX) br = self.ovs.add_bridge(name) self.assertEqual(br.br_name, name) self.assertTrue(self.ovs.bridge_exists(name)) self.ovs.delete_bridge(name) self.assertFalse(self.ovs.bridge_exists(name)) def test_get_bridges(self): num_bridges = 5 bridges = {self.create_ovs_bridge().br_name for _ in range(num_bridges)} self.assertTrue(set(self.ovs.get_bridges()).issuperset(bridges)) def test_ovsbridge_create_destroy(self): name = base.get_rand_name(prefix=base.BR_PREFIX) br = ovs_lib.OVSBridge(name, self.root_helper) self.assertEquals(br.br_name, name) # Make sure that instantiating an OVSBridge does not actually create self.assertFalse(self.ovs.bridge_exists(name)) br.create() self.assertTrue(self.ovs.bridge_exists(name)) br.destroy() self.assertFalse(self.ovs.bridge_exists(name)) def test_ovsbridge_contextmanager(self): name = base.get_rand_name(prefix=base.BR_PREFIX) with ovs_lib.OVSBridge(name, self.root_helper): self.assertTrue(self.ovs.bridge_exists(name)) self.assertFalse(self.ovs.bridge_exists(name)) ",,230,0
openstack%2Fpython-cinderclient~master~I9f740b9941d477776597c4c4ab88a65a39fb4fb8,openstack/python-cinderclient,master,I9f740b9941d477776597c4c4ab88a65a39fb4fb8,Leverage openstack.common.importutils import_class,MERGED,2014-09-04 05:18:04.000000000,2015-01-22 20:42:55.000000000,2015-01-22 20:42:54.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 2861}, {'_account_id': 4395}, {'_account_id': 5538}, {'_account_id': 7219}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 10559}, {'_account_id': 13636}, {'_account_id': 14305}]","[{'number': 1, 'created': '2014-09-04 05:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/83aa0d9191837ad76fc9881fcb7ed809b00bb488', 'message': 'Leverage openstack.common.importutils import_class\n\nThis patch drops the import_class method from utils and instead\nleverages the one in openstack.common.importutils.\n\nChange-Id: I9f740b9941d477776597c4c4ab88a65a39fb4fb8\nCloses-bug: 1365273\n'}, {'number': 2, 'created': '2014-11-14 22:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/31f1f5d59af90e52d6baed821f666db475639b18', 'message': 'Leverage openstack.common.importutils import_class\n\nThis patch drops the import_class method from utils and instead\nleverages the one in openstack.common.importutils.\n\nChange-Id: I9f740b9941d477776597c4c4ab88a65a39fb4fb8\nCloses-bug: 1365273\n'}, {'number': 3, 'created': '2014-12-05 23:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/c1f5bc749fbf6153ace8e8c0343ebfe309453777', 'message': 'Leverage openstack.common.importutils import_class\n\nThis patch drops the import_class method from utils and instead\nleverages the one in openstack.common.importutils.\n\nChange-Id: I9f740b9941d477776597c4c4ab88a65a39fb4fb8\nCloses-bug: 1365273\n'}, {'number': 4, 'created': '2014-12-16 22:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/efbcc74c58e9c335e6d12fc27666bd5ab2d0d847', 'message': 'Leverage openstack.common.importutils import_class\n\nThis patch drops the import_class method from utils and instead\nleverages the one in openstack.common.importutils.\n\nChange-Id: I9f740b9941d477776597c4c4ab88a65a39fb4fb8\nCloses-bug: 1365273\n'}, {'number': 5, 'created': '2015-01-12 22:58:00.000000000', 'files': ['cinderclient/client.py', 'cinderclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/0b38d75a44f409a9fa6719f2b6c402345d8de66d', 'message': 'Leverage openstack.common.importutils import_class\n\nThis patch drops the import_class method from utils and instead\nleverages the one in openstack.common.importutils.\n\nChange-Id: I9f740b9941d477776597c4c4ab88a65a39fb4fb8\nCloses-bug: 1365273\n'}]",3,118971,0b38d75a44f409a9fa6719f2b6c402345d8de66d,35,14,5,4395,,,0,"Leverage openstack.common.importutils import_class

This patch drops the import_class method from utils and instead
leverages the one in openstack.common.importutils.

Change-Id: I9f740b9941d477776597c4c4ab88a65a39fb4fb8
Closes-bug: 1365273
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/71/118971/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/client.py', 'cinderclient/utils.py']",2,83aa0d9191837ad76fc9881fcb7ed809b00bb488,bug/1365273,,"def import_class(import_str): """"""Returns a class from a string including module and class."""""" mod_str, _sep, class_str = import_str.rpartition('.') __import__(mod_str) return getattr(sys.modules[mod_str], class_str) ",2,9
openstack%2Fpuppet-keystone~master~I1e73cf274c26d1368973207a5823ca7a6197612b,openstack/puppet-keystone,master,I1e73cf274c26d1368973207a5823ca7a6197612b,Add max_token_size optional parameter,MERGED,2014-11-23 22:39:55.000000000,2015-01-22 20:38:19.000000000,2015-01-22 20:38:17.000000000,"[{'_account_id': 3}, {'_account_id': 1918}, {'_account_id': 3153}, {'_account_id': 8482}, {'_account_id': 9060}, {'_account_id': 9410}, {'_account_id': 9500}, {'_account_id': 10086}]","[{'number': 1, 'created': '2014-11-23 22:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/873cb6ca8296eaab53a3c8f90cf83bb9b703d4cf', 'message': 'Add max_token_size optional parameter\n\nThis adds a param to set the max_token_size in keystone.conf.\n\nThe setting allows larger tokens (i.e. PKI and large catalog) to work,\nin line with other projects that have increased the default from 8k to\n16k max.\n\nChange-Id: I1e73cf274c26d1368973207a5823ca7a6197612b\n'}, {'number': 2, 'created': '2014-12-07 22:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/2a9ad22a2e625525a457fdd702f83b6309b01cbc', 'message': 'Add max_token_size optional parameter\n\nThis adds a param to set the max_token_size in keystone.conf.\n\nThe setting allows larger tokens (i.e. PKI and large catalog) to work,\nin line with other projects that have increased the default from 8k to\n16k max. The default setting in Keystone is 8k, the default in this\nchange is undef, which removes the config item from keystone.conf.\n\nChange-Id: I1e73cf274c26d1368973207a5823ca7a6197612b\n'}, {'number': 3, 'created': '2015-01-11 20:48:51.000000000', 'files': ['spec/classes/keystone_spec.rb', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/9f13253e1531f3701990681c697b974eb978695f', 'message': 'Add max_token_size optional parameter\n\nThis adds a param to set the max_token_size in keystone.conf.\n\nThe setting allows larger tokens (i.e. PKI and large catalog) to work,\nin line with other projects that have increased the default from 8k to\n16k max. The default setting in Keystone is 8k, the default in this\nchange is undef, which removes the config item from keystone.conf.\n\nChange-Id: I1e73cf274c26d1368973207a5823ca7a6197612b\n'}]",6,136654,9f13253e1531f3701990681c697b974eb978695f,23,8,3,10086,,,0,"Add max_token_size optional parameter

This adds a param to set the max_token_size in keystone.conf.

The setting allows larger tokens (i.e. PKI and large catalog) to work,
in line with other projects that have increased the default from 8k to
16k max. The default setting in Keystone is 8k, the default in this
change is undef, which removes the config item from keystone.conf.

Change-Id: I1e73cf274c26d1368973207a5823ca7a6197612b
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/54/136654/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/keystone_spec.rb', 'manifests/init.pp']",2,873cb6ca8296eaab53a3c8f90cf83bb9b703d4cf,new/add-max_token_size,"# [*max_token_size*] # (optional) maximum allowable Keystone token size # Defaults to undef # $max_token_size = undef, if $max_token_size { keystone_config { 'DEFAULT/max_token_size': value => $max_token_size } } ",,17,0
openstack%2Fpuppet-trove~master~I9e24ea252f434209ebc2fce89727db9bae2d1c1e,openstack/puppet-trove,master,I9e24ea252f434209ebc2fce89727db9bae2d1c1e,Support Neutron,MERGED,2014-12-17 18:54:10.000000000,2015-01-22 20:36:40.000000000,2015-01-22 20:36:40.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7155}, {'_account_id': 7462}, {'_account_id': 10419}]","[{'number': 1, 'created': '2014-12-17 18:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/80e446b2937ee205615caab1157ca3048e346ccb', 'message': 'Support Neutron\n\nThe network driver and network label regex need to be set properly\nfor neutron to work.\n\nChange-Id: I9e24ea252f434209ebc2fce89727db9bae2d1c1e\n'}, {'number': 2, 'created': '2014-12-18 16:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/49671cb2431c079f23e04c578d7b7f36b85dba15', 'message': 'Support Neutron\n\nThe network driver and network label regex need to be set properly\nfor neutron to work.\n\nChange-Id: I9e24ea252f434209ebc2fce89727db9bae2d1c1e\n'}, {'number': 3, 'created': '2015-01-05 18:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/369cc4095ff86f2d81a4382b6c560dcba4f86417', 'message': 'Support Neutron\n\nThe network driver and network label regex need to be set properly\nfor neutron to work.\n\nChange-Id: I9e24ea252f434209ebc2fce89727db9bae2d1c1e\n'}, {'number': 4, 'created': '2015-01-15 21:17:17.000000000', 'files': ['manifests/init.pp', 'manifests/taskmanager.pp', 'spec/classes/trove_taskmanager_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/c345e128c7fec585acf00b5a275a78cd1ae89f03', 'message': 'Support Neutron\n\nThe network driver and network label regex need to be set properly\nfor neutron to work.\n\nChange-Id: I9e24ea252f434209ebc2fce89727db9bae2d1c1e\n'}]",1,142541,c345e128c7fec585acf00b5a275a78cd1ae89f03,17,5,4,7677,,,0,"Support Neutron

The network driver and network label regex need to be set properly
for neutron to work.

Change-Id: I9e24ea252f434209ebc2fce89727db9bae2d1c1e
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/41/142541/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/taskmanager.pp'],1,80e446b2937ee205615caab1157ca3048e346ccb,bugs/fixes-for-packstack, if $::trove::use_neutron { trove_config { 'DEFAULT/network_label_regex': value => '.*'; 'DEFAULT/network_driver': value => 'trove.network.neutron.NeutronDriver'; } trove_taskmanager_config { 'DEFAULT/network_label_regex': value => '.*'; 'DEFAULT/network_driver': value => 'trove.network.neutron.NeutronDriver'; } } else { trove_config { 'DEFAULT/network_label_regex': value => '^private$'; 'DEFAULT/network_driver': value => 'trove.network.nova.NovaNetwork'; } trove_taskmanager_config { 'DEFAULT/network_label_regex': value => '^private$'; 'DEFAULT/network_driver': value => 'trove.network.nova.NovaNetwork'; } } trove_config { 'DEFAULT/taskmanager_queue': value => 'taskmanager'; } ,,26,0
openstack%2Fpuppet-trove~master~I559f440a2aed76968bcdce18384f8707febb1f21,openstack/puppet-trove,master,I559f440a2aed76968bcdce18384f8707febb1f21,Set control_exchange in the main config file,MERGED,2014-12-17 18:54:10.000000000,2015-01-22 20:36:15.000000000,2015-01-22 20:36:15.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7155}, {'_account_id': 7462}]","[{'number': 1, 'created': '2014-12-17 18:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/f7b902f47b995d45f72b25e6d07d5d2f280300ee', 'message': 'Set control_exchange in the main config file\n\n`control_exchange = trove` should be set in the main config file.\n\nChange-Id: I559f440a2aed76968bcdce18384f8707febb1f21\n'}, {'number': 2, 'created': '2014-12-18 16:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/767d5d29ed6b415596215a2b471485840f3679e5', 'message': 'Set control_exchange in the main config file\n\n`control_exchange = trove` should be set in the main config file.\n\nChange-Id: I559f440a2aed76968bcdce18384f8707febb1f21\n'}, {'number': 3, 'created': '2015-01-05 18:12:51.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/1b43832a1b022f92fb7001e624d1c85d01d1c3d6', 'message': 'Set control_exchange in the main config file\n\n`control_exchange = trove` should be set in the main config file.\n\nChange-Id: I559f440a2aed76968bcdce18384f8707febb1f21\n'}]",0,142540,1b43832a1b022f92fb7001e624d1c85d01d1c3d6,13,4,3,7677,,,0,"Set control_exchange in the main config file

`control_exchange = trove` should be set in the main config file.

Change-Id: I559f440a2aed76968bcdce18384f8707febb1f21
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/40/142540/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'manifests/init.pp']",2,f7b902f47b995d45f72b25e6d07d5d2f280300ee,bugs/fixes-for-packstack,"# [*use_neutron*] # (optional) Use Neutron # Defaults to true $use_neutron = true,",,5,0
openstack%2Ftrove~master~Iac2ebd1ddb3a0131901e5b305d210c3c5b8feaea,openstack/trove,master,Iac2ebd1ddb3a0131901e5b305d210c3c5b8feaea,Trove create with --backup fails for postgresql,MERGED,2015-01-14 20:14:36.000000000,2015-01-22 20:34:14.000000000,2015-01-22 20:34:13.000000000,"[{'_account_id': 3}, {'_account_id': 7850}, {'_account_id': 8214}, {'_account_id': 8415}, {'_account_id': 9664}, {'_account_id': 10068}, {'_account_id': 10215}, {'_account_id': 13355}, {'_account_id': 14576}]","[{'number': 1, 'created': '2015-01-14 20:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/4416577cc11e00a3e52dc50490be75f4931c7ad8', 'message': ""Trove create with --backup fails for postgresql\n\nHere are the steps to reproduce:\n1. Create a postgresql instance:\n\ntrove create postgresql_instance 100 --datastore postgresql\n--datastore_version 9.3 --size 1 --databases db1 --users user1:password1\n\n2. Verify it is ACTIVE:\n\ntrove list\n\n3. Create a backup of this new instance:\n\ntrove backup-create <id> postgresql_instance-backup\n--description postgresql_instance-description\n\n4. Verify backup is complete:\n\ntrove backup-list\n\n5. Create a new instance, using this backup instance:\n\ntrove create postgresql_instance-restored 100 --datastore postgresql\n--datastore_version 9.3 --size 1 --backup <backup_id>\n\nHere is the problem:\npostgresql doesn't migrate the data, when backup_info is passed in.\n\nHere is the solution:\nmake sure that the postgresql manager always migrates the data by\nnot skipping the that step when recreating an instance from\nbackup in 'guestagent/datastore/postgresql/manager.py'.\n\nChange-Id: Iac2ebd1ddb3a0131901e5b305d210c3c5b8feaea\nCloses-bug: 1410571\n""}, {'number': 2, 'created': '2015-01-15 21:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7784c8eda00bcf946a191f6b549df5217d5c87e3', 'message': 'Trove create with --backup fails for postgresql\n\nHere are the steps to reproduce:\n1. Create a postgresql instance:\n\ntrove create postgresql_instance 100 --datastore postgresql\n--datastore_version 9.3 --size 1 --databases db1 --users user1:password1\n\n2. Verify it is ACTIVE:\n\ntrove list\n\n3. Create a backup of this new instance:\n\ntrove backup-create <id> postgresql_instance-backup\n--description postgresql_instance-description\n\n4. Verify backup is complete:\n\ntrove backup-list\n\n5. Create a new instance, using this backup instance:\n\ntrove create postgresql_instance-restored 100 --datastore postgresql\n--datastore_version 9.3 --size 1 --backup <backup_id>\n\nHere are the problems:\n1. postgresql doesn\'t migrate the data, when backup_info is passed in.\n2. postgresql outputs few benign messages into the stderr stream\nduring a normal restore procedure.\n\nHere is the solution:\n1. make sure that the postgresql manager always migrates the data by\nnot skipping the that step when recreating an instance from\nbackup in \'guestagent/datastore/postgresql/manager.py\'.\n2. watch for the expected error message sequence in the stderr stream\nand avoid raising an exception in response.\nMessage \'ERROR:  role ""postgres"" already exists\'\nis expected and does not pose any problems to the restore operation.\nWe override the default error handling behavior\nin \'guestagent/strategies/restore/postgresql_impl.py\'.\n\nChange-Id: Iac2ebd1ddb3a0131901e5b305d210c3c5b8feaea\nCloses-bug: 1410571\n'}, {'number': 3, 'created': '2015-01-19 18:11:20.000000000', 'files': ['trove/guestagent/strategies/restore/postgresql_impl.py', 'trove/guestagent/datastore/postgresql/manager.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/3efef282eac61b5d0afb1a5199c1dc8453501a74', 'message': 'Trove create with --backup fails for postgresql\n\nHere are the steps to reproduce:\n1. Create a postgresql instance:\n\ntrove create postgresql_instance 100 --datastore postgresql\n--datastore_version 9.3 --size 1 --databases db1 --users user1:password1\n\n2. Verify it is ACTIVE:\n\ntrove list\n\n3. Create a backup of this new instance:\n\ntrove backup-create <id> postgresql_instance-backup\n--description postgresql_instance-description\n\n4. Verify backup is complete:\n\ntrove backup-list\n\n5. Create a new instance, using this backup instance:\n\ntrove create postgresql_instance-restored 100 --datastore postgresql\n--datastore_version 9.3 --size 1 --backup <backup_id>\n\nHere are the problems:\n1. postgresql doesn\'t migrate the data, when backup_info is passed in.\n2. postgresql outputs few benign messages into the stderr stream\nduring a normal restore procedure.\n\nHere is the solution:\n1. make sure that the postgresql manager always migrates the data by\nnot skipping the that step when recreating an instance from\nbackup in \'guestagent/datastore/postgresql/manager.py\'.\n2. watch for the expected error messages in the stderr stream\nand avoid raising an exception in response.\nMessage \'ERROR:  role ""postgres"" already exists\'\nis expected and does not pose any problems to the restore operation.\nWe override the default error handling behavior\nin \'guestagent/strategies/restore/postgresql_impl.py\'.\n\nUPDATES:\n- Applied suggested style improvements.\n- Use message whitelist rather than sequence.\n- Match messages by regex.\n\nChange-Id: Iac2ebd1ddb3a0131901e5b305d210c3c5b8feaea\nCloses-bug: 1410571\n'}]",13,147288,3efef282eac61b5d0afb1a5199c1dc8453501a74,25,9,3,14576,,,0,"Trove create with --backup fails for postgresql

Here are the steps to reproduce:
1. Create a postgresql instance:

trove create postgresql_instance 100 --datastore postgresql
--datastore_version 9.3 --size 1 --databases db1 --users user1:password1

2. Verify it is ACTIVE:

trove list

3. Create a backup of this new instance:

trove backup-create <id> postgresql_instance-backup
--description postgresql_instance-description

4. Verify backup is complete:

trove backup-list

5. Create a new instance, using this backup instance:

trove create postgresql_instance-restored 100 --datastore postgresql
--datastore_version 9.3 --size 1 --backup <backup_id>

Here are the problems:
1. postgresql doesn't migrate the data, when backup_info is passed in.
2. postgresql outputs few benign messages into the stderr stream
during a normal restore procedure.

Here is the solution:
1. make sure that the postgresql manager always migrates the data by
not skipping the that step when recreating an instance from
backup in 'guestagent/datastore/postgresql/manager.py'.
2. watch for the expected error messages in the stderr stream
and avoid raising an exception in response.
Message 'ERROR:  role ""postgres"" already exists'
is expected and does not pose any problems to the restore operation.
We override the default error handling behavior
in 'guestagent/strategies/restore/postgresql_impl.py'.

UPDATES:
- Applied suggested style improvements.
- Use message whitelist rather than sequence.
- Match messages by regex.

Change-Id: Iac2ebd1ddb3a0131901e5b305d210c3c5b8feaea
Closes-bug: 1410571
",git fetch https://review.opendev.org/openstack/trove refs/changes/88/147288/3 && git format-patch -1 --stdout FETCH_HEAD,['trove/guestagent/datastore/postgresql/manager.py'],1,4416577cc11e00a3e52dc50490be75f4931c7ad8,bug/1410571, device.migrate_data(mount_point), if not backup_info: device.migrate_data(mount_point),1,2
openstack%2Ftrove~master~I279161ac7b321f306df180a2df20f64e869866b0,openstack/trove,master,I279161ac7b321f306df180a2df20f64e869866b0,Eliminate redundant modules from oslo-incubator,MERGED,2014-12-11 16:27:48.000000000,2015-01-22 20:33:45.000000000,2015-01-22 20:33:43.000000000,"[{'_account_id': 3}, {'_account_id': 5293}, {'_account_id': 6413}, {'_account_id': 8214}, {'_account_id': 8415}, {'_account_id': 8871}, {'_account_id': 9664}, {'_account_id': 10215}, {'_account_id': 10295}, {'_account_id': 10725}, {'_account_id': 14009}]","[{'number': 1, 'created': '2014-12-11 16:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d044ccde6e56881cdd16fc9f3cd1f962564c3fc4', 'message': 'Eliminate redundant modules from oslo-incubator\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules. This commit cleans up openstack-common.conf\nwhich has unnecessary entries for middleware and fileutils that are\nnot required in trove.\n\nThis change is based on https://review.openstack.org/#/c/141081/\n\nChange-Id: I279161ac7b321f306df180a2df20f64e869866b0\nPartial-Bug: #1380789\n'}, {'number': 2, 'created': '2014-12-11 17:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/fc4db09bd53254a18cc09b2c1f8dc2380a2c5a41', 'message': 'Eliminate redundant modules from oslo-incubator\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules. This commit cleans up openstack-common.conf\nwhich has unnecessary entries for middleware and fileutils that are\nnot required in trove.\n\nAlso, trove acquired a trove/openstack/common/utils.py which had two\nroutines that were long ago moved into strutils (now oslo.utils). The\nsole remaining reference to that source file has been updated to\nreflect this.\n\nThis change is based on https://review.openstack.org/#/c/141081/\n\nChange-Id: I279161ac7b321f306df180a2df20f64e869866b0\nPartial-Bug: #1380789\n'}, {'number': 3, 'created': '2014-12-11 20:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/39cfe6de82f2c6752a55fdf8633af1e7f57b5a78', 'message': 'Eliminate redundant modules from oslo-incubator\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules. This commit cleans up openstack-common.conf\nwhich has unnecessary entries for middleware and fileutils that are\nnot required in trove.\n\nAlso, trove acquired a trove/openstack/common/utils.py which had two\nroutines that were long ago moved into strutils (now oslo.utils). The\nsole remaining reference to that source file has been updated to\nreflect this.\n\nThis change is based on https://review.openstack.org/#/c/141081/\n\nChange-Id: I279161ac7b321f306df180a2df20f64e869866b0\nPartial-Bug: #1380789\n'}, {'number': 4, 'created': '2014-12-11 22:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/08ee5d23888ab368d6e15d77db3bbb550a221474', 'message': 'Eliminate redundant modules from oslo-incubator\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules. This commit cleans up openstack-common.conf\nwhich has unnecessary entries for middleware and fileutils that are\nnot required in trove.\n\nAlso, trove acquired a trove/openstack/common/utils.py which had two\nroutines that were long ago moved into strutils (now oslo.utils). The\nsole remaining reference to that source file has been updated to\nreflect this.\n\nThis change is based on https://review.openstack.org/#/c/141081/\n\nChange-Id: I279161ac7b321f306df180a2df20f64e869866b0\nPartial-Bug: #1380789\n'}, {'number': 5, 'created': '2014-12-16 20:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/2c3617754e04091486fcea7193fbfc61b486e3d9', 'message': 'Eliminate redundant modules from oslo-incubator\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules. This commit cleans up openstack-common.conf\nwhich has unnecessary entries for middleware and fileutils that are\nnot required in trove.\n\nAlso, trove acquired a trove/openstack/common/utils.py which had two\nroutines that were long ago moved into strutils (now oslo.utils). The\nsole remaining reference to that source file has been updated to\nreflect this.\n\nThis change is based on https://review.openstack.org/#/c/141081/\n\nChange-Id: I279161ac7b321f306df180a2df20f64e869866b0\nPartial-Bug: #1380789\n'}, {'number': 6, 'created': '2014-12-17 18:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/1e2c2a3d9aeace1376ac25cffa87a9be09e488fe', 'message': 'Eliminate redundant modules from oslo-incubator\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules. This commit cleans up openstack-common.conf\nwhich has unnecessary entries for middleware and fileutils that are\nnot required in trove.\n\nAlso, trove acquired a trove/openstack/common/utils.py which had two\nroutines that were long ago moved into strutils (now oslo.utils). The\nsole remaining reference to that source file has been updated to\nreflect this.\n\nThis change is based on https://review.openstack.org/#/c/141081/\n\nChange-Id: I279161ac7b321f306df180a2df20f64e869866b0\nPartial-Bug: #1380789\n'}, {'number': 7, 'created': '2014-12-25 15:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/4c69652f59ab4f5cee1f3f6e921ece8c946d1298', 'message': 'Eliminate redundant modules from oslo-incubator\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules. This commit cleans up openstack-common.conf\nwhich has unnecessary entries for middleware and fileutils that are\nnot required in trove.\n\nAlso, trove acquired a trove/openstack/common/utils.py which had two\nroutines that were long ago moved into strutils (now oslo.utils). The\nsole remaining reference to that source file has been updated to\nreflect this.\n\nThis change is based on https://review.openstack.org/#/c/141081/\n\nChange-Id: I279161ac7b321f306df180a2df20f64e869866b0\nPartial-Bug: #1380789\n'}, {'number': 8, 'created': '2015-01-06 18:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/3b0efcbd4e143d6b55e8e7f99aa09767cad52ff8', 'message': 'Eliminate redundant modules from oslo-incubator\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules. This commit cleans up openstack-common.conf\nwhich has unnecessary entries for middleware and fileutils that are\nnot required in trove.\n\nAlso, trove acquired a trove/openstack/common/utils.py which had two\nroutines that were long ago moved into strutils (now oslo.utils). The\nsole remaining reference to that source file has been updated to\nreflect this.\n\nThis change is based on https://review.openstack.org/#/c/141081/\n\nChange-Id: I279161ac7b321f306df180a2df20f64e869866b0\nPartial-Bug: #1380789\n'}, {'number': 9, 'created': '2015-01-22 03:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c1dad84f7a7355621e08857a278b206400817ca9', 'message': 'Eliminate redundant modules from oslo-incubator\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules. This commit cleans up openstack-common.conf\nwhich has unnecessary entries for middleware and fileutils that are\nnot required in trove.\n\nAlso, trove acquired a trove/openstack/common/utils.py which had two\nroutines that were long ago moved into strutils (now oslo.utils). The\nsole remaining reference to that source file has been updated to\nreflect this.\n\nThis change is based on https://review.openstack.org/#/c/141081/\n\nChange-Id: I279161ac7b321f306df180a2df20f64e869866b0\nPartial-Bug: #1380789\n'}, {'number': 10, 'created': '2015-01-22 15:16:14.000000000', 'files': ['trove/openstack/common/utils.py', 'openstack-common.conf', 'trove/common/utils.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/25cf51f43737f03efb9972e1b8f04a2e74e14f2a', 'message': 'Eliminate redundant modules from oslo-incubator\n\nThis change is part of a multi-part change set to handle obsolete and\ngraduated oslo modules. This commit cleans up openstack-common.conf\nwhich has unnecessary entries for middleware and fileutils that are\nnot required in trove.\n\nAlso, trove acquired a trove/openstack/common/utils.py which had two\nroutines that were long ago moved into strutils (now oslo.utils). The\nsole remaining reference to that source file has been updated to\nreflect this.\n\nThis change is based on https://review.openstack.org/#/c/141081/\n\nChange-Id: I279161ac7b321f306df180a2df20f64e869866b0\nPartial-Bug: #1380789\n'}]",0,141090,25cf51f43737f03efb9972e1b8f04a2e74e14f2a,62,11,10,9664,,,0,"Eliminate redundant modules from oslo-incubator

This change is part of a multi-part change set to handle obsolete and
graduated oslo modules. This commit cleans up openstack-common.conf
which has unnecessary entries for middleware and fileutils that are
not required in trove.

Also, trove acquired a trove/openstack/common/utils.py which had two
routines that were long ago moved into strutils (now oslo.utils). The
sole remaining reference to that source file has been updated to
reflect this.

This change is based on https://review.openstack.org/#/c/141081/

Change-Id: I279161ac7b321f306df180a2df20f64e869866b0
Partial-Bug: #1380789
",git fetch https://review.opendev.org/openstack/trove refs/changes/90/141090/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack-common.conf'],1,d044ccde6e56881cdd16fc9f3cd1f962564c3fc4,bugs/bug-1380789-middleware,,module=fileutilsmodule=middleware,0,2
openstack%2Fpuppet-cinder~master~I9ca4e8e3f45face3f106514bcad696d71034c538,openstack/puppet-cinder,master,I9ca4e8e3f45face3f106514bcad696d71034c538,Run db_sync when upgrading packages,MERGED,2015-01-20 20:40:24.000000000,2015-01-22 20:33:32.000000000,2015-01-22 20:33:30.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6994}, {'_account_id': 7155}, {'_account_id': 8482}]","[{'number': 1, 'created': '2015-01-20 20:40:24.000000000', 'files': ['manifests/api.pp', 'manifests/backup.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/650983b3436adc0b76b0decdcacb27f564db5040', 'message': 'Run db_sync when upgrading packages\n\nWhen upgrading cinder-api or cinder-backup, we need to run db_sync so\nthat new migrations can be applied if needed.\n\nChange-Id: I9ca4e8e3f45face3f106514bcad696d71034c538\n'}]",0,148716,650983b3436adc0b76b0decdcacb27f564db5040,7,5,1,10540,,,0,"Run db_sync when upgrading packages

When upgrading cinder-api or cinder-backup, we need to run db_sync so
that new migrations can be applied if needed.

Change-Id: I9ca4e8e3f45face3f106514bcad696d71034c538
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/16/148716/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'manifests/backup.pp']",2,650983b3436adc0b76b0decdcacb27f564db5040,notify-db_sync, Package['cinder-backup'] ~> Exec<| title == 'cinder-manage db_sync' |>,,3,1
openstack%2Fnova~master~I5f66f77bf3c37a1e3e66510ca5050c3a940ea19a,openstack/nova,master,I5f66f77bf3c37a1e3e66510ca5050c3a940ea19a,libvirt: rename self.libvirtconnection in LibvirtDriverTestCase,MERGED,2014-12-10 15:06:18.000000000,2015-01-22 20:25:50.000000000,2015-01-22 20:25:47.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-12-10 15:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ab52ae6868c241c69a3496db266f4845fae98c0', 'message': 'libvirt: rename self.libvirtconnection in LibvirtDriverTestCase\n\nThe self.libvirtconnection variable points to the libvirt Nova\ndriver, not the libvirt connection. Rename it to self.drvr to\nstop confusing everyone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I5f66f77bf3c37a1e3e66510ca5050c3a940ea19a\n'}, {'number': 2, 'created': '2014-12-10 16:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01af88c9f5cf50318e5c9982bf62c0663a108591', 'message': 'libvirt: rename self.libvirtconnection in LibvirtDriverTestCase\n\nThe self.libvirtconnection variable points to the libvirt Nova\ndriver, not the libvirt connection. Rename it to self.drvr to\nstop confusing everyone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I5f66f77bf3c37a1e3e66510ca5050c3a940ea19a\n'}, {'number': 3, 'created': '2014-12-10 17:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35595da6de0e0d5772b531dd340ce5eedf3e93e4', 'message': 'libvirt: rename self.libvirtconnection in LibvirtDriverTestCase\n\nThe self.libvirtconnection variable points to the libvirt Nova\ndriver, not the libvirt connection. Rename it to self.drvr to\nstop confusing everyone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I5f66f77bf3c37a1e3e66510ca5050c3a940ea19a\n'}, {'number': 4, 'created': '2014-12-16 12:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81415d92e9cdb1bf48d5a29ecdffb3cd9603d0c6', 'message': 'libvirt: rename self.libvirtconnection in LibvirtDriverTestCase\n\nThe self.libvirtconnection variable points to the libvirt Nova\ndriver, not the libvirt connection. Rename it to self.drvr to\nstop confusing everyone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I5f66f77bf3c37a1e3e66510ca5050c3a940ea19a\n'}, {'number': 5, 'created': '2014-12-17 11:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9497e8da3e1d372b5ee3ce4422eac368fa84e967', 'message': 'libvirt: rename self.libvirtconnection in LibvirtDriverTestCase\n\nThe self.libvirtconnection variable points to the libvirt Nova\ndriver, not the libvirt connection. Rename it to self.drvr to\nstop confusing everyone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I5f66f77bf3c37a1e3e66510ca5050c3a940ea19a\n'}, {'number': 6, 'created': '2014-12-18 14:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/756ad15baca55e97386ba5f9f97c1355ecec8f32', 'message': 'libvirt: rename self.libvirtconnection in LibvirtDriverTestCase\n\nThe self.libvirtconnection variable points to the libvirt Nova\ndriver, not the libvirt connection. Rename it to self.drvr to\nstop confusing everyone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I5f66f77bf3c37a1e3e66510ca5050c3a940ea19a\n'}, {'number': 7, 'created': '2014-12-19 11:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bbd3d92934dcb85043bf2baec0d58527ea284abc', 'message': 'libvirt: rename self.libvirtconnection in LibvirtDriverTestCase\n\nThe self.libvirtconnection variable points to the libvirt Nova\ndriver, not the libvirt connection. Rename it to self.drvr to\nstop confusing everyone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I5f66f77bf3c37a1e3e66510ca5050c3a940ea19a\n'}, {'number': 8, 'created': '2015-01-06 14:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c9c39094c3f0f1e9c8971fe58fc8f821df4d117', 'message': 'libvirt: rename self.libvirtconnection in LibvirtDriverTestCase\n\nThe self.libvirtconnection variable points to the libvirt Nova\ndriver, not the libvirt connection. Rename it to self.drvr to\nstop confusing everyone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I5f66f77bf3c37a1e3e66510ca5050c3a940ea19a\n'}, {'number': 9, 'created': '2015-01-06 14:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/500f52f8d113102cab61ef22f867d06d514d816d', 'message': 'libvirt: rename self.libvirtconnection in LibvirtDriverTestCase\n\nThe self.libvirtconnection variable points to the libvirt Nova\ndriver, not the libvirt connection. Rename it to self.drvr to\nstop confusing everyone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I5f66f77bf3c37a1e3e66510ca5050c3a940ea19a\n'}, {'number': 10, 'created': '2015-01-07 09:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3bae6db583d32d85125aa2609bd680475f025ed', 'message': 'libvirt: rename self.libvirtconnection in LibvirtDriverTestCase\n\nThe self.libvirtconnection variable points to the libvirt Nova\ndriver, not the libvirt connection. Rename it to self.drvr to\nstop confusing everyone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I5f66f77bf3c37a1e3e66510ca5050c3a940ea19a\n'}, {'number': 11, 'created': '2015-01-13 13:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b11f0d9be0547861520ee788324c4139ffd7c884', 'message': 'libvirt: rename self.libvirtconnection in LibvirtDriverTestCase\n\nThe self.libvirtconnection variable points to the libvirt Nova\ndriver, not the libvirt connection. Rename it to self.drvr to\nstop confusing everyone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I5f66f77bf3c37a1e3e66510ca5050c3a940ea19a\n'}, {'number': 12, 'created': '2015-01-19 16:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb954062f5afb894900a2d9035822f7f29ceadb4', 'message': 'libvirt: rename self.libvirtconnection in LibvirtDriverTestCase\n\nThe self.libvirtconnection variable points to the libvirt Nova\ndriver, not the libvirt connection. Rename it to self.drvr to\nstop confusing everyone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I5f66f77bf3c37a1e3e66510ca5050c3a940ea19a\n'}, {'number': 13, 'created': '2015-01-20 11:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ccd372e1106066196f37dfbeff3f935e4929e64', 'message': 'libvirt: rename self.libvirtconnection in LibvirtDriverTestCase\n\nThe self.libvirtconnection variable points to the libvirt Nova\ndriver, not the libvirt connection. Rename it to self.drvr to\nstop confusing everyone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I5f66f77bf3c37a1e3e66510ca5050c3a940ea19a\n'}, {'number': 14, 'created': '2015-01-22 11:26:01.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/62fc86e07abbec86beef3be9e7593f17658a9b82', 'message': 'libvirt: rename self.libvirtconnection in LibvirtDriverTestCase\n\nThe self.libvirtconnection variable points to the libvirt Nova\ndriver, not the libvirt connection. Rename it to self.drvr to\nstop confusing everyone.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I5f66f77bf3c37a1e3e66510ca5050c3a940ea19a\n'}]",0,140727,62fc86e07abbec86beef3be9e7593f17658a9b82,99,14,14,1779,,,0,"libvirt: rename self.libvirtconnection in LibvirtDriverTestCase

The self.libvirtconnection variable points to the libvirt Nova
driver, not the libvirt connection. Rename it to self.drvr to
stop confusing everyone.

Blueprint: libvirt-driver-class-refactor
Change-Id: I5f66f77bf3c37a1e3e66510ca5050c3a940ea19a
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/140727/7 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/test_driver.py'],1,2ab52ae6868c241c69a3496db266f4845fae98c0,libvirt-driver-refactor-4," self.drvr = libvirt_driver.LibvirtDriver( self.stubs.Set(self.drvr, 'get_instance_disk_info', self.stubs.Set(self.drvr, '_destroy', fake_destroy) self.stubs.Set(self.drvr, 'get_host_ip_addr', self.stubs.Set(self.drvr, '_is_storage_shared_with', self.drvr.migrate_disk_and_power_off, self.stubs.Set(self.drvr, 'get_instance_disk_info', self.stubs.Set(self.drvr, '_destroy', fake_destroy) self.stubs.Set(self.drvr, 'get_host_ip_addr', out = self.drvr.migrate_disk_and_power_off( out = self.drvr.migrate_disk_and_power_off( self.stubs.Set(self.drvr, 'get_instance_disk_info', self.stubs.Set(self.drvr, '_destroy', fake_destroy) self.stubs.Set(self.drvr, 'get_host_ip_addr', self.drvr.migrate_disk_and_power_off, self.drvr.migrate_disk_and_power_off, self.drvr.migrate_disk_and_power_off, self.stubs.Set(self.drvr, 'get_info', self.drvr._wait_for_running, self.drvr._wait_for_running, self.drvr._wait_for_running({'name': 'else', self.drvr._disk_size_from_instance(inst, info)) self.drvr._disk_size_from_instance(inst, info)) self.drvr._disk_size_from_instance(inst, info)) self.drvr._disk_raw_to_qcow2(path) self.drvr._disk_qcow2_to_raw(path) self.drvr._disk_resize(info, 50) self.drvr, '_disk_qcow2_to_raw'), self.drvr, '_disk_raw_to_qcow2'))\ self.drvr._disk_resize(info, 50) self.stubs.Set(self.drvr, '_disk_resize', self.stubs.Set(self.drvr, '_get_guest_xml', fake_to_xml) self.stubs.Set(self.drvr, 'plug_vifs', fake_plug_vifs) self.stubs.Set(self.drvr, '_create_image', self.stubs.Set(self.drvr, '_create_domain_and_network', self.stubs.Set(self.drvr, '_enable_hairpin', self.stubs.Set(self.drvr, 'firewall_driver', fw) self.stubs.Set(self.drvr, 'get_info', self.drvr.finish_migration( self.stubs.Set(self.drvr, '_get_guest_xml', fake_to_xml) self.stubs.Set(self.drvr, 'plug_vifs', fake_plug_vifs) self.stubs.Set(self.drvr, 'firewall_driver', fw) self.stubs.Set(self.drvr, '_create_domain', self.stubs.Set(self.drvr, '_enable_hairpin', self.stubs.Set(self.drvr, 'get_info', self.drvr.finish_revert_migration( self.stubs.Set(self.drvr, '_get_guest_xml', self.stubs.Set(self.drvr, '_create_domain_and_network', self.drvr.finish_revert_migration(context, {}, []) self.drvr._cleanup_failed_migration('/fake/inst') self.mox.StubOutWithMock(self.drvr, ""_cleanup_resize"") self.drvr._cleanup_resize(ins_ref, self.drvr.confirm_migration(""migration_ref"", ins_ref, self.drvr._cleanup_resize(ins_ref, self.stubs.Set(self.drvr, '_undefine_domain', self.stubs.Set(self.drvr, 'unplug_vifs', self.stubs.Set(self.drvr.firewall_driver, self.drvr._cleanup_resize(ins_ref, self.drvr.get_instance_disk_info, disks = self.drvr._lvm_disks(instance) self.mox.StubOutWithMock(self.drvr.firewall_driver, self.drvr.firewall_driver.setup_basic_filtering( expected = self.drvr.vif_driver.get_config( self.mox.StubOutWithMock(self.drvr.vif_driver, self.drvr.vif_driver.get_config( self.drvr.attach_interface( self.drvr.detach_interface( self.mox.StubOutWithMock(self.drvr, self.mox.StubOutWithMock(self.drvr, '_get_guest_xml') self.mox.StubOutWithMock(self.drvr, '_destroy') self.mox.StubOutWithMock(self.drvr, '_create_domain') self.drvr._get_existing_domain_xml(mox.IgnoreArg(), self.drvr._get_guest_xml(mox.IgnoreArg(), instance, self.drvr._destroy(instance) self.drvr._create_domain(mox.IgnoreArg()) self.drvr.rescue(self.context, instance, self.mox.StubOutWithMock(self.drvr, self.mox.StubOutWithMock(self.drvr, '_get_guest_xml') self.mox.StubOutWithMock(self.drvr, '_destroy') self.mox.StubOutWithMock(self.drvr, '_create_domain') self.drvr._get_existing_domain_xml(mox.IgnoreArg(), self.drvr._get_guest_xml(mox.IgnoreArg(), instance, self.drvr._destroy(instance) self.drvr._create_domain(mox.IgnoreArg()) self.drvr.rescue(self.context, instance, network_info, result = self.drvr.delete_instance_files(instance) result = self.drvr.delete_instance_files(instance) result = self.drvr.delete_instance_files(instance) result = self.drvr.delete_instance_files(instance) result = self.drvr.delete_instance_files(instance) result = self.drvr.delete_instance_files(instance) result = self.drvr.delete_instance_files(instance)"," self.libvirtconnection = libvirt_driver.LibvirtDriver( self.stubs.Set(self.libvirtconnection, 'get_instance_disk_info', self.stubs.Set(self.libvirtconnection, '_destroy', fake_destroy) self.stubs.Set(self.libvirtconnection, 'get_host_ip_addr', self.stubs.Set(self.libvirtconnection, '_is_storage_shared_with', self.libvirtconnection.migrate_disk_and_power_off, self.stubs.Set(self.libvirtconnection, 'get_instance_disk_info', self.stubs.Set(self.libvirtconnection, '_destroy', fake_destroy) self.stubs.Set(self.libvirtconnection, 'get_host_ip_addr', out = self.libvirtconnection.migrate_disk_and_power_off( out = self.libvirtconnection.migrate_disk_and_power_off( self.stubs.Set(self.libvirtconnection, 'get_instance_disk_info', self.stubs.Set(self.libvirtconnection, '_destroy', fake_destroy) self.stubs.Set(self.libvirtconnection, 'get_host_ip_addr', self.libvirtconnection.migrate_disk_and_power_off, self.libvirtconnection.migrate_disk_and_power_off, self.libvirtconnection.migrate_disk_and_power_off, self.stubs.Set(self.libvirtconnection, 'get_info', self.libvirtconnection._wait_for_running, self.libvirtconnection._wait_for_running, self.libvirtconnection._wait_for_running({'name': 'else', self.libvirtconnection._disk_size_from_instance(inst, info)) self.libvirtconnection._disk_size_from_instance(inst, info)) self.libvirtconnection._disk_size_from_instance(inst, info)) self.libvirtconnection._disk_raw_to_qcow2(path) self.libvirtconnection._disk_qcow2_to_raw(path) self.libvirtconnection._disk_resize(info, 50) self.libvirtconnection, '_disk_qcow2_to_raw'), self.libvirtconnection, '_disk_raw_to_qcow2'))\ self.libvirtconnection._disk_resize(info, 50) self.stubs.Set(self.libvirtconnection, '_disk_resize', self.stubs.Set(self.libvirtconnection, '_get_guest_xml', fake_to_xml) self.stubs.Set(self.libvirtconnection, 'plug_vifs', fake_plug_vifs) self.stubs.Set(self.libvirtconnection, '_create_image', self.stubs.Set(self.libvirtconnection, '_create_domain_and_network', self.stubs.Set(self.libvirtconnection, '_enable_hairpin', self.stubs.Set(self.libvirtconnection, 'firewall_driver', fw) self.stubs.Set(self.libvirtconnection, 'get_info', self.libvirtconnection.finish_migration( self.stubs.Set(self.libvirtconnection, '_get_guest_xml', fake_to_xml) self.stubs.Set(self.libvirtconnection, 'plug_vifs', fake_plug_vifs) self.stubs.Set(self.libvirtconnection, 'firewall_driver', fw) self.stubs.Set(self.libvirtconnection, '_create_domain', self.stubs.Set(self.libvirtconnection, '_enable_hairpin', self.stubs.Set(self.libvirtconnection, 'get_info', self.libvirtconnection.finish_revert_migration( self.stubs.Set(self.libvirtconnection, '_get_guest_xml', self.stubs.Set(self.libvirtconnection, '_create_domain_and_network', self.libvirtconnection.finish_revert_migration(context, {}, []) self.libvirtconnection._cleanup_failed_migration('/fake/inst') self.mox.StubOutWithMock(self.libvirtconnection, ""_cleanup_resize"") self.libvirtconnection._cleanup_resize(ins_ref, self.libvirtconnection.confirm_migration(""migration_ref"", ins_ref, self.libvirtconnection._cleanup_resize(ins_ref, self.stubs.Set(self.libvirtconnection, '_undefine_domain', self.stubs.Set(self.libvirtconnection, 'unplug_vifs', self.stubs.Set(self.libvirtconnection.firewall_driver, self.libvirtconnection._cleanup_resize(ins_ref, self.libvirtconnection.get_instance_disk_info, disks = self.libvirtconnection._lvm_disks(instance) self.mox.StubOutWithMock(self.libvirtconnection.firewall_driver, self.libvirtconnection.firewall_driver.setup_basic_filtering( expected = self.libvirtconnection.vif_driver.get_config( self.mox.StubOutWithMock(self.libvirtconnection.vif_driver, self.libvirtconnection.vif_driver.get_config( self.libvirtconnection.attach_interface( self.libvirtconnection.detach_interface( self.mox.StubOutWithMock(self.libvirtconnection, self.mox.StubOutWithMock(self.libvirtconnection, '_get_guest_xml') self.mox.StubOutWithMock(self.libvirtconnection, '_destroy') self.mox.StubOutWithMock(self.libvirtconnection, '_create_domain') self.libvirtconnection._get_existing_domain_xml(mox.IgnoreArg(), self.libvirtconnection._get_guest_xml(mox.IgnoreArg(), instance, self.libvirtconnection._destroy(instance) self.libvirtconnection._create_domain(mox.IgnoreArg()) self.libvirtconnection.rescue(self.context, instance, self.mox.StubOutWithMock(self.libvirtconnection, self.mox.StubOutWithMock(self.libvirtconnection, '_get_guest_xml') self.mox.StubOutWithMock(self.libvirtconnection, '_destroy') self.mox.StubOutWithMock(self.libvirtconnection, '_create_domain') self.libvirtconnection._get_existing_domain_xml(mox.IgnoreArg(), self.libvirtconnection._get_guest_xml(mox.IgnoreArg(), instance, self.libvirtconnection._destroy(instance) self.libvirtconnection._create_domain(mox.IgnoreArg()) self.libvirtconnection.rescue(self.context, instance, network_info, lv = self.libvirtconnection result = lv.delete_instance_files(instance) lv = self.libvirtconnection result = lv.delete_instance_files(instance) lv = self.libvirtconnection result = lv.delete_instance_files(instance) lv = self.libvirtconnection result = lv.delete_instance_files(instance) lv = self.libvirtconnection result = lv.delete_instance_files(instance) lv = self.libvirtconnection result = lv.delete_instance_files(instance) lv = self.libvirtconnection result = lv.delete_instance_files(instance)",92,99
openstack%2Fnova~master~I1b0e8d55ff498c57ff25e5d47078f59c95734dc6,openstack/nova,master,I1b0e8d55ff498c57ff25e5d47078f59c95734dc6,libvirt: convert LibvirtConnTestCase to use fakelibvirt fixture,MERGED,2014-12-10 15:06:18.000000000,2015-01-22 20:04:25.000000000,2015-01-22 20:04:22.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-12-10 15:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06825545467835844b75f98287da7d9a5230ca13', 'message': 'libvirt: convert LibvirtConnTestCase to use fakelibvirt fixture\n\nInstead of defining a custom fake libvirt class and installing\nmocks for it, just use the standard fakelibvirt fixture.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I1b0e8d55ff498c57ff25e5d47078f59c95734dc6\n'}, {'number': 2, 'created': '2014-12-10 16:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d94c9e952eec6a3bcff195c7a914c2240128f2a3', 'message': 'libvirt: convert LibvirtConnTestCase to use fakelibvirt fixture\n\nInstead of defining a custom fake libvirt class and installing\nmocks for it, just use the standard fakelibvirt fixture.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I1b0e8d55ff498c57ff25e5d47078f59c95734dc6\n'}, {'number': 3, 'created': '2014-12-10 17:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c468f96dfef29d1b38fdb4125a0ccfc4f682ff93', 'message': 'libvirt: convert LibvirtConnTestCase to use fakelibvirt fixture\n\nInstead of defining a custom fake libvirt class and installing\nmocks for it, just use the standard fakelibvirt fixture.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I1b0e8d55ff498c57ff25e5d47078f59c95734dc6\n'}, {'number': 4, 'created': '2014-12-16 12:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/900ee926645a043ce859a9c04c9bd0a872c13e24', 'message': 'libvirt: convert LibvirtConnTestCase to use fakelibvirt fixture\n\nInstead of defining a custom fake libvirt class and installing\nmocks for it, just use the standard fakelibvirt fixture.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I1b0e8d55ff498c57ff25e5d47078f59c95734dc6\n'}, {'number': 5, 'created': '2014-12-17 11:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3360ab5442c06698d82092503e5f4f4035cc6a87', 'message': 'libvirt: convert LibvirtConnTestCase to use fakelibvirt fixture\n\nInstead of defining a custom fake libvirt class and installing\nmocks for it, just use the standard fakelibvirt fixture.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I1b0e8d55ff498c57ff25e5d47078f59c95734dc6\n'}, {'number': 6, 'created': '2014-12-18 14:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbd1aa125b72eca9545a19587ab3c2eba4475c62', 'message': 'libvirt: convert LibvirtConnTestCase to use fakelibvirt fixture\n\nInstead of defining a custom fake libvirt class and installing\nmocks for it, just use the standard fakelibvirt fixture.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I1b0e8d55ff498c57ff25e5d47078f59c95734dc6\n'}, {'number': 7, 'created': '2014-12-19 11:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/240198a86c3bc1998562f5200256663030b48d48', 'message': 'libvirt: convert LibvirtConnTestCase to use fakelibvirt fixture\n\nInstead of defining a custom fake libvirt class and installing\nmocks for it, just use the standard fakelibvirt fixture.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I1b0e8d55ff498c57ff25e5d47078f59c95734dc6\n'}, {'number': 8, 'created': '2015-01-06 14:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa115bbd9de804ff9f7ce50a5c038dede9293ba1', 'message': 'libvirt: convert LibvirtConnTestCase to use fakelibvirt fixture\n\nInstead of defining a custom fake libvirt class and installing\nmocks for it, just use the standard fakelibvirt fixture.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I1b0e8d55ff498c57ff25e5d47078f59c95734dc6\n'}, {'number': 9, 'created': '2015-01-06 14:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a29be32ea57ac628ebc859ff55a5fa53d095ce5c', 'message': 'libvirt: convert LibvirtConnTestCase to use fakelibvirt fixture\n\nInstead of defining a custom fake libvirt class and installing\nmocks for it, just use the standard fakelibvirt fixture.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I1b0e8d55ff498c57ff25e5d47078f59c95734dc6\n'}, {'number': 10, 'created': '2015-01-07 09:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb677389c5332a430ab03c91f49bfb9b9d64b24f', 'message': 'libvirt: convert LibvirtConnTestCase to use fakelibvirt fixture\n\nInstead of defining a custom fake libvirt class and installing\nmocks for it, just use the standard fakelibvirt fixture.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I1b0e8d55ff498c57ff25e5d47078f59c95734dc6\n'}, {'number': 11, 'created': '2015-01-13 13:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8724bfdad7bfda351b8dc3df55c4d97715899e6b', 'message': 'libvirt: convert LibvirtConnTestCase to use fakelibvirt fixture\n\nInstead of defining a custom fake libvirt class and installing\nmocks for it, just use the standard fakelibvirt fixture.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I1b0e8d55ff498c57ff25e5d47078f59c95734dc6\n'}, {'number': 12, 'created': '2015-01-19 16:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4dbda60c573e71f00a671305d6edb49666b5d008', 'message': 'libvirt: convert LibvirtConnTestCase to use fakelibvirt fixture\n\nInstead of defining a custom fake libvirt class and installing\nmocks for it, just use the standard fakelibvirt fixture.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I1b0e8d55ff498c57ff25e5d47078f59c95734dc6\n'}, {'number': 13, 'created': '2015-01-20 11:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6bfdb8b2e76bf889f001ff24cd2c5258bd8a7b2', 'message': 'libvirt: convert LibvirtConnTestCase to use fakelibvirt fixture\n\nInstead of defining a custom fake libvirt class and installing\nmocks for it, just use the standard fakelibvirt fixture.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I1b0e8d55ff498c57ff25e5d47078f59c95734dc6\n'}, {'number': 14, 'created': '2015-01-22 11:26:00.000000000', 'files': ['nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4b9bec3a1c819e7006af6bfa1de6928bde91b2c7', 'message': 'libvirt: convert LibvirtConnTestCase to use fakelibvirt fixture\n\nInstead of defining a custom fake libvirt class and installing\nmocks for it, just use the standard fakelibvirt fixture.\n\nBlueprint: libvirt-driver-class-refactor\nChange-Id: I1b0e8d55ff498c57ff25e5d47078f59c95734dc6\n'}]",5,140726,4b9bec3a1c819e7006af6bfa1de6928bde91b2c7,102,16,14,1779,,,0,"libvirt: convert LibvirtConnTestCase to use fakelibvirt fixture

Instead of defining a custom fake libvirt class and installing
mocks for it, just use the standard fakelibvirt fixture.

Blueprint: libvirt-driver-class-refactor
Change-Id: I1b0e8d55ff498c57ff25e5d47078f59c95734dc6
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/140726/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,06825545467835844b75f98287da7d9a5230ca13,libvirt-driver-refactor-4," self.useFixture(fakelibvirt.FakeLibvirtFixture()) @mock.patch.object(fakelibvirt.virConnect, ""nodeDeviceLookupByName"") def test_prepare_pci_device(self, mock_lookup): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) conn = drvr._host.get_connection() mock_lookup.side_effect = lambda x: fakelibvirt.NodeDevice(conn) drvr._prepare_pci_devices_for_use(pci_devices) @mock.patch.object(fakelibvirt.virConnect, ""nodeDeviceLookupByName"") @mock.patch.object(fakelibvirt.virNodeDevice, ""dettach"") def test_prepare_pci_device_exception(self, mock_detach, mock_lookup): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) conn = drvr._host.get_connection() mock_lookup.side_effect = lambda x: fakelibvirt.NodeDevice(conn) mock_detach.side_effect = libvirt.libvirtError(""xxxx"") drvr._prepare_pci_devices_for_use, pci_devices) @mock.patch.object(fakelibvirt.virConnect, ""getLibVersion"") def test_get_guest_cpu_config_default_kvm(self, mock_version, mock_flavor): mock_version.return_value = (0 * 1000 * 1000) + (9 * 1000) + 11 @mock.patch.object(fakelibvirt.virConnect, ""getLibVersion"") def test_attach_blockio_invalid_version(self, mock_version): mock_version.return_value = (0 * 1000 * 1000) + (9 * 1000) + 8"," class FakeConn(): def baselineCPU(self, cpu, flag): """"""Add new libvirt API."""""" return """"""<cpu mode='custom' match='exact'> <model fallback='allow'>Westmere</model> <vendor>Intel</vendor> <feature policy='require' name='aes'/> <feature policy='require' name='hypervisor'/> </cpu>"""""" def getCapabilities(self): """"""Ensure standard capabilities being returned."""""" return """"""<capabilities> <host><cpu><arch>x86_64</arch> <feature policy='require' name='hypervisor'/> </cpu></host> </capabilities>"""""" def getVersion(self): return 1005001 def getLibVersion(self): return (0 * 1000 * 1000) + (9 * 1000) + 11 def domainEventRegisterAny(self, *args, **kwargs): pass def registerCloseCallback(self, cb, opaque): pass def nwfilterDefineXML(self, *args, **kwargs): pass def nodeDeviceLookupByName(self, x): pass def listDevices(self, cap, flags): return [] def lookupByName(self, name): pass def lookupByID(self, id): pass def getHostname(self): return ""mustard"" def getType(self): return ""QEMU"" def numOfDomains(self): return 0 def listDomainsID(self): return [] def listDefinedDomains(self): return [] def getInfo(self): return [arch.X86_64, 123456, 2, 2000, 2, 1, 1, 1] self.conn = FakeConn() self.stubs.Set(host.Host, 'get_connection', lambda h: self.conn) def test_prepare_pci_device(self): conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) class FakeDev(): def attach(self): pass def dettach(self): pass def reset(self): pass self.mox.StubOutWithMock(self.conn, 'nodeDeviceLookupByName') self.conn.nodeDeviceLookupByName('xxx').AndReturn(FakeDev()) self.conn.nodeDeviceLookupByName('xxx').AndReturn(FakeDev()) self.mox.ReplayAll() conn._prepare_pci_devices_for_use(pci_devices) def test_prepare_pci_device_exception(self): conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) class FakeDev(): def attach(self): pass def dettach(self): raise libvirt.libvirtError(""xxxxx"") def reset(self): pass self.stubs.Set(self.conn, 'nodeDeviceLookupByName', lambda x: FakeDev()) conn._prepare_pci_devices_for_use, pci_devices) def test_get_guest_cpu_config_default_kvm(self, mock_flavor): def get_lib_version_stub(): return (0 * 1000 * 1000) + (9 * 1000) + 11 self.stubs.Set(self.conn, ""getLibVersion"", get_lib_version_stub) def test_attach_blockio_invalid_version(self): def get_lib_version_stub(): return (0 * 1000 * 1000) + (9 * 1000) + 8 self.stubs.Set(self.conn, ""getLibVersion"", get_lib_version_stub)",66,111
openstack%2Fnova~master~I62b10293fb96d5dbaf4650f11573c6a9b0cd50bd,openstack/nova,master,I62b10293fb96d5dbaf4650f11573c6a9b0cd50bd,libvirt: Expanded test libvirt driver,MERGED,2015-01-06 23:28:29.000000000,2015-01-22 19:59:57.000000000,2015-01-22 19:59:54.000000000,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7730}, {'_account_id': 8247}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12088}]","[{'number': 1, 'created': '2015-01-06 23:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32a5fa2097a44ac99c760030be7e3cd149aa84f7', 'message': 'libvirt: Expanded test libvirt driver\n\nAdded test for checking `_get_interfaces()` method.\n\nChange-Id: I62b10293fb96d5dbaf4650f11573c6a9b0cd50bd\n'}, {'number': 2, 'created': '2015-01-21 14:16:50.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ace6a9f07cc4782ca1d587926e250b071279bdab', 'message': 'libvirt: Expanded test libvirt driver\n\nAdded test for checking `_get_interfaces()` method.\n\nChange-Id: I62b10293fb96d5dbaf4650f11573c6a9b0cd50bd\n'}]",1,145377,ace6a9f07cc4782ca1d587926e250b071279bdab,21,11,2,8412,,,0,"libvirt: Expanded test libvirt driver

Added test for checking `_get_interfaces()` method.

Change-Id: I62b10293fb96d5dbaf4650f11573c6a9b0cd50bd
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/145377/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/test_driver.py'],1,32a5fa2097a44ac99c760030be7e3cd149aa84f7,expand_test_libvirt_driver," def test_get_interfaces(self): dom_xml = """""" <domain type=""qemu""> <devices> <interface type=""ethernet""> <mac address=""fe:eb:da:ed:ef:ac""/> <model type=""virtio""/> <target dev=""eth0""/> </interface> <interface type=""bridge""> <mac address=""ca:fe:de:ad:be:ef""/> <model type=""virtio""/> <target dev=""br0""/> </interface> </devices> </domain>"""""" list_interfaces = ['eth0', 'br0'] drv = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) self.assertEqual(list_interfaces, drv._get_interfaces(dom_xml)) ",,23,0
openstack%2Fec2-api~master~Ica4670e0282ac4151dd0897abd08eb4084f9aa74,openstack/ec2-api,master,Ica4670e0282ac4151dd0897abd08eb4084f9aa74,Added various validation tests,MERGED,2015-01-22 19:01:20.000000000,2015-01-22 19:53:37.000000000,2015-01-22 19:53:36.000000000,"[{'_account_id': 3}, {'_account_id': 10224}, {'_account_id': 10234}]","[{'number': 1, 'created': '2015-01-22 19:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/5b77221e22d344225ffcb31a42334a7c556ec399', 'message': 'Added various validation tests\n\nChange-Id: Ica4670e0282ac4151dd0897abd08eb4084f9aa74\n'}, {'number': 2, 'created': '2015-01-22 19:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/c838d7f29c3e2ccd95e8ff48a8a457700caedac6', 'message': 'Added various validation tests\n\nChange-Id: Ica4670e0282ac4151dd0897abd08eb4084f9aa74\n'}, {'number': 3, 'created': '2015-01-22 19:36:07.000000000', 'files': ['ec2api/tests/test_ec2_validate.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/cc5e80cf4cf1ddb32392ff45c8d24403082a7562', 'message': 'Added various validation tests\n\nChange-Id: Ica4670e0282ac4151dd0897abd08eb4084f9aa74\n'}]",0,149366,cc5e80cf4cf1ddb32392ff45c8d24403082a7562,9,3,3,9312,,,0,"Added various validation tests

Change-Id: Ica4670e0282ac4151dd0897abd08eb4084f9aa74
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/66/149366/1 && git format-patch -1 --stdout FETCH_HEAD,['ec2api/tests/test_ec2_validate.py'],1,5b77221e22d344225ffcb31a42334a7c556ec399,,"from ec2api.api import common def test_validate_net(self): validator = common.Validator() validator.ip('10.10.0.0') validator.cidr('10.10.0.0/24') validator.subnet_cidr('10.10.0.0/24') validator.vpc_cidr('10.10.0.0/24') validator.cidr, cidr) self.assertRaises(exception.InvalidParameterValue, validator.ip, '10.256.0.0') validator.subnet_cidr, '10.10.0.0/15') validator.vpc_cidr, '10.10.0.0/29') def test_validate_id(self): validator = common.Validator() validator.ec2_id('i-00000001') validator.i_id('i-00000001') validator.ami_id('ami-00000001') validator.eni_id('eni-00000001') validator.sg_id('sg-00000001') validator.subnet_id('subnet-00000001') validator.igw_id('igw-00000001') validator.rtb_id('rtb-00000001') validator.vpc_id('vpc-00000001') validator.vol_id('vol-00000001') validator.snap_id('snap-00000001') validator.dopt_id('dopt-00000001') validator.eni_attach_id('eni-attach-00000001') validator.eipalloc_id('eipalloc-00000001') validator.eipassoc_id('eipassoc-00000001') validator.rtbassoc_id('rtbassoc-00000001') invalid_ids = ['1234', 'a-1111', '', 'i-1111', 'i-rrr', 'foobar'] def check_raise_invalid_parameters(func): for id in invalid_ids: self.assertRaises(exception.InvalidParameterValue, func, id) check_raise_invalid_parameters(validator.ami_id) check_raise_invalid_parameters(validator.eni_id) check_raise_invalid_parameters(validator.sg_id) check_raise_invalid_parameters(validator.subnet_id) check_raise_invalid_parameters(validator.igw_id) check_raise_invalid_parameters(validator.rtb_id) check_raise_invalid_parameters(validator.vpc_id) check_raise_invalid_parameters(validator.vol_id) check_raise_invalid_parameters(validator.snap_id) check_raise_invalid_parameters(validator.dopt_id) check_raise_invalid_parameters(validator.eni_attach_id) check_raise_invalid_parameters(validator.eipalloc_id) check_raise_invalid_parameters(validator.eipassoc_id) check_raise_invalid_parameters(validator.rtbassoc_id) invalid_ids = ['1234', 'a-1111', '', 'vpc-1111', 'vpc-rrr', 'foobar'] check_raise_invalid_parameters(validator.i_id) def test_validate_multi(self): validator = common.Validator() result_sum = {'value': 0} list_to_sum = [1,2,3,4] def sum(value): # NOTE(Alex) Because nonlocal is only in python 3.0 result_sum['value'] += value validator.multi(list_to_sum, sum) self.assertEquals(result_sum['value'], 10) self.assertRaises(exception.InvalidParameterValue, validator.multi, 'not a list', sum) def test_validate_primitive(self): validator = common.Validator() validator.int(5) validator.bool(True) validator.str('str') validator.str64('str') validator.str255('str') def check_raise_validation_error(value, func): self.assertRaises(exception.ValidationError, func, value) check_raise_validation_error('str', validator.int) check_raise_validation_error('str', validator.bool) check_raise_validation_error(5, validator.str) check_raise_validation_error('x' * 65, validator.str64) check_raise_validation_error('x' * 256, validator.str255) def test_validate_security_group(self): validator = common.Validator(params={}) validator.security_group_str('name') validator.security_group_str('aa #^% -=99') validator = common.Validator(params={'vpc_id': 'vpc_id'}) validator.security_group_str('name') def check_raise_validation_error(value): self.assertRaises(exception.ValidationError, validator.security_group_str, value) validator = common.Validator(params={}) check_raise_validation_error('aa \t\x01\x02\x7f') check_raise_validation_error('x' * 256) validator = common.Validator(params={'vpc_id': 'vpc_id'}) check_raise_validation_error('aa #^% -=99') check_raise_validation_error('x' * 256) ","from ec2api.api import validator def test_validate_cidr(self): self.assertEqual(True, validator.validate_cidr('10.10.0.0/24', 'cidr')) validator.validate_cidr, cidr, 'cidr') validator.validate_subnet_cidr, '10.10.0.0/15') validator.validate_vpc_cidr, '10.10.0.0/29') ",107,7
openstack%2Fironic-specs~master~I2c6b4f01826c1e1b9270723018fe33f7cebb9c43,openstack/ironic-specs,master,I2c6b4f01826c1e1b9270723018fe33f7cebb9c43,uefi support for agent-ilo driver,ABANDONED,2014-11-25 11:46:47.000000000,2015-01-22 19:52:07.000000000,,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 5805}, {'_account_id': 6773}, {'_account_id': 11297}]","[{'number': 1, 'created': '2014-11-25 11:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f9681bf28b1b45893fd36e80e266ed690c7b3fec', 'message': 'uefi support for agent-ilo driver\n\nImplements: blueprint uefi-support-for-agent-ilo-driver\n\nChange-Id: I2c6b4f01826c1e1b9270723018fe33f7cebb9c43\n'}, {'number': 2, 'created': '2014-12-02 12:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/fa2c0fc7ed4c24ab099602f2a7432286577e4bbe', 'message': 'uefi support for agent-ilo driver\n\nImplements: blueprint uefi-support-for-agent-ilo-driver\n\nChange-Id: I2c6b4f01826c1e1b9270723018fe33f7cebb9c43\n'}, {'number': 3, 'created': '2014-12-03 04:02:00.000000000', 'files': ['specs/kilo/uefi-support-for-agent-ilo-driver.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/5188c446c6f326d0ac12ec88c1c8a21a0411f380', 'message': 'uefi support for agent-ilo driver\n\nImplements: blueprint uefi-support-for-agent-ilo-driver\n\nChange-Id: I2c6b4f01826c1e1b9270723018fe33f7cebb9c43\n'}]",12,137024,5188c446c6f326d0ac12ec88c1c8a21a0411f380,12,5,3,11297,,,0,"uefi support for agent-ilo driver

Implements: blueprint uefi-support-for-agent-ilo-driver

Change-Id: I2c6b4f01826c1e1b9270723018fe33f7cebb9c43
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/24/137024/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/uefi-support-for-agent-ilo-driver.rst'],1,f9681bf28b1b45893fd36e80e266ed690c7b3fec,bp/uefi-support-for-agent-ilo-driver,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== uefi-support-for-agent-ilo-driver ========================================== https://blueprints.launchpad.net/ironic/+spec/uefi-support-for-agent-ilo-driver The agent_ilo driver doesn't support UEFI booting. This spec covers the UEFI implementation in agent_ilo driver. Problem description =================== The agent_ilo driver doesn't support switching the modes between BIOS and UEFI. Proposed change =============== The agent_ilo will support the switching the boot modes between UEFI and BIOS modes. It will read the capability using get_node_capability() and sets the boot mode accordingly using ilo's set_boot_mode(). The iso creation script in the IPA needs to be enhanced for UEFI mode. Alternatives ------------ None as of now. Data model impact ----------------- None. REST API impact --------------- None. RPC API impact -------------- None. Driver API impact ----------------- IloVirtualMediaAgentDeploy.prepare() will need changes for above. Nova driver impact ------------------ None. Security impact --------------- None. Other end user impact --------------------- None. Scalability impact ------------------ None. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- No impact for the end user. It just adds the ability for the agent_ilo driver to boot up in UEFI mode when capabilities are given. To boot up in uefi mode, user can update the agent_ilo node with the capabilities 'boot_mode:uefi'. Implementation ============== Assignee(s) ----------- Primary assignee: agarwalnisha1980 Work Items ---------- * IPA `iso-image-create` script needs to be enhanced for UEFI mode. * IloVirtualMediaAgentDeploy.prepare() will need changes for above. Dependencies ============ None. Testing ======= The driver will be tested on proliant gen8 and gen 9 boxes. The tempest test cases will be considered later. Upgrades and Backwards Compatibility ==================================== No impact. Documentation Impact ==================== None. References ========== The UEFI support which was merged in Juno: https://review.openstack.org/#/c/99850 ",,136,0
openstack%2Fcue~master~Iba3ec440af05a4e4009b73ea9d1b345d7613cb3b,openstack/cue,master,Iba3ec440af05a4e4009b73ea9d1b345d7613cb3b,Patches to sphinx to properly generate API docs,MERGED,2015-01-20 19:52:16.000000000,2015-01-22 19:45:01.000000000,2015-01-22 19:45:00.000000000,"[{'_account_id': 3}, {'_account_id': 395}, {'_account_id': 1925}, {'_account_id': 13771}]","[{'number': 1, 'created': '2015-01-20 19:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cue/commit/9fa903559d9f179d25f532a27a385b62cb3a3af0', 'message': 'Patches to sphinx to properly generate API docs\n\nAuto generation of general index and module index was disabled in\nsphinx, and no reference to the API index was provided in the primary\nlanding page of the documetation, hence no actual link was being\nprovided to the API documentation, although it was being generated.\n\nChange-Id: Iba3ec440af05a4e4009b73ea9d1b345d7613cb3b\n'}, {'number': 2, 'created': '2015-01-22 03:37:19.000000000', 'files': ['doc/source/index.rst', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/cue/commit/86158e863f0e72d512a828963c95db477b8cc3c0', 'message': 'Patches to sphinx to properly generate API docs\n\nAuto generation of general index and module index was disabled in\nsphinx, and no reference to the API index was provided in the primary\nlanding page of the documetation, hence no actual link was being\nprovided to the API documentation, although it was being generated.\n\nChange-Id: Iba3ec440af05a4e4009b73ea9d1b345d7613cb3b\n'}]",1,148706,86158e863f0e72d512a828963c95db477b8cc3c0,11,4,2,10584,,,0,"Patches to sphinx to properly generate API docs

Auto generation of general index and module index was disabled in
sphinx, and no reference to the API index was provided in the primary
landing page of the documetation, hence no actual link was being
provided to the API documentation, although it was being generated.

Change-Id: Iba3ec440af05a4e4009b73ea9d1b345d7613cb3b
",git fetch https://review.opendev.org/openstack/cue refs/changes/06/148706/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/conf.py']",2,9fa903559d9f179d25f532a27a385b62cb3a3af0,mpae_sphinx_patch,"#sys.path.insert(0, os.path.abspath('../..'))modindex_common_prefix = ['cue.']html_domain_indices = Truehtml_use_index = True","#sys.path.insert(0, os.path.abspath('.'))modindex_common_prefix = ['Cue.']html_domain_indices = Falsehtml_use_index = False",6,4
openstack%2Fnova~master~I13f875740d6c5ff82dbd0203d42987e10b38b1df,openstack/nova,master,I13f875740d6c5ff82dbd0203d42987e10b38b1df,Get settable user quota maximum correctly,MERGED,2014-12-10 07:12:36.000000000,2015-01-22 19:44:34.000000000,2015-01-22 19:44:31.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 6062}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 13689}]","[{'number': 1, 'created': '2014-12-10 07:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dac81c74b8a4bba53f5d6daa2ec849b43d0a157d', 'message': ""Get settable user quota maximum correctly\n\nWhen get a settable quota range for users, the variable 'setted_quotas'\nshould not given to get_user_quotas() as 'user_quota' because the\nmethod has a side effect.\n\nIf a user quota of a resource is not set, setted_quotas is expected not\nto contain the quota of the resource. However, if a project quota is\nset and a user quota is not set, the project quota value is added to\nthe setted_quotas in get_user_quotas(). This makes the settable maximum\nvalue incorrect.\n\nTo the unit test, the patch adds the case when the project quota for\nfloating_ip resource is set.\n\nChange-Id: I13f875740d6c5ff82dbd0203d42987e10b38b1df\nCloses-Bug: 1400945\n""}, {'number': 2, 'created': '2015-01-14 04:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/064e043630db33e8b883ff97ec9789702a04bd79', 'message': ""Get settable user quota maximum correctly\n\nWhen get a settable quota range for users, the variable 'setted_quotas'\nshould not given to get_user_quotas() as 'user_quota' because the\nmethod has a side effect.\n\nIf a user quota of a resource is not set, setted_quotas is expected not\nto contain the quota of the resource. However, if a project quota is\nset and a user quota is not set, the project quota value is added to\nthe setted_quotas in get_user_quotas(). This makes the settable maximum\nvalue incorrect.\n\nTo the unit test, the patch adds the case when the project quota for\nfloating_ip resource is set. The test mocks _process_quotas() instead\nof get_user_quotas() to check the side effect of get_user_quotas().\nThe assertion order is changed to confirm that the side effect makes\nthe settable maximum value incorrect without the patch.\n\nChange-Id: I13f875740d6c5ff82dbd0203d42987e10b38b1df\nCloses-Bug: 1400945\n""}, {'number': 3, 'created': '2015-01-16 02:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc44018a2a3df405910674f7789c0fcc0b73d8b6', 'message': ""Get settable user quota maximum correctly\n\nWhen get a settable quota range for users, the variable 'setted_quotas'\nshould not given to get_user_quotas() as 'user_quota' because the\nmethod has a side effect.\n\nIf a user quota of a resource is not set, setted_quotas is expected not\nto contain the quota of the resource. However, if a project quota is\nset and a user quota is not set, the project quota value is added to\nthe setted_quotas in get_user_quotas(). This makes the settable maximum\nvalue incorrect.\n\nTo the unit test, the patch adds the case when the project quota for\nfloating_ip resource is set. The test mocks _process_quotas() instead\nof get_user_quotas() to check the side effect of get_user_quotas().\nThe assertion order is changed to confirm that the side effect makes\nthe settable maximum value incorrect without the patch.\n\nChange-Id: I13f875740d6c5ff82dbd0203d42987e10b38b1df\nCloses-Bug: 1400945\n""}, {'number': 4, 'created': '2015-01-19 02:16:30.000000000', 'files': ['nova/tests/unit/test_quota.py', 'nova/quota.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/89856392a8ea045d9f2fd19ea1924742ef54eb9b', 'message': ""Get settable user quota maximum correctly\n\nGet_user_quota() has a side effect to the argument 'user_quota'. When\ngetting a settable quota range for a user, this method is called by\nget_settable_quotas(). Get_settable_quota() does not expect that the\nproject quota is set when the user quota is not set. The side effect\nmakes the settable maximum value incorrectly great.\n\nIn this patch, to avoid this side effect and an extra DB access,\nget_user_quota() copies the 'user_quota'.\n\nTo the unit test, the patch adds the case when the project quota for\nfloating_ip resource is set. The test mocks _process_quotas() instead\nof get_user_quotas() to check the side effect of get_user_quotas().\n\nChange-Id: I13f875740d6c5ff82dbd0203d42987e10b38b1df\nCloses-Bug: 1400945\n""}]",12,140595,89856392a8ea045d9f2fd19ea1924742ef54eb9b,57,15,4,13689,,,0,"Get settable user quota maximum correctly

Get_user_quota() has a side effect to the argument 'user_quota'. When
getting a settable quota range for a user, this method is called by
get_settable_quotas(). Get_settable_quota() does not expect that the
project quota is set when the user quota is not set. The side effect
makes the settable maximum value incorrectly great.

In this patch, to avoid this side effect and an extra DB access,
get_user_quota() copies the 'user_quota'.

To the unit test, the patch adds the case when the project quota for
floating_ip resource is set. The test mocks _process_quotas() instead
of get_user_quotas() to check the side effect of get_user_quotas().

Change-Id: I13f875740d6c5ff82dbd0203d42987e10b38b1df
Closes-Bug: 1400945
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/140595/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_quota.py', 'nova/quota.py']",2,dac81c74b8a4bba53f5d6daa2ec849b43d0a157d,bug/1400945, project_quotas=db_proj_quotas)," project_quotas=db_proj_quotas, user_quotas=setted_quotas)",24,4
openstack%2Fcinder~stable%2Fjuno~I62943427e0caac2742cce4ce56c1a49917f9210d,openstack/cinder,stable/juno,I62943427e0caac2742cce4ce56c1a49917f9210d,NetApp fix to set non default server port in api,MERGED,2015-01-06 14:48:52.000000000,2015-01-22 19:43:46.000000000,2015-01-22 19:43:44.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 7198}, {'_account_id': 9186}, {'_account_id': 10621}, {'_account_id': 12202}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 14259}]","[{'number': 1, 'created': '2015-01-06 14:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f949b5dac01835572ac90666827085e53db4f840', 'message': 'NetApp fix to set non default server port in api\n\nThe non default netapp_server_port config option was not\ngetting set in api even if specified in cinder.conf. Its\nmade non mandatory and set if specified in the configuration.\n\nChange-Id: I62943427e0caac2742cce4ce56c1a49917f9210d\nCloses-bug: #1322379\n(cherry picked from commit bfbc29f19037feb89408206625849bde14a7e84a)\n'}, {'number': 2, 'created': '2015-01-16 19:50:44.000000000', 'files': ['etc/cinder/cinder.conf.sample', 'cinder/tests/test_netapp_eseries_iscsi.py', 'cinder/tests/test_netapp_nfs.py', 'cinder/volume/drivers/netapp/nfs.py', 'cinder/volume/drivers/netapp/iscsi.py', 'cinder/volume/drivers/netapp/eseries/iscsi.py', 'cinder/volume/drivers/netapp/options.py', 'cinder/tests/test_netapp.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/215fb06640490d9d367320db6b9c4520993b0a6d', 'message': 'NetApp fix to set non default server port in api\n\nThe non default netapp_server_port config option was not\ngetting set in api even if specified in cinder.conf. Its\nmade non mandatory and set if specified in the configuration.\n\nChange-Id: I62943427e0caac2742cce4ce56c1a49917f9210d\nCloses-bug: #1322379\n(cherry picked from commit bfbc29f19037feb89408206625849bde14a7e84a)\n'}]",0,145239,215fb06640490d9d367320db6b9c4520993b0a6d,23,12,2,9366,,,0,"NetApp fix to set non default server port in api

The non default netapp_server_port config option was not
getting set in api even if specified in cinder.conf. Its
made non mandatory and set if specified in the configuration.

Change-Id: I62943427e0caac2742cce4ce56c1a49917f9210d
Closes-bug: #1322379
(cherry picked from commit bfbc29f19037feb89408206625849bde14a7e84a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/145239/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/cinder/cinder.conf.sample', 'cinder/tests/test_netapp_eseries_iscsi.py', 'cinder/tests/test_netapp_nfs.py', 'cinder/volume/drivers/netapp/nfs.py', 'cinder/volume/drivers/netapp/iscsi.py', 'cinder/tests/test_netapp.py', 'cinder/volume/drivers/netapp/eseries/iscsi.py', 'cinder/volume/drivers/netapp/options.py']",8,f949b5dac01835572ac90666827085e53db4f840,bug/1322379," default=None, 'system or proxy server. If not specified, Data ONTAP ' 'drivers will use 80 for HTTP and 443 for HTTPS; ' 'E-Series will use 8080 for HTTP and 8443 for HTTPS.')), ]"," default=80, 'system or proxy server. Traditionally, port 80 is used ' 'for HTTP and port 443 is used for HTTPS; however, this ' 'value should be changed if an alternate port has been ' 'configured on the storage system or proxy server.')), ]",204,25
openstack%2Ftempest~master~I740d7c20a7b3139b71d120f53bb4764cf51e95e3,openstack/tempest,master,I740d7c20a7b3139b71d120f53bb4764cf51e95e3,Remove CONF values from compute clients,MERGED,2015-01-16 08:17:53.000000000,2015-01-22 19:43:05.000000000,2015-01-22 19:43:03.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-16 08:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0b9a6d5e719070c8ad454e3ee34d14e734d6c24b', 'message': 'Remove CONF values from compute clients\n\nTo move compute clients to tempest-lib, this patch moves\nCONF values from compute clients to the client setting.\n\nChange-Id: I740d7c20a7b3139b71d120f53bb4764cf51e95e3\n'}, {'number': 2, 'created': '2015-01-19 05:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fb7681bf98261408415084592b3bd44d60b46f58', 'message': 'Remove CONF values from compute clients\n\nTo move compute clients to tempest-lib, this patch moves\nCONF values from compute clients to the client setting.\n\nChange-Id: I740d7c20a7b3139b71d120f53bb4764cf51e95e3\n'}, {'number': 3, 'created': '2015-01-19 06:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/25afc7fc58937329341af83427da83addfe37953', 'message': 'Remove CONF values from compute clients\n\nTo move compute clients to tempest-lib, this patch moves\nCONF values from compute clients to the client setting.\n\nChange-Id: I740d7c20a7b3139b71d120f53bb4764cf51e95e3\n'}, {'number': 4, 'created': '2015-01-19 08:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3275ff01c970609fcc387795a0ccc7fc93a624e5', 'message': 'Remove CONF values from compute clients\n\nTo move compute clients to tempest-lib, this patch moves\nCONF values from compute clients to the client setting.\n\nChange-Id: I740d7c20a7b3139b71d120f53bb4764cf51e95e3\n'}, {'number': 5, 'created': '2015-01-19 23:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/30cb5cd5e9e1e7aabd962e2c86121869c048be56', 'message': 'Remove CONF values from compute clients\n\nTo move compute clients to tempest-lib, this patch moves\nCONF values from compute clients to the client setting.\n\nChange-Id: I740d7c20a7b3139b71d120f53bb4764cf51e95e3\n'}, {'number': 6, 'created': '2015-01-20 01:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e541204eade7dfab4fffed99a71bc05e05015f0f', 'message': 'Remove CONF values from compute clients\n\nTo move compute clients to tempest-lib, this patch moves\nCONF values from compute clients to the client setting.\n\nChange-Id: I740d7c20a7b3139b71d120f53bb4764cf51e95e3\n'}, {'number': 7, 'created': '2015-01-21 01:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e1f6ce23260aa3b51b22a8f2f942df7224ccce3d', 'message': 'Remove CONF values from compute clients\n\nTo move compute clients to tempest-lib, this patch moves\nCONF values from compute clients to the client setting.\n\nChange-Id: I740d7c20a7b3139b71d120f53bb4764cf51e95e3\n'}, {'number': 8, 'created': '2015-01-22 04:27:38.000000000', 'files': ['tempest/services/compute/json/servers_client.py', 'tempest/services/compute/json/tenant_usages_client.py', 'tempest/services/compute/json/limits_client.py', 'tempest/services/compute/json/extensions_client.py', 'tempest/services/compute/json/images_client.py', 'tempest/cmd/javelin.py', 'tempest/services/compute/json/floating_ips_client.py', 'tempest/services/compute/json/instance_usage_audit_log_client.py', 'tempest/services/compute/json/hypervisor_client.py', 'tempest/services/compute/json/security_group_default_rules_client.py', 'tempest/services/compute/json/agents_client.py', 'tempest/services/compute/json/availability_zone_client.py', 'tempest/services/compute/json/fixed_ips_client.py', 'tempest/services/compute/json/keypairs_client.py', 'tempest/services/compute/json/certificates_client.py', 'tempest/services/compute/json/hosts_client.py', 'tempest/services/compute/json/interfaces_client.py', 'tempest/services/compute/json/migrations_client.py', 'tempest/services/compute/json/flavors_client.py', 'tempest/services/compute/json/base.py', 'tempest/services/compute/json/services_client.py', 'tempest/services/compute/json/aggregates_client.py', 'tempest/services/compute/json/networks_client.py', 'tempest/services/compute/json/security_groups_client.py', 'tempest/clients.py', 'tempest/services/compute/json/volumes_extensions_client.py', 'tempest/services/compute/json/quotas_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4771cbcefba4de42a901281cac7560397340cb6d', 'message': 'Remove CONF values from compute clients\n\nTo move compute clients to tempest-lib, this patch moves\nCONF values from compute clients to the client setting.\n\nChange-Id: I740d7c20a7b3139b71d120f53bb4764cf51e95e3\n'}]",1,147779,4771cbcefba4de42a901281cac7560397340cb6d,39,5,8,6167,,,0,"Remove CONF values from compute clients

To move compute clients to tempest-lib, this patch moves
CONF values from compute clients to the client setting.

Change-Id: I740d7c20a7b3139b71d120f53bb4764cf51e95e3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/79/147779/8 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/services/compute/json/servers_client.py', 'tempest/services/compute/json/tenant_usages_client.py', 'tempest/services/compute/json/limits_client.py', 'tempest/services/compute/json/extensions_client.py', 'tempest/services/compute/json/images_client.py', 'tempest/services/compute/json/floating_ips_client.py', 'tempest/services/compute/json/instance_usage_audit_log_client.py', 'tempest/services/compute/json/hypervisor_client.py', 'tempest/services/compute/json/security_group_default_rules_client.py', 'tempest/services/compute/json/agents_client.py', 'tempest/services/compute/json/availability_zone_client.py', 'tempest/services/compute/json/fixed_ips_client.py', 'tempest/services/compute/json/keypairs_client.py', 'tempest/services/compute/json/certificates_client.py', 'tempest/services/compute/json/hosts_client.py', 'tempest/services/compute/json/interfaces_client.py', 'tempest/services/compute/json/migrations_client.py', 'tempest/services/compute/json/flavors_client.py', 'tempest/services/compute/json/base.py', 'tempest/services/compute/json/services_client.py', 'tempest/services/compute/json/aggregates_client.py', 'tempest/services/compute/json/networks_client.py', 'tempest/services/compute/json/security_groups_client.py', 'tempest/clients.py', 'tempest/services/compute/json/volumes_extensions_client.py', 'tempest/services/compute/json/quotas_client.py']",26,0b9a6d5e719070c8ad454e3ee34d14e734d6c24b,service-client,from tempest.common import service_client class QuotasClientJSON(service_client.ServiceClient):class QuotaClassesClientJSON(service_client.ServiceClient):,from tempest.services.compute.json import base class QuotasClientJSON(base.ComputeClient):class QuotaClassesClientJSON(base.ComputeClient):,103,123
openstack%2Fnova~master~Ic4f4fb2411b2fddd98f95c24b815176dff3acb26,openstack/nova,master,Ic4f4fb2411b2fddd98f95c24b815176dff3acb26,VMware: snapshot as stream-optimized image,MERGED,2014-03-06 01:00:37.000000000,2015-01-22 19:42:36.000000000,2015-01-22 19:42:32.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7317}, {'_account_id': 8027}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-03-06 01:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3ca4a8345f816bc276227f096531dd3f55b0c88', 'message': 'vmwareapi: snapshot as stream-optimized image\n\nThis changes the behavior of the nova snapshot operation to upload\nthe snapshot as a stream-optimized vmdk disk.\nIt does so by takin a temporary VM snapshot of the instance VM, create a\nVM clone out of said snapshot, and using ExportVM of the clone to obtain\na HTTP stream of the stream-optimized disk.\n\nImplements: blueprint vmware-vsan-support\nChange-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26\n'}, {'number': 2, 'created': '2014-03-06 06:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e2d327998e95bc03aec121c3f7f5bbcbedff902', 'message': 'vmwareapi: snapshot as stream-optimized image\n\nThis changes the behavior of the nova snapshot operation to upload\nthe snapshot as a stream-optimized vmdk disk.\nIt does so by takin a temporary VM snapshot of the instance VM, create a\nVM clone out of said snapshot, and using ExportVM of the clone to obtain\na HTTP stream of the stream-optimized disk.\n\nImplements: blueprint vmware-vsan-support\nChange-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26\n'}, {'number': 3, 'created': '2014-03-13 07:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8327bf88955bd3338f96dd24e314cc03dd1bc151', 'message': 'vmwareapi: snapshot as stream-optimized image\n\nThis changes the behavior of the nova snapshot operation to upload\nthe snapshot as a stream-optimized vmdk disk.\nIt does so by takin a temporary VM snapshot of the instance VM, create a\nVM clone out of said snapshot, and using ExportVM of the clone to obtain\na HTTP stream of the stream-optimized disk.\n\nImplements: blueprint vmware-vsan-support\nChange-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26\n'}, {'number': 4, 'created': '2014-03-13 18:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30d7a96927ca37703389262bf3a069b37735271b', 'message': 'vmwareapi: snapshot as stream-optimized image\n\nThis changes the behavior of the nova snapshot operation to upload\nthe snapshot as a stream-optimized vmdk disk.\nIt does so by takin a temporary VM snapshot of the instance VM, create a\nVM clone out of said snapshot, and using ExportVM of the clone to obtain\na HTTP stream of the stream-optimized disk.\n\nImplements: blueprint vmware-vsan-support\nChange-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26\n'}, {'number': 5, 'created': '2014-03-25 04:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a17fd28eda0dff0cd7dfb44f3ee9016d109a080', 'message': 'vmwareapi: snapshot as stream-optimized image\n\nThis changes the behavior of the nova snapshot operation to upload\nthe snapshot as a stream-optimized vmdk disk.\nIt does so by takin a temporary VM snapshot of the instance VM, create a\nVM clone out of said snapshot, and using ExportVM of the clone to obtain\na HTTP stream of the stream-optimized disk.\n\nImplements: blueprint vmware-vsan-support\nChange-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26\n'}, {'number': 6, 'created': '2014-03-25 05:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/194556538add32f7bd21973c8354cf89b2c72b0d', 'message': 'vmwareapi: snapshot as stream-optimized image\n\nThis changes the behavior of the nova snapshot operation to upload\nthe snapshot as a stream-optimized vmdk disk.\nIt does so by takin a temporary VM snapshot of the instance VM, create a\nVM clone out of said snapshot, and using ExportVM of the clone to obtain\na HTTP stream of the stream-optimized disk.\n\nImplements: blueprint vmware-vsan-support\nChange-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26\n'}, {'number': 7, 'created': '2014-08-21 18:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21bc71de50592c48a63a56aef3128d459142efd8', 'message': 'VMware: snapshot as stream-optimized image\n\nThis changes the behavior of the nova snapshot operation to upload\nthe snapshot as a stream-optimized vmdk disk.\nIt does so by taking a temporary VM snapshot of the instance VM, create a\nVM linked clone out of said snapshot, and using ExportVM of the clone to\nobtain a HTTP stream of the stream-optimized disk.\n\nImplements: blueprint vmware-vsan-support\nChange-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26\n'}, {'number': 8, 'created': '2014-08-22 00:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db13f6dd863485860bef8743551a3ada8264123a', 'message': 'VMware: snapshot as stream-optimized image\n\nThis changes the behavior of the nova snapshot operation to upload\nthe snapshot as a stream-optimized vmdk disk.\nIt does so by taking a temporary VM snapshot of the instance VM, create a\nVM linked clone out of said snapshot, and using ExportVM of the clone to\nobtain a HTTP stream of the stream-optimized disk.\n\nImplements: blueprint vmware-vsan-support\nChange-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26\n'}, {'number': 9, 'created': '2014-10-23 14:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5a8707d232f4d185553d1cfdc84b9e40a232e95', 'message': 'VMware: snapshot as stream-optimized image\n\nThis changes the behavior of the nova snapshot operation to upload\nthe snapshot as a stream-optimized vmdk disk.\nIt does so by taking a temporary VM snapshot of the instance VM, create a\nVM linked clone out of said snapshot, and using ExportVM of the clone to\nobtain a HTTP stream of the stream-optimized disk.\n\nImplements: blueprint vmware-vsan-support\nCo-authored-by: Radoslav Gerganov <rgerganov@vmware.com>\n\nChange-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26\n'}, {'number': 10, 'created': '2014-10-24 12:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ca2e453fd2c2b56dfef0ea436f63aee832f60fa', 'message': 'VMware: snapshot as stream-optimized image\n\nThis changes the behavior of the nova snapshot operation to upload\nthe snapshot as a stream-optimized vmdk disk.\nIt does so by taking a temporary VM snapshot of the instance VM, create a\nVM linked clone out of said snapshot, and using ExportVM of the clone to\nobtain a HTTP stream of the stream-optimized disk.\n\nImplements: blueprint vmware-vsan-support\nCo-authored-by: Radoslav Gerganov <rgerganov@vmware.com>\n\nChange-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26\n'}, {'number': 11, 'created': '2014-10-24 14:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/587a2aadad093219bca21d45f0e56f2d5083e55b', 'message': 'VMware: snapshot as stream-optimized image\n\nThis changes the behavior of the nova snapshot operation to upload\nthe snapshot as a stream-optimized vmdk disk.\nIt does so by taking a temporary VM snapshot of the instance VM, create a\nVM linked clone out of said snapshot, and using ExportVM of the clone to\nobtain a HTTP stream of the stream-optimized disk.\n\nImplements: blueprint vmware-vsan-support\nCo-authored-by: Radoslav Gerganov <rgerganov@vmware.com>\n\nChange-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26\n'}, {'number': 12, 'created': '2014-11-19 14:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbd70d598af3630b1464aec86fc35ce797f99855', 'message': 'VMware: snapshot as stream-optimized image\n\nThis changes the behavior of the nova snapshot operation to upload\nthe snapshot as a stream-optimized vmdk disk.\nIt does so by taking a temporary VM snapshot of the instance VM, create a\nVM linked clone out of said snapshot, and using ExportVM of the clone to\nobtain a HTTP stream of the stream-optimized disk.\n\nImplements: blueprint vmware-vsan-support\nCo-authored-by: Radoslav Gerganov <rgerganov@vmware.com>\n\nChange-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26\n'}, {'number': 13, 'created': '2014-11-20 09:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cdc645511e6f28c44050f40949b2ce4290846401', 'message': 'VMware: snapshot as stream-optimized image\n\nThis changes the behavior of the nova snapshot operation to upload\nthe snapshot as a stream-optimized vmdk disk.\nIt does so by taking a temporary VM snapshot of the instance VM, create a\nVM linked clone out of said snapshot, and using ExportVM of the clone to\nobtain a HTTP stream of the stream-optimized disk.\n\nImplements: blueprint vmware-vsan-support\nCo-authored-by: Radoslav Gerganov <rgerganov@vmware.com>\n\nChange-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26\n'}, {'number': 14, 'created': '2014-12-01 09:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99c9f3ec2b0b274575b89a48eb5cd57a6194230d', 'message': 'VMware: snapshot as stream-optimized image\n\nThis changes the behavior of the nova snapshot operation to upload\nthe snapshot as a stream-optimized vmdk disk.\nIt does so by taking a temporary VM snapshot of the instance VM, create a\nVM linked clone out of said snapshot, and using ExportVM of the clone to\nobtain a HTTP stream of the stream-optimized disk.\n\nImplements: blueprint vmware-vsan-support\nCo-authored-by: Radoslav Gerganov <rgerganov@vmware.com>\n\nChange-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26\n'}, {'number': 15, 'created': '2014-12-03 12:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/749fdb6289a016543f8aae878f77cde7ed0efb8f', 'message': 'VMware: snapshot as stream-optimized image\n\nThis changes the behavior of the nova snapshot operation to upload\nthe snapshot as a stream-optimized vmdk disk.\nIt does so by taking a temporary VM snapshot of the instance VM, create a\nVM linked clone out of said snapshot, and using ExportVM of the clone to\nobtain a HTTP stream of the stream-optimized disk.\n\nImplements: blueprint vmware-vsan-support\nCo-authored-by: Radoslav Gerganov <rgerganov@vmware.com>\n\nChange-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26\n'}, {'number': 16, 'created': '2014-12-10 12:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f2ea431bbe6496fa293d4f87c0500fb1f2ef306', 'message': 'VMware: snapshot as stream-optimized image\n\nThis changes the behavior of the nova snapshot operation to upload\nthe snapshot as a stream-optimized vmdk disk.\nIt does so by taking a temporary VM snapshot of the instance VM, create a\nVM linked clone out of said snapshot, and using ExportVM of the clone to\nobtain a HTTP stream of the stream-optimized disk.\n\nImplements: blueprint vmware-vsan-support\nCo-authored-by: Radoslav Gerganov <rgerganov@vmware.com>\n\nChange-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26\n'}, {'number': 17, 'created': '2014-12-12 12:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cafa4cfa7ac4ecf21f367d23c5019a02658e021a', 'message': 'VMware: snapshot as stream-optimized image\n\nThis changes the behavior of the nova snapshot operation to upload\nthe snapshot as a stream-optimized vmdk disk.\nIt does so by taking a temporary VM snapshot of the instance VM, create a\nVM linked clone out of said snapshot, and using ExportVM of the clone to\nobtain a HTTP stream of the stream-optimized disk.\n\nImplements: blueprint vmware-vsan-support\nCo-authored-by: Radoslav Gerganov <rgerganov@vmware.com>\n\nChange-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26\n'}, {'number': 18, 'created': '2014-12-17 07:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da168eb61a9a61303765dd09ca8b9b11c79df676', 'message': 'VMware: snapshot as stream-optimized image\n\nThis changes the behavior of the nova snapshot operation to upload\nthe snapshot as a stream-optimized vmdk disk.\nIt does so by taking a temporary VM snapshot of the instance VM, create a\nVM linked clone out of said snapshot, and using ExportVM of the clone to\nobtain a HTTP stream of the stream-optimized disk.\n\nImplements: blueprint vmware-vsan-support\nCo-authored-by: Radoslav Gerganov <rgerganov@vmware.com>\n\nChange-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26\n'}, {'number': 19, 'created': '2015-01-06 15:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/941e593391aaaca54318792723dbbc5fef332073', 'message': 'VMware: snapshot as stream-optimized image\n\nThis changes the behavior of the nova snapshot operation to upload\nthe snapshot as a stream-optimized vmdk disk.\nIt does so by taking a temporary VM snapshot of the instance VM, create a\nVM linked clone out of said snapshot, and using ExportVM of the clone to\nobtain a HTTP stream of the stream-optimized disk.\n\nImplements: blueprint vmware-vsan-support\nCo-authored-by: Radoslav Gerganov <rgerganov@vmware.com>\n\nChange-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26\n'}, {'number': 20, 'created': '2015-01-19 09:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3bfe078e7c4ae560e249b8a3797f53573c5a080', 'message': 'VMware: snapshot as stream-optimized image\n\nThis changes the behavior of the nova snapshot operation to upload\nthe snapshot as a stream-optimized vmdk disk.\nIt does so by taking a temporary VM snapshot of the instance VM, create a\nVM linked clone out of said snapshot, and using ExportVM of the clone to\nobtain a HTTP stream of the stream-optimized disk.\n\nImplements: blueprint vmware-vsan-support\nCo-authored-by: Radoslav Gerganov <rgerganov@vmware.com>\n\nChange-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26\n'}, {'number': 21, 'created': '2015-01-19 10:05:50.000000000', 'files': ['nova/tests/unit/virt/vmwareapi/stubs.py', 'nova/virt/vmwareapi/vmops.py', 'nova/tests/unit/virt/vmwareapi/fake.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/virt/vmwareapi/io_util.py', 'nova/virt/vmwareapi/vm_util.py', 'nova/virt/vmwareapi/images.py', 'nova/virt/vmwareapi/constants.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/806bdaf94794532132a933c170520629da4ceb0e', 'message': 'VMware: snapshot as stream-optimized image\n\nThis changes the behavior of the nova snapshot operation to upload\nthe snapshot as a stream-optimized vmdk disk.\nIt does so by taking a temporary VM snapshot of the instance VM, create a\nVM linked clone out of said snapshot, and using ExportVM of the clone to\nobtain a HTTP stream of the stream-optimized disk.\n\nImplements: blueprint vmware-vsan-support\nCo-authored-by: Radoslav Gerganov <rgerganov@vmware.com>\n\nChange-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26\n'}]",23,78488,806bdaf94794532132a933c170520629da4ceb0e,189,16,21,8027,,,0,"VMware: snapshot as stream-optimized image

This changes the behavior of the nova snapshot operation to upload
the snapshot as a stream-optimized vmdk disk.
It does so by taking a temporary VM snapshot of the instance VM, create a
VM linked clone out of said snapshot, and using ExportVM of the clone to
obtain a HTTP stream of the stream-optimized disk.

Implements: blueprint vmware-vsan-support
Co-authored-by: Radoslav Gerganov <rgerganov@vmware.com>

Change-Id: Ic4f4fb2411b2fddd98f95c24b815176dff3acb26
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/78488/11 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/volumeops.py', 'nova/tests/virt/vmwareapi/stubs.py', 'nova/virt/vmwareapi/vmware_images.py', 'nova/virt/vmwareapi/fake.py', 'nova/virt/vmwareapi/vm_util.py', 'nova/tests/virt/vmwareapi/test_vm_util.py', 'nova/tests/virt/vmwareapi/test_driver_api.py']",8,d3ca4a8345f816bc276227f096531dd3f55b0c88,bp/vmware-vsan-support," def mock_upload_image(self, context, timeout_secs, image_service, image_id, owner_id, **kwargs): self.assertEqual(image_id, 'Test-Snapshot') self.assertEqual(kwargs['is_public'], False) self.assertEqual(kwargs['vmdk_size'], 1024) self.assertEqual(kwargs['image_version'], 1) self.assertEqual(kwargs['image_name'], ""fake-snapshot-name"") self.assertEqual(owner_id, self.project_id) snapshot_ref = vmwareapi_fake.ManagedObjectReference( value=""Snapshot-123"", name=""VirtualMachineSnapshot"") self.mox.StubOutWithMock(vmops.VMwareVMOps, '_create_vm_snapshot') self.conn._vmops._create_vm_snapshot( mox.IgnoreArg(), mox.IgnoreArg()).AndReturn(snapshot_ref) snapshot_vm_ref = vmwareapi_fake.ManagedObjectReference( value=""VM-From-Snapshot-123"", name=""VirtualMachine"") self.mox.StubOutWithMock(vmops.VMwareVMOps, '_create_linked_clone_from_snapshot') self.conn._vmops._create_linked_clone_from_snapshot( mox.IgnoreArg(), mox.IgnoreArg(), snapshot_ref).AndReturn(snapshot_vm_ref) self.mox.StubOutWithMock(vmops.VMwareVMOps, '_destroy_vm') self.conn._vmops._destroy_vm(mox.IgnoreArg(), snapshot_vm_ref) self.mox.StubOutWithMock(vmops.VMwareVMOps, '_delete_vm_snapshot') self.conn._vmops._delete_vm_snapshot( mox.IgnoreArg(), mox.IgnoreArg(), snapshot_ref).AndReturn(None) self.mox.ReplayAll() image_meta = vmwareapi_fake.FakeObject() image_meta['name'] = ""fake-snapshot-name"" image_meta['is_public'] = False with mock.patch.object(nova.tests.image.fake._FakeImageService, 'show', return_value=image_meta): with mock.patch.object(image_transfer, 'upload_image', self.mock_upload_image): self.conn.snapshot(self.context, self.instance, ""Test-Snapshot"", func_call_matcher.call)"," def mock_upload_image(self, context, image, instance, **kwargs): self.assertEqual(image, 'Test-Snapshot') self.assertEqual(instance, self.instance) self.assertEqual(kwargs['disk_type'], 'preallocated') with mock.patch.object(vmware_images, 'upload_image', self.mock_upload_image): self.conn.snapshot(self.context, self.instance, ""Test-Snapshot"", func_call_matcher.call) # Ensure VMwareVCVMOps's get_copy_virtual_disk_spec is getting called # two times self.conn._vmops.get_copy_virtual_disk_spec( mox.IgnoreArg(), mox.IgnoreArg(), mox.IgnoreArg()).AndReturn(None) def test_snapshot_using_file_manager(self): self._create_vm() uuid_str = uuidutils.generate_uuid() self.mox.StubOutWithMock(uuidutils, 'generate_uuid') uuidutils.generate_uuid().AndReturn(uuid_str) self.mox.StubOutWithMock(vmops.VMwareVMOps, '_delete_datastore_file') # Check calls for delete vmdk and -flat.vmdk pair self.conn._vmops._delete_datastore_file( mox.IgnoreArg(), ""[%s] vmware_temp/%s-flat.vmdk"" % (self.ds, uuid_str), mox.IgnoreArg()).AndReturn(None) self.conn._vmops._delete_datastore_file( mox.IgnoreArg(), ""[%s] vmware_temp/%s.vmdk"" % (self.ds, uuid_str), mox.IgnoreArg()).AndReturn(None) self.mox.ReplayAll() self._test_snapshot() ",210,289
openstack%2Fnova~master~Ib25aec46e279a5f4f7edbaeb70997d283286d36b,openstack/nova,master,Ib25aec46e279a5f4f7edbaeb70997d283286d36b,Add to_dict() method to PciDevicePool object,MERGED,2015-01-20 16:33:51.000000000,2015-01-22 19:42:01.000000000,2015-01-22 19:41:58.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 642}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-20 16:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f366781cd4372dc857730fd05be772d5d0874ec', 'message': 'Add to_dict() method to PciDevicePool object\n\nBefore using the ComputeNode object in the HostManager, we need to provide\na backwards compatibility method for transforming a PciDevicePool object back\ninto a compatible dictionary.\n\nPartially-Implements: blueprint detach-service-from-computenode\n\nChange-Id: Ib25aec46e279a5f4f7edbaeb70997d283286d36b\n'}, {'number': 2, 'created': '2015-01-21 15:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ecfa673bb9e2cdf7b772539e13ea0fe7c5b839da', 'message': 'Add to_dict() method to PciDevicePool object\n\nBefore using the ComputeNode object in the HostManager, we need to provide\na backwards compatibility method for transforming a PciDevicePool object back\ninto a compatible dictionary.\n\nPartially-Implements: blueprint detach-service-from-computenode\n\nChange-Id: Ib25aec46e279a5f4f7edbaeb70997d283286d36b\n'}, {'number': 3, 'created': '2015-01-21 15:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c21389cf67478a76e6a7156e14bd291f148f43e', 'message': 'Add to_dict() method to PciDevicePool object\n\nBefore using the ComputeNode object in the HostManager, we need to provide\na backwards compatibility method for transforming a PciDevicePool object back\ninto a compatible dictionary.\n\nPartially-Implements: blueprint detach-service-from-computenode\n\nChange-Id: Ib25aec46e279a5f4f7edbaeb70997d283286d36b\n'}, {'number': 4, 'created': '2015-01-22 12:54:30.000000000', 'files': ['nova/tests/unit/objects/test_pci_device_pool.py', 'nova/objects/pci_device_pool.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9db1642e867deb2bea54a3c1a76e52b0480cc30c', 'message': 'Add to_dict() method to PciDevicePool object\n\nBefore using the ComputeNode object in the HostManager, we need to provide\na backwards compatibility method for transforming a PciDevicePool object back\ninto a compatible dictionary.\n\nPartially-Implements: blueprint detach-service-from-computenode\n\nChange-Id: Ib25aec46e279a5f4f7edbaeb70997d283286d36b\n'}]",6,148621,9db1642e867deb2bea54a3c1a76e52b0480cc30c,36,11,4,7166,,,0,"Add to_dict() method to PciDevicePool object

Before using the ComputeNode object in the HostManager, we need to provide
a backwards compatibility method for transforming a PciDevicePool object back
into a compatible dictionary.

Partially-Implements: blueprint detach-service-from-computenode

Change-Id: Ib25aec46e279a5f4f7edbaeb70997d283286d36b
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/148621/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_pci_device_pool.py', 'nova/objects/compute_node.py', 'nova/objects/service.py', 'nova/objects/pci_device_pool.py']",5,1f366781cd4372dc857730fd05be772d5d0874ec,bp/detach-service-from-computenode," # Version 1.1: Added to_dict() VERSION = '1.1' # NOTE(sbauza): Before using objects, pci stats was a list of # dictionaries not having tags. For compatibility with other modules, let's # create a reversible method def to_dict(self): pci_pool = base.obj_to_primitive(self) tags = pci_pool.pop('tags', None) for k, v in six.iteritems(tags): pci_pool[k] = v return pci_pool # Version 1.1: PciDevicePool 1.1 VERSION = '1.1' '1.1': '1.1',", VERSION = '1.0' VERSION = '1.0',49,16
openstack%2Fnova~master~Id4822ca0a902b35396025bde2a16411a02c46e0e,openstack/nova,master,Id4822ca0a902b35396025bde2a16411a02c46e0e,Update network resource when rescheduling instance,MERGED,2014-06-06 09:23:36.000000000,2015-01-22 19:39:21.000000000,2015-01-22 19:39:18.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 360}, {'_account_id': 642}, {'_account_id': 679}, {'_account_id': 1063}, {'_account_id': 1653}, {'_account_id': 2271}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 7166}, {'_account_id': 7461}, {'_account_id': 7641}, {'_account_id': 8412}, {'_account_id': 8430}, {'_account_id': 8871}, {'_account_id': 8922}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 9693}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10614}, {'_account_id': 10618}, {'_account_id': 11103}, {'_account_id': 12175}, {'_account_id': 12287}]","[{'number': 1, 'created': '2014-06-06 09:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/850902f5a757f1e56566d523b36229d3ea5ae7a4', 'message': ""Update instance's port binding-host when rescheduling\n\nWhen instance failed after first scheduling, the network may\nalready allocated. When rescheduling this instance again,\nthe port binding-host should be updated\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 2, 'created': '2014-06-07 02:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e60234eb41e56ab1b57b493f80833b0dd9b581f', 'message': ""Update instance's port binding-host when rescheduling\n\nWhen instance failed after first scheduling, the network may\nalready allocated. When rescheduling this instance again,\nthe port binding-host should be updated\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 3, 'created': '2014-06-10 07:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9edd9c800963523dd052816fa4a3f206dafbeef', 'message': ""Update instance's port binding-host when rescheduling\n\nWhen instance failed after first scheduling, the network may\nalready allocated. When rescheduling this instance again,\nthe port binding-host should be updated\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 4, 'created': '2014-06-10 13:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0a6ca26b7c790c3d66ac46b6ed3d9dab9b95b85', 'message': ""Update instance's port binding-host when rescheduling\n\nWhen instance failed after first scheduling, the network may\nalready allocated. When rescheduling this instance again,\nthe port binding-host should be updated\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 5, 'created': '2014-07-23 02:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0eb189cc5ec240ffe42d708d99ebfdc14d11c495', 'message': ""Update instance's port binding-host when rescheduling\n\nWhen instance failed after first scheduling, the network may\nalready allocated. When rescheduling this instance again,\nthe port binding-host should be updated\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 6, 'created': '2014-07-31 06:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/946cdd1e8f7106c9895c104a92bc89be7f264ff1', 'message': ""Update instance's port binding-host when rescheduling\n\nWhen instance failed after first scheduling, the network may\nalready allocated. When rescheduling this instance again,\nthe network resource need update both for neutron and nova\nnetwork.\n\nFor neutron, the port binding need update.\nFor nova-network with multihost, the floating ip should be removed.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 7, 'created': '2014-08-06 07:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26a704985b0afb84c47d83beb6d2a8550f770f14', 'message': ""Update instance's port binding-host when rescheduling\n\nWhen instance failed after first scheduling, the network may\nalready allocated. When rescheduling this instance again,\nthe network resource need update both for neutron and nova\nnetwork.\n\nFor neutron, the port binding need update.\nFor nova-network with multihost, the floating ip should be removed.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 8, 'created': '2014-08-07 03:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13f0228872ac3f290cc94f8c180ab1aca1b6ba48', 'message': ""Update instance's port binding-host when rescheduling\n\nWhen instance failed after first scheduling, the network may\nalready allocated. When rescheduling this instance again,\nthe network resource need update both for neutron and nova\nnetwork.\n\nFor neutron, the port binding need update.\nFor nova-network with multihost, the floating ip should be removed.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 9, 'created': '2014-08-07 05:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b69e4ef04f18a7b39d7eee1f496028a61ea894e', 'message': ""Update instance's port binding-host when rescheduling\n\nWhen instance failed after first scheduling, the network may\nalready allocated. When rescheduling this instance again,\nthe network resource need update both for neutron and nova\nnetwork.\n\nFor neutron, the port binding need update.\nFor nova-network with multihost, the floating ip should be removed.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 10, 'created': '2014-08-25 10:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a2738732a0a8c7e84bd87bd20fdf5c15e4bf82b', 'message': ""Update instance's port binding-host when rescheduling\n\nWhen instance failed after first scheduling, the network may\nalready allocated. When rescheduling this instance again,\nthe network resource need update both for neutron and nova\nnetwork.\n\nFor neutron, the port binding need update.\nFor nova-network with multihost, the floating ip should be removed.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 11, 'created': '2014-08-25 11:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e59a8f4250f55b876d7963e3be9146c62942e013', 'message': ""Update instance's port binding-host when rescheduling\n\nWhen instance failed after first scheduling, the network may\nalready allocated. When rescheduling this instance again,\nthe network resource need update both for neutron and nova\nnetwork.\n\nFor neutron, the port binding need update.\nFor nova-network with multihost, the floating ip should be removed.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 12, 'created': '2014-09-15 11:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d98981b702283549615728380ceefdc168a7273', 'message': ""Update instance's port binding-host when rescheduling\n\nWhen instance failed after first scheduling, the network may\nalready allocated. When rescheduling this instance again,\nthe network resource need update both for neutron and nova\nnetwork.\n\nFor neutron, the port binding need update.\nFor nova-network with multihost, the floating ip should be removed.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 13, 'created': '2014-09-18 06:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dff9a16608c4d30c8a3d214b6ad08b0badabe82e', 'message': ""Update instance's port binding-host when rescheduling\n\nWhen instance failed after first scheduling, the network may\nalready allocated. When rescheduling this instance again,\nthe network resource need update both for neutron and nova\nnetwork.\n\nFor neutron, the port binding need update.\nFor nova-network with multihost, the floating ip should be removed.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 14, 'created': '2014-09-26 03:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c605077e210b81ea754b92b4d19c9a3a63e5ed59', 'message': ""Update instance's port binding-host when rescheduling\n\nWhen instance failed after first scheduling, the network maybe\nalready allocated. When rescheduling this instance again,\nthe network resource need update both for neutron and nova\nnetwork.\n\nFor neutron, the port binding need update.\nFor nova-network with multihost, the floating ip should be removed.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 15, 'created': '2014-09-29 12:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f099fc2988c36988eac3b12b63da5de7d7cbc223', 'message': ""Update network resource when rescheduling instance\n\nWhen instance building failed, compute manager will try to reschedule\nthe failed instance. If the network resource already allocated before\nfailed, the network resource need update at current compute node and\nnext compute node.\n\nBefore rescheduling the failed instance, for nova-network with multihost,\nbecause the network already setup on the compute node, the floating ip\nshould be cleanup at compute node.\n\nAfter rescheduling, because the network already allocated, then compute\nmanager won't allocate network again. For neutron, the port binding info\nneed update to new compute node. For nova-network with multihost, the\nfloating ip should be setup on the new compute node.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 16, 'created': '2014-10-08 05:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb1f71d493685d3d7a275b07a529cd67d0b32729', 'message': ""Update network resource when rescheduling instance\n\nWhen instance building failed, compute manager will try to reschedule\nthe failed instance. If the network resource already allocated before\nfailed, the network resource need update at current compute node and\nnext compute node.\n\nBefore rescheduling the failed instance, for nova-network with multihost,\nbecause the network already setup on the compute node, the floating ip\nshould be cleanup at compute node.\n\nAfter rescheduling, because the network already allocated, then compute\nmanager won't allocate network again. For neutron, the port binding info\nneed update to new compute node. For nova-network with multihost, the\nfloating ip should be setup on the new compute node.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 17, 'created': '2014-10-13 03:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/733ea273babee176ff8b1d94b557548119f61422', 'message': ""Update network resource when rescheduling instance\n\nWhen instance building failed, compute manager will try to reschedule\nthe failed instance. If the network resource already allocated before\nfailed, the network resource need update at current compute node and\nnext compute node.\n\nBefore rescheduling the failed instance, for nova-network with multihost,\nbecause the network already setup on the compute node, the floating ip\nshould be cleanup at compute node.\n\nAfter rescheduling, because the network already allocated, then compute\nmanager won't allocate network again. For neutron, the port binding info\nneed update to new compute node. For nova-network with multihost, the\nfloating ip should be setup on the new compute node.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 18, 'created': '2014-10-21 02:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf442b2fec9ce68de7a9f7a69ce9e860d6ff2e25', 'message': ""Update network resource when rescheduling instance\n\nWhen instance building failed, compute manager will try to reschedule\nthe failed instance. If the network resource already allocated before\nfailed, the network resource need update at current compute node and\nnext compute node.\n\nBefore rescheduling the failed instance, for nova-network with multihost,\nbecause the network already setup on the compute node, the floating ip\nshould be cleanup at compute node.\n\nAfter rescheduling, because the network already allocated, then compute\nmanager won't allocate network again. For neutron, the port binding info\nneed update to new compute node. For nova-network with multihost, the\nfloating ip should be setup on the new compute node.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 19, 'created': '2014-11-05 08:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97e0f98ef465c43d0b2adfacd3edc91d223d03b0', 'message': ""Update network resource when rescheduling instance\n\nWhen instance building failed, compute manager will try to reschedule\nthe failed instance. If the network resource already allocated before\nfailed, the network resource need update at current compute node and\nnext compute node.\n\nBefore rescheduling the failed instance, for nova-network with multihost,\nbecause the network already setup on the compute node, the floating ip\nshould be cleanup at compute node.\n\nAfter rescheduling, because the network already allocated, then compute\nmanager won't allocate network again. For neutron, the port binding info\nneed update to new compute node. For nova-network with multihost, the\nfloating ip should be setup on the new compute node.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 20, 'created': '2014-11-13 10:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7163c57ecbcb80fc6f74dd3bfd425c023083e76', 'message': ""Update network resource when rescheduling instance\n\nWhen instance building failed, compute manager will try to reschedule\nthe failed instance. If the network resource already allocated before\nfailed, the network resource need update at current compute node and\nnext compute node.\n\nBefore rescheduling the failed instance, for nova-network with multihost,\nbecause the network already setup on the compute node, the floating ip\nshould be cleanup at compute node.\n\nAfter rescheduling, because the network already allocated, then compute\nmanager won't allocate network again. For neutron, the port binding info\nneed update to new compute node. For nova-network with multihost, the\nfloating ip should be setup on the new compute node.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 21, 'created': '2014-11-17 08:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/262fb00d9563ed38bcfaa73689d86d2a3ca8d997', 'message': ""Update network resource when rescheduling instance\n\nWhen instance building failed, compute manager will try to reschedule\nthe failed instance. If the network resource already allocated before\nfailed, the network resource need update at current compute node and\nnext compute node.\n\nBefore rescheduling the failed instance, for nova-network with multihost,\nbecause the network already setup on the compute node, the floating ip\nshould be cleanup at compute node.\n\nAfter rescheduling, because the network already allocated, then compute\nmanager won't allocate network again. For neutron, the port binding info\nneed update to new compute node. For nova-network with multihost, the\nfloating ip should be setup on the new compute node.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 22, 'created': '2014-12-10 01:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b81bc93cec8ea9e9e8fe9fc6da15b3cd2e5c0b33', 'message': ""Update network resource when rescheduling instance\n\nWhen instance building failed, compute manager will try to reschedule\nthe failed instance. If the network resource already allocated before\nfailed, the network resource need update at current compute node and\nnext compute node.\n\nBefore rescheduling the failed instance, for nova-network with multihost,\nbecause the network already setup on the compute node, the floating ip\nshould be cleanup at compute node.\n\nAfter rescheduling, because the network already allocated, then compute\nmanager won't allocate network again. For neutron, the port binding info\nneed update to new compute node. For nova-network with multihost, the\nfloating ip should be setup on the new compute node.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 23, 'created': '2014-12-10 07:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15c41231222e34e4c5312e3fbfb44f9be7b82478', 'message': ""Update network resource when rescheduling instance\n\nWhen instance building failed, compute manager will try to reschedule\nthe failed instance. If the network resource already allocated before\nfailed, the network resource need update at current compute node and\nnext compute node.\n\nBefore rescheduling the failed instance, for nova-network with multihost,\nbecause the network already setup on the compute node, the floating ip\nshould be cleanup at compute node.\n\nAfter rescheduling, because the network already allocated, then compute\nmanager won't allocate network again. For neutron, the port binding info\nneed update to new compute node. For nova-network with multihost, the\nfloating ip should be setup on the new compute node.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 24, 'created': '2014-12-10 11:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/847d68dee84e7f8d2bfea60a8ad7f592c354e3ff', 'message': ""Update network resource when rescheduling instance\n\nWhen instance building failed, compute manager will try to reschedule\nthe failed instance. If the network resource already allocated before\nfailed, the network resource need update at current compute node and\nnext compute node.\n\nBefore rescheduling the failed instance, for nova-network with multihost,\nbecause the network already setup on the compute node, the floating ip\nshould be cleanup at compute node.\n\nAfter rescheduling, because the network already allocated, then compute\nmanager won't allocate network again. For neutron, the port binding info\nneed update to new compute node. For nova-network with multihost, the\nfloating ip should be setup on the new compute node.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 25, 'created': '2014-12-15 09:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0131b0415753d17a018bce22f01f597c2a57d1c9', 'message': ""Update network resource when rescheduling instance\n\nWhen instance building failed, compute manager will try to reschedule\nthe failed instance. If the network resource already allocated before\nfailed, the network resource need update at current compute node and\nnext compute node.\n\nBefore rescheduling the failed instance, for nova-network with multihost,\nbecause the network already setup on the compute node, the floating ip\nshould be cleanup at compute node.\n\nAfter rescheduling, because the network already allocated, then compute\nmanager won't allocate network again. For neutron, the port binding info\nneed update to new compute node. For nova-network with multihost, the\nfloating ip should be setup on the new compute node.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 26, 'created': '2014-12-17 05:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7eba414fb706c2bc1a2512160ab2b1b08e34e8a8', 'message': ""Update network resource when rescheduling instance\n\nWhen instance building failed, compute manager will try to reschedule\nthe failed instance. If the network resource already allocated before\nfailed, the network resource need update at current compute node and\nnext compute node.\n\nBefore rescheduling the failed instance, for nova-network with multihost,\nbecause the network already setup on the compute node, the floating ip\nshould be cleanup at compute node.\n\nAfter rescheduling, because the network already allocated, then compute\nmanager won't allocate network again. For neutron, the port binding info\nneed update to new compute node. For nova-network with multihost, the\nfloating ip should be setup on the new compute node.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 27, 'created': '2014-12-17 05:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb1de11e20b5f46c8b24bb08d4924f07d8d05240', 'message': ""Update network resource when rescheduling instance\n\nWhen instance building failed, compute manager will try to reschedule\nthe failed instance. If the network resource already allocated before\nfailed, the network resource need update at current compute node and\nnext compute node.\n\nBefore rescheduling the failed instance, for nova-network with multihost,\nbecause the network already setup on the compute node, the floating ip\nshould be cleanup at compute node.\n\nAfter rescheduling, because the network already allocated, then compute\nmanager won't allocate network again. For neutron, the port binding info\nneed update to new compute node. For nova-network with multihost, the\nfloating ip should be setup on the new compute node.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 28, 'created': '2014-12-19 03:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f039cc10dd7f3cfca7111bb5aab87b350e1b5b0b', 'message': ""Update network resource when rescheduling instance\n\nWhen instance building failed, compute manager will try to reschedule\nthe failed instance. If the network resource already allocated before\nfailed, the network resource need update at current compute node and\nnext compute node.\n\nBefore rescheduling the failed instance, for nova-network with multihost,\nbecause the network already setup on the compute node, the floating ip\nshould be cleanup at compute node.\n\nAfter rescheduling, because the network already allocated, then compute\nmanager won't allocate network again. For neutron, the port binding info\nneed update to new compute node. For nova-network with multihost, the\nfloating ip should be setup on the new compute node.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 29, 'created': '2014-12-22 09:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/acb803e84999ad2b6f108c7a14af52c2acdad44a', 'message': ""Update network resource when rescheduling instance\n\nWhen instance building failed, compute manager will try to reschedule\nthe failed instance. If the network resource already allocated before\nfailed, the network resource need update at current compute node and\nnext compute node.\n\nBefore rescheduling the failed instance, for nova-network with multihost,\nbecause the network already setup on the compute node, the floating ip\nshould be cleanup at compute node.\n\nAfter rescheduling, because the network already allocated, then compute\nmanager won't allocate network again. For neutron, the port binding info\nneed update to new compute node. For nova-network with multihost, the\nfloating ip should be setup on the new compute node.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 30, 'created': '2015-01-19 13:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94c8baec55ddba46e66f82528510d3c87224c003', 'message': ""Update network resource when rescheduling instance\n\nWhen instance building failed, compute manager will try to reschedule\nthe failed instance. If the network resource already allocated before\nfailed, the network resource need update at current compute node and\nnext compute node.\n\nBefore rescheduling the failed instance, for nova-network with multihost,\nbecause the network already setup on the compute node, the floating ip\nshould be cleanup at compute node.\n\nAfter rescheduling, because the network already allocated, then compute\nmanager won't allocate network again. For neutron, the port binding info\nneed update to new compute node. For nova-network with multihost, the\nfloating ip should be setup on the new compute node.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 31, 'created': '2015-01-21 14:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/284a6c5ebbc69a9bebb962dc9eeff55a52e8826e', 'message': ""Update network resource when rescheduling instance\n\nWhen instance building failed, compute manager will try to reschedule\nthe failed instance. If the network resource already allocated before\nfailed, the network resource need update at current compute node and\nnext compute node.\n\nBefore rescheduling the failed instance, for nova-network with multihost,\nbecause the network already setup on the compute node, the floating ip\nshould be cleanup at compute node.\n\nAfter rescheduling, because the network already allocated, then compute\nmanager won't allocate network again. For neutron, the port binding info\nneed update to new compute node. For nova-network with multihost, the\nfloating ip should be setup on the new compute node.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}, {'number': 32, 'created': '2015-01-21 14:54:40.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/05cd4824a9749c6067bb3eddc0994126d8940941', 'message': ""Update network resource when rescheduling instance\n\nWhen instance building failed, compute manager will try to reschedule\nthe failed instance. If the network resource already allocated before\nfailed, the network resource need update at current compute node and\nnext compute node.\n\nBefore rescheduling the failed instance, for nova-network with multihost,\nbecause the network already setup on the compute node, the floating ip\nshould be cleanup at compute node.\n\nAfter rescheduling, because the network already allocated, then compute\nmanager won't allocate network again. For neutron, the port binding info\nneed update to new compute node. For nova-network with multihost, the\nfloating ip should be setup on the new compute node.\n\nChange-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e\nCloses-Bug: #1327124\n""}]",32,98340,05cd4824a9749c6067bb3eddc0994126d8940941,330,30,32,5754,,,0,"Update network resource when rescheduling instance

When instance building failed, compute manager will try to reschedule
the failed instance. If the network resource already allocated before
failed, the network resource need update at current compute node and
next compute node.

Before rescheduling the failed instance, for nova-network with multihost,
because the network already setup on the compute node, the floating ip
should be cleanup at compute node.

After rescheduling, because the network already allocated, then compute
manager won't allocate network again. For neutron, the port binding info
need update to new compute node. For nova-network with multihost, the
floating ip should be setup on the new compute node.

Change-Id: Id4822ca0a902b35396025bde2a16411a02c46e0e
Closes-Bug: #1327124
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/98340/32 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,850902f5a757f1e56566d523b36229d3ea5ae7a4,(detached," self.network_api.migrate_instance_finish(context, instance, {'dest_compute': instance.host, 'source_compute': ''})",,6,0
openstack%2Fec2-api~master~Ib79427222446b5ad22b3940b45d12c7671f0c735,openstack/ec2-api,master,Ib79427222446b5ad22b3940b45d12c7671f0c735,fix ip address accounting,MERGED,2015-01-22 12:37:02.000000000,2015-01-22 19:37:22.000000000,2015-01-22 19:37:21.000000000,"[{'_account_id': 3}, {'_account_id': 9312}, {'_account_id': 10224}]","[{'number': 1, 'created': '2015-01-22 12:37:02.000000000', 'files': ['ec2api/api/subnet.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/8e17e357359f5608a4eb0fb9466fbe47ab5568c5', 'message': 'fix ip address accounting\n\nChange-Id: Ib79427222446b5ad22b3940b45d12c7671f0c735\n'}]",0,149235,8e17e357359f5608a4eb0fb9466fbe47ab5568c5,6,3,1,10234,,,0,"fix ip address accounting

Change-Id: Ib79427222446b5ad22b3940b45d12c7671f0c735
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/35/149235/1 && git format-patch -1 --stdout FETCH_HEAD,['ec2api/api/subnet.py'],1,8e17e357359f5608a4eb0fb9466fbe47ab5568c5,, if port['device_owner'] == 'network:dhcp': dhcp_port_accounted = True, if port['device_owner'] == 'network:dhcp': dhcp_port_accounted = True,2,2
openstack%2Fec2-api~master~If6a650190f2672a450c39fd9275290b03b47d6be,openstack/ec2-api,master,If6a650190f2672a450c39fd9275290b03b47d6be,Test for kernel and ramdisk images,MERGED,2015-01-22 13:13:46.000000000,2015-01-22 19:36:18.000000000,2015-01-22 19:36:17.000000000,"[{'_account_id': 3}, {'_account_id': 9312}, {'_account_id': 10234}]","[{'number': 1, 'created': '2015-01-22 13:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/6356e4c52a65e63940f037b9b113cfc24b1145d4', 'message': 'Test for kernel and ramdis images in run_instances\n\nChange-Id: If6a650190f2672a450c39fd9275290b03b47d6be\n'}, {'number': 2, 'created': '2015-01-22 13:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/7d86bedaeb9b22bc2f449adbf8c74c5e944c586c', 'message': 'Test for kernel and ramdisk images in run_instances\n\nChange-Id: If6a650190f2672a450c39fd9275290b03b47d6be\n'}, {'number': 3, 'created': '2015-01-22 13:35:17.000000000', 'files': ['ec2api/api/instance.py', 'ec2api/tests/fakes.py', 'ec2api/tests/test_instance.py', 'ec2api/api/ec2utils.py', 'ec2api/tests/test_image.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/d1cbe05cf7a1228df1c7049a53330b9dff83e269', 'message': 'Test for kernel and ramdisk images\n\nChange-Id: If6a650190f2672a450c39fd9275290b03b47d6be\n'}]",0,149247,d1cbe05cf7a1228df1c7049a53330b9dff83e269,9,3,3,10224,,,0,"Test for kernel and ramdisk images

Change-Id: If6a650190f2672a450c39fd9275290b03b47d6be
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/47/149247/2 && git format-patch -1 --stdout FETCH_HEAD,"['ec2api/api/instance.py', 'ec2api/tests/fakes.py', 'ec2api/tests/test_instance.py', 'ec2api/api/ec2utils.py', 'ec2api/tests/test_image.py']",5,6356e4c52a65e63940f037b9b113cfc24b1145d4,master, 'status': 'queued'}))," 'owner': fakes.ID_OS_PROJECT, 'is_public': False, 'status': 'queued', 'container_format': 'ami', 'name': 'fake_name', 'properties': {}}))",116,42
openstack%2Fnova~stable%2Fjuno~Ic5344ec34a130ee5a0ed2c7348af0b9d79e3508e,openstack/nova,stable/juno,Ic5344ec34a130ee5a0ed2c7348af0b9d79e3508e,Fix libvirt watchdog support,MERGED,2014-11-12 10:26:37.000000000,2015-01-22 19:30:40.000000000,2015-01-22 18:31:05.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1313}, {'_account_id': 1420}, {'_account_id': 1653}, {'_account_id': 1955}, {'_account_id': 5170}, {'_account_id': 6849}, {'_account_id': 8213}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10618}]","[{'number': 1, 'created': '2014-11-12 10:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06429d0cd0eb4233de6160cddabbb92c6be18dd9', 'message': 'Fix libvirt watchdog support\n\nUsing the flavor extra_specs property ""hw_watchdog_action"" was broken.\nScheduling of a new instance always failed with NoValidHostFound error\nbecause of ComputeCapabilitiesFilter, which treated this property as a\nhost capability to be checked.\n\nCommit f0ff4d51057080e769407e873e5ed212f15b773d caused the problem.\n\nTo fix this watchdog_action property is put into \'hw:\' scope, so\nthat it will be ignored by ComputeCapabilitiesFilter in scheduler and\nhandled in libvirt driver. The doc must be fixed accordingly.\n\nNow driver accepts both \'hw_watchdog_action\' and\n\'hw:watchdog_action\', tests were edited for these cases.\nWere added TODO items to delete the compat code in the next release.\n\nDocImpact\nCloses-Bug: #1367344\n\nConflicts:\n\tnova/tests/virt/libvirt/test_driver.py\n\nChange-Id: Ic5344ec34a130ee5a0ed2c7348af0b9d79e3508e\n(cherry picked from commit 6e48d26d835525c14ebf5186fa39473513e0a9a6)\n'}, {'number': 2, 'created': '2014-11-12 10:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9244c79bb12c2809d70f1e7938db3d75a4fc6d30', 'message': 'Fix libvirt watchdog support\n\nUsing the flavor extra_specs property ""hw_watchdog_action"" was broken.\nScheduling of a new instance always failed with NoValidHostFound error\nbecause of ComputeCapabilitiesFilter, which treated this property as a\nhost capability to be checked.\n\nCommit f0ff4d51057080e769407e873e5ed212f15b773d caused the problem.\n\nTo fix this watchdog_action property is put into \'hw:\' scope, so\nthat it will be ignored by ComputeCapabilitiesFilter in scheduler and\nhandled in libvirt driver. The doc must be fixed accordingly.\n\nNow driver accepts both \'hw_watchdog_action\' and\n\'hw:watchdog_action\', tests were edited for these cases.\nWere added TODO items to delete the compat code in the next release.\n\nDocImpact\nCloses-Bug: #1367344\n\nConflicts:\n\tnova/tests/virt/libvirt/test_driver.py\n\nChange-Id: Ic5344ec34a130ee5a0ed2c7348af0b9d79e3508e\n(cherry picked from commit 79bfb1bf343484e98aa36dcc663a5370baf4cab7)\n'}, {'number': 3, 'created': '2014-11-13 16:58:47.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8a3b609580ae6a72767eebb1af9e0d71a1412897', 'message': 'Fix libvirt watchdog support\n\nUsing the flavor extra_specs property ""hw_watchdog_action"" was broken.\nScheduling of a new instance always failed with NoValidHostFound error\nbecause of ComputeCapabilitiesFilter, which treated this property as a\nhost capability to be checked.\n\nCommit f0ff4d51057080e769407e873e5ed212f15b773d caused the problem.\n\nTo fix this watchdog_action property is put into \'hw:\' scope, so\nthat it will be ignored by ComputeCapabilitiesFilter in scheduler and\nhandled in libvirt driver. The doc must be fixed accordingly.\n\nNow driver accepts both \'hw_watchdog_action\' and\n\'hw:watchdog_action\', tests were edited for these cases.\nWere added TODO items to delete the compat code in L release.\n\nDocImpact\nCloses-Bug: #1367344\n\nConflicts:\n\tnova/tests/virt/libvirt/test_driver.py\n\nChange-Id: Ic5344ec34a130ee5a0ed2c7348af0b9d79e3508e\n(cherry picked from commit 79bfb1bf343484e98aa36dcc663a5370baf4cab7)\n'}]",0,133922,8a3b609580ae6a72767eebb1af9e0d71a1412897,81,12,3,10618,,,0,"Fix libvirt watchdog support

Using the flavor extra_specs property ""hw_watchdog_action"" was broken.
Scheduling of a new instance always failed with NoValidHostFound error
because of ComputeCapabilitiesFilter, which treated this property as a
host capability to be checked.

Commit f0ff4d51057080e769407e873e5ed212f15b773d caused the problem.

To fix this watchdog_action property is put into 'hw:' scope, so
that it will be ignored by ComputeCapabilitiesFilter in scheduler and
handled in libvirt driver. The doc must be fixed accordingly.

Now driver accepts both 'hw_watchdog_action' and
'hw:watchdog_action', tests were edited for these cases.
Were added TODO items to delete the compat code in L release.

DocImpact
Closes-Bug: #1367344

Conflicts:
	nova/tests/virt/libvirt/test_driver.py

Change-Id: Ic5344ec34a130ee5a0ed2c7348af0b9d79e3508e
(cherry picked from commit 79bfb1bf343484e98aa36dcc663a5370baf4cab7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/133922/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/virt/libvirt/test_driver.py']",2,06429d0cd0eb4233de6160cddabbb92c6be18dd9,watchdog_juno," def _test_get_guest_config_with_watchdog_action_flavor(self, hw_watchdog_action=""hw:watchdog_action""): fake_flavor.extra_specs = {hw_watchdog_action: 'none'} def test_get_guest_config_with_watchdog_action_through_flavor(self): self._test_get_guest_config_with_watchdog_action_flavor() # TODO(pkholkin): the test accepting old property name 'hw_watchdog_action' # should be removed in the next release def test_get_guest_config_with_watchdog_action_through_flavor_no_scope( self): self._test_get_guest_config_with_watchdog_action_flavor( hw_watchdog_action=""hw_watchdog_action"") ", def test_get_guest_config_with_watchdog_action_through_flavor(self): fake_flavor.extra_specs = {'hw_watchdog_action': 'none'},23,4
openstack%2Fironic-specs~master~Id908db6bc4b93a44ae68ec9cd51e9e5795c00003,openstack/ironic-specs,master,Id908db6bc4b93a44ae68ec9cd51e9e5795c00003,Discover node properties for iLO drivers,MERGED,2014-06-27 04:09:33.000000000,2015-01-22 19:24:39.000000000,2015-01-22 19:24:39.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 3099}, {'_account_id': 5805}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 7419}, {'_account_id': 10202}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 11297}]","[{'number': 1, 'created': '2014-06-27 04:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f1a146bfff0eac03a5dc2c3352ba6333a95e6bae', 'message': 'Discover node properties for iLO driver\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 2, 'created': '2014-06-27 04:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/b5846bc4dba81e1a099f0931eb6a79fac09b1798', 'message': 'Discover node properties for iLO driver\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 3, 'created': '2014-06-27 04:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/9c04efdbd07fce9a301c9d086fea14ac489d1b0f', 'message': 'Discover node properties for iLO driver\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 4, 'created': '2014-06-27 05:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/4b8e86dcd0d292a6b50285ca1d165bcfe43385d3', 'message': 'Discover node properties for iLO driver\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 5, 'created': '2014-07-01 08:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/dfa0fd6f2ad4ce2e8aa361c9c4cba697f5f59f28', 'message': 'Discover node properties for iLO driver\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 6, 'created': '2014-07-01 18:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/72e7de3a750b1c44172de12889b1ff0ceca4597b', 'message': 'Discover node properties for iLO driver\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 7, 'created': '2014-07-01 19:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/7533bbeb93ec1bf27b23dea37686973586025bba', 'message': 'Discover node properties for iLO driver\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 8, 'created': '2014-07-01 19:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/370fe91bd5e7f0018e92f1c4c2323b2b8fd37fd9', 'message': 'Discover node properties for iLO driver\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 9, 'created': '2014-07-01 20:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f3979229b083b4a84de1c64fb4104d80a816f46b', 'message': 'Discover node properties for iLO driver\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 10, 'created': '2014-07-01 20:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/009cca45e3aa44c4ba0047036fedd0a950563b99', 'message': 'Discover node properties for iLO driver\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 11, 'created': '2014-07-02 07:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/573f2e6777e90e8a402e66d22d86ccdee2d657a0', 'message': 'Discover node properties for iLO driver\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 12, 'created': '2014-07-03 18:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/7fea30a918834155c32ec4316a8edf505ac1a86d', 'message': 'Discover node properties for iLO driver\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 13, 'created': '2014-07-21 20:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a1a94813a6b8580e7d7c2e897aa38aa5034ef540', 'message': 'Discover node properties for iLO driver\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 14, 'created': '2014-07-22 17:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/83e8e0b0ebcce970bcfe8b29c9319fddcca52939', 'message': 'Discover node properties for iLO driver\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 15, 'created': '2014-07-23 11:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/4523cdea2efb30bc3b9d1c14ab7c9b6f5301ae8e', 'message': 'Discover node properties for iLO driver\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 16, 'created': '2014-08-05 16:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/1729ccae61bba738cdf3e9994c754f10082f6ea9', 'message': 'Discover node properties for iLO driver\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 17, 'created': '2014-08-05 19:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/0bf77747944a0c0cc77ef61ac639a4d64e7ee9d7', 'message': 'Discover node properties for iLO driver\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 18, 'created': '2014-10-13 08:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/fe3680a5b31c7724a9311704e9858c24611df1e4', 'message': 'Discover node properties for iLO driver\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 19, 'created': '2014-11-12 20:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f4a8cf0ee5d9222f74763296df9340fee6b3e98a', 'message': 'Discover node properties for iLO drivers\n\nImplements: blueprint ilo-properties-discovery\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 20, 'created': '2014-11-18 22:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/cdee141367b109764369e5ce8dd85cb1c965babc', 'message': 'Discover node properties for iLO drivers\n\nImplements: blueprint ilo-properties-discovery\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 21, 'created': '2014-11-25 17:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/89f48137ff20da2f8aaafdd58f28e79e69c9a8b5', 'message': 'Discover node properties for iLO drivers\n\nImplements: blueprint ilo-properties-capabilities-discovery\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 22, 'created': '2014-12-02 12:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/d01919b1367f51a9f1cb9d8eb51cc349838fa426', 'message': 'Discover node properties for iLO drivers\n\nImplements: blueprint ilo-properties-capabilities-discovery\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 23, 'created': '2014-12-03 04:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/eccef1379133633e8f2141587c23aa3d24eabc41', 'message': 'Discover node properties for iLO drivers\n\nImplements: blueprint ilo-properties-capabilities-discovery\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 24, 'created': '2014-12-09 20:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/afab3f6135f7fe4f541ea6b10ef8746464bd2049', 'message': 'Discover node properties for iLO drivers\n\nImplements: blueprint ilo-properties-capabilities-discovery\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 25, 'created': '2014-12-15 10:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/5ac2ae2adc02ae25e9caa9e84f9558b35de1de49', 'message': 'Discover node properties for iLO drivers\n\nImplements: blueprint ilo-properties-capabilities-discovery\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 26, 'created': '2014-12-15 10:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/0f32fb822e6a1bdbf9a71fc25b1859860dd2780f', 'message': 'Discover node properties for iLO drivers\n\nImplements: blueprint ilo-properties-capabilities-discovery\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 27, 'created': '2015-01-06 13:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/b3069626c2cb9634c08a83a39609c1b7d25cd271', 'message': 'Discover node properties for iLO drivers\n\nImplements: blueprint ilo-properties-capabilities-discovery\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 28, 'created': '2015-01-07 04:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/bafc064ff3a4067cec5d1d747f1e8382ad59ca35', 'message': 'Discover node properties for iLO drivers\n\nImplements: blueprint ilo-properties-capabilities-discovery\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 29, 'created': '2015-01-08 06:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/902e07ab98902f134b71e31f0c72f1ab1b0c5aff', 'message': 'Discover node properties for iLO drivers\n\nImplements: blueprint ilo-properties-capabilities-discovery\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 30, 'created': '2015-01-08 06:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2306534e78c7f1523f7e7117431b4a2baabe8232', 'message': 'Discover node properties for iLO drivers\n\nImplements: blueprint ilo-properties-capabilities-discovery\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 31, 'created': '2015-01-13 18:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/8218fd1a664215c4df5a2637be1b0c20f7966c08', 'message': 'Discover node properties for iLO drivers\n\nImplements: blueprint ilo-properties-capabilities-discovery\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 32, 'created': '2015-01-19 19:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/d6e044c5c6d95a4cbfe357aa57e9415ab0076178', 'message': 'Discover node properties for iLO drivers\n\nImplements: blueprint ilo-properties-capabilities-discovery\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}, {'number': 33, 'created': '2015-01-20 17:12:12.000000000', 'files': ['specs/kilo/ilo-properties-capabilities-discovery.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/11f9fb5e343c1ae420cecf63f883fe85b589b730', 'message': 'Discover node properties for iLO drivers\n\nImplements: blueprint ilo-properties-capabilities-discovery\n\nChange-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003\n'}]",82,103007,11f9fb5e343c1ae420cecf63f883fe85b589b730,139,12,33,11297,,,0,"Discover node properties for iLO drivers

Implements: blueprint ilo-properties-capabilities-discovery

Change-Id: Id908db6bc4b93a44ae68ec9cd51e9e5795c00003
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/07/103007/33 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/iLO_discover_properties.rst'],1,f1a146bfff0eac03a5dc2c3352ba6333a95e6bae,bp/ilo-properties-capabilities-discovery,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================== Discover node properties for iLO driver ======================================== Blueprint URL: https://blueprints.launchpad.net/ironic/+spec/ironic-node-properties-discovery This proposal adds the ability to auto-discover hardware properties and auto-create ports for HP ProLiant servers via iLO using iLO client python library Problem description =================== Today, Ironic does not have the out-of-band node properties discovery. These require a manual intervention by the admin to add these properties to ironic database. The iLO driver can be used to discover node properties irrespective of whether OS is deployed on baremetal node or not. Proposed change =============== Following properties may be discovered: * memory size * memory addressing (64 bit/32 bit) * Disk Size * CPUs * CPU architecture * Virtualization technology * Supported Boot Modes * Current Boot Mode * BIOS/UEFI Firmware Version * Number of NICs * NIC(s) MAC address * Server Name/Model * Server Serial Number / Product ID * Cache Information * Hyperthreading * Virtualization technology The list may be appended with more properties in future. iLO specific module changes: ---------------------------- * Add new module iLOManagement() which conforms to base.ManagementInterface and implements discover_hardware_properties(). Json as returned by the discover_hardware_properties() ------------------------------------------------------ { ""properties"": { ""local_gb"": ""10"", ""memory_mb"": ""512"", ""cpu_arch"" : ""x86_64"", ""cpus"": ""8"", ""NIC"" : { ""Port 1"" : { ""address"" : ""78:ac:c0:fe:49:60"", ""port_uuid"" : """" }, ""Port 2"" : { ""address"" : ""78:ac:c0:fe:49:64"", ""port_uuid : """" }, ... }, ... } } Alternatives ------------ None. Data model impact ----------------- None. Ironic CLI impact ----------------- None. REST API impact --------------- None. Driver API impact ----------------- None. Nova driver impact ------------------ None. Security impact --------------- None. Other end user impact --------------------- This feature will improve user experience as users no longer need to manually update the node property info using node-create or node-update. The users will have an option to update the ports automatically with node-create. If the --create-ports option is not used in the command line with node-create or node-update then also users can grep for the MAC address from the node object and use the same for port-create. Example : * NODE= $(ironic node-create -d ilo -i <key=value ... -i <key=value> | grep ' uuid ' | awk '{print $4}') * MAC = $(ironic node-show $NODE | grep ""Port 1"" | grep address | awk '{print $3}') * ironic port-create -n $NODE -a $MAC Note: The $3 in the awk statement in above example may change as per the output display. Scalability impact ------------------ None. Performance Impact ------------------ None. As the rpcapi dicover_attributes() is asynchronous. Other deployer impact --------------------- The new syntax for node-create and node-update shall be used to have the feature. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: Nisha Agarwal Work Items ---------- * Adding new hardware functionalities to base.ManagementInterface. * Implementation of the same in iLODriver to support new functionality. Dependencies ============ * This feature is targeted for HP ProLiant servers with iLO4 and above. This module might work with older version of iLO (like iLO3), but this will not be officially tested by the iLO driver team. * Depends on proliantutils library. Testing ======= Unit tests will be added conforming to ironic testing requirements, mocking proliantutils. Documentation Impact ==================== None. References ========== proliantUtils library. (https://github.com/hpproliant/proliantutils) (https://pypi.python.org/pypi/proliantutils) ",,242,0
openstack%2Fneutron~master~I96c79b1ada549ed4bd09a853a8019ff54b2888e2,openstack/neutron,master,I96c79b1ada549ed4bd09a853a8019ff54b2888e2,Replace FLOATING_IP_CIDR_SUFFIX constant with utils,MERGED,2015-01-16 19:47:00.000000000,2015-01-22 19:23:03.000000000,2015-01-21 22:52:56.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1131}, {'_account_id': 1561}, {'_account_id': 2035}, {'_account_id': 2170}, {'_account_id': 4694}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6659}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7448}, {'_account_id': 8873}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-16 19:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/524b16ee0bb833b57e0755311a510333b981f9f8', 'message': 'Replace FLOATING_IP_CIDR_SUFFIX constant with utils\n\nFLOATING_IP_CIDR_SUFFIX is a global constant used in manipulating ip\naddresses and cidrs as string.  This patch replaces that with\nwell-tested utilities for doing the conversions more safely and\nreadably.\n\nChange-Id: I96c79b1ada549ed4bd09a853a8019ff54b2888e2\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 2, 'created': '2015-01-17 18:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad1c7a5fb0a13cdd5f6c94c7119335575521bd96', 'message': 'Replace FLOATING_IP_CIDR_SUFFIX constant with utils\n\nFLOATING_IP_CIDR_SUFFIX is a global constant used in manipulating ip\naddresses and cidrs as string.  This patch replaces that with\nwell-tested utilities for doing the conversions more safely and\nreadably.\n\nChange-Id: I96c79b1ada549ed4bd09a853a8019ff54b2888e2\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 3, 'created': '2015-01-21 05:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c57519e3c0ac20cba99d54ea3b660765fd0d57c', 'message': 'Replace FLOATING_IP_CIDR_SUFFIX constant with utils\n\nFLOATING_IP_CIDR_SUFFIX is a global constant used in manipulating ip\naddresses and cidrs as string.  This patch replaces that with\nwell-tested utilities for doing the conversions more safely and\nreadably.\n\nChange-Id: I96c79b1ada549ed4bd09a853a8019ff54b2888e2\nPartially-Implements: bp/restructure-l3-agent\n'}, {'number': 4, 'created': '2015-01-21 16:16:41.000000000', 'files': ['neutron/common/constants.py', 'neutron/agent/l3/agent.py', 'neutron/tests/unit/test_common_utils.py', 'neutron/common/utils.py', 'neutron/tests/functional/agent/test_l3_agent.py', 'neutron/tests/unit/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c207bfc722b657f3a06f67b7ae60ea30caf4907b', 'message': 'Replace FLOATING_IP_CIDR_SUFFIX constant with utils\n\nFLOATING_IP_CIDR_SUFFIX is a global constant used in manipulating ip\naddresses and cidrs as string.  This patch replaces that with\nwell-tested utilities for doing the conversions more safely and\nreadably.\n\nChange-Id: I96c79b1ada549ed4bd09a853a8019ff54b2888e2\nPartially-Implements: bp/restructure-l3-agent\n'}]",18,147972,c207bfc722b657f3a06f67b7ae60ea30caf4907b,94,29,4,7448,,,0,"Replace FLOATING_IP_CIDR_SUFFIX constant with utils

FLOATING_IP_CIDR_SUFFIX is a global constant used in manipulating ip
addresses and cidrs as string.  This patch replaces that with
well-tested utilities for doing the conversions more safely and
readably.

Change-Id: I96c79b1ada549ed4bd09a853a8019ff54b2888e2
Partially-Implements: bp/restructure-l3-agent
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/147972/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/tests/unit/test_common_utils.py', 'neutron/common/utils.py', 'neutron/tests/functional/agent/test_l3_agent.py', 'neutron/tests/unit/test_l3_agent.py']",5,524b16ee0bb833b57e0755311a510333b981f9f8,bp/restructure-l3-agent,from neutron.common import utils as common_utils ip_cidr = common_utils.ip_to_cidr(fip['floating_ip_address']), ip_cidr = str(fip['floating_ip_address']) + ( l3_agent.FLOATING_IP_CIDR_SUFFIX),85,13
openstack%2Fdesignate~master~I5905f27ff704783f0c67e5483654bbec7f6831eb,openstack/designate,master,I5905f27ff704783f0c67e5483654bbec7f6831eb,Agent - Add basic NOTIFY support,ABANDONED,2014-12-10 19:38:57.000000000,2015-01-22 19:17:11.000000000,,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8094}, {'_account_id': 8174}]","[{'number': 1, 'created': '2014-12-10 19:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/793e55f55023f209eedebc5da214be02e145fe90', 'message': 'Agent - Add basic NOTIFY support\n\n*Can get NOTIFYs but do nothing with them\n\nChange-Id: I5905f27ff704783f0c67e5483654bbec7f6831eb\n'}, {'number': 2, 'created': '2014-12-11 22:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9b8db9dbac9e16b37ee9a39f60e699e6ba831003', 'message': 'Agent - Add basic NOTIFY support\n\n*Can get NOTIFYs but do nothing with them\n\nChange-Id: I5905f27ff704783f0c67e5483654bbec7f6831eb\n'}, {'number': 3, 'created': '2014-12-12 20:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/67394dfc88c9aff30a45f7fa9b8e817e679d527f', 'message': 'Agent - Add basic NOTIFY support\n\n*Can get NOTIFYs but do nothing with them\n\nChange-Id: I5905f27ff704783f0c67e5483654bbec7f6831eb\n'}, {'number': 4, 'created': '2014-12-15 18:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/6981a132119658fb9a03137473e1eec6c57de665', 'message': 'Agent - Add basic NOTIFY support\n\n*Can get NOTIFYs but do nothing with them\n\nChange-Id: I5905f27ff704783f0c67e5483654bbec7f6831eb\n'}, {'number': 5, 'created': '2014-12-17 21:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/30237259f740c6e660f50440a06bc897f6bf2e74', 'message': 'Agent - Add basic NOTIFY support\n\n*Can get NOTIFYs but do nothing with them\n\nChange-Id: I5905f27ff704783f0c67e5483654bbec7f6831eb\n'}, {'number': 6, 'created': '2014-12-30 20:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d86ebf28d07d32e8f88ab8d4056eb98b4c4ac7c6', 'message': 'Agent - Add basic NOTIFY support\n\n*Can get NOTIFYs but do nothing with them\n\nChange-Id: I5905f27ff704783f0c67e5483654bbec7f6831eb\n'}, {'number': 7, 'created': '2015-01-07 20:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/60573659b0f581f9d25e8019efc8b61d052069eb', 'message': 'Agent - Add basic NOTIFY support\n\n*Can get NOTIFYs but do nothing with them\n\nChange-Id: I5905f27ff704783f0c67e5483654bbec7f6831eb\n'}, {'number': 8, 'created': '2015-01-20 18:40:40.000000000', 'files': ['designate/agent/middleware.py', 'designate/agent/handler.py', 'designate/agent/service.py', 'designate/agent/__init__.py', 'etc/designate/designate.conf.sample', 'designate/tests/test_agent/test_handler.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/edf0ec6a777b2a134f903b6ccf0736fe7b68bc08', 'message': 'Agent - Add basic NOTIFY support\n\n*Can get NOTIFYs but do nothing with them\n\nChange-Id: I5905f27ff704783f0c67e5483654bbec7f6831eb\n'}]",6,140816,edf0ec6a777b2a134f903b6ccf0736fe7b68bc08,23,4,8,8174,,,0,"Agent - Add basic NOTIFY support

*Can get NOTIFYs but do nothing with them

Change-Id: I5905f27ff704783f0c67e5483654bbec7f6831eb
",git fetch https://review.opendev.org/openstack/designate refs/changes/16/140816/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/slappy/handler.py', 'designate/slappy/__init__.py', 'designate/slappy/service.py', 'designate/slappy/middleware.py', 'etc/designate/designate.conf.sample', 'designate/tests/test_slappy/test_handler.py']",6,793e55f55023f209eedebc5da214be02e145fe90,bp/new-agent,"# Copyright 2014 Rackspace Inc. # # Author: Tim Simmons <tim.simmons@rackspace.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from designate.tests.test_slappy import SlappyTestCase class SlappyRequestHandlerTest(SlappyTestCase): def setUp(self): super(SlappyRequestHandlerTest, self).setUp() def test_receive_notify(self): """""" Get a NOTIFY and ensure the response is right, and an AXFR is triggered """""" pass def test_receive_notify_bad_notifier(self): """""" Get a NOTIFY from a bad master and refuse it """""" pass ",,317,0
openstack%2Fdesignate~master~I730e666bbd9db48d1f6793f8f6b48decaee39cb9,openstack/designate,master,I730e666bbd9db48d1f6793f8f6b48decaee39cb9,Agent - Add Backend Capabilities,ABANDONED,2014-12-10 19:38:57.000000000,2015-01-22 19:16:44.000000000,,"[{'_account_id': 3}, {'_account_id': 8174}]","[{'number': 1, 'created': '2014-12-10 19:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/01476e98e1009247b67984e05ea15bb9fb24f12e', 'message': 'Agent - Add Backend Capabilities\n\n*Create a Base Backend\n*Call into it on NOTIFY, CREATE, DELETE events\n*Port a Bind9 Backend\n\nChange-Id: I730e666bbd9db48d1f6793f8f6b48decaee39cb9\n'}, {'number': 2, 'created': '2014-12-11 22:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/865549934bfe68c9c4feacb2ac9c808dedfb8fe9', 'message': 'Agent - Add Backend Capabilities\n\n*Create a Base Backend\n*Call into it on NOTIFY, CREATE, DELETE events\n*Port a Bind9 Backend\n\nChange-Id: I730e666bbd9db48d1f6793f8f6b48decaee39cb9\n'}, {'number': 3, 'created': '2014-12-12 20:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/faf111f84a42d9b608bed8956b2700b045ebfaa7', 'message': 'Agent - Add Backend Capabilities\n\n*Create a Base Backend\n*Call into it on NOTIFY, CREATE, DELETE events\n*Port a Bind9 Backend\n\nChange-Id: I730e666bbd9db48d1f6793f8f6b48decaee39cb9\n'}, {'number': 4, 'created': '2014-12-15 18:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f3dceb06cf6aa03bc957c5a06372fcb8648db5d7', 'message': 'Agent - Add Backend Capabilities\n\n*Create a Base Backend\n*Call into it on NOTIFY, CREATE, DELETE events\n*Port a Bind9 Backend\n\nChange-Id: I730e666bbd9db48d1f6793f8f6b48decaee39cb9\n'}, {'number': 5, 'created': '2014-12-15 20:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3e1b6038e30cb308d64021fd7fad16e6c35f64dc', 'message': 'Agent - Add Backend Capabilities\n\n*Create a Base Backend\n*Call into it on NOTIFY, CREATE, DELETE events\n*Port a Bind9 Backend\n\nChange-Id: I730e666bbd9db48d1f6793f8f6b48decaee39cb9\n'}, {'number': 6, 'created': '2014-12-17 21:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d502753d9819f3994a38417e901887a8345d3ef4', 'message': 'Agent - Add Backend Capabilities\n\n*Create a Base Backend\n*Call into it on NOTIFY, CREATE, DELETE events\n*Port a Bind9 Backend\n\nChange-Id: I730e666bbd9db48d1f6793f8f6b48decaee39cb9\n'}, {'number': 7, 'created': '2014-12-30 20:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/312deab2f5f4bb537d08ad7ccb5f46245c8764b8', 'message': 'Agent - Add Backend Capabilities\n\n*Create a Base Backend\n*Call into it on NOTIFY, CREATE, DELETE events\n*Port a Bind9 Backend\n\nChange-Id: I730e666bbd9db48d1f6793f8f6b48decaee39cb9\n'}, {'number': 8, 'created': '2015-01-07 20:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/64773907131131a945fd18f830ee7cbe73b4a601', 'message': 'Agent - Add Backend Capabilities\n\n*Create a Base Backend\n*Call into it on NOTIFY, CREATE, DELETE events\n*Port a Bind9 Backend\n\nChange-Id: I730e666bbd9db48d1f6793f8f6b48decaee39cb9\n'}, {'number': 9, 'created': '2015-01-20 18:40:40.000000000', 'files': ['designate/backend/agent_backend/base.py', 'designate/tests/test_agent/test_service.py', 'designate/agent/axfr.py', 'etc/designate/designate.conf.sample', 'designate/tests/test_agent/test_backends/test_bind9.py', 'designate/agent/handler.py', 'designate/backend/agent_backend/impl_bind9.py', 'designate/agent/service.py', 'designate/agent/__init__.py', 'designate/utils.py', 'designate/backend/agent_backend/__init__.py', 'designate/tests/test_agent/test_handler.py', 'setup.cfg', 'designate/tests/test_agent/test_backends/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/4c318bf47ee64a047f17569f25a7d1a300bf24e7', 'message': 'Agent - Add Backend Capabilities\n\n*Create a Base Backend\n*Call into it on NOTIFY, CREATE, DELETE events\n*Port a Bind9 Backend\n\nChange-Id: I730e666bbd9db48d1f6793f8f6b48decaee39cb9\n'}]",0,140819,4c318bf47ee64a047f17569f25a7d1a300bf24e7,20,2,9,8174,,,0,"Agent - Add Backend Capabilities

*Create a Base Backend
*Call into it on NOTIFY, CREATE, DELETE events
*Port a Bind9 Backend

Change-Id: I730e666bbd9db48d1f6793f8f6b48decaee39cb9
",git fetch https://review.opendev.org/openstack/designate refs/changes/19/140819/4 && git format-patch -1 --stdout FETCH_HEAD,"['designate/slappy/backend/__init__.py', 'designate/slappy/handler.py', 'designate/tests/test_slappy/test_backends/test_bind9.py', 'designate/slappy/__init__.py', 'designate/slappy/service.py', 'designate/slappy/backend/base.py', 'etc/designate/designate.conf.sample', 'setup.cfg', 'designate/slappy/backend/impl_bind9.py', 'designate/slappy/axfr.py', 'designate/tests/test_slappy/test_backends/__init__.py']",11,01476e98e1009247b67984e05ea15bb9fb24f12e,bp/new-agent,"# Copyright 2014 Rackspace Inc. # # Author: Tim Simmons <tim.simmons@rackspace.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo.config import cfg from designate.slappy import backend from designate.slappy import service class BackendTestMixin(object): def get_backend_driver(self): return backend.get_backend(cfg.CONF['service:slappy'].backend_driver, slappy_service=service.Service()) def test_constructor(self): self.get_backend_driver() ",,327,7
openstack%2Fdesignate~master~I9a03302deb4970153218dbd40b8b6765e3528a26,openstack/designate,master,I9a03302deb4970153218dbd40b8b6765e3528a26,Agent - Basic Service,ABANDONED,2014-12-10 19:38:57.000000000,2015-01-22 19:16:36.000000000,,"[{'_account_id': 3}, {'_account_id': 8094}, {'_account_id': 8174}]","[{'number': 1, 'created': '2014-12-10 19:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d3fdd3c064fb8ff45c89d3af2485e34e24558c98', 'message': ""Agent - Basic Service\n\n*Added a TCP Service to service.py that's a mix\nbetween WSGI and RPC services\n*Super basic slappy service, does nothing\n\nChange-Id: I9a03302deb4970153218dbd40b8b6765e3528a26\n""}, {'number': 2, 'created': '2014-12-12 20:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2cd9ad2f6b88efb78ae62a9e0e36110044742959', 'message': ""Agent - Basic Service\n\n*Added a TCP Service to service.py that's a mix\nbetween WSGI and RPC services\n*Super basic slappy service, does nothing\n\nChange-Id: I9a03302deb4970153218dbd40b8b6765e3528a26\n""}, {'number': 3, 'created': '2014-12-17 21:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d2b88160b96333a756ed55112dfec12c6aca20b7', 'message': ""Agent - Basic Service\n\n*Added a TCP Service to service.py that's a mix\nbetween WSGI and RPC services\n*Super basic slappy service, does nothing\n\nChange-Id: I9a03302deb4970153218dbd40b8b6765e3528a26\n""}, {'number': 4, 'created': '2014-12-30 20:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/07550c346e7d444a509057326adc9335d896cc00', 'message': ""Agent - Basic Service\n\n*Added a TCP Service to service.py that's a mix\nbetween WSGI and RPC services\n*Super basic slappy service, does nothing\n\nChange-Id: I9a03302deb4970153218dbd40b8b6765e3528a26\n""}, {'number': 5, 'created': '2015-01-07 20:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3e7667bbad0e556477fe32489ee06e3d96baee08', 'message': ""Agent - Basic Service\n\n*Added a TCP Service to service.py that's a mix\nbetween WSGI and RPC services\n*Super basic slappy service, does nothing\n\nChange-Id: I9a03302deb4970153218dbd40b8b6765e3528a26\n""}, {'number': 6, 'created': '2015-01-20 18:40:40.000000000', 'files': ['designate/tests/test_agent/test_service.py', 'designate/service.py', 'designate/agent/service.py', 'designate/agent/__init__.py', 'designate/tests/test_agent/__init__.py', 'etc/designate/designate.conf.sample', 'designate/cmd/agent.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/designate/commit/f0da9c7a8b7677ad36ae2fff665cc4d44c6f6dab', 'message': ""Agent - Basic Service\n\n*Added a TCP Service to service.py that's a mix\nbetween WSGI and RPC services\n*Super basic slappy service, does nothing\n\nChange-Id: I9a03302deb4970153218dbd40b8b6765e3528a26\n""}]",4,140815,f0da9c7a8b7677ad36ae2fff665cc4d44c6f6dab,16,3,6,8174,,,0,"Agent - Basic Service

*Added a TCP Service to service.py that's a mix
between WSGI and RPC services
*Super basic slappy service, does nothing

Change-Id: I9a03302deb4970153218dbd40b8b6765e3528a26
",git fetch https://review.opendev.org/openstack/designate refs/changes/15/140815/5 && git format-patch -1 --stdout FETCH_HEAD,"['designate/service.py', 'designate/slappy/__init__.py', 'designate/slappy/service.py', 'designate/tests/test_slappy/__init__.py', 'designate/cmd/slappy.py', 'setup.cfg', 'designate/tests/test_slappy/test_service.py']",7,d3fdd3c064fb8ff45c89d3af2485e34e24558c98,bp/new-agent,"# Copyright 2014 Rackspace Inc. # # Author: Tim Simmons <tim.simmons@rackspace.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from designate.tests.test_slappy import SlappyTestCase class SlappyServiceTest(SlappyTestCase): def setUp(self): super(SlappyServiceTest, self).setUp() self.service = self.start_service('slappy') def test_stop(self): # NOTE: Start is already done by the fixture in start_service() self.service.stop() ",,200,0
openstack%2Fdesignate~master~Ia7d70561cdae73c7cca956f821fc3b11736b087c,openstack/designate,master,Ia7d70561cdae73c7cca956f821fc3b11736b087c,Agent - Add AXFR Capability,ABANDONED,2014-12-10 19:38:57.000000000,2015-01-22 19:16:28.000000000,,"[{'_account_id': 3}, {'_account_id': 8094}, {'_account_id': 8174}]","[{'number': 1, 'created': '2014-12-10 19:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f167dfa4ae6a02aaf6b20473abd9686d1104b6cc', 'message': 'Agent - Add AXFR Capability\n\n*When a NOTIFY comes in and verifed an AXFR is triggered\n*Adds a concept of Masters, separate from ""allow_notify""\n\nChange-Id: Ia7d70561cdae73c7cca956f821fc3b11736b087c\n'}, {'number': 2, 'created': '2014-12-11 22:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/70231ea1c43d762bc54613e3aeaa2b2a23753c63', 'message': 'Agent - Add AXFR Capability\n\n*When a NOTIFY comes in and verifed an AXFR is triggered\n*Adds a concept of Masters, separate from ""allow_notify""\n\nChange-Id: Ia7d70561cdae73c7cca956f821fc3b11736b087c\n'}, {'number': 3, 'created': '2014-12-12 20:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cea4aee7b56ef03e37a9a39b5851601b1bdfc3c9', 'message': 'Agent - Add AXFR Capability\n\n*When a NOTIFY comes in and verifed an AXFR is triggered\n*Adds a concept of Masters, separate from ""allow_notify""\n\nChange-Id: Ia7d70561cdae73c7cca956f821fc3b11736b087c\n'}, {'number': 4, 'created': '2014-12-15 18:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c318ff677526b12236ea4ef213eedf4cbd2264bd', 'message': 'Agent - Add AXFR Capability\n\n*When a NOTIFY comes in and verifed an AXFR is triggered\n*Adds a concept of Masters, separate from ""allow_notify""\n\nChange-Id: Ia7d70561cdae73c7cca956f821fc3b11736b087c\n'}, {'number': 5, 'created': '2014-12-17 21:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ecbd7cc694d82ac608bae898a6e4da32b19643f6', 'message': 'Agent - Add AXFR Capability\n\n*When a NOTIFY comes in and verifed an AXFR is triggered\n*Adds a concept of Masters, separate from ""allow_notify""\n\nChange-Id: Ia7d70561cdae73c7cca956f821fc3b11736b087c\n'}, {'number': 6, 'created': '2014-12-30 20:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1344e28ae73f82342ce3ba4bc82bd361b6920e1e', 'message': 'Agent - Add AXFR Capability\n\n*When a NOTIFY comes in and verifed an AXFR is triggered\n*Adds a concept of Masters, separate from ""allow_notify""\n\nChange-Id: Ia7d70561cdae73c7cca956f821fc3b11736b087c\n'}, {'number': 7, 'created': '2015-01-07 20:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9ef352c8cb085b92e379693a89a9bcee7910d229', 'message': 'Agent - Add AXFR Capability\n\n*When a NOTIFY comes in and verifed an AXFR is triggered\n*Adds a concept of Masters, separate from ""allow_notify""\n\nChange-Id: Ia7d70561cdae73c7cca956f821fc3b11736b087c\n'}, {'number': 8, 'created': '2015-01-20 18:40:40.000000000', 'files': ['designate/agent/handler.py', 'designate/agent/axfr.py', 'designate/agent/service.py', 'designate/agent/__init__.py', 'designate/tests/test_agent/test_handler.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/d35db51a559628d9dd42f93290fa3a9449d73951', 'message': 'Agent - Add AXFR Capability\n\n*When a NOTIFY comes in and verifed an AXFR is triggered\n*Adds a concept of Masters, separate from ""allow_notify""\n\nChange-Id: Ia7d70561cdae73c7cca956f821fc3b11736b087c\n'}]",5,140817,d35db51a559628d9dd42f93290fa3a9449d73951,23,3,8,8174,,,0,"Agent - Add AXFR Capability

*When a NOTIFY comes in and verifed an AXFR is triggered
*Adds a concept of Masters, separate from ""allow_notify""

Change-Id: Ia7d70561cdae73c7cca956f821fc3b11736b087c
",git fetch https://review.opendev.org/openstack/designate refs/changes/17/140817/8 && git format-patch -1 --stdout FETCH_HEAD,"['designate/slappy/handler.py', 'designate/slappy/__init__.py', 'designate/slappy/service.py', 'designate/tests/test_slappy/test_axfr.py', 'designate/slappy/axfr.py']",5,f167dfa4ae6a02aaf6b20473abd9686d1104b6cc,bp/new-agent,"# Copyright 2014 Rackspace Inc. # # Author: Tim Simmons <tim.simmons@rackspace.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import dns import dns.zone from oslo.config import cfg from designate import dnsutils from designate.openstack.common import log as logging from designate.i18n import _LI LOG = logging.getLogger(__name__) CONF = cfg.CONF class AXFR(object): def __init__(self): self.masters = [] for server in CONF['service:slappy'].masters: raw_server = server.split(':') master = {'ip': raw_server[0], 'port': int(raw_server[1])} self.masters.append(master) LOG.info(_LI(""Slappy masters: %(masters)s"") % {'masters': self.masters}) def do_axfr(self, zone_name): """""" Performs an AXFR for a given zone name """""" # TODO(Tim): Try the first master, try others if they exist master = self.masters[0] LOG.info(_LI(""Doing AXFR for %(name)s from %(host)s"") % {'name': zone_name, 'host': master}) xfr = dns.query.xfr(master['ip'], zone_name, relativize=False, port=master['port']) raw_zone = dns.zone.from_xfr(xfr, relativize=False) domain = dnsutils.from_dnspython_zone(raw_zone) # Call into a backend now if domain.name == zone_name: LOG.info(_LI(""%(name)s AXFR SUCCESSFUL"") % {'name': zone_name}) ",,100,3
openstack%2Fdesignate~master~I48c2deb729c853bebec74a04b6c97c89426000c1,openstack/designate,master,I48c2deb729c853bebec74a04b6c97c89426000c1,Agent - Add Support for Receiving Private CLASS/RRDATA Messages,ABANDONED,2014-12-10 19:38:57.000000000,2015-01-22 19:16:11.000000000,,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8094}, {'_account_id': 8174}]","[{'number': 1, 'created': '2014-12-10 19:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/55ab90176d92efea5ceb3fbeb74a458d321b3ea5', 'message': ""Agent - Add Support for Receiving Unassigned OPCODEs\n\n*Agent parses message with OPCODEs 6 and 7 and calls\nfor a create and delete event, respectively.\n*There isn't much done at the moment, but they will call into\nthe pluggable backend when implemented.\n\nChange-Id: I48c2deb729c853bebec74a04b6c97c89426000c1\n""}, {'number': 2, 'created': '2014-12-11 22:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/35fa68d6068e46c745efd3c33a0052982e359e58', 'message': ""Agent - Add Support for Receiving Unassigned OPCODEs\n\n*Agent parses message with OPCODE 14 and separate CLASS, RRDATA\nfields and calls for a create and delete event, respectively.\n*There isn't much done at the moment, but they will call into\nthe pluggable backend when implemented.\n\nChange-Id: I48c2deb729c853bebec74a04b6c97c89426000c1\n""}, {'number': 3, 'created': '2014-12-12 20:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/16e68a8b583e322f61487beae0ee7268a1d6d4da', 'message': ""Agent - Add Support for Receiving Private CLASS/RRDATA Messages\n\n*Agent parses message with OPCODE 14 and separate CLASS, RRDATA\nfields and calls for a create and delete event, respectively.\n*There isn't much done at the moment, but they will call into\nthe pluggable backend when implemented.\n\nChange-Id: I48c2deb729c853bebec74a04b6c97c89426000c1\n""}, {'number': 4, 'created': '2014-12-15 18:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/010928b1e3c4d1d122774a3864b8aa6eb68fe292', 'message': ""Agent - Add Support for Receiving Private CLASS/RRDATA Messages\n\n*Agent parses message with OPCODE 14 and separate CLASS, RRDATA\nfields and calls for a create and delete event, respectively.\n*There isn't much done at the moment, but they will call into\nthe pluggable backend when implemented.\n\nChange-Id: I48c2deb729c853bebec74a04b6c97c89426000c1\n""}, {'number': 5, 'created': '2014-12-17 21:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/800c8619421d34882806f7d46188555d3c997488', 'message': ""Agent - Add Support for Receiving Private CLASS/RRDATA Messages\n\n*Agent parses message with OPCODE 14 and separate CLASS, RRDATA\nfields and calls for a create and delete event, respectively.\n*There isn't much done at the moment, but they will call into\nthe pluggable backend when implemented.\n\nChange-Id: I48c2deb729c853bebec74a04b6c97c89426000c1\n""}, {'number': 6, 'created': '2014-12-30 20:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f1193d086c9d6839299158ca405a622366c7ba28', 'message': ""Agent - Add Support for Receiving Private CLASS/RRDATA Messages\n\n*Agent parses message with OPCODE 14 and separate CLASS, RRDATA\nfields and calls for a create and delete event, respectively.\n*There isn't much done at the moment, but they will call into\nthe pluggable backend when implemented.\n\nChange-Id: I48c2deb729c853bebec74a04b6c97c89426000c1\n""}, {'number': 7, 'created': '2015-01-07 20:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/52afc70b83d9edcd90cfd863a3214fa9cbbf1fff', 'message': ""Agent - Add Support for Receiving Private CLASS/RRDATA Messages\n\n*Agent parses message with OPCODE 14 and separate CLASS, RRDATA\nfields and calls for a create and delete event, respectively.\n*There isn't much done at the moment, but they will call into\nthe pluggable backend when implemented.\n\nChange-Id: I48c2deb729c853bebec74a04b6c97c89426000c1\n""}, {'number': 8, 'created': '2015-01-20 18:40:40.000000000', 'files': ['designate/agent/handler.py', 'etc/designate/designate.conf.sample', 'designate/tests/test_agent/test_handler.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/82056a730509ad34a02f24816171c2c2a0fbe398', 'message': ""Agent - Add Support for Receiving Private CLASS/RRDATA Messages\n\n*Agent parses message with OPCODE 14 and separate CLASS, RRDATA\nfields and calls for a create and delete event, respectively.\n*There isn't much done at the moment, but they will call into\nthe pluggable backend when implemented.\n\nChange-Id: I48c2deb729c853bebec74a04b6c97c89426000c1\n""}]",3,140818,82056a730509ad34a02f24816171c2c2a0fbe398,24,4,8,8174,,,0,"Agent - Add Support for Receiving Private CLASS/RRDATA Messages

*Agent parses message with OPCODE 14 and separate CLASS, RRDATA
fields and calls for a create and delete event, respectively.
*There isn't much done at the moment, but they will call into
the pluggable backend when implemented.

Change-Id: I48c2deb729c853bebec74a04b6c97c89426000c1
",git fetch https://review.opendev.org/openstack/designate refs/changes/18/140818/8 && git format-patch -1 --stdout FETCH_HEAD,"['designate/slappy/handler.py', 'designate/tests/test_slappy/test_handler.py']",2,55ab90176d92efea5ceb3fbeb74a458d321b3ea5,bp/new-agent," def test_receive_create(self): """""" Get a CREATE and ensure the response is right, and an AXFR is triggered, and the proper backend call is made """""" pass def test_receive_delete(self): """""" Get a DELETE and ensure the response is right, and that the proper backend call is made """""" pass def test_receive_bad_opcode(self): """""" Get a message with an unsupported OPCODE and make sure that it is refused """""" pass",,75,11
openstack%2Fpython-novaclient~master~Ie5412fafbb093e0948970f030e443bed360c71ea,openstack/python-novaclient,master,Ie5412fafbb093e0948970f030e443bed360c71ea,In strings/comments change Ip/ip to IP,MERGED,2015-01-17 07:53:29.000000000,2015-01-22 19:10:42.000000000,2015-01-22 19:10:41.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 679}, {'_account_id': 1849}, {'_account_id': 2750}]","[{'number': 1, 'created': '2015-01-17 07:53:29.000000000', 'files': ['novaclient/tests/v1_1/fakes.py', 'novaclient/v1_1/floating_ips.py', 'novaclient/v1_1/servers.py', 'novaclient/v1_1/shell.py', 'novaclient/v1_1/security_group_rules.py', 'novaclient/v1_1/floating_ip_dns.py', 'novaclient/v1_1/security_group_default_rules.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/c58bc211f7f6377f24b0d84881c22e59c8a78fd6', 'message': 'In strings/comments change Ip/ip to IP\n\nThe correct short form of ""Internet Protocol"" is IP.\n\nChange-Id: Ie5412fafbb093e0948970f030e443bed360c71ea\n'}]",0,148048,c58bc211f7f6377f24b0d84881c22e59c8a78fd6,12,5,1,167,,,0,"In strings/comments change Ip/ip to IP

The correct short form of ""Internet Protocol"" is IP.

Change-Id: Ie5412fafbb093e0948970f030e443bed360c71ea
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/48/148048/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/tests/v1_1/fakes.py', 'novaclient/v1_1/floating_ips.py', 'novaclient/v1_1/servers.py', 'novaclient/v1_1/shell.py', 'novaclient/v1_1/security_group_rules.py', 'novaclient/v1_1/floating_ip_dns.py', 'novaclient/v1_1/security_group_default_rules.py']",7,c58bc211f7f6377f24b0d84881c22e59c8a78fd6,ip_to_IP," raise exceptions.CommandError(_(""IP protocol must be 'tcp', 'udp'"""," raise exceptions.CommandError(_(""Ip protocol must be 'tcp', 'udp'""",29,29
openstack%2Fcinder~master~Ieadb1a7d301da146aa7c8308b3c8ec4b55d8ddc9,openstack/cinder,master,Ieadb1a7d301da146aa7c8308b3c8ec4b55d8ddc9,Fix oslo.middleware deprecation error,ABANDONED,2015-01-21 10:52:29.000000000,2015-01-22 19:06:56.000000000,,"[{'_account_id': 3}, {'_account_id': 2759}, {'_account_id': 7219}, {'_account_id': 9751}, {'_account_id': 10058}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12779}, {'_account_id': 12780}, {'_account_id': 13636}, {'_account_id': 13900}]","[{'number': 1, 'created': '2015-01-21 10:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5f3a177dc21392d77938e288264df093c7d33186', 'message': ""Fix oslo.middleware deprecation error\n\nThis import is causing './run_tests.sg -p' to throw a warning message. New\nimports should use the new path (oslo_middleware).\n\nChange-Id: Ieadb1a7d301da146aa7c8308b3c8ec4b55d8ddc9\n""}, {'number': 2, 'created': '2015-01-21 12:49:33.000000000', 'files': ['cinder/openstack/common/middleware/request_id.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/38f37b5d900e55d47f1dad4ae4d6daa34652df45', 'message': ""Fix oslo.middleware deprecation error\n\nThis import is causing './run_tests.sh -p' to throw a warning message.\nNew imports should use the new path (oslo_middleware).\n\nChange-Id: Ieadb1a7d301da146aa7c8308b3c8ec4b55d8ddc9\n""}]",1,148875,38f37b5d900e55d47f1dad4ae4d6daa34652df45,25,15,2,10058,,,0,"Fix oslo.middleware deprecation error

This import is causing './run_tests.sh -p' to throw a warning message.
New imports should use the new path (oslo_middleware).

Change-Id: Ieadb1a7d301da146aa7c8308b3c8ec4b55d8ddc9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/148875/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/openstack/common/middleware/request_id.py'],1,5f3a177dc21392d77938e288264df093c7d33186,fix-depreaction-warning,from oslo_middleware import request_id,from oslo.middleware import request_id,1,1
openstack%2Fneutron~master~I451a0763908adcd845721e8cda7f3189da6c8b81,openstack/neutron,master,I451a0763908adcd845721e8cda7f3189da6c8b81,Improve agent-based flat/vlan ml2 port binding failure logging,MERGED,2014-09-30 16:32:06.000000000,2015-01-22 18:58:37.000000000,2015-01-22 04:49:34.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 490}, {'_account_id': 704}, {'_account_id': 1653}, {'_account_id': 1689}, {'_account_id': 1923}, {'_account_id': 2874}, {'_account_id': 4395}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6502}, {'_account_id': 6598}, {'_account_id': 6659}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7244}, {'_account_id': 7787}, {'_account_id': 8645}, {'_account_id': 8655}, {'_account_id': 8873}, {'_account_id': 9361}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9695}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9846}, {'_account_id': 9925}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10119}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10192}, {'_account_id': 10294}, {'_account_id': 10354}, {'_account_id': 10370}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10969}, {'_account_id': 11825}, {'_account_id': 12040}, {'_account_id': 13051}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-09-30 16:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/84fe3a41954ad5191e6961ac9333a220122ce920', 'message': ""Improve ml2 port binding failure logging\n\nPort binding failure is an error and should be reported as such.\nAdditionally, if a port binding fails on a host due to missing\nbridge mappings, it's currently quite a mystery to find out. This\nshould be logged instead of requiring users to debug code. Not\neveryone enjoy debugging Python, as weird as that is!\n\nChange-Id: I451a0763908adcd845721e8cda7f3189da6c8b81\n""}, {'number': 2, 'created': '2014-09-30 17:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0a4ef55287d79df15df320d189e63ab1abf1bcb', 'message': ""Improve ml2 port binding failure logging\n\nPort binding failure is an error and should be reported as such.\nAdditionally, if a port binding fails on a host due to missing\nbridge mappings, it's currently quite a mystery to find out. This\nshould be logged instead of requiring users to debug code. Not\neveryone enjoy debugging Python, as weird as that is!\n\nChange-Id: I451a0763908adcd845721e8cda7f3189da6c8b81\n""}, {'number': 3, 'created': '2014-10-01 09:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb36877e8ac4ba6d208315532b6d54c291d94485', 'message': ""Improve ml2 port binding failure logging\n\nPort binding failure is an error and should be reported as such.\nAdditionally, if a port binding fails on a host due to missing\nbridge mappings, it's currently quite a mystery to find out. This\nshould be logged instead of requiring users to debug code. Not\neveryone enjoy debugging Python, as weird as that is!\n\nChange-Id: I451a0763908adcd845721e8cda7f3189da6c8b81\n""}, {'number': 4, 'created': '2014-10-05 19:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ec34ff9c2ad9584b24fa653723dd24c63f60d99', 'message': ""Improve ml2 port binding failure logging\n\nPort binding failure is an error and should be reported as such.\nAdditionally, if a port binding fails on a host due to missing\nbridge mappings, it's currently quite a mystery to find out. This\nshould be logged instead of requiring users to debug code. Not\neveryone enjoy debugging Python, as weird as that is!\n\nCloses-Bug: #1377710\nChange-Id: I451a0763908adcd845721e8cda7f3189da6c8b81\n""}, {'number': 5, 'created': '2014-11-16 09:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15be91f0ea84580860d2dd935805f659f3b781ff', 'message': ""Improve ovs/lb flat/vlan ml2 port binding failure logging\n\nPort binding failure is an error and should be reported as such.\nAdditionally, if a port binding fails on a host due to missing\nbridge mappings, it's currently quite a mystery to find out. This\nshould be logged instead of requiring users to debug code. Not\neveryone enjoy debugging Python, as weird as that is!\n\nCloses-Bug: #1377710\nChange-Id: I451a0763908adcd845721e8cda7f3189da6c8b81\n""}, {'number': 6, 'created': '2014-11-20 14:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad2d54667874e57da312fababb42e9bd5c133fb7', 'message': ""Improve agent-based flat/vlan ml2 port binding failure logging\n\nPort binding failure is an error and should be reported as such.\nAdditionally, if a port binding fails on a host due to missing\nbridge mappings, it's currently quite a mystery to find out. This\nshould be logged instead of requiring users to debug code. Not\neveryone enjoy debugging Python, as weird as that is!\n\nI refactored out the common code in check_segment_for_agent\nin order to make logging more robust for all agent-based mechanism\ndrivers.\n\nCloses-Bug: #1377710\nChange-Id: I451a0763908adcd845721e8cda7f3189da6c8b81\n""}, {'number': 7, 'created': '2014-11-23 14:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/742b8d2c76b30c66ca5edc4a4d4c11c243fb94d0', 'message': ""Improve agent-based flat/vlan ml2 port binding failure logging\n\nPort binding failure is an error and should be reported as such.\nAdditionally, if a port binding fails on a host due to missing\nbridge mappings, it's currently quite a mystery to find out. This\nshould be logged instead of requiring users to debug code. Not\neveryone enjoy debugging Python, as weird as that is!\n\nI refactored out the common code in check_segment_for_agent\nin order to make logging more robust for all agent-based mechanism\ndrivers.\n\nCloses-Bug: #1377710\nChange-Id: I451a0763908adcd845721e8cda7f3189da6c8b81\n""}, {'number': 8, 'created': '2014-12-07 09:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1301935472adfedfc28fa353b048e107ae5be589', 'message': ""Improve agent-based flat/vlan ml2 port binding failure logging\n\nPort binding failure is an error and should be reported as such.\nAdditionally, if a port binding fails on a host due to missing\nbridge mappings, it's currently quite a mystery to find out. This\nshould be logged instead of requiring users to debug code. Not\neveryone enjoy debugging Python, as weird as that is!\n\nI refactored out the common code in check_segment_for_agent\nin order to make logging more robust for all agent-based mechanism\ndrivers.\n\nCloses-Bug: #1377710\nChange-Id: I451a0763908adcd845721e8cda7f3189da6c8b81\n""}, {'number': 9, 'created': '2014-12-07 12:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/987595514fbc7c40a6e470b476760c44cee9d75d', 'message': ""Improve agent-based flat/vlan ml2 port binding failure logging\n\nPort binding failure is an error and should be reported as such.\nAdditionally, if a port binding fails on a host due to missing\nbridge mappings, it's currently quite a mystery to find out. This\nshould be logged instead of requiring users to debug code. Not\neveryone enjoy debugging Python, as weird as that is!\n\nI refactored out the common code in check_segment_for_agent\nin order to make logging more robust for all agent-based mechanism\ndrivers.\n\nCloses-Bug: #1377710\nChange-Id: I451a0763908adcd845721e8cda7f3189da6c8b81\n""}, {'number': 10, 'created': '2014-12-07 13:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ca174c58f89eff73a152c680dd84a1f595c35ca', 'message': ""Improve agent-based flat/vlan ml2 port binding failure logging\n\nPort binding failure is an error and should be reported as such.\nAdditionally, if a port binding fails on a host due to missing\nbridge mappings, it's currently quite a mystery to find out. This\nshould be logged instead of requiring users to debug code. Not\neveryone enjoy debugging Python, as weird as that is!\n\nI refactored out the common code in check_segment_for_agent\nin order to make logging more robust for all agent-based mechanism\ndrivers.\n\nCloses-Bug: #1377710\nChange-Id: I451a0763908adcd845721e8cda7f3189da6c8b81\n""}, {'number': 11, 'created': '2015-01-20 16:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/db024224facd841b443dcb90ae9fbc3de81b26cc', 'message': ""Improve agent-based flat/vlan ml2 port binding failure logging\n\nPort binding failure is an error and should be reported as such.\nAdditionally, if a port binding fails on a host due to missing\nbridge mappings, it's currently quite a mystery to find out. This\nshould be logged instead of requiring users to debug code. Not\neveryone enjoys debugging Python, as weird as that is!\n\nI refactored out the common code in check_segment_for_agent\nin order to make logging more robust for all agent-based mechanism\ndrivers. The OVS and LB mech drivers already log due to a bridge\nmappings mismatch and the other agent based mech drivers\nwill now log as well.\n\nCloses-Bug: #1377710\nChange-Id: I451a0763908adcd845721e8cda7f3189da6c8b81\n""}, {'number': 12, 'created': '2015-01-20 20:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/57ff187ec463178b48c9a15efbece3fa147e2ed0', 'message': ""Improve agent-based flat/vlan ml2 port binding failure logging\n\nPort binding failure is an error and should be reported as such.\nAdditionally, if a port binding fails on a host due to missing\nbridge mappings, it's currently quite a mystery to find out. This\nshould be logged instead of requiring users to debug code. Not\neveryone enjoys debugging Python, as weird as that is!\n\nI refactored out the common code in check_segment_for_agent\nin order to make logging more robust for all agent-based mechanism\ndrivers. The OVS and LB mech drivers already log due to a bridge\nmappings mismatch and the other agent based mech drivers\nwill now log as well.\n\nCloses-Bug: #1377710\nChange-Id: I451a0763908adcd845721e8cda7f3189da6c8b81\n""}, {'number': 13, 'created': '2015-01-21 13:18:43.000000000', 'files': ['neutron/plugins/ml2/drivers/mech_linuxbridge.py', 'neutron/plugins/ml2/drivers/mlnx/mech_mlnx.py', 'neutron/tests/unit/ml2/drivers/test_ofagent_mech.py', 'neutron/plugins/ml2/drivers/mech_ofagent.py', 'neutron/plugins/ml2/drivers/mech_hyperv.py', 'neutron/plugins/ml2/managers.py', 'neutron/tests/unit/ml2/test_mech_hyperv.py', 'neutron/plugins/ml2/drivers/mech_agent.py', 'neutron/plugins/ml2/drivers/mech_openvswitch.py', 'neutron/tests/unit/ml2/test_mech_linuxbridge.py', 'neutron/tests/unit/ml2/test_mech_openvswitch.py', 'neutron/tests/unit/ml2/drivers/test_mech_mlnx.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/72e285ac1aad2f5a4b246435cf4d4b0126fb3431', 'message': ""Improve agent-based flat/vlan ml2 port binding failure logging\n\nPort binding failure is an error and should be reported as such.\nAdditionally, if a port binding fails on a host due to missing\nbridge mappings, it's currently quite a mystery to find out. This\nshould be logged instead of requiring users to debug code. Not\neveryone enjoys debugging Python, as weird as that is!\n\nI refactored out the common code in check_segment_for_agent\nin order to make logging more robust for all agent-based mechanism\ndrivers. The OVS and LB mech drivers already log due to a bridge\nmappings mismatch and the other agent based mech drivers\nwill now log as well.\n\nCloses-Bug: #1377710\nChange-Id: I451a0763908adcd845721e8cda7f3189da6c8b81\n""}]",46,125115,72e285ac1aad2f5a4b246435cf4d4b0126fb3431,340,51,13,8873,,,0,"Improve agent-based flat/vlan ml2 port binding failure logging

Port binding failure is an error and should be reported as such.
Additionally, if a port binding fails on a host due to missing
bridge mappings, it's currently quite a mystery to find out. This
should be logged instead of requiring users to debug code. Not
everyone enjoys debugging Python, as weird as that is!

I refactored out the common code in check_segment_for_agent
in order to make logging more robust for all agent-based mechanism
drivers. The OVS and LB mech drivers already log due to a bridge
mappings mismatch and the other agent based mech drivers
will now log as well.

Closes-Bug: #1377710
Change-Id: I451a0763908adcd845721e8cda7f3189da6c8b81
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/125115/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/managers.py', 'neutron/plugins/ml2/drivers/mech_openvswitch.py']",2,84fe3a41954ad5191e6961ac9333a220122ce920,bug/1377710,"from neutron.openstack.common.gettextutils import _LE physnet = segment[api.PHYSICAL_NETWORK] if physnet not in mappings: LOG.error( _LE('Network %(network_id)s is connected to physical ' 'network %(physnet)s, but agent %(agent)s reported ' 'physical networks %(mappings)s. ' 'The physical network must be configured on the ' 'agent.'), {'network_id': segment['id'], 'physnet': physnet, 'agent': agent['host'], 'mappings': mappings}) return False return True", return segment[api.PHYSICAL_NETWORK] in mappings,19,4
openstack%2Fmonasca-ui~master~I5ed686e3e7c6cc7da84e87f154f8c28d7ed53366,openstack/monasca-ui,master,I5ed686e3e7c6cc7da84e87f154f8c28d7ed53366,Allow edits to threshold value,MERGED,2015-01-22 18:31:11.000000000,2015-01-22 18:51:21.000000000,2015-01-22 18:51:20.000000000,"[{'_account_id': 3}, {'_account_id': 10046}, {'_account_id': 11809}, {'_account_id': 12512}]","[{'number': 1, 'created': '2015-01-22 18:31:11.000000000', 'files': ['monitoring/alarmdefs/forms.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/208f26c6493c720ca7d52a1114ab39c6308aad5d', 'message': 'Allow edits to threshold value\n\nChange-Id: I5ed686e3e7c6cc7da84e87f154f8c28d7ed53366\n'}]",0,149361,208f26c6493c720ca7d52a1114ab39c6308aad5d,8,4,1,6230,,,0,"Allow edits to threshold value

Change-Id: I5ed686e3e7c6cc7da84e87f154f8c28d7ed53366
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/61/149361/1 && git format-patch -1 --stdout FETCH_HEAD,['monitoring/alarmdefs/forms.py'],1,208f26c6493c720ca7d52a1114ab39c6308aad5d,," alarm_def = api.monitor.alarmdef_get(request, self.initial['id']) match_by = alarm_def['match_by'],",,2,0
openstack%2Ftaskflow~master~If47f72d02561d0b5d556ac386869a6122c8b871d,openstack/taskflow,master,If47f72d02561d0b5d556ac386869a6122c8b871d,Increase robustness of WBE producer/consumers,MERGED,2015-01-17 01:07:09.000000000,2015-01-22 18:41:50.000000000,2015-01-22 18:41:48.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 9648}]","[{'number': 1, 'created': '2015-01-17 01:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/ce3fce34121214163dcf00470644597c50d84b91', 'message': 'Increase robustness of WBE producer/consumers\n\nUse the kombu provided ensure() decorator/wrapper along\nwith sensible default settings to ensure that retries are\nattempted when kombu detects recoverable connection or\nrecoverable channel errors have occurred.\n\nChange-Id: If47f72d02561d0b5d556ac386869a6122c8b871d\n'}, {'number': 2, 'created': '2015-01-17 01:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/bbbee57311296ef650f0040ddf58fee087ecbbd9', 'message': 'Increase robustness of WBE producer/consumers\n\nUse the kombu provided ensure() decorator/wrapper along\nwith sensible default settings to ensure that retries are\nattempted when kombu detects recoverable connection or\nrecoverable channel errors have occurred.\n\nChange-Id: If47f72d02561d0b5d556ac386869a6122c8b871d\n'}, {'number': 3, 'created': '2015-01-17 01:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/a9f2a1ee2a6e81b998ec0cb8c5060525c22a743f', 'message': 'Increase robustness of WBE producer/consumers\n\nUse the kombu provided ensure() decorator/wrapper along\nwith sensible default settings to ensure that retries are\nattempted when kombu detects recoverable connection or\nrecoverable channel errors have occurred.\n\nChange-Id: If47f72d02561d0b5d556ac386869a6122c8b871d\n'}, {'number': 4, 'created': '2015-01-18 01:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2c564610b57e2912750645aec45ccf05983a15a9', 'message': 'Increase robustness of WBE producer/consumers\n\nUse the kombu provided ensure() decorator/wrapper along\nwith sensible default settings to ensure that retries are\nattempted when kombu detects recoverable connection or\nrecoverable channel errors have occurred.\n\nChange-Id: If47f72d02561d0b5d556ac386869a6122c8b871d\n'}, {'number': 5, 'created': '2015-01-19 01:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/738996c7b36d9c4953052b2a5fbb440b80001a60', 'message': 'Increase robustness of WBE producer/consumers\n\nUse the kombu provided ensure() decorator/wrapper along\nwith sensible default settings to ensure that retries are\nattempted when kombu detects recoverable connection or\nrecoverable channel errors have occurred.\n\nChange-Id: If47f72d02561d0b5d556ac386869a6122c8b871d\n'}, {'number': 6, 'created': '2015-01-19 01:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/c5e477846e42c0f2843cb11b0decdf6815250440', 'message': 'Increase robustness of WBE producer/consumers\n\nUse the kombu provided ensure() decorator/wrapper along\nwith sensible default settings to ensure that retries are\nattempted when kombu detects recoverable connection or\nrecoverable channel errors have occurred.\n\nChange-Id: If47f72d02561d0b5d556ac386869a6122c8b871d\n'}, {'number': 7, 'created': '2015-01-19 19:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/dc807cc620ca349a8a23e59957b6a42a4fd15105', 'message': 'Increase robustness of WBE producer/consumers\n\nUse the kombu provided ensure() decorator/wrapper along\nwith sensible default settings to ensure that retries are\nattempted when kombu detects recoverable connection or\nrecoverable channel errors have occurred.\n\nChange-Id: If47f72d02561d0b5d556ac386869a6122c8b871d\n'}, {'number': 8, 'created': '2015-01-19 19:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/5aa53b7c96dca39709eb298917c4e8d265e46520', 'message': 'Increase robustness of WBE producer/consumers\n\nUse the kombu provided ensure() decorator/wrapper along\nwith sensible default settings to ensure that retries are\nattempted when kombu detects recoverable connection or\nrecoverable channel errors have occurred.\n\nChange-Id: If47f72d02561d0b5d556ac386869a6122c8b871d\n'}, {'number': 9, 'created': '2015-01-20 03:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/891742b8c157cc2d76ae54a78a2f082daaf8245c', 'message': 'Increase robustness of WBE producer/consumers\n\nUse the kombu provided ensure() decorator/wrapper along\nwith sensible default settings to ensure that retries are\nattempted when kombu detects recoverable connection or\nrecoverable channel errors have occurred.\n\nChange-Id: If47f72d02561d0b5d556ac386869a6122c8b871d\n'}, {'number': 10, 'created': '2015-01-20 23:11:28.000000000', 'files': ['taskflow/engines/worker_based/engine.py', 'taskflow/engines/worker_based/proxy.py', 'taskflow/tests/unit/worker_based/test_proxy.py', 'taskflow/tests/unit/worker_based/test_creation.py', 'taskflow/engines/worker_based/worker.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/cb27080ea3cd5cddd7f91d866f6a9d1214c9e885', 'message': 'Increase robustness of WBE producer/consumers\n\nUse the kombu provided ensure() decorator/wrapper along\nwith sensible default settings to ensure that retries are\nattempted when kombu detects recoverable connection or\nrecoverable channel errors have occurred.\n\nChange-Id: If47f72d02561d0b5d556ac386869a6122c8b871d\n'}]",0,148034,cb27080ea3cd5cddd7f91d866f6a9d1214c9e885,27,3,10,1297,,,0,"Increase robustness of WBE producer/consumers

Use the kombu provided ensure() decorator/wrapper along
with sensible default settings to ensure that retries are
attempted when kombu detects recoverable connection or
recoverable channel errors have occurred.

Change-Id: If47f72d02561d0b5d556ac386869a6122c8b871d
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/34/148034/8 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/worker_based/proxy.py', 'taskflow/tests/unit/worker_based/test_proxy.py']",2,ce3fce34121214163dcf00470644597c50d84b91,ensure-retry," def _ensure(obj, func, *args, **kwargs): return func self.conn_inst_mock.ensure = mock.MagicMock(side_effect=_ensure) self.conn_inst_mock.Producer.return_value.__enter__ = mock.MagicMock() self.conn_inst_mock.Producer.return_value.__exit__ = mock.MagicMock() mock.call.connection.ensure(mock.ANY, mock.ANY, interval_start=mock.ANY, interval_max=mock.ANY, max_retries=mock.ANY, interval_step=mock.ANY, errback=mock.ANY), def proxy_publish_calls(self, calls, routing_key, exc_type=mock.ANY): return [ mock.call.connection.Producer(), mock.call.connection.Producer().__enter__(), mock.call.connection.ensure(mock.ANY, mock.ANY, interval_start=mock.ANY, interval_max=mock.ANY, max_retries=mock.ANY, interval_step=mock.ANY, errback=mock.ANY), mock.call.Queue(name=self._queue_name(routing_key), routing_key=routing_key, exchange=self.exchange_inst_mock, durable=False, auto_delete=True, channel=None), ] + calls + [ mock.call.connection.Producer().__exit__(exc_type, mock.ANY, mock.ANY) ] p = self.proxy(reset_master_mock=True) p.publish(msg_mock, routing_key, correlation_id=task_uuid) mock_producer = mock.call.connection.Producer() master_mock_calls = self.proxy_publish_calls([ mock_producer.__enter__().publish(body=msg_data, routing_key=routing_key, exchange=self.exchange_inst_mock, correlation_id=task_uuid, declare=[self.queue_inst_mock], type=msg_mock.TYPE, reply_to=None) ], routing_key)"," self.producers_mock = self.patch( ""taskflow.engines.worker_based.proxy.kombu.producers"", attach_as='producers') self.producers_mock.__getitem__().acquire().__enter__.return_value =\ self.producer_inst_mock self.proxy(reset_master_mock=True).publish( msg_mock, routing_key, correlation_id=task_uuid) master_mock_calls = [ mock.call.Queue(name=self._queue_name(routing_key), exchange=self.exchange_inst_mock, routing_key=routing_key, durable=False, auto_delete=True, channel=None), mock.call.producer.publish(body=msg_data, routing_key=routing_key, exchange=self.exchange_inst_mock, correlation_id=task_uuid, declare=[self.queue_inst_mock], type=msg_mock.TYPE, reply_to=None) ]",105,41
openstack%2Fsolum~master~Iee1b37286c6bad6b8107d978ea79b8eebbeb18b0,openstack/solum,master,Iee1b37286c6bad6b8107d978ea79b8eebbeb18b0,Fixed broken query to heat_stack_component,MERGED,2015-01-07 20:15:45.000000000,2015-01-22 18:39:31.000000000,2015-01-22 18:39:13.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 1375}, {'_account_id': 6662}, {'_account_id': 9095}, {'_account_id': 14554}]","[{'number': 1, 'created': '2015-01-07 20:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/b16a6f6de95cf98c82f0ca4cc3a7d036f1c53f94', 'message': 'Fixed broken query to heat_stack_component\n\nChange-Id: Iee1b37286c6bad6b8107d978ea79b8eebbeb18b0\n'}, {'number': 2, 'created': '2015-01-08 23:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/8fe8d20526be5c34319612278fc547ca1044a6cd', 'message': 'Fixed broken query to heat_stack_component\n\nCloses-bug: #1408120\nChange-Id: Iee1b37286c6bad6b8107d978ea79b8eebbeb18b0\n'}, {'number': 3, 'created': '2015-01-22 17:55:07.000000000', 'files': ['solum/tests/deployer/handlers/test_heat.py', 'solum/deployer/handlers/heat.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/38e9e2eb49d4f224e9c67b96c338ef4c38e00467', 'message': 'Fixed broken query to heat_stack_component\n\nCloses-bug: #1408120\nChange-Id: Iee1b37286c6bad6b8107d978ea79b8eebbeb18b0\n'}]",0,145568,38e9e2eb49d4f224e9c67b96c338ef4c38e00467,30,6,3,2506,,,0,"Fixed broken query to heat_stack_component

Closes-bug: #1408120
Change-Id: Iee1b37286c6bad6b8107d978ea79b8eebbeb18b0
",git fetch https://review.opendev.org/openstack/solum refs/changes/68/145568/2 && git format-patch -1 --stdout FETCH_HEAD,"['solum/deployer/handlers/heat.py', 'solum/tests/deployer/handlers/test_heat.py']",2,b16a6f6de95cf98c82f0ca4cc3a7d036f1c53f94,bug/1408120," 'heat_stack', 'heat_stack',"," 'Heat Stack', 'Heat Stack',",3,3
openstack%2Fneutron~master~I2b66545ebfe5e7acf0a89fac58dc22e72d0df099,openstack/neutron,master,I2b66545ebfe5e7acf0a89fac58dc22e72d0df099,tests: drop usage of SecurityGroupServerRpcApiMixin,MERGED,2015-01-16 16:16:04.000000000,2015-01-22 18:30:50.000000000,2015-01-22 18:30:48.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6854}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-16 16:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d622f517c41539a5a6dda0ef88546cb15c099914', 'message': 'tests: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the bigswitch plugin.\nThis is required to be able to eventually move this API into a\nmessaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as a\nmixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I2b66545ebfe5e7acf0a89fac58dc22e72d0df099\n'}, {'number': 2, 'created': '2015-01-16 17:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b7dd0f0fdd8e7ee5b56f537de68cf5b43f592e9', 'message': 'tests: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the unit tests.\nThis is required to be able to eventually move this API into a\nmessaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as a\nmixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I2b66545ebfe5e7acf0a89fac58dc22e72d0df099\n'}, {'number': 3, 'created': '2015-01-21 14:49:39.000000000', 'files': ['neutron/tests/unit/test_security_groups_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4d8c3b0ad675ac77b5465e3050a592c2edc4f11', 'message': 'tests: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the unit tests.\nThis is required to be able to eventually move this API into a\nmessaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as a\nmixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I2b66545ebfe5e7acf0a89fac58dc22e72d0df099\n'}]",0,147907,b4d8c3b0ad675ac77b5465e3050a592c2edc4f11,46,20,3,1561,,,0,"tests: drop usage of SecurityGroupServerRpcApiMixin

Drop usage of SecurityGroupServerRpcApiMixin in the unit tests.
This is required to be able to eventually move this API into a
messaging namespace.  It needs to use its own messaging client
instance, instead of a different one it gets after being used as a
mixin.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: I2b66545ebfe5e7acf0a89fac58dc22e72d0df099
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/147907/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/test_security_groups_rpc.py'],1,d622f517c41539a5a6dda0ef88546cb15c099914,bp/rpc-docs-and-namespaces, rpcapi = sg_rpc.SecurityGroupServerRpcApi('fake_topic'),"from neutron.agent import rpc as agent_rpcclass FakeSGRpcApi(agent_rpc.PluginApi, sg_rpc.SecurityGroupServerRpcApiMixin): pass rpcapi = FakeSGRpcApi('fake_topic')",1,7
openstack%2Fneutron~master~I6c3f3325b4337e55aed2316dade8025425c4e919,openstack/neutron,master,I6c3f3325b4337e55aed2316dade8025425c4e919,ovs: drop usage of SecurityGroupServerRpcApiMixin,MERGED,2015-01-16 16:16:04.000000000,2015-01-22 18:30:34.000000000,2015-01-22 18:30:33.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 6854}, {'_account_id': 7249}, {'_account_id': 8645}, {'_account_id': 9380}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-16 16:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed7f7b699a2d47710afa77e6b62c0087819d6791', 'message': 'ovs: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the bigswitch plugin.\nThis is required to be able to eventually move this API into a\nmessaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as a\nmixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I6c3f3325b4337e55aed2316dade8025425c4e919\n'}, {'number': 2, 'created': '2015-01-16 17:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3830f757043e7141ce03f66862cefe05eed95e8', 'message': 'ovs: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the ovs plugin.\nThis is required to be able to eventually move this API into a\nmessaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as a\nmixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I6c3f3325b4337e55aed2316dade8025425c4e919\n'}, {'number': 3, 'created': '2015-01-21 14:49:39.000000000', 'files': ['neutron/plugins/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c30ca3fc42d09b1cb8fd1f2f877f21fcbe396732', 'message': 'ovs: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the ovs plugin.\nThis is required to be able to eventually move this API into a\nmessaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as a\nmixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I6c3f3325b4337e55aed2316dade8025425c4e919\n'}]",1,147906,c30ca3fc42d09b1cb8fd1f2f877f21fcbe396732,51,22,3,1561,,,0,"ovs: drop usage of SecurityGroupServerRpcApiMixin

Drop usage of SecurityGroupServerRpcApiMixin in the ovs plugin.
This is required to be able to eventually move this API into a
messaging namespace.  It needs to use its own messaging client
instance, instead of a different one it gets after being used as a
mixin.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: I6c3f3325b4337e55aed2316dade8025425c4e919
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/147906/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/openvswitch/agent/ovs_neutron_agent.py'],1,ed7f7b699a2d47710afa77e6b62c0087819d6791,bp/rpc-docs-and-namespaces,"class OVSPluginApi(agent_rpc.PluginApi, dvr_rpc.DVRServerRpcApiMixin): self.sg_plugin_rpc, self.sg_plugin_rpc = sg_rpc.SecurityGroupServerRpcApi(topics.PLUGIN)","class OVSPluginApi(agent_rpc.PluginApi, dvr_rpc.DVRServerRpcApiMixin, sg_rpc.SecurityGroupServerRpcApiMixin): self.plugin_rpc,",3,4
openstack%2Fneutron~master~I635fbeb57f4d5ee8a7ce4ca353a32b543e7d2433,openstack/neutron,master,I635fbeb57f4d5ee8a7ce4ca353a32b543e7d2433,oneconvergence: drop usage of SecurityGroupServerRpcApiMixin,MERGED,2015-01-16 16:16:04.000000000,2015-01-22 18:30:16.000000000,2015-01-22 18:30:15.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 841}, {'_account_id': 5170}, {'_account_id': 6854}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 13107}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-16 16:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c29b0ffa3527f21ab4c1031cf067d4080340d9db', 'message': 'oneconvergence: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the bigswitch plugin.\nThis is required to be able to eventually move this API into a\nmessaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as a\nmixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I635fbeb57f4d5ee8a7ce4ca353a32b543e7d2433\n'}, {'number': 2, 'created': '2015-01-16 17:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78014e94f5c88483005fba9be117fc481a4667e6', 'message': 'oneconvergence: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the oneconvergence\nplugin.  This is required to be able to eventually move this API into\na messaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as a\nmixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I635fbeb57f4d5ee8a7ce4ca353a32b543e7d2433\n'}, {'number': 3, 'created': '2015-01-21 14:49:39.000000000', 'files': ['neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/884b7093da316a253f7a379a6187301537b6cf5c', 'message': 'oneconvergence: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the oneconvergence\nplugin.  This is required to be able to eventually move this API into\na messaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as a\nmixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I635fbeb57f4d5ee8a7ce4ca353a32b543e7d2433\n'}]",1,147905,884b7093da316a253f7a379a6187301537b6cf5c,49,21,3,1561,,,0,"oneconvergence: drop usage of SecurityGroupServerRpcApiMixin

Drop usage of SecurityGroupServerRpcApiMixin in the oneconvergence
plugin.  This is required to be able to eventually move this API into
a messaging namespace.  It needs to use its own messaging client
instance, instead of a different one it gets after being used as a
mixin.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: I635fbeb57f4d5ee8a7ce4ca353a32b543e7d2433
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/147905/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/oneconvergence/agent/nvsd_neutron_agent.py'],1,c29b0ffa3527f21ab4c1031cf067d4080340d9db,bp/rpc-docs-and-namespaces, self.plugin_rpc = sg_rpc.SecurityGroupServerRpcApi(topics.PLUGIN),"from neutron.common import rpc as n_rpcclass SecurityGroupServerRpcApi(sg_rpc.SecurityGroupServerRpcApiMixin): def __init__(self, topic): self.topic = topic target = messaging.Target(topic=topic, version=sg_rpc.SG_RPC_VERSION) self.client = n_rpc.get_client(target) self.plugin_rpc = SecurityGroupServerRpcApi(topics.PLUGIN)",1,10
openstack%2Fneutron~master~I932072bd5ab40c58c0706264cf5087d4f5786fce,openstack/neutron,master,I932072bd5ab40c58c0706264cf5087d4f5786fce,ofagent: drop usage of SecurityGroupServerRpcApiMixin,MERGED,2015-01-16 16:16:04.000000000,2015-01-22 18:28:04.000000000,2015-01-22 18:28:03.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 841}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6854}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-16 16:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a234e1e5b9e5d4a901b88d93ec295c9c0a51cc08', 'message': 'ofagent: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the bigswitch plugin.\nThis is required to be able to eventually move this API into a\nmessaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as a\nmixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I932072bd5ab40c58c0706264cf5087d4f5786fce\n'}, {'number': 2, 'created': '2015-01-16 17:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd4edb654a9cab13fbf8ca93f870346715f39d99', 'message': 'ofagent: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the ofagent plugin.\nThis is required to be able to eventually move this API into a\nmessaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as a\nmixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I932072bd5ab40c58c0706264cf5087d4f5786fce\n'}, {'number': 3, 'created': '2015-01-21 14:49:39.000000000', 'files': ['neutron/plugins/ofagent/agent/ofa_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/010750960a68053ea622ead98c4df9314b2048d5', 'message': 'ofagent: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the ofagent plugin.\nThis is required to be able to eventually move this API into a\nmessaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as a\nmixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: I932072bd5ab40c58c0706264cf5087d4f5786fce\n'}]",1,147904,010750960a68053ea622ead98c4df9314b2048d5,52,20,3,1561,,,0,"ofagent: drop usage of SecurityGroupServerRpcApiMixin

Drop usage of SecurityGroupServerRpcApiMixin in the ofagent plugin.
This is required to be able to eventually move this API into a
messaging namespace.  It needs to use its own messaging client
instance, instead of a different one it gets after being used as a
mixin.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: I932072bd5ab40c58c0706264cf5087d4f5786fce
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/147904/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ofagent/agent/ofa_neutron_agent.py'],1,a234e1e5b9e5d4a901b88d93ec295c9c0a51cc08,bp/rpc-docs-and-namespaces," self.sg_plugin_rpc, self.plugin_rpc = agent_rpc.PluginApi(topics.PLUGIN) self.sg_plugin_rpc = sg_rpc.SecurityGroupServerRpcApi(topics.PLUGIN)","class OFAPluginApi(agent_rpc.PluginApi, sg_rpc.SecurityGroupServerRpcApiMixin): pass self.plugin_rpc, self.plugin_rpc = OFAPluginApi(topics.PLUGIN)",3,7
openstack%2Fpython-solumclient~master~If40e81dcf0fb0f69877ddf01487af21e849bc12e,openstack/python-solumclient,master,If40e81dcf0fb0f69877ddf01487af21e849bc12e,Adds first set of 'app' commands,MERGED,2015-01-20 21:49:35.000000000,2015-01-22 18:24:25.000000000,2015-01-22 18:24:25.000000000,"[{'_account_id': 3}, {'_account_id': 1375}, {'_account_id': 2506}, {'_account_id': 9095}]","[{'number': 1, 'created': '2015-01-20 21:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/5dad6bd84669913ed11f16c7c814cabe7c0bf17f', 'message': ""Adds first set of 'app' commands\n\nFirst on the block are create, deploy, and delete.\nShow and list are there vestigially, until we have\nthe power to associate assemblies and plans behind\nthe scenes.\n\nChange-Id: If40e81dcf0fb0f69877ddf01487af21e849bc12e\n""}, {'number': 2, 'created': '2015-01-21 16:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/089ed680f348577cfa89f0c6834261d2a5aa14f0', 'message': ""Adds first set of 'app' commands\n\nFirst on the block are create, deploy, and delete.\nShow and list are there vestigially, until we have\nthe power to associate assemblies and plans behind\nthe scenes.\n\nChange-Id: If40e81dcf0fb0f69877ddf01487af21e849bc12e\n""}, {'number': 3, 'created': '2015-01-21 19:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/bb4cc5b0a4dedd5ead7bffcacb714cf9bedef3f7', 'message': ""Adds first set of 'app' commands\n\nFirst on the block are create, deploy, and delete.\nShow and list are there vestigially, until we have\nthe power to associate assemblies and plans behind\nthe scenes.\n\nChange-Id: If40e81dcf0fb0f69877ddf01487af21e849bc12e\n""}, {'number': 4, 'created': '2015-01-21 20:16:28.000000000', 'files': ['solumclient/solum.py'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/0b7b237633c1c303d37a341484b91d7343068e1c', 'message': ""Adds first set of 'app' commands\n\nFirst on the block are create, deploy, and delete.\nShow and list are there vestigially, until we have\nthe power to associate assemblies and plans behind\nthe scenes.\n\nChange-Id: If40e81dcf0fb0f69877ddf01487af21e849bc12e\n""}]",12,148732,0b7b237633c1c303d37a341484b91d7343068e1c,18,4,4,1375,,,0,"Adds first set of 'app' commands

First on the block are create, deploy, and delete.
Show and list are there vestigially, until we have
the power to associate assemblies and plans behind
the scenes.

Change-Id: If40e81dcf0fb0f69877ddf01487af21e849bc12e
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/32/148732/1 && git format-patch -1 --stdout FETCH_HEAD,['solumclient/solum.py'],1,5dad6bd84669913ed11f16c7c814cabe7c0bf17f,add-app-commands,"class AppCommands(cli_utils.CommandsBase): """"""Commands for working with applications. Available commands: solum app list Print an index of all deployed applications. solum app show <APP> Print detailed information about one application. solum app create [--planfile <PLANFILE>] [--git-url <GIT_URL>] [--langpack <LANGPACK>] [--run-cmd <RUN_CMD>] [--name <NAME>] [--desc <DESCRIPTION>] Register a new application with Solum. solum app deploy <APP> Deploy an application, building any applicable artifacts first. solum app delete <APP> Delete an application and all related artifacts. """""" def _get_assemblies_by_plan(self, plan): # TODO(datsun180b): Write this. return [] def _show_public_keys(self, artifacts): # Shamelessly plucked from PlanCommands. public_keys = {} if artifacts: for arti in artifacts: if arti.content and ('public_key' in arti.content): public_keys.update( {arti.content['href']: arti.content['public_key']}) if public_keys: print('Important:') print(' Solum has generated SSH keypair for your ' + 'private github repository/ies.') print(' Please add these public SSH keys as github deploy keys.') print(' This enables solum assembly create to securely ' + 'clone/pull your private repository/ies.') print(' More details on github deploy keys: ' + 'https://developer.github.com/guides/' + 'managing-deploy-keys/#deploy-keys\n') for href, pub_key in public_keys.items(): print('%s :\n %s' % (href, pub_key)) def list(self): """"""Print a list of all deployed applications."""""" # This is just ""assembly list"". # TODO(datsun180b): List each plan and its associated # assemblies. fields = ['uuid', 'name', 'description', 'status', 'created_at', 'updated_at'] assemblies = self.client.assemblies.list() cliutils.print_list(assemblies, fields, sortby_index=5) def show(self): """"""Print detailed information about one application."""""" # This is just ""plan show <PLAN>"". # TODO(datsun180b): List the details of the plan, and # also the current build state, build number, and running # assembly status. We don't have all the pieces for that yet. self.parser.add_argument('app', help=""Application name"") self.parser._names['app'] = 'application' args, _ = self.parser.parse_known_args() plan = self.client.plans.find(name_or_id=args.app) fields = ['uuid', 'name', 'description', 'uri', 'artifacts'] data = dict([(f, getattr(plan, f, '')) for f in fields]) artifacts = copy.deepcopy(data['artifacts']) del data['artifacts'] cliutils.print_dict(data, wrap=72) self._show_public_keys(artifacts) def create(self): """"""Register a new application with Solum."""""" # This is just ""plan create"" with a little proactive # parsing of the planfile. self.parser.add_argument('--planfile', help=""Local planfile location"") self.parser.add_argument('--git-url', help='Source repo') self.parser.add_argument('--langpack', help='Language pack') self.parser.add_argument('--run-cmd', help=""Application entry point"") self.parser.add_argument('--name', help=""Application name"") self.parser.add_argument('--desc', help=""Application description"") args, _ = self.parser.parse_known_args() # Get the planfile. If it wasn't specified as an arg, # prompt for it now. planfile = args.planfile if planfile is None: planfile = raw_input(""Please specify a planfile.\n> "") # Check for the language pack. Check args first, then planfile. # If it's neither of those places, prompt for it and update the # plan definition. plan_definition = {} try: with open(planfile) as definition_file: definition = definition_file.read() plan_definition = yamlutils.load(definition) except IOError: message = ""Could not open plan file %s."" % planfile raise exc.CommandError(message=message) except ValueError: message = (""Plan file %s was not a valid YAML mapping."" % planfile) raise exc.CommandError(message=message) # NOTE: This assumes the plan contains exactly one artifact. # Check for the language pack. Check args first, then planfile. # If it's neither of those places, prompt for it and update the # plan definition. langpack = None if args.langpack is not None: langpack = args.langpack if plan_definition['artifacts'][0].get('languagepack') is None: langpacks = self.client.languagepacks.list() lpnames = [lp.name for lp in langpacks] + ['auto'] fields = ['uuid', 'name', 'description', 'compiler_versions', 'os_platform'] cliutils.print_list(langpacks, fields) langpack = raw_input(""Please choose a languagepack from the "" ""above list, or 'auto'.\n> "") while langpack not in lpnames: langpack = raw_input(""You must choose one of the named "" ""language packs, or 'auto'.\n> "") plan_definition['artifacts'][0]['language_pack'] = langpack # Check for the git repo URL. Check args first, then the planfile. # If it's neither of those places, prompt for it and update the # plan definition. git_url = None if args.git_url is not None: git_url = args.git_url if plan_definition['artifacts'][0]['content'].get('href') is None: git_url = raw_input(""Please specify a git repository URL for "" ""your application.\n> "") plan_definition['artifacts'][0]['content']['href'] = git_url # Check for the entry point. Check args first, then the planfile. # If it's neither of those places, prompt for it and update the # plan definition. ''' run_cmd = None if args.run_cmd is not None: run_cmd = args.run_cmd if plan_definition['artifacts'][0].get('run_cmd') is None: run_cmd = raw_input(""Please specify an entry point for your "" ""application.\n> "") plan_definition['artifacts'][0]['run_cmd'] = run_cmd ''' # Update name and description if specified. if args.name is not None: plan_definition['name'] = args.name if args.desc is not None: plan_definition['description'] = args.desc plan = self.client.plans.create(yamlutils.dump(plan_definition)) fields = ['uuid', 'name', 'description', 'uri', 'artifacts'] data = dict([(f, getattr(plan, f, '')) for f in fields]) artifacts = copy.deepcopy(data['artifacts']) del data['artifacts'] cliutils.print_dict(data, wrap=72) self._show_public_keys(artifacts) def deploy(self): """"""Deploy an application, building any applicable artifacts first."""""" # This is just ""assembly create"" with a little bit of introspection. # TODO(datsun180b): Add build() method, and add --build-id argument # to this method to allow for build-only and deploy-only workflows. self.parser.add_argument('app', help=""Application name"") self.parser._names['app'] = 'application' args, _ = self.parser.parse_known_args() plan = self.client.plans.find(name_or_id=args.app) assembly = self.client.assemblies.create(name=plan.name, description=plan.description, plan_uri=plan.uri) fields = ['uuid', 'name', 'description', 'status', 'application_uri', 'trigger_uri'] data = dict([(f, getattr(assembly, f, '')) for f in fields]) cliutils.print_dict(data, wrap=72) def delete(self): """"""Delete an application and all related artifacts."""""" # This is ""assembly delete"" followed by ""plan delete"". self.parser.add_argument('app', help=""Application name"") self.parser._names['app'] = 'application' args, _ = self.parser.parse_known_args() plan = self.client.plans.find(name_or_id=args.app) assemblies = [a for a in self.client.assemblies.list() if a.plan_uri.split('/')[-1] == plan.uuid] for assembly in assemblies: assem = self.client.assemblies.find(name_or_id=assembly.uuid) cli_assem.AssemblyManager(self.client).delete( assembly_id=str(assem.uuid)) cli_plan.PlanManager(self.client).delete(plan_id=str(plan.uuid)) solum app list Print an index of all deployed applications. solum app show <APP> Print detailed information about one application. solum app create [--planfile <PLANFILE>] [--git-url <GIT_URL>] [--langpack <LANGPACK>] [--run-cmd <RUN_CMD>] [--name <NAME>] [--desc <DESCRIPTION>] Register a new application with Solum. solum app deploy <APP> Deploy an application, building any applicable artifacts first. solum app delete <APP> Delete an application and all related artifacts. 'app': AppCommands,",,239,0
openstack%2Fpython-solumclient~master~I7c7be26689446a576f3334cfa0ca04ac2f214129,openstack/python-solumclient,master,I7c7be26689446a576f3334cfa0ca04ac2f214129,Better parsing and help messages,MERGED,2015-01-20 21:49:35.000000000,2015-01-22 18:24:08.000000000,2015-01-22 18:24:07.000000000,"[{'_account_id': 3}, {'_account_id': 2506}, {'_account_id': 9095}]","[{'number': 1, 'created': '2015-01-20 21:49:35.000000000', 'files': ['solumclient/tests/common/test_cliutils.py', 'solumclient/tests/test_solum.py', 'solumclient/solum.py', 'solumclient/common/cli_utils.py'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/104baca75bd6054adedafa667f33f7c4f3c44a0a', 'message': 'Better parsing and help messages\n\nCreates a PermissiveParser to handle missing\nrequired arguments without having to invoke sys.exit(2).\nAdded verbose docstrings and so help messages to each\nXCommands class.\n\nChange-Id: I7c7be26689446a576f3334cfa0ca04ac2f214129\n'}]",2,148731,104baca75bd6054adedafa667f33f7c4f3c44a0a,7,3,1,1375,,,0,"Better parsing and help messages

Creates a PermissiveParser to handle missing
required arguments without having to invoke sys.exit(2).
Added verbose docstrings and so help messages to each
XCommands class.

Change-Id: I7c7be26689446a576f3334cfa0ca04ac2f214129
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/31/148731/1 && git format-patch -1 --stdout FETCH_HEAD,"['solumclient/tests/common/test_cliutils.py', 'solumclient/tests/test_solum.py', 'solumclient/solum.py', 'solumclient/common/cli_utils.py']",4,104baca75bd6054adedafa667f33f7c4f3c44a0a,add-app-commands," try: self._get_auth_flags() except exc.CommandError as ce: print(self.__doc__) print(""ERROR: %s"" % ce.message) return parsed, _ = self.parser.parse_known_args() action = vars(parsed).get('action') client_args = vars(parsed) if 'os_auth_token' in client_args: del client_args['os_auth_token'] if vars(parsed).get('action') == 'build': self.client = builder_client.get_client(parsed.solum_api_version, **client_args) else: self.client = solum_client.get_client(parsed.solum_api_version, **client_args) if parsed.action in self._actions: try: return self._actions[action]() except exc.CommandError as ce: print(self.__doc__) print(""ERROR: %s"" % ce.message) else: print(self.__doc__) def _get_auth_flags(self): api_version = env('SOLUM_API_VERSION', default='1') default=api_version, 'or 1') parsed, _ = self.parser.parse_known_args() client_args = vars(parsed)","from keystoneclient.openstack.common.apiclient import exceptions as ks_exc from solumclient.openstack.common.apiclient import exceptions default=env( 'SOLUM_API_VERSION', default='1'), 'or 1') action = None try: parsed, _ = parser.parse_known_args() action = parsed.action except Exception: # Parser has a habit of doing this when an arg is missing. self.parser.print_help() client_args = parsed.__dict__ if client_args['action'] == 'build': self.client = builder_client.get_client(parsed.solum_api_version, **client_args) else: self.client = solum_client.get_client(parsed.solum_api_version, **client_args) if action in self._actions: try: self.parser.error = self.parser.the_error self._actions[action]() except (exceptions.ClientException, ks_exc.ClientException): # Don't print usage help on functional errors. raise except Exception: self.parser.print_help() raise else: self.help() raise exceptions.CommandError('""%s"" is not a valid action' % action) def help(self): """"""Print this help message."""""" show_help(self._actions, 'actions') def show_help(resources, name='targets or nouns'): """"""Help screen."""""" print(""Available %s:"" % name) for resource in sorted(resources): commands = resources.get(resource) docstring = ""<%s %s>"" % (name.capitalize(), resource) if commands.__doc__: docstring = commands.__doc__ print(""\t%-20s%s"" % (resource, docstring)) ",285,109
openstack%2Fkeystone-specs~master~I69bb28ccace7ae36d21eeb8e12e2c9645f11f63e,openstack/keystone-specs,master,I69bb28ccace7ae36d21eeb8e12e2c9645f11f63e,API changes for subtree_as_ids and parents_as_ids,MERGED,2015-01-16 14:53:56.000000000,2015-01-22 18:23:18.000000000,2015-01-22 18:23:17.000000000,"[{'_account_id': 3}, {'_account_id': 994}, {'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5707}, {'_account_id': 6482}, {'_account_id': 8866}, {'_account_id': 9142}, {'_account_id': 11022}]","[{'number': 1, 'created': '2015-01-16 14:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/c40cf2ddd70f6bca09211b677bee087610266370', 'message': 'API spec for subtree_ids and parents_ids params\n\nDocuments the API changes for the new query params to retrieve the\nhierarchy of projects: subtree_ids and parents_ids.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I69bb28ccace7ae36d21eeb8e12e2c9645f11f63e\n'}, {'number': 2, 'created': '2015-01-16 16:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/fbd369118db0bfc4ae391373892cf4bcf60aaffa', 'message': 'API spec for subtree_ids and parents_ids params\n\nDocuments the API changes for the new query params to retrieve the\nhierarchy of projects: subtree_ids and parents_ids.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I69bb28ccace7ae36d21eeb8e12e2c9645f11f63e\n'}, {'number': 3, 'created': '2015-01-16 16:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/fc0bd275b1b0daab553a6b7be08e42eeb3bc707b', 'message': 'API spec for subtree_ids and parents_ids params\n\nDocuments the API changes for the new query params to retrieve the\nhierarchy of projects: subtree_ids and parents_ids.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I69bb28ccace7ae36d21eeb8e12e2c9645f11f63e\n'}, {'number': 4, 'created': '2015-01-21 11:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/e5b1eb979736bdfa9f3faeae9fc75bbfe8b2f25b', 'message': 'API changes for subtree_ids and parents_ids params\n\nDocuments the API spec changes for the new query params to\nretrieve the hierarchy of projects: subtree_ids and\nparents_ids.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I69bb28ccace7ae36d21eeb8e12e2c9645f11f63e\n'}, {'number': 5, 'created': '2015-01-21 17:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/d9fccfafa1ef2571205460d84b5e57ffcce42a38', 'message': 'API changes for subtree_as_ids and parents_as_ids\n\nDocuments the API spec changes for the new query params to\nretrieve the hierarchy of projects: subtree_as_ids and\nparents_as_ids.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I69bb28ccace7ae36d21eeb8e12e2c9645f11f63e\n'}, {'number': 6, 'created': '2015-01-21 17:05:54.000000000', 'files': ['api/v3/identity-api-v3.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/8a5c8ac5397ef04f7b1cbe3ba6ae4ccdb1cb9b28', 'message': 'API changes for subtree_as_ids and parents_as_ids\n\nDocuments the API spec changes for the new query params to\nretrieve the hierarchy of projects: subtree_as_ids and\nparents_as_ids.\n\nbp hierarchical-multitenancy-improvements\n\nChange-Id: I69bb28ccace7ae36d21eeb8e12e2c9645f11f63e\n'}]",9,147871,8a5c8ac5397ef04f7b1cbe3ba6ae4ccdb1cb9b28,27,9,6,11022,,,0,"API changes for subtree_as_ids and parents_as_ids

Documents the API spec changes for the new query params to
retrieve the hierarchy of projects: subtree_as_ids and
parents_as_ids.

bp hierarchical-multitenancy-improvements

Change-Id: I69bb28ccace7ae36d21eeb8e12e2c9645f11f63e
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/71/147871/6 && git format-patch -1 --stdout FETCH_HEAD,['api/v3/identity-api-v3.rst'],1,c40cf2ddd70f6bca09211b677bee087610266370,bp/hierarchical-multitenancy-improvements,"- ``parents_as_list`` (key-only, no value expected) - ``parents_ids`` (key-only, no value expected) - ``subtree_ids`` (key-only, no value expected) GET /projects/{project_id}?parents_ids The entire parent hierarchy will be included as nested dictionaries in the response. It will contain all projects ids found by traversing up the hierarchy to the top-level project. Response: :: { ""project"": { ""domain_id"": ""1789d1"", ""enabled"": true, ""id"": ""263fd9"", ""links"": { ""self"": ""http://identity:35357/v3/projects/263fd9"" }, ""name"": ""Dev Group A"", ""parent_id"": ""183ab2"", ""parents"": { ""183ab2"": null } } } :: ""id"": ""b76eq8"",:: GET /projects/{project_id}?subtree_ids The entire child hierarchy will be included as nested dictionaries in the response. It will contain all the projects ids found by traversing down the hierarchy. Response: :: { ""project"": { ""domain_id"": ""1789d1"", ""enabled"": true, ""id"": ""263fd9"", ""links"": { ""self"": ""http://identity:35357/v3/projects/263fd9"" }, ""name"": ""Dev Group A"", ""parent_id"": ""183ab2"", ""subtree"": { ""9n1jhb"": null, ""4b6aa1"": { ""b76eq8"": null } } } } Note that the ``subtree_as_list`` and ``parents_as_list`` as also the ``subtree_ids`` and ``parents_ids`` query parameters are not mutually exclusive. The same is not true for similar query params such as ``parents_as_list`` and ``parents_ids``, which can't be included at the same time. If included, the server will fail with a ``400 Bad Request`` error.Both the parents and subtree lists will be included in the response.:: GET /projects/{project_id}?parents_ids&subtree_ids Both the parents and subtree hierarchies will be included in the response. Response: :: { ""project"": { ""domain_id"": ""1789d1"", ""enabled"": true, ""id"": ""263fd9"", ""links"": { ""self"": ""http://identity:35357/v3/projects/263fd9"" }, ""name"": ""Dev Group A"", ""parent_id"": ""183ab2"", ""parents"": { ""183ab2"": null }, ""subtree"": { ""9n1jhb"": null, ""4b6aa1"": { ""b76eq8"": null } } } } ","- ``parents_as_list`` (key-only, no value expected) ""id"": ""b76xq8"",Note that the query parameters are not mutually exclusive. The API accept both parameters at the same time:Both the parent and child hierarchies will be included in the response.",103,5
openstack%2Fneutron~master~Id76c3fd22a0e847660f58e4d3c8a1001e3654918,openstack/neutron,master,Id76c3fd22a0e847660f58e4d3c8a1001e3654918,nec: drop usage of SecurityGroupServerRpcApiMixin,MERGED,2015-01-16 16:16:04.000000000,2015-01-22 18:19:47.000000000,2015-01-22 18:19:45.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 6854}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-16 16:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4a6657c75ebee1a70a1e9161cacdaf8c183ddadb', 'message': 'nec: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the bigswitch plugin.\nThis is required to be able to eventually move this API into a\nmessaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as a\nmixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Id76c3fd22a0e847660f58e4d3c8a1001e3654918\n'}, {'number': 2, 'created': '2015-01-16 17:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0cea0a8c27274befdc34233b2501b2febbfdd4b3', 'message': 'nec: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the nec plugin.\nThis is required to be able to eventually move this API into a\nmessaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as a\nmixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Id76c3fd22a0e847660f58e4d3c8a1001e3654918\n'}, {'number': 3, 'created': '2015-01-21 14:49:39.000000000', 'files': ['neutron/plugins/nec/agent/nec_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/235c6ab9789d28c358054a2ae56ea9dd9d80b537', 'message': 'nec: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the nec plugin.\nThis is required to be able to eventually move this API into a\nmessaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as a\nmixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Id76c3fd22a0e847660f58e4d3c8a1001e3654918\n'}]",1,147903,235c6ab9789d28c358054a2ae56ea9dd9d80b537,54,21,3,1561,,,0,"nec: drop usage of SecurityGroupServerRpcApiMixin

Drop usage of SecurityGroupServerRpcApiMixin in the nec plugin.
This is required to be able to eventually move this API into a
messaging namespace.  It needs to use its own messaging client
instance, instead of a different one it gets after being used as a
mixin.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: Id76c3fd22a0e847660f58e4d3c8a1001e3654918
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/147903/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/nec/agent/nec_neutron_agent.py'],1,4a6657c75ebee1a70a1e9161cacdaf8c183ddadb,bp/rpc-docs-and-namespaces, self.plugin_rpc = sg_rpc.SecurityGroupServerRpcApi(topics.PLUGIN),"from neutron.common import rpc as n_rpcclass SecurityGroupServerRpcApi(sg_rpc.SecurityGroupServerRpcApiMixin): def __init__(self, topic): self.topic = topic target = messaging.Target(topic=topic, version=sg_rpc.SG_RPC_VERSION) self.client = n_rpc.get_client(target) self.plugin_rpc = SecurityGroupServerRpcApi(topics.PLUGIN)",1,10
openstack%2Fmonasca-agent~master~I99d82f2b534ca7b3bea8a147c83404505177e15e,openstack/monasca-agent,master,I99d82f2b534ca7b3bea8a147c83404505177e15e,Updated dimension processing for service and component,MERGED,2015-01-15 00:28:38.000000000,2015-01-22 18:17:26.000000000,2015-01-22 18:17:26.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 10046}, {'_account_id': 11094}, {'_account_id': 12108}, {'_account_id': 12443}, {'_account_id': 12512}]","[{'number': 1, 'created': '2015-01-15 00:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/458d4c0c2807f8b7c44fcd8037128e5981b92732', 'message': 'Updated dimension processing for service and component\n\nThe dimension handling was incorrect.  It now follows this order of precedence:\n1) Dimensions defined in a plugin config file\n2) Dimensions that are defined in the agent config file\n3) Dimensions that are defaults in a particular plugin\n\nChange-Id: I99d82f2b534ca7b3bea8a147c83404505177e15e\n'}, {'number': 2, 'created': '2015-01-16 16:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/7d9b1342f03708e775b73b91c8c855b2df56579b', 'message': 'Updated dimension processing for service and component\n\nThe dimension handling was incorrect.  It now follows this order of precedence:\n1) Dimensions defined in a plugin config file\n2) Dimensions that are defined in the agent config file\n3) Dimensions that are defaults in a particular plugin\n\nChange-Id: I99d82f2b534ca7b3bea8a147c83404505177e15e\n'}, {'number': 3, 'created': '2015-01-21 17:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/30842f70c53bfc56456f83787ae287f8f75564db', 'message': 'Updated dimension processing for service and component\n\nThe dimension handling was incorrect.  It now follows this order of precedence:\n1) Dimensions defined in a plugin config file\n2) Dimensions that are defined in the agent config file\n3) Dimensions that are defaults in a particular plugin\n\nAlso, updated imports to meet the OpenStack standards.\n\nChange-Id: I99d82f2b534ca7b3bea8a147c83404505177e15e\n'}, {'number': 4, 'created': '2015-01-22 17:10:46.000000000', 'files': ['monasca_agent/collector/checks_d/process.py', 'monasca_agent/common/aggregator.py', 'monasca_agent/collector/checks_d/http_check.py', 'monasca_agent/collector/checks_d/host_alive.py', 'monasca_agent/collector/checks_d/mysql.py', 'monasca_agent/collector/checks/collector.py', 'monasca_agent/collector/checks_d/rabbitmq.py', 'monasca_setup/main.py', 'README.md', 'monasca_agent/forwarder/api/mon.py', 'monasca_agent/collector/checks_d/kafka_consumer.py', 'monasca_agent/collector/checks/system/unix.py', 'monasca_agent/common/util.py', 'monasca_agent/collector/checks/check.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/92c064ff2808518ae3a5c3a8f27adb26408b9147', 'message': 'Updated dimension processing for service and component\n\nThe dimension handling was incorrect.  It now follows this order of precedence:\n1) Dimensions defined in a plugin config file\n2) Dimensions that are defined in the agent config file\n3) Dimensions that are defaults in a particular plugin\n\nAlso, updated imports to meet the OpenStack standards.\n\nChange-Id: I99d82f2b534ca7b3bea8a147c83404505177e15e\n'}]",7,147346,92c064ff2808518ae3a5c3a8f27adb26408b9147,23,7,4,12108,,,0,"Updated dimension processing for service and component

The dimension handling was incorrect.  It now follows this order of precedence:
1) Dimensions defined in a plugin config file
2) Dimensions that are defined in the agent config file
3) Dimensions that are defaults in a particular plugin

Also, updated imports to meet the OpenStack standards.

Change-Id: I99d82f2b534ca7b3bea8a147c83404505177e15e
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/46/147346/4 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_agent/collector/checks_d/process.py', 'monasca_agent/common/aggregator.py', 'monasca_agent/collector/checks_d/http_check.py', 'monasca_agent/collector/checks_d/host_alive.py', 'monasca_agent/collector/checks_d/mysql.py', 'monasca_agent/collector/checks/collector.py', 'monasca_agent/collector/checks_d/rabbitmq.py', 'monasca_setup/main.py', 'monasca_agent/forwarder/api/mon.py', 'monasca_agent/collector/checks_d/kafka_consumer.py', 'monasca_agent/collector/checks/system/unix.py', 'monasca_agent/collector/checks/check.py']",12,458d4c0c2807f8b7c44fcd8037128e5981b92732,monasca/fix-default-dimensions,"from monasca_agent.common.util import get_hostname """"""Method to append the default dimensions from the config file. """""" new_dimensions = {'hostname': get_hostname()} default_dimensions = self.agent_config['Api'].get('dimensions', {}) if default_dimensions: # Add or update any default dimensions that were set in the agent config file new_dimensions.update(default_dimensions) attributes['dimensions'] = self._set_dimensions(dimensions) """"""Method to append the default dimensions from the config file. """""" new_dimensions = {'hostname': get_hostname()} default_dimensions = self.agent_config['Api'].get('dimensions', {}) if default_dimensions: # Add or update any default dimensions that were set in the agent config file new_dimensions.update(default_dimensions)","log = logging.getLogger(__name__) # Sort and validate dimensions self._set_dimensions(dimensions) new_dimensions = {'component': 'monasca-agent', 'service': 'monitoring'} attributes['dimensions'] = dimensions new_dimensions = {'component': 'monasca-agent', 'service': 'monitoring'}",76,74
openstack%2Fproject-config~master~I4600dd80281ebb0230822617c7a9ed1ef37d2587,openstack/project-config,master,I4600dd80281ebb0230822617c7a9ed1ef37d2587,Add Networking-OVS-DPDK project to StackForge,MERGED,2014-12-19 18:41:32.000000000,2015-01-22 18:17:01.000000000,2015-01-22 18:17:00.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 748}, {'_account_id': 4146}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 11604}, {'_account_id': 11647}, {'_account_id': 11809}]","[{'number': 1, 'created': '2014-12-19 18:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/567d55e6911c903c41b348097019b29e28951aee', 'message': 'Add Networking-OVS-DPDK project to StackForge\n\nThis repo will contain A Collection of Agents and Drivers\nto support managing DPDK accelerated Open vSwitch with neutron\n\nThis creation of this repo is required to follow the new neutron\ndriver decomposition spec https://review.openstack.org/#/c/134680/\n\nChange-Id: I4600dd80281ebb0230822617c7a9ed1ef37d2587\n'}, {'number': 2, 'created': '2015-01-16 19:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/10800fce93a76831e2f6cb0ed455e1b5f566d4c0', 'message': 'Add Networking-OVS-DPDK project to StackForge\n\nThis repo will contain a collection of Agents and Drivers\nto support managing DPDK accelerated Open vSwitch with neutron\n\nThe creation of this repo is required to follow the new neutron\ndriver decomposition spec https://review.openstack.org/#/c/134680/\n\nChange-Id: I4600dd80281ebb0230822617c7a9ed1ef37d2587\n'}, {'number': 3, 'created': '2015-01-19 14:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c9cfe8d99fb17f478ded428e1c49a0b8b1fa5ea9', 'message': 'Add Networking-OVS-DPDK project to StackForge\n\nThis repo will contain a collection of Agents and Drivers\nto support managing DPDK accelerated Open vSwitch with neutron\n\nThe creation of this repo is required to follow the new neutron\ndriver decomposition spec https://review.openstack.org/#/c/134680/\n\nChange-Id: I4600dd80281ebb0230822617c7a9ed1ef37d2587\n'}, {'number': 4, 'created': '2015-01-19 18:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0d376c089041a61e149fd810e2aeedc13e725537', 'message': 'Add Networking-OVS-DPDK project to StackForge\n\nThis repo will contain a collection of Agents and Drivers\nto support managing DPDK accelerated Open vSwitch with neutron\n\nThe creation of this repo is required to follow the new neutron\ndriver decomposition spec https://review.openstack.org/#/c/134680/\n\nChange-Id: I4600dd80281ebb0230822617c7a9ed1ef37d2587\n'}, {'number': 5, 'created': '2015-01-19 18:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/bf77065c75382d7f8aa5cf4ad6c0db80b1606223', 'message': 'Add Networking-OVS-DPDK project to StackForge\n\nThis repo will contain a collection of Agents and Drivers\nto support managing DPDK accelerated Open vSwitch with neutron\n\nThe creation of this repo is required to follow the new neutron\ndriver decomposition spec https://review.openstack.org/#/c/134680/\n\nChange-Id: I4600dd80281ebb0230822617c7a9ed1ef37d2587\n'}, {'number': 6, 'created': '2015-01-20 14:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d410439a25587ce6ef2ec16942db5bc83c83423e', 'message': 'Add Networking-OVS-DPDK project to StackForge\n\nThis repo will contain a collection of Agents and Drivers\nto support managing DPDK accelerated Open vSwitch with neutron\n\nThe creation of this repo is required to follow the new neutron\ndriver decomposition spec https://review.openstack.org/#/c/134680/\n\nChange-Id: I4600dd80281ebb0230822617c7a9ed1ef37d2587\n'}, {'number': 7, 'created': '2015-01-20 14:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/03a43309a0dbc113a68afbbd0033fb10333a4b27', 'message': 'Add Networking-OVS-DPDK project to StackForge\n\nThis repo will contain a collection of Agents and Drivers\nto support managing DPDK accelerated Open vSwitch with neutron\n\nThe creation of this repo is required to follow the new neutron\ndriver decomposition spec https://review.openstack.org/#/c/134680/\n\nChange-Id: I4600dd80281ebb0230822617c7a9ed1ef37d2587\n'}, {'number': 8, 'created': '2015-01-21 07:48:11.000000000', 'files': ['gerrit/acls/stackforge/networking-ovs-dpdk.config', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5e0656cf6df29769d06855056f9253beeacd25b5', 'message': 'Add Networking-OVS-DPDK project to StackForge\n\nThis repo will contain a collection of Agents and Drivers\nto support managing DPDK accelerated Open vSwitch with neutron\n\nThe creation of this repo is required to follow the new neutron\ndriver decomposition spec https://review.openstack.org/#/c/134680/\n\nChange-Id: I4600dd80281ebb0230822617c7a9ed1ef37d2587\n'}]",0,143154,5e0656cf6df29769d06855056f9253beeacd25b5,44,9,8,11604,,,0,"Add Networking-OVS-DPDK project to StackForge

This repo will contain a collection of Agents and Drivers
to support managing DPDK accelerated Open vSwitch with neutron

The creation of this repo is required to follow the new neutron
driver decomposition spec https://review.openstack.org/#/c/134680/

Change-Id: I4600dd80281ebb0230822617c7a9ed1ef37d2587
",git fetch https://review.opendev.org/openstack/project-config refs/changes/54/143154/8 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/stackforge/networking-ovs-dpdk.config', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml']",4,567d55e6911c903c41b348097019b29e28951aee,new-project, - name: stackforge/networking-ovs-dpdk template: - name: merge-check - name: python-jobs ,,30,0
openstack%2Fsahara~master~Id1e3b53e68892fc63afc02642b54256a40b8c19c,openstack/sahara,master,Id1e3b53e68892fc63afc02642b54256a40b8c19c,Add context manager to assign events,MERGED,2014-12-29 09:38:58.000000000,2015-01-22 18:07:31.000000000,2015-01-22 18:07:30.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7132}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 8411}, {'_account_id': 8871}, {'_account_id': 8932}, {'_account_id': 10670}, {'_account_id': 12038}]","[{'number': 1, 'created': '2014-12-29 09:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/83860a54f6b31344c68739eaa9488581bf8de4da', 'message': 'Add context manager to assign events\n\nIn few moments (for example, instances is not created) instance cannot be\nprovided to assign fail or successful events to current cluster provisioning\nstep. In such moments, we should use context manager to assign events to cluster.\n\nChange-Id: Id1e3b53e68892fc63afc02642b54256a40b8c19c\nImplements: blueprint event-log\n'}, {'number': 2, 'created': '2014-12-30 10:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/74a0a5c77cf5e1a25965ae63aa87fb446f428347', 'message': 'Add context manager to assign events\n\nIn few moments (for example, instances is not created) instance cannot be\nprovided to assign fail or successful events to current cluster provisioning\nstep. In such moments, we should use context manager to assign events to cluster.\n\nChange-Id: Id1e3b53e68892fc63afc02642b54256a40b8c19c\nImplements: blueprint event-log\n'}, {'number': 3, 'created': '2015-01-10 14:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/ed902f0c47c7a0f1bbc4f59e4753a27af71d2314', 'message': 'Add context manager to assign events\n\nIn few moments (for example, instances is not created) instance cannot be\nprovided to assign fail or successful events to current cluster provisioning\nstep. In such moments, we should use context manager to assign events to cluster.\n\nChange-Id: Id1e3b53e68892fc63afc02642b54256a40b8c19c\nImplements: blueprint event-log\n'}, {'number': 4, 'created': '2015-01-13 11:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/531bcd7f76a18de94b9a35023d1fe82d1eb79212', 'message': 'Add context manager to assign events\n\nIn few moments (for example, instances is not created) instance cannot be\nprovided to assign fail or successful events to current cluster provisioning\nstep. In such moments, we should use context manager to assign events to cluster.\n\nChange-Id: Id1e3b53e68892fc63afc02642b54256a40b8c19c\nImplements: blueprint event-log\n'}, {'number': 5, 'created': '2015-01-13 14:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/3140190b18b36f29935c141739d80671394b40c2', 'message': 'Add context manager to assign events\n\nIn few moments (for example, instances is not created) instance cannot be\nprovided to assign fail or successful events to current cluster provisioning\nstep. In such moments, we should use context manager to assign events to cluster.\n\nChange-Id: Id1e3b53e68892fc63afc02642b54256a40b8c19c\nImplements: blueprint event-log\n'}, {'number': 6, 'created': '2015-01-15 10:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/198cd51db954ebf2614be062f7062d986f2de223', 'message': 'Add context manager to assign events\n\nIn few moments (for example, instances is not created) instance cannot be\nprovided to assign fail or successful events to current cluster provisioning\nstep. In such moments, we should use context manager to assign events to cluster.\n\nChange-Id: Id1e3b53e68892fc63afc02642b54256a40b8c19c\nImplements: blueprint event-log\n'}, {'number': 7, 'created': '2015-01-15 11:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/905dc79a79d436a72548699e6cea4674813b4758', 'message': 'Add context manager to assign events\n\nIn few moments (for example, instances is not created) instance cannot be\nprovided to assign fail or successful events to current cluster provisioning\nstep. In such moments, we should use context manager to assign events to cluster.\n\nChange-Id: Id1e3b53e68892fc63afc02642b54256a40b8c19c\nImplements: blueprint event-log\n'}, {'number': 8, 'created': '2015-01-15 12:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/008119451809cd787029089bf39a72add4bf7196', 'message': 'Add context manager to assign events\n\nIn few moments (for example, instances is not created) instance cannot be\nprovided to assign fail or successful events to current cluster provisioning\nstep. In such moments, we should use context manager to assign events to cluster.\n\nChange-Id: Id1e3b53e68892fc63afc02642b54256a40b8c19c\nImplements: blueprint event-log\n'}, {'number': 9, 'created': '2015-01-15 14:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/2412a6f949c7623725c0a8cfa61851affcd2690b', 'message': 'Add context manager to assign events\n\nIn few moments (for example, instances is not created) instance cannot be\nprovided to assign fail or successful events to current cluster provisioning\nstep. In such moments, we should use context manager to assign events to cluster.\n\nChange-Id: Id1e3b53e68892fc63afc02642b54256a40b8c19c\nImplements: blueprint event-log\n'}, {'number': 10, 'created': '2015-01-19 14:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/148e4eec749de74840692eed758b69a31f4c2a09', 'message': 'Add context manager to assign events\n\nIn few moments (for example, instances is not created) instance cannot be\nprovided to assign fail or successful events to current cluster provisioning\nstep. In such moments, we should use context manager to assign events to cluster.\n\nChange-Id: Id1e3b53e68892fc63afc02642b54256a40b8c19c\nImplements: blueprint event-log\n'}, {'number': 11, 'created': '2015-01-22 08:43:01.000000000', 'files': ['sahara/tests/unit/utils/test_cluster_progress_ops.py', 'sahara/utils/cluster_progress_ops.py', 'sahara/context.py', 'sahara/service/direct_engine.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/9941a8dbf8ddc6d7482cce2d15b6342f45469fb3', 'message': 'Add context manager to assign events\n\nIn few moments (for example, instances is not created) instance cannot be\nprovided to assign fail or successful events to current cluster provisioning\nstep. In such moments, we should use context manager to assign events to cluster.\n\nChange-Id: Id1e3b53e68892fc63afc02642b54256a40b8c19c\nImplements: blueprint event-log\n'}]",13,144277,9941a8dbf8ddc6d7482cce2d15b6342f45469fb3,79,11,11,12038,,,0,"Add context manager to assign events

In few moments (for example, instances is not created) instance cannot be
provided to assign fail or successful events to current cluster provisioning
step. In such moments, we should use context manager to assign events to cluster.

Change-Id: Id1e3b53e68892fc63afc02642b54256a40b8c19c
Implements: blueprint event-log
",git fetch https://review.opendev.org/openstack/sahara refs/changes/77/144277/5 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/utils/cluster_progress_ops.py', 'sahara/context.py', 'sahara/service/direct_engine.py']",3,83860a54f6b31344c68739eaa9488581bf8de4da,bp/event-log,"from sahara.utils import cluster_progress_ops as cpo def _count_instances(self, cluster): return sum([node_group.count for node_group in cluster.node_groups]) cpo.add_provisioning_step( cluster.id, _(""Runnig instances""), self._count_instances(cluster)) instance_name = g.generate_instance_name( cluster.name, node_group.name, idx) current_instance_info = ""%s,None,%s,%s"" % ( cluster.id, instance_name, node_group.id) with context.InstanceInfoManager(current_instance_info): self._run_instance( cluster, node_group, idx, aa_group=aa_group) @cpo.event_wrapper_without_instance(successful=True)"," self._run_instance(cluster, node_group, idx, aa_group=aa_group)",87,2
openstack%2Fpython-barbicanclient~master~I4c3063267560d5a6d78ff5fb11748ced8c978136,openstack/python-barbicanclient,master,I4c3063267560d5a6d78ff5fb11748ced8c978136,Updated from global requirements,MERGED,2015-01-13 00:15:07.000000000,2015-01-22 18:03:21.000000000,2015-01-22 18:03:20.000000000,"[{'_account_id': 3}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 10873}]","[{'number': 1, 'created': '2015-01-13 00:15:07.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/054d81fb63053c3ce5f1c87736f832750f6311b3', 'message': 'Updated from global requirements\n\nChange-Id: I4c3063267560d5a6d78ff5fb11748ced8c978136\n'}]",0,146706,054d81fb63053c3ce5f1c87736f832750f6311b3,8,4,1,11131,,,0,"Updated from global requirements

Change-Id: I4c3063267560d5a6d78ff5fb11748ced8c978136
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/06/146706/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,054d81fb63053c3ce5f1c87736f832750f6311b3,openstack/requirements,oslo.serialization>=1.2.0 # Apache-2.0,oslo.serialization>=1.0.0 # Apache-2.0,1,1
openstack%2Fnova~stable%2Ficehouse~Iff10443f603d329d01a74a620079f80518b75a50,openstack/nova,stable/icehouse,Iff10443f603d329d01a74a620079f80518b75a50,VMware: Resize operation fails to change disk size,ABANDONED,2014-10-13 10:16:22.000000000,2015-01-22 18:01:03.000000000,,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 8119}, {'_account_id': 8124}, {'_account_id': 8213}, {'_account_id': 8302}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10511}]","[{'number': 1, 'created': '2014-10-13 10:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4872d5d176bca89b45deabac0f52cff308ef9774', 'message': 'VMware: Resize operation fails to change disk size\n\nThe finish_migration step will resize the cpu and memory to match\nthe new flavor chosen, but not the disk size. Additional code was\nadded to extend the disk size using ExtendVirtualDisk_Task.\n\nDocImpact\n\nChange-Id: Iff10443f603d329d01a74a620079f80518b75a50\nCloses-bug: #1291741\n(cherry picked from commit 7ae506a4b1829fbd8cbecc0a6b267f76230face7)\n'}, {'number': 2, 'created': '2014-10-13 11:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63d4fd93d9dea9c35b0b657cdad72d3b88afaad2', 'message': 'VMware: Resize operation fails to change disk size\n\nThe finish_migration step will resize the cpu and memory to match\nthe new flavor chosen, but not the disk size. Additional code was\nadded to extend the disk size using ExtendVirtualDisk_Task.\n\nDocImpact\n\nChange-Id: Iff10443f603d329d01a74a620079f80518b75a50\nCloses-bug: #1291741\n(cherry picked from commit 7ae506a4b1829fbd8cbecc0a6b267f76230face7)\n'}, {'number': 3, 'created': '2014-10-14 09:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd3b66057cdbd9ce73114ca7b0284d3f7a4cfa6d', 'message': 'VMware: Resize operation fails to change disk size\n\nThe finish_migration step will resize the cpu and memory to match\nthe new flavor chosen, but not the disk size. Additional code was\nadded to extend the disk size using ExtendVirtualDisk_Task.\n\nDocImpact\n\nChange-Id: Iff10443f603d329d01a74a620079f80518b75a50\nCloses-bug: #1291741\n(cherry picked from commit 7ae506a4b1829fbd8cbecc0a6b267f76230face7)\n'}, {'number': 4, 'created': '2014-10-14 11:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab9672b5a4a997e248857459c97933cc24519910', 'message': 'VMware: Resize operation fails to change disk size\n\nThe finish_migration step will resize the cpu and memory to match\nthe new flavor chosen, but not the disk size. Additional code was\nadded to extend the disk size using ExtendVirtualDisk_Task.\n\nDocImpact\n\nChange-Id: Iff10443f603d329d01a74a620079f80518b75a50\nCloses-bug: #1291741\n(cherry picked from commit 7ae506a4b1829fbd8cbecc0a6b267f76230face7)\n'}, {'number': 5, 'created': '2014-10-14 12:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/318e1b8bd57214ace140a3489661f7de50e77a48', 'message': 'VMware: Resize operation fails to change disk size\n\nThe finish_migration step will resize the cpu and memory to match\nthe new flavor chosen, but not the disk size. Additional code was\nadded to extend the disk size using ExtendVirtualDisk_Task.\n\nDocImpact\n\nChange-Id: Iff10443f603d329d01a74a620079f80518b75a50\nCloses-bug: #1291741\n(cherry picked from commit 7ae506a4b1829fbd8cbecc0a6b267f76230face7)\n'}, {'number': 6, 'created': '2014-10-14 14:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1cd8afd0827e5f48b52f1a95d7d9031da80e8fad', 'message': 'VMware: Resize operation fails to change disk size\n\nThe finish_migration step will resize the cpu and memory to match\nthe new flavor chosen, but not the disk size. Additional code was\nadded to extend the disk size using ExtendVirtualDisk_Task.\n\nDocImpact\n\nChange-Id: Iff10443f603d329d01a74a620079f80518b75a50\nCloses-bug: #1291741\n(cherry picked from commit 7ae506a4b1829fbd8cbecc0a6b267f76230face7)\n'}, {'number': 7, 'created': '2014-10-14 16:24:45.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/tests/virt/vmwareapi/test_vmops.py', 'nova/virt/vmwareapi/vm_util.py', 'nova/tests/virt/vmwareapi/test_vm_util.py', 'nova/tests/virt/vmwareapi/test_driver_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/83f4568482f441447df5e0b7f0413449dfbc0c14', 'message': 'VMware: Resize operation fails to change disk size\n\nThe finish_migration step will resize the cpu and memory to match\nthe new flavor chosen, but not the disk size. Additional code was\nadded to extend the disk size using ExtendVirtualDisk_Task.\n\nDocImpact\n\nChange-Id: Iff10443f603d329d01a74a620079f80518b75a50\nCloses-bug: #1291741\n(cherry picked from commit 7ae506a4b1829fbd8cbecc0a6b267f76230face7)\n'}]",9,127925,83f4568482f441447df5e0b7f0413449dfbc0c14,32,10,7,8124,,,0,"VMware: Resize operation fails to change disk size

The finish_migration step will resize the cpu and memory to match
the new flavor chosen, but not the disk size. Additional code was
added to extend the disk size using ExtendVirtualDisk_Task.

DocImpact

Change-Id: Iff10443f603d329d01a74a620079f80518b75a50
Closes-bug: #1291741
(cherry picked from commit 7ae506a4b1829fbd8cbecc0a6b267f76230face7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/127925/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/tests/virt/vmwareapi/test_vmops.py', 'nova/virt/vmwareapi/vm_util.py', 'nova/tests/virt/vmwareapi/test_vm_util.py', 'nova/tests/virt/vmwareapi/test_driver_api.py']",5,4872d5d176bca89b45deabac0f52cff308ef9774,bug/1291741," self._create_vm(instance_type='m1.large') flavor = self._get_instance_type_by_name('m1.large') def test_resize_to_smaller_disk(self): self._create_vm(instance_type='m1.large') flavor = self._get_instance_type_by_name('m1.small') self.assertRaises(exception.InstanceFaultRollback, self.conn.migrate_disk_and_power_off, self.context, self.instance, 'fake_dest', flavor, None) def _test_finish_migration(self, power_on, resize_instance=False): """"""Tests the finish_migration method on VC Driver."""""" # setup the test instance in the database self._create_vm() if resize_instance: self.instance.system_metadata = {'old_instance_type_root_gb': '0'} vm_ref = vm_util.get_vm_ref(self.conn._session, self.instance) datastore = ds_util.Datastore(ref='fake-ref', name='fake') dc_info = vmops.DcInfo(ref='fake_ref', name='fake', vmFolder='fake_folder') with contextlib.nested( mock.patch.object(self.conn._session, ""_call_method"", return_value='fake-task'), mock.patch.object(self.conn._vmops, ""_update_instance_progress""), mock.patch.object(self.conn._session, ""_wait_for_task""), mock.patch.object(vm_util, ""get_vm_resize_spec"", return_value='fake-spec'), mock.patch.object(ds_util, ""get_datastore"", return_value=datastore), mock.patch.object(self.conn._vmops, 'get_datacenter_ref_and_name', return_value=dc_info), mock.patch.object(self.conn._vmops, '_extend_virtual_disk'), mock.patch.object(vm_util, ""power_on_instance"") ) as (fake_call_method, fake_update_instance_progress, fake_wait_for_task, fake_vm_resize_spec, fake_get_datastore, fake_get_datacenter_ref_and_name, fake_extend_virtual_disk, fake_power_on): self.conn.finish_migration(context=self.context, migration=None, instance=self.instance, disk_info=None, network_info=None, block_device_info=None, resize_instance=resize_instance, image_meta=None, power_on=power_on) if resize_instance: fake_vm_resize_spec.assert_called_once_with( self.conn._session._get_vim().client.factory, self.instance) fake_call_method.assert_any_call( self.conn._session._get_vim(), ""ReconfigVM_Task"", vm_ref, spec='fake-spec') fake_wait_for_task.assert_called_once_with('fake-task') fake_extend_virtual_disk.assert_called_once_with( self.instance, self.instance['root_gb'] * units.Mi, None, dc_info.ref) else: self.assertFalse(fake_vm_resize_spec.called) self.assertFalse(fake_call_method.called) self.assertFalse(fake_wait_for_task.called) self.assertFalse(fake_extend_virtual_disk.called) if power_on: fake_power_on.assert_called_once_with(self.conn._session, self.instance, vm_ref=vm_ref) else: self.assertFalse(fake_power_on.called) fake_update_instance_progress.called_once_with( self.context, self.instance, 4, vmops.RESIZE_TOTAL_STEPS) def test_finish_migration_power_on(self): self._test_finish_migration(power_on=True) def test_finish_migration_power_off(self): self._test_finish_migration(power_on=False) def test_finish_migration_power_on_resize(self): self._test_finish_migration(power_on=True, resize_instance=True) @mock.patch.object(vm_util, 'associate_vmref_for_instance') @mock.patch.object(vm_util, 'power_on_instance') def _test_finish_revert_migration(self, fake_power_on, fake_associate_vmref, power_on): """"""Tests the finish_revert_migration method on VC Driver."""""" # setup the test instance in the database self._create_instance() self.conn.finish_revert_migration(self.context, instance=self.instance, network_info=None, block_device_info=None, power_on=power_on) fake_associate_vmref.assert_called_once_with(self.conn._session, self.instance, suffix='-orig') if power_on: fake_power_on.assert_called_once_with(self.conn._session, self.instance) else: self.assertFalse(fake_power_on.called) def test_finish_revert_migration_power_on(self): self._test_finish_revert_migration(power_on=True) def test_finish_revert_migration_power_off(self): self._test_finish_revert_migration(power_on=False)"," self._create_vm() flavor = {'name': 'fake', 'flavorid': 'fake_id'}",253,3
openstack%2Fcongress-specs~master~I6b4bab6521be3cec77aa346800eaf64764c43d1a,openstack/congress-specs,master,I6b4bab6521be3cec77aa346800eaf64764c43d1a,Adding details and format updating,ABANDONED,2015-01-22 04:53:29.000000000,2015-01-22 17:52:19.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-01-22 04:53:29.000000000', 'files': ['specs/kilo/murano-datasource-driver.rst'], 'web_link': 'https://opendev.org/openstack/congress-specs/commit/a87e2c400d0a7c4a08fbe9d504bec56d91d1d2d1', 'message': 'Adding details and format updating\n\nUpdating table naming and added descriptions.\nUpdating formatting and general cleanup.\n\nChange-Id: I6b4bab6521be3cec77aa346800eaf64764c43d1a\n'}]",0,149142,a87e2c400d0a7c4a08fbe9d504bec56d91d1d2d1,3,1,1,14729,,,0,"Adding details and format updating

Updating table naming and added descriptions.
Updating formatting and general cleanup.

Change-Id: I6b4bab6521be3cec77aa346800eaf64764c43d1a
",git fetch https://review.opendev.org/openstack/congress-specs refs/changes/42/149142/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/murano-datasource-driver.rst'],1,a87e2c400d0a7c4a08fbe9d504bec56d91d1d2d1,bp/murano-driver,"This blueprint is to add a data source driver for MuranoWe need a data source to get the Murano environments and applications related data so that we can define policies during and after application service fulfillmentAdd data source driver that integrates Congress with Murano with following data tables. * *murano:object(object_id, owner_id, type)* This table holds every MuranoPL object instance in an environment. * *object_id* - uuid of the object as used in Murano * *owner_id* - uuid of the owner object as used in Murano * *type* - string with full type identification as used in Murano (e.g., io.murano.Environment,...) * *murano:parent-type(id, parent_type)* This table holds parent types of *obj_id* object. * *id* - uuid of the object as used in Murano * *parent_type* - string with full type identification of the parent object Note that Murano supports multiple inheritance, so there can be several parent types for one object * *murano:property(id, name, value)* This table stores object's properties. For multiple cardinality properties, there can be number of records here. * *id* - uuid of the object as used in Murano * *name* - property name * *value* - property value MuranoPL properties referencing class type (i.e., another object) are stored in *murano:relationship*. Properties with structure has not direct mapping here - it has to be stored here component by component. * *murano:relationship(source_id, target_id, name)* This table stores relationship between objects (i.e., MuranoPL property to *class*). * *source_id* - uuid of the source object * *target_id* - uuid of the target object * *name* - name of the relationship between source and target object For multiple cardinality relationships there is several records in the table. * *murano:state(id, state)* This table stores *EnvironmentStatus* of Murano environment * *id* - uuid of the environment * *state* - the status of the environment The state status will be one of 'READY', 'PENDING', 'DEPLOYING', 'DEPLOY_FAILURE', 'DELETING', 'DELETE_FAILURE'.We will have pre and post deployment policies for Murano applications based on the data tables defined in the driver. Pre deployment policies will cover policies during application service fulfillment and will leverage the Congress simulate feature. Post deployment policies will cover monitoring policies on fulfilled service instances.kishan-thomas- Integration tests with Murano - Add example policies- Unit tests - Integration tests - Tempest testsAdd new documents in standard documentation location https://etherpad.openstack.org/p/policy-congress-murano-spec","This blueprint is to add a data source driver for muranoWe need a data source to get the murano environments and applications related data so that we can define policies for fulfillment.Add data source driver that integrates congress with murano with following data tables. * *murano:object(obj_id, owner_id, type)* This table holds every MuranoPL object instance in an environment. * *obj_id* - uuid of the object as used in Murano * *owner_id* - uuid of the owner object as used in Murano * *type* - string with full type identification as used in Murano (e.g., io.murano.Environment,...) * *murano:parent-type( obj_id, parent_type )* This table holds parent types of *obj_id* object. Note that Murano supports multiple inheritance, so there can be several parent types for one object * *murano:property( obj_id, name, value)* This table stores object's properties. For multiple cardinality properties, there can be number of records here. MuranoPL properties referencing class type (i.e., another object) are stored in *murano:relatinoship*. Properties with structure has not direct mapping here - it has to be stored here component by component. * *murano:relationship( src_id, trg_id, name )* This table stores relationship between objects (i.e., MuranoPL property to *class*). For multiple cardinality relationships there is several records in the table. * *murano:state(end_id, state)* This table stores *EnvironmentStatus* of Murano environment ( one of 'READY', 'PENDING', 'DEPLOYING', 'DEPLOY_FAILURE', 'DELETING', 'DELETE_FAILURE' ). We will have pre deployment and post deployment policies for murano applications.- Integration tests with murano - Unit test code - Integration tests N/AN/A",66,27
openstack%2Fcongress-specs~master~If10a77da8caea892ddb4a48f7702ab2cd6ae83c3,openstack/congress-specs,master,If10a77da8caea892ddb4a48f7702ab2cd6ae83c3,Adding minor formatting change,ABANDONED,2015-01-22 05:25:59.000000000,2015-01-22 17:52:03.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-01-22 05:25:59.000000000', 'files': ['specs/kilo/murano-datasource-driver.rst'], 'web_link': 'https://opendev.org/openstack/congress-specs/commit/489c2feea5dc51c332b46bab4295df6f83536094', 'message': 'Adding minor formatting change\n\nRemoved whitespace\n\nChange-Id: If10a77da8caea892ddb4a48f7702ab2cd6ae83c3\n'}]",0,149147,489c2feea5dc51c332b46bab4295df6f83536094,3,1,1,14729,,,0,"Adding minor formatting change

Removed whitespace

Change-Id: If10a77da8caea892ddb4a48f7702ab2cd6ae83c3
",git fetch https://review.opendev.org/openstack/congress-specs refs/changes/47/149147/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/murano-datasource-driver.rst'],1,489c2feea5dc51c332b46bab4295df6f83536094,bp/murano-driver,- Integration tests with Murano,- Integration tests with Murano ,1,1
openstack%2Ftripleo-incubator~master~Icdc626ef8075fbd2f9e7cb7c011a12351c815e09,openstack/tripleo-incubator,master,Icdc626ef8075fbd2f9e7cb7c011a12351c815e09,Make wait_for use getopt and add walltime support,MERGED,2015-01-07 19:54:33.000000000,2015-01-22 17:49:16.000000000,2015-01-22 17:49:15.000000000,"[{'_account_id': 3}, {'_account_id': 4190}, {'_account_id': 6928}, {'_account_id': 7336}, {'_account_id': 8449}, {'_account_id': 9453}, {'_account_id': 10035}, {'_account_id': 12459}, {'_account_id': 14123}]","[{'number': 1, 'created': '2015-01-07 19:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/77090ff001f92b0117df052d1595a00a684acb72', 'message': 'WIP: Use walltime as wait_for\n\nWe currently use wait_for which does not account for time spent blocking\nduring COMMAND. This leads to issues where it is hard to calculate time\nwe want to spend waiting for something. Creating a new tool which blocks\nbased on wall time.\n\nChange-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09\n'}, {'number': 2, 'created': '2015-01-07 20:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/2ea6eec7f6c1b28045231c8e39045f14e121c8c8', 'message': 'Use walltime as wait_for\n\nWe currently use wait_for which does not account for time spent blocking\nduring COMMAND. This leads to issues where it is hard to calculate time\nwe want to spend waiting for something. Creating a new tool which blocks\nbased on wall time.\n\nChange-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09\n'}, {'number': 3, 'created': '2015-01-07 22:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/0a7cca0900931d419095bc10e254480b313135e5', 'message': 'Use walltime as wait_for\n\nWe currently use wait_for which does not account for time spent blocking\nduring COMMAND. This leads to issues where it is hard to calculate time\nwe want to spend waiting for something. Creating a new tool which blocks\nbased on wall time.\n\nCloses-Bug: #1407812\n\nChange-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09\n'}, {'number': 4, 'created': '2015-01-07 22:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/ec099c04ce87b1c99178c34ac3e4b24bc00389ae', 'message': 'Use walltime as wait_for\n\nWe currently use wait_for which does not account for time spent blocking\nduring COMMAND. This leads to issues where it is hard to calculate time\nwe want to spend waiting for something. Creating a new tool which blocks\nbased on wall time.\n\nChange-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09\n'}, {'number': 5, 'created': '2015-01-07 22:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/e3a93bdb5bc57da94f3bb1c9801aab66b0bf8097', 'message': 'Use walltime as wait_for\n\nWe currently use wait_for which does not account for time spent blocking\nduring COMMAND. This leads to issues where it is hard to calculate time\nwe want to spend waiting for something. Creating a new tool which blocks\nbased on wall time.\n\nCloses-Bug: #1407812\n\nChange-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09\n'}, {'number': 6, 'created': '2015-01-08 19:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/300f8fd3adef5b04a1585c51316019ea99808e15', 'message': 'Make wait_for use getopt and add walltime support\n\nWe currently use wait_for which does not account for time spent blocking\nduring COMMAND. This leads to issues where it is hard to calculate time\nwe want to spend waiting for something. Creating a new tool which blocks\nbased on wall time.\n\nCloses-Bug: #1407812\n\nChange-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09\n'}, {'number': 7, 'created': '2015-01-08 22:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/006f559527bcb82fe6313ee4f7e62e2f85e2b02b', 'message': 'Make wait_for use getopt and add walltime support\n\nWe currently use wait_for which does not account for time spent blocking\nduring COMMAND. This leads to issues where it is hard to calculate time\nwe want to spend waiting for something. Creating a new tool which blocks\nbased on wall time.\n\nCloses-Bug: #1407812\n\nChange-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09\n'}, {'number': 8, 'created': '2015-01-09 17:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/34eeec9c9b557b28db11dbecc5ee61b25a7e5137', 'message': 'Make wait_for use getopt and add walltime support\n\nWe currently use wait_for which does not account for time spent blocking\nduring COMMAND. This leads to issues where it is hard to calculate time\nwe want to spend waiting for something. Creating a new tool which blocks\nbased on wall time.\n\nCloses-Bug: #1407812\n\nChange-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09\n'}, {'number': 9, 'created': '2015-01-12 18:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/a59b08e4662cf7c76b9122b95fc28c3c4e2db314', 'message': ""Make wait_for use getopt and add walltime support\n\nWe currently use wait_for which does not account for time spent blocking\nduring COMMAND. This leads to issues where it is hard to calculate time\nwe want to spend waiting for something. Creating a new tool which blocks\nbased on wall time.\n\nAlso adding progress '.''s to help debugging.\n\nCloses-Bug: #1407812\n\nChange-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09\n""}, {'number': 10, 'created': '2015-01-12 21:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/88f293e38ca15d1675276acac66391eab36519d8', 'message': 'Make wait_for use getopt and add walltime support\n\nWe currently use wait_for which does not account for time spent blocking\nduring COMMAND. This leads to issues where it is hard to calculate time\nwe want to spend waiting for something. Creating a new tool which blocks\nbased on wall time.\n\nCloses-Bug: #1407812\n\nChange-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09\n'}, {'number': 11, 'created': '2015-01-13 00:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/737dc19ae73f32c147efee3af81d7f7f59ee2c3e', 'message': 'Make wait_for use getopt and add walltime support\n\nWe currently use wait_for which does not account for time spent blocking\nduring COMMAND. This leads to issues where it is hard to calculate time\nwe want to spend waiting for something. Creating a new tool which blocks\nbased on wall time.\n\nCloses-Bug: #1407812\n\nChange-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09\n'}, {'number': 12, 'created': '2015-01-14 22:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/84d9777f692108fc70036e12c737f8c26675c747', 'message': 'Make wait_for use getopt and add walltime support\n\nWe currently use wait_for which does not account for time spent blocking\nduring COMMAND. This leads to issues where it is hard to calculate time\nwe want to spend waiting for something. Creating a new tool which blocks\nbased on wall time.\n\nCloses-Bug: #1407812\n\nChange-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09\n'}, {'number': 13, 'created': '2015-01-15 03:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/ff53a697aae0c802f115a8b6359e038185189ab5', 'message': 'Make wait_for use getopt and add walltime support\n\nWe currently use wait_for which does not account for time spent blocking\nduring COMMAND. This leads to issues where it is hard to calculate time\nwe want to spend waiting for something. Creating a new tool which blocks\nbased on wall time.\n\nCloses-Bug: #1407812\n\nChange-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09\n'}, {'number': 14, 'created': '2015-01-16 22:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/0b23cb4eb4a49ee0cdce171f49ff718807f45af7', 'message': 'Make wait_for use getopt and add walltime support\n\nWe currently use wait_for which does not account for time spent blocking\nduring COMMAND. This leads to issues where it is hard to calculate time\nwe want to spend waiting for something. Creating a new tool which blocks\nbased on wall time.\n\nCloses-Bug: #1407812\n\nChange-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09\n'}, {'number': 15, 'created': '2015-01-19 20:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/5a13c72d79b022175b00cd695f4c75c67df53170', 'message': 'Make wait_for use getopt and add walltime support\n\nWe currently use wait_for which does not account for time spent blocking\nduring COMMAND. This leads to issues where it is hard to calculate time\nwe want to spend waiting for something. Creating a new tool which blocks\nbased on wall time.\n\nCloses-Bug: #1407812\n\nChange-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09\n'}, {'number': 16, 'created': '2015-01-19 22:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/4a2c669caefd4bc47d55347317d16f6aaaa7d0cc', 'message': 'Make wait_for use getopt and add walltime support\n\nWe currently use wait_for which does not account for time spent blocking\nduring COMMAND. This leads to issues where it is hard to calculate time\nwe want to spend waiting for something. Creating a new tool which blocks\nbased on wall time.\n\nCloses-Bug: #1407812\n\nChange-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09\n'}, {'number': 17, 'created': '2015-01-20 02:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/3048084b33baf52dbc6d2d671323d85fed7ddaf0', 'message': 'Make wait_for use getopt and add walltime support\n\nWe currently use wait_for which does not account for time spent blocking\nduring COMMAND. This leads to issues where it is hard to calculate time\nwe want to spend waiting for something. Modifying wait_for and\nwait_for_stack_ready to support walltime based timeouts.\n\nCloses-Bug: #1407132\n\nChange-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09\n'}, {'number': 18, 'created': '2015-01-20 02:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/07f477379eaa081564c7934a9b53925a6b4fd47a', 'message': 'Make wait_for use getopt and add walltime support\n\nWe currently use wait_for which does not account for time spent blocking\nduring COMMAND. This leads to issues where it is hard to calculate time\nwe want to spend waiting for something. Modifying wait_for and\nwait_for_stack_ready to support walltime based timeouts.\n\nCloses-Bug: #1407132\n\nChange-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09\n'}, {'number': 19, 'created': '2015-01-20 19:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/7d72a5ea92fb06fb8f51132f93540c3f71acf1dc', 'message': 'Make wait_for use getopt and add walltime support\n\nWe currently use wait_for which does not account for time spent blocking\nduring COMMAND. This leads to issues where it is hard to calculate time\nwe want to spend waiting for something. Modifying wait_for and\nwait_for_stack_ready to support walltime based timeouts.\n\nCloses-Bug: #1407132\n\nChange-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09\n'}, {'number': 20, 'created': '2015-01-20 20:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/a8c7f8b17d034d27025594b18fa8abb2bc1bd6a3', 'message': 'Make wait_for use getopt and add walltime support\n\nWe currently use wait_for which does not account for time spent blocking\nduring COMMAND. This leads to issues where it is hard to calculate time\nwe want to spend waiting for something. Modifying wait_for and\nwait_for_stack_ready to support walltime based timeouts.\n\nCloses-Bug: #1407132\n\nChange-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09\n'}, {'number': 21, 'created': '2015-01-21 00:58:09.000000000', 'files': ['scripts/devtest_seed.sh', 'scripts/devtest_undercloud.sh', 'scripts/wait_for', 'scripts/devtest_overcloud.sh', 'scripts/boot-seed-vm', 'scripts/wait_for_stack_ready'], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/e5e46a69df3972e93b6ac56b6922d6259119730d', 'message': 'Make wait_for use getopt and add walltime support\n\nWe currently use wait_for which does not account for time spent blocking\nduring COMMAND. This leads to issues where it is hard to calculate time\nwe want to spend waiting for something. Modifying wait_for and\nwait_for_stack_ready to support walltime based timeouts.\n\nCloses-Bug: #1407132\n\nChange-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09\n'}]",25,145566,e5e46a69df3972e93b6ac56b6922d6259119730d,106,9,21,10035,,,0,"Make wait_for use getopt and add walltime support

We currently use wait_for which does not account for time spent blocking
during COMMAND. This leads to issues where it is hard to calculate time
we want to spend waiting for something. Modifying wait_for and
wait_for_stack_ready to support walltime based timeouts.

Closes-Bug: #1407132

Change-Id: Icdc626ef8075fbd2f9e7cb7c011a12351c815e09
",git fetch https://review.opendev.org/openstack/tripleo-incubator refs/changes/66/145566/21 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/devtest_seed.sh', 'scripts/wait_for_walltime']",2,77090ff001f92b0117df052d1595a00a684acb72,feature/wait-for-walltime,"#!/bin/bash # # Copyright 2015 Hewlett-Packard Development Company, L.P. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. set -eu set -o pipefail SCRIPT_NAME=$(basename $0) function show_help() { echo ""Usage: $SCRIPT_NAME TIMEOUT DELAY COMMAND"" echo echo ""Run command and timeout with error after TIMEOUT seconds if COMMAND"" echo ""does not exit with success before then."" echo ""Between each execution of COMMAND wait DELAY seconds."" echo ""COMMAND is a command and the arguments to pass to that command."" echo echo ""An optional FAIL_MATCH_OUTPUT variable may also be set to control "" echo ""if the loop exits early if the commands stdout/stderr matches the "" echo ""supplied regex string."" echo echo ""Examples:"" echo "" $SCRIPT_NAME 300 10 ping -c 1 192.0.2.2"" echo "" $SCRIPT_NAME 10 1 ls file_we_are_waiting_for"" echo "" $SCRIPT_NAME 30 3 date \| grep 8"" echo "" FAIL_MATCH_OUTPUT=CREATE_FAILED $SCRIPT_NAME 300 10 heat stack-show undercloud"" echo "" SUCCESSFUL_MATCH_OUTPUT=CREATE_COMPLETE $SCRIPT_NAME 300 10 heat stack-show undercloud"" exit 1 } timeout=${1:-""""} delay=${2:-""""} FAIL_MATCH_OUTPUT=${FAIL_MATCH_OUTPUT:-""""} SUCCESSFUL_MATCH_OUTPUT=${SUCCESSFUL_MATCH_OUTPUT:-""""} shift 2 || true command=""$@"" if [ -z ""$timeout"" -o -z ""$delay"" -o -z ""$command"" ]; then show_help fi starttime=""$(date +%s)"" endtime=$(($starttime + $timeout)) while true; do time_rem=$(($endtime - $cur_time)) if [ $time_rem -le 0 ]; then break fi exit_status=0 output=$(eval $command 2>&1) || exit_status=$? if [[ -n ""$SUCCESSFUL_MATCH_OUTPUT"" ]] \ && [[ $output =~ $SUCCESSFUL_MATCH_OUTPUT ]]; then exit 0 elif [[ -n ""$FAIL_MATCH_OUTPUT"" ]] \ && [[ $output =~ $FAIL_MATCH_OUTPUT ]]; then echo ""Command output matched '$FAIL_MATCH_OUTPUT'. Exiting..."" exit 1 elif [[ -z ""$SUCCESSFUL_MATCH_OUTPUT"" ]] && [[ $exit_status -eq 0 ]]; then # The command successfully completed and we aren't testing against # it's output so we have finished waiting. exit 0 fi cur_time=""$(date +%s)"" time_rem=$(($endtime - $cur_time)) if [ $time_rem -lt $delay ]; then sleep $time_rem else sleep $delay fi done printf 'Timing out after %d seconds:\nCOMMAND=%s\nOUTPUT=%s\n' \ ""$timeout"" ""$command"" ""$output"" exit 1 ",,92,1
openstack%2Fcinder~stable%2Fjuno~I574c1d9aade8cdb8cdebc750dddda58d2587cc03,openstack/cinder,stable/juno,I574c1d9aade8cdb8cdebc750dddda58d2587cc03,Updated from global requirements,MERGED,2015-01-14 13:36:28.000000000,2015-01-22 17:34:37.000000000,2015-01-22 17:34:35.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1420}, {'_account_id': 7198}, {'_account_id': 9656}, {'_account_id': 12202}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 14259}]","[{'number': 1, 'created': '2015-01-14 13:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/95940321cefef858653b60ce19328a0e35ceec51', 'message': 'Updated from global requirements\n\nChange-Id: I574c1d9aade8cdb8cdebc750dddda58d2587cc03\n'}, {'number': 2, 'created': '2015-01-14 23:33:43.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ef09ae109784d796c785008bfffb353f19e57f02', 'message': 'Updated from global requirements\n\nChange-Id: I574c1d9aade8cdb8cdebc750dddda58d2587cc03\n'}]",0,147141,ef09ae109784d796c785008bfffb353f19e57f02,23,9,2,11131,,,0,"Updated from global requirements

Change-Id: I574c1d9aade8cdb8cdebc750dddda58d2587cc03
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/147141/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,95940321cefef858653b60ce19328a0e35ceec51,openstack/requirements,"eventlet>=0.15.1,<0.16.0",eventlet>=0.15.1,1,1
openstack%2Fsolum~master~I9f85b8a745e0e3f96b6a6638f74eeb254ff8466b,openstack/solum,master,I9f85b8a745e0e3f96b6a6638f74eeb254ff8466b,Fix database concurrency issue,MERGED,2015-01-21 22:16:04.000000000,2015-01-22 17:29:55.000000000,2015-01-22 17:29:37.000000000,"[{'_account_id': 3}, {'_account_id': 1375}, {'_account_id': 2506}, {'_account_id': 6662}, {'_account_id': 9095}, {'_account_id': 14554}]","[{'number': 1, 'created': '2015-01-21 22:16:04.000000000', 'files': ['solum/tests/api/handlers/test_extension.py', 'solum/tests/deployer/handlers/test_heat.py', 'solum/tests/api/handlers/test_component.py', 'solum/tests/api/handlers/test_sensor.py', 'solum/api/handlers/assembly_handler.py', 'solum/api/handlers/sensor_handler.py', 'solum/api/handlers/service_handler.py', 'solum/tests/api/handlers/test_assembly.py', 'solum/objects/sqlalchemy/models.py', 'solum/api/handlers/infrastructure_handler.py', 'solum/conductor/api.py', 'solum/worker/handlers/shell.py', 'solum/tests/api/handlers/test_infrastructure.py', 'solum/tests/api/handlers/test_operation.py', 'solum/tests/worker/handlers/test_shell_nobuild.py', 'solum/api/handlers/pipeline_handler.py', 'solum/api/handlers/operation_handler.py', 'solum/tests/api/handlers/test_pipeline.py', 'solum/tests/api/handlers/test_plan.py', 'solum/api/handlers/component_handler.py', 'solum/objects/sqlalchemy/assembly.py', 'solum/tests/api/handlers/test_service.py', 'solum/deployer/handlers/heat.py', 'solum/tests/worker/handlers/test_shell.py', 'solum/conductor/handlers/default.py', 'solum/api/handlers/plan_handler.py', 'solum/api/handlers/extension_handler.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/e92f15c9f9f4087314a1f924457e914a99b9a56f', 'message': 'Fix database concurrency issue\n\nChange-Id: I9f85b8a745e0e3f96b6a6638f74eeb254ff8466b\n'}]",5,149062,e92f15c9f9f4087314a1f924457e914a99b9a56f,14,6,1,6662,,,0,"Fix database concurrency issue

Change-Id: I9f85b8a745e0e3f96b6a6638f74eeb254ff8466b
",git fetch https://review.opendev.org/openstack/solum refs/changes/62/149062/1 && git format-patch -1 --stdout FETCH_HEAD,"['solum/tests/api/handlers/test_extension.py', 'solum/tests/deployer/handlers/test_heat.py', 'solum/tests/api/handlers/test_component.py', 'solum/tests/api/handlers/test_sensor.py', 'solum/api/handlers/assembly_handler.py', 'solum/api/handlers/sensor_handler.py', 'solum/api/handlers/service_handler.py', 'solum/tests/api/handlers/test_assembly.py', 'solum/objects/sqlalchemy/models.py', 'solum/api/handlers/infrastructure_handler.py', 'solum/conductor/api.py', 'solum/worker/handlers/shell.py', 'solum/tests/api/handlers/test_infrastructure.py', 'solum/tests/api/handlers/test_operation.py', 'solum/tests/worker/handlers/test_shell_nobuild.py', 'solum/api/handlers/pipeline_handler.py', 'solum/api/handlers/operation_handler.py', 'solum/tests/api/handlers/test_pipeline.py', 'solum/tests/api/handlers/test_plan.py', 'solum/api/handlers/component_handler.py', 'solum/objects/sqlalchemy/assembly.py', 'solum/tests/api/handlers/test_service.py', 'solum/deployer/handlers/heat.py', 'solum/tests/worker/handlers/test_shell.py', 'solum/conductor/handlers/default.py', 'solum/api/handlers/plan_handler.py', 'solum/api/handlers/extension_handler.py']",27,e92f15c9f9f4087314a1f924457e914a99b9a56f,fix_concurrency," updated = objects.registry.Extension.safe_update(self.context, id, data) return updated"," db_obj = objects.registry.Extension.get_by_uuid(self.context, id) db_obj.update(data) db_obj.save(self.context) return db_obj",229,217
openstack%2Fneutron~master~Ib1c06d5b79c51fb63131efdf6ed83a7e85a7b820,openstack/neutron,master,Ib1c06d5b79c51fb63131efdf6ed83a7e85a7b820,bigswitch: drop usage of SecurityGroupServerRpcApiMixin,MERGED,2015-01-16 16:16:04.000000000,2015-01-22 17:25:27.000000000,2015-01-21 19:26:33.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 5170}, {'_account_id': 6854}, {'_account_id': 7743}, {'_account_id': 7787}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-16 16:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/809cec3099285f1f1eca1cbe26b30150204807eb', 'message': 'bigswitch: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the bigswitch plugin.\nThis is required to be able to eventually move this API into a\nmessaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as a\nmixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Ib1c06d5b79c51fb63131efdf6ed83a7e85a7b820\n'}, {'number': 2, 'created': '2015-01-21 14:49:39.000000000', 'files': ['neutron/tests/unit/bigswitch/test_restproxy_agent.py', 'neutron/plugins/bigswitch/agent/restproxy_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3505e873f59702fad1196cafdd224eea72ba674', 'message': 'bigswitch: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the bigswitch plugin.\nThis is required to be able to eventually move this API into a\nmessaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as a\nmixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Ib1c06d5b79c51fb63131efdf6ed83a7e85a7b820\n'}]",0,147901,f3505e873f59702fad1196cafdd224eea72ba674,41,23,2,1561,,,0,"bigswitch: drop usage of SecurityGroupServerRpcApiMixin

Drop usage of SecurityGroupServerRpcApiMixin in the bigswitch plugin.
This is required to be able to eventually move this API into a
messaging namespace.  It needs to use its own messaging client
instance, instead of a different one it gets after being used as a
mixin.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: Ib1c06d5b79c51fb63131efdf6ed83a7e85a7b820
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/147901/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/bigswitch/test_restproxy_agent.py', 'neutron/plugins/bigswitch/agent/restproxy_agent.py']",2,809cec3099285f1f1eca1cbe26b30150204807eb,bp/rpc-docs-and-namespaces," self.sg_plugin_rpc, self.plugin_rpc = agent_rpc.PluginApi(topics.PLUGIN) self.sg_plugin_rpc = sg_rpc.SecurityGroupServerRpcApi(topics.PLUGIN)","class PluginApi(agent_rpc.PluginApi, sg_rpc.SecurityGroupServerRpcApiMixin): pass self.plugin_rpc, self.plugin_rpc = PluginApi(topics.PLUGIN)",4,8
openstack%2Fapi-site~master~Ib26944ccf10e0405cb31cc4c36af9ab627a27a59,openstack/api-site,master,Ib26944ccf10e0405cb31cc4c36af9ab627a27a59,Updated subnet json example,ABANDONED,2015-01-21 17:23:04.000000000,2015-01-22 17:21:27.000000000,,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-01-21 17:23:04.000000000', 'files': ['api-ref/src/wadls/netconn-api/src/common.ent'], 'web_link': 'https://opendev.org/openstack/api-site/commit/160fb0b60ea4f3709fe385fe748e0f089a7bf45c', 'message': 'Updated subnet json example\n\nChange-Id: Ib26944ccf10e0405cb31cc4c36af9ab627a27a59\nCloses-bug: #1308266\n'}]",0,148992,160fb0b60ea4f3709fe385fe748e0f089a7bf45c,4,2,1,14474,,,0,"Updated subnet json example

Change-Id: Ib26944ccf10e0405cb31cc4c36af9ab627a27a59
Closes-bug: #1308266
",git fetch https://review.opendev.org/openstack/api-site refs/changes/92/148992/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/src/wadls/netconn-api/src/common.ent'],1,160fb0b60ea4f3709fe385fe748e0f089a7bf45c,bug/1308266, <para>A specified set of DNS name servers for the subnet. Set is a distinct list of comma seperated values.</para></wadl:doc> <para>A specified set of host routes for the subnet. Set is a distinct list of comma seperated values.</para></wadl:doc>, <para>A specified set of dns name servers for the subnet.</para></wadl:doc> <para>A specified set of host routes for the subnet.</para></wadl:doc>,2,2
openstack%2Fpython-barbicanclient~master~I63386e68ac3ef5c05bc8290d889efa7f71b33cf1,openstack/python-barbicanclient,master,I63386e68ac3ef5c05bc8290d889efa7f71b33cf1,Enable usage of oslo_debug_helper from tox,MERGED,2015-01-17 15:51:14.000000000,2015-01-22 17:19:16.000000000,2015-01-22 17:19:16.000000000,"[{'_account_id': 3}, {'_account_id': 6783}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 7354}, {'_account_id': 7355}, {'_account_id': 7687}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 8004}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}]","[{'number': 1, 'created': '2015-01-17 15:51:14.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/9508151e6c79e5e0deb15083e4dfa1bf689288cb', 'message': 'Enable usage of oslo_debug_helper from tox\n\nThe script oslo_debug_helper enables the usage of Python\'s pdb without\nhaving to do the tedious listing of test cases from testr and then\nrunning it. Only thing that needs to be done now is the adding of\n""import pdb; pdb.set_trace()"" as usual and then one can just call:\n\n    $ tox -e debug\n\nAnd we will end up in the debugger when that test is hit.\n\nNote that you can also give a test_regex such as:\n\n    $ tox -e debug -- some_test_regex\n\nTo run only tests that match that regex.\n\nChange-Id: I63386e68ac3ef5c05bc8290d889efa7f71b33cf1\n'}]",0,148055,9508151e6c79e5e0deb15083e4dfa1bf689288cb,13,13,1,10873,,,0,"Enable usage of oslo_debug_helper from tox

The script oslo_debug_helper enables the usage of Python's pdb without
having to do the tedious listing of test cases from testr and then
running it. Only thing that needs to be done now is the adding of
""import pdb; pdb.set_trace()"" as usual and then one can just call:

    $ tox -e debug

And we will end up in the debugger when that test is hit.

Note that you can also give a test_regex such as:

    $ tox -e debug -- some_test_regex

To run only tests that match that regex.

Change-Id: I63386e68ac3ef5c05bc8290d889efa7f71b33cf1
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/55/148055/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,9508151e6c79e5e0deb15083e4dfa1bf689288cb,debug_helper,[testenv:debug] commands = oslo_debug_helper -t barbicanclient {posargs} ,,4,0
openstack%2Fneutron~master~If959b2f8bf21b4963bf6876a3eedc0a4b06c6400,openstack/neutron,master,If959b2f8bf21b4963bf6876a3eedc0a4b06c6400,Create SecurityGroupServerRpcApi and add some docs,MERGED,2015-01-16 16:16:04.000000000,2015-01-22 17:09:59.000000000,2015-01-21 19:18:20.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 841}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 2592}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-16 16:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/45896f822f8122f836228b1ac9901a72e6a0a338', 'message': 'Create SecurityGroupServerRpcApi and add some docs\n\nCreate SecurityGroupServerRpcApi, which is intended to replace\nSecurityGroupServerRpcApiMixin over time.  The new class is the same\ncode, but used as a standalone class.  This is needed to be able to\neventually move this API into a messaging namespace.\n\nIn passing, add docstrings that show where to find the corresponding\nother side of this interface in the code base.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: If959b2f8bf21b4963bf6876a3eedc0a4b06c6400\n'}, {'number': 2, 'created': '2015-01-21 14:49:39.000000000', 'files': ['neutron/agent/securitygroups_rpc.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py', 'doc/source/devref/security_group_api.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8364c03d10386004e5a11d3585e328de46f99bac', 'message': 'Create SecurityGroupServerRpcApi and add some docs\n\nCreate SecurityGroupServerRpcApi, which is intended to replace\nSecurityGroupServerRpcApiMixin over time.  The new class is the same\ncode, but used as a standalone class.  This is needed to be able to\neventually move this API into a messaging namespace.\n\nIn passing, add docstrings that show where to find the corresponding\nother side of this interface in the code base.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: If959b2f8bf21b4963bf6876a3eedc0a4b06c6400\n'}]",2,147900,8364c03d10386004e5a11d3585e328de46f99bac,50,25,2,1561,,,0,"Create SecurityGroupServerRpcApi and add some docs

Create SecurityGroupServerRpcApi, which is intended to replace
SecurityGroupServerRpcApiMixin over time.  The new class is the same
code, but used as a standalone class.  This is needed to be able to
eventually move this API into a messaging namespace.

In passing, add docstrings that show where to find the corresponding
other side of this interface in the code base.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: If959b2f8bf21b4963bf6876a3eedc0a4b06c6400
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/147900/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/securitygroups_rpc.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py']",2,45896f822f8122f836228b1ac9901a72e6a0a338,bp/rpc-docs-and-namespaces," """"""Callback for SecurityGroup agent RPC in plugin implementations. This class implements the server side of an rpc interface. The client side can be found in neutron.agent.securitygroups_rpc.SecurityGroupServerRpcApi. For more information on changing rpc interfaces, see doc/source/devref/rpc_api.rst. """""""," """"""Callback for SecurityGroup agent RPC in plugin implementations.""""""",30,1
openstack%2Fmanila~master~I64145f0edf0fd745b6e9bed36bf1e418a8c57b73,openstack/manila,master,I64145f0edf0fd745b6e9bed36bf1e418a8c57b73,Add metadata functionality for services,ABANDONED,2015-01-02 16:12:39.000000000,2015-01-22 17:09:32.000000000,,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6116}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 8851}, {'_account_id': 14232}]","[{'number': 1, 'created': '2015-01-02 16:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bbe6b8299aa6317399399617431ad8af32433a3f', 'message': 'Add metadata functionality for services\n\nCurrently services store basic information in db table\n""services"", but services hasn\'t possibility to store\ninformation related to one particular service.\nUsing metadata concept (same as shares metadata) we can\nmake validation and other decisions earlier (on API layer).\n\nThis change is required for implementation manage/unmanage\nshare server functionality.\n\nAdd service_metadata table.\nAdd service_metadata model and db.api functions.\nAdd metadata information to services API.\n\nPartially implements bp manage-shares\n\nChange-Id: I64145f0edf0fd745b6e9bed36bf1e418a8c57b73\n'}, {'number': 2, 'created': '2015-01-05 09:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/49c21c283898b08fb1904463d4a7edc5f29bb669', 'message': 'Add metadata functionality for services\n\nCurrently services store basic information in db table\n""services"", but services hasn\'t possibility to store\ninformation related to one particular service.\nUsing metadata concept (same as shares metadata) we can\nmake validation and other decisions earlier (on API layer).\n\nThis change is required for implementation manage/unmanage\nshare server functionality.\n\nAdd service_metadata table.\nAdd service_metadata model and db.api functions.\nAdd metadata information to services API.\n\nPartially implements bp manage-shares\n\nChange-Id: I64145f0edf0fd745b6e9bed36bf1e418a8c57b73\n'}, {'number': 3, 'created': '2015-01-05 11:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a1c2fe660203e35cb95b58aa56cfdc541bedeed5', 'message': 'Add metadata functionality for services\n\nCurrently services store basic information in db table\n""services"", but services hasn\'t possibility to store\ninformation related to one particular service.\nUsing metadata concept (same as shares metadata) we can\nmake validation and other decisions earlier (on API layer).\n\nThis change is required for implementation manage/unmanage\nshare server functionality.\n\nAdd service_metadata table.\nAdd service_metadata model and db.api functions.\nAdd metadata information to services API.\n\nPartially implements bp manage-shares\n\nChange-Id: I64145f0edf0fd745b6e9bed36bf1e418a8c57b73\n'}, {'number': 4, 'created': '2015-01-05 11:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/67387249e0c3f04de07a23daaff3bc1aa14cf496', 'message': 'Add metadata functionality for services\n\nCurrently services store basic information in db table\n""services"", but services hasn\'t possibility to store\ninformation related to one particular service.\nUsing metadata concept (same as shares metadata) we can\nmake validation and other decisions earlier (on API layer).\n\nThis change is required for implementation manage/unmanage\nshare server functionality.\n\nAdd service_metadata table.\nAdd service_metadata model and db.api functions.\nAdd metadata information to services API.\n\nPartially implements bp manage-shares\n\nChange-Id: I64145f0edf0fd745b6e9bed36bf1e418a8c57b73\n'}, {'number': 5, 'created': '2015-01-06 08:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/05765c70e6f2dbfa34cd16f96575e044a0e1576e', 'message': 'Add metadata functionality for services\n\nCurrently services store basic information in db table\n""services"", but services hasn\'t possibility to store\ninformation related to one particular service.\nUsing metadata concept (same as shares metadata) we can\nmake validation and other decisions earlier (on API layer).\n\nThis change is required for implementation manage/unmanage\nshare server functionality.\n\nAdd service_metadata table.\nAdd service_metadata model and db.api functions.\nAdd metadata information to services API.\n\nPartially implements bp manage-shares\n\nChange-Id: I64145f0edf0fd745b6e9bed36bf1e418a8c57b73\n'}, {'number': 6, 'created': '2015-01-16 10:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a0468c201388f2003932a6cdc747ae58bc5376d2', 'message': 'Add metadata functionality for services\n\nCurrently services store basic information in db table\n""services"", but services hasn\'t possibility to store\ninformation related to one particular service.\nUsing metadata concept (same as shares metadata) we can\nmake validation and other decisions earlier (on API layer).\n\nThis change is required for implementation manage/unmanage\nshare server functionality.\n\nAdd service_metadata table.\nAdd service_metadata model and db.api functions.\nAdd metadata information to services API.\n\nPartially implements bp manage-shares\n\nChange-Id: I64145f0edf0fd745b6e9bed36bf1e418a8c57b73\n'}, {'number': 7, 'created': '2015-01-16 15:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/deec41ac2f4acf8f7c9cb0c02237ab04f5a53656', 'message': 'Add metadata functionality for services\n\nCurrently services store basic information in db table\n""services"", but services hasn\'t possibility to store\ninformation related to one particular service.\nUsing metadata concept (same as shares metadata) we can\nmake validation and other decisions earlier (on API layer).\n\nThis change is required for implementation manage/unmanage\nshare server functionality.\n\nAdd service_metadata table.\nAdd service_metadata model and db.api functions.\nAdd metadata information to services API.\n\nPartially implements bp manage-shares\n\nChange-Id: I64145f0edf0fd745b6e9bed36bf1e418a8c57b73\n'}, {'number': 8, 'created': '2015-01-19 08:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7c422fa9f26124c8aca7e154156ac61756f8b7f1', 'message': 'Add metadata functionality for services\n\nCurrently services store basic information in db table\n""services"", but it\'s not possible to store information\nrelated to one particular service.\nUsing metadata concept (same as shares metadata) we can\nmake validation and other decisions earlier (on API layer).\n\nThis change is required for implementation manage/unmanage\nshare server functionality.\n\nAdd service_metadata table.\nAdd service_metadata model and db.api functions.\nAdd metadata information to services API.\n\nPartially implements bp manage-shares\n\nChange-Id: I64145f0edf0fd745b6e9bed36bf1e418a8c57b73\n'}, {'number': 9, 'created': '2015-01-20 15:27:17.000000000', 'files': ['manila/db/sqlalchemy/models.py', 'manila/api/contrib/services.py', 'manila/db/migrations/alembic/versions/2305b28ff8f7_add_service_metadata_table.py', 'manila/db/api.py', 'manila/service.py', 'manila/tests/test_service.py', 'manila/db/sqlalchemy/api.py', 'manila/tests/api/contrib/test_services.py', 'manila/manager.py', 'manila/share/manager.py', 'manila/tests/test_db.py', 'manila/exception.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/552fff9d0801215e8d557318050b0cf63ad5b328', 'message': 'Add metadata functionality for services\n\nCurrently services store basic information in db table\n""services"", but it\'s not possible to store information\nrelated to one particular service.\nUsing metadata concept (same as shares metadata) we can\nmake validation and other decisions earlier (on API layer).\n\nThis change is required for implementation manage/unmanage\nshare server functionality.\n\nAdd service_metadata table.\nAdd service_metadata model and db.api functions.\nAdd metadata information to services API.\n\nPartially implements bp manage-shares\n\nChange-Id: I64145f0edf0fd745b6e9bed36bf1e418a8c57b73\n'}]",5,144770,552fff9d0801215e8d557318050b0cf63ad5b328,22,7,9,14232,,,0,"Add metadata functionality for services

Currently services store basic information in db table
""services"", but it's not possible to store information
related to one particular service.
Using metadata concept (same as shares metadata) we can
make validation and other decisions earlier (on API layer).

This change is required for implementation manage/unmanage
share server functionality.

Add service_metadata table.
Add service_metadata model and db.api functions.
Add metadata information to services API.

Partially implements bp manage-shares

Change-Id: I64145f0edf0fd745b6e9bed36bf1e418a8c57b73
",git fetch https://review.opendev.org/openstack/manila refs/changes/70/144770/9 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/api.py', 'manila/service.py', 'manila/tests/test_service.py', 'manila/db/sqlalchemy/models.py', 'manila/db/sqlalchemy/api.py', 'manila/tests/api/contrib/test_services.py', 'manila/manager.py', 'manila/share/manager.py', 'manila/api/contrib/services.py', 'manila/db/migrations/alembic/versions/2305b28ff8f7_add_service_metadata_table.py', 'manila/exception.py']",11,bbe6b8299aa6317399399617431ad8af32433a3f,bp/manage-shares,"class ServiceMetadataNotFound(NotFound): message = _(""Service metadata item is not found."") ",,275,108
openstack%2Fmanila~master~I737b42251dfa16c509fc4cbb486644c9a46e5b65,openstack/manila,master,I737b42251dfa16c509fc4cbb486644c9a46e5b65,Add is_deletable field to share_servers model,ABANDONED,2014-12-29 13:39:19.000000000,2015-01-22 17:09:20.000000000,,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6116}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 8851}, {'_account_id': 11878}, {'_account_id': 14232}]","[{'number': 1, 'created': '2014-12-29 13:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c7c08c7b099da55a8b73691b47500b1954d8980a', 'message': 'Add is_deletable field to share_servers model\n\nis_deletable field of ShareServer determines possibility for manila\nto delete this server. This change is required for implementation\nmanage/unmanage share server functionality.\n\nAdd is_deletable field to share_servers db table via migration.\nAdd is_deletable field to ShareServer model.\nUpdate delete_share_server methods.\nAdd configuration option create_deletable_share_servers for share manager.\n\nPartially implements bp manage-shares\n\nChange-Id: I737b42251dfa16c509fc4cbb486644c9a46e5b65\n'}, {'number': 2, 'created': '2014-12-29 16:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2e1b45a7ec7614dfba066f6da19a30ebc5a4ab56', 'message': 'Add is_deletable field to share_servers model\n\nis_deletable field of ShareServer determines possibility for manila\nto delete this server. This change is required for implementation\nmanage/unmanage share server functionality.\n\nAdd is_deletable field to share_servers db table via migration.\nAdd is_deletable field to ShareServer model.\nUpdate delete_share_server methods.\nAdd configuration option create_deletable_share_servers for share manager.\n\nPartially implements bp manage-shares\n\nChange-Id: I737b42251dfa16c509fc4cbb486644c9a46e5b65\n'}, {'number': 3, 'created': '2014-12-30 10:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/890b51ab106fc467ebe88c366ceea21a2d9f68b9', 'message': 'Add is_deletable field to share_servers model\n\nis_deletable field of ShareServer determines possibility for manila\nto delete this server. This change is required for implementation\nmanage/unmanage share server functionality.\n\nAdd is_deletable field to share_servers db table via migration.\nAdd is_deletable field to ShareServer model.\nUpdate delete_share_server methods.\nAdd configuration option share_servers_deletable for share manager.\n\nPartially implements bp manage-shares\n\nChange-Id: I737b42251dfa16c509fc4cbb486644c9a46e5b65\n'}, {'number': 4, 'created': '2015-01-02 10:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/51749a7d9df1a1102166e1123a6f809c8179d4c7', 'message': 'Add is_deletable field to share_servers model\n\nis_deletable field of ShareServer determines possibility for manila\nto delete this server. This change is required for implementation\nmanage/unmanage share server functionality.\n\nAdd is_deletable field to share_servers db table via migration.\nAdd is_deletable field to ShareServer model.\nUpdate delete_share_server methods.\nAdd configuration option share_servers_deletable for share manager.\n\nPartially implements bp manage-shares\n\nChange-Id: I737b42251dfa16c509fc4cbb486644c9a46e5b65\n'}, {'number': 5, 'created': '2015-01-05 10:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1759d26ce3359567be753edc0fce5dd0ae96bb62', 'message': 'Add is_deletable field to share_servers model\n\nis_deletable field of ShareServer determines possibility for manila\nto delete this server. This change is required for implementation\nmanage/unmanage share server functionality.\n\nAdd is_deletable field to share_servers db table via migration.\nAdd is_deletable field to ShareServer model.\nUpdate delete_share_server methods.\nAdd configuration option share_servers_deletable for share manager.\n\nPartially implements bp manage-shares\n\nChange-Id: I737b42251dfa16c509fc4cbb486644c9a46e5b65\n'}, {'number': 6, 'created': '2015-01-05 10:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c3413befd988408092367f77c6fd13f56445c496', 'message': 'Add is_deletable field to share_servers model\n\nis_deletable field of ShareServer determines possibility for manila\nto delete this server. This change is required for implementation\nmanage/unmanage share server functionality.\n\nAdd is_deletable field to share_servers db table via migration.\nAdd is_deletable field to ShareServer model.\nUpdate delete_share_server methods.\nAdd configuration option share_servers_deletable for share manager.\n\nPartially implements bp manage-shares\n\nChange-Id: I737b42251dfa16c509fc4cbb486644c9a46e5b65\n'}, {'number': 7, 'created': '2015-01-05 11:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a1c1ed72197978986d6f919070679893437e3cf6', 'message': 'Add is_deletable field to share_servers model\n\nis_deletable field of ShareServer determines possibility for manila\nto delete this server. This change is required for implementation\nmanage/unmanage share server functionality.\n\nAdd is_deletable field to share_servers db table via migration.\nAdd is_deletable field to ShareServer model.\nUpdate delete_share_server methods.\nAdd configuration option share_servers_deletable for share manager.\n\nPartially implements bp manage-shares\n\nChange-Id: I737b42251dfa16c509fc4cbb486644c9a46e5b65\n'}, {'number': 8, 'created': '2015-01-05 11:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d28daa5fd444a1da0a8ced45d9bef0dcbbd1505f', 'message': 'Add is_deletable field to share_servers model\n\nCurrently manila fully control life-cycle of share servers\n(creation and deleting). But for implementation manage/unmanage\nshare server functionality we need to introduce new ""undeletable""\nshare servers - manila can work with such share servers, but\ndoesn\'t control life-cycle.\n\nAdd is_deletable field to share_servers db table via migration.\nAdd is_deletable field to ShareServer model.\nUpdate delete_share_server methods.\nAdd configuration option share_servers_deletable for share manager.\n\nPartially implements bp manage-shares\n\nChange-Id: I737b42251dfa16c509fc4cbb486644c9a46e5b65\n'}, {'number': 9, 'created': '2015-01-05 11:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2a79e9733be8250532782ef9af020c5f78eff069', 'message': 'Add is_deletable field to share_servers model\n\nCurrently manila fully control life-cycle of share servers\n(creation and deleting). But for implementation manage/unmanage\nshare server functionality we need to introduce new ""undeletable""\nshare servers - manila can work with such share servers, but\ndoesn\'t control life-cycle.\n\nAdd is_deletable field to share_servers db table via migration.\nAdd is_deletable field to ShareServer model.\nUpdate delete_share_server methods.\nAdd configuration option share_servers_deletable for share manager.\n\nPartially implements bp manage-shares\n\nChange-Id: I737b42251dfa16c509fc4cbb486644c9a46e5b65\n'}, {'number': 10, 'created': '2015-01-05 13:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3d8054b6755e6df8139ce7947c74e3b053e110d7', 'message': 'Add is_deletable field to share_servers model\n\nCurrently manila fully control life-cycle of share servers\n(creation and deleting). But for implementation manage/unmanage\nshare server functionality we need to introduce new ""undeletable""\nshare servers - manila can work with such share servers, but\ndoesn\'t control life-cycle.\n\nAdd is_deletable field to share_servers db table via migration.\nAdd is_deletable field to ShareServer model.\nUpdate delete_share_server methods.\nAdd configuration option share_servers_deletable for share manager.\n\nPartially implements bp manage-shares\n\nChange-Id: I737b42251dfa16c509fc4cbb486644c9a46e5b65\n'}, {'number': 11, 'created': '2015-01-09 08:30:33.000000000', 'files': ['manila/tests/share/test_api.py', 'manila/db/sqlalchemy/models.py', 'manila/share/api.py', 'manila/api/v1/share_servers.py', 'manila/tests/api/v1/test_share_servers.py', 'manila/share/manager.py', 'manila/tests/test_db.py', 'manila/db/migrations/alembic/versions/42c559fa14c5_add_is_deletable_field_to_share_servers_table.py', 'manila/tests/share/test_rpcapi.py', 'manila/exception.py', 'manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/e7f9c8d5a5aee305c296e9cb717862dc3b8f3d80', 'message': 'Add is_deletable field to share_servers model\n\nCurrently manila fully control life-cycle of share servers\n(creation and deletion). But for implementation manage/unmanage\nshare server functionality we need to introduce new ""undeletable""\nshare servers - manila can work with such share servers, but\ndoesn\'t control life-cycle.\n\nAdd is_deletable field to share_servers db table via migration.\nAdd is_deletable field to ShareServer model.\nUpdate _provide_share_server_for_share() and delete_share_server() methods.\n\nPartially implements bp manage-shares\n\nChange-Id: I737b42251dfa16c509fc4cbb486644c9a46e5b65\n'}]",25,144301,e7f9c8d5a5aee305c296e9cb717862dc3b8f3d80,47,8,11,14232,,,0,"Add is_deletable field to share_servers model

Currently manila fully control life-cycle of share servers
(creation and deletion). But for implementation manage/unmanage
share server functionality we need to introduce new ""undeletable""
share servers - manila can work with such share servers, but
doesn't control life-cycle.

Add is_deletable field to share_servers db table via migration.
Add is_deletable field to ShareServer model.
Update _provide_share_server_for_share() and delete_share_server() methods.

Partially implements bp manage-shares

Change-Id: I737b42251dfa16c509fc4cbb486644c9a46e5b65
",git fetch https://review.opendev.org/openstack/manila refs/changes/01/144301/10 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/test_api.py', 'manila/db/sqlalchemy/models.py', 'manila/share/api.py', 'manila/api/v1/share_servers.py', 'manila/share/manager.py', 'manila/tests/api/v1/test_share_servers.py', 'manila/db/migrations/alembic/versions/42c559fa14c5_add_is_deletable_field_to_share_servers_table.py', 'manila/exception.py']",8,c7c08c7b099da55a8b73691b47500b1954d8980a,bp/manage-shares,"class ShareServerUndeletable(ManilaException): message = _(""Share Server %(share_server_id)s is undeletable."") ",,117,79
openstack%2Fsolum~master~Ifc4e6e2579c8acfc54b91db3fc267fc6539c4f70,openstack/solum,master,Ifc4e6e2579c8acfc54b91db3fc267fc6539c4f70,Updating tests to use tempest-lib,MERGED,2015-01-20 19:25:16.000000000,2015-01-22 16:58:45.000000000,2015-01-22 16:58:28.000000000,"[{'_account_id': 3}, {'_account_id': 1375}, {'_account_id': 2506}, {'_account_id': 6662}, {'_account_id': 7784}, {'_account_id': 14484}, {'_account_id': 14554}]","[{'number': 1, 'created': '2015-01-20 19:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/fd1e2be5a88e6ccb0a11b832f3e5a699ec0a90a1', 'message': 'Updating tests to use tempest-lib\n\nChange-Id: Ifc4e6e2579c8acfc54b91db3fc267fc6539c4f70\n'}, {'number': 2, 'created': '2015-01-20 20:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/e5b9ef3157cf309f5bed54ee067e28df04492230', 'message': 'Updating tests to use tempest-lib\n\nChange-Id: Ifc4e6e2579c8acfc54b91db3fc267fc6539c4f70\n'}, {'number': 3, 'created': '2015-01-20 22:29:23.000000000', 'files': ['functionaltests/api/base.py', 'functionaltests/api/v1/test_language_pack.py', 'functionaltests/api/v1/test_assembly.py', 'functionaltests/api/v1/test_service.py', 'functionaltests/api/v1/test_plan.py', 'functionaltests/api/v1/test_component.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/b9b406585b8b5e6bfde89fbec85f5fbc38db571b', 'message': 'Updating tests to use tempest-lib\n\nChange-Id: Ifc4e6e2579c8acfc54b91db3fc267fc6539c4f70\n'}]",0,148699,b9b406585b8b5e6bfde89fbec85f5fbc38db571b,30,7,3,7784,,,0,"Updating tests to use tempest-lib

Change-Id: Ifc4e6e2579c8acfc54b91db3fc267fc6539c4f70
",git fetch https://review.opendev.org/openstack/solum refs/changes/99/148699/1 && git format-patch -1 --stdout FETCH_HEAD,['functionaltests/api/base.py'],1,fd1e2be5a88e6ccb0a11b832f3e5a699ec0a90a1,tempest-lib-fix,from tempest_lib.common import http from tempest_lib.common import rest_client,from tempest.common import http from tempest.common import rest_client,2,2
openstack%2Ffuel-ostf~stable%2F6.0~I37d90388961c6a5e793f537949260649df5e0ea1,openstack/fuel-ostf,stable/6.0,I37d90388961c6a5e793f537949260649df5e0ea1,Bump release version for fuel_health tests,MERGED,2015-01-22 11:27:21.000000000,2015-01-22 16:49:02.000000000,2015-01-22 16:49:01.000000000,"[{'_account_id': 3}, {'_account_id': 8392}, {'_account_id': 8789}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 12200}]","[{'number': 1, 'created': '2015-01-22 11:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/8b2717aab19ef24b317c5dd584fbfb3b14fed80f', 'message': 'Bump release version for fuel_health tests\n\nBump release version to 2014.2-6.0.1 in deployment tags of all affected\ntests in fuel_health.\n\nIs related to change https://review.openstack.org/#/c/144469/1\n\nChange-Id: I37d90388961c6a5e793f537949260649df5e0ea1\n'}, {'number': 2, 'created': '2015-01-22 11:44:09.000000000', 'files': ['fuel_health/tests/sanity/test_sanity_networking.py'], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/3b57985d4d2155510894a1f6d03b478b201f7780', 'message': 'Bump release version for fuel_health tests\n\nBump release version to 2014.2-6.0.1 in deployment tags of all affected\ntests in fuel_health.\n\nIs related to change https://review.openstack.org/#/c/144469/1\n\nChange-Id: I37d90388961c6a5e793f537949260649df5e0ea1\n'}]",0,149216,3b57985d4d2155510894a1f6d03b478b201f7780,17,7,2,8931,,,0,"Bump release version for fuel_health tests

Bump release version to 2014.2-6.0.1 in deployment tags of all affected
tests in fuel_health.

Is related to change https://review.openstack.org/#/c/144469/1

Change-Id: I37d90388961c6a5e793f537949260649df5e0ea1
",git fetch https://review.opendev.org/openstack/fuel-ostf refs/changes/16/149216/2 && git format-patch -1 --stdout FETCH_HEAD,['fuel_health/tests/sanity/test_sanity_networking.py'],1,8b2717aab19ef24b317c5dd584fbfb3b14fed80f,bump_release_version_for_tests," Deployment tags: neutron, 2014.2-6.0.1"," Deployment tags: neutron, 2014.2-6.0",1,1
openstack%2Foslo.rootwrap~master~I73b61fcd591fccf566f0c50e95041b45fbeb8d83,openstack/oslo.rootwrap,master,I73b61fcd591fccf566f0c50e95041b45fbeb8d83,Add bug link to README,MERGED,2015-01-20 16:28:25.000000000,2015-01-22 16:46:38.000000000,2015-01-22 16:46:38.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6928}, {'_account_id': 9397}]","[{'number': 1, 'created': '2015-01-20 16:28:25.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/7a6769bb62e35d448ffb882d54d39fcaad957e58', 'message': 'Add bug link to README\n\nUpdate README to include links expected by the release notes script.\n\nChange-Id: I73b61fcd591fccf566f0c50e95041b45fbeb8d83\n'}]",0,148620,7a6769bb62e35d448ffb882d54d39fcaad957e58,11,5,1,2472,,,0,"Add bug link to README

Update README to include links expected by the release notes script.

Change-Id: I73b61fcd591fccf566f0c50e95041b45fbeb8d83
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/20/148620/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,7a6769bb62e35d448ffb882d54d39fcaad957e58,fix-readme,"* License: Apache License, Version 2.0 * Documentation: http://docs.openstack.org/developer/oslo.rootwrap * Source: http://git.openstack.org/cgit/openstack/oslo.rootwrap * Bugs: http://bugs.launchpad.net/oslo.rootwrap Using ===== ",,8,0
openstack%2Fneutron~master~Idad9732be1c225262b39e07455d41bd61477c39d,openstack/neutron,master,Idad9732be1c225262b39e07455d41bd61477c39d,hyperv: drop usage of SecurityGroupServerRpcApiMixin,MERGED,2015-01-16 16:16:04.000000000,2015-01-22 16:42:34.000000000,2015-01-21 19:26:48.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 6854}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-16 16:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a594f7bd0062940478a6f61e129c1ef005f78c7', 'message': 'hyperv: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the bigswitch plugin.\nThis is required to be able to eventually move this API into a\nmessaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as a\nmixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Idad9732be1c225262b39e07455d41bd61477c39d\n'}, {'number': 2, 'created': '2015-01-16 17:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/76d732ecc1f4906aeba52264fc252cbc2e906ad3', 'message': 'hyperv: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the hyperv plugin.\nThis is required to be able to eventually move this API into a\nmessaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as a\nmixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Idad9732be1c225262b39e07455d41bd61477c39d\n'}, {'number': 3, 'created': '2015-01-21 14:49:39.000000000', 'files': ['neutron/plugins/hyperv/agent/hyperv_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/21b20b7e2d4a4ff1a18ef2b19508cab7cca9f27e', 'message': 'hyperv: drop usage of SecurityGroupServerRpcApiMixin\n\nDrop usage of SecurityGroupServerRpcApiMixin in the hyperv plugin.\nThis is required to be able to eventually move this API into a\nmessaging namespace.  It needs to use its own messaging client\ninstance, instead of a different one it gets after being used as a\nmixin.\n\nPart of blueprint rpc-docs-and-namespaces.\n\nChange-Id: Idad9732be1c225262b39e07455d41bd61477c39d\n'}]",2,147902,21b20b7e2d4a4ff1a18ef2b19508cab7cca9f27e,48,19,3,1561,,,0,"hyperv: drop usage of SecurityGroupServerRpcApiMixin

Drop usage of SecurityGroupServerRpcApiMixin in the hyperv plugin.
This is required to be able to eventually move this API into a
messaging namespace.  It needs to use its own messaging client
instance, instead of a different one it gets after being used as a
mixin.

Part of blueprint rpc-docs-and-namespaces.

Change-Id: Idad9732be1c225262b39e07455d41bd61477c39d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/147902/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/hyperv/agent/hyperv_neutron_agent.py'],1,7a594f7bd0062940478a6f61e129c1ef005f78c7,bp/rpc-docs-and-namespaces," self.plugin_rpc = agent_rpc.PluginApi(topics.PLUGIN) self.sg_plugin_rpc = sg_rpc.SecurityGroupServerRpcApi(topics.PLUGIN) self.context, self.sg_plugin_rpc)","class HyperVPluginApi(agent_rpc.PluginApi, sg_rpc.SecurityGroupServerRpcApiMixin): pass self.plugin_rpc = HyperVPluginApi(topics.PLUGIN) self.context, self.plugin_rpc)",3,7
openstack%2Fironic~master~I6effe6ea624e593927c7dc0fc17190df8dc80819,openstack/ironic,master,I6effe6ea624e593927c7dc0fc17190df8dc80819,Use GB instead of MB for swap,ABANDONED,2014-03-28 15:33:38.000000000,2015-01-22 16:42:19.000000000,,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 2889}, {'_account_id': 3099}, {'_account_id': 4190}, {'_account_id': 5805}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 7711}, {'_account_id': 7882}, {'_account_id': 8106}, {'_account_id': 8125}, {'_account_id': 9569}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 10692}]","[{'number': 1, 'created': '2014-03-28 15:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/802c16c382da19fed02f73c7b6b81e62e82cf851', 'message': ""Use GB instead of MB for swap\n\nHaving different size units for the parameters is not ideal, this patch\nconverts the swap partition size parameter (pxe_swap_gb) to expect a GB\nvalue, just like the root and ephemeral partition.\n\nIt's important to note that Nova still using mixed size units for\nthose parameters, so the Nova Ironic Driver should be responsable for\ntranslating it for Ironic.\n\nCloses-Bug: #1297871\nChange-Id: I6effe6ea624e593927c7dc0fc17190df8dc80819\n""}, {'number': 2, 'created': '2014-03-31 11:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c1edc99a39d9af88389a7c9a925c798e9184c475', 'message': 'Use GB instead of MB for swap\n\nHaving different size units for the parameters is not ideal, this patch\nconverts the swap partition size parameter (pxe_swap_gb) to expect a GB\nvalue, just like the root and ephemeral partition.\n\nThis patch also changes the Nova Ironic Driver to translate the swap\nvalue from MB to GB.\n\nCloses-Bug: #1297871\nChange-Id: I6effe6ea624e593927c7dc0fc17190df8dc80819\n'}, {'number': 3, 'created': '2014-03-31 14:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/42220392d00dceb1920a7068909aa6005fd379bd', 'message': 'Use GB instead of MB for swap\n\nHaving different size units for the parameters is not ideal, this patch\nconverts the swap partition size parameter (pxe_swap_gb) to expect a GB\nvalue, just like the root and ephemeral partition.\n\nThis patch also changes the Nova Ironic Driver to translate the swap\nvalue from MB to GB.\n\nCloses-Bug: #1297871\nChange-Id: I6effe6ea624e593927c7dc0fc17190df8dc80819\n'}, {'number': 4, 'created': '2014-03-31 14:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/147b536b5133a50ab39592ab742b72d7fb3071e3', 'message': 'Use GB instead of MB for swap\n\nHaving different size units for the parameters is not ideal, this patch\nconverts the swap partition size parameter (pxe_swap_gb) to expect a GB\nvalue, just like the root and ephemeral partition.\n\nThis patch also changes the Nova Ironic Driver to translate the swap\nvalue from MB to GB.\n\nCloses-Bug: #1297871\nChange-Id: I6effe6ea624e593927c7dc0fc17190df8dc80819\n'}, {'number': 5, 'created': '2014-04-02 13:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e7373837166209bc69ca78ec984849fb05b44994', 'message': 'Use GB instead of MB for swap\n\nHaving different size units for the parameters is not ideal, this patch\nconverts the swap partition size parameter (pxe_swap_gb) to expect a GB\nvalue, just like the root and ephemeral partition.\n\nThis patch also changes the Nova Ironic Driver to translate the swap\nvalue from MB to GB.\n\nCloses-Bug: #1297871\nChange-Id: I6effe6ea624e593927c7dc0fc17190df8dc80819\n'}, {'number': 6, 'created': '2014-04-02 16:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f51cc70353c1f6fe7cf0cc2cd8149631413e5b9c', 'message': 'Use GB instead of MB for swap\n\nHaving different size units for the parameters is not ideal, this patch\nconverts the swap partition size parameter (pxe_swap_gb) to expect a GB\nvalue, just like the root and ephemeral partition.\n\nThis patch also changes the Nova Ironic Driver to translate the swap\nvalue from MB to GB.\n\nCloses-Bug: #1297871\nChange-Id: I6effe6ea624e593927c7dc0fc17190df8dc80819\n'}, {'number': 7, 'created': '2014-04-03 14:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a5c60dea9ab3bbe5267afb42db37ffcdb63d52ca', 'message': 'Use GB instead of MB for swap\n\nHaving different size units for the parameters is not ideal, this patch\nconverts the swap partition size parameter (pxe_swap_gb) to expect a GB\nvalue, just like the root and ephemeral partition.\n\nThis patch also changes the Nova Ironic Driver to translate the swap\nvalue from MB to GB.\n\nCloses-Bug: #1297871\nChange-Id: I6effe6ea624e593927c7dc0fc17190df8dc80819\n'}, {'number': 8, 'created': '2014-04-07 09:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fa8f064add968b4f9653197846257834a7d03327', 'message': 'Use GB instead of MB for swap\n\nHaving different size units for the parameters is not ideal, this patch\nconverts the swap partition size parameter (pxe_swap_gb) to expect a GB\nvalue, just like the root and ephemeral partition.\n\nThis patch also changes the Nova Ironic Driver to translate the swap\nvalue from MB to GB.\n\nCloses-Bug: #1297871\nChange-Id: I6effe6ea624e593927c7dc0fc17190df8dc80819\n'}, {'number': 9, 'created': '2014-04-16 09:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c8e9c27f342d14e8dae09c6ecca87e5ef4cc0503', 'message': 'Use GB instead of MB for swap\n\nHaving different size units for the parameters is not ideal, this patch\nconverts the swap partition size parameter (pxe_swap_gb) to expect a GB\nvalue, just like the root and ephemeral partition.\n\nThis patch also changes the Nova Ironic Driver to translate the swap\nvalue from MB to GB.\n\nCloses-Bug: #1297871\nChange-Id: I6effe6ea624e593927c7dc0fc17190df8dc80819\n'}, {'number': 10, 'created': '2014-04-18 10:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/298bfb60f183da1774b074487e4335d0b0026854', 'message': 'Use GB instead of MB for swap\n\nHaving different size units for the parameters is not ideal, this patch\nconverts the swap partition size parameter (pxe_swap_gb) to expect a GB\nvalue, just like the root and ephemeral partition.\n\nThis patch also changes the Nova Ironic Driver to translate the swap\nvalue from MB to GB.\n\nCloses-Bug: #1297871\nChange-Id: I6effe6ea624e593927c7dc0fc17190df8dc80819\n'}, {'number': 11, 'created': '2014-04-28 10:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b3c1e1fd4f0e3599132d818b0e345232f1ddbb3e', 'message': 'Use GB instead of MB for swap\n\nHaving different size units for the parameters is not ideal, this patch\nconverts the swap partition size parameter (pxe_swap_gb) to expect a GB\nvalue, just like the root and ephemeral partition.\n\nThis patch also changes the Nova Ironic Driver to translate the swap\nvalue from MB to GB.\n\nCloses-Bug: #1297871\nChange-Id: I6effe6ea624e593927c7dc0fc17190df8dc80819\n'}, {'number': 12, 'created': '2014-04-30 17:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/db8e98008122656ac0a7d46a3c59ca303a9bce6a', 'message': 'Use GB instead of MB for swap\n\nHaving different size units for the parameters is not ideal, this patch\nconverts the swap partition size parameter (pxe_swap_gb) to expect a GB\nvalue, just like the root and ephemeral partition.\n\nThis patch also changes the Nova Ironic Driver to translate the swap\nvalue from MB to GB.\n\nCloses-Bug: #1297871\nChange-Id: I6effe6ea624e593927c7dc0fc17190df8dc80819\n'}, {'number': 13, 'created': '2014-05-01 09:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7f645d4aaa0855dd6a99f49524242825c3e0bb72', 'message': 'Use GB instead of MB for swap\n\nHaving different size units for the parameters is not ideal, this patch\nconverts the swap partition size parameter (pxe_swap_gb) to expect a GB\nvalue, just like the root and ephemeral partition.\n\nThis patch also changes the Nova Ironic Driver to translate the swap\nvalue from MB to GB.\n\nCloses-Bug: #1297871\nChange-Id: I6effe6ea624e593927c7dc0fc17190df8dc80819\n'}, {'number': 14, 'created': '2014-05-01 10:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/29819637a493b88b32f5c62ef36b579aba538c1e', 'message': 'Use GB instead of MB for swap\n\nHaving different size units for the parameters is not ideal, this patch\nconverts the swap partition size parameter (pxe_swap_gb) to expect a GB\nvalue, just like the root and ephemeral partition.\n\nThis patch also changes the Nova Ironic Driver to translate the swap\nvalue from MB to GB.\n\nCloses-Bug: #1297871\nChange-Id: I6effe6ea624e593927c7dc0fc17190df8dc80819\n'}, {'number': 15, 'created': '2014-05-06 16:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4acbb9d0b26aa415b32716c8b7d3cdecc46e27bc', 'message': 'Use GB instead of MB for swap\n\nHaving different size units for the parameters is not ideal, this patch\nconverts the swap partition size parameter (pxe_swap_gb) to expect a GB\nvalue, just like the root and ephemeral partition.\n\nThis patch also changes the Nova Ironic Driver to translate the swap\nvalue from MB to GB.\n\nCloses-Bug: #1297871\nChange-Id: I6effe6ea624e593927c7dc0fc17190df8dc80819\n'}, {'number': 16, 'created': '2014-05-06 17:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/47934fe2e8d25bdac0ba487757a89218fd4b66df', 'message': 'Use GB instead of MB for swap\n\nHaving different size units for the parameters is not ideal, this patch\nconverts the swap partition size parameter (pxe_swap_gb) to expect a GB\nvalue, just like the root and ephemeral partition.\n\nThis patch also changes the Nova Ironic Driver to translate the swap\nvalue from MB to GB.\n\nCloses-Bug: #1297871\nChange-Id: I6effe6ea624e593927c7dc0fc17190df8dc80819\n'}, {'number': 17, 'created': '2014-06-11 17:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7c53cad5d893b2aa202fdca73d48d45a83ec6156', 'message': 'Use GB instead of MB for swap\n\nHaving different size units for the parameters is not ideal, this patch\nconverts the swap partition size parameter (pxe_swap_gb) to expect a GB\nvalue, just like the root and ephemeral partition.\n\nThis patch also changes the Nova Ironic Driver to translate the swap\nvalue from MB to GB because in Nova swap still in MB.\n\nCloses-Bug: #1297871\nChange-Id: I6effe6ea624e593927c7dc0fc17190df8dc80819\n'}, {'number': 18, 'created': '2014-06-11 17:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b83d51b97034e1b907716694af37c96a0996ffa3', 'message': 'Use GB instead of MB for swap\n\nHaving different size units for the parameters is not ideal, this patch\nconverts the swap partition size parameter (pxe_swap_gb) to expect a GB\nvalue, just like the root and ephemeral partition.\n\nThis patch also changes the Nova Ironic Driver to translate the swap\nvalue from MB to GB because in Nova swap still in MB.\n\nCloses-Bug: #1297871\nChange-Id: I6effe6ea624e593927c7dc0fc17190df8dc80819\n'}, {'number': 19, 'created': '2014-06-12 09:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9a63cff5d086790cd51eebb4229ca68f052f5c85', 'message': 'Use GB instead of MB for swap\n\nHaving different size units for the parameters is not ideal, this patch\nconverts the swap partition size parameter (pxe_swap_gb) to expect a GB\nvalue, just like the root and ephemeral partition.\n\nThis patch also changes the Nova Ironic Driver to translate the swap\nvalue from MB to GB because in Nova swap still in MB.\n\nCloses-Bug: #1297871\nChange-Id: I6effe6ea624e593927c7dc0fc17190df8dc80819\n'}, {'number': 20, 'created': '2014-06-12 15:56:13.000000000', 'files': ['ironic/drivers/modules/pxe.py', 'ironic/nova/tests/virt/ironic/test_patcher.py', 'ironic/nova/virt/ironic/patcher.py', 'ironic/tests/drivers/test_pxe.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d92b7975eb99cbe705995dadc38ba4656cb26af5', 'message': 'Use GB instead of MB for swap\n\nHaving different size units for the parameters is not ideal, this patch\nconverts the swap partition size parameter (pxe_swap_gb) to expect a GB\nvalue, just like the root and ephemeral partition.\n\nThis patch also changes the Nova Ironic Driver to translate the swap\nvalue from MB to GB because in Nova swap still in MB.\n\nCloses-Bug: #1297871\nChange-Id: I6effe6ea624e593927c7dc0fc17190df8dc80819\n'}]",13,83788,d92b7975eb99cbe705995dadc38ba4656cb26af5,162,16,20,6773,,,0,"Use GB instead of MB for swap

Having different size units for the parameters is not ideal, this patch
converts the swap partition size parameter (pxe_swap_gb) to expect a GB
value, just like the root and ephemeral partition.

This patch also changes the Nova Ironic Driver to translate the swap
value from MB to GB because in Nova swap still in MB.

Closes-Bug: #1297871
Change-Id: I6effe6ea624e593927c7dc0fc17190df8dc80819
",git fetch https://review.opendev.org/openstack/ironic refs/changes/88/83788/15 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/pxe.py'],1,802c16c382da19fed02f73c7b6b81e62e82cf851,fractional-sizes," d_info['swap_gb'] = info.get('pxe_swap_gb', 0) for param in ('root_gb', 'swap_gb', 'ephemeral_gb'): 'swap_mb': 1024 * int(d_info['swap_gb']),"," d_info['swap_mb'] = info.get('pxe_swap_mb', 0) for param in ('root_gb', 'swap_mb', 'ephemeral_gb'): 'swap_mb': int(d_info['swap_mb']),",3,3
openstack%2Fironic~master~I0f2f3325193c6df5a9788a4dccaae850ebfc06a8,openstack/ironic,master,I0f2f3325193c6df5a9788a4dccaae850ebfc06a8,Fractional sizes for root_gb and ephemeral_gb,ABANDONED,2014-06-11 16:36:14.000000000,2015-01-22 16:41:51.000000000,,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 4190}, {'_account_id': 6618}, {'_account_id': 6623}, {'_account_id': 6773}, {'_account_id': 8106}, {'_account_id': 10239}, {'_account_id': 10343}]","[{'number': 1, 'created': '2014-06-11 16:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/19e7d925600310335277fd943b7481d9a2656e35', 'message': 'Fractional sizes for root_gb and ephemeral_gb\n\nMake Ironic understand fractional sizes for root_gb and ephemeral_gb. That\nallow users to have a 1.5 GB (1536 MB) root filesystem or a 0.5 GB\n(512 MB) ephemeral partition for example.\n\nChange-Id: I0f2f3325193c6df5a9788a4dccaae850ebfc06a8\n'}, {'number': 2, 'created': '2014-06-12 09:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/01c20ef536c747431559a0f4b3b45160a4893760', 'message': 'Fractional sizes for root_gb and ephemeral_gb\n\nMake Ironic understand fractional sizes for root_gb and ephemeral_gb. That\nallow users to have a 1.5 GB (1536 MB) root filesystem or a 0.5 GB\n(512 MB) ephemeral partition for example.\n\nChange-Id: I0f2f3325193c6df5a9788a4dccaae850ebfc06a8\n'}, {'number': 3, 'created': '2014-06-12 15:56:13.000000000', 'files': ['ironic/drivers/modules/pxe.py', 'ironic/tests/drivers/test_pxe.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d469b646a1f9a37ebc28a0604b181dcbccf4faa8', 'message': 'Fractional sizes for root_gb and ephemeral_gb\n\nMake Ironic understand fractional sizes for root_gb and ephemeral_gb. That\nallow users to have a 1.5 GB (1536 MB) root filesystem or a 0.5 GB\n(512 MB) ephemeral partition for example.\n\nChange-Id: I0f2f3325193c6df5a9788a4dccaae850ebfc06a8\n'}]",6,99426,d469b646a1f9a37ebc28a0604b181dcbccf4faa8,45,9,3,6773,,,0,"Fractional sizes for root_gb and ephemeral_gb

Make Ironic understand fractional sizes for root_gb and ephemeral_gb. That
allow users to have a 1.5 GB (1536 MB) root filesystem or a 0.5 GB
(512 MB) ephemeral partition for example.

Change-Id: I0f2f3325193c6df5a9788a4dccaae850ebfc06a8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/26/99426/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/pxe.py', 'ironic/tests/drivers/test_pxe.py']",2,19e7d925600310335277fd943b7481d9a2656e35,fractional-sizes," def test_vendor__get_deploy_info_fractional_sizes(self): driver_info = dict(INFO_DICT) driver_info['pxe_root_gb'] = 1.5 driver_info['pxe_ephemeral_gb'] = 0.5 node = obj_utils.create_test_node(self.context, id=2, uuid=utils.generate_uuid(), driver='fake_pxe', driver_info=driver_info) with task_manager.acquire(self.context, node.uuid) as task: deploy_key = task.node.driver_info['pxe_deploy_key'] params = task.driver.vendor._get_deploy_info(task.node, key=deploy_key, iqn='fake-iqn', address='192.1.2.3') self.assertEqual(1536, params['root_mb']) self.assertEqual(512, params['ephemeral_mb']) ",,21,5
openstack%2Fgovernance~master~Ida5cd67828153ebfd8152709ffb8f76024e2c4f2,openstack/governance,master,Ida5cd67828153ebfd8152709ffb8f76024e2c4f2,Update David Chadwick ATC expiration,MERGED,2015-01-15 21:58:17.000000000,2015-01-22 16:36:54.000000000,2015-01-20 21:07:44.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 308}, {'_account_id': 1561}, {'_account_id': 2271}, {'_account_id': 2472}, {'_account_id': 2592}, {'_account_id': 2903}, {'_account_id': 5263}, {'_account_id': 6316}]","[{'number': 1, 'created': '2015-01-15 21:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/7478bba47d3a5328f147f3b03a905047d3c51d7d', 'message': 'Remove expired extra ATCs from the list\n\nChange-Id: Ida5cd67828153ebfd8152709ffb8f76024e2c4f2\n'}, {'number': 2, 'created': '2015-01-16 19:18:13.000000000', 'files': ['reference/extra-atcs'], 'web_link': 'https://opendev.org/openstack/governance/commit/1599864363457e0b8a9717586cef0823f1b68901', 'message': 'Update David Chadwick ATC expiration\n\nDavid Chadwick has continued to be a strong and important collaborator\nin Keystone on the specifications and design. This updates extends his\nATC status reflecting his continued work.\n\nChange-Id: Ida5cd67828153ebfd8152709ffb8f76024e2c4f2\n'}]",0,147673,1599864363457e0b8a9717586cef0823f1b68901,20,10,2,5263,,,0,"Update David Chadwick ATC expiration

David Chadwick has continued to be a strong and important collaborator
in Keystone on the specifications and design. This updates extends his
ATC status reflecting his continued work.

Change-Id: Ida5cd67828153ebfd8152709ffb8f76024e2c4f2
",git fetch https://review.opendev.org/openstack/governance refs/changes/73/147673/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/extra-atcs'],1,7478bba47d3a5328f147f3b03a905047d3c51d7d,extra-atcs,,Identity: David Chadwick (d.w.chadwick@kent.ac.uk) [December 2014],0,1
openstack%2Fmanila~master~Ib736385f15058028b2bc0e38d325d0c256f6dd93,openstack/manila,master,Ib736385f15058028b2bc0e38d325d0c256f6dd93,Adding required rootwrap filters for GPFS driver,MERGED,2015-01-22 09:31:29.000000000,2015-01-22 16:26:27.000000000,2015-01-22 16:26:27.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 8851}, {'_account_id': 9067}]","[{'number': 1, 'created': '2015-01-22 09:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c8db5b7bf5f6af525ea93c31bf86cfab87ee84b1', 'message': ""Adding required rootwrap filters for GPFS driver\n\nThe rootwrap filters for commands 'df' and 'stat', which were part\nof the volume.filters before, were recently removed considering those\nto be unused. But, GPFS manila driver uses those and fails while\nperforming certain operations, in their absense.\nHence, adding those back.\n\nChange-Id: Ib736385f15058028b2bc0e38d325d0c256f6dd93\n""}, {'number': 2, 'created': '2015-01-22 10:35:27.000000000', 'files': ['etc/manila/rootwrap.d/share.filters'], 'web_link': 'https://opendev.org/openstack/manila/commit/9e77994c9f2ea0fe68b33abeabdb080e50f788f1', 'message': ""Adding required rootwrap filters for GPFS driver\n\nThe rootwrap filters for commands 'df' and 'stat', which were part\nof the volume.filters before, were recently removed considering those\nto be unused. But, GPFS manila driver uses those and fails while\nperforming certain operations, in their absence.\nHence, adding those back.\n\nChange-Id: Ib736385f15058028b2bc0e38d325d0c256f6dd93\nCloses-Bug: #1413544\n""}]",0,149194,9e77994c9f2ea0fe68b33abeabdb080e50f788f1,13,4,2,9067,,,0,"Adding required rootwrap filters for GPFS driver

The rootwrap filters for commands 'df' and 'stat', which were part
of the volume.filters before, were recently removed considering those
to be unused. But, GPFS manila driver uses those and fails while
performing certain operations, in their absence.
Hence, adding those back.

Change-Id: Ib736385f15058028b2bc0e38d325d0c256f6dd93
Closes-Bug: #1413544
",git fetch https://review.opendev.org/openstack/manila refs/changes/94/149194/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/manila/rootwrap.d/share.filters'],1,c8db5b7bf5f6af525ea93c31bf86cfab87ee84b1,bug/1413544,"# manila/share/drivers/ibm/gpfs.py: 'stat', '--format=%F', '%s' stat: CommandFilter, stat, root # manila/share/drivers/ibm/gpfs.py: 'df', '-P', '-B', '1', '%s' df: CommandFilter, df, root",,4,0
openstack%2Fmanila~master~I36d5337a753f24eb66f60bc15db41c8674706722,openstack/manila,master,I36d5337a753f24eb66f60bc15db41c8674706722,Updated from global requirements,MERGED,2015-01-20 16:58:23.000000000,2015-01-22 16:26:21.000000000,2015-01-22 16:26:19.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 8851}]","[{'number': 1, 'created': '2015-01-20 16:58:23.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/manila/commit/1c14ddedfd40e8cfa02445e5b06beab69dc83e5d', 'message': 'Updated from global requirements\n\nChange-Id: I36d5337a753f24eb66f60bc15db41c8674706722\n'}]",0,148640,1c14ddedfd40e8cfa02445e5b06beab69dc83e5d,9,5,1,11131,,,0,"Updated from global requirements

Change-Id: I36d5337a753f24eb66f60bc15db41c8674706722
",git fetch https://review.opendev.org/openstack/manila refs/changes/40/148640/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,1c14ddedfd40e8cfa02445e5b06beab69dc83e5d,openstack/requirements,oslo.db>=1.4.1 # Apache-2.0 oslo.i18n>=1.3.0 # Apache-2.0,oslo.db>=1.3.0 # Apache-2.0 oslo.i18n>=1.0.0 # Apache-2.0,2,2
openstack%2Fceilometer~master~I980f630e0a113638d4b06608ae999ae56d92338f,openstack/ceilometer,master,I980f630e0a113638d4b06608ae999ae56d92338f,[MongoDB] Improves get_meter_statistics method,MERGED,2014-12-24 11:14:15.000000000,2015-01-22 16:23:48.000000000,2015-01-22 16:23:47.000000000,"[{'_account_id': 3}, {'_account_id': 2284}, {'_account_id': 3012}, {'_account_id': 6676}, {'_account_id': 7049}, {'_account_id': 7052}, {'_account_id': 7336}, {'_account_id': 7729}, {'_account_id': 10987}, {'_account_id': 13273}]","[{'number': 1, 'created': '2014-12-24 11:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0b1eccc914f3b9a3ebbaade5f531dca559438eaa', 'message': ""[MongoDB] Improves get_meter_statistics method\n\nNow period_end that returns in get_meter_statistic method\ndoesn't have correct value on MongoDB backend if period\ndoesn't set in query.\n\nThis patch improves that.\n\nChange-Id: I980f630e0a113638d4b06608ae999ae56d92338f\nCloses-Bug: #1372442\n""}, {'number': 2, 'created': '2014-12-25 11:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3642b16c2d0ef09aed0a1d920a12c74dcb2620a9', 'message': ""[MongoDB] Improves get_meter_statistics method\n\nNow period_end that returns in get_meter_statistic method\ndoesn't have correct value on MongoDB backend if period\nwasn't set in query.\n\nThis patch improves that.\n\nChange-Id: I980f630e0a113638d4b06608ae999ae56d92338f\nCloses-Bug: #1372442""}, {'number': 3, 'created': '2015-01-22 14:25:51.000000000', 'files': ['ceilometer/tests/storage/test_storage_scenarios.py', 'ceilometer/storage/impl_mongodb.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/262e2cf2f31630f3ab41788dc82153f6a85ac8c0', 'message': ""[MongoDB] Improves get_meter_statistics method\n\nNow period_end that returns in get_meter_statistic method\ndoesn't have correct value on MongoDB backend if period\ndoesn't set in query.\n\nThis patch improves that.\n\nChange-Id: I980f630e0a113638d4b06608ae999ae56d92338f\nCloses-Bug: #1372442""}]",3,143820,262e2cf2f31630f3ab41788dc82153f6a85ac8c0,23,10,3,10987,,,0,"[MongoDB] Improves get_meter_statistics method

Now period_end that returns in get_meter_statistic method
doesn't have correct value on MongoDB backend if period
doesn't set in query.

This patch improves that.

Change-Id: I980f630e0a113638d4b06608ae999ae56d92338f
Closes-Bug: #1372442",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/20/143820/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/storage/test_storage_scenarios.py', 'ceilometer/storage/impl_mongodb.py']",2,0b1eccc914f3b9a3ebbaade5f531dca559438eaa,statistics," if ( values[i].period_start < res.period_start ) res.period_start = values[i].period_start; if ( values[i].period_end > res.period_end ) res.period_end = values[i].period_end; } if ( %(period)d > 0 ) value.period = NumberInt((value.period_end - value.period_start) / 1000); else value.period = NumberInt(0); finalize_params = dict(aggregate_val=sub('finalize', aggregate), period=(period if period else 0))"," } value.period = NumberInt((value.period_end - value.period_start) / 1000); finalize_params = dict(aggregate_val=sub('finalize', aggregate))",15,4
openstack%2Foslo-incubator~master~Id37fb05d4df9547400ab1342eba828c6329d7ee1,openstack/oslo-incubator,master,Id37fb05d4df9547400ab1342eba828c6329d7ee1,switch to oslo_serialization,MERGED,2015-01-15 09:40:37.000000000,2015-01-22 16:13:53.000000000,2015-01-22 16:13:52.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 5638}, {'_account_id': 6676}, {'_account_id': 7049}, {'_account_id': 9107}]","[{'number': 1, 'created': '2015-01-15 09:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/fbafa3887dd548190d939590adaef37c398d7a13', 'message': ""switch to oslo_serialization\n\noslo.serialization 1.2.0 has moved its namespace from old\noslo.serialization to oslo_serialization, the old import style can\nstill work, but will not be supported in next release cycle.\n\nLet's sync it.\n\nChange-Id: Id37fb05d4df9547400ab1342eba828c6329d7ee1\n""}, {'number': 2, 'created': '2015-01-19 07:10:05.000000000', 'files': ['openstack/common/policy.py', 'tests/unit/test_policy.py', 'openstack/common/report/views/json/generic.py', 'openstack/common/scheduler/filters/json_filter.py', 'openstack/common/log.py', 'tests/unit/scheduler/test_host_filters.py', 'tests/unit/test_log.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/262279b11b31273647609b197a9e6ac200b2844f', 'message': ""switch to oslo_serialization\n\noslo.serialization 1.2.0 has moved its namespace from old\noslo.serialization to oslo_serialization, the old import style can\nstill work, but will not be supported in next release cycle.\n\nLet's sync it.\n\nChange-Id: Id37fb05d4df9547400ab1342eba828c6329d7ee1\n""}]",3,147433,262279b11b31273647609b197a9e6ac200b2844f,16,6,2,6676,,,0,"switch to oslo_serialization

oslo.serialization 1.2.0 has moved its namespace from old
oslo.serialization to oslo_serialization, the old import style can
still work, but will not be supported in next release cycle.

Let's sync it.

Change-Id: Id37fb05d4df9547400ab1342eba828c6329d7ee1
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/33/147433/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/common/policy.py', 'tests/unit/test_policy.py', 'openstack/common/report/views/json/generic.py', 'openstack/common/scheduler/filters/json_filter.py', 'openstack/common/log.py', 'tests/unit/scheduler/test_host_filters.py', 'tests/unit/test_log.py']",7,fbafa3887dd548190d939590adaef37c398d7a13,use-oslo_serialization,from oslo_serialization import jsonutils,from oslo.serialization import jsonutils,7,7
openstack%2Foslo-incubator~master~Ibd34cf8d44056f0f6bd8c015a8587bf849a09bf6,openstack/oslo-incubator,master,Ibd34cf8d44056f0f6bd8c015a8587bf849a09bf6,Fix oslo.middleware deprecation error,MERGED,2015-01-22 11:50:29.000000000,2015-01-22 16:13:18.000000000,2015-01-22 16:13:16.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-01-22 11:50:29.000000000', 'files': ['openstack/common/middleware/request_id.py'], 'web_link': 'https://opendev.org/openstack/oslo-incubator/commit/66d8d613f3a7e6933c1d6d4255ec32f07a773dca', 'message': ""Fix oslo.middleware deprecation error\n\nThis import is causing './run_tests.sh -p' to throw a warning message.\nNew imports should use the new path (oslo_middleware).\n\nChange-Id: Ibd34cf8d44056f0f6bd8c015a8587bf849a09bf6\n""}]",0,149221,66d8d613f3a7e6933c1d6d4255ec32f07a773dca,8,4,1,10058,,,0,"Fix oslo.middleware deprecation error

This import is causing './run_tests.sh -p' to throw a warning message.
New imports should use the new path (oslo_middleware).

Change-Id: Ibd34cf8d44056f0f6bd8c015a8587bf849a09bf6
",git fetch https://review.opendev.org/openstack/oslo-incubator refs/changes/21/149221/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/common/middleware/request_id.py'],1,66d8d613f3a7e6933c1d6d4255ec32f07a773dca,,from oslo_middleware import request_id,from oslo.middleware import request_id,1,1
openstack%2Fmonasca-agent~master~I1a2a0c9941a95558036233e61ac3f5f395ed54d5,openstack/monasca-agent,master,I1a2a0c9941a95558036233e61ac3f5f395ed54d5,Remove functionality that sends 0 values when counters don't report,MERGED,2015-01-13 21:24:58.000000000,2015-01-22 16:09:40.000000000,2015-01-22 16:09:39.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 11094}, {'_account_id': 12108}, {'_account_id': 12512}]","[{'number': 1, 'created': '2015-01-13 21:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/1c5ed8aaf5692b3318afc84c1add001e1233b02f', 'message': ""Remove functionality that sends 0 values when counters don't report\n\nAlso I removed the expiry check on flushing metrics, there is already a\ncheck on submission to see if a submitted metric is old. This would only\ncatch metrics that were submitted correctly but took to long to be\nprocessed by the collector.\n\nLastly I removed the MetricsBucketAggregator and combined all things\ninto a single aggregator. Only statsd was using the bucket aggregator\nand there is no advantage over the other.\n\nChange-Id: I1a2a0c9941a95558036233e61ac3f5f395ed54d5\n""}, {'number': 2, 'created': '2015-01-13 22:01:36.000000000', 'files': ['monasca_agent/common/aggregator.py', 'monasca_agent/statsd/reporter.py', 'monasca_agent/common/metrics.py', 'monasca_agent/common/config.py', 'monasca_agent/statsd/daemon.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/ae7ee7d8407130c056be50a33c552d74daf9a6f1', 'message': ""Remove functionality that sends 0 values when counters don't report\n\nAlso I removed the expiry check on flushing metrics, there is already a\ncheck on submission to see if a submitted metric is old. This would only\ncatch metrics that were submitted correctly but took to long to be\nprocessed by the collector.\n\nLastly I removed the MetricsBucketAggregator and combined all things\ninto a single aggregator. Only statsd was using the bucket aggregator\nand there is no advantage over the other.\n\nChange-Id: I1a2a0c9941a95558036233e61ac3f5f395ed54d5\n""}]",1,146983,ae7ee7d8407130c056be50a33c552d74daf9a6f1,13,5,2,11094,,,0,"Remove functionality that sends 0 values when counters don't report

Also I removed the expiry check on flushing metrics, there is already a
check on submission to see if a submitted metric is old. This would only
catch metrics that were submitted correctly but took to long to be
processed by the collector.

Lastly I removed the MetricsBucketAggregator and combined all things
into a single aggregator. Only statsd was using the bucket aggregator
and there is no advantage over the other.

Change-Id: I1a2a0c9941a95558036233e61ac3f5f395ed54d5
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/83/146983/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_agent/common/aggregator.py', 'monasca_agent/statsd/reporter.py', 'monasca_agent/common/metrics.py', 'monasca_agent/common/config.py', 'monasca_agent/statsd/daemon.py']",5,1c5ed8aaf5692b3318afc84c1add001e1233b02f,feature/squash,"from monasca_agent.common.aggregator import MetricsAggregator aggregator = MetricsAggregator(get_hostname(config), int(config['monasca_statsd_agregator_interval']),","from monasca_agent.common.aggregator import MetricsBucketAggregator aggregator = MetricsBucketAggregator(get_hostname(config), int(config['monasca_statsd_agregator_bucket_size']),",93,276
openstack%2Fmagnum~master~I3a2a48c1d948e722bc8c73bce381602632beef8c,openstack/magnum,master,I3a2a48c1d948e722bc8c73bce381602632beef8c,Fix a markup syntax issue on quickstart guide,ABANDONED,2015-01-22 16:00:16.000000000,2015-01-22 16:03:39.000000000,,[],"[{'number': 1, 'created': '2015-01-22 16:00:16.000000000', 'files': ['doc/source/dev/dev-quickstart.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/c231f92143e4c26e206dac9eba588b63f16e5736', 'message': 'Fix a markup syntax issue on quickstart guide\n\nChange-Id: I3a2a48c1d948e722bc8c73bce381602632beef8c\n'}]",0,149326,c231f92143e4c26e206dac9eba588b63f16e5736,2,0,1,11536,,,0,"Fix a markup syntax issue on quickstart guide

Change-Id: I3a2a48c1d948e722bc8c73bce381602632beef8c
",git fetch https://review.opendev.org/openstack/magnum refs/changes/26/149326/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/dev/dev-quickstart.rst'],1,c231f92143e4c26e206dac9eba588b63f16e5736,,,,1,0
openstack%2Fcookbook-openstack-common~master~I5580ca090f2cb597cfe29ad009451456c68613b4,openstack/cookbook-openstack-common,master,I5580ca090f2cb597cfe29ad009451456c68613b4,Correct the default password attributes when not using databag,ABANDONED,2015-01-22 09:41:09.000000000,2015-01-22 15:58:16.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-01-22 09:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/a30c14b53b8eee5c983a2703bd390ae95d6bbcc3', 'message': 'Correct the default password attributes when not using databag\n\nChange-Id: I5580ca090f2cb597cfe29ad009451456c68613b4\nCloses-Bug: #1413522\n'}, {'number': 2, 'created': '2015-01-22 10:54:26.000000000', 'files': ['attributes/default.rb', 'libraries/passwords.rb', 'spec/password_spec.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/49cf1bd123d05ff42c698233da4e0e3dbf304bd4', 'message': 'Correct the default password attributes when not using databag\n\nChange-Id: I5580ca090f2cb597cfe29ad009451456c68613b4\nCloses-Bug: #1413522\n'}]",0,149196,49cf1bd123d05ff42c698233da4e0e3dbf304bd4,5,1,2,9488,,,0,"Correct the default password attributes when not using databag

Change-Id: I5580ca090f2cb597cfe29ad009451456c68613b4
Closes-Bug: #1413522
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/96/149196/1 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/default.rb', 'libraries/passwords.rb']",2,a30c14b53b8eee5c983a2703bd390ae95d6bbcc3,bug/1413522," ""Use get_password('token', key) instead"")"," ""Use get_password(key, 'token') instead"")",19,5
openstack%2Fmagnum~master~Ie847ca8a3cd96ffeac0b202a6fd9215a52d16754,openstack/magnum,master,Ie847ca8a3cd96ffeac0b202a6fd9215a52d16754,Update the conf sample file,MERGED,2015-01-21 00:09:29.000000000,2015-01-22 15:47:10.000000000,2015-01-22 10:09:54.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 7049}, {'_account_id': 7494}, {'_account_id': 11536}, {'_account_id': 12385}]","[{'number': 1, 'created': '2015-01-21 00:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0430f053fdf3bcc72ad42376cafb9c5494796fd0', 'message': 'Update the conf sample file\n\nAs we update dev guide for users, it have steps to copy conf.sample\nto /etc/magnum/magnum.conf, so we need to update conf sample file.\nmake sure all options are listed.\n\nThis file is genereated from tox\n\nChange-Id: Ie847ca8a3cd96ffeac0b202a6fd9215a52d16754\n'}, {'number': 2, 'created': '2015-01-21 10:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/43665e7d72ed5678c22cd9ba56d607b328e219bf', 'message': 'Update the conf sample file\n\nAs we update dev guide for users, it have steps to copy conf.sample\nto /etc/magnum/magnum.conf, so we need to update conf sample file.\nmake sure all options are listed.\nThis file is genereated from tox\n\nChange-Id: Ie847ca8a3cd96ffeac0b202a6fd9215a52d16754\n'}, {'number': 3, 'created': '2015-01-21 10:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f7f1c78909227b375fca3813a20a38b759d205f7', 'message': 'Update the conf sample file\n\nAs we update dev guide for users, it have steps to copy conf.sample\nto /etc/magnum/magnum.conf, so we need to update conf sample file.\nmake sure all options are listed.\nThis file is genereated from tox\n\nCloses-Bug: #1413145\nChange-Id: Ie847ca8a3cd96ffeac0b202a6fd9215a52d16754\n'}, {'number': 4, 'created': '2015-01-21 10:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e54d003067909ec5c46ae2cfe78259bdaaf43b1d', 'message': 'Update the conf sample file\n\nAs we update dev guide for users, it have steps to copy conf.sample\nto /etc/magnum/magnum.conf, so we need to update conf sample file.\nmake sure all options are listed.\nThis file is genereated from tox\n\nCloses-Bug: #1413145\nChange-Id: Ie847ca8a3cd96ffeac0b202a6fd9215a52d16754\n'}, {'number': 5, 'created': '2015-01-22 02:35:40.000000000', 'files': ['etc/magnum/magnum.conf.sample', 'doc/source/dev/dev-quickstart.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/5608cf8603ec4e0acf5e53e5e1224dcf7535198f', 'message': 'Update the conf sample file\n\nAs we update dev guide for users, it have steps to copy conf.sample\nto /etc/magnum/magnum.conf, so we need to update conf sample file.\nmake sure all options are listed.\nThis file is genereated from tox\n\nCloses-Bug: #1413145\nChange-Id: Ie847ca8a3cd96ffeac0b202a6fd9215a52d16754\n'}]",19,148756,5608cf8603ec4e0acf5e53e5e1224dcf7535198f,35,6,5,7049,,,0,"Update the conf sample file

As we update dev guide for users, it have steps to copy conf.sample
to /etc/magnum/magnum.conf, so we need to update conf sample file.
make sure all options are listed.
This file is genereated from tox

Closes-Bug: #1413145
Change-Id: Ie847ca8a3cd96ffeac0b202a6fd9215a52d16754
",git fetch https://review.opendev.org/openstack/magnum refs/changes/56/148756/5 && git format-patch -1 --stdout FETCH_HEAD,['etc/magnum/magnum.conf.sample'],1,0430f053fdf3bcc72ad42376cafb9c5494796fd0,updateconf,"# From magnum#port = 9511#host = 127.0.0.1 # The maximum number of items returned in a single response from a # collection resource. (integer value) #max_limit = 1000 # This option enables or disables user authentication via keystone. # Default value is True. (boolean value) #enable_authentication = true # make exception message format errors fatal (boolean value) #fatal_exception_format_errors = false # Subset of trustor roles to be delegated to magnum. (list value) #trusts_delegated_roles = magnum_assembly_update # Directory where the magnum python module is installed. (string#pybasedir = /home/test/magnum/magnum # Directory where magnum binaries are installed. (string value) #bindir = $pybasedir/bin # Top-level directory for maintaining magnum's state. (string value) #state_path = $pybasedir # Path to the rootwrap configuration file to use for running commands # as root. (string value) #rootwrap_config = /etc/magnum/rootwrap.conf # Explicitly specify the temporary working directory. (string value) #tempdir = <None> # Enable eventlet backdoor. Acceptable values are 0, <port>, and # <start>:<end>, where 0 results in listening on a random tcp port # number; <port> results in listening on the specified port number # (and not enabling backdoor if that port is in use); and # <start>:<end> results in listening on the smallest unused port # number within the specified range of port numbers. The chosen port # is displayed in the service's log file. (string value) #backdoor_port = <None> # Log output to standard error. (boolean value) #use_stderr = true # Format string to use for log messages with context. (string value) #logging_context_format_string = %(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s # Format string to use for log messages without context. (string # value) #logging_default_format_string = %(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s # Data to append to log format when level is DEBUG. (string value) #logging_debug_format_suffix = %(funcName)s %(pathname)s:%(lineno)d # Prefix each line of exception output with this format. (string # value) #logging_exception_prefix = %(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s # List of logger=LEVEL pairs. (list value) #default_log_levels = amqp=WARN,amqplib=WARN,boto=WARN,qpid=WARN,sqlalchemy=WARN,suds=INFO,oslo.messaging=INFO,iso8601=WARN,requests.packages.urllib3.connectionpool=WARN,urllib3.connectionpool=WARN,websocket=WARN,keystonemiddleware=WARN,routes.middleware=WARN,stevedore=WARN # Enables or disables publication of error events. (boolean value) #publish_errors = false # Enables or disables fatal status of deprecations. (boolean value) #fatal_deprecations = false # The format for an instance that is passed with the log message. # (string value) #instance_format = ""[instance: %(uuid)s] "" # The format for an instance UUID that is passed with the log message. # (string value) #instance_uuid_format = ""[instance: %(uuid)s] "" # Some periodic tasks can be run in a separate process. Should we run # them here? (boolean value) #run_external_periodic_tasks = true# From oslo.messaging# Use durable queues in AMQP. (boolean value) # Deprecated group/name - [DEFAULT]/rabbit_durable_queues #amqp_durable_queues = false # Auto-delete queues in AMQP. (boolean value) #amqp_auto_delete = false # Size of RPC connection pool. (integer value) #rpc_conn_pool_size = 30 # Qpid broker hostname. (string value) #qpid_hostname = localhost # Qpid broker port. (integer value) #qpid_port = 5672 # Qpid HA cluster host:port pairs. (list value) #qpid_hosts = $qpid_hostname:$qpid_port # Username for Qpid connection. (string value) #qpid_username = # Password for Qpid connection. (string value) #qpid_password = # Space separated list of SASL mechanisms to use for auth. (string # value) #qpid_sasl_mechanisms = # Seconds between connection keepalive heartbeats. (integer value) #qpid_heartbeat = 60 # Transport to use, either 'tcp' or 'ssl'. (string value) #qpid_protocol = tcp # Whether to disable the Nagle algorithm. (boolean value) #qpid_tcp_nodelay = true # The number of prefetched messages held by receiver. (integer value) #qpid_receiver_capacity = 1 # The qpid topology version to use. Version 1 is what was originally # used by impl_qpid. Version 2 includes some backwards-incompatible # changes that allow broker federation to work. Users should update # to version 2 when they are able to take everything down, as it # requires a clean break. (integer value) #qpid_topology_version = 1 # SSL version to use (valid only if SSL enabled). valid values are # TLSv1 and SSLv23. SSLv2 and SSLv3 may be available on some # distributions. (string value) #kombu_ssl_version = # SSL key file (valid only if SSL enabled). (string value) #kombu_ssl_keyfile = # SSL cert file (valid only if SSL enabled). (string value) #kombu_ssl_certfile = # SSL certification authority file (valid only if SSL enabled). # (string value) #kombu_ssl_ca_certs = # How long to wait before reconnecting in response to an AMQP consumer # cancel notification. (floating point value) #kombu_reconnect_delay = 1.0 # The RabbitMQ broker address where a single node is used. (string # value) #rabbit_host = localhost # The RabbitMQ broker port where a single node is used. (integer # value) #rabbit_port = 5672 # RabbitMQ HA cluster host:port pairs. (list value) #rabbit_hosts = $rabbit_host:$rabbit_port # Connect over SSL for RabbitMQ. (boolean value) #rabbit_use_ssl = false # The RabbitMQ userid. (string value) #rabbit_userid = guest # The RabbitMQ password. (string value) #rabbit_password = guest # The RabbitMQ login method. (string value) #rabbit_login_method = AMQPLAIN # The RabbitMQ virtual host. (string value) #rabbit_virtual_host = / # How frequently to retry connecting with RabbitMQ. (integer value) #rabbit_retry_interval = 1 # How long to backoff for between retries when connecting to RabbitMQ. # (integer value) #rabbit_retry_backoff = 2 # Maximum number of RabbitMQ connection retries. Default is 0 # (infinite retry count). (integer value) #rabbit_max_retries = 0 # Use HA queues in RabbitMQ (x-ha-policy: all). If you change this # option, you must wipe the RabbitMQ database. (boolean value) #rabbit_ha_queues = false # Deprecated, use rpc_backend=kombu+memory or rpc_backend=fake # (boolean value) #fake_rabbit = false # ZeroMQ bind address. Should be a wildcard (*), an ethernet # interface, or IP. The ""host"" option should point or resolve to this # address. (string value) #rpc_zmq_bind_address = * # MatchMaker driver. (string value) #rpc_zmq_matchmaker = oslo.messaging._drivers.matchmaker.MatchMakerLocalhost # ZeroMQ receiver listening port. (integer value) #rpc_zmq_port = 9501 # Number of ZeroMQ contexts, defaults to 1. (integer value) #rpc_zmq_contexts = 1 # Maximum number of ingress messages to locally buffer per topic. # Default is unlimited. (integer value) #rpc_zmq_topic_backlog = <None> # Directory for holding IPC sockets. (string value) #rpc_zmq_ipc_dir = /var/run/openstack # Name of this node. Must be a valid hostname, FQDN, or IP address. # Must match ""host"" option, if running Nova. (string value) #rpc_zmq_host = localhost # Seconds to wait before a cast expires (TTL). Only supported by # impl_zmq. (integer value) #rpc_cast_timeout = 30 # Heartbeat frequency. (integer value) #matchmaker_heartbeat_freq = 300 # Heartbeat time-to-live. (integer value) #matchmaker_heartbeat_ttl = 600 # Size of RPC greenthread pool. (integer value) #rpc_thread_pool_size = 64 # Driver or drivers to handle sending notifications. (multi valued) #notification_driver = # AMQP topic used for OpenStack notifications. (list value) # Deprecated group/name - [rpc_notifier2]/topics #notification_topics = notifications # Seconds to wait for a response from a call. (integer value) #rpc_response_timeout = 60 # A URL representing the messaging driver to use and its full # configuration. If not set, we fall back to the rpc_backend option # and driver specific configuration. (string value) #transport_url = <None> # The messaging driver to use, defaults to rabbit. Other drivers # include qpid and zmq. (string value) #rpc_backend = rabbit # The default exchange under which topics are scoped. May be # overridden by an exchange name specified in the transport_url # option. (string value) #control_exchange = openstack# From magnum#topic = magnum-conductor#host = localhost# From magnum # # MySQL engine to use. (string value) #mysql_engine = InnoDB # # From oslo.db# Deprecated group/name - [DEFAULT]/sqlite_db #sqlite_db = oslo.sqlite# Deprecated group/name - [DEFAULT]/sqlite_synchronous #sqlite_synchronous = true#backend = sqlalchemy # The SQLAlchemy connection string to use to connect to the database. # (string value)#connection = <None> # The SQLAlchemy connection string to use to connect to the slave # database. (string value) #slave_connection = <None> # The SQL mode to be used for MySQL sessions. This option, including # the default, overrides any server-set SQL mode. To use whatever SQL # mode is set by the server configuration, set this to no value. # Example: mysql_sql_mode= (string value) #mysql_sql_mode = TRADITIONAL # Timeout before idle SQL connections are reaped. (integer value)#idle_timeout = 3600 # Minimum number of SQL connections to keep open in a pool. (integer # value)#min_pool_size = 1 # Maximum number of SQL connections to keep open in a pool. (integer # value)#max_pool_size = <None> # Maximum number of database connection retries during startup. Set to # -1 to specify an infinite retry count. (integer value)#max_retries = 10 # Interval between retries of opening a SQL connection. (integer # value)#retry_interval = 10 # If set, use this value for max_overflow with SQLAlchemy. (integer # value)#max_overflow = <None> # Verbosity of SQL debugging information: 0=None, 100=Everything.# Deprecated group/name - [DEFAULT]/sql_connection_debug #connection_debug = 0 # Add Python stack traces to SQL as comment strings. (boolean value) # Deprecated group/name - [DEFAULT]/sql_connection_trace #connection_trace = false # If set, use this value for pool_timeout with SQLAlchemy. (integer # value) # Deprecated group/name - [DATABASE]/sqlalchemy_pool_timeout #pool_timeout = <None> # Enable the experimental use of database reconnect on connection # lost. (boolean value) #use_db_reconnect = false#db_retry_interval = 1 # If True, increases the interval between database connection retries # up to db_max_retry_interval. (boolean value) #db_inc_retry_interval = true#db_max_retry_interval = 10 # Maximum database connection retries before error is raised. Set to # -1 to specify an infinite retry count. (integer value) #db_max_retries = 20 [docker] # From magnum# Path to use as the root of the Docker runtime. (string value) #root_directory = /var/lib/docker # tcp://host:port to bind/connect to or unix://path/to/socket to use # (string value) #host_url = unix:///var/run/docker.sock # If set, ignore any SSL validation issues (boolean value) #api_insecure = false # Location of CA certificates file for securing docker api requests # (tlscacert). (string value) #ca_file = <None> # Location of TLS certificate file for securing docker api requests # (tlscert). (string value) #cert_file = <None> # Location of TLS private key file for securing docker api requests # (tlskey). (string value) #key_file = <None># From magnum#endpoint_type = publicURL # Optional CA cert file to use in SSL connections. (string value) #ca_file = <None> # Optional PEM-formatted certificate chain file. (string value) #cert_file = <None> # Optional PEM-formatted file that contains the private key. (string#key_file = <None> # If set, then the server's certificate will not be verified. (boolean#insecure = false [k8s_heat] # # From magnum # # Location of template to build a k8s cluster. (string value) #template_path = /etc/magnum/templates/heat-kubernetes/kubecluster.yaml # Number of attempts to query the Heat stack for finding out the # status of the created stack and getting url of the DU created in the # stack (integer value) #max_attempts = 2000 # Sleep time interval between two attempts of querying the Heat stack. # This interval is in seconds. (integer value) #wait_interval = 1# From keystonemiddleware.auth_token# Complete public Identity API endpoint. (string value) #auth_uri = <None> # API version of the admin Identity API endpoint. (string value) #auth_version = <None> # Do not handle authorization requests within the middleware, but # delegate the authorization decision to downstream WSGI components. # (boolean value) #delay_auth_decision = false # Request timeout value for communicating with Identity API server. # (integer value) #http_connect_timeout = <None> # How many times are we trying to reconnect when communicating with # Identity API Server. (integer value) #http_request_max_retries = 3 # Env key for the swift cache. (string value) #cache = <None> # Required if identity server requires client certificate (string # value) #certfile = <None> # Required if identity server requires client certificate (string # value) #keyfile = <None> # A PEM encoded Certificate Authority to use when verifying HTTPs # connections. Defaults to system CAs. (string value) #cafile = <None> # Verify HTTPS connections. (boolean value) #insecure = false # Directory used to cache files related to PKI tokens. (string value) #signing_dir = <None> # Optionally specify a list of memcached server(s) to use for caching. # If left undefined, tokens will instead be cached in-process. (list # value) # Deprecated group/name - [DEFAULT]/memcache_servers #memcached_servers = <None> # In order to prevent excessive effort spent validating tokens, the # middleware caches previously-seen tokens for a configurable duration # (in seconds). Set to -1 to disable caching completely. (integer # value) #token_cache_time = 300 # Determines the frequency at which the list of revoked tokens is # retrieved from the Identity service (in seconds). A high number of # revocation events combined with a low cache duration may # significantly reduce performance. (integer value) #revocation_cache_time = 10 # (Optional) If defined, indicate whether token data should be # authenticated or authenticated and encrypted. Acceptable values are # MAC or ENCRYPT. If MAC, token data is authenticated (with HMAC) in # the cache. If ENCRYPT, token data is encrypted and authenticated in # the cache. If the value is not one of these options or empty, # auth_token will raise an exception on initialization. (string value) #memcache_security_strategy = <None> # (Optional, mandatory if memcache_security_strategy is defined) This # string is used for key derivation. (string value) #memcache_secret_key = <None> # (Optional) Number of seconds memcached server is considered dead # before it is tried again. (integer value) #memcache_pool_dead_retry = 300 # (Optional) Maximum total number of open connections to every # memcached server. (integer value) #memcache_pool_maxsize = 10 # (Optional) Socket timeout in seconds for communicating with a # memcache server. (integer value) #memcache_pool_socket_timeout = 3 # (Optional) Number of seconds a connection to memcached is held # unused in the pool before it is closed. (integer value) #memcache_pool_unused_timeout = 60 # (Optional) Number of seconds that an operation will wait to get a # memcache client connection from the pool. (integer value) #memcache_pool_conn_get_timeout = 10 # (Optional) Use the advanced (eventlet safe) memcache client pool. # The advanced pool will only work under python 2.x. (boolean value) #memcache_use_advanced_pool = false # (Optional) Indicate whether to set the X-Service-Catalog header. If # False, middleware will not ask for service catalog on token # validation and will not set the X-Service-Catalog header. (boolean # value) #include_service_catalog = true # Used to control the use and type of token binding. Can be set to: # ""disabled"" to not check token binding. ""permissive"" (default) to # validate binding information if the bind type is of a form known to # the server and ignore it if not. ""strict"" like ""permissive"" but if # the bind type is unknown the token will be rejected. ""required"" any # form of token binding is needed to be allowed. Finally the name of a # binding method that must be present in tokens. (string value) #enforce_token_bind = permissive # If true, the revocation list will be checked for cached tokens. This # requires that PKI tokens are configured on the identity server. # (boolean value) #check_revocations_for_cached = false # Hash algorithms to use for hashing PKI tokens. This may be a single # algorithm or multiple. The algorithms are those supported by Python # standard hashlib.new(). The hashes will be tried in the order given, # so put the preferred one first for performance. The result of the # first hash will be stored in the cache. This will typically be set # to multiple values only while migrating from a less secure algorithm # to a more secure one. Once all the old tokens are expired this # option should be set to a single value for better performance. (list # value) #hash_algorithms = md5 # Prefix to prepend at the beginning of the path. Deprecated, use # identity_uri. (string value) #auth_admin_prefix = # Host providing the admin Identity API endpoint. Deprecated, use # identity_uri. (string value) #auth_host = 127.0.0.1#auth_port = 35357#auth_protocol = https # Complete admin Identity API endpoint. This should specify the # unversioned root endpoint e.g. https://localhost:35357/ (string#identity_uri = <None> # This option is deprecated and may be removed in a future release. # Single shared secret with the Keystone configuration used for # bootstrapping a Keystone installation, or otherwise bypassing the # normal authentication process. This option should not be used, use#admin_token = <None> # Service username. (string value) #admin_user = <None> # Service user password. (string value) #admin_password = <None> # Service tenant name. (string value) #admin_tenant_name = admin# From oslo.messaging#host = 127.0.0.1#port = 6379#password = <None># From oslo.messaging#ringfile = /etc/oslo/matchmaker_ring.json [oslo_concurrency]# From oslo.concurrency# Enables or disables inter-process locks. (boolean value) # Deprecated group/name - [DEFAULT]/disable_process_locking #disable_process_locking = false # Directory to use for lock files. For security, the specified # directory should only be writable by the user running the processes # that need locking. Defaults to environment variable OSLO_LOCK_PATH. # If external locks are used, a lock path must be set. (string value) # Deprecated group/name - [DEFAULT]/lock_path #lock_path = <None> [oslo_messaging_amqp]# From oslo.messaging# address prefix used when sending to a specific server (string value) # Deprecated group/name - [amqp1]/server_request_prefix #server_request_prefix = exclusive # address prefix used when broadcasting to all servers (string value) # Deprecated group/name - [amqp1]/broadcast_prefix #broadcast_prefix = broadcast # address prefix when sending to any server in group (string value) # Deprecated group/name - [amqp1]/group_request_prefix #group_request_prefix = unicast # Name for the AMQP container (string value) # Deprecated group/name - [amqp1]/container_name #container_name = <None> # Timeout for inactive connections (in seconds) (integer value) # Deprecated group/name - [amqp1]/idle_timeout #idle_timeout = 0 # Debug: dump AMQP frames to stdout (boolean value) # Deprecated group/name - [amqp1]/trace #trace = false # CA certificate PEM file for verifing server certificate (string# Deprecated group/name - [amqp1]/ssl_ca_file #ssl_ca_file = # Identifying certificate PEM file to present to clients (string# Deprecated group/name - [amqp1]/ssl_cert_file #ssl_cert_file = # Private key PEM file used to sign cert_file certificate (string# Deprecated group/name - [amqp1]/ssl_key_file #ssl_key_file = # Password for decrypting ssl_key_file (if encrypted) (string value) # Deprecated group/name - [amqp1]/ssl_key_password #ssl_key_password = <None> # Accept clients using either SSL or plain TCP (boolean value) # Deprecated group/name - [amqp1]/allow_insecure_clients #allow_insecure_clients = false","# Options defined in oslo.messaging # # Use durable queues in amqp. (boolean value) # Deprecated group/name - [DEFAULT]/rabbit_durable_queues #amqp_durable_queues=false # Auto-delete queues in amqp. (boolean value) #amqp_auto_delete=false # Size of RPC connection pool. (integer value) #rpc_conn_pool_size=30 # Qpid broker hostname. (string value) #qpid_hostname=localhost # Qpid broker port. (integer value) #qpid_port=5672 # Qpid HA cluster host:port pairs. (list value) #qpid_hosts=$qpid_hostname:$qpid_port # Username for Qpid connection. (string value) #qpid_username= # Password for Qpid connection. (string value) #qpid_password= # Space separated list of SASL mechanisms to use for auth. # (string value) #qpid_sasl_mechanisms= # Seconds between connection keepalive heartbeats. (integer # value) #qpid_heartbeat=60 # Transport to use, either 'tcp' or 'ssl'. (string value) #qpid_protocol=tcp # Whether to disable the Nagle algorithm. (boolean value) #qpid_tcp_nodelay=true # The number of prefetched messages held by receiver. (integer # value) #qpid_receiver_capacity=1 # The qpid topology version to use. Version 1 is what was # originally used by impl_qpid. Version 2 includes some # backwards-incompatible changes that allow broker federation # to work. Users should update to version 2 when they are # able to take everything down, as it requires a clean break. # (integer value) #qpid_topology_version=1 # SSL version to use (valid only if SSL enabled). valid values # are TLSv1, SSLv23 and SSLv3. SSLv2 may be available on some # distributions. (string value) #kombu_ssl_version= # SSL key file (valid only if SSL enabled). (string value) #kombu_ssl_keyfile= # SSL cert file (valid only if SSL enabled). (string value) #kombu_ssl_certfile= # SSL certification authority file (valid only if SSL # enabled). (string value) #kombu_ssl_ca_certs= # How long to wait before reconnecting in response to an AMQP # consumer cancel notification. (floating point value) #kombu_reconnect_delay=1.0 # The RabbitMQ broker address where a single node is used. # (string value) #rabbit_host=localhost # The RabbitMQ broker port where a single node is used. # (integer value) #rabbit_port=5672 # RabbitMQ HA cluster host:port pairs. (list value) #rabbit_hosts=$rabbit_host:$rabbit_port # Connect over SSL for RabbitMQ. (boolean value) #rabbit_use_ssl=false # The RabbitMQ userid. (string value) #rabbit_userid=guest # The RabbitMQ password. (string value) #rabbit_password=guest # the RabbitMQ login method (string value) #rabbit_login_method=AMQPLAIN # The RabbitMQ virtual host. (string value) #rabbit_virtual_host=/ # How frequently to retry connecting with RabbitMQ. (integer # value) #rabbit_retry_interval=1 # How long to backoff for between retries when connecting to # RabbitMQ. (integer value) #rabbit_retry_backoff=2 # Maximum number of RabbitMQ connection retries. Default is 0 # (infinite retry count). (integer value) #rabbit_max_retries=0 # Use HA queues in RabbitMQ (x-ha-policy: all). If you change # this option, you must wipe the RabbitMQ database. (boolean # value) #rabbit_ha_queues=false # If passed, use a fake RabbitMQ provider. (boolean value) #fake_rabbit=false # ZeroMQ bind address. Should be a wildcard (*), an ethernet # interface, or IP. The ""host"" option should point or resolve # to this address. (string value) #rpc_zmq_bind_address=* # MatchMaker driver. (string value) #rpc_zmq_matchmaker=oslo.messaging._drivers.matchmaker.MatchMakerLocalhost # ZeroMQ receiver listening port. (integer value) #rpc_zmq_port=9501 # Number of ZeroMQ contexts, defaults to 1. (integer value) #rpc_zmq_contexts=1 # Maximum number of ingress messages to locally buffer per # topic. Default is unlimited. (integer value) #rpc_zmq_topic_backlog=<None> # Directory for holding IPC sockets. (string value) #rpc_zmq_ipc_dir=/var/run/openstack # Name of this node. Must be a valid hostname, FQDN, or IP # address. Must match ""host"" option, if running Nova. (string # value) #rpc_zmq_host=magnum # Seconds to wait before a cast expires (TTL). Only supported # by impl_zmq. (integer value) #rpc_cast_timeout=30 # Heartbeat frequency. (integer value) #matchmaker_heartbeat_freq=300 # Heartbeat time-to-live. (integer value) #matchmaker_heartbeat_ttl=600 # Size of RPC greenthread pool. (integer value) #rpc_thread_pool_size=64 # Driver or drivers to handle sending notifications. (multi # valued) #notification_driver= # AMQP topic used for OpenStack notifications. (list value) # Deprecated group/name - [rpc_notifier2]/topics #notification_topics=notifications # Seconds to wait for a response from a call. (integer value) #rpc_response_timeout=60 # A URL representing the messaging driver to use and its full # configuration. If not set, we fall back to the rpc_backend # option and driver specific configuration. (string value) #transport_url=<None> # The messaging driver to use, defaults to rabbit. Other # drivers include qpid and zmq. (string value) #rpc_backend=rabbit # The default exchange under which topics are scoped. May be # overridden by an exchange name specified in the # transport_url option. (string value) #control_exchange=openstack # # Options defined in magnum.api.app # # Maximum raw byte size of a plan (integer value) #max_plan_size=65536 # # Options defined in magnum.api.auth # # This option enables or disables user authentication via # keystone. Default value is True. (boolean value) #enable_authentication=true # # Options defined in magnum.common.exception # # make exception message format errors fatal (boolean value) #fatal_exception_format_errors=false # # Options defined in magnum.common.magnum_keystoneclient # # Subset of trustor roles to be delegated to magnum. (list # value) #trusts_delegated_roles=magnum_assembly_update # # Options defined in magnum.openstack.common.lockutils # # Whether to disable inter-process locks (boolean value) #disable_process_locking=false # Directory to use for lock files. (string value) #lock_path=<None> # # Options defined in magnum.openstack.common.log # # Print debugging output (set logging level to DEBUG instead # of default WARNING level). (boolean value) #debug=false # Print more verbose output (set logging level to INFO instead # of default WARNING level). (boolean value) #verbose=false # Log output to standard error. (boolean value) #use_stderr=true # Format string to use for log messages with context. (string # value) #logging_context_format_string=%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s # Format string to use for log messages without context. # (string value) #logging_default_format_string=%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s # Data to append to log format when level is DEBUG. (string # value) #logging_debug_format_suffix=%(funcName)s %(pathname)s:%(lineno)d # Prefix each line of exception output with this format. # (string value) #logging_exception_prefix=%(asctime)s.%(msecs)03d %(process)d TRACE %(name)s %(instance)s # List of logger=LEVEL pairs. (list value) #default_log_levels=amqp=WARN,amqplib=WARN,boto=WARN,qpid=WARN,sqlalchemy=WARN,suds=INFO,oslo.messaging=INFO,iso8601=WARN,requests.packages.urllib3.connectionpool=WARN,urllib3.connectionpool=WARN,websocket=WARN # Enables or disables publication of error events. (boolean # value) #publish_errors=false # Enables or disables fatal status of deprecations. (boolean # value) #fatal_deprecations=false # The format for an instance that is passed with the log # message. (string value) #instance_format=""[instance: %(uuid)s] "" # The format for an instance UUID that is passed with the log # message. (string value) #instance_uuid_format=""[instance: %(uuid)s] "" # The name of a logging configuration file. This file is # appended to any existing logging configuration files. For # details about logging configuration files, see the Python # logging module documentation. (string value) # Deprecated group/name - [DEFAULT]/log_config #log_config_append=<None> # DEPRECATED. A logging.Formatter log message format string # which may use any of the available logging.LogRecord # attributes. This option is deprecated. Please use # logging_context_format_string and # logging_default_format_string instead. (string value) #log_format=<None> # Format string for %%(asctime)s in log records. Default: # %(default)s . (string value) #log_date_format=%Y-%m-%d %H:%M:%S # (Optional) Name of log file to output to. If no default is # set, logging will go to stdout. (string value) # Deprecated group/name - [DEFAULT]/logfile #log_file=<None> # (Optional) The base directory used for relative --log-file # paths. (string value) # Deprecated group/name - [DEFAULT]/logdir #log_dir=<None> # Use syslog for logging. Existing syslog format is DEPRECATED # during I, and will change in J to honor RFC5424. (boolean # value) #use_syslog=false # (Optional) Enables or disables syslog rfc5424 format for # logging. If enabled, prefixes the MSG part of the syslog # message with APP-NAME (RFC5424). The format without the APP- # NAME is deprecated in I, and will be removed in J. (boolean # value) #use_syslog_rfc_format=false # Syslog facility to receive log lines. (string value) #syslog_log_facility=LOG_USER [api] # # Options defined in magnum.api.app#port=9777#host=127.0.0.1 # The maximum number of items returned in a single response # from a collection resource. (integer value) #max_limit=1000 # # Options defined in magnum.api.handlers.assembly_handler # # The format of the image to output (string value) #image_format=qcow2 # The format of source repository (string value) #source_format=heroku # Comment phrase to trigger rebuilding (string value) #rebuild_phrase=magnum retry tests [barbican_client] # # Options defined in magnum.common.clients # # If set, then the server's certificate for barbican will not # be verified. (boolean value) #insecure=false # Tells where to store the secrets of private git repo. # private git repo secrets location (string value) #git_secrets_file=/etc/magnum/secrets/git_secrets.db # Defaults to True. If barbican is disabled, it will store # secrets on the local filesystem specified by # 'git_secrets_file' (boolean value) #barbican_disabled=true [builder] # # Options defined in magnum.builder.app # # The port for the magnum builder API server (integer value) #port=9778 # The listen IP for the magnum builder API server (string#host=127.0.0.1 [camp]# Options defined in magnum.api.controllers.root# Enable/disable support for the OASIS CAMP API. Default value # is True. (boolean value) #camp_enabled=true# Options defined in magnum.conductor.config#topic=magnum-conductor#host=localhost# Options defined in oslo.db#sqlite_db=oslo.sqlite#sqlite_synchronous=true#backend=sqlalchemy # The SQLAlchemy connection string to use to connect to the # database. (string value)#connection=<None> # The SQLAlchemy connection string to use to connect to the # slave database. (string value) #slave_connection=<None> # The SQL mode to be used for MySQL sessions. This option, # including the default, overrides any server-set SQL mode. To # use whatever SQL mode is set by the server configuration, # set this to no value. Example: mysql_sql_mode= (string # value) #mysql_sql_mode=TRADITIONAL # Timeout before idle SQL connections are reaped. (integer # value)#idle_timeout=3600 # Minimum number of SQL connections to keep open in a pool. # (integer value)#min_pool_size=1 # Maximum number of SQL connections to keep open in a pool. # (integer value)#max_pool_size=<None> # Maximum number of database connection retries during # startup. Set to -1 to specify an infinite retry count. # (integer value)#max_retries=10 # Interval between retries of opening a SQL connection. # (integer value)#retry_interval=10 # If set, use this value for max_overflow with SQLAlchemy. # (integer value)#max_overflow=<None> # Verbosity of SQL debugging information: 0=None, # 100=Everything. (integer value) # Deprecated group/name - [DEFAULT]/sql_connection_debug #connection_debug=0 # Add Python stack traces to SQL as comment strings. (boolean # value) # Deprecated group/name - [DEFAULT]/sql_connection_trace #connection_trace=false # If set, use this value for pool_timeout with SQLAlchemy.# Deprecated group/name - [DATABASE]/sqlalchemy_pool_timeout #pool_timeout=<None> # Enable the experimental use of database reconnect on # connection lost. (boolean value) #use_db_reconnect=false#db_retry_interval=1 # If True, increases the interval between database connection # retries up to db_max_retry_interval. (boolean value) #db_inc_retry_interval=true#db_max_retry_interval=10 # Maximum database connection retries before error is raised. # Set to -1 to specify an infinite retry count. (integer # value) #db_max_retries=20 # Options defined in magnum.objects# The version of the schema that should be running: 'old', # 'transition', 'new' (string value) #schema_mode=new [deployer] # # Options defined in magnum.deployer.config # # The queue to add deployer tasks to (string value) #topic=magnum-deployer # The location of the deployer rpc queue (string value) #host=localhost # The deployer endpoint to deploy (string value) #handler=heat # # Options defined in magnum.deployer.handlers.heat # # Number of attempts to query the Heat stack for finding out # the status of the created stack and getting url of the DU # created in the stack (integer value) #max_attempts=2000 # Sleep time interval between two attempts of querying the # Heat stack. This interval is in seconds. (integer value) #wait_interval=1 # Factor by which sleep time interval increases. This value # should be >= 1.0 (floating point value) #growth_factor=1.1 [glance_client] # # Options defined in magnum.common.clients # # Type of endpoint in Identity service catalog to use for # communication with the Glance service. (string value) #endpoint_type=publicURL# Options defined in magnum.common.clients#endpoint_type=publicURL # Optional CA cert file to use in SSL connections. (string#ca_file=<None> # Optional PEM-formatted certificate chain file. (string#cert_file=<None> # Optional PEM-formatted file that contains the private key. # (string value) #key_file=<None> # If set, then the server's certificate will not be verified. # (boolean value) #insecure=false# Options defined in keystoneclient.middleware.auth_token# Prefix to prepend at the beginning of the path. Deprecated, # use identity_uri. (string value) #auth_admin_prefix= # Host providing the admin Identity API endpoint. Deprecated, # use identity_uri. (string value) #auth_host=127.0.0.1#auth_port=35357#auth_protocol=https # Complete public Identity API endpoint (string value) #auth_uri=<None> # Complete admin Identity API endpoint. This should specify # the unversioned root endpoint e.g. https://localhost:35357/ # (string value) #identity_uri=<None> # API version of the admin Identity API endpoint (string#auth_version=<None> # Do not handle authorization requests within the middleware, # but delegate the authorization decision to downstream WSGI # components (boolean value) #delay_auth_decision=false # Request timeout value for communicating with Identity API # server. (boolean value) #http_connect_timeout=<None> # How many times are we trying to reconnect when communicating # with Identity API Server. (integer value) #http_request_max_retries=3 # This option is deprecated and may be removed in a future # release. Single shared secret with the Keystone # configuration used for bootstrapping a Keystone # installation, or otherwise bypassing the normal # authentication process. This option should not be used, use#admin_token=<None> # Keystone account username (string value) #admin_user=<None> # Keystone account password (string value) #admin_password=<None> # Keystone service account tenant name to validate user tokens # (string value) #admin_tenant_name=admin # Env key for the swift cache (string value) #cache=<None> # Required if Keystone server requires client certificate # (string value) #certfile=<None> # Required if Keystone server requires client certificate # (string value) #keyfile=<None> # A PEM encoded Certificate Authority to use when verifying # HTTPs connections. Defaults to system CAs. (string value) #cafile=<None> # Verify HTTPS connections. (boolean value) #insecure=false # Directory used to cache files related to PKI tokens (string # value) #signing_dir=<None> # Optionally specify a list of memcached server(s) to use for # caching. If left undefined, tokens will instead be cached # in-process. (list value) # Deprecated group/name - [DEFAULT]/memcache_servers #memcached_servers=<None> # In order to prevent excessive effort spent validating # tokens, the middleware caches previously-seen tokens for a # configurable duration (in seconds). Set to -1 to disable # caching completely. (integer value) #token_cache_time=300 # Determines the frequency at which the list of revoked tokens # is retrieved from the Identity service (in seconds). A high # number of revocation events combined with a low cache # duration may significantly reduce performance. (integer # value) #revocation_cache_time=10 # (optional) if defined, indicate whether token data should be # authenticated or authenticated and encrypted. Acceptable # values are MAC or ENCRYPT. If MAC, token data is # authenticated (with HMAC) in the cache. If ENCRYPT, token # data is encrypted and authenticated in the cache. If the # value is not one of these options or empty, auth_token will # raise an exception on initialization. (string value) #memcache_security_strategy=<None> # (optional, mandatory if memcache_security_strategy is # defined) this string is used for key derivation. (string # value) #memcache_secret_key=<None> # (optional) indicate whether to set the X-Service-Catalog # header. If False, middleware will not ask for service # catalog on token validation and will not set the X-Service- # Catalog header. (boolean value) #include_service_catalog=true # Used to control the use and type of token binding. Can be # set to: ""disabled"" to not check token binding. ""permissive"" # (default) to validate binding information if the bind type # is of a form known to the server and ignore it if not. # ""strict"" like ""permissive"" but if the bind type is unknown # the token will be rejected. ""required"" any form of token # binding is needed to be allowed. Finally the name of a # binding method that must be present in tokens. (string # value) #enforce_token_bind=permissive # If true, the revocation list will be checked for cached # tokens. This requires that PKI tokens are configured on the # Keystone server. (boolean value) #check_revocations_for_cached=false # Hash algorithms to use for hashing PKI tokens. This may be a # single algorithm or multiple. The algorithms are those # supported by Python standard hashlib.new(). The hashes will # be tried in the order given, so put the preferred one first # for performance. The result of the first hash will be stored # in the cache. This will typically be set to multiple values # only while migrating from a less secure algorithm to a more # secure one. Once all the old tokens are expired this option # should be set to a single value for better performance. # (list value) #hash_algorithms=md5# Options defined in oslo.messaging#host=127.0.0.1#port=6379#password=<None># Options defined in oslo.messaging#ringfile=/etc/oslo/matchmaker_ring.json [mistral_client]# Options defined in magnum.common.clients# Type of endpoint in Identity service catalog to use for # communication with the mistral service. (string value) #endpoint_type=publicURL # Optional CA cert file to use in SSL connections with # Mistral. (string value) #cacert=<None> # If set the server certificate will not be verified while # using Mistral. (boolean value) #insecure=false [neutron_client]# Options defined in magnum.common.clients# Type of endpoint in Identity service catalog to use for # communication with the Neutron service. (string value) #endpoint_type=publicURL # Optional CA bundle file to use in SSL connections. (string#ca_cert=<None> # If set, then the server's certificate for neutron will not # be verified. (boolean value) #insecure=false [swift_client] # # Options defined in magnum.common.clients # # Type of endpoint in Identity service catalog to use for # communication with the Swift service. (string value) #endpoint_type=publicURL # Optional CA cert file to use in SSL connections. (string#cacert=<None> # If set the server certificate will not be verified. (boolean#insecure=false [worker] # # Options defined in magnum.worker.config # # The queue to add build tasks to (string value) #topic=magnum-worker # The location of the build rpc queue (string value) #host=localhost # The worker endpoint to employ (string value) #handler=shell # The directory containing task log output. (string value) #task_log_dir=/var/log/magnum/worker # The directory containing the project's code, especially the # contrib directory. (string value) #proj_dir= # The prefix of test log URL to be sent back (string value) #log_url_prefix=http://localhost/ # Upload task log to central storage, using modules like swift # and local from magnum/uploaders. (string value) #log_upload_strategy=local # The name of the Swift container to upload logs to. (string # value) #log_upload_swift_container=magnum-logs # The path of param files to save to. (string value) #param_file_path=/tmp/magnum [zaqar_client] # # Options defined in magnum.common.clients # # Type of endpoint in Queue service catalog to use for # communication with the Zaqar service. (string value) #endpoint_type=publicURL # If set, then the server's certificate for zaqar will not be # verified. (boolean value) #insecure=false ",567,729
openstack%2Fneutron~master~Ieb20ae01137223110abf3c933e4981ff39055398,openstack/neutron,master,Ieb20ae01137223110abf3c933e4981ff39055398,Don't log a warning if an iptables chain doesn't exist,MERGED,2014-12-18 21:05:29.000000000,2015-01-22 15:46:08.000000000,2015-01-22 15:46:07.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 7293}, {'_account_id': 8124}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2014-12-18 21:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d5916f48665067a708e41501461a8c188da9da9b', 'message': ""Don't log a warning if an iptables chain doesn't exist\n\nThe iptables_manager remove_chain() function calls LOG.warn()\nif asked to remove a chain that it doesn't know about.  This\nis spamming the neutron-full gate job pretty bad.  Change to\nLOG.debug() since reverting the change that caused it is\ndifficult since the FWaaS code has been split-out from the\ntree.\n\nIntroduced in change 6eee93a98c67\n\nChange-Id: Ieb20ae01137223110abf3c933e4981ff39055398\nCloses-bug: #1404016\n""}, {'number': 2, 'created': '2015-01-15 21:30:57.000000000', 'files': ['neutron/tests/unit/test_iptables_manager.py', 'neutron/agent/linux/iptables_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b63755abd905f7e01c6e7d65887e5e0c7c01a45c', 'message': ""Don't log a warning if an iptables chain doesn't exist\n\nThe iptables_manager remove_chain() function calls LOG.warn()\nif asked to remove a chain that it doesn't know about.  This\nis spamming the neutron-full gate job pretty bad.  Change to\nLOG.debug() since reverting the change that caused it is\ndifficult since the FWaaS code has been split-out from the\ntree.\n\nIntroduced in change 6eee93a98c67\n\nChange-Id: Ieb20ae01137223110abf3c933e4981ff39055398\nCloses-bug: #1404016\n""}]",10,142902,b63755abd905f7e01c6e7d65887e5e0c7c01a45c,63,23,2,1131,,,0,"Don't log a warning if an iptables chain doesn't exist

The iptables_manager remove_chain() function calls LOG.warn()
if asked to remove a chain that it doesn't know about.  This
is spamming the neutron-full gate job pretty bad.  Change to
LOG.debug() since reverting the change that caused it is
difficult since the FWaaS code has been split-out from the
tree.

Introduced in change 6eee93a98c67

Change-Id: Ieb20ae01137223110abf3c933e4981ff39055398
Closes-bug: #1404016
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/142902/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_iptables_manager.py', 'neutron/agent/linux/iptables_manager.py']",2,d5916f48665067a708e41501461a8c188da9da9b,bug/1404016," LOG.debug('Attempted to remove chain %s which does not exist', name)"," LOG.warn(_LW('Attempted to remove chain %s which does not exist'), name)",3,3
openstack%2Fheat-translator~master~I922533a534250d62e1dcd02dd3265ee00bddc5b8,openstack/heat-translator,master,I922533a534250d62e1dcd02dd3265ee00bddc5b8,Change definition for tosca.capabilities.Endpoint,MERGED,2015-01-15 06:50:55.000000000,2015-01-22 15:39:41.000000000,2015-01-22 15:39:41.000000000,"[{'_account_id': 3}, {'_account_id': 6456}, {'_account_id': 7193}, {'_account_id': 10818}]","[{'number': 1, 'created': '2015-01-15 06:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/61e3f6534b64299dad0725918a9170af56badb03', 'message': 'Change definition for tosca.capabilities.Endpoint\n\nAccording to new Tosca spes, change definition of tosca.capabilities.Endpoint\n\nPartially Implements: blueprint tosca-capabilities-endpoint\n\nChange-Id: I922533a534250d62e1dcd02dd3265ee00bddc5b8\n'}, {'number': 2, 'created': '2015-01-15 06:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/9c175160837d662a21c8d7f1240f2b4bc01bbf4b', 'message': 'Change definition for tosca.capabilities.Endpoint\n\nAccording to new Tosca spes, change definition of tosca.capabilities.Endpoint\n\nPartially Implements: blueprint tosca-capabilities-endpoint\n\nChange-Id: I922533a534250d62e1dcd02dd3265ee00bddc5b8\n'}, {'number': 3, 'created': '2015-01-22 11:36:21.000000000', 'files': ['translator/toscalib/elements/TOSCA_definition.yaml'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/0012e9681922adc54779f1795b2fee58c3c75ff1', 'message': 'Change definition for tosca.capabilities.Endpoint\n\nAccording to new Tosca spes, change definition of tosca.capabilities.Endpoint\n\nPartially Implements: blueprint tosca-capabilities-endpoint\n\nChange-Id: I922533a534250d62e1dcd02dd3265ee00bddc5b8\n'}]",11,147398,0012e9681922adc54779f1795b2fee58c3c75ff1,16,4,3,10818,,,0,"Change definition for tosca.capabilities.Endpoint

According to new Tosca spes, change definition of tosca.capabilities.Endpoint

Partially Implements: blueprint tosca-capabilities-endpoint

Change-Id: I922533a534250d62e1dcd02dd3265ee00bddc5b8
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/98/147398/3 && git format-patch -1 --stdout FETCH_HEAD,['translator/toscalib/elements/TOSCA_definition.yaml'],1,61e3f6534b64299dad0725918a9170af56badb03,bp/tosca-capabilities-endpoint," type: tosca.datatypes.network.PortDef url_path: type: string required: false port_name: type: string required: false network_name: type: string required: false initiator: type: string default: source constraints: - valid_values: [source, target, peer] ports: type: map required: true constraints: - min_length: 1 entry_schema: type: PortSpec attributes: ip_address: type: string", type: integer constraints: - greater_or_equal: 1 - less_or_equal: 65535,25,4
openstack%2Fdevstack~master~I4e322b035951e4a115a31f32f1a5ca68ef5a3fcf,openstack/devstack,master,I4e322b035951e4a115a31f32f1a5ca68ef5a3fcf,Fix an error on stacking specified branch,ABANDONED,2015-01-18 22:04:00.000000000,2015-01-22 15:28:13.000000000,,"[{'_account_id': 3}, {'_account_id': 7715}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 11536}, {'_account_id': 13372}]","[{'number': 1, 'created': '2015-01-18 22:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/67240834f9e4b6054a128208372855cdde5e7861', 'message': 'Fix an error on stacking specified branch\n\nChange-Id: I4e322b035951e4a115a31f32f1a5ca68ef5a3fcf\nCloses-Bug: 1412244\n'}, {'number': 2, 'created': '2015-01-20 03:57:45.000000000', 'files': ['functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d183794c92bbe5035646794a336ec5c4eeb247e7', 'message': 'Fix an error on stacking specified branch\n\nChange-Id: I4e322b035951e4a115a31f32f1a5ca68ef5a3fcf\nCloses-Bug: 1412244\n'}]",2,148130,d183794c92bbe5035646794a336ec5c4eeb247e7,14,6,2,11536,,,0,"Fix an error on stacking specified branch

Change-Id: I4e322b035951e4a115a31f32f1a5ca68ef5a3fcf
Closes-Bug: 1412244
",git fetch https://review.opendev.org/openstack/devstack refs/changes/30/148130/1 && git format-patch -1 --stdout FETCH_HEAD,['functions-common'],1,67240834f9e4b6054a128208372855cdde5e7861,bug/1412244," if [[ -n ""${git_ref}"" ]]; then git_clone_flags=""$git_clone_flags --no-single-branch"" fi ",,4,0
openstack%2Fmurano~master~Iaf7e0f0843ca9561a667d553d8926cf74c6bca9f,openstack/murano,master,Iaf7e0f0843ca9561a667d553d8926cf74c6bca9f,Refactor db migration tests,MERGED,2015-01-21 12:31:40.000000000,2015-01-22 15:28:04.000000000,2015-01-22 15:28:03.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7491}, {'_account_id': 7549}, {'_account_id': 7600}, {'_account_id': 7821}]","[{'number': 1, 'created': '2015-01-21 12:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/46349e0e986e175675a3184b667048afc6855364', 'message': 'Refactor db migration tests\n\nCommon oslo.db code contains a base test classes for migration testing,\nso we can use it in Murano.\n\nChange-Id: Iaf7e0f0843ca9561a667d553d8926cf74c6bca9f\n'}, {'number': 2, 'created': '2015-01-21 15:36:03.000000000', 'files': ['murano/tests/unit/db/migration/test_migrations.conf', 'murano/tests/unit/db/migration/test_migrations_base.py', 'test-requirements.txt', 'murano/tests/unit/db/migration/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/537aaf3c96f4f34fd5ca70d80eae40536543800e', 'message': 'Refactor db migration tests\n\nCommon oslo.db code contains a base test classes for migration testing,\nso we can use it in Murano.\n\nChange-Id: Iaf7e0f0843ca9561a667d553d8926cf74c6bca9f\n'}]",4,148910,537aaf3c96f4f34fd5ca70d80eae40536543800e,18,7,2,7600,,,0,"Refactor db migration tests

Common oslo.db code contains a base test classes for migration testing,
so we can use it in Murano.

Change-Id: Iaf7e0f0843ca9561a667d553d8926cf74c6bca9f
",git fetch https://review.opendev.org/openstack/murano refs/changes/10/148910/2 && git format-patch -1 --stdout FETCH_HEAD,"['murano/tests/unit/db/migration/test_migrations.conf', 'murano/tests/unit/db/migration/test_migrations_base.py', 'test-requirements.txt', 'murano/tests/unit/db/migration/test_migrations.py']",4,46349e0e986e175675a3184b667048afc6855364,,""""""" Tests for database migrations. For the opportunistic testing you need to set up a db named 'openstack_citest' with user 'openstack_citest' and password 'openstack_citest' on localhost. The test will then use that db and u/p combo to run the tests. For postgres on Ubuntu this can be done with the following commands: sudo -u postgres psql postgres=# create user openstack_citest with createdb login password 'openstack_citest'; postgres=# create database openstack_citest with owner openstack_citest; """""" from oslo.db import exception as db_exc from oslo.db.sqlalchemy import test_base class MuranoMigrationsCheckers(object): TIMEOUT_SCALING_FACTOR = 2 snake_walk = True downgrade = True def test_walk_versions(self): self.walk_versions(self.engine, self.snake_walk, self.downgrade) self.assertRaises(db_exc.DBDuplicateEntry, class TestMigrationsMySQL(MuranoMigrationsCheckers, base.BaseWalkMigrationTestCase, test_base.MySQLOpportunisticTestCase, ): pass class TestMigrationsPostgresql(MuranoMigrationsCheckers, base.BaseWalkMigrationTestCase, test_base.PostgreSQLOpportunisticTestCase): pass","from oslo.config import cfgfrom sqlalchemy import excfrom murano.db import models # noqaCONF = cfg.CONF class TestMigrations(base.BaseWalkMigrationTestCase, base.CommonTestsMixIn): USER = ""openstack_citest"" PASSWD = ""openstack_citest"" DATABASE = ""openstack_citest"" def __init__(self, *args, **kwargs): super(TestMigrations, self).__init__(*args, **kwargs) def setUp(self): super(TestMigrations, self).setUp() self.assertRaises(exc.IntegrityError,",43,442
openstack%2Fpython-openstackclient~master~Ia88b6c0ca5205fa5bfc3efa06ac7f84c4a9e5d4e,openstack/python-openstackclient,master,Ia88b6c0ca5205fa5bfc3efa06ac7f84c4a9e5d4e,Command docs: network,MERGED,2015-01-20 22:45:07.000000000,2015-01-22 15:18:33.000000000,2015-01-22 15:18:32.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 1941}, {'_account_id': 6482}, {'_account_id': 9101}]","[{'number': 1, 'created': '2015-01-20 22:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3264ce539ed7104507c7c3f37474f96b98cd42ac', 'message': 'Command docs: network\n\nChange-Id: Ia88b6c0ca5205fa5bfc3efa06ac7f84c4a9e5d4e\n'}, {'number': 2, 'created': '2015-01-21 17:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/79ad92a85d30c77222aa4268ecbb4453ab850fb1', 'message': 'Command docs: network\n\nChange-Id: Ia88b6c0ca5205fa5bfc3efa06ac7f84c4a9e5d4e\n'}, {'number': 3, 'created': '2015-01-21 23:50:07.000000000', 'files': ['doc/source/command-objects/network.rst', 'openstackclient/network/v2/network.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/20ec40e222dc57d0121335d9eb6abd6195daad89', 'message': 'Command docs: network\n\nChange-Id: Ia88b6c0ca5205fa5bfc3efa06ac7f84c4a9e5d4e\n'}]",8,148741,20ec40e222dc57d0121335d9eb6abd6195daad89,19,5,3,970,,,0,"Command docs: network

Change-Id: Ia88b6c0ca5205fa5bfc3efa06ac7f84c4a9e5d4e
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/41/148741/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/command-objects/network.rst', 'openstackclient/network/v2/network.py']",2,3264ce539ed7104507c7c3f37474f96b98cd42ac,rst-network," """"""Create new network"""""" 'name', metavar='<name>', help='New network name', ) default=True, help='Set administrative state enabled', ) help='Set administrative state disabled', ) dest='shared', action='store_true', help='Share the network between projects', ) dest='shared', action='store_false', help='Do not share the network between projects', ) help=(""Network to delete (name or ID)"") help=(""Network to modify (name or ID)"") ) parser.add_argument( '--name', metavar='<name>', help='Set network name', default=None, help='Set administrative state enabled', ) help='Set administrative state disabled', ) dest='shared', action='store_true', help='Share the network between projects', ) dest='shared', action='store_false', help='Do not share the network between projects', )"," """"""Create a network"""""" 'name', metavar='<network_name>', help='Name of network to create') default=True, help='Set administrative state up') help='Set administrative state down') dest='shared', action='store_true', help='Share the network across tenants') dest='shared', action='store_false', help='Do not share the network across tenants') help=(""Network(s) to delete (name or ID)"") help=(""Name or identifier of network to set"") default=None, help='Set administrative state up') help='Set administrative state down') parser.add_argument( '--name', metavar='<network_name>', help='New name for the network') dest='shared', action='store_true', help='Share the network across tenants') dest='shared', action='store_false', help='Do not share the network across tenants')",173,23
openstack%2Fmanila~master~I33402959bc4bbc34cfd4d7308ad0a7bcff3669b5,openstack/manila,master,I33402959bc4bbc34cfd4d7308ad0a7bcff3669b5,Replace string driver modes with boolean value,MERGED,2015-01-16 12:03:50.000000000,2015-01-22 15:14:44.000000000,2015-01-22 15:14:43.000000000,"[{'_account_id': 3}, {'_account_id': 428}, {'_account_id': 2417}, {'_account_id': 6116}, {'_account_id': 6491}, {'_account_id': 8056}, {'_account_id': 8851}, {'_account_id': 9067}, {'_account_id': 9186}, {'_account_id': 9521}, {'_account_id': 10796}, {'_account_id': 11637}, {'_account_id': 11878}, {'_account_id': 14232}]","[{'number': 1, 'created': '2015-01-16 12:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f41f5564a81748f332441cf45031a8a1cef414ad', 'message': ""[WIP] Replace string driver modes with boolean value\n\nDue to unclear meanings of existing names for share drivers modes it was\ndecided to replace string driver modes with boolean value, since we have only\ntwo possible values that will clearly say what it used for by name of opt.\n\nThis replacement includes following changes:\n- String opt 'share_driver_mode' is replaced with\nbool opt 'driver_handles_share_servers'. New bool opt does not have\ndefault value and should be defined explicitly.\n- Class ShareDriver (parent class for share drivers) now expects additional\nargument 'driver_handles_share_servers' which is mandatory and should be\nprovided by child classes. Expected values are boolean or tuple/list/set of\nbooleans that says what modes are supported. Above new config opt will be\ncompared to these.\n- Update interfaces 'setup_server' and 'teardown_server' of class ShareDriver.\nThese interfaces now consider driver modes and call new additional private\nmethods only when driver is enabled to mode with share servers handling.\nThese new private methods are '_setup_server' and '_teardown_server', they\nshould be redefined by child classes when share servers should be handled by\nManila.\n- To get know current driver mode within child classes just call property\n'driver_handles_share_servers'. It can not be changed by child classes and\nreturns value that is set by config opt with same name.\n- Remove methods 'setup_server' and 'teardown_server' from all share drivers,\nthat do not support handling of share servers.\n- Rename methods 'setup_server' and 'teardown_server' to appropriate\nprivate methods for drivers that do support handling of share servers.\n- Update unit tests related to all changed places.\n\nImplements bp rename-driver-modes\n\nTODO:\n1) update all child classes\n2) fix unit tests\n3) remove [WIP] from topic.\n\nChange-Id: I33402959bc4bbc34cfd4d7308ad0a7bcff3669b5\n""}, {'number': 2, 'created': '2015-01-16 13:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f66a63ccf31c714a09aaa1b816f1e4007f499316', 'message': ""[WIP] Replace string driver modes with boolean value\n\nDue to unclear meanings of existing names for share drivers modes it was\ndecided to replace string driver modes with boolean value, since we have only\ntwo possible values that will clearly say what it used for by name of opt.\n\nThis replacement includes following changes:\n- String opt 'share_driver_mode' is replaced with\nbool opt 'driver_handles_share_servers'. New bool opt does not have\ndefault value and should be defined explicitly.\n- Class ShareDriver (parent class for share drivers) now expects additional\nargument 'driver_handles_share_servers' which is mandatory and should be\nprovided by child classes. Expected values are boolean or tuple/list/set of\nbooleans that says what modes are supported. Above new config opt will be\ncompared to these.\n- Update interfaces 'setup_server' and 'teardown_server' of class ShareDriver.\nThese interfaces now consider driver modes and call new additional private\nmethods only when driver is enabled to mode with share servers handling.\nThese new private methods are '_setup_server' and '_teardown_server', they\nshould be redefined by child classes when share servers should be handled by\nManila.\n- To get know current driver mode within child classes just call property\n'driver_handles_share_servers'. It can not be changed by child classes and\nreturns value that is set by config opt with same name.\n- Remove methods 'setup_server' and 'teardown_server' from all share drivers,\nthat do not support handling of share servers.\n- Rename methods 'setup_server' and 'teardown_server' to appropriate\nprivate methods for drivers that do support handling of share servers.\n- Update unit tests related to all changed places.\n- Make Devstack set new mandatory bool opt.\n\nImplements bp rename-driver-modes\n\nTODO:\n1) fix unit tests\n2) remove [WIP] from topic.\n\nChange-Id: I33402959bc4bbc34cfd4d7308ad0a7bcff3669b5\n""}, {'number': 3, 'created': '2015-01-16 13:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/551f927cebc105f672a0cddaa2ca0879509304cb', 'message': ""[WIP] Replace string driver modes with boolean value\n\nDue to unclear meanings of existing names for share drivers modes it was\ndecided to replace string driver modes with boolean value, since we have only\ntwo possible values that will clearly say what it used for by name of opt.\n\nThis replacement includes following changes:\n- String opt 'share_driver_mode' is replaced with\nbool opt 'driver_handles_share_servers'. New bool opt does not have\ndefault value and should be defined explicitly.\n- Class ShareDriver (parent class for share drivers) now expects additional\nargument 'driver_handles_share_servers' which is mandatory and should be\nprovided by child classes. Expected values are boolean or tuple/list/set of\nbooleans that says what modes are supported. Above new config opt will be\ncompared to these.\n- Update interfaces 'setup_server' and 'teardown_server' of class ShareDriver.\nThese interfaces now consider driver modes and call new additional private\nmethods only when driver is enabled to mode with share servers handling.\nThese new private methods are '_setup_server' and '_teardown_server', they\nshould be redefined by child classes when share servers should be handled by\nManila.\n- To get know current driver mode within child classes just call property\n'driver_handles_share_servers'. It can not be changed by child classes and\nreturns value that is set by config opt with same name.\n- Remove methods 'setup_server' and 'teardown_server' from all share drivers,\nthat do not support handling of share servers.\n- Rename methods 'setup_server' and 'teardown_server' to appropriate\nprivate methods for drivers that do support handling of share servers.\n- Update unit tests related to all changed places.\n- Make Devstack set new mandatory bool opt.\n\nImplements bp rename-driver-modes\n\nTODO:\n1) fix unit tests\n2) remove [WIP] from topic.\n\nChange-Id: I33402959bc4bbc34cfd4d7308ad0a7bcff3669b5\n""}, {'number': 4, 'created': '2015-01-16 13:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/de5ce3a75fdc13d70a335b47170ab4fbca330e74', 'message': ""[WIP] Replace string driver modes with boolean value\n\nDue to unclear meanings of existing names for share drivers modes it was\ndecided to replace string driver modes with boolean value, since we have only\ntwo possible values that will clearly say what it used for by name of opt.\n\nThis replacement includes following changes:\n- String opt 'share_driver_mode' is replaced with\nbool opt 'driver_handles_share_servers'. New bool opt does not have\ndefault value and should be defined explicitly.\n- Class ShareDriver (parent class for share drivers) now expects additional\nargument 'driver_handles_share_servers' which is mandatory and should be\nprovided by child classes. Expected values are boolean or tuple/list/set of\nbooleans that says what modes are supported. Above new config opt will be\ncompared to these.\n- Update interfaces 'setup_server' and 'teardown_server' of class ShareDriver.\nThese interfaces now consider driver modes and call new additional private\nmethods only when driver is enabled to mode with share servers handling.\nThese new private methods are '_setup_server' and '_teardown_server', they\nshould be redefined by child classes when share servers should be handled by\nManila.\n- To get know current driver mode within child classes just call property\n'driver_handles_share_servers'. It can not be changed by child classes and\nreturns value that is set by config opt with same name.\n- Remove methods 'setup_server' and 'teardown_server' from all share drivers,\nthat do not support handling of share servers.\n- Rename methods 'setup_server' and 'teardown_server' to appropriate\nprivate methods for drivers that do support handling of share servers.\n- Update unit tests related to all changed places.\n- Make Devstack set new mandatory bool opt.\n\nImplements bp rename-driver-modes\n\nTODO:\n1) fix unit tests\n2) remove [WIP] from topic.\n\nChange-Id: I33402959bc4bbc34cfd4d7308ad0a7bcff3669b5\n""}, {'number': 5, 'created': '2015-01-16 14:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/92f3409073d8d5e29c61af31d11fbf53a6b8b668', 'message': ""[WIP] Replace string driver modes with boolean value\n\nDue to unclear meanings of existing names for share drivers modes it was\ndecided to replace string driver modes with boolean value, since we have only\ntwo possible values that will clearly say what it used for by name of opt.\n\nThis replacement includes following changes:\n- String opt 'share_driver_mode' is replaced with\nbool opt 'driver_handles_share_servers'. New bool opt does not have\ndefault value and should be defined explicitly.\n- Class ShareDriver (parent class for share drivers) now expects additional\nargument 'driver_handles_share_servers' which is mandatory and should be\nprovided by child classes. Expected values are boolean or tuple/list/set of\nbooleans that says what modes are supported. Above new config opt will be\ncompared to these.\n- Update interfaces 'setup_server' and 'teardown_server' of class ShareDriver.\nThese interfaces now consider driver modes and call new additional private\nmethods only when driver is enabled to mode with share servers handling.\nThese new private methods are '_setup_server' and '_teardown_server', they\nshould be redefined by child classes when share servers should be handled by\nManila.\n- To get know current driver mode within child classes just call property\n'driver_handles_share_servers'. It can not be changed by child classes and\nreturns value that is set by config opt with same name.\n- Remove methods 'setup_server' and 'teardown_server' from all share drivers,\nthat do not support handling of share servers.\n- Rename methods 'setup_server' and 'teardown_server' to appropriate\nprivate methods for drivers that do support handling of share servers.\n- Update unit tests related to all changed places.\n- Make Devstack set new mandatory bool opt.\n\nImplements bp rename-driver-modes\n\nTODO:\n1) fix unit tests\n2) remove [WIP] from topic.\n\nChange-Id: I33402959bc4bbc34cfd4d7308ad0a7bcff3669b5\n""}, {'number': 6, 'created': '2015-01-16 19:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3fd8cbf62e26e3cfeba5a50ec19b473f1f233add', 'message': ""[WIP] Replace string driver modes with boolean value\n\nDue to unclear meanings of existing names for share drivers modes it was\ndecided to replace string driver modes with boolean value, since we have only\ntwo possible values that will clearly say what it used for by name of opt.\n\nThis replacement includes following changes:\n- String opt 'share_driver_mode' is replaced with\nbool opt 'driver_handles_share_servers'. New bool opt does not have\ndefault value and should be defined explicitly.\n- Class ShareDriver (parent class for share drivers) now expects additional\nargument 'driver_handles_share_servers' which is mandatory and should be\nprovided by child classes. Expected values are boolean or tuple/list/set of\nbooleans that says what modes are supported. Above new config opt will be\ncompared to these.\n- Update interfaces 'setup_server' and 'teardown_server' of class ShareDriver.\nThese interfaces now consider driver modes and call new additional private\nmethods only when driver is enabled to mode with share servers handling.\nThese new private methods are '_setup_server' and '_teardown_server', they\nshould be redefined by child classes when share servers should be handled by\nManila.\n- To get know current driver mode within child classes just call property\n'driver_handles_share_servers'. It can not be changed by child classes and\nreturns value that is set by config opt with same name.\n- Remove methods 'setup_server' and 'teardown_server' from all share drivers,\nthat do not support handling of share servers.\n- Rename methods 'setup_server' and 'teardown_server' to appropriate\nprivate methods for drivers that do support handling of share servers.\n- Update unit tests related to all changed places.\n- Make Devstack set new mandatory bool opt.\n\nImplements bp rename-driver-modes\n\nTODO:\n1) fix unit tests\n2) remove [WIP] from topic.\n\nChange-Id: I33402959bc4bbc34cfd4d7308ad0a7bcff3669b5\n""}, {'number': 7, 'created': '2015-01-16 20:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/547dd6cc2d926890acec55427af46d3194395d34', 'message': ""[WIP] Replace string driver modes with boolean value\n\nDue to unclear meanings of existing names for share drivers modes it was\ndecided to replace string driver modes with boolean value, since we have only\ntwo possible values that will clearly say what it used for by name of opt.\n\nThis replacement includes following changes:\n- String opt 'share_driver_mode' is replaced with\nbool opt 'driver_handles_share_servers'. New bool opt does not have\ndefault value and should be defined explicitly.\n- Class ShareDriver (parent class for share drivers) now expects additional\nargument 'driver_handles_share_servers' which is mandatory and should be\nprovided by child classes. Expected values are boolean or tuple/list/set of\nbooleans that says what modes are supported. Above new config opt will be\ncompared to these.\n- Update interfaces 'setup_server' and 'teardown_server' of class ShareDriver.\nThese interfaces now consider driver modes and call new additional private\nmethods only when driver is enabled to mode with share servers handling.\nThese new private methods are '_setup_server' and '_teardown_server', they\nshould be redefined by child classes when share servers should be handled by\nManila.\n- To get know current driver mode within child classes just call property\n'driver_handles_share_servers'. It can not be changed by child classes and\nreturns value that is set by config opt with same name.\n- Remove methods 'setup_server' and 'teardown_server' from all share drivers,\nthat do not support handling of share servers.\n- Rename methods 'setup_server' and 'teardown_server' to appropriate\nprivate methods for drivers that do support handling of share servers.\n- Update unit tests related to all changed places.\n- Make Devstack set new mandatory bool opt.\n\nImplements bp rename-driver-modes\n\nTODO:\n1) fix unit tests\n2) remove [WIP] from topic.\n\nChange-Id: I33402959bc4bbc34cfd4d7308ad0a7bcff3669b5\n""}, {'number': 8, 'created': '2015-01-17 12:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/05e7e8cb0b8ab4aa1bbb1fb8c5c958f08ababa1c', 'message': ""Replace string driver modes with boolean value\n\nDue to unclear meanings of existing names for share drivers modes it was\ndecided to replace string driver modes with boolean value, since we have only\ntwo possible values that will clearly say what it used for by name of opt.\n\nThis replacement includes following changes:\n- String opt 'share_driver_mode' is replaced with\nbool opt 'driver_handles_share_servers'. New bool opt does not have\ndefault value and should be defined explicitly.\n- Class ShareDriver (parent class for share drivers) now expects additional\nargument 'driver_handles_share_servers' which is mandatory and should be\nprovided by child classes. Expected values are boolean or tuple/list/set of\nbooleans that says what modes are supported. Above new config opt will be\ncompared to these.\n- Update interfaces 'setup_server' and 'teardown_server' of class ShareDriver.\nThese interfaces now consider driver modes and call new additional private\nmethods only when driver is enabled to mode with share servers handling.\nThese new private methods are '_setup_server' and '_teardown_server', they\nshould be redefined by child classes when share servers should be handled by\nManila.\n- To get know current driver mode within child classes just call property\n'driver_handles_share_servers'. It can not be changed by child classes and\nreturns value that is set by config opt with same name.\n- Remove methods 'setup_server' and 'teardown_server' from all share drivers,\nthat do not support handling of share servers.\n- Rename methods 'setup_server' and 'teardown_server' to appropriate\nprivate methods for drivers that do support handling of share servers.\n- Update unit tests related to all changed places.\n- Make Devstack set new mandatory bool opt.\n\nImplements bp rename-driver-modes\n\nChange-Id: I33402959bc4bbc34cfd4d7308ad0a7bcff3669b5\n""}, {'number': 9, 'created': '2015-01-22 10:47:40.000000000', 'files': ['manila/share/drivers/glusterfs_native.py', 'manila/tests/share/drivers/zfssa/test_zfssashare.py', 'manila/share/drivers/huawei/huawei_nas.py', 'contrib/devstack/lib/manila', 'manila/tests/share/drivers/test_glusterfs_native.py', 'manila/tests/share/drivers/test_glusterfs.py', 'manila/share/drivers/ibm/gpfs.py', 'manila/share/manager.py', 'manila/tests/share/test_driver.py', 'manila/tests/share/drivers/emc/test_emc_vnx.py', 'manila/common/constants.py', 'manila/share/drivers/glusterfs.py', 'manila/tests/share/drivers/ibm/test_gpfs.py', 'manila/share/drivers/emc/plugins/vnx/connection.py', 'manila/tests/share/test_manager.py', 'manila/tests/fake_driver.py', 'manila/share/driver.py', 'manila/share/drivers/emc/plugins/base.py', 'manila/tests/share/drivers/huawei/test_huawei_nas.py', 'manila/share/drivers/emc/driver.py', 'manila/share/drivers/netapp/cluster_mode.py', 'manila/tests/share/drivers/test_generic.py', 'manila/tests/share/drivers/netapp/test_cluster_mode.py', 'manila/share/drivers/generic.py', 'manila/share/drivers/zfssa/zfssashare.py', 'manila/tests/share/drivers/emc/test_driver.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/b719d0ffa69a7aa7957306d953c3392dd8e5b252', 'message': ""Replace string driver modes with boolean value\n\nDue to unclear meanings of existing names for share drivers modes it was\ndecided to replace string driver modes with boolean value, since we have only\ntwo possible values that will clearly say what it used for by name of opt.\n\nThis replacement includes following changes:\n- String opt 'share_driver_mode' is replaced with\nbool opt 'driver_handles_share_servers'. New bool opt does not have\ndefault value and should be defined explicitly.\n- Class ShareDriver (parent class for share drivers) now expects additional\nargument 'driver_handles_share_servers' which is mandatory and should be\nprovided by child classes. Expected values are boolean or tuple/list/set of\nbooleans that says what modes are supported. Above new config opt will be\ncompared to these.\n- Update interfaces 'setup_server' and 'teardown_server' of class ShareDriver.\nThese interfaces now consider driver modes and call new additional private\nmethods only when driver is enabled to mode with share servers handling.\nThese new private methods are '_setup_server' and '_teardown_server', they\nshould be redefined by child classes when share servers should be handled by\nManila.\n- To get know current driver mode within child classes just call property\n'driver_handles_share_servers'. It can not be changed by child classes and\nreturns value that is set by config opt with same name.\n- Remove methods 'setup_server' and 'teardown_server' from all share drivers,\nthat do not support handling of share servers.\n- Rename methods 'setup_server' and 'teardown_server' to appropriate\nprivate methods for drivers that do support handling of share servers.\n- Update unit tests related to all changed places.\n- Make Devstack set new mandatory bool opt.\n\nImplements bp rename-driver-modes\n\nChange-Id: I33402959bc4bbc34cfd4d7308ad0a7bcff3669b5\n""}]",8,147821,b719d0ffa69a7aa7957306d953c3392dd8e5b252,30,14,9,8851,,,0,"Replace string driver modes with boolean value

Due to unclear meanings of existing names for share drivers modes it was
decided to replace string driver modes with boolean value, since we have only
two possible values that will clearly say what it used for by name of opt.

This replacement includes following changes:
- String opt 'share_driver_mode' is replaced with
bool opt 'driver_handles_share_servers'. New bool opt does not have
default value and should be defined explicitly.
- Class ShareDriver (parent class for share drivers) now expects additional
argument 'driver_handles_share_servers' which is mandatory and should be
provided by child classes. Expected values are boolean or tuple/list/set of
booleans that says what modes are supported. Above new config opt will be
compared to these.
- Update interfaces 'setup_server' and 'teardown_server' of class ShareDriver.
These interfaces now consider driver modes and call new additional private
methods only when driver is enabled to mode with share servers handling.
These new private methods are '_setup_server' and '_teardown_server', they
should be redefined by child classes when share servers should be handled by
Manila.
- To get know current driver mode within child classes just call property
'driver_handles_share_servers'. It can not be changed by child classes and
returns value that is set by config opt with same name.
- Remove methods 'setup_server' and 'teardown_server' from all share drivers,
that do not support handling of share servers.
- Rename methods 'setup_server' and 'teardown_server' to appropriate
private methods for drivers that do support handling of share servers.
- Update unit tests related to all changed places.
- Make Devstack set new mandatory bool opt.

Implements bp rename-driver-modes

Change-Id: I33402959bc4bbc34cfd4d7308ad0a7bcff3669b5
",git fetch https://review.opendev.org/openstack/manila refs/changes/21/147821/9 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/driver.py', 'manila/common/constants.py']",2,f41f5564a81748f332441cf45031a8a1cef414ad,bp/rename-driver-modes,," SINGLE_SVM_MODE = 'single_svm' MULTI_SVM_MODE = 'multi_svm' VALID_SHARE_DRIVER_MODES = ( SINGLE_SVM_MODE, MULTI_SVM_MODE, )",95,86
openstack%2Fnova~stable%2Fjuno~Iff2707602d5fabfbe8438150b5ad74b3c31bb011,openstack/nova,stable/juno,Iff2707602d5fabfbe8438150b5ad74b3c31bb011,Extends use of ServiceProxy to more methods in HostAPI in cells,MERGED,2014-12-02 14:15:07.000000000,2015-01-22 15:07:28.000000000,2015-01-22 15:07:25.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 8213}, {'_account_id': 9569}, {'_account_id': 10118}, {'_account_id': 12548}]","[{'number': 1, 'created': '2014-12-02 14:15:07.000000000', 'files': ['nova/tests/compute/test_host_api.py', 'nova/compute/cells_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2da234190346d76725017b4ee7570d0a7e89a91c', 'message': ""Extends use of ServiceProxy to more methods in HostAPI in cells\n\nCells prepend full cell path to the service ID before returning any\nservice related info. This means service ID is non numeric and can't\nbe cast into Service objects.  In cells, service_get_all method\nin HostAPI (which is used to display list of services) strips out\nthe cell path from received IDs, creates Service objects using\nremaining numerical ID and uses a ServiceProxy to associate cell paths\nService objects.\nHowever, other service related methods do not do so. They include:\n - service_update (Used for enabling/disabling services)\n - service_get_all_by_host (Used for evacuation)\nThese functions try to cast received service info (with alphanumeric\nservice IDs) into Service objects and fail with a ValueError.\nThis leads to API cell throwing Error 500 for service-enable,\nservice-disable and evacuate.\nThis patch extends the ServiceProxy usage to both these methods. It\nalso changes the corresponding HostAPI tests.\n\nNote: The required unit-tests are manually added to the below path,\nas new path for unit-tests is not present in stable/juno release.\nnova/tests/compute/test_host_api.py\n\nConflicts:\n        nova/tests/unit/compute/test_host_api.py\n\nChange-Id: Iff2707602d5fabfbe8438150b5ad74b3c31bb011\nCloses-Bug: 1361180\n(cherry picked from commit fcd24c6774af0add2bf20c604232e4db9747da7d)\n""}]",0,138374,2da234190346d76725017b4ee7570d0a7e89a91c,10,8,1,10795,,,0,"Extends use of ServiceProxy to more methods in HostAPI in cells

Cells prepend full cell path to the service ID before returning any
service related info. This means service ID is non numeric and can't
be cast into Service objects.  In cells, service_get_all method
in HostAPI (which is used to display list of services) strips out
the cell path from received IDs, creates Service objects using
remaining numerical ID and uses a ServiceProxy to associate cell paths
Service objects.
However, other service related methods do not do so. They include:
 - service_update (Used for enabling/disabling services)
 - service_get_all_by_host (Used for evacuation)
These functions try to cast received service info (with alphanumeric
service IDs) into Service objects and fail with a ValueError.
This leads to API cell throwing Error 500 for service-enable,
service-disable and evacuate.
This patch extends the ServiceProxy usage to both these methods. It
also changes the corresponding HostAPI tests.

Note: The required unit-tests are manually added to the below path,
as new path for unit-tests is not present in stable/juno release.
nova/tests/compute/test_host_api.py

Conflicts:
        nova/tests/unit/compute/test_host_api.py

Change-Id: Iff2707602d5fabfbe8438150b5ad74b3c31bb011
Closes-Bug: 1361180
(cherry picked from commit fcd24c6774af0add2bf20c604232e4db9747da7d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/138374/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/compute/test_host_api.py', 'nova/compute/cells_api.py']",2,2da234190346d76725017b4ee7570d0a7e89a91c,bug/1361180," # NOTE(dheeraj): Use ServiceProxy here too. See johannes' # note on service_get_all if db_service: cell_path, _id = cells_utils.split_cell_and_item(db_service['id']) db_service['id'] = _id ser_obj = objects.Service._from_db_object(context, objects.Service(), db_service) return ServiceProxy(ser_obj, cell_path) # NOTE(dheeraj): Use ServiceProxy here too. See johannes' # note on service_get_all if db_service: cell_path, _id = cells_utils.split_cell_and_item(db_service['id']) db_service['id'] = _id ser_obj = objects.Service._from_db_object(context, objects.Service(), db_service) return ServiceProxy(ser_obj, cell_path)"," if db_service: return objects.Service._from_db_object(context, objects.Service(), db_service) if db_service: return objects.Service._from_db_object(context, objects.Service(), db_service)",29,11
openstack%2Fopenstack-ansible~juno~I630e38b35a00fe547ec3aaa68604a5902be4f83e,openstack/openstack-ansible,juno,I630e38b35a00fe547ec3aaa68604a5902be4f83e,Squash all patches required to make gating work,MERGED,2015-01-22 10:31:42.000000000,2015-01-22 14:59:38.000000000,2015-01-22 13:20:41.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7217}, {'_account_id': 7307}, {'_account_id': 9884}]","[{'number': 1, 'created': '2015-01-22 10:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9d60629adddc8edfe0bc0c645bc926566de2a46e', 'message': 'Squash all patches required to make gating work\n\nThis is a merge of the following patches:\n62d2525 Fixed generator type assumption error\n1339640 Allow swift_vars to not be specified for swift_hosts\n735eb68 AIO to use https to access the frozen repo\n033df65 use archive.mariadb.org for to install mariadb package\n8b9cf6e Use reliable static mirror for mariadb apt repository\n\nChange-Id: I630e38b35a00fe547ec3aaa68604a5902be4f83e\nCloses-Bug: #1409762\n'}, {'number': 2, 'created': '2015-01-22 10:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c86dd3d41ba82103006227ab80805e38b825093a', 'message': 'Squash all patches required to make gating work\n\nThis is a merge of the following patches:\n62d2525 Fixed generator type assumption error\n1339640 Allow swift_vars to not be specified for swift_hosts\n735eb68 AIO to use https to access the frozen repo\n033df65 use archive.mariadb.org for to install mariadb package\n8b9cf6e Use reliable static mirror for mariadb apt repository\nb30f9d1 Add debootstrap package to LXC package list\n\nChange-Id: I630e38b35a00fe547ec3aaa68604a5902be4f83e\nCloses-Bug: #1409762\n'}, {'number': 3, 'created': '2015-01-22 11:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/733141c0243c4a9639db2ee304e3602ce2a5f48d', 'message': 'Squash all patches required to make gating work\n\nThis is a merge of the following patches:\n62d2525 Fixed generator type assumption error\n1339640 Allow swift_vars to not be specified for swift_hosts\n735eb68 AIO to use https to access the frozen repo\n033df65 use archive.mariadb.org for to install mariadb package\n8b9cf6e Use reliable static mirror for mariadb apt repository\nb30f9d1 Add debootstrap package to LXC package list\n5c464e1 Add swift_all inventory to swift-common play\n\nChange-Id: I630e38b35a00fe547ec3aaa68604a5902be4f83e\nCloses-Bug: #1399387\nCloses-Bug: #1406323\nCloses-Bug: #1399387\nCloses-Bug: #1402582\nCloses-Bug: #1402594\nCloses-Bug: #1409762\nCloses-Bug: #1410743\nCloses-Bug: #1411331\nCloses-Bug: #1412521\n'}, {'number': 4, 'created': '2015-01-22 12:25:50.000000000', 'files': ['rpc_deployment/playbooks/openstack/swift-account.yml', 'rpc_deployment/inventory/dynamic_inventory.py', 'rpc_deployment/playbooks/openstack/swift-common.yml', 'rpc_deployment/playbooks/openstack/swift-build-rings.yml', 'scripts/os-ansible-aio-check.sh', 'rpc_deployment/playbooks/openstack/swift-container.yml', 'rpc_deployment/roles/swift_ring_builder/templates/ring.contents.j2', 'rpc_deployment/roles/swift_storage_setup/tasks/main.yml', 'rpc_deployment/roles/lxc_common/tasks/lxc_install.yml', 'rpc_deployment/vars/repo_packages/all_common.yml', 'rpc_deployment/playbooks/openstack/swift-object.yml', 'rpc_deployment/inventory/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e01165bcc729ba151473dfe3199f913906e8d4b9', 'message': 'Squash all patches required to make gating work\n\nThis is a merge of the following patches:\n62d2525 Fixed generator type assumption error\n1339640 Allow swift_vars to not be specified for swift_hosts\n735eb68 AIO to use https to access the frozen repo\n033df65 use archive.mariadb.org for to install mariadb package\n8b9cf6e Use reliable static mirror for mariadb apt repository\nb30f9d1 Add debootstrap package to LXC package list\n5c464e1 Add swift_all inventory to swift-common play\na88bcb7 Add swift_all inventory to swift account/container/object plays\n\nChange-Id: I630e38b35a00fe547ec3aaa68604a5902be4f83e\nCloses-Bug: #1399387\nCloses-Bug: #1406323\nCloses-Bug: #1399387\nCloses-Bug: #1402582\nCloses-Bug: #1402594\nCloses-Bug: #1402617\nCloses-Bug: #1409762\nCloses-Bug: #1410743\nCloses-Bug: #1411331\nCloses-Bug: #1412521\n'}]",0,149209,e01165bcc729ba151473dfe3199f913906e8d4b9,19,5,4,6816,,,0,"Squash all patches required to make gating work

This is a merge of the following patches:
62d2525 Fixed generator type assumption error
1339640 Allow swift_vars to not be specified for swift_hosts
735eb68 AIO to use https to access the frozen repo
033df65 use archive.mariadb.org for to install mariadb package
8b9cf6e Use reliable static mirror for mariadb apt repository
b30f9d1 Add debootstrap package to LXC package list
5c464e1 Add swift_all inventory to swift-common play
a88bcb7 Add swift_all inventory to swift account/container/object plays

Change-Id: I630e38b35a00fe547ec3aaa68604a5902be4f83e
Closes-Bug: #1399387
Closes-Bug: #1406323
Closes-Bug: #1399387
Closes-Bug: #1402582
Closes-Bug: #1402594
Closes-Bug: #1402617
Closes-Bug: #1409762
Closes-Bug: #1410743
Closes-Bug: #1411331
Closes-Bug: #1412521
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/09/149209/1 && git format-patch -1 --stdout FETCH_HEAD,"['rpc_deployment/inventory/dynamic_inventory.py', 'rpc_deployment/vars/repo_packages/all_common.yml', 'rpc_deployment/inventory/group_vars/all.yml', 'scripts/os-ansible-aio-check.sh', 'rpc_deployment/roles/swift_ring_builder/templates/ring.contents.j2', 'rpc_deployment/roles/swift_storage_setup/tasks/main.yml']",6,9d60629adddc8edfe0bc0c645bc926566de2a46e,bug/1399387,"# We need swift_vars to exist for the ""swift_vars.drives is defined check"" to work - name: ""Set swift_vars if undefined"" set_fact: swift_vars: ""{}"" when: swift_vars is not defined ",,29,34
openstack%2Fec2-api~master~Ib0107ee5181fe8e2be347b385d5ce48ab4165a2e,openstack/ec2-api,master,Ib0107ee5181fe8e2be347b385d5ce48ab4165a2e,fix choosing default security group,ABANDONED,2015-01-22 13:44:06.000000000,2015-01-22 14:46:37.000000000,,"[{'_account_id': 3}, {'_account_id': 9312}, {'_account_id': 10224}]","[{'number': 1, 'created': '2015-01-22 13:44:06.000000000', 'files': ['ec2api/api/network_interface.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/d6d08f8d55dc1d83fbfc785957e04b089b3cc566', 'message': 'fix choosing default security group\n\nChange-Id: Ib0107ee5181fe8e2be347b385d5ce48ab4165a2e\n'}]",0,149260,d6d08f8d55dc1d83fbfc785957e04b089b3cc566,3,3,1,10234,,,0,"fix choosing default security group

Change-Id: Ib0107ee5181fe8e2be347b385d5ce48ab4165a2e
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/60/149260/1 && git format-patch -1 --stdout FETCH_HEAD,['ec2api/api/network_interface.py'],1,d6d08f8d55dc1d83fbfc785957e04b089b3cc566,," filter=[{'name': 'group-name', 'value': ['Default']}] for default_group in default_groups if default_group['vpcId'] == vpc_id]"," filter=[{'name': 'vpc-id', 'value': [vpc_id]}, {'name': 'group-name', 'value': ['Default']}] for default_group in default_groups]",3,3
openstack%2Fmonasca-notification~master~I213d815965761736eb3680b5e14206ba7bef7e90,openstack/monasca-notification,master,I213d815965761736eb3680b5e14206ba7bef7e90,Refactored notification engine types,MERGED,2015-01-15 21:17:41.000000000,2015-01-22 14:43:55.000000000,2015-01-22 14:43:54.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 10046}, {'_account_id': 11094}, {'_account_id': 11809}, {'_account_id': 12512}, {'_account_id': 14273}]","[{'number': 1, 'created': '2015-01-15 21:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/1c68fcc52249dd584db8b2e9dfec499677d48085', 'message': 'Refactored notification engine types\n\nAdded more test coverage for email notifications.\n\nMoved notification methods from notification_processor to new types directory.\n\ntypes/interface.py now automatically records statsd information for configured\ntypes.\n\nConfiguration for a type is now optional.  Uncofigured types are not able to\nsend notifications.  Notifications that come across for unconfigured types\ngenerate a warning.\n\nEmail notification type now explicity exits when unable to connect to an SMTP\nserver.\n\nChange-Id: I213d815965761736eb3680b5e14206ba7bef7e90\n'}, {'number': 2, 'created': '2015-01-15 22:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/4dbefc1165d8e236cd31964f4f64bc33f3f91739', 'message': 'Refactored notification engine types\n\nAdded more test coverage for email notifications.\n\nMoved notification methods from notification_processor to new types directory.\n\ntypes/interface.py now automatically records statsd information for configured\ntypes.\n\nConfiguration for a type is now optional.  Uncofigured types are not able to\nsend notifications.  Notifications that come across for unconfigured types\ngenerate a warning.\n\nEmail notification type now explicity exits when unable to connect to an SMTP\nserver.\n\nChange-Id: I213d815965761736eb3680b5e14206ba7bef7e90\n'}, {'number': 3, 'created': '2015-01-16 00:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/acf53fd9a9e71d7e7e45a8ede61c0fbc7e236e65', 'message': 'Refactored notification engine types\n\nAdded more test coverage for email notifications.\n\nMoved notification methods from notification_processor to new types directory.\n\ntypes/interface.py now automatically records statsd information for configured\ntypes.\n\nConfiguration for a type is now optional.  Uncofigured types are not able to\nsend notifications.  Notifications that come across for unconfigured types\ngenerate a warning.\n\nEmail notification type now explicity exits when unable to connect to an SMTP\nserver.\n\nChange-Id: I213d815965761736eb3680b5e14206ba7bef7e90\n'}, {'number': 4, 'created': '2015-01-16 23:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/3b70d9f3b689a580c435da890cfa5f652040b93e', 'message': 'Refactored notification engine types\n\nAdded more test coverage for email notifications.\n\nMoved notification methods from notification_processor to new types directory.\n\ntypes/interface.py now automatically records statsd information for configured\ntypes.\n\nConfiguration for a type is now optional.  Uncofigured types are not able to\nsend notifications.  Notifications that come across for unconfigured types\ngenerate a warning.\n\nEmail notification type now explicity exits when unable to connect to an SMTP\nserver.\n\nChange-Id: I213d815965761736eb3680b5e14206ba7bef7e90\n'}, {'number': 5, 'created': '2015-01-20 23:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/683e87803e990131fe954543555efd23631ac7ab', 'message': 'Refactored notification engine types\n\nAdded more test coverage for email notifications.\n\nMoved notification methods from notification_processor to new types directory.\n\ntypes/interface.py now automatically records statsd information for configured\ntypes.\n\nConfiguration for a type is now optional.  Uncofigured types are not able to\nsend notifications.  Notifications that come across for unconfigured types\ngenerate a warning.\n\nEmail notification type now explicity exits when unable to connect to an SMTP\nserver.\n\nChange-Id: I213d815965761736eb3680b5e14206ba7bef7e90\n'}, {'number': 6, 'created': '2015-01-21 17:10:11.000000000', 'files': ['monasca_notification/processors/notification_processor.py', 'tests/test_email_notification.py', 'monasca_notification/types/notifiers.py', 'tests/test_notifiers.py', 'monasca_notification/types/webhook_notifier.py', 'monasca_notification/types/email_notifier.py', 'monasca_notification/types/abstract_notifier.py', 'tests/test_webhook_notification.py', 'notification.yaml', 'monasca_notification/main.py', 'tests/test_pagerduty_notification.py', 'tests/test_notification_processor.py', 'monasca_notification/types/pagerduty_notifier.py', 'monasca_notification/types/__init__.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/ebc1ed72d639d954228a6a92d0de0239f8cc4385', 'message': 'Refactored notification engine types\n\nAdded more test coverage for email notifications.\n\nMoved notification methods from notification_processor to new types directory.\n\ntypes/interface.py now automatically records statsd information for configured\ntypes.\n\nConfiguration for a type is now optional.  Uncofigured types are not able to\nsend notifications.  Notifications that come across for unconfigured types\ngenerate a warning.\n\nEmail notification type now explicity exits when unable to connect to an SMTP\nserver.\n\nChange-Id: I213d815965761736eb3680b5e14206ba7bef7e90\n'}]",55,147664,ebc1ed72d639d954228a6a92d0de0239f8cc4385,31,7,6,14273,,,0,"Refactored notification engine types

Added more test coverage for email notifications.

Moved notification methods from notification_processor to new types directory.

types/interface.py now automatically records statsd information for configured
types.

Configuration for a type is now optional.  Uncofigured types are not able to
send notifications.  Notifications that come across for unconfigured types
generate a warning.

Email notification type now explicity exits when unable to connect to an SMTP
server.

Change-Id: I213d815965761736eb3680b5e14206ba7bef7e90
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/64/147664/4 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_notification/processors/notification_processor.py', 'tests/test_email_notification.py', 'monasca_notification/types/Email.py', 'monasca_notification/types/Pagerduty.py', 'monasca_notification/types/Webhook.py', 'tests/test_webhook_notification.py', 'monasca_notification/types/BaseNotification.py', 'monasca_notification/types/interface.py', 'notification.yaml', 'monasca_notification/main.py', 'tests/test_pagerduty_notification.py', 'tests/test_notification_processor.py', 'tests/test_interface.py', 'monasca_notification/types/__init__.py']",14,1c68fcc52249dd584db8b2e9dfec499677d48085,,,,1566,540
openstack%2Fmonasca-agent~master~I97a319d440c7b22d03829dfc50e2961fd6763f31,openstack/monasca-agent,master,I97a319d440c7b22d03829dfc50e2961fd6763f31,Clarify Libvirt documentation,MERGED,2015-01-21 22:51:34.000000000,2015-01-22 14:43:44.000000000,2015-01-22 14:41:07.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 11094}, {'_account_id': 12512}]","[{'number': 1, 'created': '2015-01-21 22:51:34.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/5e2e584c9c1e7a5554b84fa540188661178af4c5', 'message': 'Clarify Libvirt documentation\n\nThe section on the Libvirt plugin was unclear about how tenant\ndelegation needs to be set up, so hopefully this change makes\nit a bit easier to understand.\n\nChange-Id: I97a319d440c7b22d03829dfc50e2961fd6763f31\n'}]",0,149070,5e2e584c9c1e7a5554b84fa540188661178af4c5,7,4,1,12443,,,0,"Clarify Libvirt documentation

The section on the Libvirt plugin was unclear about how tenant
delegation needs to be set up, so hopefully this change makes
it a bit easier to understand.

Change-Id: I97a319d440c7b22d03829dfc50e2961fd6763f31
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/70/149070/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,5e2e584c9c1e7a5554b84fa540188661178af4c5,feature/libvirt-doc-updates,"The `monasca-setup` program will configure the Libvirt plugin if `nova-api` is running, `/etc/nova/nova.conf` exists, and `python-novaclient` is installed. In order to fetch data on hosted compute instances, the Libvirt plugin needs to be able to talk to the Nova API. It does this using credentials found in `/etc/nova/nova.conf` under `[keystone_authtoken]`, obtained when `monasca-setup` is run, and stored in `/etc/monasca/agent/conf.d/libvirt.yaml` as `admin_user`, `admin_password`, `admin_tenant_name`, and `admin_password`. These credentials are only used to build and update the [Instance Cache](#instance-cache). The Libvirt plugin uses a cache directory to persist data, which is `/dev/shm` by default. On non-Linux systems (BSD, Mac OSX), `/dev/shm` may not exist, so `cache_dir` would need to be changed accordingly, either in `monasca_setup/detection/plugins/libvirt.py` prior to running `monasca-setup`, or `/etc/monasca/agent/conf.d/libvirt.yaml` afterwards.If the owner of the VM is to receive his or her own metrics, the Agent needs to be able to submit metrics on their behalf. This is called cross-tenant metric submission. For this to work, a Keystone role called ""monitoring-delegate"" needs to be created, and the Agent's Keystone username and project (tenant) assigned to it. This username is contained as `username` in `/etc/monasca/agent/agent.conf`, and passed to `monasca-setup` as the `-u` parameter. The Agent's project name which is contained in `agent.conf` as the variable `project_name`, and passed to `monasca-setup` as the `--project-name` parameter. In the below example, the Agent's Keystone username is ""monasca-agent"" and the Agent's Keystone project name is ""mini-mon"". Example commands to add the Agent user/project to the monitoring-delegate role: Once the Agent's user and project are assigned to the `monitoring-delegate` group, the Agent can submit metrics for other tenants.","The `monasca-setup` program will configure the Libvirt plugin if `nova-api` is running, `/etc/nova/nova.conf` exists, and `python-novaclient` is installed. It uses a cache directory to persist data, which is `/dev/shm` by default. On non-Linux systems (BSD, Mac OSX), `/dev/shm` may not exist, so `cache_dir` would need to be changed accordingly, either in `monasca_setup/detection/plugins/libvirt.py` prior to running `monasca-setup`, or `/etc/monasca/agent/conf.d/libvirt.yaml` afterwards.If the owner of the VM is to receive his or her own metrics, the Agent needs to be able to submit metrics on their behalf. This is called cross-tenant metric submission. For this to work, a keystone role called ""monitoring-delegate"" needs to be created, and the monasca-agent user assigned to it.The tenant name ""mini-mon"" in the example above may differ depending on your installation (it is set by the `--project-name` parameter of `monasca-setup` and can be referenced as `project_name` in `/etc/monasca/agent/agent.conf`). Once assigned to the `monitoring-delegate` group, the Agent can submit metrics for other tenants. ",11,4
openstack%2Ffuel-main~master~I78412c01bfd4deb8ec3e05cc09906d63fced2a98,openstack/fuel-main,master,I78412c01bfd4deb8ec3e05cc09906d63fced2a98,Rework report-exporter,MERGED,2015-01-21 19:27:13.000000000,2015-01-22 14:33:59.000000000,2015-01-22 14:33:59.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8965}, {'_account_id': 8971}, {'_account_id': 9439}, {'_account_id': 9977}, {'_account_id': 10136}, {'_account_id': 11969}]","[{'number': 1, 'created': '2015-01-21 19:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/eac3bfa9dbccb7b3f53a5f65607d6845c36191e6', 'message': 'Rework report-exporter\n\nReport utility rewritten from scratch.\n\nTo publish data from one build use:\n\n  ./report.py -j <job_name> -N <build_number>\n\nTo publish data from all jobs in a view:\n\n  ./report.py --view <view>\n\nImprovements:\n\n- do not update data if it is already present in spreadsheet;\n- use records, not columns, therefore do not reconfigure the whole table for every change;\n- retry if failed (for views);\n- add debug output;\n- support changes in test groups set: if we add new test case, column\n  will be added; if we remove test case, its column will be empty;\n- support builds with no test results.\n\nChange-Id: I78412c01bfd4deb8ec3e05cc09906d63fced2a98\n'}, {'number': 2, 'created': '2015-01-22 11:24:17.000000000', 'files': ['utils/jenkins/report-exporter/jenkins.py', 'utils/jenkins/report-exporter/spreadsheet.py', 'utils/jenkins/report-exporter/tox.ini', 'utils/jenkins/report-exporter/requirements.txt', 'utils/jenkins/report-exporter/settings.py', 'utils/jenkins/report-exporter/__init__.py', 'utils/jenkins/report-exporter/__main__.py', 'utils/jenkins/report-exporter/report.py', 'utils/jenkins/report-exporter/conf.py', 'utils/jenkins/report-exporter/builds.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/09297388d6dd8ecca0446f838ee37d899cfc1d9d', 'message': 'Rework report-exporter\n\nReport utility rewritten from scratch.\n\nTo publish data from one build use:\n\n  ./report.py -j <job_name> -N <build_number>\n\nTo publish data from all jobs in a view:\n\n  ./report.py --view <view>\n\nImprovements:\n\n- do not update data if it is already present in spreadsheet;\n- use records, not columns, therefore do not reconfigure the whole table for every change;\n- retry if failed (for views);\n- add debug output;\n- support changes in test groups set: if we add new test case, column\n  will be added; if we remove test case, its column will be empty;\n- support builds with no test results.\n\nRelated-Bug: #1411622\nChange-Id: I78412c01bfd4deb8ec3e05cc09906d63fced2a98'}]",0,149028,09297388d6dd8ecca0446f838ee37d899cfc1d9d,17,9,2,9977,,,0,"Rework report-exporter

Report utility rewritten from scratch.

To publish data from one build use:

  ./report.py -j <job_name> -N <build_number>

To publish data from all jobs in a view:

  ./report.py --view <view>

Improvements:

- do not update data if it is already present in spreadsheet;
- use records, not columns, therefore do not reconfigure the whole table for every change;
- retry if failed (for views);
- add debug output;
- support changes in test groups set: if we add new test case, column
  will be added; if we remove test case, its column will be empty;
- support builds with no test results.

Related-Bug: #1411622
Change-Id: I78412c01bfd4deb8ec3e05cc09906d63fced2a98",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/28/149028/1 && git format-patch -1 --stdout FETCH_HEAD,"['utils/jenkins/report-exporter/jenkins.py', 'utils/jenkins/report-exporter/spreadsheet.py', 'utils/jenkins/report-exporter/tox.ini', 'utils/jenkins/report-exporter/requirements.txt', 'utils/jenkins/report-exporter/settings.py', 'utils/jenkins/report-exporter/__init__.py', 'utils/jenkins/report-exporter/__main__.py', 'utils/jenkins/report-exporter/report.py', 'utils/jenkins/report-exporter/conf.py', 'utils/jenkins/report-exporter/builds.py']",10,eac3bfa9dbccb7b3f53a5f65607d6845c36191e6,reporter,"# Copyright 2015 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from conf import JENKINS from jenkins import Jenkins import json import logging import urllib2 logger = logging.getLogger(__package__) J = Jenkins(JENKINS[""url""]) def get_test_data(url): test_url = ""/"".join([url.rstrip(""/""), 'testReport', 'api/json']) logger.debug(""Request test data from {}"".format(test_url)) req = urllib2.Request(test_url) opener = urllib2.build_opener(urllib2.HTTPHandler) s = opener.open(req).read() return json.loads(s) def get_jobs_for_view(view): """"""Return list of jobs from specified view """""" view_url = ""/"".join([JENKINS[""url""], 'view', view, 'api/json']) logger.debug(""Request view data from {}"".format(view_url)) req = urllib2.Request(view_url) opener = urllib2.build_opener(urllib2.HTTPHandler) s = opener.open(req).read() view_data = json.loads(s) jobs = [job[""name""] for job in view_data[""jobs""]] return jobs class Build(): def __init__(self, name, number): """"""Get build info via Jenkins API, get test info via direct HTTP request. If number is 'latest', get latest completed build. """""" self.name = name if number == 'latest': job_info = J.get_job_info(self.name, depth=1) self.number = job_info[""lastCompletedBuild""][""number""] else: self.number = number self.build_data = J.get_build_info(self.name, self.number, depth=1) self.url = self.build_data[""url""] def test_data(self): return get_test_data(self.url) def __str__(self): string = ""\n"".join([ ""{0}: {1}"".format(*item) for item in self.build_record() ]) return string def build_record(self): """"""Return list of pairs. We cannot use dictionary, because columns are ordered. """""" data = [ ('number', str(self.number)), ('id', self.build_data[""id""]), ('description', self.build_data[""description""]), ('url', self.build_data[""url""]), ] test_data = self.test_data() for suite in test_data['suites']: for case in suite['cases']: column_id = case['className'].lower().replace(""_"", ""-"") data.append((column_id, case['status'].lower())) return data ",,319,251
openstack%2Fsahara~master~I76c64940ef86a86b7eab88c724f96fd49c674972,openstack/sahara,master,I76c64940ef86a86b7eab88c724f96fd49c674972,Add refactor to Vanilla 1.2.1,MERGED,2015-01-15 10:31:34.000000000,2015-01-22 14:30:14.000000000,2015-01-22 14:30:13.000000000,"[{'_account_id': 3}, {'_account_id': 7125}, {'_account_id': 7132}, {'_account_id': 7213}, {'_account_id': 7710}, {'_account_id': 8411}, {'_account_id': 10670}, {'_account_id': 12038}, {'_account_id': 12039}]","[{'number': 1, 'created': '2015-01-15 10:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/fc23752fa69f7735078669110c18fa1391eecdac', 'message': 'Add refactor to Vanilla 1.2.1\n\nWe should refactor Vanilla plugin in such way to allow simple\napplying event log feature\n\nChange-Id: I76c64940ef86a86b7eab88c724f96fd49c674972\n'}, {'number': 2, 'created': '2015-01-15 20:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/94018e661a04d24419135c3f6da282b75f4122b1', 'message': 'Add refactor to Vanilla 1.2.1\n\nWe should refactor Vanilla plugin in such way to allow simple\napplying event log feature\n\nChange-Id: I76c64940ef86a86b7eab88c724f96fd49c674972\nCloses-bug: #1411393'}, {'number': 3, 'created': '2015-01-20 10:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/93f87adb22e4a77c7ae7797f3055d0d7dfa06370', 'message': 'Add refactor to Vanilla 1.2.1\n\nWe should refactor Vanilla plugin in such way to allow simple\napplying event log feature\n\nChange-Id: I76c64940ef86a86b7eab88c724f96fd49c674972\nCloses-bug: #1411393\n'}, {'number': 4, 'created': '2015-01-20 11:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/0781effe741fd430f94583cfcce37bdabe5ce1e1', 'message': 'Add refactor to Vanilla 1.2.1\n\nWe should refactor Vanilla plugin in such way to allow simple\napplying event log feature\n\nChange-Id: I76c64940ef86a86b7eab88c724f96fd49c674972\nCloses-bug: #1411393\n'}, {'number': 5, 'created': '2015-01-22 07:30:34.000000000', 'files': ['sahara/plugins/vanilla/v1_2_1/versionhandler.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/f4138a30c972fce334e5e2a0fc78570b0ddb288b', 'message': 'Add refactor to Vanilla 1.2.1\n\nWe should refactor Vanilla plugin in such way to allow simple\napplying event log feature\n\nChange-Id: I76c64940ef86a86b7eab88c724f96fd49c674972\nCloses-bug: #1411393\n'}]",9,147448,f4138a30c972fce334e5e2a0fc78570b0ddb288b,36,9,5,12038,,,0,"Add refactor to Vanilla 1.2.1

We should refactor Vanilla plugin in such way to allow simple
applying event log feature

Change-Id: I76c64940ef86a86b7eab88c724f96fd49c674972
Closes-bug: #1411393
",git fetch https://review.opendev.org/openstack/sahara refs/changes/48/147448/4 && git format-patch -1 --stdout FETCH_HEAD,['sahara/plugins/vanilla/v1_2_1/versionhandler.py'],1,fc23752fa69f7735078669110c18fa1391eecdac,bug/1411393," def _start_namenode(self, nn_instance): def _start_secondarynamenode(self, snn): run.start_processes(remote.get_remote(snn), ""secondarynamenode"") def _start_secondarynamenodes(self, cluster): if vu.get_secondarynamenodes(cluster) == 0: return for snn in vu.get_secondarynamenodes(cluster): self._start_secondarynamenode(snn) def _start_jobtracker(self, jt_instance): run.start_processes(remote.get_remote(jt_instance), ""jobtracker"") def _start_oozie(self, cluster, oozie): nn_instance = vu.get_namenode(cluster) with remote.get_remote(oozie) as r: if c_helper.is_mysql_enable(cluster): run.mysql_start(r, oozie) run.oozie_create_db(r) run.oozie_share_lib(r, nn_instance.hostname()) run.start_oozie(r) LOG.info(_LI(""Oozie service at '%s' has been started""), nn_instance.hostname()) def _start_hiveserver(self, cluster, hive_server): oozie = vu.get_oozie(cluster) with remote.get_remote(hive_server) as r: run.hive_create_warehouse_dir(r) run.hive_copy_shared_conf( r, edp.get_hive_shared_conf_path('hadoop')) if c_helper.is_mysql_enable(cluster): if not oozie or hive_server.hostname() != oozie.hostname(): run.mysql_start(r, hive_server) run.hive_create_db(r, cluster.extra['hive_mysql_passwd']) run.hive_metastore_start(r) LOG.info(_LI(""Hive Metastore server at %s has been "" ""started""), hive_server.hostname()) def start_cluster(self, cluster): nn_instance = vu.get_namenode(cluster) self._start_namenode(nn_instance) self._start_secondarynamenodes(cluster) self._start_jobtracker(jt_instance) self._start_oozie(cluster, oozie) self._start_hiveserver(cluster, hive_server)"," def start_cluster(self, cluster): nn_instance = vu.get_namenode(cluster) for snn in vu.get_secondarynamenodes(cluster): run.start_processes(remote.get_remote(snn), ""secondarynamenode"") run.start_processes(remote.get_remote(jt_instance), ""jobtracker"") with remote.get_remote(oozie) as r: if c_helper.is_mysql_enable(cluster): run.mysql_start(r, oozie) run.oozie_create_db(r) run.oozie_share_lib(r, nn_instance.hostname()) run.start_oozie(r) LOG.info(_LI(""Oozie service at '%s' has been started""), nn_instance.hostname()) with remote.get_remote(hive_server) as r: run.hive_create_warehouse_dir(r) run.hive_copy_shared_conf( r, edp.get_hive_shared_conf_path('hadoop')) if c_helper.is_mysql_enable(cluster): if not oozie or hive_server.hostname() != oozie.hostname(): run.mysql_start(r, hive_server) run.hive_create_db(r, cluster.extra['hive_mysql_passwd']) run.hive_metastore_start(r) LOG.info(_LI(""Hive Metastore server at %s has been "" ""started""), hive_server.hostname())",50,25
openstack%2Fmagnum~master~I84067db21cb087c2694145a5a733d867422b73a5,openstack/magnum,master,I84067db21cb087c2694145a5a733d867422b73a5,Rest back objects for test_objects,MERGED,2015-01-22 06:04:04.000000000,2015-01-22 14:24:48.000000000,2015-01-22 14:24:47.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 7049}, {'_account_id': 12385}]","[{'number': 1, 'created': '2015-01-22 06:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c0499dcc20b831d19a258e5e299b66c4880386db', 'message': ""Rest back objects for test_objects\n\nWhen test_objects run, it will load some dummy objects such as Foo\netc, the problem is that Foo did not have '_type' field, so the\nunit test will be failed.\n\nThis patch was resetting objects for all test cases in test_objects.\n\nCloses-Bug: #1413144\nImplements part of bp increase-test-coverage\n\nChange-Id: I84067db21cb087c2694145a5a733d867422b73a5\n""}, {'number': 2, 'created': '2015-01-22 06:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/05a49a0cfc1383cba424664800fb3fbdad8a8b86', 'message': ""Rest back objects for test_objects\n\nWhen test_objects run, it will load some dummy objects such as Foo\netc, the problem is that Foo did not have '_type' field, so the\nunit test will be failed.\n\nThis patch was resetting objects for all test cases in test_objects.\n\nCloses-Bug: #1413144\nImplements part of bp increase-test-coverage\n\nChange-Id: I84067db21cb087c2694145a5a733d867422b73a5\n""}, {'number': 3, 'created': '2015-01-22 13:27:19.000000000', 'files': ['magnum/tests/base.py', 'magnum/tests/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/18b098043a8ea444bf569bc626d290d78c9db40e', 'message': ""Rest back objects for test_objects\n\nWhen test_objects run, it will load some dummy objects such as Foo\netc, the problem is that Foo did not have '_type' field, so the\nunit test will be failed.\n\nThis patch was resetting objects for all test cases in test_objects.\n\nCloses-Bug: #1413144\nImplements part of bp increase-test-coverage\n\nChange-Id: I84067db21cb087c2694145a5a733d867422b73a5\n""}]",0,149156,18b098043a8ea444bf569bc626d290d78c9db40e,11,4,3,7494,,,0,"Rest back objects for test_objects

When test_objects run, it will load some dummy objects such as Foo
etc, the problem is that Foo did not have '_type' field, so the
unit test will be failed.

This patch was resetting objects for all test cases in test_objects.

Closes-Bug: #1413144
Implements part of bp increase-test-coverage

Change-Id: I84067db21cb087c2694145a5a733d867422b73a5
",git fetch https://review.opendev.org/openstack/magnum refs/changes/56/149156/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/base.py', 'magnum/tests/objects/test_objects.py']",2,c0499dcc20b831d19a258e5e299b66c4880386db,bp/multi-tenant," 'magnum_object.version': '1.0', 'magnum_object.version': '1.0', self.assertIn(2, objlist) def test_list_changes(self): class Foo(base.ObjectListBase, base.MagnumObject): pass class Bar(base.MagnumObject): fields = {'foo': str} obj = Foo(self.context, objects=[]) self.assertEqual(set(['objects']), obj.obj_what_changed()) obj.objects.append(Bar(self.context, foo='test')) self.assertEqual(set(['objects']), obj.obj_what_changed()) obj.obj_reset_changes() # This should still look dirty because the child is dirty self.assertEqual(set(['objects']), obj.obj_what_changed()) obj.objects[0].obj_reset_changes() # This should now look clean because the child is clean self.assertEqual(set(), obj.obj_what_changed()) "," 'magnum_object.version': '1.5', 'magnum_object.version': '1.5',",30,2
openstack%2Foslo.vmware~master~Iac624170c07c2b7051763e40f41082cfd16768e6,openstack/oslo.vmware,master,Iac624170c07c2b7051763e40f41082cfd16768e6,Imported Translations from Transifex,MERGED,2015-01-22 06:12:17.000000000,2015-01-22 14:21:02.000000000,2015-01-22 14:21:02.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 9008}, {'_account_id': 9171}]","[{'number': 1, 'created': '2015-01-22 06:12:17.000000000', 'files': ['oslo.vmware/locale/oslo.vmware-log-info.pot', 'oslo.vmware/locale/fr/LC_MESSAGES/oslo.vmware-log-warning.po', 'oslo.vmware/locale/fr/LC_MESSAGES/oslo.vmware-log-info.po', 'oslo.vmware/locale/oslo.vmware-log-warning.pot'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/f1dcd53f2dd3bba3d8d60e977a5432b80ba3808a', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Iac624170c07c2b7051763e40f41082cfd16768e6\n'}]",0,149160,f1dcd53f2dd3bba3d8d60e977a5432b80ba3808a,8,4,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: Iac624170c07c2b7051763e40f41082cfd16768e6
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/60/149160/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo.vmware/locale/fr/LC_MESSAGES/oslo.vmware-log-warning.po', 'oslo.vmware/locale/oslo.vmware-log-info.pot', 'oslo.vmware/locale/fr/LC_MESSAGES/oslo.vmware-log-info.po', 'oslo.vmware/locale/oslo.vmware-log-warning.pot']",4,f1dcd53f2dd3bba3d8d60e977a5432b80ba3808a,transifex/translations,"# Copyright (C) 2015 ORGANIZATION# FIRST AUTHOR <EMAIL@ADDRESS>, 2015.""Project-Id-Version: oslo.vmware 0.8.0.post20\n""""POT-Creation-Date: 2015-01-22 06:12+0000\n""#: oslo_vmware/api.py:98#: oslo_vmware/api.py:333#: oslo_vmware/api.py:358#: oslo_vmware/api.py:486#: oslo_vmware/pbm.py:196#: oslo_vmware/rw_handles.py:148#: oslo_vmware/rw_handles.py:289#: oslo_vmware/rw_handles.py:449 oslo_vmware/rw_handles.py:584#: oslo_vmware/common/loopingcall.py:82","# Copyright (C) 2014 ORGANIZATION# FIRST AUTHOR <EMAIL@ADDRESS>, 2014.""Project-Id-Version: oslo.vmware 0.4.0.15.g6803b57\n""""POT-Creation-Date: 2014-07-18 06:08+0000\n""#: oslo/vmware/api.py:99#: oslo/vmware/api.py:240 #, python-format msgid ""Error occurred while terminating the previous session with ID = %s."" msgstr """" #: oslo/vmware/api.py:334#: oslo/vmware/api.py:359#: oslo/vmware/api.py:491#: oslo/vmware/pbm.py:191#: oslo/vmware/rw_handles.py:65#: oslo/vmware/rw_handles.py:241#: oslo/vmware/rw_handles.py:447 oslo/vmware/rw_handles.py:609#: oslo/vmware/common/loopingcall.py:82",40,62
openstack%2Fpython-magnumclient~master~I8a4a5158aa41ecbe708a7b8c35af764d1496640d,openstack/python-magnumclient,master,I8a4a5158aa41ecbe708a7b8c35af764d1496640d,Add help for magnum object show,MERGED,2015-01-22 02:00:28.000000000,2015-01-22 14:20:46.000000000,2015-01-22 14:20:46.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 7049}, {'_account_id': 12385}]","[{'number': 1, 'created': '2015-01-22 02:00:28.000000000', 'files': ['magnumclient/v1/shell.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/e606296cd8cd654557755f0ec8d1d6ad428450fe', 'message': 'Add help for magnum object show\n\nChange-Id: I8a4a5158aa41ecbe708a7b8c35af764d1496640d\nCloses-Bug: #1413438\n'}]",0,149116,e606296cd8cd654557755f0ec8d1d6ad428450fe,8,4,1,7494,,,0,"Add help for magnum object show

Change-Id: I8a4a5158aa41ecbe708a7b8c35af764d1496640d
Closes-Bug: #1413438
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/16/149116/1 && git format-patch -1 --stdout FETCH_HEAD,['magnumclient/v1/shell.py'],1,e606296cd8cd654557755f0ec8d1d6ad428450fe,master," """"""Show details about the given bay."""""" """"""Show details about the given baymodel."""""" """"""Show details about the given pod."""""" """"""Show details about the given replication controller."""""" """"""Show details about the given service.""""""",,5,0
openstack%2Ffuel-web~master~I89cab75dde529d7c0d663e3366d913cc0fd631c9,openstack/fuel-web,master,I89cab75dde529d7c0d663e3366d913cc0fd631c9,Move JSCS and JSHint configs to separate files,MERGED,2015-01-22 11:38:46.000000000,2015-01-22 14:15:39.000000000,2015-01-22 14:15:38.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 9730}, {'_account_id': 13445}, {'_account_id': 13516}]","[{'number': 1, 'created': '2015-01-22 11:38:46.000000000', 'files': ['nailgun/Gruntfile.js', 'nailgun/.jscsrc', 'nailgun/package.json', 'nailgun/npm-shrinkwrap.json', 'nailgun/.jshintrc', 'nailgun/static/js/models.js'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b6288027758531e2cca26ae257c2799f59d0b64c', 'message': 'Move JSCS and JSHint configs to separate files\n\nSo they now can be reused for checks in IDE.\n\nAlso bump JSCS to 1.10.\n\nChange-Id: I89cab75dde529d7c0d663e3366d913cc0fd631c9\n'}]",2,149219,b6288027758531e2cca26ae257c2799f59d0b64c,12,8,1,8735,,,0,"Move JSCS and JSHint configs to separate files

So they now can be reused for checks in IDE.

Also bump JSCS to 1.10.

Change-Id: I89cab75dde529d7c0d663e3366d913cc0fd631c9
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/19/149219/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/Gruntfile.js', 'nailgun/.jscsrc', 'nailgun/package.json', 'nailgun/npm-shrinkwrap.json', 'nailgun/.jshintrc', 'nailgun/static/js/models.js']",6,b6288027758531e2cca26ae257c2799f59d0b64c,separate-linters-configs, idRangeErrors[1] = i18n('cluster_page.network_tab.validation.invalid_id_end');, idRangeErrors[1 ] = i18n('cluster_page.network_tab.validation.invalid_id_end');,260,218
openstack%2Ffuel-ostf~master~I5e39a64590ee52975f8909abd299c51315a1b076,openstack/fuel-ostf,master,I5e39a64590ee52975f8909abd299c51315a1b076,Removed hardcoded path to migrations directory from alembic.ini,MERGED,2015-01-22 13:41:35.000000000,2015-01-22 13:55:26.000000000,2015-01-22 13:54:44.000000000,"[{'_account_id': 3}, {'_account_id': 6849}, {'_account_id': 8392}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}, {'_account_id': 12200}]","[{'number': 1, 'created': '2015-01-22 13:41:35.000000000', 'files': ['fuel_plugin/ostf_adapter/storage/alembic.ini'], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/95054878eff472eb6a0d9d185ce65e3105dde632', 'message': ""Removed hardcoded path to migrations directory from alembic.ini\n\nNow for path construction to directory with migrations scripts special\nvariable %(here)s is used which allows to manually execute alembic\ncommands from any position in project's source tree.\n\nChange-Id: I5e39a64590ee52975f8909abd299c51315a1b076\nCloses-Bug: 1413335\n""}]",0,149258,95054878eff472eb6a0d9d185ce65e3105dde632,13,8,1,8931,,,0,"Removed hardcoded path to migrations directory from alembic.ini

Now for path construction to directory with migrations scripts special
variable %(here)s is used which allows to manually execute alembic
commands from any position in project's source tree.

Change-Id: I5e39a64590ee52975f8909abd299c51315a1b076
Closes-Bug: 1413335
",git fetch https://review.opendev.org/openstack/fuel-ostf refs/changes/58/149258/1 && git format-patch -1 --stdout FETCH_HEAD,['fuel_plugin/ostf_adapter/storage/alembic.ini'],1,95054878eff472eb6a0d9d185ce65e3105dde632,bug/1413335,script_location = %(here)s/migrations,script_location = fuel_plugin/ostf_adapter/storage/migrations,1,1
openstack%2Ffuel-library~master~I3a8072ab4470e66ab1dac0d67f0874d61003697c,openstack/fuel-library,master,I3a8072ab4470e66ab1dac0d67f0874d61003697c,Add retries to task sync exec,MERGED,2015-01-21 14:12:55.000000000,2015-01-22 13:45:56.000000000,2015-01-22 13:45:55.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 11090}]","[{'number': 1, 'created': '2015-01-21 14:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/165725a70d3ba3f8de5b5bf1e66dbd00d8fccbfc', 'message': ""Fix sync tasks dependecy\n\nSync tasks exec requires docker containers to be up and running.\nSo we call it after 'docker' class which builds containers and\nwrap it into retry cycle just in case\n\nCloses-bug: #1413213\nChange-Id: I3a8072ab4470e66ab1dac0d67f0874d61003697c\n""}, {'number': 2, 'created': '2015-01-21 14:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/eca04ecd509eaeaaad3443c142af345338001e77', 'message': 'Add retries to task sync exec\n\nWrap sync tasks exec into retry cycle just in case.\n\nCloses-bug: #1413213\nChange-Id: I3a8072ab4470e66ab1dac0d67f0874d61003697c\n'}, {'number': 3, 'created': '2015-01-21 14:26:27.000000000', 'files': ['deployment/puppet/nailgun/examples/host-only.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/ee503348967a7d215cd00c4a2b8cc4f163717098', 'message': 'Add retries to task sync exec\n\nWrap sync tasks exec into retry cycle just in case (120 seconds of\nretries totally).\n\nCloses-bug: #1413213\nChange-Id: I3a8072ab4470e66ab1dac0d67f0874d61003697c\n'}]",0,148933,ee503348967a7d215cd00c4a2b8cc4f163717098,23,6,3,9387,,,0,"Add retries to task sync exec

Wrap sync tasks exec into retry cycle just in case (120 seconds of
retries totally).

Closes-bug: #1413213
Change-Id: I3a8072ab4470e66ab1dac0d67f0874d61003697c
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/33/148933/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/nailgun/examples/host-only.pp'],1,165725a70d3ba3f8de5b5bf1e66dbd00d8fccbfc,bug/1413213," command => 'fuel rel --sync-deployment-tasks --dir /etc/puppet/', path => '/usr/bin', tries => 60, try_sleep => 10, require => Class['docker']"," command => 'fuel rel --sync-deployment-tasks --dir /etc/puppet/', path => '/usr/bin', require => Class['nailgun::supervisor']",5,3
openstack%2Ffuel-ostf~master~I0089c72fd45416a56ec43e431a52e3f818753e6e,openstack/fuel-ostf,master,I0089c72fd45416a56ec43e431a52e3f818753e6e,Fixing import in env.py script,MERGED,2015-01-22 02:39:07.000000000,2015-01-22 13:31:53.000000000,2015-01-22 13:31:53.000000000,"[{'_account_id': 3}, {'_account_id': 8392}, {'_account_id': 8907}, {'_account_id': 8931}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 12200}]","[{'number': 1, 'created': '2015-01-22 02:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/0b8cffea376bf6ab89c3bb1124a63af77d36ae7d', 'message': 'Fix invalid import\n\nInvalid import breaks migration scripts from running.\nCloses-Bug: 1413328\n\nChange-Id: I0089c72fd45416a56ec43e431a52e3f818753e6e\n'}, {'number': 2, 'created': '2015-01-22 13:27:20.000000000', 'files': ['fuel_plugin/ostf_adapter/storage/migrations/env.py'], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/e0643599aa90bc6843fe2387f0cfa23a57044ae2', 'message': 'Fixing import in env.py script\n\nImport strategy for logging package changed for env.py script.\nCloses-Bug: 1413328\n\nChange-Id: I0089c72fd45416a56ec43e431a52e3f818753e6e\n'}]",1,149124,e0643599aa90bc6843fe2387f0cfa23a57044ae2,18,7,2,6781,,,0,"Fixing import in env.py script

Import strategy for logging package changed for env.py script.
Closes-Bug: 1413328

Change-Id: I0089c72fd45416a56ec43e431a52e3f818753e6e
",git fetch https://review.opendev.org/openstack/fuel-ostf refs/changes/24/149124/2 && git format-patch -1 --stdout FETCH_HEAD,['fuel_plugin/ostf_adapter/storage/migrations/env.py'],1,0b8cffea376bf6ab89c3bb1124a63af77d36ae7d,bug/1413328,import logging.config,import logging,1,1
openstack%2Fgovernance~master~Ic34ced1b3800b1792aa99b32e939b632818ee7e8,openstack/governance,master,Ic34ced1b3800b1792aa99b32e939b632818ee7e8,Minimal changes to encourage a big tent,ABANDONED,2014-10-28 13:06:37.000000000,2015-01-22 13:30:06.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 308}, {'_account_id': 964}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 4257}]","[{'number': 1, 'created': '2014-10-28 13:06:37.000000000', 'files': ['reference/index.rst', 'reference/incubation-integration-requirements.rst', 'reference/new-team-requirements.rst', 'reference/official-projects.rst', 'reference/charter.rst', 'reference/new-programs-requirements.rst', 'doc/source/conf.py', 'reference/project-testing-policies.rst', 'reference/teams.yaml', 'reference/project-release-schedules.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/4f171e41e018daeef16683224fd1b9b3c8e5afb8', 'message': 'Minimal changes to encourage a big tent\n\nThis changeset is an alternative to\nI308316932801689b8cab63555907b0752779dd63 and is meant to reflect a\nsmaller set of changes that would encourage creating new projects and\nteams without discarding the incubation process entirely. Most of the\ndiscussion of changes to gate configuration is left out, since I believe\nwe can make those changes regardless of any other governance changes we\nmake.\n\nChange-Id: Ic34ced1b3800b1792aa99b32e939b632818ee7e8\n'}]",40,131422,4f171e41e018daeef16683224fd1b9b3c8e5afb8,11,7,1,2472,,,0,"Minimal changes to encourage a big tent

This changeset is an alternative to
I308316932801689b8cab63555907b0752779dd63 and is meant to reflect a
smaller set of changes that would encourage creating new projects and
teams without discarding the incubation process entirely. Most of the
discussion of changes to gate configuration is left out, since I believe
we can make those changes regardless of any other governance changes we
make.

Change-Id: Ic34ced1b3800b1792aa99b32e939b632818ee7e8
",git fetch https://review.opendev.org/openstack/governance refs/changes/22/131422/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/index.rst', 'reference/incubation-integration-requirements.rst', 'reference/new-team-requirements.rst', 'reference/official-projects.rst', 'reference/charter.rst', 'reference/new-programs-requirements.rst', 'doc/source/conf.py', 'reference/project-testing-policies.rst', 'reference/teams.yaml', 'reference/project-release-schedules.rst']",10,4f171e41e018daeef16683224fd1b9b3c8e5afb8,minimal-big-tent,"=========================== Project Release Schedules =========================== .. based on http://lists.openstack.org/pipermail/openstack-dev/2014-September/046504.html .. and http://paste.ubuntu.com/8533379/ OpenStack projects should follow one of these release schedules. All members of a Deployment Co-dependent Project Group should follow the same release schedule. Standard Release Cycle ====================== The Standard Release Cycle is based on a roughly six month long development cycle, starting at one summit and ending around the time of the next. This cycle coincides with our elections, summit planning, and many other project activities. A typical cycle may include several development milestone dates, including a feature freeze and quiet period for preparing release candidates. The details of each release cycle are set and published by the Release Management team before the cycle begins. Any project may decide to follow the Standard Release Cycle. .. _coordinated-release-cycle: Coordinated Release Cycle ========================= The Coordinated Release Cycle is a Standard Release Cycle, but directly coordinated by the Release Management Team. The team ensures that all the projects participating in the coordinated release cycle release together, on time. This involves the respect of a number of strict deadlines and freezes so that we can meet the goal. Projects may optionally request to participate in the Coordinated Release Cycle, and the Release Cycle Management team may accept to actively manage them or not. Compatible Release Cycle ======================== Some projects do not want to exactly follow the same milestones as the Standard Release Cycle, but still want to try to make a release at the end of the Standard Release Cycle. That is called a ""Compatible Release Cycle"". Projects which follow a Compatible Release Cycle may not apply for the Coordinated Release Cycle. The Release Management team may propose to actively manage them if there are strong dependencies with the set of projects they already manage (think: Oslo libraries). Free Release Cycle ================== Some projects just want to release when it makes the most sense, without any of the time-based constraints of the Standard Release Cycle. This is called a ""Free Release Cycle"". Projects which follow a Free Release Cycle obviously can't apply for the Coordinated Release Cycle. Which for whom ============== Server projects are encouraged to follow the Standard Release Cycle, in order to benefit from the alignment and marketing around it. If they can't, they should try to follow a Compatible Release Cycle. Oslo libraries need to release as-needed, but still want to push a release at the end of the development cycle. It is recommended that they follow a Compatible Release Cycle. .. Suggestion 10: End user tools should adopt a rolling release model Teams working on projects intended to interact with OpenStack services, such as client libraries and user interfaces, are encouraged to adopt a Free Release Cycle. Releasing a new version of a project when the code is stable gives end users immediate access to new features and bug fixes, which makes using OpenStack deployments easier. ",,269,111
openstack%2Fgovernance~master~I70b6a66ed916d09df5a934d64056435be66f8e03,openstack/governance,master,I70b6a66ed916d09df5a934d64056435be66f8e03,Link to programs from integrated release list,ABANDONED,2014-10-27 18:33:58.000000000,2015-01-22 13:29:49.000000000,,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2750}, {'_account_id': 2889}]","[{'number': 1, 'created': '2014-10-27 18:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/8817c614febd3bd03d733281b168468957277d10', 'message': 'Link to programs from integrated release list\n\nChange-Id: I70b6a66ed916d09df5a934d64056435be66f8e03\n'}, {'number': 2, 'created': '2014-10-27 18:37:15.000000000', 'files': ['reference/integrated-release.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/11dec0f398740370985719be544451d9e4672a84', 'message': 'Link to programs from integrated release list\n\nChange-Id: I70b6a66ed916d09df5a934d64056435be66f8e03\n'}]",0,131240,11dec0f398740370985719be544451d9e4672a84,8,4,2,2472,,,0,"Link to programs from integrated release list

Change-Id: I70b6a66ed916d09df5a934d64056435be66f8e03
",git fetch https://review.opendev.org/openstack/governance refs/changes/40/131240/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/integrated-release.rst'],1,8817c614febd3bd03d733281b168468957277d10,big-tent,- :ref:`project-nova`: :repo:`openstack/nova` - :ref:`project-glance`: :repo:`openstack/glance` - :ref:`project-keystone`: :repo:`openstack/keystone` - :ref:`project-neutron`: :repo:`openstack/neutron`- :ref:`project-nova`: :repo:`openstack/nova` - :ref:`project-glance`: :repo:`openstack/glance` - :ref:`project-keystone`: :repo:`openstack/keystone` - :ref:`project-neutron`: :repo:`openstack/neutron`,- ``openstack/nova`` - ``openstack/glance`` - ``openstack/keystone`` - ``openstack/neutron``- ``openstack/nova`` - ``openstack/glance`` - ``openstack/keystone`` - ``openstack/neutron``,8,8
openstack%2Fgovernance~master~I308316932801689b8cab63555907b0752779dd63,openstack/governance,master,I308316932801689b8cab63555907b0752779dd63,"""Big Tent"" policy changes",ABANDONED,2014-10-27 17:59:31.000000000,2015-01-22 13:29:03.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 308}, {'_account_id': 964}, {'_account_id': 1105}, {'_account_id': 1247}, {'_account_id': 2243}, {'_account_id': 2271}, {'_account_id': 2284}, {'_account_id': 2472}, {'_account_id': 2889}, {'_account_id': 4257}, {'_account_id': 4393}, {'_account_id': 6547}, {'_account_id': 11564}]","[{'number': 1, 'created': '2014-10-27 17:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/59f7d33d977de4f021c049dee842029cc2bb293f', 'message': '""Big Tent"" policy changes\n\n(Rebase and update the policy changes from the big-tent series starting\nwith I67d3b91cc817b82b73ff7180934a9850827f34a5 into a smaller set of\npatches.)\n\nRemove the use of the term ""program"" from the TC charter, replacing it\nwith ""project team"", which has no connotation of a ""theme"" as program\ndoes.\n\nConvert the document describing the requirements that must be met before\nadding a new program to reflect the change from programs to project\nteams.\n\nUpdate project testing policies based on a combination of the QA\nrequirements from the incubation and integration policies and suggestions\n1, 2, 3, 4, and 6 from Monty\'s blog post [1].\n\nAdd some descriptions of possible release schedules supported by the\nRelease Cycle Management team, based on Thierry\'s post to the\nopenstack-dev mailing list [2].\n\nDescribe ""official OpenStack project teams"" and the benefits of\nbecoming one.\n\nRemove the incubation and integration process and policies as a separate\nfile, replacing it with a single list of policies that integrated projects\nare expected to follow.\n\nProvide an explicit description of the new Integrated Release, based on\nco-dependent gating and trust rules.\n\n[1] http://inaugust.com/post/108\n[2] http://lists.openstack.org/pipermail/openstack-dev/2014-September/046504.html\n\nChange-Id: I308316932801689b8cab63555907b0752779dd63\n'}, {'number': 2, 'created': '2014-10-27 18:33:58.000000000', 'files': ['reference/integrated-release.rst', 'reference/index.rst', 'reference/incubation-integration-requirements.rst', 'reference/new-team-requirements.rst', 'reference/official-projects.rst', 'reference/charter.rst', 'reference/new-programs-requirements.rst', 'doc/source/conf.py', 'reference/project-testing-policies.rst', 'reference/teams.yaml', 'reference/project-release-schedules.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/34e9ff9b7882675d3038092688669a061500a485', 'message': '""Big Tent"" policy changes\n\n(Rebase and update the policy changes from the big-tent series starting\nwith I67d3b91cc817b82b73ff7180934a9850827f34a5 into a smaller set of\npatches.)\n\nRemove the use of the term ""program"" from the TC charter, replacing it\nwith ""project team"", which has no connotation of a ""theme"" as program\ndoes.\n\nConvert the document describing the requirements that must be met before\nadding a new program to reflect the change from programs to project\nteams.\n\nUpdate project testing policies based on a combination of the QA\nrequirements from the incubation and integration policies and suggestions\n1, 2, 3, 4, and 6 from Monty\'s blog post [1].\n\nAdd some descriptions of possible release schedules supported by the\nRelease Cycle Management team, based on Thierry\'s post to the\nopenstack-dev mailing list [2].\n\nDescribe ""official OpenStack project teams"" and the benefits of\nbecoming one.\n\nRemove the incubation and integration process and policies as a separate\nfile, replacing it with a single list of policies that integrated projects\nare expected to follow.\n\nProvide an explicit description of the new Integrated Release, based on\nco-dependent gating and trust rules.\n\n[1] http://inaugust.com/post/108\n[2] http://lists.openstack.org/pipermail/openstack-dev/2014-September/046504.html\n\nChange-Id: I308316932801689b8cab63555907b0752779dd63\n'}]",30,131227,34e9ff9b7882675d3038092688669a061500a485,32,15,2,2472,,,0,"""Big Tent"" policy changes

(Rebase and update the policy changes from the big-tent series starting
with I67d3b91cc817b82b73ff7180934a9850827f34a5 into a smaller set of
patches.)

Remove the use of the term ""program"" from the TC charter, replacing it
with ""project team"", which has no connotation of a ""theme"" as program
does.

Convert the document describing the requirements that must be met before
adding a new program to reflect the change from programs to project
teams.

Update project testing policies based on a combination of the QA
requirements from the incubation and integration policies and suggestions
1, 2, 3, 4, and 6 from Monty's blog post [1].

Add some descriptions of possible release schedules supported by the
Release Cycle Management team, based on Thierry's post to the
openstack-dev mailing list [2].

Describe ""official OpenStack project teams"" and the benefits of
becoming one.

Remove the incubation and integration process and policies as a separate
file, replacing it with a single list of policies that integrated projects
are expected to follow.

Provide an explicit description of the new Integrated Release, based on
co-dependent gating and trust rules.

[1] http://inaugust.com/post/108
[2] http://lists.openstack.org/pipermail/openstack-dev/2014-September/046504.html

Change-Id: I308316932801689b8cab63555907b0752779dd63
",git fetch https://review.opendev.org/openstack/governance refs/changes/27/131227/2 && git format-patch -1 --stdout FETCH_HEAD,"['reference/integrated-release.rst', 'reference/index.rst', 'reference/incubation-integration-requirements.rst', 'reference/new-team-requirements.rst', 'reference/official-projects.rst', 'reference/charter.rst', 'reference/new-programs-requirements.rst', 'doc/source/conf.py', 'reference/project-testing-policies.rst', 'reference/teams.yaml', 'reference/project-release-schedules.rst']",11,59f7d33d977de4f021c049dee842029cc2bb293f,big-tent,"=========================== Project Release Schedules =========================== .. based on http://lists.openstack.org/pipermail/openstack-dev/2014-September/046504.html OpenStack projects should follow one of these release schedules. All members of a Co-dependent Project Group should follow the same release schedule. .. _coordinated-release-cycle: Coordinated Release Cycle ========================= The Coordinated Release Cycle is based on a roughly six month long development cycle, starting at one summit and ending around the time of the next. This cycle coincides with our elections, summit planning, and many other project activities. A typical cycle may include several development milestone dates, including a feature freeze and quiet period for preparing release candidates. The details of each release cycle are set and published by the Release Management team before the cycle begins. Projects may optionally choose to participate in the Coordinated Release Cycle, and the Release Cycle Management team may choose separately which projects to actively manage. Projects following the Coordinated Release Cycle prepare a final release at the end of each cycle. Code library projects may also prepare pre-releases at any point in the cycle to support the projects depending on new features of those libraries. End User Tool Projects ====================== .. Suggestion 10: End user tools should adopt a rolling release model Teams working on projects intended to interact with OpenStack services, such as client libraries and user interfaces, are encouraged to adopt a ""rolling"" release schedule rather than the fixed Integrated Release Cycle. Releasing a new version of a project when the code is stable gives end users immediate access to new features and bug fixes, which makes using OpenStack deployments easier. ",,419,309
openstack%2Fglance~stable%2Fjuno~I55c40ed735781862f8352afb917058bf475d16fe,openstack/glance,stable/juno,I55c40ed735781862f8352afb917058bf475d16fe,Fix and add a test case for IPv6,MERGED,2015-01-07 22:26:19.000000000,2015-01-22 13:22:31.000000000,2015-01-22 13:22:30.000000000,"[{'_account_id': 3}, {'_account_id': 1420}, {'_account_id': 6484}, {'_account_id': 7823}, {'_account_id': 9656}]","[{'number': 1, 'created': '2015-01-07 22:26:19.000000000', 'files': ['glance/tests/unit/common/test_wsgi_ipv6.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/0400de4b15627a02a4d32efa5a506a9f72fb6ac0', 'message': ""Fix and add a test case for IPv6\n\nFixing and adding a test case in relation to the eventlet ipv6 fix\nin patch set 23 (https://review.openstack.org/#/c/101079/).\n\n  * pre-import eventlet for test case test_evnetlet_no_dnspython,\n    which wasn't actually importing eventlet like it described.\n  * add case test_no_evnetlet_no_dnspython\n\nChange-Id: I55c40ed735781862f8352afb917058bf475d16fe\n(cherry picked from commit 9447d37d653d87c89a1daf8f5affe41269beffbd)\n""}]",0,145609,0400de4b15627a02a4d32efa5a506a9f72fb6ac0,8,5,1,1420,,,0,"Fix and add a test case for IPv6

Fixing and adding a test case in relation to the eventlet ipv6 fix
in patch set 23 (https://review.openstack.org/#/c/101079/).

  * pre-import eventlet for test case test_evnetlet_no_dnspython,
    which wasn't actually importing eventlet like it described.
  * add case test_no_evnetlet_no_dnspython

Change-Id: I55c40ed735781862f8352afb917058bf475d16fe
(cherry picked from commit 9447d37d653d87c89a1daf8f5affe41269beffbd)
",git fetch https://review.opendev.org/openstack/glance refs/changes/09/145609/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/common/test_wsgi_ipv6.py'],1,0400de4b15627a02a4d32efa5a506a9f72fb6ac0,139788_deps,"eventlet_no_dns = script % ('fake', 'import eventlet', 'foo', 'not', 1, 0) no_eventlet_no_dns = script % ('fake', '', 'foo', '', 1, 0) def test_no_evnetlet_no_dnspython(self): """"""Test eventlet not imported and dnspython not installed"""""" rc = subprocess.call(['python', '-c', no_eventlet_no_dns]) self.assertEqual(0, rc) def test_evnetlet_no_dnspython(self): """"""Test eventlet pre-imported but dnspython not installed""""""","eventlet_no_dns = script % ('fake', '', 'yes', '', 1, 0) def test_evnetlet_no_dnspython(self): """"""Test eventlet imported but dnspython not installed""""""",9,2
openstack%2Fglance~stable%2Fjuno~I795e004eac3f032217ff9cb0047f1976306fbb71,openstack/glance,stable/juno,I795e004eac3f032217ff9cb0047f1976306fbb71,Fix getaddrinfo if dnspython is installed,MERGED,2014-12-10 13:35:18.000000000,2015-01-22 13:22:21.000000000,2015-01-22 13:22:20.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1420}, {'_account_id': 2537}, {'_account_id': 6484}, {'_account_id': 6549}, {'_account_id': 6737}, {'_account_id': 8158}, {'_account_id': 9656}, {'_account_id': 11356}, {'_account_id': 12000}, {'_account_id': 13717}]","[{'number': 1, 'created': '2014-12-10 13:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/de93e5141d90094223222f063d7550ac622c7850', 'message': ""Fix getaddrinfo if dnspython is installed\n\nIf dnspython is present in the environment then eventlet\nmonkeypatches socket.getaddrinfo() with an implementation\nwhich doesn't work for IPv6.\n\nThis patch has also been applied to other Openstack\nprojects such as nova (f2e49ad3) and keystone (3afd9791)\nin order to work around the same problem and is\nintended to be used in the same way.\n\nCo-authored-by: Hui Xiang <hui.xiang@canonical.com>\nCloses-Bug: 1331885\n(cherry picked from commit bd2a8422d3e8c975d023982c038a59ca0257c6dd)\n\nConflicts:\n\tglance/cmd/__init__.py\n\nChange-Id: I795e004eac3f032217ff9cb0047f1976306fbb71\n""}, {'number': 2, 'created': '2015-01-07 22:26:19.000000000', 'files': ['glance/cmd/__init__.py', 'glance/tests/unit/common/test_wsgi_ipv6.py', 'glance/tests/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/07a99e1eaace09bdfb77dae2edb40d76de2c545a', 'message': ""Fix getaddrinfo if dnspython is installed\n\nIf dnspython is present in the environment then eventlet\nmonkeypatches socket.getaddrinfo() with an implementation\nwhich doesn't work for IPv6.\n\nThis patch has also been applied to other Openstack\nprojects such as nova (f2e49ad3) and keystone (3afd9791)\nin order to work around the same problem and is\nintended to be used in the same way.\n\nCo-authored-by: Hui Xiang <hui.xiang@canonical.com>\nCloses-Bug: 1331885\n(cherry picked from commit bd2a8422d3e8c975d023982c038a59ca0257c6dd)\n\nConflicts:\n\tglance/cmd/__init__.py\n\nChange-Id: I795e004eac3f032217ff9cb0047f1976306fbb71\n""}]",5,140677,07a99e1eaace09bdfb77dae2edb40d76de2c545a,22,12,2,6737,,,0,"Fix getaddrinfo if dnspython is installed

If dnspython is present in the environment then eventlet
monkeypatches socket.getaddrinfo() with an implementation
which doesn't work for IPv6.

This patch has also been applied to other Openstack
projects such as nova (f2e49ad3) and keystone (3afd9791)
in order to work around the same problem and is
intended to be used in the same way.

Co-authored-by: Hui Xiang <hui.xiang@canonical.com>
Closes-Bug: 1331885
(cherry picked from commit bd2a8422d3e8c975d023982c038a59ca0257c6dd)

Conflicts:
	glance/cmd/__init__.py

Change-Id: I795e004eac3f032217ff9cb0047f1976306fbb71
",git fetch https://review.opendev.org/openstack/glance refs/changes/77/140677/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/cmd/__init__.py', 'glance/tests/unit/common/test_wsgi_ipv6.py', 'glance/tests/__init__.py']",3,de93e5141d90094223222f063d7550ac622c7850,139788_deps,import glance.cmd as glance_cmd glance_cmd.fix_greendns_ipv6() ,,114,0
openstack%2Fceilometer~stable%2Fjuno~Ib40f919284e217f1d7a436b39402bd26f07ccffa,openstack/ceilometer,stable/juno,Ib40f919284e217f1d7a436b39402bd26f07ccffa,Updated from global requirements,MERGED,2015-01-14 13:35:41.000000000,2015-01-22 13:19:43.000000000,2015-01-22 13:19:39.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1420}, {'_account_id': 4491}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 7052}, {'_account_id': 7729}, {'_account_id': 8871}, {'_account_id': 9656}, {'_account_id': 10987}, {'_account_id': 13273}]","[{'number': 1, 'created': '2015-01-14 13:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/4c22fa4c87c09bde0de3725f490d3d3092db49e2', 'message': 'Updated from global requirements\n\nChange-Id: Ib40f919284e217f1d7a436b39402bd26f07ccffa\n'}, {'number': 2, 'created': '2015-01-14 23:32:35.000000000', 'files': ['requirements.txt', 'requirements-py3.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/43d420bc43f79209fa2a510343d37d65133ec9f0', 'message': 'Updated from global requirements\n\nChange-Id: Ib40f919284e217f1d7a436b39402bd26f07ccffa\n'}]",0,147140,43d420bc43f79209fa2a510343d37d65133ec9f0,21,12,2,11131,,,0,"Updated from global requirements

Change-Id: Ib40f919284e217f1d7a436b39402bd26f07ccffa
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/40/147140/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'requirements-py3.txt']",2,4c22fa4c87c09bde0de3725f490d3d3092db49e2,openstack/requirements,"eventlet>=0.15.1,<0.16.0",eventlet>=0.15.1,2,2
openstack%2Fgnocchi~master~I98d7f00ba8af36b6691aa690e052be9061fd322c,openstack/gnocchi,master,I98d7f00ba8af36b6691aa690e052be9061fd322c,Fix ResourceSchema to allow None user_id and project_id,MERGED,2014-12-25 12:52:41.000000000,2015-01-22 13:11:29.000000000,2015-01-22 13:11:28.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2284}, {'_account_id': 2813}, {'_account_id': 3012}, {'_account_id': 6537}, {'_account_id': 10987}]","[{'number': 1, 'created': '2014-12-25 12:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/83bc4aa0712008d0047209b02d2ea06221f12254', 'message': ""Fix ResourceSchema to allow None user_id\n\nCurrently if we'll try to comnsume Swift related samples via\ndispatcher in Gnocchi, they won't be processed, as all Swift\nsamples contain None user_id, that's not expected by Gnocchi.\n\nThis change fixes it.\n\nChange-Id: I98d7f00ba8af36b6691aa690e052be9061fd322c\n""}, {'number': 2, 'created': '2014-12-25 14:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/e1819ce2403e3f4fc45445211ba93452c7a91070', 'message': ""Fix ResourceSchema to allow None user_id\n\nCurrently if we'll try to comnsume Swift related samples via\ndispatcher in Gnocchi, not all of them'll be processed, as all Swift\npollster samples contain None user_id, that's not expected by Gnocchi.\n\nThis change fixes it.\n\nChange-Id: I98d7f00ba8af36b6691aa690e052be9061fd322c\n""}, {'number': 3, 'created': '2015-01-15 10:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/8ec89e7ee249245a82c68a031af381e666f55a32', 'message': ""Fix ResourceSchema to allow None user_id\n\nCurrently if we'll try to consume Swift related samples via\ndispatcher in Gnocchi, not all of them'll be processed, as all Swift\npollster samples contain None user_id, that's not expected by Gnocchi.\n\nThis change fixes it.\n\nChange-Id: I98d7f00ba8af36b6691aa690e052be9061fd322c\n""}, {'number': 4, 'created': '2015-01-21 09:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/041809c9737b80e201a64ba94400b29c483f1a07', 'message': ""Fix ResourceSchema to allow None user_id\n\nCurrently if we'll try to consume Swift related samples via\ndispatcher in Gnocchi, not all of them'll be processed, as all Swift\npollster samples contain None user_id, that's not expected by Gnocchi.\n\nThis change fixes it.\n\nChange-Id: I98d7f00ba8af36b6691aa690e052be9061fd322c\n""}, {'number': 5, 'created': '2015-01-22 10:27:53.000000000', 'files': ['gnocchi/rest/__init__.py', 'gnocchi/tests/test_rest.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/e475014a5f22fb2212a09e2f46a1d439062fcb07', 'message': ""Fix ResourceSchema to allow None user_id and project_id\n\nCurrently if we'll try to consume Swift related samples via\ndispatcher in Gnocchi, not all of them'll be processed, as all Swift\npollster samples contain None user_id, that's not expected by Gnocchi.\nMoverover, there is group of infrastructure metrics (like kwapi, ipmi,\nhardware, network statistic) that are passing from Ceilometer without\nproject_id, that's also not accepted by current REST API schema.\n\nThis change fixes it.\n\nChange-Id: I98d7f00ba8af36b6691aa690e052be9061fd322c\n""}]",4,143978,e475014a5f22fb2212a09e2f46a1d439062fcb07,40,7,5,3012,,,0,"Fix ResourceSchema to allow None user_id and project_id

Currently if we'll try to consume Swift related samples via
dispatcher in Gnocchi, not all of them'll be processed, as all Swift
pollster samples contain None user_id, that's not expected by Gnocchi.
Moverover, there is group of infrastructure metrics (like kwapi, ipmi,
hardware, network statistic) that are passing from Ceilometer without
project_id, that's also not accepted by current REST API schema.

This change fixes it.

Change-Id: I98d7f00ba8af36b6691aa690e052be9061fd322c
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/78/143978/4 && git format-patch -1 --stdout FETCH_HEAD,"['gnocchi/rest/__init__.py', 'gnocchi/tests/test_rest.py']",2,83bc4aa0712008d0047209b02d2ea06221f12254,fix-resource-schema," ""user_id"": None,"," ""user_id"": str(uuid.uuid4()),",8,2
openstack%2Fheat~master~I43d07401b580555fe5bfa443836e60a708ce54bf,openstack/heat,master,I43d07401b580555fe5bfa443836e60a708ce54bf,Deprecate QUEUE_ID in heat_zaqar,MERGED,2015-01-20 14:50:24.000000000,2015-01-22 13:03:58.000000000,2015-01-22 13:03:56.000000000,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 8289}, {'_account_id': 10068}, {'_account_id': 12321}, {'_account_id': 13009}, {'_account_id': 14676}]","[{'number': 1, 'created': '2015-01-20 14:50:24.000000000', 'files': ['contrib/heat_zaqar/heat_zaqar/resources/queue.py', 'contrib/heat_zaqar/heat_zaqar/tests/test_queue.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/fbda16fcab4d196d75188c98810909f40d5337f2', 'message': 'Deprecate QUEUE_ID in heat_zaqar\n\nZaqarQueue in heat_zaqar has 2 ways to receive the ID of the queue:\n- use get_attr(QUEUE_ID)\n- use get_resource <resource_name> or Ref\nThe first way has been deprecated because in common practice\nit had better use get_recources for receive an ID of the resource.\nIn addition, this attribute has been excluded from auto-tests\nfor ZaqarQueue.\n\nChange-Id: I43d07401b580555fe5bfa443836e60a708ce54bf\n'}]",0,148583,fbda16fcab4d196d75188c98810909f40d5337f2,15,8,1,14676,,,0,"Deprecate QUEUE_ID in heat_zaqar

ZaqarQueue in heat_zaqar has 2 ways to receive the ID of the queue:
- use get_attr(QUEUE_ID)
- use get_resource <resource_name> or Ref
The first way has been deprecated because in common practice
it had better use get_recources for receive an ID of the resource.
In addition, this attribute has been excluded from auto-tests
for ZaqarQueue.

Change-Id: I43d07401b580555fe5bfa443836e60a708ce54bf
",git fetch https://review.opendev.org/openstack/heat refs/changes/83/148583/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/heat_zaqar/heat_zaqar/resources/queue.py', 'contrib/heat_zaqar/heat_zaqar/tests/test_queue.py']",2,fbda16fcab4d196d75188c98810909f40d5337f2,," ""Value"": { ""Ref"" : ""MyQueue2"" },"," ""Value"": { ""Fn::GetAtt"" : [ ""MyQueue2"", ""queue_id"" ]}, self.assertEqual('myqueue', queue.FnGetAtt('queue_id'))",9,3
openstack%2Fnova~master~I62004a2a48827e869d3a7534e94dda2d6a067498,openstack/nova,master,I62004a2a48827e869d3a7534e94dda2d6a067498,libvirt: add method libvirt_fs_info to Image class,ABANDONED,2015-01-15 14:39:28.000000000,2015-01-22 13:02:34.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 12408}]","[{'number': 1, 'created': '2015-01-15 14:39:28.000000000', 'files': ['nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c19671132f5db867d1123655df86c2e8f9952570', 'message': 'libvirt: add method libvirt_fs_info to Image class\n\nAdd method libvirt_fs_info, which returns corresponding\nfilesystem config for LXC for the Image object.\n\nChange-Id: I62004a2a48827e869d3a7534e94dda2d6a067498\n'}]",0,147534,c19671132f5db867d1123655df86c2e8f9952570,11,9,1,12661,,,0,"libvirt: add method libvirt_fs_info to Image class

Add method libvirt_fs_info, which returns corresponding
filesystem config for LXC for the Image object.

Change-Id: I62004a2a48827e869d3a7534e94dda2d6a067498
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/147534/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/imagebackend.py'],1,c19671132f5db867d1123655df86c2e8f9952570,lxc," def libvirt_fs_info(self, target): info = vconfig.LibvirtConfigGuestFilesys() info.source_type = ""file"" info.source_file = self.path info.target_dir = target info.driver_format = self.driver_format if self.driver_format == ""raw"": info.driver_type = ""loop"" else: info.driver_type = ""nbd"" return info ",,13,0
openstack%2Ffuel-library~master~I3777b328e919a0955639ded213fd314ad55d8146,openstack/fuel-library,master,I3777b328e919a0955639ded213fd314ad55d8146,API proxy: enable the proxy_connect module,MERGED,2014-12-25 11:41:55.000000000,2015-01-22 12:57:58.000000000,2015-01-22 12:57:58.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}, {'_account_id': 13194}, {'_account_id': 13343}, {'_account_id': 13344}]","[{'number': 1, 'created': '2014-12-25 11:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/03b4a1f7977d4cee595bf40eb90d850cc24cebe4', 'message': 'API proxy: enable proxy_connect module\n\nAllowCONNECT directive is implemented by mod_proxy_connect since Apache 2.3.5\nTherefore this module must be enabled before using the AllowCONNECT directive.\nOtherwise apache refuses to start due to invalid configuration command.\n\nblueprint support-ubuntu-trusty\n\nChange-Id: I3777b328e919a0955639ded213fd314ad55d8146\n'}, {'number': 2, 'created': '2014-12-31 07:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/86af2f3d0685c8d3b508e287b2cf1bf205a15c6f', 'message': 'API proxy: enable proxy_connect module\n\nAllowCONNECT directive is implemented by mod_proxy_connect since Apache 2.3.5\nTherefore this module must be enabled before using the AllowCONNECT directive.\nOtherwise apache refuses to start due to invalid configuration command.\n\nblueprint support-ubuntu-trusty\n\nChange-Id: I3777b328e919a0955639ded213fd314ad55d8146\n'}, {'number': 3, 'created': '2014-12-31 07:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/24145f854edb2473182dbdf404978b7232fddfbf', 'message': 'API proxy: enable proxy_connect module\n\nAllowCONNECT directive is implemented by mod_proxy_connect since Apache 2.3.5\nTherefore this module must be enabled before using the AllowCONNECT directive.\nOtherwise apache refuses to start due to invalid configuration command.\n\nblueprint support-ubuntu-trusty\n\nChange-Id: I3777b328e919a0955639ded213fd314ad55d8146\n'}, {'number': 4, 'created': '2015-01-13 15:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/4a722b10f522a0a10d3c9494fb2520f81fae6948', 'message': 'API proxy: enable proxy_connect module\n\nAllowCONNECT directive is implemented by mod_proxy_connect since Apache 2.3.5\nTherefore this module must be enabled before using the AllowCONNECT directive.\nOtherwise apache refuses to start due to invalid configuration command.\n\nblueprint support-ubuntu-trusty\n\nChange-Id: I3777b328e919a0955639ded213fd314ad55d8146\n'}, {'number': 5, 'created': '2015-01-14 07:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/2d2808488ccb7d96328be59991c17708ff8bc8be', 'message': 'API proxy: enable proxy_connect module\n\nAllowCONNECT directive is implemented by mod_proxy_connect since Apache 2.3.5\nTherefore this module must be enabled before using the AllowCONNECT directive.\nOtherwise apache refuses to start due to invalid configuration command.\n\nblueprint support-ubuntu-trusty\n\nChange-Id: I3777b328e919a0955639ded213fd314ad55d8146\n'}, {'number': 6, 'created': '2015-01-15 06:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/6c8860493c624b512b166ac7283fec955391dd7d', 'message': 'API proxy: enable proxy_connect module\n\nAllowCONNECT directive is implemented by mod_proxy_connect since Apache 2.3.5\nTherefore this module must be enabled before using the AllowCONNECT directive.\nOtherwise apache refuses to start due to invalid configuration command.\n\nblueprint support-ubuntu-trusty\n\nChange-Id: I3777b328e919a0955639ded213fd314ad55d8146\n'}, {'number': 7, 'created': '2015-01-19 10:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/120351d7527c979c07f39835e22d4684c3a39746', 'message': 'API proxy: enable the proxy_connect module\n\nAllowCONNECT directive is implemented by mod_proxy_connect since Apache 2.3.5\nTherefore this module must be enabled before using the AllowCONNECT directive.\nOtherwise apache refuses to start due to invalid configuration command.\n\nblueprint support-ubuntu-trusty\nCloses-Bug: #1412347\n\nChange-Id: I3777b328e919a0955639ded213fd314ad55d8146\n'}, {'number': 8, 'created': '2015-01-19 12:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/42d41d570a8f479efc8050868322f6f6b159c1e8', 'message': 'API proxy: enable the proxy_connect module\n\nAllowCONNECT directive is implemented by mod_proxy_connect since Apache 2.3.5\nTherefore this module must be enabled before using the AllowCONNECT directive.\nOtherwise apache refuses to start due to invalid configuration command.\n\nblueprint support-ubuntu-trusty\nCloses-Bug: #1412347\n\nChange-Id: I3777b328e919a0955639ded213fd314ad55d8146\n'}, {'number': 9, 'created': '2015-01-20 07:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/ae5b8c89e06040a7099e1272bcdfc91ca7abd302', 'message': 'API proxy: enable the proxy_connect module\n\nAllowCONNECT directive is implemented by mod_proxy_connect since Apache 2.3.5\nTherefore this module must be enabled before using the AllowCONNECT directive.\nOtherwise apache refuses to start due to invalid configuration command.\n\nblueprint support-ubuntu-trusty\nCloses-Bug: #1412347\n\nChange-Id: I3777b328e919a0955639ded213fd314ad55d8146\n'}, {'number': 10, 'created': '2015-01-20 11:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/c6a24449c84caaa79026662ce39ff375fcc64e9a', 'message': 'API proxy: enable the proxy_connect module\n\nAllowCONNECT directive is implemented by mod_proxy_connect since Apache 2.3.5\nTherefore this module must be enabled before using the AllowCONNECT directive.\nOtherwise apache refuses to start due to invalid configuration command.\n\nblueprint support-ubuntu-trusty\nCloses-Bug: #1412347\n\nChange-Id: I3777b328e919a0955639ded213fd314ad55d8146\n'}, {'number': 11, 'created': '2015-01-20 12:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/e507a97399247e43a5685c880b1432bcede5fcea', 'message': 'API proxy: enable the proxy_connect module\n\nAllowCONNECT directive is implemented by mod_proxy_connect since Apache 2.3.5\nTherefore this module must be enabled before using the AllowCONNECT directive.\nOtherwise apache refuses to start due to invalid configuration command.\n\nblueprint support-ubuntu-trusty\nCloses-Bug: #1412347\n\nChange-Id: I3777b328e919a0955639ded213fd314ad55d8146\nSigned-off-by: Sergii Golovatiuk <sgolovatiuk@mirantis.com>\n'}, {'number': 12, 'created': '2015-01-20 13:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/7a52253bf32a363513b599e3c84c2a1ad6fab3f0', 'message': 'API proxy: enable the proxy_connect module\n\nAllowCONNECT directive is implemented by mod_proxy_connect since Apache 2.3.5\nTherefore this module must be enabled before using the AllowCONNECT directive.\nOtherwise apache refuses to start due to invalid configuration command.\n\nblueprint support-ubuntu-trusty\nCloses-Bug: #1412347\n\nChange-Id: I3777b328e919a0955639ded213fd314ad55d8146\nSigned-off-by: Sergii Golovatiuk <sgolovatiuk@mirantis.com>\n'}, {'number': 13, 'created': '2015-01-20 14:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/23ab5959a6506321c2a9261ffdcfe228e70be77f', 'message': 'API proxy: enable the proxy_connect module\n\nAllowCONNECT directive is implemented by mod_proxy_connect since Apache 2.3.5\nTherefore this module must be enabled before using the AllowCONNECT directive.\nOtherwise apache refuses to start due to invalid configuration command.\n\nblueprint support-ubuntu-trusty\nCloses-Bug: #1412347\n\nPuppet Labs Ticket: https://tickets.puppetlabs.com/browse/MODULES-1684\nPull Request: https://github.com/puppetlabs/puppetlabs-apache/pull/987\n\nChange-Id: I3777b328e919a0955639ded213fd314ad55d8146\nSigned-off-by: Sergii Golovatiuk <sgolovatiuk@mirantis.com>\n'}, {'number': 14, 'created': '2015-01-21 22:20:33.000000000', 'files': ['deployment/puppet/apache/manifests/mod/proxy_connect.pp', 'deployment/puppet/osnailyfacter/manifests/apache_api_proxy.pp', 'deployment/puppet/apache/spec/classes/mod/proxy_connect_spec.rb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/914b5655e9da034bb3076580990f60d16f24091d', 'message': 'API proxy: enable the proxy_connect module\n\nAllowCONNECT directive is implemented by mod_proxy_connect since Apache 2.3.5\nTherefore this module must be enabled before using the AllowCONNECT directive.\nOtherwise apache refuses to start due to invalid configuration command.\n\nblueprint support-ubuntu-trusty\nCloses-Bug: #1412347\n\nPuppet Labs Ticket: https://tickets.puppetlabs.com/browse/MODULES-1684\nPull Request: https://github.com/puppetlabs/puppetlabs-apache/pull/987\n\nChange-Id: I3777b328e919a0955639ded213fd314ad55d8146\nSigned-off-by: Sergii Golovatiuk <sgolovatiuk@mirantis.com>\n'}]",0,143957,914b5655e9da034bb3076580990f60d16f24091d,112,9,14,13194,,,0,"API proxy: enable the proxy_connect module

AllowCONNECT directive is implemented by mod_proxy_connect since Apache 2.3.5
Therefore this module must be enabled before using the AllowCONNECT directive.
Otherwise apache refuses to start due to invalid configuration command.

blueprint support-ubuntu-trusty
Closes-Bug: #1412347

Puppet Labs Ticket: https://tickets.puppetlabs.com/browse/MODULES-1684
Pull Request: https://github.com/puppetlabs/puppetlabs-apache/pull/987

Change-Id: I3777b328e919a0955639ded213fd314ad55d8146
Signed-off-by: Sergii Golovatiuk <sgolovatiuk@mirantis.com>
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/57/143957/7 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/osnailyfacter/manifests/apache_api_proxy.pp'],1,03b4a1f7977d4cee595bf40eb90d850cc24cebe4,bp/support-ubuntu-trusty," file {'/etc/apache2/mods-enabled/proxy_connect.load': ensure => link, target => '/etc/apache2/mods-available/proxy_connect.load', }-> ",,5,0
openstack%2Ffuel-web~master~Ic05162119fbb1b81d9bcb3c3f8150ce0b7b23874,openstack/fuel-web,master,Ic05162119fbb1b81d9bcb3c3f8150ce0b7b23874,Keep existing passwords in astute.yaml for non-interactive save,MERGED,2014-12-18 17:41:00.000000000,2015-01-22 12:51:40.000000000,2015-01-22 12:51:39.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8053}, {'_account_id': 8749}, {'_account_id': 8786}, {'_account_id': 8789}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 11082}, {'_account_id': 11090}, {'_account_id': 12177}, {'_account_id': 12200}]","[{'number': 1, 'created': '2014-12-18 17:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/2ae485f044079f2fb1d4ee03b47084e5b1d4788f', 'message': 'Keep existing passwords in astute.yaml for non-interactive save\n\nFuelmenu has a save-only mode which writes out an astute.yaml\nconfiguration, but it was replacing parameters when the\ncommand was run multiple times. This has unintended\nconsequences for users. Now it will preserve any password field\nvalues that existed previously.\n\nChange-Id: Ic05162119fbb1b81d9bcb3c3f8150ce0b7b23874\nCloses-Bug: #1396472\n'}, {'number': 2, 'created': '2014-12-18 17:57:00.000000000', 'files': ['fuelmenu/fuelmenu/fuelmenu.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/200c889833a387b904f4ed98d9ef56ca860a2ef0', 'message': 'Keep existing passwords in astute.yaml for non-interactive save\n\nFuelmenu has a save-only mode which writes out an astute.yaml\nconfiguration, but it was replacing parameters when the\ncommand was run multiple times. This has unintended\nconsequences for users. Now it will preserve any password field\nvalues that existed previously.\n\nChange-Id: Ic05162119fbb1b81d9bcb3c3f8150ce0b7b23874\nCloses-Bug: #1396472\n'}]",0,142854,200c889833a387b904f4ed98d9ef56ca860a2ef0,17,12,2,7195,,,0,"Keep existing passwords in astute.yaml for non-interactive save

Fuelmenu has a save-only mode which writes out an astute.yaml
configuration, but it was replacing parameters when the
command was run multiple times. This has unintended
consequences for users. Now it will preserve any password field
values that existed previously.

Change-Id: Ic05162119fbb1b81d9bcb3c3f8150ce0b7b23874
Closes-Bug: #1396472
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/54/142854/2 && git format-patch -1 --stdout FETCH_HEAD,['fuelmenu/fuelmenu/fuelmenu.py'],1,2ae485f044079f2fb1d4ee03b47084e5b1d4788f,bug/1396472,"def save_only(iface, settingsfile='/etc/fuel/astute.yaml'): newsettings=Settings().read(settingsfile) #Keep old values for passwords if already set newsettings[part1][part2] = settings[setting] if ( not part2 in newsettings[part1].keys() and ""password"" in setting) else newsettings[part1][part2] outfn=settingsfile)","def save_only(iface): newsettings = dict() newsettings[part1][part2] = settings[setting] outfn=""/etc/fuel/astute.yaml"")",9,4
openstack%2Fcinder~stable%2Fjuno~I4b9ceb7788c112ee5998f24b00a07d4346bc6275,openstack/cinder,stable/juno,I4b9ceb7788c112ee5998f24b00a07d4346bc6275,Fix zfssa driver volume attach to work with latest zfssa software,MERGED,2015-01-16 12:50:47.000000000,2015-01-22 12:49:52.000000000,2015-01-22 12:49:50.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9656}, {'_account_id': 10621}, {'_account_id': 11509}, {'_account_id': 12202}, {'_account_id': 12492}, {'_account_id': 13013}]","[{'number': 1, 'created': '2015-01-16 12:50:47.000000000', 'files': ['cinder/volume/drivers/zfssa/zfssarest.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/32f7788b1fcfc55824e93e0e25b47e1c25fa779f', 'message': 'Fix zfssa driver volume attach to work with latest zfssa software\n\nThis fixes the volume attach issue of the zfssa driver\nwith the latest zfssa software release and makes it work\nfor all zfssa versions.\n\nChange-Id: I4b9ceb7788c112ee5998f24b00a07d4346bc6275\nCloses-Bug: #1411291\n(cherry picked from commit d47171701646db0bfca5f0026b3a6db08176bde6)\n'}]",0,147827,32f7788b1fcfc55824e93e0e25b47e1c25fa779f,17,9,1,13013,,,0,"Fix zfssa driver volume attach to work with latest zfssa software

This fixes the volume attach issue of the zfssa driver
with the latest zfssa software release and makes it work
for all zfssa versions.

Change-Id: I4b9ceb7788c112ee5998f24b00a07d4346bc6275
Closes-Bug: #1411291
(cherry picked from commit d47171701646db0bfca5f0026b3a6db08176bde6)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/147827/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/zfssa/zfssarest.py'],1,32f7788b1fcfc55824e93e0e25b47e1c25fa779f,," if isinstance(ret['number'], list): ret['number'] = ret['number'][0]",,2,0
openstack%2Fnova~stable%2Fjuno~I62fa2830b22e367eb9486d09d3c8818a18ebd20d,openstack/nova,stable/juno,I62fa2830b22e367eb9486d09d3c8818a18ebd20d,Truncate encoded instance message to 255 or fewer,MERGED,2014-11-22 01:26:55.000000000,2015-01-22 12:39:25.000000000,2015-01-22 12:39:23.000000000,"[{'_account_id': 3}, {'_account_id': 979}, {'_account_id': 1420}, {'_account_id': 1955}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 8213}, {'_account_id': 8574}, {'_account_id': 8871}, {'_account_id': 9656}, {'_account_id': 10118}]","[{'number': 1, 'created': '2014-11-22 01:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b30adfd8969606b48503e46db2b177d32384a87', 'message': 'Truncate encoded instance message to 255 or fewer\n\nIn nova/compute/utils.py function exception_to_dict truncates unicode\nmessage to 255. However, in non-English locales, instance message may\nbe longer than 255 after encoding the unicode message to byte message.\nNeed to truncate the encoded byte message to 255 or fewer, in order to\nensure db insert operation succeed.\n\nCloses-Bug: 1389102\n(cherry picked from commit 4e95505843d05f20ab01716ceee74f6757b16dd9)\n\nConflicts:\n\tnova/tests/unit/compute/test_compute_utils.py\n\nChange-Id: I62fa2830b22e367eb9486d09d3c8818a18ebd20d\n'}, {'number': 2, 'created': '2014-11-24 04:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42a9233e3e20b56e4184853296c3e3d69e661ffb', 'message': 'Truncate encoded instance message to 255 or fewer\n\nIn nova/compute/utils.py function exception_to_dict truncates unicode\nmessage to 255. However, in non-English locales, instance message may\nbe longer than 255 after encoding the unicode message to byte message.\nNeed to truncate the encoded byte message to 255 or fewer, in order to\nensure db insert operation succeed.\n\nCloses-Bug: 1389102\n(cherry picked from commit 4e95505843d05f20ab01716ceee74f6757b16dd9)\n\nConflicts:\n\tnova/tests/unit/compute/test_compute_utils.py\n\nChange-Id: I62fa2830b22e367eb9486d09d3c8818a18ebd20d\n'}, {'number': 3, 'created': '2015-01-20 16:50:02.000000000', 'files': ['nova/tests/compute/test_compute_utils.py', 'nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1e4088f46a54662449d9594f0c0942f1e8edab8e', 'message': 'Truncate encoded instance message to 255 or fewer\n\nIn nova/compute/utils.py function exception_to_dict truncates unicode\nmessage to 255. However, in non-English locales, instance message may\nbe longer than 255 after encoding the unicode message to byte message.\nNeed to truncate the encoded byte message to 255 or fewer, in order to\nensure db insert operation succeed.\n\nCloses-Bug: 1389102\n(cherry picked from commit 4e95505843d05f20ab01716ceee74f6757b16dd9)\n\nConflicts:\n\tnova/tests/unit/compute/test_compute_utils.py\n\nChange-Id: I62fa2830b22e367eb9486d09d3c8818a18ebd20d\n'}]",0,136544,1e4088f46a54662449d9594f0c0942f1e8edab8e,41,11,3,8574,,,0,"Truncate encoded instance message to 255 or fewer

In nova/compute/utils.py function exception_to_dict truncates unicode
message to 255. However, in non-English locales, instance message may
be longer than 255 after encoding the unicode message to byte message.
Need to truncate the encoded byte message to 255 or fewer, in order to
ensure db insert operation succeed.

Closes-Bug: 1389102
(cherry picked from commit 4e95505843d05f20ab01716ceee74f6757b16dd9)

Conflicts:
	nova/tests/unit/compute/test_compute_utils.py

Change-Id: I62fa2830b22e367eb9486d09d3c8818a18ebd20d
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/136544/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/compute/test_compute_utils.py', 'nova/compute/utils.py']",2,6b30adfd8969606b48503e46db2b177d32384a87,bug/1389102,"from oslo.utils import encodeutils b_message = encodeutils.safe_encode(message)[:255] # NOTE(chaochin) UTF-8 character byte size varies from 1 to 6. If # truncating a long byte string to 255, the last character may be # cut in the middle, so that UnicodeDecodeError will occur when # converting it back to unicode. decode_ok = False while not decode_ok: try: u_message = encodeutils.safe_decode(b_message) decode_ok = True except UnicodeDecodeError: b_message = b_message[:-1]", u_message = unicode(message)[:255],36,1
openstack%2Fcinder~stable%2Fjuno~I546180e0521616fccdaf261d25fd4356d05f0274,openstack/cinder,stable/juno,I546180e0521616fccdaf261d25fd4356d05f0274,"Create ""image_conversion_dir"" before creating temporary file",MERGED,2015-01-21 13:34:44.000000000,2015-01-22 12:22:18.000000000,2015-01-22 12:22:17.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 7219}, {'_account_id': 7860}, {'_account_id': 9656}, {'_account_id': 9751}, {'_account_id': 10384}, {'_account_id': 12202}, {'_account_id': 12370}, {'_account_id': 12493}, {'_account_id': 12780}, {'_account_id': 14428}]","[{'number': 1, 'created': '2015-01-21 13:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/60796cddbdc2218fe8365cca5e6adf3592623b38', 'message': 'Create ""image_conversion_dir"" before creating temporary file\n\nIn file ""image_utils.py"", ""create_temporary_file"" method is\nfailing because, CONF.image_conversion_dir folder doesn\'t exist.\n\nThis patch solves the issue by creating image_conversion_dir\ndirectory before calling ""create_temporary_file"" method.\n\nChange-Id: I546180e0521616fccdaf261d25fd4356d05f0274\nCloses-Bug: #1394578\n'}, {'number': 2, 'created': '2015-01-21 16:00:47.000000000', 'files': ['cinder/image/image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ab9a1ad7e1d52ab52f69f7705a5ff1a3a49da37c', 'message': 'Create ""image_conversion_dir"" before creating temporary file\n\nIn file ""image_utils.py"", ""create_temporary_file"" method is\nfailing because, CONF.image_conversion_dir folder doesn\'t exist.\n\nThis patch solves the issue by creating image_conversion_dir\ndirectory before calling ""create_temporary_file"" method.\n\nChange-Id: I546180e0521616fccdaf261d25fd4356d05f0274\nCloses-Bug: #1394578\n(cherry picked from commit c6d58672ed9666cbd9ad0d6454b064d8d05b43cc)\n'}]",0,148921,ab9a1ad7e1d52ab52f69f7705a5ff1a3a49da37c,23,12,2,10384,,,0,"Create ""image_conversion_dir"" before creating temporary file

In file ""image_utils.py"", ""create_temporary_file"" method is
failing because, CONF.image_conversion_dir folder doesn't exist.

This patch solves the issue by creating image_conversion_dir
directory before calling ""create_temporary_file"" method.

Change-Id: I546180e0521616fccdaf261d25fd4356d05f0274
Closes-Bug: #1394578
(cherry picked from commit c6d58672ed9666cbd9ad0d6454b064d8d05b43cc)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/148921/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/image/image_utils.py'],1,60796cddbdc2218fe8365cca5e6adf3592623b38,bug/1394578, if (CONF.image_conversion_dir and not os.path.exists(CONF.image_conversion_dir)): os.makedirs(CONF.image_conversion_dir) ,,4,0
openstack%2Frally~master~Ibcbb768c24b512527c4b1cad6abe2e529f0fbfce,openstack/rally,master,Ibcbb768c24b512527c4b1cad6abe2e529f0fbfce,Allow using builtin functions in task templates,MERGED,2015-01-22 03:53:05.000000000,2015-01-22 12:18:10.000000000,2015-01-22 12:18:06.000000000,"[{'_account_id': 3}, {'_account_id': 7369}, {'_account_id': 8507}, {'_account_id': 14135}]","[{'number': 1, 'created': '2015-01-22 03:53:05.000000000', 'files': ['rally/api.py', 'tests/unit/test_api.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/28b1135252289a5487f705806ec753790e637f95', 'message': 'Allow using builtin functions in task templates\n\nRemove builtin from missing arguments, now we can\nuse them in templates.\n\nSo such usefull consturction: {% for i in range(10) %}\nwill work.\n\nCorresponding unit tests added\n\nChange-Id: Ibcbb768c24b512527c4b1cad6abe2e529f0fbfce\nCloses-bug: #1413432\n'}]",0,149132,28b1135252289a5487f705806ec753790e637f95,9,4,1,6172,,,0,"Allow using builtin functions in task templates

Remove builtin from missing arguments, now we can
use them in templates.

So such usefull consturction: {% for i in range(10) %}
will work.

Corresponding unit tests added

Change-Id: Ibcbb768c24b512527c4b1cad6abe2e529f0fbfce
Closes-bug: #1413432
",git fetch https://review.opendev.org/openstack/rally refs/changes/32/149132/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/api.py', 'tests/unit/test_api.py']",2,28b1135252289a5487f705806ec753790e637f95,bug/1413432," def test_task_template_render_builtin(self): template = ""{% for i in range(4) %}{{i}}{% endfor %}"" self.assertEqual(""0123"", api.task_template_render(template)) ",,11,1
openstack%2Frally~master~Ib0a4af3a3b2d8cf3db333cdadf312e078ba47075,openstack/rally,master,Ib0a4af3a3b2d8cf3db333cdadf312e078ba47075,Avoid mapping non-boot volume to boot device,MERGED,2015-01-21 23:14:39.000000000,2015-01-22 12:05:15.000000000,2015-01-22 12:05:12.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 7369}, {'_account_id': 14135}]","[{'number': 1, 'created': '2015-01-21 23:14:39.000000000', 'files': ['tests/unit/benchmark/scenarios/vm/test_vmtasks.py', 'rally/benchmark/scenarios/vm/vmtasks.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/99be9b23a22e26fd7565aebfd30e3735a7a21337', 'message': ""Avoid mapping non-boot volume to boot device\n\nWhen running a scenario that does not involve booting from volume, it is\nimportant to avoid mapping the volume to be attached to the boot device.\nvda is often a boot device. This uses vdrally which should never be\npicked up as a boot device.\n\nThere may be a better way to do this by converting from\nblock_device_mapping to block_device_mapping_v2, where it is possible to\nexpress a boot_index, but that's a more invasive change.\n\nChange-Id: Ib0a4af3a3b2d8cf3db333cdadf312e078ba47075\n""}]",0,149076,99be9b23a22e26fd7565aebfd30e3735a7a21337,9,4,1,6589,,,0,"Avoid mapping non-boot volume to boot device

When running a scenario that does not involve booting from volume, it is
important to avoid mapping the volume to be attached to the boot device.
vda is often a boot device. This uses vdrally which should never be
picked up as a boot device.

There may be a better way to do this by converting from
block_device_mapping to block_device_mapping_v2, where it is possible to
express a boot_index, but that's a more invasive change.

Change-Id: Ib0a4af3a3b2d8cf3db333cdadf312e078ba47075
",git fetch https://review.opendev.org/openstack/rally refs/changes/76/149076/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/benchmark/scenarios/vm/test_vmtasks.py', 'rally/benchmark/scenarios/vm/vmtasks.py']",2,99be9b23a22e26fd7565aebfd30e3735a7a21337,avoid-boot-volume," kwargs[""block_device_mapping""] = {""vdrally"": ""%s:::1"" % volume.id}"," kwargs[""block_device_mapping""] = {""vda"": ""%s:::1"" % volume.id}",2,2
openstack%2Fnova~stable%2Ficehouse~I38eafdaee03d136282cfde1fd013e322a4256cc4,openstack/nova,stable/icehouse,I38eafdaee03d136282cfde1fd013e322a4256cc4,Fix disconnecting necessary iSCSI sessions issue,MERGED,2014-12-26 00:48:43.000000000,2015-01-22 12:03:21.000000000,2015-01-22 12:03:18.000000000,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 5170}, {'_account_id': 8213}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 13847}]","[{'number': 1, 'created': '2014-12-26 00:48:43.000000000', 'files': ['nova/tests/virt/libvirt/test_libvirt_volume.py', 'nova/virt/libvirt/volume.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/52103be3e152b53ea0ec542173305cfe3bb1a08d', 'message': 'Fix disconnecting necessary iSCSI sessions issue\n\nIn Icehouse with ""iscsi_use_multipath=true"", detaching a multipath\niSCSI volume kills all iSCSI volumes visible from the nova compute node.\nWhen we use different targets(IQNs) associated with same portal for\neach different multipath device, all of the targets will be deleted\nvia disconnect_volume().\n\nThis patch fixes the behavior of detaching volume:\n\n  1. Extract the targets for the detached multipath device.\n  2. Delete/disconnect the targets for the detached multipath device.\n\nCloses-Bug: #1382440\n\n(cherry picked from commit 36aeedfd5eeb0345d66fa8456ed6a9447a6514a0)\n\nConflicts:\n        nova/tests/unit/virt/libvirt/test_volume.py\n\nChange-Id: I38eafdaee03d136282cfde1fd013e322a4256cc4\n'}]",0,144067,52103be3e152b53ea0ec542173305cfe3bb1a08d,17,7,1,7121,,,0,"Fix disconnecting necessary iSCSI sessions issue

In Icehouse with ""iscsi_use_multipath=true"", detaching a multipath
iSCSI volume kills all iSCSI volumes visible from the nova compute node.
When we use different targets(IQNs) associated with same portal for
each different multipath device, all of the targets will be deleted
via disconnect_volume().

This patch fixes the behavior of detaching volume:

  1. Extract the targets for the detached multipath device.
  2. Delete/disconnect the targets for the detached multipath device.

Closes-Bug: #1382440

(cherry picked from commit 36aeedfd5eeb0345d66fa8456ed6a9447a6514a0)

Conflicts:
        nova/tests/unit/virt/libvirt/test_volume.py

Change-Id: I38eafdaee03d136282cfde1fd013e322a4256cc4
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/144067/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/libvirt/test_libvirt_volume.py', 'nova/virt/libvirt/volume.py']",2,52103be3e152b53ea0ec542173305cfe3bb1a08d,bug/1382440," # Extract targets for the current multipath device. ips_iqns = [] entries = self._get_iscsi_devices() for ip, iqn in self._get_target_portals_from_iscsiadm_output(out): ip_iqn = ""%s-iscsi-%s"" % (ip.split("","")[0], iqn) for entry in entries: entry_ip_iqn = entry.split(""-lun-"")[0] if entry_ip_iqn[:3] == ""ip-"": entry_ip_iqn = entry_ip_iqn[3:] if (ip_iqn != entry_ip_iqn): continue entry_real_path = os.path.realpath(""/dev/disk/by-path/%s"" % entry) entry_mpdev = self._get_multipath_device_name(entry_real_path) if entry_mpdev == multipath_device: ips_iqns.append([ip, iqn]) break", ips_iqns = self._get_target_portals_from_iscsiadm_output(out),86,2
openstack%2Ftricircle~master~I0e7f5a7aada15d8d55a1475d2a1e67f4708a0034,openstack/tricircle,master,I0e7f5a7aada15d8d55a1475d2a1e67f4708a0034,"add query_ports mode for l2proxy, query ports from novaproxy or cascaded neutron",MERGED,2015-01-22 11:53:27.000000000,2015-01-22 12:03:05.000000000,2015-01-22 12:03:04.000000000,"[{'_account_id': 3}, {'_account_id': 9778}]","[{'number': 1, 'created': '2015-01-22 11:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/03a7f9376525bb99dd696be26ddbbc22f57c9648', 'message': 'add query_ports mode for l2proxy, query ports from novaproxy or cascaded neutron\n\nChange-Id: I0e7f5a7aada15d8d55a1475d2a1e67f4708a0034\n'}, {'number': 2, 'created': '2015-01-22 11:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/e44d71ecf352f33a859f88386d6bc32ca7709002', 'message': 'add query_ports mode for l2proxy, query ports from novaproxy or cascaded neutron\n\nChange-Id: I0e7f5a7aada15d8d55a1475d2a1e67f4708a0034\n'}, {'number': 3, 'created': '2015-01-22 12:01:22.000000000', 'files': ['neutronproxy/l2proxy/neutron/plugins/l2_proxy/common/config.py', 'neutronproxy/l2proxy/neutron/plugins/l2_proxy/agent/l2_proxy.py'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/ff1c3a2971cb13936339dc45307c0f5e2d0b0466', 'message': 'add query_ports mode for l2proxy, query ports from novaproxy or cascaded neutron\n\nChange-Id: I0e7f5a7aada15d8d55a1475d2a1e67f4708a0034\n'}]",0,149223,ff1c3a2971cb13936339dc45307c0f5e2d0b0466,10,2,3,9778,,,0,"add query_ports mode for l2proxy, query ports from novaproxy or cascaded neutron

Change-Id: I0e7f5a7aada15d8d55a1475d2a1e67f4708a0034
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/23/149223/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutronproxy/l2proxy/neutron/plugins/l2_proxy/agent/l2_proxy.py', 'neutronproxy/l2proxy/neutron/plugins/l2_proxy/common/config.py']",2,03a7f9376525bb99dd696be26ddbbc22f57c9648,," cfg.StrOpt('query_ports_mode', default='nova_proxy', help=_(""query ports mode, default value is nova_proxy,"" ""means query ports from nova_proxy"")), cfg.StrOpt('proxy_sock_path', default='/var/l2proxysock', help=_(""socket path when query ports from nova_proxy"")),",,202,777
openstack%2Fec2-api~master~Ie518b57fff9dded2481ee9717ca5ff4fe1b52b51,openstack/ec2-api,master,Ie518b57fff9dded2481ee9717ca5ff4fe1b52b51,Test critical sequences of calls in rollback operations,MERGED,2015-01-22 07:57:28.000000000,2015-01-22 11:59:55.000000000,2015-01-22 11:59:55.000000000,"[{'_account_id': 3}, {'_account_id': 9312}, {'_account_id': 10234}]","[{'number': 1, 'created': '2015-01-22 07:57:28.000000000', 'files': ['ec2api/tests/test_subnet.py', 'ec2api/tests/test_instance.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/49ab125d5edf7f853d6a064425ff38cacdcb9608', 'message': 'Test critical sequences of calls in rollback operations\n\nChange-Id: Ie518b57fff9dded2481ee9717ca5ff4fe1b52b51\n'}]",0,149176,49ab125d5edf7f853d6a064425ff38cacdcb9608,6,3,1,10224,,,0,"Test critical sequences of calls in rollback operations

Change-Id: Ie518b57fff9dded2481ee9717ca5ff4fe1b52b51
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/76/149176/1 && git format-patch -1 --stdout FETCH_HEAD,"['ec2api/tests/test_subnet.py', 'ec2api/tests/test_instance.py']",2,49ab125d5edf7f853d6a064425ff38cacdcb9608,master," mock_manager = mock.MagicMock() mock_manager.attach_mock(self.network_interface_api, 'network_interface_api') mock_manager.attach_mock(self.neutron, 'neutron') mock_manager.attach_mock(self.nova_servers, 'nova_servers') calls = [] calls.append( mock.call.network_interface_api._detach_network_interface_item( mock.ANY, fakes.DB_NETWORK_INTERFACE_1)) if not new_port: calls.append( mock.call.neutron.update_port( fakes.ID_OS_PORT_1, {'port': {'device_id': '', 'device_owner': ''}})) calls.append( mock.call.nova_servers.delete(fakes.ID_OS_INSTANCE_1)) if new_port: calls.append( mock.call.network_interface_api.delete_network_interface( mock.ANY, network_interface_id=fakes.ID_EC2_NETWORK_INTERFACE_1)) mock_manager.assert_has_calls(calls)"," # TODO(ft): check sequence of calling # neutron update port must be the first if new_port: (self.network_interface_api. delete_network_interface.assert_called_once_with( mock.ANY, network_interface_id=fakes.ID_EC2_NETWORK_INTERFACE_1)) else: self.neutron.update_port.assert_called_once_with( fakes.ID_OS_PORT_1, {'port': {'device_id': '', 'device_owner': ''}}) self.nova_servers.delete.assert_called_once_with( fakes.ID_OS_INSTANCE_1)",28,21
openstack%2Fec2-api~master~If4e3fa2a164d7643863fa9cade75529671d76156,openstack/ec2-api,master,If4e3fa2a164d7643863fa9cade75529671d76156,Implement tests on OnCrashCleaner,MERGED,2015-01-21 23:23:55.000000000,2015-01-22 11:58:45.000000000,2015-01-22 11:58:44.000000000,"[{'_account_id': 3}, {'_account_id': 9312}, {'_account_id': 10234}]","[{'number': 1, 'created': '2015-01-21 23:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/d137b9886cf33515dd11f9e031eba7d539ee8206', 'message': 'Implement tests on OnCrashCleaner\n\nChange-Id: If4e3fa2a164d7643863fa9cade75529671d76156\n'}, {'number': 2, 'created': '2015-01-21 23:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/3621d189c165ae3a679323df07574284a9c2ec0a', 'message': 'Implement tests on OnCrashCleaner\n\nChange-Id: If4e3fa2a164d7643863fa9cade75529671d76156\n'}, {'number': 3, 'created': '2015-01-22 06:42:44.000000000', 'files': ['ec2api/api/snapshot.py', 'ec2api/api/network_interface.py', 'ec2api/api/dhcp_options.py', 'ec2api/api/internet_gateway.py', 'ec2api/tests/test_common.py', 'ec2api/api/route_table.py', 'ec2api/api/address.py', 'ec2api/api/image.py', 'ec2api/api/instance.py', 'ec2api/api/utils.py', 'ec2api/api/volume.py', 'ec2api/api/subnet.py', 'ec2api/api/common.py', 'ec2api/api/vpc.py', 'ec2api/tests/test_route_table.py', 'ec2api/api/security_group.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/dbfb5b967afb0a93b28b290bce4bff3c4bdcd4ce', 'message': 'Implement tests on OnCrashCleaner\n\nChange-Id: If4e3fa2a164d7643863fa9cade75529671d76156\n'}]",0,149078,dbfb5b967afb0a93b28b290bce4bff3c4bdcd4ce,10,3,3,10224,,,0,"Implement tests on OnCrashCleaner

Change-Id: If4e3fa2a164d7643863fa9cade75529671d76156
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/78/149078/2 && git format-patch -1 --stdout FETCH_HEAD,"['ec2api/api/snapshot.py', 'ec2api/api/network_interface.py', 'ec2api/api/dhcp_options.py', 'ec2api/api/internet_gateway.py', 'ec2api/tests/test_common.py', 'ec2api/api/route_table.py', 'ec2api/api/address.py', 'ec2api/api/image.py', 'ec2api/api/instance.py', 'ec2api/api/utils.py', 'ec2api/api/volume.py', 'ec2api/api/subnet.py', 'ec2api/api/common.py', 'ec2api/api/vpc.py', 'ec2api/tests/test_route_table.py', 'ec2api/api/security_group.py']",16,d137b9886cf33515dd11f9e031eba7d539ee8206,master, with common.OnCrashCleaner() as cleaner:,from ec2api.api import utils with utils.OnCrashCleaner() as cleaner:,186,95
openstack%2Fec2-api~master~If581ab44e59c702da553eb282ab3f77854f5b106,openstack/ec2-api,master,If581ab44e59c702da553eb282ab3f77854f5b106,Implement min-max logic for run-instances,MERGED,2015-01-21 20:39:31.000000000,2015-01-22 11:58:08.000000000,2015-01-22 11:58:07.000000000,"[{'_account_id': 3}, {'_account_id': 9312}, {'_account_id': 10234}]","[{'number': 1, 'created': '2015-01-21 20:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/714fe31e068c7b525eb74318d23f900dc6924659', 'message': 'Implement min-max logic for run-instances\n\nChange-Id: If581ab44e59c702da553eb282ab3f77854f5b106\n'}, {'number': 2, 'created': '2015-01-21 20:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/3b164747be1a3d10c9b206a3b8402ded75b01d93', 'message': 'Implement min-max logic for run-instances\n\nChange-Id: If581ab44e59c702da553eb282ab3f77854f5b106\n'}, {'number': 3, 'created': '2015-01-21 21:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/4f252c375ffc097a3127f841d05838e3db289f3c', 'message': 'Implement min-max logic for run-instances\n\nChange-Id: If581ab44e59c702da553eb282ab3f77854f5b106\n'}, {'number': 4, 'created': '2015-01-22 06:42:44.000000000', 'files': ['ec2api/api/instance.py', 'ec2api/api/utils.py', 'ec2api/tests/test_instance.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/aa9e16c61f6f6d103350f48eec9aa26e501123ea', 'message': 'Implement min-max logic for run-instances\n\nChange-Id: If581ab44e59c702da553eb282ab3f77854f5b106\n'}]",0,149042,aa9e16c61f6f6d103350f48eec9aa26e501123ea,12,3,4,10224,,,0,"Implement min-max logic for run-instances

Change-Id: If581ab44e59c702da553eb282ab3f77854f5b106
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/42/149042/1 && git format-patch -1 --stdout FETCH_HEAD,"['ec2api/api/instance.py', 'ec2api/api/utils.py', 'ec2api/tests/test_instance.py']",3,714fe31e068c7b525eb74318d23f900dc6924659,master," @mock.patch('ec2api.api.instance.InstanceEngineNeutron.' 'format_network_interfaces') @mock.patch('ec2api.api.instance._format_reservation') def test_run_instances_multiply_rollback(self, format_reservation, format_network_interfaces): instances = [{'id': fakes.random_ec2_id('i'), 'os_id': fakes.random_os_id()} for dummy in range(3)] os_instances = [fakes.OSInstance(inst['os_id']) for inst in instances] network_interfaces = [{'id': fakes.random_ec2_id('eni'), 'os_id': fakes.random_os_id()} for dummy in range(3)] self.db_api.get_item_by_id.side_effect = ( fakes.get_db_api_get_item_by_id( dict((item['id'], item) for item in itertools.chain([fakes.DB_SUBNET_1], network_interfaces)))) self.db_api.get_item_ids.return_value = [ (fakes.ID_EC2_IMAGE_1, fakes.ID_OS_IMAGE_1)] self.glance.images.get.return_value = fakes.OSImage(fakes.OS_IMAGE_1) self.utils_generate_uid.return_value = fakes.ID_EC2_RESERVATION_1 format_network_interfaces.return_value = [] def do_check(engine): instance_api.instance_engine = engine self.network_interface_api.create_network_interface.side_effect = [ {'networkInterface': {'networkInterfaceId': eni['id']}} for eni in network_interfaces] self.db_api.add_item.side_effect = instances self.nova_servers.create.side_effect = os_instances self.novadb.instance_get_by_uuid.side_effect = [ {}, {}, Exception()] format_reservation.side_effect = ( lambda _context, r_id, instance_info, *args, **kwargs: ( {'reservationId': r_id, 'instancesSet': [ {'instanceId': inst['id']} for inst, _os_inst, _novadb_inst in instance_info]})) resp = self.execute('RunInstances', {'ImageId': fakes.ID_EC2_IMAGE_1, 'InstanceType': 'fake_flavor', 'MinCount': '2', 'MaxCount': '3', 'SubnetId': fakes.ID_EC2_SUBNET_1}) self.assertEqual(200, resp['http_status_code']) resp.pop('http_status_code') self.assertThat(resp, matchers.DictMatches( {'reservationId': fakes.ID_EC2_RESERVATION_1, 'instancesSet': [ {'instanceId': inst['id']} for inst in instances[:2]]})) self.nova_servers.delete.assert_called_once_with( instances[2]['os_id']) self.db_api.delete_item.assert_called_once_with( mock.ANY, instances[2]['id']) self.nova_servers.reset_mock() self.db_api.reset_mock() do_check(instance_api.InstanceEngineNeutron()) (self.network_interface_api._detach_network_interface_item. assert_called_once_with(mock.ANY, network_interfaces[2])) (self.network_interface_api.delete_network_interface. assert_called_once_with( mock.ANY, network_interface_id=network_interfaces[2]['id'])) do_check(instance_api.InstanceEngineNova()) ",,106,36
openstack%2Frally~master~Ie1d6756b97ff631588e069ba58969dc505c1572c,openstack/rally,master,Ie1d6756b97ff631588e069ba58969dc505c1572c,Update location to samples,MERGED,2015-01-20 21:28:53.000000000,2015-01-22 11:56:23.000000000,2015-01-22 11:56:20.000000000,"[{'_account_id': 3}, {'_account_id': 4428}, {'_account_id': 6172}, {'_account_id': 14135}]","[{'number': 1, 'created': '2015-01-20 21:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9861f6abc7388190aa6abb207ea788ddc5654803', 'message': 'Update location to sample script\n\nWith the docs reorg, the path to the sample script changed. This updates\nthe tasks/code that referenced it.\n\nChange-Id: Ie1d6756b97ff631588e069ba58969dc505c1572c\n'}, {'number': 2, 'created': '2015-01-21 18:13:55.000000000', 'files': ['samples/tasks/runners/README.rst', 'samples/tasks/scenarios/vm/boot-runcommand-delete-with-disk.yaml', 'samples/tasks/scenarios/vm/boot-runcommand-delete.yaml', 'rally/benchmark/scenarios/vm/vmtasks.py', 'samples/tasks/scenarios/README.rst', 'samples/tasks/README.rst', 'samples/tasks/scenarios/vm/boot-runcommand-delete.json', 'rally-jobs/README.rst', 'samples/tasks/scenarios/vm/boot-runcommand-delete-with-disk.json'], 'web_link': 'https://opendev.org/openstack/rally/commit/ade9148b215c4203edb5188917e62ae67dfbebfd', 'message': 'Update location to samples\n\nWith the docs reorg, the path to the samples/ directory changed. This updates\nthe tasks/code/docs that referenced it.\n\nChange-Id: Ie1d6756b97ff631588e069ba58969dc505c1572c\n'}]",0,148726,ade9148b215c4203edb5188917e62ae67dfbebfd,24,4,2,6589,,,0,"Update location to samples

With the docs reorg, the path to the samples/ directory changed. This updates
the tasks/code/docs that referenced it.

Change-Id: Ie1d6756b97ff631588e069ba58969dc505c1572c
",git fetch https://review.opendev.org/openstack/rally refs/changes/26/148726/2 && git format-patch -1 --stdout FETCH_HEAD,"['samples/tasks/scenarios/vm/boot-runcommand-delete-with-disk.yaml', 'samples/tasks/scenarios/vm/boot-runcommand-delete.yaml', 'rally/benchmark/scenarios/vm/vmtasks.py', 'samples/tasks/scenarios/vm/boot-runcommand-delete.json', 'samples/tasks/scenarios/vm/boot-runcommand-delete-with-disk.json']",5,9861f6abc7388190aa6abb207ea788ddc5654803,fix-script-location," ""script"": ""samples/tasks/support/instance_dd_test.sh"","," ""script"": ""doc/samples/tasks/support/instance_dd_test.sh"",",5,5
openstack%2Fswift~master~I5ed4cd09dde514ec7d1e74afe35feaab0cf28a10,openstack/swift,master,I5ed4cd09dde514ec7d1e74afe35feaab0cf28a10,Improve object-replicator startup time.,MERGED,2014-12-08 23:26:03.000000000,2015-01-22 11:54:02.000000000,2015-01-22 11:54:01.000000000,"[{'_account_id': 3}, {'_account_id': 330}, {'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 7847}, {'_account_id': 7848}, {'_account_id': 13052}]","[{'number': 1, 'created': '2014-12-08 23:26:03.000000000', 'files': ['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ba8114a513c17656696d3977292f464548f7a093', 'message': 'Improve object-replicator startup time.\n\nThe object replicator checks each partition directory to ensure it\'s\nreally a directory and not a zero-byte file. This was happening in\ncollect_jobs(), which is the first thing that the object replicator\ndoes.\n\nThe effect was that, at startup, the object-replicator process would\nlist each ""objects"" or ""objects-N"" directory on each object device,\nthen stat() every single thing in there. On devices with lots of\npartitions on them, this makes the replicator take a long time before\nit does anything useful.\n\nIf you have a cluster with a too-high part_power plus some failing\ndisks elsewhere, you can easily get thousands of partition directories\non each disk. If you\'ve got 36 disks per node, that turns into a very\nlong wait for the object replicator to do anything. Worse yet, if you\nadd in a configuration management system that pushes new rings every\ncouple hours, the object replicator can spend the vast majority of its\ntime collecting jobs, then only spend a short time doing useful work\nbefore the ring changes and it has to start all over again.\n\nThis commit moves the stat() call (os.path.isfile) to the loop that\nprocesses jobs. In a complete pass, the total work done is about the\nsame, but the replicator starts doing useful work much sooner.\n\nChange-Id: I5ed4cd09dde514ec7d1e74afe35feaab0cf28a10\n'}]",0,140178,ba8114a513c17656696d3977292f464548f7a093,14,7,1,2622,,,0,"Improve object-replicator startup time.

The object replicator checks each partition directory to ensure it's
really a directory and not a zero-byte file. This was happening in
collect_jobs(), which is the first thing that the object replicator
does.

The effect was that, at startup, the object-replicator process would
list each ""objects"" or ""objects-N"" directory on each object device,
then stat() every single thing in there. On devices with lots of
partitions on them, this makes the replicator take a long time before
it does anything useful.

If you have a cluster with a too-high part_power plus some failing
disks elsewhere, you can easily get thousands of partition directories
on each disk. If you've got 36 disks per node, that turns into a very
long wait for the object replicator to do anything. Worse yet, if you
add in a configuration management system that pushes new rings every
couple hours, the object replicator can spend the vast majority of its
time collecting jobs, then only spend a short time doing useful work
before the ring changes and it has to start all over again.

This commit moves the stat() call (os.path.isfile) to the loop that
processes jobs. In a complete pass, the total work done is about the
same, but the replicator starts doing useful work much sooner.

Change-Id: I5ed4cd09dde514ec7d1e74afe35feaab0cf28a10
",git fetch https://review.opendev.org/openstack/swift refs/changes/78/140178/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py']",2,ba8114a513c17656696d3977292f464548f7a093,obj-replicator-fast-start," def test_replicator_skips_bogus_partition_dirs(self): # A directory in the wrong place shouldn't crash the replicator rmtree(self.objects) rmtree(self.objects_1) os.mkdir(self.objects) os.mkdir(self.objects_1) os.mkdir(os.path.join(self.objects, ""burrito"")) self.assertEqual(len(jobs), 0) def test_replicator_removes_zbf(self): # After running xfs_repair, a partition directory could become a # zero-byte file. If this happens, the replicator should clean it # up, log something, and move on to the next partition. # Surprise! Partition dir 1 is actually a zero-byte file. pol_0_part_1_path = os.path.join(self.objects, '1') rmtree(pol_0_part_1_path) with open(pol_0_part_1_path, 'w'): pass self.assertTrue(os.path.isfile(pol_0_part_1_path)) # sanity check # Policy 1's partition dir 1 is also a zero-byte file. pol_1_part_1_path = os.path.join(self.objects_1, '1') rmtree(pol_1_part_1_path) with open(pol_1_part_1_path, 'w'): pass self.assertTrue(os.path.isfile(pol_1_part_1_path)) # sanity check # Don't delete things in collect_jobs(); all the stat() calls would # make replicator startup really slow. self.replicator.collect_jobs() self.assertTrue(os.path.exists(pol_0_part_1_path)) self.assertTrue(os.path.exists(pol_1_part_1_path)) # After a replication pass, the files should be gone with mock.patch('swift.obj.replicator.http_connect', mock_http_connect(200)): self.replicator.run_once() self.assertFalse(os.path.exists(pol_0_part_1_path)) self.assertFalse(os.path.exists(pol_1_part_1_path)) logged_warnings = sorted(self.replicator.logger.log_dict['warning']) pol_1_part_1_path), {}), logged_warnings[0]) pol_0_part_1_path), {}), logged_warnings[1])"," def test_collect_jobs_removes_zbf(self): """""" After running xfs_repair, a partition directory could become a zero-byte file. If this happens, collect_jobs() should clean it up and *not* create a job which will hit an exception as it tries to listdir() a file. """""" # Surprise! Partition dir 1 is actually a zero-byte-file part_1_path = os.path.join(self.objects, '1') rmtree(part_1_path) with open(part_1_path, 'w'): pass self.assertTrue(os.path.isfile(part_1_path)) # sanity check part_1_path_1 = os.path.join(self.objects_1, '1') rmtree(part_1_path_1) with open(part_1_path_1, 'w'): pass self.assertTrue(os.path.isfile(part_1_path_1)) # sanity check jobs_to_delete = [j for j in jobs if j['delete']] jobs_by_pol_part = {} for job in jobs: jobs_by_pol_part[str(job['policy_idx']) + job['partition']] = job self.assertEquals(len(jobs_to_delete), 0) self.assertEquals( [node['id'] for node in jobs_by_pol_part['00']['nodes']], [1, 2]) self.assertFalse('1' in jobs_by_pol_part) self.assertEquals( [node['id'] for node in jobs_by_pol_part['02']['nodes']], [2, 3]) self.assertEquals( [node['id'] for node in jobs_by_pol_part['03']['nodes']], [3, 1]) self.assertEquals( [node['id'] for node in jobs_by_pol_part['10']['nodes']], [1, 2]) self.assertFalse('1' in jobs_by_pol_part) self.assertEquals( [node['id'] for node in jobs_by_pol_part['12']['nodes']], [2, 3]) self.assertEquals( [node['id'] for node in jobs_by_pol_part['13']['nodes']], [3, 1]) for part in ['00', '02', '03']: for node in jobs_by_pol_part[part]['nodes']: self.assertEquals(node['device'], 'sda') self.assertEquals(jobs_by_pol_part[part]['path'], os.path.join(self.objects, part[1:])) self.assertFalse(os.path.exists(part_1_path)) expected = sorted(self.replicator.logger.log_dict['warning']) part_1_path), {}), expected[1]) # policy 1 for part in ['10', '12', '13']: for node in jobs_by_pol_part[part]['nodes']: self.assertEquals(node['device'], 'sda') self.assertEquals(jobs_by_pol_part[part]['path'], os.path.join(self.objects_1, part[1:])) self.assertFalse(os.path.exists(part_1_path_1)) part_1_path_1), {}), expected[0])",58,63
openstack%2Fsahara~master~I23caa3d55c5f6eecee03b8c0488ae65d61107903,openstack/sahara,master,I23caa3d55c5f6eecee03b8c0488ae65d61107903,Removed unused variable from tests,MERGED,2015-01-21 15:33:44.000000000,2015-01-22 11:53:54.000000000,2015-01-22 11:53:53.000000000,"[{'_account_id': 3}, {'_account_id': 7132}, {'_account_id': 7213}, {'_account_id': 7491}, {'_account_id': 7710}, {'_account_id': 8411}, {'_account_id': 12038}]","[{'number': 1, 'created': '2015-01-21 15:33:44.000000000', 'files': ['sahara/tests/unit/db/migration/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/772a7f2c0dbf17778191ded82b823b365fcf285a', 'message': 'Removed unused variable from tests\n\nThis variable was not used anywhere, thus it is safe to remove it.\n\nChange-Id: I23caa3d55c5f6eecee03b8c0488ae65d61107903\n'}]",0,148960,772a7f2c0dbf17778191ded82b823b365fcf285a,12,7,1,7600,,,0,"Removed unused variable from tests

This variable was not used anywhere, thus it is safe to remove it.

Change-Id: I23caa3d55c5f6eecee03b8c0488ae65d61107903
",git fetch https://review.opendev.org/openstack/sahara refs/changes/60/148960/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara/tests/unit/db/migration/test_migrations.py'],1,772a7f2c0dbf17778191ded82b823b365fcf285a,,, TIMEOUT_SCALING_FACTOR = 2 ,0,2
openstack%2Fneutron~master~I5858c2ba8039a381576b4e8191466688b0e7aa2b,openstack/neutron,master,I5858c2ba8039a381576b4e8191466688b0e7aa2b,Creta cuestom package witch vSphere DVS plugin,ABANDONED,2015-01-22 10:19:25.000000000,2015-01-22 11:37:50.000000000,,"[{'_account_id': 5170}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 12139}]","[{'number': 1, 'created': '2015-01-22 10:19:25.000000000', 'files': ['neutron/plugins/ml2/drivers/mech_dvs/vmware_util.py', 'neutron/plugins/ml2/drivers/mech_dvs/driver.py', 'neutron/tests/unit/ml2/drivers/mech_dvs/test_mech_dvs.py', 'etc/neutron/plugins/ml2/ml2_conf.ini', 'neutron/plugins/ml2/drivers/mech_dvs/__init__.py', 'neutron/tests/unit/ml2/drivers/mech_dvs/test_vmware_util.py', 'etc/neutron/plugins/ml2/ml2_conf_vmware_dvs.ini', 'neutron/tests/unit/ml2/drivers/mech_dvs/__init__.py', 'requirements.txt', 'neutron/plugins/ml2/drivers/mech_dvs/config.py', 'setup.cfg', 'neutron/tests/unit/ml2/drivers/mech_dvs/fake.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/97d87026e1fc3cbc1660b4413c82d207a25d9040', 'message': 'Creta cuestom package witch vSphere DVS plugin\n\nChange-Id: I5858c2ba8039a381576b4e8191466688b0e7aa2b\n'}]",0,149206,97d87026e1fc3cbc1660b4413c82d207a25d9040,10,8,1,12139,,,0,"Creta cuestom package witch vSphere DVS plugin

Change-Id: I5858c2ba8039a381576b4e8191466688b0e7aa2b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/149206/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/mech_dvs/vmware_util.py', 'neutron/plugins/ml2/drivers/mech_dvs/driver.py', 'neutron/tests/unit/ml2/drivers/mech_dvs/test_mech_dvs.py', 'etc/neutron/plugins/ml2/ml2_conf.ini', 'neutron/plugins/ml2/drivers/mech_dvs/__init__.py', 'neutron/tests/unit/ml2/drivers/mech_dvs/test_vmware_util.py', 'etc/neutron/plugins/ml2/ml2_conf_vmware_dvs.ini', 'neutron/tests/unit/ml2/drivers/mech_dvs/__init__.py', 'requirements.txt', 'neutron/plugins/ml2/drivers/mech_dvs/config.py', 'setup.cfg', 'neutron/tests/unit/ml2/drivers/mech_dvs/fake.py']",12,97d87026e1fc3cbc1660b4413c82d207a25d9040,neutron_with_dvs,"# Copyright (c) 2013 Hewlett-Packard Development Company, L.P. # Copyright (c) 2012 VMware, Inc. # Copyright (c) 2011 Citrix Systems, Inc. # Copyright 2011 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" A fake VMware VI API implementation. """""" import collections from neutron.openstack.common import jsonutils class FakeRetrieveResult(object): """"""Object to retrieve a ObjectContent list."""""" def __init__(self, token=None): self.objects = [] if token is not None: self.token = token def add_object(self, object): self.objects.append(object) class ManagedObjectReference(object): """"""A managed object reference is a remote identifier."""""" def __init__(self, name=""ManagedObject"", value=None): super(ManagedObjectReference, self) # Managed Object Reference value attributes # typically have values like vm-123 or # host-232 and not UUID. self.value = value # Managed Object Reference type # attributes hold the name of the type # of the vCenter object the value # attribute is the identifier for self.type = name self._type = name class ObjectContent(object): """"""ObjectContent array holds dynamic properties."""""" # This class is a *fake* of a class sent back to us by # SOAP. It has its own names. These names are decided # for us by the API we are *faking* here. def __init__(self, obj_ref, prop_list=None, missing_list=None): self.obj = obj_ref if not isinstance(prop_list, collections.Iterable): prop_list = [] if not isinstance(missing_list, collections.Iterable): missing_list = [] # propSet is the name your Python code will need to # use since this is the name that the API will use if prop_list: self.propSet = prop_list # missingSet is the name your python code will # need to use since this is the name that the # API we are talking to will use. if missing_list: self.missingSet = missing_list class Prop(object): """"""Property Object base class."""""" def __init__(self, name=None, val=None): self.name = name self.val = val class ContextBase(object): """"""Context for ml2 plugin"""""" def set(self, attr, val): """"""Sets an attribute value. Not using the __setattr__ directly for we want to set attributes of the type 'a.b.c' and using this function class we set the same. """""" self.__setattr__(attr, val) def get(self, attr): """"""Gets an attribute. Used as an intermediary to get nested property like 'a.b.c' value. """""" return self.__getattr__(attr) class NetworkContext(ContextBase): def __init__(self, current={}, original={}, network_segments={}): object.__setattr__(self, 'current', current) object.__setattr__(self, 'original', original) object.__setattr__(self, 'network_segments', network_segments) class PortContext(ContextBase): def __init__(self, current={}, network=None): object.__setattr__(self, 'current', current) object.__setattr__(self, 'network', network) def set_binding(self): pass class ManagedObject(object): """"""Managed Object base class."""""" _counter = 0 def __init__(self, mo_id_prefix=""obj""): """"""Sets the obj property which acts as a reference to the object."""""" object.__setattr__(self, 'mo_id', self._generate_moid(mo_id_prefix)) object.__setattr__(self, 'propSet', []) object.__setattr__(self, 'obj', ManagedObjectReference(self.__class__.__name__, self.mo_id)) def set(self, attr, val): """"""Sets an attribute value. Not using the __setattr__ directly for we want to set attributes of the type 'a.b.c' and using this function class we set the same. """""" self.__setattr__(attr, val) def get(self, attr): """"""Gets an attribute. Used as an intermediary to get nested property like 'a.b.c' value. """""" return self.__getattr__(attr) def __setattr__(self, attr, val): # TODO(hartsocks): this is adds unnecessary complexity to the class for prop in self.propSet: if prop.name == attr: prop.val = val return elem = Prop() elem.name = attr elem.val = val self.propSet.append(elem) def __getattr__(self, attr): # TODO(hartsocks): remove this # in a real ManagedObject you have to iterate the propSet # in a real ManagedObject, the propSet is a *set* not a list for elem in self.propSet: if elem.name == attr: return elem.val msg = _(""Property %(attr)s not set for the managed object %(name)s"") raise Exception(msg % {'attr': attr, 'name': self.__class__.__name__}) def _generate_moid(self, prefix): """"""Generates a new Managed Object ID."""""" self.__class__._counter += 1 return prefix + ""-"" + str(self.__class__._counter) def __repr__(self): return jsonutils.dumps(dict([(elem.name, elem.val) for elem in self.propSet])) class DataObject(object): """"""Data object base class."""""" def __init__(self, obj_name=None): self.obj_name = obj_name def __repr__(self): return str(self.__dict__) class Datacenter(ManagedObject): """"""Datacenter class."""""" def __init__(self, name=""ha-datacenter"", ds_ref=None): super(Datacenter, self).__init__(""dc"") self.set(""name"", name) self.set(""vmFolder"", ""vm_folder_ref"") #if _db_content.get(""Network"", None) is None: # create_network() #net_ref = _db_content[""Network""][_db_content[""Network""].keys()[0]].obj #network_do = DataObject() #network_do.ManagedObjectReference = [net_ref] #self.set(""network"", network_do) if ds_ref: datastore = DataObject() datastore.ManagedObjectReference = [ds_ref] else: datastore = None self.set(""datastore"", datastore) class ResultCollection(object): def __init__(self, collections=[]): self.ManagedObjectReference = collections def reset(self): self.ManagedObjectReference = [] def add(self, item): self.ManagedObjectReference.append(item) class NetworkFolder(ManagedObjectReference): """"""Network Folder class."""""" def __init__(self, value, **kwargs): super(NetworkFolder, self).__init__(""Folder"", value) class Network(ManagedObjectReference): """"""Network Folder class."""""" def __init__(self, value, **kwargs): super(Network, self).__init__(""Network"", value) class VmwareDistributedVirtualSwitch(ManagedObjectReference): def __init__(self, value, **kwargs): super(VmwareDistributedVirtualSwitch, self).__init__( ""VmwareDistributedVirtualSwitch"", value) class DistributedVirtualPortgroup(ManagedObjectReference): def __init__(self, value, **kwargs): super(DistributedVirtualPortgroup, self).__init__( ""DistributedVirtualPortgroup"", value) ",,947,3
openstack%2Ftricircle~master~I93203eb051e02f224969478f44041a3695d02033,openstack/tricircle,master,I93203eb051e02f224969478f44041a3695d02033,send port info to neutron,MERGED,2015-01-22 11:33:57.000000000,2015-01-22 11:37:05.000000000,2015-01-22 11:37:05.000000000,"[{'_account_id': 3}, {'_account_id': 9684}]","[{'number': 1, 'created': '2015-01-22 11:33:57.000000000', 'files': ['novaproxy/nova/compute/manager_proxy.py'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/bfe17a736aae85acb0e0e05a817ae30bb49034f9', 'message': 'send port info to neutron\n\nsend port info to neutron\n\nChange-Id: I93203eb051e02f224969478f44041a3695d02033\n'}]",0,149218,bfe17a736aae85acb0e0e05a817ae30bb49034f9,6,2,1,9684,,,0,"send port info to neutron

send port info to neutron

Change-Id: I93203eb051e02f224969478f44041a3695d02033
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/18/149218/1 && git format-patch -1 --stdout FETCH_HEAD,['novaproxy/nova/compute/manager_proxy.py'],1,bfe17a736aae85acb0e0e05a817ae30bb49034f9,,"import os # Note(lizm) send port info to neutron ports = {""ports"":{}} socket_dir = '/var/l2proxysock' if not os.path.exists(socket_dir): LOG.debug(""socket file is not exist!"") raise else: retry = 5 cas_ports = [cas_port_id[""port""][""id""] for cas_port_id in cascaded_ports] sock = socket.socket(socket.AF_UNIX, socket.SOCK_STREAM) for i in xrange(retry): try: sock.connect(socket_dir) time.sleep(1) ports[""ports""][""add""] = cas_ports LOG.debug(""csa port is %s"",ports) ports_data = jsonutils.dumps(ports) sock.send(str(ports_data)) except socket.error: LOG.debug(""socket error! continue"") sock.close() raise sock.close()",,24,0
openstack%2Fneutron~stable%2Fjuno~Ib26ccfa7b945cb4e8f2ec4adc5e6ae91cbaae02e,openstack/neutron,stable/juno,Ib26ccfa7b945cb4e8f2ec4adc5e6ae91cbaae02e,Fix for KeyError: 'gw_port_host' on l3_agent,MERGED,2015-01-15 22:55:08.000000000,2015-01-22 11:28:09.000000000,2015-01-22 11:28:07.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 6659}, {'_account_id': 7448}, {'_account_id': 8645}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 10153}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 10971}, {'_account_id': 12040}, {'_account_id': 12683}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}]","[{'number': 1, 'created': '2015-01-15 22:55:08.000000000', 'files': ['neutron/agent/l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/42630f9b9e62d6a2199b1ac4f7f4aa61bd636066', 'message': ""Fix for KeyError: 'gw_port_host' on l3_agent\n\nThe dictionary field 'gw_port_host' was added for\nDVR routers and is used by the scheduler and l3_agent\nto schedule where the SNAT port for a DVR router\nwill be hosted.  In some code flows on the l3_agent,\nthis field is checked to determine what the agent\nshould do if the host matches its own or not.\n\nRecently it has been seen that the router data sent\nfrom the scheduler is missing this field in some cases.\nThis causes the agent to throw a KeyError and not function\nproperly.  This patch will make the l3_agent more robust\nand less fragile by calling 'get' instead of assuming the\nfield will be there.\n\nMore work may be needed on the scheduler side to see why\nthis field is missing. That is why I am marking this as a\npartial-fix for now. But this patch will make the l3_agent\nless prone to errors and therefore an improvement.\n\n(cherry-picked from 5908a60ab98886a807044da56f51bceafd15edc9)\nPartial-Bug: #1394043\nChange-Id: Ib26ccfa7b945cb4e8f2ec4adc5e6ae91cbaae02e\n""}]",3,147695,42630f9b9e62d6a2199b1ac4f7f4aa61bd636066,28,23,1,6876,,,0,"Fix for KeyError: 'gw_port_host' on l3_agent

The dictionary field 'gw_port_host' was added for
DVR routers and is used by the scheduler and l3_agent
to schedule where the SNAT port for a DVR router
will be hosted.  In some code flows on the l3_agent,
this field is checked to determine what the agent
should do if the host matches its own or not.

Recently it has been seen that the router data sent
from the scheduler is missing this field in some cases.
This causes the agent to throw a KeyError and not function
properly.  This patch will make the l3_agent more robust
and less fragile by calling 'get' instead of assuming the
field will be there.

More work may be needed on the scheduler side to see why
this field is missing. That is why I am marking this as a
partial-fix for now. But this patch will make the l3_agent
less prone to errors and therefore an improvement.

(cherry-picked from 5908a60ab98886a807044da56f51bceafd15edc9)
Partial-Bug: #1394043
Change-Id: Ib26ccfa7b945cb4e8f2ec4adc5e6ae91cbaae02e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/147695/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3_agent.py'],1,42630f9b9e62d6a2199b1ac4f7f4aa61bd636066,bug/1394043," ex_gw_port and self.get_gw_port_host(ri.router) == self.host): def get_gw_port_host(self, router): host = router.get('gw_port_host') if not host: LOG.debug(""gw_port_host missing from router: %s"", router['id']) return host self.get_gw_port_host(ri.router) == self.host): self.get_gw_port_host(ri.router) == self.host): self.get_gw_port_host(ri.router) == self.host): self.get_gw_port_host(ri.router) == self.host):", ex_gw_port and ri.router['gw_port_host'] == self.host): ri.router['gw_port_host'] == self.host): ri.router['gw_port_host'] == self.host): ri.router['gw_port_host'] == self.host): ri.router['gw_port_host'] == self.host):,12,5
openstack%2Fironic-inspector~master~I952e8307cec534aa09f48a3d476f58b338b9aea8,openstack/ironic-inspector,master,I952e8307cec534aa09f48a3d476f58b338b9aea8,"Revert ""Get rid of monkey patching work around for Python 2 in main.py""",MERGED,2015-01-22 10:46:49.000000000,2015-01-22 11:27:40.000000000,2015-01-22 11:27:40.000000000,"[{'_account_id': 3}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-01-22 10:46:49.000000000', 'files': ['ironic_discoverd/test/__init__.py', 'ironic_discoverd/main.py', 'functest/run.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f6b224186451ff612e2d1d2304b49bc30de85a3f', 'message': 'Revert ""Get rid of monkey patching work around for Python 2 in main.py""\n\nThis does not work, greenthread just hangs.\nNeeds further investigation as part of 1.1 series.\n\nThis reverts commit 2e459037f25f5484ec9cb568d38b6a9abf3cfb5a.\n\nChange-Id: I952e8307cec534aa09f48a3d476f58b338b9aea8\n'}]",0,149212,f6b224186451ff612e2d1d2304b49bc30de85a3f,6,2,1,10239,,,0,"Revert ""Get rid of monkey patching work around for Python 2 in main.py""

This does not work, greenthread just hangs.
Needs further investigation as part of 1.1 series.

This reverts commit 2e459037f25f5484ec9cb568d38b6a9abf3cfb5a.

Change-Id: I952e8307cec534aa09f48a3d476f58b338b9aea8
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/12/149212/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_discoverd/test/__init__.py', 'ironic_discoverd/main.py', 'functest/run.py']",3,f6b224186451ff612e2d1d2304b49bc30de85a3f,,eventlet.monkey_patch(thread=False) ,import ironic_discoverd.test # noqa - pulls in monkey patching ,4,6
openstack%2Frequirements~stable%2Fjuno~Icc44d7d1042cf3100b7375b782e7f5f8afdea872,openstack/requirements,stable/juno,Icc44d7d1042cf3100b7375b782e7f5f8afdea872,Update glance_store dependency,ABANDONED,2014-11-27 21:55:35.000000000,2015-01-22 11:22:56.000000000,,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 979}, {'_account_id': 1955}, {'_account_id': 5202}, {'_account_id': 6159}, {'_account_id': 11356}]","[{'number': 1, 'created': '2014-11-27 21:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/89a8855446c76292c3e7940dda1130b10b064a1c', 'message': 'Update glance_store dependency\n\nNewer version of glance_store would be needed to fix swift multi-\ntenant store in Glance.\n\nOn top of the cherrypick from master, cap added to glance_store.\n\nChange-Id: Icc44d7d1042cf3100b7375b782e7f5f8afdea872\n'}, {'number': 2, 'created': '2014-12-03 10:54:58.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9c705d3cbffb6255d63b8ec0ddb4225b3841545b', 'message': 'Update glance_store dependency\n\nNewer version of glance_store would be needed to fix swift multi-\ntenant store in Glance.\n\nOn top of the cherrypick from master, cap added to glance_store.\n\nChange-Id: Icc44d7d1042cf3100b7375b782e7f5f8afdea872\n'}]",3,137704,9c705d3cbffb6255d63b8ec0ddb4225b3841545b,15,7,2,5202,,,0,"Update glance_store dependency

Newer version of glance_store would be needed to fix swift multi-
tenant store in Glance.

On top of the cherrypick from master, cap added to glance_store.

Change-Id: Icc44d7d1042cf3100b7375b782e7f5f8afdea872
",git fetch https://review.opendev.org/openstack/requirements refs/changes/04/137704/2 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,89a8855446c76292c3e7940dda1130b10b064a1c,stable/juno,"glance_store>=0.1.10,<0.1.11 # Apache-2.0",glance_store>=0.1.1 # Apache-2.0,1,1
openstack%2Fpython-manilaclient~master~I4269a1840b60d7f5f60b71bc019b3cc9119d91fd,openstack/python-manilaclient,master,I4269a1840b60d7f5f60b71bc019b3cc9119d91fd,Add --show-metadata optional argument to service-list command,ABANDONED,2015-01-06 12:34:13.000000000,2015-01-22 11:11:23.000000000,,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6116}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 8851}, {'_account_id': 14232}]","[{'number': 1, 'created': '2015-01-06 12:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/6b4e290163c85c5f0f29144bb11cecf9ab6974f2', 'message': ""Add --show-metadata optional switch to service-list command\n\nCurrently client doesn't show service metadata, but this data\nmay be useful for administrators to determine which backend\nrun in which mode.\n(Services metadata added to manila in patch https://review.openstack.org/144770/)\n\nAdd  --show-metadata flag to shell command\nAdd ddt module to test-requirements\nAdd unit tests for service-list shell command\nAdd unit tests for ServiceManager\n\n\nPartially implements bp manage-shares\n\nChange-Id: I4269a1840b60d7f5f60b71bc019b3cc9119d91fd\n""}, {'number': 2, 'created': '2015-01-16 12:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/79cc15dcf70169915b7769acbda24b0675244d14', 'message': ""Add --show-metadata optional switch to service-list command\n\nCurrently client doesn't show service metadata, but this data\nmay be useful for administrators to determine which backend\nrun in which mode.\n\nAdd  --show-metadata flag to shell command\nAdd ddt module to test-requirements\nAdd unit tests for service-list shell command\nAdd unit tests for ServiceManager\n\n\nPartially implements bp manage-shares\n\nChange-Id: I4269a1840b60d7f5f60b71bc019b3cc9119d91fd\n""}, {'number': 3, 'created': '2015-01-16 12:36:33.000000000', 'files': ['manilaclient/tests/unit/v1/test_services.py', 'manilaclient/tests/unit/v1/fakes.py', 'manilaclient/tests/unit/v1/test_shell.py', 'manilaclient/v1/services.py', 'manilaclient/v1/shell.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/96ceb9a4a71dbcd65955193089bb765e049a29e4', 'message': ""Add --show-metadata optional argument to service-list command\n\nCurrently client doesn't show service metadata, but this data\nmay be useful for administrators to determine which backend\nrun in which mode.\n\nAdd  --show-metadata parameter to shell command\nAdd ddt module to test-requirements\nAdd unit tests for service-list shell command\nAdd unit tests for ServiceManager\n\n\nPartially implements bp manage-shares\n\nChange-Id: I4269a1840b60d7f5f60b71bc019b3cc9119d91fd\n""}]",12,145213,96ceb9a4a71dbcd65955193089bb765e049a29e4,13,7,3,14232,,,0,"Add --show-metadata optional argument to service-list command

Currently client doesn't show service metadata, but this data
may be useful for administrators to determine which backend
run in which mode.

Add  --show-metadata parameter to shell command
Add ddt module to test-requirements
Add unit tests for service-list shell command
Add unit tests for ServiceManager


Partially implements bp manage-shares

Change-Id: I4269a1840b60d7f5f60b71bc019b3cc9119d91fd
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/13/145213/2 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/v1/test_services.py', 'manilaclient/tests/unit/v1/fakes.py', 'test-requirements.txt', 'manilaclient/tests/unit/v1/test_shell.py', 'manilaclient/v1/services.py', 'manilaclient/v1/shell.py']",6,6b4e290163c85c5f0f29144bb11cecf9ab6974f2,bp/manage-shares,"@cliutils.arg( '--show-metadata', dest='show_metadata', metavar='<true|false>', nargs='?', type=bool, const=True, default=False, help='Show metadata in service list.') formatters = {} if args.show_metadata: fields.append(""Metadata"") def print_metadata(obj): metadata = getattr(obj, 'metadata', '') formatted_meta = [] for meta in metadata: formatted_meta.append(""%s : %s"" % (meta, metadata[meta])) return ""\n"".join(formatted_meta) formatters[""Metadata""] = print_metadata services = cs.services.list(search_opts=search_opts, load_metadata=args.show_metadata) utils.print_list(services, fields=fields, formatters=formatters)"," services = cs.services.list(search_opts=search_opts) utils.print_list(services, fields=fields)",119,29
openstack%2Fmistral~master~I6e63cda0a74be34492ece4cea91384a57d053146,openstack/mistral,master,I6e63cda0a74be34492ece4cea91384a57d053146,"Adding assertions for ""updated_at"" field in DB tests",MERGED,2015-01-20 13:12:08.000000000,2015-01-22 11:08:35.000000000,2015-01-22 11:08:34.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8592}]","[{'number': 1, 'created': '2015-01-20 13:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/503eee4d449b7f29fb2e92582a573c7d82115ff8', 'message': 'Adding assertions for ""updated_at"" field in DB tests\n\nChange-Id: I6e63cda0a74be34492ece4cea91384a57d053146\n'}, {'number': 2, 'created': '2015-01-21 19:21:42.000000000', 'files': ['mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/09acd9326a814f28b02a02885d7b03ee6184f4c0', 'message': 'Adding assertions for ""updated_at"" field in DB tests\n\nChange-Id: I6e63cda0a74be34492ece4cea91384a57d053146\n'}]",0,148542,09acd9326a814f28b02a02885d7b03ee6184f4c0,8,3,2,8731,,,0,"Adding assertions for ""updated_at"" field in DB tests

Change-Id: I6e63cda0a74be34492ece4cea91384a57d053146
",git fetch https://review.opendev.org/openstack/mistral refs/changes/42/148542/2 && git format-patch -1 --stdout FETCH_HEAD,['mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py'],1,503eee4d449b7f29fb2e92582a573c7d82115ff8,add_updated_at_assertions," self.assertIsNone(created.updated_at) self.assertIsNotNone(fetched.updated_at) self.assertIsNone(created.updated_at) self.assertIsNotNone(fetched.updated_at) self.assertIsNone(created.updated_at) self.assertIsNotNone(fetched.updated_at) self.assertIsNone(created.updated_at) {'wf_name': 'new_wf'} self.assertEqual('new_wf', updated.wf_name) self.assertIsNotNone(fetched.updated_at) self.assertIsNone(created.updated_at) self.assertIsNotNone(fetched.updated_at) self.assertIsNone(created.updated_at) self.assertIsNotNone(fetched.updated_at) self.assertIsNone(created.updated_at) self.assertIsNotNone(fetched.updated_at)"," {'description': 'my new desc'} self.assertEqual('my new desc', updated.description)",23,2
openstack%2Ffuel-web~master~If3a4dbc91d64232125298fc3114c97f7cba7aab3,openstack/fuel-web,master,If3a4dbc91d64232125298fc3114c97f7cba7aab3,Remove compute_scheduler_driver option,MERGED,2015-01-21 07:23:22.000000000,2015-01-22 11:05:41.000000000,2015-01-22 11:05:41.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8829}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 9387}, {'_account_id': 9546}, {'_account_id': 10391}, {'_account_id': 11090}, {'_account_id': 13343}, {'_account_id': 13344}, {'_account_id': 13948}]","[{'number': 1, 'created': '2015-01-21 07:23:22.000000000', 'files': ['nailgun/nailgun/fixtures/openstack.yaml'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b993c7a95afaf7311cebe2a156e00a36ad5769f4', 'message': 'Remove compute_scheduler_driver option\n\nThe option has been removed from Nova in Havana release[1][2]. The\nscheduler_driver option has been introduced instead and by default\nit is set to nova.scheduler.multi.MultiScheduler with a filter similiar\nto the old SimpleScheduler setting.\n\n[1] https://review.openstack.org/#/c/76741/\n[2] https://review.openstack.org/#/c/10303/\n\nRelated change: Ic4a305cd591c2e764f03318d9cb311817b132c91\n\nChange-Id: If3a4dbc91d64232125298fc3114c97f7cba7aab3\nRelated-Bug: 1412556\n'}]",3,148817,b993c7a95afaf7311cebe2a156e00a36ad5769f4,15,13,1,13948,,,0,"Remove compute_scheduler_driver option

The option has been removed from Nova in Havana release[1][2]. The
scheduler_driver option has been introduced instead and by default
it is set to nova.scheduler.multi.MultiScheduler with a filter similiar
to the old SimpleScheduler setting.

[1] https://review.openstack.org/#/c/76741/
[2] https://review.openstack.org/#/c/10303/

Related change: Ic4a305cd591c2e764f03318d9cb311817b132c91

Change-Id: If3a4dbc91d64232125298fc3114c97f7cba7aab3
Related-Bug: 1412556
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/17/148817/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/nailgun/fixtures/openstack.yaml'],1,b993c7a95afaf7311cebe2a156e00a36ad5769f4,bug/1412556,," compute_scheduler_driver: value: ""nova.scheduler.filter_scheduler.FilterScheduler"" values: - data: ""nova.scheduler.filter_scheduler.FilterScheduler"" label: ""Filter scheduler"" description: ""Currently the most advanced OpenStack scheduler. See the OpenStack documentation for details."" - data: ""nova.scheduler.simple.SimpleScheduler"" label: ""Simple scheduler"" description: ""This is 'naive' scheduler which tries to find the least loaded host"" label: ""Scheduler driver"" weight: 40 type: ""radio""",0,12
openstack%2Ffuel-plugins~master~Ibb98cf483ce8f45466555b9e1e1a939f85a6f4da,openstack/fuel-plugins,master,Ibb98cf483ce8f45466555b9e1e1a939f85a6f4da,NFS plugin,MERGED,2014-12-12 15:23:15.000000000,2015-01-22 11:01:49.000000000,2015-01-22 11:00:25.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8749}, {'_account_id': 8789}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 10959}, {'_account_id': 11163}, {'_account_id': 11827}, {'_account_id': 14082}]","[{'number': 1, 'created': '2014-12-12 15:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-plugins/commit/a794dd393da8ab34f169ccbeb0715af7f144f358', 'message': 'Initial version of NFS plugin\n\nChange-Id: Ibb98cf483ce8f45466555b9e1e1a939f85a6f4da\n'}, {'number': 2, 'created': '2014-12-24 11:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-plugins/commit/1afde3639cba8cb5039cf0d365b0f189c7b57edb', 'message': 'Fuel NFS plugin\n\nProvides external NFS server as Cinder backend\n\nChange-Id: Ibb98cf483ce8f45466555b9e1e1a939f85a6f4da\nImplements: blueprint cinder-neutron-plugins-in-fuel\n'}, {'number': 3, 'created': '2014-12-24 11:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-plugins/commit/8934ed5688b27a9fbc8f847891b5e3b341834ff1', 'message': 'NFS plugin\n\nProvides external NFS server as Cinder backend\n.build and .fp added to .gitignore\n\nChange-Id: Ibb98cf483ce8f45466555b9e1e1a939f85a6f4da\nImplements: blueprint cinder-neutron-plugins-in-fuel\n'}, {'number': 4, 'created': '2014-12-24 13:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-plugins/commit/5ee457daaa48321e83beaaabd6f60f5e0d41273e', 'message': 'NFS plugin\n\nProvides external NFS server as Cinder backend\n.build and *.fp added to .gitignore\n\nChange-Id: Ibb98cf483ce8f45466555b9e1e1a939f85a6f4da\nImplements: blueprint cinder-neutron-plugins-in-fuel\n'}, {'number': 5, 'created': '2014-12-24 13:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-plugins/commit/42d001e8a984d291241a63c2aeba66ac8e70ac06', 'message': 'NFS plugin\n\nProvides external NFS server as Cinder backend\n.build and *.fp added to .gitignore\n\nChange-Id: Ibb98cf483ce8f45466555b9e1e1a939f85a6f4da\nImplements: blueprint cinder-neutron-plugins-in-fuel\n'}, {'number': 6, 'created': '2014-12-26 15:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-plugins/commit/ea1a20fac6e4fd11f0219a0c5da60bf4de755467', 'message': 'NFS plugin\n\nProvides external NFS server as Cinder backend\n.build and *.fp added to .gitignore\n\nChange-Id: Ibb98cf483ce8f45466555b9e1e1a939f85a6f4da\nImplements: blueprint cinder-neutron-plugins-in-fuel\n'}, {'number': 7, 'created': '2015-01-20 13:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-plugins/commit/d3912a62d536ae2d6ba849cd8d3250f89a8668ee', 'message': 'NFS plugin\n\nProvides external NFS server as Cinder backend\n.build and *.fp added to .gitignore\n\nChange-Id: Ibb98cf483ce8f45466555b9e1e1a939f85a6f4da\nImplements: blueprint cinder-neutron-plugins-in-fuel\n'}, {'number': 8, 'created': '2015-01-20 13:30:04.000000000', 'files': ['.gitignore', 'external_nfs/tasks.yaml', 'external_nfs/deployment_scripts/puppet/modules/cindernfs/lib/puppet/provider/cinder_config/ini_setting.rb', 'external_nfs/deployment_scripts/puppet/modules/cindernfs/manifests/backend/nfs.pp', 'external_nfs/pre_build_hook', 'external_nfs/repositories/ubuntu/.gitkeep', 'external_nfs/deployment_scripts/puppet/site.pp', 'external_nfs/environment_config.yaml', 'external_nfs/README.md', 'external_nfs/LICENSE', 'external_nfs/deployment_scripts/puppet/modules/cindernfs/lib/puppet/type/cinder_config.rb', 'external_nfs/deployment_scripts/puppet/modules/cindernfs/manifests/volume/nfs.pp', 'external_nfs/deployment_scripts/puppet/modules/cindernfs/manifests/params.pp', 'external_nfs/metadata.yaml', 'external_nfs/repositories/centos/.gitkeep'], 'web_link': 'https://opendev.org/openstack/fuel-plugins/commit/fb6c4bd55f61208be740b27dca79caa26f012af4', 'message': 'NFS plugin\n\nProvides external NFS server as Cinder backend\n.build and *.fp added to .gitignore\n\nChange-Id: Ibb98cf483ce8f45466555b9e1e1a939f85a6f4da\nImplements: blueprint cinder-neutron-plugins-in-fuel\n'}]",4,141402,fb6c4bd55f61208be740b27dca79caa26f012af4,51,10,8,10959,,,0,"NFS plugin

Provides external NFS server as Cinder backend
.build and *.fp added to .gitignore

Change-Id: Ibb98cf483ce8f45466555b9e1e1a939f85a6f4da
Implements: blueprint cinder-neutron-plugins-in-fuel
",git fetch https://review.opendev.org/openstack/fuel-plugins refs/changes/02/141402/3 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'external_nfs/repositories/centos/libevent-1.4.13-4.el6.x86_64.rpm', 'external_nfs/repositories/centos/libgssglue-0.1-11.el6.x86_64.rpm', 'external_nfs/deployment_scripts/puppet/site.pp', 'external_nfs/repositories/centos/nfs-utils-1.2.3-39.el6.x86_64.rpm', 'external_nfs/environment_config.yaml', 'external_nfs/repositories/ubuntu/rpcbind_0.2.0-7ubuntu1.2_amd64.deb', 'external_nfs/metadata.yaml', 'external_nfs/repositories/centos/libtirpc-0.2.1-6.el6_5.2.x86_64.rpm', 'external_nfs/repositories/centos/nfs-utils-lib-1.1.5-6.el6.x86_64.rpm', 'external_nfs/repositories/centos/keyutils-1.4-4.el6.x86_64.rpm', 'external_nfs/tasks.yaml', 'external_nfs/repositories/ubuntu/libgssglue1_0.3-4ubuntu0.1_amd64.deb', 'external_nfs/deployment_scripts/puppet/modules/cindernfs/lib/puppet/provider/cinder_config/ini_setting.rb', 'external_nfs/deployment_scripts/puppet/modules/cindernfs/manifests/backend/nfs.pp', 'external_nfs/pre_build_hook', 'external_nfs/repositories/ubuntu/.gitkeep', 'external_nfs/repositories/ubuntu/libnfsidmap2_0.25-1ubuntu2_amd64.deb', 'external_nfs/repositories/ubuntu/libtirpc1_0.2.2-5_amd64.deb', 'external_nfs/README.md', 'external_nfs/repositories/ubuntu/nfs-common_1.2.5-3ubuntu3.1_amd64.deb', 'external_nfs/LICENSE', 'external_nfs/repositories/centos/rpcbind-0.2.0-11.el6.x86_64.rpm', 'external_nfs/deployment_scripts/puppet/modules/cindernfs/lib/puppet/type/cinder_config.rb', 'external_nfs/deployment_scripts/puppet/modules/cindernfs/manifests/volume/nfs.pp', 'external_nfs/deployment_scripts/puppet/modules/cindernfs/manifests/params.pp', 'external_nfs/repositories/centos/.gitkeep']",27,a794dd393da8ab34f169ccbeb0715af7f144f358,bp/cinder-neutron-plugins-in-fuel,,,455,1
openstack%2Fheat~master~I72b4002c02d07d04a73207dc5af2ff46482e9c45,openstack/heat,master,I72b4002c02d07d04a73207dc5af2ff46482e9c45,Unit test name_list and black_list,MERGED,2015-01-05 05:54:15.000000000,2015-01-22 11:01:07.000000000,2015-01-22 11:01:05.000000000,"[{'_account_id': 3}, {'_account_id': 1633}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 4715}, {'_account_id': 8289}, {'_account_id': 9542}]","[{'number': 1, 'created': '2015-01-05 05:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f33c80539f24385ac50ab81cda83195da67b39ce', 'message': 'Unit test name_list and black_list\n\nPart of blueprint decouple-nested\nChange-Id: I72b4002c02d07d04a73207dc5af2ff46482e9c45\n'}, {'number': 2, 'created': '2015-01-06 13:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/13d96cd300707a102bed47e14b2d06e4aafe79e3', 'message': 'Unit test name_list and black_list\n\nPart of blueprint decouple-nested\nChange-Id: I72b4002c02d07d04a73207dc5af2ff46482e9c45\n'}, {'number': 3, 'created': '2015-01-07 06:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/965fbe2f781fd1fdc4af7c28b7ff25463997db58', 'message': 'Unit test name_list and black_list\n\nPart of blueprint decouple-nested\nChange-Id: I72b4002c02d07d04a73207dc5af2ff46482e9c45\n'}, {'number': 4, 'created': '2015-01-12 13:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e8aec0b4040119973cc05e9bb7826b7fd56bd3b4', 'message': 'Unit test name_list and black_list\n\nPart of blueprint decouple-nested\nChange-Id: I72b4002c02d07d04a73207dc5af2ff46482e9c45\n'}, {'number': 5, 'created': '2015-01-19 13:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8986f8881e8a09f8a2c147b0d87d77092c6d4069', 'message': 'Unit test name_list and black_list\n\nPart of blueprint decouple-nested\nChange-Id: I72b4002c02d07d04a73207dc5af2ff46482e9c45\n'}, {'number': 6, 'created': '2015-01-21 00:09:02.000000000', 'files': ['heat/tests/test_resource_group.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/b1f8e20b7968fc2e33a50d6423c34c456098e79e', 'message': 'Unit test name_list and black_list\n\nPart of blueprint decouple-nested\nChange-Id: I72b4002c02d07d04a73207dc5af2ff46482e9c45\n'}]",0,144927,b1f8e20b7968fc2e33a50d6423c34c456098e79e,30,7,6,4715,,,0,"Unit test name_list and black_list

Part of blueprint decouple-nested
Change-Id: I72b4002c02d07d04a73207dc5af2ff46482e9c45
",git fetch https://review.opendev.org/openstack/heat refs/changes/27/144927/4 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/test_resource_group.py'],1,f33c80539f24385ac50ab81cda83195da67b39ce,bp/decouple-nested,"class ResourceGroupBlackList(common.HeatTestCase): """"""This class tests ResourceGroup._name_blacklist()."""""" # 1) no resource_list, empty blacklist # 2) no resource_list, existing blacklist # 3) resource_list not in nested() # 4) resource_list (refid) not in nested() # 5) resource_list in nested() -> saved # 6) resource_list (refid) in nested() -> saved scenarios = [ ('1', dict(data_in=None, rm_list=[], nested_rsrcs={}, expected=[], saved=False)), ('2', dict(data_in='0,1,2', rm_list=[], nested_rsrcs={}, expected=['0', '1', '2'], saved=False)), ('3', dict(data_in='1,3', rm_list=['6'], nested_rsrcs=['0', '1', '3'], expected=['1', '3'], saved=False)), ('4', dict(data_in='0,1', rm_list=['id-7'], nested_rsrcs=['0', '1', '3'], expected=['0', '1'], saved=False)), ('5', dict(data_in='0,1', rm_list=['3'], nested_rsrcs=['0', '1', '3'], expected=['0', '1', '3'], saved=True)), ('6', dict(data_in='0,1', rm_list=['id-3'], nested_rsrcs=['0', '1', '3'], expected=['0', '1', '3'], saved=True)), ] def test_blacklist(self): stack = utils.parse_stack(template) resg = stack['group1'] # mock properties resg.properties = mock.MagicMock() resg.properties.__getitem__.return_value = [ {'resource_list': self.rm_list}] # mock data get/set resg.data = mock.Mock() resg.data.return_value.get.return_value = self.data_in resg.data_set = mock.Mock() # mock nested access def stack_contains(name): return name in self.nested_rsrcs def by_refid(name): rid = name.replace('id-', '') if rid not in self.nested_rsrcs: return None res = mock.Mock() res.name = rid return res nested = mock.MagicMock() nested.__contains__.side_effect = stack_contains nested.resource_by_refid.side_effect = by_refid resg.nested = mock.Mock(return_value=nested) self.assertEqual(self.expected, resg._name_blacklist()) if self.saved: resg.data_set.assert_called_once_with('name_blacklist', ','.join(self.expected)) class ResourceGroupNameListTest(common.HeatTestCase): """"""This class tests ResourceGroup._resource_names()."""""" # 1) no blacklist, 0 count # 2) no blacklist, x count # 3) blacklist (not effecting) # 4) blacklist with pruning scenarios = [ ('1', dict(blacklist=[], count=0, expected=[])), ('2', dict(blacklist=[], count=4, expected=['0', '1', '2', '3'])), ('3', dict(blacklist=['5', '6'], count=3, expected=['0', '1', '2'])), ('4', dict(blacklist=['2', '4'], count=4, expected=['0', '1', '3', '5'])), ] def test_names(self): stack = utils.parse_stack(template) resg = stack['group1'] resg.properties = mock.MagicMock() resg.properties.get.return_value = self.count resg._name_blacklist = mock.MagicMock(return_value=self.blacklist) self.assertEqual(self.expected, resg._resource_names()) ","import uuidfrom heat.engine import template as templatem def test_update_remove_resource_list_name(self): """"""Test update specifying victims."""""" resg = self._create_dummy_stack() self.assertEqual(2, len(resg.nested())) resource_names = [r.name for r in resg.nested().iter_resources()] self.assertEqual(['0', '1'], sorted(resource_names)) new_snip = copy.deepcopy(resg.t) new_snip['Properties']['count'] = 5 scheduler.TaskRunner(resg.update, new_snip)() self.stack = resg.nested() self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.state) self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.nested().state) self.assertEqual(5, len(resg.nested())) resource_names = [r.name for r in resg.nested().iter_resources()] self.assertEqual(['0', '1', '2', '3', '4'], sorted(resource_names)) # Reduce by three, specifying the middle resources to be removed reduce_snip = copy.deepcopy(resg.t) reduce_snip['Properties']['count'] = 2 reduce_snip['Properties']['removal_policies'] = [{'resource_list': ['1', '2', '3']}] scheduler.TaskRunner(resg.update, reduce_snip)() self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.state) self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.nested().state) self.assertEqual(2, len(resg.nested())) resource_names = [r.name for r in resg.nested().iter_resources()] self.assertEqual(['0', '4'], sorted(resource_names)) # Increase to 3 again leaving the force remove, the indexes are skipped increase_snip = copy.deepcopy(resg.t) increase_snip['Properties']['count'] = 3 scheduler.TaskRunner(resg.update, increase_snip)() self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.state) self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.nested().state) self.assertEqual(3, len(resg.nested())) resource_names = [r.name for r in resg.nested().iter_resources()] self.assertEqual(['0', '4', '5'], sorted(resource_names)) # Increase to 5 clearing the resource_list, the blacklist should be # maintained so no resource names are reused increase_snip2 = copy.deepcopy(resg.t) increase_snip2['Properties']['count'] = 5 del(increase_snip2['Properties']['removal_policies']) scheduler.TaskRunner(resg.update, increase_snip2)() self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.state) self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.nested().state) self.assertEqual(5, len(resg.nested())) resource_names = [r.name for r in resg.nested().iter_resources()] self.assertEqual(['0', '4', '5', '6', '7'], sorted(resource_names)) # Reduce by 3 only passing two resource_list victims, the remaining # removal should be the largest numbered/newest, as normal reduce_snip = copy.deepcopy(resg.t) reduce_snip['Properties']['count'] = 2 reduce_snip['Properties']['removal_policies'] = [{'resource_list': ['4', '5']}] scheduler.TaskRunner(resg.update, reduce_snip)() self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.state) self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.nested().state) self.assertEqual(2, len(resg.nested())) resource_names = [r.name for r in resg.nested().iter_resources()] self.assertEqual(['0', '6'], sorted(resource_names)) def test_update_remove_resource_list_refid(self): """"""Test update specifying victims."""""" resg = self._create_dummy_stack() self.assertEqual(2, len(resg.nested())) resource_names = [r.name for r in resg.nested().iter_resources()] self.assertEqual(['0', '1'], sorted(resource_names)) # Update to remove a specific resource ref without affecting the size # we should remove resource 0 and build a replacement r_id = resg.nested()['0'].FnGetRefId() self.assertIsNotNone(r_id) reduce_snip = copy.deepcopy(resg.t) reduce_snip['Properties']['count'] = 2 reduce_snip['Properties']['removal_policies'] = [ {'resource_list': [r_id]}] scheduler.TaskRunner(resg.update, reduce_snip)() self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.state) self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.nested().state) self.assertEqual(2, len(resg.nested())) resource_names = [r.name for r in resg.nested().iter_resources()] self.assertEqual(['1', '2'], sorted(resource_names)) self.assertIsNone(resg.nested().resource_by_refid(r_id)) # We now should not do anything on subsequent updates reduce_snip = copy.deepcopy(resg.t) del(reduce_snip['Properties']['removal_policies']) scheduler.TaskRunner(resg.update, reduce_snip)() self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.state) self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.nested().state) self.assertEqual(2, len(resg.nested())) resource_names = [r.name for r in resg.nested().iter_resources()] self.assertEqual(['1', '2'], sorted(resource_names)) self.assertIsNone(resg.nested().resource_by_refid(r_id)) def test_update_remove_add_index_replacement(self): """"""Test update removal/add indexes are consistent."""""" resg = self._create_dummy_stack(template_data=template_repl2) self.assertEqual(2, len(resg.nested())) resource_names = [r.name for r in resg.nested().iter_resources()] self.assertEqual(['0', '1'], sorted(resource_names)) new_snip = copy.deepcopy(resg.t) new_snip['Properties']['count'] = 5 scheduler.TaskRunner(resg.update, new_snip)() self.stack = resg.nested() self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.state) self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.nested().state) self.assertEqual(5, len(resg.nested())) resource_names = [r.name for r in resg.nested().iter_resources()] self.assertEqual(['0', '1', '2', '3', '4'], sorted(resource_names)) for r in ['0', '1', '2', '3', '4']: prop_val = 'Bar%s' % r self.assertEqual(prop_val, resg.nested()[r].properties.get('Foo')) # Reduce by three, specifying the middle resources to be removed reduce_snip = copy.deepcopy(resg.t) reduce_snip['Properties']['count'] = 2 reduce_snip['Properties']['removal_policies'] = [{'resource_list': ['1', '2', '3']}] scheduler.TaskRunner(resg.update, reduce_snip)() self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.state) self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.nested().state) self.assertEqual(2, len(resg.nested())) resource_names = [r.name for r in resg.nested().iter_resources()] self.assertEqual(['0', '4'], sorted(resource_names)) self.assertEqual('Bar0', resg.nested()['0'].properties.get('Foo')) self.assertEqual('Bar4', resg.nested()['4'].properties.get('Foo')) # Increase to 3 again leaving the force remove, the indexes are skipped increase_snip = copy.deepcopy(resg.t) increase_snip['Properties']['count'] = 3 scheduler.TaskRunner(resg.update, increase_snip)() self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.state) self.assertEqual((resg.UPDATE, resg.COMPLETE), resg.nested().state) self.assertEqual(3, len(resg.nested())) resource_names = [r.name for r in resg.nested().iter_resources()] self.assertEqual(['0', '4', '5'], sorted(resource_names)) self.assertEqual('Bar0', resg.nested()['0'].properties.get('Foo')) self.assertEqual('Bar4', resg.nested()['4'].properties.get('Foo')) self.assertEqual('Bar5', resg.nested()['5'].properties.get('Foo')) ",99,147
openstack%2Fmurano~master~Ib51d70cdab3cf69fe0db1f1c622dacc4bc986034,openstack/murano,master,Ib51d70cdab3cf69fe0db1f1c622dacc4bc986034,Structure for the environment template,ABANDONED,2015-01-22 10:20:22.000000000,2015-01-22 10:58:40.000000000,,"[{'_account_id': 3}, {'_account_id': 7821}]","[{'number': 1, 'created': '2015-01-22 10:20:22.000000000', 'files': ['murano/db/migration/alembic_migrations/versions/005_template.py', 'murano/tests/functional/api/v1/test_templates.py', 'murano/api/v1/applications.py', 'murano/api/v1/router.py', 'murano/common/utils.py', 'murano/db/services/templates.py', 'murano/utils.py', 'murano/tests/unit/api/v1/test_templates.py', 'murano/api/v1/templates.py', 'murano/db/services/core_services.py', 'murano/db/models.py', 'murano/tests/functional/api/base.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/0f12afd1112bf3a283e35229478de63ad4dad1d0', 'message': 'Structure for the environment template\n\nChange-Id: Ib51d70cdab3cf69fe0db1f1c622dacc4bc986034\n'}]",0,149207,0f12afd1112bf3a283e35229478de63ad4dad1d0,5,2,1,13931,,,0,"Structure for the environment template

Change-Id: Ib51d70cdab3cf69fe0db1f1c622dacc4bc986034
",git fetch https://review.opendev.org/openstack/murano refs/changes/07/149207/1 && git format-patch -1 --stdout FETCH_HEAD,"['murano/db/migration/alembic_migrations/versions/005_template.py', 'murano/tests/functional/api/v1/test_templates.py', 'murano/api/v1/applications.py', 'murano/api/v1/router.py', 'murano/common/utils.py', 'murano/db/services/templates.py', 'murano/utils.py', 'murano/tests/unit/api/v1/test_templates.py', 'murano/api/v1/templates.py', 'murano/db/services/core_services.py', 'murano/db/models.py', 'murano/tests/functional/api/base.py']",12,0f12afd1112bf3a283e35229478de63ad4dad1d0,feature/blueprint-template," def get_templates_list(self): resp, body = self.get('v1/templates') return resp, json.loads(body) def create_templates(self, name): post_body = '{""name"": ""%s""}' % name resp, body = self.post('v1/templates', post_body) return resp, json.loads(body) def delete_templates(self, template_id, timeout=180): def _is_exist(): try: resp, _ = self.get('v1/templates/{0}'.format( template_id)) except exceptions.NotFound: return False return resp.status == 200 temp_deleted = not _is_exist() self.delete('v1/templates/{0}'.format(template_id)) start_time = time.time() while temp_deleted is not True: if timeout and time.time() - start_time > timeout: raise Exception('Template was not deleted') time.sleep(5) temp_deleted = not _is_exist() def update_template(self, template_id): post_body = '{""name"": ""%s""}' % (""changed-template-name"") resp, body = self.put('v1/template/{0}'.format(template_id), post_body) return resp, json.loads(body) def get_template(self, template_id): resp, body = self.get('v1/templates/{0}'.format(template_id)) return resp, json.loads(body) ",,990,2
openstack%2Ffuel-main~master~I823d778e866efe32c38dd659008172b3a878f214,openstack/fuel-main,master,I823d778e866efe32c38dd659008172b3a878f214,Fix heat-engine check in pacemaker config,MERGED,2015-01-20 16:27:14.000000000,2015-01-22 10:57:58.000000000,2015-01-22 10:57:58.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9439}, {'_account_id': 10136}, {'_account_id': 11969}, {'_account_id': 12867}]","[{'number': 1, 'created': '2015-01-20 16:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/2a28640b292454aafed5dab9ab02930c593022bc', 'message': 'Fix heat-engine check in pacemaker config\n\n- Pacemaker has different names for heat on Ubuntu and CentOS:\nopenstack-heat-engine and heat-engine so it should be reflected in\nha_pacemaker_configuration test\n\nChange-Id: I823d778e866efe32c38dd659008172b3a878f214\nCloses-Bug: #1412468\n'}, {'number': 2, 'created': '2015-01-21 10:04:38.000000000', 'files': ['fuelweb_test/tests/tests_strength/test_failover.py', 'fuelweb_test/models/fuel_web_client.py'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/c7a9cd720112bc6959da37814a83960117235c23', 'message': 'Fix heat-engine check in pacemaker config\n\n- Pacemaker has different names for heat on Ubuntu and CentOS:\nopenstack-heat-engine and heat-engine so it should be reflected in\nha_pacemaker_configuration test\n\nChange-Id: I823d778e866efe32c38dd659008172b3a878f214\nCloses-Bug: #1412468\n'}]",0,148619,c7a9cd720112bc6959da37814a83960117235c23,14,8,2,10136,,,0,"Fix heat-engine check in pacemaker config

- Pacemaker has different names for heat on Ubuntu and CentOS:
openstack-heat-engine and heat-engine so it should be reflected in
ha_pacemaker_configuration test

Change-Id: I823d778e866efe32c38dd659008172b3a878f214
Closes-Bug: #1412468
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/19/148619/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/tests_strength/test_failover.py'],1,2a28640b292454aafed5dab9ab02930c593022bc,fixPacemakerConfigCheck," ""Clone Set: clone_p_(heat|openstack-heat)-engine"""," ""Clone Set: clone_p_openstack-heat-engine""",1,1
openstack%2Fmurano-dashboard~master~If4d8e562d4497cae6f4bd047f035ff93d00fcfaf,openstack/murano-dashboard,master,If4d8e562d4497cae6f4bd047f035ff93d00fcfaf,Change application index default sort from 'created' to 'name',MERGED,2014-11-14 21:08:25.000000000,2015-01-22 10:56:15.000000000,2015-01-22 10:56:14.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7549}, {'_account_id': 7821}, {'_account_id': 8040}, {'_account_id': 11098}, {'_account_id': 13149}]","[{'number': 1, 'created': '2014-11-14 21:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/9ac8d32a0e5309cb6738ccf7779572d0b1866907', 'message': ""Change application index default sort from 'created' to 'name'\n\nCurrent API package search will return applications sorted by date\ncreated in ascending order. Users naturally will want to see these\nordered alphabetically by name. Change default 'order_by' to name\nand add query_params so order_by and sort_dir can be set via\nquerystring. Fix reverse sort of packages.\n\nChange-Id: If4d8e562d4497cae6f4bd047f035ff93d00fcfaf\nCloses-Bug: 1391607\n""}, {'number': 2, 'created': '2015-01-16 16:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/561f27a0c925cf828179681e87d605e4a464bf73', 'message': ""Change application index default sort from 'created' to 'name'\n\nCurrent API package search will return applications sorted by date\ncreated in ascending order. Users naturally will want to see these\nordered alphabetically by name. Change default 'order_by' to name\nand add query_params so order_by and sort_dir can be set via\nquerystring. Fix reverse sort of packages.\n\nChange-Id: If4d8e562d4497cae6f4bd047f035ff93d00fcfaf\nCloses-Bug: 1391607\n""}, {'number': 3, 'created': '2015-01-19 15:37:58.000000000', 'files': ['muranodashboard/catalog/views.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/649b531894dd0d0fdaa9960e335f023be67a3564', 'message': ""Change application index default sort from 'created' to 'name'\n\nCurrent API package search will return applications sorted by date\ncreated in ascending order. Users naturally will want to see these\nordered alphabetically by name. Change default 'order_by' to name\nand add query_params so order_by and sort_dir can be set via\nquery string. Fix reverse sort of packages.\n\nChange-Id: If4d8e562d4497cae6f4bd047f035ff93d00fcfaf\nCloses-Bug: 1391607\n""}]",5,134647,649b531894dd0d0fdaa9960e335f023be67a3564,27,8,3,11098,,,0,"Change application index default sort from 'created' to 'name'

Current API package search will return applications sorted by date
created in ascending order. Users naturally will want to see these
ordered alphabetically by name. Change default 'order_by' to name
and add query_params so order_by and sort_dir can be set via
query string. Fix reverse sort of packages.

Change-Id: If4d8e562d4497cae6f4bd047f035ff93d00fcfaf
Closes-Bug: 1391607
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/47/134647/1 && git format-patch -1 --stdout FETCH_HEAD,['muranodashboard/catalog/views.py'],1,9ac8d32a0e5309cb6738ccf7779572d0b1866907,bug/1391607," order_by = self.request.GET.get('order_by') sort_dir = self.request.GET.get('sort_dir') if order_by: query_params['order_by'] = order_by if sort_dir: query_params['sort_dir'] = sort_dir if self.request.GET.get('order_by'): sort_key = query_params['order_by'] else: sort_key = 'name' if self.request.GET.get('sort_dir'): sort_dir = query_params['sort_dir'] else: sort_dir = 'asc' packages.sort(key=lambda x: getattr(x, sort_key), reverse=True)", sort_dir = self.request.GET.get('sort_dir') packages.reverse(),15,4
openstack%2Fmurano-dashboard~master~I55fd5d2ce0456423ca46ffb9845b6ccd2b74fc01,openstack/murano-dashboard,master,I55fd5d2ce0456423ca46ffb9845b6ccd2b74fc01,Fix detail application page view before deployment,MERGED,2015-01-21 15:00:26.000000000,2015-01-22 10:55:21.000000000,2015-01-22 10:55:20.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7821}, {'_account_id': 8443}, {'_account_id': 13149}]","[{'number': 1, 'created': '2015-01-21 15:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/76552a9e05412fae41f05fc5dd370a3241c30112', 'message': 'Fix detail application page view before deployment\n\nApplication detailed page works only if instances are spawned.\nIf application in a draft state, detailed page crashes.\n\nChange-Id: I55fd5d2ce0456423ca46ffb9845b6ccd2b74fc01\nCloses-Bug: #1413215\n'}, {'number': 2, 'created': '2015-01-21 15:56:10.000000000', 'files': ['muranodashboard/tests/functional/sanity_check.py', 'muranodashboard/environments/tabs.py', 'muranodashboard/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/7488f22fbfbc86ee03bfc0e39b44044059745943', 'message': 'Fix detail application page view before deployment\n\nApplication detailed page works only if instances are spawned.\nIf application in a draft state, detailed page crashes.\n\n\nChange-Id: I55fd5d2ce0456423ca46ffb9845b6ccd2b74fc01\nCloses-Bug: #1413215\n'}]",0,148950,7488f22fbfbc86ee03bfc0e39b44044059745943,14,6,2,7549,,,0,"Fix detail application page view before deployment

Application detailed page works only if instances are spawned.
If application in a draft state, detailed page crashes.


Change-Id: I55fd5d2ce0456423ca46ffb9845b6ccd2b74fc01
Closes-Bug: #1413215
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/50/148950/1 && git format-patch -1 --stdout FETCH_HEAD,"['muranodashboard/tests/functional/sanity_check.py', 'muranodashboard/environments/tabs.py', 'muranodashboard/tests/functional/base.py']",3,76552a9e05412fae41f05fc5dd370a3241c30112,bug/1413215," def add_app_to_env(self, app_id, app_name='TestApp'):"," def start_deploy(self, app_id, app_name='TestApp'): self.driver.find_element_by_css_selector( '#services__action_deploy_env').click() ",23,6
openstack%2Ffuel-specs~master~I22503eaac0decf5cffae3193522c7364a9d6b509,openstack/fuel-specs,master,I22503eaac0decf5cffae3193522c7364a9d6b509,Check connectivity and credentials button for vCenter in UI,ABANDONED,2014-12-17 12:00:11.000000000,2015-01-22 10:50:19.000000000,,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8907}, {'_account_id': 8935}, {'_account_id': 9037}, {'_account_id': 11427}, {'_account_id': 12139}, {'_account_id': 12415}, {'_account_id': 13082}]","[{'number': 1, 'created': '2014-12-17 12:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/629266395c0b87253ee4f986170d97e3d4f96594', 'message': 'Check connectivity and credentials button for vCenter in UI\n\nChange-Id: I22503eaac0decf5cffae3193522c7364a9d6b509\nBlueprint: create-vcenter-check-credentials-button\n'}, {'number': 2, 'created': '2014-12-17 12:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/aa5589239b2df1ae6b95b87ce5434e9ead72f846', 'message': 'Check connectivity and credentials button for vCenter in UI\n\nChange-Id: I22503eaac0decf5cffae3193522c7364a9d6b509\nBlueprint: create-vcenter-check-credentials-button\n'}, {'number': 3, 'created': '2014-12-17 13:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/420a9488cab5c1aa2cfbf7f1554395f1065b4b1a', 'message': 'Check connectivity and credentials button for vCenter in UI\n\nChange-Id: I22503eaac0decf5cffae3193522c7364a9d6b509\nBlueprint: create-vcenter-check-credentials-button\n'}, {'number': 4, 'created': '2014-12-19 12:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/834824bcad09dbeae48277bc0e974c1cf1b55c7c', 'message': 'Check connectivity and credentials button for vCenter in UI\n\nChange-Id: I22503eaac0decf5cffae3193522c7364a9d6b509\nBlueprint: create-vcenter-check-credentials-button\n'}, {'number': 5, 'created': '2014-12-19 13:03:20.000000000', 'files': ['doc/source/index.rst', 'specs/6.1/create-vcenter-check-credentials-button.rst'], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/d8b910fd37f98a1555e6bae96b5c45a7c299ce42', 'message': 'Check connectivity and credentials button for vCenter in UI\n\nChange-Id: I22503eaac0decf5cffae3193522c7364a9d6b509\nBlueprint: create-vcenter-check-credentials-button\n'}]",10,142429,d8b910fd37f98a1555e6bae96b5c45a7c299ce42,19,10,5,12139,,,0,"Check connectivity and credentials button for vCenter in UI

Change-Id: I22503eaac0decf5cffae3193522c7364a9d6b509
Blueprint: create-vcenter-check-credentials-button
",git fetch https://review.opendev.org/openstack/fuel-specs refs/changes/29/142429/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/6.1/create-vcenter-check-credentials-button.rst'],1,629266395c0b87253ee4f986170d97e3d4f96594,bp/create-vcenter-check-credentials-button,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================================================== Check connectivity and credentials button for vCenter in UI =========================================================== https://blueprints.launchpad.net/fuel/+spec/create-vcenter-check-credentials-button User must be able to check vCenter settings before starting deployment. Problem description =================== Now users can start deployment with wrong vCenter settings , and deployment has successfully completed. However, the user will receive non-working openstack. It would be right to give the user the opportunity to check vCenter settings before starting deployment. Proposed change =============== Alternatives ------------ Data model impact ----------------- REST API impact --------------- Upgrade impact -------------- Security impact --------------- Notifications impact -------------------- Other end user impact --------------------- Performance Impact ------------------ Other deployer impact --------------------- Developer impact ---------------- Implementation ============== Assignee(s) ----------- Primary assignee: srogov (Stepan Rogov) Other contributors: None Work Items ---------- Dependencies ============ Testing ======= Documentation Impact ==================== The documentation should describe how to use this button. References ========== ",,84,0
openstack%2Ffuel-library~master~Ic315ae25a0aa4e1c5fdc5adcacb96f2f5a9090ae,openstack/fuel-library,master,Ic315ae25a0aa4e1c5fdc5adcacb96f2f5a9090ae,Added new role for vcenter cinder nodes,ABANDONED,2014-12-25 11:36:29.000000000,2015-01-22 10:50:07.000000000,,"[{'_account_id': 3}, {'_account_id': 8935}, {'_account_id': 8971}, {'_account_id': 11427}, {'_account_id': 12139}]","[{'number': 1, 'created': '2014-12-25 11:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/06df39b4080f23454a451bdee60b4ce0bd8a3697', 'message': 'Added new role for vcenter cinder nodes\n\nAdded cinder-vmdk role and it processing\n\nChange-Id: Ic315ae25a0aa4e1c5fdc5adcacb96f2f5a9090ae\nImplements: blueprint cinder-vmdk-role\n'}, {'number': 2, 'created': '2014-12-29 08:57:33.000000000', 'files': ['deployment/puppet/osnailyfacter/manifests/cluster_ha.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_simple.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/78f434e6ad7c3bc8664a5b6bf00006ce1b98e0dd', 'message': 'Added new role for vcenter cinder nodes\n\nAdded cinder-vmdk role and it processing\n\nChange-Id: Ic315ae25a0aa4e1c5fdc5adcacb96f2f5a9090ae\nImplements: blueprint cinder-vmdk-role\n'}]",0,143954,78f434e6ad7c3bc8664a5b6bf00006ce1b98e0dd,16,5,2,12139,,,0,"Added new role for vcenter cinder nodes

Added cinder-vmdk role and it processing

Change-Id: Ic315ae25a0aa4e1c5fdc5adcacb96f2f5a9090ae
Implements: blueprint cinder-vmdk-role
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/54/143954/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/osnailyfacter/manifests/cluster_ha.pp', 'deployment/puppet/osnailyfacter/manifests/cluster_simple.pp']",2,06df39b4080f23454a451bdee60b4ce0bd8a3697,bp/cinder-vmdk-role," ""cinder-vmdk"" : { include keystone::python #FIXME(bogdando) notify services on python-amqp update, if needed package { 'python-amqp': ensure => present } if member($roles, 'controller') or member($roles, 'primary-controller') { $bind_host = '0.0.0.0' } else { $bind_host = false } class { 'openstack::cinder': sql_connection => ""mysql://cinder:${cinder_hash[db_password]}@${controller_node_address}/cinder?charset=utf8&read_timeout=60"", glance_api_servers => ""${controller_node_address}:9292"", queue_provider => $::queue_provider, amqp_hosts => $amqp_hosts, amqp_user => $rabbit_hash['user'], amqp_password => $rabbit_hash['password'], bind_host => $bind_host, volume_group => 'cinder', manage_volumes => $manage_volumes, iser => $storage_hash['iser'], enabled => true, auth_host => $controller_node_address, iscsi_bind_host => $cinder_iscsi_bind_addr, cinder_user_password => $cinder_hash[user_password], syslog_log_facility => $::syslog_log_facility_cinder, debug => $debug, verbose => $verbose, use_syslog => $use_syslog, max_retries => $max_retries, max_pool_size => $max_pool_size, max_overflow => $max_overflow, idle_timeout => $idle_timeout, ceilometer => $ceilometer_hash[enabled], vmware_host_ip => $vcenter_hash['host_ip'], vmware_host_username => $vcenter_hash['vc_user'], vmware_host_password => $vcenter_hash['vc_password'], cinder_default_availability_zone => ""vCenter"", } # FIXME(bogdando) replace service_path and action to systemd, once supported if $::use_monit { monit::process { $cinder_volume_name : ensure => running, matching => '/usr/bin/python /usr/bin/cinder-volume', start_command => ""${service_path} ${cinder_volume_name} restart"", stop_command => ""${service_path} ${cinder_volume_name} stop"", pidfile => false, } } } # CINDER_VMDK END",,107,0
openstack%2Fmagnum~master~I4c59cec368df17410246709d8ce7b8f6df7e47db,openstack/magnum,master,I4c59cec368df17410246709d8ce7b8f6df7e47db,Fixed typos,MERGED,2015-01-21 15:14:47.000000000,2015-01-22 10:45:20.000000000,2015-01-22 10:45:19.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 7049}, {'_account_id': 7494}]","[{'number': 1, 'created': '2015-01-21 15:14:47.000000000', 'files': ['doc/source/dev/dev-quickstart.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/7a531933cc598ae656f3892c05a7dac2dd1ead62', 'message': 'Fixed typos\n\nChange-Id: I4c59cec368df17410246709d8ce7b8f6df7e47db\n'}]",0,148956,7a531933cc598ae656f3892c05a7dac2dd1ead62,17,4,1,2506,,,0,"Fixed typos

Change-Id: I4c59cec368df17410246709d8ce7b8f6df7e47db
",git fetch https://review.opendev.org/openstack/magnum refs/changes/56/148956/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/dev/dev-quickstart.rst'],1,7a531933cc598ae656f3892c05a7dac2dd1ead62,doc-fix,"Magnum uses heat to orchestrate. Heat reports CREATE_COMPLETE when it is done orchestrating. Do not create containers, pods, services, or replication","Magnum uses heat to orchestrate. Heat reports COMPLETE_COMPLETE when it is done orchestrating. Do not create containeers, pods, services, or replication",2,2
openstack%2Fdevstack~master~I2fdca28ae97a215cff5e2a6dd7cab2d3321caa6c,openstack/devstack,master,I2fdca28ae97a215cff5e2a6dd7cab2d3321caa6c,Use openstackclient>=1.0.2,MERGED,2015-01-21 15:09:55.000000000,2015-01-22 10:44:25.000000000,2015-01-22 10:44:23.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2750}, {'_account_id': 6482}, {'_account_id': 6962}, {'_account_id': 7715}, {'_account_id': 8655}, {'_account_id': 8871}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-21 15:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/456828b2e307ccd27d46ac76dece2dceb792b5c7', 'message': 'Use openstackclient>=1.0.2\n\nAfter changing usage of ""openstack role"" [1] python-openstackclient\nstoppped working with 1.0.1 and less. This patch bumps version to use at\nleast 1.0.2v.\n\n[1] https://review.openstack.org/#/c/148361\n\nChange-Id: I2fdca28ae97a215cff5e2a6dd7cab2d3321caa6c\nCloses-bug: bug/1413252\n'}, {'number': 2, 'created': '2015-01-21 15:18:34.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e9a96ea8855574b157d336c51ff876d1c76ae620', 'message': 'Use openstackclient>=1.0.2\n\nAfter changing usage of ""openstack role"" [1] python-openstackclient\nstoppped working with 1.0.1 and less. This patch bumps version to use at\nleast 1.0.2v.\n\n[1] https://review.openstack.org/#/c/148361\n\nChange-Id: I2fdca28ae97a215cff5e2a6dd7cab2d3321caa6c\nCloses-bug: 1413252\n'}]",0,148951,e9a96ea8855574b157d336c51ff876d1c76ae620,23,9,2,8655,,,0,"Use openstackclient>=1.0.2

After changing usage of ""openstack role"" [1] python-openstackclient
stoppped working with 1.0.1 and less. This patch bumps version to use at
least 1.0.2v.

[1] https://review.openstack.org/#/c/148361

Change-Id: I2fdca28ae97a215cff5e2a6dd7cab2d3321caa6c
Closes-bug: 1413252
",git fetch https://review.opendev.org/openstack/devstack refs/changes/51/148951/2 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,456828b2e307ccd27d46ac76dece2dceb792b5c7,bug/1413252, pip_install 'python-openstackclient>=1.0.2', pip_install 'python-openstackclient>=1.0.0',1,1
openstack%2Foslo.db~master~I4ec9b2a310471e4e07867073e9577731ac34027d,openstack/oslo.db,master,I4ec9b2a310471e4e07867073e9577731ac34027d,Update Oslo imports to remove namespace package,MERGED,2015-01-21 23:37:34.000000000,2015-01-22 10:40:42.000000000,2015-01-22 10:40:41.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 7491}]","[{'number': 1, 'created': '2015-01-21 23:37:34.000000000', 'files': ['oslo_db/api.py', 'oslo_db/options.py', 'oslo_db/sqlalchemy/utils.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/tests/test_api.py', 'oslo_db/concurrency.py', 'oslo_db/sqlalchemy/session.py', 'oslo_db/tests/sqlalchemy/test_options.py', 'oslo_db/sqlalchemy/models.py', 'oslo_db/tests/utils.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/c0a43732e8a46c3e7fe4a0328aa3ed61239c0a1f', 'message': 'Update Oslo imports to remove namespace package\n\nChange-Id: I4ec9b2a310471e4e07867073e9577731ac34027d\nBlueprint: drop-namespace-packages\n'}]",0,149083,c0a43732e8a46c3e7fe4a0328aa3ed61239c0a1f,7,3,1,2472,,,0,"Update Oslo imports to remove namespace package

Change-Id: I4ec9b2a310471e4e07867073e9577731ac34027d
Blueprint: drop-namespace-packages
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/83/149083/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/api.py', 'oslo_db/options.py', 'oslo_db/sqlalchemy/utils.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/tests/test_api.py', 'oslo_db/concurrency.py', 'oslo_db/sqlalchemy/session.py', 'oslo_db/sqlalchemy/models.py', 'oslo_db/tests/sqlalchemy/test_options.py', 'oslo_db/tests/utils.py']",10,c0a43732e8a46c3e7fe4a0328aa3ed61239c0a1f,bp/drop-namespace-packages,from oslo_config import cfg,from oslo.config import cfg,12,12
openstack%2Ftelemetry-specs~master~I5c8d6556bbe9b910b5dc1225206b4d1d92157b21,openstack/telemetry-specs,master,I5c8d6556bbe9b910b5dc1225206b4d1d92157b21,Add spec for Cassandra,MERGED,2014-11-07 15:09:23.000000000,2015-01-22 10:35:15.000000000,2015-01-22 10:35:13.000000000,"[{'_account_id': 3}, {'_account_id': 144}, {'_account_id': 2284}, {'_account_id': 3012}, {'_account_id': 4491}, {'_account_id': 6537}, {'_account_id': 7052}, {'_account_id': 7478}, {'_account_id': 9562}, {'_account_id': 10987}, {'_account_id': 13273}]","[{'number': 1, 'created': '2014-11-07 15:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/14f7706311af936665d29bedccc70e57316a5f76', 'message': 'Add spec for Cassandra\n\nChange-Id: I5c8d6556bbe9b910b5dc1225206b4d1d92157b21\n'}, {'number': 2, 'created': '2014-11-10 11:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/160febb0cbb917f25d072d1be80262a9c52905ab', 'message': 'Add spec for Cassandra\n\nChange-Id: I5c8d6556bbe9b910b5dc1225206b4d1d92157b21\n'}, {'number': 3, 'created': '2014-11-10 11:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/d77a9202fb28784bde9542b290fd921774093618', 'message': 'Add spec for Cassandra\n\nChange-Id: I5c8d6556bbe9b910b5dc1225206b4d1d92157b21\n'}, {'number': 4, 'created': '2014-12-14 21:57:15.000000000', 'files': ['specs/kilo/cassandra-driver.rst'], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/614096b90e0c233320f337cd7b5de23c1f79b456', 'message': 'Add spec for Cassandra\n\nChange-Id: I5c8d6556bbe9b910b5dc1225206b4d1d92157b21\n'}]",6,133262,614096b90e0c233320f337cd7b5de23c1f79b456,34,11,4,144,,,0,"Add spec for Cassandra

Change-Id: I5c8d6556bbe9b910b5dc1225206b4d1d92157b21
",git fetch https://review.opendev.org/openstack/telemetry-specs refs/changes/62/133262/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/cassandra-driver.rst'],1,14f7706311af936665d29bedccc70e57316a5f76,cassandra,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Cassandra based storage driver ========================================== https://blueprints.launchpad.net/ceilometer/+spec/cassandra-driver Cassandra is a distributed data-store that is AP in the CAP trade-off. As such it is very well suited to metric storage. This project adds support for storing data in Cassandra, just like we currently support HBase, SQL, MongoDB et al. Problem description =================== Cassandra is well-suited to storing metrics at large scale; by adding support for it Ceilometer should be able to scale to bigger data sizes than is possible with e.g. a DB2 data store. In addition, Cassandra can operate across multiple datacenters, so we may be able to enable geo-replication fault-tolerance. Proposed change =============== This change will create support drivers for samples, events and alarms to Ceilometer that support Cassandra. Alternatives ------------ HBase is a good scalable alternative to Cassandra. HBase is CA, and Cassandra is AP, so they are at different points in the design space. Cassandra is also comparatively easy to configure and maintain compared to other distributed datastore options. I do not expect everyone to use the Cassandra driver, but I expect some people will want to, and we can offer them that option without interfering with the desires of operators that do not configure the Cassandra driver. Data model impact ----------------- The Cassandra driver uses a different data schema on disk, optimized for the unique requirements ('wide rows are better') and the consistency characteristics ('last write wins') of Cassandra. However, the external data model should not change due to the effort. Migration from existing datastores will not be supported. REST API impact --------------- None Security impact --------------- The Cassandra backend should be appropriately protected, just like any other datastore. Pipeline impact --------------- None Other end user impact --------------------- None Performance/Scalability Impacts ------------------------------- Cassandra is believed to be more scalable than some other options, but there should otherwise be no impact. Other deployer impact --------------------- The driver will initially support at least the same options as the HBase driver. A new storage URL schema, 'cassandra' will be added that will enable a cassandra backend, as with all the other drivers. Users must opt-in to this option, so merging it is low-risk. We are adding a dependency on the cassandra-driver for python (Apache 2). I have proposed this to the openstack-requirements project. It would only be required if cassandra backends are enabled. Developer impact ---------------- Another storage driver will require maintenance. Implementation ============== Assignee(s) ----------- Primary assignee: justin-fathomdb Other contributors: None Ongoing maintainer: justin-fathomdb Work Items ---------- Initial implementation has already been submitted in launchpad. Future lifecycle ================ To be maintained by justin-fathomdb. Dependencies ============ None Testing ======= A mock Cassandra implementation has been added, so the unit tests are more like integration tests. If we can persuade Tempest to install Cassandra (which is just a package) then we can get even better testing. Documentation Impact ==================== We should just document the cassandra:// endpoint. It creates its own schemas etc. References ========== Interesting blog post which talks about storing metrics in Cassandra: http://www.datastax.com/dev/blog/metric-collection-and-storage-with-cassandra Cassandra is often abbreviated C* ",,162,0
openstack%2Ffuel-web~stable%2F6.0~Ic7e35d14ff82b70389617738e0c177d53342d4a6,openstack/fuel-web,stable/6.0,Ic7e35d14ff82b70389617738e0c177d53342d4a6,Bump version to 6.0.1,MERGED,2014-12-30 15:02:24.000000000,2015-01-22 10:23:20.000000000,2015-01-22 10:23:20.000000000,"[{'_account_id': 3}, {'_account_id': 8777}, {'_account_id': 8789}, {'_account_id': 8907}, {'_account_id': 8965}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-12-30 15:02:24.000000000', 'files': ['nailgun/nailgun/fixtures/openstack.yaml'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5c4d298bd9a702aafea486a9ea7a013cb64190ff', 'message': 'Bump version to 6.0.1\n\nChange-Id: Ic7e35d14ff82b70389617738e0c177d53342d4a6\n'}]",0,144469,5c4d298bd9a702aafea486a9ea7a013cb64190ff,10,6,1,9977,,,0,"Bump version to 6.0.1

Change-Id: Ic7e35d14ff82b70389617738e0c177d53342d4a6
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/69/144469/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/nailgun/fixtures/openstack.yaml'],1,5c4d298bd9a702aafea486a9ea7a013cb64190ff,update-version," version: ""2014.2-6.0.1"" version: ""2014.2-6.0.1"""," version: ""2014.2-6.0"" version: ""2014.2-6.0""",2,2
openstack%2Fmistral~master~I8d48606a3d3ce2b099db6d884626d3f77380248d,openstack/mistral,master,I8d48606a3d3ce2b099db6d884626d3f77380248d,Concurrency: part 1,MERGED,2015-01-15 15:03:40.000000000,2015-01-22 10:15:07.000000000,2015-01-22 09:59:09.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9432}]","[{'number': 1, 'created': '2015-01-15 15:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c449d16212eb5aa8d43b74557e4471eea04bd601', 'message': 'Concurrency: part 1\n\n * Added concurrency to policies spec\n * Introducing ConcurrencyPolicy: it modifies task runtime context.\n\nPartially implement blueprint mistral-for-each-parallelism\n\nChange-Id: I8d48606a3d3ce2b099db6d884626d3f77380248d\n'}, {'number': 2, 'created': '2015-01-16 10:16:57.000000000', 'files': ['mistral/tests/unit/workbook/v2/test_dsl_specs_v2.py', 'mistral/workbook/v2/task_policies.py', 'mistral/engine1/policies.py', 'mistral/tests/unit/engine1/test_policies.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/f4b7be322b5934433aca5779ed2f9345650dd1c2', 'message': 'Concurrency: part 1\n\n * Added concurrency to policies spec\n * Introducing ConcurrencyPolicy: it modifies task runtime context.\n\nPartially implement blueprint mistral-for-each-parallelism\n\nChange-Id: I8d48606a3d3ce2b099db6d884626d3f77380248d\n'}]",0,147547,f4b7be322b5934433aca5779ed2f9345650dd1c2,13,4,2,7700,,,0,"Concurrency: part 1

 * Added concurrency to policies spec
 * Introducing ConcurrencyPolicy: it modifies task runtime context.

Partially implement blueprint mistral-for-each-parallelism

Change-Id: I8d48606a3d3ce2b099db6d884626d3f77380248d
",git fetch https://review.opendev.org/openstack/mistral refs/changes/47/147547/2 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/workbook/v2/test_dsl_specs_v2.py', 'mistral/workbook/v2/task_policies.py', 'mistral/engine1/policies.py', 'mistral/tests/unit/engine1/test_policies.py']",4,c449d16212eb5aa8d43b74557e4471eea04bd601,bp/mistral-for-each-parallelism,"CONCURRENCY_WB = """""" --- version: '2.0' name: wb workflows: wf1: type: direct tasks: task1: action: std.echo output=""Hi!"" policies: concurrency: 4 """""" def test_concurrency_is_in_runtime_context(self): wb_service.create_workbook_v2(CONCURRENCY_WB) # Start workflow. exec_db = self.engine.start_workflow('wb.wf1', {}) self._await(lambda: self.is_execution_success(exec_db.id)) exec_db = db_api.get_execution(exec_db.id) task_db = self._assert_single_item(exec_db.tasks, name=""task1"") self.assertEqual(states.SUCCESS, task_db.state) runtime_context = task_db.runtime_context self.assertEqual(4, runtime_context['concurrency'])",,69,2
openstack%2Fnova~master~I889efc41babb2c82018122b5f255eb0fca9b452b,openstack/nova,master,I889efc41babb2c82018122b5f255eb0fca9b452b,Provide compatibliity for db.compute_node_statistics,MERGED,2014-12-02 09:36:40.000000000,2015-01-22 10:14:39.000000000,2015-01-22 10:14:36.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 5638}, {'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 7543}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 14131}]","[{'number': 1, 'created': '2014-12-02 09:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6231768fa79107a7951fcf113437c9c0e7a44b2c', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 2, 'created': '2014-12-02 10:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cdbfe854e664b90c5fc85dc37917e333d77dc75f', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 3, 'created': '2014-12-02 15:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8312cb96d87b86200a72562715aabda3d1dec453', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 4, 'created': '2014-12-02 15:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/523d6fba4ed4455bd3e44bfb1df12627e9bd178c', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 5, 'created': '2014-12-03 17:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c492215246728f4ee2d805124efa2d144ec22ea', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 6, 'created': '2014-12-04 08:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/801c097c684bd4b21fbe8f8dc7cd051c781a418a', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 7, 'created': '2014-12-05 09:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46633ec266c2ed39a71f567230fe7a3ac63fa3db', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 8, 'created': '2014-12-08 14:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/288771fe5ff65efd03a24d4bc995eb0fd90f5e74', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 9, 'created': '2014-12-09 14:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31ecbe7e536f455bcc9bda112a1d65abcfedae34', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 10, 'created': '2014-12-10 20:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/461adef068c94b0c8a014b27777f6b12200d74b2', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 11, 'created': '2014-12-12 18:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71691bc58caa2b9443b8aa5b0b3ff979b6bde7da', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 12, 'created': '2014-12-15 14:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00ada87f0ef338a83e4e022c3135cc04a85229e8', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 13, 'created': '2014-12-17 16:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d52593c9fe83bee507377fb309030ccfa03c269b', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 14, 'created': '2014-12-18 10:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05739367bb40a152395fbeb1b12ca645937599ef', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 15, 'created': '2014-12-23 09:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e62bfebcde0db4c6b3fde3e1a66c03720aff88b', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 16, 'created': '2014-12-23 10:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab45e8bfde4c2467fa3eca1119efae9aa3b03790', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 17, 'created': '2014-12-23 14:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab5f2896ba329c3cb12bafc862f1820d3887e77a', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 18, 'created': '2015-01-12 22:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fa8ba8b212460d52e2a7df7a5498b243b45d4af', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 19, 'created': '2015-01-12 23:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31b9eaf30fcc6b19fb88d9547f2f70a629dac767', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 20, 'created': '2015-01-14 11:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d0f0a6081f754dc95acee0df2d1d36ab81942fd', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 21, 'created': '2015-01-14 15:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a53ec0f6e31d8bbf263cc5c833c50121c4d62a4e', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 22, 'created': '2015-01-14 15:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4774d26a80871766835c6d4d0adf11adc36e5e64', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 23, 'created': '2015-01-16 10:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15b52cc8fce3cdae0a4c2595f901c32689248527', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 24, 'created': '2015-01-20 16:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f72627fbb0ee0e39e2b36378595e4462b2141d99', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}, {'number': 25, 'created': '2015-01-21 15:23:09.000000000', 'files': ['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ee22bae4f7e6843f4d000fd91051d755b3e6619a', 'message': ""Provide compatibliity for db.compute_node_statistics\n\nAs some computes are providing the host field and others are not, let's modify\nhow we calculate the statistics by merging both versions.\n\nNote: This change won't impact how the API is getting stastistics as the result\nis not a ComputeNode or a list of ComputeNodes but instead a mix of stats.\n\nPartially-Implements blueprint detach-service-from-computenode\n\nChange-Id: I889efc41babb2c82018122b5f255eb0fca9b452b\n""}]",2,138295,ee22bae4f7e6843f4d000fd91051d755b3e6619a,164,18,25,7166,,,0,"Provide compatibliity for db.compute_node_statistics

As some computes are providing the host field and others are not, let's modify
how we calculate the statistics by merging both versions.

Note: This change won't impact how the API is getting stastistics as the result
is not a ComputeNode or a list of ComputeNodes but instead a mix of stats.

Partially-Implements blueprint detach-service-from-computenode

Change-Id: I889efc41babb2c82018122b5f255eb0fca9b452b
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/138295/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",2,6231768fa79107a7951fcf113437c9c0e7a44b2c,bp/detach-service-from-computenode," # FIXME(sbauza): Provides compatibility with old Juno compute nodes that # are not yet providing the host column. To be removed in a later release # once we are sure that all compute nodes report the host field if hasattr(models.ComputeNode, 'service_id'): _filter = or_(models.Service.host == models.ComputeNode.host, models.Service.id == models.ComputeNode.service_id) else: _filter = (models.Service.host == models.ComputeNode.host) filter(_filter).\", filter( models.Service.id == models.ComputeNode.service_id).\,30,3
